From MAILER-DAEMON Tue Nov 30 22:59:40 2004
Return-Path: 
 <lucene-user-return-11561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13961 invoked from network); 30 Nov 2004 22:59:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Nov 2004 22:59:40 -0000
Received: (qmail 30257 invoked by uid 500); 30 Nov 2004 22:59:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30210 invoked by uid 500); 30 Nov 2004 22:59:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30162 invoked by uid 99); 30 Nov 2004 22:58:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO tango.casebank.com) (209.167.138.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 30 Nov 2004 14:58:58 -0800
Received: from aatamer ([172.17.232.22]) by tango.casebank.com with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Tue, 30 Nov 2004 17:59:26 -0500
From: "Allen Atamer" <aatamer@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: literal search in quotes on non-tokenized field
Date: Tue, 30 Nov 2004 18:01:37 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <FBE614DC-4319-11D9-B17D-000A95BC61B6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTXJtCAo7RdlHO8TVmgtkUrWUuaDwAAYnPg
Message-ID: <TANGOYQGKgfEUrIQiru00004a8f@tango.casebank.com>
X-OriginalArrivalTime: 30 Nov 2004 22:59:26.0531 (UTC)
 FILETIME=[3D9CE130:01C4D730]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,


> -----Original Message-----
> > Here's a log of the parsed query before going to the searcher:
> >
> > Parsed query: (Build:"origi") for the first search
> > Parsed query: (Build:origi) for the second search
> 
> What do you mean by "parsed", since below you say you're not using
> QueryParser/Analyzer.


Sorry, that's residual log text. The lines of code are 

BooleanQuery totalQuery = new BooleanQuery();

.. logic to build totalQuery ...

log.debug("Parsed query: " + totalQuery.toString());
dbSearchHits = searcher.search(totalQuery);


> > Right now we're not using a query parser / analyzer system to build the
> > query. We're building the query up.
> > The query mentioned above is a TermQuery object
> 
> Let me hopefully clarify what you've said.... you've indexed (I'm not
> using quotes on purpose) origi, but you're doing a TermQuery on "origi"
> (with the quotes) and expecting it to match?
> 
> It doesn't work that way.  A TermQuery must match *exactly* what was
> indexed (either directly as a Keyword, or as tokens emitted from the
> analyzer).  Since you're building the query up yourself from, I'm
> assuming, user input, you may need to pre-process what the user entered
> to get the right term to query on.  Only the term origi would match.

Yeah but it doesn't. The exact text in the database is ORIGI. Keyword
doesn't work if you supply more than one word. In fact we're doing it wrong.
Fields with a small number of terms should not be indexed as keyword, but
tokenized. I'm going to change the indexing strategy to only use keyword
when there's one and only one keyword in the data itself. Fields with two to
three words will be tokenized with the NoTokenizingTokenizer that was posted
earlier, and fields with four or more words will be tokenized with
MyTokenizer.

All we need to do for searching keyword fields is remove the double quotes
to be consistent with searching in a tokenized field. Then use QueryParser
to parse the tokenized fields with the appropriate parser for the field.
This should solve the problem.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 00:16:01 2004
Return-Path: 
 <lucene-user-return-11562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49848 invoked from network); 1 Dec 2004 00:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 00:16:01 -0000
Received: (qmail 58022 invoked by uid 500); 1 Dec 2004 00:15:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57988 invoked by uid 500); 1 Dec 2004 00:15:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57972 invoked by uid 99); 1 Dec 2004 00:15:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 30 Nov 2004 16:15:52 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3BA9F13E28F8; Tue, 30 Nov 2004 19:15:48 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id C79E213E28F7
	for <lucene-user@jakarta.apache.org>; Tue, 30 Nov 2004 19:14:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <TANGOYQGKgfEUrIQiru00004a8f@tango.casebank.com>
References: <TANGOYQGKgfEUrIQiru00004a8f@tango.casebank.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FD31B3E8-432D-11D9-8A88-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: literal search in quotes on non-tokenized field
Date: Tue, 30 Nov 2004 19:14:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 30, 2004, at 6:01 PM, Allen Atamer wrote:
>> It doesn't work that way.  A TermQuery must match *exactly* what was
>> indexed (either directly as a Keyword, or as tokens emitted from the
>> analyzer).  Since you're building the query up yourself from, I'm
>> assuming, user input, you may need to pre-process what the user 
>> entered
>> to get the right term to query on.  Only the term origi would match.
>
> Yeah but it doesn't. The exact text in the database is ORIGI.

But you lowercased what you indexed (in the code you sent).

>  Keyword
> doesn't work if you supply more than one word.

Depends on what you mean by "doesn't work".  It works as expected. 
Keyword fields are not tokenized and thus a TermQuery on it has to be 
exactly the value you supplied.  But it sounds like you've got a handle 
on the situation now.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 05:39:02 2004
Return-Path: 
 <lucene-user-return-11563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4923 invoked from network); 1 Dec 2004 05:39:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 05:39:02 -0000
Received: (qmail 43892 invoked by uid 500); 1 Dec 2004 05:38:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43872 invoked by uid 500); 1 Dec 2004 05:38:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43855 invoked by uid 99); 1 Dec 2004 05:38:53 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 30 Nov 2004 21:38:51 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I814E100.N2M for <lucene-user@jakarta.apache.org>; Wed,
          1 Dec 2004 11:24:01 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 11:11:27 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEALCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <22BF7BB8-42DD-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys


Apologies...........



   Is there any API in Lucene Which can retrieve all the searched Values in
single fetch

   into some sort of an 'Array'   WITHOUT using this [ below ] Looping
process [ This would make

   the Search and display more Faster ].

     for (int i = 0; i < hits.length();i++) {
	      Document doc = hits.doc(i);
	      String path  = doc.get("path");
            .....
     }



Thx in Advance
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, November 30, 2004 8:06 PM
To: Lucene Users List
Subject: Re: GETVALUES +SEARCH



On Nov 30, 2004, at 7:10 AM, Karthik N S wrote:
> On Search API the command  [ package
> org.apache.lucene.document.Document ]
>
> Will this    'public final String[] getValues(String name)'     return
> me
> all the docs with out looping  thru ?

getValues(fieldName) returns a String[] of the values of the field.
It's similar to getValue(fieldName).  If you index a field multiple
times:

	doc.add(Field.Keyword("keyword", "one"));
	doc.add(Field.Keyword("keyword", "two"));

getValue("keyword") will return "one", but getValues("keyword") will
return a String[] {"one", "two"}

If you want to retrieve all documents, use IndexReader's various API
methods.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 10:34:15 2004
Return-Path: 
 <lucene-user-return-11564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68076 invoked from network); 1 Dec 2004 10:34:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 10:34:15 -0000
Received: (qmail 44993 invoked by uid 500); 1 Dec 2004 10:33:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44716 invoked by uid 500); 1 Dec 2004 10:33:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44697 invoked by uid 99); 1 Dec 2004 10:33:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 02:33:48 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B6CDC13E28F7; Wed,  1 Dec 2004 05:33:42 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0DE8413E2007
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 05:33:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKIEALCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKIEALCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7472E3D1-4384-11D9-A8F1-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 05:33:35 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 12:41 AM, Karthik N S wrote:
>    Is there any API in Lucene Which can retrieve all the searched 
> Values in
> single fetch
>
>    into some sort of an 'Array'   WITHOUT using this [ below ] Looping
> process [ This would make
>
>    the Search and display more Faster ].
>
>      for (int i = 0; i < hits.length();i++) {
> 	      Document doc = hits.doc(i);
> 	      String path  = doc.get("path");
>             .....
>      }

Are you really showing *all* results at one time?  Or just the first 
several?  Iterating over all hits and retrieving each Document is often 
unwise and generally unnecessary if only the first 20 or so are shown 
at first.

I don't know of a simpler way to get all the "path" values in your 
example.  Perhaps a HitCollector is more to your liking?  Though it 
probably would not speed anything up for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 10:43:17 2004
Return-Path: 
 <lucene-user-return-11565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73149 invoked from network); 1 Dec 2004 10:43:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 10:43:17 -0000
Received: (qmail 67052 invoked by uid 500); 1 Dec 2004 10:43:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67028 invoked by uid 500); 1 Dec 2004 10:43:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67010 invoked by uid 99); 1 Dec 2004 10:43:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of n.maisonneuve@gmail.com
 designates 64.233.184.195 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 02:43:00 -0800
Received: by wproxy.gmail.com with SMTP id 70so2235666wra
        for <lucene-user@jakarta.apache.org>;
 Wed, 01 Dec 2004 02:42:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=szKr/7cghluFXenkm9f7hO6FtARtZ1+FDYRuzpC0jiXkktLitcZXSW3j2Rnz+GFEySvl6DfxJFntMHUk7Zj+a4MimfV9Y/qc1rUBdI36cy79YpcqrVV6shHHpvBx/JGWq1fZ+wcrmVtE4Ho/f5Kf7k9ZFY/WuqHQECp7bhchhNY=
Received: by 10.54.52.42 with SMTP id z42mr605066wrz;
        Wed, 01 Dec 2004 02:42:57 -0800 (PST)
Received: by 10.54.35.25 with HTTP; Wed, 1 Dec 2004 02:42:57 -0800 (PST)
Message-ID: <7b87034104120102424fcc75cf@mail.gmail.com>
Date: Wed, 1 Dec 2004 11:42:57 +0100
From: Nicolas Maisonneuve <n.maisonneuve@gmail.com>
Reply-To: Nicolas Maisonneuve <n.maisonneuve@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: dotLucene (port of Jakarta Lucene to C#)
In-Reply-To: <6311844104937476448@unknownmsgid>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <6311844104937476448@unknownmsgid>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hy george
is the C# lucene faster than java lucene  ?  (because it seems to me
that  C# is faster than java, isn't it  ?)

nicolas maisonneuve



On Sun, 28 Nov 2004 21:08:30 -0500, George Aroush <george@aroush.net> wrote:
> Hi folks,
> 
> I am please to announce the availability of dotLucene 1.4.0 RC1.  dotLucene
> is a complete port of Jakarta Lucene to C#.  The port is almost a
> line-by-line port and it includes the demos as well as all the JUnit tests.
> An index created by dotLucene is cross compatible with Jakarta Lucene and
> via verse.
> 
> Please visit http://sourceforge.net/projects/dotlucene/ to learn more about
> dotLucene and to download the source code.
> 
> Best regards,
> 
> -- George Aroush
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 12:35:01 2004
Return-Path: 
 <lucene-user-return-11566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40771 invoked from network); 1 Dec 2004 12:35:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 12:35:01 -0000
Received: (qmail 5854 invoked by uid 500); 1 Dec 2004 12:34:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5813 invoked by uid 500); 1 Dec 2004 12:34:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5777 invoked by uid 99); 1 Dec 2004 12:34:24 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 01 Dec 2004 04:34:22 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I81NMT00.E5V for <lucene-user@jakarta.apache.org>; Wed,
          1 Dec 2004 18:19:41 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 18:07:08 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <7472E3D1-4384-11D9-A8F1-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
  Erik

Apologies..........


  We create a ArrayList Object and Load all the Hit Values into them and
return
  the same for Display purpose on a Servlet. On the servlet we track the
server side created ArrayList
  for Required number of dispalys.

 [ At any time we have to have all the hit values loaded into the arryList
,cannot compromise for the same ]


  We Obsorved that the doc.get("") was not continous for an hit of 4000 and
was coming
  in batches,


 So any new API features will definetly helps us.


With regards
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, December 01, 2004 4:04 PM
To: Lucene Users List
Subject: Re: GETVALUES +SEARCH


On Dec 1, 2004, at 12:41 AM, Karthik N S wrote:
>    Is there any API in Lucene Which can retrieve all the searched
> Values in
> single fetch
>
>    into some sort of an 'Array'   WITHOUT using this [ below ] Looping
> process [ This would make
>
>    the Search and display more Faster ].
>
>      for (int i = 0; i < hits.length();i++) {
> 	      Document doc = hits.doc(i);
> 	      String path  = doc.get("path");
>             .....
>      }

Are you really showing *all* results at one time?  Or just the first
several?  Iterating over all hits and retrieving each Document is often
unwise and generally unnecessary if only the first 20 or so are shown
at first.

I don't know of a simpler way to get all the "path" values in your
example.  Perhaps a HitCollector is more to your liking?  Though it
probably would not speed anything up for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 12:40:36 2004
Return-Path: 
 <lucene-user-return-11567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44628 invoked from network); 1 Dec 2004 12:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 12:40:36 -0000
Received: (qmail 22090 invoked by uid 500); 1 Dec 2004 12:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22058 invoked by uid 500); 1 Dec 2004 12:40:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22044 invoked by uid 99); 1 Dec 2004 12:40:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 04:40:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EF48A13E28F8; Wed,  1 Dec 2004 07:40:21 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 7C62C13E28F7
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 07:39:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1E496BEE-4396-11D9-BDA9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 07:40:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 1, 2004, at 7:37 AM, Karthik N S wrote:
>   We create a ArrayList Object and Load all the Hit Values into them 
> and
> return
>   the same for Display purpose on a Servlet. On the servlet we track 
> the
> server side created ArrayList
>   for Required number of dispalys.
>
>  [ At any time we have to have all the hit values loaded into the 
> arryList
> ,cannot compromise for the same ]

Be forewarned - you are asking for trouble doing this if you have 
enormous number of hits.  I highly recommend you reconsider your 
approach.

Sure, separation of concerns/tiers is a nice ideal, but pragmatically 
don't let blind adherence to "principles" get in the way of 
performance/scalability.

>   We Obsorved that the doc.get("") was not continous for an hit of 
> 4000 and
> was coming
>   in batches,

I'm not following what you mean.  Not continuous?  Batches?  Now is the 
time for you to show some code of what you're doing.  Succinct, clear, 
examples are best.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 12:44:29 2004
Return-Path: 
 <lucene-user-return-11568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47283 invoked from network); 1 Dec 2004 12:44:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 12:44:29 -0000
Received: (qmail 28948 invoked by uid 500); 1 Dec 2004 12:44:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28916 invoked by uid 500); 1 Dec 2004 12:44:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28900 invoked by uid 99); 1 Dec 2004 12:44:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from sccimhc92.asp.att.net (HELO sccimhc92.asp.att.net)
 (63.240.76.166)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 04:44:18 -0800
Received: from [192.168.17.85] (gatekeeper.herff-jones.com[12.24.233.2])
          by sccimhc92.asp.att.net (sccimhc92) with SMTP
          id <20041201124415i92002nh1ue>
          (Authid: sganyo@insightbb.com);
          Wed, 1 Dec 2004 12:44:15 +0000
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <7b87034104120102424fcc75cf@mail.gmail.com>
References: <6311844104937476448@unknownmsgid>
 <7b87034104120102424fcc75cf@mail.gmail.com>
Content-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-5--956192111;
 protocol="application/pkcs7-signature"
Message-Id: <B7EE489A-4396-11D9-8803-000A95D01A94@ganyo.com>
From: Scott Ganyo <scott@ganyo.com>
Subject: Re: dotLucene (port of Jakarta Lucene to C#)
Date: Wed, 1 Dec 2004 07:44:19 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-5--956192111
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

Why does it seem to you that C# is faster than Java?

In any case, generally the bottleneck isn't the VM.  It's the I/O to 
the disks...

Scott

The reasonable man adapts himself to the world; the unreasonable one 
persists in trying to adapt the world to himself. Therefore all 
progress depends on the unreasonable man. - George Bernard Shaw

On Dec 1, 2004, at 5:42 AM, Nicolas Maisonneuve wrote:

> hy george
> is the C# lucene faster than java lucene  ?  (because it seems to me
> that  C# is faster than java, isn't it  ?)
>
> nicolas maisonneuve
>
>
>
> On Sun, 28 Nov 2004 21:08:30 -0500, George Aroush <george@aroush.net> 
> wrote:
>> Hi folks,
>>
>> I am please to announce the availability of dotLucene 1.4.0 RC1.  
>> dotLucene
>> is a complete port of Jakarta Lucene to C#.  The port is almost a
>> line-by-line port and it includes the demos as well as all the JUnit 
>> tests.
>> An index created by dotLucene is cross compatible with Jakarta Lucene 
>> and
>> via verse.
>>
>> Please visit http://sourceforge.net/projects/dotlucene/ to learn more 
>> about
>> dotLucene and to download the source code.
>>
>> Best regards,
>>
>> -- George Aroush
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

--Apple-Mail-5--956192111
Content-Transfer-Encoding: base64
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Disposition: attachment;
	filename=smime.p7s

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGEjCCAssw
ggI0oAMCAQICAwtKHTANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDMxMjA4MTk0NTI5WhcNMDQxMjA3MTk0NTI5WjBBMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMR4wHAYJKoZIhvcNAQkBFg9zY290dEBnYW55by5jb20w
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC2ptQeyZPoLu2i4pPIHtrUiJ05HhAcXGyf
qMsrhx45ToVW4qrKmBNBfARFOe+PWiYUun8U7wKi3GmVWfxvQ7yqeiUu6DnLWMVGmFgx8xZQiIG2
6aa9to5xGL/SOTo7ET2+cSx7zX7CKiFSMALKrVzCXiAunGFp6ONkpqOCMj3Mk0U8QxFIkN3yuTO+
f7a9VH0tM6SPjyOWnR6SMbtU6WBlfO4JWCKnE2u1zzh6vOiYfjiKRpWYkaZu9BCYHAYHNwAHosT5
JaaY/+hV7QSlxHERz08kQv9V3K6PRIr6Ey68BeZnQbZp6E3ua9DWmlZL9gnbRPDob0kMbNiBJTkW
Zo9fAgMBAAGjLDAqMBoGA1UdEQQTMBGBD3Njb3R0QGdhbnlvLmNvbTAMBgNVHRMBAf8EAjAAMA0G
CSqGSIb3DQEBBAUAA4GBAFEM8YLGdg6q71DscLXqUrklI8I3OQ3KpkWMrPHiAnMH3ZG82xyGMe/v
/pRCT60gaC9xLoRi8AmMeUB8ykcVsgGi5YfrO2k4LbFR52tYk9fg0OU7VtpGZW0ehJuiuPrIupX8
R58ex+L0qZcGQ7c/f1ZyGZiaDNV/iQneGskM8p8wMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0B
AQUFADCB0TELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2Fw
ZSBUb3duMRowGAYDVQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlv
biBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENB
MSswKQYJKoZIhvcNAQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAw
MDAwMFoXDTEzMDcxNjIzNTk1OVowYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25z
dWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1
aW5nIENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/
ox7svc31W/Iadr1/DDph8r9RzgHU5VAKMNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2JCoT
zyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wIDAQABo4GU
MIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybC50aGF3
dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJlZW1haWxDQS5jcmwwCwYDVR0PBAQDAgEGMCkGA1UdEQQi
MCCkHjAcMRowGAYDVQQDExFQcml2YXRlTGFiZWwyLTEzODANBgkqhkiG9w0BAQUFAAOBgQBIjNFQ
g+oLLswNo2asZw9/r6y+whehQ5aUnX9MIbj4Nh+qLZ82L8D0HFAgk3A8/a3hYWLD2ToZfoSxmRsA
xRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowgT2Vfldr394fWxghOrvbqNOUQGls1TXfjViF4gtwhGTXe
JLHTHUb/XV9lTzGCAucwggLjAgEBMGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBD
b25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJ
c3N1aW5nIENBAgMLSh0wCQYFKw4DAhoFAKCCAVMwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAc
BgkqhkiG9w0BCQUxDxcNMDQxMjAxMTI0NDE5WjAjBgkqhkiG9w0BCQQxFgQU3AKHmLuQf+Sp7jiT
4GtIrrsVzqkweAYJKwYBBAGCNxAEMWswaTBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhhd3Rl
IENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWls
IElzc3VpbmcgQ0ECAwtKHTB6BgsqhkiG9w0BCRACCzFroGkwYjELMAkGA1UEBhMCWkExJTAjBgNV
BAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25h
bCBGcmVlbWFpbCBJc3N1aW5nIENBAgMLSh0wDQYJKoZIhvcNAQEBBQAEggEAdeEc1XC98/qbOHh3
4R0xxqnT/g2GRlnYpqpHMe0ZMLfGdbkSrHMtHmo2Tb80cneq7OumtnxgYSNZvQsUQZFuMU6gTqHE
dquP5n69kF0CNaPx6dGXOUCUPnFV1zcIBHRWjwfGiVEbzhfc32AJoG/vp5SPXXm5UFVobyRKdUaH
DkZlfjPJghJlttxafzSCRPxAbkv8LfX40bKmlCaULdtQEkBqD8AFjwFiZrSuG9qrctb0NeLAEheQ
gPoNjBn+YyctG5FE6eHrymNaVJcNDIDKqGKIzI03UMOkUA77e9Yjtv/98pdK/nktIu+bgCbONyZL
vMpPvkqUzGQh1259A5Tj9QAAAAAAAA==

--Apple-Mail-5--956192111--


From MAILER-DAEMON Wed Dec  1 12:45:24 2004
Return-Path: 
 <lucene-user-return-11569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47763 invoked from network); 1 Dec 2004 12:45:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 12:45:24 -0000
Received: (qmail 30448 invoked by uid 500); 1 Dec 2004 12:45:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30427 invoked by uid 500); 1 Dec 2004 12:45:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30414 invoked by uid 99); 1 Dec 2004 12:45:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 04:45:04 -0800
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id iB1Cj21K027452
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 04:45:02 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id iB1CivS1003618
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 04:45:01 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 13:44:54 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 13:37, Karthik N S wrote:

>   We create a ArrayList Object and Load all the Hit Values into them 
> and
> return
>   the same for Display purpose on a Servlet.

Talking of which...

It would be very handy if org.apache.lucene.search.Hits would implement 
the java.util.List interface... in addition, 
org.apache.lucene.document.Document could implement java.util.Map...

That way, the rest of the application could pretend to simply have to 
deal with a List of Maps, without having to get exposed to any Lucene 
internals...

Thought?

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 14:40:36 2004
Return-Path: 
 <lucene-user-return-11570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36789 invoked from network); 1 Dec 2004 14:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 14:40:36 -0000
Received: (qmail 8390 invoked by uid 500); 1 Dec 2004 14:39:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8358 invoked by uid 500); 1 Dec 2004 14:39:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8334 invoked by uid 99); 1 Dec 2004 14:39:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 06:39:38 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CZVdn-0006xq-QZ
	for lucene-user@jakarta.apache.org; Wed, 01 Dec 2004 06:39:36 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
Date: Wed, 1 Dec 2004 09:39:36 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <B7EE489A-4396-11D9-8803-000A95D01A94@ganyo.com>
Thread-Index: AcTXo39iRdtEanOtSHaHpwo0Ki0dkgADW77Q
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I agree with Scott that Lucene is disk bound and I don't expect any drastic
performance different between Java/C# Lucene.

I am currently working on porting 1.4.3 to C# which I expect to have it
completed by next week.  Once I have it done, I will do full performance
comparison.

Speaking of which, does Lucene has a standard performance test code that I
can use as well as data and guidelines?  I am looking for something similar
to JUnit but for performance analyses.

Regards,

-- George Aroush


-----Original Message-----
From: Scott Ganyo [mailto:scott@ganyo.com] 
Sent: Wednesday, December 01, 2004 7:44 AM
To: Lucene Users List
Subject: Re: dotLucene (port of Jakarta Lucene to C#)

Why does it seem to you that C# is faster than Java?

In any case, generally the bottleneck isn't the VM.  It's the I/O to the
disks...

Scott

The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all progress
depends on the unreasonable man. - George Bernard Shaw

On Dec 1, 2004, at 5:42 AM, Nicolas Maisonneuve wrote:

> hy george
> is the C# lucene faster than java lucene  ?  (because it seems to me 
> that  C# is faster than java, isn't it  ?)
>
> nicolas maisonneuve
>
>
>
> On Sun, 28 Nov 2004 21:08:30 -0500, George Aroush <george@aroush.net>
> wrote:
>> Hi folks,
>>
>> I am please to announce the availability of dotLucene 1.4.0 RC1.  
>> dotLucene
>> is a complete port of Jakarta Lucene to C#.  The port is almost a 
>> line-by-line port and it includes the demos as well as all the JUnit 
>> tests.
>> An index created by dotLucene is cross compatible with Jakarta Lucene 
>> and via verse.
>>
>> Please visit http://sourceforge.net/projects/dotlucene/ to learn more 
>> about dotLucene and to download the source code.
>>
>> Best regards,
>>
>> -- George Aroush
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 14:48:44 2004
Return-Path: 
 <lucene-user-return-11571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41646 invoked from network); 1 Dec 2004 14:48:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 14:48:44 -0000
Received: (qmail 31561 invoked by uid 500); 1 Dec 2004 14:47:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31525 invoked by uid 500); 1 Dec 2004 14:47:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31474 invoked by uid 99); 1 Dec 2004 14:47:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu)
 (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 06:47:28 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id B21A41F5325
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 09:47:24 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 11015-03 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 09:47:24 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 6EABD1F530C
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 09:47:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041201143551.3E37123C6E3@spf7.us4.outblaze.com>
References: <20041201143551.3E37123C6E3@spf7.us4.outblaze.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F0CEA9F2-43A7-11D9-A823-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: dotLucene (port of Jakarta Lucene to C#)
Date: Wed, 1 Dec 2004 09:47:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 1, 2004, at 9:39 AM, George Aroush wrote:
> I am currently working on porting 1.4.3 to C# which I expect to have it
> completed by next week.  Once I have it done, I will do full 
> performance
> comparison.

Is the port a completely manual process for you?  Could you describe 
how you do the porting to us?

> Speaking of which, does Lucene has a standard performance test code 
> that I
> can use as well as data and guidelines?  I am looking for something 
> similar
> to JUnit but for performance analyses.

In Lucene in Action (we promise, the e-book and code are being released 
soon - likely this week!!!), Mike Clark donated some performance tests 
to us using JUnitPerf (he's the creator of it).  JUnitPerf is a great 
way to do timed and load tests.  The Java version of Lucene could 
certainly benefit from a suite of performance tests, at least to ensure 
future changes do not adversely affect performance without a good 
reason to do so.

JUnitPerf is almost trivial to use - just a decorator for JUnit tests.

One of these days all of the Lucene ports should come together and come 
up with a compatibility test suite as well as some performance 
benchmarks.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 16:27:12 2004
Return-Path: 
 <lucene-user-return-11572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21219 invoked from network); 1 Dec 2004 16:27:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 16:27:12 -0000
Received: (qmail 6717 invoked by uid 500); 1 Dec 2004 16:27:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6688 invoked by uid 500); 1 Dec 2004 16:27:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6671 invoked by uid 99); 1 Dec 2004 16:27:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 01 Dec 2004 08:27:03 -0800
Received: (qmail 71868 invoked by uid 60001); 1 Dec 2004 16:27:00 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=3k5W+0HqaB9VfM5q7mEc2h5DJtFn3rQRDEM0smG/wSYhM7ESkx6WTuE16ljB0vorxTsb6+KQp+OWbGgSSkI9lMn93OQZPothFSN0b9owifujcR+QiEBOz+BwuCTdVtmk6aDG6JIEj+zlSXb+EJi0w4whwIHz9m6jbKRnmNy8I/0=
  ;
Message-ID: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Wed, 01 Dec 2004 08:27:00 PST
Date: Wed, 1 Dec 2004 08:27:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Document-Map, Hits-List
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is very similar to what I do - I create a List of Maps from Hits
and its Documents.  So I think this change may be handy, if doable (I
didn't look into changing the two Lucene classes, actually).

Otis

--- petite_abeille <petite_abeille@mac.com> wrote:

> 
> On Dec 01, 2004, at 13:37, Karthik N S wrote:
> 
> >   We create a ArrayList Object and Load all the Hit Values into
> them 
> > and
> > return
> >   the same for Display purpose on a Servlet.
> 
> Talking of which...
> 
> It would be very handy if org.apache.lucene.search.Hits would
> implement 
> the java.util.List interface... in addition, 
> org.apache.lucene.document.Document could implement java.util.Map...
> 
> That way, the rest of the application could pretend to simply have to
> 
> deal with a List of Maps, without having to get exposed to any Lucene
> 
> internals...
> 
> Thought?
> 
> Cheers,
> 
> PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 16:32:20 2004
Return-Path: 
 <lucene-user-return-11573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24031 invoked from network); 1 Dec 2004 16:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 16:32:20 -0000
Received: (qmail 20306 invoked by uid 500); 1 Dec 2004 16:32:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20284 invoked by uid 500); 1 Dec 2004 16:32:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20269 invoked by uid 99); 1 Dec 2004 16:32:12 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 08:32:11 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB1GW8J12964
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 10:32:08 -0600 (CST)
Subject: Re: Document-Map, Hits-List
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
References: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
Content-Type: multipart/alternative; boundary="=-TDT0fa4EoxcqLY/nyjc3"
Message-Id: <1101918718.3318.2.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Wed, 01 Dec 2004 10:31:58 -0600
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-TDT0fa4EoxcqLY/nyjc3
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

On Wed, 2004-12-01 at 10:27, Otis Gospodnetic wrote:

> This is very similar to what I do - I create a List of Maps from Hits
> and its Documents.  So I think this change may be handy, if doable (I
> didn't look into changing the two Lucene classes, actually).


How do you avoid the problem Eric just mentioned, iterating through all
the Hits at once to populate this data structure?

I do a similar thing, creating a List of asset references from a field
in each Lucene Document in my Hits list (actual data for display
retrieved from a separate datastore). I was not aware of any performance
problems from doing this, but now I am wondering about the implications.

Thanks,
Luke

--=-TDT0fa4EoxcqLY/nyjc3--


From MAILER-DAEMON Wed Dec  1 16:39:27 2004
Return-Path: 
 <lucene-user-return-11574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28585 invoked from network); 1 Dec 2004 16:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 16:39:27 -0000
Received: (qmail 42240 invoked by uid 500); 1 Dec 2004 16:39:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42207 invoked by uid 500); 1 Dec 2004 16:39:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42192 invoked by uid 99); 1 Dec 2004 16:39:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.84)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 08:39:14 -0800
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iB1GdCYx010549
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 08:39:12 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id iB1Gd85V015171
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 08:39:11 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1101918718.3318.2.camel@localhost>
References: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
 <1101918718.3318.2.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <83E90F21-43B7-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document-Map, Hits-List
Date: Wed, 1 Dec 2004 17:39:05 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 17:31, Luke Francl wrote:

> How do you avoid the problem Eric just mentioned, iterating through all
> the Hits at once to populate this data structure?

You don't need to iterate through anything upfront... you simply do it 
on-demand... eg when invoking List.get() you would invoke the 
underlying Hits.doc()...

In other words, there is _no_ new data structure... simply an 
additional interface...

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 16:42:38 2004
Return-Path: 
 <lucene-user-return-11575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30075 invoked from network); 1 Dec 2004 16:42:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 16:42:38 -0000
Received: (qmail 49188 invoked by uid 500); 1 Dec 2004 16:42:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49151 invoked by uid 500); 1 Dec 2004 16:42:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49094 invoked by uid 99); 1 Dec 2004 16:42:08 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 08:42:06 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB1Gg3J13271
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 10:42:03 -0600 (CST)
Subject: Re: Document-Map, Hits-List
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <83E90F21-43B7-11D9-8222-000393760B7E@mac.com>
References: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
	 <1101918718.3318.2.camel@localhost>
	 <83E90F21-43B7-11D9-8222-000393760B7E@mac.com>
Content-Type: multipart/alternative; boundary="=-LqXmHh1JQqsuNnubSfcb"
Message-Id: <1101919308.3318.4.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Wed, 01 Dec 2004 10:41:49 -0600
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-LqXmHh1JQqsuNnubSfcb
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

On Wed, 2004-12-01 at 10:39, petite_abeille wrote:


> You don't need to iterate through anything upfront... you simply do it 
> on-demand... eg when invoking List.get() you would invoke the 
> underlying Hits.doc()...
> 
> In other words, there is _no_ new data structure... simply an 
> additional interface...


Yes, but Otis hasn't implemented that interface. He's wrapping his Hits
with a List of Maps. 

Luke

--=-LqXmHh1JQqsuNnubSfcb--


From MAILER-DAEMON Wed Dec  1 16:55:21 2004
Return-Path: 
 <lucene-user-return-11576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37717 invoked from network); 1 Dec 2004 16:55:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 16:55:21 -0000
Received: (qmail 80073 invoked by uid 500); 1 Dec 2004 16:54:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79837 invoked by uid 500); 1 Dec 2004 16:54:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79752 invoked by uid 99); 1 Dec 2004 16:54:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of venkatraju@gmail.com
 designates 64.233.184.194 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 08:54:20 -0800
Received: by wproxy.gmail.com with SMTP id 55so831584wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 01 Dec 2004 08:54:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=sHcUNkPNH7PTV4JDYqlWHrEfX/91hrwxeGbtfpsVbL4iKs3FuVawemDDc2o4X+56oXTWCNSjbLcfWsjOQE875ZH400Dr8MsEQ5dro8eNDqrfrU5VX64y6R+nmGEofWx6Yn0sYoaih7YWyRMCHzK8MmvVypcDvH5W/9X18zS1fvM=
Received: by 10.54.28.77 with SMTP id b77mr747736wrb;
        Wed, 01 Dec 2004 08:54:17 -0800 (PST)
Received: by 10.54.8.68 with HTTP; Wed, 1 Dec 2004 08:54:17 -0800 (PST)
Message-ID: <2fe5a4ca0412010854b36603@mail.gmail.com>
Date: Wed, 1 Dec 2004 22:24:17 +0530
From: Venkatraju <venkatraju@gmail.com>
Reply-To: Venkatraju <venkatraju@gmail.com>
To: lucene-user <lucene-user@jakarta.apache.org>
Subject: Proximity in ranking, summary generation
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

This is actually 2 somewhat related questions:
- In regular multi term queries, does the default ranking function of
Lucene take into account proximity of the search terms? As far as I
know, proximity data is used only in phrase searches. Is this correct?
If so, does someone have pointers/sample implementation of how
proximity data can be used to supplement tfidf in ranking documents?

- Is there a way to get the term offset or byte offset of the best
match(es) in the document? I am looking to use this information for
summary generation/highlighting.

Thanks,
Venkat

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:05:21 2004
Return-Path: 
 <lucene-user-return-11577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45923 invoked from network); 1 Dec 2004 17:05:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:05:21 -0000
Received: (qmail 19191 invoked by uid 500); 1 Dec 2004 17:04:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19150 invoked by uid 500); 1 Dec 2004 17:04:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18974 invoked by uid 99); 1 Dec 2004 17:04:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of venkatraju@gmail.com
 designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 09:04:13 -0800
Received: by wproxy.gmail.com with SMTP id 55so832890wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 01 Dec 2004 09:04:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=li9zw9tpSEaZJ6c0++1+8tGPsSj0iSPumYIpAwDbSV0h5Z9mYtdgE+pTraeOvPCCLt6S0bDHVp3oWV5yaDOwROBmmvuFla/JR3aQTUyLW0VpR09D80cIbsmvvBsLUWqVIIS2wcpiUXUMI0hS9eQVWCGLBQsdIGtzZeVr4LYV468=
Received: by 10.54.46.2 with SMTP id t2mr48926wrt;
        Wed, 01 Dec 2004 09:04:06 -0800 (PST)
Received: by 10.54.8.68 with HTTP; Wed, 1 Dec 2004 09:04:06 -0800 (PST)
Message-ID: <2fe5a4ca041201090463c23f18@mail.gmail.com>
Date: Wed, 1 Dec 2004 22:34:06 +0530
From: Venkatraju <venkatraju@gmail.com>
Reply-To: Venkatraju <venkatraju@gmail.com>
To: lucene-user <lucene-user@jakarta.apache.org>
Subject: Impact of stored fields on index size and performance
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have read (or somehow got this notion into my head) that having many
or large stored fields make the index much larger and affect
perforamance. Is this true? I can understand how it increases index
size but where does the performance impact come from? If the stored
field is stored directly in the index somewhere, why does that affect
search performance (searching should still take the same time because
the inverted index is not directly affected in any way)? Retrieving
each hit doc may take longer because the large stored fields must be
transferred from disk.

Thanks in advance,
Venkat

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:05:59 2004
Return-Path: 
 <lucene-user-return-11578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46250 invoked from network); 1 Dec 2004 17:05:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:05:59 -0000
Received: (qmail 21992 invoked by uid 500); 1 Dec 2004 17:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21952 invoked by uid 500); 1 Dec 2004 17:04:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21918 invoked by uid 99); 1 Dec 2004 17:04:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 09:04:47 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id iB1H4f1K014420
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 09:04:41 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id iB1H4bXU012851
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 09:04:41 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1101919308.3318.4.camel@localhost>
References: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
 <1101918718.3318.2.camel@localhost>
 <83E90F21-43B7-11D9-8222-000393760B7E@mac.com>
 <1101919308.3318.4.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <13BCC5F6-43BB-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document-Map, Hits-List
Date: Wed, 1 Dec 2004 18:04:35 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 17:41, Luke Francl wrote:

> Yes, but Otis hasn't implemented that interface. He's wrapping his Hits
> with a List of Maps.

Right... I'm sure that Otis knows what he is doing :)

As far as implementation goes, you have at least 3 options:

- Implement List and Map directly in Lucene's relevant objects (e.g. 
Hits and Document)
- Extend Hits and Document to achieve the same
- Wrap Hits and Document in another class which implements the relevant 
interfaces (e.g HitsList and DocumentMap)

The point of the exercise being to provide a standard interface while 
still benefiting from the underlying Lucene optimizations.

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:06:15 2004
Return-Path: 
 <lucene-user-return-11579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46480 invoked from network); 1 Dec 2004 17:06:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:06:15 -0000
Received: (qmail 25283 invoked by uid 500); 1 Dec 2004 17:05:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25228 invoked by uid 500); 1 Dec 2004 17:05:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25143 invoked by uid 99); 1 Dec 2004 17:05:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 09:05:32 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 6A1031F53B0
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 12:05:01 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09292-07 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 12:05:01 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 242681F5375
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 12:05:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 12:05:11 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 7:44 AM, petite_abeille wrote:
>>   We create a ArrayList Object and Load all the Hit Values into them 
>> and
>> return
>>   the same for Display purpose on a Servlet.
>
> Talking of which...
>
> It would be very handy if org.apache.lucene.search.Hits would 
> implement the java.util.List interface... in addition, 
> org.apache.lucene.document.Document could implement java.util.Map...
>
> That way, the rest of the application could pretend to simply have to 
> deal with a List of Maps, without having to get exposed to any Lucene 
> internals...
>
> Thought?

Having Hits implement List sounds nice, but it could not function by 
itself if the backing IndexSearcher/IndexReader is closed or is not 
accessible.  Wouldn't it be too tempting for naive users to consider 
passing this List around between tiers and forget about the reader?

Having Document implement Map sounds reasonable to me though.  Any 
reasons not to do this?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:11:30 2004
Return-Path: 
 <lucene-user-return-11580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49741 invoked from network); 1 Dec 2004 17:11:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:11:30 -0000
Received: (qmail 45270 invoked by uid 500); 1 Dec 2004 17:11:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45225 invoked by uid 500); 1 Dec 2004 17:11:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45169 invoked by uid 99); 1 Dec 2004 17:11:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu)
 (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 09:10:59 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id F03EA1F5197
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 12:10:54 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 24914-08 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 12:10:54 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id B39CF1F51E7
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 12:10:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1101918718.3318.2.camel@localhost>
References: <20041201162700.71866.qmail@web12702.mail.yahoo.com>
 <1101918718.3318.2.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FBDA71AD-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document-Map, Hits-List
Date: Wed, 1 Dec 2004 12:11:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 11:31 AM, Luke Francl wrote:
> I do a similar thing, creating a List of asset references from a field
> in each Lucene Document in my Hits list (actual data for display
> retrieved from a separate datastore). I was not aware of any 
> performance
> problems from doing this, but now I am wondering about the 
> implications.

The performance "concern" (lets not say "problem") is when you get 
10,000,000 (or so :) results back from a search.  No user wants to see 
all of that, only the first 20, perhaps.  Calling Hits.doc(i) pulls the 
document data from the index and populates a Document instance.  There 
is file I/O involved, and doing lots of unnecessary Hits.doc(i) calls 
may potentially be noticeable.  If you're only getting 100 hits back 
then you'll likely not even notice.  (all numbers quoted here are just 
random figures - don't quote me on actual performance numbers :).

In my current application, I have a paging feature.  Each new page does 
a search again using the same query, but I only iterate through the 20 
that should display on that page and build a highlighted data structure 
to hand to the presentation of only the appropriate ones for the range.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:13:17 2004
Return-Path: 
 <lucene-user-return-11581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51418 invoked from network); 1 Dec 2004 17:13:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:13:17 -0000
Received: (qmail 52037 invoked by uid 500); 1 Dec 2004 17:12:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51985 invoked by uid 500); 1 Dec 2004 17:12:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51942 invoked by uid 99); 1 Dec 2004 17:12:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.47)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 09:12:32 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iB1HCSX3001145
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 09:12:28 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id iB1HCP7D015895
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 09:12:27 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 18:12:22 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 18:05, Erik Hatcher wrote:

> Having Hits implement List sounds nice, but it could not function by 
> itself if the backing IndexSearcher/IndexReader is closed or is not 
> accessible.  Wouldn't it be too tempting for naive users to consider 
> passing this List around between tiers and forget about the reader?

Well... perhaps... in any case you have the same issue with Hits... on 
the other hand "naive users" already iterate through the entire Hits 
simply to get a Collection of values... so I think that on balance it 
would be a change for the better :)

> Having Document implement Map sounds reasonable to me though.  Any 
> reasons not to do this?

Not really, except perhaps that a Lucene Document could theoretically 
have multiple identical keys... not something that anyone would want to 
do though :o)

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 17:53:35 2004
Return-Path: 
 <lucene-user-return-11582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74968 invoked from network); 1 Dec 2004 17:53:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 17:53:35 -0000
Received: (qmail 87558 invoked by uid 500); 1 Dec 2004 17:53:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87499 invoked by uid 500); 1 Dec 2004 17:53:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87433 invoked by uid 99); 1 Dec 2004 17:53:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 01 Dec 2004 09:53:04 -0800
Received: (qmail 71026 invoked by uid 60001); 1 Dec 2004 17:53:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=VcsAaGBBdy5nSfMXvO4592r7klp2xyxJaTQf5JPdNd58EzOqaRh0Fq0pEUikz8TkBdq8FwN/PArYtJUGnldZltQ/Kh47tDW8SquYiXoD7yGF2f2Ag3yhuR0LrqHbo+/J6Ye1Hb32TnIIwth6RGGOgCF/ffIwQjZ3i6Ix3Vl3M0Q=
  ;
Message-ID: <20041201175301.71024.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Wed, 01 Dec 2004 09:53:01 PST
Date: Wed, 1 Dec 2004 09:53:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document-Map, Hits-List
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <FBDA71AD-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> On Dec 1, 2004, at 11:31 AM, Luke Francl wrote:
> > I do a similar thing, creating a List of asset references from a
> field
> > in each Lucene Document in my Hits list (actual data for display
> > retrieved from a separate datastore). I was not aware of any 
> > performance
> > problems from doing this, but now I am wondering about the 
> > implications.
> 
> The performance "concern" (lets not say "problem") is when you get 
> 10,000,000 (or so :) results back from a search.  No user wants to
> see 
> all of that, only the first 20, perhaps.  Calling Hits.doc(i) pulls
> the 
> document data from the index and populates a Document instance. 
> There 
> is file I/O involved, and doing lots of unnecessary Hits.doc(i) calls
> 
> may potentially be noticeable.  If you're only getting 100 hits back 
> then you'll likely not even notice.  (all numbers quoted here are
> just 
> random figures - don't quote me on actual performance numbers :).

Somewhat related and interesting post from Tim Bray:
  http://tbray.org/ongoing/When/200x/2004/11/26/SearchSort

> In my current application, I have a paging feature.  Each new page
> does 
> a search again using the same query, but I only iterate through the
> 20 
> that should display on that page and build a highlighted data
> structure 
> to hand to the presentation of only the appropriate ones for the
> range.

Same here.  I make use of List's subList method a lot.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 18:09:51 2004
Return-Path: 
 <lucene-user-return-11583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86919 invoked from network); 1 Dec 2004 18:09:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 18:09:51 -0000
Received: (qmail 33466 invoked by uid 500); 1 Dec 2004 18:09:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33445 invoked by uid 500); 1 Dec 2004 18:09:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33428 invoked by uid 99); 1 Dec 2004 18:09:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates
 195.2.83.206 as permitted sender)
Received: from mail2.zmail.ru (HELO frontend2.aha.ru) (195.2.83.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 10:09:41 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend2.aha.ru (CommuniGate Pro SMTP 4.2.6)
  with ESMTP id 362263861 for lucene-user@jakarta.apache.org;
 Wed, 01 Dec 2004 21:09:38 +0300
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
Date: Wed, 1 Dec 2004 21:13:27 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
thread-index: AcTXo39iRdtEanOtSHaHpwo0Ki0dkgADW77QAAcuS6A=
In-Reply-To: <auto-000084394309@frontend5.aha.ru>
Message-ID: <auto-000362263861@frontend2.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: George Aroush [mailto:george@aroush.net] 
> 
> I agree with Scott that Lucene is disk bound and I don't 
> expect any drastic performance different between Java/C# Lucene.

In our tests Lucene.Net was faster than jakarta lucene. A little :)
And results for your DotLucene will be the similar. I hope. 

But it was our tests for our data and hardware configurations and by this
reason 
we aren't publishing tests result anywhere.

I think that speed difference between lucene and Net port doesn't matter.
 
> I am currently working on porting 1.4.3 to C# which I expect 
> to have it completed by next week.  Once I have it done, I 
> will do full performance comparison.
 
> Speaking of which, does Lucene has a standard performance 
> test code that I can use as well as data and guidelines?  I 
> am looking for something similar to JUnit but for performance 
> analyses.
 
We use standard samples for the same hardware and data as comparison tests.
IndexFiles and SearchFiles.

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 18:32:13 2004
Return-Path: 
 <lucene-user-return-11584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99935 invoked from network); 1 Dec 2004 18:32:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 18:32:13 -0000
Received: (qmail 96089 invoked by uid 500); 1 Dec 2004 18:32:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95899 invoked by uid 500); 1 Dec 2004 18:32:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95803 invoked by uid 99); 1 Dec 2004 18:31:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 10:31:57 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB1IVkJ16397
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 12:31:50 -0600 (CST)
Subject: Re: GETVALUES +SEARCH
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
	 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
	 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
	 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
Content-Type: text/plain
Message-Id: <1101925894.3318.82.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Wed, 01 Dec 2004 12:31:34 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2004-12-01 at 11:12, petite_abeille wrote:
> Not really, except perhaps that a Lucene Document could theoretically 
> have multiple identical keys... not something that anyone would want to 
> do though :o)

And why not? I use this to store closed captioned text. Each entry must
be stored separately, and they all have the same field name. 

Luke


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 18:34:14 2004
Return-Path: 
 <lucene-user-return-11585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 727 invoked from network); 1 Dec 2004 18:34:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 18:34:14 -0000
Received: (qmail 2253 invoked by uid 500); 1 Dec 2004 18:34:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2226 invoked by uid 500); 1 Dec 2004 18:34:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2211 invoked by uid 99); 1 Dec 2004 18:34:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 10:34:03 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 1564A1C109
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 13:34:01 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28164-01 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 13:34:00 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id BD0AE1C0FA
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 13:34:00 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <2fe5a4ca0412010854b36603@mail.gmail.com>
References: <2fe5a4ca0412010854b36603@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <96B6A4CC-43C7-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Proximity in ranking, summary generation
Date: Wed, 1 Dec 2004 13:34:09 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 1, 2004, at 11:54 AM, Venkatraju wrote:
> This is actually 2 somewhat related questions:
> - In regular multi term queries, does the default ranking function of
> Lucene take into account proximity of the search terms? As far as I
> know, proximity data is used only in phrase searches. Is this correct?

Correct.

> If so, does someone have pointers/sample implementation of how
> proximity data can be used to supplement tfidf in ranking documents?

Have a look at PhraseQuery and how it does its ranking.

> - Is there a way to get the term offset or byte offset of the best
> match(es) in the document? I am looking to use this information for
> summary generation/highlighting.

Term offset (aka position increments) is stored in the index.  However, 
for highlighting you need byte offsets.  The CVS version of Lucene 
includes an option to capture the byte offsets in the index also.  
Prior to this CVS version, it required re-analyzing the text to be 
highlighted.  Token objects contain the byte offsets that the 
Highlighter package uses.

Have a look at the Highlighter code in the Lucene Sandbox.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 19:06:25 2004
Return-Path: 
 <lucene-user-return-11586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21255 invoked from network); 1 Dec 2004 19:06:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 19:06:25 -0000
Received: (qmail 94358 invoked by uid 500); 1 Dec 2004 19:06:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94330 invoked by uid 500); 1 Dec 2004 19:06:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94314 invoked by uid 99); 1 Dec 2004 19:06:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 11:06:12 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id D4ACA1C0E9
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 14:06:10 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 07456-04 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 14:06:10 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 916A11C113
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 14:06:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1101925894.3318.82.camel@localhost>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <1101925894.3318.82.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 14:06:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 1:31 PM, Luke Francl wrote:
> On Wed, 2004-12-01 at 11:12, petite_abeille wrote:
>> Not really, except perhaps that a Lucene Document could theoretically
>> have multiple identical keys... not something that anyone would want 
>> to
>> do though :o)
>
> And why not? I use this to store closed captioned text. Each entry must
> be stored separately, and they all have the same field name.

I also extensively use multiple fields of the same name.  So does this 
rule out implementing the Map interface on Document?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 19:21:47 2004
Return-Path: 
 <lucene-user-return-11587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29746 invoked from network); 1 Dec 2004 19:21:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 19:21:47 -0000
Received: (qmail 29813 invoked by uid 500); 1 Dec 2004 19:21:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29681 invoked by uid 500); 1 Dec 2004 19:21:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29584 invoked by uid 99); 1 Dec 2004 19:21:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.47)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 11:21:25 -0800
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iB1JLNX3016332
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 11:21:23 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id iB1JLJxf013676
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 11:21:22 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <1101925894.3318.82.camel@localhost>
 <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2C0B8EDA-43CE-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 20:21:16 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 20:06, Erik Hatcher wrote:

> I also extensively use multiple fields of the same name.

Odd... on the other hand... perhaps this is "une affaire de gout"...

>  So does this rule out implementing the Map interface on Document?

Why? Nobody mentioned what value such a Map would hold... in the worst 
case scenario it could hold a Collection... or perhaps its not worth 
bothering with such esoterism and simply state that the DocumentMap 
only supports one value per key... after all... the purpose of 
providing standard interface such as List and Map is to simplify 
things... not to make them more cumbersome...

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 19:43:52 2004
Return-Path: 
 <lucene-user-return-11588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41781 invoked from network); 1 Dec 2004 19:43:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 19:43:52 -0000
Received: (qmail 92926 invoked by uid 500); 1 Dec 2004 19:43:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92897 invoked by uid 500); 1 Dec 2004 19:43:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92879 invoked by uid 99); 1 Dec 2004 19:43:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 11:43:38 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 0E4DF1F53C7
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 14:43:35 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28335-07 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 14:43:34 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 8B8AE1F53DD
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 14:43:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <2C0B8EDA-43CE-11D9-8222-000393760B7E@mac.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <1101925894.3318.82.camel@localhost>
 <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
 <2C0B8EDA-43CE-11D9-8222-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4DE04898-43D1-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 14:43:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 2:21 PM, petite_abeille wrote:
> On Dec 01, 2004, at 20:06, Erik Hatcher wrote:
>
>> I also extensively use multiple fields of the same name.
>
> Odd... on the other hand... perhaps this is "une affaire de gout"...

There are some places I use this for convenience, and another where it 
seems the best way to do it.  Here's an example that I'm actively 
working on.  I'm parsing XML files.  There are dates embedded in the 
data and the requirement is for year range queries.  The original data 
looks like this, believe it or not:  "1837-56" or "1846-9", or 
"1824-1911", or simply "1856".  I wrote a routine to extract a String[] 
of years.  In the first example it would be 1837, 1838, 1839... and so 
on.

I index as:
       for (int i=0; i < years.length; i++) {
   		doc.add(Field.Keyword("year", years[i]));
	}

Sure, I could put it all together as a space separated String and use 
the WhitespaceAnalyzer, but why not do it this way?  What other 
suggestions do you have for doing this?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 20:00:29 2004
Return-Path: 
 <lucene-user-return-11589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53291 invoked from network); 1 Dec 2004 20:00:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 20:00:29 -0000
Received: (qmail 39224 invoked by uid 500); 1 Dec 2004 19:59:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39186 invoked by uid 500); 1 Dec 2004 19:59:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39122 invoked by uid 99); 1 Dec 2004 19:59:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.88)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 11:59:35 -0800
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id iB1JxUZ5004489
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 11:59:30 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id iB1JxRmM012204
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 11:59:29 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4DE04898-43D1-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <1101925894.3318.82.camel@localhost>
 <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
 <2C0B8EDA-43CE-11D9-8222-000393760B7E@mac.com>
 <4DE04898-43D1-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7FD83A69-43D3-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 20:59:24 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 20:43, Erik Hatcher wrote:

> Sure, I could put it all together as a space separated String and use  
> the WhitespaceAnalyzer, but why not do it this way?  What other  
> suggestions do you have for doing this?

If this works for you, I don't see any problem with it.

In general, I avoid storing any raw data in a Lucene Document. And only  
uses Lucene for, er, indexing... but this is just me :)

But lets go back to that fabled Map interface for Document... if the  
purpose of such interface is to keep thing simple it could behave just  
like Document.get() [1]:

"Returns the string value of the field with the given name if any exist  
in  this document, or null. If multiple fields exist with this name,  
this method returns the first value added."

If for some reason(s) you need multiple values per field, stick with  
getFields()...

What's wrong with that?

PA.

[1]  
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/ 
Document.html#get(java.lang.String)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 20:15:13 2004
Return-Path: 
 <lucene-user-return-11590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68063 invoked from network); 1 Dec 2004 20:15:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 20:15:13 -0000
Received: (qmail 83993 invoked by uid 500); 1 Dec 2004 20:15:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83968 invoked by uid 500); 1 Dec 2004 20:15:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83951 invoked by uid 99); 1 Dec 2004 20:15:06 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 12:15:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 14E285B81B; Wed,  1 Dec 2004 12:14:59 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1247C7F45C
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 12:14:59 -0800 (PST)
Date: Wed, 1 Dec 2004 12:14:59 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: GETVALUES +SEARCH
In-Reply-To: <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
Message-ID: <Pine.LNX.4.58.0412011201550.12175@hal.rescomp.berkeley.edu>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: > Having Document implement Map sounds reasonable to me though.  Any
: > reasons not to do this?
:
: Not really, except perhaps that a Lucene Document could theoretically
: have multiple identical keys... not something that anyone would want to

Assuming you want all changes to be backwards compatible, you pretty much
have to impliment Map.get(Object):Object usig Document.get(String):String
... otherwise you'll wind up really confusing the hell out of people.  But
If you really wanted to be mean to people, I guess you could use
Document.getField(String):Field or even
Document.getValues(String):String[] or Document.getFields(String):Fields[]
if you were feeling particularly mean.

The real question in my mind is not "how should we impliment 'get' given
that we allow multiple values?", a better question is "how should we
impliment 'put'?"

do you write...
       Object put(Object k, Object v) {
           this.add((Field)v);
           return null;
       }
or...
       Object put(String k, String v) {
           this.add(Field.Text(k.toString(),v.toString()));
           return null;
       }
or...
       Object put(String k, String v) {
	   throw new UnsupportedOperationException("we're not that nice");
       }


...i think it may be wiser to just let clinets wrap the Doc in their own
Map, using the rules that make sense to them -- becuase no ones ever going
to agree 100%.

If you think you know how to satisfy 90% of the users, i would still
suggest that instead of making Codument impliment Map, instead add
a "toMap()" functin that returns a wrapper with the rules that you think
make sense.  (and leave the Document API uncluttered of the Map functions
that people who don't care about Map don't need to see)

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 20:33:13 2004
Return-Path: 
 <lucene-user-return-11591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91642 invoked from network); 1 Dec 2004 20:33:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 20:33:13 -0000
Received: (qmail 26503 invoked by uid 500); 1 Dec 2004 20:33:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26486 invoked by uid 500); 1 Dec 2004 20:33:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26471 invoked by uid 99); 1 Dec 2004 20:33:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.83)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 12:33:00 -0800
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iB1KWwwI002771
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 12:32:58 -0800 (PST)
Received: from [10.0.1.51] (adsl-62-167-46-254.adslplus.ch [62.167.46.254])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id iB1KWskR008549
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 1 Dec 2004 12:32:57 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0412011201550.12175@hal.rescomp.berkeley.edu>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <Pine.LNX.4.58.0412011201550.12175@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2CE32E2D-43D8-11D9-8222-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 21:32:52 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 01, 2004, at 21:14, Chris Hostetter wrote:

> The real question in my mind is not "how should we impliment 'get' 
> given
> that we allow multiple values?", a better question is "how should we
> impliment 'put'?"

Yes, retrofitting Document.add() in the Map interface would be a pain. 
But this is not really what I was getting at. This is more about Hits 
and accessing its values. One problem at the time :)

> If you think you know how to satisfy 90% of the users, i would still
> suggest that instead of making Codument impliment Map, instead add
> a "toMap()" functin that returns a wrapper with the rules that you 
> think
> make sense.  (and leave the Document API uncluttered of the Map 
> functions
> that people who don't care about Map don't need to see)

Agree. Document is fine as it is. It would be nice though to have a 
more or less standard interface to access the result set (e.g. 
Collection)... as consumers of Hits are more likely to be build in 
terms of the Collection API than anything specific to Lucene...

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  1 20:44:53 2004
Return-Path: 
 <lucene-user-return-11592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97101 invoked from network); 1 Dec 2004 20:44:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 20:44:53 -0000
Received: (qmail 54435 invoked by uid 500); 1 Dec 2004 20:44:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54411 invoked by uid 500); 1 Dec 2004 20:44:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54396 invoked by uid 99); 1 Dec 2004 20:44:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server2.pro-traffic2.de (HELO server2.pro-traffic2.de)
 (217.195.47.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 12:44:45 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by server2.pro-traffic2.de (Postfix) with ESMTP id 9B2F32D013D
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 21:42:55 +0100 (CET)
Received: from server2.pro-traffic2.de ([127.0.0.1])
	by localhost (server2 [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 08854-09 for <lucene-user@jakarta.apache.org>;
	Wed, 1 Dec 2004 21:42:55 +0100 (CET)
Received: from goliath (dsl-082-082-249-011.arcor-ip.net [82.82.249.11])
	by server2.pro-traffic2.de (Postfix) with ESMTP id E6BD32D008E
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 21:42:54 +0100 (CET)
Message-ID: <00e501c4d7e6$7b0d84f0$0100a8c0@goliath>
From: "DES" <mail@2des.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: SGML Indexing
Date: Wed, 1 Dec 2004 21:43:57 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00E2_01C4D7EE.DC6B62F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at
 server2.pro-traffic2.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00E2_01C4D7EE.DC6B62F0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

Hi

i've got to index some SGML documents and need help or some expiriences =
with it.
Documents contain a number of different articles with the same structure =
(TITLE, AUTHOR, DATA etc.), but i need to index each article as a =
different document in my lucene index. Is there some reader for SGML? I =
can create different documents, but how can i relate this =
index-documents to my articles within SGML files?

thanks for help

des
------=_NextPart_000_00E2_01C4D7EE.DC6B62F0--


From MAILER-DAEMON Wed Dec  1 20:55:13 2004
Return-Path: 
 <lucene-user-return-11593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3152 invoked from network); 1 Dec 2004 20:55:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Dec 2004 20:55:13 -0000
Received: (qmail 81635 invoked by uid 500); 1 Dec 2004 20:55:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81460 invoked by uid 500); 1 Dec 2004 20:55:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81441 invoked by uid 99); 1 Dec 2004 20:55:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu)
 (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 01 Dec 2004 12:55:05 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id B63B91F52D1
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 15:55:02 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 08812-03 for <lucene-user@jakarta.apache.org>;
 Wed,  1 Dec 2004 15:55:02 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 707101F5262
	for <lucene-user@jakarta.apache.org>; Wed,  1 Dec 2004 15:55:02 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <7FD83A69-43D3-11D9-8222-000393760B7E@mac.com>
References: <OBELINLGKPEMCIEIJJNKKEAMCAAA.karthik@controlnet.co.in>
 <CD1CFE8C-4396-11D9-B9FF-000393760B7E@mac.com>
 <2905E5AF-43BB-11D9-A823-000A95BC61B6@ehatchersolutions.com>
 <2A1573C8-43BC-11D9-8222-000393760B7E@mac.com>
 <1101925894.3318.82.camel@localhost>
 <14C051FE-43CC-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
 <2C0B8EDA-43CE-11D9-8222-000393760B7E@mac.com>
 <4DE04898-43D1-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
 <7FD83A69-43D3-11D9-8222-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <490E16A2-43DB-11D9-AEA4-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: GETVALUES +SEARCH
Date: Wed, 1 Dec 2004 15:55:08 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 2:59 PM, petite_abeille wrote:
> On Dec 01, 2004, at 20:43, Erik Hatcher wrote:
>
>> Sure, I could put it all together as a space separated String and use 
>> the WhitespaceAnalyzer, but why not do it this way?  What other 
>> suggestions do you have for doing this?
>
> If this works for you, I don't see any problem with it.
>
> In general, I avoid storing any raw data in a Lucene Document. And 
> only uses Lucene for, er, indexing... but this is just me :)

Getting further off-topic, but to clarify:

Sounds like you're suggesting I'm storing raw data.  I'm not.  I have 
to be able to do queries like: "someWord AND year:[1837 TO 1856]".  So 
the year is being indexed, I just happen to do it with a doc.add() for 
each year.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 07:11:18 2004
Return-Path: 
 <lucene-user-return-11594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85444 invoked from network); 2 Dec 2004 07:11:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 07:11:18 -0000
Received: (qmail 78383 invoked by uid 500); 2 Dec 2004 07:11:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78362 invoked by uid 500); 2 Dec 2004 07:11:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78341 invoked by uid 99); 2 Dec 2004 07:11:03 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 01 Dec 2004 23:11:02 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I833BZ00.EAI for <lucene-user@jakarta.apache.org>; Thu,
          2 Dec 2004 12:56:23 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: UNIQUE FIELD NAMES + SEARCH
Date: Thu, 2 Dec 2004 12:43:50 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEBBCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys'
Apologies........



I  My Index, I have a Filed Type KeyWord  ' FILE_NAME ' , It Captures UNIQUE
FOLDER NAME'S  [ Starts with  B1,B2,B3..... ]  During Indexing Process.

Please Can SomeBody Tell me How to Display  ALL the FOLDER NAMES  from the
Field  'FILE_NAME'  With out any Search Word


[ Can I use  'B* '  for Search Exclusively on the Field Type ]



Thx in Advance






      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 10:53:54 2004
Return-Path: 
 <lucene-user-return-11595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32267 invoked from network); 2 Dec 2004 10:53:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 10:53:54 -0000
Received: (qmail 5275 invoked by uid 500); 2 Dec 2004 10:52:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5186 invoked by uid 500); 2 Dec 2004 10:52:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5153 invoked by uid 99); 2 Dec 2004 10:52:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 02:52:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0FA4013E200B; Thu,  2 Dec 2004 05:52:46 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id B7E1213E2009
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 05:52:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEBBCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEBBCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <45710548-4450-11D9-9221-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: UNIQUE FIELD NAMES + SEARCH
Date: Thu, 2 Dec 2004 05:52:33 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 2, 2004, at 2:13 AM, Karthik N S wrote:
> I  My Index, I have a Filed Type KeyWord  ' FILE_NAME ' , It Captures 
> UNIQUE
> FOLDER NAME'S  [ Starts with  B1,B2,B3..... ]  During Indexing Process.
>
> Please Can SomeBody Tell me How to Display  ALL the FOLDER NAMES  from 
> the
> Field  'FILE_NAME'  With out any Search Word

I guess if you keep asking, someone will eventually answer :)

Here's an example I use to get all categories from the Lucene index 
that drives my blog at http://www.blogscene.org/erik

         Set categories = new TreeSet();

         IndexReader reader = IndexReader.open(indexDir);
         try {
             TermEnum terms = reader.terms(new Term("category", ""));
             while ("category".equals(terms.term().field())) {
                 categories.add(terms.term().text());

                 if (!terms.next()) {
                     break;
                 }
             }
         } finally {
             reader.close();
         }

IndexReader is enumerating all the terms in the "category" field 
(you'll use your filename field name instead).

> [ Can I use  'B* '  for Search Exclusively on the Field Type ]

Sure, but that would require that you walk every document returned from 
the search and pull its filename field.  This would be vastly slower 
than the above code that goes directly to the terms.

My apologies for not replying sooner on this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 10:59:55 2004
Return-Path: 
 <lucene-user-return-11596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35960 invoked from network); 2 Dec 2004 10:59:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 10:59:55 -0000
Received: (qmail 16502 invoked by uid 500); 2 Dec 2004 10:59:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16482 invoked by uid 500); 2 Dec 2004 10:59:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16469 invoked by uid 99); 2 Dec 2004 10:59:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 02:59:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B827F13E200B; Thu,  2 Dec 2004 05:59:41 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id F0C0913E2009
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 05:59:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <00e501c4d7e6$7b0d84f0$0100a8c0@goliath>
References: <00e501c4d7e6$7b0d84f0$0100a8c0@goliath>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <40AC4EDA-4451-11D9-9221-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SGML Indexing
Date: Thu, 2 Dec 2004 05:59:35 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 1, 2004, at 3:43 PM, DES wrote:
> i've got to index some SGML documents and need help or some 
> expiriences with it.
> Documents contain a number of different articles with the same 
> structure (TITLE, AUTHOR, DATA etc.), but i need to index each article 
> as a different document in my lucene index. Is there some reader for 
> SGML? I can create different documents, but how can i relate this 
> index-documents to my articles within SGML files?

I don't have SGML parsing experience, so I can't help with that detail. 
  However, I'm doing something quite similar in my current project (once 
it goes live I'll send pointers to it).  I've got a directory of XML 
files.  Each of these XML files has sections.  These sections are what 
the user wants to search on, so each one of those corresponds to a 
Lucene Document.  There are a lot more "documents" indexed than there 
are XML files.  These sections have a unique identifier.  I store the 
filename and section identifier with each document, allowing me to link 
back to the original precisely.

You'll need to identify the unique values in your data that allow you 
to relate back to the original files - perhaps using filename as one 
stored field.  When storing filenames, be sure to account for the 
situation where the original source moves location - I store relative 
paths from a base directory, so that the base directory can move 
without having to re-index to stay in sync.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 11:44:04 2004
Return-Path: 
 <lucene-user-return-11597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66163 invoked from network); 2 Dec 2004 11:44:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 11:44:04 -0000
Received: (qmail 1759 invoked by uid 500); 2 Dec 2004 11:43:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1742 invoked by uid 500); 2 Dec 2004 11:43:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1717 invoked by uid 99); 2 Dec 2004 11:43:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.interware.hu (HELO mail.interware.hu) (195.70.32.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 03:43:46 -0800
Received: from czinkos.fixdial.interware.hu ([195.70.34.31]
 helo=sakjamuni.czinkos.hu)
	by mail.interware.hu with esmtp (Exim 4.34 #1 (Debian))
	id 1CZpN8-0004xY-UJ
	for <lucene-user@jakarta.apache.org>; Thu, 02 Dec 2004 12:43:43 +0100
Received: from sakjamuni.czinkos.hu (sakjamuni.czinkos.hu [127.0.0.1])
	by sakjamuni.czinkos.hu (8.13.1/8.13.1) with ESMTP id iB2BhWBx000892
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 12:43:32 +0100
Received: (from czinkos@localhost)
	by sakjamuni.czinkos.hu (8.13.1/8.13.1/Submit) id iB2BhWwJ000891
	for lucene-user@jakarta.apache.org; Thu, 2 Dec 2004 12:43:32 +0100
Date: Thu, 2 Dec 2004 12:43:32 +0100
From: Zsolt Czinkos <czinkos@interware.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SGML Indexing
Message-ID: <20041202114332.GA808@interware.hu>
References: <00e501c4d7e6$7b0d84f0$0100a8c0@goliath>
 <40AC4EDA-4451-11D9-9221-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <40AC4EDA-4451-11D9-9221-000393A564E6@ehatchersolutions.com>
User-Agent: Mutt/1.4.1i
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

We transformed our SGML documents to XML with sgml2xml (part of
fedora/redhat linux distribution) and processed XML not SGML. We also
use a very very very simple "SAX-like SGML parser" (suitable for our SGML
documents; not a general purpose SGML parser) to extract data from SGML. 
But we use XML for indexing.

Best,

czinkos

On Thu, Dec 02, 2004 at 05:59:35AM -0500, Erik Hatcher wrote:
> On Dec 1, 2004, at 3:43 PM, DES wrote:
> >i've got to index some SGML documents and need help or some 
> >expiriences with it.
> >Documents contain a number of different articles with the same 
> >structure (TITLE, AUTHOR, DATA etc.), but i need to index each article 
> >as a different document in my lucene index. Is there some reader for 
> >SGML? I can create different documents, but how can i relate this 
> >index-documents to my articles within SGML files?
> 
> I don't have SGML parsing experience, so I can't help with that detail. 
>  However, I'm doing something quite similar in my current project (once 
> it goes live I'll send pointers to it).  I've got a directory of XML 
> files.  Each of these XML files has sections.  These sections are what 
> the user wants to search on, so each one of those corresponds to a 
> Lucene Document.  There are a lot more "documents" indexed than there 
> are XML files.  These sections have a unique identifier.  I store the 
> filename and section identifier with each document, allowing me to link 
> back to the original precisely.
> 
> You'll need to identify the unique values in your data that allow you 
> to relate back to the original files - perhaps using filename as one 
> stored field.  When storing filenames, be sure to account for the 
> situation where the original source moves location - I store relative 
> paths from a base directory, so that the base directory can move 
> without having to re-index to stay in sync.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 12:03:58 2004
Return-Path: 
 <lucene-user-return-11598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76023 invoked from network); 2 Dec 2004 12:03:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 12:03:58 -0000
Received: (qmail 42199 invoked by uid 500); 2 Dec 2004 12:03:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42168 invoked by uid 500); 2 Dec 2004 12:03:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42153 invoked by uid 99); 2 Dec 2004 12:03:48 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 02 Dec 2004 04:03:47 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I83GW000.3CD for <lucene-user@jakarta.apache.org>; Thu,
          2 Dec 2004 17:49:12 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: UNIQUE FIELD NAMES + SEARCH
Date: Thu, 2 Dec 2004 17:36:39 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEBDCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <45710548-4450-11D9-9221-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Erik


Apologies...


 Thx That src worked perfectly.

 Wow that really overcame a huge boulder for me.

 .......... :|

with regards
Karthik 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 02, 2004 4:23 PM
To: Lucene Users List
Subject: Re: UNIQUE FIELD NAMES + SEARCH


On Dec 2, 2004, at 2:13 AM, Karthik N S wrote:
> I  My Index, I have a Filed Type KeyWord  ' FILE_NAME ' , It Captures 
> UNIQUE
> FOLDER NAME'S  [ Starts with  B1,B2,B3..... ]  During Indexing Process.
>
> Please Can SomeBody Tell me How to Display  ALL the FOLDER NAMES  from 
> the
> Field  'FILE_NAME'  With out any Search Word

I guess if you keep asking, someone will eventually answer :)

Here's an example I use to get all categories from the Lucene index 
that drives my blog at http://www.blogscene.org/erik

         Set categories = new TreeSet();

         IndexReader reader = IndexReader.open(indexDir);
         try {
             TermEnum terms = reader.terms(new Term("category", ""));
             while ("category".equals(terms.term().field())) {
                 categories.add(terms.term().text());

                 if (!terms.next()) {
                     break;
                 }
             }
         } finally {
             reader.close();
         }

IndexReader is enumerating all the terms in the "category" field 
(you'll use your filename field name instead).

> [ Can I use  'B* '  for Search Exclusively on the Field Type ]

Sure, but that would require that you walk every document returned from 
the search and pull its filename field.  This would be vastly slower 
than the above code that goes directly to the terms.

My apologies for not replying sooner on this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 12:37:29 2004
Return-Path: 
 <lucene-user-return-11599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98312 invoked from network); 2 Dec 2004 12:37:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 12:37:29 -0000
Received: (qmail 14307 invoked by uid 500); 2 Dec 2004 12:36:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14273 invoked by uid 500); 2 Dec 2004 12:36:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14244 invoked by uid 99); 2 Dec 2004 12:36:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 04:36:48 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 3E2B5C99FB
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 13:36:41 +0100 (CET)
Message-ID: <41AF0C59.6030606@fib.upc.edu>
Date: Thu, 02 Dec 2004 13:36:41 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: types of formats who support Lucene?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi I''m newer in this mail list and what you can see my English is very 
terrible.
I 'm having a study to select the best technology  for a motor serching 
of an application web with a ratio of 1000 users/day.
I  read a little bit of Lucene what I don't know what file types support 
the search.
If you can reply my or say me a page that tells this I regret you.
Thanks of a "novatillo"


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 13:30:51 2004
Return-Path: 
 <lucene-user-return-11600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31967 invoked from network); 2 Dec 2004 13:30:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 13:30:51 -0000
Received: (qmail 42493 invoked by uid 500); 2 Dec 2004 13:29:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42473 invoked by uid 500); 2 Dec 2004 13:29:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42440 invoked by uid 99); 2 Dec 2004 13:29:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 05:29:43 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 690851C101
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 08:29:40 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12707-06 for <lucene-user@jakarta.apache.org>;
 Thu,  2 Dec 2004 08:29:40 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 23DC51BF80
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 08:29:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41AF0C59.6030606@fib.upc.edu>
References: <41AF0C59.6030606@fib.upc.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4117FD00-4466-11D9-A415-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: types of formats who support Lucene?
Date: Thu, 2 Dec 2004 08:29:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene itself indexes java.lang.String or java.io.Reader data.  It is 
completely up to your application to parse the data out of whatever 
source it is in and hand it to Lucene.  There are a number of 
open-source libraries that make parsing XML, MS Word, Excel, HTML, and 
other formats trivial.  If you search the e-mail list archives you'll 
find pointers to tons of options.

	Erik



On Dec 2, 2004, at 7:36 AM, Daniel Cortes wrote:

> Hi I''m newer in this mail list and what you can see my English is 
> very terrible.
> I 'm having a study to select the best technology  for a motor 
> serching of an application web with a ratio of 1000 users/day.
> I  read a little bit of Lucene what I don't know what file types 
> support the search.
> If you can reply my or say me a page that tells this I regret you.
> Thanks of a "novatillo"
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 16:44:24 2004
Return-Path: 
 <lucene-user-return-11601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90159 invoked from network); 2 Dec 2004 16:44:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 16:44:24 -0000
Received: (qmail 22052 invoked by uid 500); 2 Dec 2004 16:44:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22028 invoked by uid 500); 2 Dec 2004 16:44:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22012 invoked by uid 99); 2 Dec 2004 16:44:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.hauk-sasko.de (HELO ns1.hauk-sasko-backup.de)
 (62.159.88.170)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 08:44:14 -0800
Received: (from mail@localhost)
	by ns1.hauk-sasko-backup.de (8.9.3/8.9.3) id RAA13749
	for lucene-user@jakarta.apache.org.KAV; Thu, 2 Dec 2004 17:43:13 +0100
Received: (from mail@localhost)
	by ns1.hauk-sasko-backup.de (8.9.3/8.9.3) id RAA13741
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 17:43:13 +0100
Received: from UNKNOWN(172.19.1.19), claiming to be "homer.hauk-sasko.de"
 via SMTP by ns1, id smtpdzrp427; Thu Dec  2 16:43:04 2004
Received: from homer (localhost [127.0.0.1])
	by localhost (Postfix) with SMTP id BC78036CB2
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 17:43:04 +0100 (CET)
Received: by homer.hauk-sasko.de (Postfix, from userid 1050)
	id 8237C36CB1; Thu,  2 Dec 2004 17:43:04 +0100 (CET)
Received: from [172.19.3.123] (lx-el.hauk-sasko.de [172.19.3.123])
	by homer.hauk-sasko.de (Postfix) with ESMTP id 9635D36CB0
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 17:43:03 +0100 (CET)
Message-ID: <41AF4617.2070101@hauk-sasko.de>
Date: Thu, 02 Dec 2004 17:43:03 +0100
From: Eric Louvard <eric.louvard@hauk-sasko.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: fr-fr, de-de, en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Search multiple Fields
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, hits=-100.1 required=4.0
	tests=USER_AGENT_MOZILLA_UA,USER_IN_WHITELIST,X_ACCEPT_LANG
	version=2.55
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Sanitizer: This message has been sanitized!
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm searching, for example

title:world OR contents:world OR author:world

Is it possible to know where (in which Field) have Lucene found 'world' in each Document,
without making 3 queries ?

Thanks.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 20:13:29 2004
Return-Path: 
 <lucene-user-return-11602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18431 invoked from network); 2 Dec 2004 20:13:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 20:13:29 -0000
Received: (qmail 68748 invoked by uid 500); 2 Dec 2004 20:13:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68715 invoked by uid 500); 2 Dec 2004 20:13:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68691 invoked by uid 99); 2 Dec 2004 20:13:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu)
 (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 12:13:08 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 005E71F5317
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 15:13:04 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22139-10 for <lucene-user@jakarta.apache.org>;
 Thu,  2 Dec 2004 15:13:04 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id B97BA1F5346
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 15:13:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41AF4617.2070101@hauk-sasko.de>
References: <41AF4617.2070101@hauk-sasko.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <98350900-449E-11D9-A536-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search multiple Fields
Date: Thu, 2 Dec 2004 15:13:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 2, 2004, at 11:43 AM, Eric Louvard wrote:
> I'm searching, for example
>
> title:world OR contents:world OR author:world
>
> Is it possible to know where (in which Field) have Lucene found 
> 'world' in each Document,
> without making 3 queries ?

Not in a straightforward way, but you can dig through the Explanation 
returned from IndexSearcher.explain() to see what factors are involved 
in the score, which does include info on what fields/terms were 
matched.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 20:34:41 2004
Return-Path: 
 <lucene-user-return-11603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45217 invoked from network); 2 Dec 2004 20:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 20:34:41 -0000
Received: (qmail 15949 invoked by uid 500); 2 Dec 2004 20:34:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15931 invoked by uid 500); 2 Dec 2004 20:34:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15916 invoked by uid 99); 2 Dec 2004 20:34:35 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 12:34:34 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search multiple Fields
Date: Thu, 2 Dec 2004 12:34:31 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02B4664D@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search multiple Fields
Thread-Index: AcTYq2LeneqPU10tRVWDFLOdblCDtQAAprbA
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you want this to be efficient in your application, I'd suggest
integrating at a lower level.  E.g., take a look at TermScorer.explain()
to see how it determines whether or not a term matches in a field of
document.

Another approach might be to specialize BooleanQuery to keep track of
which clauses matched.

Chuck

  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Thursday, December 02, 2004 12:13 PM
  > To: Lucene Users List
  > Subject: Re: Search multiple Fields
  >=20
  > On Dec 2, 2004, at 11:43 AM, Eric Louvard wrote:
  > > I'm searching, for example
  > >
  > > title:world OR contents:world OR author:world
  > >
  > > Is it possible to know where (in which Field) have Lucene found
  > > 'world' in each Document,
  > > without making 3 queries ?
  >=20
  > Not in a straightforward way, but you can dig through the
Explanation
  > returned from IndexSearcher.explain() to see what factors are
involved
  > in the score, which does include info on what fields/terms were
  > matched.
  >=20
  > 	Erik
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  2 22:56:01 2004
Return-Path: 
 <lucene-user-return-11604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23121 invoked from network); 2 Dec 2004 22:56:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Dec 2004 22:56:01 -0000
Received: (qmail 2193 invoked by uid 500); 2 Dec 2004 22:55:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2161 invoked by uid 500); 2 Dec 2004 22:55:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2147 invoked by uid 99); 2 Dec 2004 22:55:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 14:55:52 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Thu, 2 Dec 2004 17:58:09 -0500
Message-ID: <01e901c4d8c2$6451e440$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4664D@reh001-1.REX001.ExchangeByRegister.com>
Subject: PDF Indexing Error
Date: Thu, 2 Dec 2004 17:58:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Dec 2004 22:58:09.0378 (UTC)
 FILETIME=[6473C420:01C4D8C2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All;

Perhaps this should be on the PDFBox forum but I was curious if anyone has
seen this error parsing PDF documents using packages other than PDFBox.

/usr/tomcat/fb_hub/GM/Administration/Document/java/java_io.pdf
java.io.IOException: You do not have permission to extract text

The weird thing is it gave this error on a document I have indexed a million
times over the last 3 weeks.

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 00:10:07 2004
Return-Path: 
 <lucene-user-return-11605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64646 invoked from network); 3 Dec 2004 00:10:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 00:10:07 -0000
Received: (qmail 55884 invoked by uid 500); 3 Dec 2004 00:10:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55529 invoked by uid 500); 3 Dec 2004 00:09:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55513 invoked by uid 99); 3 Dec 2004 00:09:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from exprod6ob7.obsmtp.com (HELO psmtp.com) (64.18.1.217)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 02 Dec 2004 16:09:56 -0800
Received: from source ([139.56.4.14]) by exprod6ob7.obsmtp.com ([64.18.5.12])
 with SMTP;
	Thu, 02 Dec 2004 16:08:03 PST
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com
 [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id iB309br14983
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 16:09:37 -0800 (PST)
Received: from rw-gw-02.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id QAA03792
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 16:10:01 -0800 (PST)
Received: by rw-gw-02.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <4FN1SZK8>; Thu, 2 Dec 2004 16:09:53 -0800
Message-ID: <6B68C05FFDF8D540BBC67FE6CE864C3253A11A@rw-msg-02.BROADVISION.COM>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Thread safety
Date: Thu, 2 Dec 2004 16:09:45 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have an urgent question about thread safety in lucene,
from lucene doc and code I could not get a clear answer.

1. is Searcher (IndexSearcher, MultiSearcher ..) thread
    safe, can multi-users call search(..) method on the
    same object at the same time?

2. if on the same object, one user calls close( ) and
    another calls search(..), I assume we should have a
    meaningful error message?

3. what would happen if one user calls Searcher.search(..),
    but at the same time another user tries to delete that
    document from index files by calling IndexReader.delete(..)
    (either through two threads or two separate processes)?

A brief answer would be good enough for me now, thanks
very much in advance!

Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 00:13:37 2004
Return-Path: 
 <lucene-user-return-11606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66826 invoked from network); 3 Dec 2004 00:13:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 00:13:37 -0000
Received: (qmail 67535 invoked by uid 500); 3 Dec 2004 00:13:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67507 invoked by uid 500); 3 Dec 2004 00:13:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67494 invoked by uid 99); 3 Dec 2004 00:13:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 02 Dec 2004 16:13:28 -0800
Received: (qmail 7396 invoked by uid 60001); 3 Dec 2004 00:13:26 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=2ofwZ8PFVlRWBY0FZHGmM00L4wigIgBIhyby5edzlRk59JNY0SGDMobl6GFE0tBnm0SDiqHPv189CqySMKYrff0iWiiJp+GG7/eOLD0C+udHf8xovJBsD4cJP3to45RJ5ssWr4lpGNcSJZaN2xSsNcVwWrUhxszq13Wb+TTA3hw=
  ;
Message-ID: <20041203001326.7394.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Thu, 02 Dec 2004 16:13:26 PST
Date: Thu, 2 Dec 2004 16:13:26 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Thread safety
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <6B68C05FFDF8D540BBC67FE6CE864C3253A11A@rw-msg-02.BROADVISION.COM>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

1. yes
2. yes error, meaningful, it depends what you find meaningful :)
3. searcher will still find the document, unless you close it and
reopen it (searcher)

Otis

--- "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com> wrote:

> Hi,
> 
> I have an urgent question about thread safety in lucene,
> from lucene doc and code I could not get a clear answer.
> 
> 1. is Searcher (IndexSearcher, MultiSearcher ..) thread
>     safe, can multi-users call search(..) method on the
>     same object at the same time?
> 
> 2. if on the same object, one user calls close( ) and
>     another calls search(..), I assume we should have a
>     meaningful error message?
> 
> 3. what would happen if one user calls Searcher.search(..),
>     but at the same time another user tries to delete that
>     document from index files by calling IndexReader.delete(..)
>     (either through two threads or two separate processes)?
> 
> A brief answer would be good enough for me now, thanks
> very much in advance!
> 
> Lisheng
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 00:28:49 2004
Return-Path: 
 <lucene-user-return-11607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71712 invoked from network); 3 Dec 2004 00:28:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 00:28:49 -0000
Received: (qmail 92782 invoked by uid 500); 3 Dec 2004 00:28:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92609 invoked by uid 500); 3 Dec 2004 00:28:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92594 invoked by uid 99); 3 Dec 2004 00:28:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from exprod6ob1.obsmtp.com (HELO psmtp.com) (64.18.1.211)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 02 Dec 2004 16:28:39 -0800
Received: from source ([139.56.4.14]) by exprod6ob1.obsmtp.com ([64.18.5.12])
 with SMTP;
	Thu, 02 Dec 2004 16:27:14 PST
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com
 [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id iB30SKr15266
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 16:28:20 -0800 (PST)
Received: from rw-gw-01.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id QAA04092
	for <lucene-user@jakarta.apache.org>; Thu, 2 Dec 2004 16:28:44 -0800 (PST)
Received: by rw-gw-01.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <YD08DFXB>; Thu, 2 Dec 2004 16:28:36 -0800
Message-ID: <6B68C05FFDF8D540BBC67FE6CE864C3253A11B@rw-msg-02.BROADVISION.COM>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Cc: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>,
   "Wong, Kin"
	 <Kin.Wong@broadvision.com>,
   "Wu, James" <James.Wu@broadvision.com>
Subject: RE: Thread safety
Date: Thu, 2 Dec 2004 16:28:35 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks very much, that is what I want to hear!

Lisheng

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Thursday, December 02, 2004 4:13 PM
To: Lucene Users List
Subject: Re: Thread safety


1. yes
2. yes error, meaningful, it depends what you find meaningful :)
3. searcher will still find the document, unless you close it and
reopen it (searcher)

Otis

--- "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com> wrote:

> Hi,
> 
> I have an urgent question about thread safety in lucene,
> from lucene doc and code I could not get a clear answer.
> 
> 1. is Searcher (IndexSearcher, MultiSearcher ..) thread
>     safe, can multi-users call search(..) method on the
>     same object at the same time?
> 
> 2. if on the same object, one user calls close( ) and
>     another calls search(..), I assume we should have a
>     meaningful error message?
> 
> 3. what would happen if one user calls Searcher.search(..),
>     but at the same time another user tries to delete that
>     document from index files by calling IndexReader.delete(..)
>     (either through two threads or two separate processes)?
> 
> A brief answer would be good enough for me now, thanks
> very much in advance!
> 
> Lisheng
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 01:07:32 2004
Return-Path: 
 <lucene-user-return-11608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87176 invoked from network); 3 Dec 2004 01:07:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 01:07:32 -0000
Received: (qmail 70527 invoked by uid 500); 3 Dec 2004 01:07:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70508 invoked by uid 500); 3 Dec 2004 01:07:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70493 invoked by uid 99); 3 Dec 2004 01:07:27 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 17:07:25 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 79BB25B78F; Thu,  2 Dec 2004 17:07:19 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7887E7F45E
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 17:07:19 -0800 (PST)
Date: Thu, 2 Dec 2004 17:07:19 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: IndexWriter.optimize and memory usage
Message-ID: <Pine.LNX.4.58.0412021643360.2968@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I've been running into an interesting situation that I wanted to ask
about.

I've been doing some testing by building up indexes with code that looks
like this...

     IndexWriter writer = null;
     try {
         writer = new IndexWriter("index", new StandardAnalyzer(), true);
         writer.mergeFactor = MERGE_FACTOR;
         PooledExecutor queue = new PooledExecutor(NUM_UPDATE_THREADS);
         queue.waitWhenBlocked();

         for (int min=low; min < high; min += BATCH_SIZE) {
             int max = min + BATCH_SIZE;
             if (high < max) {
                 max = high;
             }
             queue.execute(new BatchIndexer(writer, min, max));
         }
         end = new Date();
         System.out.println("Build Time: " + (end.getTime() - start.getTime()) + "ms");
         start = end;
         writer.optimize();
     } finally {
         if (null != writer) {
             try { writer.close(); } catch (Exception ignore) {/*NOOP*/; }
         }
     }
     end = new Date();
     System.out.println("Optimize Time: " + (end.getTime() - start.getTime()) + "ms");


(where BatchIndexer is a class i have that gets a DB connection, and
slurps all records from my DB between min and max and builds some simple
Documents out of them and calls writer.addDocument(doc) on each)

This was working fine with small ranges, but then i tried building up a
nice big index for doing some performance testing.  i left it running
overnight and when i came back in the morning i discovered that after
successfully building up the whole index (~112K docs, ~1.5GB disk) it
crashed with an OutOfMemory exception while trying to optimize.

I then realized i was only running my JVM with a 256m upper limit on RAM,
and i figured that PooledExecutor was still in scope, and maybe it was
maintaining some state that was using up a lot of space, so i whiped up a
quick little app to solve my problem...

    public static void main(String[] args) throws Exception {
        IndexWriter writer = null;
        try {
            writer = new IndexWriter("index", new StandardAnalyzer(), false);
            writer.optimize();
        } finally {
            if (null != writer) {
                try { writer.close(); } catch (Exception ignore) { /*NOOP*/; }
            }
        }
    }

...but I was dissapointed to discover that even this couldn't run with
only 256m of ram.  I bumped it up to 512m and then it manged to complete
successfully (the final index was only 1.1GB of disk).


This raises a few questions in my mind:

1) Is there a rule of thumb for knowing how much memory it takes to
   optimize an index?

2) Is there a "Best Practice" to follow when building up a large index
   from scratch in order to reduce the amount of memory needed to optimize
   once the whole index is build?  (ie: would spining up a thread that
   called writer.optimize() every N minutes be a good idea?)

3) Given an unoptimized index that's allready been built (ie: in the case
   where my builder crashed and i wanted to try and optimize it without
   having to rebuild from scratch) is there anyway to get IndexWriter to
   use less RAM and more disk (trading spead for a smaller form factor --
   and aparently: greater stability so that the app doesn't crash)


I imagine that the answers to #1 and #2 are largely dependent on the
nature of the data in the index (ie: the frequency of terms) but i'm
wondering if there is a high level formula that could be used to say
"based on the nature of your data, you want to take this approach to
optimizing when you build"



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 01:20:16 2004
Return-Path: 
 <lucene-user-return-11609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91679 invoked from network); 3 Dec 2004 01:20:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 01:20:16 -0000
Received: (qmail 90820 invoked by uid 500); 3 Dec 2004 01:20:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90800 invoked by uid 500); 3 Dec 2004 01:20:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90766 invoked by uid 99); 3 Dec 2004 01:20:07 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates
 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu)
 (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 17:20:06 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id BA73F93B1
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 20:20:03 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 71E0D14CA; Thu,  2 Dec 2004 20:20:03 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 4E34414C5
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 20:20:03 -0500 (EST)
Date: Thu, 2 Dec 2004 20:20:03 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDF Indexing Error
In-Reply-To: <01e901c4d8c2$6451e440$7703d00a@hypermedia.com>
Message-ID: <Pine.GSO.4.53.0412022018080.11767@fury.csh.rit.edu>
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4664D@reh001-1.REX001.ExchangeByRegister.com>
 <01e901c4d8c2$6451e440$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


This error is because of security settings that have been applied to the
PDF document which disallow text extraction.

Not sure why you would all of a sudden get this error, unless you upgraded
recently.  Older versions of PDFBox did not fully support PDF security.

Ben

On Thu, 2 Dec 2004, Luke Shannon wrote:

> Hello All;
>
> Perhaps this should be on the PDFBox forum but I was curious if anyone has
> seen this error parsing PDF documents using packages other than PDFBox.
>
> /usr/tomcat/fb_hub/GM/Administration/Document/java/java_io.pdf
> java.io.IOException: You do not have permission to extract text
>
> The weird thing is it gave this error on a document I have indexed a million
> times over the last 3 weeks.
>
> Thanks,
>
> Luke
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 05:08:09 2004
Return-Path: 
 <lucene-user-return-11610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91621 invoked from network); 3 Dec 2004 05:08:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 05:08:09 -0000
Received: (qmail 6258 invoked by uid 500); 3 Dec 2004 05:08:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6229 invoked by uid 500); 3 Dec 2004 05:08:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6213 invoked by uid 99); 3 Dec 2004 05:08:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 02 Dec 2004 21:07:58 -0800
Received: (qmail 62310 invoked by uid 60001); 3 Dec 2004 05:07:56 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=FEQ1/0LgTA8915PPpQoTafYLoMcvFqpON55ksdVamxfcjMK63TM0OHt7G3qO3SCVFqVBHxurNHIZpgDWrInIb/9JD65TOFRgneGR9C5oKN2O5sUmUt+WdMCycCVC2jKmB8/kFPaToZt6XGyaobQNQf9qjVu9/PfpqmXUNL39Ngg=
  ;
Message-ID: <20041203050756.62308.qmail@web12706.mail.yahoo.com>
Received: from [69.201.130.149] by web12706.mail.yahoo.com via HTTP;
 Thu, 02 Dec 2004 21:07:56 PST
Date: Thu, 2 Dec 2004 21:07:56 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexWriter.optimize and memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.58.0412021643360.2968@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello and quick answers:

See IndexWriter javadoc and in particular mergeFactor, minMergeDocs,
and maxMergeDocs.  This will let you control the size of your segments,
the frequency of segment merges, the amount of buffered Documents in
RAM between segment merges and such.  Also, you ask about calling
optimize periodically - no need, Lucene should already merge segments
once in a while for you.  Optimize at the end.  You can also experiment
with different JVM args for various GC algorithms.

Otis

--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> I've been running into an interesting situation that I wanted to ask
> about.
> 
> I've been doing some testing by building up indexes with code that
> looks
> like this...
> 
>      IndexWriter writer = null;
>      try {
>          writer = new IndexWriter("index", new StandardAnalyzer(),
> true);
>          writer.mergeFactor = MERGE_FACTOR;
>          PooledExecutor queue = new
> PooledExecutor(NUM_UPDATE_THREADS);
>          queue.waitWhenBlocked();
> 
>          for (int min=low; min < high; min += BATCH_SIZE) {
>              int max = min + BATCH_SIZE;
>              if (high < max) {
>                  max = high;
>              }
>              queue.execute(new BatchIndexer(writer, min, max));
>          }
>          end = new Date();
>          System.out.println("Build Time: " + (end.getTime() -
> start.getTime()) + "ms");
>          start = end;
>          writer.optimize();
>      } finally {
>          if (null != writer) {
>              try { writer.close(); } catch (Exception ignore)
> {/*NOOP*/; }
>          }
>      }
>      end = new Date();
>      System.out.println("Optimize Time: " + (end.getTime() -
> start.getTime()) + "ms");
> 
> 
> (where BatchIndexer is a class i have that gets a DB connection, and
> slurps all records from my DB between min and max and builds some
> simple
> Documents out of them and calls writer.addDocument(doc) on each)
> 
> This was working fine with small ranges, but then i tried building up
> a
> nice big index for doing some performance testing.  i left it running
> overnight and when i came back in the morning i discovered that after
> successfully building up the whole index (~112K docs, ~1.5GB disk) it
> crashed with an OutOfMemory exception while trying to optimize.
> 
> I then realized i was only running my JVM with a 256m upper limit on
> RAM,
> and i figured that PooledExecutor was still in scope, and maybe it
> was
> maintaining some state that was using up a lot of space, so i whiped
> up a
> quick little app to solve my problem...
> 
>     public static void main(String[] args) throws Exception {
>         IndexWriter writer = null;
>         try {
>             writer = new IndexWriter("index", new StandardAnalyzer(),
> false);
>             writer.optimize();
>         } finally {
>             if (null != writer) {
>                 try { writer.close(); } catch (Exception ignore) {
> /*NOOP*/; }
>             }
>         }
>     }
> 
> ...but I was dissapointed to discover that even this couldn't run
> with
> only 256m of ram.  I bumped it up to 512m and then it manged to
> complete
> successfully (the final index was only 1.1GB of disk).
> 
> 
> This raises a few questions in my mind:
> 
> 1) Is there a rule of thumb for knowing how much memory it takes to
>    optimize an index?
> 
> 2) Is there a "Best Practice" to follow when building up a large
> index
>    from scratch in order to reduce the amount of memory needed to
> optimize
>    once the whole index is build?  (ie: would spining up a thread
> that
>    called writer.optimize() every N minutes be a good idea?)
> 
> 3) Given an unoptimized index that's allready been built (ie: in the
> case
>    where my builder crashed and i wanted to try and optimize it
> without
>    having to rebuild from scratch) is there anyway to get IndexWriter
> to
>    use less RAM and more disk (trading spead for a smaller form
> factor --
>    and aparently: greater stability so that the app doesn't crash)
> 
> 
> I imagine that the answers to #1 and #2 are largely dependent on the
> nature of the data in the index (ie: the frequency of terms) but i'm
> wondering if there is a high level formula that could be used to say
> "based on the nature of your data, you want to take this approach to
> optimizing when you build"


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 06:51:33 2004
Return-Path: 
 <lucene-user-return-11611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29549 invoked from network); 3 Dec 2004 06:51:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 06:51:33 -0000
Received: (qmail 30833 invoked by uid 500); 3 Dec 2004 06:51:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30789 invoked by uid 500); 3 Dec 2004 06:51:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30741 invoked by uid 99); 3 Dec 2004 06:50:58 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 22:50:57 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9536B5B7D1; Thu,  2 Dec 2004 22:50:48 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 93C857F45C
	for <lucene-user@jakarta.apache.org>; Thu,  2 Dec 2004 22:50:48 -0800 (PST)
Date: Thu, 2 Dec 2004 22:50:48 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexWriter.optimize and memory usage
In-Reply-To: <20041203050756.62308.qmail@web12706.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0412022216040.17289@hal.rescomp.berkeley.edu>
References: <20041203050756.62308.qmail@web12706.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: See IndexWriter javadoc and in particular mergeFactor, minMergeDocs,
: and maxMergeDocs.  This will let you control the size of your segments,
: the frequency of segment merges, the amount of buffered Documents in
: RAM between segment merges and such.  Also, you ask about calling

Yeah, I'm familiar with those options.  I initially tried just using the
defaults, and then I tried using a high mergeFactor (100 if i remember
right) -- both of which had the same result: index built fine, but the
optimize call at the end ran out of memory.

: optimize periodically - no need, Lucene should already merge segments
: once in a while for you.  Optimize at the end.  You can also experiment

So, If I'm understanding you (and the javadocs) correctly, the real key
here is maxMergeDocs.  It seems like addDocument will never merge a
segment untill maxMergeDocs have been added? ... meaning that I need a
value less then the default (Integer.MAX_VALUE) if I want IndexWriter to
do incrimental merges as I go ...

	...except...

...if that were the case, then exactly is the meaning of mergeFactor?


: > I've been running into an interesting situation that I wanted to ask
: > about.
: >
: > I've been doing some testing by building up indexes with code that
: > looks
: > like this...
: >
: >      IndexWriter writer = null;
: >      try {
: >          writer = new IndexWriter("index", new StandardAnalyzer(),
: > true);
: >          writer.mergeFactor = MERGE_FACTOR;
: >          PooledExecutor queue = new
: > PooledExecutor(NUM_UPDATE_THREADS);
: >          queue.waitWhenBlocked();
: >
: >          for (int min=low; min < high; min += BATCH_SIZE) {
: >              int max = min + BATCH_SIZE;
: >              if (high < max) {
: >                  max = high;
: >              }
: >              queue.execute(new BatchIndexer(writer, min, max));
: >          }
: >          end = new Date();
: >          System.out.println("Build Time: " + (end.getTime() -
: > start.getTime()) + "ms");
: >          start = end;
: >          writer.optimize();
: >      } finally {
: >          if (null != writer) {
: >              try { writer.close(); } catch (Exception ignore)
: > {/*NOOP*/; }
: >          }
: >      }
: >      end = new Date();
: >      System.out.println("Optimize Time: " + (end.getTime() -
: > start.getTime()) + "ms");
: >
: >
: > (where BatchIndexer is a class i have that gets a DB connection, and
: > slurps all records from my DB between min and max and builds some
: > simple
: > Documents out of them and calls writer.addDocument(doc) on each)
: >
: > This was working fine with small ranges, but then i tried building up
: > a
: > nice big index for doing some performance testing.  i left it running
: > overnight and when i came back in the morning i discovered that after
: > successfully building up the whole index (~112K docs, ~1.5GB disk) it
: > crashed with an OutOfMemory exception while trying to optimize.
: >
: > I then realized i was only running my JVM with a 256m upper limit on
: > RAM,
: > and i figured that PooledExecutor was still in scope, and maybe it
: > was
: > maintaining some state that was using up a lot of space, so i whiped
: > up a
: > quick little app to solve my problem...
: >
: >     public static void main(String[] args) throws Exception {
: >         IndexWriter writer = null;
: >         try {
: >             writer = new IndexWriter("index", new StandardAnalyzer(),
: > false);
: >             writer.optimize();
: >         } finally {
: >             if (null != writer) {
: >                 try { writer.close(); } catch (Exception ignore) {
: > /*NOOP*/; }
: >             }
: >         }
: >     }
: >
: > ...but I was dissapointed to discover that even this couldn't run
: > with
: > only 256m of ram.  I bumped it up to 512m and then it manged to
: > complete
: > successfully (the final index was only 1.1GB of disk).
: >
: >
: > This raises a few questions in my mind:
: >
: > 1) Is there a rule of thumb for knowing how much memory it takes to
: >    optimize an index?
: >
: > 2) Is there a "Best Practice" to follow when building up a large
: > index
: >    from scratch in order to reduce the amount of memory needed to
: > optimize
: >    once the whole index is build?  (ie: would spining up a thread
: > that
: >    called writer.optimize() every N minutes be a good idea?)
: >
: > 3) Given an unoptimized index that's allready been built (ie: in the
: > case
: >    where my builder crashed and i wanted to try and optimize it
: > without
: >    having to rebuild from scratch) is there anyway to get IndexWriter
: > to
: >    use less RAM and more disk (trading spead for a smaller form
: > factor --
: >    and aparently: greater stability so that the app doesn't crash)
: >
: >
: > I imagine that the answers to #1 and #2 are largely dependent on the
: > nature of the data in the index (ie: the frequency of terms) but i'm
: > wondering if there is a high level formula that could be used to say
: > "based on the nature of your data, you want to take this approach to
: > optimizing when you build"


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 07:43:25 2004
Return-Path: 
 <lucene-user-return-11612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48248 invoked from network); 3 Dec 2004 07:43:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 07:43:25 -0000
Received: (qmail 353 invoked by uid 500); 3 Dec 2004 07:43:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 327 invoked by uid 500); 3 Dec 2004 07:43:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 311 invoked by uid 99); 3 Dec 2004 07:43:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr10.xs4all.nl (HELO smtp-vbr10.xs4all.nl)
 (194.109.24.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 23:43:10 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.12.11/8.12.11) with ESMTP id iB37h7Jv060003
	for <lucene-user@jakarta.apache.org>; Fri, 3 Dec 2004 08:43:07 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: IndexWriter.optimize and memory usage
Date: Fri, 3 Dec 2004 08:43:07 +0100
User-Agent: KMail/1.5.4
References: <20041203050756.62308.qmail@web12706.mail.yahoo.com>
 <Pine.LNX.4.58.0412022216040.17289@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0412022216040.17289@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412030843.07163.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 03 December 2004 07:50, Chris Hostetter wrote:
> 
> : See IndexWriter javadoc and in particular mergeFactor, minMergeDocs,
> : and maxMergeDocs.  This will let you control the size of your segments,
> : the frequency of segment merges, the amount of buffered Documents in
> : RAM between segment merges and such.  Also, you ask about calling
> 
> Yeah, I'm familiar with those options.  I initially tried just using the
> defaults, and then I tried using a high mergeFactor (100 if i remember
> right) -- both of which had the same result: index built fine, but the
> optimize call at the end ran out of memory.
> 
> : optimize periodically - no need, Lucene should already merge segments
> : once in a while for you.  Optimize at the end.  You can also experiment
> 
> So, If I'm understanding you (and the javadocs) correctly, the real key
> here is maxMergeDocs.  It seems like addDocument will never merge a
> segment untill maxMergeDocs have been added? ... meaning that I need a
> value less then the default (Integer.MAX_VALUE) if I want IndexWriter to
> do incrimental merges as I go ...
> 
> 	...except...
> 
> ...if that were the case, then exactly is the meaning of mergeFactor?

maxMergeDocs controls the sizes of the intermediate segments
when adding documents.
With maxMergeDocs at default, adding a document can take as much time as
(and have the same effect as) optimize.  Eg. with minMergeFactor at 10, the
1000'th added document will create a segment of size 1000.
With maxMergeDocs at a lower value than 1000, the last merge (of the 10
segments with 100 docs each) will not be done.

optimize() uses minMergeDocs for its final merges, but it ignores
maxMergeDocs. 

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 07:59:03 2004
Return-Path: 
 <lucene-user-return-11613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54688 invoked from network); 3 Dec 2004 07:59:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 07:59:03 -0000
Received: (qmail 29612 invoked by uid 500); 3 Dec 2004 07:58:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29584 invoked by uid 500); 3 Dec 2004 07:58:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29562 invoked by uid 99); 3 Dec 2004 07:58:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO
 proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 02 Dec 2004 23:58:49 -0800
Received: from [10.1.100.30] ([193.206.186.101]) by
 proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Fri, 3 Dec 2004 08:58:46 +0100
Message-ID: <41B01CB1.4020105@ifit.uni-klu.ac.at>
Date: Fri, 03 Dec 2004 08:58:41 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Thread safety
References: <20041203001326.7394.qmail@web12708.mail.yahoo.com>
In-Reply-To: <20041203001326.7394.qmail@web12708.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Dec 2004 07:58:46.0532 (UTC)
 FILETIME=[EA80AC40:01C4D90D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>1. yes
>2. yes error, meaningful, it depends what you find meaningful :)
>3. searcher will still find the document, unless you close it and
>reopen it (searcher)
>  
>
... What about LockException? I tried to index objects in a thread and 
to use a IndexSearcher
to search objects, but I have had problems with this.
I tried to create a new  IndexSearcher object if  the index version  was 
changed, but unfortunately
I got some Lock Exceptions and FileNotFound Exceptions.

 If the answer number 3. is correct, then why did I get these exceptions.

 Sergiu

>Otis
>
>--- "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com> wrote:
>
>  
>
>>Hi,
>>
>>I have an urgent question about thread safety in lucene,
>>from lucene doc and code I could not get a clear answer.
>>
>>1. is Searcher (IndexSearcher, MultiSearcher ..) thread
>>    safe, can multi-users call search(..) method on the
>>    same object at the same time?
>>
>>2. if on the same object, one user calls close( ) and
>>    another calls search(..), I assume we should have a
>>    meaningful error message?
>>
>>3. what would happen if one user calls Searcher.search(..),
>>    but at the same time another user tries to delete that
>>    document from index files by calling IndexReader.delete(..)
>>    (either through two threads or two separate processes)?
>>
>>A brief answer would be good enough for me now, thanks
>>very much in advance!
>>
>>Lisheng
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 14:31:35 2004
Return-Path: 
 <lucene-user-return-11614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16404 invoked from network); 3 Dec 2004 14:31:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 14:31:35 -0000
Received: (qmail 32653 invoked by uid 500); 3 Dec 2004 14:29:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32320 invoked by uid 500); 3 Dec 2004 14:29:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32223 invoked by uid 99); 3 Dec 2004 14:29:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 06:28:54 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Fri, 3 Dec 2004 09:30:52 -0500
Message-ID: <031701c4d944$b0f0c870$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4664D@reh001-1.REX001.ExchangeByRegister.com>
 <01e901c4d8c2$6451e440$7703d00a@hypermedia.com>
 <Pine.GSO.4.53.0412022018080.11767@fury.csh.rit.edu>
Subject: Re: PDF Indexing Error
Date: Fri, 3 Dec 2004 09:30:52 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Dec 2004 14:30:52.0404 (UTC)
 FILETIME=[B103DB40:01C4D944]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ben;

Actually I think I did update PDFBox. I will put it back to the version I
previously had.

Luke

----- Original Message ----- 
From: "Ben Litchfield" <ben@csh.rit.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 02, 2004 8:20 PM
Subject: Re: PDF Indexing Error


>
> This error is because of security settings that have been applied to the
> PDF document which disallow text extraction.
>
> Not sure why you would all of a sudden get this error, unless you upgraded
> recently.  Older versions of PDFBox did not fully support PDF security.
>
> Ben
>
> On Thu, 2 Dec 2004, Luke Shannon wrote:
>
> > Hello All;
> >
> > Perhaps this should be on the PDFBox forum but I was curious if anyone
has
> > seen this error parsing PDF documents using packages other than PDFBox.
> >
> > /usr/tomcat/fb_hub/GM/Administration/Document/java/java_io.pdf
> > java.io.IOException: You do not have permission to extract text
> >
> > The weird thing is it gave this error on a document I have indexed a
million
> > times over the last 3 weeks.
> >
> > Thanks,
> >
> > Luke
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 14:46:51 2004
Return-Path: 
 <lucene-user-return-11615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28618 invoked from network); 3 Dec 2004 14:46:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 14:46:51 -0000
Received: (qmail 86039 invoked by uid 500); 3 Dec 2004 14:46:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86004 invoked by uid 500); 3 Dec 2004 14:46:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85989 invoked by uid 99); 3 Dec 2004 14:46:06 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates
 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu)
 (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 06:46:04 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id A9B0E937C
	for <lucene-user@jakarta.apache.org>; Fri,  3 Dec 2004 09:46:01 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 5F82B14C5; Fri,  3 Dec 2004 09:46:01 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 37CB414A9
	for <lucene-user@jakarta.apache.org>; Fri,  3 Dec 2004 09:46:01 -0500 (EST)
Date: Fri, 3 Dec 2004 09:46:01 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDF Indexing Error
In-Reply-To: <031701c4d944$b0f0c870$7703d00a@hypermedia.com>
Message-ID: <Pine.GSO.4.53.0412030937270.11102@fury.csh.rit.edu>
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4664D@reh001-1.REX001.ExchangeByRegister.com>
 <01e901c4d8c2$6451e440$7703d00a@hypermedia.com>
 <Pine.GSO.4.53.0412022018080.11767@fury.csh.rit.edu>
 <031701c4d944$b0f0c870$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I don't think that is a good solution, as there are many bug fixes and
enhancements in the current version and you would never be able to
upgrade.

The message that you are seeing "You do not have permission to extract
text" is not a bug but intended functionality of PDFBox.  PDFBox honors
the security settings in a PDF, if you don't have permission to extract
the text then PDFBox won't allow you to do it, just as Acrobat will not
allow you to do it.

PDFBox supports *modification* of PDF documents as well as text
extraction.

Ben


On Fri, 3 Dec 2004, Luke Shannon wrote:

> Hi Ben;
>
> Actually I think I did update PDFBox. I will put it back to the version I
> previously had.
>
> Luke
>
> ----- Original Message -----
> From: "Ben Litchfield" <ben@csh.rit.edu>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, December 02, 2004 8:20 PM
> Subject: Re: PDF Indexing Error
>
>
> >
> > This error is because of security settings that have been applied to the
> > PDF document which disallow text extraction.
> >
> > Not sure why you would all of a sudden get this error, unless you upgraded
> > recently.  Older versions of PDFBox did not fully support PDF security.
> >
> > Ben
> >
> > On Thu, 2 Dec 2004, Luke Shannon wrote:
> >
> > > Hello All;
> > >
> > > Perhaps this should be on the PDFBox forum but I was curious if anyone
> has
> > > seen this error parsing PDF documents using packages other than PDFBox.
> > >
> > > /usr/tomcat/fb_hub/GM/Administration/Document/java/java_io.pdf
> > > java.io.IOException: You do not have permission to extract text
> > >
> > > The weird thing is it gave this error on a document I have indexed a
> million
> > > times over the last 3 weeks.
> > >
> > > Thanks,
> > >
> > > Luke
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 14:56:58 2004
Return-Path: 
 <lucene-user-return-11616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35784 invoked from network); 3 Dec 2004 14:56:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 14:56:58 -0000
Received: (qmail 16117 invoked by uid 500); 3 Dec 2004 14:56:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16087 invoked by uid 500); 3 Dec 2004 14:56:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16060 invoked by uid 99); 3 Dec 2004 14:56:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 06:56:44 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CaErR-00032v-9e
	for lucene-user@jakarta.apache.org; Fri, 03 Dec 2004 06:56:41 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
Date: Fri, 3 Dec 2004 09:56:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Thread-Index: AcTXtNwabHK5H8HSQ5W04q2IGR8KhgBCeYPw
In-Reply-To: <F0CEA9F2-43A7-11D9-A823-000A95BC61B6@ehatchersolutions.com>
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Eric,

The way I did the conversion is semi-automatic.  Here is how:

1) I wrote an Eclipse plug-in that converted the Java code such that it
gives it a C# "feel".  That is, convert
"org.apache.lucene.index.FieldsWriter" to "Lucene.Net.Index.FieldsWriter",
convert "addDocument()" to "AddDocument()", etc.  This was done by having my
plug-in utilize Eclipse's refectoring feature.

2) I used "Java Language Conversion Assistant" found here
http://msdn.microsoft.com/vstudio/downloads/tools/jlca/ to convert the Java
code to C#.

3) The JLCA conversion in #2 left behind a lot of code unconverted.  For
dotLucene 1.4.0 I finished the job by hand, for 1.4.3, I wrote a C# tool to
finish the job (not 100% but more than 95%.)

This is it.  For 1.4.0, I did the conversion from the original 1.4.0 Java
code.  For 1.4.3 conversion that I started last night, I first run a 'diff'
between 1.4.0 and 1.4.3 of the Java code and will have to convert only the
modified codes.

Ver. 1.4.0 took me about 1 month to get it to alpha quality (where I get
almost 90% of the JUnit test to pass).  For Ver. 1.4.3, I expect to have it
complete by next week -- an RC1 quality.  Keep in mind, I am doing this as a
side task after hours.  After all, I have a day job to keep.  :)

I don't know how Lucene.Net 1.3 was converted to C# by Pasha Bizhan but I
like to hear from him.

Thanks for pointing me to JUnitPerf, I didn't know about it.  I think I can
port it to C# in no time. :)  Yes, having a standard performance/load test
for Lucene would be the next logical thing to do.

Regards,

-- George Aroush


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, December 01, 2004 9:48 AM
To: Lucene Users List
Subject: Re: dotLucene (port of Jakarta Lucene to C#)


On Dec 1, 2004, at 9:39 AM, George Aroush wrote:
> I am currently working on porting 1.4.3 to C# which I expect to have 
> it completed by next week.  Once I have it done, I will do full 
> performance comparison.

Is the port a completely manual process for you?  Could you describe how you
do the porting to us?

> Speaking of which, does Lucene has a standard performance test code 
> that I can use as well as data and guidelines?  I am looking for 
> something similar to JUnit but for performance analyses.

In Lucene in Action (we promise, the e-book and code are being released soon
- likely this week!!!), Mike Clark donated some performance tests to us
using JUnitPerf (he's the creator of it).  JUnitPerf is a great way to do
timed and load tests.  The Java version of Lucene could certainly benefit
from a suite of performance tests, at least to ensure future changes do not
adversely affect performance without a good reason to do so.

JUnitPerf is almost trivial to use - just a decorator for JUnit tests.

One of these days all of the Lucene ports should come together and come up
with a compatibility test suite as well as some performance benchmarks.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 15:30:30 2004
Return-Path: 
 <lucene-user-return-11617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59491 invoked from network); 3 Dec 2004 15:30:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 15:30:30 -0000
Received: (qmail 2766 invoked by uid 500); 3 Dec 2004 15:29:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2736 invoked by uid 500); 3 Dec 2004 15:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2705 invoked by uid 99); 3 Dec 2004 15:29:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of greenlion@gmail.com
 designates 64.233.170.203 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 07:29:52 -0800
Received: by rproxy.gmail.com with SMTP id 34so354061rns
        for <lucene-user@jakarta.apache.org>;
 Fri, 03 Dec 2004 07:29:50 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=dAokYSL0b17ZIpqsiJTC96zilPaHXWkNCM8SiBuy317ybz35yoDtqG751M4+HlqklLy2urdSy96xmSh9uBaGx4rpd9lTj7ePlXC0X5JH1k5M0+7y1xbAdWy3vFMv1qVf2zfxZwu8SujMtVQ5UTVvi8b6Q1jFeIsFKvCPAbqEVjo=
Received: by 10.38.179.40 with SMTP id b40mr2641307rnf;
        Fri, 03 Dec 2004 07:29:49 -0800 (PST)
Received: by 10.38.179.4 with HTTP; Fri, 3 Dec 2004 07:29:49 -0800 (PST)
Message-ID: <dd2db8d004120307293a132798@mail.gmail.com>
Date: Fri, 3 Dec 2004 10:29:49 -0500
From: Justin Swanhart <greenlion@gmail.com>
Reply-To: Justin Swanhart <greenlion@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Thread safety
In-Reply-To: <41B01CB1.4020105@ifit.uni-klu.ac.at>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20041203001326.7394.qmail@web12708.mail.yahoo.com>
	 <41B01CB1.4020105@ifit.uni-klu.ac.at>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can only have one open writer at a time.  A writer is either an
IndexWriter object, or an IndexReader object that has modified the
index, by deleting documents for instance.

You must close your existing writer before you open a new one.

You should not get lock exceptions with IndexSearchers.  The only time
the locks come into play is when you are trying to open a writer when
a writer process already has the lock, or the write process died w/out
removing the lock so you have a stale lock left behind.

I've run into FileNotFound exceptions on occasion, and have pretty
much pinned it down to modifying the index on a slow device (NFS) with
a very large index and trying to instantiate a new searcher.  I solved
the problem by catching the exception and trying to create the
searcher again.  That resolved the problem for me.


On Fri, 03 Dec 2004 08:58:41 +0100, sergiu gordea
<gsergiu@ifit.uni-klu.ac.at> wrote:
> Otis Gospodnetic wrote:
> 
> >1. yes
> >2. yes error, meaningful, it depends what you find meaningful :)
> >3. searcher will still find the document, unless you close it and
> >reopen it (searcher)
> >
> >
> ... What about LockException? I tried to index objects in a thread and
> to use a IndexSearcher
> to search objects, but I have had problems with this.
> I tried to create a new  IndexSearcher object if  the index version  was
> changed, but unfortunately
> I got some Lock Exceptions and FileNotFound Exceptions.
> 
>  If the answer number 3. is correct, then why did I get these exceptions.
> 
>  Sergiu
> 
> 
> 
> >Otis
> >
> >--- "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com> wrote:
> >
> >
> >
> >>Hi,
> >>
> >>I have an urgent question about thread safety in lucene,
> >>from lucene doc and code I could not get a clear answer.
> >>
> >>1. is Searcher (IndexSearcher, MultiSearcher ..) thread
> >>    safe, can multi-users call search(..) method on the
> >>    same object at the same time?
> >>
> >>2. if on the same object, one user calls close( ) and
> >>    another calls search(..), I assume we should have a
> >>    meaningful error message?
> >>
> >>3. what would happen if one user calls Searcher.search(..),
> >>    but at the same time another user tries to delete that
> >>    document from index files by calling IndexReader.delete(..)
> >>    (either through two threads or two separate processes)?
> >>
> >>A brief answer would be good enough for me now, thanks
> >>very much in advance!
> >>
> >>Lisheng
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>
> >>
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 16:05:21 2004
Return-Path: 
 <lucene-user-return-11618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88075 invoked from network); 3 Dec 2004 16:05:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 16:05:21 -0000
Received: (qmail 20940 invoked by uid 500); 3 Dec 2004 16:04:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20849 invoked by uid 500); 3 Dec 2004 16:04:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20779 invoked by uid 99); 3 Dec 2004 16:04:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 08:04:30 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: hits.length() changes during delete process. 
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Fri, 3 Dec 2004 16:05:10 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B519937950F@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: hits.length() changes during delete process. 
Thread-Index: AcTZUee9aqk2+9fwR1G6GOq0yee7SQ==
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List \(E-mail\)" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a delete script

IndexSearcher searcher =3D new IndexSearcher(reader);

Hits hits =3D searcher.search(query);
log.info("there are " + hits.length() + " hits");

for (int i =3D 0; i < hits.length(); i++) {
  log.info(hits.length() + " " + i + " " + hits.id(i));
  reader.delete(hits.id(i));
}

which iterates through the results of a search and deletes the returns.  =
I keep getting an ArrayIndexOutOfBoundsException.  I've found the reason =
is that hits.length() actually changes during the iteration in large =
regular steps i.e=20

The hits length is initially 10003

after 100 deletions hits.length() changes to  9903
after 200 deletions hits.length() changes to 9803

then changes after=20
200 deletions
400
800
1600
3200

So the short question is, should the hits object be changing and what is =
the best way to delete all the results of a search (it's a range query =
so I can't use delete(Term term)?=20

cheers.

David

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 18:14:09 2004
Return-Path: 
 <lucene-user-return-11619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70877 invoked from network); 3 Dec 2004 18:14:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 18:14:09 -0000
Received: (qmail 97179 invoked by uid 500); 3 Dec 2004 18:12:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97142 invoked by uid 500); 3 Dec 2004 18:12:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97094 invoked by uid 99); 3 Dec 2004 18:12:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw.blueprint.org (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 10:12:13 -0800
Received: from Blueprint21 (blueprint-21.blueprint.org [10.0.0.40])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with SMTP id <0I850087GRWAQU@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Fri, 03 Dec 2004 13:12:10 -0500 (EST)
Date: Fri, 03 Dec 2004 13:12:10 -0500
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: Date Range Search throws IndexAccessException
To: Lucene <lucene-user@jakarta.apache.org>
Message-id: <BAEBICAPLMHCPPOIGFHPKEDLCAAA.skonopinsky@blueprint.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It seems that when I run the query "datelastrevised:[0e130wml4 TO
0e2alh18o]" (where datelastrevised is a lucene date field) and the result
contains more than X results, that an IndexAccessException is thrown with no
error message. If I perform the same query on a smaller set of possible
matches, then it works fine.

I'm assuming that this must have something to do with how the date field
enumerates against the matches with 'by the second' granularity - and
thereby exceeding the maximum number of boolean clauses (please correct me
if I am wrong).

Is there some way to reduce the granularity of the search to 'by the day'
granularity? Otherwise is there some way to perform this query so that I can
retrieve the results without error?

Best,
Shawn.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 18:33:32 2004
Return-Path: 
 <lucene-user-return-11620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84489 invoked from network); 3 Dec 2004 18:33:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 18:33:32 -0000
Received: (qmail 64627 invoked by uid 500); 3 Dec 2004 18:33:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64596 invoked by uid 500); 3 Dec 2004 18:33:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64577 invoked by uid 99); 3 Dec 2004 18:33:23 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 10:33:22 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 16A215B7D8; Fri,  3 Dec 2004 10:33:03 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C50077F45C
	for <lucene-user@jakarta.apache.org>; Fri,  3 Dec 2004 10:33:03 -0800 (PST)
Date: Fri, 3 Dec 2004 10:33:03 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Date Range Search throws IndexAccessException
In-Reply-To: <BAEBICAPLMHCPPOIGFHPKEDLCAAA.skonopinsky@blueprint.org>
Message-ID: <Pine.LNX.4.58.0412031030140.27496@hal.rescomp.berkeley.edu>
References: <BAEBICAPLMHCPPOIGFHPKEDLCAAA.skonopinsky@blueprint.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: I'm assuming that this must have something to do with how the date field
: enumerates against the matches with 'by the second' granularity - and
: thereby exceeding the maximum number of boolean clauses (please correct me
: if I am wrong).

I'm not so certain .. if you were really exceeding the max boolean clauses
limit, you should get a "TooManyClauses" exception

: Is there some way to reduce the granularity of the search to 'by the day'
: granularity? Otherwise is there some way to perform this query so that I can
: retrieve the results without error?

take a look at the RangeFilter class i recently sent to the list (and is
now in cvs) ... in exchange for giving up scoring, it doesn't suffer any
of the Boolean Clause limitations of RangeQuery.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 19:19:33 2004
Return-Path: 
 <lucene-user-return-11621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10906 invoked from network); 3 Dec 2004 19:19:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 19:19:33 -0000
Received: (qmail 80994 invoked by uid 500); 3 Dec 2004 19:19:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80976 invoked by uid 500); 3 Dec 2004 19:19:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80962 invoked by uid 99); 3 Dec 2004 19:19:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw.blueprint.org (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 11:19:24 -0800
Received: from Blueprint21 (blueprint-21.blueprint.org [10.0.0.40])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with SMTP id <0I8500F9YV091N@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Fri, 03 Dec 2004 14:19:21 -0500 (EST)
Date: Fri, 03 Dec 2004 14:19:21 -0500
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: RE: Date Range Search throws IndexAccessException
In-reply-to: <Pine.LNX.4.58.0412031030140.27496@hal.rescomp.berkeley.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <BAEBICAPLMHCPPOIGFHPOEDLCAAA.skonopinsky@blueprint.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the quick response Chris.

The problem with using a Filter is that I want to be able to merely generate
a text query based on the range information instead of having to modify the
core search module which basically receives text queries. If I understand
correctly, the Filter would actually have to be created and passed into the
search method.

Thoughts?

Shawn.

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu]On Behalf Of Chris Hostetter
Sent: Friday, December 03, 2004 1:33 PM
To: Lucene Users List
Subject: Re: Date Range Search throws IndexAccessException



: I'm assuming that this must have something to do with how the date field
: enumerates against the matches with 'by the second' granularity - and
: thereby exceeding the maximum number of boolean clauses (please correct me
: if I am wrong).

I'm not so certain .. if you were really exceeding the max boolean clauses
limit, you should get a "TooManyClauses" exception

: Is there some way to reduce the granularity of the search to 'by the day'
: granularity? Otherwise is there some way to perform this query so that I
can
: retrieve the results without error?

take a look at the RangeFilter class i recently sent to the list (and is
now in cvs) ... in exchange for giving up scoring, it doesn't suffer any
of the Boolean Clause limitations of RangeQuery.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 19:31:43 2004
Return-Path: 
 <lucene-user-return-11622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18472 invoked from network); 3 Dec 2004 19:31:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 19:31:43 -0000
Received: (qmail 17648 invoked by uid 500); 3 Dec 2004 19:31:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17584 invoked by uid 500); 3 Dec 2004 19:31:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17537 invoked by uid 99); 3 Dec 2004 19:31:24 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 11:31:23 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 42D3F5B77C; Fri,  3 Dec 2004 11:31:20 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3B1D37F45C
	for <lucene-user@jakarta.apache.org>; Fri,  3 Dec 2004 11:31:20 -0800 (PST)
Date: Fri, 3 Dec 2004 11:31:20 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Date Range Search throws IndexAccessException
In-Reply-To: <BAEBICAPLMHCPPOIGFHPOEDLCAAA.skonopinsky@blueprint.org>
Message-ID: <Pine.LNX.4.58.0412031123270.27496@hal.rescomp.berkeley.edu>
References: <BAEBICAPLMHCPPOIGFHPOEDLCAAA.skonopinsky@blueprint.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: The problem with using a Filter is that I want to be able to merely generate
: a text query based on the range information instead of having to modify the
: core search module which basically receives text queries. If I understand
: correctly, the Filter would actually have to be created and passed into the
: search method.

I haven't acctually done this myself, but when I asked about RangeQuery vs
RangeFilter before, Erik pointed out that you can wrap a RangeFilter in
"FilteredQuery" so that you can still use the simpler search API (without
explicitly passing the filter).

If you're using the QueryParser that comes with Lucene, you can probably
subclass it and write you're own "getRangeQuery" to look like the code
below. (like i said, i haven't acctually tried this yet)

Truthfully, i wonder if it might not be a good idea to change the default
implimentation of getRangeQuery to be something like this?




  protected Query getRangeQuery(String field,
                                String part1,
                                String part2,
                                boolean inclusive) throws ParseException
  {
    try {
      DateFormat df = DateFormat.getDateInstance(DateFormat.SHORT, locale);
      df.setLenient(true);
      Date d1 = df.parse(part1);
      Date d2 = df.parse(part2);
      part1 = DateField.dateToString(d1);
      part2 = DateField.dateToString(d2);
    }
    catch (Exception e) { }

    return new FilteredQuery(
                          new TermQuery(new Term(field,"")), // match all docs
                          new RangeFilter(
                               new Term(field, part1),
                               new Term(field, part2),
                               inclusive,inclusive));
  }

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 20:07:00 2004
Return-Path: 
 <lucene-user-return-11623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39497 invoked from network); 3 Dec 2004 20:07:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 20:07:00 -0000
Received: (qmail 22409 invoked by uid 500); 3 Dec 2004 20:06:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22354 invoked by uid 500); 3 Dec 2004 20:06:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22307 invoked by uid 99); 3 Dec 2004 20:06:15 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 12:06:11 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4D973.87865210"
Subject: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
Date: Fri, 3 Dec 2004 12:06:07 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02B4688F@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
Thread-Index: AcTZc4Ra01+GMO7STYCqBXKXsnz4+A==
From: "Chuck Williams" <chuck@manawiz.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4D973.87865210
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

I'm wondering what values of mergeFactor, minMergeDocs and maxMergeDocs
people have found to yield the best performance for different
configurations.  Is there a repository of this information anywhere?

=20

I've got about 30k documents and have 3 indexing scenarios:

1.       Full indexing and optimize

2.       Incremental indexing and optimize

3.       Parallel incremental indexing without optimize

=20

Search performance is critical.  For both cases 1 and 2, I'd like the
fastest possible indexing time.  For case 3, I'd like minimal pauses and
no noticeable degradation in search performance.

=20

Based on reading the code (including the javadocs comments), I'm
thinking of values along these lines:

=20

mergeFactor:  1000 during Full indexing, and during optimize (for both
cases 1 and 2); 10 during incremental indexing (cases 2 and 3)

minMergeDocs:  1000 during Full indexing, 10 during incremental indexing

maxMergeDocs:  Integer.MAX_VALUE during full indexing, 1000 during
incremental indexing

=20

Do these values seem reasonable?  Are there better settings before I
start experimenting?

=20

Since mergeFactor is used in both addDocument() and optimize(), I'm
thinking of using two different values in case 2:  10 during the
incremental indexing, and then 1000 during the optimize.  Is changing
the value like this going to cause a problem?


Thanks for any advice,

=20

Chuck

=20

=20


------_=_NextPart_001_01C4D973.87865210--

From MAILER-DAEMON Fri Dec  3 21:02:08 2004
Return-Path: 
 <lucene-user-return-11624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83633 invoked from network); 3 Dec 2004 21:02:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 21:02:08 -0000
Received: (qmail 68232 invoked by uid 500); 3 Dec 2004 21:02:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68213 invoked by uid 500); 3 Dec 2004 21:02:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68198 invoked by uid 99); 3 Dec 2004 21:02:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr2.xs4all.nl (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 13:02:00 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.12.11/8.12.11) with ESMTP id iB3L1vY0042052
	for <lucene-user@jakarta.apache.org>; Fri, 3 Dec 2004 22:01:58 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: IndexWriter.optimize and memory usage
Date: Fri, 3 Dec 2004 22:01:57 +0100
User-Agent: KMail/1.5.4
References: <20041203050756.62308.qmail@web12706.mail.yahoo.com>
 <Pine.LNX.4.58.0412022216040.17289@hal.rescomp.berkeley.edu>
 <200412030843.07163.paul.elschot@xs4all.nl>
In-Reply-To: <200412030843.07163.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412032201.57739.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 03 December 2004 08:43, Paul Elschot wrote:
> On Friday 03 December 2004 07:50, Chris Hostetter wrote:
=2E..
> > So, If I'm understanding you (and the javadocs) correctly, the real key
> > here is maxMergeDocs. =A0It seems like addDocument will never merge a
> > segment untill maxMergeDocs have been added? ... meaning that I need a
> > value less then the default (Integer.MAX_VALUE) if I want IndexWriter to
> > do incrimental merges as I go ...
> >=20
> > =A0=A0=A0=A0...except...
> >=20
> > ...if that were the case, then exactly is the meaning of mergeFactor?

<oops correction=3D"minMergeDocs should be replaced by mergeFactor:">

> maxMergeDocs controls the sizes of the intermediate segments
> when adding documents.
> With maxMergeDocs at default, adding a document can take as much time as
: (and have the same effect as) optimize. =A0Eg. with mergeFactor at 10, the
> 1000'th added document will create a segment of size 1000.
> With maxMergeDocs at a lower value than 1000, the last merge (of the 10
> segments with 100 docs each) will not be done.
: optimize() uses mergeFactor for its final merges, but it ignores
> maxMergeDocs.=20

</oops>

Meanwhile these fields have been deprecated in the development
version for set... methods.
Setting minMergeDocs is is deprecated and to be replaced by
setMaxBufferedDocs(). The javadoc for this reads:

"Determines the minimal number of documents required before the buffered=20
in-memory documents are merging and a new Segment is created. Since Documen=
ts=20
are merged in a RAMDirectory, large value gives faster indexing. At the sam=
e=20
time, mergeFactor limits the number of files open in a FSDirectory."

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 22:31:19 2004
Return-Path: 
 <lucene-user-return-11625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26294 invoked from network); 3 Dec 2004 22:31:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 22:31:19 -0000
Received: (qmail 83204 invoked by uid 500); 3 Dec 2004 22:31:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83183 invoked by uid 500); 3 Dec 2004 22:31:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83170 invoked by uid 99); 3 Dec 2004 22:31:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.193 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 14:31:11 -0800
Received: by wproxy.gmail.com with SMTP id 50so50145wri
        for <lucene-user@jakarta.apache.org>;
 Fri, 03 Dec 2004 14:31:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=SGejop+sWjb5MF/2utgKmuyow11hGNAfV781fzJwoawteW9VmyxFNQi/51Ur19GhsEsu7tZIff4IFYzpULFXOn4pWDO0rPkryBSQqCnezHKyyI5nhEg2AlPKwR75J1xovTBv7HN1naaXhKi+txmAjgod3dgIuyM+VeGbX4hLr3Y=
Received: by 10.54.51.65 with SMTP id y65mr5575wry;
        Fri, 03 Dec 2004 14:31:03 -0800 (PST)
Received: by 10.54.30.73 with HTTP; Fri, 3 Dec 2004 14:31:03 -0800 (PST)
Message-ID: <e4ae55b904120314314cfae79b@mail.gmail.com>
Date: Fri, 3 Dec 2004 23:31:03 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: lucene-user <lucene-user@jakarta.apache.org>
Subject: restricting search result
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
how yould you restrict the search results for a certain user? I'm
indexing all the existing data in my application but there are certain
access levels so some users should see more results then an other.
Each lucene document has a field with an internal id and I want to
restrict on that basis. I tried it with adding a long concatenation of
my ids ("+locationId:1 +locationId:3 + ...") but this throws a "More
than 32 required/prohibited clauses in query." exception.
Any suggestions?
thx!
Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  3 23:02:11 2004
Return-Path: 
 <lucene-user-return-11626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42988 invoked from network); 3 Dec 2004 23:02:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Dec 2004 23:02:11 -0000
Received: (qmail 49238 invoked by uid 500); 3 Dec 2004 23:02:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49213 invoked by uid 500); 3 Dec 2004 23:02:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49198 invoked by uid 99); 3 Dec 2004 23:02:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates
 195.2.83.226 as permitted sender)
Received: from mail3.zmail.ru (HELO frontend3.aha.ru) (195.2.83.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 03 Dec 2004 15:02:03 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.2.6)
  with ESMTP id 89928404 for lucene-user@jakarta.apache.org;
 Sat, 04 Dec 2004 02:01:59 +0300
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
Date: Sat, 4 Dec 2004 02:05:49 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
thread-index: AcTXtNwabHK5H8HSQ5W04q2IGR8KhgBCeYPwADNvCIA=
In-Reply-To: <auto-000115273806@frontend1.aha.ru>
Message-ID: <auto-000089928404@frontend3.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: George Aroush [mailto:george@aroush.net] 

> I don't know how Lucene.Net 1.3 was converted to C# by Pasha 
> Bizhan but I like to hear from him.

We don't use any tools.

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 00:31:27 2004
Return-Path: 
 <lucene-user-return-11627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88859 invoked from network); 4 Dec 2004 00:31:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 00:31:27 -0000
Received: (qmail 5851 invoked by uid 500); 4 Dec 2004 00:31:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5829 invoked by uid 500); 4 Dec 2004 00:31:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5804 invoked by uid 99); 4 Dec 2004 00:31:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 03 Dec 2004 16:31:20 -0800
Received: (qmail 60652 invoked by uid 60001); 4 Dec 2004 00:31:18 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=vP4XbXUHSpAG2kpHnzF9wMOK3S5Q45ykM50fFySxesF/KNphTzP7mDPQIJrRWy0aE6mcPRVMjTCiPX64W3f97KJQuAbVdqBSCtGLgF7G1A65jxAnz1no8yMRbzMFIBV3XqXFjBduQSbdUuNzSRzNWa+T4u51HqYVHUQGDmJ+Lu0=
  ;
Message-ID: <20041204003118.60650.qmail@web12706.mail.yahoo.com>
Received: from [69.201.130.149] by web12706.mail.yahoo.com via HTTP;
 Fri, 03 Dec 2004 16:31:18 PST
Date: Fri, 3 Dec 2004 16:31:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: restricting search result
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Paul <paul.fuehring@gmail.com>
In-Reply-To: <e4ae55b904120314314cfae79b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is entirely application-specific.  As the simplest approach, you
can index each user's documents in a separate index and use
(Parallel)MultiSearcher to search appropriate indices (which ones are
appropriate to search has to be a part of your app's access control
logic).

Otis


--- Paul <paul.fuehring@gmail.com> wrote:

> Hi,
> how yould you restrict the search results for a certain user? I'm
> indexing all the existing data in my application but there are
> certain
> access levels so some users should see more results then an other.
> Each lucene document has a field with an internal id and I want to
> restrict on that basis. I tried it with adding a long concatenation
> of
> my ids ("+locationId:1 +locationId:3 + ...") but this throws a "More
> than 32 required/prohibited clauses in query." exception.
> Any suggestions?
> thx!
> Paul
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 00:38:48 2004
Return-Path: 
 <lucene-user-return-11628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91730 invoked from network); 4 Dec 2004 00:38:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 00:38:48 -0000
Received: (qmail 19798 invoked by uid 500); 4 Dec 2004 00:38:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19723 invoked by uid 500); 4 Dec 2004 00:38:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19682 invoked by uid 99); 4 Dec 2004 00:38:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 03 Dec 2004 16:38:36 -0800
Received: (qmail 60924 invoked by uid 60001); 4 Dec 2004 00:38:35 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=6ZloZfSN+EINwPDWtHfog1KXw5oAF60AzFnLJxlAePp5p6GQY888/1yhP454L9SuZyaPOuEcX6MX4PrTBFWoEbFYJS4dbg0MHUIi1+aG4DSZn7DtJ/kl7XlC8fO6F3gvqQf6rJPiEnJyynA0P5j5g+to3zgYOSxczlsaow7Fgk0=
  ;
Message-ID: <20041204003834.60922.qmail@web12704.mail.yahoo.com>
Received: from [69.201.130.149] by web12704.mail.yahoo.com via HTTP;
 Fri, 03 Dec 2004 16:38:34 PST
Date: Fri, 3 Dec 2004 16:38:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02B4688F@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In my experiments with mergeFactor I found the point of diminishing/no
returns.  If I remember correctly, I hit the limit at mergeFactor of
50.

But here is something from Lucene in Action that you can use to play
with various index tuning factors and see their effect on indexing
performance.  It's simple, and if you want to test all 3 of your
scenarios, you will have to modify it.

package lia.indexing;

import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;

/**
 *
 */
public class IndexTuningDemo {

  public static void main(String[] args) throws Exception {
    int docsInIndex  = Integer.parseInt(args[0]);

    // create an index called 'index-dir' in a temp directory
    Directory dir = FSDirectory.getDirectory(
      System.getProperty("java.io.tmpdir", "tmp") +
      System.getProperty("file.separator") + "index-dir", true);
    Analyzer analyzer = new SimpleAnalyzer();
    IndexWriter writer = new IndexWriter(dir, analyzer, true);

    // set variables that affect speed of indexing
    writer.mergeFactor   = Integer.parseInt(args[1]);
    writer.maxMergeDocs  = Integer.parseInt(args[2]);
    writer.minMergeDocs  = Integer.parseInt(args[3]);
    writer.infoStream    = System.out;

    System.out.println("Merge factor:   " + writer.mergeFactor);
    System.out.println("Max merge docs: " + writer.maxMergeDocs);
    System.out.println("Min merge docs: " + writer.minMergeDocs);

    long start = System.currentTimeMillis();
    for (int i = 0; i < docsInIndex; i++) {
      Document doc = new Document();
      doc.add(Field.Text("fieldname", "Bibamus"));
      writer.addDocument(doc);
    }
    writer.close();
    long stop = System.currentTimeMillis();
    System.out.println("Time: " + (stop - start) + " ms");
  }
}


Otis


--- Chuck Williams <chuck@manawiz.com> wrote:

> I'm wondering what values of mergeFactor, minMergeDocs and
> maxMergeDocs
> people have found to yield the best performance for different
> configurations.  Is there a repository of this information anywhere?
> 
>  
> 
> I've got about 30k documents and have 3 indexing scenarios:
> 
> 1.       Full indexing and optimize
> 
> 2.       Incremental indexing and optimize
> 
> 3.       Parallel incremental indexing without optimize
> 
>  
> 
> Search performance is critical.  For both cases 1 and 2, I'd like the
> fastest possible indexing time.  For case 3, I'd like minimal pauses
> and
> no noticeable degradation in search performance.
> 
>  
> 
> Based on reading the code (including the javadocs comments), I'm
> thinking of values along these lines:
> 
>  
> 
> mergeFactor:  1000 during Full indexing, and during optimize (for
> both
> cases 1 and 2); 10 during incremental indexing (cases 2 and 3)
> 
> minMergeDocs:  1000 during Full indexing, 10 during incremental
> indexing
> 
> maxMergeDocs:  Integer.MAX_VALUE during full indexing, 1000 during
> incremental indexing
> 
>  
> 
> Do these values seem reasonable?  Are there better settings before I
> start experimenting?
> 
>  
> 
> Since mergeFactor is used in both addDocument() and optimize(), I'm
> thinking of using two different values in case 2:  10 during the
> incremental indexing, and then 1000 during the optimize.  Is changing
> the value like this going to cause a problem?
> 
> 
> Thanks for any advice,
> 
>  
> 
> Chuck
> 
>  
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 00:44:11 2004
Return-Path: 
 <lucene-user-return-11629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94815 invoked from network); 4 Dec 2004 00:44:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 00:44:11 -0000
Received: (qmail 26109 invoked by uid 500); 4 Dec 2004 00:44:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26089 invoked by uid 500); 4 Dec 2004 00:44:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26076 invoked by uid 99); 4 Dec 2004 00:44:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12703.mail.yahoo.com (HELO web12703.mail.yahoo.com)
 (216.136.173.240)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 03 Dec 2004 16:44:03 -0800
Received: (qmail 22654 invoked by uid 60001); 4 Dec 2004 00:44:02 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=2snOn1X6TwancYxcasOvGvq90wfsjylPylDS0Ogj0M6MYohprnBesZtD2klXpmpMxB7HNdb8r5lIUuy8VPMhuvfdwvrW+Dx1wFuxybczYKbEsEHLpuw5t2DQNVHY9ZzW5/AFM25npelKWkGtI3HAwre+Nl4SybCLVROgAYUqBI4=
  ;
Message-ID: <20041204004401.22652.qmail@web12703.mail.yahoo.com>
Received: from [69.201.130.149] by web12703.mail.yahoo.com via HTTP;
 Fri, 03 Dec 2004 16:44:01 PST
Date: Fri, 3 Dec 2004 16:44:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document-Map, Hits-List
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1101918718.3318.2.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, it's not wise to just pull all Document instances from Hits
instance, unless you really need them all.  I don't do that, I really
just provide a wrapper, like this:

/**
 * A simple List implementation wrapping a Hits object.
 *
 * @author Otis Gospodnetic
 * @version $Id: HitList.java,v 1.4 2004/11/11 14:08:33 otis Exp $
 */
public class HitList extends AbstractList
{
    private Hits _hits;

    /**
     * Creates a new <code>HitList</code> instance.
     *
     * @param hits <code>Hits</code> to wrap
     */
    public HitList(Hits hits)
    {
        _hits = hits;
    }

    /**
     * @see java.util.List#get(int)
     */
    public Object get(int index)
    {
        try {
            return _hits.doc(index);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }

    /**
     * @see java.util.List#size()
     */
    public int size() {
        return _hits.length();
    }


...
...

Otis


--- Luke Francl <luke.francl@stellent.com> wrote:

> On Wed, 2004-12-01 at 10:27, Otis Gospodnetic wrote:
> 
> > This is very similar to what I do - I create a List of Maps from
> Hits
> > and its Documents.  So I think this change may be handy, if doable
> (I
> > didn't look into changing the two Lucene classes, actually).
> 
> 
> How do you avoid the problem Eric just mentioned, iterating through
> all
> the Hits at once to populate this data structure?
> 
> I do a similar thing, creating a List of asset references from a
> field
> in each Lucene Document in my Hits list (actual data for display
> retrieved from a separate datastore). I was not aware of any
> performance
> problems from doing this, but now I am wondering about the
> implications.
> 
> Thanks,
> Luke
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 09:23:00 2004
Return-Path: 
 <lucene-user-return-11630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28949 invoked from network); 4 Dec 2004 09:23:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 09:23:00 -0000
Received: (qmail 60068 invoked by uid 500); 4 Dec 2004 09:22:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60046 invoked by uid 500); 4 Dec 2004 09:22:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60028 invoked by uid 99); 4 Dec 2004 09:22:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.206 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 01:22:50 -0800
Received: by rproxy.gmail.com with SMTP id z35so8367rne
        for <lucene-user@jakarta.apache.org>;
 Sat, 04 Dec 2004 01:22:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=gdvWHpHqUFNAjXLlbhJCsPiQzb7cBjsL71eAc6TRbjfdWmljoXkkZiFz1LgY/hW2g60NujIayKyNDxOJehyRiks+eYukSp9TIkGdqxsiB29EoHRpdiaB3UN1W9Q2ZBwdMyS1iWMzc9EjlDj312YTSXQ7s4O9P6hr9CAZP54Z9dQ=
Received: by 10.38.181.62 with SMTP id d62mr104386rnf;
        Sat, 04 Dec 2004 01:22:48 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Sat, 4 Dec 2004 01:22:48 -0800 (PST)
Message-ID: <8837fb77041204012262c22f67@mail.gmail.com>
Date: Sat, 4 Dec 2004 01:22:48 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
In-Reply-To: <20041204003834.60922.qmail@web12704.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4688F@reh001-1.REX001.ExchangeByRegister.com>
	 <20041204003834.60922.qmail@web12704.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We've found something interesting about mergeFactors.

We are indexing a million documents with a batch of 1000.
We first set the mergeFactor to 1000.

What we found is at every 10th commit, we see a significant spike in
indexing time.

The reason is that the indexer is trying to merge the segments every
10th commit, e.g 10*mergeFactor, since the mergeFactor is large, the
merge time is also long.

The example given in the previous email thread indexes identical
documents, merge time is very fast since no new terms are introduced
as indexing proceeds. Hence it may hide this overhead.

We found mergeFactor=100 worked well for our application.

Cheers

-John

On Fri, 3 Dec 2004 16:38:34 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> In my experiments with mergeFactor I found the point of diminishing/no
> returns.  If I remember correctly, I hit the limit at mergeFactor of
> 50.
> 
> But here is something from Lucene in Action that you can use to play
> with various index tuning factors and see their effect on indexing
> performance.  It's simple, and if you want to test all 3 of your
> scenarios, you will have to modify it.
> 
> package lia.indexing;
> 
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.SimpleAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> 
> /**
> *
> */
> public class IndexTuningDemo {
> 
>  public static void main(String[] args) throws Exception {
>    int docsInIndex  = Integer.parseInt(args[0]);
> 
>    // create an index called 'index-dir' in a temp directory
>    Directory dir = FSDirectory.getDirectory(
>      System.getProperty("java.io.tmpdir", "tmp") +
>      System.getProperty("file.separator") + "index-dir", true);
>    Analyzer analyzer = new SimpleAnalyzer();
>    IndexWriter writer = new IndexWriter(dir, analyzer, true);
> 
>    // set variables that affect speed of indexing
>    writer.mergeFactor   = Integer.parseInt(args[1]);
>    writer.maxMergeDocs  = Integer.parseInt(args[2]);
>    writer.minMergeDocs  = Integer.parseInt(args[3]);
>    writer.infoStream    = System.out;
> 
>    System.out.println("Merge factor:   " + writer.mergeFactor);
>    System.out.println("Max merge docs: " + writer.maxMergeDocs);
>    System.out.println("Min merge docs: " + writer.minMergeDocs);
> 
>    long start = System.currentTimeMillis();
>    for (int i = 0; i < docsInIndex; i++) {
>      Document doc = new Document();
>      doc.add(Field.Text("fieldname", "Bibamus"));
>      writer.addDocument(doc);
>    }
>    writer.close();
>    long stop = System.currentTimeMillis();
>    System.out.println("Time: " + (stop - start) + " ms");
>  }
> }
> 
> Otis
> 
> 
> 
> 
> --- Chuck Williams <chuck@manawiz.com> wrote:
> 
> > I'm wondering what values of mergeFactor, minMergeDocs and
> > maxMergeDocs
> > people have found to yield the best performance for different
> > configurations.  Is there a repository of this information anywhere?
> >
> >
> >
> > I've got about 30k documents and have 3 indexing scenarios:
> >
> > 1.       Full indexing and optimize
> >
> > 2.       Incremental indexing and optimize
> >
> > 3.       Parallel incremental indexing without optimize
> >
> >
> >
> > Search performance is critical.  For both cases 1 and 2, I'd like the
> > fastest possible indexing time.  For case 3, I'd like minimal pauses
> > and
> > no noticeable degradation in search performance.
> >
> >
> >
> > Based on reading the code (including the javadocs comments), I'm
> > thinking of values along these lines:
> >
> >
> >
> > mergeFactor:  1000 during Full indexing, and during optimize (for
> > both
> > cases 1 and 2); 10 during incremental indexing (cases 2 and 3)
> >
> > minMergeDocs:  1000 during Full indexing, 10 during incremental
> > indexing
> >
> > maxMergeDocs:  Integer.MAX_VALUE during full indexing, 1000 during
> > incremental indexing
> >
> >
> >
> > Do these values seem reasonable?  Are there better settings before I
> > start experimenting?
> >
> >
> >
> > Since mergeFactor is used in both addDocument() and optimize(), I'm
> > thinking of using two different values in case 2:  10 during the
> > incremental indexing, and then 1000 during the optimize.  Is changing
> > the value like this going to cause a problem?
> >
> >
> > Thanks for any advice,
> >
> >
> >
> > Chuck
> >
> >
> >
> >
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 09:53:44 2004
Return-Path: 
 <lucene-user-return-11631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38546 invoked from network); 4 Dec 2004 09:53:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 09:53:44 -0000
Received: (qmail 90863 invoked by uid 500); 4 Dec 2004 09:53:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90798 invoked by uid 500); 4 Dec 2004 09:53:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90783 invoked by uid 99); 4 Dec 2004 09:53:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr13.xs4all.nl (HELO smtp-vbr13.xs4all.nl)
 (194.109.24.33)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 01:53:37 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.12.11/8.12.11) with ESMTP id iB49rYi4009466
	for <lucene-user@jakarta.apache.org>; Sat, 4 Dec 2004 10:53:34 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: restricting search result
Date: Sat, 4 Dec 2004 10:53:34 +0100
User-Agent: KMail/1.5.4
References: <e4ae55b904120314314cfae79b@mail.gmail.com>
In-Reply-To: <e4ae55b904120314314cfae79b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412041053.34545.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul, 

On Friday 03 December 2004 23:31, you wrote:
> Hi,
> how yould you restrict the search results for a certain user? I'm

One way to restrict results is by using a Filter.

> indexing all the existing data in my application but there are certain
> access levels so some users should see more results then an other.
> Each lucene document has a field with an internal id and I want to
> restrict on that basis. I tried it with adding a long concatenation of
> my ids ("+locationId:1 +locationId:3 + ...") but this throws a "More
> than 32 required/prohibited clauses in query." exception.
> Any suggestions?

Using a + before each term requires them all, ie. uses AND, which
would normally have an empty result for an Id field.
You might prefer this query concatenation:

+(locationId:1 locationId:3 ...)

It effectively OR's the locationId content query and requires
only one of the terms to match.

In this case using a Filter would probably be better, though.

Regards,
Paul


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 11:45:13 2004
Return-Path: 
 <lucene-user-return-11632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69871 invoked from network); 4 Dec 2004 11:45:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 11:45:13 -0000
Received: (qmail 14562 invoked by uid 500); 4 Dec 2004 11:44:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14538 invoked by uid 500); 4 Dec 2004 11:44:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14503 invoked by uid 99); 4 Dec 2004 11:44:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 03:44:57 -0800
Received: by wproxy.gmail.com with SMTP id 70so9614wra
        for <lucene-user@jakarta.apache.org>;
 Sat, 04 Dec 2004 03:44:55 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=X6Ef6EJ1cv6rd3yarzG3msdeLbiGU+mHYjMhb2J5NXmzV/NgG/payuODLNB/+pcfEZtRPu5JzfxEitZfI/WshOW9hjenP0iLux/AVLWspCV2vJY1k2Gj7YSUTxVvdMWg3tpD7NXud7DlCA2D1ujUG7hLsqVrfs0RG6in0Q07j08=
Received: by 10.54.41.53 with SMTP id o53mr295685wro;
        Sat, 04 Dec 2004 03:44:55 -0800 (PST)
Received: by 10.54.30.73 with HTTP; Sat, 4 Dec 2004 03:44:54 -0800 (PST)
Message-ID: <e4ae55b9041204034438a9cb7@mail.gmail.com>
Date: Sat, 4 Dec 2004 12:44:54 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: restricting search result
In-Reply-To: <200412041053.34545.paul.elschot@xs4all.nl>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <e4ae55b904120314314cfae79b@mail.gmail.com>
	 <200412041053.34545.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The thing with the different indexes sound too complecated because the
users (and their rights) as well as the index itself change quite
often.

> One way to restrict results is by using a Filter.

but a filter is applied after the whole search is performed, isn't it?
I thought it might be faster to restrict the search space in advance


> Using a + before each term requires them all, ie. uses AND, which
> would normally have an empty result for an Id field.

d'oh, yes of course..

> You might prefer this query concatenation:
> 
> +(locationId:1 locationId:3 ...)

ok, that sounds very nice and works fine. But I will have a closer
look at the filter as well.

Thank you all
Paul


P.S. someone without gmail account? mail me

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 15:00:46 2004
Return-Path: 
 <lucene-user-return-11634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40219 invoked from network); 4 Dec 2004 15:00:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 15:00:46 -0000
Received: (qmail 29617 invoked by uid 500); 4 Dec 2004 15:00:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29601 invoked by uid 500); 4 Dec 2004 15:00:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29584 invoked by uid 99); 4 Dec 2004 15:00:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 07:00:36 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 099A613E28F7; Sat,  4 Dec 2004 10:00:33 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id ABDBD13E2006
	for <lucene-user@jakarta.apache.org>; Sat,  4 Dec 2004 10:00:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <e4ae55b9041204034438a9cb7@mail.gmail.com>
References: <e4ae55b904120314314cfae79b@mail.gmail.com>
 <200412041053.34545.paul.elschot@xs4all.nl>
 <e4ae55b9041204034438a9cb7@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0069D08F-4603-11D9-88D4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: restricting search result
Date: Sat, 4 Dec 2004 09:44:28 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 4, 2004, at 6:44 AM, Paul wrote:
>> One way to restrict results is by using a Filter.
>
> but a filter is applied after the whole search is performed, isn't it?

Incorrect.  A filter is applied *before* the search truly occurs - in 
other words it reduces the search space.

Here is a code example using an "owner" field to filter on:

public class SecurityFilterTest extends TestCase {
   private RAMDirectory directory;

   protected void setUp() throws Exception {
     directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory,
         new WhitespaceAnalyzer(), true);

     // Elwood
     Document document = new Document();
     document.add(Field.Keyword("owner", "elwood"));
     document.add(Field.Text("keywords", "elwoods sensitive info"));
     writer.addDocument(document);

     // Jake
     document = new Document();
     document.add(Field.Keyword("owner", "jake"));
     document.add(Field.Text("keywords", "jakes sensitive info"));
     writer.addDocument(document);

     writer.close();
   }

   public void testSecurityFilter() throws Exception {
     TermQuery query = new TermQuery(new Term("keywords", "info"));

     IndexSearcher searcher = new IndexSearcher(directory);
     Hits hits = searcher.search(query);
     assertEquals("Both documents match", 2, hits.length());

     QueryFilter jakeFilter = new QueryFilter(
         new TermQuery(new Term("owner", "jake")));

     hits = searcher.search(query, jakeFilter);
     assertEquals(1, hits.length());
     assertEquals("elwood is safe",
         "jakes sensitive info", hits.doc(0).get("keywords"));
   }

}

If you index a field that can be used for filtering purposes, 
QueryFilter will do the trick nicely.  One recommendation when using a 
filter though - be sure to keep the instance around over multiple 
searches.  QueryFilter first does a TermQuery on the term provided to 
pre-screen the documents available to the Query passed to the search 
method.  Since you're doing this on a per-user basis, my recommendation 
is to keep their filter, once created, around in their session (in a 
web application) or wherever appropriate in another type of 
environment.

The above code example is directly from Lucene in Action.  I will make 
the complete source code distribution available early this coming week, 
as soon as Manning releases the electronic book edition.  We have been 
told the e-book will be available from http://www.manning.com/hatcher2 
on Monday.  Rest assured Otis or I will announce it as soon as it's 
officially there.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 15:44:31 2004
Return-Path: 
 <lucene-user-return-11635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53793 invoked from network); 4 Dec 2004 15:44:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 15:44:31 -0000
Received: (qmail 85992 invoked by uid 500); 4 Dec 2004 15:44:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85746 invoked by uid 500); 4 Dec 2004 15:44:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85730 invoked by uid 99); 4 Dec 2004 15:44:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr8.xs4all.nl (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 07:44:23 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.12.11/8.12.11) with ESMTP id iB4FiKZv044222
	for <lucene-user@jakarta.apache.org>; Sat, 4 Dec 2004 16:44:20 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: restricting search result
Date: Sat, 4 Dec 2004 16:44:19 +0100
User-Agent: KMail/1.5.4
References: <e4ae55b904120314314cfae79b@mail.gmail.com>
 <e4ae55b9041204034438a9cb7@mail.gmail.com>
 <0069D08F-4603-11D9-88D4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <0069D08F-4603-11D9-88D4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412041644.19801.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 04 December 2004 15:44, Erik Hatcher wrote:
> On Dec 4, 2004, at 6:44 AM, Paul wrote:
> >> One way to restrict results is by using a Filter.
> >
> > but a filter is applied after the whole search is performed, isn't it?
> 
> Incorrect.  A filter is applied *before* the search truly occurs - in 
> other words it reduces the search space.

Currently a filter is applied during search, after the document
score is computed, but before a document is added to the search results.

In practice, the score computation is much less work than the I/O, so
a filter does reduce the search space.

A filter might also be used to reduce the I/O for searching, but Lucene
doesn't do that now, probably because there was little to gain.


Regards,
Paul Elschot.

P.S. The code doing the filtering is in IndexSearcher.java, from line 97.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 18:24:48 2004
Return-Path: 
 <lucene-user-return-11636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27688 invoked from network); 4 Dec 2004 18:24:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 18:24:48 -0000
Received: (qmail 30248 invoked by uid 500); 4 Dec 2004 18:24:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30224 invoked by uid 500); 4 Dec 2004 18:24:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30207 invoked by uid 99); 4 Dec 2004 18:24:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com
 designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 10:24:40 -0800
Received: by rproxy.gmail.com with SMTP id c16so36757rne
        for <lucene-user@jakarta.apache.org>;
 Sat, 04 Dec 2004 10:24:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=gpKB6xQKuRZxiZwgjLMpxKX9Cas+5+5GglN5GwCBTBX7eq/zPlvCjVBLFwWhDoATpNvBQmRXg7hl0CrxLdLvtvUDyJ8uIfV+C7L5r5xo1IU9ZiMg8Ve3endrhShFkjxrBFTuLiWULRTgsVuSiTfxRo9PZ9Hc0/4X9yPauK/d0Oc=
Received: by 10.38.86.4 with SMTP id j4mr1297579rnb;
        Sat, 04 Dec 2004 10:24:38 -0800 (PST)
Received: by 10.38.90.31 with HTTP; Sat, 4 Dec 2004 10:24:38 -0800 (PST)
Message-ID: <cbdebdf80412041024254368aa@mail.gmail.com>
Date: Sat, 4 Dec 2004 10:24:38 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: structuring a multifield query
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey there folks.. I'm having a bit of trouble figuring out how to use
and AND term among all terms, but spread throughout the fields.

I currently use the static MultiFieldQueryParser method to parse my query..

basically I have several fields.. title, contents, and a few others...
and I would like a query such as    "super computer" to do the
standard distribution amongst the fields, but I believe currently all
these terms are done in an OR fashion.. but I would prefer it so that
they much all match somewhere.. i.e.  "super" could match in the title
and "computer" in the content, but they must match somewhere....  I
obviously was able to do this when I queried a single field, is there
a schema to apply this to multiple fields?

-- 
___________________________________________________
Chris Fraschetti, Student
http://meteora.cs.usfca.edu

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  4 21:25:58 2004
Return-Path: 
 <lucene-user-return-11637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3420 invoked from network); 4 Dec 2004 21:25:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Dec 2004 21:25:58 -0000
Received: (qmail 71171 invoked by uid 500); 4 Dec 2004 21:24:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71085 invoked by uid 500); 4 Dec 2004 21:24:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70955 invoked by uid 99); 4 Dec 2004 21:24:47 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 13:24:43 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: structuring a multifield query
Date: Sat, 4 Dec 2004 13:24:34 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02B4696F@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: structuring a multifield query
Thread-Index: AcTaLokG4kfZL2ttQ9yyjVYvDc7vSQAGBgnQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Chris Fraschetti" <fraschetti@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There are at least 3 different ways to achieve this.  You need to expand
the query such that the terms which spread a single word across fields
are combined differently from the terms which combine the words.  You
want to boost the score of the result based on different words matching,
but not count the scores of a single word matching in multiple fields as
highly.

I created a MaxDisjunctionQuery to use as the expansion of a single word
across multiple fields precisely to solve this problem.  You combine the
MaxDisjunctionQuery's within an encompassing BooleanQuery with one
field-expanding MaxDisjunctionQuery for each separate word.

Paul Elschot created a DisjunctionQuery that can be used similarly.

Doug Cutting proposed a solution using just BooleanQuery's with
different Similarity's (and some method specialization as I recall).

If you search the archives for MaxDisjunctionQuery and DisjunctionQuery
you'll find the full discussion and code.

I think that MultiFieldQueryParser should use one of these techniques,
but unfortunately it doesn't, so for most purposes I can think of it
generates poor relevance ranking.  I don't use it because of this.

Chuck

  > -----Original Message-----
  > From: Chris Fraschetti [mailto:fraschetti@gmail.com]
  > Sent: Saturday, December 04, 2004 10:25 AM
  > To: Lucene Users List
  > Subject: structuring a multifield query
  >=20
  > Hey there folks.. I'm having a bit of trouble figuring out how to
use
  > and AND term among all terms, but spread throughout the fields.
  >=20
  > I currently use the static MultiFieldQueryParser method to parse my
  > query..
  >=20
  > basically I have several fields.. title, contents, and a few
others...
  > and I would like a query such as    "super computer" to do the
  > standard distribution amongst the fields, but I believe currently
all
  > these terms are done in an OR fashion.. but I would prefer it so
that
  > they much all match somewhere.. i.e.  "super" could match in the
title
  > and "computer" in the content, but they must match somewhere....  I
  > obviously was able to do this when I queried a single field, is
there
  > a schema to apply this to multiple fields?
  >=20
  > --
  > ___________________________________________________
  > Chris Fraschetti, Student
  > http://meteora.cs.usfca.edu
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 05:01:22 2004
Return-Path: 
 <lucene-user-return-11638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35373 invoked from network); 5 Dec 2004 05:01:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 05:01:22 -0000
Received: (qmail 3726 invoked by uid 500); 5 Dec 2004 05:01:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3699 invoked by uid 500); 5 Dec 2004 05:01:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3685 invoked by uid 99); 5 Dec 2004 05:01:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of greenlion@gmail.com
 designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 21:01:17 -0800
Received: by rproxy.gmail.com with SMTP id 1so19540rny
        for <lucene-user@jakarta.apache.org>;
 Sat, 04 Dec 2004 21:01:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=c2ZDfzts/qxKAz8vcFdnu25aIi0R86kRig+yW6Wimrjq4JpkGdueRy6ua3JGAbdo0ZU7imCTW9PFvqtes501K90VIY5lc/SPKJOqJo4S/t39tTDhpF5XYkKQb9YKkn1pGdhH8dMC8SAkMq9r4ZrLQiI7lFv4ISHYe8uHkHualU4=
Received: by 10.38.8.40 with SMTP id 40mr885136rnh;
        Sat, 04 Dec 2004 21:01:15 -0800 (PST)
Received: by 10.38.179.4 with HTTP; Sat, 4 Dec 2004 21:01:15 -0800 (PST)
Message-ID: <dd2db8d0041204210167acae3f@mail.gmail.com>
Date: Sun, 5 Dec 2004 00:01:15 -0500
From: Justin Swanhart <greenlion@gmail.com>
Reply-To: Justin Swanhart <greenlion@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: corrupted index
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Somehow today one of my indexes became corrupted.  

I get the following IO exception when trying to open the index:
Exception in thread "main" java.io.IOException: read past EOF
        at org.en.lucene.store.InputStream.refill(InputStream.java:154)
        at org.en.lucene.store.InputStream.readByte(InputStream.java:43)
        at org.en.lucene.store.InputStream.readVInt(InputStream.java:83)
        at org.en.lucene.index.FieldInfos.read(FieldInfos.java:195)
        at org.en.lucene.index.FieldInfos.<init>(FieldInfos.java:55)
        at org.en.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at org.en.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at org.en.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
        at org.en.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:458)
        at org.en.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
        at org.en.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)
        at org.en.global.indexer2.Minnow.main(Minnow.java:142)

Any ideas on what could cause this type of corruption, and what I can
do to avoid it in the future.  Also, any ideas on repairing the index
if this happens?  I removed the index directory and marked the rows to
be reindexed from the database, but the data is unavailable to my
users while the index rebuilds.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 06:36:55 2004
Return-Path: 
 <lucene-user-return-11639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61889 invoked from network); 5 Dec 2004 06:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 06:36:55 -0000
Received: (qmail 80333 invoked by uid 500); 5 Dec 2004 06:36:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80312 invoked by uid 500); 5 Dec 2004 06:36:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80297 invoked by uid 99); 5 Dec 2004 06:36:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of plwton@gmail.com designates
 64.233.184.201 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 04 Dec 2004 22:36:47 -0800
Received: by wproxy.gmail.com with SMTP id 71so4344wra
        for <lucene-user@jakarta.apache.org>;
 Sat, 04 Dec 2004 22:36:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=DRWtf9ED2Pl/7GTLJrTI/orwEuABOnulUV77ojAQtnZUHcrBV1LFbKe5TR5gPECPkd2uN1mY/0fvvMeqozLW2ZPPD2UIAhM9t2pTyfkza8VUUJ3he1RexVeVFuqttxHxWwvMsij+F2liSh+UikyCboZDKYfhN/Bl9McO/ocwNmE=
Received: by 10.54.5.60 with SMTP id 60mr727694wre;
        Sat, 04 Dec 2004 22:36:45 -0800 (PST)
Received: by 10.54.37.7 with HTTP; Sat, 4 Dec 2004 22:36:45 -0800 (PST)
Message-ID: <b35bc169041204223673459ac9@mail.gmail.com>
Date: Sun, 5 Dec 2004 14:36:45 +0800
From: Benson Fang <plwton@gmail.com>
Reply-To: Benson Fang <plwton@gmail.com>
To: Lucene User List <lucene-user@jakarta.apache.org>
Subject: I can't make index for .jsp files with IndexHtml!
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hail everyone,

I am Benson, and this is the first time I raise question via Lucene Users List.

I got a problem: Everytime I try to make an index with IndexHtml for a
directory under Tomcat webapps which includes .html and .jsp files, it
only scans for .html files, but not .jsp files. However, it works
while I make index with IndexFiles.

My command under DOS is as following:
java org.apache.lucene.demo.IndexHTML -create -index /opt/lucene/index
../SampleDirectory
(where 'SampleDirectory' is the name of my target directory)

Thank you!

Benson Fang
-- 
ankh  wdj3  snb 

                      "life, prosperity, health"

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 08:12:57 2004
Return-Path: 
 <lucene-user-return-11640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86454 invoked from network); 5 Dec 2004 08:12:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 08:12:57 -0000
Received: (qmail 54594 invoked by uid 500); 5 Dec 2004 08:12:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54574 invoked by uid 500); 5 Dec 2004 08:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54559 invoked by uid 99); 5 Dec 2004 08:12:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 05 Dec 2004 00:12:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 20D0B13E28F7; Sun,  5 Dec 2004 03:12:45 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 9EA2B13E2005
	for <lucene-user@jakarta.apache.org>; Sun,  5 Dec 2004 03:12:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <b35bc169041204223673459ac9@mail.gmail.com>
References: <b35bc169041204223673459ac9@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6C9DF76C-4695-11D9-99AD-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: I can't make index for .jsp files with IndexHtml!
Date: Sun, 5 Dec 2004 03:12:37 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 5, 2004, at 1:36 AM, Benson Fang wrote:
> I got a problem: Everytime I try to make an index with IndexHtml for a
> directory under Tomcat webapps which includes .html and .jsp files, it
> only scans for .html files, but not .jsp files. However, it works
> while I make index with IndexFiles.

IndexHTML has this in its source code:

if (file.getPath().endsWith(".html") || // index .html files
	       file.getPath().endsWith(".htm") || // index .htm files
	       file.getPath().endsWith(".txt"))...

This is why .jsp files are excluded.

Keep in mind that JSP files are not pure HTML (not even close in most 
cases, especially when using JSF).  I'm not sure what the built-in HTML 
parser will do with .jsp files.  Generally content shouldn't be in the 
view layer, so indexing .jsp pages may or may not be useful.  May I 
suggest switching to a Java web development framework that uses pure 
HTML templates?  Tapestry - http://jakarta.apache.org/tapestry :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 14:21:37 2004
Return-Path: 
 <lucene-user-return-11641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30111 invoked from network); 5 Dec 2004 14:21:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 14:21:37 -0000
Received: (qmail 19659 invoked by uid 500); 5 Dec 2004 14:21:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19640 invoked by uid 500); 5 Dec 2004 14:21:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19625 invoked by uid 99); 5 Dec 2004 14:21:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from master.hyd.deshaw.com (HELO master.hyd.deshaw.com)
 (149.77.160.1)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 05 Dec 2004 06:21:28 -0800
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id iB5ELMUL027627
 for <lucene-user@jakarta.apache.org>; Sun, 5 Dec 2004 19:51:22 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
Subject: Performance hit (if any) using setUseCompoundFile option
Date: Sun, 5 Dec 2004 19:51:22 +0530
Message-ID: <7837FAA857FF274AAE32F4AFA03272924D8F25@mshyd2.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance hit (if any) using setUseCompoundFile option
Thread-Index: AcTa1bID/pHE9y6jTZWBFPoLNUb0CA==
From: "Sreedhar, Dantam" <dantam@deshaw.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

We are using Lucene 1.3 final version. As we faced too many files open
problem, we have used setUseCompoundFile option. Please let me know, are
there any performance hit because of using the setUseCompoundFile
option?

Thanks,
-Sreedhar

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 21:53:47 2004
Return-Path: 
 <lucene-user-return-11644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9807 invoked from network); 5 Dec 2004 21:53:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 21:53:47 -0000
Received: (qmail 72088 invoked by uid 500); 5 Dec 2004 21:53:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72069 invoked by uid 500); 5 Dec 2004 21:53:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72056 invoked by uid 99); 5 Dec 2004 21:53:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 05 Dec 2004 13:53:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 98B2D13E28F9; Sun,  5 Dec 2004 16:53:38 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E996013E20EA
	for <lucene-user@jakarta.apache.org>; Sun,  5 Dec 2004 16:53:36 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <7837FAA857FF274AAE32F4AFA03272924D8F25@mshyd2.hyd.deshaw.com>
References: <7837FAA857FF274AAE32F4AFA03272924D8F25@mshyd2.hyd.deshaw.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5176B81E-46E3-11D9-99AD-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Performance hit (if any) using setUseCompoundFile option
Date: Sun, 5 Dec 2004 12:30:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 5, 2004, at 9:21 AM, Sreedhar, Dantam wrote:
> We are using Lucene 1.3 final version. As we faced too many files open
> problem, we have used setUseCompoundFile option. Please let me know, 
> are
> there any performance hit because of using the setUseCompoundFile
> option?
>

Or how about you tell us if you feel any performance degradation when 
you try it?  :)

I believe the performance degradation is negligible.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  5 20:17:42 2004
Return-Path: 
 <lucene-user-return-11643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69055 invoked from network); 5 Dec 2004 20:17:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Dec 2004 20:17:42 -0000
Received: (qmail 50026 invoked by uid 500); 5 Dec 2004 20:17:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49998 invoked by uid 500); 5 Dec 2004 20:17:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49984 invoked by uid 99); 5 Dec 2004 20:17:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from master.hyd.deshaw.com (HELO master.hyd.deshaw.com)
 (149.77.160.1)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 05 Dec 2004 12:17:31 -0800
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id iB5KHPUL007178
 for <lucene-user@jakarta.apache.org>; Mon, 6 Dec 2004 01:47:26 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
Subject: Memory usage
Date: Mon, 6 Dec 2004 01:47:25 +0530
Message-ID: <7837FAA857FF274AAE32F4AFA03272924FA74A@mshyd2.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memory usage
Thread-Index: AcTbB277v0Bi0MyKQn+dLr9kCRpJ+A==
From: "Sreedhar, Dantam" <dantam@deshaw.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am using lucene -1.3 final version.=20

Let us say there are 10,000 files with size of 20 MB. So, total file
system size =3D 10,000 * 20 MB =3D 200 GB. I want to index these files.

Let us say, the merge factor =3D 10

Min heap size required by JVM =3D 10 * 20 =3D 200 MB

>>From the http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html
article,

------------------------------------------------------------------------
---

For instance, if we set mergeFactor to 10, a new segment will be created
on the disk for every 10 documents added to the index. When the 10th
segment of size 10 is added, all 10 will be merged into a single segment
of size 100. When 10 such segments of size 100 have been added, they
will be merged into a single segment containing 1000 documents, and so
on. Therefore, at any time, there will be no more than 9 segments in
each power of 10 index size.=20

------------------------------------------------------------------------
-----

If the lucene is indexing the 1000th document, then the current time
segment size would be 100. At that time, how many documents would the
lucene hold in memory (10 documents or 100 documents)? If the lucene
holds 100 documents, then min heap memory required will be 100 * 20 =3D =
2
GB, which is unlikely.

Is the optimize process memory intensive? How much memory lucene would
take while doing the optimize?=20

Is it safe to assume that the maximum heap size required by lucene is
mergefactor * maximum_file_size?

I am planning to use the default maxMergeDocs as default, as stated in
the article.

Any help on the above questions is highly appreciated.

Thanks,
-Sreedhar







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 06:19:57 2004
Return-Path: 
 <lucene-user-return-11645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2001 invoked from network); 6 Dec 2004 06:19:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 06:19:57 -0000
Received: (qmail 11823 invoked by uid 500); 6 Dec 2004 06:19:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11799 invoked by uid 500); 6 Dec 2004 06:19:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11784 invoked by uid 99); 6 Dec 2004 06:19:50 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=SUBJ_ALL_CAPS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 05 Dec 2004 22:19:48 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8AFMM00.L3Y for <lucene-user@jakarta.apache.org>; Mon,
          6 Dec 2004 12:05:10 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: LUCENE + 1.4.2
Date: Mon, 6 Dec 2004 11:52:50 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEBKCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys.



Apologies...............



I am not able  to find the  FINAL "Lucene 1.4.2"  SRC any where on
http://jakarta.apache.org/lucene/docs/index.html

Please can some Body Reply the Form with the URL.




      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 08:03:58 2004
Return-Path: 
 <lucene-user-return-11646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43505 invoked from network); 6 Dec 2004 08:03:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 08:03:58 -0000
Received: (qmail 40422 invoked by uid 500); 6 Dec 2004 08:03:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40403 invoked by uid 500); 6 Dec 2004 08:03:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40386 invoked by uid 99); 6 Dec 2004 08:03:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 00:03:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id F0A9C23C4E
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 09:04:08 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 10329-09 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 09:04:08 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id CF3B823C49
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 09:04:08 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iB683fmA000856
	for <lucene-user@jakarta.apache.org>; Mon, 6 Dec 2004 09:03:41 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iB683fZh000852;
	Mon, 6 Dec 2004 09:03:41 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16820.4700.824306.474535@tanto-xipolis.de>
Date: Mon, 6 Dec 2004 09:03:40 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: hits.length() changes during delete process. 
In-Reply-To: <D98ADD74A4E07445A943A90A184B519937950F@zebedee.magus.co.uk>
References: <D98ADD74A4E07445A943A90A184B519937950F@zebedee.magus.co.uk>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David Townsend writes:
> 
> So the short question is, should the hits object be changing and what is the best way to delete all the results of a search (it's a range query so I can't use delete(Term term)? 
> 
The hits object caches only part of the hits (initially the first 100 (?)). 
This cache is extended if further hits are accessed by repeating the search. 
Since you deleted part of the hits at this point, your hits object changes.
You should be able to get around this by either scanning the hits objects
from end to start instead of start to end or deleting with a different
index reader. In the latter case the searcher should not see the deletions.
Reversing the order might be preferable, since it implies only one search
repetition.
(both suggestions untested)

The "best" way would probably be, to avoid a hit object anyway and delete
the documents at the level where the hits object is created. Have a look
at the sources for details. (also untested; I never needed more than 
term based deletions)

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 08:34:18 2004
Return-Path: 
 <lucene-user-return-11647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83121 invoked from network); 6 Dec 2004 08:34:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 08:34:18 -0000
Received: (qmail 88207 invoked by uid 500); 6 Dec 2004 08:34:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88181 invoked by uid 500); 6 Dec 2004 08:34:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88164 invoked by uid 99); 6 Dec 2004 08:34:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO
 proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 00:34:01 -0800
Received: from ifit.uni-klu.ac.at ([143.205.118.100]) by
 proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Mon, 6 Dec 2004 09:33:58 +0100
Message-ID: <41B419FB.6080903@ifit.uni-klu.ac.at>
Date: Mon, 06 Dec 2004 09:36:11 +0100
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: restricting search result
References: <e4ae55b904120314314cfae79b@mail.gmail.com>
In-Reply-To: <e4ae55b904120314314cfae79b@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 06 Dec 2004 08:33:58.0174 (UTC)
 FILETIME=[5460EBE0:01C4DB6E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul wrote:

>Hi,
>how yould you restrict the search results for a certain user? I'm
>indexing all the existing data in my application but there are certain
>access levels so some users should see more results then an other.
>Each lucene document has a field with an internal id and I want to
>restrict on that basis. I tried it with adding a long concatenation of
>my ids ("+locationId:1 +locationId:3 + ...") but this throws a "More
>than 32 required/prohibited clauses in query." exception.
>Any suggestions?
>thx!
>Paul
>  
>
What about indexing security levels with the documents, as numeric value 
and adding the constrains you need on this field?

I asume that the search will be faster in this case.

  Sergiu


>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 09:55:22 2004
Return-Path: 
 <lucene-user-return-11648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27298 invoked from network); 6 Dec 2004 09:55:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 09:55:22 -0000
Received: (qmail 31012 invoked by uid 500); 6 Dec 2004 09:53:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30963 invoked by uid 500); 6 Dec 2004 09:53:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30892 invoked by uid 99); 6 Dec 2004 09:53:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com
 designates 64.233.170.200 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 01:53:47 -0800
Received: by rproxy.gmail.com with SMTP id a41so168984rng
        for <lucene-user@jakarta.apache.org>;
 Mon, 06 Dec 2004 01:53:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=Sg17M2V4RbS9dLjA7VUy2n4HYW0D21Uahvjon3nz6PsdL9U30w/KJU52RJlWiSedcI8oFROeMxvVt+kl59sdZkZU96Te9GQSeZ59T9AybDDZGKZJ3+YWjOM68WoPYBgqQ0ZSZ/uvKH1bETXLARxs7EUniqoNrxDuNb+G967NiJs=
Received: by 10.38.10.38 with SMTP id 38mr335463rnj;
        Mon, 06 Dec 2004 01:53:41 -0800 (PST)
Received: by 10.38.90.6 with HTTP; Mon, 6 Dec 2004 01:53:41 -0800 (PST)
Message-ID: <cbdebdf804120601535278598e@mail.gmail.com>
Date: Mon, 6 Dec 2004 01:53:41 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: reoot site query results
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My lucene implementation works great, its basically an index of many
web crawls. The main thing my users complain about is say a search for
"slashdot" will return the
http://www.slashdot.org/soem_dir/somepage.asp as the top result
because the factors i have scoring it determine it as so... but
obviously in true search engine fashion.. i would like
http://www.slashdot.org/ to be the very top result... i've added a
boost to queries that match the hostname field, which helped a little,
but obviously not a proper solution. Does anyone out there in the
search engine world have a good schema for determining root websites
and applying a huge boost to them in one fashion or another? mainly so
it appears before any sub pages? (assuming the query is in reference
to that site) ...

-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 10:05:51 2004
Return-Path: 
 <lucene-user-return-11649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34760 invoked from network); 6 Dec 2004 10:05:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 10:05:51 -0000
Received: (qmail 52728 invoked by uid 500); 6 Dec 2004 10:05:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52669 invoked by uid 500); 6 Dec 2004 10:05:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52623 invoked by uid 99); 6 Dec 2004 10:05:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 02:05:08 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 6 Dec 2004 10:16:08 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: <lucene-user@jakarta.apache.org>
Subject: addIndexes() Size
Date: Mon, 6 Dec 2004 10:03:24 -0000
Message-ID: <00eb01c4db7a$d4b2d7c0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00EC_01C4DB7A.D4B2D7C0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
X-OriginalArrivalTime: 06 Dec 2004 10:16:08.0375 (UTC)
 FILETIME=[9A435C70:01C4DB7C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00EC_01C4DB7A.D4B2D7C0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi.

=20

Its probably really simple to explain this but since I'm not up to speed =
on
the way Lucene stores the data I'm a little confused.

=20

I'm building an Index, which resides on Server A, with the Lucene =
Service
running on Server B. Now not to bore you with the details but because of =
the
network transfer rate etc I'm running the actual index on \\ServerA\idx
<file:///\\ServerA\idx>  and building a temp Index at \\ServerB\idx\temp
<file:///\\ServerB\idx\temp>  (obviously because the Local FS is much =
faster
for the service) and then calling addIndexes to import the temp index to =
the
ServerA index before destroying the ServerB index, holding for a bit and
then checking for new documents.

=20

All works grand BUT the size of the resultant index on ServerA is HUGE =
in
comparison to one I'd build from start to finish (i.e. a simple =
addDocument
Index) - 38gig for 220,000 Unstored Items cannot be right (to give you =
and
idea of how mad this seems, the backed up version of the database from =
which
the data is pulled is only 2gigs)

=20

I've considered it being perhaps the number of Items that had to be
integrated each time addIndexes was called - right now I'm adding around
10,000 at a time (I had done 1000 at a time but this looked like it was
going to end up even larger still)

=20

I'm holding off twiddling the minMergeDocs and mergeFactor until I can =
get a
better understanding of whats going on here.

=20

Many thanks for any reply's

Garrett

=20


------=_NextPart_000_00EC_01C4DB7A.D4B2D7C0--


From MAILER-DAEMON Mon Dec  6 10:09:54 2004
Return-Path: 
 <lucene-user-return-11650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36854 invoked from network); 6 Dec 2004 10:09:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 10:09:54 -0000
Received: (qmail 63305 invoked by uid 500); 6 Dec 2004 10:09:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63286 invoked by uid 500); 6 Dec 2004 10:09:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63270 invoked by uid 99); 6 Dec 2004 10:09:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 02:09:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E744113E20ED; Mon,  6 Dec 2004 05:09:40 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 2715413E200A
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 05:09:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEBKCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEBKCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E946D211-476E-11D9-88EA-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LUCENE + 1.4.2
Date: Mon, 6 Dec 2004 05:09:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 6, 2004, at 1:22 AM, Karthik N S wrote:
> I am not able  to find the  FINAL "Lucene 1.4.2"  SRC any where on
> http://jakarta.apache.org/lucene/docs/index.html
>
> Please can some Body Reply the Form with the URL.

Actually Lucene 1.4.3 is now available and I recommend you use it 
instead, through the official Jakarta binary downloads.  We're still 
tidying up some loose ends on it before officially announcing it, but 
you can find it here:

	http://www.apache.org/dist/jakarta/lucene/binaries/

We did not release 1.4.1 or 1.4.2 properly, so those binaries are not 
available there currently.  Whether we retroactively put them there is 
still undecided.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 10:13:02 2004
Return-Path: 
 <lucene-user-return-11651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38089 invoked from network); 6 Dec 2004 10:13:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 10:13:02 -0000
Received: (qmail 67624 invoked by uid 500); 6 Dec 2004 10:12:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67570 invoked by uid 500); 6 Dec 2004 10:12:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67555 invoked by uid 99); 6 Dec 2004 10:12:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 02:12:52 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B640313E28F9; Mon,  6 Dec 2004 05:12:50 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 45F7013E200A
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 05:12:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <cbdebdf804120601535278598e@mail.gmail.com>
References: <cbdebdf804120601535278598e@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <549FF060-476F-11D9-88EA-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reoot site query results
Date: Mon, 6 Dec 2004 05:12:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 6, 2004, at 4:53 AM, Chris Fraschetti wrote:
> My lucene implementation works great, its basically an index of many
> web crawls. The main thing my users complain about is say a search for
> "slashdot" will return the
> http://www.slashdot.org/soem_dir/somepage.asp as the top result
> because the factors i have scoring it determine it as so... but
> obviously in true search engine fashion.. i would like
> http://www.slashdot.org/ to be the very top result... i've added a
> boost to queries that match the hostname field, which helped a little,
> but obviously not a proper solution. Does anyone out there in the
> search engine world have a good schema for determining root websites
> and applying a huge boost to them in one fashion or another? mainly so
> it appears before any sub pages? (assuming the query is in reference
> to that site) ...

Consider applying the boost to the Document, rather than the field, at 
index time.  I assume each document in your index represents one page.  
At indexing time you know whether it is a root page or not, right?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 10:45:44 2004
Return-Path: 
 <lucene-user-return-11652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55624 invoked from network); 6 Dec 2004 10:45:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 10:45:44 -0000
Received: (qmail 13311 invoked by uid 500); 6 Dec 2004 10:45:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13254 invoked by uid 500); 6 Dec 2004 10:45:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13204 invoked by uid 99); 6 Dec 2004 10:45:33 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 02:45:32 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8ARX700.N5R for <lucene-user@jakarta.apache.org>; Mon,
          6 Dec 2004 16:30:43 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: LUCENE + 1.4.2
Date: Mon, 6 Dec 2004 16:18:24 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEBMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
Importance: Normal
In-Reply-To: <E946D211-476E-11D9-88EA-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
Erik



Apologies...........


This mean's that Issues w.r.t 1.4.2 and 1.4.1 are fixed in 1.4.3 as of
presently,

1) So u say  We can retrospectively move our under Developemental Code from
to 1.4.3 from 1.4.1 safetly ?.

2) Do we need to Reindex All Of Our Code done via 1.4.1  or continue with
replacement of 1.4.3.jar alone ?.

3) Can we also Have some Announcement on the Form from time to time  when
ever the new and final Versions are released ?.



Thx in advance.
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, December 06, 2004 3:39 PM
To: Lucene Users List
Subject: Re: LUCENE + 1.4.2



On Dec 6, 2004, at 1:22 AM, Karthik N S wrote:
> I am not able  to find the  FINAL "Lucene 1.4.2"  SRC any where on
> http://jakarta.apache.org/lucene/docs/index.html
>
> Please can some Body Reply the Form with the URL.

Actually Lucene 1.4.3 is now available and I recommend you use it
instead, through the official Jakarta binary downloads.  We're still
tidying up some loose ends on it before officially announcing it, but
you can find it here:

	http://www.apache.org/dist/jakarta/lucene/binaries/

We did not release 1.4.1 or 1.4.2 properly, so those binaries are not
available there currently.  Whether we retroactively put them there is
still undecided.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 10:55:15 2004
Return-Path: 
 <lucene-user-return-11653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63422 invoked from network); 6 Dec 2004 10:55:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 10:55:15 -0000
Received: (qmail 31668 invoked by uid 500); 6 Dec 2004 10:55:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31642 invoked by uid 500); 6 Dec 2004 10:55:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31614 invoked by uid 99); 6 Dec 2004 10:55:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com
 designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 02:54:58 -0800
Received: by rproxy.gmail.com with SMTP id a41so171865rng
        for <lucene-user@jakarta.apache.org>;
 Mon, 06 Dec 2004 02:54:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=MuEwfXuQQMlNNtfe4OjRs0pgt2pA/c5Jl05pPn5imsVmDAT6yQsHQogkPmtUCp/lkGbYxvekwRci4zdb0AVoo4oOsx+RWI6tb3dziUo0GfFaqbZmQcniYECM31oTQNswKkYyodYGCTP0anOmiQvkGeRHglLfQhvdlqUGDEqc4PA=
Received: by 10.38.151.65 with SMTP id y65mr348095rnd;
        Mon, 06 Dec 2004 02:54:56 -0800 (PST)
Received: by 10.38.90.6 with HTTP; Mon, 6 Dec 2004 02:54:56 -0800 (PST)
Message-ID: <cbdebdf804120602542767c6ab@mail.gmail.com>
Date: Mon, 6 Dec 2004 02:54:56 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: reoot site query results
In-Reply-To: <549FF060-476F-11D9-88EA-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <cbdebdf804120601535278598e@mail.gmail.com>
	 <549FF060-476F-11D9-88EA-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do this to some extent... currently I apply a boost if its as best i
can tell a root page. But I am more asking how to determine root
pages... content obviously isn't easy to use ... the url is the main
key... but that can be tricky as well...  Basically the pages are from
a crawl.. so their urls so how they were originally linked to.. i.e.
http://www.microsoft.com may have been visited via an outgoing link of
another page as http://www.microsoft.com/index.asp?title=true  or some
variant like that. the page is still the root, but now contains a
page. Further into that I can simple check the hostname of the url
using java's URL class, as well as the path that the URL class gives
me... but how much of a boost would be appropriate. Too must of a
boost might make it return higher than perhaps a non-root page which
is more relevant.


On Mon, 6 Dec 2004 05:12:27 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> 
> 
> 
> On Dec 6, 2004, at 4:53 AM, Chris Fraschetti wrote:
> > My lucene implementation works great, its basically an index of many
> > web crawls. The main thing my users complain about is say a search for
> > "slashdot" will return the
> > http://www.slashdot.org/soem_dir/somepage.asp as the top result
> > because the factors i have scoring it determine it as so... but
> > obviously in true search engine fashion.. i would like
> > http://www.slashdot.org/ to be the very top result... i've added a
> > boost to queries that match the hostname field, which helped a little,
> > but obviously not a proper solution. Does anyone out there in the
> > search engine world have a good schema for determining root websites
> > and applying a huge boost to them in one fashion or another? mainly so
> > it appears before any sub pages? (assuming the query is in reference
> > to that site) ...
> 
> Consider applying the boost to the Document, rather than the field, at
> index time.  I assume each document in your index represents one page.
> At indexing time you know whether it is a root page or not, right?
> 
>        Erik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
___________________________________________________
Chris Fraschetti, Student CompSci System Admin
University of San Francisco
e fraschetti@gmail.com | http://meteora.cs.usfca.edu

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 11:35:06 2004
Return-Path: 
 <lucene-user-return-11654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93755 invoked from network); 6 Dec 2004 11:35:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 11:35:06 -0000
Received: (qmail 97733 invoked by uid 500); 6 Dec 2004 11:34:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97711 invoked by uid 500); 6 Dec 2004 11:34:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97695 invoked by uid 99); 6 Dec 2004 11:34:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mahendra.bhaskar@gmail.com
 designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 03:34:53 -0800
Received: by rproxy.gmail.com with SMTP id z35so147330rne
        for <lucene-user@jakarta.apache.org>;
 Mon, 06 Dec 2004 03:34:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=GZzcgCYVnwHu+o92Jold72GZwS7AM1WcaXGdlXlqzjMf/Mo7CtxO7fs+RJJ3nSWaDCYQtScrsSQRqlZ+qlMNQEDRiki0xRxmZ99cB07TwCl66pGgf0Xqa1q7Kn9+C61lvg9KiOaB/YveHMkg0R9zAJz7PFNOzb/qe6NRZy65Eho=
Received: by 10.38.97.72 with SMTP id u72mr431941rnb;
        Mon, 06 Dec 2004 03:34:52 -0800 (PST)
Received: by 10.38.89.44 with HTTP; Mon, 6 Dec 2004 03:34:51 -0800 (PST)
Message-ID: <4e45e85d041206033435700ec7@mail.gmail.com>
Date: Mon, 6 Dec 2004 17:04:51 +0530
From: Mahendra <mahendra.bhaskar@gmail.com>
Reply-To: Mahendra <mahendra.bhaskar@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Help on Phrase Prefix query
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
 
Presently i am working on a requirement in my application, to do the
search using lucene as follows,
 
Users enters phrase prefix query text. The query should be constructed
as follows,
- a PhrasePrefixQuery based on the user entered text,  for eg FieldA
- a termquery based on another field, for eg FieldB
- a boolean query is constructed based on the above two queries.
 
The search based on the boolean query, does not yield any results.
However, query based on PhrasePrefixQuery and TermQuery is returning
results. Can anyone suggest how
to use PhrasePrefixQuery as part of Booleanquery.
 
-Thanks,
Mahendra

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 13:05:58 2004
Return-Path: 
 <lucene-user-return-11655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54256 invoked from network); 6 Dec 2004 13:05:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 13:05:58 -0000
Received: (qmail 69475 invoked by uid 500); 6 Dec 2004 13:04:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69375 invoked by uid 500); 6 Dec 2004 13:04:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69182 invoked by uid 99); 6 Dec 2004 13:04:25 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_RCVD_HELO,HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 05:04:23 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 4B81D233DE
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 18:28:48 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: <lucene-user@jakarta.apache.org>
Subject: Size Search 
Date: Mon, 6 Dec 2004 18:38:55 +0530
Message-ID: <00f601c4db94$bdac1270$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00F7_01C4DBC2.D7644E70"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F7_01C4DBC2.D7644E70
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi All,

 

I have indexed File sizes....(like 2,4, 5,10,20,etc...)

 

I want search results only the size range between 5 - 20.

 

How can I handle this???

 

 

Natarajan.

 


------=_NextPart_000_00F7_01C4DBC2.D7644E70--


From MAILER-DAEMON Mon Dec  6 13:14:42 2004
Return-Path: 
 <lucene-user-return-11656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59690 invoked from network); 6 Dec 2004 13:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 13:14:42 -0000
Received: (qmail 89810 invoked by uid 500); 6 Dec 2004 13:14:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89790 invoked by uid 500); 6 Dec 2004 13:14:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89758 invoked by uid 99); 6 Dec 2004 13:14:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 05:14:28 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id F1BA81C0AE
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:14:25 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16989-01 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 08:14:25 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id A728D1C0AB
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:14:25 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEBMCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEBMCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C3252F03-4788-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LUCENE + 1.4.2
Date: Mon, 6 Dec 2004 08:14:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 6, 2004, at 5:48 AM, Karthik N S wrote:
> This mean's that Issues w.r.t 1.4.2 and 1.4.1 are fixed in 1.4.3 as of
> presently,

See the CHANGES.txt file for details on what changes took place, but 
yes some issues were fixed.

> 1) So u say  We can retrospectively move our under Developemental Code 
> from
> to 1.4.3 from 1.4.1 safetly ?.

Yes, there should be no problems moving to 1.4.3.

> 2) Do we need to Reindex All Of Our Code done via 1.4.1  or continue 
> with
> replacement of 1.4.3.jar alone ?.

Just replace the JAR.

> 3) Can we also Have some Announcement on the Form from time to time  
> when
> ever the new and final Versions are released ?.

Yes, announcements should happen on the lucene-user list.  Discussions 
related to the releases occur on lucene-dev.  We have dropped the ball 
on the 1.4.1 and 1.4.2 releases by not following the official release 
rules.  We committers are responsible for taking care of all of these 
loose ends but failed to do so in these cases.  The 1.4.3 release has 
stumbled a bit becoming official too, but it at least is mirrored and 
available at the official download site - we still have some loose ends 
to tidy up with that.

I, for one, certainly apologize for not taking care of these 
administrative details.  There really are no excuses - though I've 
certainly not had a shortage of Lucene related efforts consuming my 
time in the past few months.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 13:18:08 2004
Return-Path: 
 <lucene-user-return-11657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60915 invoked from network); 6 Dec 2004 13:18:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 13:18:08 -0000
Received: (qmail 98149 invoked by uid 500); 6 Dec 2004 13:17:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98108 invoked by uid 500); 6 Dec 2004 13:17:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98089 invoked by uid 99); 6 Dec 2004 13:17:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 05:17:44 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 8D1ED1C11F
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:17:42 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 17282-04 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 08:17:42 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 57A521C100
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:17:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <00f601c4db94$bdac1270$8714a8c0@ssl>
References: <00f601c4db94$bdac1270$8714a8c0@ssl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <387512E5-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Size Search 
Date: Mon, 6 Dec 2004 08:17:46 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 6, 2004, at 8:08 AM, Natarajan.T wrote:
> I have indexed File sizes....(like 2,4, 5,10,20,etc...)

How did you index them?

> I want search results only the size range between 5 - 20.
>
> How can I handle this???

See here:

	http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 13:20:11 2004
Return-Path: 
 <lucene-user-return-11658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62041 invoked from network); 6 Dec 2004 13:20:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 13:20:11 -0000
Received: (qmail 1798 invoked by uid 500); 6 Dec 2004 13:19:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1765 invoked by uid 500); 6 Dec 2004 13:19:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1747 invoked by uid 99); 6 Dec 2004 13:19:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 05:19:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 193E41C16C
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:19:50 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16953-09 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 08:19:49 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id D0A7F1BFFD
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:19:49 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4e45e85d041206033435700ec7@mail.gmail.com>
References: <4e45e85d041206033435700ec7@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <846CC862-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Help on Phrase Prefix query
Date: Mon, 6 Dec 2004 08:19:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mahendra,

Could you provide a concrete, and simple, example of what you're trying 
to achieve?  It would help me understand what you're after.

Any Query implementation works fine as a clause within a BooleanQuery, 
there is nothing special to do for a PhrasePrefixQuery in this regard.

	Erik


On Dec 6, 2004, at 6:34 AM, Mahendra wrote:

> Hi,
>
> Presently i am working on a requirement in my application, to do the
> search using lucene as follows,
>
> Users enters phrase prefix query text. The query should be constructed
> as follows,
> - a PhrasePrefixQuery based on the user entered text,  for eg FieldA
> - a termquery based on another field, for eg FieldB
> - a boolean query is constructed based on the above two queries.
>
> The search based on the boolean query, does not yield any results.
> However, query based on PhrasePrefixQuery and TermQuery is returning
> results. Can anyone suggest how
> to use PhrasePrefixQuery as part of Booleanquery.
>
> -Thanks,
> Mahendra
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 13:23:37 2004
Return-Path: 
 <lucene-user-return-11659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63984 invoked from network); 6 Dec 2004 13:23:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 13:23:37 -0000
Received: (qmail 8785 invoked by uid 500); 6 Dec 2004 13:22:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8730 invoked by uid 500); 6 Dec 2004 13:22:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8471 invoked by uid 99); 6 Dec 2004 13:22:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 05:22:32 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 0B66D1C1F6
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:22:30 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 18047-07 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 08:22:29 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id AF4D11C0AB
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 08:22:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <cbdebdf804120602542767c6ab@mail.gmail.com>
References: <cbdebdf804120601535278598e@mail.gmail.com>
 <549FF060-476F-11D9-88EA-000393A564E6@ehatchersolutions.com>
 <cbdebdf804120602542767c6ab@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E3B5DC5C-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reoot site query results
Date: Mon, 6 Dec 2004 08:22:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Perhaps look at Nutch to see whether (and if so, how) it deals with 
this situation.

Determining the root seems to be a pretty tricky endeavor.  Each of 
these could be a root:

	http://www.ehatchersolutions.com/JavaDevWithAnt
	http://www.example.com/~username

And certainly lots of other combinations like you've described.

	Erik


On Dec 6, 2004, at 5:54 AM, Chris Fraschetti wrote:

> I do this to some extent... currently I apply a boost if its as best i
> can tell a root page. But I am more asking how to determine root
> pages... content obviously isn't easy to use ... the url is the main
> key... but that can be tricky as well...  Basically the pages are from
> a crawl.. so their urls so how they were originally linked to.. i.e.
> http://www.microsoft.com may have been visited via an outgoing link of
> another page as http://www.microsoft.com/index.asp?title=true  or some
> variant like that. the page is still the root, but now contains a
> page. Further into that I can simple check the hostname of the url
> using java's URL class, as well as the path that the URL class gives
> me... but how much of a boost would be appropriate. Too must of a
> boost might make it return higher than perhaps a non-root page which
> is more relevant.
>
>
> On Mon, 6 Dec 2004 05:12:27 -0500, Erik Hatcher
> <erik@ehatchersolutions.com> wrote:
>>
>>
>>
>> On Dec 6, 2004, at 4:53 AM, Chris Fraschetti wrote:
>>> My lucene implementation works great, its basically an index of many
>>> web crawls. The main thing my users complain about is say a search 
>>> for
>>> "slashdot" will return the
>>> http://www.slashdot.org/soem_dir/somepage.asp as the top result
>>> because the factors i have scoring it determine it as so... but
>>> obviously in true search engine fashion.. i would like
>>> http://www.slashdot.org/ to be the very top result... i've added a
>>> boost to queries that match the hostname field, which helped a 
>>> little,
>>> but obviously not a proper solution. Does anyone out there in the
>>> search engine world have a good schema for determining root websites
>>> and applying a huge boost to them in one fashion or another? mainly 
>>> so
>>> it appears before any sub pages? (assuming the query is in reference
>>> to that site) ...
>>
>> Consider applying the boost to the Document, rather than the field, at
>> index time.  I assume each document in your index represents one page.
>> At indexing time you know whether it is a root page or not, right?
>>
>>        Erik
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> -- 
> ___________________________________________________
> Chris Fraschetti, Student CompSci System Admin
> University of San Francisco
> e fraschetti@gmail.com | http://meteora.cs.usfca.edu
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 14:46:29 2004
Return-Path: 
 <lucene-user-return-11660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25892 invoked from network); 6 Dec 2004 14:46:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 14:46:29 -0000
Received: (qmail 97727 invoked by uid 500); 6 Dec 2004 14:45:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97451 invoked by uid 500); 6 Dec 2004 14:45:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97383 invoked by uid 99); 6 Dec 2004 14:45:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fluffy.torchboxapps.com (HELO fluffy.torchbox.com)
 (81.187.40.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 06:45:03 -0800
Received: from adsl.internal.torchbox.com ([192.168.1.3] helo=torchbox.com)
	by fluffy.torchbox.com with esmtp (Exim 4.34)
	id 1CbK6l-0000Lb-P6
	for lucene-user@jakarta.apache.org; Mon, 06 Dec 2004 14:45:00 +0000
Date: Mon, 6 Dec 2004 14:45:01 +0000
Mime-Version: 1.0 (Apple Message framework v553)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: indexReader close method
From: Helen Warren <helen.warren@torchbox.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <68E2D155-4795-11D9-B435-000A958AF010@torchbox.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Score: -104.6 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,
I'm having some trouble closing an index reader. I'm getting a 
IOException (bad file descriptor). Can anybody tell me what I'm doing 
wrong and how I should be closing this object?

An outline of an extract of my code:

// Make a new searcher (indexName passed in as string).
IndexReader myReader = IndexReader.open(indexName);
searcher = new IndexSearcher(myReader);

//Create a snowball analyzer object.
//Create a MultifieldQueryParser object with the snowball analyzer and 
build a luceneQuery from a user entered search string.
//Create a new BooleanQuery (overallQuery), add the luceneQuery to it 
and add several other BooleanQueries specific to other fields in the 
documents.

// Do the search
hits = searcher.search(overallQuery);
	
//close the IndexSearcher object
searcher.close();

//close the IndexReader object
myReader.close();

//return results
return hits;

The myReader.close() line causes the IOException to be thrown. To try 
to debug, I wrote a simplified code to open and close a reader and 
searcher, and in the process discovered something else that I have 
found confusing:
Here's an extract of the simplified code:

String indexName = "foo";

// Make a new searcher
IndexReader myReader = IndexReader.open(indexName);
IndexSearcher searcher = new IndexSearcher(myReader);
	
//try to do something with the reader
Collection theseFields = myReader.getFieldNames();
	
//close the IndexSearcher object
searcher.close();
	
//try to close the reader now
myReader.close();
	
//now try to do something with the reader again;
try {
	int maximum = myReader.maxDoc();
	System.err.println("Next document would be: "+maximum);
}
catch (Exception e) {
	System.err.println("Exception: "+e.getMessage());	
}
In this case, the reader appears to close without error but even after 
I've called myReader.close() I can execute the maxDoc() method on that 
object and return results. Anybody shed any light?

Thanks,
Helen.

	


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 15:09:51 2004
Return-Path: 
 <lucene-user-return-11661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39209 invoked from network); 6 Dec 2004 15:09:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 15:09:51 -0000
Received: (qmail 75458 invoked by uid 500); 6 Dec 2004 15:09:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75431 invoked by uid 500); 6 Dec 2004 15:09:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75400 invoked by uid 99); 6 Dec 2004 15:09:38 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail02.ina.de (HELO ina.de) (159.51.231.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 07:09:36 -0800
Received: from de010245 (de010245.ina.de [159.51.231.10])
	by ina.de (8.11.7p1+Sun/8.9.1) with SMTP id iB6F9VH15706
	for <lucene-user@jakarta.apache.org>; Mon, 6 Dec 2004 16:09:31 +0100 (MET)
Received: From de010359.de.ina.com ([10.160.1.13]) by de010245 (WebShield SMTP
 v4.5 MR1a P0803.345);
	id 1102345766359; Mon, 6 Dec 2004 16:09:26 +0100
Content-class: urn:content-classes:message
Subject: API suggestion
Date: Mon, 6 Dec 2004 16:09:19 +0100
Message-ID: <A69C2C1215FB8A4EBB9EC7811BA4A168010D3710@de010013.de.ina.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Disposition-Notification-To: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
Thread-Topic: API suggestion
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Thread-Index: AcTbon2gIsIeMuzzSVqZNIroRIlEOgAAc3aw
From: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I'm currently investigating improving the Highlighter currently
supplied in the lucene sandbox. Especially we'd like to parse=20
more different styles of Querys. Most important WildcardQuery.

As it turns out, this shouldn't be too difficult, but the problem is
that the API MultiTermQuery.getEnum() is protected. So to actually
analyze what is going on in the stomach of a MultiTermQuery (e.g.
a WildcardQuery) we had to rebuild what is done within that class.
With all the risks code duplications usually have.

I don't see why this API simply isn't public. While its obviously
"expert" and not for anyones daily use, it would be rather a
feature than a bug to have that public.

This is so easy, that it could be easily done with Lucene 1.4.4.

Regards,
Frank

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 15:40:50 2004
Return-Path: 
 <lucene-user-return-11662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58343 invoked from network); 6 Dec 2004 15:40:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 15:40:50 -0000
Received: (qmail 69918 invoked by uid 500); 6 Dec 2004 15:40:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69890 invoked by uid 500); 6 Dec 2004 15:40:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69877 invoked by uid 99); 6 Dec 2004 15:40:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mhub15.lvs.dupont.com (HELO mhub15.lvs.dupont.com)
 (52.128.30.15)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 07:40:34 -0800
Received: from mhub19.lvs.dupont.com by mhub15.lvs.dupont.com with ESMTP for
 lucene-user@jakarta.apache.org; Mon, 6 Dec 2004 10:40:30 -0500
Received: from mhub7.lvs.dupont.com (mhub7.lvs.dupont.com [52.99.10.20]) by
 mhub19.lvs.dupont.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 6 Dec 2004 10:40:30 -0500
Received: from cdcln08.lvs.dupont.com by mhub7.lvs.dupont.com with ESMTP for
 lucene-user@jakarta.apache.org; Mon, 6 Dec 2004 10:40:05 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: API suggestion
Message-Id: 
 <OF85256F62.00570FD1-ON85256F62.00570FD1-85256F62.00570FD1@CDCLN05.LVS.DUPONT.COM>
From: David Donohue <David.Donohue@usa.dupont.com>
Date: Mon, 6 Dec 2004 10:39:24 -0500
X-MIMETrack: Serialize by Router on CDCLNMH2/DuPont_MHUB(603HF602|October 06,
 2004) at
 12/06/2004 10:40:05 AM
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Return Receipt
                                                                           
    Your      API suggestion                                               
    document                                                               
    :                                                                      
                                                                           
    was       David Donohue/AE/DuPont                                      
    received                                                               
    by:                                                                    
                                                                           
    at:       12/06/2004 10:50:56 AM                                       
                                                                           






This communication is for use by the intended recipient and contains 
information that may be privileged, confidential or copyrighted under
applicable law.  If you are not the intended recipient, you are hereby
formally notified that any use, copying or distribution of this e-mail,
in whole or in part, is strictly prohibited.  Please notify the sender
by return e-mail and delete this e-mail from your system.  Unless
explicitly and conspicuously designated as "E-Contract Intended",
this e-mail does not constitute a contract offer, a contract amendment,
or an acceptance of a contract offer.  This e-mail does not constitute
a consent to the use of sender's contact information for direct marketing
purposes or for transfers of data to third parties.

 Francais Deutsch Italiano  Espanol  Portugues  Japanese  Chinese  Korean

            http://www.DuPont.com/corp/email_disclaimer.html



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:04:56 2004
Return-Path: 
 <lucene-user-return-11663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13834 invoked from network); 6 Dec 2004 17:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:04:56 -0000
Received: (qmail 95538 invoked by uid 500); 6 Dec 2004 17:04:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95482 invoked by uid 500); 6 Dec 2004 17:04:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95435 invoked by uid 99); 6 Dec 2004 17:04:16 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 09:04:13 -0800
Received: (qmail 17864 invoked by uid 60001); 6 Dec 2004 17:04:11 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=iAuDs711O/rZUQ/3L4SyxS2BQ4QfLSUCFqlaP+zdO0Uw6z6WrYPvcg8qt27In4DIVU6iNGLfAYvMqtK2C5GB8Pn7u+2si3qbNYjZyrRCkmJw2sMBTsUlemE7YdHHQVWFHQp08iTToqKobP0f37cYdgK2Xz3BIyfd6twdm9XXE6s=
  ;
Message-ID: <20041206170411.17862.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 09:04:11 PST
Date: Mon, 6 Dec 2004 09:04:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: indexReader close method
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <68E2D155-4795-11D9-B435-000A958AF010@torchbox.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Helen,

I don't know what version of Lucene you are using.  The version in CVS
has IndexSearcher that can close the underlying IndexReader for you.

Otis

--- Helen Warren <helen.warren@torchbox.com> wrote:

> Hi All,
> I'm having some trouble closing an index reader. I'm getting a 
> IOException (bad file descriptor). Can anybody tell me what I'm doing
> 
> wrong and how I should be closing this object?
> 
> An outline of an extract of my code:
> 
> // Make a new searcher (indexName passed in as string).
> IndexReader myReader = IndexReader.open(indexName);
> searcher = new IndexSearcher(myReader);
> 
> //Create a snowball analyzer object.
> //Create a MultifieldQueryParser object with the snowball analyzer
> and 
> build a luceneQuery from a user entered search string.
> //Create a new BooleanQuery (overallQuery), add the luceneQuery to it
> 
> and add several other BooleanQueries specific to other fields in the 
> documents.
> 
> // Do the search
> hits = searcher.search(overallQuery);
> 	
> //close the IndexSearcher object
> searcher.close();
> 
> //close the IndexReader object
> myReader.close();
> 
> //return results
> return hits;
> 
> The myReader.close() line causes the IOException to be thrown. To try
> 
> to debug, I wrote a simplified code to open and close a reader and 
> searcher, and in the process discovered something else that I have 
> found confusing:
> Here's an extract of the simplified code:
> 
> String indexName = "foo";
> 
> // Make a new searcher
> IndexReader myReader = IndexReader.open(indexName);
> IndexSearcher searcher = new IndexSearcher(myReader);
> 	
> //try to do something with the reader
> Collection theseFields = myReader.getFieldNames();
> 	
> //close the IndexSearcher object
> searcher.close();
> 	
> //try to close the reader now
> myReader.close();
> 	
> //now try to do something with the reader again;
> try {
> 	int maximum = myReader.maxDoc();
> 	System.err.println("Next document would be: "+maximum);
> }
> catch (Exception e) {
> 	System.err.println("Exception: "+e.getMessage());	
> }
> In this case, the reader appears to close without error but even
> after 
> I've called myReader.close() I can execute the maxDoc() method on
> that 
> object and return results. Anybody shed any light?
> 
> Thanks,
> Helen.
> 
> 	
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:10:37 2004
Return-Path: 
 <lucene-user-return-11664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19229 invoked from network); 6 Dec 2004 17:10:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:10:37 -0000
Received: (qmail 13792 invoked by uid 500); 6 Dec 2004 17:10:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13748 invoked by uid 500); 6 Dec 2004 17:10:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13732 invoked by uid 99); 6 Dec 2004 17:10:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from londo.swishmail.com (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 09:10:21 -0800
Received: (qmail 67669 invoked by uid 89); 6 Dec 2004 17:10:18 -0000
Received: from unknown (HELO ?192.168.168.81?)
 (postmaster@cottrell-cutting.net@24.5.160.217)
  by londo.swishmail.com with AES256-SHA encrypted SMTP;
 6 Dec 2004 17:10:18 -0000
Message-ID: <41B4926C.9060807@apache.org>
Date: Mon, 06 Dec 2004 09:10:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.2) Gecko/20040806
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: reoot site query results
References: <cbdebdf804120601535278598e@mail.gmail.com>
In-Reply-To: <cbdebdf804120601535278598e@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In web search, link information helps greatly.  (This was Google's big 
discovery.)  There are lots more links that point to 
http://www.slashdot.org/ than to http://www.slashdot.org/xxx/yyy, and 
many (if not most) of these links have the term "slashdot", while links 
to http://www.slashdot.org/xxx/yyy are somewhat less likely to contain 
the term "slashdot".

As Erik hinted, Nutch uses this information.  It keeps has a database of 
links that point to each page, indexes their anchor text along with the 
page, and boosts highly linked pages more than lesser linked pages.

Doug

Chris Fraschetti wrote:
> My lucene implementation works great, its basically an index of many
> web crawls. The main thing my users complain about is say a search for
> "slashdot" will return the
> http://www.slashdot.org/soem_dir/somepage.asp as the top result
> because the factors i have scoring it determine it as so... but
> obviously in true search engine fashion.. i would like
> http://www.slashdot.org/ to be the very top result... i've added a
> boost to queries that match the hostname field, which helped a little,
> but obviously not a proper solution. Does anyone out there in the
> search engine world have a good schema for determining root websites
> and applying a huge boost to them in one fashion or another? mainly so
> it appears before any sub pages? (assuming the query is in reference
> to that site) ...
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:13:08 2004
Return-Path: 
 <lucene-user-return-11665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20809 invoked from network); 6 Dec 2004 17:13:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:13:08 -0000
Received: (qmail 23438 invoked by uid 500); 6 Dec 2004 17:12:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23336 invoked by uid 500); 6 Dec 2004 17:12:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23283 invoked by uid 99); 6 Dec 2004 17:12:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12701.mail.yahoo.com (HELO web12701.mail.yahoo.com)
 (216.136.173.238)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 09:12:23 -0800
Received: (qmail 20342 invoked by uid 60001); 6 Dec 2004 17:12:21 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=i24AjRLnzVW4DRow12oVwCJm74XdvU9Wkwt2lv6eyzVvvaupgLnWN4wlSNL7ng6yeWyt6e0HVqbpv5d8ltqm209pKFAp2c89ESF/Mp/bKat6s2Y5ZXGArRmPchoEmD1bPdd94wqlQXxL8WQTlXRjGz5injMxE/GBi8Tb0O2bPcY=
  ;
Message-ID: <20041206171221.20340.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 09:12:21 PST
Date: Mon, 6 Dec 2004 09:12:21 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: addIndexes() Size
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00eb01c4db7a$d4b2d7c0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I were you, I would first use Luke to peek at the index.  You may
find something obvious there, like multiple copies of the same
Document.
Does your temp index 'overlap' with A index in terms of Documents?  If
so, you will end up with multliple copies, as addIndexes method doesn't
detect and remove duplicate Documents.

Otis

--- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:

> Hi.
> 
>  
> 
> Its probably really simple to explain this but since I'm not up to
> speed on
> the way Lucene stores the data I'm a little confused.
> 
>  
> 
> I'm building an Index, which resides on Server A, with the Lucene
> Service
> running on Server B. Now not to bore you with the details but because
> of the
> network transfer rate etc I'm running the actual index on
> \\ServerA\idx
> <file:///\\ServerA\idx>  and building a temp Index at
> \\ServerB\idx\temp
> <file:///\\ServerB\idx\temp>  (obviously because the Local FS is much
> faster
> for the service) and then calling addIndexes to import the temp index
> to the
> ServerA index before destroying the ServerB index, holding for a bit
> and
> then checking for new documents.
> 
>  
> 
> All works grand BUT the size of the resultant index on ServerA is
> HUGE in
> comparison to one I'd build from start to finish (i.e. a simple
> addDocument
> Index) - 38gig for 220,000 Unstored Items cannot be right (to give
> you and
> idea of how mad this seems, the backed up version of the database
> from which
> the data is pulled is only 2gigs)
> 
>  
> 
> I've considered it being perhaps the number of Items that had to be
> integrated each time addIndexes was called - right now I'm adding
> around
> 10,000 at a time (I had done 1000 at a time but this looked like it
> was
> going to end up even larger still)
> 
>  
> 
> I'm holding off twiddling the minMergeDocs and mergeFactor until I
> can get a
> better understanding of whats going on here.
> 
>  
> 
> Many thanks for any reply's
> 
> Garrett
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:19:36 2004
Return-Path: 
 <lucene-user-return-11666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23609 invoked from network); 6 Dec 2004 17:19:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:19:36 -0000
Received: (qmail 36954 invoked by uid 500); 6 Dec 2004 17:19:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36934 invoked by uid 500); 6 Dec 2004 17:19:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36914 invoked by uid 99); 6 Dec 2004 17:19:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 09:19:24 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 6 Dec 2004 17:30:10 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: addIndexes() Size
Date: Mon, 6 Dec 2004 17:17:25 -0000
Message-ID: <000201c4dbb7$7697bb50$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <20041206171221.20340.qmail@web12701.mail.yahoo.com>
X-OriginalArrivalTime: 06 Dec 2004 17:30:10.0093 (UTC)
 FILETIME=[3C562DD0:01C4DBB9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No there are no duplicate copies - I've the correct number when I view
through luke and I don't overlap - the temporary index is destroyed =
after it
is added to the main index - I'm currently at index version 159 and it =
seems
that all of my .prx files come in at around 1435 megs (ouch)

Thanks
Garrett

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: 06 December 2004 17:12
To: Lucene Users List
Subject: Re: addIndexes() Size

If I were you, I would first use Luke to peek at the index.  You may
find something obvious there, like multiple copies of the same
Document.
Does your temp index 'overlap' with A index in terms of Documents?  If
so, you will end up with multliple copies, as addIndexes method doesn't
detect and remove duplicate Documents.

Otis

--- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:

> Hi.
>=20
> =20
>=20
> Its probably really simple to explain this but since I'm not up to
> speed on
> the way Lucene stores the data I'm a little confused.
>=20
> =20
>=20
> I'm building an Index, which resides on Server A, with the Lucene
> Service
> running on Server B. Now not to bore you with the details but because
> of the
> network transfer rate etc I'm running the actual index on
> \\ServerA\idx
> <file:///\\ServerA\idx>  and building a temp Index at
> \\ServerB\idx\temp
> <file:///\\ServerB\idx\temp>  (obviously because the Local FS is much
> faster
> for the service) and then calling addIndexes to import the temp index
> to the
> ServerA index before destroying the ServerB index, holding for a bit
> and
> then checking for new documents.
>=20
> =20
>=20
> All works grand BUT the size of the resultant index on ServerA is
> HUGE in
> comparison to one I'd build from start to finish (i.e. a simple
> addDocument
> Index) - 38gig for 220,000 Unstored Items cannot be right (to give
> you and
> idea of how mad this seems, the backed up version of the database
> from which
> the data is pulled is only 2gigs)
>=20
> =20
>=20
> I've considered it being perhaps the number of Items that had to be
> integrated each time addIndexes was called - right now I'm adding
> around
> 10,000 at a time (I had done 1000 at a time but this looked like it
> was
> going to end up even larger still)
>=20
> =20
>=20
> I'm holding off twiddling the minMergeDocs and mergeFactor until I
> can get a
> better understanding of whats going on here.
>=20
> =20
>=20
> Many thanks for any reply's
>=20
> Garrett
>=20
> =20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:28:50 2004
Return-Path: 
 <lucene-user-return-11667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28443 invoked from network); 6 Dec 2004 17:28:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:28:50 -0000
Received: (qmail 71044 invoked by uid 500); 6 Dec 2004 17:28:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70978 invoked by uid 500); 6 Dec 2004 17:28:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70748 invoked by uid 99); 6 Dec 2004 17:27:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 09:27:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id DCC6B1C053
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 12:27:19 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 20294-05 for <lucene-user@jakarta.apache.org>;
 Mon,  6 Dec 2004 12:27:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 486911C0D1
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 12:27:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <000201c4dbb7$7697bb50$36a8a8c0@intranet.researchandmarkets.com>
References: <000201c4dbb7$7697bb50$36a8a8c0@intranet.researchandmarkets.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <13E20865-47AC-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: addIndexes() Size
Date: Mon, 6 Dec 2004 12:27:17 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was a bug in 1.4 (and maybe 1.4.1?) that kept some index files 
around that were not used.

Are you using Lucene 1.4.3?  It not, try that and see if it helps.

	Erik

On Dec 6, 2004, at 12:17 PM, Garrett Heaver wrote:

> No there are no duplicate copies - I've the correct number when I view
> through luke and I don't overlap - the temporary index is destroyed 
> after it
> is added to the main index - I'm currently at index version 159 and it 
> seems
> that all of my .prx files come in at around 1435 megs (ouch)
>
> Thanks
> Garrett
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: 06 December 2004 17:12
> To: Lucene Users List
> Subject: Re: addIndexes() Size
>
> If I were you, I would first use Luke to peek at the index.  You may
> find something obvious there, like multiple copies of the same
> Document.
> Does your temp index 'overlap' with A index in terms of Documents?  If
> so, you will end up with multliple copies, as addIndexes method doesn't
> detect and remove duplicate Documents.
>
> Otis
>
> --- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:
>
>> Hi.
>>
>>
>>
>> Its probably really simple to explain this but since I'm not up to
>> speed on
>> the way Lucene stores the data I'm a little confused.
>>
>>
>>
>> I'm building an Index, which resides on Server A, with the Lucene
>> Service
>> running on Server B. Now not to bore you with the details but because
>> of the
>> network transfer rate etc I'm running the actual index on
>> \\ServerA\idx
>> <file:///\\ServerA\idx>  and building a temp Index at
>> \\ServerB\idx\temp
>> <file:///\\ServerB\idx\temp>  (obviously because the Local FS is much
>> faster
>> for the service) and then calling addIndexes to import the temp index
>> to the
>> ServerA index before destroying the ServerB index, holding for a bit
>> and
>> then checking for new documents.
>>
>>
>>
>> All works grand BUT the size of the resultant index on ServerA is
>> HUGE in
>> comparison to one I'd build from start to finish (i.e. a simple
>> addDocument
>> Index) - 38gig for 220,000 Unstored Items cannot be right (to give
>> you and
>> idea of how mad this seems, the backed up version of the database
>> from which
>> the data is pulled is only 2gigs)
>>
>>
>>
>> I've considered it being perhaps the number of Items that had to be
>> integrated each time addIndexes was called - right now I'm adding
>> around
>> 10,000 at a time (I had done 1000 at a time but this looked like it
>> was
>> going to end up even larger still)
>>
>>
>>
>> I'm holding off twiddling the minMergeDocs and mergeFactor until I
>> can get a
>> better understanding of whats going on here.
>>
>>
>>
>> Many thanks for any reply's
>>
>> Garrett
>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:36:35 2004
Return-Path: 
 <lucene-user-return-11669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32922 invoked from network); 6 Dec 2004 17:36:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:36:35 -0000
Received: (qmail 99780 invoked by uid 500); 6 Dec 2004 17:36:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99715 invoked by uid 500); 6 Dec 2004 17:36:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99664 invoked by uid 99); 6 Dec 2004 17:36:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 09:36:08 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 6 Dec 2004 17:44:36 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: addIndexes() Size
Date: Mon, 6 Dec 2004 17:31:47 -0000
Message-ID: <000301c4dbb9$7ad66480$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <13E20865-47AC-11D9-8105-000A95BC61B6@ehatchersolutions.com>
X-OriginalArrivalTime: 06 Dec 2004 17:44:36.0203 (UTC)
 FILETIME=[409413B0:01C4DBBB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Cheers for that Erik - believe it or not I'm still back at v1.3 (doh!!!)

Will try 1.4.3 tomorrow

Thanks
Garrett

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: 06 December 2004 17:27
To: Lucene Users List
Subject: Re: addIndexes() Size

There was a bug in 1.4 (and maybe 1.4.1?) that kept some index files 
around that were not used.

Are you using Lucene 1.4.3?  It not, try that and see if it helps.

	Erik

On Dec 6, 2004, at 12:17 PM, Garrett Heaver wrote:

> No there are no duplicate copies - I've the correct number when I view
> through luke and I don't overlap - the temporary index is destroyed 
> after it
> is added to the main index - I'm currently at index version 159 and it 
> seems
> that all of my .prx files come in at around 1435 megs (ouch)
>
> Thanks
> Garrett
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: 06 December 2004 17:12
> To: Lucene Users List
> Subject: Re: addIndexes() Size
>
> If I were you, I would first use Luke to peek at the index.  You may
> find something obvious there, like multiple copies of the same
> Document.
> Does your temp index 'overlap' with A index in terms of Documents?  If
> so, you will end up with multliple copies, as addIndexes method doesn't
> detect and remove duplicate Documents.
>
> Otis
>
> --- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:
>
>> Hi.
>>
>>
>>
>> Its probably really simple to explain this but since I'm not up to
>> speed on
>> the way Lucene stores the data I'm a little confused.
>>
>>
>>
>> I'm building an Index, which resides on Server A, with the Lucene
>> Service
>> running on Server B. Now not to bore you with the details but because
>> of the
>> network transfer rate etc I'm running the actual index on
>> \\ServerA\idx
>> <file:///\\ServerA\idx>  and building a temp Index at
>> \\ServerB\idx\temp
>> <file:///\\ServerB\idx\temp>  (obviously because the Local FS is much
>> faster
>> for the service) and then calling addIndexes to import the temp index
>> to the
>> ServerA index before destroying the ServerB index, holding for a bit
>> and
>> then checking for new documents.
>>
>>
>>
>> All works grand BUT the size of the resultant index on ServerA is
>> HUGE in
>> comparison to one I'd build from start to finish (i.e. a simple
>> addDocument
>> Index) - 38gig for 220,000 Unstored Items cannot be right (to give
>> you and
>> idea of how mad this seems, the backed up version of the database
>> from which
>> the data is pulled is only 2gigs)
>>
>>
>>
>> I've considered it being perhaps the number of Items that had to be
>> integrated each time addIndexes was called - right now I'm adding
>> around
>> 10,000 at a time (I had done 1000 at a time but this looked like it
>> was
>> going to end up even larger still)
>>
>>
>>
>> I'm holding off twiddling the minMergeDocs and mergeFactor until I
>> can get a
>> better understanding of whats going on here.
>>
>>
>>
>> Many thanks for any reply's
>>
>> Garrett
>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:35:23 2004
Return-Path: 
 <lucene-user-return-11668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32351 invoked from network); 6 Dec 2004 17:35:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:35:23 -0000
Received: (qmail 96793 invoked by uid 500); 6 Dec 2004 17:35:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96770 invoked by uid 500); 6 Dec 2004 17:35:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96753 invoked by uid 99); 6 Dec 2004 17:35:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from londo.swishmail.com (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 09:35:14 -0800
Received: (qmail 8134 invoked by uid 89); 6 Dec 2004 17:35:12 -0000
Received: from unknown (HELO ?192.168.168.81?)
 (postmaster@cottrell-cutting.net@24.5.160.217)
  by londo.swishmail.com with AES256-SHA encrypted SMTP;
 6 Dec 2004 17:35:11 -0000
Message-ID: <41B49842.607@apache.org>
Date: Mon, 06 Dec 2004 09:34:58 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.2) Gecko/20040806
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
References: 
 <E3381E0825F1954D953A4E347017BB1C02B4688F@reh001-1.REX001.ExchangeByRegister.com>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02B4688F@reh001-1.REX001.ExchangeByRegister.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chuck Williams wrote:
> I've got about 30k documents and have 3 indexing scenarios:
> 
> 1.       Full indexing and optimize
> 2.       Incremental indexing and optimize
> 3.       Parallel incremental indexing without optimize
> 
> Search performance is critical.  For both cases 1 and 2, I'd like the
> fastest possible indexing time.  For case 3, I'd like minimal pauses and
> no noticeable degradation in search performance.
> 
>  
> 
> Based on reading the code (including the javadocs comments), I'm
> thinking of values along these lines:
> 
> mergeFactor:  1000 during Full indexing, and during optimize (for both
> cases 1 and 2); 10 during incremental indexing (cases 2 and 3)

1000 is too big of a mergeFactor for any practical purpose.

I don't see a point in using different mergeFactors in cases 1 and 2. 
If you're going to optimize before you search, then you want the fastest 
batch indexing mode.  I would use something like 50 for both cases 1 and 2.

For case 3, where unoptimized search performance is very important, I 
would use something smaller than 10.  For Technorati's blog search, 
which incrementally maintains a Lucene index with millions of documents, 
I used a mergeFactor of 2 in order to maximize search performance. 
Indexing performance on a single CPU is still adequate to keep up with 
the rate of change of today's blogosphere.

> minMergeDocs:  1000 during Full indexing, 10 during incremental indexing

I see no reason to lower this when indexing incrementally.  1000 is a 
good value for high performance indexing when RAM is plentiful and 
documents are not too large.

> maxMergeDocs:  Integer.MAX_VALUE during full indexing, 1000 during
> incremental indexing

1000 seems low to me, as it will result in too many segments, slowing 
search.  Here one should select the largest value that can be merged in 
the maximum time delay permitted in your application between a new 
document arriving and it appearing in search results.  So how up-to-date 
must your index be?  If it's okay for it to ocassionally be a few 
minutes out of date, then you can probably safely increase this to at 
least tens or hundreds of thousands, perhaps even millions.  When 
incrementally indexing, the most recently added segments stay cached in 
RAM by the filesystem.  So, on a system with a gigabyte of RAM that's 
dedicated to incremental indexing, you might safely set maxMergeDocs to 
account for a few hundred megabytes of index without encountering slow, 
i/o-bound merges.

> Since mergeFactor is used in both addDocument() and optimize(), I'm
> thinking of using two different values in case 2:  10 during the
> incremental indexing, and then 1000 during the optimize.  Is changing
> the value like this going to cause a problem?

It should not cause problems to use different mergeFactors at different 
times.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:54:02 2004
Return-Path: 
 <lucene-user-return-11670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48491 invoked from network); 6 Dec 2004 17:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:54:02 -0000
Received: (qmail 41639 invoked by uid 500); 6 Dec 2004 17:53:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41621 invoked by uid 500); 6 Dec 2004 17:53:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41595 invoked by uid 99); 6 Dec 2004 17:53:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fluffy.torchboxapps.com (HELO fluffy.torchbox.com)
 (81.187.40.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 09:53:50 -0800
Received: from adsl.internal.torchbox.com ([192.168.1.3] helo=torchbox.com)
	by fluffy.torchbox.com with esmtp (Exim 4.34)
	id 1CbN3T-00064J-Gp
	for lucene-user@jakarta.apache.org; Mon, 06 Dec 2004 17:53:48 +0000
Date: Mon, 6 Dec 2004 17:53:49 +0000
Subject: Re: indexReader close method
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Helen Warren <helen.warren@torchbox.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20041206170411.17862.qmail@web12704.mail.yahoo.com>
Message-Id: <C8C8299E-47AF-11D9-B435-000A958AF010@torchbox.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Score: -104.6 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis,
Thanks for the reply. I'm using lucene 1.4.2. I believe that the 
IndexSearcher in this version will close the IndexReader if the 
IndexReader was supplied implicitly but  I'm constructing the 
IndexReader first and passing it to the IndexSearcher constructor as I 
want to use the reader object later.

Do you know why I can't close the IndexReader  explicitly under some 
circumstances and why, when I do manage to close it I can still call 
methods on the reader?

Thanks,
Helen.

On Monday, December 6, 2004, at 05:04  pm, Otis Gospodnetic wrote:

> Helen,
>
> I don't know what version of Lucene you are using.  The version in CVS
> has IndexSearcher that can close the underlying IndexReader for you.
>
> Otis
>
> --- Helen Warren <helen.warren@torchbox.com> wrote:
>
>> Hi All,
>> I'm having some trouble closing an index reader. I'm getting a
>> IOException (bad file descriptor). Can anybody tell me what I'm doing
>>
>> wrong and how I should be closing this object?
>>
>> An outline of an extract of my code:
>>
>> // Make a new searcher (indexName passed in as string).
>> IndexReader myReader = IndexReader.open(indexName);
>> searcher = new IndexSearcher(myReader);
>>
>> //Create a snowball analyzer object.
>> //Create a MultifieldQueryParser object with the snowball analyzer
>> and
>> build a luceneQuery from a user entered search string.
>> //Create a new BooleanQuery (overallQuery), add the luceneQuery to it
>>
>> and add several other BooleanQueries specific to other fields in the
>> documents.
>>
>> // Do the search
>> hits = searcher.search(overallQuery);
>> 	
>> //close the IndexSearcher object
>> searcher.close();
>>
>> //close the IndexReader object
>> myReader.close();
>>
>> //return results
>> return hits;
>>
>> The myReader.close() line causes the IOException to be thrown. To try
>>
>> to debug, I wrote a simplified code to open and close a reader and
>> searcher, and in the process discovered something else that I have
>> found confusing:
>> Here's an extract of the simplified code:
>>
>> String indexName = "foo";
>>
>> // Make a new searcher
>> IndexReader myReader = IndexReader.open(indexName);
>> IndexSearcher searcher = new IndexSearcher(myReader);
>> 	
>> //try to do something with the reader
>> Collection theseFields = myReader.getFieldNames();
>> 	
>> //close the IndexSearcher object
>> searcher.close();
>> 	
>> //try to close the reader now
>> myReader.close();
>> 	
>> //now try to do something with the reader again;
>> try {
>> 	int maximum = myReader.maxDoc();
>> 	System.err.println("Next document would be: "+maximum);
>> }
>> catch (Exception e) {
>> 	System.err.println("Exception: "+e.getMessage());	
>> }
>> In this case, the reader appears to close without error but even
>> after
>> I've called myReader.close() I can execute the maxDoc() method on
>> that
>> object and return results. Anybody shed any light?
>>
>> Thanks,
>> Helen.
>>
>> 	
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 17:58:47 2004
Return-Path: 
 <lucene-user-return-11671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50693 invoked from network); 6 Dec 2004 17:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 17:58:47 -0000
Received: (qmail 56868 invoked by uid 500); 6 Dec 2004 17:58:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56835 invoked by uid 500); 6 Dec 2004 17:58:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56782 invoked by uid 99); 6 Dec 2004 17:58:38 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates
 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 09:58:36 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with
 SMTP id <149580(2)>; Mon, 6 Dec 2004 09:58:21 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id
 <58617>; Mon, 6 Dec 2004 09:58:11 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
 Chris Fraschetti <fraschetti@gmail.com>
Subject: Re: structuring a multifield query 
In-Reply-To: Your message of "Sat, 04 Dec 2004 10:24:38 PST."
             <cbdebdf80412041024254368aa@mail.gmail.com>
From: Bill Janssen <bill.janssen@gmail.com>
Date: Mon, 6 Dec 2004 09:58:04 PST
Sender: janssen@parc.com
Message-Id: <04Dec6.095811pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris,

I've written a version of MultiFieldQueryParser that supports
disjunction as well as conjunction.  See the classw
NewMultiFieldQueryParser in
ftp://ftp.parc.xerox.com/transient/janssen/SearchTest.java.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 19:11:10 2004
Return-Path: 
 <lucene-user-return-11672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82822 invoked from network); 6 Dec 2004 19:11:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 19:11:10 -0000
Received: (qmail 96721 invoked by uid 500); 6 Dec 2004 19:11:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96690 invoked by uid 500); 6 Dec 2004 19:11:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96667 invoked by uid 99); 6 Dec 2004 19:11:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp003.mail.ukl.yahoo.com (HELO smtp003.mail.ukl.yahoo.com)
 (217.12.11.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 11:10:58 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp003.mail.ukl.yahoo.com with SMTP; 6 Dec 2004 19:10:56 -0000
Message-ID: <41B4AECE.7090609@yahoo.co.uk>
Date: Mon, 06 Dec 2004 19:11:10 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: [Fwd: API suggestion]
Content-Type: multipart/mixed;
 boundary="------------080001060105050601040309"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------080001060105050601040309
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

The documentation for the highlighter already covers how to handle 
wildcard queries.

See the javadoc notes on query.rewrite.


Cheers
Mark


--------------080001060105050601040309
Content-Type: message/rfc822;
 name="API suggestion"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="API suggestion"

X-Account-Key: account2
X-Apparently-To: markharw00d@yahoo.co.uk via 217.12.10.219;
 Mon, 06 Dec 2004 15:09:40 +0000
X-Originating-IP: [209.237.227.199]
Return-Path: 
 <lucene-user-return-11661-markharw00d=yahoo.co.uk@jakarta.apache.org>
Received: from 209.237.227.199  (HELO mail.apache.org) (209.237.227.199)
  by mta121.mail.ukl.yahoo.com with SMTP; Mon, 06 Dec 2004 15:09:40 +0000
Received: (qmail 75431 invoked by uid 500); 6 Dec 2004 15:09:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75400 invoked by uid 99); 6 Dec 2004 15:09:38 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail02.ina.de (HELO ina.de) (159.51.231.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 07:09:36 -0800
Received: from de010245 (de010245.ina.de [159.51.231.10])
	by ina.de (8.11.7p1+Sun/8.9.1) with SMTP id iB6F9VH15706
	for <lucene-user@jakarta.apache.org>; Mon, 6 Dec 2004 16:09:31 +0100 (MET)
Received: From de010359.de.ina.com ([10.160.1.13]) by de010245 (WebShield SMTP
 v4.5 MR1a P0803.345);
	id 1102345766359; Mon, 6 Dec 2004 16:09:26 +0100
Content-class: urn:content-classes:message
Subject: API suggestion
Date: Mon, 6 Dec 2004 16:09:19 +0100
Message-ID: <A69C2C1215FB8A4EBB9EC7811BA4A168010D3710@de010013.de.ina.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Disposition-Notification-To: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
Thread-Topic: API suggestion
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Thread-Index: AcTbon2gIsIeMuzzSVqZNIroRIlEOgAAc3aw
From: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked

Hello,

I'm currently investigating improving the Highlighter currently
supplied in the lucene sandbox. Especially we'd like to parse=20
more different styles of Querys. Most important WildcardQuery.

As it turns out, this shouldn't be too difficult, but the problem is
that the API MultiTermQuery.getEnum() is protected. So to actually
analyze what is going on in the stomach of a MultiTermQuery (e.g.
a WildcardQuery) we had to rebuild what is done within that class.
With all the risks code duplications usually have.

I don't see why this API simply isn't public. While its obviously
"expert" and not for anyones daily use, it would be rather a
feature than a bug to have that public.

This is so easy, that it could be easily done with Lucene 1.4.4.

Regards,
Frank

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




--------------080001060105050601040309
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------080001060105050601040309--

From MAILER-DAEMON Mon Dec  6 20:31:59 2004
Return-Path: 
 <lucene-user-return-11673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41905 invoked from network); 6 Dec 2004 20:31:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 20:31:59 -0000
Received: (qmail 83901 invoked by uid 500); 6 Dec 2004 20:31:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83878 invoked by uid 500); 6 Dec 2004 20:31:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83865 invoked by uid 99); 6 Dec 2004 20:31:51 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 12:31:50 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 56C865B7AD; Mon,  6 Dec 2004 12:31:45 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 557607F460
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 12:31:45 -0800 (PST)
Date: Mon, 6 Dec 2004 12:31:45 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexReader close method
In-Reply-To: <C8C8299E-47AF-11D9-B435-000A958AF010@torchbox.com>
Message-ID: <Pine.LNX.4.58.0412061227220.9437@hal.rescomp.berkeley.edu>
References: <C8C8299E-47AF-11D9-B435-000A958AF010@torchbox.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Do you know why I can't close the IndexReader  explicitly under some
: circumstances and why, when I do manage to close it I can still call
: methods on the reader?

1) I tried to create a test case that demonstrated your bug based on the
code outline you provided, and i couldn't (see below).  that implies to me
that somethine else is going on.  If you can create a completely self
contained program that demonstrates your bug and mail it to the list that
would help us help you.

2) the documentation for IndexReader.close() says...

	Closes files associated with this index. Also saves any new deletions to
	disk. No other methods should be called after this has been called.

...note the word "should".  it doesn't say what the other methods will do
if you try to call them, just that you shouldn't try.  In some cases they
may generate exceptions, in other cases they may just be able to return
you data based on state internal to the object which is unaffected by the
fact that the files have all been closed.

-Hoss

    public static void main(String argv[]) throws IOException {

        /* create a directory */
        String d = System.getProperty("java.io.tmpdir", "tmp")
            + System.getProperty("file.separator")
            + "index-dir-" + (new Random()).nextInt(1000);
        Directory trash = FSDirectory.getDirectory(d, true);


        /* build index */
        Document doc;
        IndexWriter w = new IndexWriter(d, new SimpleAnalyzer(), true);
        doc = new Document();
        doc.add(Field.Text("words", "apple emu"));
        w.addDocument(doc);
        w.optimize();
        w.close();

        /* search index */
        IndexReader r = IndexReader.open(d);
        IndexSearcher s = new IndexSearcher(r);
        Hits h = s.search(new TermQuery(new Term("words", "apple")));

        s.close();
        r.close();

        System.out.println("Reader? - " + r.maxDoc());

    }






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 21:16:44 2004
Return-Path: 
 <lucene-user-return-11674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68791 invoked from network); 6 Dec 2004 21:16:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 21:16:44 -0000
Received: (qmail 90872 invoked by uid 500); 6 Dec 2004 21:16:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90853 invoked by uid 500); 6 Dec 2004 21:16:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90839 invoked by uid 99); 6 Dec 2004 21:16:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 13:16:33 -0800
X-MIMEOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Index delete failing
Date: Mon, 6 Dec 2004 16:16:30 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523448@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index delete failing
Thread-Index: AcTb0qLeO+Updip4R3+KegmBilstlQABYSYA
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 Hi=20
 We need to delete a lucene index from our application using
java.io.file.delete(). We are closing the indexWriter and even all the
index searchers on that folder. But a call to delete returns false.
There is no lock on the index directory. Interesting thing is that the
deletable and segments files are getting removed. But the rest of the
.cfs are not. Has somebody had similar problem?=20

Thanks in advance,
Ravi.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 21:48:31 2004
Return-Path: 
 <lucene-user-return-11675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87551 invoked from network); 6 Dec 2004 21:48:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 21:48:31 -0000
Received: (qmail 62885 invoked by uid 500); 6 Dec 2004 21:48:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62615 invoked by uid 500); 6 Dec 2004 21:48:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62601 invoked by uid 99); 6 Dec 2004 21:48:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 13:48:24 -0800
Received: (qmail 15661 invoked by uid 60001); 6 Dec 2004 21:48:22 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=SvTgSVHEFLEtjw41wtpFwGydFKTFNeCnenP9c9RefpLsSjbTZMmUuzFadmXZPAt5TkVowz+uiW3hfqJjjB9lKQDWBUxiRQROWtHus6WzjzqFmRW+nsf65uAkbsTh/VqBADKVeRXJD1dDbYWdaBcU+y82UR+4BXfb2fuKn6CFnZs=
  ;
Message-ID: <20041206214822.15659.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 13:48:22 PST
Date: Mon, 6 Dec 2004 13:48:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Index delete failing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523448@htexc.hq.htinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This smells like a Windows issue.  It is possible that something in
your JVM is still holding onto the index directory (for example,
FSDirectory), and Winblows is not letting you remove the directory.  I
bet this will work if you exit the JVM and run java.io.file.delete()
without calling Lucene.  Sorry, my Windows + Lucene experience is
limited.

Otis

--- Ravi <ravi@htinc.com> wrote:

>  Hi 
>  We need to delete a lucene index from our application using
> java.io.file.delete(). We are closing the indexWriter and even all
> the
> index searchers on that folder. But a call to delete returns false.
> There is no lock on the index directory. Interesting thing is that
> the
> deletable and segments files are getting removed. But the rest of the
> .cfs are not. Has somebody had similar problem? 
> 
> Thanks in advance,
> Ravi. 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 21:53:09 2004
Return-Path: 
 <lucene-user-return-11676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89228 invoked from network); 6 Dec 2004 21:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 21:53:09 -0000
Received: (qmail 72899 invoked by uid 500); 6 Dec 2004 21:53:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72592 invoked by uid 500); 6 Dec 2004 21:53:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72576 invoked by uid 99); 6 Dec 2004 21:53:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 13:53:01 -0800
X-MIMEOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Index delete failing
Date: Mon, 6 Dec 2004 16:52:58 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B21552344B@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index delete failing
Thread-Index: AcTb3VP7Vmbj+x0yTt2w0hhN6fYx9AAAG9Xg
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yep, It works if I exit the JVM and run file.delete() from a different
class without using Lucene. =20

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Monday, December 06, 2004 4:48 PM
To: Lucene Users List
Subject: Re: Index delete failing

This smells like a Windows issue.  It is possible that something in your
JVM is still holding onto the index directory (for example,
FSDirectory), and Winblows is not letting you remove the directory.  I
bet this will work if you exit the JVM and run java.io.file.delete()
without calling Lucene.  Sorry, my Windows + Lucene experience is
limited.

Otis

--- Ravi <ravi@htinc.com> wrote:

>  Hi
>  We need to delete a lucene index from our application using=20
> java.io.file.delete(). We are closing the indexWriter and even all the

> index searchers on that folder. But a call to delete returns false.
> There is no lock on the index directory. Interesting thing is that the

> deletable and segments files are getting removed. But the rest of the=20
> .cfs are not. Has somebody had similar problem?
>=20
> Thanks in advance,
> Ravi.=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 22:54:04 2004
Return-Path: 
 <lucene-user-return-11677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21125 invoked from network); 6 Dec 2004 22:54:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 22:54:04 -0000
Received: (qmail 92487 invoked by uid 500); 6 Dec 2004 22:53:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92464 invoked by uid 500); 6 Dec 2004 22:53:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92448 invoked by uid 99); 6 Dec 2004 22:53:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 14:53:58 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id EFD0E82003
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 17:12:11 -0500 (EST)
Message-ID: <41B4E29D.5020806@max3d.com>
Date: Mon, 06 Dec 2004 17:52:13 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (Windows/20041201)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Problem with indexing/merging indices - documents not indexed.
Content-Type: multipart/mixed;
 boundary="------------080403080004050802040301"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------080403080004050802040301
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hello all

After reading the list for more than a year, I've finally decided (got 
courage) to post my first question.
I'm not an expert in Lucene or Java, but I can find my way around it and 
right now I'm having a problem
that I hope this list could help me out with.

I'm using MySQL to store document records (9 document types, about 30-40 
fields per document type, various lengths and purpose)
which are also indexed with Lucene upon creation and after updates. This 
is done by calling a JAVA class I wrote, from PHP and passing
on necessary parameters for indexing. But for whatever reason documents 
are not being indexed or indices being merged for that matter.

Attached is a test.java source that I wrote based on my existing code 
for indexing, as a command line test class
that indexes single documents based on two arguments: doctype and 
fileno. I have tried indexing directly into the existing
index or indexing into RAMDirectory and then merging that index with the 
existing index and in both cases the document
does not get merged into the existing FS index (count of documents does 
not increase in the existing index, and in case of a new index
it's 0 and the only file in the index directory is segments)

I have read Otis's article "Advanced Text Indexing with Lucene" and 
that's where I got the idea to try to first index into RAM and then merge
indices instead of directly indexing, just for a sanity test, and while 
Otis's code works fine, my alteration does not.

I would appreciate any feedback on my code and whether I'm doing 
something in a wrong way, because I'm at a total loss right now
as to why documents are not being indexed at all.


thanks in advance,

-pedja


--------------080403080004050802040301
Content-Type: text/plain;
 name="test.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="test.java"

import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.document.DateField;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.search.*;

import java.sql.*;
import java.io.*;

import java.util.Date;
import java.lang.Long;
import java.lang.Exception;

public class test {

  public static void addDoc(IndexWriter writer, String doctype, String crofileno) throws IOException {

    String cs             = "jdbc:mysql://localhost/db?user=user&pass=pass";
    String filePath       = "/home/httpd/files/documents";
    String docdir         = filePath + "/" + doctype.substring(0,4) + "/";
    StringBuffer mySpath   = new StringBuffer(docdir);
    StringBuffer myFpath  = new StringBuffer(docdir);
    String sql            = "SELECT * FROM " + doctype + "form WHERE crofileno=\"" + crofileno + "\"";

    // make a new, empty document
    Document doc = new Document();

    // establish a connection to MySQL database
    try {
        Class.forName("com.mysql.jdbc.Driver").newInstance();
    } catch (Exception e) {
        System.out.println("Lucene: ERROR: Unable to load driver");
        e.printStackTrace();
    }

    // get the record data...
    try {

       Connection conn = DriverManager.getConnection(cs);
       Statement Stmt = conn.createStatement();
       ResultSet RS = Stmt.executeQuery(sql);

       if(RS.next()) {
          String docstatus = RS.getString(2);
          String publish = RS.getString(3);
          String aol = RS.getString(4);
          String aols = RS.getString(5);
          String court = RS.getString(6);
	  String courtfileno = RS.getString(7);
          String casename = RS.getString(8);
          String apj = RS.getString(9);
	  String significance = RS.getString(10);
          String keywords = RS.getString(11);
          String medcond = RS.getString(12);

          String summaryFile = RS.getString(14);
	  String summarypublish = RS.getString(17);
          String textFile = RS.getString(18);
	  String textpublish = RS.getString(20);

	  String rellegi = RS.getString(22);
	  String intusecom = RS.getString(23);
	  String extusecom = RS.getString(24);
	  String reldocint = RS.getString(25);
	  String relcomint = RS.getString(26);
	  String reldocext = RS.getString(27);
	  String relcomext = RS.getString(28);

	  String dyndate1 = RS.getString(30);
          if (dyndate1.length() > 5)
            dyndate1 = dyndate1.substring(0,10).replaceAll("-","");
	  else
	    dyndate1 = "";

          String dyndate2 = RS.getString(31);
	  if (dyndate2.length() > 5)
            dyndate2 = dyndate2.substring(0,10).replaceAll("-","");
          else
            dyndate2 = "";

          String dyndate3 = RS.getString(32);
	  if (dyndate3.length() > 5)
            dyndate3 = dyndate3.substring(0,10).replaceAll("-","");
          else
            dyndate3 = "";

          java.sql.Date filestamp = RS.getDate(33);

          ///remove the -s and replace with spaces
          aol =  aol.replace(',',' ').trim();
          aols =  aols.replace('-',' ').trim();
          court = court.replace('-',' ').trim();
          keywords = keywords.replace('-',' ').trim();
          medcond = medcond.replace('-',' ').trim();

	  // add the first group of fields
	  //
          doc.add(Field.Keyword("crofileno", crofileno));
          doc.add(Field.Keyword("doctype", doctype));
          doc.add(Field.Keyword("docstatus", docstatus));
          doc.add(Field.Keyword("publish", publish));
          doc.add(Field.Text("aol", aol));
          doc.add(Field.Text("aols", aols));
          doc.add(Field.Text("court", court));
          doc.add(Field.Text("courtfileno", courtfileno));
          doc.add(Field.Text("casename", casename));
          doc.add(Field.Text("apj", apj));
          doc.add(Field.Keyword("significance", significance));
          doc.add(Field.Text("keywords", keywords));
          doc.add(Field.Text("medcond", medcond));


	  // start dealing with the files...
	  //
	  StringBuffer mydate = new StringBuffer(filestamp.toString());
          String myyear = mydate.substring(0,4);
          String mymonth = mydate.substring(5,7);

	  if (!summaryFile.equalsIgnoreCase("")) {
	  	summaryFile =  mySpath.append(myyear + "/").append(mymonth + "/").append(crofileno).append("s.doc").toString();
      	  }
	  
	  if (!textFile.equalsIgnoreCase("")) {
	  	textFile =  myFpath.append(myyear + "/").append(mymonth + "/").append(crofileno).append("t.doc").toString();
      	  }

	  File summaryF = new File(summaryFile);
	  File textF = new File(textFile);

          // Add the contents of the file a field named "summaryfile".  Use a Text
          // field, specifying a Reader, so that the text of the file is tokenized.

          if (summaryF.exists()) {
	     try {
	     	String[] cmd = { "/usr/local/bin/wvWare", "-1", "-x wvText.xml", summaryFile, "2>&1" };
		StringBuffer sb = new StringBuffer();
		Process proc = Runtime.getRuntime().exec(cmd);
                InputStream istr = proc.getInputStream();
                BufferedReader br = new BufferedReader(new InputStreamReader(istr));
                String str;
                while ((str = br.readLine()) != null)
                	sb.append(str);
		String s = sb.toString();
		doc.add(Field.Text("summary", s));
		System.out.println("Lucene Conversion: summary<br>");
	     }     
     	     catch (IOException err) {
       		err.printStackTrace();
     	     }
          }

	  doc.add(Field.UnIndexed("summarypublish", summarypublish));

          // Add the contents of the file a field named "textfile".  Use a Text
          // field, specifying a Reader, so that the text of the file is tokenized.
          if (textF.exists()) {
	     try {
                String[] cmd = { "/usr/local/bin/wvWare", "-1", "-x wvText.xml", textFile, "2>&1" };
		StringBuffer sb = new StringBuffer();
                Process proc = Runtime.getRuntime().exec(cmd);
                InputStream istr = proc.getInputStream();
                BufferedReader br = new BufferedReader(new InputStreamReader(istr));
                String str;
                while ((str = br.readLine()) != null)
                        sb.append(str);
                String s = sb.toString();
		doc.add(Field.UnStored("text", s));
		System.out.println("Lucene Conversion: fulltext<br>");
             }
             catch (Exception err) {
                err.printStackTrace();
             }  
          }

          doc.add(Field.UnIndexed("textpublish", textpublish));


	  // add the remaining fields
	  //
          doc.add(Field.Text("rellegi", rellegi));
          doc.add(Field.Text("intusecom", intusecom));
          doc.add(Field.Text("extusecom", extusecom));
          doc.add(Field.Text("reldocint", reldocint));
          doc.add(Field.Text("relcomint", relcomint));
          doc.add(Field.Text("reldocext", reldocext));
          doc.add(Field.Text("relcomext", relcomext));

	  // add the dates
	  //
          doc.add(Field.Keyword("dyndate1", dyndate1));
	  doc.add(Field.Keyword("dyndate2", dyndate2));
          doc.add(Field.Keyword("dyndate3", dyndate3));

	  System.out.println(writer);
          // add the document
          writer.addDocument(doc);
       }

       RS.close();
       Stmt.close();
       conn.close();

    } catch(SQLException e) {
       System.out.println("Lucene: ERROR: SQLException: " + e);
       System.out.println("Lucene: ERROR: SQLState:     " + e);
       System.out.println("Lucene: ERROR: VendorError:  " + e);
    }
  }


  public static void main(String[] args) throws Exception {
	String indexDir =
            System.getProperty("java.io.tmpdir", "tmp") +
            System.getProperty("file.separator") + "index";

    try{

      Date start                = new Date();
      Analyzer analyzer         = new StandardAnalyzer();
      String doctype		= args[0];
      String crofileno		= args[1];

	/*
      IndexReader reader = IndexReader.open(indexDir);;
      int deleted = reader.delete(new Term("crofileno", crofileno));
      System.out.println("Lucene deleted records: " + deleted + "<br>");
      reader.close();
	*/

      // let's make two writers, RAM and FS so that we index to RAM first then merge at the end..
      //
      RAMDirectory ramDir       = new RAMDirectory();
      IndexWriter ramWriter        = new IndexWriter(ramDir, analyzer, true);
      addDoc(ramWriter, doctype, crofileno);
      System.out.println("Docs In the RAM index: " + ramWriter.docCount());

      IndexWriter fsWriter      = new IndexWriter(indexDir, analyzer, true);
      //fsWriter.setUseCompoundFile(false);
      //fsWriter.mergeFactor  = 1000;
      //fsWriter.maxMergeDocs = 100000;
      fsWriter.addIndexes(new Directory[] { ramDir });
      //fsWriter.optimize();
      System.out.println("Docs in the FS index: " + fsWriter.docCount());
      ramWriter.close();
      fsWriter.close();

      Date end = new Date();
      System.out.println("Lucene Added OK: " + Long.toString(end.getTime() - start.getTime()) + " total milliseconds<br>");

    } catch (IOException e) {
        throw new Exception("Something bad happened: " + e.getClass() + " with message: " + e.getMessage());
    } catch (Exception e) {
        throw new Exception(" caught a " + e.getClass() + "\n with message: " + e.getMessage());
    }
  }
}


--------------080403080004050802040301
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------080403080004050802040301--

From MAILER-DAEMON Mon Dec  6 23:09:39 2004
Return-Path: 
 <lucene-user-return-11678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27871 invoked from network); 6 Dec 2004 23:09:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:09:39 -0000
Received: (qmail 12219 invoked by uid 500); 6 Dec 2004 23:09:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12194 invoked by uid 500); 6 Dec 2004 23:09:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12180 invoked by uid 99); 6 Dec 2004 23:09:34 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 15:09:32 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 479AF5B76C; Mon,  6 Dec 2004 15:09:30 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 464E27F466
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 15:09:30 -0800 (PST)
Date: Mon, 6 Dec 2004 15:09:30 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem with indexing/merging indices - documents not indexed.
In-Reply-To: <41B4E29D.5020806@max3d.com>
Message-ID: <Pine.LNX.4.58.0412061504520.3659@hal.rescomp.berkeley.edu>
References: <41B4E29D.5020806@max3d.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: I would appreciate any feedback on my code and whether I'm doing
: something in a wrong way, because I'm at a total loss right now
: as to why documents are not being indexed at all.

I didn't try running your code (because i don't have a DB to test it with)
but a quick read gives me a good guess as to your problem:

I believe you to call...
	ramWriter.close();
...before you call...
	fsWriter.addIndexes(new Directory[] { ramDir });

(I've never played with merging indexes, so i could be completley wrong)

Everything I've ever read/seen/tried has indicated that untill you "close"
your IndexWritter, nothing you do will be visible to anybody else who
opens that "Directory"

I'm also guessing that when you were trying to add the docs to fsWriter
directly, you were using an IndexReader you had opened prior to calling
fsWriter.close() to check the number of docs ... that won't work for hte
same reason.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 23:21:13 2004
Return-Path: 
 <lucene-user-return-11679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33350 invoked from network); 6 Dec 2004 23:21:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:21:13 -0000
Received: (qmail 25532 invoked by uid 500); 6 Dec 2004 23:21:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25505 invoked by uid 500); 6 Dec 2004 23:21:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25491 invoked by uid 99); 6 Dec 2004 23:21:07 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sentinel.larc.nasa.gov (HELO sentinel.larc.nasa.gov)
 (128.155.10.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 15:21:07 -0800
Received: from dvals1.larc.nasa.gov (dvals1.larc.nasa.gov [128.155.4.96]) by
 sentinel.larc.nasa.gov with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 6 Dec 2004 18:21:04 -0500
Received: from nasa.gov (daib-mail.larc.nasa.gov [128.155.14.21])
	by dvals1.larc.nasa.gov (8.12.10/8.12.2) with ESMTP id iB6NL3JA021880
	for <lucene-user@jakarta.apache.org>; Mon, 6 Dec 2004 18:21:03 -0500 (EST)
Message-Id: <41B4E97A.2040009@nasa.gov>
Date: Mon, 06 Dec 2004 15:21:30 -0800
From: "Bill von Ofenheim (LaRC)" <w.h.vonofenheim@nasa.gov>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030703
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Single Digit Indexing
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How can I get Lucene to index single digits (e.g. "8" as in "Gemini 8")?
I am able to index numbers with two or more digits (e.g. "11" as in
"Apollo 11").

Thanks,
Bill von Ofenheim




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 23:25:40 2004
Return-Path: 
 <lucene-user-return-11680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39149 invoked from network); 6 Dec 2004 23:25:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:25:40 -0000
Received: (qmail 30544 invoked by uid 500); 6 Dec 2004 23:25:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30497 invoked by uid 500); 6 Dec 2004 23:25:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30482 invoked by uid 99); 6 Dec 2004 23:25:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12701.mail.yahoo.com (HELO web12701.mail.yahoo.com)
 (216.136.173.238)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 15:25:31 -0800
Received: (qmail 76219 invoked by uid 60001); 6 Dec 2004 23:25:29 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=bXUGiLrXLIEXMQikLPDyuR29tp/WGbiutb+iImj/eAcX7f/RbWgTySR+TVVS7HBQoO0WGw6X9yQuvCEq4mlp9j2R7vKzzdBBr352EOBJCxiUZhGGbs6dVrwY54Y57ty0SkjEL6cV97eqVOXUV5Sp33HNdbR0UGVA5+gxZ3T90SM=
  ;
Message-ID: <20041206232528.76213.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 15:25:28 PST
Date: Mon, 6 Dec 2004 15:25:28 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Single Digit Indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B4E97A.2040009@nasa.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hm, if you can index 11, you should be able to index 8 as well.  In any
case, you most likely want to make sure that your Analyzer is not just
throwing your numbers out.  This may stillbe up to date:
http://www.jguru.com/faq/view.jsp?EID=538308

See also: http://wiki.apache.org/jakarta-lucene/HowTo

Otis

--- "Bill von Ofenheim (LaRC)" <w.h.vonofenheim@nasa.gov> wrote:

> How can I get Lucene to index single digits (e.g. "8" as in "Gemini
> 8")?
> I am able to index numbers with two or more digits (e.g. "11" as in
> "Apollo 11").
> 
> Thanks,
> Bill von Ofenheim
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 23:30:32 2004
Return-Path: 
 <lucene-user-return-11681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41630 invoked from network); 6 Dec 2004 23:30:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:30:32 -0000
Received: (qmail 39197 invoked by uid 500); 6 Dec 2004 23:30:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38910 invoked by uid 500); 6 Dec 2004 23:30:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38895 invoked by uid 99); 6 Dec 2004 23:30:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 15:30:25 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 9732C8249E
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 17:48:38 -0500 (EST)
Message-ID: <41B4EB28.2010806@max3d.com>
Date: Mon, 06 Dec 2004 18:28:40 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (Windows/20041201)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem with indexing/merging indices - documents not indexed.
References: <41B4E29D.5020806@max3d.com>
 <Pine.LNX.4.58.0412061504520.3659@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0412061504520.3659@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chris

actually for merging indices that's how Otis did it in the article I quoted:

            // if -r argument was specified, use RAMDirectory
            RAMDirectory ramDir    = new RAMDirectory();
            IndexWriter  ramWriter = new IndexWriter(ramDir, analyzer, 
true);
            addDocs(ramWriter, docsInIndex);
            IndexWriter fsWriter   = new IndexWriter(indexDir, analyzer, 
true);
            fsWriter.addIndexes(new Directory[] { ramDir });
            ramWriter.close();
            fsWriter.close();

..which works great, and all I've done is replace the addDocs with my 
MySQL version of the function.

I do know about having to close and re-open to find the document count, 
which I've also tried but it didnt yield any difference,
a simple look in the index directory shows no files there except 
segements, even though it should've merged the RAMDir index into the fsDir.


thanks

-pedja



Chris Hostetter said the following on 12/6/2004 6:09 PM:

>: I would appreciate any feedback on my code and whether I'm doing
>: something in a wrong way, because I'm at a total loss right now
>: as to why documents are not being indexed at all.
>
>I didn't try running your code (because i don't have a DB to test it with)
>but a quick read gives me a good guess as to your problem:
>
>I believe you to call...
>	ramWriter.close();
>...before you call...
>	fsWriter.addIndexes(new Directory[] { ramDir });
>
>(I've never played with merging indexes, so i could be completley wrong)
>
>Everything I've ever read/seen/tried has indicated that untill you "close"
>your IndexWritter, nothing you do will be visible to anybody else who
>opens that "Directory"
>
>I'm also guessing that when you were trying to add the docs to fsWriter
>directly, you were using an IndexReader you had opened prior to calling
>fsWriter.close() to check the number of docs ... that won't work for hte
>same reason.
>
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 23:45:25 2004
Return-Path: 
 <lucene-user-return-11682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49986 invoked from network); 6 Dec 2004 23:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:45:25 -0000
Received: (qmail 65083 invoked by uid 500); 6 Dec 2004 23:45:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65027 invoked by uid 500); 6 Dec 2004 23:45:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65001 invoked by uid 99); 6 Dec 2004 23:45:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 15:45:14 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CbSXY-0001IX-MN; Mon, 06 Dec 2004 15:45:12 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Developers List'" <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>
Subject: dotLucene 1.4.3 (port of Jakarta Lucene to C#)
Date: Mon, 6 Dec 2004 18:45:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: 
Thread-Index: AcTVuFIygrtZ8D6SRAeQOYbZ2Y7D9QGNMlww
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks, 

I am pleased to announce the availability of "dotLucene 1.4.3 beta
build-001"  This is the first "beta" release of version 1.4.3 of Jakarta
Lucene ported to C# and is intended to be "Release Candidate".

Please visit http://www.sourceforge.net/projects/dotlucene/ to learn more
about dotLucene and to download the source code.

Best regards,

-- George Aroush


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  6 23:58:55 2004
Return-Path: 
 <lucene-user-return-11683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55083 invoked from network); 6 Dec 2004 23:58:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Dec 2004 23:58:55 -0000
Received: (qmail 84397 invoked by uid 500); 6 Dec 2004 23:58:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84365 invoked by uid 500); 6 Dec 2004 23:58:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84348 invoked by uid 99); 6 Dec 2004 23:58:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 15:58:49 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CbSkj-0003XO-7W
	for lucene-user@jakarta.apache.org; Mon, 06 Dec 2004 15:58:49 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
Date: Mon, 6 Dec 2004 18:58:48 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <auto-000089928404@frontend3.aha.ru>
Thread-Index: AcTXtNwabHK5H8HSQ5W04q2IGR8KhgBCeYPwADNvCIAAmEpPEA==
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Pasha,

If you don't use any tools, are you saying that you did the conversion by
hand?!!  I see a lot of code resemblances in 1.3 and what JLCA generates for
me in 1.4 and 1.4.3, I mean a lot.

Regards,

-- George


-----Original Message-----
From: Pasha Bizhan [mailto:fckdp@ok.ru] 
Sent: Friday, December 03, 2004 6:06 PM
To: 'Lucene Users List'
Subject: RE: dotLucene (port of Jakarta Lucene to C#)

Hi, 

> From: George Aroush [mailto:george@aroush.net]

> I don't know how Lucene.Net 1.3 was converted to C# by Pasha Bizhan 
> but I like to hear from him.

We don't use any tools.

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 00:24:48 2004
Return-Path: 
 <lucene-user-return-11684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63982 invoked from network); 7 Dec 2004 00:24:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 00:24:48 -0000
Received: (qmail 21507 invoked by uid 500); 7 Dec 2004 00:24:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20771 invoked by uid 500); 7 Dec 2004 00:24:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20755 invoked by uid 99); 7 Dec 2004 00:24:44 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 16:24:43 -0800
Received: (qmail 18710 invoked by uid 60001); 7 Dec 2004 00:24:41 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=fgWYQMgkprdsLrBPg1kAHWnRpthliFRrTKrLzaDcQ51mW+pm6SwJzUWX+1Bg/nFfSva0imCf8f9EL2ZPJCe3SvWo0T229IEIwLTMl5Jnl+k3u0FTFe0mOHEZ9EvQqkSVLYYn7tvWqUCVoxfEVm5Z1X1fzaB0LP8kKrcWqv3REKU=
  ;
Message-ID: <20041207002441.18708.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 16:24:41 PST
Date: Mon, 6 Dec 2004 16:24:41 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: dotLucene (port of Jakarta Lucene to C#)
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I seem to recall Pasha mentioning some tools that automated the
porting, but maybe I'm mixing things up with another Lucene port.

Otis

--- George Aroush <george@aroush.net> wrote:

> Hi Pasha,
> 
> If you don't use any tools, are you saying that you did the
> conversion by
> hand?!!  I see a lot of code resemblances in 1.3 and what JLCA
> generates for
> me in 1.4 and 1.4.3, I mean a lot.
> 
> Regards,
> 
> -- George
> 
> 
> -----Original Message-----
> From: Pasha Bizhan [mailto:fckdp@ok.ru] 
> Sent: Friday, December 03, 2004 6:06 PM
> To: 'Lucene Users List'
> Subject: RE: dotLucene (port of Jakarta Lucene to C#)
> 
> Hi, 
> 
> > From: George Aroush [mailto:george@aroush.net]
> 
> > I don't know how Lucene.Net 1.3 was converted to C# by Pasha Bizhan
> 
> > but I like to hear from him.
> 
> We don't use any tools.
> 
> Pasha Bizhan
> http://lucenedotnet.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 00:26:12 2004
Return-Path: 
 <lucene-user-return-11685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64466 invoked from network); 7 Dec 2004 00:26:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 00:26:12 -0000
Received: (qmail 22752 invoked by uid 500); 7 Dec 2004 00:26:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22714 invoked by uid 500); 7 Dec 2004 00:26:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22676 invoked by uid 99); 7 Dec 2004 00:26:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 16:26:03 -0800
Received: (qmail 12369 invoked by uid 532); 7 Dec 2004 00:25:48 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.180562 secs); 07 Dec 2004 00:25:48 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 7 Dec 2004 00:25:48 -0000
Message-ID: <41B4F898.7040707@tropo.com>
Date: Mon, 06 Dec 2004 16:26:00 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Single Digit Indexing
References: <20041206232528.76213.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20041206232528.76213.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> Hm, if you can index 11, you should be able to index 8 as well.  In any
> case, you most likely want to make sure that your Analyzer is not just

In theory you could have a  "length" filter tossing out tokens that are 
too short or too long, and maybe you're getting rid of all tokens less 
than 2 chars...


> throwing your numbers out.  This may stillbe up to date:
> http://www.jguru.com/faq/view.jsp?EID=538308
> 
> See also: http://wiki.apache.org/jakarta-lucene/HowTo
> 
> Otis
> 
> --- "Bill von Ofenheim (LaRC)" <w.h.vonofenheim@nasa.gov> wrote:
> 
> 
>>How can I get Lucene to index single digits (e.g. "8" as in "Gemini
>>8")?
>>I am able to index numbers with two or more digits (e.g. "11" as in
>>"Apollo 11").
>>
>>Thanks,
>>Bill von Ofenheim
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 01:03:47 2004
Return-Path: 
 <lucene-user-return-11686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82835 invoked from network); 7 Dec 2004 01:03:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 01:03:47 -0000
Received: (qmail 77287 invoked by uid 500); 7 Dec 2004 01:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77240 invoked by uid 500); 7 Dec 2004 01:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77198 invoked by uid 99); 7 Dec 2004 01:03:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 17:03:23 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id D41DD824C4
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 19:21:35 -0500 (EST)
Message-ID: <41B500F2.40106@max3d.com>
Date: Mon, 06 Dec 2004 20:01:38 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (Windows/20041201)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Is this a bug or a feature with addIndexes?
References: <20041206232528.76213.qmail@web12701.mail.yahoo.com>
 <41B4F898.7040707@tropo.com>
In-Reply-To: <41B4F898.7040707@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greetings,

Ok, so maybe this is common knowledge to most of you but I'm a lamen 
when it comes to Lucene and
I couldnt find any details about this after some searching.

When you merge two indexes via addIndexes, does it only work in batches 
(10 or more documents)?

Because I've been banging my head off the wall wondering why my code 
does not want to index 1 (one) document and
then I went to run Otis's MemoryVsDisk class from 
http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html?page=last
but I didnt use 10,000 documents as suggested, I used 5 and 15 instead.
And what do you know, less than 10 it doesnt merge at all while more 
than 10 it will merge only first 10 documents and
"gently" forget about the other 5.

My project requires me to index/update one single document as required 
and make it immediately available for searching.

How do I accomplish this if index merging will not merge less than 10 
and in increments of 10, and single indexing doesnt
seem to do it at all (please see my other post 
http://marc.theaimsgroup.com/?l=lucene-user&m=110237364203877&w=2)

thanks

-pedja

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 01:12:09 2004
Return-Path: 
 <lucene-user-return-11687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86340 invoked from network); 7 Dec 2004 01:12:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 01:12:09 -0000
Received: (qmail 96213 invoked by uid 500); 7 Dec 2004 01:12:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96187 invoked by uid 500); 7 Dec 2004 01:12:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96163 invoked by uid 99); 7 Dec 2004 01:12:01 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 06 Dec 2004 17:12:00 -0800
Received: (qmail 94374 invoked by uid 60001); 7 Dec 2004 01:11:58 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=JOShBNPDPPQ3J9LAzPSokBxdLcrNVfXICbaJO6u3EHA2bBeOzpyk422d1u7JfxqR77aIoO9aTaViW3ij8R8u4mADrDiERq+5Z4PWTMIzleGAZqfWHxVdsSiJCq+LGPcvbfnOC80G55KKOivXCWOHfPk1w7feh1ic9JbLWa0tIRs=
  ;
Message-ID: <20041207011158.94372.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Mon, 06 Dec 2004 17:11:58 PST
Date: Mon, 6 Dec 2004 17:11:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Is this a bug or a feature with addIndexes?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B500F2.40106@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Try changing IndexWriter's mergeFactor variable.  It's 10 by default. 
Change it to 1, for instance.

Otis

--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Greetings,
> 
> Ok, so maybe this is common knowledge to most of you but I'm a lamen 
> when it comes to Lucene and
> I couldnt find any details about this after some searching.
> 
> When you merge two indexes via addIndexes, does it only work in
> batches 
> (10 or more documents)?
> 
> Because I've been banging my head off the wall wondering why my code 
> does not want to index 1 (one) document and
> then I went to run Otis's MemoryVsDisk class from 
> http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html?page=last
> but I didnt use 10,000 documents as suggested, I used 5 and 15
> instead.
> And what do you know, less than 10 it doesnt merge at all while more 
> than 10 it will merge only first 10 documents and
> "gently" forget about the other 5.
> 
> My project requires me to index/update one single document as
> required 
> and make it immediately available for searching.
> 
> How do I accomplish this if index merging will not merge less than 10
> 
> and in increments of 10, and single indexing doesnt
> seem to do it at all (please see my other post 
> http://marc.theaimsgroup.com/?l=lucene-user&m=110237364203877&w=2)
> 
> thanks
> 
> -pedja
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 01:29:28 2004
Return-Path: 
 <lucene-user-return-11688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98795 invoked from network); 7 Dec 2004 01:29:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 01:29:28 -0000
Received: (qmail 39603 invoked by uid 500); 7 Dec 2004 01:29:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39574 invoked by uid 500); 7 Dec 2004 01:29:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39559 invoked by uid 99); 7 Dec 2004 01:29:21 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 17:29:19 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 6D62C81DB6
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 19:47:32 -0500 (EST)
Message-ID: <41B50702.6090603@max3d.com>
Date: Mon, 06 Dec 2004 20:27:30 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (Windows/20041201)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Is this a bug or a feature with addIndexes?
References: <20041207011158.94372.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20041207011158.94372.qmail@web12704.mail.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------090502070003090208000201"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------090502070003090208000201
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Otis

I did try, here's what I get:

[amigo@venus tmp]# time java MemoryVsDisk 1 1 100000 -r  
Docs in the RAM index: 1
Docs in the FS index: 0
Total time: 142 ms

real    0m0.322s
user    0m0.268s
sys     0m0.033s

I tried other combinations but they dont seem to affect the outcome 
either :(

thanks

-pedja


Otis Gospodnetic said the following on 12/6/2004 8:11 PM:

>Hello,
>
>Try changing IndexWriter's mergeFactor variable.  It's 10 by default. 
>Change it to 1, for instance.
>
>Otis
>
>--- "amigo@max3d.com" <amigo@max3d.com> wrote:
>
>  
>
>>Greetings,
>>
>>Ok, so maybe this is common knowledge to most of you but I'm a lamen 
>>when it comes to Lucene and
>>I couldnt find any details about this after some searching.
>>
>>When you merge two indexes via addIndexes, does it only work in
>>batches 
>>(10 or more documents)?
>>
>>Because I've been banging my head off the wall wondering why my code 
>>does not want to index 1 (one) document and
>>then I went to run Otis's MemoryVsDisk class from 
>>http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html?page=last
>>but I didnt use 10,000 documents as suggested, I used 5 and 15
>>instead.
>>And what do you know, less than 10 it doesnt merge at all while more 
>>than 10 it will merge only first 10 documents and
>>"gently" forget about the other 5.
>>
>>My project requires me to index/update one single document as
>>required 
>>and make it immediately available for searching.
>>
>>How do I accomplish this if index merging will not merge less than 10
>>
>>and in increments of 10, and single indexing doesnt
>>seem to do it at all (please see my other post 
>>http://marc.theaimsgroup.com/?l=lucene-user&m=110237364203877&w=2)
>>
>>thanks
>>
>>-pedja
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

--------------090502070003090208000201--

From MAILER-DAEMON Tue Dec  7 02:04:46 2004
Return-Path: 
 <lucene-user-return-11690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23288 invoked from network); 7 Dec 2004 02:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 02:04:46 -0000
Received: (qmail 20755 invoked by uid 500); 7 Dec 2004 02:04:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20546 invoked by uid 500); 7 Dec 2004 02:04:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20308 invoked by uid 99); 7 Dec 2004 02:04:20 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 18:04:18 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 712C45B841; Mon,  6 Dec 2004 18:04:03 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 239167F460
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 18:04:02 -0800 (PST)
Date: Mon, 6 Dec 2004 18:04:02 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Is this a bug or a feature with addIndexes?
In-Reply-To: <41B50702.6090603@max3d.com>
Message-ID: <Pine.LNX.4.58.0412061746000.29860@hal.rescomp.berkeley.edu>
References: <20041207011158.94372.qmail@web12704.mail.yahoo.com>
 <41B50702.6090603@max3d.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: [amigo@venus tmp]# time java MemoryVsDisk 1 1 100000 -r
: Docs in the RAM index: 1
: Docs in the FS index: 0
: Total time: 142 ms

I looked at the code from the article you mentioned and added the print
statements i'm guessing you added for ramWriter/fsWriter.docCount() before
and after each are closed.  I also opened the resulting indexDir with a
new IndexReader after all the writers had been closed to get it's numDocs
-- and I can confirm that the index in indexDir is in fact empty.  (using
1.4.2)


But like i said before:  You should try closing the ramWriter before
calling fsWriter.addIndexes.  i can say with authority that it works
(because i've tried it)

The date on that article is March of 2003 -- which pre-dates the lucene
1.3 RC, so it's likely that the internals have changed a bit making
it neccessary to close ramWriter first.

Hell, it's entirely possible that the code in Otis's article never work
100% correctly ... that code never printed out the number of docs in the
final index, so it's entirely possible it was missing a few even when he
ran it.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 02:18:34 2004
Return-Path: 
 <lucene-user-return-11691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42309 invoked from network); 7 Dec 2004 02:18:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 02:18:34 -0000
Received: (qmail 55701 invoked by uid 500); 7 Dec 2004 02:18:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55680 invoked by uid 500); 7 Dec 2004 02:18:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55665 invoked by uid 99); 7 Dec 2004 02:18:24 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates
 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu)
 (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 18:18:21 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 11890906D
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 21:18:19 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id D2EBE14D0; Mon,  6 Dec 2004 21:18:18 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id AD39814BB
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 21:18:18 -0500 (EST)
Date: Mon, 6 Dec 2004 21:18:18 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: lucene-user@jakarta.apache.org
Subject: .NET Version of Lucene
Message-ID: <Pine.GSO.4.53.0412062100010.6735@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I know there has been talk about a .NET version of lucene.  I have been
looking into doing something similar for PDFBox and came across a project
called IKVM http://www.ikvm.net/  I don't believe it has been mentioned on
this list.

It is a little different approach than what I people have been trying.
It uses the GNU classpath to bring all of the newer JDK classes into .NET
and you can run a command line app to create a DLL from a jar.  So for
example

ikvmc.exe -reference:ikvm.gnu.classpath.dll
-reference:IKVM.AWT.WinForms.dll -out:bin\lucene-1.4.2.dll
external\lucene-1.4.2.jar

The drawback is that you will need to include the ikvm.gnu.classpath.dll
in your project which is about 3 megs, but to be able to use lucene in
.NET and not have to use a manual process when a new version comes out is
pretty cool.  I have not gotten around to running the junit tests yet, but
that is next.

For PDFBox, which depends on ANT/junit/log4j/lucene, I was able to run the
jar->DLL process for each of those projects and run PDFBox in .NET without
a problem.

One licensing note, GNU Classpath is released as GPL "with an exception",
allowing it to be rereleased under a different license.  See
http://www.gnu.org/software/classpath/license.html for more details.

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 03:36:23 2004
Return-Path: 
 <lucene-user-return-11692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88829 invoked from network); 7 Dec 2004 03:36:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 03:36:23 -0000
Received: (qmail 20542 invoked by uid 500); 7 Dec 2004 03:36:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20521 invoked by uid 500); 7 Dec 2004 03:36:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20506 invoked by uid 99); 7 Dec 2004 03:36:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 19:36:15 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id CAFC2233DE
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 09:00:56 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Size Search 
Date: Tue, 7 Dec 2004 09:11:02 +0530
Message-ID: <001401c4dc0e$9319f020$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <387512E5-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for your response.....

I have indexed like Field.Text("size",docSize)

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Monday, December 06, 2004 6:48 PM
To: Lucene Users List
Subject: Re: Size Search 


On Dec 6, 2004, at 8:08 AM, Natarajan.T wrote:
> I have indexed File sizes....(like 2,4, 5,10,20,etc...)

How did you index them?

> I want search results only the size range between 5 - 20.
>
> How can I handle this???

See here:

	http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 04:05:59 2004
Return-Path: 
 <lucene-user-return-11693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1838 invoked from network); 7 Dec 2004 04:05:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 04:05:59 -0000
Received: (qmail 65086 invoked by uid 500); 7 Dec 2004 04:05:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65066 invoked by uid 500); 7 Dec 2004 04:05:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65045 invoked by uid 99); 7 Dec 2004 04:05:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mahendra.bhaskar@gmail.com
 designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 20:05:50 -0800
Received: by rproxy.gmail.com with SMTP id z35so282612rne
        for <lucene-user@jakarta.apache.org>;
 Mon, 06 Dec 2004 20:05:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=SdDZePl3p71vxycXjcbYcmduI1HkVDYsNaCQIS/RS0rrJ3ZKbVMBTm9LaD5zTF76GoJT6jPKszaEu9NyAqCEJhpNNJPkW3fyD3+qd2lQqpjY4cO6B3O2uVKONDk16M12OSh/+ihEEb2AjR/rm1zXD7auOn/9IOvq4GXFz1v+8HQ=
Received: by 10.38.97.72 with SMTP id u72mr957865rnb;
        Mon, 06 Dec 2004 20:05:48 -0800 (PST)
Received: by 10.38.89.44 with HTTP; Mon, 6 Dec 2004 20:05:48 -0800 (PST)
Message-ID: <4e45e85d04120620057a6c6cb5@mail.gmail.com>
Date: Tue, 7 Dec 2004 09:35:48 +0530
From: Mahendra <mahendra.bhaskar@gmail.com>
Reply-To: Mahendra <mahendra.bhaskar@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Help on Phrase Prefix query
In-Reply-To: <846CC862-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_Part_1425_33443158.1102392348405"
References: <4e45e85d041206033435700ec7@mail.gmail.com>
	 <846CC862-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_Part_1425_33443158.1102392348405
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Erik,

Thanks for responding. I have attached a sample java file for the
sample implementation.


-regards,
mahendra


On Mon, 6 Dec 2004 08:19:54 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> Mahendra,
> 
> Could you provide a concrete, and simple, example of what you're trying
> to achieve?  It would help me understand what you're after.
> 
> Any Query implementation works fine as a clause within a BooleanQuery,
> there is nothing special to do for a PhrasePrefixQuery in this regard.
> 
>        Erik
> 
> 
> 
> 
> On Dec 6, 2004, at 6:34 AM, Mahendra wrote:
> 
> > Hi,
> >
> > Presently i am working on a requirement in my application, to do the
> > search using lucene as follows,
> >
> > Users enters phrase prefix query text. The query should be constructed
> > as follows,
> > - a PhrasePrefixQuery based on the user entered text,  for eg FieldA
> > - a termquery based on another field, for eg FieldB
> > - a boolean query is constructed based on the above two queries.
> >
> > The search based on the boolean query, does not yield any results.
> > However, query based on PhrasePrefixQuery and TermQuery is returning
> > results. Can anyone suggest how
> > to use PhrasePrefixQuery as part of Booleanquery.
> >
> > -Thanks,
> > Mahendra
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

------=_Part_1425_33443158.1102392348405
Content-Type: text/x-java; name="TestPhrasePrefixQuery.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment; filename="TestPhrasePrefixQuery.java"

package org.apache.lucene.search;

/**
 * Copyright 2004 The Apache Software Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermEnum;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

import junit.framework.TestCase;

import java.io.IOException;
import java.util.LinkedList;

/**
 * This class tests PhrasePrefixQuery class.
 *
 * @author Otis Gospodnetic
 * @version $Id: TestPhrasePrefixQuery.java,v 1.3 2004/03/29 22:48:06 cutti=
ng Exp $
 */
public class TestPhrasePrefixQuery
    extends TestCase
{
    public TestPhrasePrefixQuery(String name)
    {
        super(name);
    }

    /**
     *
     */
    public void testPhrasePrefix()
        throws IOException
    {
        RAMDirectory indexStore =3D new RAMDirectory("D:\\bea81\\user_proje=
cts\\domains\\masdomain\\mas\\index");
        IndexWriter writer =3D new IndexWriter(indexStore, new SimpleAnalyz=
er(), true);
=09=09/*
        Document doc1 =3D new Document();
        Document doc2 =3D new Document();
        Document doc3 =3D new Document();
        Document doc4 =3D new Document();
        Document doc5 =3D new Document();
        doc1.add(Field.Text("text", "blueberry pie"));
        doc2.add(Field.Text("body", "blueberry strudel"));
        doc3.add(Field.Text("body", "blueberry pizza"));
        doc4.add(Field.Text("body", "blueberry chewing gum"));
        doc5.add(Field.Text("body", "piccadilly circus"));
        writer.addDocument(doc1);
        writer.addDocument(doc2);
        writer.addDocument(doc3);
        writer.addDocument(doc4);
        writer.addDocument(doc5);
        writer.optimize();
        writer.close();

=09=09*/
=09=09IndexSearcher searcher =3D new IndexSearcher("D:\\bea81\\user_project=
s\\domains\\masdomain\\mas\\index");

        PhrasePrefixQuery query1 =3D new PhrasePrefixQuery();
        PhrasePrefixQuery query2 =3D new PhrasePrefixQuery();
        query1.add(new Term("text", "contracts"));
        query2.add(new Term("text", "contracts"));

        LinkedList termsWithPrefix =3D new LinkedList();
        IndexReader ir =3D IndexReader.open("D:\\bea81\\user_projects\\doma=
ins\\masdomain\\mas\\index");

        TermEnum te =3D ir.terms(new Term("text", "appl*"));
        do {
            if (te.term().text().startsWith("appl"))
            {
                termsWithPrefix.add(te.term());
            }
        } while (te.next());

        query1.add((Term[])termsWithPrefix.toArray(new Term[0]));
        query2.add((Term[])termsWithPrefix.toArray(new Term[0]));
        BooleanQuery qry =3D new BooleanQuery();
        qry.add(query1,true,false);
        qry.add(new TermQuery(new Term ("Object_Type", "contract")), true, =
false);
        Hits result;
        result =3D searcher.search(qry);
        assertEquals(2, result.length());

        result =3D searcher.search(query2);
        assertEquals(0, result.length());
    }
}


------=_Part_1425_33443158.1102392348405
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_Part_1425_33443158.1102392348405--

From MAILER-DAEMON Tue Dec  7 05:15:08 2004
Return-Path: 
 <lucene-user-return-11694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38391 invoked from network); 7 Dec 2004 05:15:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 05:15:08 -0000
Received: (qmail 41945 invoked by uid 500); 7 Dec 2004 05:15:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41925 invoked by uid 500); 7 Dec 2004 05:15:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41905 invoked by uid 99); 7 Dec 2004 05:15:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.201 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 21:15:02 -0800
Received: by rproxy.gmail.com with SMTP id z35so289877rne
        for <lucene-user@jakarta.apache.org>;
 Mon, 06 Dec 2004 21:15:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=NSD+OIMdIP4c9UVwn/upOrmGYr9HwRwSuNrSLyFeBn71ACPfmZep9FpFMsOmCRxfQHOHGoMfPsHUvXGOQm46r72f0v97mOMoSqdN5YuK21XLoIqkMBxAe1A00ag1RHEjnXA5TNXJz2BBSYxS800WwpHreuto2c9zF6puk9rzXBQ=
Received: by 10.38.97.72 with SMTP id u72mr986119rnb;
        Mon, 06 Dec 2004 21:15:00 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Mon, 6 Dec 2004 21:15:00 -0800 (PST)
Message-ID: <8837fb770412062115795df6a3@mail.gmail.com>
Date: Mon, 6 Dec 2004 21:15:00 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: finalize delete without optimize
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

   Is there a way to finalize delete, e.g. actually remove them from
the segments and make sure the docIDs are contiguous again.

   The only explicit way to do this is by calling
IndexWriter.optmize(). But this call does a lot more (also merges all
the segments), hence is very expensive. Is there a way to simply just
finalize the deletes without having to merge all the segments?

    If not, I'd be glad to submit an implementation of this feature if
the Lucene devs agree this is useful.

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 05:16:34 2004
Return-Path: 
 <lucene-user-return-11695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38942 invoked from network); 7 Dec 2004 05:16:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 05:16:34 -0000
Received: (qmail 44850 invoked by uid 500); 7 Dec 2004 05:16:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44823 invoked by uid 500); 7 Dec 2004 05:16:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44809 invoked by uid 99); 7 Dec 2004 05:16:26 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=FORGED_RCVD_HELO,HTML_90_100,HTML_MESSAGE,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 21:16:26 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 81599233DE
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 10:41:07 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: <lucene-user@jakarta.apache.org>
Subject: Filter !!!
Date: Tue, 7 Dec 2004 10:51:15 +0530
Message-ID: <003e01c4dc1c$9312bbd0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003F_01C4DC4A.ACCAF7D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003F_01C4DC4A.ACCAF7D0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

 

Hi All,

 

 I want pass multiple filter (QueryFilter,DateFilter)  objects to search
method..

 See below:

 

 Hits hits = indexSearcher.search(searchQuery, filter)   //  here I want
to pass multiple filter...  (DateFilter,QueryFilter)

 

 

How can I handle this??

 

Regards,

Natarajan.

 


------=_NextPart_000_003F_01C4DC4A.ACCAF7D0--


From MAILER-DAEMON Tue Dec  7 05:56:16 2004
Return-Path: 
 <lucene-user-return-11696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52588 invoked from network); 7 Dec 2004 05:56:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 05:56:16 -0000
Received: (qmail 6256 invoked by uid 500); 7 Dec 2004 05:56:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6216 invoked by uid 500); 7 Dec 2004 05:56:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6167 invoked by uid 99); 7 Dec 2004 05:56:00 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=PLING_PLING,SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 21:55:58 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D8B1C5B7AD; Mon,  6 Dec 2004 21:55:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D76BB7F460
	for <lucene-user@jakarta.apache.org>; Mon,  6 Dec 2004 21:55:53 -0800 (PST)
Date: Mon, 6 Dec 2004 21:55:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Filter !!!
In-Reply-To: <003e01c4dc1c$9312bbd0$8714a8c0@ssl>
Message-ID: <Pine.LNX.4.58.0412062141250.19595@hal.rescomp.berkeley.edu>
References: <003e01c4dc1c$9312bbd0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


:  Hits hits = indexSearcher.search(searchQuery, filter)   //  here I want
: to pass multiple filter...  (DateFilter,QueryFilter)

You can write a Filter that takes in multiple filters and ANDs them
together (or ORs them, it's not clear what you want)

   Hits h = s.search(q,new AndFilter(df,qf));

...

class AndFilter {
   final Filter a;
   final Filter b;
   public AndFilter(Filter a, Filter b) {
     this.a = a;
     this.b = b;
   }
   BitSet bits(IndexReader r) {
     return b.bits(r).and(a.bits(r));
   }
}


(I'm planing on writting a generalized "BooleanFilter" class sometime
in the next few weeks)

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 06:20:55 2004
Return-Path: 
 <lucene-user-return-11697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60738 invoked from network); 7 Dec 2004 06:20:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 06:20:55 -0000
Received: (qmail 34702 invoked by uid 500); 7 Dec 2004 06:20:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34651 invoked by uid 500); 7 Dec 2004 06:20:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34586 invoked by uid 99); 7 Dec 2004 06:20:24 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 22:20:23 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id ED5C4233E3
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 11:45:03 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filter !!!
Date: Tue, 7 Dec 2004 11:55:11 +0530
Message-ID: <006601c4dc25$81d04ff0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0067_01C4DC53.9B888BF0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <Pine.LNX.4.58.0412062141250.19595@hal.rescomp.berkeley.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0067_01C4DC53.9B888BF0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Thanks for your response..

 

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Tuesday, December 07, 2004 11:26 AM
To: Lucene Users List
Subject: Re: Filter !!!

 

 

:  Hits hits = indexSearcher.search(searchQuery, filter)   //  here I
want

: to pass multiple filter...  (DateFilter,QueryFilter)

 

You can write a Filter that takes in multiple filters and ANDs them

together (or ORs them, it's not clear what you want)

 

   Hits h = s.search(q,new AndFilter(df,qf));

 

...

 

class AndFilter {

   final Filter a;

   final Filter b;

   public AndFilter(Filter a, Filter b) {

     this.a = a;

     this.b = b;

   }

   BitSet bits(IndexReader r) {

     return b.bits(r).and(a.bits(r));  // Correct this line I am getting
some error.

   }

}

 

 

(I'm planing on writting a generalized "BooleanFilter" class sometime

in the next few weeks)

 

-Hoss

 

 

---------------------------------------------------------------------

To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------=_NextPart_000_0067_01C4DC53.9B888BF0--


From MAILER-DAEMON Tue Dec  7 07:18:13 2004
Return-Path: 
 <lucene-user-return-11698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86899 invoked from network); 7 Dec 2004 07:18:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 07:18:13 -0000
Received: (qmail 22980 invoked by uid 500); 7 Dec 2004 07:17:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22950 invoked by uid 500); 7 Dec 2004 07:17:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22899 invoked by uid 99); 7 Dec 2004 07:17:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 23:17:37 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 690D513E28F9; Tue,  7 Dec 2004 02:17:34 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4981413E28F7
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 02:17:17 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4e45e85d04120620057a6c6cb5@mail.gmail.com>
References: <4e45e85d041206033435700ec7@mail.gmail.com>
 <846CC862-4789-11D9-8105-000A95BC61B6@ehatchersolutions.com>
 <4e45e85d04120620057a6c6cb5@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0C84E791-4820-11D9-A65C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Help on Phrase Prefix query
Date: Tue, 7 Dec 2004 02:17:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 6, 2004, at 11:05 PM, Mahendra wrote:
> Thanks for responding. I have attached a sample java file for the
> sample implementation.

Please convert this program to building the index using RAMDirectory  
also.  I cannot run it as it is because it relies on an external index  
using a Windows path (I'm on Mac OS X).  I'd be happy to take a look at  
it once I can run it easily.

	Erik


>
>
> -regards,
> mahendra
>
>
> On Mon, 6 Dec 2004 08:19:54 -0500, Erik Hatcher
> <erik@ehatchersolutions.com> wrote:
>> Mahendra,
>>
>> Could you provide a concrete, and simple, example of what you're  
>> trying
>> to achieve?  It would help me understand what you're after.
>>
>> Any Query implementation works fine as a clause within a BooleanQuery,
>> there is nothing special to do for a PhrasePrefixQuery in this regard.
>>
>>        Erik
>>
>>
>>
>>
>> On Dec 6, 2004, at 6:34 AM, Mahendra wrote:
>>
>>> Hi,
>>>
>>> Presently i am working on a requirement in my application, to do the
>>> search using lucene as follows,
>>>
>>> Users enters phrase prefix query text. The query should be  
>>> constructed
>>> as follows,
>>> - a PhrasePrefixQuery based on the user entered text,  for eg FieldA
>>> - a termquery based on another field, for eg FieldB
>>> - a boolean query is constructed based on the above two queries.
>>>
>>> The search based on the boolean query, does not yield any results.
>>> However, query based on PhrasePrefixQuery and TermQuery is returning
>>> results. Can anyone suggest how
>>> to use PhrasePrefixQuery as part of Booleanquery.
>>>
>>> -Thanks,
>>> Mahendra
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> <TestPhrasePrefixQuery.java>------------------------------------------- 
> --------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 07:26:02 2004
Return-Path: 
 <lucene-user-return-11699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89889 invoked from network); 7 Dec 2004 07:26:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 07:26:02 -0000
Received: (qmail 34933 invoked by uid 500); 7 Dec 2004 07:25:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34911 invoked by uid 500); 7 Dec 2004 07:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34897 invoked by uid 99); 7 Dec 2004 07:25:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 23:25:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6285A13E28F9; Tue,  7 Dec 2004 02:25:47 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 37AED13E28F7
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 02:25:28 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0412062141250.19595@hal.rescomp.berkeley.edu>
References: <003e01c4dc1c$9312bbd0$8714a8c0@ssl>
 <Pine.LNX.4.58.0412062141250.19595@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <34954390-4821-11D9-A65C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Filter !!!
Date: Tue, 7 Dec 2004 02:25:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,PLING_PLING,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 7, 2004, at 12:55 AM, Chris Hostetter wrote:
>
> :  Hits hits = indexSearcher.search(searchQuery, filter)   //  here I  
> want
> : to pass multiple filter...  (DateFilter,QueryFilter)
>
> You can write a Filter that takes in multiple filters and ANDs them
> together (or ORs them, it's not clear what you want)
>
>    Hits h = s.search(q,new AndFilter(df,qf));


> (I'm planing on writting a generalized "BooleanFilter" class sometime
> in the next few weeks)

Wait.... there already is a ChainedFilter in the Lucene Sandbox.   
Here's a test case I wrote for it for Lucene in Action (the test case  
is in the sandbox also):

   public void testAND() throws Exception {
     ChainedFilter chain = new ChainedFilter(
       new Filter[] {dateFilter, bobFilter}, ChainedFilter.AND);

     Hits hits = searcher.search(query, chain);
     assertEquals("AND matches just bob", MAX / 2, hits.length());
     assertEquals("bob", hits.doc(0).get("owner"));
   }

(you'll need to see the setUp method to make sense of the asserts,  
though).

<http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
contributions/miscellaneous/src/java/org/apache/lucene/misc/ 
ChainedFilter.java?view=markup>

The test cases are here:

<http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
contributions/miscellaneous/src/test/org/apache/lucene/misc/ 
ChainedFilterTest.java?view=markup>

It's obviously a bit more complicated than a simple AND, though, but  
does that simple case as well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 07:30:58 2004
Return-Path: 
 <lucene-user-return-11700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91565 invoked from network); 7 Dec 2004 07:30:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 07:30:58 -0000
Received: (qmail 41154 invoked by uid 500); 7 Dec 2004 07:30:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41120 invoked by uid 500); 7 Dec 2004 07:30:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41099 invoked by uid 99); 7 Dec 2004 07:30:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 23:30:39 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 6A01123BDF
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 08:31:05 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 18591-06 for <lucene-user@jakarta.apache.org>;
 Tue,  7 Dec 2004 08:31:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 46CB623BC5
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 08:31:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iB77UZmA011792
	for <lucene-user@jakarta.apache.org>; Tue, 7 Dec 2004 08:30:35 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iB77UZEu011788;
	Tue, 7 Dec 2004 08:30:35 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16821.23579.383547.168852@tanto-xipolis.de>
Date: Tue, 7 Dec 2004 08:30:35 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: indexReader close method
In-Reply-To: <68E2D155-4795-11D9-B435-000A958AF010@torchbox.com>
References: <68E2D155-4795-11D9-B435-000A958AF010@torchbox.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Helen Warren writes:
> 
> //close the IndexReader object
> myReader.close();
> 
> //return results
> return hits;
> 
> The myReader.close() line causes the IOException to be thrown. To try 

Are you sure it's the myReader.close() that fails?
I'd suspect that to fail as soon as you want to do anything meaningful
with the hits objects you return. You need an open searcher/reader for that 
and in general it should be the one, you used during search. This is 
assuming hits is an instance of class org.apache.lucene.search.Hits.
The method Document doc(int n) relys on the searcher used for search 
not being closed.
So I'd suspect the IOException to be thrown later.
Of course removing the myReader.close(); will prevent the exception.
You cannot close the reader as long as you want to access search results.

> In this case, the reader appears to close without error but even after 
> I've called myReader.close() I can execute the maxDoc() method on that 
> object and return results. Anybody shed any light?
> 
yes. the source ;-)
maxDoc does not access the index files but returns an integer stored
in the class itself.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 07:33:26 2004
Return-Path: 
 <lucene-user-return-11701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93383 invoked from network); 7 Dec 2004 07:33:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 07:33:26 -0000
Received: (qmail 45757 invoked by uid 500); 7 Dec 2004 07:33:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45733 invoked by uid 500); 7 Dec 2004 07:33:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45718 invoked by uid 99); 7 Dec 2004 07:33:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 06 Dec 2004 23:33:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D9C4E13E28F9; Tue,  7 Dec 2004 02:33:08 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id D042F13E28F7
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 02:32:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <001401c4dc0e$9319f020$8714a8c0@ssl>
References: <001401c4dc0e$9319f020$8714a8c0@ssl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2AB7AAFE-4822-11D9-A65C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Size Search 
Date: Tue, 7 Dec 2004 02:32:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 6, 2004, at 10:41 PM, Natarajan.T wrote:
> Thanks for your response.....
>
> I have indexed like Field.Text("size",docSize)

Field.Text runs the text through the analyzer, which may or may not 
strip numbers.  In this case, you probably want to use Field.Keyword 
instead.  Be sure, like the wiki link I sent below says, that you zero 
pad docSize so that all docSize values have the same string length, 
right justified, padded with leading zeroes.

You'll then be able to do range queries like size:[005 TO 020].  
Handling the conversion so QueryParser automatically pads so a user can 
type size:[5 TO 20] is a different story, and requires subclassing 
QueryParser and overriding getRangeQuery to do the padding internally.

	Erik



>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Monday, December 06, 2004 6:48 PM
> To: Lucene Users List
> Subject: Re: Size Search
>
>
> On Dec 6, 2004, at 8:08 AM, Natarajan.T wrote:
>> I have indexed File sizes....(like 2,4, 5,10,20,etc...)
>
> How did you index them?
>
>> I want search results only the size range between 5 - 20.
>>
>> How can I handle this???
>
> See here:
>
> 	http://wiki.apache.org/jakarta-lucene/SearchNumericalFields
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 08:06:44 2004
Return-Path: 
 <lucene-user-return-11702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8415 invoked from network); 7 Dec 2004 08:06:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 08:06:44 -0000
Received: (qmail 94966 invoked by uid 500); 7 Dec 2004 08:06:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94695 invoked by uid 500); 7 Dec 2004 08:06:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94681 invoked by uid 99); 7 Dec 2004 08:06:35 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=PLING_PLING,SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 00:06:34 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 536485B822; Tue,  7 Dec 2004 00:06:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 50BC27F466
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 00:06:29 -0800 (PST)
Date: Tue, 7 Dec 2004 00:06:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Filter !!!
In-Reply-To: <34954390-4821-11D9-A65C-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0412062354280.3726@hal.rescomp.berkeley.edu>
References: <003e01c4dc1c$9312bbd0$8714a8c0@ssl>
 <Pine.LNX.4.58.0412062141250.19595@hal.rescomp.berkeley.edu>
 <34954390-4821-11D9-A65C-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Wait.... there already is a ChainedFilter in the Lucene Sandbox.

Boo-Ya! ... I was really surprised I hadn't seen one yet, but that's what
I get for assuming everything in the sandbox would be lised on the "Lucene
Sandbox" page.

It looks very cool, everything i ever wanted and then some. (the
Filter[]chain is what i was planing, but the int[]logic idea is something
i hadn't considered ... I figured when I needed multiple Filters combined
with different operators I could just build a tree of Filters, but I'm
guessing this approach will come in handy).

thanx for the tip.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 10:20:07 2004
Return-Path: 
 <lucene-user-return-11703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2275 invoked from network); 7 Dec 2004 10:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 10:20:07 -0000
Received: (qmail 27381 invoked by uid 500); 7 Dec 2004 10:19:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27313 invoked by uid 500); 7 Dec 2004 10:19:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27262 invoked by uid 99); 7 Dec 2004 10:19:04 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail02.ina.de (HELO ina.de) (159.51.231.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 02:19:03 -0800
Received: from de010245 (de010245.ina.de [159.51.231.10])
	by ina.de (8.11.7p1+Sun/8.9.1) with SMTP id iB7AIrH25994
	for <lucene-user@jakarta.apache.org>; Tue, 7 Dec 2004 11:18:54 +0100 (MET)
Received: From DE010358.de.ina.com ([10.160.1.11]) by de010245 (WebShield SMTP
 v4.5 MR1a P0803.345);
	id 1102414725343; Tue, 7 Dec 2004 11:18:45 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Disposition-Notification-To: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: API suggestion
Date: Tue, 7 Dec 2004 11:18:07 +0100
Message-ID: <A69C2C1215FB8A4EBB9EC7811BA4A168010D371A@de010013.de.ina.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: API suggestion
Thread-Index: AcTbx3pIphGGN9r9TSioIrfi788QMAAfXUzQ
From: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Mark,

thank you, while I've seen the query.rewrite API, I failed to see
the application.

But for the analysis process (we are actually doing something new,
along the lines of the highlighter) we really need the tokens.=20
Approaching those via the FilteredTermEnum looks more direct than
first rewriting the query to a new query which isn't needed at this=20
point and then analyze those Query objects.=20

I don't see what is so wrong with having the getEnum()-API public?
This looks like a less expert API to me than rewrite()?!

Thank you again,
Frank

> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
> Sent: Monday, December 06, 2004 8:11 PM
> To: Lucene Users List
> Subject: [Fwd: API suggestion]
>=20
>=20
> The documentation for the highlighter already covers how to handle=20
> wildcard queries.
>=20
> See the javadoc notes on query.rewrite.
>=20
>=20
> Cheers
> Mark
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 10:28:21 2004
Return-Path: 
 <lucene-user-return-11704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6501 invoked from network); 7 Dec 2004 10:28:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 10:28:21 -0000
Received: (qmail 46033 invoked by uid 500); 7 Dec 2004 10:27:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45941 invoked by uid 500); 7 Dec 2004 10:27:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45880 invoked by uid 99); 7 Dec 2004 10:27:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from pluto.isd-holland.nl (HELO pluto2.isd-holland.nl)
 (62.221.254.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 02:27:33 -0800
Received: from aadlaptop (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by pluto2.isd-holland.nl (Postfix) with ESMTP id 9D83F2FC254
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 11:27:26 +0100 (CET)
From: "Aad Nales" <aad.nales@rotterdam-cs.com>
To: <lucene-user@jakarta.apache.org>
Subject: When is the book released?
Date: Tue, 7 Dec 2004 11:27:18 +0100
Message-ID: <000101c4dc47$574c1850$59edfea9@aadlaptop>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry if this is a misspost but I have been visiting Amazon daily the
last few weeks and I still can't get the Lucene book there. How will I
survive the holidays? :-)

But seriously when can we expect the release?
 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 10:55:33 2004
Return-Path: 
 <lucene-user-return-11705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25877 invoked from network); 7 Dec 2004 10:55:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 10:55:33 -0000
Received: (qmail 3869 invoked by uid 500); 7 Dec 2004 10:54:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3720 invoked by uid 500); 7 Dec 2004 10:54:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3690 invoked by uid 99); 7 Dec 2004 10:54:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates
 195.2.83.166 as permitted sender)
Received: from mail1.zmail.ru (HELO frontend1.aha.ru) (195.2.83.166)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 02:54:51 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.2.6)
  with ESMTP id 116174758 for lucene-user@jakarta.apache.org;
 Tue, 07 Dec 2004 13:54:43 +0300
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: When is the book released?
Date: Tue, 7 Dec 2004 13:58:35 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcTcR2WvIZwiVPhwTKyM2EZOdSgrXQABCp7g
In-Reply-To: <000101c4dc47$574c1850$59edfea9@aadlaptop>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Message-ID: <auto-000116174758@frontend1.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: Aad Nales [mailto:aad.nales@rotterdam-cs.com] 
> 
> Sorry if this is a misspost but I have been visiting Amazon 
> daily the last few weeks and I still can't get the Lucene 
> book there. How will I survive the holidays? :-)

Source Code for the book is available from manning site.

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 11:06:05 2004
Return-Path: 
 <lucene-user-return-11706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31190 invoked from network); 7 Dec 2004 11:06:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 11:06:05 -0000
Received: (qmail 28814 invoked by uid 500); 7 Dec 2004 11:05:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28795 invoked by uid 500); 7 Dec 2004 11:05:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28595 invoked by uid 99); 7 Dec 2004 11:05:01 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 03:04:54 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 87B96233E9
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 16:29:14 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filter !!!
Date: Tue, 7 Dec 2004 16:39:22 +0530
Message-ID: <00bc01c4dc4d$34e56d60$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <34954390-4821-11D9-A65C-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks your kind help Erik..........

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Tuesday, December 07, 2004 12:56 PM
To: Lucene Users List
Subject: Re: Filter !!!

On Dec 7, 2004, at 12:55 AM, Chris Hostetter wrote:
>
> :  Hits hits = indexSearcher.search(searchQuery, filter)   //  here I

> want
> : to pass multiple filter...  (DateFilter,QueryFilter)
>
> You can write a Filter that takes in multiple filters and ANDs them
> together (or ORs them, it's not clear what you want)
>
>    Hits h = s.search(q,new AndFilter(df,qf));


> (I'm planing on writting a generalized "BooleanFilter" class sometime
> in the next few weeks)

Wait.... there already is a ChainedFilter in the Lucene Sandbox.   
Here's a test case I wrote for it for Lucene in Action (the test case  
is in the sandbox also):

   public void testAND() throws Exception {
     ChainedFilter chain = new ChainedFilter(
       new Filter[] {dateFilter, bobFilter}, ChainedFilter.AND);

     Hits hits = searcher.search(query, chain);
     assertEquals("AND matches just bob", MAX / 2, hits.length());
     assertEquals("bob", hits.doc(0).get("owner"));
   }

(you'll need to see the setUp method to make sense of the asserts,  
though).

<http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
contributions/miscellaneous/src/java/org/apache/lucene/misc/ 
ChainedFilter.java?view=markup>

The test cases are here:

<http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
contributions/miscellaneous/src/test/org/apache/lucene/misc/ 
ChainedFilterTest.java?view=markup>

It's obviously a bit more complicated than a simple AND, though, but  
does that simple case as well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 11:21:25 2004
Return-Path: 
 <lucene-user-return-11707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39515 invoked from network); 7 Dec 2004 11:21:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 11:21:25 -0000
Received: (qmail 69853 invoked by uid 500); 7 Dec 2004 11:21:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69823 invoked by uid 500); 7 Dec 2004 11:21:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69808 invoked by uid 99); 7 Dec 2004 11:21:09 -0000
X-ASF-Spam-Status: No, hits=5.6 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,URIBL_SC_SURBL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 03:21:07 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 7 Dec 2004 11:32:08 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: addIndexes() Size
Date: Tue, 7 Dec 2004 11:19:16 -0000
Message-ID: <001501c4dc4e$9c9d97b0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <000301c4dbb9$7ad66480$36a8a8c0@intranet.researchandmarkets.com>
X-OriginalArrivalTime: 07 Dec 2004 11:32:09.0265 (UTC)
 FILETIME=[632DB210:01C4DC50]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok I upgraded to 1.4.3 but that didn't solve the issue - I was still =
ending
up with huge indexes. So I changed approach - Instead of handing the
addIndexes method IndexReaders I gave it the directory instead as the =
code
is slightly different - now index size is what I would expect it to be. =
I
haven't had time to check it out fully yet as to why - but from what I =
can
see the major difference in the two methods is that the
addIndexes(IndexReaders[]) uses the following

 if (segmentInfos.size() =3D=3D 1)	// add existing index, if any
      merger.add(new SegmentReader(segmentInfos.info(0)));

Perhaps this is resulting in an unnecessary ballooning of the index?

I'll leave it for someone with a better understanding of the underlying =
file
system to answer...

Thanks
Garrett

-----Original Message-----
From: Garrett Heaver [mailto:garrett.heaver@researchandmarkets.com]=20
Sent: 06 December 2004 17:32
To: 'Lucene Users List'
Subject: RE: addIndexes() Size

Cheers for that Erik - believe it or not I'm still back at v1.3 (doh!!!)

Will try 1.4.3 tomorrow

Thanks
Garrett

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 06 December 2004 17:27
To: Lucene Users List
Subject: Re: addIndexes() Size

There was a bug in 1.4 (and maybe 1.4.1?) that kept some index files=20
around that were not used.

Are you using Lucene 1.4.3?  It not, try that and see if it helps.

	Erik

On Dec 6, 2004, at 12:17 PM, Garrett Heaver wrote:

> No there are no duplicate copies - I've the correct number when I view
> through luke and I don't overlap - the temporary index is destroyed=20
> after it
> is added to the main index - I'm currently at index version 159 and it =

> seems
> that all of my .prx files come in at around 1435 megs (ouch)
>
> Thanks
> Garrett
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: 06 December 2004 17:12
> To: Lucene Users List
> Subject: Re: addIndexes() Size
>
> If I were you, I would first use Luke to peek at the index.  You may
> find something obvious there, like multiple copies of the same
> Document.
> Does your temp index 'overlap' with A index in terms of Documents?  If
> so, you will end up with multliple copies, as addIndexes method =
doesn't
> detect and remove duplicate Documents.
>
> Otis
>
> --- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:
>
>> Hi.
>>
>>
>>
>> Its probably really simple to explain this but since I'm not up to
>> speed on
>> the way Lucene stores the data I'm a little confused.
>>
>>
>>
>> I'm building an Index, which resides on Server A, with the Lucene
>> Service
>> running on Server B. Now not to bore you with the details but because
>> of the
>> network transfer rate etc I'm running the actual index on
>> \\ServerA\idx
>> <file:///\\ServerA\idx>  and building a temp Index at
>> \\ServerB\idx\temp
>> <file:///\\ServerB\idx\temp>  (obviously because the Local FS is much
>> faster
>> for the service) and then calling addIndexes to import the temp index
>> to the
>> ServerA index before destroying the ServerB index, holding for a bit
>> and
>> then checking for new documents.
>>
>>
>>
>> All works grand BUT the size of the resultant index on ServerA is
>> HUGE in
>> comparison to one I'd build from start to finish (i.e. a simple
>> addDocument
>> Index) - 38gig for 220,000 Unstored Items cannot be right (to give
>> you and
>> idea of how mad this seems, the backed up version of the database
>> from which
>> the data is pulled is only 2gigs)
>>
>>
>>
>> I've considered it being perhaps the number of Items that had to be
>> integrated each time addIndexes was called - right now I'm adding
>> around
>> 10,000 at a time (I had done 1000 at a time but this looked like it
>> was
>> going to end up even larger still)
>>
>>
>>
>> I'm holding off twiddling the minMergeDocs and mergeFactor until I
>> can get a
>> better understanding of whats going on here.
>>
>>
>>
>> Many thanks for any reply's
>>
>> Garrett
>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 11:47:15 2004
Return-Path: 
 <lucene-user-return-11708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52829 invoked from network); 7 Dec 2004 11:47:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 11:47:15 -0000
Received: (qmail 10634 invoked by uid 500); 7 Dec 2004 11:46:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10608 invoked by uid 500); 7 Dec 2004 11:46:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10591 invoked by uid 99); 7 Dec 2004 11:46:46 -0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,URIBL_SC_SURBL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at
 spf.trusted-forwarder.org)
Received: from web26004.mail.ukl.yahoo.com (HELO web26004.mail.ukl.yahoo.com)
 (217.12.10.215)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 03:46:44 -0800
Received: (qmail 2146 invoked by uid 60001); 7 Dec 2004 11:46:40 -0000
Message-ID: <20041207114640.2144.qmail@web26004.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP;
 Tue, 07 Dec 2004 11:46:40 GMT
Date: Tue, 7 Dec 2004 11:46:40 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: API suggestion
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>thank you, while I've seen the query.rewrite API, I
>>failed to see the application.

Lucene internally uses "rewrite()" to turn a
multi-term query into a simpler "OR" query. 
Kenne* is rewritten as Kennedy OR Kennel OR Kenneth 

Of course the exact terms used for expansion depends
on the contents of your particular index. By
pre-empting the Lucene search code and calling
"rewrite" on the query yourself you can inspect this
list of expanded terms. 
The rewritten query can then be passed into the
searcher (and the highlighter). The cost of the Lucene
searcher code rewriting the already-rewritten query is
negligible because no further expensive term expansion
is required.

This is the recommended approach used for highlighting
- see the package-level docs for the highlighter.



Hope this helps
Mark




		
___________________________________________________________ 
Win a castle for NYE with your mates and Yahoo! Messenger 
http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 12:44:32 2004
Return-Path: 
 <lucene-user-return-11709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80686 invoked from network); 7 Dec 2004 12:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 12:44:32 -0000
Received: (qmail 23599 invoked by uid 500); 7 Dec 2004 12:44:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23564 invoked by uid 500); 7 Dec 2004 12:44:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23541 invoked by uid 99); 7 Dec 2004 12:44:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto2.isd-holland.nl (HELO otto2.isd-holland.nl)
 (62.221.254.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 04:44:07 -0800
Received: from aadlaptop (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id 4FBEF36417F;
	Tue,  7 Dec 2004 13:44:04 +0100 (CET)
From: "Aad Nales" <aad.nales@rotterdam-cs.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<bizhan@aha.ru>
Subject: RE: When is the book released?
Date: Tue, 7 Dec 2004 13:43:54 +0100
Message-ID: <000401c4dc5a$6c40a600$59edfea9@aadlaptop>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
In-Reply-To: <auto-000116174758@frontend1.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thanks but it's the text i am interested in. And the local bookshops
don't carry the book yet.


Hi, 

> From: Aad Nales [mailto:aad.nales@rotterdam-cs.com]
> 
> Sorry if this is a misspost but I have been visiting Amazon
> daily the last few weeks and I still can't get the Lucene 
> book there. How will I survive the holidays? :-)

Source Code for the book is available from manning site.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 12:45:46 2004
Return-Path: 
 <lucene-user-return-11710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81595 invoked from network); 7 Dec 2004 12:45:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 12:45:46 -0000
Received: (qmail 26492 invoked by uid 500); 7 Dec 2004 12:44:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26467 invoked by uid 500); 7 Dec 2004 12:44:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26448 invoked by uid 99); 7 Dec 2004 12:44:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 04:44:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 08FF113E28F9; Tue,  7 Dec 2004 07:44:55 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0F18413E28F7
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 07:44:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <000101c4dc47$574c1850$59edfea9@aadlaptop>
References: <000101c4dc47$574c1850$59edfea9@aadlaptop>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D60918E5-484D-11D9-A458-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: When is the book released?
Date: Tue, 7 Dec 2004 07:45:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 7, 2004, at 5:27 AM, Aad Nales wrote:
> Sorry if this is a misspost but I have been visiting Amazon daily the
> last few weeks and I still can't get the Lucene book there. How will I
> survive the holidays? :-)
>
> But seriously when can we expect the release?

Manning will have the electronic book version available *TODAY* 
(hopefully).  It has been sent to the printers and this process takes a 
few weeks.  I don't expect Amazon.com to be shipping them until January 
though - the book industry really is slow moving.

Otis and I thank everyone for their patience and you can be sure that 
no one wants the book in their hands more then he and I :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 13:11:56 2004
Return-Path: 
 <lucene-user-return-11711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98130 invoked from network); 7 Dec 2004 13:11:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 13:11:56 -0000
Received: (qmail 95484 invoked by uid 500); 7 Dec 2004 13:11:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95442 invoked by uid 500); 7 Dec 2004 13:11:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95419 invoked by uid 99); 7 Dec 2004 13:11:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mhub15.lvs.dupont.com (HELO mhub15.lvs.dupont.com)
 (52.128.30.15)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 05:11:27 -0800
Received: from mhub19.lvs.dupont.com by mhub15.lvs.dupont.com with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 7 Dec 2004 08:11:16 -0500
Received: from mhub3.lvs.dupont.com (mhub3.lvs.dupont.com [52.99.10.5]) by
 mhub19.lvs.dupont.com with ESMTP for lucene-user@jakarta.apache.org;
 Tue, 7 Dec 2004 08:11:15 -0500
Received: from cdcln08.lvs.dupont.com by mhub3.lvs.dupont.com with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 7 Dec 2004 08:11:02 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: API suggestion
Message-Id: 
 <OF85256F63.00496BE2-ON85256F63.00496BE2-85256F63.00496BE2@CDCLN05.LVS.DUPONT.COM>
From: David Donohue <David.Donohue@usa.dupont.com>
Date: Tue, 7 Dec 2004 08:10:24 -0500
X-MIMETrack: Serialize by Router on CDCLNMH2/DuPont_MHUB(603HF602|October 06,
 2004) at
 12/07/2004 08:11:02 AM
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Return Receipt
                                                                           
    Your      RE: API suggestion                                           
    document                                                               
    :                                                                      
                                                                           
    was       David Donohue/AE/DuPont                                      
    received                                                               
    by:                                                                    
                                                                           
    at:       12/07/2004 08:21:57 AM                                       
                                                                           






This communication is for use by the intended recipient and contains 
information that may be privileged, confidential or copyrighted under
applicable law.  If you are not the intended recipient, you are hereby
formally notified that any use, copying or distribution of this e-mail,
in whole or in part, is strictly prohibited.  Please notify the sender
by return e-mail and delete this e-mail from your system.  Unless
explicitly and conspicuously designated as "E-Contract Intended",
this e-mail does not constitute a contract offer, a contract amendment,
or an acceptance of a contract offer.  This e-mail does not constitute
a consent to the use of sender's contact information for direct marketing
purposes or for transfers of data to third parties.

 Francais Deutsch Italiano  Espanol  Portugues  Japanese  Chinese  Korean

            http://www.DuPont.com/corp/email_disclaimer.html



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 13:18:34 2004
Return-Path: 
 <lucene-user-return-11712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3843 invoked from network); 7 Dec 2004 13:18:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 13:18:34 -0000
Received: (qmail 12679 invoked by uid 500); 7 Dec 2004 13:18:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12605 invoked by uid 500); 7 Dec 2004 13:18:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12556 invoked by uid 99); 7 Dec 2004 13:18:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from firewall.vnuinc.co.uk (HELO mmi044surmsx01.enterprisenet.org)
 (82.109.82.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 05:18:19 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: When is the book released?
content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Date: Tue, 7 Dec 2004 13:18:15 -0000
Message-ID: 
 <B37D0140AE55624885CF1C681ED772190F525A@mmi044surmsx01.enterprisenet.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: When is the book released?
Thread-Index: AcTcWrNd/7Od0/k/T7Sgw0Amr0SQYgAAzwqg
From: "Palmer, Andrew MMI Woking" <andrew.palmer@vnuinc.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



I have just had a quick look at both the US and UK version of Amazon and
they both list the book as Lucene In Action.


I was curious as I work for the UK Bibliographic agency and it was on
our database and should have been on Amazon for a least a couple of
weeks.  The agency has known about the book since start of September.


It has a publication date of 31/12/2004.

Andrew



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 07 December 2004 12:45
To: Lucene Users List
Subject: Re: When is the book released?


On Dec 7, 2004, at 5:27 AM, Aad Nales wrote:
> Sorry if this is a misspost but I have been visiting Amazon daily the
> last few weeks and I still can't get the Lucene book there. How will I
> survive the holidays? :-)
>
> But seriously when can we expect the release?

Manning will have the electronic book version available *TODAY*=20
(hopefully).  It has been sent to the printers and this process takes a=20
few weeks.  I don't expect Amazon.com to be shipping them until January=20
though - the book industry really is slow moving.

Otis and I thank everyone for their patience and you can be sure that=20
no one wants the book in their hands more then he and I :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 13:21:33 2004
Return-Path: 
 <lucene-user-return-11713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5542 invoked from network); 7 Dec 2004 13:21:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 13:21:33 -0000
Received: (qmail 19612 invoked by uid 500); 7 Dec 2004 13:21:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19576 invoked by uid 500); 7 Dec 2004 13:21:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19551 invoked by uid 99); 7 Dec 2004 13:21:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 05:21:16 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id D29E81C02C;
	Tue,  7 Dec 2004 08:21:13 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 18773-09; Tue,  7 Dec 2004 08:21:13 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 8707C1BF7F;
	Tue,  7 Dec 2004 08:21:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <DDA7C034-4852-11D9-ACC7-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>,
	Lucene List <lucene-dev@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Lucene in Action source code
Date: Tue, 7 Dec 2004 08:21:12 -0500
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Pasha already broke the news, but here's my official announcement.

The source code distribution to the long-awaited Lucene in Action book 
is now available for download.  You'll find it at:

	http://www.manning.com/hatcher2

Navigate to the "Source Code" link on the left to get to the download 
page.

The source code, of course, does not stand alone, though there is 
benefit to the code by itself.  We'd love to have your feedback on the 
source code - please consult the README file for details on how to 
submit feedback.  Otis and I are right here on these e-mail lists, so 
please post any general Lucene questions here rather than e-mailing us 
directly.  Send only book related feedback to us directly.

The book is forthcoming and should be available in electronic (PDF) 
format very soon (as in today or tomorrow, I'm told).  The print copies 
will ship from the bindery in a few weeks, perhaps even before Xmas.  
Manning sells them directly from the web site noted above, and if you 
purchase the e-book you can get the print copy and e-book all for the 
same price as the print copy (I believe, at least that used to be the 
case - check the website for details when the e-book is available 
there).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 17:52:13 2004
Return-Path: 
 <lucene-user-return-11714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10447 invoked from network); 7 Dec 2004 17:52:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 17:52:13 -0000
Received: (qmail 49971 invoked by uid 500); 7 Dec 2004 17:51:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49892 invoked by uid 500); 7 Dec 2004 17:51:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49834 invoked by uid 99); 7 Dec 2004 17:51:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 09:51:53 -0800
Received: (qmail 46680 invoked by uid 60001); 7 Dec 2004 17:51:51 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=GTds7pxuIxEUUCCzHqT233zLaRAc1GuA5KV9V+BUSdZT6SZoY+ebQNkyPf4dTTVtY4xr0sa8uhxTNzxc+2GCHo05kiBNBxoLJC/pWajZsSmotRQxwB5PmCpZw2FQw4GRCGM4iRnNFBJeEjcGb0ceVwO+Qjl9B7GnmvACuYx+zAg=
  ;
Message-ID: <20041207175151.46678.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Tue, 07 Dec 2004 09:51:51 PST
Date: Tue, 7 Dec 2004 09:51:51 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: When is the book released?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <B37D0140AE55624885CF1C681ED772190F525A@mmi044surmsx01.enterprisenet.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Yes, Lucene in Action has been listed on Amazon for a while now (I
think I recorded this in my blog some time back).  The publish date is,
I believe, the date provided by publishers, but things almost always
take longer than predicted, so 31.12.2004 may be a bit off. :( 
However, the ebook should be out any time now, as Erik already
mentioned.  It's cheaper, saves trees, and doesn't consume precious
horizontal surfaces in your home (I live in New York City, where large
living spaces are hard to find unless you live in a former warehouse or
pay big money).

Otis


just like lots of software 

--- "Palmer, Andrew MMI Woking" <andrew.palmer@vnuinc.co.uk> wrote:

> 
> 
> I have just had a quick look at both the US and UK version of Amazon
> and
> they both list the book as Lucene In Action.
> 
> 
> I was curious as I work for the UK Bibliographic agency and it was on
> our database and should have been on Amazon for a least a couple of
> weeks.  The agency has known about the book since start of September.
> 
> 
> It has a publication date of 31/12/2004.
> 
> Andrew
> 
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> Sent: 07 December 2004 12:45
> To: Lucene Users List
> Subject: Re: When is the book released?
> 
> 
> On Dec 7, 2004, at 5:27 AM, Aad Nales wrote:
> > Sorry if this is a misspost but I have been visiting Amazon daily
> the
> > last few weeks and I still can't get the Lucene book there. How
> will I
> > survive the holidays? :-)
> >
> > But seriously when can we expect the release?
> 
> Manning will have the electronic book version available *TODAY* 
> (hopefully).  It has been sent to the printers and this process takes
> a 
> few weeks.  I don't expect Amazon.com to be shipping them until
> January 
> though - the book industry really is slow moving.
> 
> Otis and I thank everyone for their patience and you can be sure that
> 
> no one wants the book in their hands more then he and I :)
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 20:03:09 2004
Return-Path: 
 <lucene-user-return-11715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17577 invoked from network); 7 Dec 2004 20:03:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 20:03:09 -0000
Received: (qmail 61017 invoked by uid 500); 7 Dec 2004 20:02:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60714 invoked by uid 500); 7 Dec 2004 20:02:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60698 invoked by uid 99); 7 Dec 2004 20:02:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO mace.radius.ad) (213.208.214.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 12:02:58 -0800
Received: from 192.168.21.54 ([192.168.21.54]) by mace.radius.ad
 ([192.168.20.230]) with Microsoft Exchange Server HTTP-DAV ;
 Tue,  7 Dec 2004 20:02:55 +0000
Received: from hades by mace.radius; 07 Dec 2004 21:06:28 +0100
Subject: QueryFilter vs CachingWrapperFilter vs RangeQuery
From: Ben Rooney <ben.rooney@blastradius.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Date: Tue, 07 Dec 2004 21:06:28 +0100
Message-Id: <1102449988.1281.3.camel@hades.radius.ad>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hello, hope someone can help explain things to me. 

i've been searching for sometime and i have not been able to find
anything to answer my questions.

i'm trying to understand the difference/effects between QueryFilter vs
CachingWrapperFilter and when you would use one vs the other and how
they work exactly.  

also, when exactly will the cache be cleared.  looking at the source
code, it appears when the IndexReader is released it would be cleared.
does this mean i should keep a reference to the SearchIndexer until i
want the results to be cleared?  for example, in a class file the
executes the search, i would keep a static reference to SearchIndexer
and then when i want to invalidate the cache, set it to null or create a
new instance of it?

on top of this, using the RangeQuery object in a search does not seem to
be prudent as the time is almost 4 times that of using a filter.  i
basically can dig on this as when doing a query, lucene needs to do
scoring for all the documents that match where as using a filter it
ignores scoring.

to test them out, i created an index against a 20000 document repository
where the files in the repository are simply properties files.  in the
properties files, i set the publishDate property so that all documents
are of year 2004.

my test runs 4 queries.  the first test is a basic one that returns all
documents in the index that contains the word 'document'.  the second
test adds the query from the first test to a BooleanQuery along with a
RangeQuery for the year 2004.  the third test uses the query from the
first test along with QueryFilter constructed using the RangeQuery.  the
final test is the same as the third query but the QueryFilter is wrapped
in a CachingWrapperFilter class.  each test runs a search against the
index 100 times with the same configuration.

the output from my test is as follows:


        2004-12-07 20:30:03,888 DEBUG (SearchManager.java:
        main:138) - 20000 total matching documents
        2004-12-07 20:30:04,602 INFO  (SearchManager.java:
        main:141) - query 1 - all docs - total time (ms): 768
        2004-12-07 20:30:04,653 DEBUG (SearchManager.java:
        main:146) - 20000 total matching documents
        2004-12-07 20:30:06,598 INFO  (SearchManager.java:
        main:149) - query 2 - 2004 range query - no cache - total time
        (ms): 1996
        2004-12-07 20:30:06,614 DEBUG (SearchManager.java:
        main:155) - 20000 total matching documents
        2004-12-07 20:30:07,223 INFO  (SearchManager.java:
        main:158) - query 3 - 2004 docs filter - no cache - total time
        (ms): 623
        2004-12-07 20:30:07,230 DEBUG (SearchManager.java:
        main:164) - 20000 total matching documents
        2004-12-07 20:30:07,838 INFO  (SearchManager.java:
        main:167) - query 4 - 2004 docs filter - cached - total time
        (ms): 613


as can be seen, there is not much different between the third and fourth
queries and hence my confusion with the two types of filters.  looking
at the source code, there is not much different between them either.

the following is the test source code:


        package com.blastradius.search;
        
        import java.io.File;
        import java.util.Date;
        
        import org.apache.commons.logging.Log;
        import org.apache.commons.logging.LogFactory;
        import org.apache.lucene.analysis.Analyzer;
        import org.apache.lucene.analysis.standard.StandardAnalyzer;
        import org.apache.lucene.document.Document;
        import org.apache.lucene.index.IndexWriter;
        import org.apache.lucene.index.Term;
        import org.apache.lucene.queryParser.QueryParser;
        import org.apache.lucene.search.BooleanQuery;
        import org.apache.lucene.search.CachingWrapperFilter;
        import org.apache.lucene.search.Hits;
        import org.apache.lucene.search.IndexSearcher;
        import org.apache.lucene.search.Query;
        import org.apache.lucene.search.QueryFilter;
        import org.apache.lucene.search.RangeQuery;
        import org.apache.lucene.search.Searcher;
        
        import com.blastradius.search.parsers.PropertiesParser;
        
        /**
        * 
        * @author brooney
        */
        public class SearchManager {
        
        public final static String INDEX_DIR = "index";
        public final static String ROOT_DIR = "webroot";
        
        public final static File rootDir = new
        File(SearchManager.ROOT_DIR); 
        private final static Log logger =
        LogFactory.getLog(SearchManager.class);
        
        public static void main(String[] args) {
        
        Date start = null;
        Date end = null;
        Hits hits = null;
        
        try {
        Searcher searcher = new IndexSearcher(SearchManager.INDEX_DIR);
        Analyzer analyzer = new StandardAnalyzer();
        
        Query query = QueryParser.parse("document", "contents",
        analyzer);
        Query rangeQuery = new RangeQuery(new Term("publishDate",
        "20040101"), new Term("publishDate", "20041231"), true);
        
        BooleanQuery query2004 = new BooleanQuery();
        query2004.add(query, true, false);
        query2004.add(rangeQuery, true, false);
        
        start = new Date();
        for (int i = 0; i < 100; i++) {
        hits = searcher.search(query);
        if (i == 0) logger.debug(hits.length() + " total matching 
        documents");
        }
        end = new Date();
        logger.info("query 1 - all docs - total time (ms): " +
        (end.getTime() - start.getTime()));
        
        start = new Date();
        for (int i = 0; i < 100; i++) {
        hits = searcher.search(query2004);
        if (i == 0) logger.debug(hits.length() + " total matching
        documents");
        }
        end = new Date();
        logger.info("query 2 - 2004 range query - no cache - total time
        (ms): " + (end.getTime() - start.getTime()));
        
        QueryFilter filter2004 = new QueryFilter(rangeQuery);
        start = new Date();
        for (int i = 0; i < 100; i++) {
        hits = searcher.search(query, filter2004);
        if (i == 0) logger.debug(hits.length() + " total matching
        documents");
        }
        end = new Date();
        logger.info("query 3 - 2004 docs filter - no cache - total time
        (ms): " + (end.getTime() - start.getTime()));
        
        CachingWrapperFilter cache2004 = new
        CachingWrapperFilter(filter2004);
        start = new Date();
        for (int i = 0; i < 100; i++) {
        hits = searcher.search(query, cache2004);
        if (i == 0) logger.debug(hits.length() + " total matching
        documents");
        }
        end = new Date();
        logger.info("query 4 - 2004 docs filter - cached - total time
        (ms): " + (end.getTime() - start.getTime()));
        
        } catch (Exception e) {
        logger.error("unexpected excpetion trying to execute search",
        e);
        }
        
        }
        }



thanks in advance for any help
ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 20:18:42 2004
Return-Path: 
 <lucene-user-return-11716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38862 invoked from network); 7 Dec 2004 20:18:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 20:18:42 -0000
Received: (qmail 89428 invoked by uid 500); 7 Dec 2004 20:18:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89408 invoked by uid 500); 7 Dec 2004 20:18:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89392 invoked by uid 99); 7 Dec 2004 20:18:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 12:18:33 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id EC0DD1F533B
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 15:18:29 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 02824-08 for <lucene-user@jakarta.apache.org>;
 Tue,  7 Dec 2004 15:18:29 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 941061F52A2
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 15:18:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1102449988.1281.3.camel@hades.radius.ad>
References: <1102449988.1281.3.camel@hades.radius.ad>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: QueryFilter vs CachingWrapperFilter vs RangeQuery
Date: Tue, 7 Dec 2004 15:18:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 7, 2004, at 3:06 PM, Ben Rooney wrote:
> i'm trying to understand the difference/effects between QueryFilter vs
> CachingWrapperFilter and when you would use one vs the other and how
> they work exactly.

QueryFilter caches the results (bit set of documents) of a query by 
IndexReader.

CachingWrapperFilter does not actually do any filtering of its own, but 
merely wraps the results of another non-caching filter, such as 
DateFilter.  CachingWrapperFilter was added to disconnect caching from 
filtering.  QueryFilter is the exception as it came first and already 
does caching.  If you're using QueryFilter, there is no need to concern 
yourself with CachingWrapperFilter.

> also, when exactly will the cache be cleared.  looking at the source
> code, it appears when the IndexReader is released it would be cleared.
> does this mean i should keep a reference to the SearchIndexer until i
> want the results to be cleared?  for example, in a class file the
> executes the search, i would keep a static reference to SearchIndexer
> and then when i want to invalidate the cache, set it to null or create 
> a
> new instance of it?

How you keep a reference to the IndexSearcher instance is up to the 
design of your system.  But, yes, you do need to keep a reference to it 
for the cache to work properly.  If you use a new IndexSearcher 
instance (I'm simplifying here, you could have an IndexReader instance 
yourself too, but I'm ignoring that possibility) then the filtering 
process occurs for each search rather than using the cache.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 20:30:10 2004
Return-Path: 
 <lucene-user-return-11717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53005 invoked from network); 7 Dec 2004 20:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 20:30:10 -0000
Received: (qmail 10190 invoked by uid 500); 7 Dec 2004 20:30:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10169 invoked by uid 500); 7 Dec 2004 20:30:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10155 invoked by uid 99); 7 Dec 2004 20:30:00 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 12:29:59 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 80E705B82C; Tue,  7 Dec 2004 12:29:57 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 78C067F466
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 12:29:57 -0800 (PST)
Date: Tue, 7 Dec 2004 12:29:57 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: QueryFilter vs CachingWrapperFilter vs RangeQuery
In-Reply-To: <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0412071222020.7286@hal.rescomp.berkeley.edu>
References: <1102449988.1281.3.camel@hades.radius.ad>
 <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: > executes the search, i would keep a static reference to SearchIndexer
: > and then when i want to invalidate the cache, set it to null or create

: design of your system.  But, yes, you do need to keep a reference to it
: for the cache to work properly.  If you use a new IndexSearcher
: instance (I'm simplifying here, you could have an IndexReader instance
: yourself too, but I'm ignoring that possibility) then the filtering
: process occurs for each search rather than using the cache.

Assuming you have a finite number of Filters, and assuming those Filters
are expensive enough to be worth it...

Another approach you can take to "share" the cache among multiple
IndexReaders is to explicitly call the bits method on your filter(s) once,
and then cache the resulting BitSet anywhere you want (ie: serialize it to
disk if you so choose).  and then impliment a "BitsFilter" class that you
can construct directly from a BitSet regardless of the IndexReader.  The
down side of this approach is that it will *ONLY* work if you arecertain
that the index is never being modified.  If any documents get added, or
the index gets re-optimized you must regenerate all of the BitSets.

(That's why the CachingWrapperFilter's cache is keyed off of hte
IndexReader ... as long as you're re-using the same IndexReader, it know's
that the cached BitSet must still be valid, because an IndexReader
allways sees the same index as when it was opened, even if another
thread/process modifies it.)


	class BitsFilter {
           BitSet bits;
           public BitsFilter(BitSet bits) {
             this.bits=bits;
           }
           public BitSet bigs(IndexReader r) {
             return bits.clone();
           }
        }




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 20:59:55 2004
Return-Path: 
 <lucene-user-return-11718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73310 invoked from network); 7 Dec 2004 20:59:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 20:59:55 -0000
Received: (qmail 79517 invoked by uid 500); 7 Dec 2004 20:59:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79488 invoked by uid 500); 7 Dec 2004 20:59:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79462 invoked by uid 99); 7 Dec 2004 20:59:45 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO mace.radius.ad) (213.208.214.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 12:59:43 -0800
Received: from 192.168.21.54 ([192.168.21.54]) by mace.radius.ad
 ([192.168.20.230]) with Microsoft Exchange Server HTTP-DAV ;
 Tue,  7 Dec 2004 20:59:40 +0000
Received: from hades by mace.radius; 07 Dec 2004 22:03:14 +0100
Subject: Re: QueryFilter vs CachingWrapperFilter vs RangeQuery
From: Ben Rooney <ben.rooney@blastradius.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
References: <1102449988.1281.3.camel@hades.radius.ad>
	 <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
Content-Type: multipart/alternative; boundary="=-XLXSyJl4iUcRKiMvBg6e"
Date: Tue, 07 Dec 2004 22:03:13 +0100
Message-Id: <1102453393.1282.12.camel@hades.radius.ad>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-XLXSyJl4iUcRKiMvBg6e
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

erik, thanks for the reply

i get the filter know and understand how the caching works.  however the
caching is only on the filtering level which means i can cache results
that are filtered.  but if i do a basic search against the index and
want to cache that, do i need to create my own caching mechanism or does
the SearchIndexer cache the results already?  if it caches them already,
then to clear the cache, is it again removing any references to the
SearchIndexer instance?

thanks again,
ben


On Tue, 2004-07-12 at 15:18 -0500, Erik Hatcher wrote:

> On Dec 7, 2004, at 3:06 PM, Ben Rooney wrote:
> > i'm trying to understand the difference/effects between QueryFilter vs
> > CachingWrapperFilter and when you would use one vs the other and how
> > they work exactly.
> 
> QueryFilter caches the results (bit set of documents) of a query by 
> IndexReader.
> 
> CachingWrapperFilter does not actually do any filtering of its own, but 
> merely wraps the results of another non-caching filter, such as 
> DateFilter.  CachingWrapperFilter was added to disconnect caching from 
> filtering.  QueryFilter is the exception as it came first and already 
> does caching.  If you're using QueryFilter, there is no need to concern 
> yourself with CachingWrapperFilter.
> 
> > also, when exactly will the cache be cleared.  looking at the source
> > code, it appears when the IndexReader is released it would be cleared.
> > does this mean i should keep a reference to the SearchIndexer until i
> > want the results to be cleared?  for example, in a class file the
> > executes the search, i would keep a static reference to SearchIndexer
> > and then when i want to invalidate the cache, set it to null or create 
> > a
> > new instance of it?
> 
> How you keep a reference to the IndexSearcher instance is up to the 
> design of your system.  But, yes, you do need to keep a reference to it 
> for the cache to work properly.  If you use a new IndexSearcher 
> instance (I'm simplifying here, you could have an IndexReader instance 
> yourself too, but I'm ignoring that possibility) then the filtering 
> process occurs for each search rather than using the cache.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

--=-XLXSyJl4iUcRKiMvBg6e--

From MAILER-DAEMON Tue Dec  7 21:04:29 2004
Return-Path: 
 <lucene-user-return-11719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75731 invoked from network); 7 Dec 2004 21:04:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 21:04:29 -0000
Received: (qmail 86795 invoked by uid 500); 7 Dec 2004 21:04:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86770 invoked by uid 500); 7 Dec 2004 21:04:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86750 invoked by uid 99); 7 Dec 2004 21:04:21 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO mace.radius.ad) (213.208.214.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 13:04:20 -0800
Received: from 192.168.21.54 ([192.168.21.54]) by mace.radius.ad
 ([192.168.20.230]) with Microsoft Exchange Server HTTP-DAV ;
 Tue,  7 Dec 2004 21:04:17 +0000
Received: from hades by mace.radius; 07 Dec 2004 22:07:51 +0100
Subject: Re: QueryFilter vs CachingWrapperFilter vs RangeQuery
From: Ben Rooney <ben.rooney@blastradius.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.58.0412071222020.7286@hal.rescomp.berkeley.edu>
References: <1102449988.1281.3.camel@hades.radius.ad>
	 <289C0A19-488D-11D9-B02F-000A95BC61B6@ehatchersolutions.com>
	 <Pine.LNX.4.58.0412071222020.7286@hal.rescomp.berkeley.edu>
Content-Type: multipart/alternative; boundary="=-Bn76subxV3OGn9oinayL"
Date: Tue, 07 Dec 2004 22:07:51 +0100
Message-Id: <1102453671.1282.18.camel@hades.radius.ad>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-Bn76subxV3OGn9oinayL
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

thanks chris,

you are correct that i'm not sure if i need the caching ability.  it is
more to understand right now so that if we do need to implement it, i am
able to.

the reason for the caching is that we will have listing pages for
certain content types.  for example a listing page of articles.  this
listing will be generated against lucene engine using a basic query.
the page will also have the ability to filter the articles based on date
range as one example.  so caching those results could be beneficial.

however, we will also potentially want to cache the basic query so that
subsequent queries will hit a cache.  when new content is published or
content is removed from the site, the caches will need to be invalidated
so new results are created.

for the basic query, is there any caching mechanism built into the
SearchIndexer or do we need to build our own caching mechanism?

thanks
ben

On Tue, 2004-07-12 at 12:29 -0800, Chris Hostetter wrote:

> : > executes the search, i would keep a static reference to SearchIndexer
> : > and then when i want to invalidate the cache, set it to null or create
> 
> : design of your system.  But, yes, you do need to keep a reference to it
> : for the cache to work properly.  If you use a new IndexSearcher
> : instance (I'm simplifying here, you could have an IndexReader instance
> : yourself too, but I'm ignoring that possibility) then the filtering
> : process occurs for each search rather than using the cache.
> 
> Assuming you have a finite number of Filters, and assuming those Filters
> are expensive enough to be worth it...
> 
> Another approach you can take to "share" the cache among multiple
> IndexReaders is to explicitly call the bits method on your filter(s) once,
> and then cache the resulting BitSet anywhere you want (ie: serialize it to
> disk if you so choose).  and then impliment a "BitsFilter" class that you
> can construct directly from a BitSet regardless of the IndexReader.  The
> down side of this approach is that it will *ONLY* work if you arecertain
> that the index is never being modified.  If any documents get added, or
> the index gets re-optimized you must regenerate all of the BitSets.
> 
> (That's why the CachingWrapperFilter's cache is keyed off of hte
> IndexReader ... as long as you're re-using the same IndexReader, it know's
> that the cached BitSet must still be valid, because an IndexReader
> allways sees the same index as when it was opened, even if another
> thread/process modifies it.)
> 
> 
> 	class BitsFilter {
>            BitSet bits;
>            public BitsFilter(BitSet bits) {
>              this.bits=bits;
>            }
>            public BitSet bigs(IndexReader r) {
>              return bits.clone();
>            }
>         }
> 
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

--=-Bn76subxV3OGn9oinayL--

From MAILER-DAEMON Tue Dec  7 21:17:33 2004
Return-Path: 
 <lucene-user-return-11720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85013 invoked from network); 7 Dec 2004 21:17:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 21:17:33 -0000
Received: (qmail 16263 invoked by uid 500); 7 Dec 2004 21:17:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16246 invoked by uid 500); 7 Dec 2004 21:17:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16232 invoked by uid 99); 7 Dec 2004 21:17:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw.blueprint.org (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 13:17:26 -0800
Received: from Blueprint21 (blueprint-21.blueprint.org [10.0.0.40])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with SMTP id <0I8D00CM2F4Z65@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Tue, 07 Dec 2004 16:17:23 -0500 (EST)
Date: Tue, 07 Dec 2004 16:17:23 -0500
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: Read locks on indexes
In-reply-to: <Pine.LNX.4.58.0412071222020.7286@hal.rescomp.berkeley.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <BAEBICAPLMHCPPOIGFHPGEDNCAAA.skonopinsky@blueprint.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a question regarding read locks on indexes. I have the situation 
where I have n applications (separated jvms) running queries. These 
applications are read-only, and never use an IndexWriter.

The index is only ever updated using rsync. The applications don't need 
up the minute updates, only the data from when the reader was created is 
fine.

My question is whether it's ok to disable read locks in this scenario? 
What are read locks protecting?

Best,
Shawn.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 21:25:05 2004
Return-Path: 
 <lucene-user-return-11721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92051 invoked from network); 7 Dec 2004 21:25:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 21:25:05 -0000
Received: (qmail 30761 invoked by uid 500); 7 Dec 2004 21:24:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30733 invoked by uid 500); 7 Dec 2004 21:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30717 invoked by uid 99); 7 Dec 2004 21:24:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 13:24:54 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Tue, 7 Dec 2004 16:27:11 -0500
Message-ID: <02d101c4dca3$835ce620$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAEBICAPLMHCPPOIGFHPGEDNCAAA.skonopinsky@blueprint.org>
Subject: Re: Read locks on indexes
Date: Tue, 7 Dec 2004 16:27:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Dec 2004 21:27:11.0575 (UTC)
 FILETIME=[8369DE70:01C4DCA3]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think the read locks are preventing you from deleting from the index with
your reader and writing to the index with a writer at the same time.

If you never use a writer than I guess you don't need to worry about this.

But how do you create the indexes?

Luke

----- Original Message ----- 
From: "Shawn Konopinsky" <skonopinsky@blueprint.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 07, 2004 4:17 PM
Subject: Read locks on indexes


> Hi,
>
> I have a question regarding read locks on indexes. I have the situation
> where I have n applications (separated jvms) running queries. These
> applications are read-only, and never use an IndexWriter.
>
> The index is only ever updated using rsync. The applications don't need
> up the minute updates, only the data from when the reader was created is
> fine.
>
> My question is whether it's ok to disable read locks in this scenario?
> What are read locks protecting?
>
> Best,
> Shawn.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 21:59:11 2004
Return-Path: 
 <lucene-user-return-11722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19946 invoked from network); 7 Dec 2004 21:59:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 21:59:11 -0000
Received: (qmail 97899 invoked by uid 500); 7 Dec 2004 21:59:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97879 invoked by uid 500); 7 Dec 2004 21:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97863 invoked by uid 99); 7 Dec 2004 21:59:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 13:59:04 -0800
Received: (qmail 70977 invoked by uid 60001); 7 Dec 2004 21:59:03 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Fvkx9dmkZ3HuwOQ6hcPRQwatf6AvvWaJvkAeFP0ZX6UJ8fiAQmH5ROU28y9ZtHhS13VLaeKkq9NVtVFhEi7d2ZsMY/37Tl5/5vneooPy5bhWPLmXYrB5FC+UayFL2dDWcW1uDBh3KcBJ9tXhuukIkuTBsvtNVG2oKV6UiHN895o=
  ;
Message-ID: <20041207215903.70975.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Tue, 07 Dec 2004 13:59:03 PST
Date: Tue, 7 Dec 2004 13:59:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QueryFilter vs CachingWrapperFilter vs RangeQuery
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1102453671.1282.18.camel@hades.radius.ad>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you run the same query again, the IndexSearcher will go all the way
to the index again - no caching.  Some caching will be done by your
file system, possibly, but that's it.  Lucene is fast, so don't
optimize early.

Otis


--- Ben Rooney <ben.rooney@blastradius.com> wrote:

> thanks chris,
> 
> you are correct that i'm not sure if i need the caching ability.  it
> is
> more to understand right now so that if we do need to implement it, i
> am
> able to.
> 
> the reason for the caching is that we will have listing pages for
> certain content types.  for example a listing page of articles.  this
> listing will be generated against lucene engine using a basic query.
> the page will also have the ability to filter the articles based on
> date
> range as one example.  so caching those results could be beneficial.
> 
> however, we will also potentially want to cache the basic query so
> that
> subsequent queries will hit a cache.  when new content is published
> or
> content is removed from the site, the caches will need to be
> invalidated
> so new results are created.
> 
> for the basic query, is there any caching mechanism built into the
> SearchIndexer or do we need to build our own caching mechanism?
> 
> thanks
> ben
> 
> On Tue, 2004-07-12 at 12:29 -0800, Chris Hostetter wrote:
> 
> > : > executes the search, i would keep a static reference to
> SearchIndexer
> > : > and then when i want to invalidate the cache, set it to null or
> create
> > 
> > : design of your system.  But, yes, you do need to keep a reference
> to it
> > : for the cache to work properly.  If you use a new IndexSearcher
> > : instance (I'm simplifying here, you could have an IndexReader
> instance
> > : yourself too, but I'm ignoring that possibility) then the
> filtering
> > : process occurs for each search rather than using the cache.
> > 
> > Assuming you have a finite number of Filters, and assuming those
> Filters
> > are expensive enough to be worth it...
> > 
> > Another approach you can take to "share" the cache among multiple
> > IndexReaders is to explicitly call the bits method on your
> filter(s) once,
> > and then cache the resulting BitSet anywhere you want (ie:
> serialize it to
> > disk if you so choose).  and then impliment a "BitsFilter" class
> that you
> > can construct directly from a BitSet regardless of the IndexReader.
>  The
> > down side of this approach is that it will *ONLY* work if you
> arecertain
> > that the index is never being modified.  If any documents get
> added, or
> > the index gets re-optimized you must regenerate all of the BitSets.
> > 
> > (That's why the CachingWrapperFilter's cache is keyed off of hte
> > IndexReader ... as long as you're re-using the same IndexReader, it
> know's
> > that the cached BitSet must still be valid, because an IndexReader
> > allways sees the same index as when it was opened, even if another
> > thread/process modifies it.)
> > 
> > 
> > 	class BitsFilter {
> >            BitSet bits;
> >            public BitsFilter(BitSet bits) {
> >              this.bits=bits;
> >            }
> >            public BitSet bigs(IndexReader r) {
> >              return bits.clone();
> >            }
> >         }
> > 
> > 
> > 
> > 
> > -Hoss
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 22:43:05 2004
Return-Path: 
 <lucene-user-return-11723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45499 invoked from network); 7 Dec 2004 22:43:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 22:43:05 -0000
Received: (qmail 88576 invoked by uid 500); 7 Dec 2004 22:42:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88520 invoked by uid 500); 7 Dec 2004 22:42:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88479 invoked by uid 99); 7 Dec 2004 22:42:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout01.sul.t-online.com (HELO mailout01.sul.t-online.com)
 (194.25.134.80)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 14:42:51 -0800
Received: from fwd05.aul.t-online.de
	by mailout01.sul.t-online.com with smtp
	id 1Cbo2j-0002hw-01; Tue, 07 Dec 2004 23:42:49 +0100
Received: from pD9EBFB9E.dip.t-dialin.net
 (TvbOQ0Z1QefURf3xDm3J++qn-rvJ35NOw22eUpNQe3bFw4W+TO+ywu@[217.235.251.158]) by
 fmrl05.sul.t-online.com
	with esmtp id 1Cbo2a-26BHWq0; Tue, 7 Dec 2004 23:42:40 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: announcements@jakarta.apache.org
Subject: [ANNOUNCE] Lucene 1.4.3 released
Date: Tue, 7 Dec 2004 23:43:58 +0100
User-Agent: KMail/1.7.1
Cc: lucene-user@jakarta.apache.org,
 lucene-dev@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412072343.58283@danielnaber.de>
X-ID: TvbOQ0Z1QefURf3xDm3J++qn-rvJ35NOw22eUpNQe3bFw4W+TO+ywu@t-dialin.net
X-TOI-MSGID: 4884fad5-7504-415b-8116-d8decb5d973f
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I'd like to officially announce Lucene 1.4.3. This release fixes two bugs, 
the list of changes is so short that I will simply paste it here:

 1. The JSP demo page (src/jsp/results.jsp) now properly escapes error
    messages which might contain user input (e.g. error messages about 
    query parsing). If you used that page as a starting point for your
    own code please make sure your code also properly escapes HTML
    characters from user input in order to avoid so-called cross site
    scripting attacks.
  
  2. QueryParser changes in 1.4.2 broke the QueryParser API. Now the old 
     API is supported again.

The source code and binaries can be downloaded from
http://www.apache.org/dyn/closer.cgi/jakarta/lucene/

Project website:
http://jakarta.apache.org/lucene/docs/index.html

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 22:49:17 2004
Return-Path: 
 <lucene-user-return-11724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48662 invoked from network); 7 Dec 2004 22:49:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 22:49:17 -0000
Received: (qmail 14137 invoked by uid 500); 7 Dec 2004 22:49:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14109 invoked by uid 500); 7 Dec 2004 22:49:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14096 invoked by uid 99); 7 Dec 2004 22:49:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 14:49:08 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1Cbo8m-0004DO-T7
	for lucene-user@jakarta.apache.org; Tue, 07 Dec 2004 14:49:05 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: .NET Version of Lucene
Date: Tue, 7 Dec 2004 17:49:05 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <Pine.GSO.4.53.0412062100010.6735@fury.csh.rit.edu>
Thread-Index: AcTcAw3vbujnMphRRhi+ydKULeuyOwABLe9Q
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ben,

When I started the port of 1.4.0 back in late Sept of this year, someone did
mention IKVM on SF.net (under the dotLucene project) and my response was
this:

<from_dotLucene>
There are advantages and disadvantages to both approaches. 

Ikvmc's approach will mean that you don't have direct access to the source
code.  You still have to work in the Java world if you have to modify the
code.  Also, from within your C# code, you still have to deal with the
look-and-feel of a Java API call.

I see Ikvmc's approach as a quick-and-dirty solution and is useful when all
that you care about is running Java programs in a .NET VM environment --
that's all. 

There is, by the way, yet a third approach.  You can port and open the Java
code in J#.  Doing so the code will now run in .NET VM, you will get direct
access to the Java source code, but you are still stuck in the look-and-feel
of the Java API calls from your C# code. 

I preface the approach that we are taking here.  Once the code port is done,
which is really not that hard (I will outline how I got it to the state that
it is at now in few days) you can now take full advantage of C#, .NET, MS
tech., etc. 
</from_dotLucene>

Finally, while my first port attempt of ver 1.4.0 took me about a month, the
port from 1.4.0 to 1.4.3, too me only 3 night; total hours is less then 8.
The tools help a lot.

Regards,

-- George Aroush


-----Original Message-----
From: Ben Litchfield [mailto:ben@csh.rit.edu] 
Sent: Monday, December 06, 2004 9:18 PM
To: lucene-user@jakarta.apache.org
Subject: .NET Version of Lucene


I know there has been talk about a .NET version of lucene.  I have been
looking into doing something similar for PDFBox and came across a project
called IKVM http://www.ikvm.net/  I don't believe it has been mentioned on
this list.

It is a little different approach than what I people have been trying.
It uses the GNU classpath to bring all of the newer JDK classes into .NET
and you can run a command line app to create a DLL from a jar.  So for
example

ikvmc.exe -reference:ikvm.gnu.classpath.dll -reference:IKVM.AWT.WinForms.dll
-out:bin\lucene-1.4.2.dll external\lucene-1.4.2.jar

The drawback is that you will need to include the ikvm.gnu.classpath.dll in
your project which is about 3 megs, but to be able to use lucene in .NET and
not have to use a manual process when a new version comes out is pretty
cool.  I have not gotten around to running the junit tests yet, but that is
next.

For PDFBox, which depends on ANT/junit/log4j/lucene, I was able to run the
jar->DLL process for each of those projects and run PDFBox in .NET 
jar->without
a problem.

One licensing note, GNU Classpath is released as GPL "with an exception",
allowing it to be rereleased under a different license.  See
http://www.gnu.org/software/classpath/license.html for more details.

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:03:08 2004
Return-Path: 
 <lucene-user-return-11725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55385 invoked from network); 7 Dec 2004 23:03:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:03:08 -0000
Received: (qmail 49648 invoked by uid 500); 7 Dec 2004 23:02:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49615 invoked by uid 500); 7 Dec 2004 23:02:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49602 invoked by uid 99); 7 Dec 2004 23:02:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:02:58 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CboOq-0007DU-O7
	for lucene-user@jakarta.apache.org; Tue, 07 Dec 2004 15:05:40 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: <lucene-user@jakarta.apache.org>
Subject: Sorting in Lucene
Date: Tue, 7 Dec 2004 15:02:26 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008F_01C4DC6D.C54C6280"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTcsNGy/fSJNvHkSPea1udkPYC2Yw==
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_008F_01C4DC6D.C54C6280
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit

Hi All,

 

Any idea why a Keyword field is not searchable? On my index I have a field
of type Keyword but I could not somehow search on the field.

 

Thanks in advance.

 

Ramon


-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 

------=_NextPart_000_008F_01C4DC6D.C54C6280--


From MAILER-DAEMON Tue Dec  7 23:13:49 2004
Return-Path: 
 <lucene-user-return-11726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59577 invoked from network); 7 Dec 2004 23:13:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:13:49 -0000
Received: (qmail 66056 invoked by uid 500); 7 Dec 2004 23:13:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66029 invoked by uid 500); 7 Dec 2004 23:13:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66016 invoked by uid 99); 7 Dec 2004 23:13:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com
 designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:13:42 -0800
Received: by rproxy.gmail.com with SMTP id a41so412558rng
        for <lucene-user@jakarta.apache.org>;
 Tue, 07 Dec 2004 15:13:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=POU7LvqDB9ZHDVH1NDeEI0SOEG/ny+guoiag3jOE3iiJKRshjr91u8MCXcLSfM9F3PlM6pZwo3Us+AZ+ISHrB+grF/Y7bctESCNIg2pqUUkRSPXQB66Gu17fbVChaULuRHRy5RZix0lhkNZqwy3L6kVYjqTT2svKcU6Zf/anbeU=
Received: by 10.38.74.75 with SMTP id w75mr213462rna;
        Tue, 07 Dec 2004 15:13:40 -0800 (PST)
Received: by 10.38.90.6 with HTTP; Tue, 7 Dec 2004 15:13:40 -0800 (PST)
Message-ID: <cbdebdf80412071513a2c16b3@mail.gmail.com>
Date: Tue, 7 Dec 2004 15:13:40 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sorting in Lucene
In-Reply-To: <-1167293285118136659@unknownmsgid>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <-1167293285118136659@unknownmsgid>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would try 'luke' to look at your index and use it's search
functionality to make sure it's now your code that is the problem, as
well as to ensure  your document is appearing in the index as you
intend it. It's been a lifesaver for me.

http://www.getopt.org/luke/


On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
<ramon.aseniero@tryarc.com> wrote:
> Hi All,
> 
> Any idea why a Keyword field is not searchable? On my index I have a field
> of type Keyword but I could not somehow search on the field.
> 
> Thanks in advance.
> 
> Ramon
> 
> --
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
> 
> 


-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:20:52 2004
Return-Path: 
 <lucene-user-return-11727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63022 invoked from network); 7 Dec 2004 23:20:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:20:52 -0000
Received: (qmail 78648 invoked by uid 500); 7 Dec 2004 23:20:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78618 invoked by uid 500); 7 Dec 2004 23:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78603 invoked by uid 99); 7 Dec 2004 23:20:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:20:46 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1Cbog4-0003Kr-Tr; Tue, 07 Dec 2004 15:23:29 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'Chris Fraschetti'" <fraschetti@gmail.com>
Subject: RE: Sorting in Lucene
Date: Tue, 7 Dec 2004 15:20:14 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTcssiK54sg2ujYQymIVID37VYjNgAAFLwg
In-Reply-To: <cbdebdf80412071513a2c16b3@mail.gmail.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I use LIMO to look into my index. Limo tells me that the field is
untokenized but is indexed. 

Is it possible to search on untokenized field?

Thanks,
Ramon

-----Original Message-----
From: Chris Fraschetti [mailto:fraschetti@gmail.com] 
Sent: Tuesday, December 07, 2004 3:14 PM
To: Lucene Users List
Subject: Re: Sorting in Lucene

I would try 'luke' to look at your index and use it's search
functionality to make sure it's now your code that is the problem, as
well as to ensure  your document is appearing in the index as you
intend it. It's been a lifesaver for me.

http://www.getopt.org/luke/


On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
<ramon.aseniero@tryarc.com> wrote:
> Hi All,
> 
> Any idea why a Keyword field is not searchable? On my index I have a field
> of type Keyword but I could not somehow search on the field.
> 
> Thanks in advance.
> 
> Ramon
> 
> --
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
> 
> 


-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



-- 
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 

-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:24:06 2004
Return-Path: 
 <lucene-user-return-11728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64308 invoked from network); 7 Dec 2004 23:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:24:06 -0000
Received: (qmail 85631 invoked by uid 500); 7 Dec 2004 23:24:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85613 invoked by uid 500); 7 Dec 2004 23:24:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85599 invoked by uid 99); 7 Dec 2004 23:24:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:24:00 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Tue, 7 Dec 2004 18:26:18 -0500
Message-ID: <02f801c4dcb4$272c5fa0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20041207215903.70975.qmail@web12702.mail.yahoo.com>
Subject: Weird Behavior On Windows
Date: Tue, 7 Dec 2004 18:26:18 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Dec 2004 23:26:18.0355 (UTC)
 FILETIME=[2739F430:01C4DCB4]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All;

Things have been running smoothly on Linux for sometime. We set up a version
of the site on a Win2K machine, this is when all the "fun" started.

A pdf would be added to the system. The indexer would run, find the new
file, index it and successfully complete the update of the index folder. No
IO error, no errors of any kind. Just like on the Linux box.

Now we would try to search for a term in the document. 0 results would be
returned? To make matters worse if I run a search on a term that shows up in
a bunch of documents on windows it only find 2 results, where in Linux it
would find 50 (same content).

Using "Luke" I was able to verify that the pdf in question is in the index.
Why can't the searcher find it?

Any ideas would be welcome.

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:27:54 2004
Return-Path: 
 <lucene-user-return-11729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65607 invoked from network); 7 Dec 2004 23:27:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:27:54 -0000
Received: (qmail 90006 invoked by uid 500); 7 Dec 2004 23:27:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89977 invoked by uid 500); 7 Dec 2004 23:27:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89955 invoked by uid 99); 7 Dec 2004 23:27:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 15:27:49 -0800
Received: (qmail 67017 invoked by uid 60001); 7 Dec 2004 23:27:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=BU1w4phZSaJxHPz25DMWzoQMz3jZ3w47axGCSODqDExFV/lulIWspT33KE//Wi4Nd8rXDgIbhZYa6cEZDW+686yVyMNX2RUsPiLTH+Y4J05WxKcBh6SJ6YOEas+3Fte9uxPdcxbXyUZoepJ/VmP5vDlMl1x3OK4fcLc7imwfUro=
  ;
Message-ID: <20041207232747.67015.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Tue, 07 Dec 2004 15:27:47 PST
Date: Tue, 7 Dec 2004 15:27:47 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Weird Behavior On Windows
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <02f801c4dcb4$272c5fa0$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The index has been modified, so you need a new IndexSearcher.  Could
there be logic in the flaw (swap that), or could you be catching an
Exception that is thrown only on Winblows due to Windows not letting
you do certain things with referenced files and dirs?

Otis

--- Luke Shannon <lshannon@hypermedia.com> wrote:

> Hello All;
> 
> Things have been running smoothly on Linux for sometime. We set up a
> version
> of the site on a Win2K machine, this is when all the "fun" started.
> 
> A pdf would be added to the system. The indexer would run, find the
> new
> file, index it and successfully complete the update of the index
> folder. No
> IO error, no errors of any kind. Just like on the Linux box.
> 
> Now we would try to search for a term in the document. 0 results
> would be
> returned? To make matters worse if I run a search on a term that
> shows up in
> a bunch of documents on windows it only find 2 results, where in
> Linux it
> would find 50 (same content).
> 
> Using "Luke" I was able to verify that the pdf in question is in the
> index.
> Why can't the searcher find it?
> 
> Any ideas would be welcome.
> 
> Luke
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:29:36 2004
Return-Path: 
 <lucene-user-return-11730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66371 invoked from network); 7 Dec 2004 23:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:29:36 -0000
Received: (qmail 95890 invoked by uid 500); 7 Dec 2004 23:29:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95863 invoked by uid 500); 7 Dec 2004 23:29:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95843 invoked by uid 99); 7 Dec 2004 23:29:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:29:27 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CbooU-0004mA-7T; Tue, 07 Dec 2004 15:32:10 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'Chris Fraschetti'" <fraschetti@gmail.com>
Subject: RE: Sorting in Lucene
Date: Tue, 7 Dec 2004 15:28:55 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTcssiK54sg2ujYQymIVID37VYjNgAAFLwgAABQ0XA=
In-Reply-To: 
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I also tried searching the said field on LIMO and I don=92t get a match.

Thanks,
Ramon

-----Original Message-----
From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]=20
Sent: Tuesday, December 07, 2004 3:20 PM
To: 'Lucene Users List'; 'Chris Fraschetti'
Subject: RE: Sorting in Lucene

Hi,

I use LIMO to look into my index. Limo tells me that the field is
untokenized but is indexed.=20

Is it possible to search on untokenized field?

Thanks,
Ramon

-----Original Message-----
From: Chris Fraschetti [mailto:fraschetti@gmail.com]=20
Sent: Tuesday, December 07, 2004 3:14 PM
To: Lucene Users List
Subject: Re: Sorting in Lucene

I would try 'luke' to look at your index and use it's search
functionality to make sure it's now your code that is the problem, as
well as to ensure  your document is appearing in the index as you
intend it. It's been a lifesaver for me.

http://www.getopt.org/luke/


On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
<ramon.aseniero@tryarc.com> wrote:
> Hi All,
>=20
> Any idea why a Keyword field is not searchable? On my index I have a =
field
> of type Keyword but I could not somehow search on the field.
>=20
> Thanks in advance.
>=20
> Ramon
>=20
> --
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>=20
>=20


--=20
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=20
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
=20

--=20
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=20
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
=20

--=20
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  7 23:47:58 2004
Return-Path: 
 <lucene-user-return-11731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74550 invoked from network); 7 Dec 2004 23:47:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Dec 2004 23:47:58 -0000
Received: (qmail 34461 invoked by uid 500); 7 Dec 2004 23:47:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34443 invoked by uid 500); 7 Dec 2004 23:47:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34430 invoked by uid 99); 7 Dec 2004 23:47:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 15:47:52 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Tue, 7 Dec 2004 18:50:10 -0500
Message-ID: <042801c4dcb7$7cc88b20$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20041207232747.67015.qmail@web12706.mail.yahoo.com>
Subject: Re: Weird Behavior On Windows
Date: Tue, 7 Dec 2004 18:50:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Dec 2004 23:50:10.0467 (UTC)
 FILETIME=[7CD4E730:01C4DCB7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis;

Each time a search request comes in I create a new searcher (same analyzer
as used during indexing). The idea about catching an error somewhere is
interesting, although in most of the cases where I catch an exception I
write to a log file. Anyway, this is all I have to gone on so I am looking
into exceptions now...

Luke
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 07, 2004 6:27 PM
Subject: Re: Weird Behavior On Windows


> The index has been modified, so you need a new IndexSearcher.  Could
> there be logic in the flaw (swap that), or could you be catching an
> Exception that is thrown only on Winblows due to Windows not letting
> you do certain things with referenced files and dirs?
>
> Otis
>
> --- Luke Shannon <lshannon@hypermedia.com> wrote:
>
> > Hello All;
> >
> > Things have been running smoothly on Linux for sometime. We set up a
> > version
> > of the site on a Win2K machine, this is when all the "fun" started.
> >
> > A pdf would be added to the system. The indexer would run, find the
> > new
> > file, index it and successfully complete the update of the index
> > folder. No
> > IO error, no errors of any kind. Just like on the Linux box.
> >
> > Now we would try to search for a term in the document. 0 results
> > would be
> > returned? To make matters worse if I run a search on a term that
> > shows up in
> > a bunch of documents on windows it only find 2 results, where in
> > Linux it
> > would find 50 (same content).
> >
> > Using "Luke" I was able to verify that the pdf in question is in the
> > index.
> > Why can't the searcher find it?
> >
> > Any ideas would be welcome.
> >
> > Luke
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 00:04:11 2004
Return-Path: 
 <lucene-user-return-11732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79958 invoked from network); 8 Dec 2004 00:04:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 00:04:11 -0000
Received: (qmail 57411 invoked by uid 500); 8 Dec 2004 00:04:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57384 invoked by uid 500); 8 Dec 2004 00:04:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57371 invoked by uid 99); 8 Dec 2004 00:04:06 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 16:04:04 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting in Lucene
Date: Tue, 7 Dec 2004 16:04:01 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02BF0ADD@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting in Lucene
Thread-Index: AcTcssiK54sg2ujYQymIVID37VYjNgAAFLwgAABQ0XAAAT1ZkA==
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Since it's untokenized, are you searching with the exact string stored
in the field?

Chuck

  > -----Original Message-----
  > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  > Sent: Tuesday, December 07, 2004 3:29 PM
  > To: 'Lucene Users List'; 'Chris Fraschetti'
  > Subject: RE: Sorting in Lucene
  >=20
  > I also tried searching the said field on LIMO and I don't get a
match.
  >=20
  > Thanks,
  > Ramon
  >=20
  > -----Original Message-----
  > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  > Sent: Tuesday, December 07, 2004 3:20 PM
  > To: 'Lucene Users List'; 'Chris Fraschetti'
  > Subject: RE: Sorting in Lucene
  >=20
  > Hi,
  >=20
  > I use LIMO to look into my index. Limo tells me that the field is
  > untokenized but is indexed.
  >=20
  > Is it possible to search on untokenized field?
  >=20
  > Thanks,
  > Ramon
  >=20
  > -----Original Message-----
  > From: Chris Fraschetti [mailto:fraschetti@gmail.com]
  > Sent: Tuesday, December 07, 2004 3:14 PM
  > To: Lucene Users List
  > Subject: Re: Sorting in Lucene
  >=20
  > I would try 'luke' to look at your index and use it's search
  > functionality to make sure it's now your code that is the problem,
as
  > well as to ensure  your document is appearing in the index as you
  > intend it. It's been a lifesaver for me.
  >=20
  > http://www.getopt.org/luke/
  >=20
  >=20
  > On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
  > <ramon.aseniero@tryarc.com> wrote:
  > > Hi All,
  > >
  > > Any idea why a Keyword field is not searchable? On my index I have
a
  > field
  > > of type Keyword but I could not somehow search on the field.
  > >
  > > Thanks in advance.
  > >
  > > Ramon
  > >
  > > --
  > > No virus found in this outgoing message.
  > > Checked by AVG Anti-Virus.
  > > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  > >
  > >
  >=20
  >=20
  > --
  > ___________________________________________________
  > Chris Fraschetti
  > e fraschetti@gmail.com
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >=20
  > --
  > No virus found in this incoming message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  > --
  > No virus found in this outgoing message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >=20
  > --
  > No virus found in this incoming message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  > --
  > No virus found in this outgoing message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 00:14:36 2004
Return-Path: 
 <lucene-user-return-11733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83597 invoked from network); 8 Dec 2004 00:14:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 00:14:36 -0000
Received: (qmail 72750 invoked by uid 500); 8 Dec 2004 00:14:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72723 invoked by uid 500); 8 Dec 2004 00:14:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72709 invoked by uid 99); 8 Dec 2004 00:14:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 16:14:27 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CbpW2-0004F2-GX
	for lucene-user@jakarta.apache.org; Tue, 07 Dec 2004 16:17:10 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sorting in Lucene
Date: Tue, 7 Dec 2004 16:13:55 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTcssiK54sg2ujYQymIVID37VYjNgAAFLwgAABQ0XAAAT1ZkAAAD2fw
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02BF0ADD@reh001-1.REX001.ExchangeByRegister.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chuck,

Yes I tried to search with the exact string stored on the index but I don't
get a match. I tried the search using LIMO and LUKE.

It seems like untokenized field are not searchable.

Thanks,
Ramon

-----Original Message-----
From: Chuck Williams [mailto:chuck@manawiz.com] 
Sent: Tuesday, December 07, 2004 4:04 PM
To: Lucene Users List
Subject: RE: Sorting in Lucene

Since it's untokenized, are you searching with the exact string stored
in the field?

Chuck

  > -----Original Message-----
  > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  > Sent: Tuesday, December 07, 2004 3:29 PM
  > To: 'Lucene Users List'; 'Chris Fraschetti'
  > Subject: RE: Sorting in Lucene
  > 
  > I also tried searching the said field on LIMO and I don't get a
match.
  > 
  > Thanks,
  > Ramon
  > 
  > -----Original Message-----
  > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  > Sent: Tuesday, December 07, 2004 3:20 PM
  > To: 'Lucene Users List'; 'Chris Fraschetti'
  > Subject: RE: Sorting in Lucene
  > 
  > Hi,
  > 
  > I use LIMO to look into my index. Limo tells me that the field is
  > untokenized but is indexed.
  > 
  > Is it possible to search on untokenized field?
  > 
  > Thanks,
  > Ramon
  > 
  > -----Original Message-----
  > From: Chris Fraschetti [mailto:fraschetti@gmail.com]
  > Sent: Tuesday, December 07, 2004 3:14 PM
  > To: Lucene Users List
  > Subject: Re: Sorting in Lucene
  > 
  > I would try 'luke' to look at your index and use it's search
  > functionality to make sure it's now your code that is the problem,
as
  > well as to ensure  your document is appearing in the index as you
  > intend it. It's been a lifesaver for me.
  > 
  > http://www.getopt.org/luke/
  > 
  > 
  > On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
  > <ramon.aseniero@tryarc.com> wrote:
  > > Hi All,
  > >
  > > Any idea why a Keyword field is not searchable? On my index I have
a
  > field
  > > of type Keyword but I could not somehow search on the field.
  > >
  > > Thanks in advance.
  > >
  > > Ramon
  > >
  > > --
  > > No virus found in this outgoing message.
  > > Checked by AVG Anti-Virus.
  > > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  > >
  > >
  > 
  > 
  > --
  > ___________________________________________________
  > Chris Fraschetti
  > e fraschetti@gmail.com
  > 
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  > 
  > 
  > 
  > --
  > No virus found in this incoming message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  > 
  > 
  > --
  > No virus found in this outgoing message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  > 
  > 
  > 
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  > 
  > 
  > 
  > --
  > No virus found in this incoming message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  > 
  > 
  > --
  > No virus found in this outgoing message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  > 
  > 
  > 
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



-- 
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 

-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 00:22:53 2004
Return-Path: 
 <lucene-user-return-11734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86973 invoked from network); 8 Dec 2004 00:22:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 00:22:53 -0000
Received: (qmail 84734 invoked by uid 500); 8 Dec 2004 00:22:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84711 invoked by uid 500); 8 Dec 2004 00:22:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84696 invoked by uid 99); 8 Dec 2004 00:22:46 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 16:22:44 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting in Lucene
Date: Tue, 7 Dec 2004 16:22:41 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02BF0AEA@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting in Lucene
Thread-Index: AcTcssiK54sg2ujYQymIVID37VYjNgAAFLwgAABQ0XAAAT1ZkAAAD2fwAAB757A=
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ramon,

Field.Keyword is definitely searchable.  I use them.  I think I use
every combination of tokenized/untokenized, index/unindexed, and
stored/unstored.  They all work.

This seems unlikely given that you tried with Luke, but do you perhaps
have an analyzer applied to the query so that the query string is
transformed before it is applied to the index?  I'd suggest printing the
query after you parse it.  Query's have a good toString() method.

Chuck

  > -----Original Message-----
  > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  > Sent: Tuesday, December 07, 2004 4:14 PM
  > To: 'Lucene Users List'
  > Subject: RE: Sorting in Lucene
  >=20
  > Hi Chuck,
  >=20
  > Yes I tried to search with the exact string stored on the index but
I
  > don't
  > get a match. I tried the search using LIMO and LUKE.
  >=20
  > It seems like untokenized field are not searchable.
  >=20
  > Thanks,
  > Ramon
  >=20
  > -----Original Message-----
  > From: Chuck Williams [mailto:chuck@manawiz.com]
  > Sent: Tuesday, December 07, 2004 4:04 PM
  > To: Lucene Users List
  > Subject: RE: Sorting in Lucene
  >=20
  > Since it's untokenized, are you searching with the exact string
stored
  > in the field?
  >=20
  > Chuck
  >=20
  >   > -----Original Message-----
  >   > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  >   > Sent: Tuesday, December 07, 2004 3:29 PM
  >   > To: 'Lucene Users List'; 'Chris Fraschetti'
  >   > Subject: RE: Sorting in Lucene
  >   >
  >   > I also tried searching the said field on LIMO and I don't get a
  > match.
  >   >
  >   > Thanks,
  >   > Ramon
  >   >
  >   > -----Original Message-----
  >   > From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
  >   > Sent: Tuesday, December 07, 2004 3:20 PM
  >   > To: 'Lucene Users List'; 'Chris Fraschetti'
  >   > Subject: RE: Sorting in Lucene
  >   >
  >   > Hi,
  >   >
  >   > I use LIMO to look into my index. Limo tells me that the field
is
  >   > untokenized but is indexed.
  >   >
  >   > Is it possible to search on untokenized field?
  >   >
  >   > Thanks,
  >   > Ramon
  >   >
  >   > -----Original Message-----
  >   > From: Chris Fraschetti [mailto:fraschetti@gmail.com]
  >   > Sent: Tuesday, December 07, 2004 3:14 PM
  >   > To: Lucene Users List
  >   > Subject: Re: Sorting in Lucene
  >   >
  >   > I would try 'luke' to look at your index and use it's search
  >   > functionality to make sure it's now your code that is the
problem,
  > as
  >   > well as to ensure  your document is appearing in the index as
you
  >   > intend it. It's been a lifesaver for me.
  >   >
  >   > http://www.getopt.org/luke/
  >   >
  >   >
  >   > On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
  >   > <ramon.aseniero@tryarc.com> wrote:
  >   > > Hi All,
  >   > >
  >   > > Any idea why a Keyword field is not searchable? On my index I
have
  > a
  >   > field
  >   > > of type Keyword but I could not somehow search on the field.
  >   > >
  >   > > Thanks in advance.
  >   > >
  >   > > Ramon
  >   > >
  >   > > --
  >   > > No virus found in this outgoing message.
  >   > > Checked by AVG Anti-Virus.
  >   > > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
  > 12/7/2004
  >   > >
  >   > >
  >   >
  >   >
  >   > --
  >   > ___________________________________________________
  >   > Chris Fraschetti
  >   > e fraschetti@gmail.com
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >   >
  >   >
  >   >
  >   > --
  >   > No virus found in this incoming message.
  >   > Checked by AVG Anti-Virus.
  >   > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  >   >
  >   >
  >   > --
  >   > No virus found in this outgoing message.
  >   > Checked by AVG Anti-Virus.
  >   > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  >   >
  >   >
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >   >
  >   >
  >   >
  >   > --
  >   > No virus found in this incoming message.
  >   > Checked by AVG Anti-Virus.
  >   > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  >   >
  >   >
  >   > --
  >   > No virus found in this outgoing message.
  >   > Checked by AVG Anti-Virus.
  >   > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
12/7/2004
  >   >
  >   >
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >=20
  > --
  > No virus found in this incoming message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  > --
  > No virus found in this outgoing message.
  > Checked by AVG Anti-Virus.
  > Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
  >=20
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 00:52:49 2004
Return-Path: 
 <lucene-user-return-11735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 713 invoked from network); 8 Dec 2004 00:52:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 00:52:49 -0000
Received: (qmail 35643 invoked by uid 500); 8 Dec 2004 00:52:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35614 invoked by uid 500); 8 Dec 2004 00:52:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35594 invoked by uid 99); 8 Dec 2004 00:52:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 16:52:42 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Tue, 7 Dec 2004 19:54:59 -0500
Message-ID: <043601c4dcc0$8b1cd290$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20041207232747.67015.qmail@web12706.mail.yahoo.com>
Subject: Re: Weird Behavior On Windows
Date: Tue, 7 Dec 2004 19:54:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 08 Dec 2004 00:54:59.0999 (UTC)
 FILETIME=[8B2C62F0:01C4DCC0]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ottis;

You're right again. Turned out there was a exception around the usage of the
Digester class that wasn't being written to the log. This exception was
being thrown as a result of a configuration issue with the server.

Everything is back to normal.

Thanks!

Luke
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 07, 2004 6:27 PM
Subject: Re: Weird Behavior On Windows


> The index has been modified, so you need a new IndexSearcher.  Could
> there be logic in the flaw (swap that), or could you be catching an
> Exception that is thrown only on Winblows due to Windows not letting
> you do certain things with referenced files and dirs?
>
> Otis
>
> --- Luke Shannon <lshannon@hypermedia.com> wrote:
>
> > Hello All;
> >
> > Things have been running smoothly on Linux for sometime. We set up a
> > version
> > of the site on a Win2K machine, this is when all the "fun" started.
> >
> > A pdf would be added to the system. The indexer would run, find the
> > new
> > file, index it and successfully complete the update of the index
> > folder. No
> > IO error, no errors of any kind. Just like on the Linux box.
> >
> > Now we would try to search for a term in the document. 0 results
> > would be
> > returned? To make matters worse if I run a search on a term that
> > shows up in
> > a bunch of documents on windows it only find 2 results, where in
> > Linux it
> > would find 50 (same content).
> >
> > Using "Luke" I was able to verify that the pdf in question is in the
> > index.
> > Why can't the searcher find it?
> >
> > Any ideas would be welcome.
> >
> > Luke
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 01:13:37 2004
Return-Path: 
 <lucene-user-return-11736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18346 invoked from network); 8 Dec 2004 01:13:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 01:13:37 -0000
Received: (qmail 78351 invoked by uid 500); 8 Dec 2004 01:13:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78310 invoked by uid 500); 8 Dec 2004 01:13:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78242 invoked by uid 99); 8 Dec 2004 01:13:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 17:13:21 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 817C213E200B; Tue,  7 Dec 2004 20:13:18 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 7C96513E2007
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 20:13:07 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041208001433.8509013E2007@ehatchersolutions.com>
References: <20041208001433.8509013E2007@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5A948772-48B6-11D9-AA00-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting in Lucene
Date: Tue, 7 Dec 2004 20:13:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ramon,

More details would be most helpful in being able to assist.  You said 
you cannot sort - but you did not tell us what error you're getting.  
Are you indexing multiple keyword fields by the same name for a single 
document?

As for searching - depending on the type of text you're searching for, 
the analyzer may be making it difficult/impossible to search for.  
QueryParser doesn't know about keyword fields.

	Erik

On Dec 7, 2004, at 7:13 PM, Ramon Aseniero wrote:

> Hi Chuck,
>
> Yes I tried to search with the exact string stored on the index but I 
> don't
> get a match. I tried the search using LIMO and LUKE.
>
> It seems like untokenized field are not searchable.
>
> Thanks,
> Ramon
>
> -----Original Message-----
> From: Chuck Williams [mailto:chuck@manawiz.com]
> Sent: Tuesday, December 07, 2004 4:04 PM
> To: Lucene Users List
> Subject: RE: Sorting in Lucene
>
> Since it's untokenized, are you searching with the exact string stored
> in the field?
>
> Chuck
>
>> -----Original Message-----
>> From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
>> Sent: Tuesday, December 07, 2004 3:29 PM
>> To: 'Lucene Users List'; 'Chris Fraschetti'
>> Subject: RE: Sorting in Lucene
>>
>> I also tried searching the said field on LIMO and I don't get a
> match.
>>
>> Thanks,
>> Ramon
>>
>> -----Original Message-----
>> From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
>> Sent: Tuesday, December 07, 2004 3:20 PM
>> To: 'Lucene Users List'; 'Chris Fraschetti'
>> Subject: RE: Sorting in Lucene
>>
>> Hi,
>>
>> I use LIMO to look into my index. Limo tells me that the field is
>> untokenized but is indexed.
>>
>> Is it possible to search on untokenized field?
>>
>> Thanks,
>> Ramon
>>
>> -----Original Message-----
>> From: Chris Fraschetti [mailto:fraschetti@gmail.com]
>> Sent: Tuesday, December 07, 2004 3:14 PM
>> To: Lucene Users List
>> Subject: Re: Sorting in Lucene
>>
>> I would try 'luke' to look at your index and use it's search
>> functionality to make sure it's now your code that is the problem,
> as
>> well as to ensure  your document is appearing in the index as you
>> intend it. It's been a lifesaver for me.
>>
>> http://www.getopt.org/luke/
>>
>>
>> On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
>> <ramon.aseniero@tryarc.com> wrote:
>>> Hi All,
>>>
>>> Any idea why a Keyword field is not searchable? On my index I have
> a
>> field
>>> of type Keyword but I could not somehow search on the field.
>>>
>>> Thanks in advance.
>>>
>>> Ramon
>>>
>>> --
>>> No virus found in this outgoing message.
>>> Checked by AVG Anti-Virus.
>>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
> 12/7/2004
>>>
>>>
>>
>>
>> --
>> ___________________________________________________
>> Chris Fraschetti
>> e fraschetti@gmail.com
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> --
>> No virus found in this incoming message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>> --
>> No virus found in this outgoing message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> --
>> No virus found in this incoming message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>> --
>> No virus found in this outgoing message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> -- 
> No virus found in this incoming message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>
>
> -- 
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 04:34:24 2004
Return-Path: 
 <lucene-user-return-11737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88630 invoked from network); 8 Dec 2004 04:34:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 04:34:24 -0000
Received: (qmail 45144 invoked by uid 500); 8 Dec 2004 04:33:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45117 invoked by uid 500); 8 Dec 2004 04:33:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45088 invoked by uid 99); 8 Dec 2004 04:33:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 07 Dec 2004 20:33:52 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 3E1D681D13
	for <lucene-user@jakarta.apache.org>; Tue,  7 Dec 2004 22:51:51 -0500 (EST)
Message-ID: <41B683C6.6020109@max3d.com>
Date: Tue, 07 Dec 2004 23:32:06 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Empty/non-empty field indexing question
References: <20041207232747.67015.qmail@web12706.mail.yahoo.com>
 <043601c4dcc0$8b1cd290$7703d00a@hypermedia.com>
In-Reply-To: <043601c4dcc0$8b1cd290$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here's probably a silly question, very newbish, but I had to ask.
Since I have mysql documents that contain over 30 fields each and most of them
are added to the index, is it a common practice to add fields to the index with 
empty values, for that perticular record, or should the field be totally omitted.

What I mean is if let's say a Title field is empty on a specific record (in mysql)
should I still add that field into Lucene index with an empty value or just
skip it and only add the fields that contain non-empty values?

thanks

-pedja




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 06:31:24 2004
Return-Path: 
 <lucene-user-return-11738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61130 invoked from network); 8 Dec 2004 06:31:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 06:31:24 -0000
Received: (qmail 84795 invoked by uid 500); 8 Dec 2004 06:31:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84767 invoked by uid 500); 8 Dec 2004 06:31:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84754 invoked by uid 99); 8 Dec 2004 06:31:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 07 Dec 2004 22:31:09 -0800
Received: (qmail 42117 invoked by uid 60001); 8 Dec 2004 06:31:07 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=soudTrfsjlI+ent7zeuh44rdvLcifgXfmrRLhwqIPdavvxhtFY+gCUCysyeb6LxNUxg8gK2R5ZfEM6tFNcfCs410mmS9JXPwl7SvuRA6hRWqKA2kGKsIk4QmouW/pm7JkM0m0Ce0H29p5sF9LEDJmSu3lBnrdHxWnmJ1ek0hh48=
  ;
Message-ID: <20041208063107.42115.qmail@web12704.mail.yahoo.com>
Received: from [69.201.130.149] by web12704.mail.yahoo.com via HTTP;
 Tue, 07 Dec 2004 22:31:07 PST
Date: Tue, 7 Dec 2004 22:31:07 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Empty/non-empty field indexing question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B683C6.6020109@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Empty fields won't add any value, you can skip them.  Documents in an
index don't have to be uniform.  Each Document could have a different
set of fields.  Of course, that has some obvious implications for
search, but is perfectly fine technically.

Otis

--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Here's probably a silly question, very newbish, but I had to ask.
> Since I have mysql documents that contain over 30 fields each and
> most of them
> are added to the index, is it a common practice to add fields to the
> index with 
> empty values, for that perticular record, or should the field be
> totally omitted.
> 
> What I mean is if let's say a Title field is empty on a specific
> record (in mysql)
> should I still add that field into Lucene index with an empty value
> or just
> skip it and only add the fields that contain non-empty values?
> 
> thanks
> 
> -pedja
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 09:15:44 2004
Return-Path: 
 <lucene-user-return-11739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57794 invoked from network); 8 Dec 2004 09:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 09:15:44 -0000
Received: (qmail 2740 invoked by uid 500); 8 Dec 2004 09:15:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2664 invoked by uid 500); 8 Dec 2004 09:15:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2648 invoked by uid 99); 8 Dec 2004 09:15:30 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.softprosys.com (HELO sakthi.softprosys.com)
 (203.200.217.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 01:15:29 -0800
Received: by sakthi.softprosys.com (Postfix, from userid 517)
	id BC62E66FE3; Wed,  8 Dec 2004 14:45:29 +0530 (IST)
Received: from santoshkumar (unknown [192.168.1.157])by sakthi.softprosys.com
 (Postfix) with SMTP id 6AFA466FC9for <lucene-user@jakarta.apache.org>;
 Wed,  8 Dec 2004 14:45:29 +0530 (IST)
Message-ID: <012a01c4dd07$50a0edd0$9d01a8c0@sprosys.com>
From: "Santosh" <santosh.s@softprosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: problem restoring index
Date: Wed, 8 Dec 2004 14:51:35 +0530
MIME-Version: 1.0
Content-Type: 
 multipart/alternative;boundary="----=_NextPart_000_0127_01C4DD35.6A488800"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0127_01C4DD35.6A488800
Content-Type: text/plain;charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hi,

when I restart the tomcat . the Index is getting corrupted. If I take =
the backup of Index and then restarting tomcat. the Index is not working =
properly.=20

Do I have to Index again all the documents whenever I restart the =
Tomcat?




-----------------------SOFTPRO DISCLAIMER------------------------------

Information contained in this E-MAIL and any attachments are
confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
and 'confidential'.

If you are not an intended or authorised recipient of this E-MAIL or
have received it in error, You are notified that any use, copying or
dissemination  of the information contained in this E-MAIL in any
manner whatsoever is strictly prohibited. Please delete it immediately
and notify the sender by E-MAIL.

In such a case reading, reproducing, printing or further dissemination
of this E-MAIL is strictly prohibited and may be unlawful.

SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
hereto is free from computer viruses or other defects. 

The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
those of the author and are not necessarily those of SOFTPRO SYSTEMS.
------------------------------------------------------------------------

------=_NextPart_000_0127_01C4DD35.6A488800--


From MAILER-DAEMON Wed Dec  8 09:18:53 2004
Return-Path: 
 <lucene-user-return-11740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60536 invoked from network); 8 Dec 2004 09:18:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 09:18:53 -0000
Received: (qmail 6582 invoked by uid 500); 8 Dec 2004 09:18:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6560 invoked by uid 500); 8 Dec 2004 09:18:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6547 invoked by uid 99); 8 Dec 2004 09:18:47 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.softprosys.com (HELO sakthi.softprosys.com)
 (203.200.217.40)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 01:18:46 -0800
Received: by sakthi.softprosys.com (Postfix, from userid 517)
	id C1F0166FEB; Wed,  8 Dec 2004 14:48:32 +0530 (IST)
Received: from santoshkumar (unknown [192.168.1.157])by sakthi.softprosys.com
 (Postfix) with SMTP id 74CC466FC9for <lucene-user@jakarta.apache.org>;
 Wed,  8 Dec 2004 14:48:32 +0530 (IST)
Message-ID: <013501c4dd07$bdb9b370$9d01a8c0@sprosys.com>
From: "Santosh" <santosh.s@softprosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: searchig with special characters
Date: Wed, 8 Dec 2004 14:54:39 +0530
MIME-Version: 1.0
Content-Type: 
 multipart/alternative;boundary="----=_NextPart_000_0132_01C4DD35.D76AC380"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0132_01C4DD35.D76AC380
Content-Type: text/plain;charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

whenever I search with some special chracters like " *world "  I am =
getting exception . how can I avoid this? and for what other characters =
lucene give this type of exceptions?


-----------------------SOFTPRO DISCLAIMER------------------------------

Information contained in this E-MAIL and any attachments are
confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
and 'confidential'.

If you are not an intended or authorised recipient of this E-MAIL or
have received it in error, You are notified that any use, copying or
dissemination  of the information contained in this E-MAIL in any
manner whatsoever is strictly prohibited. Please delete it immediately
and notify the sender by E-MAIL.

In such a case reading, reproducing, printing or further dissemination
of this E-MAIL is strictly prohibited and may be unlawful.

SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
hereto is free from computer viruses or other defects. 

The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
those of the author and are not necessarily those of SOFTPRO SYSTEMS.
------------------------------------------------------------------------

------=_NextPart_000_0132_01C4DD35.D76AC380--


From MAILER-DAEMON Wed Dec  8 13:59:21 2004
Return-Path: 
 <lucene-user-return-11741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 970 invoked from network); 8 Dec 2004 13:59:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 13:59:21 -0000
Received: (qmail 7197 invoked by uid 500); 8 Dec 2004 13:59:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7137 invoked by uid 500); 8 Dec 2004 13:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7115 invoked by uid 99); 8 Dec 2004 13:59:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of tony.scerri@gmail.com
 designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 05:59:06 -0800
Received: by wproxy.gmail.com with SMTP id 68so330451wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 08 Dec 2004 05:59:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=jN3eoU+CdiFMxFA0ppnjC3QALmmpQapmBkFkG9QmNN6eFI6sWB4mnj0y0SqLLwsJ/i67f5S4VOfehrIPyWCwrzd54/MaRvW7GFpF3eOLkNiyMF3QgCXT1ISjwP2SPEFUuYsdx/q1l9XvQvg+mTQ5rpaufc0mER75G3YKjRzuQQ8=
Received: by 10.54.24.8 with SMTP id 8mr625585wrx;
        Wed, 08 Dec 2004 05:59:03 -0800 (PST)
Received: by 10.54.52.9 with HTTP; Wed, 8 Dec 2004 05:59:02 -0800 (PST)
Message-ID: <8a84ce4d04120805596b8e1a26@mail.gmail.com>
Date: Wed, 8 Dec 2004 13:59:02 +0000
From: Tony Scerri <tony.scerri@gmail.com>
Reply-To: Tony Scerri <tony.scerri@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Updating indexes incrementaly including replacnig old documents
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I am looking into how best to support updating of indexes incrementaly
with support for replacing old documents. As I see it from what I have
read and tried. There are two ways of attempting this.

Option A
1)Open only a reader or search. From a list of documents to be
updated, find all those already indexed, using an IndexReader (or
Searcher), and get the document IDs.
2)For each ID delete it using an IndexReader.
3)Then close the reader, then open a writer, and index all the new documents.
4)Close the writer, and reopen all readers and searchers where necessary.

Option B
1)Open only a writer and index all the documents, keeping track of any
occurenct of an existing document.
2)Close the writer, and open a reader. Delete all updated documents.
Continue to use the reader or searchers, reopenning to flush to disk
if necessary.

Would these be the two appropriate solutions, or are their better ways
to do it (without creating a second index and then switching between
them). In particular can you avoid either having duplicate records
from option A, or missing records from option B whilst in the middle
of the process.

Thanks

Tony

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 14:32:51 2004
Return-Path: 
 <lucene-user-return-11742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59051 invoked from network); 8 Dec 2004 14:32:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:32:51 -0000
Received: (qmail 96107 invoked by uid 500); 8 Dec 2004 14:32:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96088 invoked by uid 500); 8 Dec 2004 14:32:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96071 invoked by uid 99); 8 Dec 2004 14:32:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outmail.amdocs.com (HELO outmail.amdocs.com) (212.117.152.141)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 06:32:38 -0800
Received: from omail1.amdocs.com (omail.amdocs.com [80.179.114.1])
	by outmail.amdocs.com (8.12.9/8.12.9) with ESMTP id iB8EmfKp019006
	for <lucene-user@jakarta.apache.org>; Wed, 8 Dec 2004 16:48:42 +0200
Received: from tlvmail7.corp.amdocs.com (localhost [127.0.0.1])
	by omail1.amdocs.com (8.12.11/8.12.11) with ESMTP id iB8EV0JK017595
	for <lucene-user@jakarta.apache.org>; Wed, 8 Dec 2004 16:31:00 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4DD32.FD4D07F1"
Subject: Help to remove document
Date: Wed, 8 Dec 2004 16:34:14 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D10C3@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help to remove document
Thread-Index: AcTdMv0vlwDfOcRITza3UcTj1uApVg==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4DD32.FD4D07F1
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hello,
Help me pls, I want to know how to remove document from index

Alex Kiselevsky
 Speech Technology		Tel:	972-9-776-43-46
R&D, Amdocs - Israel		Mobile:	972-53-63 50 38
mailto:alexkis@amdocs.com




The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C4DD32.FD4D07F1--

From MAILER-DAEMON Wed Dec  8 14:37:12 2004
Return-Path: 
 <lucene-user-return-11743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63680 invoked from network); 8 Dec 2004 14:37:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:37:12 -0000
Received: (qmail 7752 invoked by uid 500); 8 Dec 2004 14:36:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7548 invoked by uid 500); 8 Dec 2004 14:36:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7455 invoked by uid 99); 8 Dec 2004 14:36:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 06:35:59 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Wed, 8 Dec 2004 09:38:16 -0500
Message-ID: <002601c4dd33$8d9a8080$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <77D8711AC919F24FBB698EE60D6034A80D10C3@tlvmail7.corp.amdocs.com>
Subject: Re: Help to remove document
Date: Wed, 8 Dec 2004 09:38:16 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 08 Dec 2004 14:38:16.0408 (UTC)
 FILETIME=[8DBA3D80:01C4DD33]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi;

The indexReader has a delete method that can do this:

public final void delete(int docNum)
throws IOException
Deletes the document numbered docNum. Once a document is deleted it will not
appear in TermDocs or TermPostitions enumerations. Attempts to read its
field with the document(int) method will result in an error. The presence of
this document may still be reflected in the
docFreq(org.apache.lucene.index.Term) statistic, though this will be
corrected eventually as the index is further modified.

There is an example of how it can be used in the Lucene demo. Ensure you
re-create the indexSearcher for the change to be reflected in your search
queries.

Luke
----- Original Message ----- 
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 08, 2004 9:34 AM
Subject: Help to remove document



Hello,
Help me pls, I want to know how to remove document from index

Alex Kiselevsky
 Speech Technology Tel: 972-9-776-43-46
R&D, Amdocs - Israel Mobile: 972-53-63 50 38
mailto:alexkis@amdocs.com




The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated
recipient(s)
of the message. If the reader of this message is not the intended recipient,
you are hereby notified that any dissemination, use, distribution or copying
of
this communication is strictly prohibited and may be unlawful.
If you have received this communication in error, please notify us
immediately
by replying to the message and deleting it from your computer.
Thank you.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 14:39:05 2004
Return-Path: 
 <lucene-user-return-11744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65691 invoked from network); 8 Dec 2004 14:39:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:39:05 -0000
Received: (qmail 15488 invoked by uid 500); 8 Dec 2004 14:38:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15468 invoked by uid 500); 8 Dec 2004 14:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15455 invoked by uid 99); 8 Dec 2004 14:38:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outmail.amdocs.com (HELO outmail.amdocs.com) (212.117.152.141)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 06:38:49 -0800
Received: from omail1.amdocs.com (omail.amdocs.com [80.179.114.1])
	by outmail.amdocs.com (8.12.9/8.12.9) with ESMTP id iB8EssKp019265
	for <lucene-user@jakarta.apache.org>; Wed, 8 Dec 2004 16:54:54 +0200
Received: from tlvmail7.corp.amdocs.com (localhost [127.0.0.1])
	by omail1.amdocs.com (8.12.11/8.12.11) with ESMTP id iB8EbCnu018934
	for <lucene-user@jakarta.apache.org>; Wed, 8 Dec 2004 16:37:13 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Help to remove document
Date: Wed, 8 Dec 2004 16:40:27 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D10C4@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help to remove document
Thread-Index: AcTdM6yRJWrFCgQLQUqX5tQWbEqFnQAACb3Q
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thanks Luke

-----Original Message-----
From: Luke Shannon [mailto:lshannon@hypermedia.com]=0D
Sent: Wednesday, December 08, 2004 4:38 PM
To: Lucene Users List
Subject: Re: Help to remove document


Hi;

The indexReader has a delete method that can do this:

public final void delete(int docNum)
throws IOException
Deletes the document numbered docNum. Once a document is deleted it will
not appear in TermDocs or TermPostitions enumerations. Attempts to read
its field with the document(int) method will result in an error. The
presence of this document may still be reflected in the
docFreq(org.apache.lucene.index.Term) statistic, though this will be
corrected eventually as the index is further modified.

There is an example of how it can be used in the Lucene demo. Ensure you
re-create the indexSearcher for the change to be reflected in your
search queries.

Luke
----- Original Message -----=0D
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 08, 2004 9:34 AM
Subject: Help to remove document



Hello,
Help me pls, I want to know how to remove document from index

Alex Kiselevsky
 Speech Technology Tel: 972-9-776-43-46
R&D, Amdocs - Israel Mobile: 972-53-63 50 38 mailto:alexkis@amdocs.com




The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged. The information is
intended to be conveyed only to the designated
recipient(s)
of the message. If the reader of this message is not the intended
recipient, you are hereby notified that any dissemination, use,
distribution or copying of this communication is strictly prohibited and
may be unlawful. If you have received this communication in error,
please notify us immediately by replying to the message and deleting it
from your computer. Thank you.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 14:46:05 2004
Return-Path: 
 <lucene-user-return-11745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73052 invoked from network); 8 Dec 2004 14:46:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:46:05 -0000
Received: (qmail 28546 invoked by uid 500); 8 Dec 2004 14:45:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28518 invoked by uid 500); 8 Dec 2004 14:45:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28500 invoked by uid 99); 8 Dec 2004 14:45:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 06:45:46 -0800
Received: (qmail 18708 invoked by uid 60001); 8 Dec 2004 14:45:44 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=uTW9tqStXTsCdlvDPPmn6ZmR5hoLqgkV8pd7Alt5WTcu5d71qMwmVunMv6s65O9o9VgMn6w+t1/GVgRfSRwJafmrj9tYlb4cRdHLKd2H+qxi4VoMVUEyTizXxjsUx4cXhrTeSWF3By0k4Io22bvSjEDgeXIRv2EQtAAdtk4H2uk=
  ;
Message-ID: <20041208144544.18706.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Wed, 08 Dec 2004 06:45:44 PST
Date: Wed, 8 Dec 2004 06:45:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: problem restoring index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <012a01c4dd07$50a0edd0$9d01a8c0@sprosys.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no need to reindex.  However, I also don't quite get what the
problem is :)

Otis

--- Santosh <santosh.s@softprosys.com> wrote:

> hi,
> 
> when I restart the tomcat . the Index is getting corrupted. If I take
> the backup of Index and then restarting tomcat. the Index is not
> working properly. 
> 
> Do I have to Index again all the documents whenever I restart the
> Tomcat?
> 
> 
> 
> 
> -----------------------SOFTPRO
> DISCLAIMER------------------------------
> 
> Information contained in this E-MAIL and any attachments are
> confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
> and 'confidential'.
> 
> If you are not an intended or authorised recipient of this E-MAIL or
> have received it in error, You are notified that any use, copying or
> dissemination  of the information contained in this E-MAIL in any
> manner whatsoever is strictly prohibited. Please delete it
> immediately
> and notify the sender by E-MAIL.
> 
> In such a case reading, reproducing, printing or further
> dissemination
> of this E-MAIL is strictly prohibited and may be unlawful.
> 
> SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
> hereto is free from computer viruses or other defects.
> 
> The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
> those of the author and are not necessarily those of SOFTPRO SYSTEMS.
>
------------------------------------------------------------------------
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 14:48:16 2004
Return-Path: 
 <lucene-user-return-11746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75282 invoked from network); 8 Dec 2004 14:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:48:16 -0000
Received: (qmail 33343 invoked by uid 500); 8 Dec 2004 14:47:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33303 invoked by uid 500); 8 Dec 2004 14:47:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33244 invoked by uid 99); 8 Dec 2004 14:47:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 06:47:38 -0800
Received: (qmail 82174 invoked by uid 60001); 8 Dec 2004 14:47:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Mj/sBDk1bUzwqipu/kUJ7sJPLEjkgIJX8WDxeQLzMUgrt6Qcsdd+IG812di3le6AnnrNC1OsbRBdXHlARaUnAO1SYI3f9+Rw6Xa4a4yb9ydIL6JAvJWVbwkrHS4M0LgJrSOyvfPBGKy/whmOyRBfdm8ZrRj638dWE21c4RduSWI=
  ;
Message-ID: <20041208144716.82163.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Wed, 08 Dec 2004 06:47:14 PST
Date: Wed, 8 Dec 2004 06:47:14 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: searchig with special characters
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <013501c4dd07$bdb9b370$9d01a8c0@sprosys.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Leading wildcard character (*) is not allowed if you use QueryParser
that comes with Lucene.  Reason: performance.  See many discussions
about this on lucene-user mailing list.  Also see the search sytax
document on the Lucene site.  What other characters are you having
trouble with?

Otis


--- Santosh <santosh.s@softprosys.com> wrote:

> whenever I search with some special chracters like " *world "  I am
> getting exception . how can I avoid this? and for what other
> characters lucene give this type of exceptions?
> 
> 
> -----------------------SOFTPRO
> DISCLAIMER------------------------------
> 
> Information contained in this E-MAIL and any attachments are
> confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
> and 'confidential'.
> 
> If you are not an intended or authorised recipient of this E-MAIL or
> have received it in error, You are notified that any use, copying or
> dissemination  of the information contained in this E-MAIL in any
> manner whatsoever is strictly prohibited. Please delete it
> immediately
> and notify the sender by E-MAIL.
> 
> In such a case reading, reproducing, printing or further
> dissemination
> of this E-MAIL is strictly prohibited and may be unlawful.
> 
> SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
> hereto is free from computer viruses or other defects.
> 
> The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
> those of the author and are not necessarily those of SOFTPRO SYSTEMS.
>
------------------------------------------------------------------------
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 14:56:06 2004
Return-Path: 
 <lucene-user-return-11747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84540 invoked from network); 8 Dec 2004 14:56:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 14:56:06 -0000
Received: (qmail 54286 invoked by uid 500); 8 Dec 2004 14:55:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54239 invoked by uid 500); 8 Dec 2004 14:55:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54221 invoked by uid 99); 8 Dec 2004 14:55:53 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 06:55:51 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 0F1B18211E
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 09:13:43 -0500 (EST)
Message-ID: <41B7158B.2010903@max3d.com>
Date: Wed, 08 Dec 2004 09:54:03 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Empty/non-empty field indexing question
References: <20041208063107.42115.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20041208063107.42115.qmail@web12704.mail.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------070201050908020406040909"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------070201050908020406040909
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Otis

What kind of implications does that produce on the search?

If I understand correctly that record would not be searched for if the 
field is not there, correct?
But then is there a point putting an empty value in it, if an 
application will never search for empty values?


thanks

-pedja


Otis Gospodnetic said the following on 12/8/2004 1:31 AM:

>Empty fields won't add any value, you can skip them.  Documents in an
>index don't have to be uniform.  Each Document could have a different
>set of fields.  Of course, that has some obvious implications for
>search, but is perfectly fine technically.
>
>Otis
>
>--- "amigo@max3d.com" <amigo@max3d.com> wrote:
>
>  
>
>>Here's probably a silly question, very newbish, but I had to ask.
>>Since I have mysql documents that contain over 30 fields each and
>>most of them
>>are added to the index, is it a common practice to add fields to the
>>index with 
>>empty values, for that perticular record, or should the field be
>>totally omitted.
>>
>>What I mean is if let's say a Title field is empty on a specific
>>record (in mysql)
>>should I still add that field into Lucene index with an empty value
>>or just
>>skip it and only add the fields that contain non-empty values?
>>
>>thanks
>>
>>-pedja
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

--------------070201050908020406040909--

From MAILER-DAEMON Wed Dec  8 15:02:01 2004
Return-Path: 
 <lucene-user-return-11748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94300 invoked from network); 8 Dec 2004 15:02:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 15:02:01 -0000
Received: (qmail 71324 invoked by uid 500); 8 Dec 2004 15:01:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71284 invoked by uid 500); 8 Dec 2004 15:01:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71269 invoked by uid 99); 8 Dec 2004 15:01:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12703.mail.yahoo.com (HELO web12703.mail.yahoo.com)
 (216.136.173.240)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 07:01:06 -0800
Received: (qmail 42233 invoked by uid 60001); 8 Dec 2004 15:01:03 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=eYd0CJszTtwDCWkeIaGMxu1wXVakyVIudYVnabohNjucOHYPsYQhNZNd5ntgU+oOXmpmsh472r0P3F+h5mq+NMqYTevGEDmrmFPHf1Nf/xaESUj5jp5K/ON9TrYFRVH4P2nvNPbz5OZvzA7gZAE6Z31jm2jRbrH5/9GccSLByDg=
  ;
Message-ID: <20041208150103.42231.qmail@web12703.mail.yahoo.com>
Received: from [216.194.17.194] by web12703.mail.yahoo.com via HTTP;
 Wed, 08 Dec 2004 07:01:03 PST
Date: Wed, 8 Dec 2004 07:01:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Empty/non-empty field indexing question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B7158B.2010903@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Correct.
No, there is no point in putting an empty field there.

Otis

--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Hi Otis
> 
> What kind of implications does that produce on the search?
> 
> If I understand correctly that record would not be searched for if
> the 
> field is not there, correct?
> But then is there a point putting an empty value in it, if an 
> application will never search for empty values?
> 
> 
> thanks
> 
> -pedja
> 
> 
> Otis Gospodnetic said the following on 12/8/2004 1:31 AM:
> 
> >Empty fields won't add any value, you can skip them.  Documents in
> an
> >index don't have to be uniform.  Each Document could have a
> different
> >set of fields.  Of course, that has some obvious implications for
> >search, but is perfectly fine technically.
> >
> >Otis
> >
> >--- "amigo@max3d.com" <amigo@max3d.com> wrote:
> >
> >  
> >
> >>Here's probably a silly question, very newbish, but I had to ask.
> >>Since I have mysql documents that contain over 30 fields each and
> >>most of them
> >>are added to the index, is it a common practice to add fields to
> the
> >>index with 
> >>empty values, for that perticular record, or should the field be
> >>totally omitted.
> >>
> >>What I mean is if let's say a Title field is empty on a specific
> >>record (in mysql)
> >>should I still add that field into Lucene index with an empty value
> >>or just
> >>skip it and only add the fields that contain non-empty values?
> >>
> >>thanks
> >>
> >>-pedja
> >>
> >>
> >>
> >>
>
>>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> >>
> >>    
> >>
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >  
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 15:14:21 2004
Return-Path: 
 <lucene-user-return-11749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10432 invoked from network); 8 Dec 2004 15:14:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 15:14:21 -0000
Received: (qmail 4161 invoked by uid 500); 8 Dec 2004 15:13:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3936 invoked by uid 500); 8 Dec 2004 15:13:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3708 invoked by uid 99); 8 Dec 2004 15:13:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 07:13:45 -0800
Received: (qmail 9195 invoked by uid 60001); 8 Dec 2004 15:13:42 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Joig3fZiLlr5I+MLYhpid+VdFyb0klNIuk9dXSXhwiqnIiU9HnEF0F4YCAiVBXG7Wq+tKVHkzx+tDXkbHRCZJaIWld41TOLnUqEH0NsGTXoK0aP8+ssQmt71eJNp1QFIsM8GiARyZ5oMnFOy5IUxCFq0Up1+ArL0Q2LF2stYOWg=
  ;
Message-ID: <20041208151341.9193.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 08 Dec 2004 07:13:41 PST
Date: Wed, 8 Dec 2004 07:13:41 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Updating indexes incrementaly including replacnig old documents
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Tony Scerri <tony.scerri@gmail.com>
In-Reply-To: <8a84ce4d04120805596b8e1a26@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Both options are good, and which one you choose depends on which one
you feel more comfortable with, I'd say.

The searcher won't see duplicates or missing documents until it is
reopened.  So use a separate IndexSearcher for searching, and
reinstantiate it only after you are completely done with either A or B.
 At that point everything should look normal - no missing or duplicate
Documents.

Otis

--- Tony Scerri <tony.scerri@gmail.com> wrote:

> Hi
> 
> I am looking into how best to support updating of indexes
> incrementaly
> with support for replacing old documents. As I see it from what I
> have
> read and tried. There are two ways of attempting this.
> 
> Option A
> 1)Open only a reader or search. From a list of documents to be
> updated, find all those already indexed, using an IndexReader (or
> Searcher), and get the document IDs.
> 2)For each ID delete it using an IndexReader.
> 3)Then close the reader, then open a writer, and index all the new
> documents.
> 4)Close the writer, and reopen all readers and searchers where
> necessary.
> 
> Option B
> 1)Open only a writer and index all the documents, keeping track of
> any
> occurenct of an existing document.
> 2)Close the writer, and open a reader. Delete all updated documents.
> Continue to use the reader or searchers, reopenning to flush to disk
> if necessary.
> 
> Would these be the two appropriate solutions, or are their better
> ways
> to do it (without creating a second index and then switching between
> them). In particular can you avoid either having duplicate records
> from option A, or missing records from option B whilst in the middle
> of the process.
> 
> Thanks
> 
> Tony
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 19:03:50 2004
Return-Path: 
 <lucene-user-return-11750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12813 invoked from network); 8 Dec 2004 19:03:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 19:03:50 -0000
Received: (qmail 50039 invoked by uid 500); 8 Dec 2004 19:03:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49965 invoked by uid 500); 8 Dec 2004 19:03:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49905 invoked by uid 99); 8 Dec 2004 19:03:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 11:03:40 -0800
Content-class: urn:content-classes:message
Subject: 'IN' type search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 8 Dec 2004 14:03:33 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B2155234CA@htexc.hq.htinc.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: 'IN' type search
Thread-Index: AcTdOJgpWlibJYdSRL2KuE3JEb481AAH4/Ew
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20
Hi
 How do you get all documents in lucene where a particular field value
is in a given list of values (like SQL IN). What kind of Query class
should I use?

Thanks in advance.
Ravi.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 19:04:02 2004
Return-Path: 
 <lucene-user-return-11751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12943 invoked from network); 8 Dec 2004 19:04:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 19:04:02 -0000
Received: (qmail 51018 invoked by uid 500); 8 Dec 2004 19:03:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50965 invoked by uid 500); 8 Dec 2004 19:03:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50903 invoked by uid 99); 8 Dec 2004 19:03:48 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=BLANK_LINES_70_80,FORGED_RCVD_HELO,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 67.107.199.122.ptr.us.xo.net (HELO mail.utwire.net)
 (67.107.199.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 11:03:47 -0800
Received: (qmail 3447 invoked from network); 8 Dec 2004 19:05:37 -0000
Received: from localhost (HELO mail.utwire.net) (127.0.0.1)
  by mail.utwire.net with SMTP; 8 Dec 2004 19:05:37 -0000
Received: (nullmailer pid 3444 invoked by uid 33);
	Wed, 08 Dec 2004 19:05:37 -0000
Received: from dynix.dynix.com (dynix.dynix.com [192.206.158.10])
	by webmail.utwire.net (IMP) with HTTP
	for <jjkarm@localhost>; Wed,  8 Dec 2004 12:05:37 -0700
Message-ID: <1102532737.41b750816a7d1@webmail.utwire.net>
Date: Wed,  8 Dec 2004 12:05:37 -0700
From: jjkarm@utwire.net
To: lucene-user@jakarta.apache.org
Subject: Does Lucene support the XOR operator?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) 3.2.5
X-Originating-IP: 192.206.158.10
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does Lucene support the XOR operator?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 19:22:03 2004
Return-Path: 
 <lucene-user-return-11752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34394 invoked from network); 8 Dec 2004 19:22:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 19:22:03 -0000
Received: (qmail 90767 invoked by uid 500); 8 Dec 2004 19:21:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90747 invoked by uid 500); 8 Dec 2004 19:21:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90727 invoked by uid 99); 8 Dec 2004 19:21:45 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 11:21:44 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Wed, 08 Dec 2004 14:20:46 -0500
Message-ID: <180f01c4dd5b$042061d0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: Lucene Vs Ixiasoft
Date: Wed, 8 Dec 2004 14:20:45 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_180C_01C4DD31.1B374700"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_180C_01C4DD31.1B374700
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Does anyone know about Ixiasoft server. Its a xml repository/search =
engine. If anyone knows about it, does he/she also know how it is =
compared to Lucene? Which is fast?=20

Praveen
**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_180C_01C4DD31.1B374700--


From MAILER-DAEMON Wed Dec  8 19:32:54 2004
Return-Path: 
 <lucene-user-return-11753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49339 invoked from network); 8 Dec 2004 19:32:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 19:32:54 -0000
Received: (qmail 12500 invoked by uid 500); 8 Dec 2004 19:32:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12478 invoked by uid 500); 8 Dec 2004 19:32:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12461 invoked by uid 99); 8 Dec 2004 19:32:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 11:32:44 -0800
Received: (qmail 69454 invoked by uid 60001); 8 Dec 2004 19:32:43 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=eA87JspWc0zzvOflgEZag5ufFejWtfEsg+jH+V13lvfGxRnPQVd8zEEYeaxrpijvJQ6qs2YTD9Wx+wkqasfDLhwKqide7sEeh9APkYMtDryjSrm7FNESr8H9onnBjX1tdO9LmpDR399DV2sTqNmeC4i7nuHNVNz36KfQdqsCrmM=
  ;
Message-ID: <20041208193243.69452.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Wed, 08 Dec 2004 11:32:43 PST
Date: Wed, 8 Dec 2004 11:32:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: 'IN' type search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B2155234CA@htexc.hq.htinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

You can use BooleanQuery for that.

Otis

--- Ravi <ravi@htinc.com> wrote:

>  
> Hi
>  How do you get all documents in lucene where a particular field
> value
> is in a given list of values (like SQL IN). What kind of Query class
> should I use?
> 
> Thanks in advance.
> Ravi.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 20:14:38 2004
Return-Path: 
 <lucene-user-return-11754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93416 invoked from network); 8 Dec 2004 20:14:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 20:14:38 -0000
Received: (qmail 13464 invoked by uid 500); 8 Dec 2004 20:14:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13434 invoked by uid 500); 8 Dec 2004 20:14:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13418 invoked by uid 99); 8 Dec 2004 20:14:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu)
 (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 12:14:30 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 0A5C41F53CE
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 15:14:27 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 11192-03 for <lucene-user@jakarta.apache.org>;
 Wed,  8 Dec 2004 15:14:26 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id B26171F5354
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 15:14:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1102532737.41b750816a7d1@webmail.utwire.net>
References: <1102532737.41b750816a7d1@webmail.utwire.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C2031E12-4955-11D9-A264-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Does Lucene support the XOR operator?
Date: Wed, 8 Dec 2004 15:14:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 8, 2004, at 2:05 PM, jjkarm@utwire.net wrote:
> Does Lucene support the XOR operator?

XOR is not a built-in operation.  However in a few lines of code (a 
custom subclass of BooleanQuery) I was able to implement it.  I built 
this functionality under contract and I'm still working out the details 
of how much of my work can be contributed back, most of which is custom 
and isn't generalizable, but some like an XOR query is general purpose 
enough.

However, I will give some hints - all the details of providing a custom 
Similarity has been been mentioned in this list - thats the trick.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 21:46:20 2004
Return-Path: 
 <lucene-user-return-11755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8896 invoked from network); 8 Dec 2004 21:46:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 21:46:20 -0000
Received: (qmail 28878 invoked by uid 500); 8 Dec 2004 21:46:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28848 invoked by uid 500); 8 Dec 2004 21:46:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28834 invoked by uid 99); 8 Dec 2004 21:46:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 13:46:11 -0800
Content-class: urn:content-classes:message
Subject: RE: Index delete failing
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 8 Dec 2004 16:46:04 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B2155234D5@htexc.hq.htinc.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index delete failing
Thread-Index: AcTb3VP7Vmbj+x0yTt2w0hhN6fYx9ABkZr3A
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I got this working. I had to close all index searchers and writer on the
index, set them to null and call System.gc() before the delete process.
I think windows still thinks writer and searchers are pointing to the
index directory even if you close them.=20

Ravi

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Monday, December 06, 2004 4:48 PM
To: Lucene Users List
Subject: Re: Index delete failing

This smells like a Windows issue.  It is possible that something in your
JVM is still holding onto the index directory (for example,
FSDirectory), and Winblows is not letting you remove the directory.  I
bet this will work if you exit the JVM and run java.io.file.delete()
without calling Lucene.  Sorry, my Windows + Lucene experience is
limited.

Otis

--- Ravi <ravi@htinc.com> wrote:

>  Hi
>  We need to delete a lucene index from our application using=20
> java.io.file.delete(). We are closing the indexWriter and even all the

> index searchers on that folder. But a call to delete returns false.
> There is no lock on the index directory. Interesting thing is that the

> deletable and segments files are getting removed. But the rest of the=20
> .cfs are not. Has somebody had similar problem?
>=20
> Thanks in advance,
> Ravi.=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 22:03:15 2004
Return-Path: 
 <lucene-user-return-11756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24369 invoked from network); 8 Dec 2004 22:03:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 22:03:15 -0000
Received: (qmail 71094 invoked by uid 500); 8 Dec 2004 22:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71067 invoked by uid 500); 8 Dec 2004 22:03:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71053 invoked by uid 99); 8 Dec 2004 22:03:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 14:03:07 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1Cc9tp-0006wu-Hd
	for lucene-user@jakarta.apache.org; Wed, 08 Dec 2004 14:03:05 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sorting in Lucene
Date: Wed, 8 Dec 2004 14:02:29 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTcw4RTs3WA0y3oQUeXxrTHN+pD1QArdCpw
In-Reply-To: <5A948772-48B6-11D9-AA00-000393A564E6@ehatchersolutions.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

I am not getting any error. 

Yes I am indexing multiple keyword fields by the same name in a single
document. Does that works with Lucene?

Thanks,
Ramon

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Tuesday, December 07, 2004 5:13 PM
To: Lucene Users List
Subject: Re: Sorting in Lucene

Ramon,

More details would be most helpful in being able to assist.  You said 
you cannot sort - but you did not tell us what error you're getting.  
Are you indexing multiple keyword fields by the same name for a single 
document?

As for searching - depending on the type of text you're searching for, 
the analyzer may be making it difficult/impossible to search for.  
QueryParser doesn't know about keyword fields.

	Erik

On Dec 7, 2004, at 7:13 PM, Ramon Aseniero wrote:

> Hi Chuck,
>
> Yes I tried to search with the exact string stored on the index but I 
> don't
> get a match. I tried the search using LIMO and LUKE.
>
> It seems like untokenized field are not searchable.
>
> Thanks,
> Ramon
>
> -----Original Message-----
> From: Chuck Williams [mailto:chuck@manawiz.com]
> Sent: Tuesday, December 07, 2004 4:04 PM
> To: Lucene Users List
> Subject: RE: Sorting in Lucene
>
> Since it's untokenized, are you searching with the exact string stored
> in the field?
>
> Chuck
>
>> -----Original Message-----
>> From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
>> Sent: Tuesday, December 07, 2004 3:29 PM
>> To: 'Lucene Users List'; 'Chris Fraschetti'
>> Subject: RE: Sorting in Lucene
>>
>> I also tried searching the said field on LIMO and I don't get a
> match.
>>
>> Thanks,
>> Ramon
>>
>> -----Original Message-----
>> From: Ramon Aseniero [mailto:ramon.aseniero@tryarc.com]
>> Sent: Tuesday, December 07, 2004 3:20 PM
>> To: 'Lucene Users List'; 'Chris Fraschetti'
>> Subject: RE: Sorting in Lucene
>>
>> Hi,
>>
>> I use LIMO to look into my index. Limo tells me that the field is
>> untokenized but is indexed.
>>
>> Is it possible to search on untokenized field?
>>
>> Thanks,
>> Ramon
>>
>> -----Original Message-----
>> From: Chris Fraschetti [mailto:fraschetti@gmail.com]
>> Sent: Tuesday, December 07, 2004 3:14 PM
>> To: Lucene Users List
>> Subject: Re: Sorting in Lucene
>>
>> I would try 'luke' to look at your index and use it's search
>> functionality to make sure it's now your code that is the problem,
> as
>> well as to ensure  your document is appearing in the index as you
>> intend it. It's been a lifesaver for me.
>>
>> http://www.getopt.org/luke/
>>
>>
>> On Tue, 7 Dec 2004 15:02:26 -0800, Ramon Aseniero
>> <ramon.aseniero@tryarc.com> wrote:
>>> Hi All,
>>>
>>> Any idea why a Keyword field is not searchable? On my index I have
> a
>> field
>>> of type Keyword but I could not somehow search on the field.
>>>
>>> Thanks in advance.
>>>
>>> Ramon
>>>
>>> --
>>> No virus found in this outgoing message.
>>> Checked by AVG Anti-Virus.
>>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date:
> 12/7/2004
>>>
>>>
>>
>>
>> --
>> ___________________________________________________
>> Chris Fraschetti
>> e fraschetti@gmail.com
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> --
>> No virus found in this incoming message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>> --
>> No virus found in this outgoing message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> --
>> No virus found in this incoming message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>> --
>> No virus found in this outgoing message.
>> Checked by AVG Anti-Virus.
>> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>>
>>
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> -- 
> No virus found in this incoming message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>
>
> -- 
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



-- 
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 

-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 22:31:44 2004
Return-Path: 
 <lucene-user-return-11757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49325 invoked from network); 8 Dec 2004 22:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 22:31:44 -0000
Received: (qmail 35725 invoked by uid 500); 8 Dec 2004 22:31:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35704 invoked by uid 500); 8 Dec 2004 22:31:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35683 invoked by uid 99); 8 Dec 2004 22:31:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 14:31:35 -0800
Received: by rproxy.gmail.com with SMTP id z35so248050rne
        for <lucene-user@jakarta.apache.org>;
 Wed, 08 Dec 2004 14:31:32 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=Ri1EkO3roCd8IN3qBS0g53FUrNYoom5+UnKQeVkoFMXV3iwpyqtzJxuZdeG2nf/N9mmYFmozSwHafbXrdYVHZPQEtsbr55LW4CjvVYrSe98vp9ZB7bxq1KCt+r171JehogjEIU6QX4JX3B9IkhgINvtFWqciiEBBF9t73qzmf0g=
Received: by 10.38.83.72 with SMTP id g72mr1165693rnb;
        Wed, 08 Dec 2004 14:31:32 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Wed, 8 Dec 2004 14:31:31 -0800 (PST)
Message-ID: <8837fb77041208143159908d0d@mail.gmail.com>
Date: Wed, 8 Dec 2004 14:31:31 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Re: finalize delete without optimize
In-Reply-To: <8837fb770412062115795df6a3@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb770412062115795df6a3@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi folks:

    I sent this out a few days ago without a response. 

    Please help.

Thanks in advance

-John


On Mon, 6 Dec 2004 21:15:00 -0800, John Wang <john.wang@gmail.com> wrote:
> Hi:
> 
>   Is there a way to finalize delete, e.g. actually remove them from
> the segments and make sure the docIDs are contiguous again.
> 
>   The only explicit way to do this is by calling
> IndexWriter.optmize(). But this call does a lot more (also merges all
> the segments), hence is very expensive. Is there a way to simply just
> finalize the deletes without having to merge all the segments?
> 
>    If not, I'd be glad to submit an implementation of this feature if
> the Lucene devs agree this is useful.
> 
> Thanks
> 
> -John
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 22:54:30 2004
Return-Path: 
 <lucene-user-return-11758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71907 invoked from network); 8 Dec 2004 22:54:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 22:54:30 -0000
Received: (qmail 99721 invoked by uid 500); 8 Dec 2004 22:54:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99702 invoked by uid 500); 8 Dec 2004 22:54:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99689 invoked by uid 99); 8 Dec 2004 22:54:25 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 14:54:24 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Wed, 08 Dec 2004 17:53:27 -0500
Message-ID: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: partial updating of lucene
Date: Wed, 8 Dec 2004 17:53:26 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_1854_01C4DD4E.D13278F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_1854_01C4DD4E.D13278F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
I have a question about updating the lucene document. I know that there =
is no API to do that now. So this is what I am doing in order to update =
the document with the field "title".

1) Get the document from lucene index
2) Remove a field called "title" and add the same field with a modified =
value
3) Remove the docment (based on one of our field) using Reader and then =
close the Reader.
4) Add the document that is obtained in 1 and modified in 2.

I am not sure if this is the right way of doing it but I am having =
problems searching for that document after updating it. The problem is =
only with the un stored fields.

For example, I search as "description:boy" where description is a =
unstored, indexed, tokenized field in the document. I find 1 document. =
Now I update the document the document's title as descripbed above and =
repeat the same search "description:boy" and now I don't find any =
results. I have not touched the field "description" at all. I just =
updated the field title.

Is this an expected behaviour? If not, is it a bug.

If I change the field description as stored, indexed and tokenized, the =
search works fine before and after updating.

Praveen
**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_1854_01C4DD4E.D13278F0--


From MAILER-DAEMON Wed Dec  8 22:59:31 2004
Return-Path: 
 <lucene-user-return-11759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77067 invoked from network); 8 Dec 2004 22:59:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 22:59:31 -0000
Received: (qmail 9444 invoked by uid 500); 8 Dec 2004 22:59:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9420 invoked by uid 500); 8 Dec 2004 22:59:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9407 invoked by uid 99); 8 Dec 2004 22:59:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of greenlion@gmail.com
 designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 14:59:23 -0800
Received: by rproxy.gmail.com with SMTP id 40so176112rnz
        for <lucene-user@jakarta.apache.org>;
 Wed, 08 Dec 2004 14:59:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=ufOjabGU66KE/fhI/xOhhGl0ndHg/rwx3oElE6oecjGCu+BgbwSssI2km2te01lA7gV5F9JWdapHnj4yKA3MYk2xrumpne/Xqo6lUIQJyiIKdgqPYazpmeqtlDdGfzRuNVtlMRWMdx/WXHjnBVEJRWKIUeBigxHaWUeiuCV4xbY=
Received: by 10.38.8.44 with SMTP id 44mr596175rnh;
        Wed, 08 Dec 2004 14:59:21 -0800 (PST)
Received: by 10.38.179.4 with HTTP; Wed, 8 Dec 2004 14:59:21 -0800 (PST)
Message-ID: <dd2db8d0041208145926990af1@mail.gmail.com>
Date: Wed, 8 Dec 2004 15:59:21 -0700
From: Justin Swanhart <greenlion@gmail.com>
Reply-To: Justin Swanhart <greenlion@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: partial updating of lucene
In-Reply-To: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You unstored fields were not stored in the index, only their terms
were stored.  When you get the document from the index and modify it,
those terms are lost when you add the document again.

You can either simply create a new document and populate all the
fields and add that document to the index, or you can add the unstored
fields to the document retrieved in step 1.


On Wed, 8 Dec 2004 17:53:26 -0500, Praveen Peddi
<ppeddi@contextmedia.com> wrote:
> Hi all,
> I have a question about updating the lucene document. I know that there is no API to do that now. So this is what I am doing in order to update the document with the field "title".
> 
> 1) Get the document from lucene index
> 2) Remove a field called "title" and add the same field with a modified value
> 3) Remove the docment (based on one of our field) using Reader and then close the Reader.
> 4) Add the document that is obtained in 1 and modified in 2.
> 
> I am not sure if this is the right way of doing it but I am having problems searching for that document after updating it. The problem is only with the un stored fields.
> 
> For example, I search as "description:boy" where description is a unstored, indexed, tokenized field in the document. I find 1 document. Now I update the document the document's title as descripbed above and repeat the same search "description:boy" and now I don't find any results. I have not touched the field "description" at all. I just updated the field title.
> 
> Is this an expected behaviour? If not, is it a bug.
> 
> If I change the field description as stored, indexed and tokenized, the search works fine before and after updating.
> 
> Praveen
> **************************************************************
> Praveen Peddi
> Sr Software Engg, Context Media, Inc.
> email:ppeddi@contextmedia.com
> Tel:  401.854.3475
> Fax:  401.861.3596
> web: http://www.contextmedia.com
> **************************************************************
> Context Media- "The Leader in Enterprise Content Integration"
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 23:19:30 2004
Return-Path: 
 <lucene-user-return-11760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96899 invoked from network); 8 Dec 2004 23:19:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 23:19:30 -0000
Received: (qmail 43956 invoked by uid 500); 8 Dec 2004 23:19:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43931 invoked by uid 500); 8 Dec 2004 23:19:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43918 invoked by uid 99); 8 Dec 2004 23:19:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of n.maisonneuve@gmail.com
 designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 15:19:24 -0800
Received: by wproxy.gmail.com with SMTP id 68so432403wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 08 Dec 2004 15:19:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=so6hn9yHClAh4QZxvF6sle6/1Z+lW9wJ1xPZH4TWCcXrCUVxMAuISdL65EopjFqwXPyhECHTDHijarn4v4LjSFOwfWodX5prSt5nmxLS9Ayd2qGeUpUpUu8rnMCOVyPDosx/37DgodsDpA24MV29Pjsy4qM+l+RV/zk6vU7DG3Q=
Received: by 10.54.24.8 with SMTP id 8mr894880wrx;
        Wed, 08 Dec 2004 15:19:22 -0800 (PST)
Received: by 10.54.35.25 with HTTP; Wed, 8 Dec 2004 15:19:21 -0800 (PST)
Message-ID: <7b87034104120815197d6b10b@mail.gmail.com>
Date: Thu, 9 Dec 2004 00:19:21 +0100
From: Nicolas Maisonneuve <n.maisonneuve@gmail.com>
Reply-To: Nicolas Maisonneuve <n.maisonneuve@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Vs Ixiasoft
In-Reply-To: <180f01c4dd5b$042061d0$aa87a8c0@ppeddi>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <180f01c4dd5b$042061d0$aa87a8c0@ppeddi>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,
think first of the relevance of the model in this 2 search engine  for
XML document retrieval.

Lucene is classic fulltext search engine  using the vector space
model. this model is efficient for indexing  no structred document
(like plain text file ) and not made for structured document like XML.
there is a XML demo of lucene sandbox but it's not really very
efficient because it doesn't take advantage of  the document strucutre
in the indexing and the ranking model, so it lose semantic information
and relevance.

i don't know Ixiasoft, check the information to see how it index and
rank XML document.

nicolas 

On Wed, 8 Dec 2004 14:20:45 -0500, Praveen Peddi
<ppeddi@contextmedia.com> wrote:
> Does anyone know about Ixiasoft server. Its a xml repository/search engine. If anyone knows about it, does he/she also know how it is compared to Lucene? Which is fast?
> 
> Praveen
> **************************************************************
> Praveen Peddi
> Sr Software Engg, Context Media, Inc.
> email:ppeddi@contextmedia.com
> Tel:  401.854.3475
> Fax:  401.861.3596
> web: http://www.contextmedia.com
> **************************************************************
> Context Media- "The Leader in Enterprise Content Integration"
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  8 23:39:31 2004
Return-Path: 
 <lucene-user-return-11761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12615 invoked from network); 8 Dec 2004 23:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Dec 2004 23:39:31 -0000
Received: (qmail 73834 invoked by uid 500); 8 Dec 2004 23:39:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73808 invoked by uid 500); 8 Dec 2004 23:39:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73795 invoked by uid 99); 8 Dec 2004 23:39:26 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,MIME_HTML_NO_CHARSET
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gw1i.sciquest.com (HELO gw1.sciquest.com) (216.136.12.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 15:39:24 -0800
Received: from MERCURY.sciquest.com ([10.0.4.1])
	by gw1.sciquest.com (8.12.9/8.12.9/SQ-GW-1.20040116) with ESMTP id
 iB8NdLeN007598
	for <lucene-user@jakarta.apache.org>; Wed, 8 Dec 2004 18:39:21 -0500
Received: by mercury.sciquest.com with Internet Mail Service (5.5.2653.19)
	id <VKHL42GD>; Wed, 8 Dec 2004 18:39:41 -0500
Message-ID: <8F091C3698D5D3119040009027E30B2A0DE21D08@mercury.sciquest.com>
From: Alexey Lef <alexey@sciquest.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Unexpected TermEnum behavior
Date: Wed, 8 Dec 2004 18:39:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4DD7F.2FDD8BD0"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4DD7F.2FDD8BD0
Content-Type: text/plain

My application needs to enumerate all terms for a specific field. To do that
I get the TermEnum using the following code:

	TermEnum terms = reader.terms(new Term(fieldName, ""));

I noticed that initially TermEnum is positioned at the first term. In other
words, I don't have to call terms.next() before calling terms.term(). This
is different from the behavior of Iterator,  Enumeration and ResultSet whose
initial position is before the first result. I wonder whether it is this way
by design.

If it is by design, what is the defined TermEnum behavior if there are no
terms for the field name in question? Will the call to terms.term() return
null? Or get positioned at the first term with the field name that comes
after the provided field name? What if there are no field names after it?

In any case, some javadoc describing the behavior would be extremely useful.
Being used to Iterators and ResultSets, I automatically wrote the code the
same way, calling next() first. Fortunately, I had a field with only 2
terms, that's why I noticed that I am missing the first element.

Thanks,

Alexey

------_=_NextPart_001_01C4DD7F.2FDD8BD0--

From MAILER-DAEMON Thu Dec  9 00:13:30 2004
Return-Path: 
 <lucene-user-return-11762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36294 invoked from network); 9 Dec 2004 00:13:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 00:13:30 -0000
Received: (qmail 32010 invoked by uid 500); 9 Dec 2004 00:13:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31650 invoked by uid 500); 9 Dec 2004 00:13:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31636 invoked by uid 99); 9 Dec 2004 00:13:24 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 16:13:23 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4B4335B7BB; Wed,  8 Dec 2004 16:13:19 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 48AB87F460
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 16:13:19 -0800 (PST)
Date: Wed, 8 Dec 2004 16:13:19 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Unexpected TermEnum behavior
In-Reply-To: <8F091C3698D5D3119040009027E30B2A0DE21D08@mercury.sciquest.com>
Message-ID: <Pine.LNX.4.58.0412081605320.13342@hal.rescomp.berkeley.edu>
References: <8F091C3698D5D3119040009027E30B2A0DE21D08@mercury.sciquest.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: 	TermEnum terms = reader.terms(new Term(fieldName, ""));
:
: I noticed that initially TermEnum is positioned at the first term. In other
: words, I don't have to call terms.next() before calling terms.term(). This
: is different from the behavior of Iterator,  Enumeration and ResultSet whose

Well, strictly speeking it's very different -- in particular, the "next"
method doesn't return the item, which is also very different from
Iterators and Enumeration.

I agree it's a little confusing, esecially since TermDocs and TermEnum are
different.

: If it is by design, what is the defined TermEnum behavior if there are no
: terms for the field name in question? Will the call to terms.term() return
: null? Or get positioned at the first term with the field name that comes
: after the provided field name? What if there are no field names after it?

I believe that in those cases, the TermEnum object itself will be null.

: In any case, some javadoc describing the behavior would be extremely useful.

I thought it was documented in the TermEnum interface, but looking at it
now I realize that not only does the TermEnum javadoc not explain it
very well, but the class FilteredTermEnum (which implements TermEnum)
acctually documents the oposite behavior...

  public Term term()

      Returns the current Term in the enumeration. Initially
      invalid, valid  after next() called for the first time.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 00:31:49 2004
Return-Path: 
 <lucene-user-return-11763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51581 invoked from network); 9 Dec 2004 00:31:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 00:31:49 -0000
Received: (qmail 58011 invoked by uid 500); 9 Dec 2004 00:31:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57981 invoked by uid 500); 9 Dec 2004 00:31:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57964 invoked by uid 99); 9 Dec 2004 00:31:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 203.141.132.41.user.ad.il24.net (HELO ml.worldsoftware.co.jp)
 (203.141.132.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 16:31:44 -0800
Received: from satoshiobtu4n6 (zaku.worldsoftware.co.jp [192.168.55.6])
	by ml.worldsoftware.co.jp (Postfix) with SMTP id 8C0AD76399
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 09:31:40 +0900 (JST)
Message-ID: <002e01c4dd86$732be830$32e0fcca@satoshiobtu4n6>
From: "Satoshi Hasegawa" <hasegawa@p03.worldsoftware.co.jp>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <012a01c4dd07$50a0edd0$9d01a8c0@sprosys.com>
Subject: Re: problem restoring index
Date: Thu, 9 Dec 2004 09:31:39 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

    You cannot use a wild character as the first character of the search.

    http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

----- Original Message ----- 
From: "Santosh" <santosh.s@softprosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 08, 2004 6:21 PM
Subject: problem restoring index


hi,

when I restart the tomcat . the Index is getting corrupted. If I take the 
backup of Index and then restarting tomcat. the Index is not working 
properly.

Do I have to Index again all the documents whenever I restart the Tomcat?




-----------------------SOFTPRO DISCLAIMER------------------------------

Information contained in this E-MAIL and any attachments are
confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
and 'confidential'.

If you are not an intended or authorised recipient of this E-MAIL or
have received it in error, You are notified that any use, copying or
dissemination  of the information contained in this E-MAIL in any
manner whatsoever is strictly prohibited. Please delete it immediately
and notify the sender by E-MAIL.

In such a case reading, reproducing, printing or further dissemination
of this E-MAIL is strictly prohibited and may be unlawful.

SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
hereto is free from computer viruses or other defects.

The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
those of the author and are not necessarily those of SOFTPRO SYSTEMS.
------------------------------------------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 00:32:30 2004
Return-Path: 
 <lucene-user-return-11764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52066 invoked from network); 9 Dec 2004 00:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 00:32:30 -0000
Received: (qmail 59860 invoked by uid 500); 9 Dec 2004 00:32:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59506 invoked by uid 500); 9 Dec 2004 00:32:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59493 invoked by uid 99); 9 Dec 2004 00:32:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 203.141.132.41.user.ad.il24.net (HELO ml.worldsoftware.co.jp)
 (203.141.132.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 16:32:24 -0800
Received: from satoshiobtu4n6 (zaku.worldsoftware.co.jp [192.168.55.6])
	by ml.worldsoftware.co.jp (Postfix) with SMTP id 7B7C076399
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 09:32:21 +0900 (JST)
Message-ID: <003e01c4dd86$8b910630$32e0fcca@satoshiobtu4n6>
From: "Satoshi Hasegawa" <hasegawa@p03.worldsoftware.co.jp>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <013501c4dd07$bdb9b370$9d01a8c0@sprosys.com>
Subject: Re: searchig with special characters
Date: Thu, 9 Dec 2004 09:32:20 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

    You cannot use a wild character as the first character of the search.

    http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

----- Original Message ----- 
From: "Santosh" <santosh.s@softprosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 08, 2004 6:24 PM
Subject: searchig with special characters


whenever I search with some special chracters like " *world "  I am getting 
exception . how can I avoid this? and for what other characters lucene give 
this type of exceptions?


-----------------------SOFTPRO DISCLAIMER------------------------------

Information contained in this E-MAIL and any attachments are
confidential being  proprietary to SOFTPRO SYSTEMS  is 'privileged'
and 'confidential'.

If you are not an intended or authorised recipient of this E-MAIL or
have received it in error, You are notified that any use, copying or
dissemination  of the information contained in this E-MAIL in any
manner whatsoever is strictly prohibited. Please delete it immediately
and notify the sender by E-MAIL.

In such a case reading, reproducing, printing or further dissemination
of this E-MAIL is strictly prohibited and may be unlawful.

SOFTPRO SYSYTEMS does not REPRESENT or WARRANT that an attachment
hereto is free from computer viruses or other defects.

The opinions expressed in this E-MAIL and any ATTACHEMENTS may be
those of the author and are not necessarily those of SOFTPRO SYSTEMS.
------------------------------------------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 00:34:13 2004
Return-Path: 
 <lucene-user-return-11765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53255 invoked from network); 9 Dec 2004 00:34:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 00:34:13 -0000
Received: (qmail 64787 invoked by uid 500); 9 Dec 2004 00:34:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64765 invoked by uid 500); 9 Dec 2004 00:34:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64752 invoked by uid 99); 9 Dec 2004 00:34:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 16:34:07 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20041209003400013008otp9e>; Thu, 9 Dec 2004 00:34:00 +0000
Message-ID: <41B79D76.20602@apache.org>
Date: Wed, 08 Dec 2004 16:33:58 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.FileNotFoundException: ... (No such file or directory)
References: <dd2db8d00411181359461c774b@mail.gmail.com>
In-Reply-To: <dd2db8d00411181359461c774b@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Justin Swanhart wrote:
> The indexes are located on a NFS mountpoint. Could this be the
> problem?

Yes.  Lucene's lock mechanism is designed to keep this from happening, 
but the sort of lock files that FSDirectory uses are known to be broken 
with NFS.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 00:37:08 2004
Return-Path: 
 <lucene-user-return-11766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55189 invoked from network); 9 Dec 2004 00:37:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 00:37:08 -0000
Received: (qmail 69004 invoked by uid 500); 9 Dec 2004 00:37:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68982 invoked by uid 500); 9 Dec 2004 00:37:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68967 invoked by uid 99); 9 Dec 2004 00:37:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 16:37:02 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6BB9D13E200B; Wed,  8 Dec 2004 19:37:00 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id B899913E2009
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 19:36:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041208220313.D265713E200B@ehatchersolutions.com>
References: <20041208220313.D265713E200B@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <779D3246-497A-11D9-A6F0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting in Lucene
Date: Wed, 8 Dec 2004 19:37:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 8, 2004, at 5:02 PM, Ramon Aseniero wrote:
> Yes I am indexing multiple keyword fields by the same name in a single
> document. Does that works with Lucene?

No - logically it doesn't make sense.  How would Lucene determine which 
of those field values to sort by?

You need a single field value to sort by.  I think you should get an 
error when sorting by a field with duplicate values though.

Again, it would be most helpful if you could provide code that 
demonstrates what you're doing during indexing and searching 
specifically related to the sorting issue.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 03:13:35 2004
Return-Path: 
 <lucene-user-return-11767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87095 invoked from network); 9 Dec 2004 03:13:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 03:13:35 -0000
Received: (qmail 186 invoked by uid 500); 9 Dec 2004 03:13:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99807 invoked by uid 500); 9 Dec 2004 03:13:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99792 invoked by uid 99); 9 Dec 2004 03:13:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 19:13:26 -0800
Received: by rproxy.gmail.com with SMTP id z35so268072rne
        for <lucene-user@jakarta.apache.org>;
 Wed, 08 Dec 2004 19:13:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=p8nU/ZcaoeWpLFkPvN62PqIveX7SsUjxuT0dZ6MkHiFI8IiAX7NIyaKFx+8Oo1mGh+VqUJoqZegGpqKjJ8fPmSRWp7VVR8bOA3w7kHoZeJxCjk6o7FBQBf6vO+fot0cAPyPGGK6K7ZJszjooSJMvTrNmyQNP6iPSVdNBXzfZ2ps=
Received: by 10.38.14.44 with SMTP id 44mr1282240rnn;
        Wed, 08 Dec 2004 19:13:23 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Wed, 8 Dec 2004 19:13:23 -0800 (PST)
Message-ID: <8837fb77041208191356339b63@mail.gmail.com>
Date: Wed, 8 Dec 2004 19:13:23 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	Nicolas Maisonneuve <n.maisonneuve@gmail.com>
Subject: Re: Lucene Vs Ixiasoft
In-Reply-To: <7b87034104120815197d6b10b@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <180f01c4dd5b$042061d0$aa87a8c0@ppeddi>
	 <7b87034104120815197d6b10b@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I thought Lucene implements the Boolean model.

-John


On Thu, 9 Dec 2004 00:19:21 +0100, Nicolas Maisonneuve
<n.maisonneuve@gmail.com> wrote:
> hi,
> think first of the relevance of the model in this 2 search engine  for
> XML document retrieval.
> 
> Lucene is classic fulltext search engine  using the vector space
> model. this model is efficient for indexing  no structred document
> (like plain text file ) and not made for structured document like XML.
> there is a XML demo of lucene sandbox but it's not really very
> efficient because it doesn't take advantage of  the document strucutre
> in the indexing and the ranking model, so it lose semantic information
> and relevance.
> 
> i don't know Ixiasoft, check the information to see how it index and
> rank XML document.
> 
> nicolas
> 
> On Wed, 8 Dec 2004 14:20:45 -0500, Praveen Peddi
> 
> 
> <ppeddi@contextmedia.com> wrote:
> > Does anyone know about Ixiasoft server. Its a xml repository/search engine. If anyone knows about it, does he/she also know how it is compared to Lucene? Which is fast?
> >
> > Praveen
> > **************************************************************
> > Praveen Peddi
> > Sr Software Engg, Context Media, Inc.
> > email:ppeddi@contextmedia.com
> > Tel:  401.854.3475
> > Fax:  401.861.3596
> > web: http://www.contextmedia.com
> > **************************************************************
> > Context Media- "The Leader in Enterprise Content Integration"
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 03:17:18 2004
Return-Path: 
 <lucene-user-return-11768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89123 invoked from network); 9 Dec 2004 03:17:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 03:17:18 -0000
Received: (qmail 5153 invoked by uid 500); 9 Dec 2004 03:17:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5123 invoked by uid 500); 9 Dec 2004 03:17:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5103 invoked by uid 99); 9 Dec 2004 03:17:07 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 19:17:06 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Vs Ixiasoft
Date: Wed, 8 Dec 2004 19:17:03 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02BF0F06@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Vs Ixiasoft
Thread-Index: AcTdnRHSa/WE10GTRualU9b2UGpnSQAACmnw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"John Wang" <john.wang@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene contains a complete set of Boolean query operators, and it uses
the vector space model to determine scores for relevance ranking.  It's
fast.  It works.

Chuck

  > -----Original Message-----
  > From: John Wang [mailto:john.wang@gmail.com]
  > Sent: Wednesday, December 08, 2004 7:13 PM
  > To: Lucene Users List; Nicolas Maisonneuve
  > Subject: Re: Lucene Vs Ixiasoft
  >=20
  > I thought Lucene implements the Boolean model.
  >=20
  > -John
  >=20
  >=20
  > On Thu, 9 Dec 2004 00:19:21 +0100, Nicolas Maisonneuve
  > <n.maisonneuve@gmail.com> wrote:
  > > hi,
  > > think first of the relevance of the model in this 2 search engine
for
  > > XML document retrieval.
  > >
  > > Lucene is classic fulltext search engine  using the vector space
  > > model. this model is efficient for indexing  no structred document
  > > (like plain text file ) and not made for structured document like
XML.
  > > there is a XML demo of lucene sandbox but it's not really very
  > > efficient because it doesn't take advantage of  the document
strucutre
  > > in the indexing and the ranking model, so it lose semantic
information
  > > and relevance.
  > >
  > > i don't know Ixiasoft, check the information to see how it index
and
  > > rank XML document.
  > >
  > > nicolas
  > >
  > > On Wed, 8 Dec 2004 14:20:45 -0500, Praveen Peddi
  > >
  > >
  > > <ppeddi@contextmedia.com> wrote:
  > > > Does anyone know about Ixiasoft server. Its a xml
repository/search
  > engine. If anyone knows about it, does he/she also know how it is
  > compared to Lucene? Which is fast?
  > > >
  > > > Praveen
  > > > **************************************************************
  > > > Praveen Peddi
  > > > Sr Software Engg, Context Media, Inc.
  > > > email:ppeddi@contextmedia.com
  > > > Tel:  401.854.3475
  > > > Fax:  401.861.3596
  > > > web: http://www.contextmedia.com
  > > > **************************************************************
  > > > Context Media- "The Leader in Enterprise Content Integration"
  > > >
  > > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 04:14:32 2004
Return-Path: 
 <lucene-user-return-11769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33027 invoked from network); 9 Dec 2004 04:14:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 04:14:32 -0000
Received: (qmail 72891 invoked by uid 500); 9 Dec 2004 04:14:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72835 invoked by uid 500); 9 Dec 2004 04:14:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72782 invoked by uid 99); 9 Dec 2004 04:14:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com)
 (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 20:14:08 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153]
 helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CcFgs-00071d-8i
	for lucene-user@jakarta.apache.org; Wed, 08 Dec 2004 20:14:06 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: <lucene-user@jakarta.apache.org>
Subject: Conditional Operator in Lucene
Date: Wed, 8 Dec 2004 20:13:29 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0105_01C4DD62.63B471C0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTdpW5teScR/1CISl+73+EE80cjdg==
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0105_01C4DD62.63B471C0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit

Hi All,

 

Does Lucene support conditional operator? Like retrieve all documents where
age is greater than 21, how do I compose a query like this in Lucene is
there a different Query object to use?

 

Thanks,

Ramon


-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.289 / Virus Database: 265.4.7 - Release Date: 12/7/2004
 

------=_NextPart_000_0105_01C4DD62.63B471C0--


From MAILER-DAEMON Thu Dec  9 04:58:08 2004
Return-Path: 
 <lucene-user-return-11770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59957 invoked from network); 9 Dec 2004 04:58:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 04:58:08 -0000
Received: (qmail 26269 invoked by uid 500); 9 Dec 2004 04:58:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26110 invoked by uid 500); 9 Dec 2004 04:58:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26096 invoked by uid 99); 9 Dec 2004 04:58:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 20:58:00 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 0350E82509
	for <lucene-user@jakarta.apache.org>; Wed,  8 Dec 2004 23:15:45 -0500 (EST)
Message-ID: <41B7DAEC.1060508@max3d.com>
Date: Wed, 08 Dec 2004 23:56:12 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Conditional Operator in Lucene
References: <20041209033219.687B281D4D@ns.uscybersites.net>
In-Reply-To: <20041209033219.687B281D4D@ns.uscybersites.net>
Content-Type: text/plain; charset=windows-1250; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ramon

If your age field has an integer, you could probably do something like 
"age:[21 to null]" to find anything greater than 21
or perhaps look into the RangeFilter (search this list)?

regards

-pedja


Ramon Aseniero said the following on 12/8/2004 11:13 PM:

>Hi All,
>
> 
>
>Does Lucene support conditional operator? Like retrieve all documents where
>age is greater than 21, how do I compose a query like this in Lucene is
>there a different Query object to use?
>
> 
>
>Thanks,
>
>Ramon
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 07:31:45 2004
Return-Path: 
 <lucene-user-return-11771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12945 invoked from network); 9 Dec 2004 07:31:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 07:31:45 -0000
Received: (qmail 26405 invoked by uid 500); 9 Dec 2004 07:30:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26301 invoked by uid 500); 9 Dec 2004 07:30:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26170 invoked by uid 99); 9 Dec 2004 07:30:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 08 Dec 2004 23:30:44 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id B9E9823BE3
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 08:31:12 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 08313-01 for <lucene-user@jakarta.apache.org>;
 Thu,  9 Dec 2004 08:31:12 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 88C5723BCB
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 08:31:12 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iB97UcmA032735
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 08:30:38 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iB97UcFL032731;
	Thu, 9 Dec 2004 08:30:38 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16823.65310.817803.445521@tanto-xipolis.de>
Date: Thu, 9 Dec 2004 08:30:38 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Unexpected TermEnum behavior
In-Reply-To: <Pine.LNX.4.58.0412081605320.13342@hal.rescomp.berkeley.edu>
References: <8F091C3698D5D3119040009027E30B2A0DE21D08@mercury.sciquest.com>
	<Pine.LNX.4.58.0412081605320.13342@hal.rescomp.berkeley.edu>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Hostetter writes:
> 
> I thought it was documented in the TermEnum interface, but looking at it
> now I realize that not only does the TermEnum javadoc not explain it
> very well, but the class FilteredTermEnum (which implements TermEnum)
> acctually documents the oposite behavior...
> 
>   public Term term()
> 
>       Returns the current Term in the enumeration. Initially
>       invalid, valid  after next() called for the first time.
> 
That's a documentation bug. Fixed in CVS.

http://issues.apache.org/bugzilla/show_bug.cgi?id=32353

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 07:56:36 2004
Return-Path: 
 <lucene-user-return-11772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40062 invoked from network); 9 Dec 2004 07:56:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 07:56:36 -0000
Received: (qmail 59343 invoked by uid 500); 9 Dec 2004 07:56:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59227 invoked by uid 500); 9 Dec 2004 07:56:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59212 invoked by uid 99); 9 Dec 2004 07:56:25 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 08 Dec 2004 23:56:24 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8G43P00.NR3 for <lucene-user@jakarta.apache.org>; Thu,
          9 Dec 2004 13:41:49 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: SEARCH +HITS+LIMIT
Date: Thu, 9 Dec 2004 13:29:32 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guy's

Apologies...............



One question for the form [ Especially Erik]


1) I have a MERGED Index with  100,000  File Indexed into it  ( Content  is
one of the Fields of Type 'Text' )

2) On search for a simple words  "Camera"  returns me  6000 hits.

3) Since the Search process is  via  WebApps , a simple JSP is used to
display the Content.


Question

How to Display the Contents for the Hits in  Incremental order ?

[ Each Time a re hit to the Mergerindex with Incremental X value ].
This would solve the problem of Out of Memory by prefetching all the hit in
one strait go process.

Ex:

Total hits 6000

1st page  -  hit's returned (1   to   25)
2nd page -  hit's returned (26  to  50)
.
.
.
.

    N th page  hit's returned ( 5975 - 6000 )

Hint : - This is similar to a SQL query   SELECT * FROM LUCENE  LIMIT 10, 5



      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 10:04:36 2004
Return-Path: 
 <lucene-user-return-11773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48021 invoked from network); 9 Dec 2004 10:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 10:04:36 -0000
Received: (qmail 699 invoked by uid 500); 9 Dec 2004 10:04:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 594 invoked by uid 500); 9 Dec 2004 10:04:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 542 invoked by uid 99); 9 Dec 2004 10:04:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 02:04:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6F22813E200B; Thu,  9 Dec 2004 05:04:06 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id A6BB013E2009
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 05:03:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A039E2FC-49C9-11D9-BF1C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SEARCH +HITS+LIMIT
Date: Thu, 9 Dec 2004 05:03:50 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 9, 2004, at 2:59 AM, Karthik N S wrote:
> Apologies...............

Again, no need to apologize for asking questions.  Just ask :)

> One question for the form [ Especially Erik]

And no need to address anyone specifically here, though I'm happy to 
help and am always here listening.

> Question
>
> How to Display the Contents for the Hits in  Incremental order ?
>
> [ Each Time a re hit to the Mergerindex with Incremental X value ].
> This would solve the problem of Out of Memory by prefetching all the 
> hit in
> one strait go process.

It is unwise, as you've seen, to prefetch the documents from Hits.  
Hits is designed for exactly what you're after.  You can get the number 
of hits using hits.size().

My recommendation for paging through search results (and I'm using this 
extensively myself) in a web application is to simply display 25 
results on one page - iterating *only* through those 25 desired.  The 
link (or button) the user presses to go to the next or previous page 
passes the page number and query (search.jsp?query=some+query&page=2).  
Your server-side logic will search again, and start the hits iteration 
for 25 entries at 25 * the value of the page attribute.

Lucene is plenty fast enough to allow this to work without much 
concern.  Since your index is getting somewhat large, though, you 
probably do want to keep a persistent instance of IndexSearcher 
available on the server (perhaps in application scope).  But a first 
pass implementation don't concern yourself with even that - just 
re-instantiate IndexSearcher for every search and see how fast things 
are.  If its fast enough, leave well enough alone.

Does this all make sense?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 10:36:17 2004
Return-Path: 
 <lucene-user-return-11774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66041 invoked from network); 9 Dec 2004 10:36:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 10:36:17 -0000
Received: (qmail 65899 invoked by uid 500); 9 Dec 2004 10:36:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65879 invoked by uid 500); 9 Dec 2004 10:36:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65864 invoked by uid 99); 9 Dec 2004 10:36:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cp.jenerate.com (HELO mail.jenerate.com) (82.195.132.208)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 09 Dec 2004 02:36:02 -0800
Received: (qmail 6984 invoked by uid 399); 9 Dec 2004 10:38:44 -0000
Received: from unknown (HELO webmail.jenerate.com) (127.0.0.1)
  by localhost with SMTP; 9 Dec 2004 10:38:44 -0000
Received: from 212.17.56.2 (proxying for 127.0.0.1)
        (SquirrelMail authenticated user alan.hicks@omega.ie);
        by webmail.jenerate.com with HTTP;
        Thu, 9 Dec 2004 10:38:44 -0000 (GMT)
Message-ID: <47339.212.17.56.2.1102588724.squirrel@212.17.56.2>
Date: Thu, 9 Dec 2004 10:38:44 -0000 (GMT)
Subject: lucene in action ebook
From: alan.hicks@omega.ie
To: lucene-user@jakarta.apache.org
User-Agent: SquirrelMail/1.4.3a
X-Mailer: SquirrelMail/1.4.3a
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone have a definite date for the ebook release? I have been
checking the manning website since the other day when this was mentioned?

Thanks,
Alan.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 10:55:33 2004
Return-Path: 
 <lucene-user-return-11775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79921 invoked from network); 9 Dec 2004 10:55:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 10:55:33 -0000
Received: (qmail 16399 invoked by uid 500); 9 Dec 2004 10:55:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16357 invoked by uid 500); 9 Dec 2004 10:55:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16315 invoked by uid 99); 9 Dec 2004 10:55:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 02:55:00 -0800
Received: from [81.25.33.103] (helo=[81.25.33.103])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CcLwl-0003SC-T2
	for lucene-user@jakarta.apache.org; Thu, 09 Dec 2004 04:54:58 -0600
Date: Thu, 9 Dec 2004 12:54:41 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1277645075.20041209125441@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: InderWriter.optimize()
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, lucene-user.

I used FSDirectory as storage for index. And I have used optimize()
method of IndexWriter to optimize index for faster access.

Now I use DbDirectory (Berkley DB) as storage. Does it make sense to
use optimize method on index stored in this storage?..

What does optimize do actually?

Yura Smolsky




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 12:06:23 2004
Return-Path: 
 <lucene-user-return-11776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27913 invoked from network); 9 Dec 2004 12:06:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 12:06:23 -0000
Received: (qmail 75190 invoked by uid 500); 9 Dec 2004 12:05:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75135 invoked by uid 500); 9 Dec 2004 12:05:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75100 invoked by uid 99); 9 Dec 2004 12:05:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 04:05:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AF22A13E200B; Thu,  9 Dec 2004 07:05:15 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 6347313E2009
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 07:05:08 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <47339.212.17.56.2.1102588724.squirrel@212.17.56.2>
References: <47339.212.17.56.2.1102588724.squirrel@212.17.56.2>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <90D16CAE-49DA-11D9-AF36-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene in action ebook
Date: Thu, 9 Dec 2004 07:05:06 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have the e-book PDF in my possession.  I have been prodding Manning 
on a daily basis to update the LIA website and get the e-book 
available.  It is ready, and I'm sure that its just a matter of them 
pushing it out.  There may be some administrative loose ends they are 
tying up before releasing it to the world.  It should be available any 
minute now, really.  :)

	Erik

On Dec 9, 2004, at 5:38 AM, alan.hicks@omega.ie wrote:

> Does anyone have a definite date for the ebook release? I have been
> checking the manning website since the other day when this was 
> mentioned?
>
> Thanks,
> Alan.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 13:33:27 2004
Return-Path: 
 <lucene-user-return-11777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84653 invoked from network); 9 Dec 2004 13:33:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 13:33:27 -0000
Received: (qmail 55533 invoked by uid 500); 9 Dec 2004 13:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55510 invoked by uid 500); 9 Dec 2004 13:32:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55481 invoked by uid 99); 9 Dec 2004 13:32:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 05:32:40 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id DE7A9C9A7E
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 14:32:25 +0100 (CET)
Message-ID: <41B853E8.2090503@fib.upc.edu>
Date: Thu, 09 Dec 2004 14:32:24 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: LIMO problems
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, I'm tying Limo (Index Monitor of Lucene) and I have a problem, 
obviously it will be a silly problem but now I don't
have solution.
Someone can tell me how structure it have limo.properties file?
because I have any example thanks.
If you know another web-aplication for administration Lucenes Index say me.
Thanks for all, and excuse me for my silly questions.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 13:35:40 2004
Return-Path: 
 <lucene-user-return-11778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85989 invoked from network); 9 Dec 2004 13:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 13:35:40 -0000
Received: (qmail 62923 invoked by uid 500); 9 Dec 2004 13:35:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62888 invoked by uid 500); 9 Dec 2004 13:35:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62837 invoked by uid 99); 9 Dec 2004 13:35:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.infosciences.com (HELO mail.infosciences.com)
 (141.156.69.115)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 05:35:07 -0800
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id EF8FA5C39;
	Thu,  9 Dec 2004 08:35:03 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'John Wang'" <john.wang@gmail.com>
Subject: RE: finalize delete without optimize
Date: Thu, 9 Dec 2004 08:33:00 -0500
Message-ID: <000f01c4ddf3$9a5d8c70$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <8837fb77041208143159908d0d@mail.gmail.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene standard API does not support this kind of operation.

Aviran
http://www.aviransplace.com


-----Original Message-----
From: John Wang [mailto:john.wang@gmail.com] 
Sent: Wednesday, December 08, 2004 17:32 PM
To: lucene-user@jakarta.apache.org
Subject: Re: finalize delete without optimize


Hi folks:

    I sent this out a few days ago without a response. 

    Please help.

Thanks in advance

-John


On Mon, 6 Dec 2004 21:15:00 -0800, John Wang <john.wang@gmail.com> wrote:
> Hi:
> 
>   Is there a way to finalize delete, e.g. actually remove them from 
> the segments and make sure the docIDs are contiguous again.
> 
>   The only explicit way to do this is by calling 
> IndexWriter.optmize(). But this call does a lot more (also merges all 
> the segments), hence is very expensive. Is there a way to simply just 
> finalize the deletes without having to merge all the segments?
> 
>    If not, I'd be glad to submit an implementation of this feature if 
> the Lucene devs agree this is useful.
> 
> Thanks
> 
> -John
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 13:49:09 2004
Return-Path: 
 <lucene-user-return-11779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93894 invoked from network); 9 Dec 2004 13:49:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 13:49:09 -0000
Received: (qmail 16754 invoked by uid 500); 9 Dec 2004 13:48:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16461 invoked by uid 500); 9 Dec 2004 13:48:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16325 invoked by uid 99); 9 Dec 2004 13:48:24 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.infosciences.com (HELO mail.infosciences.com)
 (141.156.69.115)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 05:48:19 -0800
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 687C45C27;
	Thu,  9 Dec 2004 08:47:55 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'Yura Smolsky'" <info@altervision.biz>
Subject: RE: InderWriter.optimize()
Date: Thu, 9 Dec 2004 08:45:53 -0500
Message-ID: <001001c4ddf5$66d92790$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <1277645075.20041209125441@altervision.biz>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Beside merging the segments, optimize also physically deletes all the
deleted documents from the index (When you call delete, lucene only marks
the documents as deleted, they physically deleted when you call optimize).

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Yura Smolsky [mailto:info@altervision.biz] 
Sent: Thursday, December 09, 2004 5:55 AM
To: lucene-user@jakarta.apache.org
Subject: InderWriter.optimize()


Hello, lucene-user.

I used FSDirectory as storage for index. And I have used optimize() method
of IndexWriter to optimize index for faster access.

Now I use DbDirectory (Berkley DB) as storage. Does it make sense to use
optimize method on index stored in this storage?..

What does optimize do actually?

Yura Smolsky




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 14:26:44 2004
Return-Path: 
 <lucene-user-return-11780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37021 invoked from network); 9 Dec 2004 14:26:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 14:26:44 -0000
Received: (qmail 11262 invoked by uid 500); 9 Dec 2004 14:24:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11217 invoked by uid 500); 9 Dec 2004 14:24:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11137 invoked by uid 99); 9 Dec 2004 14:24:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 06:23:58 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Thu, 9 Dec 2004 09:26:11 -0500
Message-ID: <001801c4ddfb$07e84990$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41B853E8.2090503@fib.upc.edu>
Subject: Re: LIMO problems
Date: Thu, 9 Dec 2004 09:26:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 09 Dec 2004 14:26:11.0492 (UTC)
 FILETIME=[080E9640:01C4DDFB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use "Luke". It is pretty good.

http://www.getopt.org/luke/

Luke
----- Original Message ----- 
From: "Daniel Cortes" <dcortes@fib.upc.edu>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, December 09, 2004 8:32 AM
Subject: LIMO problems


> Hi, I'm tying Limo (Index Monitor of Lucene) and I have a problem,
> obviously it will be a silly problem but now I don't
> have solution.
> Someone can tell me how structure it have limo.properties file?
> because I have any example thanks.
> If you know another web-aplication for administration Lucenes Index say
me.
> Thanks for all, and excuse me for my silly questions.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 14:42:38 2004
Return-Path: 
 <lucene-user-return-11781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53318 invoked from network); 9 Dec 2004 14:42:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 14:42:38 -0000
Received: (qmail 65438 invoked by uid 500); 9 Dec 2004 14:41:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65386 invoked by uid 500); 9 Dec 2004 14:41:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65312 invoked by uid 99); 9 Dec 2004 14:41:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 09 Dec 2004 06:41:54 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 9 Dec 2004 14:44:39 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: <lucene-user@jakarta.apache.org>
Subject: maxDoc()
Date: Thu, 9 Dec 2004 14:31:51 -0000
Message-ID: <011001c4ddfb$d73c7590$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0111_01C4DDFB.D73C7590"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 09 Dec 2004 14:44:39.0953 (UTC)
 FILETIME=[9CC05010:01C4DDFD]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0111_01C4DDFB.D73C7590
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Can anyone please explain to my why maxDoc returns 0 when Luke shows 239,473
documents?

 

maxDoc returns the correct number until I delete a document. And I have
called optimize after the delete but still the problem remains

 

Strange.

 

Any ideas greatly appreciated

Garrett


------=_NextPart_000_0111_01C4DDFB.D73C7590--


From MAILER-DAEMON Thu Dec  9 14:51:20 2004
Return-Path: 
 <lucene-user-return-11782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58857 invoked from network); 9 Dec 2004 14:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 14:51:20 -0000
Received: (qmail 85035 invoked by uid 500); 9 Dec 2004 14:51:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85014 invoked by uid 500); 9 Dec 2004 14:51:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84999 invoked by uid 99); 9 Dec 2004 14:51:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 06:51:08 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Thu, 09 Dec 2004 09:48:30 -0500
Message-ID: <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
 <dd2db8d0041208145926990af1@mail.gmail.com>
Subject: Re: partial updating of lucene
Date: Thu, 9 Dec 2004 09:48:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

But when I am searching, it only searches in the index. Stored fields are 
only used to display the results, not to search. Why would it lose the terms 
in the index when I retrieve the document?

First solution is not possible (I can't create a new document) since I only 
have modified fields.

When I get a document, doesn't the fields have indexed terms along with it? 
Is there no way to get a full document (along with indexed terms) and clone 
it and add it to the index?

Well is there anyway I ca update a document with just one field (because I 
only have data for that one field)?

Praveen

----- Original Message ----- 
From: "Justin Swanhart" <greenlion@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 08, 2004 5:59 PM
Subject: Re: partial updating of lucene


> You unstored fields were not stored in the index, only their terms
> were stored.  When you get the document from the index and modify it,
> those terms are lost when you add the document again.
>
> You can either simply create a new document and populate all the
> fields and add that document to the index, or you can add the unstored
> fields to the document retrieved in step 1.
>
>
> On Wed, 8 Dec 2004 17:53:26 -0500, Praveen Peddi
> <ppeddi@contextmedia.com> wrote:
>> Hi all,
>> I have a question about updating the lucene document. I know that there 
>> is no API to do that now. So this is what I am doing in order to update 
>> the document with the field "title".
>>
>> 1) Get the document from lucene index
>> 2) Remove a field called "title" and add the same field with a modified 
>> value
>> 3) Remove the docment (based on one of our field) using Reader and then 
>> close the Reader.
>> 4) Add the document that is obtained in 1 and modified in 2.
>>
>> I am not sure if this is the right way of doing it but I am having 
>> problems searching for that document after updating it. The problem is 
>> only with the un stored fields.
>>
>> For example, I search as "description:boy" where description is a 
>> unstored, indexed, tokenized field in the document. I find 1 document. 
>> Now I update the document the document's title as descripbed above and 
>> repeat the same search "description:boy" and now I don't find any 
>> results. I have not touched the field "description" at all. I just 
>> updated the field title.
>>
>> Is this an expected behaviour? If not, is it a bug.
>>
>> If I change the field description as stored, indexed and tokenized, the 
>> search works fine before and after updating.
>>
>> Praveen
>> **************************************************************
>> Praveen Peddi
>> Sr Software Engg, Context Media, Inc.
>> email:ppeddi@contextmedia.com
>> Tel:  401.854.3475
>> Fax:  401.861.3596
>> web: http://www.contextmedia.com
>> **************************************************************
>> Context Media- "The Leader in Enterprise Content Integration"
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 15:01:17 2004
Return-Path: 
 <lucene-user-return-11783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67074 invoked from network); 9 Dec 2004 15:01:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 15:01:17 -0000
Received: (qmail 9520 invoked by uid 500); 9 Dec 2004 15:01:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9488 invoked by uid 500); 9 Dec 2004 15:01:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9457 invoked by uid 99); 9 Dec 2004 15:00:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 07:00:58 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 2B8D21C1F1
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 10:00:53 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30126-06 for <lucene-user@jakarta.apache.org>;
 Thu,  9 Dec 2004 10:00:52 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id CA6781C1BB
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 10:00:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
 <dd2db8d0041208145926990af1@mail.gmail.com>
 <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1276F451-49F3-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: partial updating of lucene
Date: Thu, 9 Dec 2004 10:00:31 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 9, 2004, at 9:48 AM, Praveen Peddi wrote:
> But when I am searching, it only searches in the index. Stored fields 
> are only used to display the results, not to search. Why would it lose 
> the terms in the index when I retrieve the document?

> First solution is not possible (I can't create a new document) since I 
> only have modified fields.
>
> When I get a document, doesn't the fields have indexed terms along 
> with it? Is there no way to get a full document (along with indexed 
> terms) and clone it and add it to the index?
>
> Well is there anyway I ca update a document with just one field 
> (because I only have data for that one field)?

A Document only carries along its *stored* fields.  Fields that are 
indexed, but not stored, are not retrievable from Document.

Have a look at the tool Luke (Google for "luke lucene" :) and see how 
it does its "Reconstruct and Edit" facility.  It is possible, though 
potentially lossy, to reconstruct a document and add it again.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 15:48:55 2004
Return-Path: 
 <lucene-user-return-11784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 849 invoked from network); 9 Dec 2004 15:48:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 15:48:55 -0000
Received: (qmail 55612 invoked by uid 500); 9 Dec 2004 15:48:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55572 invoked by uid 500); 9 Dec 2004 15:48:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55482 invoked by uid 99); 9 Dec 2004 15:48:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 07:48:32 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB9FmT109269
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 09:48:29 -0600 (CST)
Subject: Re: LIMO problems
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B853E8.2090503@fib.upc.edu>
References: <41B853E8.2090503@fib.upc.edu>
Content-Type: text/plain
Message-Id: <1102607299.20111.15.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 09 Dec 2004 09:48:19 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2004-12-09 at 07:32, Daniel Cortes wrote:
> Hi, I'm tying Limo (Index Monitor of Lucene) and I have a problem, 
> obviously it will be a silly problem but now I don't
> have solution.
> Someone can tell me how structure it have limo.properties file?
> because I have any example thanks.
> If you know another web-aplication for administration Lucenes Index say me.
> Thanks for all, and excuse me for my silly questions.

Daniel,

Julien or I will be happy to help you, but I need more information. What
version of LIMO are you using?

In LIMO 0.5.2, Julien added a new feature which allows you to configure
the LIMO web application while it is running through the limo.properties
file.

This file is in the standard Java properties file format:

<index name>=<filesystem location>

However, you shouldn't need to care about this detail, as there is a
method to add indexes from the web application.

If you have any other questions, please don't hesitate to ask.

Regards,
Luke Francl
LIMO developer

P.S.: LIMO 0.5.2 adds a new index file browser that shows you some
interesting details about your index files. Check it out!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 16:01:14 2004
Return-Path: 
 <lucene-user-return-11785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10154 invoked from network); 9 Dec 2004 16:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 16:01:14 -0000
Received: (qmail 88424 invoked by uid 500); 9 Dec 2004 16:00:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88347 invoked by uid 500); 9 Dec 2004 16:00:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88297 invoked by uid 99); 9 Dec 2004 16:00:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 08:00:37 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Thu, 09 Dec 2004 10:59:30 -0500
Message-ID: <18a601c4de08$10b5efc0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
 <dd2db8d0041208145926990af1@mail.gmail.com>
 <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
 <1276F451-49F3-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
Subject: Re: partial updating of lucene
Date: Thu, 9 Dec 2004 10:59:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I store all the fields I am indexing, is it safe to get the document, 
update a fields and add it again to the search index? I do not want to lose 
anything and I want to make sure that document is same before and after 
updating (execpt for the updated fields).

Praveen
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 09, 2004 10:00 AM
Subject: Re: partial updating of lucene


> On Dec 9, 2004, at 9:48 AM, Praveen Peddi wrote:
>> But when I am searching, it only searches in the index. Stored fields are 
>> only used to display the results, not to search. Why would it lose the 
>> terms in the index when I retrieve the document?
>
>> First solution is not possible (I can't create a new document) since I 
>> only have modified fields.
>>
>> When I get a document, doesn't the fields have indexed terms along with 
>> it? Is there no way to get a full document (along with indexed terms) and 
>> clone it and add it to the index?
>>
>> Well is there anyway I ca update a document with just one field (because 
>> I only have data for that one field)?
>
> A Document only carries along its *stored* fields.  Fields that are 
> indexed, but not stored, are not retrievable from Document.
>
> Have a look at the tool Luke (Google for "luke lucene" :) and see how it 
> does its "Reconstruct and Edit" facility.  It is possible, though 
> potentially lossy, to reconstruct a document and add it again.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 16:08:21 2004
Return-Path: 
 <lucene-user-return-11786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14704 invoked from network); 9 Dec 2004 16:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 16:08:21 -0000
Received: (qmail 11852 invoked by uid 500); 9 Dec 2004 16:07:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11695 invoked by uid 500); 9 Dec 2004 16:07:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11417 invoked by uid 99); 9 Dec 2004 16:07:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 08:07:36 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id F0F53C9EBA
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 17:07:24 +0100 (CET)
Message-ID: <41B8783C.5070502@fib.upc.edu>
Date: Thu, 09 Dec 2004 17:07:24 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LIMO problems
References: <41B853E8.2090503@fib.upc.edu>
 <1102607299.20111.15.camel@localhost>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've the last version of LIMO.
It is running in a Tomcat and I can't add any Index and don't load the 
index that I create the index before from console (java 
org.apache.lucene.demo.IndexFiles ...)
This is the reasson that I demand the structure of limo.properties 
because this file don't exist and this maner I can force to load the 
localitation of de Index File.
Thanks for your time.

Another question:
I think to do a multi search web of my personal site.
what do you think about I use PDFLibrary and textmining for search in 
files not plain text.

PD: true  true, my english it's so bad


Luke Francl wrote:

>On Thu, 2004-12-09 at 07:32, Daniel Cortes wrote:
>  
>
>>Hi, I'm tying Limo (Index Monitor of Lucene) and I have a problem, 
>>obviously it will be a silly problem but now I don't
>>have solution.
>>Someone can tell me how structure it have limo.properties file?
>>because I have any example thanks.
>>If you know another web-aplication for administration Lucenes Index say me.
>>Thanks for all, and excuse me for my silly questions.
>>    
>>
>
>Daniel,
>
>Julien or I will be happy to help you, but I need more information. What
>version of LIMO are you using?
>
>In LIMO 0.5.2, Julien added a new feature which allows you to configure
>the LIMO web application while it is running through the limo.properties
>file.
>
>This file is in the standard Java properties file format:
>
><index name>=<filesystem location>
>
>However, you shouldn't need to care about this detail, as there is a
>method to add indexes from the web application.
>
>If you have any other questions, please don't hesitate to ask.
>
>Regards,
>Luke Francl
>LIMO developer
>
>P.S.: LIMO 0.5.2 adds a new index file browser that shows you some
>interesting details about your index files. Check it out!
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 16:28:46 2004
Return-Path: 
 <lucene-user-return-11787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28936 invoked from network); 9 Dec 2004 16:28:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 16:28:46 -0000
Received: (qmail 77351 invoked by uid 500); 9 Dec 2004 16:27:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77308 invoked by uid 500); 9 Dec 2004 16:27:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77232 invoked by uid 99); 9 Dec 2004 16:27:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 08:27:45 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB9GRh110408
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 10:27:43 -0600 (CST)
Subject: Re: LIMO problems
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41B8783C.5070502@fib.upc.edu>
References: <41B853E8.2090503@fib.upc.edu>
	 <1102607299.20111.15.camel@localhost>  <41B8783C.5070502@fib.upc.edu>
Content-Type: text/plain
Message-Id: <1102609626.20111.52.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 09 Dec 2004 10:27:06 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2004-12-09 at 10:07, Daniel Cortes wrote:
> I've the last version of LIMO.
> It is running in a Tomcat and I can't add any Index and don't load the 
> index that I create the index before from console (java 
> org.apache.lucene.demo.IndexFiles ...)
> This is the reasson that I demand the structure of limo.properties 
> because this file don't exist and this maner I can force to load the 
> localitation of de Index File.
> Thanks for your time.

Ah, this probably means that LIMO cannot write to this location. If you
give the user you are running Tomcat as permission to write files to
your webapps/limo.war directory (or whatever it's called, I don't
actually use Tomcat), it should work.

If you don't want to do that for security reasons, simply create the
file and put it there yourself. It should be at the same level as the
index.jsp file.

Regards,
Luke Francl
LIMO developer


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 16:33:30 2004
Return-Path: 
 <lucene-user-return-11788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32433 invoked from network); 9 Dec 2004 16:33:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 16:33:30 -0000
Received: (qmail 91833 invoked by uid 500); 9 Dec 2004 16:30:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91651 invoked by uid 500); 9 Dec 2004 16:30:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91551 invoked by uid 99); 9 Dec 2004 16:30:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com)
 (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 08:30:50 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id iB9GUg110502
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 10:30:42 -0600 (CST)
Subject: Re: partial updating of lucene
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1276F451-49F3-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
	 <dd2db8d0041208145926990af1@mail.gmail.com>
	 <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
	 <1276F451-49F3-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain
Message-Id: <1102609832.20111.58.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 09 Dec 2004 10:30:32 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2004-12-09 at 09:00, Erik Hatcher wrote:

> Have a look at the tool Luke (Google for "luke lucene" :) and see how 
> it does its "Reconstruct and Edit" facility.  It is possible, though 
> potentially lossy, to reconstruct a document and add it again.

Or look at LIMO's implementation of that feature, which to my eyes is a
little easier to read (of course that's probably because I wrote it...
;):

http://cvs.sourceforge.net/viewcvs.py/limo/limo/src/net/sourceforge/limo/LimoUtils.java?rev=1.6&view=markup

(check out LimoUtils.reconstructDocument())

However, if you're doing analysis on your text to remove stopwords and
stuff like that, this WILL be lossy. I consider it more of an aid for
debugging than a way to re-index documents, though I suppose it would
work for that as well. However, I believe the process would be highly
resource intensive so I wouldn't recommend it.

The better solution is to add a stored keyword field that stores the
location of your document, and then re-index it from the source.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 16:44:26 2004
Return-Path: 
 <lucene-user-return-11789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40935 invoked from network); 9 Dec 2004 16:44:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 16:44:26 -0000
Received: (qmail 39576 invoked by uid 500); 9 Dec 2004 16:44:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39553 invoked by uid 500); 9 Dec 2004 16:44:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39539 invoked by uid 99); 9 Dec 2004 16:44:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12703.mail.yahoo.com (HELO web12703.mail.yahoo.com)
 (216.136.173.240)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 09 Dec 2004 08:44:16 -0800
Received: (qmail 53614 invoked by uid 60001); 9 Dec 2004 16:44:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=g+efVd2Ru6VsOjCLSsdJX2cp+SVrfXeAhD9q4aIcjeWAOW8/uQ7amtJFUWM1lcB84c1OtO0nqSVpa1uN/H+pjYboLQQ8f8Sy9+Jcm6Ys4Buz/nU9XnZrXcisEB+SBhBP5eivqOHE3NrwSCujhDmu1/tPYORDZqX/zDpj8MNgPrA=
  ;
Message-ID: <20041209164412.53611.qmail@web12703.mail.yahoo.com>
Received: from [216.194.17.194] by web12703.mail.yahoo.com via HTTP;
 Thu, 09 Dec 2004 08:44:12 PST
Date: Thu, 9 Dec 2004 08:44:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: maxDoc()
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <011001c4ddfb$d73c7590$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Garrett,

Share some code, it will be easier for others to help you that way. 
Obviously, this would be a huge bug if the problem were within Lucene.

Otis

--- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:

> Can anyone please explain to my why maxDoc returns 0 when Luke shows
> 239,473
> documents?
> 
>  
> 
> maxDoc returns the correct number until I delete a document. And I
> have
> called optimize after the delete but still the problem remains
> 
>  
> 
> Strange.
> 
>  
> 
> Any ideas greatly appreciated
> 
> Garrett
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 18:35:32 2004
Return-Path: 
 <lucene-user-return-11790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3687 invoked from network); 9 Dec 2004 18:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 18:35:32 -0000
Received: (qmail 26737 invoked by uid 500); 9 Dec 2004 18:35:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26708 invoked by uid 500); 9 Dec 2004 18:35:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26684 invoked by uid 99); 9 Dec 2004 18:35:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 10:35:16 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 13:35:08 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523514@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Retrieving all docs in the index
Thread-Index: AcTeDlhIPEwP3Ma6TbqiVCXFbzTmowADzY3w
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 Is there any other way to extract all documents from an index apart
from adding an additional field with the same value to all documents and
then doing a term query on that field with the common value?

Thanks in advance,
Ravi.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 18:55:26 2004
Return-Path: 
 <lucene-user-return-11791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12916 invoked from network); 9 Dec 2004 18:55:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 18:55:26 -0000
Received: (qmail 61940 invoked by uid 500); 9 Dec 2004 18:55:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61915 invoked by uid 500); 9 Dec 2004 18:55:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61894 invoked by uid 99); 9 Dec 2004 18:55:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 10:55:14 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id CC3791F51AC
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 13:55:10 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 19798-05 for <lucene-user@jakarta.apache.org>;
 Thu,  9 Dec 2004 13:55:10 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 7B94F1F4FDD
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 13:55:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523514@htexc.hq.htinc.com>
References: <4568BE33B520DD43B7B24DE0B609B215523514@htexc.hq.htinc.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D9769C15-4A13-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 13:55:09 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 9, 2004, at 1:35 PM, Ravi wrote:
>  Is there any other way to extract all documents from an index apart
> from adding an additional field with the same value to all documents 
> and
> then doing a term query on that field with the common value?

Of course.  Have a look at the IndexReader API.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 19:04:33 2004
Return-Path: 
 <lucene-user-return-11792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18566 invoked from network); 9 Dec 2004 19:04:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 19:04:33 -0000
Received: (qmail 79272 invoked by uid 500); 9 Dec 2004 19:04:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79008 invoked by uid 500); 9 Dec 2004 19:04:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78995 invoked by uid 99); 9 Dec 2004 19:04:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 11:04:19 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 14:04:11 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B21552351C@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Retrieving all docs in the index
Thread-Index: AcTeIKWJaxARmaOvQBeiJwYxDwNYaQAAMIYA
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm sorry I don't think I articulated my question well. We use a date
filter to sort the search results. This works fine when te user provides
some search criteria. But if he gives an empty search criteria, we need
to return all the documents in the index in the given date range sorted
by date. So I was looking for a query that returns me all documents in
the index and then I want to apply the date filter on it. =20


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, December 09, 2004 1:55 PM
To: Lucene Users List
Subject: Re: Retrieving all docs in the index

On Dec 9, 2004, at 1:35 PM, Ravi wrote:
>  Is there any other way to extract all documents from an index apart=20
> from adding an additional field with the same value to all documents=20
> and then doing a term query on that field with the common value?

Of course.  Have a look at the IndexReader API.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 19:09:52 2004
Return-Path: 
 <lucene-user-return-11793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20825 invoked from network); 9 Dec 2004 19:09:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 19:09:52 -0000
Received: (qmail 87388 invoked by uid 500); 9 Dec 2004 19:09:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87360 invoked by uid 500); 9 Dec 2004 19:09:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87345 invoked by uid 99); 9 Dec 2004 19:09:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.infosciences.com (HELO mail.infosciences.com)
 (141.156.69.115)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 11:09:44 -0800
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 912FF5C25
	for <lucene-user@jakarta.apache.org>; Thu,  9 Dec 2004 14:09:41 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 14:07:33 -0500
Message-ID: <004801c4de22$5a916970$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B21552351C@htexc.hq.htinc.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In this case you'll have to add another field with a fixed value to all =
the
documents and query on that field


Aviran
http://www.aviransplace.com

-----Original Message-----
From: Ravi [mailto:ravi@htinc.com]=20
Sent: Thursday, December 09, 2004 14:04 PM
To: Lucene Users List
Subject: RE: Retrieving all docs in the index


I'm sorry I don't think I articulated my question well. We use a date =
filter
to sort the search results. This works fine when te user provides some
search criteria. But if he gives an empty search criteria, we need to =
return
all the documents in the index in the given date range sorted by date. =
So I
was looking for a query that returns me all documents in the index and =
then
I want to apply the date filter on it. =20


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, December 09, 2004 1:55 PM
To: Lucene Users List
Subject: Re: Retrieving all docs in the index

On Dec 9, 2004, at 1:35 PM, Ravi wrote:
>  Is there any other way to extract all documents from an index apart
> from adding an additional field with the same value to all documents=20
> and then doing a term query on that field with the common value?

Of course.  Have a look at the IndexReader API.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 19:20:13 2004
Return-Path: 
 <lucene-user-return-11794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25577 invoked from network); 9 Dec 2004 19:20:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 19:20:13 -0000
Received: (qmail 15415 invoked by uid 500); 9 Dec 2004 19:20:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15392 invoked by uid 500); 9 Dec 2004 19:20:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15371 invoked by uid 99); 9 Dec 2004 19:20:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 11:20:01 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Thu, 09 Dec 2004 14:19:02 -0500
Message-ID: <18d901c4de23$f1128180$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <185701c4dd78$ba35d280$aa87a8c0@ppeddi>
 <dd2db8d0041208145926990af1@mail.gmail.com>
 <188501c4ddfe$2513e8f0$aa87a8c0@ppeddi>
 <1276F451-49F3-11D9-85DF-000A95BC61B6@ehatchersolutions.com>
 <1102609832.20111.58.camel@localhost>
Subject: Re: partial updating of lucene
Date: Thu, 9 Dec 2004 14:19:02 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

But I don't need anything that Limo or Luke is doing, if all my fields are 
stored in the index (isStored() will be true for all fields). right?

Praveen
----- Original Message ----- 
From: "Luke Francl" <luke.francl@stellent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 09, 2004 11:30 AM
Subject: Re: partial updating of lucene


> On Thu, 2004-12-09 at 09:00, Erik Hatcher wrote:
>
>> Have a look at the tool Luke (Google for "luke lucene" :) and see how
>> it does its "Reconstruct and Edit" facility.  It is possible, though
>> potentially lossy, to reconstruct a document and add it again.
>
> Or look at LIMO's implementation of that feature, which to my eyes is a
> little easier to read (of course that's probably because I wrote it...
> ;):
>
> http://cvs.sourceforge.net/viewcvs.py/limo/limo/src/net/sourceforge/limo/LimoUtils.java?rev=1.6&view=markup
>
> (check out LimoUtils.reconstructDocument())
>
> However, if you're doing analysis on your text to remove stopwords and
> stuff like that, this WILL be lossy. I consider it more of an aid for
> debugging than a way to re-index documents, though I suppose it would
> work for that as well. However, I believe the process would be highly
> resource intensive so I wouldn't recommend it.
>
> The better solution is to add a stored keyword field that stores the
> location of your document, and then re-index it from the source.
>
> Regards,
> Luke Francl
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 20:19:03 2004
Return-Path: 
 <lucene-user-return-11795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67770 invoked from network); 9 Dec 2004 20:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 20:19:03 -0000
Received: (qmail 63600 invoked by uid 500); 9 Dec 2004 20:18:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63571 invoked by uid 500); 9 Dec 2004 20:18:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63554 invoked by uid 99); 9 Dec 2004 20:18:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 12:18:53 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 15:18:45 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523525@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Retrieving all docs in the index
Thread-Index: AcTeIqo9w/nvpuvwRfW5aYKiOwD+wgACYZCQ
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That was exactly my original question. I was wondering if there are
alternatives to this approach. =20

-----Original Message-----
From: Aviran [mailto:amordo@infosciences.com]=20
Sent: Thursday, December 09, 2004 2:08 PM
To: 'Lucene Users List'
Subject: RE: Retrieving all docs in the index

In this case you'll have to add another field with a fixed value to all
the documents and query on that field


Aviran
http://www.aviransplace.com

-----Original Message-----
From: Ravi [mailto:ravi@htinc.com]
Sent: Thursday, December 09, 2004 14:04 PM
To: Lucene Users List
Subject: RE: Retrieving all docs in the index


I'm sorry I don't think I articulated my question well. We use a date
filter
to sort the search results. This works fine when te user provides some
search criteria. But if he gives an empty search criteria, we need to
return
all the documents in the index in the given date range sorted by date.
So I
was looking for a query that returns me all documents in the index and
then
I want to apply the date filter on it. =20


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, December 09, 2004 1:55 PM
To: Lucene Users List
Subject: Re: Retrieving all docs in the index

On Dec 9, 2004, at 1:35 PM, Ravi wrote:
>  Is there any other way to extract all documents from an index apart
> from adding an additional field with the same value to all documents=20
> and then doing a term query on that field with the common value?

Of course.  Have a look at the IndexReader API.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 20:48:57 2004
Return-Path: 
 <lucene-user-return-11796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90097 invoked from network); 9 Dec 2004 20:48:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 20:48:57 -0000
Received: (qmail 56872 invoked by uid 500); 9 Dec 2004 20:48:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56822 invoked by uid 500); 9 Dec 2004 20:48:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56794 invoked by uid 99); 9 Dec 2004 20:48:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr3.xs4all.nl (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 12:48:40 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.12.11/8.12.11) with ESMTP id iB9Kman3014758
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 21:48:36 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 21:48:36 +0100
User-Agent: KMail/1.5.4
References: <4568BE33B520DD43B7B24DE0B609B215523525@htexc.hq.htinc.com>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523525@htexc.hq.htinc.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412092148.36355.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 09 December 2004 21:18, Ravi wrote:
> That was exactly my original question. I was wondering if there are
> alternatives to this approach.  

In case you need only a few of the top ranking documents,
and the documents are to be sorted by date anyway,
you might consider to search each of the dates in sorted
order separately until you have enough results.

In that way there is no need to use a field with some constant
value. Nonetheless, I can recommend to have a special field
containing all the field names for a document. As all
docs normally contain a primary key, the name of the primary
key field can serve as the constant value.

Regards,
Paul Elschot

 
> -----Original Message-----
> From: Aviran [mailto:amordo@infosciences.com] 
> Sent: Thursday, December 09, 2004 2:08 PM
> To: 'Lucene Users List'
> Subject: RE: Retrieving all docs in the index
> 
> In this case you'll have to add another field with a fixed value to all
> the documents and query on that field
> 
> 
> Aviran
> http://www.aviransplace.com
> 
> -----Original Message-----
> From: Ravi [mailto:ravi@htinc.com]
> Sent: Thursday, December 09, 2004 14:04 PM
> To: Lucene Users List
> Subject: RE: Retrieving all docs in the index
> 
> 
> I'm sorry I don't think I articulated my question well. We use a date
> filter
> to sort the search results. This works fine when te user provides some
> search criteria. But if he gives an empty search criteria, we need to
> return
> all the documents in the index in the given date range sorted by date.
> So I
> was looking for a query that returns me all documents in the index and
> then
> I want to apply the date filter on it.  
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> Sent: Thursday, December 09, 2004 1:55 PM
> To: Lucene Users List
> Subject: Re: Retrieving all docs in the index
> 
> On Dec 9, 2004, at 1:35 PM, Ravi wrote:
> >  Is there any other way to extract all documents from an index apart
> > from adding an additional field with the same value to all documents 
> > and then doing a term query on that field with the common value?
> 
> Of course.  Have a look at the IndexReader API.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 21:04:28 2004
Return-Path: 
 <lucene-user-return-11797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96785 invoked from network); 9 Dec 2004 21:04:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 21:04:28 -0000
Received: (qmail 96174 invoked by uid 500); 9 Dec 2004 21:04:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96145 invoked by uid 500); 9 Dec 2004 21:04:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96130 invoked by uid 99); 9 Dec 2004 21:04:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 13:04:18 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: Retrieving all docs in the index
Date: Thu, 9 Dec 2004 16:04:10 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523529@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Retrieving all docs in the index
Thread-Index: AcTeMIGcxyGcb19RSySow7tgm6IdkAAAY/KQ
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Paul. I think I'll go with the first approach (adding a new
field). =20

-----Original Message-----
From: Paul Elschot [mailto:paul.elschot@xs4all.nl]=20
Sent: Thursday, December 09, 2004 3:49 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Retrieving all docs in the index

On Thursday 09 December 2004 21:18, Ravi wrote:
> That was exactly my original question. I was wondering if there are=20
> alternatives to this approach.

In case you need only a few of the top ranking documents, and the
documents are to be sorted by date anyway, you might consider to search
each of the dates in sorted order separately until you have enough
results.

In that way there is no need to use a field with some constant value.
Nonetheless, I can recommend to have a special field containing all the
field names for a document. As all docs normally contain a primary key,
the name of the primary key field can serve as the constant value.

Regards,
Paul Elschot

=20
> -----Original Message-----
> From: Aviran [mailto:amordo@infosciences.com]
> Sent: Thursday, December 09, 2004 2:08 PM
> To: 'Lucene Users List'
> Subject: RE: Retrieving all docs in the index
>=20
> In this case you'll have to add another field with a fixed value to=20
> all the documents and query on that field
>=20
>=20
> Aviran
> http://www.aviransplace.com
>=20
> -----Original Message-----
> From: Ravi [mailto:ravi@htinc.com]
> Sent: Thursday, December 09, 2004 14:04 PM
> To: Lucene Users List
> Subject: RE: Retrieving all docs in the index
>=20
>=20
> I'm sorry I don't think I articulated my question well. We use a date=20
> filter to sort the search results. This works fine when te user=20
> provides some search criteria. But if he gives an empty search=20
> criteria, we need to return all the documents in the index in the=20
> given date range sorted by date.
> So I
> was looking for a query that returns me all documents in the index and

> then I want to apply the date filter on it.
>=20
>=20
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, December 09, 2004 1:55 PM
> To: Lucene Users List
> Subject: Re: Retrieving all docs in the index
>=20
> On Dec 9, 2004, at 1:35 PM, Ravi wrote:
> >  Is there any other way to extract all documents from an index apart

> > from adding an additional field with the same value to all documents

> > and then doing a term query on that field with the common value?
>=20
> Of course.  Have a look at the IndexReader API.
>=20
> 	Erik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 21:36:17 2004
Return-Path: 
 <lucene-user-return-11798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11841 invoked from network); 9 Dec 2004 21:36:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 21:36:17 -0000
Received: (qmail 79781 invoked by uid 500); 9 Dec 2004 21:36:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79754 invoked by uid 500); 9 Dec 2004 21:36:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79712 invoked by uid 99); 9 Dec 2004 21:36:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jharuska@gmail.com designates
 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 13:36:05 -0800
Received: by rproxy.gmail.com with SMTP id z35so360738rne
        for <lucene-user@jakarta.apache.org>;
 Thu, 09 Dec 2004 13:36:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=gQz7DOfpxAW20mtwcFVJJtZQGvyH2l6eXgkgCYcQH9Y3swCa65XIM89+k4XuFU3w5gGCl7562XjPSSHpHDVD76zlP8+78HJSazRwRySxnQwTILawkQC8IoUJdj/omrN3xwcgGD35VSe8vC0BdPyrDX08i5GptrGQWai7DN6P1Rw=
Received: by 10.38.14.54 with SMTP id 54mr258656rnn;
        Thu, 09 Dec 2004 13:36:02 -0800 (PST)
Received: by 10.38.101.62 with HTTP; Thu, 9 Dec 2004 13:36:02 -0800 (PST)
Message-ID: <5fbbcd1404120913367730f909@mail.gmail.com>
Date: Thu, 9 Dec 2004 16:36:02 -0500
From: Jason Haruska <jharuska@gmail.com>
Reply-To: Jason Haruska <jharuska@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Coordination value
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would like to adjust the score lucene is returning to use the
coordination component more. For example, I have a BooleanQuery
containing three TermQueries. I would like to adjust the score so that
documents containing all three terms appear first, followed by docs
that contain only two of the terms, followed by documents that contain
only one of the terms.

I understand that the coordination is a component of the overall
document score currently, but I'd like to make it more absolute. I was
wondering if someone on the list has done something similar.

I have implemented a hack that works by adding a function to the
BooleanWeight class but it is very slow. I believe it is inefficient
because it uses the Explanation class to get the coordination value.
There must be an easier way that I'm missing.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  9 21:41:39 2004
Return-Path: 
 <lucene-user-return-11799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14249 invoked from network); 9 Dec 2004 21:41:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Dec 2004 21:41:39 -0000
Received: (qmail 92855 invoked by uid 500); 9 Dec 2004 21:41:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92811 invoked by uid 500); 9 Dec 2004 21:41:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92783 invoked by uid 99); 9 Dec 2004 21:41:28 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 13:41:28 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Coordination value
Date: Thu, 9 Dec 2004 13:41:25 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02BF11EE@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Coordination value
Thread-Index: AcTeNxzKzBCH2tosSJy9s7sVoIg4mQAADkTw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Jason Haruska" <jharuska@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is an easier way.  You should use a custom Similarity, which
allows you to define your own coord() method.  Look at DefaultSimilarity
(which specializes Similarity).

I'd suggest analyzing your scores first with explain() to decide what
you really want to tweak.  Just a guess, but your issue might be that
your idf()'s are dominating the score computation.  I had this problem
and change the default idf() to take a final square root, since Lucene
squares that contribution (which is one of its few areas that is
generally not considered best practice).  I also boost the base of the
logarithms on both tf and idf to weight those factors lower.

Good luck,

Chuck

  > -----Original Message-----
  > From: Jason Haruska [mailto:jharuska@gmail.com]
  > Sent: Thursday, December 09, 2004 1:36 PM
  > To: Lucene Users List
  > Subject: Coordination value
  >=20
  > I would like to adjust the score lucene is returning to use the
  > coordination component more. For example, I have a BooleanQuery
  > containing three TermQueries. I would like to adjust the score so
that
  > documents containing all three terms appear first, followed by docs
  > that contain only two of the terms, followed by documents that
contain
  > only one of the terms.
  >=20
  > I understand that the coordination is a component of the overall
  > document score currently, but I'd like to make it more absolute. I
was
  > wondering if someone on the list has done something similar.
  >=20
  > I have implemented a hack that works by adding a function to the
  > BooleanWeight class but it is very slow. I believe it is inefficient
  > because it uses the Explanation class to get the coordination value.
  > There must be an easier way that I'm missing.
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 05:51:12 2004
Return-Path: 
 <lucene-user-return-11800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20823 invoked from network); 10 Dec 2004 05:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 05:51:12 -0000
Received: (qmail 54635 invoked by uid 500); 10 Dec 2004 05:50:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54595 invoked by uid 500); 10 Dec 2004 05:50:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54538 invoked by uid 99); 10 Dec 2004 05:50:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 21:50:51 -0800
Received: from [192.168.1.100] (dsl081-071-021.sfo1.dsl.speakeasy.net
 [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id iBA5olHp005523
	for <lucene-user@jakarta.apache.org>; Thu, 9 Dec 2004 21:50:48 -0800
Message-ID: <41B93931.8030504@newsmonster.org>
Date: Thu, 09 Dec 2004 21:50:41 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene in action ebook
References: <47339.212.17.56.2.1102588724.squirrel@212.17.56.2>
 <90D16CAE-49DA-11D9-AF36-000393A564E6@ehatchersolutions.com>
In-Reply-To: <90D16CAE-49DA-11D9-AF36-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> I have the e-book PDF in my possession. I have been prodding Manning 
> on a daily basis to update the LIA website and get the e-book 
> available. It is ready, and I'm sure that its just a matter of them 
> pushing it out. There may be some administrative loose ends they are 
> tying up before releasing it to the world. It should be available any 
> minute now, really. :)

Send off a link to the list when its out...

We're all holding our breath ;)

(seriously)

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 06:10:43 2004
Return-Path: 
 <lucene-user-return-11801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26751 invoked from network); 10 Dec 2004 06:10:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 06:10:43 -0000
Received: (qmail 77771 invoked by uid 500); 10 Dec 2004 06:10:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77746 invoked by uid 500); 10 Dec 2004 06:10:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77731 invoked by uid 99); 10 Dec 2004 06:10:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail03.syd.optusnet.com.au (HELO mail03.syd.optusnet.com.au)
 (211.29.132.184)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 22:10:34 -0800
Received: from baracuda (d220-236-169-25.dsl.nsw.optusnet.com.au
 [220.236.169.25])
	by mail03.syd.optusnet.com.au (8.12.11/8.12.11) with ESMTP id iBA6ATRY023297
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 17:10:30 +1100
Message-Id: <200412100610.iBA6ATRY023297@mail03.syd.optusnet.com.au>
From: "Steve Skillcorn, Docuviz Technologies" <steve@docuviz.com>
To: <lucene-user@jakarta.apache.org>
Subject: Permissioning Documents
Date: Fri, 10 Dec 2004 17:10:25 +1100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0008_01C4DEDB.2461CD90"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcTefhWnhwHGwh0vQ/6tJtmp4nNrHAAAMpZw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0008_01C4DEDB.2461CD90
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi;
 
I'm currently using Lucene (which I am extremely impressed with BTW) to
index a knowledge base of documents.  One issue I have is that only certain
documents are available to certain users (or groups).  The number of
documents is large, into the 100,000s, and the number of uses can be into
the 1000s.  Obviously, the users permissioned to see certain documents can
change regularly, so storing the user id's in the Lucene document is
undesirable, as a permission change could mean a delete and re-add to
potentially 100s of documents.
 
Does anyone have any guidance as to how I should approach this?
 
Would this be something the Lucene community would be interested in having
committed back if I embark on an optimised development at the index level?
 
Or, in the opinion of the group, should I just brute force the adds/deletes
and be done with it?
 
All advice greatly appreciated.
 
Steve
 
 

------=_NextPart_000_0008_01C4DEDB.2461CD90--


From MAILER-DAEMON Fri Dec 10 07:05:20 2004
Return-Path: 
 <lucene-user-return-11802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54257 invoked from network); 10 Dec 2004 07:05:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 07:05:20 -0000
Received: (qmail 65372 invoked by uid 500); 10 Dec 2004 07:05:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65346 invoked by uid 500); 10 Dec 2004 07:05:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65326 invoked by uid 99); 10 Dec 2004 07:05:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.app.aconex.com (HELO mail.app.aconex.com) (203.89.192.138)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 09 Dec 2004 23:05:10 -0800
Received: from herald.aconex.com (herald.aconex.com [192.168.0.211])
	by mail.app.aconex.com (Postfix) with ESMTP id AEED415A011
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 18:05:05 +1100 (EST)
Received: from localhost (herald [127.0.0.1])
	by herald.aconex.com (Postfix) with ESMTP id 1028664007
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 18:05:06 +1100 (EST)
Received: from herald.aconex.com ([127.0.0.1])
 by localhost (herald [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 07120-03 for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 18:05:04 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by herald.aconex.com (Postfix) with ESMTP id D3ACE6402A
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 02:05:04 -0500 (EST)
Message-ID: <41B94AAE.60801@aconex.com>
Date: Fri, 10 Dec 2004 18:05:18 +1100
From: Paul Smith <psmith@aconex.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene in action ebook
References: <47339.212.17.56.2.1102588724.squirrel@212.17.56.2>
 <90D16CAE-49DA-11D9-AF36-000393A564E6@ehatchersolutions.com>
 <41B93931.8030504@newsmonster.org>
In-Reply-To: <41B93931.8030504@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at aconex.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

synchronized(luceneEbook){
 luceneEbook.wait();
}

Just waiting for the notifyAll()....

Kevin A. Burton wrote:

> Erik Hatcher wrote:
>
>> I have the e-book PDF in my possession. I have been prodding Manning 
>> on a daily basis to update the LIA website and get the e-book 
>> available. It is ready, and I'm sure that its just a matter of them 
>> pushing it out. There may be some administrative loose ends they are 
>> tying up before releasing it to the world. It should be available any 
>> minute now, really. :)
>
>
> Send off a link to the list when its out...
>
> We're all holding our breath ;)
>
> (seriously)
>
> Kevin
>

-- 

*Paul Smith
*Software Architect

	

*Aconex
* 31 Drummond Street, Carlton, VIC 3053, Australia
*Tel: +61 3 9661 0200  *Fax: +61 3 9654 9946
Email: psmith@aconex.com  www.aconex.com**

This email and any attachments are intended solely for the addressee. 
The contents may be privileged, confidential and/or subject to copyright 
or other applicable law. No confidentiality or privilege is lost by an 
erroneous transmission. If you have received this e-mail in error, 
please let us know by reply e-mail and delete or destroy this mail and 
all copies. If you are not the intended recipient of this message you 
must not disseminate, copy or take any action in reliance on it. The 
sender takes no responsibility for the effect of this message upon the 
recipient's computer system.**


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 08:29:44 2004
Return-Path: 
 <lucene-user-return-11803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21804 invoked from network); 10 Dec 2004 08:29:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 08:29:44 -0000
Received: (qmail 77948 invoked by uid 500); 10 Dec 2004 08:29:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77747 invoked by uid 500); 10 Dec 2004 08:29:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77732 invoked by uid 99); 10 Dec 2004 08:29:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr13.xs4all.nl (HELO smtp-vbr13.xs4all.nl)
 (194.109.24.33)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 00:29:33 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBA8TUN7020024
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 09:29:30 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Permissioning Documents
Date: Fri, 10 Dec 2004 09:29:29 +0100
User-Agent: KMail/1.5.4
References: <200412100610.iBA6ATRY023297@mail03.syd.optusnet.com.au>
In-Reply-To: <200412100610.iBA6ATRY023297@mail03.syd.optusnet.com.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412100929.29685.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 10 December 2004 07:10, Steve Skillcorn wrote:
> Hi;
>  
> I'm currently using Lucene (which I am extremely impressed with BTW) to
> index a knowledge base of documents.  One issue I have is that only certain
> documents are available to certain users (or groups).  The number of
> documents is large, into the 100,000s, and the number of uses can be into
> the 1000s.  Obviously, the users permissioned to see certain documents can
> change regularly, so storing the user id's in the Lucene document is
> undesirable, as a permission change could mean a delete and re-add to
> potentially 100s of documents.
>  
> Does anyone have any guidance as to how I should approach this?

A typical solution would be to use a Filter for each user group.
Each Filter would be built from categories indexed with the documents.
The moment to build a group Filter could be the first time a user from
a group queries an index after it is opened.
Filters can be cached, see the recent discussion on CachingWrappingFilter
and friends.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 08:53:22 2004
Return-Path: 
 <lucene-user-return-11804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32672 invoked from network); 10 Dec 2004 08:53:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 08:53:22 -0000
Received: (qmail 13587 invoked by uid 500); 10 Dec 2004 08:53:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13554 invoked by uid 500); 10 Dec 2004 08:53:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13515 invoked by uid 99); 10 Dec 2004 08:53:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 00:53:09 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 15A9813E2009; Fri, 10 Dec 2004 03:53:05 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP
	id EA2F213E2008; Fri, 10 Dec 2004 03:52:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>,
	Lucene List <lucene-dev@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Lucene in Action e-book now available!
Date: Fri, 10 Dec 2004 03:52:55 -0500
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The Lucene in Action e-book is now available at Manning's site:

	http://www.manning.com/hatcher2

Manning also put lots of other goodies there, the table of contents, 
"about this book", preface, the foreward from Doug Cutting himself 
(thanks Doug!!!), and a couple of sample chapters.  The complete source 
code is there as well.

Now comes the exciting part to find out what others think of the work 
Otis and I spent 14+ months of our lives on.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 09:27:32 2004
Return-Path: 
 <lucene-user-return-11805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50789 invoked from network); 10 Dec 2004 09:27:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 09:27:32 -0000
Received: (qmail 71517 invoked by uid 500); 10 Dec 2004 09:27:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71496 invoked by uid 500); 10 Dec 2004 09:27:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71480 invoked by uid 99); 10 Dec 2004 09:27:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at
 spf.trusted-forwarder.org)
Received: from web26007.mail.ukl.yahoo.com (HELO web26007.mail.ukl.yahoo.com)
 (217.12.10.218)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 10 Dec 2004 01:27:19 -0800
Received: (qmail 46720 invoked by uid 60001); 10 Dec 2004 09:27:16 -0000
Message-ID: <20041210092716.46718.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP;
 Fri, 10 Dec 2004 09:27:16 GMT
Date: Fri, 10 Dec 2004 09:27:16 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Permissioning Documents
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Steve,
Possibly the easiest way to handle this is to tag the
documents with a field listing the permitted
roles/groups (not the individual users). 
I would be tempted to keep the information that
associates users to groups outside of the Lucene index
eg in a relational DB. 
This way you do not need to worry about updating the
Lucene index everytime a new user is added or is
granted membership to a group. 

When you search, simply use a QueryFilter which lists
the current user's roles e.g. groups:(admin,
projectManager) - this will restrict the search
results to only those docs associated with the user's
roles.

Cheers
Mark





		
___________________________________________________________ 
Win a castle for NYE with your mates and Yahoo! Messenger 
http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 12:36:50 2004
Return-Path: 
 <lucene-user-return-11806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54772 invoked from network); 10 Dec 2004 12:36:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 12:36:50 -0000
Received: (qmail 94753 invoked by uid 500); 10 Dec 2004 12:36:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94718 invoked by uid 500); 10 Dec 2004 12:36:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94696 invoked by uid 99); 10 Dec 2004 12:36:39 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=BLANK_LINES_70_80
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 10 Dec 2004 04:36:38 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8IBQM00.EZD for <lucene-user@jakarta.apache.org>; Fri,
          10 Dec 2004 18:21:58 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: HITCOLLECTOR+SCORE+DELIMA
Date: Fri, 10 Dec 2004 18:09:41 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEDICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi guys

Apologies.............



I am still in delima on How to use the HitCollector for returning  Hits hits
between scores  0.2f to 1.0f ,

There is not a simple example for the same, yet lot's of talk on usage for
the same on the form.

Please somebody spare a bit of code (u'r intelligence) on this form.





Thx in advance
Karthik

























      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 12:40:23 2004
Return-Path: 
 <lucene-user-return-11807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57994 invoked from network); 10 Dec 2004 12:40:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 12:40:23 -0000
Received: (qmail 3986 invoked by uid 500); 10 Dec 2004 12:40:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3925 invoked by uid 500); 10 Dec 2004 12:40:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3904 invoked by uid 99); 10 Dec 2004 12:40:07 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of william_wws@hotmail.com
 designates 65.54.233.95 as permitted sender)
Received: from bay21-f6.bay21.hotmail.com (HELO hotmail.com) (65.54.233.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 04:40:05 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 10 Dec 2004 04:40:02 -0800
Message-ID: <BAY21-F633194B4A365484D6F97498A80@phx.gbl>
Received: from 200.214.14.1 by by21fd.bay21.hotmail.msn.com with HTTP;
	Fri, 10 Dec 2004 12:39:48 GMT
X-Originating-IP: [200.214.14.1]
X-Originating-Email: [william_wws@hotmail.com]
X-Sender: william_wws@hotmail.com
In-Reply-To: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
From: "William W" <william_wws@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: Lucene in Action e-book now available!
Date: Fri, 10 Dec 2004 12:39:48 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 10 Dec 2004 12:40:02.0258 (UTC)
 FILETIME=[5E1C5B20:01C4DEB5]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Am I the first one who bought the Lucene in Action book ?

Thanks Erik and Otis.

William W. Silva


>From: Erik Hatcher <erik@ehatchersolutions.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: Lucene User <lucene-user@jakarta.apache.org>,Lucene List 
><lucene-dev@jakarta.apache.org>
>Subject: Lucene in Action e-book now available!
>Date: Fri, 10 Dec 2004 03:52:55 -0500
>
>The Lucene in Action e-book is now available at Manning's site:
>
>	http://www.manning.com/hatcher2
>
>Manning also put lots of other goodies there, the table of contents, "about 
>this book", preface, the foreward from Doug Cutting himself (thanks 
>Doug!!!), and a couple of sample chapters.  The complete source code is 
>there as well.
>
>Now comes the exciting part to find out what others think of the work Otis 
>and I spent 14+ months of our lives on.
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Don�t just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 13:26:39 2004
Return-Path: 
 <lucene-user-return-11809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90264 invoked from network); 10 Dec 2004 13:26:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 13:26:39 -0000
Received: (qmail 84361 invoked by uid 500); 10 Dec 2004 13:26:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84297 invoked by uid 500); 10 Dec 2004 13:26:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84282 invoked by uid 99); 10 Dec 2004 13:26:16 -0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=HELO_DYNAMIC_HCC,RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from BSN-95-242-34.dsl.siol.net (HELO bsn-95-242-34.dsl.siol.net)
 (193.95.242.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 05:26:16 -0800
Received: from [10.1.10.10] (gateway.medius [10.1.10.1])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by bsn-95-242-34.dsl.siol.net (Postfix) with ESMTP id 98EAC6FE52
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 14:34:05 +0100 (CET)
Message-ID: <41B9A37F.9030004@medius.si>
Date: Fri, 10 Dec 2004 14:24:15 +0100
From: Andraz Skoric <andraz.skoric@medius.si>
User-Agent: Mozilla Thunderbird 0.7 (X11/20040615)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SEARCH +HITS+LIMIT
References: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Displaytag (http://displaytag.sourceforge.net/) is for displaying search 
results in multiple pages

lp, a

Karthik N S wrote:

>Hi Guy's
>
>Apologies...............
>
>
>
>One question for the form [ Especially Erik]
>
>
>1) I have a MERGED Index with  100,000  File Indexed into it  ( Content  is
>one of the Fields of Type 'Text' )
>
>2) On search for a simple words  "Camera"  returns me  6000 hits.
>
>3) Since the Search process is  via  WebApps , a simple JSP is used to
>display the Content.
>
>
>Question
>
>How to Display the Contents for the Hits in  Incremental order ?
>
>[ Each Time a re hit to the Mergerindex with Incremental X value ].
>This would solve the problem of Out of Memory by prefetching all the hit in
>one strait go process.
>
>Ex:
>
>Total hits 6000
>
>1st page  -  hit's returned (1   to   25)
>2nd page -  hit's returned (26  to  50)
>.
>.
>.
>.
>
>    N th page  hit's returned ( 5975 - 6000 )
>
>Hint : - This is similar to a SQL query   SELECT * FROM LUCENE  LIMIT 10, 5
>
>
>
>      WITH WARM REGARDS
>      HAVE A NICE DAY
>      [ N.S.KARTHIK]
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 13:24:39 2004
Return-Path: 
 <lucene-user-return-11808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88472 invoked from network); 10 Dec 2004 13:24:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 13:24:39 -0000
Received: (qmail 77567 invoked by uid 500); 10 Dec 2004 13:24:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77542 invoked by uid 500); 10 Dec 2004 13:24:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77527 invoked by uid 99); 10 Dec 2004 13:24:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu)
 (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 05:24:26 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 84E111F5196
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 08:24:24 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30425-09 for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 08:24:24 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 407DB1F518D
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 08:24:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEDICAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKOEDICAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CE9C7CF6-4AAE-11D9-8255-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HITCOLLECTOR+SCORE+DELIMA
Date: Fri, 10 Dec 2004 08:24:23 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 10, 2004, at 7:39 AM, Karthik N S wrote:
> I am still in delima on How to use the HitCollector for returning  
> Hits hits
> between scores  0.2f to 1.0f ,
>
> There is not a simple example for the same, yet lot's of talk on usage 
> for
> the same on the form.

Unfortunately there isn't a clean way to stop a HitCollector - it will 
simply collect all hits.

Also, scores are _not_ normalized when passed to a HitCollector, so you 
may get scores > 1.0.  Hits, however, does normalize and you're 
guaranteed that scores will be <= 1.0.  Hits are in descending score 
order, so you may just want to use Hits and filter based on the score 
provided by hits.score(i).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 13:42:07 2004
Return-Path: 
 <lucene-user-return-11810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4278 invoked from network); 10 Dec 2004 13:42:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 13:42:07 -0000
Received: (qmail 32384 invoked by uid 500); 10 Dec 2004 13:41:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32353 invoked by uid 500); 10 Dec 2004 13:41:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32327 invoked by uid 99); 10 Dec 2004 13:41:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu)
 (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 05:41:16 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id B61131F53B4
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 08:41:13 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 02103-06 for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 08:41:13 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 7DC101F5318
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 08:41:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41B9A37F.9030004@medius.si>
References: <OBELINLGKPEMCIEIJJNKIEDCCAAA.karthik@controlnet.co.in>
 <41B9A37F.9030004@medius.si>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <28428EA1-4AB1-11D9-8255-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SEARCH +HITS+LIMIT
Date: Fri, 10 Dec 2004 08:41:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 10, 2004, at 8:24 AM, Andraz Skoric wrote:
> Displaytag (http://displaytag.sourceforge.net/) is for displaying 
> search results in multiple pages

I don't know displaytag internals, but be cautious with such things.  
What you do not want to happen is all the results to be grabbed and 
cached somehow.  You only want to retrieve the actual documents being 
shown on that specific page.  It looks like displaytag can support 
this, as long as you provide your own custom pruned document set.

Personally, I use Tapestry :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 14:56:27 2004
Return-Path: 
 <lucene-user-return-11811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73235 invoked from network); 10 Dec 2004 14:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 14:56:27 -0000
Received: (qmail 27630 invoked by uid 500); 10 Dec 2004 14:56:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27603 invoked by uid 500); 10 Dec 2004 14:56:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27579 invoked by uid 99); 10 Dec 2004 14:56:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 06:56:14 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Fri, 10 Dec 2004 09:58:26 -0500
Message-ID: <013401c4dec8$b35e8c80$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene in Action e-book now available!
Date: Fri, 10 Dec 2004 09:58:25 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Dec 2004 14:58:26.0029 (UTC)
 FILETIME=[B38B41D0:01C4DEC8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nice Work!

Congratulations Guys.

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene User" <lucene-user@jakarta.apache.org>; "Lucene List"
<lucene-dev@jakarta.apache.org>
Sent: Friday, December 10, 2004 3:52 AM
Subject: Lucene in Action e-book now available!


> The Lucene in Action e-book is now available at Manning's site:
>
> http://www.manning.com/hatcher2
>
> Manning also put lots of other goodies there, the table of contents,
> "about this book", preface, the foreward from Doug Cutting himself
> (thanks Doug!!!), and a couple of sample chapters.  The complete source
> code is there as well.
>
> Now comes the exciting part to find out what others think of the work
> Otis and I spent 14+ months of our lives on.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 14:59:54 2004
Return-Path: 
 <lucene-user-return-11812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75726 invoked from network); 10 Dec 2004 14:59:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 14:59:54 -0000
Received: (qmail 37948 invoked by uid 500); 10 Dec 2004 14:58:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37897 invoked by uid 500); 10 Dec 2004 14:58:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37687 invoked by uid 99); 10 Dec 2004 14:58:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of robinson.raju@gmail.com
 designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 06:58:44 -0800
Received: by rproxy.gmail.com with SMTP id y7so1168561rne
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 06:58:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=XLfn4SJyfOLup42d5j4fOfbuvxGQYi4Ta3hHsoGMO5dNi4sKFj/L3NiZRzDNwu6CCqT2YEJWhSfKfDaUZ6Uan4Eu9Qa74qoSLhAWGa928cbpFVfo6JHb1AyMruCDuYynp3oCec3RXvXgTD+K90pabxe3+ZxpyC45tzgRVQ7hOhY=
Received: by 10.38.208.43 with SMTP id f43mr1528189rng;
        Fri, 10 Dec 2004 06:58:42 -0800 (PST)
Received: by 10.39.3.62 with HTTP; Fri, 10 Dec 2004 06:58:42 -0800 (PST)
Message-ID: <d4357031041210065819aed021@mail.gmail.com>
Date: Fri, 10 Dec 2004 20:28:42 +0530
From: Robinson Raju <robinson.raju@gmail.com>
Reply-To: Robinson Raju <robinson.raju@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene in Action e-book now available!
In-Reply-To: <013401c4dec8$b35e8c80$7703d00a@hypermedia.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
	 <013401c4dec8$b35e8c80$7703d00a@hypermedia.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Congrats !
i went through sample chapter 1 . well written .


On Fri, 10 Dec 2004 09:58:25 -0500, Luke Shannon
<lshannon@hypermedia.com> wrote:
> Nice Work!
> 
> Congratulations Guys.
> 
> 
> 
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene User" <lucene-user@jakarta.apache.org>; "Lucene List"
> <lucene-dev@jakarta.apache.org>
> Sent: Friday, December 10, 2004 3:52 AM
> Subject: Lucene in Action e-book now available!
> 
> > The Lucene in Action e-book is now available at Manning's site:
> >
> > http://www.manning.com/hatcher2
> >
> > Manning also put lots of other goodies there, the table of contents,
> > "about this book", preface, the foreward from Doug Cutting himself
> > (thanks Doug!!!), and a couple of sample chapters.  The complete source
> > code is there as well.
> >
> > Now comes the exciting part to find out what others think of the work
> > Otis and I spent 14+ months of our lives on.
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
Regards,
Robin
9886394650
"The merit of an action lies in finishing it to the end"

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 17:15:00 2004
Return-Path: 
 <lucene-user-return-11813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63450 invoked from network); 10 Dec 2004 17:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:15:00 -0000
Received: (qmail 24067 invoked by uid 500); 10 Dec 2004 17:14:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24041 invoked by uid 500); 10 Dec 2004 17:14:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24011 invoked by uid 99); 10 Dec 2004 17:14:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from julesburg.uits.indiana.edu (HELO julesburg.uits.indiana.edu)
 (129.79.1.75)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 09:14:44 -0800
Received: from iu-mssg-smtp02.ads.iu.edu (iu-mssg-smtp02.exchange.iu.edu
 [129.79.1.219])
	by julesburg.uits.indiana.edu (8.12.10/8.12.10/IUPO) with ESMTP id
 iBAHEcnA009206
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 12:14:39 -0500 (EST)
Received: from iu-mssg-mbx08.ads.iu.edu ([129.79.1.217]) by
 iu-mssg-smtp02.ads.iu.edu with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 10 Dec 2004 12:14:41 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4DEDB.BBF69CA7"
Subject: OutOfMemoryError with Lucene 1.4 final
Date: Fri, 10 Dec 2004 12:14:40 -0500
Message-ID: 
 <48D0494DE1BCCB419DCC30E03EBC209401CE5EFF@iu-mssg-mbx08.exchange.iu.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OutOfMemoryError with Lucene 1.4 final
Thread-Index: AcTe27urttm4I7S1Q1Cb77sxkgXJ0A==
From: "Jin, Ying" <yingjin@indiana.edu>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Dec 2004 17:14:41.0016 (UTC)
 FILETIME=[BC374780:01C4DEDB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4DEDB.BBF69CA7
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi, Everyone,

=20

We're trying to index ~1500 archives but get OutOfMemoryError about
halfway through the index process. I've tried to run program under two
different Redhat Linux servers: One with 256M memory and 365M swap
space. The other one with 512M memory and 1G swap space. However, both
got OutOfMemoryError at the same place (at record 898).=20

=20

Here is my code for indexing:

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

    Document doc =3D new Document();

    doc.add(Field.UnIndexed("path", f.getPath()));

    doc.add(Field.Keyword("modified",

=20
DateField.timeToString(f.lastModified())));

    doc.add(Field.UnIndexed("eprintid", id));

    doc.add(Field.Text("metadata", metadata));

=20

    FileInputStream is =3D new FileInputStream(f);  // the text file

    BufferedReader reader =3D new BufferedReader(new
InputStreamReader(is));

=20

    StringBuffer stringBuffer =3D new StringBuffer();

    String line =3D "";

    try{

      while((line =3D reader.readLine()) !=3D null){

        stringBuffer.append(line);

      }

      doc.add(Field.Text("contents", stringBuffer.toString()));

      // release the resources

      is.close();

      reader.close();

}catch(java.io.IOException e){}

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

Is there anything wrong with my code or I need more memory?

=20

Thanks for any help!

Ying


------_=_NextPart_001_01C4DEDB.BBF69CA7--

From MAILER-DAEMON Fri Dec 10 17:17:51 2004
Return-Path: 
 <lucene-user-return-11814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65476 invoked from network); 10 Dec 2004 17:17:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:17:51 -0000
Received: (qmail 33321 invoked by uid 500); 10 Dec 2004 17:17:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33254 invoked by uid 500); 10 Dec 2004 17:17:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33142 invoked by uid 99); 10 Dec 2004 17:17:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp02corp.interwoven.com (HELO smtp01corp.interwoven.com)
 (65.161.4.46)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 09:17:35 -0800
Received: from exbesv01.Interwoven.com (localhost [127.0.0.1])
	by smtp01corp.interwoven.com (8.12.10/8.12.10) with ESMTP id iBAHHUAq024587
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 09:17:30 -0800 (PST)
Received: from exbecg01.Interwoven.com ([10.5.18.35]) by
 exbesv01.Interwoven.com with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 10 Dec 2004 09:17:30 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: OutOfMemoryError with Lucene 1.4 final
Date: Fri, 10 Dec 2004 11:17:29 -0600
Message-ID: <91B8D84A21EFD746B9191AC1CFD66549A8902E@exbecg01.Interwoven.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OutOfMemoryError with Lucene 1.4 final
Thread-Index: AcTe27urttm4I7S1Q1Cb77sxkgXJ0AAAEL0A
From: "Sildy Augustine" <saugustine@interwoven.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Dec 2004 17:17:30.0638 (UTC)
 FILETIME=[21518AE0:01C4DEDC]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think you should close your files in a finally clause in case of
exceptions with file system and also print out the exception.=20

You could be running out of file handles.

-----Original Message-----
From: Jin, Ying [mailto:yingjin@indiana.edu]=20
Sent: Friday, December 10, 2004 11:15 AM
To: lucene-user@jakarta.apache.org
Subject: OutOfMemoryError with Lucene 1.4 final

Hi, Everyone,

=20

We're trying to index ~1500 archives but get OutOfMemoryError about
halfway through the index process. I've tried to run program under two
different Redhat Linux servers: One with 256M memory and 365M swap
space. The other one with 512M memory and 1G swap space. However, both
got OutOfMemoryError at the same place (at record 898).=20

=20

Here is my code for indexing:

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

    Document doc =3D new Document();

    doc.add(Field.UnIndexed("path", f.getPath()));

    doc.add(Field.Keyword("modified",

=20
DateField.timeToString(f.lastModified())));

    doc.add(Field.UnIndexed("eprintid", id));

    doc.add(Field.Text("metadata", metadata));

=20

    FileInputStream is =3D new FileInputStream(f);  // the text file

    BufferedReader reader =3D new BufferedReader(new
InputStreamReader(is));

=20

    StringBuffer stringBuffer =3D new StringBuffer();

    String line =3D "";

    try{

      while((line =3D reader.readLine()) !=3D null){

        stringBuffer.append(line);

      }

      doc.add(Field.Text("contents", stringBuffer.toString()));

      // release the resources

      is.close();

      reader.close();

}catch(java.io.IOException e){}

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

Is there anything wrong with my code or I need more memory?

=20

Thanks for any help!

Ying


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 17:23:44 2004
Return-Path: 
 <lucene-user-return-11815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68677 invoked from network); 10 Dec 2004 17:23:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:23:44 -0000
Received: (qmail 54884 invoked by uid 500); 10 Dec 2004 17:23:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54823 invoked by uid 500); 10 Dec 2004 17:23:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54802 invoked by uid 99); 10 Dec 2004 17:23:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of greenlion@gmail.com
 designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 09:23:16 -0800
Received: by rproxy.gmail.com with SMTP id 1so277296rny
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 09:23:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=XM5wQ8ynpvhl/p1wbqI9lo/Vv7SIQbAjcbYYSPgEVIQRsVl8gHhBA2ezjyhInYt7KGRuq6BkSy6RbCHa1wgQQRyilBv82w87LhKNYJTx7uK4HWiONdKgCD++xzVAzRJA2Dp5XDeCpR3JxjRD9+3tI5cCitRvZJbiq3zkDVmQdWE=
Received: by 10.38.206.19 with SMTP id d19mr632851rng;
        Fri, 10 Dec 2004 09:23:04 -0800 (PST)
Received: by 10.38.179.4 with HTTP; Fri, 10 Dec 2004 09:23:04 -0800 (PST)
Message-ID: <dd2db8d00412100923a9bd00f@mail.gmail.com>
Date: Fri, 10 Dec 2004 10:23:04 -0700
From: Justin Swanhart <greenlion@gmail.com>
Reply-To: Justin Swanhart <greenlion@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError with Lucene 1.4 final
In-Reply-To: <91B8D84A21EFD746B9191AC1CFD66549A8902E@exbecg01.Interwoven.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <91B8D84A21EFD746B9191AC1CFD66549A8902E@exbecg01.Interwoven.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You probably need to increase the amount of RAM available to your JVM.  

See the parameters:
-Xmx   :Maximum memory usable by the JVM
-Xms   :Initial memory allocated to JVM

My params are;  -Xmx2048m -Xms128m  (2G max, 128M initial)


On Fri, 10 Dec 2004 11:17:29 -0600, Sildy Augustine
<saugustine@interwoven.com> wrote:
> I think you should close your files in a finally clause in case of
> exceptions with file system and also print out the exception.
> 
> You could be running out of file handles.
> 
> 
> 
> -----Original Message-----
> From: Jin, Ying [mailto:yingjin@indiana.edu]
> Sent: Friday, December 10, 2004 11:15 AM
> To: lucene-user@jakarta.apache.org
> Subject: OutOfMemoryError with Lucene 1.4 final
> 
> Hi, Everyone,
> 
> We're trying to index ~1500 archives but get OutOfMemoryError about
> halfway through the index process. I've tried to run program under two
> different Redhat Linux servers: One with 256M memory and 365M swap
> space. The other one with 512M memory and 1G swap space. However, both
> got OutOfMemoryError at the same place (at record 898).
> 
> Here is my code for indexing:
> 
> ===============================================
> 
>     Document doc = new Document();
> 
>     doc.add(Field.UnIndexed("path", f.getPath()));
> 
>     doc.add(Field.Keyword("modified",
> 
> DateField.timeToString(f.lastModified())));
> 
>     doc.add(Field.UnIndexed("eprintid", id));
> 
>     doc.add(Field.Text("metadata", metadata));
> 
>     FileInputStream is = new FileInputStream(f);  // the text file
> 
>     BufferedReader reader = new BufferedReader(new
> InputStreamReader(is));
> 
>     StringBuffer stringBuffer = new StringBuffer();
> 
>     String line = "";
> 
>     try{
> 
>       while((line = reader.readLine()) != null){
> 
>         stringBuffer.append(line);
> 
>       }
> 
>       doc.add(Field.Text("contents", stringBuffer.toString()));
> 
>       // release the resources
> 
>       is.close();
> 
>       reader.close();
> 
> }catch(java.io.IOException e){}
> 
> =================================================
> 
> Is there anything wrong with my code or I need more memory?
> 
> Thanks for any help!
> 
> Ying
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 17:25:13 2004
Return-Path: 
 <lucene-user-return-11816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69616 invoked from network); 10 Dec 2004 17:25:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:25:13 -0000
Received: (qmail 58106 invoked by uid 500); 10 Dec 2004 17:24:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58016 invoked by uid 500); 10 Dec 2004 17:24:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57981 invoked by uid 99); 10 Dec 2004 17:24:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 10 Dec 2004 09:24:13 -0800
Received: (qmail 42560 invoked by uid 60001); 10 Dec 2004 17:24:08 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=QMOnaZ9e6Uba3csf2+E4vOiW8k9CoqG7QJCv4NEiUvJTDbga2v9I90oxo96Y91331gN1s6cvDsYCl2YKAHZY8O0spgaLkl1EmIKyuvjYvZNmONy7ZbZaaisT2t6JyG8VlDU/zXDJgaM7xyqZd5a2TcXXimvbhp6p6vF6msaandg=
  ;
Message-ID: <20041210172408.42558.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Fri, 10 Dec 2004 09:24:08 PST
Date: Fri, 10 Dec 2004 09:24:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: OutOfMemoryError with Lucene 1.4 final
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <91B8D84A21EFD746B9191AC1CFD66549A8902E@exbecg01.Interwoven.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ying,

You should follow this finally block advice below.  In addition, I
think you can just close the reader, and it will close the underlying
stream (I'm not sure about that, double-check it).

You are not running out of file handles, though.  Your JVM is running
out of memory.  You can play with:

1) -Xms and -Xmx JVM command-line parameters
2) IndexWriter's parameters: mergeFactor and minMergeDocs - check the
Javadocs for more info.  They will let you control how much memory your
indexing process uses.

Otis


--- Sildy Augustine <saugustine@interwoven.com> wrote:

> I think you should close your files in a finally clause in case of
> exceptions with file system and also print out the exception. 
> 
> You could be running out of file handles.
> 
> -----Original Message-----
> From: Jin, Ying [mailto:yingjin@indiana.edu] 
> Sent: Friday, December 10, 2004 11:15 AM
> To: lucene-user@jakarta.apache.org
> Subject: OutOfMemoryError with Lucene 1.4 final
> 
> Hi, Everyone,
> 
>  
> 
> We're trying to index ~1500 archives but get OutOfMemoryError about
> halfway through the index process. I've tried to run program under
> two
> different Redhat Linux servers: One with 256M memory and 365M swap
> space. The other one with 512M memory and 1G swap space. However,
> both
> got OutOfMemoryError at the same place (at record 898). 
> 
>  
> 
> Here is my code for indexing:
> 
> ===============================================
> 
>     Document doc = new Document();
> 
>     doc.add(Field.UnIndexed("path", f.getPath()));
> 
>     doc.add(Field.Keyword("modified",
> 
>  
> DateField.timeToString(f.lastModified())));
> 
>     doc.add(Field.UnIndexed("eprintid", id));
> 
>     doc.add(Field.Text("metadata", metadata));
> 
>  
> 
>     FileInputStream is = new FileInputStream(f);  // the text file
> 
>     BufferedReader reader = new BufferedReader(new
> InputStreamReader(is));
> 
>  
> 
>     StringBuffer stringBuffer = new StringBuffer();
> 
>     String line = "";
> 
>     try{
> 
>       while((line = reader.readLine()) != null){
> 
>         stringBuffer.append(line);
> 
>       }
> 
>       doc.add(Field.Text("contents", stringBuffer.toString()));
> 
>       // release the resources
> 
>       is.close();
> 
>       reader.close();
> 
> }catch(java.io.IOException e){}
> 
> =================================================
> 
> Is there anything wrong with my code or I need more memory?
> 
>  
> 
> Thanks for any help!
> 
> Ying
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 17:32:24 2004
Return-Path: 
 <lucene-user-return-11817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73633 invoked from network); 10 Dec 2004 17:32:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:32:24 -0000
Received: (qmail 83869 invoked by uid 500); 10 Dec 2004 17:30:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83822 invoked by uid 500); 10 Dec 2004 17:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83782 invoked by uid 99); 10 Dec 2004 17:30:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ares.cs.Virginia.EDU (HELO ares.cs.Virginia.EDU)
 (128.143.137.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 09:30:19 -0800
Received: from cobra.cs.Virginia.EDU (cobra.cs.Virginia.EDU [128.143.137.16])
	by ares.cs.Virginia.EDU (8.12.10/8.12.10/UVACS-2003031900) with ESMTP id
 iBAHU65Q021388
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 12:30:07 -0500 (EST)
Received: from localhost (xj3a@localhost)
	by cobra.cs.Virginia.EDU (8.12.10+Sun/8.12.10/Submit) with ESMTP id
 iBAHU6E9025336
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 12:30:06 -0500 (EST)
Date: Fri, 10 Dec 2004 12:30:06 -0500 (EST)
From: Xiangyu  Jin <xj3a@cs.virginia.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError with Lucene 1.4 final
In-Reply-To: 
 <48D0494DE1BCCB419DCC30E03EBC209401CE5EFF@iu-mssg-mbx08.exchange.iu.edu>
Message-ID: <Pine.GSO.4.58.0412101223160.25211@cobra.cs.Virginia.EDU>
References: 
 <48D0494DE1BCCB419DCC30E03EBC209401CE5EFF@iu-mssg-mbx08.exchange.iu.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I am not sure. But guess there are three possilities,

(1). see that you use
Field.Text("contents", stringBuffer.toString())
This will store all your string of text into document object.
And it might be long ...

I do not know the detail how Lucene implemented.
I think you can try use unstored first to see
if the same problem happen.

BTW, how large is your document. Mine has 1M docs and
max-length less than 1 M, usually has length about several k.

(2) I guess another possiblilty is that record 898 is a very long
document, maybe java' s string object has a maxlength?
Just trace the code, see when the exception occur.

(3) Moreover, if you run it on a java VM, it also has a setting of
its "virtual" mem. It has nothing to do with the hardware
you are running. I has met this before when I use the directory's
ListOfFile function, where it easily exceed the max mem, if
there are 1M docs under the same dir (a stupid mistake I made).
But if I expand the VM's mem, it is then appears ok.

:)





On Fri, 10 Dec 2004, Jin, Ying wrote:

> Hi, Everyone,
>
>
>
> We're trying to index ~1500 archives but get OutOfMemoryError about
> halfway through the index process. I've tried to run program under two
> different Redhat Linux servers: One with 256M memory and 365M swap
> space. The other one with 512M memory and 1G swap space. However, both
> got OutOfMemoryError at the same place (at record 898).
>
>
>
> Here is my code for indexing:
>
> ===============================================
>
>     Document doc = new Document();
>
>     doc.add(Field.UnIndexed("path", f.getPath()));
>
>     doc.add(Field.Keyword("modified",
>
>
> DateField.timeToString(f.lastModified())));
>
>     doc.add(Field.UnIndexed("eprintid", id));
>
>     doc.add(Field.Text("metadata", metadata));
>
>
>
>     FileInputStream is = new FileInputStream(f);  // the text file
>
>     BufferedReader reader = new BufferedReader(new
> InputStreamReader(is));
>
>
>
>     StringBuffer stringBuffer = new StringBuffer();
>
>     String line = "";
>
>     try{
>
>       while((line = reader.readLine()) != null){
>
>         stringBuffer.append(line);
>
>       }
>
>       doc.add(Field.Text("contents", stringBuffer.toString()));
>
>       // release the resources
>
>       is.close();
>
>       reader.close();
>
> }catch(java.io.IOException e){}
>
> =================================================
>
> Is there anything wrong with my code or I need more memory?
>
>
>
> Thanks for any help!
>
> Ying
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 17:35:22 2004
Return-Path: 
 <lucene-user-return-11818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75403 invoked from network); 10 Dec 2004 17:35:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 17:35:22 -0000
Received: (qmail 99041 invoked by uid 500); 10 Dec 2004 17:34:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99004 invoked by uid 500); 10 Dec 2004 17:34:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98947 invoked by uid 99); 10 Dec 2004 17:34:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ares.cs.Virginia.EDU (HELO ares.cs.Virginia.EDU)
 (128.143.137.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 09:34:10 -0800
Received: from cobra.cs.Virginia.EDU (cobra.cs.Virginia.EDU [128.143.137.16])
	by ares.cs.Virginia.EDU (8.12.10/8.12.10/UVACS-2003031900) with ESMTP id
 iBAHXq5Q022167
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 12:33:53 -0500 (EST)
Received: from localhost (xj3a@localhost)
	by cobra.cs.Virginia.EDU (8.12.10+Sun/8.12.10/Submit) with ESMTP id
 iBAHXqjb025350
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 12:33:52 -0500 (EST)
Date: Fri, 10 Dec 2004 12:33:52 -0500 (EST)
From: Xiangyu  Jin <xj3a@cs.virginia.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError with Lucene 1.4 final
In-Reply-To: <Pine.GSO.4.58.0412101223160.25211@cobra.cs.Virginia.EDU>
Message-ID: <Pine.GSO.4.58.0412101233260.25211@cobra.cs.Virginia.EDU>
References: 
 <48D0494DE1BCCB419DCC30E03EBC209401CE5EFF@iu-mssg-mbx08.exchange.iu.edu>
 <Pine.GSO.4.58.0412101223160.25211@cobra.cs.Virginia.EDU>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Ok, I see. Seems most ppl think is the third possiblity

On Fri, 10 Dec 2004, Xiangyu  Jin wrote:

>
> I am not sure. But guess there are three possilities,
>
> (1). see that you use
> Field.Text("contents", stringBuffer.toString())
> This will store all your string of text into document object.
> And it might be long ...
>
> I do not know the detail how Lucene implemented.
> I think you can try use unstored first to see
> if the same problem happen.
>
> BTW, how large is your document. Mine has 1M docs and
> max-length less than 1 M, usually has length about several k.
>
> (2) I guess another possiblilty is that record 898 is a very long
> document, maybe java' s string object has a maxlength?
> Just trace the code, see when the exception occur.
>
> (3) Moreover, if you run it on a java VM, it also has a setting of
> its "virtual" mem. It has nothing to do with the hardware
> you are running. I has met this before when I use the directory's
> ListOfFile function, where it easily exceed the max mem, if
> there are 1M docs under the same dir (a stupid mistake I made).
> But if I expand the VM's mem, it is then appears ok.
>
> :)
>
>
>
>
>
> On Fri, 10 Dec 2004, Jin, Ying wrote:
>
> > Hi, Everyone,
> >
> >
> >
> > We're trying to index ~1500 archives but get OutOfMemoryError about
> > halfway through the index process. I've tried to run program under two
> > different Redhat Linux servers: One with 256M memory and 365M swap
> > space. The other one with 512M memory and 1G swap space. However, both
> > got OutOfMemoryError at the same place (at record 898).
> >
> >
> >
> > Here is my code for indexing:
> >
> > ===============================================
> >
> >     Document doc = new Document();
> >
> >     doc.add(Field.UnIndexed("path", f.getPath()));
> >
> >     doc.add(Field.Keyword("modified",
> >
> >
> > DateField.timeToString(f.lastModified())));
> >
> >     doc.add(Field.UnIndexed("eprintid", id));
> >
> >     doc.add(Field.Text("metadata", metadata));
> >
> >
> >
> >     FileInputStream is = new FileInputStream(f);  // the text file
> >
> >     BufferedReader reader = new BufferedReader(new
> > InputStreamReader(is));
> >
> >
> >
> >     StringBuffer stringBuffer = new StringBuffer();
> >
> >     String line = "";
> >
> >     try{
> >
> >       while((line = reader.readLine()) != null){
> >
> >         stringBuffer.append(line);
> >
> >       }
> >
> >       doc.add(Field.Text("contents", stringBuffer.toString()));
> >
> >       // release the resources
> >
> >       is.close();
> >
> >       reader.close();
> >
> > }catch(java.io.IOException e){}
> >
> > =================================================
> >
> > Is there anything wrong with my code or I need more memory?
> >
> >
> >
> > Thanks for any help!
> >
> > Ying
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 18:43:13 2004
Return-Path: 
 <lucene-user-return-11819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21221 invoked from network); 10 Dec 2004 18:43:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 18:43:13 -0000
Received: (qmail 52331 invoked by uid 500); 10 Dec 2004 18:43:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52296 invoked by uid 500); 10 Dec 2004 18:43:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52281 invoked by uid 99); 10 Dec 2004 18:43:05 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 10:43:03 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Fri, 10 Dec 2004 13:40:27 -0500
Message-ID: <196401c4dee7$b69ab3a0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: sorting tokenized field
Date: Fri, 10 Dec 2004 13:40:25 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_1961_01C4DEBD.CDB198D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_1961_01C4DEBD.CDB198D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I read that the tokenised fields cannot be sorted. In order to sort =
tokenized field, either the application has to duplicate field with diff =
name and not tokenize it or come up with something else. But shouldn't =
the search engine takecare of this? Are there any plans of putting this =
functionality built into lucene?

Praveen
**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_1961_01C4DEBD.CDB198D0--


From MAILER-DAEMON Fri Dec 10 18:53:44 2004
Return-Path: 
 <lucene-user-return-11820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29085 invoked from network); 10 Dec 2004 18:53:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 18:53:44 -0000
Received: (qmail 81079 invoked by uid 500); 10 Dec 2004 18:53:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81056 invoked by uid 500); 10 Dec 2004 18:53:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81039 invoked by uid 99); 10 Dec 2004 18:53:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu)
 (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 10:53:32 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id A7DAE1F5323
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 13:53:29 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 23270-09 for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 13:53:29 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 7F2B51F5318
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 13:53:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <196401c4dee7$b69ab3a0$aa87a8c0@ppeddi>
References: <196401c4dee7$b69ab3a0$aa87a8c0@ppeddi>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C7E7CB28-4ADC-11D9-8A04-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting tokenized field
Date: Fri, 10 Dec 2004 13:53:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
> I read that the tokenised fields cannot be sorted. In order to sort 
> tokenized field, either the application has to duplicate field with 
> diff name and not tokenize it or come up with something else. But 
> shouldn't the search engine takecare of this? Are there any plans of 
> putting this functionality built into lucene?

It would be wasteful for Lucene to assume any field you add should be 
available for sorting.

Adding one more line to your indexing code to accommodate your sorting 
needs seems a pretty small price to pay.  Do you have suggestions to 
improve how this works?   Or how it is documented?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 19:29:18 2004
Return-Path: 
 <lucene-user-return-11821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48139 invoked from network); 10 Dec 2004 19:29:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 19:29:18 -0000
Received: (qmail 72104 invoked by uid 500); 10 Dec 2004 19:28:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71892 invoked by uid 500); 10 Dec 2004 19:28:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71757 invoked by uid 99); 10 Dec 2004 19:28:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 11:28:21 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Fri, 10 Dec 2004 14:27:12 -0500
Message-ID: <196c01c4deee$3e5d9680$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <196401c4dee7$b69ab3a0$aa87a8c0@ppeddi>
 <C7E7CB28-4ADC-11D9-8A04-000A95BC61B6@ehatchersolutions.com>
Subject: Re: sorting tokenized field
Date: Fri, 10 Dec 2004 14:27:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was only thinking in terms of other search engines. I worked with other 
search engines and I didn't see this requirements before. I think you are 
right that its wasteful to duplicate all tokenized fields. Not sure if there 
is a smart of dealing with it.

Praveen
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, December 10, 2004 1:53 PM
Subject: Re: sorting tokenized field


>
> On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
>> I read that the tokenised fields cannot be sorted. In order to sort 
>> tokenized field, either the application has to duplicate field with diff 
>> name and not tokenize it or come up with something else. But shouldn't 
>> the search engine takecare of this? Are there any plans of putting this 
>> functionality built into lucene?
>
> It would be wasteful for Lucene to assume any field you add should be 
> available for sorting.
>
> Adding one more line to your indexing code to accommodate your sorting 
> needs seems a pretty small price to pay.  Do you have suggestions to 
> improve how this works?   Or how it is documented?
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 19:32:57 2004
Return-Path: 
 <lucene-user-return-11822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50004 invoked from network); 10 Dec 2004 19:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 19:32:57 -0000
Received: (qmail 83063 invoked by uid 500); 10 Dec 2004 19:32:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83028 invoked by uid 500); 10 Dec 2004 19:32:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83000 invoked by uid 99); 10 Dec 2004 19:32:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.infosciences.com (HELO mail.infosciences.com)
 (141.156.69.115)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 11:32:45 -0800
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id CD3105C25
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 14:32:41 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: sorting tokenized field
Date: Fri, 10 Dec 2004 14:30:44 -0500
Message-ID: <001a01c4deee$be77ee10$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <C7E7CB28-4ADC-11D9-8A04-000A95BC61B6@ehatchersolutions.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have suggested a solution for this problem (
http://issues.apache.org/bugzilla/show_bug.cgi?id=30382 ) you can use the
patch suggested there and recompile lucene.


Aviran
http://www.aviransplace.com

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Friday, December 10, 2004 13:53 PM
To: Lucene Users List
Subject: Re: sorting tokenized field



On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
> I read that the tokenised fields cannot be sorted. In order to sort
> tokenized field, either the application has to duplicate field with 
> diff name and not tokenize it or come up with something else. But 
> shouldn't the search engine takecare of this? Are there any plans of 
> putting this functionality built into lucene?

It would be wasteful for Lucene to assume any field you add should be 
available for sorting.

Adding one more line to your indexing code to accommodate your sorting 
needs seems a pretty small price to pay.  Do you have suggestions to 
improve how this works?   Or how it is documented?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 19:40:58 2004
Return-Path: 
 <lucene-user-return-11823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53548 invoked from network); 10 Dec 2004 19:40:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 19:40:58 -0000
Received: (qmail 6494 invoked by uid 500); 10 Dec 2004 19:40:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6449 invoked by uid 500); 10 Dec 2004 19:40:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6409 invoked by uid 99); 10 Dec 2004 19:40:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rockridge.uits.indiana.edu (HELO rockridge.uits.indiana.edu)
 (129.79.1.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 11:40:07 -0800
Received: from iu-mssg-smtp02.ads.iu.edu (iu-mssg-smtp02.exchange.iu.edu
 [129.79.1.219])
	by rockridge.uits.indiana.edu (8.12.10/8.12.10/IUPO) with ESMTP id
 iBAJdqQq006518
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 14:40:04 -0500 (EST)
Received: from iu-mssg-mbx08.ads.iu.edu ([129.79.1.217]) by
 iu-mssg-smtp02.ads.iu.edu with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 10 Dec 2004 14:39:42 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4DEEF.FE7055A5"
Subject: Re: OutOfMemoryError with Lucene 1.4 final
Date: Fri, 10 Dec 2004 14:39:42 -0500
Message-ID: 
 <48D0494DE1BCCB419DCC30E03EBC209401CE5F58@iu-mssg-mbx08.exchange.iu.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re: OutOfMemoryError with Lucene 1.4 final
Thread-Index: AcTe7/42omDFg+w0QjukDcnY/gqDjw==
From: "Jin, Ying" <yingjin@indiana.edu>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Dec 2004 19:39:42.0451 (UTC)
 FILETIME=[FEACE430:01C4DEEF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4DEEF.FE7055A5
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Great!!! It works perfect after I setup -Xms and -Xmx JVM command-line=20
parameters with:
java -Xms128m -Xmx128m

It turns out that my JVM is running out of memory. And Otis is right on
my=20
reader closing too.
reader.close() will close the reader and release any system resources=20
associated with it.

I really appreciate everyone's help!
Ying


------_=_NextPart_001_01C4DEEF.FE7055A5--

From MAILER-DAEMON Fri Dec 10 19:43:40 2004
Return-Path: 
 <lucene-user-return-11824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55403 invoked from network); 10 Dec 2004 19:43:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 19:43:40 -0000
Received: (qmail 16521 invoked by uid 500); 10 Dec 2004 19:42:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16471 invoked by uid 500); 10 Dec 2004 19:42:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16435 invoked by uid 99); 10 Dec 2004 19:42:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 11:42:46 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: No of docs using IndexSearcher
Date: Fri, 10 Dec 2004 14:42:36 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523553@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: No of docs using IndexSearcher
Thread-Index: AcTe7w0yJvB1Dxi+Qrm5BQxTo4DxtgAATRrQ
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 How do I get the number of docs in an index If I just have access to a
searcher on that index?

Thanks in advance
Ravi.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 20:01:04 2004
Return-Path: 
 <lucene-user-return-11825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66977 invoked from network); 10 Dec 2004 20:01:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:01:04 -0000
Received: (qmail 64139 invoked by uid 500); 10 Dec 2004 20:00:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64111 invoked by uid 500); 10 Dec 2004 20:00:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64097 invoked by uid 99); 10 Dec 2004 20:00:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:00:51 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 02DA581D1D
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 14:18:16 -0500 (EST)
Message-ID: <41BA0006.3060405@max3d.com>
Date: Fri, 10 Dec 2004 14:59:02 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: No of docs using IndexSearcher
References: <4568BE33B520DD43B7B24DE0B609B215523553@htexc.hq.htinc.com>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523553@htexc.hq.htinc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

numDocs()

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#numDocs()



Ravi said the following on 12/10/2004 2:42 PM:

> How do I get the number of docs in an index If I just have access to a
>searcher on that index?
>
>Thanks in advance
>Ravi.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 20:13:47 2004
Return-Path: 
 <lucene-user-return-11826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72838 invoked from network); 10 Dec 2004 20:13:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:13:47 -0000
Received: (qmail 94141 invoked by uid 500); 10 Dec 2004 20:13:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94121 invoked by uid 500); 10 Dec 2004 20:13:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94103 invoked by uid 99); 10 Dec 2004 20:13:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:13:36 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: No of docs using IndexSearcher
Date: Fri, 10 Dec 2004 15:13:27 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523556@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: No of docs using IndexSearcher
Thread-Index: AcTe8vtqtKeNC/wmQzWimb4HfWtaigAAGIXQ
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I already have a field with a constant value in my index. How about
using IndexSearcher.docFreq(new Term(field,value))? Then I don't have to
instantiate IndexReader.=20

-----Original Message-----
From: amigo@max3d.com [mailto:amigo@max3d.com]=20
Sent: Friday, December 10, 2004 2:59 PM
To: Lucene Users List
Subject: Re: No of docs using IndexSearcher

numDocs()

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexR
eader.html#numDocs()



Ravi said the following on 12/10/2004 2:42 PM:

> How do I get the number of docs in an index If I just have access to a

>searcher on that index?
>
>Thanks in advance
>Ravi.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> =20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 20:27:25 2004
Return-Path: 
 <lucene-user-return-11827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97025 invoked from network); 10 Dec 2004 20:27:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:27:25 -0000
Received: (qmail 28900 invoked by uid 500); 10 Dec 2004 20:27:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28850 invoked by uid 500); 10 Dec 2004 20:27:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28809 invoked by uid 99); 10 Dec 2004 20:27:11 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_50_60,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:27:11 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 2CC6E82382
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 14:44:36 -0500 (EST)
Message-ID: <41BA0631.3030405@max3d.com>
Date: Fri, 10 Dec 2004 15:25:21 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: No of docs using IndexSearcher
References: <4568BE33B520DD43B7B24DE0B609B215523556@htexc.hq.htinc.com>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523556@htexc.hq.htinc.com>
Content-Type: multipart/alternative;
 boundary="------------070008050404040200020807"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------070008050404040200020807
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

If your index is open shouldnt there be an instance of IndexReader 
already there?


Ravi said the following on 12/10/2004 3:13 PM:

>I already have a field with a constant value in my index. How about
>using IndexSearcher.docFreq(new Term(field,value))? Then I don't have to
>instantiate IndexReader. 
>
>-----Original Message-----
>From: amigo@max3d.com [mailto:amigo@max3d.com] 
>Sent: Friday, December 10, 2004 2:59 PM
>To: Lucene Users List
>Subject: Re: No of docs using IndexSearcher
>
>numDocs()
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexR
>eader.html#numDocs()
>
>
>
>Ravi said the following on 12/10/2004 2:42 PM:
>
>  
>
>>How do I get the number of docs in an index If I just have access to a
>>    
>>
>
>  
>
>>searcher on that index?
>>
>>Thanks in advance
>>Ravi.
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> 
>>
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

--------------070008050404040200020807--

From MAILER-DAEMON Fri Dec 10 20:36:37 2004
Return-Path: 
 <lucene-user-return-11828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1762 invoked from network); 10 Dec 2004 20:36:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:36:37 -0000
Received: (qmail 52959 invoked by uid 500); 10 Dec 2004 20:36:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52920 invoked by uid 500); 10 Dec 2004 20:36:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52893 invoked by uid 99); 10 Dec 2004 20:36:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:36:20 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Fri, 10 Dec 2004 15:33:42 -0500
Message-ID: <198701c4def7$88e390c0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001a01c4deee$be77ee10$6a00a8c0@Aviran>
Subject: Re: sorting tokenized field
Date: Fri, 10 Dec 2004 15:33:40 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Since I am not aware of the lucene code much, I couldn't make much out of 
your patch. But is this patch already tested and proved to be efficient? If 
so, why can't it be merge into the lucene code and made it part of the 
release. I think the bug is valid. Its very likely that people want to sort 
on tokenized fields.

If I apply this patch to lucene code and use it for myself, I will have hard 
time managing it in future (while upgrading lucene library). If the pathc is 
applied to lucene release code, it would be very easy for the lucene users.

If possible, can someone explain what the path does? I am trying to 
understand what exactly changed but could not figrue out.

Praveen
----- Original Message ----- 
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Friday, December 10, 2004 2:30 PM
Subject: RE: sorting tokenized field


>I have suggested a solution for this problem (
> http://issues.apache.org/bugzilla/show_bug.cgi?id=30382 ) you can use the
> patch suggested there and recompile lucene.
>
>
> Aviran
> http://www.aviransplace.com
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 10, 2004 13:53 PM
> To: Lucene Users List
> Subject: Re: sorting tokenized field
>
>
>
> On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
>> I read that the tokenised fields cannot be sorted. In order to sort
>> tokenized field, either the application has to duplicate field with
>> diff name and not tokenize it or come up with something else. But
>> shouldn't the search engine takecare of this? Are there any plans of
>> putting this functionality built into lucene?
>
> It would be wasteful for Lucene to assume any field you add should be
> available for sorting.
>
> Adding one more line to your indexing code to accommodate your sorting
> needs seems a pretty small price to pay.  Do you have suggestions to
> improve how this works?   Or how it is documented?
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 20:42:29 2004
Return-Path: 
 <lucene-user-return-11829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3981 invoked from network); 10 Dec 2004 20:42:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:42:29 -0000
Received: (qmail 62911 invoked by uid 500); 10 Dec 2004 20:42:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62887 invoked by uid 500); 10 Dec 2004 20:42:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62873 invoked by uid 99); 10 Dec 2004 20:42:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:42:18 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: No of docs using IndexSearcher
Date: Fri, 10 Dec 2004 15:42:08 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B21552355C@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: No of docs using IndexSearcher
Thread-Index: AcTe9qlmuYGFgpcxSYGw8J03y2BxygAACWag
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm fairly new to lucene.  The main reason why I did n't use the
IndexReader constructor for the searcher is we organize the indexes as
different partitions depending on document's date and during searching I
instantiate a MultiSearcher object on these different partitions
depending on from-date and to-date from the search. I was getting a
runtime exception during search, If the index does not have any
documents. That's why I was looking for some method on the searcher
object that gives me the number of documents.=20

Thanks
Ravi


-----Original Message-----
From: amigo@max3d.com [mailto:amigo@max3d.com]=20
Sent: Friday, December 10, 2004 3:25 PM
To: Lucene Users List
Subject: Re: No of docs using IndexSearcher

If your index is open shouldnt there be an instance of IndexReader
already there?


Ravi said the following on 12/10/2004 3:13 PM:

>I already have a field with a constant value in my index. How about
>using IndexSearcher.docFreq(new Term(field,value))? Then I don't have
to
>instantiate IndexReader.=20
>
>-----Original Message-----
>From: amigo@max3d.com [mailto:amigo@max3d.com]=20
>Sent: Friday, December 10, 2004 2:59 PM
>To: Lucene Users List
>Subject: Re: No of docs using IndexSearcher
>
>numDocs()
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/Index
R
>eader.html#numDocs()
>
>
>
>Ravi said the following on 12/10/2004 2:42 PM:
>
> =20
>
>>How do I get the number of docs in an index If I just have access to a
>>   =20
>>
>
> =20
>
>>searcher on that index?
>>
>>Thanks in advance
>>Ravi.
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>=20
>>
>>   =20
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> =20
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 20:53:58 2004
Return-Path: 
 <lucene-user-return-11830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9677 invoked from network); 10 Dec 2004 20:53:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 20:53:58 -0000
Received: (qmail 90064 invoked by uid 500); 10 Dec 2004 20:53:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89999 invoked by uid 500); 10 Dec 2004 20:53:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89950 invoked by uid 99); 10 Dec 2004 20:53:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.thirdpillar.com) (12.40.200.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 12:53:31 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4DEFA.865FA693"
Subject: Sorting based on calculations at search time
Date: Fri, 10 Dec 2004 12:55:04 -0800
Message-ID: <47F6A3A2D8414242AFDE30B1212165A8053EAD@mail.thirdpillar.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting based on calculations at search time
Thread-Index: AcTe+oX0oUEpdtuPSgesFwByJox5gw==
From: "Gurukeerthi Gurunathan" <gurukeerthi@thirdpillar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4DEFA.865FA693
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello,
=20
 I'd like some suggestions on the following scenario.=20
 Say I have an index with a stored, indexed field called
'weight'(essentially an int stored as string). I'd like to sort in
descending order of final weight, the search results by performing a
calculation involving the lucene score for each hits. For our
discussion, the calculation can be as simple as multiplying the lucene
score with the value from the field 'weight' to get final weight. The
search results can run into thousands of documents. Though finally I may
need only the top X number of documents, I wouldn't know what the top X
would be until I perform this calculation and sort it.
 The obvious way is to do a post processing of the hits iterator,
storing it in memory, performing this calculation and sorting it. Is
there any other better solution for this?
=20
Thanks,
Guru.
=20
=20
*********************************
Gurukeerthi Gurunathan
Third Pillar Systems
San Mateo, CA
650-372-1200x229
=20

------_=_NextPart_001_01C4DEFA.865FA693--

From MAILER-DAEMON Fri Dec 10 21:16:36 2004
Return-Path: 
 <lucene-user-return-11831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22316 invoked from network); 10 Dec 2004 21:16:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 21:16:36 -0000
Received: (qmail 26328 invoked by uid 500); 10 Dec 2004 21:16:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26307 invoked by uid 500); 10 Dec 2004 21:16:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26289 invoked by uid 99); 10 Dec 2004 21:16:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 13:16:29 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: MultiSearcher close
Date: Fri, 10 Dec 2004 16:16:19 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523563@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: MultiSearcher close
Thread-Index: AcTe+oX0oUEpdtuPSgesFwByJox5gwAADLBg
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 If I close a MultiSearcher, does it close all the associated searchers
too? I was getting a bad file descriptor error, if I close the
MultiSearcher object and open it again for another search without
reinstantiating the underlying searchers.=20

Thanks in advance,
Ravi

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 21:25:11 2004
Return-Path: 
 <lucene-user-return-11832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26358 invoked from network); 10 Dec 2004 21:25:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 21:25:11 -0000
Received: (qmail 43226 invoked by uid 500); 10 Dec 2004 21:25:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43168 invoked by uid 500); 10 Dec 2004 21:25:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43154 invoked by uid 99); 10 Dec 2004 21:25:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu)
 (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 13:25:04 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id ADA971F5223
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 16:25:01 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09843-07 for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 16:25:01 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 6888F1F51E2
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 16:25:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523563@htexc.hq.htinc.com>
References: <4568BE33B520DD43B7B24DE0B609B215523563@htexc.hq.htinc.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F3070281-4AF1-11D9-8A04-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MultiSearcher close
Date: Fri, 10 Dec 2004 16:25:00 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 10, 2004, at 4:16 PM, Ravi wrote:
>  If I close a MultiSearcher, does it close all the associated searchers
> too?

It sure does:

   public void close() throws IOException {
     for (int i = 0; i < searchables.length; i++)
       searchables[i].close();
   }


>  I was getting a bad file descriptor error, if I close the
> MultiSearcher object and open it again for another search without
> reinstantiating the underlying searchers.
>
> Thanks in advance,
> Ravi
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 22:30:19 2004
Return-Path: 
 <lucene-user-return-11833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52060 invoked from network); 10 Dec 2004 22:30:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 22:30:19 -0000
Received: (qmail 56560 invoked by uid 500); 10 Dec 2004 22:30:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56536 invoked by uid 500); 10 Dec 2004 22:30:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56523 invoked by uid 99); 10 Dec 2004 22:30:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jhager@gmail.com designates
 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 14:30:12 -0800
Received: by wproxy.gmail.com with SMTP id 69so351371wri
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 14:30:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=niYE1FmVwomDgY9TMxe03ejS98RLbnse6RP52bT0dzCOKyQt4UKYyms4aXbR+2vRJ/1XKP+g3r13W//9ErmtE+zJhfoTZ+2NrYwr7ag5uKN7f3/Dbt93YAyYHxMHWZ3ot7MXh51Z1b/nLxcmopj2dUDui8AkcL6LzsKAr2wDSkw=
Received: by 10.54.47.62 with SMTP id u62mr271714wru;
        Fri, 10 Dec 2004 14:29:33 -0800 (PST)
Received: by 10.54.2.48 with HTTP; Fri, 10 Dec 2004 14:29:33 -0800 (PST)
Message-ID: <836e9242041210142939b21871@mail.gmail.com>
Date: Fri, 10 Dec 2004 14:29:33 -0800
From: Jonathan Hager <jhager@gmail.com>
Reply-To: Jonathan Hager <jhager@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene in Action e-book now available!
In-Reply-To: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Congratulations on the book.  I ordered my copy the other day via
regular post and am eagerly awaiting it.  It looks like it will make
lucene available to a much wider audience.

Based on the table of contents, I wanted to toss out a couple of ideas
for your next book or articles.

1. I didn't see any examples of indexing a database table.  Although
it was mentioned in Chapter 1.  At the company I am currently
consulting at, we index the data from the database because its cleaner
than indexing the web.  This discussion should include why you would
want to use lucene to index a database table, rather than just using
the database indexes.  (The top reasons we choose to use Lucene
instead of just database indexes are: It allows stem word recognition;
It allows fuzzy searching; It ranks the results based on how good the
match is; It contains a parser that will parse natural language
queries; It has better Analyzers)

2. This one is a cookbook idea, I think it would be possible to index
the access log of web server.  Than when a user views product X the
searcher could search for a other products that were viewed by people
that also looked at product X.  In this way you can create basic
"cross-selling" opportunities.  This feature is a big seller to
managers for commercial search offerings.

3. A lot of search applications being built using lucene are web
applications.  I didn't see any reference to the two different
strategies for paging a hit list.  The two strategies are repeating
the search and caching a search.  An example of this would be good. 
[I know that I have seen this online, its just nice to have a
reference in book form]

Please don't take this as criticism.  First of all, because I have not
read the book.  Secondly, I am excluding the other 17 topics that I
thought should be in a book (for example, indexing PDFs, highlighting
search results, create a thesaurus, suggesting alternatives spellings,
filtering by ACLs, etc...) because they are clearly in your table of
contents.

I look forward to reading the book and appreciate your 14+ months of
hard work to create a concise but valuable book for Lucene.

Jonathan


On Fri, 10 Dec 2004 03:52:55 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> The Lucene in Action e-book is now available at Manning's site:
> 
>         http://www.manning.com/hatcher2
> 
> Manning also put lots of other goodies there, the table of contents,
> "about this book", preface, the foreward from Doug Cutting himself
> (thanks Doug!!!), and a couple of sample chapters.  The complete source
> code is there as well.
> 
> Now comes the exciting part to find out what others think of the work
> Otis and I spent 14+ months of our lives on.
> 
>         Erik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 10 23:13:39 2004
Return-Path: 
 <lucene-user-return-11834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69300 invoked from network); 10 Dec 2004 23:13:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Dec 2004 23:13:39 -0000
Received: (qmail 46402 invoked by uid 500); 10 Dec 2004 23:13:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46385 invoked by uid 500); 10 Dec 2004 23:13:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46366 invoked by uid 99); 10 Dec 2004 23:13:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 10 Dec 2004 15:13:25 -0800
Received: (qmail 42199 invoked by uid 60001); 10 Dec 2004 23:13:24 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=BWp/p78/W2hfqLriVI2vedtJphOaF7tFKJT+eKlHDxRPV2gbu8Xn3WBbmwrctR6DLeRVGZPB/7nNFB2KUkUHTh+D2WehU+JgX1W28yJ1UgWoBSred1U732BQorJzlvdAIhHFQuyAZnHAFGhKi8XQd0FyItqkUfZjHTOTRe7bUes=
  ;
Message-ID: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Fri, 10 Dec 2004 15:13:23 PST
Date: Fri, 10 Dec 2004 15:13:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Sorting based on calculations at search time
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <47F6A3A2D8414242AFDE30B1212165A8053EAD@mail.thirdpillar.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Guru (I thought my first name was OK.... until now),

Have you tried using boosts for that?  You can boost individual
Document Fields when indexing, and/or you can boost individual
Documents, thus giving some more and some less 'weight', which will
have an effect on the final score.

Otis



--- Gurukeerthi Gurunathan <gurukeerthi@thirdpillar.com> wrote:

> Hello,
>  
>  I'd like some suggestions on the following scenario. 
>  Say I have an index with a stored, indexed field called
> 'weight'(essentially an int stored as string). I'd like to sort in
> descending order of final weight, the search results by performing a
> calculation involving the lucene score for each hits. For our
> discussion, the calculation can be as simple as multiplying the
> lucene
> score with the value from the field 'weight' to get final weight. The
> search results can run into thousands of documents. Though finally I
> may
> need only the top X number of documents, I wouldn't know what the top
> X
> would be until I perform this calculation and sort it.
>  The obvious way is to do a post processing of the hits iterator,
> storing it in memory, performing this calculation and sorting it. Is
> there any other better solution for this?
>  
> Thanks,
> Guru.
>  
>  
> *********************************
> Gurukeerthi Gurunathan
> Third Pillar Systems
> San Mateo, CA
> 650-372-1200x229
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 00:33:33 2004
Return-Path: 
 <lucene-user-return-11835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94138 invoked from network); 11 Dec 2004 00:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 00:33:33 -0000
Received: (qmail 50285 invoked by uid 500); 11 Dec 2004 00:33:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50246 invoked by uid 500); 11 Dec 2004 00:33:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50233 invoked by uid 99); 11 Dec 2004 00:33:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 16:33:25 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 757E013E2009; Fri, 10 Dec 2004 19:33:23 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 603E313E2005
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 19:32:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <836e9242041210142939b21871@mail.gmail.com>
References: <E2478224-4A88-11D9-9954-000393A564E6@ehatchersolutions.com>
 <836e9242041210142939b21871@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <30035954-4B0C-11D9-B135-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in Action e-book now available!
Date: Fri, 10 Dec 2004 19:32:50 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jonathan,

On Dec 10, 2004, at 5:29 PM, Jonathan Hager wrote:
> Congratulations on the book.  I ordered my copy the other day via
> regular post and am eagerly awaiting it.  It looks like it will make
> lucene available to a much wider audience.

Thank you.  Let me know off-line when you receive your copy, so I can 
get an idea of when it actually ships.

> Based on the table of contents, I wanted to toss out a couple of ideas
> for your next book or articles.

Suggestions more than welcome!

> 1. I didn't see any examples of indexing a database table.  Although
> it was mentioned in Chapter 1.  At the company I am currently
> consulting at, we index the data from the database because its cleaner
> than indexing the web.

It is true that LIA does not cover any details of indexing a database.  
The idea is that Lucene indexes text, and how you get text into Lucene 
is not usually generalizable - or at least not worth the complexity of 
trying to do so.

The jGuru case study makes some strong points about indexing your 
content rather than your website.  I've found that words of wisdom 
often are more potent than specific technical details that do not 
generalize.

>   This discussion should include why you would
> want to use lucene to index a database table, rather than just using
> the database indexes.  (The top reasons we choose to use Lucene
> instead of just database indexes are: It allows stem word recognition;
> It allows fuzzy searching; It ranks the results based on how good the
> match is; It contains a parser that will parse natural language
> queries; It has better Analyzers)

These are all great points.  I will add these to my notes for future 
editions.

> 2. This one is a cookbook idea, I think it would be possible to index
> the access log of web server.  Than when a user views product X the
> searcher could search for a other products that were viewed by people
> that also looked at product X.  In this way you can create basic
> "cross-selling" opportunities.  This feature is a big seller to
> managers for commercial search offerings.

While this is not exactly what you mention, I did write a section on 
the new term vector feature allowing it to be used for for finding 
similar documents.

> 3. A lot of search applications being built using lucene are web
> applications.  I didn't see any reference to the two different
> strategies for paging a hit list.  The two strategies are repeating
> the search and caching a search.  An example of this would be good.
> [I know that I have seen this online, its just nice to have a
> reference in book form]

The Searching chapter has a brief section discussing this topic, with 
the advice that re-searching is the best first approach.

> Please don't take this as criticism.

No worries.  Your points are all very valid.

To address the inevitable follow-up, I am setting up a blog site where 
we'll post items that need further clarification, correction, or 
completely new things that we did not cover.  This will take me a few 
weeks to get time to set up properly.  I will announce it here when it 
is available.

> I look forward to reading the book and appreciate your 14+ months of
> hard work to create a concise but valuable book for Lucene.

Thanks again for your feedback.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 00:36:28 2004
Return-Path: 
 <lucene-user-return-11836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95193 invoked from network); 11 Dec 2004 00:36:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 00:36:28 -0000
Received: (qmail 56335 invoked by uid 500); 11 Dec 2004 00:36:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56302 invoked by uid 500); 11 Dec 2004 00:36:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56276 invoked by uid 99); 11 Dec 2004 00:36:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 16:36:15 -0800
Received: (qmail 24425 invoked by uid 532); 11 Dec 2004 00:35:54 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.065068 secs); 11 Dec 2004 00:35:54 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 11 Dec 2004 00:35:53 -0000
Message-ID: <41BA410B.9000501@tropo.com>
Date: Fri, 10 Dec 2004 16:36:27 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Incremental Search experiment with Lucene,
 sort of like the new Google
 Suggestion page
References: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
In-Reply-To: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Google just came out with a page that gives you feedback as to how many 
pages will match your query and variations on it:

http://www.google.com/webhp?complete=1&hl=en

I had an unexposed experiment I had done with Lucene a few months ago 
that this has inspired me to expose - it's not the same, but it's 
similar in that as you type in a query you're given *immediate* feedback 
as to how many pages match.

Try it here: http://www.searchmorph.com/kat/isearch.html

This is my "SearchMorph" site which has an index of ~90k pages of open 
source javadoc packages.

As you type in a query, on every keystroke it does at least one Lucene 
search to show results in the bottom part of the page.

It also gives spelling corrections (using my "NGramSpeller" 
contribution) and also suggests popular tokens that start the same way 
as your search query.

For one way to see corrections in action, type in "rollback" character 
by character (don't do a cut and paste).

Note that:
-- this is not how the Google page works - just similar to it
-- I do single word suggestions while google does the more useful whole 
phrase suggestions (TBD I'll try to copy them)
-- They do lots of javascript magic, whereas I use old school frames mostly
-- this is relatively expensive, as it does 1 query per character, and 
when it's doing spelling correction there is even more work going on
-- this is just an experiment and the page may be unstable as I fool w/ it

What's nice is when you get used to immediate results, going back to the 
"batch" way of searching seems backward, slow, and old fashioned.

There are too many idle CPUs in the world - this is one way to keep them 
busier :)

-- Dave

PS Weblog entry updated too: 
http://www.searchmorph.com/weblog/index.php?id=26






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 00:38:49 2004
Return-Path: 
 <lucene-user-return-11837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95860 invoked from network); 11 Dec 2004 00:38:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 00:38:49 -0000
Received: (qmail 59354 invoked by uid 500); 11 Dec 2004 00:38:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59331 invoked by uid 500); 11 Dec 2004 00:38:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59317 invoked by uid 99); 11 Dec 2004 00:38:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 16:38:41 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id iBB0ceVu024911
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 17:38:40 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I8J00F018G6H4@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Fri, 10 Dec 2004 16:38:40 -0800 (PST)
Received: from Sun.COM (sr1-umpk-10.SFBay.Sun.COM [129.146.11.178])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I8J00EHL8GFQT@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Fri, 10 Dec 2004 16:38:40 -0800 (PST)
Date: Fri, 10 Dec 2004 16:38:39 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Indexing HTML files give following message
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <41BA418F.5030700@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

java org.apache.lucene.demo.IndexHTML -create -index
/source/workarea/hs152827/newIndex ..
adding ../0/10037.html
adding ../0/10050.html
adding ../0/1006132.html
adding ../0/1013223.html
Parse Aborted: Encountered "\"" at line 5, column 1.
Was expecting one of:
    <ArgName> ...
    "=" ...
    <TagEnd> ...

And then the indexing hangs on this line. Earlier it used to go on and
index remaining pages in the directory. Any idea why would the indexer
stop at this error.

Pointers are much needed and appreciated.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 00:59:29 2004
Return-Path: 
 <lucene-user-return-11838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 568 invoked from network); 11 Dec 2004 00:59:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 00:59:29 -0000
Received: (qmail 80532 invoked by uid 500); 11 Dec 2004 00:59:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80510 invoked by uid 500); 11 Dec 2004 00:59:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80496 invoked by uid 99); 11 Dec 2004 00:59:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.thirdpillar.com) (12.40.200.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 16:59:19 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting based on calculations at search time
Date: Fri, 10 Dec 2004 17:00:52 -0800
Message-ID: <47F6A3A2D8414242AFDE30B1212165A8053EC0@mail.thirdpillar.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting based on calculations at search time
Thread-Index: AcTfDkpw7hl4oaDeSyuO9T0M9AMmawAC6+jA
From: "Gurukeerthi Gurunathan" <gurukeerthi@thirdpillar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Otis for your response and compliments (wish I was a lucene guru
like you guys :-)

I believe you are talking about the boost factor for fields or documents
while searching. That does not apply in my case - maybe I am missing a
point here.=20
The weight field I was talking about is only for the calculation
purpose, I am not searching on that field (it can be just a stored,
unindexed field). The main searching happens on other fields(like title,
keywords etc.) for which I am already using some boost factor. The
problem starts after I search and got some set of results - all I want
here is the result to be ordered by a number that is a multiplication of
lucene score and the weight field value for each document.=20

I understand that without iterating thru the hits I cannot retrieve the
score and the weight for each document - which is why I'd like this
calculation and ordering to happen while searching so that I can avoid
the iteration over the entire hits. If it involves working on the lucene
source code, please point me to the right class or package that I should
be dealing with.

Thanks again,
Guru.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Friday, December 10, 2004 3:13 PM
To: Lucene Users List
Subject: Re: Sorting based on calculations at search time

Guru (I thought my first name was OK.... until now),

Have you tried using boosts for that?  You can boost individual Document
Fields when indexing, and/or you can boost individual Documents, thus
giving some more and some less 'weight', which will have an effect on
the final score.

Otis



--- Gurukeerthi Gurunathan <gurukeerthi@thirdpillar.com> wrote:

> Hello,
> =20
>  I'd like some suggestions on the following scenario.=20
>  Say I have an index with a stored, indexed field called=20
> 'weight'(essentially an int stored as string). I'd like to sort in=20
> descending order of final weight, the search results by performing a=20
> calculation involving the lucene score for each hits. For our=20
> discussion, the calculation can be as simple as multiplying the lucene

> score with the value from the field 'weight' to get final weight. The=20
> search results can run into thousands of documents. Though finally I=20
> may need only the top X number of documents, I wouldn't know what the=20
> top X would be until I perform this calculation and sort it.
>  The obvious way is to do a post processing of the hits iterator,=20
> storing it in memory, performing this calculation and sorting it. Is=20
> there any other better solution for this?
> =20
> Thanks,
> Guru.
> =20
> =20
> *********************************
> Gurukeerthi Gurunathan
> Third Pillar Systems
> San Mateo, CA
> 650-372-1200x229
> =20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 01:23:37 2004
Return-Path: 
 <lucene-user-return-11839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6579 invoked from network); 11 Dec 2004 01:23:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 01:23:37 -0000
Received: (qmail 8963 invoked by uid 500); 11 Dec 2004 01:23:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8941 invoked by uid 500); 11 Dec 2004 01:23:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8920 invoked by uid 99); 11 Dec 2004 01:23:31 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,MIME_BOUND_NEXTPART,MIME_QP_LONG_LINE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail-red.bigfish.com (HELO mail41-red-R.bigfish.com)
 (216.148.222.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 17:23:30 -0800
Received: from mail41-red.bigfish.com (localhost.localdomain [127.0.0.1])
	by mail41-red-R.bigfish.com (Postfix) with ESMTP id 83B1455C144
	for <lucene-user@jakarta.apache.org>; Sat, 11 Dec 2004 01:23:28 +0000 (UCT)
X-BigFish: VP
Received: by mail41-red.bigfish.com (MessageSwitch) id 1102728208455122_10936;
 Sat, 11 Dec 2004 01:23:28 +0000 (UCT)
Received: from sv-mailchk1.hyperion.com (unknown [65.249.18.21])
	by mail41-red.bigfish.com (Postfix) with ESMTP id 671A955AA6E
	for <lucene-user@jakarta.apache.org>; Sat, 11 Dec 2004 01:23:28 +0000 (UCT)
Received: from Unknown [65.249.18.17] by sv-mailchk1.hyperion.com -
 SurfControl E-mail Filter (4.7); Fri, 10 Dec 2004 17:05:31 -0800
Received: from NASNVEXM02.hyperion.com ([172.27.6.103]) by
 NASNVEXB01.hyperion.com with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 10 Dec 2004 17:07:44 -0800
Message-ID: <CE90DD14FE8472478AF40BD8D875D2BF76DB@NASNVEXM02.hyperion.com>
From: "Dongling Ding" <Dongling_Ding@hyperion.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Date: Fri, 10 Dec 2004 17:07:43 -0800
Subject: A simple Query Language
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="--=_NextPart_ST_17_05_31_Friday_December_10_2004_3486"
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 11 Dec 2004 01:07:44.0248 (UTC)
 FILETIME=[D1F0C780:01C4DF1D]
Content-class: urn:content-classes:message
Thread-Topic: A simple Query Language
Thread-Index: AcTfHdGQMniLIWFES+C/ng11E3ZtdQ==
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

----=_NextPart_ST_17_05_31_Friday_December_10_2004_3486
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,=0A=0A =
=0A=0AI am going to implement a search service and plan to use Lucene. Is=
=0Athere any simple query language that is independent of any particular=0As=
earch engine out there?=0A=0A =
=0A=0AThanks=0A=0A =
=0A=0A =
=0A=0ADongling=0A=0A =
=0A=0A=0A=0A****************************************************************=
********=0A=0AIf you have received this e-mail in error, please delete it an=
d notify the sender as soon as possible. The contents of this e-mail may be =
confidential and the unauthorized use, copying, or dissemination of it and a=
ny attachments to it, is prohibited. =
=0A=0AInternet communications are not secure and Hyperion does not, therefor=
e, accept legal responsibility for the contents of this message nor for any =
damage caused by viruses.  The views expressed here do not necessarily repre=
sent those of Hyperion.=0A=0AFor more information about Hyperion, please vis=
it our Web site at www.hyperion.com=0A


----=_NextPart_ST_17_05_31_Friday_December_10_2004_3486--

From MAILER-DAEMON Sat Dec 11 02:07:29 2004
Return-Path: 
 <lucene-user-return-11840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16862 invoked from network); 11 Dec 2004 02:07:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 02:07:29 -0000
Received: (qmail 53014 invoked by uid 500); 11 Dec 2004 02:07:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52988 invoked by uid 500); 11 Dec 2004 02:07:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52973 invoked by uid 99); 11 Dec 2004 02:07:24 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 18:07:23 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: A simple Query Language
Date: Fri, 10 Dec 2004 18:07:20 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02BF1507@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: A simple Query Language
Thread-Index: AcTfHdGQMniLIWFES+C/ng11E3ZtdQAB9vUg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You could support only terms with no operators at all, which will work
in most search engines (except those that require combining operators).
Using just terms and phrases embedded in ""'s is pretty universal.
After that, you might want to add +/- required/prohibited restrictions,
which many engines support.  After that, I think you're getting pretty
specific.  Lucene supports all of these and many more.

Chuck

  > -----Original Message-----
  > From: Dongling Ding [mailto:Dongling_Ding@hyperion.com]
  > Sent: Friday, December 10, 2004 5:08 PM
  > To: Lucene Users List
  > Subject: A simple Query Language
  >=20
  > Hi,
  >=20
  >=20
  >=20
  > I am going to implement a search service and plan to use Lucene. Is
  > there any simple query language that is independent of any
particular
  > search engine out there?
  >=20
  >=20
  >=20
  > Thanks
  >=20
  >=20
  >=20
  >=20
  >=20
  > Dongling
  >=20
  >=20
  >=20
  >=20
  >=20
  >
************************************************************************
  >=20
  > If you have received this e-mail in error, please delete it and
notify
  > the sender as soon as possible. The contents of this e-mail may be
  > confidential and the unauthorized use, copying, or dissemination of
it
  > and any attachments to it, is prohibited.
  >=20
  > Internet communications are not secure and Hyperion does not,
therefore,
  > accept legal responsibility for the contents of this message nor for
any
  > damage caused by viruses.  The views expressed here do not
necessarily
  > represent those of Hyperion.
  >=20
  > For more information about Hyperion, please visit our Web site at
  > www.hyperion.com
  >=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 05:39:28 2004
Return-Path: 
 <lucene-user-return-11841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97385 invoked from network); 11 Dec 2004 05:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 05:39:28 -0000
Received: (qmail 53624 invoked by uid 500); 11 Dec 2004 05:39:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53603 invoked by uid 500); 11 Dec 2004 05:39:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53589 invoked by uid 99); 11 Dec 2004 05:39:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com
 designates 64.233.170.205 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.205)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 21:39:21 -0800
Received: by rproxy.gmail.com with SMTP id z35so500485rne
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Dec 2004 21:39:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=pIL1akeJBwE1YEkXaBAPvYg8PRHwoMCC1CTFpyRldPia5d0iqD8uU5shy1xrGFl+9bo8Z8HLA41YNgVh7HvUnlk0FEcKQNrIksKkX6+DyEBK3afOmtjxEKC6Mkn8XYl+hxkHMVQMlKKGZ1V03sIp62MG2xiTqKn2Odmq0hlzG68=
Received: by 10.38.70.14 with SMTP id s14mr1614310rna;
        Fri, 10 Dec 2004 21:39:19 -0800 (PST)
Received: by 10.38.104.5 with HTTP; Fri, 10 Dec 2004 21:39:19 -0800 (PST)
Message-ID: <88c6a67204121021397845a751@mail.gmail.com>
Date: Fri, 10 Dec 2004 23:39:19 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Incremental Search experiment with Lucene,
 sort of like the new Google Suggestion page
In-Reply-To: <41BA410B.9000501@tropo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
	 <41BA410B.9000501@tropo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Very cool, thanks for posting this!  

Google's feature doesn't seem to do a search on every keystroke
necessarily.  Instead, it waits until you haven't typed a character
for a short period (I'm guessing about 100 or 150 milliseconds).  So
if you type fast, it doesn't hit the server until you pause.  There
are some more detailed postings on slashdot about how it works.

On Fri, 10 Dec 2004 16:36:27 -0800, David Spencer
<dave-lucene-user@tropo.com> wrote:
> 
> Google just came out with a page that gives you feedback as to how many
> pages will match your query and variations on it:
> 
> http://www.google.com/webhp?complete=1&hl=en
> 
> I had an unexposed experiment I had done with Lucene a few months ago
> that this has inspired me to expose - it's not the same, but it's
> similar in that as you type in a query you're given *immediate* feedback
> as to how many pages match.
> 
> Try it here: http://www.searchmorph.com/kat/isearch.html
> 
> This is my "SearchMorph" site which has an index of ~90k pages of open
> source javadoc packages.
> 
> As you type in a query, on every keystroke it does at least one Lucene
> search to show results in the bottom part of the page.
> 
> It also gives spelling corrections (using my "NGramSpeller"
> contribution) and also suggests popular tokens that start the same way
> as your search query.
> 
> For one way to see corrections in action, type in "rollback" character
> by character (don't do a cut and paste).
> 
> Note that:
> -- this is not how the Google page works - just similar to it
> -- I do single word suggestions while google does the more useful whole
> phrase suggestions (TBD I'll try to copy them)
> -- They do lots of javascript magic, whereas I use old school frames mostly
> -- this is relatively expensive, as it does 1 query per character, and
> when it's doing spelling correction there is even more work going on
> -- this is just an experiment and the page may be unstable as I fool w/ it
> 
> What's nice is when you get used to immediate results, going back to the
> "batch" way of searching seems backward, slow, and old fashioned.
> 
> There are too many idle CPUs in the world - this is one way to keep them
> busier :)
> 
> -- Dave
> 
> PS Weblog entry updated too:
> http://www.searchmorph.com/weblog/index.php?id=26
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 06:21:23 2004
Return-Path: 
 <lucene-user-return-11842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14521 invoked from network); 11 Dec 2004 06:21:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 06:21:23 -0000
Received: (qmail 92086 invoked by uid 500); 11 Dec 2004 06:21:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92061 invoked by uid 500); 11 Dec 2004 06:21:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92047 invoked by uid 99); 11 Dec 2004 06:21:16 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 10 Dec 2004 22:21:15 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0D2A95B837; Fri, 10 Dec 2004 22:21:07 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E5D317F45E
	for <lucene-user@jakarta.apache.org>; Fri, 10 Dec 2004 22:21:07 -0800 (PST)
Date: Fri, 10 Dec 2004 22:21:07 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Sorting based on calculations at search time
In-Reply-To: <47F6A3A2D8414242AFDE30B1212165A8053EC0@mail.thirdpillar.com>
Message-ID: <Pine.LNX.4.58.0412102206070.28345@hal.rescomp.berkeley.edu>
References: <47F6A3A2D8414242AFDE30B1212165A8053EC0@mail.thirdpillar.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: I believe you are talking about the boost factor for fields or documents
: while searching. That does not apply in my case - maybe I am missing a
: point here.
: The weight field I was talking about is only for the calculation

Otis is suggesting that you set the boost of the document to be your
weight value.  That way Lucene will automaticly do your multiplucation
calculation when determining the score

The down side of this, is that i don't think there's anyway to keep
it from influencing the score on every search, so it's not something you
could use only on some queries.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 16:21:07 2004
Return-Path: 
 <lucene-user-return-11843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24260 invoked from network); 11 Dec 2004 16:21:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 16:21:07 -0000
Received: (qmail 14786 invoked by uid 500); 11 Dec 2004 16:21:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14765 invoked by uid 500); 11 Dec 2004 16:21:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14739 invoked by uid 99); 11 Dec 2004 16:21:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fftmc1@gmx.net designates
 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 11 Dec 2004 08:21:00 -0800
Received: (qmail 29314 invoked by uid 65534); 11 Dec 2004 16:20:57 -0000
Received: from p54803E44.dip.t-dialin.net (EHLO tom1) (84.128.62.68)
  by mail.gmx.net (mp013) with SMTP; 11 Dec 2004 17:20:57 +0100
X-Authenticated: #24188672
From: "Tom" <fftmc1@gmx.net>
To: <lucene-user@jakarta.apache.org>
Subject: How to index Windows' Compiled HTML Help (CHM) Format
Date: Sat, 11 Dec 2004 17:20:57 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcTfnWSo0V928Er+SQyy/tKfJjFwTw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does anybody know how to index chm-files? 
A possible solution I know is to convert chm-files to pdf-files (there are
converters available for this job) and then use the known tools (e.g.
PDFBox) to index the content of the pdf files (which contain the content of
the chm-files). Are there any tools which can directly grab the textual
content out of the (binary) chm-files?

I think chm-file indexing-support is really a big missing piece in the
currently supported indexable filetype-collection (XML, HTML, PDF,
MSWord-DOC, RTF, Plaintext). 

WBR,
Tom.  


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 18:09:53 2004
Return-Path: 
 <lucene-user-return-11844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55472 invoked from network); 11 Dec 2004 18:09:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 18:09:53 -0000
Received: (qmail 54912 invoked by uid 500); 11 Dec 2004 18:09:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54887 invoked by uid 500); 11 Dec 2004 18:09:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54863 invoked by uid 99); 11 Dec 2004 18:09:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 11 Dec 2004 10:09:42 -0800
Received: (qmail 19520 invoked by uid 532); 11 Dec 2004 18:09:20 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.300155 secs); 11 Dec 2004 18:09:20 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 11 Dec 2004 18:09:19 -0000
Message-ID: <41BB37E2.8040905@tropo.com>
Date: Sat, 11 Dec 2004 10:09:38 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Incremental Search experiment with Lucene, sort of like the new
 Google Suggestion page
References: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
	 <41BA410B.9000501@tropo.com> <88c6a67204121021397845a751@mail.gmail.com>
In-Reply-To: <88c6a67204121021397845a751@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Lamprecht wrote:

> Very cool, thanks for posting this!  
> 
> Google's feature doesn't seem to do a search on every keystroke
> necessarily.  Instead, it waits until you haven't typed a character
> for a short period (I'm guessing about 100 or 150 milliseconds). 

Ohh, good point - I was wondering how to "cancel" a URL - this is the 
right way. I'll try to code that in.

I also realized they're prob not doing searches at all - instead they're 
going off a DB of query popularity - I wanted to code up something 
generic, based just on term frequency but I don't think it'll be useful 
e.g. let's say
in my index (index of javadoc-generated documentation) the user types in
"hash" - well a human might guess that they intend "hash map" or 
"hashmap" or "hash tree" but I'm sure other terms are more frequent in 
my index than "map" and "tree"...I'm sure "hash java" occurs more 
frequently than "hash map" - or any other freq, non-stop word, and it's 
dubious that "hash java" is a useful suggestion...

> So
> if you type fast, it doesn't hit the server until you pause.  There
> are some more detailed postings on slashdot about how it works.
> 
> On Fri, 10 Dec 2004 16:36:27 -0800, David Spencer
> <dave-lucene-user@tropo.com> wrote:
> 
>>Google just came out with a page that gives you feedback as to how many
>>pages will match your query and variations on it:
>>
>>http://www.google.com/webhp?complete=1&hl=en
>>
>>I had an unexposed experiment I had done with Lucene a few months ago
>>that this has inspired me to expose - it's not the same, but it's
>>similar in that as you type in a query you're given *immediate* feedback
>>as to how many pages match.
>>
>>Try it here: http://www.searchmorph.com/kat/isearch.html
>>
>>This is my "SearchMorph" site which has an index of ~90k pages of open
>>source javadoc packages.
>>
>>As you type in a query, on every keystroke it does at least one Lucene
>>search to show results in the bottom part of the page.
>>
>>It also gives spelling corrections (using my "NGramSpeller"
>>contribution) and also suggests popular tokens that start the same way
>>as your search query.
>>
>>For one way to see corrections in action, type in "rollback" character
>>by character (don't do a cut and paste).
>>
>>Note that:
>>-- this is not how the Google page works - just similar to it
>>-- I do single word suggestions while google does the more useful whole
>>phrase suggestions (TBD I'll try to copy them)
>>-- They do lots of javascript magic, whereas I use old school frames mostly
>>-- this is relatively expensive, as it does 1 query per character, and
>>when it's doing spelling correction there is even more work going on
>>-- this is just an experiment and the page may be unstable as I fool w/ it
>>
>>What's nice is when you get used to immediate results, going back to the
>>"batch" way of searching seems backward, slow, and old fashioned.
>>
>>There are too many idle CPUs in the world - this is one way to keep them
>>busier :)
>>
>>-- Dave
>>
>>PS Weblog entry updated too:
>>http://www.searchmorph.com/weblog/index.php?id=26
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 11 19:12:47 2004
Return-Path: 
 <lucene-user-return-11845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74460 invoked from network); 11 Dec 2004 19:12:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Dec 2004 19:12:47 -0000
Received: (qmail 16015 invoked by uid 500); 11 Dec 2004 19:12:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15990 invoked by uid 500); 11 Dec 2004 19:12:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15976 invoked by uid 99); 11 Dec 2004 19:12:40 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 11 Dec 2004 11:12:39 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3E75E5B7B1; Sat, 11 Dec 2004 11:12:31 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3D5EA7F45E
	for <lucene-user@jakarta.apache.org>; Sat, 11 Dec 2004 11:12:31 -0800 (PST)
Date: Sat, 11 Dec 2004 11:12:31 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Incremental Search experiment with Lucene, sort of like the new
 Google Suggestion page
In-Reply-To: <41BB37E2.8040905@tropo.com>
Message-ID: <Pine.LNX.4.58.0412111107060.14897@hal.rescomp.berkeley.edu>
References: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
 <41BA410B.9000501@tropo.com> <88c6a67204121021397845a751@mail.gmail.com>
 <41BB37E2.8040905@tropo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: I also realized they're prob not doing searches at all - instead they're
: going off a DB of query popularity - I wanted to code up something

you are correct, hence the reason "cnet banana" doesn't appear in the list
of "suggestions" even though it has 41K results, but "hossman trophy" does
(with less then 1K results)

They're building up the list based on search frequency, not term
frequency.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 02:10:58 2004
Return-Path: 
 <lucene-user-return-11846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89079 invoked from network); 12 Dec 2004 02:10:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 02:10:58 -0000
Received: (qmail 2739 invoked by uid 500); 12 Dec 2004 02:10:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2721 invoked by uid 500); 12 Dec 2004 02:10:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2706 invoked by uid 99); 12 Dec 2004 02:10:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 11 Dec 2004 18:10:50 -0800
Received: from [192.168.1.100] (dsl081-071-021.sfo1.dsl.speakeasy.net
 [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id iBC2Amg6007635
	for <lucene-user@jakarta.apache.org>; Sat, 11 Dec 2004 18:10:48 -0800
Message-ID: <41BBA8A8.2050106@newsmonster.org>
Date: Sat, 11 Dec 2004 18:10:48 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to index Windows' Compiled HTML Help (CHM) Format
References: <200412111620.iBBGKx20012178@relativity.peerfear.org>
In-Reply-To: <200412111620.iBBGKx20012178@relativity.peerfear.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tom wrote:

>Hi,
>
>Does anybody know how to index chm-files? 
>A possible solution I know is to convert chm-files to pdf-files (there are
>converters available for this job) and then use the known tools (e.g.
>PDFBox) to index the content of the pdf files (which contain the content of
>the chm-files). Are there any tools which can directly grab the textual
>content out of the (binary) chm-files?
>
>I think chm-file indexing-support is really a big missing piece in the
>currently supported indexable filetype-collection (XML, HTML, PDF,
>MSWord-DOC, RTF, Plaintext). 
>  
>
I believe its just a Microsoft .cab file with an index.html inside it... 
am I right?

just uncompress it.

The problem is that the HTML within them isn't any way NEAR standard and 
you can't really give them to the user in the UI...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 03:33:50 2004
Return-Path: 
 <lucene-user-return-11847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22491 invoked from network); 12 Dec 2004 03:33:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 03:33:50 -0000
Received: (qmail 60569 invoked by uid 500); 12 Dec 2004 03:33:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60181 invoked by uid 500); 12 Dec 2004 03:33:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60156 invoked by uid 99); 12 Dec 2004 03:33:45 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,NORMAL_HTTP_TO_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 11 Dec 2004 19:33:42 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 022BA81DA0
	for <lucene-user@jakarta.apache.org>; Sat, 11 Dec 2004 21:50:51 -0500 (EST)
Message-ID: <41BBBBA6.6080908@max3d.com>
Date: Sat, 11 Dec 2004 22:31:50 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to index Windows' Compiled HTML Help (CHM) Format
References: <20041211153824.13AF2823F7@ns.uscybersites.net>
In-Reply-To: <20041211153824.13AF2823F7@ns.uscybersites.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest you look at the chmlib at: 
http://66.93.236.84/~jedwin/projects/chmlib/

-pedja


Tom said the following on 12/11/2004 11:20 AM:

>Hi,
>
>Does anybody know how to index chm-files? 
>A possible solution I know is to convert chm-files to pdf-files (there are
>converters available for this job) and then use the known tools (e.g.
>PDFBox) to index the content of the pdf files (which contain the content of
>the chm-files). Are there any tools which can directly grab the textual
>content out of the (binary) chm-files?
>
>I think chm-file indexing-support is really a big missing piece in the
>currently supported indexable filetype-collection (XML, HTML, PDF,
>MSWord-DOC, RTF, Plaintext). 
>
>WBR,
>Tom.  
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 08:17:56 2004
Return-Path: 
 <lucene-user-return-11848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6536 invoked from network); 12 Dec 2004 08:17:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 08:17:56 -0000
Received: (qmail 65105 invoked by uid 500); 12 Dec 2004 08:17:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65078 invoked by uid 500); 12 Dec 2004 08:17:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65063 invoked by uid 99); 12 Dec 2004 08:17:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 12 Dec 2004 00:17:51 -0800
Received: from transom.cs.utexas.edu (vgupta@transom.cs.utexas.edu
 [128.83.144.245])
	by mail.cs.utexas.edu (8.13.1/8.13.1) with ESMTP id iBC8HnCq013551
	for <lucene-user@jakarta.apache.org>; Sun, 12 Dec 2004 02:17:49 -0600 (CST)
Received: (from vgupta@localhost)
	by transom.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBC8Hnmr003928;
	Sun, 12 Dec 2004 02:17:49 -0600
Date: Sun, 12 Dec 2004 02:17:49 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: lucene-user@jakarta.apache.org
Subject: Customizing termFreq
Message-ID: <Pine.LNX.4.58.0412120210460.806@transom.cs.utexas.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi developers,

I am indexing HTML documents in lucene as:

H1:"text in H1 font"
H2:"text in H2 font"
...
H6:"text in H6 font"
content:"all the text"

The problem is that query of a type
        +(H1:xyz)
is getting scored with the termFreq of xyz in the H1 field whereas I want
it be scored using the termFreq of xyz in the entire document (i.e.
content field)

Can you point me how to achieve this.

I took a look at Similarity class. It does have a tf() function but it is
actually passed a termFreq value.

Thanks a lot.

PS: I am using lucene for a class project where I am trying to utilize
font information of HTML documents. I am boosting the scores for matches
in H6 field over matches in H5 and so on.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 08:32:02 2004
Return-Path: 
 <lucene-user-return-11849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18850 invoked from network); 12 Dec 2004 08:32:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 08:32:02 -0000
Received: (qmail 76115 invoked by uid 500); 12 Dec 2004 08:31:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76096 invoked by uid 500); 12 Dec 2004 08:31:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76082 invoked by uid 99); 12 Dec 2004 08:31:56 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 12 Dec 2004 00:31:55 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 615D15B7AC; Sun, 12 Dec 2004 00:31:48 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6037D7F460
	for <lucene-user@jakarta.apache.org>; Sun, 12 Dec 2004 00:31:48 -0800 (PST)
Date: Sun, 12 Dec 2004 00:31:48 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Customizing termFreq
In-Reply-To: <Pine.LNX.4.58.0412120210460.806@transom.cs.utexas.edu>
Message-ID: <Pine.LNX.4.58.0412120029240.26753@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.58.0412120210460.806@transom.cs.utexas.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: H1:"text in H1 font"
: H2:"text in H2 font"

: content:"all the text"
:
: The problem is that query of a type
:         +(H1:xyz)
: is getting scored with the termFreq of xyz in the H1 field whereas I want
: it be scored using the termFreq of xyz in the entire document (i.e.
: content field)

so why not query for "+(content:xyz)" .. or is the problem that you only
want to get back docs with xyz in an H1, but you want the score based on
the whole doc?

if that's the case, then construct a Filter with the requirement of
(H1:xyz) and make youre query (content:xyz)


-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 08:43:46 2004
Return-Path: 
 <lucene-user-return-11850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20879 invoked from network); 12 Dec 2004 08:43:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 08:43:46 -0000
Received: (qmail 84082 invoked by uid 500); 12 Dec 2004 08:43:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84055 invoked by uid 500); 12 Dec 2004 08:43:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84042 invoked by uid 99); 12 Dec 2004 08:43:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 12 Dec 2004 00:43:37 -0800
Received: from transom.cs.utexas.edu (vgupta@transom.cs.utexas.edu
 [128.83.144.245])
	by mail.cs.utexas.edu (8.13.1/8.13.1) with ESMTP id iBC8hZZ2014675
	for <lucene-user@jakarta.apache.org>; Sun, 12 Dec 2004 02:43:35 -0600 (CST)
Received: (from vgupta@localhost)
	by transom.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBC8hZIH004278;
	Sun, 12 Dec 2004 02:43:35 -0600
Date: Sun, 12 Dec 2004 02:43:35 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Customizing termFreq
In-Reply-To: <Pine.LNX.4.58.0412120029240.26753@hal.rescomp.berkeley.edu>
Message-ID: <Pine.LNX.4.58.0412120239290.806@transom.cs.utexas.edu>
References: <Pine.LNX.4.58.0412120210460.806@transom.cs.utexas.edu>
 <Pine.LNX.4.58.0412120029240.26753@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hoss,

> so why not query for "+(content:xyz)" .. or is the problem that you only
> want to get back docs with xyz in an H1, but you want the score based on
> the whole doc?

That is correct. I want to score documents which match +(H1:xyz) higher
than those which match +(H2:xyz) but the tf and idf computation for xyz
should be based on the entire text and not limited to H1 or H2 fields

>
> if that's the case, then construct a Filter with the requirement of
> (H1:xyz) and make youre query (content:xyz)

I will take a look at this. Thanks a lot for your prompt response.

-Vikas

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 15:31:26 2004
Return-Path: 
 <lucene-user-return-11851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45154 invoked from network); 12 Dec 2004 15:31:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 15:31:26 -0000
Received: (qmail 66204 invoked by uid 500); 12 Dec 2004 15:31:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66148 invoked by uid 500); 12 Dec 2004 15:31:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66127 invoked by uid 99); 12 Dec 2004 15:31:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 12 Dec 2004 07:31:16 -0800
Received: (qmail 31637 invoked by uid 532); 12 Dec 2004 15:30:52 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.274088 secs); 12 Dec 2004 15:30:52 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 12 Dec 2004 15:30:52 -0000
Message-ID: <41BC6441.40402@tropo.com>
Date: Sun, 12 Dec 2004 07:31:13 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Incremental Search experiment with Lucene, sort of like the new
 Google Suggestion page
References: <20041210231324.42197.qmail@web12702.mail.yahoo.com>
	 <41BA410B.9000501@tropo.com> <88c6a67204121021397845a751@mail.gmail.com>
In-Reply-To: <88c6a67204121021397845a751@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Lamprecht wrote:

> Very cool, thanks for posting this!  
> 
> Google's feature doesn't seem to do a search on every keystroke
> necessarily.  Instead, it waits until you haven't typed a character
> for a short period (I'm guessing about 100 or 150 milliseconds).  So

Thx again for tip, I updated my experiment 
(http://www.searchmorph.com/kat/isearch.html, as per below) to use a 
150ms delay to avoid some needless searches...TBD is more intelligent 
"guidance" or suggestions for the user.

> if you type fast, it doesn't hit the server until you pause.  There
> are some more detailed postings on slashdot about how it works.
> 
> On Fri, 10 Dec 2004 16:36:27 -0800, David Spencer
> <dave-lucene-user@tropo.com> wrote:
> 
>>Google just came out with a page that gives you feedback as to how many
>>pages will match your query and variations on it:
>>
>>http://www.google.com/webhp?complete=1&hl=en
>>
>>I had an unexposed experiment I had done with Lucene a few months ago
>>that this has inspired me to expose - it's not the same, but it's
>>similar in that as you type in a query you're given *immediate* feedback
>>as to how many pages match.
>>
>>Try it here: http://www.searchmorph.com/kat/isearch.html
>>
>>This is my "SearchMorph" site which has an index of ~90k pages of open
>>source javadoc packages.
>>
>>As you type in a query, on every keystroke it does at least one Lucene
>>search to show results in the bottom part of the page.
>>
>>It also gives spelling corrections (using my "NGramSpeller"
>>contribution) and also suggests popular tokens that start the same way
>>as your search query.
>>
>>For one way to see corrections in action, type in "rollback" character
>>by character (don't do a cut and paste).
>>
>>Note that:
>>-- this is not how the Google page works - just similar to it
>>-- I do single word suggestions while google does the more useful whole
>>phrase suggestions (TBD I'll try to copy them)
>>-- They do lots of javascript magic, whereas I use old school frames mostly
>>-- this is relatively expensive, as it does 1 query per character, and
>>when it's doing spelling correction there is even more work going on
>>-- this is just an experiment and the page may be unstable as I fool w/ it
>>
>>What's nice is when you get used to immediate results, going back to the
>>"batch" way of searching seems backward, slow, and old fashioned.
>>
>>There are too many idle CPUs in the world - this is one way to keep them
>>busier :)
>>
>>-- Dave
>>
>>PS Weblog entry updated too:
>>http://www.searchmorph.com/weblog/index.php?id=26
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 19:41:16 2004
Return-Path: 
 <lucene-user-return-11852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17060 invoked from network); 12 Dec 2004 19:41:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 19:41:16 -0000
Received: (qmail 38511 invoked by uid 500); 12 Dec 2004 19:41:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38480 invoked by uid 500); 12 Dec 2004 19:41:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38464 invoked by uid 99); 12 Dec 2004 19:41:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 12 Dec 2004 11:41:06 -0800
Received: (qmail 93098 invoked by uid 60001); 12 Dec 2004 19:41:04 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=KQOfU5aQH1Nzp3PgMJha3xph2PsUUHolzh6OzaNY9UBsNcYdrwu4V3cyox92kRKMYFXh/PV+6jZrGMyKEQDCKxLkEciUMqHDX0Ms8fsLSGgL9eIzDXMbYbj8WjLwI8MOdqmHvAdn1WlMNA5qA453zDB5uFuE2bNz/Luk9KW9DM4=
  ;
Message-ID: <20041212194104.93095.qmail@web12705.mail.yahoo.com>
Received: from [69.201.130.95] by web12705.mail.yahoo.com via HTTP;
 Sun, 12 Dec 2004 11:41:04 PST
Date: Sun, 12 Dec 2004 11:41:04 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing HTML files give following message
To: Lucene Users List <lucene-user@jakarta.apache.org>, Hetan.Shah@Sun.COM
In-Reply-To: <41BA418F.5030700@Sun.COM>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

This is probably due to some bad HTML.  The application you are using
is just a demo, and uses a JavaCC-based HTML parser, which may not be
resilient to invalid HTML.  For Lucene in Action we developed a little
extensible indexing framework, and for HTML indexing we used 2 tools to
handle HTML parsing: JTidy and NekoHTML.  Since the code for the book
is freely available....... http://www.manning.com.  NekoHTML knows how
to deal with some bad HTML, that's why I'm suggesting this.
The indexing framework could come handy for those working on various
'desktop search' applications (Roosster, LDesktop (if that's really
happening), Lucidity, etc.)

Otis


--- Hetan Shah <Hetan.Shah@Sun.COM> wrote:

> java org.apache.lucene.demo.IndexHTML -create -index
> /source/workarea/hs152827/newIndex ..
> adding ../0/10037.html
> adding ../0/10050.html
> adding ../0/1006132.html
> adding ../0/1013223.html
> Parse Aborted: Encountered "\"" at line 5, column 1.
> Was expecting one of:
>     <ArgName> ...
>     "=" ...
>     <TagEnd> ...
> 
> And then the indexing hangs on this line. Earlier it used to go on
> and
> index remaining pages in the directory. Any idea why would the
> indexer
> stop at this error.
> 
> Pointers are much needed and appreciated.
> -H
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 12 23:05:24 2004
Return-Path: 
 <lucene-user-return-11853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97630 invoked from network); 12 Dec 2004 23:05:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Dec 2004 23:05:24 -0000
Received: (qmail 75541 invoked by uid 500); 12 Dec 2004 23:05:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75522 invoked by uid 500); 12 Dec 2004 23:05:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75509 invoked by uid 99); 12 Dec 2004 23:05:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 12 Dec 2004 15:05:16 -0800
Received: (qmail 14775 invoked by uid 60001); 12 Dec 2004 23:05:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=qAajeqMCR2kkQPZ0y96Eqdtd7ZnBmkjRo8K+eLtDMEr5pcvH1AiMTOSFXzhhWit9VmG6KQI94HyUWKgfsfUABRXOqVdoMNqpqhRcX8d9vcGdZnJt2eBKxTcu8lXB4zAJt3MIMOTGdYNcctW4LvklfRfx3IV0tAQII+umojaWqMQ=
  ;
Message-ID: <20041212230515.14773.qmail@web12704.mail.yahoo.com>
Received: from [69.201.130.95] by web12704.mail.yahoo.com via HTTP;
 Sun, 12 Dec 2004 15:05:15 PST
Date: Sun, 12 Dec 2004 15:05:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Finding unused segment files?
To: lucene-user@jakarta.apache.org
Cc: gwithers@connected.com
In-Reply-To: <8F59EB4B8A0B5342AA0E8D8D4A4270E111AEAA21@mail2.connected.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-406441690-1102892715=:13678"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-406441690-1102892715=:13678
Content-Type: text/plain; charset=us-ascii
Content-Id: 
Content-Disposition: inline

Hello George,

Here is a quick hack (with a few TODOs).  I only tested it a bit, so
the actual delete calls are still commented out.  If this works for
you, and especially if you take care of TODOs, I may put this in the
Lucene Sandbox.

Otis
P.S.
Usage example showing how the fool found some unused segments (this was
caused by a bug in one of the earlier 1.4 versions of Lucene).

[otis@cosmo java]$ java org.apache.lucene.index.SegmentPurger
/simpy/users/1/index
Candidate non-Lucene file found: _1b2.del
Candidate unused Lucene file found: _1b2.cfs
Candidate unused Lucene file found: _1bm.cfs
Candidate unused Lucene file found: _1c6.cfs
Candidate unused Lucene file found: _1cq.cfs
Candidate unused Lucene file found: _1da.cfs
Candidate unused Lucene file found: _1du.cfs
Candidate unused Lucene file found: _1ee.cfs
Candidate unused Lucene file found: _1ey.cfs
[otis@cosmo java]$
[otis@cosmo java]$ strings /simpy/users/1/index/segments
_3o0
[otis@cosmo java]$ ls -al /simpy/users/1/index/
total 647
drwxrwsr-x    2 otis     simpy        1024 Dec  7 14:39 .
drwxrwsr-x    3 otis     simpy        1024 Sep 16 20:39 ..
-rw-rw-r--    1 otis     simpy      212815 Nov 17 18:36 _1b2.cfs
-rw-rw-r--    1 otis     simpy         104 Nov 17 18:40 _1b2.del
-rw-rw-r--    1 otis     simpy        3380 Nov 17 18:40 _1bm.cfs
-rw-rw-r--    1 otis     simpy        3533 Nov 17 18:40 _1c6.cfs
-rw-rw-r--    1 otis     simpy        4774 Nov 17 18:40 _1cq.cfs
-rw-rw-r--    1 otis     simpy        3389 Nov 17 18:40 _1da.cfs
-rw-rw-r--    1 otis     simpy        3809 Nov 17 18:40 _1du.cfs
-rw-rw-r--    1 otis     simpy        3423 Nov 17 18:40 _1ee.cfs
-rw-rw-r--    1 otis     simpy        4016 Nov 17 18:40 _1ey.cfs
-rw-rw-r--    1 otis     simpy      410299 Dec  7 14:39 _3o0.cfs
-rw-rw-r--    1 otis     simpy           4 Dec  7 14:39 deletable
-rw-rw-r--    1 otis     simpy          29 Dec  7 14:39 segments


--- gwithers@connected.com wrote:

> Hello all.
> 
>  
> 
> I recently ran into a problem where errors during indexing or
> optimization
> (perhaps related to running out of disk space) left me with a working
> index
> in a directory but with additional segment files (partial) that were
> unneeded.  The solution for finding the ~40 files to keep out of the
> ~900
> files in the directory amounted to dumping the segments file and
> noting that
> only 5 segments were in fact "live".  The index is a non-compound
> index
> using FSDirectory.
> 
>  
> 
> Is there (or would it be possible to add (and I'd be willing to
> submit code
> if it made sense to people)) some sort of interrogation on the index
> of what
> files belonged to it?  I looked first as FSDirectory itself thinking
> that
> it's "list()" method should return the subset of index-related files
> but
> looking deeper it looks like Directory is at a lower level
> abstracting
> simple I/O and thus wouldn't "know".
> 
>  
> 
> So any thoughts?  Would it make sense to have a form of clean on
> IndexWriter()?  I hesitate since it seems there isn't a charter that
> only
> Lucene files could exist in the directory thus what is ideal for my
> application (since I know I won't mingle other files) might not be
> ideal for
> all.  Would it be fair to look for Lucene known extensions and file
> naming
> signatures to identify unused files that might be failed or dead
> segments?
> 
>  
> 
> Thanks,
> 
> -George
> 
> 
--0-406441690-1102892715=:13678
Content-Type: text/x-java; name="SegmentPurger.java"
Content-Description: SegmentPurger.java
Content-Disposition: inline; filename="SegmentPurger.java"

package org.apache.lucene.index;

import org.apache.lucene.store.IndexInput;
import org.apache.lucene.store.FSDirectory;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Iterator;
import java.io.File;


/**
 * A tool that peeks into Lucene index directories and removes
 * unwanted files.  In its more radical mode, this tool can be used to
 * remove all non-Lucene index files from a directory.  The other
 * option is to remove unused Lucene segment files, should the index
 * directory get polluted.
 *
 * TODO: this tool should really lock the directory for writing before
 * removing any Lucene segment files, otherwise this tool itself may
 * corrupt the index.
 *
 * @author Otis Gospodnetic
 * @version $Id$
 */
public class SegmentPurger
{
    // TODO: copied from SegmentMerger - should probably made public
    // static final, to make it reusable
    // TODO: add .del extension

    // File extensions of old-style index files
    public static final String MULTIFILE_EXTENSIONS[] = new String[] {
        "fnm", "frq", "prx", "fdx", "fdt", "tii", "tis"
    };
    public static final String VECTOR_EXTENSIONS[] = new String[] {
        "tvx", "tvd", "tvf"
    };
    public static final String COMPOUNDFILE_EXTENSIONS[] = new String[] {
        "cfs"
    };
    public static final String INDEX_FILES[] = new String[] {
        "segments", "deletable"
    };

    public static final String[][] SEGMENT_EXTENSIONS = new String[][] {
        MULTIFILE_EXTENSIONS, COMPOUNDFILE_EXTENSIONS, VECTOR_EXTENSIONS
    };

    /** The file format version, a negative number. */
    /* Works since counter, the old 1st entry, is always >= 0 */
    public static final int FORMAT = -1;

    private int counter = 0;    // used to name new segments
    private long version = 0;   // counts how often the index has been changed by adding or deleting docs
    private FSDirectory directory;


    public SegmentPurger(FSDirectory directory)
    {
        this.directory = directory;
    }

    public void purgeNonLuceneFiles() throws IOException
    {
        String indexDirFiles[] = directory.list();

        // loop through all files in dir
        for (int i = 0; i < indexDirFiles.length; i++)
        {
            //System.out.println("FILE: " + indexDirFiles[i]);
            if (!isLuceneDirectoryFile(indexDirFiles[i]))
            {
                System.out.println("Candidate non-Lucene file found: " + indexDirFiles[i]);
                // directory.deleteFile(indexDirFiles[i]);
            }
        }
    }

    public void purgeUnusedLuceneFiles() throws IOException
    {
        String indexDirFiles[] = directory.list();

        // loop through all files in dir
        for (int i = 0; i < indexDirFiles.length; i++)
        {
            // if this is a Lucene file
            if (isLuceneDirectoryFile(indexDirFiles[i]))
            {
                // check if it's in the list of used segments
                if (!isUsed(indexDirFiles[i]))
                {
                    System.out.println("Candidate unused Lucene file found: " + indexDirFiles[i]);
                    // directory.deleteFile(indexDirFiles[i]);
                }
            }
        }
    }


    private List getSegmentInfos() throws IOException
    {
        List siList = new ArrayList();
        IndexInput input = directory.openInput("segments");
        try {
            int format = input.readInt();
            if(format < 0){     // file contains explicit format info
                // check that it is a format we can understand
                if (format < FORMAT)
                    throw new IOException("Unknown format version: " + format);
                version = input.readLong(); // read version
                counter = input.readInt(); // read counter
            }
            else{     // file is in old format without explicit format info
                counter = format;
            }

            for (int i = input.readInt(); i > 0; i--) { // read segmentInfos
                SegmentInfo si =
                    new SegmentInfo(input.readString(), input.readInt(), directory);
                siList.add(si);
            }

            if(format >= 0){    // in old format the version number may be at the end of the file
                if (input.getFilePointer() >= input.length())
                    version = 0; // old file format without version number
                else
                    version = input.readLong(); // read version
            }
        }
        finally {
            input.close();
        }

        return siList;
    }

    private boolean isLuceneDirectoryFile(String fileName)
    {
        for (int i = 0; i < SEGMENT_EXTENSIONS.length; i++)
        {
            String[] EXTENSIONS = SEGMENT_EXTENSIONS[i];
            for (int j = 0; j < EXTENSIONS.length; j++)
            {
                if (fileName.endsWith("." + EXTENSIONS[j]))
                    return true;
            }
        }

        // TODO: also account for .fN files

        for (int i = 0; i < INDEX_FILES.length; i++)
        {
            if (fileName.equals(INDEX_FILES[i]))
                return true;
        }

        return false;
    }

    private boolean isUsed(String fileName) throws IOException
    {
        // these files are always used (e.g. segments, deletable)
        for (int i = 0; i < INDEX_FILES.length; i++)
        {
            if (fileName.equals(INDEX_FILES[i]))
                return true;
        }

        // split file name into base and extension, because we compare
        // file base name names of used segments
        String f = (new File(fileName)).getName();
        String[] baseExt = f.split("\\.", 2);
        if (baseExt.length < 2)
        {
            System.err.println("Can't split file name into base and extension: " + fileName);
            return false;
        }

        List siList = getSegmentInfos();
        // if the file base name matches a name of a used segment, the
        // file is considered used
        for (Iterator it = siList.iterator(); it.hasNext();)
        {
            SegmentInfo si = (SegmentInfo) it.next();
//             System.out.println("FN: " + baseExt[0]);
//             System.out.println("SI: " + si.name);
            if (si.name.equals(baseExt[0]))
                return true;
        }
        return false;
    }


    public static void main(String[] args) throws IOException
    {
        FSDirectory directory = FSDirectory.getDirectory(args[0], false);
        SegmentPurger sp = new SegmentPurger(directory);
        sp.purgeNonLuceneFiles();
        sp.purgeUnusedLuceneFiles();
    }
}


--0-406441690-1102892715=:13678
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--0-406441690-1102892715=:13678--

From MAILER-DAEMON Mon Dec 13 06:36:08 2004
Return-Path: 
 <lucene-user-return-11854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51147 invoked from network); 13 Dec 2004 06:36:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 06:36:08 -0000
Received: (qmail 68230 invoked by uid 500); 13 Dec 2004 06:36:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68206 invoked by uid 500); 13 Dec 2004 06:36:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68189 invoked by uid 99); 13 Dec 2004 06:36:00 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 12 Dec 2004 22:35:57 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8NE0H00.0F6 for <lucene-user@jakarta.apache.org>; Mon,
          13 Dec 2004 11:59:05 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMA
Date: Mon, 13 Dec 2004 11:46:52 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEEACAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <CE9C7CF6-4AAE-11D9-8255-000A95BC61B6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Guys

Apologies..........


So u say I have to Build a Filter to Collect all the Scores between the 2
Ranges [ 0.2f to 1.0f]


so the API for the same would be

 Hits hit = search(Query query, Filter filtertoGetScore)


 But while writing the Filter  Score again depends on Hits  ====> Score =
hits.score(x);



 How To solve this Or Am I in Wrong Process........


Any Simple Src for the same will be greatly appreciated.  :)

Thx in advance



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, December 10, 2004 6:54 PM
To: Lucene Users List
Subject: Re: HITCOLLECTOR+SCORE+DELIMA


On Dec 10, 2004, at 7:39 AM, Karthik N S wrote:
> I am still in delima on How to use the HitCollector for returning
> Hits hits
> between scores  0.2f to 1.0f ,
>
> There is not a simple example for the same, yet lot's of talk on usage
> for
> the same on the form.

Unfortunately there isn't a clean way to stop a HitCollector - it will
simply collect all hits.

Also, scores are _not_ normalized when passed to a HitCollector, so you
may get scores > 1.0.  Hits, however, does normalize and you're
guaranteed that scores will be <= 1.0.  Hits are in descending score
order, so you may just want to use Hits and filter based on the score
provided by hits.score(i).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 09:47:31 2004
Return-Path: 
 <lucene-user-return-11855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66564 invoked from network); 13 Dec 2004 09:47:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 09:47:31 -0000
Received: (qmail 94307 invoked by uid 500); 13 Dec 2004 09:47:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94268 invoked by uid 500); 13 Dec 2004 09:47:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94242 invoked by uid 99); 13 Dec 2004 09:47:07 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 01:47:00 -0800
Received: from bifrost.cs.utexas.edu (vgupta@bifrost.cs.utexas.edu
 [128.83.130.9])
	by mail.cs.utexas.edu (8.13.1/8.13.1) with ESMTP id iBD9ksat017528
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 03:46:55 -0600 (CST)
Received: (from vgupta@localhost)
	by bifrost.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBD9ks0O028145;
	Mon, 13 Dec 2004 03:46:54 -0600
Date: Mon, 13 Dec 2004 03:46:54 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMA
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEEACAAA.karthik@controlnet.co.in>
Message-ID: <Pine.LNX.4.58.0412130338220.28010@bifrost.cs.utexas.edu>
References: <OBELINLGKPEMCIEIJJNKMEEACAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> On Dec 10, 2004, at 7:39 AM, Karthik N S wrote:
> > I am still in delima on How to use the HitCollector for returning
> > Hits hits
> > between scores  0.2f to 1.0f ,
> >
> > There is not a simple example for the same, yet lot's of talk on usage
> > for
> > the same on the form.

1) I am not 100% sure about this but it might work.

Add the code starting with >>>>> in IndexSearcher.java::search()

 // inherit javadoc
  public TopDocs search(Query query, Filter filter, final int nDocs)
       throws IOException {
    Scorer scorer = query.weight(this).scorer(reader);
    if (scorer == null)
      return new TopDocs(0, new ScoreDoc[0]);

    final BitSet bits = filter != null ? filter.bits(reader) : null;
    final HitQueue hq = new HitQueue(nDocs);
    final int[] totalHits = new int[1];
    scorer.score(new HitCollector() {
	public final void collect(int doc, float score) {
	  if (score > 0.0f &&			  // ignore zeroed buckets
>>>>>         && score >0.2f && score<1.0f)
	      (bits==null || bits.get(doc))) {	  // skip docs not in bits
	    totalHits[0]++;
            hq.insert(new ScoreDoc(doc, score));
	  }
	}
      });



2) Filter examples are in Lucene in Action book, Chapter 5. I wrote an
example as well:



        String query = "odyssey";

        BooleanQuery bq = new BooleanQuery();
        bq.add(new TermQuery(new Term("content", query)), true, false);

        BooleanQuery bqf = new BooleanQuery();
        bqf.add(new TermQuery(new Term("H2", query)), true, false);

        Filter f = new QueryFilter(bqf);

        IndexReader reader = IndexReader.open(new File(dir, "index").getCanonicalPath());
        Searcher luceneSearcher = new org.apache.lucene.search.IndexSearcher(reader);
        luceneSearcher.setSimilarity(new NutchSimilarity());

	//Logically the following would be executed as follows: Find all
        //the docs matching bq. Select the ones which matchbqf
        hits = luceneSearcher.search(bq, f);

        System.out.print("query: " + query);

        System.out.println("Total hits: " + hits.length());

3) delima is spelled as dilemma


-Vikas Gupta

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 10:04:43 2004
Return-Path: 
 <lucene-user-return-11856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74662 invoked from network); 13 Dec 2004 10:04:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 10:04:43 -0000
Received: (qmail 21720 invoked by uid 500); 13 Dec 2004 10:04:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21695 invoked by uid 500); 13 Dec 2004 10:04:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21679 invoked by uid 99); 13 Dec 2004 10:04:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 02:04:15 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 8307BC9AA8
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 11:04:09 +0100 (CET)
Message-ID: <41BD6919.3060505@fib.upc.edu>
Date: Mon, 13 Dec 2004 11:04:09 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Search HTML Files
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've been trying the demo apps of Lucene for searching in html files, I 
want to know what problems or options are not implemented in this web 
aplication.
thks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 10:08:12 2004
Return-Path: 
 <lucene-user-return-11857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76942 invoked from network); 13 Dec 2004 10:08:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 10:08:12 -0000
Received: (qmail 28624 invoked by uid 500); 13 Dec 2004 10:07:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28381 invoked by uid 500); 13 Dec 2004 10:07:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28367 invoked by uid 99); 13 Dec 2004 10:07:57 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 13 Dec 2004 02:07:54 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8NOV200.OGB for <lucene-user@jakarta.apache.org>; Mon,
          13 Dec 2004 15:53:26 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
Date: Mon, 13 Dec 2004 15:41:13 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEEBCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <Pine.LNX.4.58.0412130338220.28010@bifrost.cs.utexas.edu>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Vikas Gupta


Since Erik Replied to me on my last mail, A FILTER cand be built for the
same can be to
fetch scrores between  0.2f to 1.0f.

Can u please spare me some code for the same.

[ Sorry for the Spell mistake, My Mail IDE does not have one ]
With regards
Karthik




-----Original Message-----
From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
Sent: Monday, December 13, 2004 3:17 PM
To: Lucene Users List
Subject: RE: HITCOLLECTOR+SCORE+DELIMA


> On Dec 10, 2004, at 7:39 AM, Karthik N S wrote:
> > I am still in delima on How to use the HitCollector for returning
> > Hits hits
> > between scores  0.2f to 1.0f ,
> >
> > There is not a simple example for the same, yet lot's of talk on usage
> > for
> > the same on the form.

1) I am not 100% sure about this but it might work.

Add the code starting with >>>>> in IndexSearcher.java::search()

 // inherit javadoc
  public TopDocs search(Query query, Filter filter, final int nDocs)
       throws IOException {
    Scorer scorer = query.weight(this).scorer(reader);
    if (scorer == null)
      return new TopDocs(0, new ScoreDoc[0]);

    final BitSet bits = filter != null ? filter.bits(reader) : null;
    final HitQueue hq = new HitQueue(nDocs);
    final int[] totalHits = new int[1];
    scorer.score(new HitCollector() {
	public final void collect(int doc, float score) {
	  if (score > 0.0f &&			  // ignore zeroed buckets
>>>>>         && score >0.2f && score<1.0f)
	      (bits==null || bits.get(doc))) {	  // skip docs not in bits
	    totalHits[0]++;
            hq.insert(new ScoreDoc(doc, score));
	  }
	}
      });



2) Filter examples are in Lucene in Action book, Chapter 5. I wrote an
example as well:



        String query = "odyssey";

        BooleanQuery bq = new BooleanQuery();
        bq.add(new TermQuery(new Term("content", query)), true, false);

        BooleanQuery bqf = new BooleanQuery();
        bqf.add(new TermQuery(new Term("H2", query)), true, false);

        Filter f = new QueryFilter(bqf);

        IndexReader reader = IndexReader.open(new File(dir,
"index").getCanonicalPath());
        Searcher luceneSearcher = new
org.apache.lucene.search.IndexSearcher(reader);
        luceneSearcher.setSimilarity(new NutchSimilarity());

	//Logically the following would be executed as follows: Find all
        //the docs matching bq. Select the ones which matchbqf
        hits = luceneSearcher.search(bq, f);

        System.out.print("query: " + query);

        System.out.println("Total hits: " + hits.length());

3) delima is spelled as dilemma


-Vikas Gupta

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 11:34:57 2004
Return-Path: 
 <lucene-user-return-11858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34689 invoked from network); 13 Dec 2004 11:34:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 11:34:57 -0000
Received: (qmail 90809 invoked by uid 500); 13 Dec 2004 11:34:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90773 invoked by uid 500); 13 Dec 2004 11:34:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90757 invoked by uid 99); 13 Dec 2004 11:34:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 03:34:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2530713E200B; Mon, 13 Dec 2004 06:34:38 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id F2C8613E200B
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 06:34:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEEACAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKMEEACAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F5939E5A-4CFA-11D9-A3F9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HITCOLLECTOR+SCORE+DELIMA
Date: Mon, 13 Dec 2004 06:34:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 13, 2004, at 1:16 AM, Karthik N S wrote:
> So u say I have to Build a Filter to Collect all the Scores between 
> the 2
> Ranges [ 0.2f to 1.0f]

My message is being misinterpreted.  I said "filter" as a verb, not a 
noun.  :)  In other words, I was not intending to mean write a Filter - 
a Filter would not be able to filter on score.

> so the API for the same would be
>
>  Hits hit = search(Query query, Filter filtertoGetScore)
>
>
>  But while writing the Filter  Score again depends on Hits  ====> 
> Score =
> hits.score(x);

Again, you cannot write a Filter (capital 'F') to deal with score.

Please re-read what I said below...

> Hits are in descending score
> order, so you may just want to use Hits and filter based on the score
> provided by hits.score(i).

Iterate over Hits... when you encounter scores below your desired 
range, stop iterating.  Why is this simple procedure not good enough 
for what you are trying to achieve?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 11:55:21 2004
Return-Path: 
 <lucene-user-return-11859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60593 invoked from network); 13 Dec 2004 11:55:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 11:55:21 -0000
Received: (qmail 38748 invoked by uid 500); 13 Dec 2004 11:54:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38673 invoked by uid 500); 13 Dec 2004 11:54:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38627 invoked by uid 99); 13 Dec 2004 11:54:51 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 13 Dec 2004 03:54:47 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8NTT100.CGZ for <lucene-user@jakarta.apache.org>; Mon,
          13 Dec 2004 17:40:13 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
Date: Mon, 13 Dec 2004 17:28:00 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEECCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
In-Reply-To: <F5939E5A-4CFA-11D9-A3F9-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik


Apologies..............

I got Confused with the last mail.

>> Iterate over Hits.  returns large hit values and Iteration on Hits for
scores consumes time ,

so How Do I Limit my Search Between [ X.xf to Y.yf ] prior getting the Hits.

Note:- The search is being done on Field Type 'Text' ,consists of 'Contents'
from various Html documents


Please Advise me
Karthik




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, December 13, 2004 5:05 PM
To: Lucene Users List
Subject: Re: HITCOLLECTOR+SCORE+DELIMA



On Dec 13, 2004, at 1:16 AM, Karthik N S wrote:
> So u say I have to Build a Filter to Collect all the Scores between
> the 2
> Ranges [ 0.2f to 1.0f]

My message is being misinterpreted.  I said "filter" as a verb, not a
noun.  :)  In other words, I was not intending to mean write a Filter -
a Filter would not be able to filter on score.

> so the API for the same would be
>
>  Hits hit = search(Query query, Filter filtertoGetScore)
>
>
>  But while writing the Filter  Score again depends on Hits  ====>
> Score =
> hits.score(x);

Again, you cannot write a Filter (capital 'F') to deal with score.

Please re-read what I said below...

> Hits are in descending score
> order, so you may just want to use Hits and filter based on the score
> provided by hits.score(i).

Iterate over Hits... when you encounter scores below your desired
range, stop iterating.  Why is this simple procedure not good enough
for what you are trying to achieve?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 12:46:14 2004
Return-Path: 
 <lucene-user-return-11860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92736 invoked from network); 13 Dec 2004 12:46:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 12:46:14 -0000
Received: (qmail 33338 invoked by uid 500); 13 Dec 2004 12:45:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33312 invoked by uid 500); 13 Dec 2004 12:45:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33288 invoked by uid 99); 13 Dec 2004 12:45:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 04:45:54 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id A0FF15C60100; Mon, 13 Dec 2004 07:54:23 -0500
Message-ID: <41BD8EF6.1040308@bayt.net>
Date: Mon, 13 Dec 2004 16:45:42 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA
References: <OBELINLGKPEMCIEIJJNKOEECCAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEECCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dude, and I say this with love, it's open source, you've got the code, 
take the initiative, DIY, be creative and share your findings with the 
rest of us.

Personally I would be interested to see how you do this, keep your 
changes documented and share.

Nader Henein

Karthik N S wrote:

>Hi Erik
>
>
>Apologies..............
>
>I got Confused with the last mail.
>
>  
>
>>>Iterate over Hits.  returns large hit values and Iteration on Hits for
>>>      
>>>
>scores consumes time ,
>
>so How Do I Limit my Search Between [ X.xf to Y.yf ] prior getting the Hits.
>
>Note:- The search is being done on Field Type 'Text' ,consists of 'Contents'
>from various Html documents
>
>
>Please Advise me
>Karthik
>
>
>
>
>-----Original Message-----
>From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>Sent: Monday, December 13, 2004 5:05 PM
>To: Lucene Users List
>Subject: Re: HITCOLLECTOR+SCORE+DELIMA
>
>
>
>On Dec 13, 2004, at 1:16 AM, Karthik N S wrote:
>  
>
>>So u say I have to Build a Filter to Collect all the Scores between
>>the 2
>>Ranges [ 0.2f to 1.0f]
>>    
>>
>
>My message is being misinterpreted.  I said "filter" as a verb, not a
>noun.  :)  In other words, I was not intending to mean write a Filter -
>a Filter would not be able to filter on score.
>
>  
>
>>so the API for the same would be
>>
>> Hits hit = search(Query query, Filter filtertoGetScore)
>>
>>
>> But while writing the Filter  Score again depends on Hits  ====>
>>Score =
>>hits.score(x);
>>    
>>
>
>Again, you cannot write a Filter (capital 'F') to deal with score.
>
>Please re-read what I said below...
>
>  
>
>>Hits are in descending score
>>order, so you may just want to use Hits and filter based on the score
>>provided by hits.score(i).
>>    
>>
>
>Iterate over Hits... when you encounter scores below your desired
>range, stop iterating.  Why is this simple procedure not good enough
>for what you are trying to achieve?
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 13:09:24 2004
Return-Path: 
 <lucene-user-return-11861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2928 invoked from network); 13 Dec 2004 13:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 13:09:24 -0000
Received: (qmail 78241 invoked by uid 500); 13 Dec 2004 13:08:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78193 invoked by uid 500); 13 Dec 2004 13:08:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78048 invoked by uid 99); 13 Dec 2004 13:08:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu)
 (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 05:08:36 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 2F0871F5193
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 08:08:34 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 08443-10 for <lucene-user@jakarta.apache.org>;
 Mon, 13 Dec 2004 08:08:33 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id E72BE1F5267
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 08:08:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEECCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKOEECCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1A1AD58A-4D08-11D9-90C7-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA
Date: Mon, 13 Dec 2004 08:08:37 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 13, 2004, at 6:58 AM, Karthik N S wrote:
>>> Iterate over Hits.  returns large hit values and Iteration on Hits 
>>> for
> scores consumes time ,
>
> so How Do I Limit my Search Between [ X.xf to Y.yf ] prior getting the 
> Hits.

Why do you need to do this *prior* to getting Hits?

You have yet to justify what you're asking.  I almost guarantee you 
that navigating Hits in the way I said will be as fast as you need it 
to be.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 15:51:32 2004
Return-Path: 
 <lucene-user-return-11863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16384 invoked from network); 13 Dec 2004 15:51:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 15:51:32 -0000
Received: (qmail 5946 invoked by uid 500); 13 Dec 2004 15:51:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5892 invoked by uid 500); 13 Dec 2004 15:51:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5857 invoked by uid 99); 13 Dec 2004 15:51:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 07:51:02 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 0A090C9AAC
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 16:46:04 +0100 (CET)
Message-ID: <41BDB93B.5070404@fib.upc.edu>
Date: Mon, 13 Dec 2004 16:46:03 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LIMO problems
References: <41B853E8.2090503@fib.upc.edu>
 <001801c4ddfb$07e84990$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi, I want to know what library do you use for search in PPT files?
POI support this?
thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 15:49:19 2004
Return-Path: 
 <lucene-user-return-11862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15090 invoked from network); 13 Dec 2004 15:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 15:49:19 -0000
Received: (qmail 97392 invoked by uid 500); 13 Dec 2004 15:48:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97313 invoked by uid 500); 13 Dec 2004 15:48:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97250 invoked by uid 99); 13 Dec 2004 15:48:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 07:48:41 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Mon, 13 Dec 2004 10:47:43 -0500
Message-ID: <1a5b01c4e12b$14237d50$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: Fw: sorting tokenized field
Date: Mon, 13 Dec 2004 10:47:41 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,
I forwarding the same email I sent before. Just wanted to try my luck again 
:).

Thanks in advance.
Praveen
----- Original Message ----- 
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, December 10, 2004 3:33 PM
Subject: Re: sorting tokenized field


> Since I am not aware of the lucene code much, I couldn't make much out of 
> your patch. But is this patch already tested and proved to be efficient? 
> If so, why can't it be merge into the lucene code and made it part of the 
> release. I think the bug is valid. Its very likely that people want to 
> sort on tokenized fields.
>
> If I apply this patch to lucene code and use it for myself, I will have 
> hard time managing it in future (while upgrading lucene library). If the 
> pathc is applied to lucene release code, it would be very easy for the 
> lucene users.
>
> If possible, can someone explain what the path does? I am trying to 
> understand what exactly changed but could not figrue out.
>
> Praveen
> ----- Original Message ----- 
> From: "Aviran" <amordo@infosciences.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Friday, December 10, 2004 2:30 PM
> Subject: RE: sorting tokenized field
>
>
>>I have suggested a solution for this problem (
>> http://issues.apache.org/bugzilla/show_bug.cgi?id=30382 ) you can use the
>> patch suggested there and recompile lucene.
>>
>>
>> Aviran
>> http://www.aviransplace.com
>>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Friday, December 10, 2004 13:53 PM
>> To: Lucene Users List
>> Subject: Re: sorting tokenized field
>>
>>
>>
>> On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
>>> I read that the tokenised fields cannot be sorted. In order to sort
>>> tokenized field, either the application has to duplicate field with
>>> diff name and not tokenize it or come up with something else. But
>>> shouldn't the search engine takecare of this? Are there any plans of
>>> putting this functionality built into lucene?
>>
>> It would be wasteful for Lucene to assume any field you add should be
>> available for sorting.
>>
>> Adding one more line to your indexing code to accommodate your sorting
>> needs seems a pretty small price to pay.  Do you have suggestions to
>> improve how this works?   Or how it is documented?
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 16:06:23 2004
Return-Path: 
 <lucene-user-return-11864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26333 invoked from network); 13 Dec 2004 16:06:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 16:06:23 -0000
Received: (qmail 44622 invoked by uid 500); 13 Dec 2004 16:02:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44438 invoked by uid 500); 13 Dec 2004 16:02:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44322 invoked by uid 99); 13 Dec 2004 16:02:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.hypermedia.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 08:02:30 -0800
Received: from p001002 ([204.225.84.27]) by mail.hypermedia.com with Microsoft
 SMTPSVC(5.0.2195.5329);
	 Mon, 13 Dec 2004 11:04:30 -0500
Message-ID: <016501c4e12d$6ddb4100$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@hypermedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41B853E8.2090503@fib.upc.edu>
 <001801c4ddfb$07e84990$7703d00a@hypermedia.com>
 <41BDB93B.5070404@fib.upc.edu>
Subject: Re: LIMO problems
Date: Mon, 13 Dec 2004 11:04:30 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 13 Dec 2004 16:04:30.0762 (UTC)
 FILETIME=[6DF2C0A0:01C4E12D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is a good place to start for extracting the content from power point
files:

http://www.mail-archive.com/poi-user@jakarta.apache.org/msg04809.html

Luke

----- Original Message ----- 
From: "Daniel Cortes" <dcortes@fib.upc.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, December 13, 2004 10:46 AM
Subject: Re: LIMO problems


>
> Hi, I want to know what library do you use for search in PPT files?
> POI support this?
> thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 16:34:17 2004
Return-Path: 
 <lucene-user-return-11865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44930 invoked from network); 13 Dec 2004 16:34:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 16:34:17 -0000
Received: (qmail 55523 invoked by uid 500); 13 Dec 2004 16:32:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55489 invoked by uid 500); 13 Dec 2004 16:32:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55470 invoked by uid 99); 13 Dec 2004 16:32:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.infosciences.com (HELO mail.infosciences.com)
 (141.156.69.115)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 08:32:30 -0800
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 554DD5C25
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 11:32:15 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: sorting tokenized field
Date: Mon, 13 Dec 2004 11:30:25 -0500
Message-ID: <004101c4e131$0f98b650$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <1a5b01c4e12b$14237d50$aa87a8c0@ppeddi>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The patch is very simple.

What is does is it checks if the field you want to sort on is tokenized. =
If
it is it loads the values from the documents to the sorting table.

The only con in this approach is that loading the values this way is =
much
slower than if the values where Keywords, but other than that it should =
work
just fine.

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Praveen Peddi [mailto:ppeddi@contextmedia.com]=20
Sent: Monday, December 13, 2004 10:48 AM
To: lucenelist
Subject: Fw: sorting tokenized field


Hi all,
I forwarding the same email I sent before. Just wanted to try my luck =
again=20
:).

Thanks in advance.
Praveen
----- Original Message -----=20
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, December 10, 2004 3:33 PM
Subject: Re: sorting tokenized field


> Since I am not aware of the lucene code much, I couldn't make much out =

> of
> your patch. But is this patch already tested and proved to be =
efficient?=20
> If so, why can't it be merge into the lucene code and made it part of =
the=20
> release. I think the bug is valid. Its very likely that people want to =

> sort on tokenized fields.
>
> If I apply this patch to lucene code and use it for myself, I will=20
> have
> hard time managing it in future (while upgrading lucene library). If =
the=20
> pathc is applied to lucene release code, it would be very easy for the =

> lucene users.
>
> If possible, can someone explain what the path does? I am trying to
> understand what exactly changed but could not figrue out.
>
> Praveen
> ----- Original Message -----
> From: "Aviran" <amordo@infosciences.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Friday, December 10, 2004 2:30 PM
> Subject: RE: sorting tokenized field
>
>
>>I have suggested a solution for this problem ( =20
>>http://issues.apache.org/bugzilla/show_bug.cgi?id=3D30382 ) you can =
use=20
>>the  patch suggested there and recompile lucene.
>>
>>
>> Aviran
>> http://www.aviransplace.com
>>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Friday, December 10, 2004 13:53 PM
>> To: Lucene Users List
>> Subject: Re: sorting tokenized field
>>
>>
>>
>> On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
>>> I read that the tokenised fields cannot be sorted. In order to sort=20
>>> tokenized field, either the application has to duplicate field with=20
>>> diff name and not tokenize it or come up with something else. But=20
>>> shouldn't the search engine takecare of this? Are there any plans of =

>>> putting this functionality built into lucene?
>>
>> It would be wasteful for Lucene to assume any field you add should be =

>> available for sorting.
>>
>> Adding one more line to your indexing code to accommodate your=20
>> sorting needs seems a pretty small price to pay.  Do you have =
suggestions
to
>> improve how this works?   Or how it is documented?
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 19:25:44 2004
Return-Path: 
 <lucene-user-return-11866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58775 invoked from network); 13 Dec 2004 19:25:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 19:25:44 -0000
Received: (qmail 47472 invoked by uid 500); 13 Dec 2004 19:25:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47446 invoked by uid 500); 13 Dec 2004 19:25:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47431 invoked by uid 99); 13 Dec 2004 19:25:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 11:25:26 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Mon, 13 Dec 2004 14:22:44 -0500
Message-ID: <1a8601c4e149$1ece1120$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004101c4e131$0f98b650$6a00a8c0@Aviran>
Subject: Re: sorting tokenized field
Date: Mon, 13 Dec 2004 14:22:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If its not added to the release code already, is there any reason for it 
being not added. Seems like many people agree that this is an important 
functionality of sorting.

Its just that I can't get permission to use customized libraries in our 
company. Either we have to use the library as is or implement our own stuff. 
We don't want to go into the pains of maintaining the 3rd party library code 
whenever we migrate from one version to other. I would assume everyone would 
have the same problem.

Is there any possibility this patch contributed by Aviran can be added to 
the actual release branch.

Thanks
Praveen

----- Original Message ----- 
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 13, 2004 11:30 AM
Subject: RE: sorting tokenized field


The patch is very simple.

What is does is it checks if the field you want to sort on is tokenized. If
it is it loads the values from the documents to the sorting table.

The only con in this approach is that loading the values this way is much
slower than if the values where Keywords, but other than that it should work
just fine.

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Praveen Peddi [mailto:ppeddi@contextmedia.com]
Sent: Monday, December 13, 2004 10:48 AM
To: lucenelist
Subject: Fw: sorting tokenized field


Hi all,
I forwarding the same email I sent before. Just wanted to try my luck again
:).

Thanks in advance.
Praveen
----- Original Message ----- 
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, December 10, 2004 3:33 PM
Subject: Re: sorting tokenized field


> Since I am not aware of the lucene code much, I couldn't make much out
> of
> your patch. But is this patch already tested and proved to be efficient?
> If so, why can't it be merge into the lucene code and made it part of the
> release. I think the bug is valid. Its very likely that people want to
> sort on tokenized fields.
>
> If I apply this patch to lucene code and use it for myself, I will
> have
> hard time managing it in future (while upgrading lucene library). If the
> pathc is applied to lucene release code, it would be very easy for the
> lucene users.
>
> If possible, can someone explain what the path does? I am trying to
> understand what exactly changed but could not figrue out.
>
> Praveen
> ----- Original Message -----
> From: "Aviran" <amordo@infosciences.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Friday, December 10, 2004 2:30 PM
> Subject: RE: sorting tokenized field
>
>
>>I have suggested a solution for this problem (
>>http://issues.apache.org/bugzilla/show_bug.cgi?id=30382 ) you can use
>>the  patch suggested there and recompile lucene.
>>
>>
>> Aviran
>> http://www.aviransplace.com
>>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Friday, December 10, 2004 13:53 PM
>> To: Lucene Users List
>> Subject: Re: sorting tokenized field
>>
>>
>>
>> On Dec 10, 2004, at 1:40 PM, Praveen Peddi wrote:
>>> I read that the tokenised fields cannot be sorted. In order to sort
>>> tokenized field, either the application has to duplicate field with
>>> diff name and not tokenize it or come up with something else. But
>>> shouldn't the search engine takecare of this? Are there any plans of
>>> putting this functionality built into lucene?
>>
>> It would be wasteful for Lucene to assume any field you add should be
>> available for sorting.
>>
>> Adding one more line to your indexing code to accommodate your
>> sorting needs seems a pretty small price to pay.  Do you have suggestions
to
>> improve how this works?   Or how it is documented?
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 19:40:21 2004
Return-Path: 
 <lucene-user-return-11867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66674 invoked from network); 13 Dec 2004 19:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 19:40:21 -0000
Received: (qmail 73919 invoked by uid 500); 13 Dec 2004 19:40:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73645 invoked by uid 500); 13 Dec 2004 19:40:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73631 invoked by uid 99); 13 Dec 2004 19:40:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 11:40:12 -0800
Received: (qmail 8933 invoked by uid 532); 13 Dec 2004 19:39:46 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.041414 secs); 13 Dec 2004 19:39:46 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 13 Dec 2004 19:39:45 -0000
Message-ID: <41BDF028.3070101@tropo.com>
Date: Mon, 13 Dec 2004 11:40:24 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LIMO problems
References: <41B853E8.2090503@fib.upc.edu>
 <001801c4ddfb$07e84990$7703d00a@hypermedia.com>
 <41BDB93B.5070404@fib.upc.edu>
In-Reply-To: <41BDB93B.5070404@fib.upc.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel Cortes wrote:

> 
> Hi, I want to know what library do you use for search in PPT files?

I use this ("native code"):

http://chicago.sourceforge.net/xlhtml

> POI support this?
> thanks
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 13 20:02:04 2004
Return-Path: 
 <lucene-user-return-11868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78213 invoked from network); 13 Dec 2004 20:02:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Dec 2004 20:02:04 -0000
Received: (qmail 27963 invoked by uid 500); 13 Dec 2004 20:01:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27937 invoked by uid 500); 13 Dec 2004 20:01:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27902 invoked by uid 99); 13 Dec 2004 20:01:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu)
 (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 12:01:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id D0BAC1F52EB
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 15:01:45 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 02086-05 for <lucene-user@jakarta.apache.org>;
 Mon, 13 Dec 2004 15:01:45 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 6D0F91F52E8
	for <lucene-user@jakarta.apache.org>; Mon, 13 Dec 2004 15:01:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1a8601c4e149$1ece1120$aa87a8c0@ppeddi>
References: <004101c4e131$0f98b650$6a00a8c0@Aviran>
 <1a8601c4e149$1ece1120$aa87a8c0@ppeddi>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CFDFCACA-4D41-11D9-90C7-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting tokenized field
Date: Mon, 13 Dec 2004 15:01:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 13, 2004, at 2:22 PM, Praveen Peddi wrote:
> If its not added to the release code already, is there any reason for 
> it being not added.

As noted, there is a performance issue with sorting by tokenized 
fields.  It would seem far more advisable for you to simply add another 
field used for sorting which is untokenized.

Why has it not been added?  There have been several committers quite 
active in the codebase (myself excluded).  If you wish for changes to 
be committed, perseverance and patience are key.  Keep lobbying, but do 
so kindly.  When there are viable alternatives (such as adding an 
untokenized field for sorting) then certainly there is less incentive 
to commit changes.  Lucene's codebase is pretty clean and tight - it is 
wise for us to be very selective about changes to it.


>  Seems like many people agree that this is an important functionality 
> of sorting.

Many do, but not all.  I'm -0 on this change, meaning I'm not veto'ing 
it, but I'm not actually for it given the performance issue.

> Its just that I can't get permission to use customized libraries in 
> our company.

No custom library is needed for you to add an untokenized field for 
sorting purposes.

Also, sorting is extensible.  Check out the Lucene in Action code, 
specifically the lia.extsearch.sorting.DistanceSortingTest class.

Maybe you could add your own custom sorting code that could do what you 
want without patching Lucene.

> Is there any possibility this patch contributed by Aviran can be added 
> to the actual release branch.

Keep lobbying - other committers may feel differently than I do about 
it and add it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 02:41:17 2004
Return-Path: 
 <lucene-user-return-11869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87329 invoked from network); 14 Dec 2004 02:41:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 02:41:17 -0000
Received: (qmail 45797 invoked by uid 500); 14 Dec 2004 02:41:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45771 invoked by uid 500); 14 Dec 2004 02:41:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45755 invoked by uid 99); 14 Dec 2004 02:41:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.thirdpillar.com) (12.40.200.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 18:41:05 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting based on calculations at search time
Date: Mon, 13 Dec 2004 18:42:41 -0800
Message-ID: <47F6A3A2D8414242AFDE30B1212165A8053F47@mail.thirdpillar.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting based on calculations at search time
Thread-Index: AcTfSgnkvmfeeW2ARSGc9bsk7Zbq0gCPF7wg
From: "Gurukeerthi Gurunathan" <gurukeerthi@thirdpillar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah! It makes sense now... Thanks for the clarification Hoss. I think
it'll work in my case as I need to perform this calculation for every
search...

-Guru.=20

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Friday, December 10, 2004 10:21 PM
To: Lucene Users List
Subject: RE: Sorting based on calculations at search time

: I believe you are talking about the boost factor for fields or
documents
: while searching. That does not apply in my case - maybe I am missing a
: point here.
: The weight field I was talking about is only for the calculation

Otis is suggesting that you set the boost of the document to be your
weight value.  That way Lucene will automaticly do your multiplucation
calculation when determining the score

The down side of this, is that i don't think there's anyway to keep it
from influencing the score on every search, so it's not something you
could use only on some queries.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 04:13:31 2004
Return-Path: 
 <lucene-user-return-11870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12597 invoked from network); 14 Dec 2004 04:13:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 04:13:31 -0000
Received: (qmail 35878 invoked by uid 500); 14 Dec 2004 04:13:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35844 invoked by uid 500); 14 Dec 2004 04:13:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35827 invoked by uid 99); 14 Dec 2004 04:13:23 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 13 Dec 2004 20:13:19 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8P34200.SN8 for <lucene-user@jakarta.apache.org>; Tue,
          14 Dec 2004 09:58:50 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
Date: Tue, 14 Dec 2004 09:46:37 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKAEEFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1A1AD58A-4D08-11D9-90C7-000A95BC61B6@ehatchersolutions.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

Apologies...........




 In this Mailed
"http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apa
che.org&msgNo=11254"

 I have already told u that  doc.get(" "); was coming in batches for a mear
hit of  '>4000' , and this is happening in real

 time [ A simple search of 'handbags' returned 1,60,000 hits and time taken
was 440 secs ,in production Env  / May be our

 Coding is poor,But we are constantly improving the process ].


 { O/s Linux Gentoo , RAM 1GB, Lucene1.4.1,Appserver = Tomcat5, and
BlackDawn Java 1.4.2 with Args  -XX:+UseParallelGC for

 Garbage Collection  }


 To be One step in advance ,We also have an adjecent Fields 'Vendor
','Price' which we have to accordingly Compare

 Best/Poor/Least results . So We have to have to limit the hits
accordingly,since Lucene API does not provide any way to

 inject this limiting facility *prior* to getting the hits .


 [ Excuse me Nader Henein ,I am from a Lucene-Users Form  NOT in
Lucene-Developer's Form,

  So we expect a Least possible Help ]


With Warm Regards
Karthik




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, December 13, 2004 6:39 PM
To: Lucene Users List
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA



On Dec 13, 2004, at 6:58 AM, Karthik N S wrote:
>>> Iterate over Hits.  returns large hit values and Iteration on Hits
>>> for
> scores consumes time ,
>
> so How Do I Limit my Search Between [ X.xf to Y.yf ] prior getting the
> Hits.

Why do you need to do this *prior* to getting Hits?

You have yet to justify what you're asking.  I almost guarantee you
that navigating Hits in the way I said will be as fast as you need it
to be.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 04:43:22 2004
Return-Path: 
 <lucene-user-return-11871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19856 invoked from network); 14 Dec 2004 04:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 04:43:22 -0000
Received: (qmail 64039 invoked by uid 500); 14 Dec 2004 04:43:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64014 invoked by uid 500); 14 Dec 2004 04:43:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63994 invoked by uid 99); 14 Dec 2004 04:43:14 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=LINES_OF_YELLING,SPF_HELO_SOFTFAIL,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 13 Dec 2004 20:43:11 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
Date: Mon, 13 Dec 2004 20:43:07 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC60D4@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HITCOLLECTOR+SCORE+DELIMMA
Thread-Index: AcThk0Sf2Hu1SQUTTnG/uxqUnizk1wAAuOsw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Karthik,

I'm another user like you who has been watching this thread.  Could you
state clearly what it is you want to do and why?  Specifically:
  1.  Why do you want to do range restriction on scores?  Hits are
sorted in score order.  If you want to stop displaying results when
scores drop below a threshold, then stop your print loop over Hits when
the score drops below this value.
  2.  Are you sorting your results by something other than score, but
want to not print results below a certain score?  If so, just filter out
the results in your print loop.
  3.  If neither of the above, what is it you want to do?  There is
probably a way to do it that doesn't involve a range restriction on
scores.  The final score (i.e., the normalized score) is not computed
until the query is complete, so you're going to want to find a solution
that works on Hits.

Chuck
(P.S. could you do me a favor and delete the " Apologies..........."
that appears to be in your default email template?  It may be just me,
but I find it annoying.)

  > -----Original Message-----
  > From: Karthik N S [mailto:karthik@controlnet.co.in]
  > Sent: Monday, December 13, 2004 8:17 PM
  > To: Lucene Users List
  > Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
  >=20
  > Hi Erik
  >=20
  > Apologies...........
  >=20
  >=20
  >=20
  >=20
  >  In this Mailed
  > "http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-
  > user@jakarta.apa
  > che.org&msgNo=3D11254"
  >=20
  >  I have already told u that  doc.get(" "); was coming in batches for
a
  > mear
  > hit of  '>4000' , and this is happening in real
  >=20
  >  time [ A simple search of 'handbags' returned 1,60,000 hits and
time
  > taken
  > was 440 secs ,in production Env  / May be our
  >=20
  >  Coding is poor,But we are constantly improving the process ].
  >=20
  >=20
  >  { O/s Linux Gentoo , RAM 1GB, Lucene1.4.1,Appserver =3D Tomcat5, =
and
  > BlackDawn Java 1.4.2 with Args  -XX:+UseParallelGC for
  >=20
  >  Garbage Collection  }
  >=20
  >=20
  >  To be One step in advance ,We also have an adjecent Fields 'Vendor
  > ','Price' which we have to accordingly Compare
  >=20
  >  Best/Poor/Least results . So We have to have to limit the hits
  > accordingly,since Lucene API does not provide any way to
  >=20
  >  inject this limiting facility *prior* to getting the hits .
  >=20
  >=20
  >  [ Excuse me Nader Henein ,I am from a Lucene-Users Form  NOT in
  > Lucene-Developer's Form,
  >=20
  >   So we expect a Least possible Help ]
  >=20
  >=20
  > With Warm Regards
  > Karthik
  >=20
  >=20
  >=20
  >=20
  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Monday, December 13, 2004 6:39 PM
  > To: Lucene Users List
  > Subject: Re: HITCOLLECTOR+SCORE+DELIMMA
  >=20
  >=20
  >=20
  > On Dec 13, 2004, at 6:58 AM, Karthik N S wrote:
  > >>> Iterate over Hits.  returns large hit values and Iteration on
Hits
  > >>> for
  > > scores consumes time ,
  > >
  > > so How Do I Limit my Search Between [ X.xf to Y.yf ] prior getting
the
  > > Hits.
  >=20
  > Why do you need to do this *prior* to getting Hits?
  >=20
  > You have yet to justify what you're asking.  I almost guarantee you
  > that navigating Hits in the way I said will be as fast as you need
it
  > to be.
  >=20
  > 	Erik
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 06:24:25 2004
Return-Path: 
 <lucene-user-return-11872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67141 invoked from network); 14 Dec 2004 06:24:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 06:24:25 -0000
Received: (qmail 95613 invoked by uid 500); 14 Dec 2004 06:24:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95593 invoked by uid 500); 14 Dec 2004 06:24:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95572 invoked by uid 99); 14 Dec 2004 06:24:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com)
 (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 13 Dec 2004 22:24:14 -0800
Received: (qmail 35341 invoked by uid 60001); 14 Dec 2004 06:24:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=yRXBdrAgypxKdGeyQRUtFCFI07qVpDg5ytD4RGcjJSOPA1vwxnIAw8+3MyPhs8q36x9yQvvZc9k1VosaeAXwjaedZ4lb1+kKuNkqYqiLr+ygQDWe0oCPo+KYaT+ANBOU2psD+ujIxakDe9B1bezNsTQpTkkYmhgFG4MwZ6qX/t8=
  ;
Message-ID: <20041214062412.35339.qmail@web12707.mail.yahoo.com>
Received: from [69.201.130.95] by web12707.mail.yahoo.com via HTTP;
 Mon, 13 Dec 2004 22:24:12 PST
Date: Mon, 13 Dec 2004 22:24:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: finalize delete without optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  John Wang <john.wang@gmail.com>
In-Reply-To: <8837fb770412062115795df6a3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello John,

I believe you didn't get any replies to this.  What you are describing
cannot be done using the public, but maaay (no source code on this
machine, so I can't double-check that) be doable if you use some of the
'internal' methods.  

I don't have the need for this, but others might, so it may be worth
developing a tool that purges Documents marked as deleted without the
expensive segment merging, iff that is possible.  If you put this tool
under the approprite org.apache.lucene... package, you'll get access to
'internal' methods, of course.  If you end up creating this, we could
stick it in the Sandbox, where we should really create a new section
for handy command-line tools that manipulate the index.

Otis


--- John Wang <john.wang@gmail.com> wrote:

> Hi:
> 
>    Is there a way to finalize delete, e.g. actually remove them from
> the segments and make sure the docIDs are contiguous again.
> 
>    The only explicit way to do this is by calling
> IndexWriter.optmize(). But this call does a lot more (also merges all
> the segments), hence is very expensive. Is there a way to simply just
> finalize the deletes without having to merge all the segments?
> 
>     If not, I'd be glad to submit an implementation of this feature
> if
> the Lucene devs agree this is useful.
> 
> Thanks
> 
> -John
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 09:53:32 2004
Return-Path: 
 <lucene-user-return-11873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86539 invoked from network); 14 Dec 2004 09:53:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 09:53:32 -0000
Received: (qmail 47038 invoked by uid 500); 14 Dec 2004 09:53:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46979 invoked by uid 500); 14 Dec 2004 09:53:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46903 invoked by uid 99); 14 Dec 2004 09:53:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 01:53:08 -0800
Received: from cofferdam.cs.utexas.edu (vgupta@cofferdam.cs.utexas.edu
 [128.83.144.228])
	by mail.cs.utexas.edu (8.13.1/8.13.1) with ESMTP id iBE9r5jg023609
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 03:53:06 -0600 (CST)
Received: (from vgupta@localhost)
	by cofferdam.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBE9r5gs012589;
	Tue, 14 Dec 2004 03:53:05 -0600
Date: Tue, 14 Dec 2004 03:53:05 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: lucene-user@jakarta.apache.org
Subject: Hit 2 has score less than Hit 3
In-Reply-To: <Pine.LNX.4.58.0412090414390.31401@bifrost.cs.utexas.edu>
Message-ID: <Pine.LNX.4.58.0412140351460.12561@cofferdam.cs.utexas.edu>
References: <Pine.LNX.4.58.0412090400490.31401@bifrost.cs.utexas.edu>
 <Pine.LNX.4.58.0412090414390.31401@bifrost.cs.utexas.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have come across a scenario where the hits returned are not sorted. Or
maybe they are sorted but the explanation is not correct.

Take a look at
http://cofferdam.cs.utexas.edu:8080/search.jsp?query=space+odyssey&hitsPerPage=10&hitsPerSite=0

Look at the top 3 results.

Score of Hit 1 is 1.0188559
Score of Hit 2 is 0.9934416
Score of Hit 3 is 1.0188559

I can't explain how score of hit 2 can be < hit 3. I thought the hits that
were returned were sorted.

An explanation is that the explanation of hit 2 is not correctly computed.
Has anyone encountered this before?

FYI, the docs corresponding to hits 1,2 and 3 have exactly the same
scoring fields(By scoring fields, I mean the fields used in the query).

Thanks for your time.

-Vikas

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 09:56:45 2004
Return-Path: 
 <lucene-user-return-11874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87908 invoked from network); 14 Dec 2004 09:56:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 09:56:45 -0000
Received: (qmail 51912 invoked by uid 500); 14 Dec 2004 09:56:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51881 invoked by uid 500); 14 Dec 2004 09:56:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51865 invoked by uid 99); 14 Dec 2004 09:56:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.196 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 01:56:29 -0800
Received: by rproxy.gmail.com with SMTP id j1so651372rnf
        for <lucene-user@jakarta.apache.org>;
 Tue, 14 Dec 2004 01:56:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=SXInN+rxpxHK75G90tNFXpGUpore7keKgZRCdI0V6GG4NBBdmAG/KlWvmczgc7hUtPYYSlInjH3nad8ZEFedodpyPrCMwFw3YVvBcZikEhVfB26npM5zPQaosiduo/l9WMzLJI8EPd6RS+34i7URwm4D2L9r2+/XeUxCYvh5SOc=
Received: by 10.38.75.16 with SMTP id x16mr703965rna;
        Tue, 14 Dec 2004 01:56:27 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Tue, 14 Dec 2004 01:56:27 -0800 (PST)
Message-ID: <8837fb7704121401562ae19375@mail.gmail.com>
Date: Tue, 14 Dec 2004 01:56:27 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: finalize delete without optimize
In-Reply-To: <20041214062412.35339.qmail@web12707.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb770412062115795df6a3@mail.gmail.com>
	 <20041214062412.35339.qmail@web12707.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis:

     Thanks for you reply.

     I am looking for more of an API call than a tool. e.g.
IndexWriter.finalizeDelete()

     If I implement this, how would I go about submitting a patch?

thanks

-John


On Mon, 13 Dec 2004 22:24:12 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Hello John,
> 
> I believe you didn't get any replies to this.  What you are describing
> cannot be done using the public, but maaay (no source code on this
> machine, so I can't double-check that) be doable if you use some of the
> 'internal' methods.
> 
> I don't have the need for this, but others might, so it may be worth
> developing a tool that purges Documents marked as deleted without the
> expensive segment merging, iff that is possible.  If you put this tool
> under the approprite org.apache.lucene... package, you'll get access to
> 'internal' methods, of course.  If you end up creating this, we could
> stick it in the Sandbox, where we should really create a new section
> for handy command-line tools that manipulate the index.
> 
> Otis
> 
> 
> 
> 
> --- John Wang <john.wang@gmail.com> wrote:
> 
> > Hi:
> >
> >    Is there a way to finalize delete, e.g. actually remove them from
> > the segments and make sure the docIDs are contiguous again.
> >
> >    The only explicit way to do this is by calling
> > IndexWriter.optmize(). But this call does a lot more (also merges all
> > the segments), hence is very expensive. Is there a way to simply just
> > finalize the deletes without having to merge all the segments?
> >
> >     If not, I'd be glad to submit an implementation of this feature
> > if
> > the Lucene devs agree this is useful.
> >
> > Thanks
> >
> > -John
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 10:15:31 2004
Return-Path: 
 <lucene-user-return-11875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97498 invoked from network); 14 Dec 2004 10:15:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 10:15:31 -0000
Received: (qmail 89688 invoked by uid 500); 14 Dec 2004 10:14:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89636 invoked by uid 500); 14 Dec 2004 10:14:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89603 invoked by uid 99); 14 Dec 2004 10:14:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 02:14:52 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BF0CC13E2005; Tue, 14 Dec 2004 05:14:50 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E11B613E200B
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 05:14:28 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKAEEFCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKAEEFCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EF3AA946-4DB8-11D9-8DE7-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA
Date: Tue, 14 Dec 2004 05:14:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 13, 2004, at 11:16 PM, Karthik N S wrote:
>  time [ A simple search of 'handbags' returned 1,60,000 hits and time 
> taken
> was 440 secs ,in production Env  / May be our
>  Coding is poor,But we are constantly improving the process ].

If your searches are taking 440 seconds, you have something more 
fundamentally wrong.  You are either doing some large 
wildcard/range/fuzzy expansions or you're accessing every document from 
all your hits.  Is the searcher.search() method taking that long?  I 
bet not.  Or rather is it the iteration over the Hits that is killing 
the "search" time, which is what I suspect?

We've emphasized numerous times that calling hits.doc(i) is a resource 
hit.  Don't do it for documents you aren't going to show.  To filter by 
score, use hits.score(i) first.

>  { O/s Linux Gentoo , RAM 1GB, Lucene1.4.1,Appserver = Tomcat5, and
> BlackDawn Java 1.4.2 with Args  -XX:+UseParallelGC for
>
>  Garbage Collection  }

Please narrow your code down to a clean, succinct example that you can 
post.  It is difficult to help you without details of your code (but 
let me emphasize again - it needs to be clean and succinct so it is 
quick for us to get a handle on).

>  To be One step in advance ,We also have an adjecent Fields 'Vendor
> ','Price' which we have to accordingly Compare
>  Best/Poor/Least results . So We have to have to limit the hits
> accordingly,since Lucene API does not provide any way to
>  inject this limiting facility *prior* to getting the hits .

Ah, so you are accessing every document to get this field information.  
It is incorrect that you cannot filter prior to getting hits.  You have 
a couple of options in filtering by a field value - use a QueryFilter 
or simply AND a RangeQuery to the original query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 10:20:54 2004
Return-Path: 
 <lucene-user-return-11876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 294 invoked from network); 14 Dec 2004 10:20:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 10:20:54 -0000
Received: (qmail 4873 invoked by uid 500); 14 Dec 2004 10:20:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4841 invoked by uid 500); 14 Dec 2004 10:20:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4816 invoked by uid 99); 14 Dec 2004 10:20:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 02:20:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 641E913E200B; Tue, 14 Dec 2004 05:20:10 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E0CA013E2005
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 05:19:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0412140351460.12561@cofferdam.cs.utexas.edu>
References: <Pine.LNX.4.58.0412090400490.31401@bifrost.cs.utexas.edu>
 <Pine.LNX.4.58.0412090414390.31401@bifrost.cs.utexas.edu>
 <Pine.LNX.4.58.0412140351460.12561@cofferdam.cs.utexas.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A90E3B22-4DB9-11D9-8DE7-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Hit 2 has score less than Hit 3
Date: Tue, 14 Dec 2004 05:19:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 14, 2004, at 4:53 AM, Vikas Gupta wrote:
> I have come across a scenario where the hits returned are not sorted.  
> Or
> maybe they are sorted but the explanation is not correct.
>
> Take a look at
> http://cofferdam.cs.utexas.edu:8080/search.jsp? 
> query=space+odyssey&hitsPerPage=10&hitsPerSite=0

This site was down when I tried to access it.

> Look at the top 3 results.
>
> Score of Hit 1 is 1.0188559
> Score of Hit 2 is 0.9934416
> Score of Hit 3 is 1.0188559
>
> I can't explain how score of hit 2 can be < hit 3. I thought the hits  
> that
> were returned were sorted.

Hits should be in descending score order by default.  Are you using the  
new Sort facility at all?  Are you walking through Hits properly (i.e.  
hits.doc(i), i is the i-th hit, not document id i)?   What version of  
Lucene are you using?

Sorry - figured I'd rattle off some standard troubleshooting questions  
:)

> FYI, the docs corresponding to hits 1,2 and 3 have exactly the same
> scoring fields(By scoring fields, I mean the fields used in the query).

Use the IndexSearcher.explain() feature to get the real scoop on why a  
score is computed the way it is.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 10:57:05 2004
Return-Path: 
 <lucene-user-return-11877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19661 invoked from network); 14 Dec 2004 10:57:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 10:57:05 -0000
Received: (qmail 90916 invoked by uid 500); 14 Dec 2004 10:56:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90870 invoked by uid 500); 14 Dec 2004 10:56:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90845 invoked by uid 99); 14 Dec 2004 10:56:42 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=LINES_OF_YELLING,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 02:56:39 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8PKYF00.MNS for <lucene-user@jakarta.apache.org>; Tue,
          14 Dec 2004 16:24:15 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HITCOLLECTOR+SCORE+DELIMMA
Date: Tue, 14 Dec 2004 16:12:03 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKEEEHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <EF3AA946-4DB8-11D9-8DE7-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik


What exactly do u mean by this


>We've emphasized numerous times that calling hits.doc(i) is a resource
>hit.  Don't do it for documents you aren't going to show.  To filter by
>score, use hits.score(i) first.

 I am bit Confused u mean to say Replace

   hits.doc(i)

    by

  hits.score(i)



Also

> Ah, so you are accessing every document to get this field information.
> It is incorrect that you cannot filter prior to getting hits.  You have
> a couple of options in filtering by a field value - use a QueryFilter
. or simply AND a RangeQuery to the original query.


Since the portal we ar building for is a eCommerce one, We have to return
SearchWord across

  ( >7 ) x 1000 x  15000  documents , Get most of the Relevant His (Where
ever Score is between 0.5 to 1.0 )

  and then Sort the adjecent Fields 'Vendors' and 'Price' in ASC Order


 In such a case We cannot use RangeQuery.... without priorly knowing what
exactly the Consumer want's


 Is it not possible to have a Generalized Filter in further versions of API
, to Inject some minor factors prior to

 getting the Hits returned.


Thx in advance
Karthik



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, December 14, 2004 3:44 PM
To: Lucene Users List
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA



On Dec 13, 2004, at 11:16 PM, Karthik N S wrote:
>  time [ A simple search of 'handbags' returned 1,60,000 hits and time
> taken
> was 440 secs ,in production Env  / May be our
>  Coding is poor,But we are constantly improving the process ].

If your searches are taking 440 seconds, you have something more
fundamentally wrong.  You are either doing some large
wildcard/range/fuzzy expansions or you're accessing every document from
all your hits.  Is the searcher.search() method taking that long?  I
bet not.  Or rather is it the iteration over the Hits that is killing
the "search" time, which is what I suspect?

We've emphasized numerous times that calling hits.doc(i) is a resource
hit.  Don't do it for documents you aren't going to show.  To filter by
score, use hits.score(i) first.

>  { O/s Linux Gentoo , RAM 1GB, Lucene1.4.1,Appserver = Tomcat5, and
> BlackDawn Java 1.4.2 with Args  -XX:+UseParallelGC for
>
>  Garbage Collection  }

Please narrow your code down to a clean, succinct example that you can
post.  It is difficult to help you without details of your code (but
let me emphasize again - it needs to be clean and succinct so it is
quick for us to get a handle on).

>  To be One step in advance ,We also have an adjecent Fields 'Vendor
> ','Price' which we have to accordingly Compare
>  Best/Poor/Least results . So We have to have to limit the hits
> accordingly,since Lucene API does not provide any way to
>  inject this limiting facility *prior* to getting the hits .

Ah, so you are accessing every document to get this field information.
It is incorrect that you cannot filter prior to getting hits.  You have
a couple of options in filtering by a field value - use a QueryFilter
or simply AND a RangeQuery to the original query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 14:07:18 2004
Return-Path: 
 <lucene-user-return-11878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55556 invoked from network); 14 Dec 2004 14:07:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 14:07:18 -0000
Received: (qmail 35753 invoked by uid 500); 14 Dec 2004 14:01:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35683 invoked by uid 500); 14 Dec 2004 14:01:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35666 invoked by uid 99); 14 Dec 2004 14:01:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu)
 (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 06:01:43 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id C2BAA1F536A
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:01:30 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 00709-03 for <lucene-user@jakarta.apache.org>;
 Tue, 14 Dec 2004 09:01:30 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 8ED8D1F5351
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:01:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKEEEHCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKEEEHCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A7D074EC-4DD8-11D9-B147-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: HITCOLLECTOR+SCORE+DELIMMA
Date: Tue, 14 Dec 2004 09:01:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 14, 2004, at 5:42 AM, Karthik N S wrote:
> What exactly do u mean by this
>
>
>> We've emphasized numerous times that calling hits.doc(i) is a resource
>> hit.  Don't do it for documents you aren't going to show.  To filter 
>> by
>> score, use hits.score(i) first.
>
>  I am bit Confused u mean to say Replace
>
>    hits.doc(i)
>
>     by
>
>   hits.score(i)

Here is some pseudo-code:

	start = 0 or the starting index for the page you want to display
	finish = last hits index you want to display
	for i = start; i < finish ; i++
		if hits.score(i) within tolerance
			grab hits.doc(i)

I'm working hard to be helpful here.  I'm running out of answers for 
you though.  You are ignoring my requests to actually post code.  If 
you want further assistance shows us *exactly* what you're doing.

>   ( >7 ) x 1000 x  15000  documents , Get most of the Relevant His 
> (Where
> ever Score is between 0.5 to 1.0 )
>
>   and then Sort the adjecent Fields 'Vendors' and 'Price' in ASC Order
>
>  In such a case We cannot use RangeQuery.... without priorly knowing 
> what
> exactly the Consumer want's

See above.  I cannot help with this without actual code (succinct clear 
code!).  Lucene can sort and filter if you leverage it appropriately.  
Please grab a copy of Lucene in Action for lots of details on sorting 
and filtering.

>  Is it not possible to have a Generalized Filter in further versions 
> of API
> , to Inject some minor factors prior to
>  getting the Hits returned.

This already exists.  Please try it out.  There have been numerous 
posts about this topic.  Lucene in Action covers it.  Our source code 
download has examples.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 14:41:02 2004
Return-Path: 
 <lucene-user-return-11879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15198 invoked from network); 14 Dec 2004 14:41:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 14:41:02 -0000
Received: (qmail 58879 invoked by uid 500); 14 Dec 2004 14:40:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58831 invoked by uid 500); 14 Dec 2004 14:40:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58793 invoked by uid 99); 14 Dec 2004 14:40:13 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO
 mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 06:40:09 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4E1EA.CB2BF40E"
Subject: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 09:40:02 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Opinions: Using Lucene as a thin database
Thread-Index: AcTh6s1CGW1/Tr36Quy92WtWkhIU2A==
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E1EA.CB2BF40E
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

I use Lucene as a legitimate search engine which is cool. But, I am also
using it as a simple database too. I build an index with a couple of
keyword fields that allows me to retrieve values based on exact matches
in those fields. This is all I need to do so it works just fine for my
needs. I also love the speed. The index is small enough that it is
wicked fast. Was wondering if anyone out there was doing the same of it
there are any dissenting opinions on using Lucene for this purpose.=20

=20

=20

=20


------_=_NextPart_001_01C4E1EA.CB2BF40E--

From MAILER-DAEMON Tue Dec 14 15:04:52 2004
Return-Path: 
 <lucene-user-return-11880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36502 invoked from network); 14 Dec 2004 15:04:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 15:04:52 -0000
Received: (qmail 16591 invoked by uid 500); 14 Dec 2004 15:00:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16451 invoked by uid 500); 14 Dec 2004 15:00:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16170 invoked by uid 99); 14 Dec 2004 15:00:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 07:00:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id A30BF1F51A4
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:59:35 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 11603-03 for <lucene-user@jakarta.apache.org>;
 Tue, 14 Dec 2004 09:59:35 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 4A8A21F5198
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:59:35 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C46B0199-4DE0-11D9-B147-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 09:59:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 14, 2004, at 9:40 AM, Kevin L. Cobb wrote:
> I use Lucene as a legitimate search engine which is cool. But, I am 
> also
> using it as a simple database too. I build an index with a couple of
> keyword fields that allows me to retrieve values based on exact matches
> in those fields. This is all I need to do so it works just fine for my
> needs. I also love the speed. The index is small enough that it is
> wicked fast. Was wondering if anyone out there was doing the same of it
> there are any dissenting opinions on using Lucene for this purpose.

I use Lucene as the complete data storage for my blog at 
http://www.blogscene.org/erik - all HTTP requests map to a Lucene query 
(based on the path and optional query parameter).   I've been lame and 
have never put any caching in there.

I'm about to start a new project that really needs a relational 
database under the covers, but I'm cringing at the headaches involved 
compared to the joys of using Lucene.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 15:06:44 2004
Return-Path: 
 <lucene-user-return-11881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38861 invoked from network); 14 Dec 2004 15:06:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 15:06:44 -0000
Received: (qmail 25816 invoked by uid 500); 14 Dec 2004 15:03:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25764 invoked by uid 500); 14 Dec 2004 15:03:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25503 invoked by uid 99); 14 Dec 2004 15:03:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 07:02:57 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Tue, 14 Dec 2004 10:01:42 -0500
Message-ID: <257a01c4e1ed$d120e830$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004101c4e131$0f98b650$6a00a8c0@Aviran>
 <1a8601c4e149$1ece1120$aa87a8c0@ppeddi>
 <CFDFCACA-4D41-11D9-90C7-000A95BC61B6@ehatchersolutions.com>
Subject: Re: sorting tokenized field
Date: Tue, 14 Dec 2004 10:01:40 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,
Thanks a lot for your kind response. I appreciate the details.

What I meant by custom library is, applying aviran's patch to the lucene and 
maintaining it, not adding an extra field. Adding an extra field was my last 
option if I can't use the patch.

I did look at the extensible search and infact I wrote my own comparators 
(IgnoreCaseStringComparator and another custom comparator) and they work 
just fine. But I am not sure if this extensible search features helps me in 
sorting on tokenized field w/o adding the extra field. For now, I will just 
go for the extra field option and later if a more optimized solution is 
built into lucene I can use that.

Praveen

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, December 13, 2004 3:01 PM
Subject: Re: sorting tokenized field


> On Dec 13, 2004, at 2:22 PM, Praveen Peddi wrote:
>> If its not added to the release code already, is there any reason for it 
>> being not added.
>
> As noted, there is a performance issue with sorting by tokenized fields. 
> It would seem far more advisable for you to simply add another field used 
> for sorting which is untokenized.
>
> Why has it not been added?  There have been several committers quite 
> active in the codebase (myself excluded).  If you wish for changes to be 
> committed, perseverance and patience are key.  Keep lobbying, but do so 
> kindly.  When there are viable alternatives (such as adding an untokenized 
> field for sorting) then certainly there is less incentive to commit 
> changes.  Lucene's codebase is pretty clean and tight - it is wise for us 
> to be very selective about changes to it.
>
>
>>  Seems like many people agree that this is an important functionality of 
>> sorting.
>
> Many do, but not all.  I'm -0 on this change, meaning I'm not veto'ing it, 
> but I'm not actually for it given the performance issue.
>
>> Its just that I can't get permission to use customized libraries in our 
>> company.
>
> No custom library is needed for you to add an untokenized field for 
> sorting purposes.
>
> Also, sorting is extensible.  Check out the Lucene in Action code, 
> specifically the lia.extsearch.sorting.DistanceSortingTest class.
>
> Maybe you could add your own custom sorting code that could do what you 
> want without patching Lucene.
>
>> Is there any possibility this patch contributed by Aviran can be added to 
>> the actual release branch.
>
> Keep lobbying - other committers may feel differently than I do about it 
> and add it.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 15:09:25 2004
Return-Path: 
 <lucene-user-return-11882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46231 invoked from network); 14 Dec 2004 15:09:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 15:09:25 -0000
Received: (qmail 42427 invoked by uid 500); 14 Dec 2004 15:08:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42292 invoked by uid 500); 14 Dec 2004 15:08:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42252 invoked by uid 99); 14 Dec 2004 15:08:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 07:08:29 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Tue, 14 Dec 2004 10:07:18 -0500
Message-ID: <258101c4e1ee$99477680$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
Subject: Re: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 10:07:16 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Even we use lucene for similar purpose except that we index and store quite 
a few fields. Infact I also update partial documents as people suggested. I 
store all the indexed fields so I don't have to build the whole document 
again while updating partial document. The reason we do this is due to the 
speed. I found the lucene search on a millions objects is 4 to 5 times 
faster than our oracle queries (ofcourse this might be due to our pitiful 
database design :) ). It works great so far. the only caveat that we had 
till now was incremental updates. But now I am implementing real-time 
updates so that the data in lucene index is almost always in sync with data 
in database. So now, our search does not goto the database at all.

Praveen
----- Original Message ----- 
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 14, 2004 9:40 AM
Subject: Opinions: Using Lucene as a thin database


I use Lucene as a legitimate search engine which is cool. But, I am also
using it as a simple database too. I build an index with a couple of
keyword fields that allows me to retrieve values based on exact matches
in those fields. This is all I need to do so it works just fine for my
needs. I also love the speed. The index is small enough that it is
wicked fast. Was wondering if anyone out there was doing the same of it
there are any dissenting opinions on using Lucene for this purpose.









---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 15:26:02 2004
Return-Path: 
 <lucene-user-return-11883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64353 invoked from network); 14 Dec 2004 15:26:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 15:26:02 -0000
Received: (qmail 92865 invoked by uid 500); 14 Dec 2004 15:24:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92760 invoked by uid 500); 14 Dec 2004 15:24:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92699 invoked by uid 99); 14 Dec 2004 15:24:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from bamail.byteaction.de (HELO intern.byteaction.de)
 (217.195.2.162)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 07:24:27 -0800
Received: (qmail 13249 invoked by uid 1001); 14 Dec 2004 15:23:41 -0000
Received: from as@byteaction.de by new-maximus by uid 71 with
 qmail-scanner-1.22
 (Dspam: 3.2.2 . ClamAV: 0.80 .  Clear:RC:1(217.231.77.170):.
 Processed in 0.15275 secs); 14 Dec 2004 15:23:41 -0000
Received: from pd9e74daa.dip0.t-ipconnect.de (HELO ?192.168.5.2?)
 (217.231.77.170)
  by intern.byteaction.de with SMTP; 14 Dec 2004 15:23:41 -0000
Subject: Re: Opinions: Using Lucene as a thin database
From: Akmal Sarhan <as@byteaction.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <258101c4e1ee$99477680$aa87a8c0@ppeddi>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
	 <258101c4e1ee$99477680$aa87a8c0@ppeddi>
Content-Type: text/plain
Organization: ByteAction GmbH
Message-Id: <1103037821.3281.51.camel@dell-inspiron>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Tue, 14 Dec 2004 16:23:41 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

that sounds very interesting but how do you handle queries like
select * from MY_TABLE where MY_NUMERIC_FIELD > 80

as far as I know you have only the range query so you will have to say

my_numeric_filed:[80 TO ??]
but this would not work in the a/m example or am I missing something?

regards

Akmal
Am Di, den 14.12.2004 schrieb Praveen Peddi um 16:07:
> Even we use lucene for similar purpose except that we index and store quite 
> a few fields. Infact I also update partial documents as people suggested. I 
> store all the indexed fields so I don't have to build the whole document 
> again while updating partial document. The reason we do this is due to the 
> speed. I found the lucene search on a millions objects is 4 to 5 times 
> faster than our oracle queries (ofcourse this might be due to our pitiful 
> database design :) ). It works great so far. the only caveat that we had 
> till now was incremental updates. But now I am implementing real-time 
> updates so that the data in lucene index is almost always in sync with data 
> in database. So now, our search does not goto the database at all.
> 
> Praveen
> ----- Original Message ----- 
> From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, December 14, 2004 9:40 AM
> Subject: Opinions: Using Lucene as a thin database
> 
> 
> I use Lucene as a legitimate search engine which is cool. But, I am also
> using it as a simple database too. I build an index with a couple of
> keyword fields that allows me to retrieve values based on exact matches
> in those fields. This is all I need to do so it works just fine for my
> needs. I also love the speed. The index is small enough that it is
> wicked fast. Was wondering if anyone out there was doing the same of it
> there are any dissenting opinions on using Lucene for this purpose.
> 
> 
> 
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> !EXCUBATOR:41bf0221115901292611315!
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 15:40:08 2004
Return-Path: 
 <lucene-user-return-11884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76167 invoked from network); 14 Dec 2004 15:40:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 15:40:08 -0000
Received: (qmail 35251 invoked by uid 500); 14 Dec 2004 15:38:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35167 invoked by uid 500); 14 Dec 2004 15:38:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35069 invoked by uid 99); 14 Dec 2004 15:38:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO
 mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 07:38:40 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 10:38:23 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E33266B@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Opinions: Using Lucene as a thin database
Thread-Index: AcTh8Tgar3a71TvXR52I4hNUWzFUWwAAOkEQ
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't have the requirement to do range type select, i.e. the only
operator I would need is the equals. Select * from MY_TABLE where
MY_NUMERIC_FIELD =3D 80.

My fields that are searchable in my model are always type KEYWORD. I
believe this forces the match to be exact. So thinking about it in
anything other than "equals" terms, I believe, would be a mistake.=20

In any case, I believe that the requirement to use Lucene as a "thin DB"
means that your requirements for your database select are fairly simple
and straightforward.=20

KLCobb

=20
=20

-----Original Message-----
From: Akmal Sarhan [mailto:as@byteaction.de]=20
Sent: Tuesday, December 14, 2004 10:24 AM
To: Lucene Users List
Subject: Re: Opinions: Using Lucene as a thin database

that sounds very interesting but how do you handle queries like
select * from MY_TABLE where MY_NUMERIC_FIELD > 80

as far as I know you have only the range query so you will have to say

my_numeric_filed:[80 TO ??]
but this would not work in the a/m example or am I missing something?

regards

Akmal
Am Di, den 14.12.2004 schrieb Praveen Peddi um 16:07:
> Even we use lucene for similar purpose except that we index and store
quite=20
> a few fields. Infact I also update partial documents as people
suggested. I=20
> store all the indexed fields so I don't have to build the whole
document=20
> again while updating partial document. The reason we do this is due to
the=20
> speed. I found the lucene search on a millions objects is 4 to 5 times

> faster than our oracle queries (ofcourse this might be due to our
pitiful=20
> database design :) ). It works great so far. the only caveat that we
had=20
> till now was incremental updates. But now I am implementing real-time=20
> updates so that the data in lucene index is almost always in sync with
data=20
> in database. So now, our search does not goto the database at all.
>=20
> Praveen
> ----- Original Message -----=20
> From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, December 14, 2004 9:40 AM
> Subject: Opinions: Using Lucene as a thin database
>=20
>=20
> I use Lucene as a legitimate search engine which is cool. But, I am
also
> using it as a simple database too. I build an index with a couple of
> keyword fields that allows me to retrieve values based on exact
matches
> in those fields. This is all I need to do so it works just fine for my
> needs. I also love the speed. The index is small enough that it is
> wicked fast. Was wondering if anyone out there was doing the same of
it
> there are any dissenting opinions on using Lucene for this purpose.
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> !EXCUBATOR:41bf0221115901292611315!
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 16:57:20 2004
Return-Path: 
 <lucene-user-return-11886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24125 invoked from network); 14 Dec 2004 16:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 16:57:20 -0000
Received: (qmail 58764 invoked by uid 500); 14 Dec 2004 16:22:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57442 invoked by uid 500); 14 Dec 2004 16:21:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55573 invoked by uid 99); 14 Dec 2004 16:21:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 08:21:19 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id ACD8A436013E; Tue, 14 Dec 2004 10:55:04 -0500
Message-ID: <41BF0AD3.4020808@bayt.net>
Date: Tue, 14 Dec 2004 19:46:27 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opinions: Using Lucene as a thin database
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How big do you expect it to get and how often do you expect to update 
it, we've been using Lucene for about 1 M records (19 fields each) with 
incremental updates every 10 minutes, the performance during updates 
wasn't wonderful, so it took some seriously intense code to sort that 
out, as you mentioned, it comes down to why you need the Thin DB for, 
Lucene is a wonderful search engine, but if I were looking at a fast and 
dirty relational DB, MySQL wins hands down, put them both together and 
you've really got something.

My 2 cents

Nader Henein

Kevin L. Cobb wrote:

>I use Lucene as a legitimate search engine which is cool. But, I am also
>using it as a simple database too. I build an index with a couple of
>keyword fields that allows me to retrieve values based on exact matches
>in those fields. This is all I need to do so it works just fine for my
>needs. I also love the speed. The index is small enough that it is
>wicked fast. Was wondering if anyone out there was doing the same of it
>there are any dissenting opinions on using Lucene for this purpose. 
>
> 
>
> 
>
> 
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 16:46:15 2004
Return-Path: 
 <lucene-user-return-11885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16970 invoked from network); 14 Dec 2004 16:46:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 16:46:15 -0000
Received: (qmail 47044 invoked by uid 500); 14 Dec 2004 16:18:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39555 invoked by uid 500); 14 Dec 2004 16:15:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33087 invoked by uid 99); 14 Dec 2004 16:13:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 08:13:23 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Tue, 14 Dec 2004 11:11:24 -0500
Message-ID: <25a201c4e1f7$8e55b5d0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
 <258101c4e1ee$99477680$aa87a8c0@ppeddi>
 <1103037821.3281.51.camel@dell-inspiron>
Subject: Re: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 11:11:23 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hmm. So far all our fields are just strings. But I would guess you should be 
able to use Integer.MAX_VALUE or something on the upper bound. Or there 
might be a better way of doing it.

Praveen
----- Original Message ----- 
From: "Akmal Sarhan" <as@byteaction.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 14, 2004 10:23 AM
Subject: Re: Opinions: Using Lucene as a thin database


> that sounds very interesting but how do you handle queries like
> select * from MY_TABLE where MY_NUMERIC_FIELD > 80
>
> as far as I know you have only the range query so you will have to say
>
> my_numeric_filed:[80 TO ??]
> but this would not work in the a/m example or am I missing something?
>
> regards
>
> Akmal
> Am Di, den 14.12.2004 schrieb Praveen Peddi um 16:07:
>> Even we use lucene for similar purpose except that we index and store 
>> quite
>> a few fields. Infact I also update partial documents as people suggested. 
>> I
>> store all the indexed fields so I don't have to build the whole document
>> again while updating partial document. The reason we do this is due to 
>> the
>> speed. I found the lucene search on a millions objects is 4 to 5 times
>> faster than our oracle queries (ofcourse this might be due to our pitiful
>> database design :) ). It works great so far. the only caveat that we had
>> till now was incremental updates. But now I am implementing real-time
>> updates so that the data in lucene index is almost always in sync with 
>> data
>> in database. So now, our search does not goto the database at all.
>>
>> Praveen
>> ----- Original Message ----- 
>> From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
>> To: <lucene-user@jakarta.apache.org>
>> Sent: Tuesday, December 14, 2004 9:40 AM
>> Subject: Opinions: Using Lucene as a thin database
>>
>>
>> I use Lucene as a legitimate search engine which is cool. But, I am also
>> using it as a simple database too. I build an index with a couple of
>> keyword fields that allows me to retrieve values based on exact matches
>> in those fields. This is all I need to do so it works just fine for my
>> needs. I also love the speed. The index is small enough that it is
>> wicked fast. Was wondering if anyone out there was doing the same of it
>> there are any dissenting opinions on using Lucene for this purpose.
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> !EXCUBATOR:41bf0221115901292611315!
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 16:58:59 2004
Return-Path: 
 <lucene-user-return-11887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24968 invoked from network); 14 Dec 2004 16:58:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 16:58:59 -0000
Received: (qmail 62992 invoked by uid 500); 14 Dec 2004 16:23:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62945 invoked by uid 500); 14 Dec 2004 16:23:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62911 invoked by uid 99); 14 Dec 2004 16:23:16 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 08:23:03 -0800
Received: (qmail 46258 invoked by uid 60001); 14 Dec 2004 16:15:43 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=W26LHvBETuf0QMvcOB9xGxgJvNqI9RhlQb446bzV9DoAT76Swpj5v5Sb1M2xauE9rLRCkigrXHi0Ns954RxTXqcXJsLWfPIDoIOMRczbyDGghh7dyM9Ixtn45g2RaDOvam/Hw4IALMT8bc+8bCmTKZcCPWFOR+MO7gsw1dpVbXU=
  ;
Message-ID: <20041214161543.46256.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 08:15:43 PST
Date: Tue, 14 Dec 2004 08:15:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: finalize delete without optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  John Wang <john.wang@gmail.com>
In-Reply-To: <8837fb7704121401562ae19375@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello John,

Once you make your change locally, use 'cvs diff -u IndexWriter.java >
indexwriter.patch' to make a patch.
Then open a new Bugzilla entry.
Finally, attach your patch to that entry.

Note that Document deletion is actually done from IndexReader, so your
patch may have to be on IndexReader, not IndexWriter.

Thanks,
Otis


--- John Wang <john.wang@gmail.com> wrote:

> Hi Otis:
> 
>      Thanks for you reply.
> 
>      I am looking for more of an API call than a tool. e.g.
> IndexWriter.finalizeDelete()
> 
>      If I implement this, how would I go about submitting a patch?
> 
> thanks
> 
> -John
> 
> 
> On Mon, 13 Dec 2004 22:24:12 -0800 (PST), Otis Gospodnetic
> <otis_gospodnetic@yahoo.com> wrote:
> > Hello John,
> > 
> > I believe you didn't get any replies to this.  What you are
> describing
> > cannot be done using the public, but maaay (no source code on this
> > machine, so I can't double-check that) be doable if you use some of
> the
> > 'internal' methods.
> > 
> > I don't have the need for this, but others might, so it may be
> worth
> > developing a tool that purges Documents marked as deleted without
> the
> > expensive segment merging, iff that is possible.  If you put this
> tool
> > under the approprite org.apache.lucene... package, you'll get
> access to
> > 'internal' methods, of course.  If you end up creating this, we
> could
> > stick it in the Sandbox, where we should really create a new
> section
> > for handy command-line tools that manipulate the index.
> > 
> > Otis
> > 
> > 
> > 
> > 
> > --- John Wang <john.wang@gmail.com> wrote:
> > 
> > > Hi:
> > >
> > >    Is there a way to finalize delete, e.g. actually remove them
> from
> > > the segments and make sure the docIDs are contiguous again.
> > >
> > >    The only explicit way to do this is by calling
> > > IndexWriter.optmize(). But this call does a lot more (also merges
> all
> > > the segments), hence is very expensive. Is there a way to simply
> just
> > > finalize the deletes without having to merge all the segments?
> > >
> > >     If not, I'd be glad to submit an implementation of this
> feature
> > > if
> > > the Lucene devs agree this is useful.
> > >
> > > Thanks
> > >
> > > -John
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> > >
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 17:24:44 2004
Return-Path: 
 <lucene-user-return-11888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47009 invoked from network); 14 Dec 2004 17:24:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 17:24:44 -0000
Received: (qmail 37312 invoked by uid 500); 14 Dec 2004 16:47:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36616 invoked by uid 500); 14 Dec 2004 16:47:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35926 invoked by uid 99); 14 Dec 2004 16:47:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from idmailgate2.unizh.ch (HELO idmailgate2.unizh.ch)
 (130.60.68.106)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 08:47:10 -0800
Received: from zimail1.unizh.ch (zimail1.unizh.ch [130.60.128.11])
	by idmailgate2.unizh.ch (8.12.10/8.12.10/Debian-2) with ESMTP id
 iBEGknTJ005704
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 17:46:50 +0100
Received: from isabelle ([130.60.99.86])
	by zimail1.unizh.ch (8.12.10/8.12.10/smMTA-17) with ESMTP id iBEGknJQ010987
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 17:46:50 +0100 (MET)
Subject: TFIDF Implementation
From: Christoph Kiefer <kiefer@ifi.unizh.ch>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E33266B@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E33266B@mail.lou.emergint.com>
Content-Type: text/plain
Date: Tue, 14 Dec 2004 17:44:47 +0100
Message-Id: <1103042687.19220.11.camel@isabelle>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-3) 
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-milter (http://www.amavis.org/)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
My current task/problem is the following: I need to implement TFIDF
document term ranking using Jakarta Lucene to compute a similarity rank
between arbitrary documents in the constructed index.
I saw from the API that there are similar functions already implemented
in the class Similarity and DefaultSimilarity but I don't know exactly
how to use them. At the time my index has about 25000 (small) documents
and there are about 75000 terms stored in total.
Now, my question is simple. Does anybody has done this before or could
point me to another location for help?

Thanks for any help in advance.
Christoph 

-- 
Christoph Kiefer

Department of Informatics, University of Zurich

Office: Uni Irchel 27-K-32
Phone:  +41 (0) 44 / 635 67 26
Email:  kiefer@ifi.unizh.ch
Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 17:56:26 2004
Return-Path: 
 <lucene-user-return-11889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78954 invoked from network); 14 Dec 2004 17:56:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 17:56:26 -0000
Received: (qmail 41185 invoked by uid 500); 14 Dec 2004 17:22:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41075 invoked by uid 500); 14 Dec 2004 17:22:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41033 invoked by uid 99); 14 Dec 2004 17:22:34 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=RCVD_IN_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.88)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 09:22:28 -0800
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id iBEHMEZ5027620
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:22:14 -0800 (PST)
Received: from [10.0.1.58] (adsl-62-167-151-86.adslplus.ch [62.167.151.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id iBEHMBLm025456
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:22:14 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B259A686-4DF4-11D9-A148-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 18:22:14 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 14, 2004, at 15:40, Kevin L. Cobb wrote:

> Was wondering if anyone out there was doing the same of it
> there are any dissenting opinions on using Lucene for this purpose.

ZOE [1] [2] takes the same approach and uses Lucene as a relational 
engine of sort.

However, for both practical and ideological reasons, its does not store 
any raw data in the Lucene indices themselves but instead uses JDBM [2] 
for that purpose.

All things considered, update issues aside, Lucene turns out to be a 
very flexible "thin database".

Cheers,

PA.

[1] http://zoe.nu/
[2] http://cvs.sourceforge.net/viewcvs.py/zoe/ZOE/Frameworks/SZObject/
[3] http://jdbm.sourceforge.net/



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 18:08:48 2004
Return-Path: 
 <lucene-user-return-11890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87690 invoked from network); 14 Dec 2004 18:08:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 18:08:48 -0000
Received: (qmail 72860 invoked by uid 500); 14 Dec 2004 17:33:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72729 invoked by uid 500); 14 Dec 2004 17:33:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72576 invoked by uid 99); 14 Dec 2004 17:33:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from iss05.interliant.com (HELO iss05.interliant.com)
 (198.3.182.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 09:33:37 -0800
Received: from EX-008.mail.navisite.com (ex-008.interliant.com [198.3.179.39])
	by iss05.interliant.com (8.10.2/8.10.2) with ESMTP id iBEHX0p20684
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 11:33:00 -0600 (CST)
Received: from EX-101.mail.navisite.com ([172.16.1.23]) by
 EX-008.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 14 Dec 2004 11:32:45 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C4E202.F470813A"
Subject: RE: TFIDF Implementation
Date: Tue, 14 Dec 2004 11:34:46 -0600
Message-ID: <E1F190DAC247C64FAA46B38316FA151D2A0D6C@EX-101.mail.navisite.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: TFIDF Implementation
Thread-Index: AcTiAdBqzVph8jKaQ2i3Ac3Oj/DZHAAAP7Cg
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 14 Dec 2004 17:32:45.0611 (UTC)
 FILETIME=[EC5657B0:01C4E202]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E202.F470813A
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Christoph,

I'm not entirely certain if this is what you want, but a while back =
David Spencer did code up a 'More Like This' class which can be used for =
generating similarities between documents. I can't seem to find this =
class in the sandbox so I've attached it here. Just repackage and test.


Regards,

Bruce Ritchie
http://www.jivesoftware.com/  =20

> -----Original Message-----
> From: Christoph Kiefer [mailto:kiefer@ifi.unizh.ch]=20
> Sent: December 14, 2004 11:45 AM
> To: Lucene Users List
> Subject: TFIDF Implementation
>=20
> Hi,
> My current task/problem is the following: I need to implement=20
> TFIDF document term ranking using Jakarta Lucene to compute a=20
> similarity rank between arbitrary documents in the constructed index.
> I saw from the API that there are similar functions already=20
> implemented in the class Similarity and DefaultSimilarity but=20
> I don't know exactly how to use them. At the time my index=20
> has about 25000 (small) documents and there are about 75000=20
> terms stored in total.
> Now, my question is simple. Does anybody has done this before=20
> or could point me to another location for help?
>=20
> Thanks for any help in advance.
> Christoph=20
>=20
> --
> Christoph Kiefer
>=20
> Department of Informatics, University of Zurich
>=20
> Office: Uni Irchel 27-K-32
> Phone:  +41 (0) 44 / 635 67 26
> Email:  kiefer@ifi.unizh.ch
> Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


------_=_NextPart_001_01C4E202.F470813A
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C4E202.F470813A--

From MAILER-DAEMON Tue Dec 14 18:21:19 2004
Return-Path: 
 <lucene-user-return-11891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96058 invoked from network); 14 Dec 2004 18:21:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 18:21:19 -0000
Received: (qmail 1446 invoked by uid 500); 14 Dec 2004 17:43:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1226 invoked by uid 500); 14 Dec 2004 17:43:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1180 invoked by uid 99); 14 Dec 2004 17:43:42 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=RCVD_IN_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.47)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 09:43:38 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iBEHhQX3010000
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:43:26 -0800 (PST)
Received: from [10.0.1.58] (adsl-62-167-151-86.adslplus.ch [62.167.151.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id iBEHhNxl021080
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 09:43:25 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <A8BC56A6-4DF7-11D9-B40D-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: petite_abeille <petite_abeille@mac.com>
Subject: [RFE]  IndexWriter.updateDocument()
Date: Tue, 14 Dec 2004 18:43:26 +0100
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, the subject says it all...

If there is one thing which is overly cumbersome in Lucene, it's 
updating documents, therefore this Request For Enhancement:

Please consider enhancing the IndexWriter API to include an 
updateDocument(...) method to take care of all the gory details 
involved in such operation.

Thanks in advance.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 18:57:53 2004
Return-Path: 
 <lucene-user-return-11892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21900 invoked from network); 14 Dec 2004 18:57:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 18:57:53 -0000
Received: (qmail 64617 invoked by uid 500); 14 Dec 2004 18:33:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64567 invoked by uid 500); 14 Dec 2004 18:33:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64527 invoked by uid 99); 14 Dec 2004 18:33:57 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12701.mail.yahoo.com (HELO web12701.mail.yahoo.com)
 (216.136.173.238)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 10:33:43 -0800
Received: (qmail 84032 invoked by uid 60001); 14 Dec 2004 18:32:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=By11Ibb/VYb6EJSHvswtglDXOil43PYWs4bc9/XTfmmF120u4FTpXOJAgoCkfiZYozxrM9sTJ0kekxNHqJ/r8ceppXKJpPDI9sYsCb14Ss0tn59fn46JJ3VVI7RHNZzxrQZN0R5RJfQrEtuDa13ogE5qhQ/7YZAqLiMNV3Q9nAo=
  ;
Message-ID: <20041214183215.84030.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 10:32:15 PST
Date: Tue, 14 Dec 2004 10:32:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: TFIDF Implementation
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D2A0D6C@EX-101.mail.navisite.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can also see 'Books like this' example from here
https://secure.manning.com/catalog/view.php?book=hatcher2&item=source

Otis

--- Bruce Ritchie <bruce@jivesoftware.com> wrote:

> Christoph,
> 
> I'm not entirely certain if this is what you want, but a while back
> David Spencer did code up a 'More Like This' class which can be used
> for generating similarities between documents. I can't seem to find
> this class in the sandbox so I've attached it here. Just repackage
> and test.
> 
> 
> Regards,
> 
> Bruce Ritchie
> http://www.jivesoftware.com/   
> 
> > -----Original Message-----
> > From: Christoph Kiefer [mailto:kiefer@ifi.unizh.ch] 
> > Sent: December 14, 2004 11:45 AM
> > To: Lucene Users List
> > Subject: TFIDF Implementation
> > 
> > Hi,
> > My current task/problem is the following: I need to implement 
> > TFIDF document term ranking using Jakarta Lucene to compute a 
> > similarity rank between arbitrary documents in the constructed
> index.
> > I saw from the API that there are similar functions already 
> > implemented in the class Similarity and DefaultSimilarity but 
> > I don't know exactly how to use them. At the time my index 
> > has about 25000 (small) documents and there are about 75000 
> > terms stored in total.
> > Now, my question is simple. Does anybody has done this before 
> > or could point me to another location for help?
> > 
> > Thanks for any help in advance.
> > Christoph 
> > 
> > --
> > Christoph Kiefer
> > 
> > Department of Informatics, University of Zurich
> > 
> > Office: Uni Irchel 27-K-32
> > Phone:  +41 (0) 44 / 635 67 26
> > Email:  kiefer@ifi.unizh.ch
> > Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> >
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 19:08:44 2004
Return-Path: 
 <lucene-user-return-11893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30104 invoked from network); 14 Dec 2004 19:08:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 19:08:44 -0000
Received: (qmail 16629 invoked by uid 500); 14 Dec 2004 18:50:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16577 invoked by uid 500); 14 Dec 2004 18:50:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16529 invoked by uid 99); 14 Dec 2004 18:50:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 10:50:37 -0800
Received: (qmail 28994 invoked by uid 532); 14 Dec 2004 18:49:45 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.106493 secs); 14 Dec 2004 18:49:45 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Dec 2004 18:49:45 -0000
Message-ID: <41BF35F2.6080604@tropo.com>
Date: Tue, 14 Dec 2004 10:50:26 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TFIDF Implementation
References: <E1F190DAC247C64FAA46B38316FA151D2A0D6C@EX-101.mail.navisite.com>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D2A0D6C@EX-101.mail.navisite.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bruce Ritchie wrote:

> Christoph,
> 
> I'm not entirely certain if this is what you want, but a while back David Spencer did code up a 'More Like This' class which can be used for generating similarities between documents. I can't seem to find this class in the sandbox 

Ot oh, sorry, I'll try to get this checked in soonish. For me it's 
always one thing to do a prelim version of a piece of code, but another 
matter to get it correctly packasged.

> so I've attached it here. Just repackage and test.


An alternate approach to find "similar" docs is to use all (possibly 
unique) tokens in the  source doc to form a large query. This is code I use:

'srch' is the entire untokenized text of the source doc
'a' is the analyzer you want to use
'field' is the field you want to search on e.g. "contents" or "body"
'stop' is an opt set of stop words to ignore

It returns a query, which you then use to search for "similar" docs, and 
then in the return result you need to make sure you ignore the source 
doc, which will prob come back 1st. You can use stemming, synonyms, or 
fuzzy expansion for each term too.

public static Query formSimilarQuery( 
String srch,							Analyzer a,									String field,									Set stop)
throws org.apache.lucene.queryParser.ParseException, IOException
{	
	TokenStream ts = a.tokenStream( "foo", new StringReader( srch));
	org.apache.lucene.analysis.Token t;
	BooleanQuery tmp = new BooleanQuery();
	Set already = new HashSet();
	while ( (t = ts.next()) != null)
	{
		String word = t.termText();
		if ( stop != null &&
			 stop.contains( word)) continue;
		if ( ! already.add( word)) continue;
		TermQuery tq = new TermQuery( new Term( field, word));
		tmp.add( tq, false, false);
	}
	return tmp;

}

> 
> 
> Regards,
> 
> Bruce Ritchie
> http://www.jivesoftware.com/   
> 
> 
>>-----Original Message-----
>>From: Christoph Kiefer [mailto:kiefer@ifi.unizh.ch] 
>>Sent: December 14, 2004 11:45 AM
>>To: Lucene Users List
>>Subject: TFIDF Implementation
>>
>>Hi,
>>My current task/problem is the following: I need to implement 
>>TFIDF document term ranking using Jakarta Lucene to compute a 
>>similarity rank between arbitrary documents in the constructed index.
>>I saw from the API that there are similar functions already 
>>implemented in the class Similarity and DefaultSimilarity but 
>>I don't know exactly how to use them. At the time my index 
>>has about 25000 (small) documents and there are about 75000 
>>terms stored in total.
>>Now, my question is simple. Does anybody has done this before 
>>or could point me to another location for help?
>>
>>Thanks for any help in advance.
>>Christoph 
>>
>>--
>>Christoph Kiefer
>>
>>Department of Informatics, University of Zurich
>>
>>Office: Uni Irchel 27-K-32
>>Phone:  +41 (0) 44 / 635 67 26
>>Email:  kiefer@ifi.unizh.ch
>>Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ------------------------------------------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 19:18:47 2004
Return-Path: 
 <lucene-user-return-11894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34446 invoked from network); 14 Dec 2004 19:18:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 19:18:47 -0000
Received: (qmail 41381 invoked by uid 500); 14 Dec 2004 18:58:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41345 invoked by uid 500); 14 Dec 2004 18:58:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41311 invoked by uid 99); 14 Dec 2004 18:58:17 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 10:58:12 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9B5DD5B7F2; Tue, 14 Dec 2004 10:57:05 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 908437F460
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 10:57:05 -0800 (PST)
Date: Tue, 14 Dec 2004 10:57:05 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opinions: Using Lucene as a thin database
In-Reply-To: <1103037821.3281.51.camel@dell-inspiron>
Message-ID: <Pine.LNX.4.58.0412141052100.11878@hal.rescomp.berkeley.edu>
References: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
 <258101c4e1ee$99477680$aa87a8c0@ppeddi>
 <1103037821.3281.51.camel@dell-inspiron>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: select * from MY_TABLE where MY_NUMERIC_FIELD > 80
:
: as far as I know you have only the range query so you will have to say
:
: my_numeric_filed:[80 TO ??]
: but this would not work in the a/m example or am I missing something?

RangeQuery allows you to an open ended range -- you can tell the
QueryParser to leave your range opened ended using hte keyword "null",
ie...

	my_numeric_filed:[80 TO null]



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 19:25:32 2004
Return-Path: 
 <lucene-user-return-11895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41216 invoked from network); 14 Dec 2004 19:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 19:25:32 -0000
Received: (qmail 54731 invoked by uid 500); 14 Dec 2004 19:02:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54668 invoked by uid 500); 14 Dec 2004 19:02:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54627 invoked by uid 99); 14 Dec 2004 19:02:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 11:02:08 -0800
Received: (qmail 30171 invoked by uid 532); 14 Dec 2004 19:01:16 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.07644 secs); 14 Dec 2004 19:01:16 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Dec 2004 19:01:16 -0000
Message-ID: <41BF3897.8010202@tropo.com>
Date: Tue, 14 Dec 2004 11:01:43 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: [RFE]  IndexWriter.updateDocument()
References: <A8BC56A6-4DF7-11D9-B40D-000393760B7E@mac.com>
In-Reply-To: <A8BC56A6-4DF7-11D9-B40D-000393760B7E@mac.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

petite_abeille wrote:

> Well, the subject says it all...
> 
> If there is one thing which is overly cumbersome in Lucene, it's 
> updating documents, therefore this Request For Enhancement:
> 
> Please consider enhancing the IndexWriter API to include an 
> updateDocument(...) method to take care of all the gory details involved 
> in such operation.

I agree, this is always a hassle to do right due to having to use 
IndexWriter and IndexReader and properly opening/closing them.

I have a prelim version of a "batched index writer" that I use. The code 
is kinda messy, but for discussion here's what it does:

Briefly the methods are:

// [1]
// the ctr has parameters:
//    'batch size # docs' e.g. it will flush pending updates every 100 docs
//    'batch freq' e.g. auto flush every 60 sec


// [2]
// queue a document to be added to the index
// 'key' is the primary key name e.g. "url"
// 'val' is the primary key val e.g. "http://www.tropo.com/"
// 'doc' is the doc to be added
update( String key, String val, Document doc)

// [3]
//  queue a document for removal
// 'key' and 'val' are the params, as from [2]
remove( String key, String val)

// [4]
// periodic flush, called automatically or on demand, 2 stages:
//         1. call IndexReader.delete() on all pending (key,val) pairs
//         2. close IndexReader
//         3. call IndexWriter.add() on all pending documents
//         4. optionally call optimze()
//         5. close IndexWriter
flush()



//----

So in normal usage you just keep calling update() and it peridically 
flushes the pending updates to the index. By its nature this uses memory 
however it's tunable as to how many documents it'll queue in memory.

Does the algorithm above, esp flush(), sound correct? It seems to work 
right for me and I can post this if people want to see it...

- Dave


> 
> Thanks in advance.
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 19:34:48 2004
Return-Path: 
 <lucene-user-return-11896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46722 invoked from network); 14 Dec 2004 19:34:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 19:34:48 -0000
Received: (qmail 79417 invoked by uid 500); 14 Dec 2004 19:10:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79162 invoked by uid 500); 14 Dec 2004 19:10:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79019 invoked by uid 99); 14 Dec 2004 19:10:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 11:10:33 -0800
Received: (qmail 31204 invoked by uid 532); 14 Dec 2004 19:09:54 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.036875 secs); 14 Dec 2004 19:09:54 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Dec 2004 19:09:54 -0000
Message-ID: <41BF3AAB.3040801@tropo.com>
Date: Tue, 14 Dec 2004 11:10:35 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TFIDF Implementation
References: <20041214183215.84030.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20041214183215.84030.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> You can also see 'Books like this' example from here
> https://secure.manning.com/catalog/view.php?book=hatcher2&item=source

Well done, uses a term vector, instead of reparsing the orig doc, to 
form the similarity query. Also I like the way you exclude the source 
doc in the query, I didn't think of doing that in my code.

I don't trust calling vector.size() and vector.getTerms() within the 
loop but I haven't looked at the code to see if it calculates  the 
results each time or caches them...
> 
> Otis
> 
> --- Bruce Ritchie <bruce@jivesoftware.com> wrote:
> 
> 
>>Christoph,
>>
>>I'm not entirely certain if this is what you want, but a while back
>>David Spencer did code up a 'More Like This' class which can be used
>>for generating similarities between documents. I can't seem to find
>>this class in the sandbox so I've attached it here. Just repackage
>>and test.
>>
>>
>>Regards,
>>
>>Bruce Ritchie
>>http://www.jivesoftware.com/   
>>
>>
>>>-----Original Message-----
>>>From: Christoph Kiefer [mailto:kiefer@ifi.unizh.ch] 
>>>Sent: December 14, 2004 11:45 AM
>>>To: Lucene Users List
>>>Subject: TFIDF Implementation
>>>
>>>Hi,
>>>My current task/problem is the following: I need to implement 
>>>TFIDF document term ranking using Jakarta Lucene to compute a 
>>>similarity rank between arbitrary documents in the constructed
>>
>>index.
>>
>>>I saw from the API that there are similar functions already 
>>>implemented in the class Similarity and DefaultSimilarity but 
>>>I don't know exactly how to use them. At the time my index 
>>>has about 25000 (small) documents and there are about 75000 
>>>terms stored in total.
>>>Now, my question is simple. Does anybody has done this before 
>>>or could point me to another location for help?
>>>
>>>Thanks for any help in advance.
>>>Christoph 
>>>
>>>--
>>>Christoph Kiefer
>>>
>>>Department of Informatics, University of Zurich
>>>
>>>Office: Uni Irchel 27-K-32
>>>Phone:  +41 (0) 44 / 635 67 26
>>>Email:  kiefer@ifi.unizh.ch
>>>Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html
>>>
>>>
>>>
>>
>>---------------------------------------------------------------------
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>
>>lucene-user-help@jakarta.apache.org
>>
>>>
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 19:36:43 2004
Return-Path: 
 <lucene-user-return-11897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48227 invoked from network); 14 Dec 2004 19:36:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 19:36:43 -0000
Received: (qmail 88467 invoked by uid 500); 14 Dec 2004 19:13:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88361 invoked by uid 500); 14 Dec 2004 19:13:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88261 invoked by uid 99); 14 Dec 2004 19:13:19 -0000
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com)
 (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 11:13:19 -0800
Received: from woodbridge [66.108.139.249] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id ABC93299014E; Tue, 14 Dec 2004 14:15:21 -0500
From: "Monsur Hossain" <monsur@monsur.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 14:13:13 -0500
Message-ID: <009201c4e210$f52c6ce0$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332669@mail.lou.emergint.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think this is a great idea, and one that I've been mulling over to
implement keyword lookups (similar to Flickr.com's tag system).  I
believe the advantage over a relational database comes from Lucene's
inverted index, which is highly optimized for this kind of lookup.  

My concern is that this just shifts the scaling issue to Lucene, and I
haven't found much info on how to scale Lucene vertically.  




> -----Original Message-----
> From: Kevin L. Cobb [mailto:kevin.cobb@emergint.com] 
> Sent: Tuesday, December 14, 2004 9:40 AM
> To: lucene-user@jakarta.apache.org
> Subject: Opinions: Using Lucene as a thin database
> 
> 
> I use Lucene as a legitimate search engine which is cool. 
> But, I am also using it as a simple database too. I build an 
> index with a couple of keyword fields that allows me to 
> retrieve values based on exact matches in those fields. This 
> is all I need to do so it works just fine for my needs. I 
> also love the speed. The index is small enough that it is 
> wicked fast. Was wondering if anyone out there was doing the 
> same of it there are any dissenting opinions on using Lucene 
> for this purpose. 
> 
>  
> 
>  
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 20:19:59 2004
Return-Path: 
 <lucene-user-return-11898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74373 invoked from network); 14 Dec 2004 20:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 20:19:59 -0000
Received: (qmail 11389 invoked by uid 500); 14 Dec 2004 19:20:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11298 invoked by uid 500); 14 Dec 2004 19:20:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11053 invoked by uid 99); 14 Dec 2004 19:20:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-7-7-100.dsl.nyc.megapath.net (HELO mail.monsur.com)
 (64.7.7.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 11:20:14 -0800
Received: from woodbridge [66.108.139.249] by mail.monsur.com with ESMTP
  (SMTPD32-8.04) id AD663CCD0150; Tue, 14 Dec 2004 14:22:14 -0500
From: "Monsur Hossain" <monsur@monsur.com>
To: <lucene-user@jakarta.apache.org>
Subject: RE: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 14:20:05 -0500
Message-ID: <009301c4e211$eb717820$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: 
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> My concern is that this just shifts the scaling issue to 
> Lucene, and I haven't found much info on how to scale Lucene 
> vertically.  

By "vertically", of course, I meant "horizontally".  Basically scaling
it across servers as one might do with a relational database.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 21:13:11 2004
Return-Path: 
 <lucene-user-return-11899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4436 invoked from network); 14 Dec 2004 21:13:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 21:13:11 -0000
Received: (qmail 97034 invoked by uid 500); 14 Dec 2004 20:15:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96807 invoked by uid 500); 14 Dec 2004 20:15:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95987 invoked by uid 99); 14 Dec 2004 20:15:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 12:15:18 -0800
Received: (qmail 84701 invoked by uid 60001); 14 Dec 2004 20:15:05 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ZW/EZkpC23Xcue3TXyOoNJmwWLr1dMeYPNnxZkCmiQ4w9CrP77uH+dWR1gb0Odpx0qEox56YkaiJu4+vuzUvz6cBqyyVUllrC2K2ufx8RIUaZdqTr/5ao217TdF+SYPv82mS2FYiDnOJOs1K6Hr1zAoLvhIgh8fsxU2EDkDVB5k=
  ;
Message-ID: <20041214201505.84699.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 12:15:05 PST
Date: Tue, 14 Dec 2004 12:15:05 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Opinions: Using Lucene as a thin database
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <009201c4e210$f52c6ce0$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can see Flickr-like tag (lookup) system at my Simpy site (
http://www.simpy.com ).  It uses Lucene as the backend for lookups, but
still uses a RDBMS as the primary storage.

I find it that keeping the RDBMS and Lucene indices is a bit of a pain
and error prone, so _thin_ storage layer with simple requirements will
be okay with just using Lucene, while applications with more complex
domain models will quickly run into limitation (using the wrong tool
for the job type of problem).

Otis

--- Monsur Hossain <monsur@monsur.com> wrote:

> I think this is a great idea, and one that I've been mulling over to
> implement keyword lookups (similar to Flickr.com's tag system).  I
> believe the advantage over a relational database comes from Lucene's
> inverted index, which is highly optimized for this kind of lookup.  
> 
> My concern is that this just shifts the scaling issue to Lucene, and
> I
> haven't found much info on how to scale Lucene vertically.  
> 
> 
> 
> 
> > -----Original Message-----
> > From: Kevin L. Cobb [mailto:kevin.cobb@emergint.com] 
> > Sent: Tuesday, December 14, 2004 9:40 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Opinions: Using Lucene as a thin database
> > 
> > 
> > I use Lucene as a legitimate search engine which is cool. 
> > But, I am also using it as a simple database too. I build an 
> > index with a couple of keyword fields that allows me to 
> > retrieve values based on exact matches in those fields. This 
> > is all I need to do so it works just fine for my needs. I 
> > also love the speed. The index is small enough that it is 
> > wicked fast. Was wondering if anyone out there was doing the 
> > same of it there are any dissenting opinions on using Lucene 
> > for this purpose. 
> > 
> >  
> > 
> >  
> > 
> >  
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 21:26:14 2004
Return-Path: 
 <lucene-user-return-11901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15337 invoked from network); 14 Dec 2004 21:26:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 21:26:14 -0000
Received: (qmail 33767 invoked by uid 500); 14 Dec 2004 20:29:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33673 invoked by uid 500); 14 Dec 2004 20:29:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33563 invoked by uid 99); 14 Dec 2004 20:29:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 12:29:11 -0800
Received: (qmail 73601 invoked by uid 60001); 14 Dec 2004 20:29:08 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=33qlSh67ustLde4F07HPoBVFgIhftlmIbmqF3A1mlHxgmV8lVH2fpOyDG3piFmKW1kvHmD/Vv6BIicJv1n531H+Z+EQf8JOD5ZMLiLQnpE74Ne60dHvVfOsbW6q3V/ClXgHw9op8NBqYQb+FLo2+gM4KWcWjuFGg6G51Nh2Lb04=
  ;
Message-ID: <20041214202908.73599.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 12:29:08 PST
Date: Tue, 14 Dec 2004 12:29:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Opinions: Using Lucene as a thin database
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <009301c4e211$eb717820$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, one could always partition an index, distribute pieces of it
horizontally across multiple 'search servers' and use the built-in
RMI-based and Parallel search feature.  Nutch uses something similar
for search scaling.

Otis


--- Monsur Hossain <monsur@monsur.com> wrote:

> > My concern is that this just shifts the scaling issue to 
> > Lucene, and I haven't found much info on how to scale Lucene 
> > vertically.  
> 
> By "vertically", of course, I meant "horizontally".  Basically
> scaling
> it across servers as one might do with a relational database.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 21:25:39 2004
Return-Path: 
 <lucene-user-return-11900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14301 invoked from network); 14 Dec 2004 21:25:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 21:25:39 -0000
Received: (qmail 30914 invoked by uid 500); 14 Dec 2004 20:28:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30838 invoked by uid 500); 14 Dec 2004 20:28:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30775 invoked by uid 99); 14 Dec 2004 20:28:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from iss04.interliant.com (HELO iss04.interliant.com)
 (198.3.182.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 12:28:15 -0800
Received: from EX-008.mail.navisite.com (ex-008.interliant.com [198.3.179.39])
	by iss04.interliant.com (8.10.2/8.10.2) with ESMTP id iBEKRx213331
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 14:27:59 -0600 (CST)
Received: from EX-101.mail.navisite.com ([172.16.1.23]) by
 EX-008.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 14 Dec 2004 14:27:57 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: TFIDF Implementation
Date: Tue, 14 Dec 2004 14:29:44 -0600
Message-ID: <E1F190DAC247C64FAA46B38316FA151D2A0FD0@EX-101.mail.navisite.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TFIDF Implementation
Thread-Index: AcTiE+UZHT4oYQahQ/+qw9n9vR/SOQABzEuQ
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 14 Dec 2004 20:27:58.0006 (UTC)
 FILETIME=[66368560:01C4E21B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20
> > You can also see 'Books like this' example from here=20
> >=20
> =
https://secure.manning.com/catalog/view.php?book=3Dhatcher2&item=3Dsource=

>=20
> Well done, uses a term vector, instead of reparsing the orig=20
> doc, to form the similarity query. Also I like the way you=20
> exclude the source doc in the query, I didn't think of doing=20
> that in my code.

I agree, it's a good way to exclude the source doc.
=20
> I don't trust calling vector.size() and vector.getTerms()=20
> within the loop but I haven't looked at the code to see if it=20
> calculates  the results each time or caches them...

>>From the code I looked at, those calls don't recalculate on every call.=20


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 21:36:51 2004
Return-Path: 
 <lucene-user-return-11902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23130 invoked from network); 14 Dec 2004 21:36:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 21:36:51 -0000
Received: (qmail 93005 invoked by uid 500); 14 Dec 2004 20:49:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92919 invoked by uid 500); 14 Dec 2004 20:49:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92838 invoked by uid 99); 14 Dec 2004 20:49:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout04.sul.t-online.com (HELO mailout04.sul.t-online.com)
 (194.25.134.18)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 12:49:24 -0800
Received: from fwd07.aul.t-online.de
	by mailout04.sul.t-online.com with smtp
	id 1CeJbl-0000eI-00; Tue, 14 Dec 2004 21:49:21 +0100
Received: from p54802D42.dip.t-dialin.net
 (Vas47-Zd8ekTYzo0jYSdrGzIlqO2knW1LVT18S-waBNo+UDkkral0P@[84.128.45.66]) by
 fmrl07.sul.t-online.com
	with esmtp id 1CeJbY-1wonHk0; Tue, 14 Dec 2004 21:49:08 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Opinions: Using Lucene as a thin database
Date: Tue, 14 Dec 2004 21:50:39 +0100
User-Agent: KMail/1.7.1
References: <009201c4e210$f52c6ce0$0200a8c0@woodbridge>
In-Reply-To: <009201c4e210$f52c6ce0$0200a8c0@woodbridge>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412142150.39456@danielnaber.de>
X-ID: Vas47-Zd8ekTYzo0jYSdrGzIlqO2knW1LVT18S-waBNo+UDkkral0P@t-dialin.net
X-TOI-MSGID: 5e4acdbb-a74d-44e6-b661-5f394f3d7b63
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 14 December 2004 20:13, Monsur Hossain wrote:

> My concern is that this just shifts the scaling issue to Lucene, and I
> haven't found much info on how to scale Lucene vertically. =C2=A0

You can easily use MultiSearcher to search over several indices. If you=20
want the distribution to be more transparent, have a look at Nutch.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 22:36:45 2004
Return-Path: 
 <lucene-user-return-11903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78971 invoked from network); 14 Dec 2004 22:36:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 22:36:45 -0000
Received: (qmail 4831 invoked by uid 500); 14 Dec 2004 22:36:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4808 invoked by uid 500); 14 Dec 2004 22:36:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4792 invoked by uid 99); 14 Dec 2004 22:36:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 14:36:36 -0800
Received: (qmail 14279 invoked by uid 532); 14 Dec 2004 22:36:08 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.027865 secs); 14 Dec 2004 22:36:08 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Dec 2004 22:36:08 -0000
Message-ID: <41BF6B01.6040800@tropo.com>
Date: Tue, 14 Dec 2004 14:36:49 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TFIDF Implementation
References: <E1F190DAC247C64FAA46B38316FA151D2A0FD0@EX-101.mail.navisite.com>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D2A0FD0@EX-101.mail.navisite.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bruce Ritchie wrote:

>  
> 
>>>You can also see 'Books like this' example from here 
>>>
>>
>>https://secure.manning.com/catalog/view.php?book=hatcher2&item=source
>>
>>Well done, uses a term vector, instead of reparsing the orig 
>>doc, to form the similarity query. Also I like the way you 
>>exclude the source doc in the query, I didn't think of doing 
>>that in my code.
> 
> 
> I agree, it's a good way to exclude the source doc.
>  
> 
>>I don't trust calling vector.size() and vector.getTerms() 
>>within the loop but I haven't looked at the code to see if it 
>>calculates  the results each time or caches them...
> 
> 
> From the code I looked at, those calls don't recalculate on every call. 

I was referring to this fragment below from BooksLikeThis.docsLike(), 
and was mentioning it as the javadoc 
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/TermFreqVector.html 
does not say that the values returned by size() and getTerms() are 
cached, and while the impl may cache them (haven't checked) it's not 
guarenteed, thus it's safer to put the size() and getTerms() call 
outside the loop.

  for (int j = 0; j < vector.size(); j++) {
       TermQuery tq = new TermQuery(
           new Term("subject", vector.getTerms()[j]));
> 
> 
> Regards,
> 
> Bruce Ritchie
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 23:04:04 2004
Return-Path: 
 <lucene-user-return-11904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91356 invoked from network); 14 Dec 2004 23:04:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 23:04:04 -0000
Received: (qmail 82815 invoked by uid 500); 14 Dec 2004 23:03:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82775 invoked by uid 500); 14 Dec 2004 23:03:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82753 invoked by uid 99); 14 Dec 2004 23:03:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from iss04.interliant.com (HELO iss04.interliant.com)
 (198.3.182.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 15:03:19 -0800
Received: from EX-008.mail.navisite.com (ex-008.interliant.com [198.3.179.39])
	by iss04.interliant.com (8.10.2/8.10.2) with ESMTP id iBEN3F224916
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 17:03:15 -0600 (CST)
Received: from EX-101.mail.navisite.com ([172.16.1.23]) by
 EX-008.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 14 Dec 2004 17:03:09 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: TFIDF Implementation
Date: Tue, 14 Dec 2004 17:05:04 -0600
Message-ID: <E1F190DAC247C64FAA46B38316FA151D2A11CE@EX-101.mail.navisite.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TFIDF Implementation
Thread-Index: AcTiLUwRRDW+yEicTKSdMQSdjOD0PQAA50Lg
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 14 Dec 2004 23:03:09.0674 (UTC)
 FILETIME=[14664CA0:01C4E231]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> > From the code I looked at, those calls don't recalculate on=20
> every call.=20
>=20
> I was referring to this fragment below from BooksLikeThis.docsLike(),=20
> and was mentioning it as the javadoc=20
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/in
> dex/TermFreqVector.html=20
> does not say that the values returned by size() and getTerms() are=20
> cached, and while the impl may cache them (haven't checked) it's not=20
> guarenteed, thus it's safer to put the size() and getTerms() call=20
> outside the loop.
>=20
>   for (int j =3D 0; j < vector.size(); j++) {
>        TermQuery tq =3D new TermQuery(
>            new Term("subject", vector.getTerms()[j]));

I agree on your overall point that it's probably best to put those calls =
outside of the loop, I was just saying that I did look at the =
implementation and the calls do not recalculate anything. I'm sorry I =
didn't explain myself clearly enough.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 14 23:46:32 2004
Return-Path: 
 <lucene-user-return-11905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12913 invoked from network); 14 Dec 2004 23:46:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Dec 2004 23:46:32 -0000
Received: (qmail 8787 invoked by uid 500); 14 Dec 2004 23:46:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8769 invoked by uid 500); 14 Dec 2004 23:46:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8744 invoked by uid 99); 14 Dec 2004 23:46:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 15:46:24 -0800
Received: (qmail 17846 invoked by uid 532); 14 Dec 2004 23:45:56 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.089692 secs); 14 Dec 2004 23:45:56 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Dec 2004 23:45:56 -0000
Message-ID: <41BF7B5D.2030807@tropo.com>
Date: Tue, 14 Dec 2004 15:46:37 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TFIDF Implementation
References: <E1F190DAC247C64FAA46B38316FA151D2A11CE@EX-101.mail.navisite.com>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D2A11CE@EX-101.mail.navisite.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bruce Ritchie wrote:

>>>>>From the code I looked at, those calls don't recalculate on 
>>
>>every call. 
>>
>>I was referring to this fragment below from BooksLikeThis.docsLike(), 
>>and was mentioning it as the javadoc 
>>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/in
>>dex/TermFreqVector.html 
>>does not say that the values returned by size() and getTerms() are 
>>cached, and while the impl may cache them (haven't checked) it's not 
>>guarenteed, thus it's safer to put the size() and getTerms() call 
>>outside the loop.
>>
>>  for (int j = 0; j < vector.size(); j++) {
>>       TermQuery tq = new TermQuery(
>>           new Term("subject", vector.getTerms()[j]));
> 
> 
> I agree on your overall point that it's probably best to put those calls outside of the loop, I was just saying that I did look at the implementation and the calls do not recalculate anything. I'm sorry I didn't explain myself clearly enough.
Oh oh oh, sorry, 10-4, no prob.

> 
> 
> Regards,
> 
> Bruce Ritchie
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 02:42:51 2004
Return-Path: 
 <lucene-user-return-11906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6416 invoked from network); 15 Dec 2004 02:42:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 02:42:51 -0000
Received: (qmail 73428 invoked by uid 500); 15 Dec 2004 02:42:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73403 invoked by uid 500); 15 Dec 2004 02:42:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73387 invoked by uid 99); 15 Dec 2004 02:42:44 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_IN_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42201.mail.yahoo.com (HELO web42201.mail.yahoo.com)
 (66.218.93.202)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 18:42:40 -0800
Received: (qmail 83246 invoked by uid 60001); 15 Dec 2004 02:42:38 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=TVuLecN8mAJI6UC8L8XPtEP3cq/W+Ev/mSxwS+hzn0G/VLsANXr458F+7/l3UZtiTSdrSUZLtJ28mLd1klFxodiKe2M8vBqL//oZufTZ8Ldg3s7zbAAPlh5CuSfu6k7qOAMQIf47uj6mmxucXKVz+3ZIdmlbQ8cxMTAcHn5Axr8=
  ;
Message-ID: <20041215024238.83244.qmail@web42201.mail.yahoo.com>
Received: from [12.129.205.253] by web42201.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 18:42:38 PST
Date: Tue, 14 Dec 2004 18:42:38 -0800 (PST)
From: "Homam S.A." <homam_sa@yahoo.com>
Subject: Indexing a large number of DB records
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41BF7B5D.2030807@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm trying to index a large number of records from the
DB (a few millions). Each record will be stored as a
document with about 30 fields, most of them are
UnStored and represent small strings or numbers. No
huge DB Text fields.

But I'm running out of memory very fast, and the
indexing is slowing down to a crawl once I hit around
1500 records. The problem is each document is holding
references to the string objects returned from
ToString() on the DB field, and the IndexWriter is
holding references to all these document objects in
memory, so the garbage collector is getting a chance
to clean these up.

How do you guys go about indexing a large DB table?
Here's a snippet of my code (this method is called for
each record in the DB):

private void IndexRow(SqlDataReader rdr, IndexWriter
iw) {
	Document doc = new Document();
	for (int i = 0; i < BrowseFieldNames.Length; i++) {
		doc.Add(Field.UnStored(BrowseFieldNames[i],
rdr.GetValue(i).ToString()));
	}
	iw.AddDocument(doc);
}




		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Find what you need with new enhanced search.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 03:05:28 2004
Return-Path: 
 <lucene-user-return-11907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15454 invoked from network); 15 Dec 2004 03:05:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 03:05:28 -0000
Received: (qmail 3508 invoked by uid 500); 15 Dec 2004 03:05:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3487 invoked by uid 500); 15 Dec 2004 03:05:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3471 invoked by uid 99); 15 Dec 2004 03:05:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 19:05:18 -0800
Received: (qmail 36490 invoked by uid 60001); 15 Dec 2004 03:05:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=mfHneF3foEccSs3OXVVHWoLgutIg8/4sE94Y5SVeti7ZwRjAcQiULq3UbsUcZtJHKA1I+CjPwSsUA8jILVnSk9pauFRTPBmX6oh1XJuNRsEAX7VjiXRwYq/yO00rN8lWHwcDQPXOsl10s3nAZBMDPGNECgGtUyJUgQPmaOV+xdM=
  ;
Message-ID: <20041215030517.36488.qmail@web12705.mail.yahoo.com>
Received: from [69.201.130.95] by web12705.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 19:05:17 PST
Date: Tue, 14 Dec 2004 19:05:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing a large number of DB records
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20041215024238.83244.qmail@web42201.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

There are a few things you can do:

1) Don't just pull all rows from the DB at once.  Do that in batches.

2) If you can get a Reader from your SqlDataReader, consider this:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#Text(java.lang.String,%20java.io.Reader)

3) Give the JVM more memory to play with by using -Xms and -Xmx JVM
parameters

4) See IndexWriter's minMergeDocs parameter.

5) Are you calling optimize() at some point by any chance?  Leave that
call for the end.

1500 documents with 30 columns of short String/number values is not a
lot.  You may be doing something else not Lucene related that's slowing
things down.

Otis


--- "Homam S.A." <homam_sa@yahoo.com> wrote:

> I'm trying to index a large number of records from the
> DB (a few millions). Each record will be stored as a
> document with about 30 fields, most of them are
> UnStored and represent small strings or numbers. No
> huge DB Text fields.
> 
> But I'm running out of memory very fast, and the
> indexing is slowing down to a crawl once I hit around
> 1500 records. The problem is each document is holding
> references to the string objects returned from
> ToString() on the DB field, and the IndexWriter is
> holding references to all these document objects in
> memory, so the garbage collector is getting a chance
> to clean these up.
> 
> How do you guys go about indexing a large DB table?
> Here's a snippet of my code (this method is called for
> each record in the DB):
> 
> private void IndexRow(SqlDataReader rdr, IndexWriter
> iw) {
> 	Document doc = new Document();
> 	for (int i = 0; i < BrowseFieldNames.Length; i++) {
> 		doc.Add(Field.UnStored(BrowseFieldNames[i],
> rdr.GetValue(i).ToString()));
> 	}
> 	iw.AddDocument(doc);
> }
> 
> 
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> Yahoo! Mail - Find what you need with new enhanced search.
> http://info.mail.yahoo.com/mail_250
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 05:20:00 2004
Return-Path: 
 <lucene-user-return-11908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82927 invoked from network); 15 Dec 2004 05:20:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 05:20:00 -0000
Received: (qmail 52382 invoked by uid 500); 15 Dec 2004 05:19:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52013 invoked by uid 500); 15 Dec 2004 05:19:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51999 invoked by uid 99); 15 Dec 2004 05:19:55 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web14822.mail.yahoo.com (HELO web14822.mail.yahoo.com)
 (216.136.225.172)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 21:19:50 -0800
Received: (qmail 44158 invoked by uid 60001); 15 Dec 2004 05:19:48 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=3ZsrovRfLXVWOmFcS+Z6KCmggi2KU2bQVCEb+2PW7rP9VbRTn18ZbR7SkZtyMqzcm2YAFG3a7g8Uc3FQuyeI/oBA8T3NDXm+ya7Z++Yrob39/0lTK8kBEEQj0geI9DqJDDkom37NchdK24Y8f81xAO0MKkOER3ONx3Yjp+CtSOQ=
  ;
Message-ID: <20041215051948.44156.qmail@web14822.mail.yahoo.com>
Received: from [203.162.81.3] by web14822.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 21:19:48 PST
Date: Tue, 14 Dec 2004 21:19:48 -0800 (PST)
From: Nhan Nguyen Dang <ndnhan2003@yahoo.com>
Subject: A question about scoring function in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20041215024238.83244.qmail@web42201.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,
Lucene score document based on the correlation between
the query q and document t:
(this is raw function, I don't pay attention to the 
boost_t, coord_q_d factor)

score_d = sum_t( tf_q * idf_t / norm_q * tf_d * idf_t
/ norm_d_t)  (*)

Could anybody explain it in detail ? Or are there any
papers, documents about this function ? Because:

I have also read the book: Modern Information
Retrieval, author: Ricardo Baeza-Yates and Berthier 
Ribeiro-Neto, Addison Wesley (Hope you have read it
too). In page 27, they also suggest a scoring funtion
for vector model based on the correlation between
query q and document d as follow (I use different
symbol):

	         sum_t( weight_t_d * weight_t_q) 
score_d(d, q)=  --------------------------------- (**)
	     	      norm_d * norm_q 

where weight_t_d = tf_d * idf_t
      weight_t_q = tf_q * idf_t
      norm_d = sqrt( sum_t( (tf_d * idf_t)^2 ) )
      norm_q = sqrt( sum_t( (tf_q * idf_t)^2 ) )

(**):          sum_t( tf_q*idf_t * tf_d*idf_t) 
score_d(d, q)=---------------------------------  (***)
		   norm_d * norm_q 

The two function, (*) and (***), have 2 differences:
1. in (***), the sum_t is just for the numerator but
in the (*), the sum_t is for everything. So, with
norm_q = sqrt(sum_t((tf_q*idf_t)^2)); sum_t is
calculated twice. Is this right? please explain.

2. No factor that define norms of the document: norm_d
in the function (*). Can you explain this. what is the
role of factor norm_d_t ?

One more question: could anybody give me documents,
papers that explain this function in detail. so when I
apply Lucene for my system, I can adapt the document,
and the field so that I still receive the correct
scoring information from Lucene .

Best regard,
Thanks every body,

=====
�#7863;ng Nh�n 





		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Find what you need with new enhanced search.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 05:48:37 2004
Return-Path: 
 <lucene-user-return-11911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93125 invoked from network); 15 Dec 2004 05:48:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 05:48:37 -0000
Received: (qmail 88400 invoked by uid 500); 15 Dec 2004 05:48:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88179 invoked by uid 500); 15 Dec 2004 05:48:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88166 invoked by uid 99); 15 Dec 2004 05:48:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 21:48:29 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8R18G00.LSH for <lucene-user@jakarta.apache.org>; Wed,
          15 Dec 2004 11:13:28 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: LUCENE1.4.1 - LUCENE1.4.2 - LUCENE1.4.3 Exception
Date: Wed, 15 Dec 2004 11:01:17 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEEMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys........


Some body tell me what this Exception am Getting Pleae

Sys Specifications

O/s Linux Gentoo
Appserver Apache Tomcat/4.1.24
Jdk build 1.4.2_03-b02
Lucene 1.4.1 ,2, 3

Note: - This Exception is displayed on Every 2nd Query after Tomcat is
started


java.io.IOException: Stale NFS file handle
        at java.io.RandomAccessFile.readBytes(Native Method)
        at java.io.RandomAccessFile.read(RandomAccessFile.java:307)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:220)
        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
        at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:142)
        at
org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
        at
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143)
        at
org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137)
        at
org.apache.lucene.index.SegmentReader.docFreq(SegmentReader.java:253)
        at
org.apache.lucene.search.IndexSearcher.docFreq(IndexSearcher.java:69)
        at org.apache.lucene.search.Similarity.idf(Similarity.java:255)
        at
org.apache.lucene.search.TermQuery$TermWeight.sumOfSquaredWeights(TermQuery.
java:47)
        at org.apache.lucene.search.Query.weight(Query.java:86)
        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
        at
org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.java:
251)





      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 05:32:16 2004
Return-Path: 
 <lucene-user-return-11909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86881 invoked from network); 15 Dec 2004 05:32:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 05:32:16 -0000
Received: (qmail 67034 invoked by uid 500); 15 Dec 2004 05:32:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66995 invoked by uid 500); 15 Dec 2004 05:32:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66980 invoked by uid 99); 15 Dec 2004 05:32:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 21:32:06 -0800
Received: from cofferdam.cs.utexas.edu (vgupta@cofferdam.cs.utexas.edu
 [128.83.144.228])
	by mail.cs.utexas.edu (8.13.1/8.13.1) with ESMTP id iBF5W3xW022743
	for <lucene-user@jakarta.apache.org>; Tue, 14 Dec 2004 23:32:04 -0600 (CST)
Received: (from vgupta@localhost)
	by cofferdam.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBF5W3qH010812;
	Tue, 14 Dec 2004 23:32:03 -0600
Date: Tue, 14 Dec 2004 23:32:03 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A question about scoring function in Lucene
In-Reply-To: <20041215051948.44156.qmail@web14822.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0412142331340.10442@cofferdam.cs.utexas.edu>
References: <20041215051948.44156.qmail@web14822.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=X-UNKNOWN
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene uses the vector space model. To understand that:

-Read section 2.1 of "Space optimizations for Total Ranking" paper (Linked
here http://lucene.sourceforge.net/publications.html)
-Read section 6 to 6.4 of
http://www.csee.umbc.edu/cadip/readings/IR.report.120600.book.pdf
-Read section 1 of
http://www.cs.utexas.edu/users/inderjit/courses/dm2004/lecture5.ps

Vikas

On Tue, 14 Dec 2004, Nhan Nguyen Dang wrote:

> Hi all,
> Lucene score document based on the correlation between
> the query q and document t:
> (this is raw function, I don't pay attention to the
> boost_t, coord_q_d factor)
>
> score_d =3D sum_t( tf_q * idf_t / norm_q * tf_d * idf_t
> / norm_d_t)  (*)
>
> Could anybody explain it in detail ? Or are there any
> papers, documents about this function ? Because:
>
> I have also read the book: Modern Information
> Retrieval, author: Ricardo Baeza-Yates and Berthier
> Ribeiro-Neto, Addison Wesley (Hope you have read it
> too). In page 27, they also suggest a scoring funtion
> for vector model based on the correlation between
> query q and document d as follow (I use different
> symbol):
>
> =09         sum_t( weight_t_d * weight_t_q)
> score_d(d, q)=3D  --------------------------------- (**)
> =09     =09      norm_d * norm_q
>
> where weight_t_d =3D tf_d * idf_t
>       weight_t_q =3D tf_q * idf_t
>       norm_d =3D sqrt( sum_t( (tf_d * idf_t)^2 ) )
>       norm_q =3D sqrt( sum_t( (tf_q * idf_t)^2 ) )
>
> (**):          sum_t( tf_q*idf_t * tf_d*idf_t)
> score_d(d, q)=3D---------------------------------  (***)
> =09=09   norm_d * norm_q
>
> The two function, (*) and (***), have 2 differences:
> 1. in (***), the sum_t is just for the numerator but
> in the (*), the sum_t is for everything. So, with
> norm_q =3D sqrt(sum_t((tf_q*idf_t)^2)); sum_t is
> calculated twice. Is this right? please explain.
>
> 2. No factor that define norms of the document: norm_d
> in the function (*). Can you explain this. what is the
> role of factor norm_d_t ?
>
> One more question: could anybody give me documents,
> papers that explain this function in detail. so when I
> apply Lucene for my system, I can adapt the document,
> and the field so that I still receive the correct
> scoring information from Lucene .
>
> Best regard,
> Thanks every body,
>
> =3D=3D=3D=3D=3D
> =D0#7863;ng Nh=E2n

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 05:38:08 2004
Return-Path: 
 <lucene-user-return-11910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88651 invoked from network); 15 Dec 2004 05:38:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 05:38:08 -0000
Received: (qmail 73716 invoked by uid 500); 15 Dec 2004 05:38:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73697 invoked by uid 500); 15 Dec 2004 05:38:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73679 invoked by uid 99); 15 Dec 2004 05:38:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42208.mail.yahoo.com (HELO web42208.mail.yahoo.com)
 (66.218.93.209)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 14 Dec 2004 21:37:59 -0800
Received: (qmail 67375 invoked by uid 60001); 15 Dec 2004 05:37:58 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=xxmgJREeERc7RhMtzUJ7knq2GWCcp5ZgibykjPx69zua+3SXxVK7idZEZ1IEd91gKODEwht22/Lbbqlw35rL8YZlomjHwvT5zsYF0CeiPbxz1LGXYoAwD+F6a8fZ2yV3Wimsmr7MieRM+QdpeqiI2g636BdGkLKkGjBqkK6mteE=
  ;
Message-ID: <20041215053758.67373.qmail@web42208.mail.yahoo.com>
Received: from [68.231.217.51] by web42208.mail.yahoo.com via HTTP;
 Tue, 14 Dec 2004 21:37:58 PST
Date: Tue, 14 Dec 2004 21:37:58 -0800 (PST)
From: "Homam S.A." <homam_sa@yahoo.com>
Subject: Re: Indexing a large number of DB records
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20041215030517.36488.qmail@web12705.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Otis!

What do you mean by building it in batches? Does it
mean I should close the IndexWriter every 1000 rows
and reopen it? Does that releases references to the
document objects so that they can be
garbage-collected?

I'm calling optimize() only at the end.

I agree that 1500 documents is very small. I'm
building the index on a PC with 512 megs, and the
indexing process is quickly gobbling up around 400
megs when I index around 1800 documents and the whole
machine is grinding to a virtual halt. I'm using the
latest DotLucene .NET port, so may be there's a memory
leak in it.

I have experience with AltaVista search (acquired by
FastSearch), and I used to call MakeStable() every
20,000 documents to flush memory structures to disk.
There doesn't seem to be an equivalent in Lucene.

-- Homam






--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> Hello,
> 
> There are a few things you can do:
> 
> 1) Don't just pull all rows from the DB at once.  Do
> that in batches.
> 
> 2) If you can get a Reader from your SqlDataReader,
> consider this:
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#Text(java.lang.String,%20java.io.Reader)
> 
> 3) Give the JVM more memory to play with by using
> -Xms and -Xmx JVM
> parameters
> 
> 4) See IndexWriter's minMergeDocs parameter.
> 
> 5) Are you calling optimize() at some point by any
> chance?  Leave that
> call for the end.
> 
> 1500 documents with 30 columns of short
> String/number values is not a
> lot.  You may be doing something else not Lucene
> related that's slowing
> things down.
> 
> Otis
> 
> 
> --- "Homam S.A." <homam_sa@yahoo.com> wrote:
> 
> > I'm trying to index a large number of records from
> the
> > DB (a few millions). Each record will be stored as
> a
> > document with about 30 fields, most of them are
> > UnStored and represent small strings or numbers.
> No
> > huge DB Text fields.
> > 
> > But I'm running out of memory very fast, and the
> > indexing is slowing down to a crawl once I hit
> around
> > 1500 records. The problem is each document is
> holding
> > references to the string objects returned from
> > ToString() on the DB field, and the IndexWriter is
> > holding references to all these document objects
> in
> > memory, so the garbage collector is getting a
> chance
> > to clean these up.
> > 
> > How do you guys go about indexing a large DB
> table?
> > Here's a snippet of my code (this method is called
> for
> > each record in the DB):
> > 
> > private void IndexRow(SqlDataReader rdr,
> IndexWriter
> > iw) {
> > 	Document doc = new Document();
> > 	for (int i = 0; i < BrowseFieldNames.Length; i++)
> {
> > 		doc.Add(Field.UnStored(BrowseFieldNames[i],
> > rdr.GetValue(i).ToString()));
> > 	}
> > 	iw.AddDocument(doc);
> > }
> > 
> > 
> > 
> > 
> > 		
> > __________________________________ 
> > Do you Yahoo!? 
> > Yahoo! Mail - Find what you need with new enhanced
> search.
> > http://info.mail.yahoo.com/mail_250
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
Take Yahoo! Mail with you! Get it on your mobile phone. 
http://mobile.yahoo.com/maildemo 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 06:00:26 2004
Return-Path: 
 <lucene-user-return-11912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96034 invoked from network); 15 Dec 2004 06:00:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 06:00:26 -0000
Received: (qmail 1303 invoked by uid 500); 15 Dec 2004 06:00:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1208 invoked by uid 500); 15 Dec 2004 06:00:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1192 invoked by uid 99); 15 Dec 2004 06:00:18 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 14 Dec 2004 22:00:15 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: A question about scoring function in Lucene
Date: Tue, 14 Dec 2004 22:00:11 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC63D3@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: A question about scoring function in Lucene
Thread-Index: AcTiZ2/ma8MLCkDIRNGTm1ecLAGibAAAc3jA
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nhan,

Re.  your two differences:

1 is not a difference.  Norm_d and Norm_q are both independent of t, so =
summing over t has no effect on them.  I.e., Norm_d * Norm_q is constant =
wrt the summation, so it doesn't matter if the sum is over just the =
numerator or over the entire fraction, the result is the same.

2 is a difference.  Lucene uses Norm_q instead of Norm_d because Norm_d =
is too expensive to compute, especially in the presence of incremental =
indexing.  E.g., adding or deleting any document changes the idf's, so =
if Norm_d was used it would have to be recomputed for ALL documents.  =
This is not feasible.

Another point you did not mention is that the idf term is squared (in =
both of your formulas).  Salton, the originator of the vector space =
model, dropped one idf factor from his formula as it improved results =
empirically.  More recent theoretical justifications of tf*idf provide =
intuitive explanations of why idf should only be included linearly.  tf =
is best thought of as the real vector entry, while idf is a weighting =
term on the components of the inner product.  E.g., seen the excellent =
paper by Robertson, "Understanding inverse document frequency: on =
theoretical arguments for IDF", available here:  =
http://www.emeraldinsight.com/rpsv/cgi-bin/emft.pl if you sign up for an =
eval.

It's easy to correct for idf^2 by using a customer Similarity that takes =
a final square root.

Chuck

  > -----Original Message-----
  > From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
  > Sent: Tuesday, December 14, 2004 9:32 PM
  > To: Lucene Users List
  > Subject: Re: A question about scoring function in Lucene
  >=20
  > Lucene uses the vector space model. To understand that:
  >=20
  > -Read section 2.1 of "Space optimizations for Total Ranking" paper
  > (Linked
  > here http://lucene.sourceforge.net/publications.html)
  > -Read section 6 to 6.4 of
  > http://www.csee.umbc.edu/cadip/readings/IR.report.120600.book.pdf
  > -Read section 1 of
  > http://www.cs.utexas.edu/users/inderjit/courses/dm2004/lecture5.ps
  >=20
  > Vikas
  >=20
  > On Tue, 14 Dec 2004, Nhan Nguyen Dang wrote:
  >=20
  > > Hi all,
  > > Lucene score document based on the correlation between
  > > the query q and document t:
  > > (this is raw function, I don't pay attention to the
  > > boost_t, coord_q_d factor)
  > >
  > > score_d =3D sum_t( tf_q * idf_t / norm_q * tf_d * idf_t
  > > / norm_d_t)  (*)
  > >
  > > Could anybody explain it in detail ? Or are there any
  > > papers, documents about this function ? Because:
  > >
  > > I have also read the book: Modern Information
  > > Retrieval, author: Ricardo Baeza-Yates and Berthier
  > > Ribeiro-Neto, Addison Wesley (Hope you have read it
  > > too). In page 27, they also suggest a scoring funtion
  > > for vector model based on the correlation between
  > > query q and document d as follow (I use different
  > > symbol):
  > >
  > > 	         sum_t( weight_t_d * weight_t_q)
  > > score_d(d, q)=3D  --------------------------------- (**)
  > > 	     	      norm_d * norm_q
  > >
  > > where weight_t_d =3D tf_d * idf_t
  > >       weight_t_q =3D tf_q * idf_t
  > >       norm_d =3D sqrt( sum_t( (tf_d * idf_t)^2 ) )
  > >       norm_q =3D sqrt( sum_t( (tf_q * idf_t)^2 ) )
  > >
  > > (**):          sum_t( tf_q*idf_t * tf_d*idf_t)
  > > score_d(d, q)=3D---------------------------------  (***)
  > > 		   norm_d * norm_q
  > >
  > > The two function, (*) and (***), have 2 differences:
  > > 1. in (***), the sum_t is just for the numerator but
  > > in the (*), the sum_t is for everything. So, with
  > > norm_q =3D sqrt(sum_t((tf_q*idf_t)^2)); sum_t is
  > > calculated twice. Is this right? please explain.
  > >
  > > 2. No factor that define norms of the document: norm_d
  > > in the function (*). Can you explain this. what is the
  > > role of factor norm_d_t ?
  > >
  > > One more question: could anybody give me documents,
  > > papers that explain this function in detail. so when I
  > > apply Lucene for my system, I can adapt the document,
  > > and the field so that I still receive the correct
  > > scoring information from Lucene .
  > >
  > > Best regard,
  > > Thanks every body,
  > >
  > > =3D=3D=3D=3D=3D
  > > =D0#7863;ng Nh=E2n
  >=20
  > =
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 08:11:55 2004
Return-Path: 
 <lucene-user-return-11913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93538 invoked from network); 15 Dec 2004 08:11:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 08:11:55 -0000
Received: (qmail 58948 invoked by uid 500); 15 Dec 2004 08:10:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58903 invoked by uid 500); 15 Dec 2004 08:10:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58831 invoked by uid 99); 15 Dec 2004 08:10:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 00:10:13 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id A3607B4A0054; Wed, 15 Dec 2004 03:18:40 -0500
Message-ID: <41BFF15C.2030001@bayt.net>
Date: Wed, 15 Dec 2004 12:10:04 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LUCENE1.4.1 - LUCENE1.4.2 - LUCENE1.4.3 Exception
References: <OBELINLGKPEMCIEIJJNKMEEMCAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEEMCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is a OS file system error not a Lucene issue (not for this board) , 
Google it for Gentoo specifically you a get a whole bunch of results one 
of which is this thread on the Gentoo Forums, 
http://forums.gentoo.org/viewtopic.php?t=9620

Good Luck

Nader Henein

Karthik N S wrote:

>Hi Guys........
>
>
>Some body tell me what this Exception am Getting Pleae
>
>Sys Specifications
>
>O/s Linux Gentoo
>Appserver Apache Tomcat/4.1.24
>Jdk build 1.4.2_03-b02
>Lucene 1.4.1 ,2, 3
>
>Note: - This Exception is displayed on Every 2nd Query after Tomcat is
>started
>
>
>java.io.IOException: Stale NFS file handle
>        at java.io.RandomAccessFile.readBytes(Native Method)
>        at java.io.RandomAccessFile.read(RandomAccessFile.java:307)
>        at
>org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420)
>        at
>org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
>        at
>org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
>ndFileReader.java:220)
>        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
>        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
>        at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
>        at
>org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:142)
>        at
>org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
>        at
>org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143)
>        at
>org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137)
>        at
>org.apache.lucene.index.SegmentReader.docFreq(SegmentReader.java:253)
>        at
>org.apache.lucene.search.IndexSearcher.docFreq(IndexSearcher.java:69)
>        at org.apache.lucene.search.Similarity.idf(Similarity.java:255)
>        at
>org.apache.lucene.search.TermQuery$TermWeight.sumOfSquaredWeights(TermQuery.
>java:47)
>        at org.apache.lucene.search.Query.weight(Query.java:86)
>        at
>org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
>        at
>org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.java:
>251)
>
>
>
>
>
>      WITH WARM REGARDS
>      HAVE A NICE DAY
>      [ N.S.KARTHIK]
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 09:20:49 2004
Return-Path: 
 <lucene-user-return-11914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70985 invoked from network); 15 Dec 2004 09:20:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 09:20:49 -0000
Received: (qmail 58341 invoked by uid 500); 15 Dec 2004 09:10:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58066 invoked by uid 500); 15 Dec 2004 09:10:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58033 invoked by uid 99); 15 Dec 2004 09:10:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from idmailgate1.unizh.ch (HELO idmailgate1.unizh.ch)
 (130.60.68.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 01:10:30 -0800
Received: from zimail1.unizh.ch (zimail1.unizh.ch [130.60.128.11])
	by idmailgate1.unizh.ch (8.12.10/8.12.10/Debian-2) with ESMTP id
 iBF9ALvb017090
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 10:10:21 +0100
Received: from isabelle ([130.60.99.86])
	by zimail1.unizh.ch (8.12.10/8.12.10/smMTA-17) with ESMTP id iBF9ALqv011686
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 10:10:21 +0100 (MET)
Subject: Re: TFIDF Implementation
From: Christoph Kiefer <kiefer@ifi.unizh.ch>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41BF7B5D.2030807@tropo.com>
References: 
	 <E1F190DAC247C64FAA46B38316FA151D2A11CE@EX-101.mail.navisite.com>
	 <41BF7B5D.2030807@tropo.com>
Content-Type: multipart/mixed; boundary="=-eT5xhwH+nFjg1hQQ+pCK"
Date: Wed, 15 Dec 2004 10:08:16 +0100
Message-Id: <1103101696.23050.21.camel@isabelle>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-3) 
X-Virus-Scanned: by amavisd-milter (http://www.amavis.org/)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-eT5xhwH+nFjg1hQQ+pCK
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

David, Bruce, Otis,
Thank you all for the quick replies. I looked through the BooksLikeThis
example. I also agree, it's a very good and effective way to find
similar docs in the index. Nevertheless, what I need is really a
similarity matrix holding all TF*IDF values. For illustration I quick
and dirty wrote a class to perform that task. It uses the Jama.Matrix
class to represent the similarity matrix at the moment. For show and
tell I attached it to this email.
Unfortunately it doesn't perform very well. My index stores about 25000
docs with a total of 75000 terms. The similarity matrix is very sparse
but nevertheless needs about 1'875'000'000 entries!!! I think this
current implementation will not be useable in this way. I also think I
switch to JMP (http://www.math.uib.no/~bjornoh/mtj/) for that reason.

What do you think?

Best,
Christoph

-- 
Christoph Kiefer

Department of Informatics, University of Zurich

Office: Uni Irchel 27-K-32
Phone:  +41 (0) 44 / 635 67 26
Email:  kiefer@ifi.unizh.ch
Web:    http://www.ifi.unizh.ch/ddis/christophkiefer.0.html

--=-eT5xhwH+nFjg1hQQ+pCK
Content-Disposition: attachment; filename=TFIDF_Lucene.java
Content-Type: text/x-java; name=TFIDF_Lucene.java; charset=UTF-8
Content-Transfer-Encoding: 7bit

/*
 * Created on Dec 14, 2004
 */
package ch.unizh.ifi.ddis.simpack.measure.featurevectors;

import java.io.File;
import java.io.FileReader;
import java.io.IOException;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.StopAnalyzer;
import org.apache.lucene.analysis.snowball.SnowballAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermDocs;
import org.apache.lucene.index.TermEnum;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;

import Jama.Matrix;

/**
 * @author Christoph Kiefer
 */
public class TFIDF_Lucene extends FeatureVectorSimilarityMeasure {
	
	private File indexDir = null;
	private File dataDir = null;
	private String target = "";
	private String query = "";
	private int targetDocumentNumber = -1;
	private final String ME = this.getClass().getName();
	private int fileCounter = 0;
	
	public TFIDF_Lucene( String indexDir, String dataDir, String target, String query ) {
		this.indexDir = new File(indexDir);
		this.dataDir = new File(dataDir);
		this.target = target;
		this.query = query;
	}
	
	public String getName() {
		return "TFIDF_Lucene_Similarity_Measure";
	}
	
	private void makeIndex() {
		try {
			IndexWriter writer = new IndexWriter(indexDir, new SnowballAnalyzer( "English", StopAnalyzer.ENGLISH_STOP_WORDS ), false);
			indexDirectory(writer, dataDir);
			writer.optimize();
			writer.close();
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}
	
	private void indexDirectory(IndexWriter writer, File dir) {
		File[] files = dir.listFiles();
		for (int i=0; i < files.length; i++) {
			File f = files[i];
			if (f.isDirectory()) {
				indexDirectory(writer, f);  // recurse
			} else if (f.getName().endsWith(".txt")) {
				indexFile(writer, f);
			}
		}
	}
	
	private void indexFile(IndexWriter writer, File f) {
		try {
			System.out.println( "Indexing " + f.getName() + ", " + (fileCounter++) );
			String name = f.getCanonicalPath();
			//System.out.println(name);
			Document doc = new Document();
			doc.add( Field.Text( "contents", new FileReader(f), true ) );
			writer.addDocument( doc );
			
			if ( name.matches( dataDir + "/" + target + ".txt" ) ) {
				targetDocumentNumber = writer.docCount();
			}
			
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}
	
	public Matrix getTFIDFMatrix(File indexDir) throws IOException {
		Directory fsDir = FSDirectory.getDirectory( indexDir, false );
		IndexReader reader = IndexReader.open( fsDir );
		
		int numberOfTerms = 0;
		int numberOfDocuments = reader.numDocs();
		
		TermEnum allTerms = reader.terms();
		for ( ; allTerms.next(); ) {
			allTerms.term();
			numberOfTerms++;
		}
		
		System.out.println( "Total number of terms in index is " + numberOfTerms );
		System.out.println( "Total number of documents in index is " + numberOfDocuments );
		
		double [][] TFIDFMatrix = new double[numberOfTerms][numberOfDocuments];
		
		for ( int i = 0; i < numberOfTerms; i++ ) {
			for ( int j = 0; j < numberOfDocuments; j++ ) {
				TFIDFMatrix[i][j] = 0.0;
			}
		}
		
		allTerms = reader.terms();
		for ( int i = 0 ; allTerms.next(); i++ ) {
			
			Term term = allTerms.term();
			TermDocs td = reader.termDocs(term);
			for ( ; td.next(); ) {
				TFIDFMatrix[i][td.doc()] = td.freq();
			}
			
		}
		
		allTerms = reader.terms();
		for ( int i = 0 ; allTerms.next(); i++ ) {
			for ( int j = 0; j < numberOfDocuments; j++ ) {
				double tf = TFIDFMatrix[i][j];
				double docFreq = (double)allTerms.docFreq();
				double idf = ( Math.log( (double)numberOfDocuments / docFreq ) ) / 2.30258509299405;
				//System.out.println( "Term: " + i + " Document " + j + " TF/DocFreq/IDF: " + tf + " " + docFreq + " " + idf);
				TFIDFMatrix[i][j] = tf * idf;
			}
		}
		
		reader.close();
		return new Matrix(TFIDFMatrix);
	}
	
	public double getSimilarity( FeatureVectorSimilarityMeasure m ) {
		
		double sim = -1.0;
		try {
			makeIndex();
			
			Analyzer analyzer = new SnowballAnalyzer( "English", StopAnalyzer.ENGLISH_STOP_WORDS );
			Document queryDoc = new Document();
			File f = new File( dataDir + "/" + query + ".txt" );
			queryDoc.add( Field.Text( "contents", new FileReader( f ), true) );
			
			IndexWriter writer = new IndexWriter( indexDir, analyzer, false );
			writer.addDocument( queryDoc );
			writer.optimize();
			writer.close();
			
			Matrix TFIDFMatrix = getTFIDFMatrix(indexDir);
			double[] queryWeights = TFIDFMatrix.getMatrix( 0, TFIDFMatrix.getRowDimension()-1, TFIDFMatrix.getColumnDimension()-1, TFIDFMatrix.getColumnDimension()-1 ).getColumnPackedCopy();
			
			if ( targetDocumentNumber != -1 ) {
				double[] documentWeights = TFIDFMatrix.getMatrix( 0, TFIDFMatrix.getRowDimension()-1, targetDocumentNumber, targetDocumentNumber).getColumnPackedCopy();
				m = new CosineMeasure( documentWeights, queryWeights );
				System.out.println( "Similarity between query and document " + targetDocumentNumber + " is " + m.getSimilarity() );
				sim = m.getSimilarity();
			} else {
				System.out.println( "ERROR in " + ME + ": Target document number still invalid." );
			}
			
			return sim;
			
		} catch (Exception ex) {
			ex.printStackTrace();
		}
		
		return sim;
	}
}

--=-eT5xhwH+nFjg1hQQ+pCK
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--=-eT5xhwH+nFjg1hQQ+pCK--


From MAILER-DAEMON Wed Dec 15 09:30:10 2004
Return-Path: 
 <lucene-user-return-11915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88516 invoked from network); 15 Dec 2004 09:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 09:30:10 -0000
Received: (qmail 78640 invoked by uid 500); 15 Dec 2004 09:17:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78600 invoked by uid 500); 15 Dec 2004 09:17:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78554 invoked by uid 99); 15 Dec 2004 09:17:47 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web14824.mail.yahoo.com (HELO web14824.mail.yahoo.com)
 (216.136.225.195)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 01:17:41 -0800
Received: (qmail 77524 invoked by uid 60001); 15 Dec 2004 09:17:36 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=XsT9CU7H1rEEdkaGpmg6KaSNwPQfzZdg2BHIAo6wS/lEWWed9OHyiAIc7F3W+k5qBG27C+Erv2rvx5imPy811TfFBGZr9chlqetbrzx4HC+QMqLd6kpI49TjXyD2VlAbvwJ26JxTGDyOGDSykgNDEFfdPvuhX6DI4ROaVeYIo6Y=
  ;
Message-ID: <20041215091736.77522.qmail@web14824.mail.yahoo.com>
Received: from [203.162.81.3] by web14824.mail.yahoo.com via HTTP;
 Wed, 15 Dec 2004 01:17:36 PST
Date: Wed, 15 Dec 2004 01:17:36 -0800 (PST)
From: Nhan Nguyen Dang <ndnhan2003@yahoo.com>
Subject: RE: A question about scoring function in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC63D3@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank for your answer,
In Lucene scoring function, they use only norm_q,
but for one query, norm_q is the same for all
documents.
So norm_q is actually not effect the score.
But norm_d is different, each document has a different
norm_d; it effect the score of document d for query q.
If you drop it, the score information is not correct
anymore or it not space vector model anymore.  Could
you explain it a little bit.

I think that it's expensive to computed in incremetal
indexing because when one document is added, idf of
each term changed. But drop it is not a good choice.

What is the role of norm_d_t ?
Nhan.

--- Chuck Williams <chuck@manawiz.com> wrote:

> Nhan,
> 
> Re.  your two differences:
> 
> 1 is not a difference.  Norm_d and Norm_q are both
> independent of t, so summing over t has no effect on
> them.  I.e., Norm_d * Norm_q is constant wrt the
> summation, so it doesn't matter if the sum is over
> just the numerator or over the entire fraction, the
> result is the same.
> 
> 2 is a difference.  Lucene uses Norm_q instead of
> Norm_d because Norm_d is too expensive to compute,
> especially in the presence of incremental indexing. 
> E.g., adding or deleting any document changes the
> idf's, so if Norm_d was used it would have to be
> recomputed for ALL documents.  This is not feasible.
> 
> Another point you did not mention is that the idf
> term is squared (in both of your formulas).  Salton,
> the originator of the vector space model, dropped
> one idf factor from his formula as it improved
> results empirically.  More recent theoretical
> justifications of tf*idf provide intuitive
> explanations of why idf should only be included
> linearly.  tf is best thought of as the real vector
> entry, while idf is a weighting term on the
> components of the inner product.  E.g., seen the
> excellent paper by Robertson, "Understanding inverse
> document frequency: on theoretical arguments for
> IDF", available here: 
> http://www.emeraldinsight.com/rpsv/cgi-bin/emft.pl
> if you sign up for an eval.
> 
> It's easy to correct for idf^2 by using a customer
> Similarity that takes a final square root.
> 
> Chuck
> 
>   > -----Original Message-----
>   > From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
>   > Sent: Tuesday, December 14, 2004 9:32 PM
>   > To: Lucene Users List
>   > Subject: Re: A question about scoring function
> in Lucene
>   > 
>   > Lucene uses the vector space model. To
> understand that:
>   > 
>   > -Read section 2.1 of "Space optimizations for
> Total Ranking" paper
>   > (Linked
>   > here
> http://lucene.sourceforge.net/publications.html)
>   > -Read section 6 to 6.4 of
>   >
>
http://www.csee.umbc.edu/cadip/readings/IR.report.120600.book.pdf
>   > -Read section 1 of
>   >
>
http://www.cs.utexas.edu/users/inderjit/courses/dm2004/lecture5.ps
>   > 
>   > Vikas
>   > 
>   > On Tue, 14 Dec 2004, Nhan Nguyen Dang wrote:
>   > 
>   > > Hi all,
>   > > Lucene score document based on the correlation
> between
>   > > the query q and document t:
>   > > (this is raw function, I don't pay attention
> to the
>   > > boost_t, coord_q_d factor)
>   > >
>   > > score_d = sum_t( tf_q * idf_t / norm_q * tf_d
> * idf_t
>   > > / norm_d_t)  (*)
>   > >
>   > > Could anybody explain it in detail ? Or are
> there any
>   > > papers, documents about this function ?
> Because:
>   > >
>   > > I have also read the book: Modern Information
>   > > Retrieval, author: Ricardo Baeza-Yates and
> Berthier
>   > > Ribeiro-Neto, Addison Wesley (Hope you have
> read it
>   > > too). In page 27, they also suggest a scoring
> funtion
>   > > for vector model based on the correlation
> between
>   > > query q and document d as follow (I use
> different
>   > > symbol):
>   > >
>   > > 	         sum_t( weight_t_d * weight_t_q)
>   > > score_d(d, q)= 
> --------------------------------- (**)
>   > > 	     	      norm_d * norm_q
>   > >
>   > > where weight_t_d = tf_d * idf_t
>   > >       weight_t_q = tf_q * idf_t
>   > >       norm_d = sqrt( sum_t( (tf_d * idf_t)^2 )
> )
>   > >       norm_q = sqrt( sum_t( (tf_q * idf_t)^2 )
> )
>   > >
>   > > (**):          sum_t( tf_q*idf_t * tf_d*idf_t)
>   > > score_d(d,
> q)=---------------------------------  (***)
>   > > 		   norm_d * norm_q
>   > >
>   > > The two function, (*) and (***), have 2
> differences:
>   > > 1. in (***), the sum_t is just for the
> numerator but
>   > > in the (*), the sum_t is for everything. So,
> with
>   > > norm_q = sqrt(sum_t((tf_q*idf_t)^2)); sum_t is
>   > > calculated twice. Is this right? please
> explain.
>   > >
>   > > 2. No factor that define norms of the
> document: norm_d
>   > > in the function (*). Can you explain this.
> what is the
>   > > role of factor norm_d_t ?
>   > >
>   > > One more question: could anybody give me
> documents,
>   > > papers that explain this function in detail.
> so when I
>   > > apply Lucene for my system, I can adapt the
> document,
>   > > and the field so that I still receive the
> correct
>   > > scoring information from Lucene .
>   > >
>   > > Best regard,
>   > > Thanks every body,
>   > >
>   > > =====
>   > > �#7863;ng Nh�n
>   > 
>   >
>
---------------------------------------------------------------------
>   > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
>   > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 


=====
�#7863;ng Nh�n 





		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Helps protect you from nasty viruses. 
http://promotions.yahoo.com/new_mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 09:39:30 2004
Return-Path: 
 <lucene-user-return-11916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93359 invoked from network); 15 Dec 2004 09:39:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 09:39:30 -0000
Received: (qmail 93791 invoked by uid 500); 15 Dec 2004 09:22:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93705 invoked by uid 500); 15 Dec 2004 09:22:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93616 invoked by uid 99); 15 Dec 2004 09:22:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local)
 (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 01:22:49 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id iBF9HT3b016809
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 01:17:30 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id iBF9HTuE016807
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 01:17:29 -0800
Received: from [10.11.108.243] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.54-beta)
    via ESMTP; Wed, 15 Dec 2004 09:22:45 +0000 (GMT)
Date: Wed, 15 Dec 2004 09:22:44 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41C00264.1020004@scalix.com>
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEEMCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKMEEMCAAA.karthik@controlnet.co.in>
Subject: Re: LUCENE1.4.1 - LUCENE1.4.2 - LUCENE1.4.3 Exception
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.8 (X11/20041020)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik N S wrote:

>java.io.IOException: Stale NFS file handle
>  
>
You have a file system NFS mounted on this machine, but the machine 
hosting the real file system has no knowledge of your mount.  This often 
happens after the host machine has had a reboot.

Solution: unmount (and possibly re-mount) the failing NFS file system.   
If you're not sure which one it is, try looking at a file on each NFS 
file system with, say, "cat" or "wc" and see if you get a stale NFS 
handle error.   You may need "umount -f" to unmount the failing file 
system.   Sometimes, very occasioanlly, you'll have to resort to a reboot.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 11:13:43 2004
Return-Path: 
 <lucene-user-return-11917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50713 invoked from network); 15 Dec 2004 11:13:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 11:13:43 -0000
Received: (qmail 94379 invoked by uid 500); 15 Dec 2004 11:01:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94356 invoked by uid 500); 15 Dec 2004 11:01:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94333 invoked by uid 99); 15 Dec 2004 11:01:01 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 03:00:57 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 15 Dec 2004 11:10:47 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: <lucene-user@jakarta.apache.org>
Subject: C# Ports
Date: Wed, 15 Dec 2004 10:57:49 -0000
Message-ID: <002b01c4e294$ef7adbe0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002C_01C4E294.EF7ADBE0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 15 Dec 2004 11:10:47.0328 (UTC)
 FILETIME=[BA63A200:01C4E296]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002C_01C4E294.EF7ADBE0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

I was just wondering what tools (JLCA?) people are using to port Lucene to
c# as I'd be well interesting in converting things like snowball stemmers,
wordnet etc.

 

Thanks

Garrett


------=_NextPart_000_002C_01C4E294.EF7ADBE0--


From MAILER-DAEMON Wed Dec 15 15:23:44 2004
Return-Path: 
 <lucene-user-return-11918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34457 invoked from network); 15 Dec 2004 15:23:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 15:23:44 -0000
Received: (qmail 74438 invoked by uid 500); 15 Dec 2004 14:51:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74233 invoked by uid 500); 15 Dec 2004 14:51:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74126 invoked by uid 99); 15 Dec 2004 14:51:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 06:50:59 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CeaU9-0002zw-MM
	for lucene-user@jakarta.apache.org; Wed, 15 Dec 2004 06:50:37 -0800
From: "George Aroush" <george@aroush.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: C# Ports
Date: Wed, 15 Dec 2004 09:50:37 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcTilyTi60d+JDloRA6wrJ3gRA1xHwAHXlBA
In-Reply-To: <002b01c4e294$ef7adbe0$36a8a8c0@intranet.researchandmarkets.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Garrett,

If you are referring to dotLucene
(http://sourceforge.net/projects/dotlucene/) than I can tell you how -- not
too long ago I posted on this list how I ported 1.4 and 1.4.3 to C#, please
search the list for the answer -- you can't just use JLCA.

As for the snwball, I have already started work on it.  The port is done,
but I have to test, etc. and I am too tied up right now with my work.
However, I plan to release it before end of this month, so if you can wait,
do wait, otherwise feel free to take the steps that I did to port Lucene to
C#.

Regards,

-- George Aroush

-----Original Message-----
From: Garrett Heaver [mailto:garrett.heaver@researchandmarkets.com] 
Sent: Wednesday, December 15, 2004 5:58 AM
To: lucene-user@jakarta.apache.org
Subject: C# Ports

I was just wondering what tools (JLCA?) people are using to port Lucene to
c# as I'd be well interesting in converting things like snowball stemmers,
wordnet etc.

 

Thanks

Garrett



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 17:38:20 2004
Return-Path: 
 <lucene-user-return-11919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28891 invoked from network); 15 Dec 2004 17:38:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 17:38:20 -0000
Received: (qmail 19023 invoked by uid 500); 15 Dec 2004 17:37:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18950 invoked by uid 500); 15 Dec 2004 17:37:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18908 invoked by uid 99); 15 Dec 2004 17:37:42 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 09:36:36 -0800
Received: (qmail 49625 invoked by uid 60001); 15 Dec 2004 16:36:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=N3KwmFyUtl/doS7B93ZGeVIOC+X6Lj1OyP0onEQBFG0F2Apk1UwOsBKRjPTykapjcaPal2t7IIJAMLEr+cT9en2GhLb2GXYPkVw97iUVHoxJMBnsfcIRc2xaGJ09kVqMpaVK5PHzvnmPUjg1pRJXE+c7sY1hob2H747tDW1bQGk=
  ;
Message-ID: <20041215163613.49623.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 15 Dec 2004 08:36:13 PST
Date: Wed, 15 Dec 2004 08:36:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing a large number of DB records
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20041215053758.67373.qmail@web42208.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Homam,

The batches I was referring to were batches of DB rows.
Instead of SELECT * FROM table... do SELECT * FROM table ... OFFSET=X
LIMIT=Y.

Don't close IndexWriter - use the single instance.

There is no MakeStable()-like method in Lucene, but you can control the
number of in-memory Documents, the frequence of segment merges, and
maximal size of an index segments with 3 IndexWriter parameters,
described fairly verbosely in the javadocs.

Since you are using the .Net version, you should really consult
dotLucene guy(s).  Running under the profiler should also tell you
where the time and memory go.

Otis

--- "Homam S.A." <homam_sa@yahoo.com> wrote:

> Thanks Otis!
> 
> What do you mean by building it in batches? Does it
> mean I should close the IndexWriter every 1000 rows
> and reopen it? Does that releases references to the
> document objects so that they can be
> garbage-collected?
> 
> I'm calling optimize() only at the end.
> 
> I agree that 1500 documents is very small. I'm
> building the index on a PC with 512 megs, and the
> indexing process is quickly gobbling up around 400
> megs when I index around 1800 documents and the whole
> machine is grinding to a virtual halt. I'm using the
> latest DotLucene .NET port, so may be there's a memory
> leak in it.
> 
> I have experience with AltaVista search (acquired by
> FastSearch), and I used to call MakeStable() every
> 20,000 documents to flush memory structures to disk.
> There doesn't seem to be an equivalent in Lucene.
> 
> -- Homam
> 
> 
> 
> 
> 
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> 
> > Hello,
> > 
> > There are a few things you can do:
> > 
> > 1) Don't just pull all rows from the DB at once.  Do
> > that in batches.
> > 
> > 2) If you can get a Reader from your SqlDataReader,
> > consider this:
> >
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#Text(java.lang.String,%20java.io.Reader)
> > 
> > 3) Give the JVM more memory to play with by using
> > -Xms and -Xmx JVM
> > parameters
> > 
> > 4) See IndexWriter's minMergeDocs parameter.
> > 
> > 5) Are you calling optimize() at some point by any
> > chance?  Leave that
> > call for the end.
> > 
> > 1500 documents with 30 columns of short
> > String/number values is not a
> > lot.  You may be doing something else not Lucene
> > related that's slowing
> > things down.
> > 
> > Otis
> > 
> > 
> > --- "Homam S.A." <homam_sa@yahoo.com> wrote:
> > 
> > > I'm trying to index a large number of records from
> > the
> > > DB (a few millions). Each record will be stored as
> > a
> > > document with about 30 fields, most of them are
> > > UnStored and represent small strings or numbers.
> > No
> > > huge DB Text fields.
> > > 
> > > But I'm running out of memory very fast, and the
> > > indexing is slowing down to a crawl once I hit
> > around
> > > 1500 records. The problem is each document is
> > holding
> > > references to the string objects returned from
> > > ToString() on the DB field, and the IndexWriter is
> > > holding references to all these document objects
> > in
> > > memory, so the garbage collector is getting a
> > chance
> > > to clean these up.
> > > 
> > > How do you guys go about indexing a large DB
> > table?
> > > Here's a snippet of my code (this method is called
> > for
> > > each record in the DB):
> > > 
> > > private void IndexRow(SqlDataReader rdr,
> > IndexWriter
> > > iw) {
> > > 	Document doc = new Document();
> > > 	for (int i = 0; i < BrowseFieldNames.Length; i++)
> > {
> > > 		doc.Add(Field.UnStored(BrowseFieldNames[i],
> > > rdr.GetValue(i).ToString()));
> > > 	}
> > > 	iw.AddDocument(doc);
> > > }
> > > 
> > > 
> > > 
> > > 
> > > 		
> > > __________________________________ 
> > > Do you Yahoo!? 
> > > Yahoo! Mail - Find what you need with new enhanced
> > search.
> > > http://info.mail.yahoo.com/mail_250
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> Take Yahoo! Mail with you! Get it on your mobile phone. 
> http://mobile.yahoo.com/maildemo 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 18:26:35 2004
Return-Path: 
 <lucene-user-return-11921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93562 invoked from network); 15 Dec 2004 18:26:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 18:26:35 -0000
Received: (qmail 89508 invoked by uid 500); 15 Dec 2004 18:26:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89433 invoked by uid 500); 15 Dec 2004 18:26:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89397 invoked by uid 99); 15 Dec 2004 18:26:21 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 10:25:13 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: A question about scoring function in Lucene
Date: Wed, 15 Dec 2004 09:05:12 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC64D4@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: A question about scoring function in Lucene
Thread-Index: AcTiiKV/xi7Yc/V1S2K0HS5EJ2GbXAAPdWdg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nhan,

You are correct that dropping the document norm does cause Lucene's =
scoring model to deviate from the pure vector space model.  However, =
including norm_d would cause other problems -- e.g., with short queries, =
as are typical in reality, the resulting scores with norm_d would all be =
extremely small.  You are also correct that since norm_q is invariant, =
it does not affect relevance ranking.  Norm_q is simply part of the =
normalization of final scores.  There are many different formulas for =
scoring and relevance ranking in IR.  All of these have some intuitive =
justification, but in the end can only be evaluated empirically.  There =
is no "correct" formula.

I believe the biggest problem with Lucene's approach relative to the =
pure vector space model is that Lucene does not properly normalize.  The =
pure vector space model implements a cosine in the strictly positive =
sector of the coordinate space.  This is guaranteed intrinsically to be =
between 0 and 1, and produces scores that can be compared across =
distinct queries (i.e., "0.8" means something about the result quality =
independent of the query).

Lucene does not have this property.  Its formula produces scores of =
arbitrary magnitude depending on the query.  The results cannot be =
compared meaningfully across queries; i.e., "0.8" means nothing =
intrinsically.  To keep final scores between 0 and 1, Lucene introduces =
an ad hoc query-dependent final normalization in Hits:  viz., it divides =
all scores by the highest score if the highest score happens to be =
greater than 1.  This makes it impossible for an application to properly =
inform its users about the quality of the results, to cut off bad =
results, etc.  Applications may do that, but in fact what they are doing =
is random, not what they think they are doing.

I've proposed a fix for this -- there was a long thread on Lucene-dev.  =
It is possible to revise Lucene's scoring to keep its efficiency, keep =
its current per-query relevance ranking, and yet intrinsically normalize =
its scores so that they are meaningful across queries.  I posted a =
fairly detailed spec of how to do this in the Lucene-dev thread.  I'm =
hoping to have time to build it and submit it as a proposed update to =
Lucene, but it is a large effort that would involve changing just about =
every scoring class in Lucene.  I'm not sure it would be incorporated =
even if I did it as that would take considerable work from a developer.  =
There doesn't seem to be much concern about these various scoring and =
relevancy ranking issues among the general Lucene community.

Chuck

  > -----Original Message-----
  > From: Nhan Nguyen Dang [mailto:ndnhan2003@yahoo.com]
  > Sent: Wednesday, December 15, 2004 1:18 AM
  > To: Lucene Users List
  > Subject: RE: A question about scoring function in Lucene
  >=20
  > Thank for your answer,
  > In Lucene scoring function, they use only norm_q,
  > but for one query, norm_q is the same for all
  > documents.
  > So norm_q is actually not effect the score.
  > But norm_d is different, each document has a different
  > norm_d; it effect the score of document d for query q.
  > If you drop it, the score information is not correct
  > anymore or it not space vector model anymore.  Could
  > you explain it a little bit.
  >=20
  > I think that it's expensive to computed in incremetal
  > indexing because when one document is added, idf of
  > each term changed. But drop it is not a good choice.
  >=20
  > What is the role of norm_d_t ?
  > Nhan.
  >=20
  > --- Chuck Williams <chuck@manawiz.com> wrote:
  >=20
  > > Nhan,
  > >
  > > Re.  your two differences:
  > >
  > > 1 is not a difference.  Norm_d and Norm_q are both
  > > independent of t, so summing over t has no effect on
  > > them.  I.e., Norm_d * Norm_q is constant wrt the
  > > summation, so it doesn't matter if the sum is over
  > > just the numerator or over the entire fraction, the
  > > result is the same.
  > >
  > > 2 is a difference.  Lucene uses Norm_q instead of
  > > Norm_d because Norm_d is too expensive to compute,
  > > especially in the presence of incremental indexing.
  > > E.g., adding or deleting any document changes the
  > > idf's, so if Norm_d was used it would have to be
  > > recomputed for ALL documents.  This is not feasible.
  > >
  > > Another point you did not mention is that the idf
  > > term is squared (in both of your formulas).  Salton,
  > > the originator of the vector space model, dropped
  > > one idf factor from his formula as it improved
  > > results empirically.  More recent theoretical
  > > justifications of tf*idf provide intuitive
  > > explanations of why idf should only be included
  > > linearly.  tf is best thought of as the real vector
  > > entry, while idf is a weighting term on the
  > > components of the inner product.  E.g., seen the
  > > excellent paper by Robertson, "Understanding inverse
  > > document frequency: on theoretical arguments for
  > > IDF", available here:
  > > http://www.emeraldinsight.com/rpsv/cgi-bin/emft.pl
  > > if you sign up for an eval.
  > >
  > > It's easy to correct for idf^2 by using a customer
  > > Similarity that takes a final square root.
  > >
  > > Chuck
  > >
  > >   > -----Original Message-----
  > >   > From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
  > >   > Sent: Tuesday, December 14, 2004 9:32 PM
  > >   > To: Lucene Users List
  > >   > Subject: Re: A question about scoring function
  > > in Lucene
  > >   >
  > >   > Lucene uses the vector space model. To
  > > understand that:
  > >   >
  > >   > -Read section 2.1 of "Space optimizations for
  > > Total Ranking" paper
  > >   > (Linked
  > >   > here
  > > http://lucene.sourceforge.net/publications.html)
  > >   > -Read section 6 to 6.4 of
  > >   >
  > >
  > http://www.csee.umbc.edu/cadip/readings/IR.report.120600.book.pdf
  > >   > -Read section 1 of
  > >   >
  > >
  > http://www.cs.utexas.edu/users/inderjit/courses/dm2004/lecture5.ps
  > >   >
  > >   > Vikas
  > >   >
  > >   > On Tue, 14 Dec 2004, Nhan Nguyen Dang wrote:
  > >   >
  > >   > > Hi all,
  > >   > > Lucene score document based on the correlation
  > > between
  > >   > > the query q and document t:
  > >   > > (this is raw function, I don't pay attention
  > > to the
  > >   > > boost_t, coord_q_d factor)
  > >   > >
  > >   > > score_d =3D sum_t( tf_q * idf_t / norm_q * tf_d
  > > * idf_t
  > >   > > / norm_d_t)  (*)
  > >   > >
  > >   > > Could anybody explain it in detail ? Or are
  > > there any
  > >   > > papers, documents about this function ?
  > > Because:
  > >   > >
  > >   > > I have also read the book: Modern Information
  > >   > > Retrieval, author: Ricardo Baeza-Yates and
  > > Berthier
  > >   > > Ribeiro-Neto, Addison Wesley (Hope you have
  > > read it
  > >   > > too). In page 27, they also suggest a scoring
  > > funtion
  > >   > > for vector model based on the correlation
  > > between
  > >   > > query q and document d as follow (I use
  > > different
  > >   > > symbol):
  > >   > >
  > >   > > 	         sum_t( weight_t_d * weight_t_q)
  > >   > > score_d(d, q)=3D
  > > --------------------------------- (**)
  > >   > > 	     	      norm_d * norm_q
  > >   > >
  > >   > > where weight_t_d =3D tf_d * idf_t
  > >   > >       weight_t_q =3D tf_q * idf_t
  > >   > >       norm_d =3D sqrt( sum_t( (tf_d * idf_t)^2 )
  > > )
  > >   > >       norm_q =3D sqrt( sum_t( (tf_q * idf_t)^2 )
  > > )
  > >   > >
  > >   > > (**):          sum_t( tf_q*idf_t * tf_d*idf_t)
  > >   > > score_d(d,
  > > q)=3D---------------------------------  (***)
  > >   > > 		   norm_d * norm_q
  > >   > >
  > >   > > The two function, (*) and (***), have 2
  > > differences:
  > >   > > 1. in (***), the sum_t is just for the
  > > numerator but
  > >   > > in the (*), the sum_t is for everything. So,
  > > with
  > >   > > norm_q =3D sqrt(sum_t((tf_q*idf_t)^2)); sum_t is
  > >   > > calculated twice. Is this right? please
  > > explain.
  > >   > >
  > >   > > 2. No factor that define norms of the
  > > document: norm_d
  > >   > > in the function (*). Can you explain this.
  > > what is the
  > >   > > role of factor norm_d_t ?
  > >   > >
  > >   > > One more question: could anybody give me
  > > documents,
  > >   > > papers that explain this function in detail.
  > > so when I
  > >   > > apply Lucene for my system, I can adapt the
  > > document,
  > >   > > and the field so that I still receive the
  > > correct
  > >   > > scoring information from Lucene .
  > >   > >
  > >   > > Best regard,
  > >   > > Thanks every body,
  > >   > >
  > >   > > =3D=3D=3D=3D=3D
  > >   > > =D0#7863;ng Nh=E2n
  > >   >
  > >   >
  > >
  > =
---------------------------------------------------------------------
  > >   > To unsubscribe, e-mail:
  > > lucene-user-unsubscribe@jakarta.apache.org
  > >   > For additional commands, e-mail:
  > > lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
  > =
---------------------------------------------------------------------
  > > To unsubscribe, e-mail:
  > > lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
  > > lucene-user-help@jakarta.apache.org
  > >
  > >
  >=20
  >=20
  > =3D=3D=3D=3D=3D
  > =D0#7863;ng Nh=E2n
  >=20
  >=20
  >=20
  >=20
  >=20
  >=20
  > __________________________________
  > Do you Yahoo!?
  > Yahoo! Mail - Helps protect you from nasty viruses.
  > http://promotions.yahoo.com/new_mail
  >=20
  > =
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 17:52:24 2004
Return-Path: 
 <lucene-user-return-11920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59750 invoked from network); 15 Dec 2004 17:52:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 17:52:24 -0000
Received: (qmail 63191 invoked by uid 500); 15 Dec 2004 17:50:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63023 invoked by uid 500); 15 Dec 2004 17:50:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62891 invoked by uid 99); 15 Dec 2004 17:50:46 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 09:49:29 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 15 Dec 2004 17:57:41 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing a large number of DB records
Date: Wed, 15 Dec 2004 17:44:41 -0000
Message-ID: <005101c4e2cd$c72bdc50$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20041215024238.83244.qmail@web42201.mail.yahoo.com>
X-OriginalArrivalTime: 15 Dec 2004 17:57:41.0312 (UTC)
 FILETIME=[9241F400:01C4E2CF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Homan

I had a similar problem as you in that I was indexing A LOT of data

Essentially how I got round it was to batch the index.

What I was doing was to add 10,000 documents to a temporary index, use
addIndexes() to merge to temporary index into the live index (which also
optimizes the live index) then delete the temporary index. On the next =
loop
I'd only query rows from the db above the id in the maxdoc of the live =
index
and set the max rows of the query to to 10,000
i.e

SELECT TOP 10000 [fields] FROM [tables] WHERE [id_field] > {ID from
Index.MaxDoc()} ORDER BY [id_field] ASC

Ensuring that the documents go into the index sequentially your problem =
is
solved and memory usage on mine (dotlucene 1.3) is low

Regards
Garrett

-----Original Message-----
From: Homam S.A. [mailto:homam_sa@yahoo.com]=20
Sent: 15 December 2004 02:43
To: Lucene Users List
Subject: Indexing a large number of DB records

I'm trying to index a large number of records from the
DB (a few millions). Each record will be stored as a
document with about 30 fields, most of them are
UnStored and represent small strings or numbers. No
huge DB Text fields.

But I'm running out of memory very fast, and the
indexing is slowing down to a crawl once I hit around
1500 records. The problem is each document is holding
references to the string objects returned from
ToString() on the DB field, and the IndexWriter is
holding references to all these document objects in
memory, so the garbage collector is getting a chance
to clean these up.

How do you guys go about indexing a large DB table?
Here's a snippet of my code (this method is called for
each record in the DB):

private void IndexRow(SqlDataReader rdr, IndexWriter
iw) {
	Document doc =3D new Document();
	for (int i =3D 0; i < BrowseFieldNames.Length; i++) {
		doc.Add(Field.UnStored(BrowseFieldNames[i],
rdr.GetValue(i).ToString()));
	}
	iw.AddDocument(doc);
}




	=09
__________________________________=20
Do you Yahoo!?=20
Yahoo! Mail - Find what you need with new enhanced search.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 18:31:36 2004
Return-Path: 
 <lucene-user-return-11922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99868 invoked from network); 15 Dec 2004 18:31:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 18:31:36 -0000
Received: (qmail 8436 invoked by uid 500); 15 Dec 2004 18:31:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8191 invoked by uid 500); 15 Dec 2004 18:31:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8098 invoked by uid 99); 15 Dec 2004 18:31:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.195 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 10:30:15 -0800
Received: by wproxy.gmail.com with SMTP id 57so114654wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 15 Dec 2004 10:29:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=Srv76eGI5vIJnMQPxPasVz7hY8OD4gygNnTzkc9X8+EkhnM9axKqxLWOg3xoomYBYlCO5BdVvf+sQlqhKt3aqW3tCYi0qk+AGXd6l6lqAau+hkGqkogHmGfXglPGTHMLCG+qCWtC1cVm8IFqYjNQ+Q82gogDUOJyhZR+lWYVy5M=
Received: by 10.54.10.55 with SMTP id 55mr1125507wrj;
        Wed, 15 Dec 2004 10:29:51 -0800 (PST)
Received: by 10.54.38.78 with HTTP; Wed, 15 Dec 2004 10:29:51 -0800 (PST)
Message-ID: <95fd5e14041215102980a215b@mail.gmail.com>
Date: Wed, 15 Dec 2004 13:29:51 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Why does the StandardTokenizer split hyphenated words?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am writing a tool that uses lucene, and I immediately ran into a
problem searching for words that contain internal hyphens (dashes).
After looking at the StandardTokenizer, I saw that it was because
there is no rule that will match <ALPHA> <P> <ALPHA> or <ALPHANUM> <P>
<ALPHANUM>.  Based on what I can tell from the source, every other
term in a word containing any of the following (.,/-_) must contain at
least one digit.

I was wondering if someone could shed some light on why it was deemed
necessary to prevent indexing a word like 'word-with-hyphen' without
first splitting it into its constituent parts.  The only reason I can
think of (and the only one I've found) is to handle hyphenated words
at line breaks, although my first thought would be that this would be
undesired behavior, since a word that was broken due to a line break
should actually be reconstructed, and not split.

In my case, the words are keywords that must remain as is, searchable
with the hyphen in place.  It was easy enough to modify the tokenizer
to do what I need, so I'm not really asking for help there.  I'm
really just curious as to why it is that "a-1" is considered a single
token, but "a-b" is split.

Anyone care to elaborate?

Thanks,
-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 18:44:11 2004
Return-Path: 
 <lucene-user-return-11923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15914 invoked from network); 15 Dec 2004 18:44:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 18:44:11 -0000
Received: (qmail 50216 invoked by uid 500); 15 Dec 2004 18:43:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50187 invoked by uid 500); 15 Dec 2004 18:43:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50141 invoked by uid 99); 15 Dec 2004 18:43:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 10:43:00 -0800
Received: (qmail 17743 invoked by uid 60001); 15 Dec 2004 18:42:40 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=TPmPyrQssXC++k3GU7WlAob9PGKaDe1cO9UL6vfc+8rrIp03u/2DBD33I3DspDnDvGBVJv8huJPRuT1483lvVTh5YOcy+X7A2y61bhuJWNJlgR4PcHs9WzH0mynpLHIo+vth8LG0uMJ+/C4sN0vCa0IxmXqi208zVVBptIVDIQI=
  ;
Message-ID: <20041215184240.17741.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Wed, 15 Dec 2004 10:42:40 PST
Date: Wed, 15 Dec 2004 10:42:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Indexing a large number of DB records
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <005101c4e2cd$c72bdc50$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Note that this really includes some extra steps.
You don't need a temp index.  Add everything to a single index using a
single IndexWriter instance.  No need to call addIndexes nor optimize
until the end.  Adding Documents to an index takes a constant amount of
time, regardless of the index size, because new segments are created as
documents are added, and existing segments don't need to be updated
(only when merges happen).  Again, I'd run your app under a profiler to
see where the time and memory are going.

Otis

--- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:

> Hi Homan
> 
> I had a similar problem as you in that I was indexing A LOT of data
> 
> Essentially how I got round it was to batch the index.
> 
> What I was doing was to add 10,000 documents to a temporary index,
> use
> addIndexes() to merge to temporary index into the live index (which
> also
> optimizes the live index) then delete the temporary index. On the
> next loop
> I'd only query rows from the db above the id in the maxdoc of the
> live index
> and set the max rows of the query to to 10,000
> i.e
> 
> SELECT TOP 10000 [fields] FROM [tables] WHERE [id_field] > {ID from
> Index.MaxDoc()} ORDER BY [id_field] ASC
> 
> Ensuring that the documents go into the index sequentially your
> problem is
> solved and memory usage on mine (dotlucene 1.3) is low
> 
> Regards
> Garrett
> 
> -----Original Message-----
> From: Homam S.A. [mailto:homam_sa@yahoo.com] 
> Sent: 15 December 2004 02:43
> To: Lucene Users List
> Subject: Indexing a large number of DB records
> 
> I'm trying to index a large number of records from the
> DB (a few millions). Each record will be stored as a
> document with about 30 fields, most of them are
> UnStored and represent small strings or numbers. No
> huge DB Text fields.
> 
> But I'm running out of memory very fast, and the
> indexing is slowing down to a crawl once I hit around
> 1500 records. The problem is each document is holding
> references to the string objects returned from
> ToString() on the DB field, and the IndexWriter is
> holding references to all these document objects in
> memory, so the garbage collector is getting a chance
> to clean these up.
> 
> How do you guys go about indexing a large DB table?
> Here's a snippet of my code (this method is called for
> each record in the DB):
> 
> private void IndexRow(SqlDataReader rdr, IndexWriter
> iw) {
> 	Document doc = new Document();
> 	for (int i = 0; i < BrowseFieldNames.Length; i++) {
> 		doc.Add(Field.UnStored(BrowseFieldNames[i],
> rdr.GetValue(i).ToString()));
> 	}
> 	iw.AddDocument(doc);
> }
> 
> 
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> Yahoo! Mail - Find what you need with new enhanced search.
> http://info.mail.yahoo.com/mail_250
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 19:11:59 2004
Return-Path: 
 <lucene-user-return-11924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53953 invoked from network); 15 Dec 2004 19:11:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 19:11:59 -0000
Received: (qmail 52443 invoked by uid 500); 15 Dec 2004 19:11:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52404 invoked by uid 500); 15 Dec 2004 19:11:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52301 invoked by uid 99); 15 Dec 2004 19:11:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates
 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu)
 (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 11:10:40 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 2478A910B
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 14:10:13 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id D0CCF14BD; Wed, 15 Dec 2004 14:10:12 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id AD1E414BB
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 14:10:12 -0500 (EST)
Date: Wed, 15 Dec 2004 14:10:12 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: C# Ports
In-Reply-To: <002b01c4e294$ef7adbe0$36a8a8c0@intranet.researchandmarkets.com>
Message-ID: <Pine.GSO.4.53.0412151407090.29350@fury.csh.rit.edu>
References: <002b01c4e294$ef7adbe0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



I have created a DLL from the lucene jars for use in the PDFBox project.
It uses IKVM(http://www.ikvm.net) to create a DLL from a jar.

The binary version can be found here
http://www.csh.rit.edu/~ben/projects/pdfbox/nightly-release/PDFBox-.NET-0.7.0-dev.zip

This includes the ant script used to create the DLL files.

This method is by far the easiest way to port it, see previous posts about
advantages and disadvantages.

Ben


On Wed, 15 Dec 2004, Garrett Heaver wrote:

> I was just wondering what tools (JLCA?) people are using to port Lucene to
> c# as I'd be well interesting in converting things like snowball stemmers,
> wordnet etc.
>
>
>
> Thanks
>
> Garrett
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 19:33:21 2004
Return-Path: 
 <lucene-user-return-11925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73794 invoked from network); 15 Dec 2004 19:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 19:33:21 -0000
Received: (qmail 13317 invoked by uid 500); 15 Dec 2004 19:28:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11760 invoked by uid 500); 15 Dec 2004 19:28:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9596 invoked by uid 99); 15 Dec 2004 19:27:59 -0000
X-ASF-Spam-Status: No, hits= required=
	tests=
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 11:27:52 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004121519120601300fta50e>; Wed, 15 Dec 2004 19:12:06 +0000
Message-ID: <41C08C85.8090201@apache.org>
Date: Wed, 15 Dec 2004 11:12:05 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A question about scoring function in Lucene
References: 
 <E3381E0825F1954D953A4E347017BB1C02CC64D4@reh001-1.REX001.ExchangeByRegister.com>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC64D4@reh001-1.REX001.ExchangeByRegister.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chuck Williams wrote:
> I believe the biggest problem with Lucene's approach relative to the pure vector space model is that Lucene does not properly normalize.  The pure vector space model implements a cosine in the strictly positive sector of the coordinate space.  This is guaranteed intrinsically to be between 0 and 1, and produces scores that can be compared across distinct queries (i.e., "0.8" means something about the result quality independent of the query).

I question whether such scores are more meaningful.  Yes, such scores 
would be guaranteed to be between zero and one, but would 0.8 really be 
meaningful?  I don't think so.  Do you have pointers to research which 
demonstrates this?  E.g., when such a scoring method is used, that 
thresholding by score is useful across queries?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 19:55:16 2004
Return-Path: 
 <lucene-user-return-11927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1873 invoked from network); 15 Dec 2004 19:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 19:55:16 -0000
Received: (qmail 3656 invoked by uid 500); 15 Dec 2004 19:55:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3622 invoked by uid 500); 15 Dec 2004 19:55:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3605 invoked by uid 99); 15 Dec 2004 19:55:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout03.sul.t-online.com (HELO mailout03.sul.t-online.com)
 (194.25.134.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 11:53:28 -0800
Received: from fwd05.aul.t-online.de
	by mailout03.sul.t-online.com with smtp
	id 1Ceen7-0003oF-00; Wed, 15 Dec 2004 20:26:29 +0100
Received: from pD9EBF993.dip.t-dialin.net
 (E24g9YZEweDq0BkEGi1vnzSnstbfryByBHCluj-Kyem9vXJ8ZKD+kH@[217.235.249.147]) by
 fmrl05.sul.t-online.com
	with esmtp id 1Ceen3-0lbw1I0; Wed, 15 Dec 2004 20:26:25 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
Date: Wed, 15 Dec 2004 20:27:58 +0100
User-Agent: KMail/1.7.1
References: <95fd5e14041215102980a215b@mail.gmail.com>
In-Reply-To: <95fd5e14041215102980a215b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412152027.58407@danielnaber.de>
X-ID: E24g9YZEweDq0BkEGi1vnzSnstbfryByBHCluj-Kyem9vXJ8ZKD+kH@t-dialin.net
X-TOI-MSGID: cf9fabe5-abc3-4a4b-bad2-37b16d92891d
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 15 December 2004 19:29, Mike Snare wrote:

> In my case, the words are keywords that must remain as is, searchable
> with the hyphen in place. =C2=A0It was easy enough to modify the tokenizer
> to do what I need, so I'm not really asking for help there. =C2=A0I'm
> really just curious as to why it is that "a-1" is considered a single
> token, but "a-b" is split.

a-1 is considered a typical product name that needs to be unchanged=20
(there's a comment in the source that mentions this). Indexing=20
"hyphen-word" as two tokens has the advantage that it can then be found=20
with the following queries:
hypen-word (will be turned into a phrase query internally)
"hypen word" (phrase query)
(it cannot be found searching for hyphenword, however).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 19:53:15 2004
Return-Path: 
 <lucene-user-return-11926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 724 invoked from network); 15 Dec 2004 19:53:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 19:53:15 -0000
Received: (qmail 96647 invoked by uid 500); 15 Dec 2004 19:52:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96620 invoked by uid 500); 15 Dec 2004 19:52:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96593 invoked by uid 99); 15 Dec 2004 19:52:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 11:51:50 -0800
Received: (qmail 26576 invoked by uid 532); 15 Dec 2004 19:51:19 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.126711 secs); 15 Dec 2004 19:51:19 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 15 Dec 2004 19:51:19 -0000
Message-ID: <41C095E1.7050700@tropo.com>
Date: Wed, 15 Dec 2004 11:52:01 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TFIDF Implementation
References: <E1F190DAC247C64FAA46B38316FA151D2A11CE@EX-101.mail.navisite.com>
	 <41BF7B5D.2030807@tropo.com> <1103101696.23050.21.camel@isabelle>
In-Reply-To: <1103101696.23050.21.camel@isabelle>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Christoph Kiefer wrote:

> David, Bruce, Otis,
> Thank you all for the quick replies. I looked through the BooksLikeThis
> example. I also agree, it's a very good and effective way to find
> similar docs in the index. Nevertheless, what I need is really a
> similarity matrix holding all TF*IDF values. For illustration I quick
> and dirty wrote a class to perform that task. It uses the Jama.Matrix
> class to represent the similarity matrix at the moment. For show and
> tell I attached it to this email.
> Unfortunately it doesn't perform very well. My index stores about 25000
> docs with a total of 75000 terms. The similarity matrix is very sparse
> but nevertheless needs about 1'875'000'000 entries!!! I think this
> current implementation will not be useable in this way. I also think I
> switch to JMP (http://www.math.uib.no/~bjornoh/mtj/) for that reason.
> 
> What do you think?

I don't have any deep thoughts, just a few questions/ideas...

[1] TFIDFMatrix, FeatureVectorSimilarityMeasure, and CosineMeasure are 
your classes right, which are not in the mail, but presumably the source 
isn't needed.

[2] Does the problem boil down to this line and the memory usage?

double [][] TFIDFMatrix = new double[numberOfTerms][numberOfDocuments];

Thus using a sparse matrix would be a win, and so would using floats 
instead of doubles?

[3] Prob minor, but in getTFIDFMatrix() you might be able to ignore stop 
words, as you do so later in getSimilarity().

[4] You can also consider using Colt possibly even JUNG:

http://www-itg.lbl.gov/~hoschek/colt/api/cern/colt/matrix/impl/SparseDoubleMatrix2D.html

http://jung.sourceforge.net/doc/api/index.html

[5]

Related to #2, can you precalc the matrix and store it on disk, or is 
your index too dynamic?

[6] Also, in similar kinds of calculations I've seen code that filters 
out low frequency terms e.g. ignore all terms that don't occur in at 
least 5 docs.

-- Dave



> 
> Best,
> Christoph
> 
> 
> 
> ------------------------------------------------------------------------
> 
> /*
>  * Created on Dec 14, 2004
>  */
> package ch.unizh.ifi.ddis.simpack.measure.featurevectors;
> 
> import java.io.File;
> import java.io.FileReader;
> import java.io.IOException;
> 
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.StopAnalyzer;
> import org.apache.lucene.analysis.snowball.SnowballAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.index.TermDocs;
> import org.apache.lucene.index.TermEnum;
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> 
> import Jama.Matrix;
> 
> /**
>  * @author Christoph Kiefer
>  */
> public class TFIDF_Lucene extends FeatureVectorSimilarityMeasure {
> 	
> 	private File indexDir = null;
> 	private File dataDir = null;
> 	private String target = "";
> 	private String query = "";
> 	private int targetDocumentNumber = -1;
> 	private final String ME = this.getClass().getName();
> 	private int fileCounter = 0;
> 	
> 	public TFIDF_Lucene( String indexDir, String dataDir, String target, String query ) {
> 		this.indexDir = new File(indexDir);
> 		this.dataDir = new File(dataDir);
> 		this.target = target;
> 		this.query = query;
> 	}
> 	
> 	public String getName() {
> 		return "TFIDF_Lucene_Similarity_Measure";
> 	}
> 	
> 	private void makeIndex() {
> 		try {
> 			IndexWriter writer = new IndexWriter(indexDir, new SnowballAnalyzer( "English", StopAnalyzer.ENGLISH_STOP_WORDS ), false);
> 			indexDirectory(writer, dataDir);
> 			writer.optimize();
> 			writer.close();
> 		} catch (Exception ex) {
> 			ex.printStackTrace();
> 		}
> 	}
> 	
> 	private void indexDirectory(IndexWriter writer, File dir) {
> 		File[] files = dir.listFiles();
> 		for (int i=0; i < files.length; i++) {
> 			File f = files[i];
> 			if (f.isDirectory()) {
> 				indexDirectory(writer, f);  // recurse
> 			} else if (f.getName().endsWith(".txt")) {
> 				indexFile(writer, f);
> 			}
> 		}
> 	}
> 	
> 	private void indexFile(IndexWriter writer, File f) {
> 		try {
> 			System.out.println( "Indexing " + f.getName() + ", " + (fileCounter++) );
> 			String name = f.getCanonicalPath();
> 			//System.out.println(name);
> 			Document doc = new Document();
> 			doc.add( Field.Text( "contents", new FileReader(f), true ) );
> 			writer.addDocument( doc );
> 			
> 			if ( name.matches( dataDir + "/" + target + ".txt" ) ) {
> 				targetDocumentNumber = writer.docCount();
> 			}
> 			
> 		} catch (Exception ex) {
> 			ex.printStackTrace();
> 		}
> 	}
> 	
> 	public Matrix getTFIDFMatrix(File indexDir) throws IOException {
> 		Directory fsDir = FSDirectory.getDirectory( indexDir, false );
> 		IndexReader reader = IndexReader.open( fsDir );
> 		
> 		int numberOfTerms = 0;
> 		int numberOfDocuments = reader.numDocs();
> 		
> 		TermEnum allTerms = reader.terms();
> 		for ( ; allTerms.next(); ) {
> 			allTerms.term();
> 			numberOfTerms++;
> 		}
> 		
> 		System.out.println( "Total number of terms in index is " + numberOfTerms );
> 		System.out.println( "Total number of documents in index is " + numberOfDocuments );
> 		
> 		double [][] TFIDFMatrix = new double[numberOfTerms][numberOfDocuments];
> 		
> 		for ( int i = 0; i < numberOfTerms; i++ ) {
> 			for ( int j = 0; j < numberOfDocuments; j++ ) {
> 				TFIDFMatrix[i][j] = 0.0;
> 			}
> 		}
> 		
> 		allTerms = reader.terms();
> 		for ( int i = 0 ; allTerms.next(); i++ ) {
> 			
> 			Term term = allTerms.term();
> 			TermDocs td = reader.termDocs(term);
> 			for ( ; td.next(); ) {
> 				TFIDFMatrix[i][td.doc()] = td.freq();
> 			}
> 			
> 		}
> 		
> 		allTerms = reader.terms();
> 		for ( int i = 0 ; allTerms.next(); i++ ) {
> 			for ( int j = 0; j < numberOfDocuments; j++ ) {
> 				double tf = TFIDFMatrix[i][j];
> 				double docFreq = (double)allTerms.docFreq();
> 				double idf = ( Math.log( (double)numberOfDocuments / docFreq ) ) / 2.30258509299405;
> 				//System.out.println( "Term: " + i + " Document " + j + " TF/DocFreq/IDF: " + tf + " " + docFreq + " " + idf);
> 				TFIDFMatrix[i][j] = tf * idf;
> 			}
> 		}
> 		
> 		reader.close();
> 		return new Matrix(TFIDFMatrix);
> 	}
> 	
> 	public double getSimilarity( FeatureVectorSimilarityMeasure m ) {
> 		
> 		double sim = -1.0;
> 		try {
> 			makeIndex();
> 			
> 			Analyzer analyzer = new SnowballAnalyzer( "English", StopAnalyzer.ENGLISH_STOP_WORDS );
> 			Document queryDoc = new Document();
> 			File f = new File( dataDir + "/" + query + ".txt" );
> 			queryDoc.add( Field.Text( "contents", new FileReader( f ), true) );
> 			
> 			IndexWriter writer = new IndexWriter( indexDir, analyzer, false );
> 			writer.addDocument( queryDoc );
> 			writer.optimize();
> 			writer.close();
> 			
> 			Matrix TFIDFMatrix = getTFIDFMatrix(indexDir);
> 			double[] queryWeights = TFIDFMatrix.getMatrix( 0, TFIDFMatrix.getRowDimension()-1, TFIDFMatrix.getColumnDimension()-1, TFIDFMatrix.getColumnDimension()-1 ).getColumnPackedCopy();
> 			
> 			if ( targetDocumentNumber != -1 ) {
> 				double[] documentWeights = TFIDFMatrix.getMatrix( 0, TFIDFMatrix.getRowDimension()-1, targetDocumentNumber, targetDocumentNumber).getColumnPackedCopy();
> 				m = new CosineMeasure( documentWeights, queryWeights );
> 				System.out.println( "Similarity between query and document " + targetDocumentNumber + " is " + m.getSimilarity() );
> 				sim = m.getSimilarity();
> 			} else {
> 				System.out.println( "ERROR in " + ME + ": Target document number still invalid." );
> 			}
> 			
> 			return sim;
> 			
> 		} catch (Exception ex) {
> 			ex.printStackTrace();
> 		}
> 		
> 		return sim;
> 	}
> }
> 
> 
> ------------------------------------------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:14:03 2004
Return-Path: 
 <lucene-user-return-11928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20279 invoked from network); 15 Dec 2004 20:14:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:14:03 -0000
Received: (qmail 71429 invoked by uid 500); 15 Dec 2004 20:13:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71394 invoked by uid 500); 15 Dec 2004 20:13:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71372 invoked by uid 99); 15 Dec 2004 20:13:57 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 15 Dec 2004 12:11:59 -0800
Received: (qmail 82934 invoked by uid 60001); 15 Dec 2004 20:11:30 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=r51JHW21c5XPPTjhJlOhmXVfZRpWjBo2AqLdakkot++eGpNKk3XGoMmQtP4R0ah7tN7HDHLOR+0+NOVQ+2ZkUz9mW84PE0vZ4NVDe1LFy+JZWFfX9bBqoaSYG9UU4sXekv0SOxb5t/Jqc+WabLrrt9HjYCqA8KfH1HegOAQDTwg=
  ;
Message-ID: <20041215201130.82932.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 15 Dec 2004 12:11:30 PST
Date: Wed, 15 Dec 2004 12:11:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: A question about scoring function in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41C08C85.8090201@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is one case that I can think of where this 'constant' scoring
would be useful, and I think Chuck already mentioned this 1-2 months
ago.  For instace, having such scores would allow one to create alert
applications where queries run by some scheduler would trigger an alert
whenever the score is > X.  So that is where the absolue value of the
score would be useful.

I believe Chuck submitted some code that fixes this, which also helps
with MultiSearcher, where you have to have this contant score in order
to properly order hits from different Searchers, but I didn't dare to
touch that code without further studying, for which I didn't have time.

Otis


--- Doug Cutting <cutting@apache.org> wrote:

> Chuck Williams wrote:
> > I believe the biggest problem with Lucene's approach relative to
> the pure vector space model is that Lucene does not properly
> normalize.  The pure vector space model implements a cosine in the
> strictly positive sector of the coordinate space.  This is guaranteed
> intrinsically to be between 0 and 1, and produces scores that can be
> compared across distinct queries (i.e., "0.8" means something about
> the result quality independent of the query).
> 
> I question whether such scores are more meaningful.  Yes, such scores
> 
> would be guaranteed to be between zero and one, but would 0.8 really
> be 
> meaningful?  I don't think so.  Do you have pointers to research
> which 
> demonstrates this?  E.g., when such a scoring method is used, that 
> thresholding by score is useful across queries?
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:16:59 2004
Return-Path: 
 <lucene-user-return-11929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32233 invoked from network); 15 Dec 2004 20:16:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:16:59 -0000
Received: (qmail 82012 invoked by uid 500); 15 Dec 2004 20:16:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81974 invoked by uid 500); 15 Dec 2004 20:16:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81948 invoked by uid 99); 15 Dec 2004 20:16:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:15:01 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3F52F5B7F2; Wed, 15 Dec 2004 12:14:16 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 32E3B7F45E
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 12:14:16 -0800 (PST)
Date: Wed, 15 Dec 2004 12:14:16 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A question about scoring function in Lucene
In-Reply-To: <41C08C85.8090201@apache.org>
Message-ID: <Pine.LNX.4.58.0412151202280.19000@hal.rescomp.berkeley.edu>
References: 
 <E3381E0825F1954D953A4E347017BB1C02CC64D4@reh001-1.REX001.ExchangeByRegister.com>
 <41C08C85.8090201@apache.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: I question whether such scores are more meaningful.  Yes, such scores
: would be guaranteed to be between zero and one, but would 0.8 really be
: meaningful?  I don't think so.  Do you have pointers to research which
: demonstrates this?  E.g., when such a scoring method is used, that
: thresholding by score is useful across queries?

I freely admit that I'm way out of my league on these scoring discussions,
but I believe what the OP was refering to was not any intrinsic benefit in
having a score between 0 and 1, but of having a uniform normalization of
scores regardless of search terms.

For example, using the current scoring equation, if i do a search for
"Doug Cutting" and the results/scores i get back are...
      1:   0.9
      2:   0.3
      3:   0.21
      4:   0.21
      5:   0.1
...then there are at least two meaningful pieces of data I can glean:
   a) document #1 is significantly better then the other results
   b) document #3 and #4 are both equaly relevant to "Doug Cutting"

If I then do a search for "Chris Hostetter" and get back the following
results/scores...
      9:   0.9
      8:   0.3
      7:   0.21
      6:   0.21
      5:   0.1

...then I can assume the same corrisponding information is true about my
new search term (#9 is significantly better, and #7/#8 are equally as good)

However, I *cannot* say either of the following:
  x) document #9 is as relevant for "Chris Hostetter" as document #1 is
     relevant to "Doug Cutting"
  y) document #5 is equally relevant to both "Chris Hostetter" and
     "Doug Cutting"


I think the OP is arguing that if the scoring algorithm was modified in
the way they suggested, then you would be able to make statements x & y.

If they are correct, then I for one can see a definite benefit in that.
If for no other reason then in making minimum score thresholds more
meaningful.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:17:16 2004
Return-Path: 
 <lucene-user-return-11930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32471 invoked from network); 15 Dec 2004 20:17:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:17:16 -0000
Received: (qmail 83204 invoked by uid 500); 15 Dec 2004 20:17:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83170 invoked by uid 500); 15 Dec 2004 20:17:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83155 invoked by uid 99); 15 Dec 2004 20:17:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:15:14 -0800
Received: by wproxy.gmail.com with SMTP id 68so125795wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 15 Dec 2004 12:14:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=aSeuvgs/zKapA+LxKghaUCTMOqjxtMnbLRR0n9lrKlTY4cLzVBcB/muwO5Mef1Cr++J+Fy1IUGSkuCWC7F/ifG95etDbX641hVR1EsEJtYZdA2clyDRbz3QNQqwRUKl/tXhD12u0aTfRVI4EktBtCXUWDFgDVlvsfhvFvNA0910=
Received: by 10.54.22.32 with SMTP id 32mr607301wrv;
        Wed, 15 Dec 2004 12:14:46 -0800 (PST)
Received: by 10.54.38.78 with HTTP; Wed, 15 Dec 2004 12:14:46 -0800 (PST)
Message-ID: <95fd5e1404121512146e70f43d@mail.gmail.com>
Date: Wed, 15 Dec 2004 15:14:46 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
In-Reply-To: <200412152027.58407@danielnaber.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <95fd5e14041215102980a215b@mail.gmail.com>
	 <200412152027.58407@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> a-1 is considered a typical product name that needs to be unchanged
> (there's a comment in the source that mentions this). Indexing
> "hyphen-word" as two tokens has the advantage that it can then be found
> with the following queries:
> hypen-word (will be turned into a phrase query internally)
> "hypen word" (phrase query)
> (it cannot be found searching for hyphenword, however).

Sure.  But phrase queries are slower than a single word query.  In my
case, using the standard analyzer prior to my modification caused a
single (hyphenated) word query to take upwards of 10 seconds (1M+
documents with ~400K terms).  The exact same search with the new
Analyzer takes <.5 seconds (granted the new tokenization caused a
significant reduction in the number of terms).  Also, the phrase query
would place the same value on a doc that simply had the two words as a
doc that had the hyphenated version, wouldn't it?  This seems odd.

In addition, why do we assume that a-1 is a "typical product name" but
a-b isn't?

I am in no way second-guessing or suggesting a change, It just doesn't
make sense to me, and I'm trying to understand.  It is very likely, as
is oft the case, that this is just one of those things one has to
accept.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:46:52 2004
Return-Path: 
 <lucene-user-return-11933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59258 invoked from network); 15 Dec 2004 20:46:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:46:52 -0000
Received: (qmail 53944 invoked by uid 500); 15 Dec 2004 20:46:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53662 invoked by uid 500); 15 Dec 2004 20:46:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53524 invoked by uid 99); 15 Dec 2004 20:46:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:44:43 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1C2565B7F9; Wed, 15 Dec 2004 12:23:51 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1A08A7F45E
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 12:23:51 -0800 (PST)
Date: Wed, 15 Dec 2004 12:23:51 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
In-Reply-To: <200412152027.58407@danielnaber.de>
Message-ID: <Pine.LNX.4.58.0412151216030.19000@hal.rescomp.berkeley.edu>
References: <95fd5e14041215102980a215b@mail.gmail.com>
 <200412152027.58407@danielnaber.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: a-1 is considered a typical product name that needs to be unchanged
: (there's a comment in the source that mentions this). Indexing
: "hyphen-word" as two tokens has the advantage that it can then be found
: with the following queries:
: hypen-word (will be turned into a phrase query internally)
: "hypen word" (phrase query)
: (it cannot be found searching for hyphenword, however).

This isn't an area of Lucene that I've had a chance to investigate much
yet, but if I recall from my reading, Lucene allows you to place multiple
token sequences at the same position, generating something more easily
described as a "token graph" then a "token stream" .. correct?

so given an input "the quick-brown fox jumped over the a-1 sauce"
the tokenizer culd generate a token stream that looks like.

	"the"
	"quick" "brown"  OR  "quick-brown"  OR  "quickbrown"
	"fox"
	"jumped"
	"over"
	"the"
	"a" "1"  OR  "a-1"  OR  "a1"
	"sauce"

...at which point, a minimum 2 character word length filter, and stop
words filter could (if you wanted to use them) reduce that to...

	"quick" "brown"  OR  "quick-brown"  OR  "quickbrown"
	"fox"
	"jumped"
	"over"
	"a-1"  OR  "a1"
	"sauce"

allowing all of these future (phrase) searches to match...

	the quick brown fox jumped over the a1 sauce
	the quickbrown fox jumped over the a1 sauce
	the quick-brown fox jumped over the a1 sauce
	the quick brown fox jumped over the a 1 sauce
	the quickbrown fox jumped over the a 1 sauce
	the quick-brown fox jumped over the a 1 sauce
	the quick brown fox jumped over the a-1 sauce
	the quickbrown fox jumped over the a-1 sauce
	the quick-brown fox jumped over the a-1 sauce


...correct? or am I missunderstanding?

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:32:40 2004
Return-Path: 
 <lucene-user-return-11931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48989 invoked from network); 15 Dec 2004 20:32:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:32:40 -0000
Received: (qmail 20852 invoked by uid 500); 15 Dec 2004 20:32:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20822 invoked by uid 500); 15 Dec 2004 20:32:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20808 invoked by uid 99); 15 Dec 2004 20:32:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:30:49 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004121520301101300fuc5qe>; Wed, 15 Dec 2004 20:30:11 +0000
Message-ID: <41C09ED3.6010603@apache.org>
Date: Wed, 15 Dec 2004 12:30:11 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A question about scoring function in Lucene
References: <20041215201130.82932.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20041215201130.82932.qmail@web12704.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> There is one case that I can think of where this 'constant' scoring
> would be useful, and I think Chuck already mentioned this 1-2 months
> ago.  For instace, having such scores would allow one to create alert
> applications where queries run by some scheduler would trigger an alert
> whenever the score is > X.  So that is where the absolue value of the
> score would be useful.

Right, but the question is, would a single score threshold be effective 
for all queries, or would one need a separate score threshold for each 
query?  My hunch is that the latter is better, regardless of the scoring 
algorithm.

Also, just because Lucene's default scoring does not guarantee scores 
between zero and one does not necessarily mean that these scores are 
less "meaningful".

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:53:09 2004
Return-Path: 
 <lucene-user-return-11934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63238 invoked from network); 15 Dec 2004 20:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:53:09 -0000
Received: (qmail 68465 invoked by uid 500); 15 Dec 2004 20:53:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68433 invoked by uid 500); 15 Dec 2004 20:53:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68417 invoked by uid 99); 15 Dec 2004 20:53:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:51:06 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004121520350401300ft2vhe>; Wed, 15 Dec 2004 20:35:04 +0000
Message-ID: <41C09FF8.2000502@apache.org>
Date: Wed, 15 Dec 2004 12:35:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A question about scoring function in Lucene
References: 
 <E3381E0825F1954D953A4E347017BB1C02CC64D4@reh001-1.REX001.ExchangeByRegister.com>
 <41C08C85.8090201@apache.org>
 <Pine.LNX.4.58.0412151202280.19000@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0412151202280.19000@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
> For example, using the current scoring equation, if i do a search for
> "Doug Cutting" and the results/scores i get back are...
>       1:   0.9
>       2:   0.3
>       3:   0.21
>       4:   0.21
>       5:   0.1
> ...then there are at least two meaningful pieces of data I can glean:
>    a) document #1 is significantly better then the other results
>    b) document #3 and #4 are both equaly relevant to "Doug Cutting"
> 
> If I then do a search for "Chris Hostetter" and get back the following
> results/scores...
>       9:   0.9
>       8:   0.3
>       7:   0.21
>       6:   0.21
>       5:   0.1
> 
> ...then I can assume the same corrisponding information is true about my
> new search term (#9 is significantly better, and #7/#8 are equally as good)
> 
> However, I *cannot* say either of the following:
>   x) document #9 is as relevant for "Chris Hostetter" as document #1 is
>      relevant to "Doug Cutting"
>   y) document #5 is equally relevant to both "Chris Hostetter" and
>      "Doug Cutting"

That's right.  Thanks for the nice description of the issue.

> I think the OP is arguing that if the scoring algorithm was modified in
> the way they suggested, then you would be able to make statements x & y.

And I am not convinced that, with the changes Chuck describes, one can 
be any more confident of x and y.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 20:46:23 2004
Return-Path: 
 <lucene-user-return-11932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58919 invoked from network); 15 Dec 2004 20:46:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 20:46:23 -0000
Received: (qmail 52409 invoked by uid 500); 15 Dec 2004 20:46:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52367 invoked by uid 500); 15 Dec 2004 20:46:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52325 invoked by uid 99); 15 Dec 2004 20:46:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 12:43:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 1B0C21F51ED
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 15:43:21 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 13571-10 for <lucene-user@jakarta.apache.org>;
 Wed, 15 Dec 2004 15:43:20 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id B73C21F51B3
	for <lucene-user@jakarta.apache.org>; Wed, 15 Dec 2004 15:43:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <95fd5e1404121512146e70f43d@mail.gmail.com>
References: <95fd5e14041215102980a215b@mail.gmail.com>
 <200412152027.58407@danielnaber.de>
 <95fd5e1404121512146e70f43d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F0445500-4ED9-11D9-82D3-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
Date: Wed, 15 Dec 2004 15:43:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 15, 2004, at 3:14 PM, Mike Snare wrote:

[...]
>
> In addition, why do we assume that a-1 is a "typical product name" but
> a-b isn't?
>
> I am in no way second-guessing or suggesting a change, It just doesn't
> make sense to me, and I'm trying to understand.  It is very likely, as
> is oft the case, that this is just one of those things one has to
> accept.
>

It is one of those things we have to accept... or in this case write 
our own analyzer.  An Analyzer is a very special and custom choice.  
StandardAnalyzer is a general purpose one, but quite insufficient in 
many cases.  Like QueryParser.  We're lucky to have these kitchen-sink 
pieces in Lucene to get us going quickly, but digging deeper we often 
need custom solutions.

I'm working on indexing the e-book of Lucene in Action.  I'll blog up 
the details of this in the near future as case-study material, but 
here's the short version...

I got the PDF file, ran pdftotext on it.  Many words are split across 
lines with a hyphen.  Often these pieces should be combined with the 
hyphen removed.  Sometimes, though, these words are to be split.  The 
scenario is different than yours, because I want the hyphens gone - 
though sometimes they are a separator and sometimes they should be 
removed.  It depends.  I wrote a custom analyzer with several custom 
filters in the pipeline... dashes are originally kept in the stream, 
and a later filter combines two tokens and looks it up in an exception 
list and either combines it or leaves it separate.  StandardAnalyzer 
would have wreaked havoc.

The results of my work will soon be available to all to poke at, but 
for now a screenshot is all I have public:

	http://www.lucenebook.com

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 15 23:37:21 2004
Return-Path: 
 <lucene-user-return-11935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15319 invoked from network); 15 Dec 2004 23:37:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Dec 2004 23:37:21 -0000
Received: (qmail 31452 invoked by uid 500); 15 Dec 2004 23:37:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31429 invoked by uid 500); 15 Dec 2004 23:37:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31393 invoked by uid 99); 15 Dec 2004 23:37:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout08.sul.t-online.com (HELO mailout08.sul.t-online.com)
 (194.25.134.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 15:35:02 -0800
Received: from fwd08.aul.t-online.de
	by mailout08.sul.t-online.com with smtp
	id 1Ceg4S-000069-00; Wed, 15 Dec 2004 21:48:28 +0100
Received: from pD9EBFDAA.dip.t-dialin.net
 (EPEGyeZeQeNFtkjnS7-ZCxoP22x0GkiIdipl5fnk9szxX-2PxF3uoY@[217.235.253.170]) by
 fmrl08.sul.t-online.com
	with esmtp id 1Ceg4F-0EFW8e0; Wed, 15 Dec 2004 21:48:15 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
Date: Wed, 15 Dec 2004 21:49:48 +0100
User-Agent: KMail/1.7.1
References: <95fd5e14041215102980a215b@mail.gmail.com>
 <200412152027.58407@danielnaber.de>
 <95fd5e1404121512146e70f43d@mail.gmail.com>
In-Reply-To: <95fd5e1404121512146e70f43d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412152149.48662@danielnaber.de>
X-ID: EPEGyeZeQeNFtkjnS7-ZCxoP22x0GkiIdipl5fnk9szxX-2PxF3uoY@t-dialin.net
X-TOI-MSGID: 9ab99dd5-66ca-45e2-a2ce-a9a4553c5d80
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 15 December 2004 21:14, Mike Snare wrote:

> Also, the phrase query
> would place the same value on a doc that simply had the two words as a
> doc that had the hyphenated version, wouldn't it? =C2=A0This seems odd.

Not if these words are spelling variations of the same concept, which=20
doesn't seem unlikely.

> In addition, why do we assume that a-1 is a "typical product name" but
> a-b isn't?

Maybe for "a-b", but what about English words like "half-baked"?

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 05:26:04 2004
Return-Path: 
 <lucene-user-return-11936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21619 invoked from network); 16 Dec 2004 05:26:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 05:26:04 -0000
Received: (qmail 18380 invoked by uid 500); 16 Dec 2004 05:25:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18356 invoked by uid 500); 16 Dec 2004 05:25:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18338 invoked by uid 99); 16 Dec 2004 05:25:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 21:25:24 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: A question about scoring function in Lucene
Date: Wed, 15 Dec 2004 21:25:20 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC66AA@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: A question about scoring function in Lucene
Thread-Index: AcTi6BTSQoHUVQ/RT3aEOca7trF1KwAPAOtg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'll try to address all the comments here.

The normalization I proposed a while back on lucene-dev is specified.
Its properties can be analyzed, so there is no reason to guess about
them.

Re. Hoss's example and analysis, yes, I believe it can be demonstrated
that the proposed normalization would make certain absolute statements
like x and y meaningful.  However, it is not a panacea -- there would be
some limitations in these statements.

To see what could be said meaningfully, it is necessary to recall a
couple detailed aspects of the proposal:
  1.  The normalization would not change the ranking order or the ratios
among scores in a single result set from what they are now.  Only two
things change:  the query normalization constant, and the ad hoc final
normalization in Hits is eliminated because the scores are intrinsically
between 0 and 1.  Another way to look at this is that the sole purpose
of the normalization is to set the score of the highest-scoring result.
Once this score is set, all the other scores are determined since the
ratios of their scores to that of the top-scoring result do not change
from today.  Put simply, Hoss's explanation is correct.
  2.  There are multiple ways to normalize and achieve property 1.  One
simple approach is to set the top score based on the boost-weighted
percentage of query terms it matches (assuming, for simplicity, the
query is an OR-type BooleanQuery).  So if all boosts are the same, the
top score is the percentage of query terms matched.  If there are
boosts, then these cause the terms to have a corresponding relative
importance in the determination of this percentage.

More complex normalization schemes would go further and allow the tf's
and/or idf's to play a role in the determination of the top score -- I
didn't specify details here and am not sure how good a thing that would
be to do.  So, for now, let's just consider the properties of the simple
boost-weighted-query-term percentage normalization.

Hoss's example could be interpreted as single-term phrases "Doug
Cutting" and "Chris Hostetter", or as two-term BooleanQuery's.
Considering both of these cases illustrates the absolute-statement
properties and limitations of the proposed normalization.

If single-term PhraseQuery's, then the top score will always be 1.0
assuming the phrase matches (while the other results have arbitrary
fractional scores based on the tfidf ratios as today).  If the queries
are BooleanQuery's with no boosts, then the top score would be 1.0 or
0.5 depending on whether 1 or two terms were matched.  This is
meaningful.

In Lucene today, the top score is not meaningful.  It will always be 1.0
if the highest intrinsic score is >=3D 1.0.  I believe this could =
happen,
for example, in a two-term BooleanQuery that matches only one term (if
the tf on the matched document for that term is high enough).

So, to be concrete, a score of 1.0 with the proposed normalization
scheme would mean that all query terms are matched, while today a score
of 1.0 doesn't really tell you anything.  Certain absolute statements
can therefore be made with the new scheme.  This makes the
absolute-threshold monitored search application possible, along with the
segregating and filtering applications I've previously mentioned (call
out good results and filter out bad results by using absolute
thresholds).

These analyses are simplified by using only BooleanQuery's, but I
believe the properties carry over generally.

Doug also asked about research results.  I don't know of published
research on this topic, but I can again repeat an experience from
InQuira.  We found that end users benefited from a search experience
where good results were called out and bad results were downplayed or
filtered out.  And we managed to achieve this with absolute thresholding
through careful normalization (of a much more complex scoring
mechanism).  To get a better intuitive feel for this, think about you
react to a search where all the results suck, but there is no visual
indication of this that is any different from a search that returns
great results.

Otis raised the patch I submitted for MultiSearcher.  This addresses a
related problem, in that the current MultiSearcher does not rank results
equivalently to a single unified index -- specifically it fails Daniel
Naber's test case.  However, this is just a simple bug whose fix doesn't
require the new normalization.  I submitted a patch to fix that bug,
along with a caveat that I'm not sure the patch is complete, or even
consistent with the intentions of the author of this mechanism.

I'm glad to see this topic is generating some interest, and apologize if
anything I've said comes across as overly abrasive.  I use and really
like Lucene.  I put a lot of focus on creating a great experience for
the end user, and so am perhaps more concerned about quality of results
and certain UI aspects than most other users.

Chuck

  > -----Original Message-----
  > From: Doug Cutting [mailto:cutting@apache.org]
  > Sent: Wednesday, December 15, 2004 12:35 PM
  > To: Lucene Users List
  > Subject: Re: A question about scoring function in Lucene
  >=20
  > Chris Hostetter wrote:
  > > For example, using the current scoring equation, if i do a search
for
  > > "Doug Cutting" and the results/scores i get back are...
  > >       1:   0.9
  > >       2:   0.3
  > >       3:   0.21
  > >       4:   0.21
  > >       5:   0.1
  > > ...then there are at least two meaningful pieces of data I can
glean:
  > >    a) document #1 is significantly better then the other results
  > >    b) document #3 and #4 are both equaly relevant to "Doug
Cutting"
  > >
  > > If I then do a search for "Chris Hostetter" and get back the
following
  > > results/scores...
  > >       9:   0.9
  > >       8:   0.3
  > >       7:   0.21
  > >       6:   0.21
  > >       5:   0.1
  > >
  > > ...then I can assume the same corrisponding information is true
about
  > my
  > > new search term (#9 is significantly better, and #7/#8 are equally
as
  > good)
  > >
  > > However, I *cannot* say either of the following:
  > >   x) document #9 is as relevant for "Chris Hostetter" as document
#1
  > is
  > >      relevant to "Doug Cutting"
  > >   y) document #5 is equally relevant to both "Chris Hostetter" and
  > >      "Doug Cutting"
  >=20
  > That's right.  Thanks for the nice description of the issue.
  >=20
  > > I think the OP is arguing that if the scoring algorithm was
modified
  > in
  > > the way they suggested, then you would be able to make statements
x &
  > y.
  >=20
  > And I am not convinced that, with the changes Chuck describes, one
can
  > be any more confident of x and y.
  >=20
  > Doug
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 06:14:54 2004
Return-Path: 
 <lucene-user-return-11937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62936 invoked from network); 16 Dec 2004 06:14:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 06:14:54 -0000
Received: (qmail 2130 invoked by uid 500); 16 Dec 2004 06:14:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2101 invoked by uid 500); 16 Dec 2004 06:14:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2085 invoked by uid 99); 16 Dec 2004 06:14:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 15 Dec 2004 22:14:15 -0800
Received: by rproxy.gmail.com with SMTP id j1so1058603rnf
        for <lucene-user@jakarta.apache.org>;
 Wed, 15 Dec 2004 22:14:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=ZHzXzCu539pncKG5a29pMJa4DRnscRphuxYugytye274hxR8lLZdOqElI5rDzYQjIGKE72FDR/y/G2XyuW+s0AJ53/VHdNPBqmtkYBnugQPJPe+UMuOFWcJk93qK/IRJngXOqkqtYhhtEE1n6FkSzyLVC5sQX1QMT4F42JIha1E=
Received: by 10.38.88.68 with SMTP id l68mr992936rnb;
        Wed, 15 Dec 2004 22:14:13 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Wed, 15 Dec 2004 22:14:13 -0800 (PST)
Message-ID: <8837fb770412152214e921271@mail.gmail.com>
Date: Wed, 15 Dec 2004 22:14:13 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: File locking using java.nio.channels.FileLock
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

  When is Lucene planning on moving toward java 1.4+?

   I see there are some problems caused from the current lock file
implementation, e.g. Bug# 32171. The problems would be easily fixed by
using the java.nio.channels.FileLock object.

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 09:05:56 2004
Return-Path: 
 <lucene-user-return-11938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4971 invoked from network); 16 Dec 2004 09:05:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 09:05:56 -0000
Received: (qmail 2487 invoked by uid 500); 16 Dec 2004 09:05:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2459 invoked by uid 500); 16 Dec 2004 09:05:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2442 invoked by uid 99); 16 Dec 2004 09:05:49 -0000
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 01:04:34 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8T5WO00.O0W for <lucene-user@jakarta.apache.org>; Thu,
          16 Dec 2004 14:49:36 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 14:37:25 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKAEFDCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys

Apologies.............




Can some body Please Tell me Why is this Happening and any work around for
the same .???


Constructed String : +bags +itemPrice:[00000003 TO 00000020]

Query String: +contents:bags +itemPrice:[00000003 TO 00000020]

org.apache.lucene.search.BooleanQuery$TooManyClauses
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
        at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:99)
        at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
        at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)







      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 10:07:56 2004
Return-Path: 
 <lucene-user-return-11942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42491 invoked from network); 16 Dec 2004 10:07:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 10:07:56 -0000
Received: (qmail 26436 invoked by uid 500); 16 Dec 2004 10:07:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26393 invoked by uid 500); 16 Dec 2004 10:07:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26366 invoked by uid 99); 16 Dec 2004 10:07:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Ali.Safarnejad@fao.org
 designates 168.202.2.12 as permitted sender)
Received: from pmdfint.fao.org (HELO smtpmail.fao.org) (168.202.2.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 02:06:00 -0800
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0I8T00C01611BD@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 10:22:13 +0100 (MET)
Received: from hqfaoex02.hq.un.fao.org (hqfaoex02.fao.org [168.202.2.80])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0I8T00BB6611H3@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 10:22:13 +0100 (MET)
Received: from hqafex01.hq.un.fao.org ([168.202.2.52])
 by hqfaoex02.hq.un.fao.org with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 16 Dec 2004 10:22:33 +0100
Date: Thu, 16 Dec 2004 10:22:32 +0100
From: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: Aramorph Analyzer
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <B978AA198CB86D488F88454BE7CA796C18AB8A@hqafex01.fao.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Aramorph Analyzer
Thread-Index: AcTjTnpzs3ZOWOP+SV+uD5DICs0+dAAAAizA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2004 09:22:33.0240 (UTC)
 FILETIME=[C6063180:01C4E350]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I wanted to share some results from trying out Aramorph Arabic Analyzer with
Lucene.  I experimented with a set of 100 web documents in Windows-1256
encoding.  The indexing took just over 200 seconds, although I had to
increase the heap-size to 500Meg, or I would get OutOfMemory Exceptions
halfway thru the documents.  The 200 seconds includes time to make the url
connection and tidy the documents to extract the text out.

Has anyone done similar experiments with a larger set of Arabic documents?
I'm interested in hearing from anyone else who has used Aramorph with Lucene.

Thanks,
Ali

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 09:44:25 2004
Return-Path: 
 <lucene-user-return-11939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27168 invoked from network); 16 Dec 2004 09:44:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 09:44:25 -0000
Received: (qmail 68852 invoked by uid 500); 16 Dec 2004 09:44:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68828 invoked by uid 500); 16 Dec 2004 09:44:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68814 invoked by uid 99); 16 Dec 2004 09:44:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 01:42:24 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4CB8B13E2008; Thu, 16 Dec 2004 04:42:08 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0C7A913E200A
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 04:42:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <8837fb770412152214e921271@mail.gmail.com>
References: <8837fb770412152214e921271@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BB33E2C8-4F46-11D9-A7A0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: File locking using java.nio.channels.FileLock
Date: Thu, 16 Dec 2004 04:41:59 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 16, 2004, at 1:14 AM, John Wang wrote:
>   When is Lucene planning on moving toward java 1.4+?

I'd support Lucene 2.0 using JDK 1.4 features.  I suspect we'll get a 
number of folks that disagree with that though.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 09:57:09 2004
Return-Path: 
 <lucene-user-return-11941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35648 invoked from network); 16 Dec 2004 09:57:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 09:57:09 -0000
Received: (qmail 98354 invoked by uid 500); 16 Dec 2004 09:57:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98328 invoked by uid 500); 16 Dec 2004 09:57:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98296 invoked by uid 99); 16 Dec 2004 09:57:03 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 01:55:16 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 16 Dec 2004 09:59:34 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing a large number of DB records
Date: Thu, 16 Dec 2004 09:46:36 -0000
Message-ID: <005601c4e354$26d1acd0$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20041215184240.17741.qmail@web12702.mail.yahoo.com>
X-OriginalArrivalTime: 16 Dec 2004 09:59:35.0000 (UTC)
 FILETIME=[F24BDD80:01C4E355]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was other reasons for my choice of going with a Temp Index - =
namely I
was having terrible write times to my Live index as it was stored on a
different server, also, while I was writing to my live index people were
trying to search on it and were getting "file not found" exceptions so
rather than spend hours or days trying to fix it I took the easiest =
route by
creating a temp index on the server which had the application and =
merging to
the server with the live index. This greatly increased my indexing =
speed.

Best of luck
Garrett

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: 15 December 2004 18:43
To: Lucene Users List
Subject: RE: Indexing a large number of DB records

Note that this really includes some extra steps.
You don't need a temp index.  Add everything to a single index using a
single IndexWriter instance.  No need to call addIndexes nor optimize
until the end.  Adding Documents to an index takes a constant amount of
time, regardless of the index size, because new segments are created as
documents are added, and existing segments don't need to be updated
(only when merges happen).  Again, I'd run your app under a profiler to
see where the time and memory are going.

Otis

--- Garrett Heaver <garrett.heaver@researchandmarkets.com> wrote:

> Hi Homan
>=20
> I had a similar problem as you in that I was indexing A LOT of data
>=20
> Essentially how I got round it was to batch the index.
>=20
> What I was doing was to add 10,000 documents to a temporary index,
> use
> addIndexes() to merge to temporary index into the live index (which
> also
> optimizes the live index) then delete the temporary index. On the
> next loop
> I'd only query rows from the db above the id in the maxdoc of the
> live index
> and set the max rows of the query to to 10,000
> i.e
>=20
> SELECT TOP 10000 [fields] FROM [tables] WHERE [id_field] > {ID from
> Index.MaxDoc()} ORDER BY [id_field] ASC
>=20
> Ensuring that the documents go into the index sequentially your
> problem is
> solved and memory usage on mine (dotlucene 1.3) is low
>=20
> Regards
> Garrett
>=20
> -----Original Message-----
> From: Homam S.A. [mailto:homam_sa@yahoo.com]=20
> Sent: 15 December 2004 02:43
> To: Lucene Users List
> Subject: Indexing a large number of DB records
>=20
> I'm trying to index a large number of records from the
> DB (a few millions). Each record will be stored as a
> document with about 30 fields, most of them are
> UnStored and represent small strings or numbers. No
> huge DB Text fields.
>=20
> But I'm running out of memory very fast, and the
> indexing is slowing down to a crawl once I hit around
> 1500 records. The problem is each document is holding
> references to the string objects returned from
> ToString() on the DB field, and the IndexWriter is
> holding references to all these document objects in
> memory, so the garbage collector is getting a chance
> to clean these up.
>=20
> How do you guys go about indexing a large DB table?
> Here's a snippet of my code (this method is called for
> each record in the DB):
>=20
> private void IndexRow(SqlDataReader rdr, IndexWriter
> iw) {
> 	Document doc =3D new Document();
> 	for (int i =3D 0; i < BrowseFieldNames.Length; i++) {
> 		doc.Add(Field.UnStored(BrowseFieldNames[i],
> rdr.GetValue(i).ToString()));
> 	}
> 	iw.AddDocument(doc);
> }
>=20
>=20
>=20
>=20
> 	=09
> __________________________________=20
> Do you Yahoo!?=20
> Yahoo! Mail - Find what you need with new enhanced search.
> http://info.mail.yahoo.com/mail_250
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 09:49:26 2004
Return-Path: 
 <lucene-user-return-11940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31043 invoked from network); 16 Dec 2004 09:49:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 09:49:26 -0000
Received: (qmail 80954 invoked by uid 500); 16 Dec 2004 09:49:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80932 invoked by uid 500); 16 Dec 2004 09:49:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80916 invoked by uid 99); 16 Dec 2004 09:49:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 01:47:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 04B5F13E200A; Thu, 16 Dec 2004 04:47:08 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 9082C13E2008
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 04:47:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKAEFDCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKAEFDCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7262B668-4F47-11D9-A7A0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 04:47:06 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 16, 2004, at 4:07 AM, Karthik N S wrote:
> Can some body Please Tell me Why is this Happening and any work around 
> for
> the same .???
>
>
> Constructed String : +bags +itemPrice:[00000003 TO 00000020]
>
> Query String: +contents:bags +itemPrice:[00000003 TO 00000020]
>
> org.apache.lucene.search.BooleanQuery$TooManyClauses

TooManyClauses exception occurs when a query such as a RangeQuery 
expands to more than 1024 terms.  I don't see how this could be the 
case in the query you provided - are you certain that is the query that 
generated the error?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 10:29:27 2004
Return-Path: 
 <lucene-user-return-11943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55054 invoked from network); 16 Dec 2004 10:29:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 10:29:27 -0000
Received: (qmail 66186 invoked by uid 500); 16 Dec 2004 10:29:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66160 invoked by uid 500); 16 Dec 2004 10:29:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66140 invoked by uid 99); 16 Dec 2004 10:29:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 02:27:20 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id AF32923BF4
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:04:32 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 22025-07 for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 11:04:32 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 844EB23BCA
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:04:32 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iBGA3imA030909
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:03:44 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iBGA3iJi030905;
	Thu, 16 Dec 2004 11:03:44 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16833.23936.773831.753541@tucholsky.office.tanto.de>
Date: Thu, 16 Dec 2004 11:03:44 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: NUMERIC RANGE BOOLEAN
In-Reply-To: <7262B668-4F47-11D9-A7A0-000393A564E6@ehatchersolutions.com>
References: <OBELINLGKPEMCIEIJJNKAEFDCAAA.karthik@controlnet.co.in>
	<7262B668-4F47-11D9-A7A0-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher writes:

> TooManyClauses exception occurs when a query such as a RangeQuery 
> expands to more than 1024 terms.  I don't see how this could be the 
> case in the query you provided - are you certain that is the query that 
> generated the error?
> 
Why not: the terms might be 00000003 00000003.1 00000003.11 ...

So the question is, how do his terms look like...

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 10:33:02 2004
Return-Path: 
 <lucene-user-return-11944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57259 invoked from network); 16 Dec 2004 10:33:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 10:33:02 -0000
Received: (qmail 74870 invoked by uid 500); 16 Dec 2004 10:32:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74842 invoked by uid 500); 16 Dec 2004 10:32:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74829 invoked by uid 99); 16 Dec 2004 10:32:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 02:31:12 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8T9XD00.T3H for <lucene-user@jakarta.apache.org>; Thu,
          16 Dec 2004 16:16:25 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 16:04:14 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKEEFFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <7262B668-4F47-11D9-A7A0-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

Yes this is Happening in our case

and we are using Lucene1.4.3 with same Sys config from my Ex mail....


With regards
Karthik

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 16, 2004 3:17 PM
To: Lucene Users List
Subject: Re: NUMERIC RANGE BOOLEAN


On Dec 16, 2004, at 4:07 AM, Karthik N S wrote:
> Can some body Please Tell me Why is this Happening and any work around 
> for
> the same .???
>
>
> Constructed String : +bags +itemPrice:[00000003 TO 00000020]
>
> Query String: +contents:bags +itemPrice:[00000003 TO 00000020]
>
> org.apache.lucene.search.BooleanQuery$TooManyClauses

TooManyClauses exception occurs when a query such as a RangeQuery 
expands to more than 1024 terms.  I don't see how this could be the 
case in the query you provided - are you certain that is the query that 
generated the error?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 10:35:21 2004
Return-Path: 
 <lucene-user-return-11945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58552 invoked from network); 16 Dec 2004 10:35:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 10:35:21 -0000
Received: (qmail 78816 invoked by uid 500); 16 Dec 2004 10:35:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78545 invoked by uid 500); 16 Dec 2004 10:35:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78518 invoked by uid 99); 16 Dec 2004 10:35:17 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from LEASED-200-20-178.bng.vsnl.net.in (HELO crimsonlogic.co.in)
 (203.200.20.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 02:33:28 -0800
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 32815233F9
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 15:57:37 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: <lucene-user@jakarta.apache.org>
Subject: Remotely Index
Date: Thu, 16 Dec 2004 16:07:57 +0530
Message-ID: <004901c4e35b$4eebc5a0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004A_01C4E389.68A401A0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_004A_01C4E389.68A401A0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi All,

 

How to Index remotely?

For example I have a some documents in machine A and lucene Indexing and
searching server in machine B.

How can do Index...

 

 

Regards,

Natarajan.


------=_NextPart_000_004A_01C4E389.68A401A0--


From MAILER-DAEMON Thu Dec 16 11:01:36 2004
Return-Path: 
 <lucene-user-return-11946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74488 invoked from network); 16 Dec 2004 11:01:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 11:01:36 -0000
Received: (qmail 31912 invoked by uid 500); 16 Dec 2004 11:01:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31889 invoked by uid 500); 16 Dec 2004 11:01:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31872 invoked by uid 99); 16 Dec 2004 11:01:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Ali.Safarnejad@fao.org
 designates 168.202.2.12 as permitted sender)
Received: from pmdfint.fao.org (HELO smtpmail.fao.org) (168.202.2.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 02:59:42 -0800
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0I8T00201AIGBL@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 11:59:04 +0100 (MET)
Received: from hqfaoex02.hq.un.fao.org (hqfaoex02.fao.org [168.202.2.80])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0I8T0017BAIFRF@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 11:59:04 +0100 (MET)
Received: from hqafex01.hq.un.fao.org ([168.202.2.52])
 by hqfaoex02.hq.un.fao.org with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 16 Dec 2004 11:59:23 +0100
Date: Thu, 16 Dec 2004 11:59:23 +0100
From: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: RE: Aramorph Analyzer
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=windows-1256
Content-transfer-encoding: BASE64
Thread-Topic: Aramorph Analyzer
Thread-Index: AcTjTnpzs3ZOWOP+SV+uD5DICs0+dAAAAizAAALM9AA=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2004 10:59:23.0781 (UTC)
 FILETIME=[4D606350:01C4E35E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

QWN0dWFsbHksIG9uZSB0aGluZyB3b3J0aCBtZW50aW9uaW5nIGFib3V0IHRoZSBz
ZWFyY2gsIGlzIHdoZW4gc2VhcmNoaW5nIGZvcg0Kd2hvbGUgcGhyYXNlcywgaWYg
dGhlcmUgaXMgYW55IGFtYmlndW91cyB3b3JkcyBpbiB0aGUgcGhyYXNlLCB0aGVu
IHRoZSBTZWFyY2gNCmZhaWxzIHRvIGZpbmQgdGhlIGRvY3VtZW50LCBldmVuIGlm
IHRoZSBwaHJhc2Ugd2FzIGNvcGllZCBhbmQgcGFzdGVkIGZyb20gdGhlDQpvcmln
aW5hbCBkb2N1bWVudC4NClNvIGZvciBleGFtcGxlLCBJIGhhdmUgYSBkb2N1bWVu
dCBjb250YWluaW5nIHRoaXMgcGhyYXNlOiDH4cPM5dzc3NLJIMfh0e3H0+3JDQrh
4ePk2ePJDQpUaGUgZmlyc3QgdHdvIHdvcmRzIG9ubHkgaGF2ZSBvbmUgc3RlbSwg
YnV0IHRoZSBsYXN0IHdvcmQgaGFzIHR3byBzdGVtczoNCm11bmFafmltIEFORCBt
dW5hWn5hbSwNClNvIHRoZSBlbnRpcmUgc2VhcmNoIHF1ZXJ5IGJlY29tZXM6ICJB
bD5qaF9fX3pwIHJpeUFzaXl+IG11bmFafmltIG11bmFafmFtIg0KV2hpY2ggZmFp
bHMgdG8gZmluZCBhbnkgbWF0Y2hpbmcgZG9jdW1lbnRzLg0KV2hlcmVhcywgYSBz
ZWFyY2ggZm9yICJBbD5qaF9fX3pwIHJpeUFzaXl+IiB3b3VsZCBzdWNjZWVkLg0K
RXZlbiBwbGFjaW5nIHRoZSBhY2NlbnQgb3ZlciB0aGUgWkFIICjZKSwgd2lsbCBu
b3QgZGlzYW1iaWd1YXRlIHRoZSBzZWFyY2guDQpIYXMgYW55b25lIGZvdW5kIGEg
d29ya2Fyb3VuZCBmb3IgdGhpcz8NCg0KYWxpDQoNCg0KLS0tLS1PcmlnaW5hbCBN
ZXNzYWdlLS0tLS0NCkZyb206IFNhZmFybmVqYWQsIEFsaSAoQUZJUykgDQpTZW50
OiAxNiBEZWNlbWJlciAyMDA0IDEwOjIzDQpUbzogTHVjZW5lIFVzZXJzIExpc3QN
ClN1YmplY3Q6IEFyYW1vcnBoIEFuYWx5emVyDQoNCg0KSSB3YW50ZWQgdG8gc2hh
cmUgc29tZSByZXN1bHRzIGZyb20gdHJ5aW5nIG91dCBBcmFtb3JwaCBBcmFiaWMg
QW5hbHl6ZXIgd2l0aA0KTHVjZW5lLiAgSSBleHBlcmltZW50ZWQgd2l0aCBhIHNl
dCBvZiAxMDAgd2ViIGRvY3VtZW50cyBpbiBXaW5kb3dzLTEyNTYNCmVuY29kaW5n
LiAgVGhlIGluZGV4aW5nIHRvb2sganVzdCBvdmVyIDIwMCBzZWNvbmRzLCBhbHRo
b3VnaCBJIGhhZCB0bw0KaW5jcmVhc2UgdGhlIGhlYXAtc2l6ZSB0byA1MDBNZWcs
IG9yIEkgd291bGQgZ2V0IE91dE9mTWVtb3J5IEV4Y2VwdGlvbnMNCmhhbGZ3YXkg
dGhydSB0aGUgZG9jdW1lbnRzLiAgVGhlIDIwMCBzZWNvbmRzIGluY2x1ZGVzIHRp
bWUgdG8gbWFrZSB0aGUgdXJsDQpjb25uZWN0aW9uIGFuZCB0aWR5IHRoZSBkb2N1
bWVudHMgdG8gZXh0cmFjdCB0aGUgdGV4dCBvdXQuDQoNCkhhcyBhbnlvbmUgZG9u
ZSBzaW1pbGFyIGV4cGVyaW1lbnRzIHdpdGggYSBsYXJnZXIgc2V0IG9mIEFyYWJp
YyBkb2N1bWVudHM/DQpJJ20gaW50ZXJlc3RlZCBpbiBoZWFyaW5nIGZyb20gYW55
b25lIGVsc2Ugd2hvIGhhcyB1c2VkIEFyYW1vcnBoIHdpdGggTHVjZW5lLg0KDQpU
aGFua3MsDQpBbGkNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFw
YWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2Vu
ZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoNCg==


From MAILER-DAEMON Thu Dec 16 11:56:41 2004
Return-Path: 
 <lucene-user-return-11947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14581 invoked from network); 16 Dec 2004 11:56:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 11:56:41 -0000
Received: (qmail 40634 invoked by uid 500); 16 Dec 2004 11:56:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40606 invoked by uid 500); 16 Dec 2004 11:56:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40583 invoked by uid 99); 16 Dec 2004 11:56:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 03:54:37 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EF54713E200A; Thu, 16 Dec 2004 06:53:58 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id F2A4713E2008
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 06:53:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <16833.23936.773831.753541@tucholsky.office.tanto.de>
References: <OBELINLGKPEMCIEIJJNKAEFDCAAA.karthik@controlnet.co.in>
 <7262B668-4F47-11D9-A7A0-000393A564E6@ehatchersolutions.com>
 <16833.23936.773831.753541@tucholsky.office.tanto.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <276415A4-4F59-11D9-A7A0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 06:53:51 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
> Erik Hatcher writes:
>
>> TooManyClauses exception occurs when a query such as a RangeQuery
>> expands to more than 1024 terms.  I don't see how this could be the
>> case in the query you provided - are you certain that is the query 
>> that
>> generated the error?
>>
> Why not: the terms might be 00000003 00000003.1 00000003.11 ...
>
> So the question is, how do his terms look like...

Ah, good point! So, Karthik - what are are the values of those terms?

Pragmatically, do you really need to do a range involving the cents of 
a price?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 12:32:40 2004
Return-Path: 
 <lucene-user-return-11948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38089 invoked from network); 16 Dec 2004 12:32:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 12:32:40 -0000
Received: (qmail 9534 invoked by uid 500); 16 Dec 2004 12:32:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9510 invoked by uid 500); 16 Dec 2004 12:32:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9496 invoked by uid 99); 16 Dec 2004 12:32:35 -0000
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 04:31:20 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8TEPN00.B4F for <lucene-user@jakarta.apache.org>; Thu,
          16 Dec 2004 17:59:47 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 17:47:36 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEFGCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
Importance: Normal
In-Reply-To: <276415A4-4F59-11D9-A7A0-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik


Apologies.............


Yes As I told u in the X-mail

We have to get the All the Hits int the Range ,

   So  0.99 cents IS & ALWAYS be 0.99 cents  on which we do the price
Comaprison from consumer point of view .


I hope  I have answered u'r Question


With regards
Karthik

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 16, 2004 5:24 PM
To: Lucene Users List
Subject: Re: NUMERIC RANGE BOOLEAN


On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
> Erik Hatcher writes:
>
>> TooManyClauses exception occurs when a query such as a RangeQuery
>> expands to more than 1024 terms.  I don't see how this could be the
>> case in the query you provided - are you certain that is the query
>> that
>> generated the error?
>>
> Why not: the terms might be 00000003 00000003.1 00000003.11 ...
>
> So the question is, how do his terms look like...

Ah, good point! So, Karthik - what are are the values of those terms?

Pragmatically, do you really need to do a range involving the cents of
a price?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 12:48:18 2004
Return-Path: 
 <lucene-user-return-11949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46313 invoked from network); 16 Dec 2004 12:48:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 12:48:18 -0000
Received: (qmail 37215 invoked by uid 500); 16 Dec 2004 12:48:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37185 invoked by uid 500); 16 Dec 2004 12:48:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37171 invoked by uid 99); 16 Dec 2004 12:48:14 -0000
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.203 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 04:46:59 -0800
Received: by wproxy.gmail.com with SMTP id 70so179856wra
        for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 04:46:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=rySojRfbX+pB4h1pPlE2/DfTiYjG3CExR1ajTQV1oJHvMz8jH29gnAPUg0duFHAb7lId6uJoc3SHoxZInNPCzBARIoSP7t31jg5XHV5ve8k6la8PhwNudRDb8Fx+mKJhvBSCzW8KMjnn336T1Uzm97WHDq4ggQ2dGTttscG+kWM=
Received: by 10.54.40.65 with SMTP id n65mr1020681wrn;
        Thu, 16 Dec 2004 04:46:24 -0800 (PST)
Received: by 10.54.38.78 with HTTP; Thu, 16 Dec 2004 04:46:23 -0800 (PST)
Message-ID: <95fd5e1404121604464303cb5@mail.gmail.com>
Date: Thu, 16 Dec 2004 07:46:23 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
In-Reply-To: <200412152149.48662@danielnaber.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <95fd5e14041215102980a215b@mail.gmail.com>
	 <200412152027.58407@danielnaber.de>
	 <95fd5e1404121512146e70f43d@mail.gmail.com>
	 <200412152149.48662@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Not if these words are spelling variations of the same concept, which
> doesn't seem unlikely.
> 
> > In addition, why do we assume that a-1 is a "typical product name" but
> > a-b isn't?
> 
> Maybe for "a-b", but what about English words like "half-baked"?

Perhaps that's the difference in thinking, then.  I would imagine that
you would want to search on "half-baked" and not "half AND baked".

> Regards
> Daniel
> 
> --
> http://www.danielnaber.de
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 13:10:56 2004
Return-Path: 
 <lucene-user-return-11950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58813 invoked from network); 16 Dec 2004 13:10:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 13:10:56 -0000
Received: (qmail 74384 invoked by uid 500); 16 Dec 2004 13:10:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74356 invoked by uid 500); 16 Dec 2004 13:10:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74343 invoked by uid 99); 16 Dec 2004 13:10:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mta4.swift.com (HELO besec551.swift.com) (194.78.35.134)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 05:09:00 -0800
Received: from bemigl01.swift.com (bemigl01 [172.24.34.41])
	by besec551.swift.com (Switch-3.1.6/Switch-3.1.6) with ESMTP id
 iBGD7Zmi001589
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 13:07:35 GMT
Date: Thu, 16 Dec 2004 14:08:35 +0100
From: RADEMAKERS Tanguy <Tanguy.RADEMAKERS@swift.com>
Subject: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
To: lucene-user@jakarta.apache.org
Message-id: <A104E3221121294998E6441F8F291A4DA40B5B@BE-EXCHANGE-02.swift.corp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6556.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
Thread-Index: AcTjcFjtXCYr7/onREiJShwYkAx1mw==
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2004 13:08:34.0982 (UTC)
 FILETIME=[5973CC60:01C4E370]
X-MASF: 0.00%
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hail Listoids!

I just started investigating lucene. I downloaded lucene-1.4.3-src.zip,
unzipped and built with ant, but i get some strange results:

D:\scrap\java\lucene\lucene-1.4.3>ant
Buildfile: build.xml

init:
    [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\build
    [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\dist

compile-core:
    [mkdir] Created dir:
D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
    [javac] Compiling 160 source files to
D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
     [rmic] RMI Compiling 1 class to
D:\scrap\java\lucene\lucene-1.4.3\build\classes\java

jar-core:
      [jar] Building jar:
D:\scrap\java\lucene\lucene-1.4.3\build\lucene-1.5-rc1-dev.jar
------------------------------------------------------------------^^^^^^
^^^^^^^^^^^^^^^^
default:

BUILD SUCCESSFUL
Total time: 19 seconds


likewise the jar-demo target yields lucene-demos-1.5-rc1-dev.jar.

Maybe i'm confused, but i was kind of expecting lucene-1.4.3.jar

I will freely admit that i could have STFW a *bit* more before sending
this. If i have erred, smack me with a cluestick.

/t


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 13:27:31 2004
Return-Path: 
 <lucene-user-return-11951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69760 invoked from network); 16 Dec 2004 13:27:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 13:27:31 -0000
Received: (qmail 5783 invoked by uid 500); 16 Dec 2004 13:27:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5758 invoked by uid 500); 16 Dec 2004 13:27:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5743 invoked by uid 99); 16 Dec 2004 13:27:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 05:25:39 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 24C661F53D6
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 08:25:21 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12090-08 for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 08:25:20 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id C4B541F5218
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 08:25:20 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEFGCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKMEFGCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F164A3F0-4F65-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 08:25:24 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 16, 2004, at 7:17 AM, Karthik N S wrote:
> We have to get the All the Hits int the Range ,
>
>    So  0.99 cents IS & ALWAYS be 0.99 cents  on which we do the price
> Comaprison from consumer point of view .
>
>
> I hope  I have answered u'r Question


No, in fact, you have not.  If you want to continue to receive my help 
here, you need to provide *details*.  You pose often ambiguous and hard 
to decipher questions.  Please help us help you by answering the 
questions we ask precisely.  What are the values (exact string values) 
in that field?  Please also read the wiki page on indexing numeric 
values.

Look at using the new RangeFilter rather than a RangeQuery due to the 
noted issues with doing a RangeQuery.

	Erik


>
>
> With regards
> Karthik
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, December 16, 2004 5:24 PM
> To: Lucene Users List
> Subject: Re: NUMERIC RANGE BOOLEAN
>
>
> On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
>> Erik Hatcher writes:
>>
>>> TooManyClauses exception occurs when a query such as a RangeQuery
>>> expands to more than 1024 terms.  I don't see how this could be the
>>> case in the query you provided - are you certain that is the query
>>> that
>>> generated the error?
>>>
>> Why not: the terms might be 00000003 00000003.1 00000003.11 ...
>>
>> So the question is, how do his terms look like...
>
> Ah, good point! So, Karthik - what are are the values of those terms?
>
> Pragmatically, do you really need to do a range involving the cents of
> a price?
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 14:53:58 2004
Return-Path: 
 <lucene-user-return-11953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34905 invoked from network); 16 Dec 2004 14:53:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 14:53:58 -0000
Received: (qmail 228 invoked by uid 500); 16 Dec 2004 14:53:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 206 invoked by uid 500); 16 Dec 2004 14:53:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 190 invoked by uid 99); 16 Dec 2004 14:53:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 06:51:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 4D40E1C278
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 08:28:17 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 20199-05 for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 08:28:17 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 0184A1C096
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 08:28:16 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: 
 <A104E3221121294998E6441F8F291A4DA40B5B@BE-EXCHANGE-02.swift.corp>
References: <A104E3221121294998E6441F8F291A4DA40B5B@BE-EXCHANGE-02.swift.corp>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5A5AB4D8-4F66-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
Date: Thu, 16 Dec 2004 08:28:20 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You have not erred.  The build file has a version property set to  
1.5-rc1-dev.  If you want the JAR named something different, either  
rename it after it is built or change the Ant property (using the -D  
switch to ant).

Maybe our source distributions should have the right version built-in,  
though it is currently intentional (I believe) - if you really want the  
exact lucene-1.4.3.jar, simply download the binary distribution  
instead.

	Erik




On Dec 16, 2004, at 8:08 AM, RADEMAKERS Tanguy wrote:

> Hail Listoids!
>
> I just started investigating lucene. I downloaded lucene-1.4.3-src.zip,
> unzipped and built with ant, but i get some strange results:
>
> D:\scrap\java\lucene\lucene-1.4.3>ant
> Buildfile: build.xml
>
> init:
>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\build
>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\dist
>
> compile-core:
>     [mkdir] Created dir:
> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>     [javac] Compiling 160 source files to
> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>      [rmic] RMI Compiling 1 class to
> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>
> jar-core:
>       [jar] Building jar:
> D:\scrap\java\lucene\lucene-1.4.3\build\lucene-1.5-rc1-dev.jar
> ------------------------------------------------------------------ 
> ^^^^^^
> ^^^^^^^^^^^^^^^^
> default:
>
> BUILD SUCCESSFUL
> Total time: 19 seconds
>
>
> likewise the jar-demo target yields lucene-demos-1.5-rc1-dev.jar.
>
> Maybe i'm confused, but i was kind of expecting lucene-1.4.3.jar
>
> I will freely admit that i could have STFW a *bit* more before sending
> this. If i have erred, smack me with a cluestick.
>
> /t
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 13:37:51 2004
Return-Path: 
 <lucene-user-return-11952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76050 invoked from network); 16 Dec 2004 13:37:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 13:37:51 -0000
Received: (qmail 29262 invoked by uid 500); 16 Dec 2004 13:37:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29239 invoked by uid 500); 16 Dec 2004 13:37:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29222 invoked by uid 99); 16 Dec 2004 13:37:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 05:35:55 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id iBGDYrf12971
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 07:34:53 -0600
Message-ID: <41C18EFA.4060703@getopt.org>
Date: Thu, 16 Dec 2004 14:34:50 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Aramorph Analyzer
References: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
Content-Type: text/plain; charset=windows-1256; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Safarnejad, Ali (AFIS) wrote:
> Actually, one thing worth mentioning about the search, is when searching for
> whole phrases, if there is any ambiguous words in the phrase, then the Search
> fails to find the document, even if the phrase was copied and pasted from the
> original document.
> So for example, I have a document containing this phrase: ���������� ��������
> �������
> The first two words only have one stem, but the last word has two stems:
> munaZ~im AND munaZ~am,
> So the entire search query becomes: "Al>jh___zp riyAsiy~ munaZ~im munaZ~am"
> Which fails to find any matching documents.
> Whereas, a search for "Al>jh___zp riyAsiy~" would succeed.
> Even placing the accent over the ZAH (�), will not disambiguate the search.
> Has anyone found a workaround for this?

Although my knowledge of Arabic is equal to zero, I suggest that you 
should see how your query looks like after it is parsed 
(Query.toString()), and then compare it to the terms that are actually 
stored in the index. There is a chance that you e.g. apply the stemmer 
twice by using incorrect analyzer, or don't add the stemmed terms to the 
index, or similar. I suggest using Luke (http://www.getopt.org/luke) to 
diagnose your problem - in the "Search" tab you can also view the final 
query terms.


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 14:55:53 2004
Return-Path: 
 <lucene-user-return-11954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38100 invoked from network); 16 Dec 2004 14:55:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 14:55:53 -0000
Received: (qmail 7211 invoked by uid 500); 16 Dec 2004 14:55:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7166 invoked by uid 500); 16 Dec 2004 14:55:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7108 invoked by uid 99); 16 Dec 2004 14:55:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Ali.Safarnejad@fao.org
 designates 168.202.2.12 as permitted sender)
Received: from pmdfint.fao.org (HELO smtpmail.fao.org) (168.202.2.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 06:53:56 -0800
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0I8T00801KLL7B@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 15:36:57 +0100 (MET)
Received: from hqfaoex02.hq.un.fao.org (hqfaoex02.fao.org [168.202.2.80])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0I8T006LEKLLZ8@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 15:36:57 +0100 (MET)
Received: from hqafex01.hq.un.fao.org ([168.202.2.52])
 by hqfaoex02.hq.un.fao.org with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 16 Dec 2004 15:37:17 +0100
Date: Thu, 16 Dec 2004 15:37:17 +0100
From: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: RE: Aramorph Analyzer
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <B978AA198CB86D488F88454BE7CA796C18AB8C@hqafex01.fao.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=windows-1256
Content-transfer-encoding: BASE64
Thread-Topic: Aramorph Analyzer
Thread-Index: AcTjdV1iUlcA1O3uTOOSnD26ryZcSQABmY1A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2004 14:37:17.0384 (UTC)
 FILETIME=[BDD9E480:01C4E37C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

VGhlIFNlYXJjaCBxdWVyeSwgYXMgSSBtZW50aW9uZWQgaW4gbXkgcHJldmlvdXMg
ZW1haWwsIGxvb2tzIGxpa2UgdGhpczoNCiJBbD5qaF9fX3pwIHJpeUFzaXl+IG11
bmFafmltIG11bmFafmFtIg0KSW4gZmFjdCwgYWxsIHRoZSBpbmRpdmlkdWFsIHdv
cmRzIGFyZSBpbiB0aGUgaW5kZXgsIGhvd2V2ZXIsIHRoZSBjb21wbGV0ZQ0KcGhy
YXNlLCBpbiBkb3VibGUgInF1b3V0ZXMiLCBkb2VzIG5vdCBtYXRjaC4gIE5laXRo
ZXIgZG9lcyBhbnkgb3RoZXIgcGhyYXNlDQp0aGF0IGNvbnRhaW5zIGFtYmlndW91
cyBzdGVtcy4gQW5kIHRoYXQncyB0aGUgcHJvYmxlbS4NCg0KDQoNCi0tLS0tT3Jp
Z2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBBbmRyemVqIEJpYWxlY2tpIFttYWls
dG86YWJAZ2V0b3B0Lm9yZ10gDQpTZW50OiAxNiBEZWNlbWJlciAyMDA0IDE0OjM1
DQpUbzogTHVjZW5lIFVzZXJzIExpc3QNClN1YmplY3Q6IFJlOiBBcmFtb3JwaCBB
bmFseXplcg0KDQoNClNhZmFybmVqYWQsIEFsaSAoQUZJUykgd3JvdGU6DQo+IEFj
dHVhbGx5LCBvbmUgdGhpbmcgd29ydGggbWVudGlvbmluZyBhYm91dCB0aGUgc2Vh
cmNoLCBpcyB3aGVuIA0KPiBzZWFyY2hpbmcgZm9yIHdob2xlIHBocmFzZXMsIGlm
IHRoZXJlIGlzIGFueSBhbWJpZ3VvdXMgd29yZHMgaW4gdGhlIA0KPiBwaHJhc2Us
IHRoZW4gdGhlIFNlYXJjaCBmYWlscyB0byBmaW5kIHRoZSBkb2N1bWVudCwgZXZl
biBpZiB0aGUgcGhyYXNlIA0KPiB3YXMgY29waWVkIGFuZCBwYXN0ZWQgZnJvbSB0
aGUgb3JpZ2luYWwgZG9jdW1lbnQuIFNvIGZvciBleGFtcGxlLCBJIA0KPiBoYXZl
IGEgZG9jdW1lbnQgY29udGFpbmluZyB0aGlzIHBocmFzZTogx+HDzOXc3NzSySDH
4dHtx9PtySDh4ePk2ePJDQo+IFRoZSBmaXJzdCB0d28gd29yZHMgb25seSBoYXZl
IG9uZSBzdGVtLCBidXQgdGhlIGxhc3Qgd29yZCBoYXMgdHdvIHN0ZW1zOg0KPiBt
dW5hWn5pbSBBTkQgbXVuYVp+YW0sDQo+IFNvIHRoZSBlbnRpcmUgc2VhcmNoIHF1
ZXJ5IGJlY29tZXM6ICJBbD5qaF9fX3pwIHJpeUFzaXl+IG11bmFafmltIG11bmFa
fmFtIg0KPiBXaGljaCBmYWlscyB0byBmaW5kIGFueSBtYXRjaGluZyBkb2N1bWVu
dHMuDQo+IFdoZXJlYXMsIGEgc2VhcmNoIGZvciAiQWw+amhfX196cCByaXlBc2l5
fiIgd291bGQgc3VjY2VlZC4NCj4gRXZlbiBwbGFjaW5nIHRoZSBhY2NlbnQgb3Zl
ciB0aGUgWkFIICjZKSwgd2lsbCBub3QgZGlzYW1iaWd1YXRlIHRoZSBzZWFyY2gu
DQo+IEhhcyBhbnlvbmUgZm91bmQgYSB3b3JrYXJvdW5kIGZvciB0aGlzPw0KDQpB
bHRob3VnaCBteSBrbm93bGVkZ2Ugb2YgQXJhYmljIGlzIGVxdWFsIHRvIHplcm8s
IEkgc3VnZ2VzdCB0aGF0IHlvdSANCnNob3VsZCBzZWUgaG93IHlvdXIgcXVlcnkg
bG9va3MgbGlrZSBhZnRlciBpdCBpcyBwYXJzZWQgDQooUXVlcnkudG9TdHJpbmco
KSksIGFuZCB0aGVuIGNvbXBhcmUgaXQgdG8gdGhlIHRlcm1zIHRoYXQgYXJlIGFj
dHVhbGx5IA0Kc3RvcmVkIGluIHRoZSBpbmRleC4gVGhlcmUgaXMgYSBjaGFuY2Ug
dGhhdCB5b3UgZS5nLiBhcHBseSB0aGUgc3RlbW1lciANCnR3aWNlIGJ5IHVzaW5n
IGluY29ycmVjdCBhbmFseXplciwgb3IgZG9uJ3QgYWRkIHRoZSBzdGVtbWVkIHRl
cm1zIHRvIHRoZSANCmluZGV4LCBvciBzaW1pbGFyLiBJIHN1Z2dlc3QgdXNpbmcg
THVrZSAoaHR0cDovL3d3dy5nZXRvcHQub3JnL2x1a2UpIHRvIA0KZGlhZ25vc2Ug
eW91ciBwcm9ibGVtIC0gaW4gdGhlICJTZWFyY2giIHRhYiB5b3UgY2FuIGFsc28g
dmlldyB0aGUgZmluYWwgDQpxdWVyeSB0ZXJtcy4NCg0KDQotLSANCkJlc3QgcmVn
YXJkcywNCkFuZHJ6ZWogQmlhbGVja2kNCiAgX19fLiBfX18gX19fIF9fXyBfIF8g
ICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQpbX18gfHwgX198
X18vfF9ffHxcL3wgIEluZm9ybWF0aW9uIFJldHJpZXZhbCwgU2VtYW50aWMgV2Vi
IF9fX3x8fF9ffHwgIFx8ICB8fA0KfCAgRW1iZWRkZWQgVW5peCwgU3lzdGVtIElu
dGVncmF0aW9uIGh0dHA6Ly93d3cuc2lncmFtLmNvbSAgQ29udGFjdDogaW5mbyBh
dA0Kc2lncmFtIGRvdCBjb20NCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGph
a2FydGEuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFp
bDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCg0K


From MAILER-DAEMON Thu Dec 16 16:23:06 2004
Return-Path: 
 <lucene-user-return-11957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90832 invoked from network); 16 Dec 2004 16:23:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 16:23:06 -0000
Received: (qmail 40767 invoked by uid 500); 16 Dec 2004 16:23:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40737 invoked by uid 500); 16 Dec 2004 16:23:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40724 invoked by uid 99); 16 Dec 2004 16:23:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutng.kundenserver.de (HELO moutng.kundenserver.de)
 (212.227.126.184)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 08:21:04 -0800
Received: from [212.227.126.161] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1CexDO-00087n-00
	for lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 16:06:50 +0100
Received: from [82.135.15.246] (helo=voodoo.federation.net)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1CexDO-0002lJ-00
	for lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 16:06:50 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Aramorph Analyzer
Date: Thu, 16 Dec 2004 16:06:49 +0100
User-Agent: KMail/1.7.1
References: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="windows-1256"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412161606.49800.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de
 auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 16 December 2004 11:59, Safarnejad, Ali (AFIS) wrote:

> Actually, one thing worth mentioning about the search, is when searching
> for whole phrases, if there is any ambiguous words in the phrase, then the
> Search fails to find the document, even if the phrase was copied and pasted
> from the original document.

Analyzers that provide ambiguous terms (i.e. a token with more than one term 
at the same position) don't work in Lucene 1.4. This feature has only 
recently been added to CVS. The workaround would be to backport that change.

Regards
 Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 15:15:27 2004
Return-Path: 
 <lucene-user-return-11955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49262 invoked from network); 16 Dec 2004 15:15:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 15:15:27 -0000
Received: (qmail 52408 invoked by uid 500); 16 Dec 2004 15:15:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52369 invoked by uid 500); 16 Dec 2004 15:15:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52333 invoked by uid 99); 16 Dec 2004 15:15:22 -0000
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com
 designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 07:14:07 -0800
Received: by rproxy.gmail.com with SMTP id a36so1634082rnf
        for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 07:13:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=G5Go/cnxPZVAGQHwmsa+IF1V1+0UflDgE6/mGxK+AmYrzY/2nB3Jae3c8HLlwFvZIbssFxQP4QIP9KeNX5EZWO9gbMKGSLDn9Q8sgWqVGW6uO/g52x2bP4buNJUrgjACRsck+lZ3YYgojT91vcJvylbhPMak1YE/k4SUqDZxhno=
Received: by 10.38.163.80 with SMTP id l80mr620537rne;
        Thu, 16 Dec 2004 07:13:44 -0800 (PST)
Received: by 10.38.209.23 with HTTP; Thu, 16 Dec 2004 07:13:44 -0800 (PST)
Message-ID: <8837fb77041216071329dfba31@mail.gmail.com>
Date: Thu, 16 Dec 2004 07:13:44 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Remotely Index
In-Reply-To: <004901c4e35b$4eebc5a0$8714a8c0@ssl>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <004901c4e35b$4eebc5a0$8714a8c0@ssl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

one way is to create a reader from a URL to your file:

(Assuming the file is hosted somewhere reachable by an URL)

Reader r=new InputStreamReader(url.getInputStream());

Document doc=new Document();
doc.addField(Field.Keyword("url",url.toString()));
doc.addField(Field.Text("contents",r));

iw.addDocument(doc);


-John


On Thu, 16 Dec 2004 16:07:57 +0530, Natarajan.T
<natarajant@crimsonlogic.co.in> wrote:
> Hi All,
> 
> How to Index remotely?
> 
> For example I have a some documents in machine A and lucene Indexing and
> searching server in machine B.
> 
> How can do Index...
> 
> Regards,
> 
> Natarajan.
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 16:17:01 2004
Return-Path: 
 <lucene-user-return-11956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84662 invoked from network); 16 Dec 2004 16:17:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 16:17:01 -0000
Received: (qmail 21683 invoked by uid 500); 16 Dec 2004 16:16:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21650 invoked by uid 500); 16 Dec 2004 16:16:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21616 invoked by uid 99); 16 Dec 2004 16:16:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mta4.swift.com (HELO besec551.swift.com) (194.78.35.134)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 08:15:06 -0800
Received: from bemigl01.swift.com (bemigl01 [172.24.34.41])
	by besec551.swift.com (Switch-3.1.6/Switch-3.1.6) with ESMTP id
 iBGGAurA026683
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 16:10:56 GMT
Date: Thu, 16 Dec 2004 17:11:55 +0100
From: RADEMAKERS Tanguy <Tanguy.RADEMAKERS@swift.com>
Subject: RE: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <A104E3221121294998E6441F8F291A4DA40C0B@BE-EXCHANGE-02.swift.corp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6556.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
Thread-Index: AcTjfyYDR5UJrn5UTp2YrMZ35a3T8AAAxpOw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2004 16:11:55.0365 (UTC)
 FILETIME=[F6310950:01C4E389]
X-MASF: 0.00%
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Thank you for your answer. I unpacked my home built
lucene-1.5-rc1-dev.jar and the binary download lucene-1.4.3.jar and ran
WinMerge over them (it can tell if binary files are different) -
results: the only differences are in the MANIFEST.MF file and they are
pretty minimal. Just out of curiosity: what is the reasoning behind this
setup? 

/t

>-----Original Message-----
>From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
>Sent: Thursday, December 16, 2004 2:28 PM
>To: Lucene Users List
>Subject: Re: building lucene-1.4.3 from source yields 
>lucene-1.5-rc1-dev.jar?
>
>You have not erred.  The build file has a version property set to  
>1.5-rc1-dev.  If you want the JAR named something different, either  
>rename it after it is built or change the Ant property (using the -D  
>switch to ant).
>
>Maybe our source distributions should have the right version 
>built-in,  
>though it is currently intentional (I believe) - if you really 
>want the  
>exact lucene-1.4.3.jar, simply download the binary distribution  
>instead.
>
>	Erik
>
>
>
>
>On Dec 16, 2004, at 8:08 AM, RADEMAKERS Tanguy wrote:
>
>> Hail Listoids!
>>
>> I just started investigating lucene. I downloaded 
>lucene-1.4.3-src.zip,
>> unzipped and built with ant, but i get some strange results:
>>
>> D:\scrap\java\lucene\lucene-1.4.3>ant
>> Buildfile: build.xml
>>
>> init:
>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\build
>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\dist
>>
>> compile-core:
>>     [mkdir] Created dir:
>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>     [javac] Compiling 160 source files to
>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>      [rmic] RMI Compiling 1 class to
>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>
>> jar-core:
>>       [jar] Building jar:
>> D:\scrap\java\lucene\lucene-1.4.3\build\lucene-1.5-rc1-dev.jar
>> ------------------------------------------------------------------ 
>> ^^^^^^
>> ^^^^^^^^^^^^^^^^
>> default:
>>
>> BUILD SUCCESSFUL
>> Total time: 19 seconds
>>
>>
>> likewise the jar-demo target yields lucene-demos-1.5-rc1-dev.jar.
>>
>> Maybe i'm confused, but i was kind of expecting lucene-1.4.3.jar
>>
>> I will freely admit that i could have STFW a *bit* more 
>before sending
>> this. If i have erred, smack me with a cluestick.
>>
>> /t
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 16:29:16 2004
Return-Path: 
 <lucene-user-return-11958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95065 invoked from network); 16 Dec 2004 16:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 16:29:16 -0000
Received: (qmail 68745 invoked by uid 500); 16 Dec 2004 16:29:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68719 invoked by uid 500); 16 Dec 2004 16:29:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68705 invoked by uid 99); 16 Dec 2004 16:29:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ms-smtp-02.texas.rr.com (HELO ms-smtp-02-eri0.texas.rr.com)
 (24.93.47.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 08:26:54 -0800
Received: from dell8200r (cs6668175-245.austin.rr.com [66.68.175.245])
	by ms-smtp-02-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id iBGGQN8H012350
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 10:26:26 -0600 (CST)
From: "Rony Kahan" <rony@austin.rr.com>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene appreciation
Date: Thu, 16 Dec 2004 10:26:22 -0600
Message-ID: <002301c4e38b$fada3420$0402a8c0@dell8200r>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello fellow Lucene users,

I'd like to introduce myself and say thanks. We've recently launched
http://www.indeed.com, a search engine for jobs based on Lucene.  I'm
consistently impressed with the quality, professionalism and support of =
the
Lucene project and the Lucene community. This mailing list has been a =
great
help. I'd also like to give mention to some of the consultants who had a =
big
hand in making our project a reality ... Thank you Otis, Aviran, Sergiu =
&
Dawid.

As for our project, we're in beta and would love to get your feedback. =
The
index size is currently ~1.8m jobs. My personal email address is rony =
a_t
indeed.com. If you are interested in Lucene work you can set up an rss =
feed
or email alert from here: =
http://www.indeed.com/search?q=3Dlucene&sort=3Ddate=20

Is it possible to be added to the Wiki Powered By page?

Thanks Everyone,
Rony


Indeed.com - one search. all Jobs.
http://www.indeed.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 17:06:28 2004
Return-Path: 
 <lucene-user-return-11960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24023 invoked from network); 16 Dec 2004 17:06:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 17:06:28 -0000
Received: (qmail 14913 invoked by uid 500); 16 Dec 2004 17:06:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14886 invoked by uid 500); 16 Dec 2004 17:06:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14867 invoked by uid 99); 16 Dec 2004 17:06:21 -0000
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 09:05:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 0701A1C33D
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:33:48 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 29277-03 for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 11:33:47 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 7ACBC1C3A9
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:33:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: 
 <A104E3221121294998E6441F8F291A4DA40C0B@BE-EXCHANGE-02.swift.corp>
References: <A104E3221121294998E6441F8F291A4DA40C0B@BE-EXCHANGE-02.swift.corp>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <42D35644-4F80-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
Date: Thu, 16 Dec 2004 11:33:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The rationale, or at least the one I'm making up right now, is that if 
you pull down the source distribution, modify some files, and build it, 
you are now most definitely *not* using Lucene 1.4.3.  It would be 
confusing to those of us supporting Lucene to get a bug report for 
1.4.3 when it is really a custom forked version.

	Erik

On Dec 16, 2004, at 11:11 AM, RADEMAKERS Tanguy wrote:

> Erik,
>
> Thank you for your answer. I unpacked my home built
> lucene-1.5-rc1-dev.jar and the binary download lucene-1.4.3.jar and ran
> WinMerge over them (it can tell if binary files are different) -
> results: the only differences are in the MANIFEST.MF file and they are
> pretty minimal. Just out of curiosity: what is the reasoning behind 
> this
> setup?
>
> /t
>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Thursday, December 16, 2004 2:28 PM
>> To: Lucene Users List
>> Subject: Re: building lucene-1.4.3 from source yields
>> lucene-1.5-rc1-dev.jar?
>>
>> You have not erred.  The build file has a version property set to
>> 1.5-rc1-dev.  If you want the JAR named something different, either
>> rename it after it is built or change the Ant property (using the -D
>> switch to ant).
>>
>> Maybe our source distributions should have the right version
>> built-in,
>> though it is currently intentional (I believe) - if you really
>> want the
>> exact lucene-1.4.3.jar, simply download the binary distribution
>> instead.
>>
>> 	Erik
>>
>>
>>
>>
>> On Dec 16, 2004, at 8:08 AM, RADEMAKERS Tanguy wrote:
>>
>>> Hail Listoids!
>>>
>>> I just started investigating lucene. I downloaded
>> lucene-1.4.3-src.zip,
>>> unzipped and built with ant, but i get some strange results:
>>>
>>> D:\scrap\java\lucene\lucene-1.4.3>ant
>>> Buildfile: build.xml
>>>
>>> init:
>>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\build
>>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\dist
>>>
>>> compile-core:
>>>     [mkdir] Created dir:
>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>     [javac] Compiling 160 source files to
>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>      [rmic] RMI Compiling 1 class to
>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>
>>> jar-core:
>>>       [jar] Building jar:
>>> D:\scrap\java\lucene\lucene-1.4.3\build\lucene-1.5-rc1-dev.jar
>>> ------------------------------------------------------------------
>>> ^^^^^^
>>> ^^^^^^^^^^^^^^^^
>>> default:
>>>
>>> BUILD SUCCESSFUL
>>> Total time: 19 seconds
>>>
>>>
>>> likewise the jar-demo target yields lucene-demos-1.5-rc1-dev.jar.
>>>
>>> Maybe i'm confused, but i was kind of expecting lucene-1.4.3.jar
>>>
>>> I will freely admit that i could have STFW a *bit* more
>> before sending
>>> this. If i have erred, smack me with a cluestick.
>>>
>>> /t
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 16:40:42 2004
Return-Path: 
 <lucene-user-return-11959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3161 invoked from network); 16 Dec 2004 16:40:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 16:40:42 -0000
Received: (qmail 42364 invoked by uid 500); 16 Dec 2004 16:40:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42289 invoked by uid 500); 16 Dec 2004 16:40:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42163 invoked by uid 99); 16 Dec 2004 16:40:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu)
 (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 08:38:50 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 25A041F5437
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:38:20 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 31322-03 for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 11:38:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id DE7001F5408
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 11:38:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <002301c4e38b$fada3420$0402a8c0@dell8200r>
References: <002301c4e38b$fada3420$0402a8c0@dell8200r>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E509B236-4F80-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene appreciation
Date: Thu, 16 Dec 2004 11:38:20 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Rony - nice work!  I subscribed to an alert already.

The wiki is self-serve, just log in and add yourself.

	Erik


On Dec 16, 2004, at 11:26 AM, Rony Kahan wrote:
> I'd like to introduce myself and say thanks. We've recently launched
> http://www.indeed.com, a search engine for jobs based on Lucene.  I'm
> consistently impressed with the quality, professionalism and support 
> of the
> Lucene project and the Lucene community. This mailing list has been a 
> great
> help. I'd also like to give mention to some of the consultants who had 
> a big
> hand in making our project a reality ... Thank you Otis, Aviran, 
> Sergiu &
> Dawid.
>
> As for our project, we're in beta and would love to get your feedback. 
> The
> index size is currently ~1.8m jobs. My personal email address is rony 
> a_t
> indeed.com. If you are interested in Lucene work you can set up an rss 
> feed
> or email alert from here: 
> http://www.indeed.com/search?q=lucene&sort=date
>
> Is it possible to be added to the Wiki Powered By page?
>
> Thanks Everyone,
> Rony
>
>
> Indeed.com - one search. all Jobs.
> http://www.indeed.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 18:20:19 2004
Return-Path: 
 <lucene-user-return-11961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72013 invoked from network); 16 Dec 2004 18:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 18:20:19 -0000
Received: (qmail 12895 invoked by uid 500); 16 Dec 2004 18:20:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12696 invoked by uid 500); 16 Dec 2004 18:20:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12666 invoked by uid 99); 16 Dec 2004 18:20:15 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rockridge.uits.indiana.edu (HELO rockridge.uits.indiana.edu)
 (129.79.1.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 10:18:27 -0800
Received: from geek.uits.indiana.edu (geek.uits.indiana.edu [129.79.1.95])
	by rockridge.uits.indiana.edu (8.12.10/8.12.10/IUPO) with ESMTP id
 iBGII2e0023394
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 13:18:02 -0500 (EST)
Received: (from nobody@localhost)
	by geek.uits.indiana.edu (8.12.10/8.12.10/IUPO) id iBGII2Iu015242
	for lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 13:18:02 -0500 (EST)
Received: from 149-159-131-147.dhcp-bl.indiana.edu
 (149-159-131-147.dhcp-bl.indiana.edu [149.159.131.147])
	by webmail.iu.edu (IMP) with HTTP
	for <yingjin@localhost>; Thu, 16 Dec 2004 13:18:02 -0500
Message-ID: <1103221082.41c1d15aae8cd@webmail.iu.edu>
Date: Thu, 16 Dec 2004 13:18:02 -0500
From: yingjin@indiana.edu
To: lucene-user@jakarta.apache.org
Subject: Disk space needed for indexing???
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 149.159.131.147
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi, everyone,

Does anyone have any idea how much disk space will be needed for
generating the final index with ~1.5G size, for example?

I have ~3.5G disk space and is able to generate index with 1G size.
However, after I add more records, it will run out of disk space. Does
Lucene suppose to take so much disk space for indexing? Is there any way
that I can improve the code to let it take less space?


Thanks,
Ying

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 18:38:20 2004
Return-Path: 
 <lucene-user-return-11962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90229 invoked from network); 16 Dec 2004 18:38:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 18:38:20 -0000
Received: (qmail 85644 invoked by uid 500); 16 Dec 2004 18:38:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85618 invoked by uid 500); 16 Dec 2004 18:38:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85603 invoked by uid 99); 16 Dec 2004 18:38:13 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12701.mail.yahoo.com (HELO web12701.mail.yahoo.com)
 (216.136.173.238)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 10:36:26 -0800
Received: (qmail 59437 invoked by uid 60001); 16 Dec 2004 18:35:26 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=SVMzTWhxqa/m8IWu88lG7PuujjS6f3Ul1JaWXFVJg9tIN2nlMmjWqipJpkuWW4F4orV7VVoxXlt8LL56Gd3NDhSHAlKwLkMFdqdWCKwC6vzag3n/hvETZ3LsWa5/VIpCWXL6DlwarHIsi5tHcooQASXUC9vhY4cOeIvLDE6dwsU=
  ;
Message-ID: <20041216183525.59432.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP;
 Thu, 16 Dec 2004 10:35:25 PST
Date: Thu, 16 Dec 2004 10:35:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Disk space needed for indexing???
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1103221082.41c1d15aae8cd@webmail.iu.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The exact disk space usage depends on the number of fields in the index
and on how many of them store the original text.  You should also keep
in mind that the call to IndexWriter's optimize() will result in your
index directory size doubling while the optimization is in progress, so
if you want to optimize you will need extra free disk space.

Otis


--- yingjin@indiana.edu wrote:

> 
> 
> Hi, everyone,
> 
> Does anyone have any idea how much disk space will be needed for
> generating the final index with ~1.5G size, for example?
> 
> I have ~3.5G disk space and is able to generate index with 1G size.
> However, after I add more records, it will run out of disk space.
> Does
> Lucene suppose to take so much disk space for indexing? Is there any
> way
> that I can improve the code to let it take less space?
> 
> 
> Thanks,
> Ying
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:11:09 2004
Return-Path: 
 <lucene-user-return-11973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5170 invoked from network); 17 Dec 2004 05:11:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:11:09 -0000
Received: (qmail 13225 invoked by uid 500); 17 Dec 2004 05:11:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13198 invoked by uid 500); 17 Dec 2004 05:10:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13184 invoked by uid 99); 17 Dec 2004 05:10:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-4.Sun.COM (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 21:10:00 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id iBGJ0fdx011559
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 12:00:44 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I8T00H01WS4OV@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 16 Dec 2004 11:00:43 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-188.SFBay.Sun.COM [129.146.41.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I8T00K96WSZ10@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 16 Dec 2004 11:00:40 -0800 (PST)
Date: Thu, 16 Dec 2004 11:00:27 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Indexing with Lucene 1.4.3
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41C1DB4B.7090705@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I have been trying to index around 6000 documents using IndexHTML from 
1.4.3 and at the end of indexing in my index directory I only have 3 files.
segments
deletable and
_5en.cfs

Can someone tell me what is going on and where are the actual index 
files? How can I resolve this issue?
Thanks.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 19:04:55 2004
Return-Path: 
 <lucene-user-return-11963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7218 invoked from network); 16 Dec 2004 19:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 19:04:55 -0000
Received: (qmail 54468 invoked by uid 500); 16 Dec 2004 19:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54432 invoked by uid 500); 16 Dec 2004 19:04:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54412 invoked by uid 99); 16 Dec 2004 19:04:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout01.sul.t-online.com (HELO mailout01.sul.t-online.com)
 (194.25.134.80)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 11:02:42 -0800
Received: from fwd06.aul.t-online.de
	by mailout01.sul.t-online.com with smtp
	id 1Cf0tA-00067P-02; Thu, 16 Dec 2004 20:02:12 +0100
Received: from pD9EBF54B.dip.t-dialin.net
 (VgILNBZ-YeICypv6MfW-czTEK6kf+tRFKoxkGf2iSRxUp+F4Opiyrc@[217.235.245.75]) by
 fmrl06.sul.t-online.com
	with esmtp id 1Cf0su-22XWNM0; Thu, 16 Dec 2004 20:01:56 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
Date: Thu, 16 Dec 2004 20:03:27 +0100
User-Agent: KMail/1.7.1
References: <95fd5e14041215102980a215b@mail.gmail.com>
 <200412152149.48662@danielnaber.de>
 <95fd5e1404121604464303cb5@mail.gmail.com>
In-Reply-To: <95fd5e1404121604464303cb5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412162003.28028@danielnaber.de>
X-ID: VgILNBZ-YeICypv6MfW-czTEK6kf+tRFKoxkGf2iSRxUp+F4Opiyrc@t-dialin.net
X-TOI-MSGID: ca251c55-0647-4a30-9330-2d6091f82288
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 16 December 2004 13:46, Mike Snare wrote:

> > Maybe for "a-b", but what about English words like "half-baked"?
>
> Perhaps that's the difference in thinking, then. =C2=A0I would imagine th=
at
> you would want to search on "half-baked" and not "half AND baked".

A search for half-baked will find both half-baked and "half baked" (the=20
phrase). The only thing you'll not find if halfbaked.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 23:00:08 2004
Return-Path: 
 <lucene-user-return-11968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64481 invoked from network); 16 Dec 2004 23:00:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 23:00:08 -0000
Received: (qmail 11523 invoked by uid 500); 16 Dec 2004 23:00:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11356 invoked by uid 500); 16 Dec 2004 23:00:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11339 invoked by uid 99); 16 Dec 2004 23:00:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 14:58:19 -0800
Received: by wproxy.gmail.com with SMTP id 57so72540wri
        for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 14:57:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=RzvVRzcekO/5/fobuyjvm2EZvpaUeKyJfhGzas2LVdnGtDTf785Wpul8K91Cxui2ksJT1hHrSasbrywG4jrpSmarX5uBfyjpUreBsrOYmaWs0/YVpLBflCNIPgFpqh9oCbBnnVoRkrljBkk34Lnae5KCIfYH6oSND8938yAR8C0=
Received: by 10.54.40.65 with SMTP id n65mr1234235wrn;
        Thu, 16 Dec 2004 12:05:21 -0800 (PST)
Received: by 10.54.38.78 with HTTP; Thu, 16 Dec 2004 12:05:21 -0800 (PST)
Message-ID: <95fd5e1404121612052f266a3d@mail.gmail.com>
Date: Thu, 16 Dec 2004 15:05:21 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
In-Reply-To: <200412162003.28028@danielnaber.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <95fd5e14041215102980a215b@mail.gmail.com>
	 <200412152149.48662@danielnaber.de>
	 <95fd5e1404121604464303cb5@mail.gmail.com>
	 <200412162003.28028@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Absolutely, but -- correct me if I'm wrong -- it would give no higher
ranking to half-baked and would take a good deal longer on large
indices.


On Thu, 16 Dec 2004 20:03:27 +0100, Daniel Naber
<daniel.naber@t-online.de> wrote:
> On Thursday 16 December 2004 13:46, Mike Snare wrote:
> 
> > > Maybe for "a-b", but what about English words like "half-baked"?
> >
> > Perhaps that's the difference in thinking, then.  I would imagine that
> > you would want to search on "half-baked" and not "half AND baked".
> 
> A search for half-baked will find both half-baked and "half baked" (the
> phrase). The only thing you'll not find if halfbaked.
> 
> Regards
>  Daniel
> 
> --
> http://www.danielnaber.de
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 22:17:15 2004
Return-Path: 
 <lucene-user-return-11965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37565 invoked from network); 16 Dec 2004 22:17:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 22:17:15 -0000
Received: (qmail 21056 invoked by uid 500); 16 Dec 2004 22:17:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20988 invoked by uid 500); 16 Dec 2004 22:17:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20975 invoked by uid 99); 16 Dec 2004 22:17:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com
 designates 64.233.184.196 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 14:15:10 -0800
Received: by wproxy.gmail.com with SMTP id 69so319303wra
        for <lucene-user@jakarta.apache.org>;
 Thu, 16 Dec 2004 14:14:50 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=h1QRARXfCRsJm3kTVRPHXzbW+RT3prEby522hDeIBmxPXySXyczMWpgAqLU8vhZhmZlrcwWnaD08WK/eb9+NiP87Al4UMAquwRmO7ttoQvzWxM43Mmjoeo51uVg7hZRUtEjLgAa9wBGPzwxUy1J37akjk54KCVlBni6zIkb7GBU=
Received: by 10.54.30.3 with SMTP id d3mr1249177wrd;
        Thu, 16 Dec 2004 14:14:50 -0800 (PST)
Received: by 10.54.23.25 with HTTP; Thu, 16 Dec 2004 14:14:49 -0800 (PST)
Message-ID: <5f4a64610412161414670b0816@mail.gmail.com>
Date: Fri, 17 Dec 2004 09:14:49 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene appreciation
In-Reply-To: <E509B236-4F80-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <002301c4e38b$fada3420$0402a8c0@dell8200r>
	 <E509B236-4F80-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Rony

Very impressive. Is it possible for you to provide some information
about the technology behind it? Like how do you craw other job sites
and how often you do it. Do you use any other open source software and
what are they?

I think you should clean up the data in the "Recent Searches" area, it
doesn't make sense for me to see:

company%3Amicrosoft

It does make sense if you display:

company:microsoft

Cheers,
Ben


On Thu, 16 Dec 2004 11:38:20 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> Rony - nice work!  I subscribed to an alert already.
> 
> The wiki is self-serve, just log in and add yourself.
> 
>         Erik
> 
> 
> On Dec 16, 2004, at 11:26 AM, Rony Kahan wrote:
> > I'd like to introduce myself and say thanks. We've recently launched
> > http://www.indeed.com, a search engine for jobs based on Lucene.  I'm
> > consistently impressed with the quality, professionalism and support
> > of the
> > Lucene project and the Lucene community. This mailing list has been a
> > great
> > help. I'd also like to give mention to some of the consultants who had
> > a big
> > hand in making our project a reality ... Thank you Otis, Aviran,
> > Sergiu &
> > Dawid.
> >
> > As for our project, we're in beta and would love to get your feedback.
> > The
> > index size is currently ~1.8m jobs. My personal email address is rony
> > a_t
> > indeed.com. If you are interested in Lucene work you can set up an rss
> > feed
> > or email alert from here:
> > http://www.indeed.com/search?q=lucene&sort=date
> >
> > Is it possible to be added to the Wiki Powered By page?
> >
> > Thanks Everyone,
> > Rony
> >
> >
> > Indeed.com - one search. all Jobs.
> > http://www.indeed.com
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 22:22:36 2004
Return-Path: 
 <lucene-user-return-11966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41494 invoked from network); 16 Dec 2004 22:22:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 22:22:36 -0000
Received: (qmail 33242 invoked by uid 500); 16 Dec 2004 22:22:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33215 invoked by uid 500); 16 Dec 2004 22:22:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33202 invoked by uid 99); 16 Dec 2004 22:22:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 14:20:36 -0800
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ;
 Thu, 16 Dec 2004 17:17:39 -0500
Message-ID: <37be01c4e3bd$0dba8c30$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002301c4e38b$fada3420$0402a8c0@dell8200r>
Subject: Re: Lucene appreciation
Date: Thu, 16 Dec 2004 17:17:39 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The product looks great. Are you separately indexing by reading info from 
all the sites or just issuing federated search to all job sites? I am 
impressed by the speed. Its surely fater than dice and all other job search 
sites. I understand its in beta version but adding an advanced search option 
would help the users a lot. Just a suggestion....

Praveen

----- Original Message ----- 
From: "Rony Kahan" <rony@austin.rr.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, December 16, 2004 11:26 AM
Subject: Lucene appreciation



Hello fellow Lucene users,

I'd like to introduce myself and say thanks. We've recently launched
http://www.indeed.com, a search engine for jobs based on Lucene.  I'm
consistently impressed with the quality, professionalism and support of the
Lucene project and the Lucene community. This mailing list has been a great
help. I'd also like to give mention to some of the consultants who had a big
hand in making our project a reality ... Thank you Otis, Aviran, Sergiu &
Dawid.

As for our project, we're in beta and would love to get your feedback. The
index size is currently ~1.8m jobs. My personal email address is rony a_t
indeed.com. If you are interested in Lucene work you can set up an rss feed
or email alert from here: http://www.indeed.com/search?q=lucene&sort=date

Is it possible to be added to the Wiki Powered By page?

Thanks Everyone,
Rony


Indeed.com - one search. all Jobs.
http://www.indeed.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 22:31:03 2004
Return-Path: 
 <lucene-user-return-11967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46646 invoked from network); 16 Dec 2004 22:31:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 22:31:03 -0000
Received: (qmail 51574 invoked by uid 500); 16 Dec 2004 22:31:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51550 invoked by uid 500); 16 Dec 2004 22:30:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51534 invoked by uid 99); 16 Dec 2004 22:30:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.47)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 14:29:07 -0800
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id iBGMSmX3027155
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 14:28:48 -0800 (PST)
Received: from [10.0.1.73] (adsl-84-226-33-19.adslplus.ch [84.226.33.19])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id iBGMShX0028911
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 14:28:47 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <002301c4e38b$fada3420$0402a8c0@dell8200r>
References: <002301c4e38b$fada3420$0402a8c0@dell8200r>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DB151AE5-4FB1-11D9-B5EF-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Lucene appreciation
Date: Thu, 16 Dec 2004 23:28:48 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 16, 2004, at 17:26, Rony Kahan wrote:

> If you are interested in Lucene work you can set up an rss feed
> or email alert from here: 
> http://www.indeed.com/search?q=lucene&sort=date

Looks great :)

One thing though, the web search returns 14 hits for the above query. 
Using the RSS feed only returns 4 of them. What gives?

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 16 23:30:40 2004
Return-Path: 
 <lucene-user-return-11969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83320 invoked from network); 16 Dec 2004 23:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Dec 2004 23:30:40 -0000
Received: (qmail 84138 invoked by uid 500); 16 Dec 2004 23:30:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84109 invoked by uid 500); 16 Dec 2004 23:30:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84095 invoked by uid 99); 16 Dec 2004 23:30:36 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com)
 (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 15:28:29 -0800
Received: (qmail 95115 invoked by uid 60001); 16 Dec 2004 23:28:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=eym5r3M9qmXOaEkoSNUk3UWqoFOQtSTeqBC9N2eRUV7dh8WJLA5B6I7E8nAtyu4uohTozcnbsZLalYcXR642XahN0S6bVLtxE56JNC8MSeRVcqxGVcNNR+tdFYPOa1qgSNw90KGrR3/aRpnzRRAV3XfkujJkWdOAqOp5ag1v5vk=
  ;
Message-ID: <20041216232813.95113.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Thu, 16 Dec 2004 15:28:13 PST
Date: Thu, 16 Dec 2004 15:28:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Why does the StandardTokenizer split hyphenated words?
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Mike Snare <mikesnare@gmail.com>
In-Reply-To: <95fd5e1404121612052f266a3d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

As Erik already said - that Analyzer is really there to get people
going quickly and as a 'does pretty good' Analyzer.  There is no
Analyzer that will work for everyone, and Analyzers are meant to be
custom-made.  It looks like you already got that figured out and have
your own Analyzer.

Otis

--- Mike Snare <mikesnare@gmail.com> wrote:

> Absolutely, but -- correct me if I'm wrong -- it would give no higher
> ranking to half-baked and would take a good deal longer on large
> indices.
> 
> 
> On Thu, 16 Dec 2004 20:03:27 +0100, Daniel Naber
> <daniel.naber@t-online.de> wrote:
> > On Thursday 16 December 2004 13:46, Mike Snare wrote:
> > 
> > > > Maybe for "a-b", but what about English words like
> "half-baked"?
> > >
> > > Perhaps that's the difference in thinking, then.  I would imagine
> that
> > > you would want to search on "half-baked" and not "half AND
> baked".
> > 
> > A search for half-baked will find both half-baked and "half baked"
> (the
> > phrase). The only thing you'll not find if halfbaked.
> > 
> > Regards
> >  Daniel
> > 
> > --
> > http://www.danielnaber.de
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 00:49:09 2004
Return-Path: 
 <lucene-user-return-11970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37919 invoked from network); 17 Dec 2004 00:49:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 00:49:09 -0000
Received: (qmail 57845 invoked by uid 500); 17 Dec 2004 00:49:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57803 invoked by uid 500); 17 Dec 2004 00:49:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57782 invoked by uid 99); 17 Dec 2004 00:49:04 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX,HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.mainstreamdata.com (HELO ns1.mainstreamdata.com)
 (209.63.42.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 16:47:18 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id BDE65727
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 17:07:57 -0700 (MST)
Received: from ns1.mainstreamdata.com ([127.0.0.1])
	by localhost (ns1 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 03213-09 for <lucene-user@jakarta.apache.org>;
	Thu, 16 Dec 2004 17:07:52 -0700 (MST)
Received: from slc-xchg1.slc.mainstreamdata.com
 (slc-xchg1.slc.mainstreamdata.com [10.7.11.32])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 9B26B59B
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 17:07:52 -0700 (MST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4E3CC.738E8570"
Subject: To Sort or not to Sort
Date: Thu, 16 Dec 2004 17:07:52 -0700
Message-ID: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: To Sort or not to Sort
Thread-Index: AcTjzHNsMpsZKeQmR9ShAqaJSum3Jg==
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at mainstreamdata.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E3CC.738E8570
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm hoping someone has an opinion (based on some experience) as to how I
might approach a design I'm doing with Lucene.

=20

In my application, users search for messages with Lucene.  Typically,
they are more interested in seeing their hits in date-order than in
relevance-order.  In reading my ebook copy of "Lucene in action" (wish
I'd had that a year ago), I find that one of the features added in 1.4
was the ability to ask for hits in an order based on a field.  It also
looks like adding the field necessary to get things by date order is
straight forward.

=20

But, for my browser-based application I think there is another
consideration.  Users will typically page through the messages 20-50 at
a time and often they will only look through the first few "pages" of
messages and then be done.  So, I think there are two possible designs.

=20

1.	Simply use the built-in lucene sort functionality, cache the hit
list and then page through the list.  Adv: looks pretty straight
forward, I write less code.  Dis: for searches that return a large
number of hits (having a search return several hundred to a few thousand
hits is not uncommon), Lucene is sorting a lot of entries that don't
really need to be sorted (because the user will never look at them) and
sorting tends to be expensive.
2.	The other solution uses a priority heap to collect the top N (or
next N) entries.  I still have to walk the entire hit list, but keeping
entries in a priority heap means I can determine the N entries I need
with a few comparisons and minimal sorting.  I don't have to sort a
bunch of entries whose order I don't care about.  Additionally, I don't
have to have all of the entries in memory at one time.  The big
disadvantage with this is that I have to write more code.  However, it
may be worth it if the performance difference is large enough.=20

=20

This may be one of those questions where the only answer is "code it
both ways and do speed trials".  I was just wondering if anyone had
enough experience with either method to offer an opinion.  Are there
things the Lucene sort is doing "under the covers" that will make it's
ability to sort much faster than what I can do with the hit lists since
I still have to force the IndexSearch object to retrieve all of the
Documents in the hits list?

=20

 Opinions?

=20

Scott=20

=20

=20


------_=_NextPart_001_01C4E3CC.738E8570--

From MAILER-DAEMON Fri Dec 17 01:04:34 2004
Return-Path: 
 <lucene-user-return-11971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48389 invoked from network); 17 Dec 2004 01:04:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 01:04:34 -0000
Received: (qmail 88933 invoked by uid 500); 17 Dec 2004 01:04:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88917 invoked by uid 500); 17 Dec 2004 01:04:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88902 invoked by uid 99); 17 Dec 2004 01:04:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 17:02:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B865413E200B; Thu, 16 Dec 2004 20:02:30 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 472C113E28F6
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 20:02:27 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
References: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4EEC9807-4FC7-11D9-BE71-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: To Sort or not to Sort
Date: Thu, 16 Dec 2004 20:02:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To squeeze the best performance out of your first option, be sure to 
index your date field as a numeric (i.e. literally Long.toString, or 
Integer.toString value).  Then when you sort, be sure to specify the 
field type.  Sorting by String's is the most expensive, but numerics 
use far less resources.

I always recommend the simplest approach first - using the Sort 
facility in this case.  If that is good enough then move on to other 
things :)

	Erik


On Dec 16, 2004, at 7:07 PM, Scott Smith wrote:

> I'm hoping someone has an opinion (based on some experience) as to how 
> I
> might approach a design I'm doing with Lucene.
>
>
>
> In my application, users search for messages with Lucene.  Typically,
> they are more interested in seeing their hits in date-order than in
> relevance-order.  In reading my ebook copy of "Lucene in action" (wish
> I'd had that a year ago), I find that one of the features added in 1.4
> was the ability to ask for hits in an order based on a field.  It also
> looks like adding the field necessary to get things by date order is
> straight forward.
>
>
>
> But, for my browser-based application I think there is another
> consideration.  Users will typically page through the messages 20-50 at
> a time and often they will only look through the first few "pages" of
> messages and then be done.  So, I think there are two possible designs.
>
>
>
> 1.	Simply use the built-in lucene sort functionality, cache the hit
> list and then page through the list.  Adv: looks pretty straight
> forward, I write less code.  Dis: for searches that return a large
> number of hits (having a search return several hundred to a few 
> thousand
> hits is not uncommon), Lucene is sorting a lot of entries that don't
> really need to be sorted (because the user will never look at them) and
> sorting tends to be expensive.
> 2.	The other solution uses a priority heap to collect the top N (or
> next N) entries.  I still have to walk the entire hit list, but keeping
> entries in a priority heap means I can determine the N entries I need
> with a few comparisons and minimal sorting.  I don't have to sort a
> bunch of entries whose order I don't care about.  Additionally, I don't
> have to have all of the entries in memory at one time.  The big
> disadvantage with this is that I have to write more code.  However, it
> may be worth it if the performance difference is large enough.
>
>
>
> This may be one of those questions where the only answer is "code it
> both ways and do speed trials".  I was just wondering if anyone had
> enough experience with either method to offer an opinion.  Are there
> things the Lucene sort is doing "under the covers" that will make it's
> ability to sort much faster than what I can do with the hit lists since
> I still have to force the IndexSearch object to retrieve all of the
> Documents in the hits list?
>
>
>
>  Opinions?
>
>
>
> Scott
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 01:35:35 2004
Return-Path: 
 <lucene-user-return-11972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68978 invoked from network); 17 Dec 2004 01:35:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 01:35:35 -0000
Received: (qmail 93678 invoked by uid 500); 17 Dec 2004 01:35:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93652 invoked by uid 500); 17 Dec 2004 01:35:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93632 invoked by uid 99); 17 Dec 2004 01:35:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 17:33:32 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1EB915B76E; Thu, 16 Dec 2004 17:31:26 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1C2967F460
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 17:31:26 -0800 (PST)
Date: Thu, 16 Dec 2004 17:31:26 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: To Sort or not to Sort
In-Reply-To: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
Message-ID: <Pine.LNX.4.58.0412161720420.6746@hal.rescomp.berkeley.edu>
References: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: In my application, users search for messages with Lucene.  Typically,
: they are more interested in seeing their hits in date-order than in
: relevance-order.  In reading my ebook copy of "Lucene in action" (wish
: I'd had that a year ago), I find that one of the features added in 1.4
: was the ability to ask for hits in an order based on a field.  It also
: looks like adding the field necessary to get things by date order is
: straight forward.

When considering issues like this, it's important to consider what is
really important to your users: Do they eally want to see items strictly
ordered by date, or do they want to see results sorted by relevancy --
where the "recentness" of an item influences how "relevent" it is.

For example, when I search theLucene users mailing list for "RangeQuery" I
want more recent messages to appear first, but I'd still prefer that a
slightly older message "bubble up" in the list if the Subject includes
"RangeQuery" and the body mentions RangeQuery dozens of times -- because
it's likely to be very relevent then more recent messages which only
mention RangeQuery once or twice -- but I don't want results that are
strictly sorted by term frequency, becuase then messages from 3 years ago
(and several Lucene revs ago) might be at the top of the list.

Depending on how you maintain your index, there are a couple of different
ways of achieving a goal like this.  if you rebuild regularly, then just
giving your more recent documents a higher boost is one way to go.
another would be to use several FilteredQuery(RangeFilter) with several
increasing intervals of dates (ie: today OR the past week OR the past
month OR the past year) so that more recent documents match all of the
clauses, and older documents match fewer (or none)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:15:07 2004
Return-Path: 
 <lucene-user-return-11974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7482 invoked from network); 17 Dec 2004 05:15:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:15:07 -0000
Received: (qmail 21118 invoked by uid 500); 17 Dec 2004 05:15:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21084 invoked by uid 500); 17 Dec 2004 05:15:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21068 invoked by uid 99); 17 Dec 2004 05:15:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 21:13:50 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Indexing with Lucene 1.4.3
Date: Thu, 16 Dec 2004 21:13:48 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC68E1@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing with Lucene 1.4.3
Thread-Index: AcTj9s9z73Ijv0NuS7uLAf20KrASsgAACmRw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That looks right to me, assuming you have done an optimize.  All of your
index segments are merged into the one .cfs file (which is large,
right?).  Try searching -- it should work.

Chuck

  > -----Original Message-----
  > From: Hetan Shah [mailto:Hetan.Shah@Sun.COM]
  > Sent: Thursday, December 16, 2004 11:00 AM
  > To: Lucene Users List
  > Subject: Indexing with Lucene 1.4.3
  >=20
  > Hello,
  >=20
  > I have been trying to index around 6000 documents using IndexHTML
from
  > 1.4.3 and at the end of indexing in my index directory I only have 3
  > files.
  > segments
  > deletable and
  > _5en.cfs
  >=20
  > Can someone tell me what is going on and where are the actual index
  > files? How can I resolve this issue?
  > Thanks.
  > -H
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:26:56 2004
Return-Path: 
 <lucene-user-return-11976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14670 invoked from network); 17 Dec 2004 05:26:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:26:56 -0000
Received: (qmail 42389 invoked by uid 500); 17 Dec 2004 05:26:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42360 invoked by uid 500); 17 Dec 2004 05:26:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42345 invoked by uid 99); 17 Dec 2004 05:26:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 21:25:43 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20041217052541015008v5oge>; Fri, 17 Dec 2004 05:25:41 +0000
Message-ID: <41C26DD5.1090003@apache.org>
Date: Thu, 16 Dec 2004 21:25:41 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: To Sort or not to Sort
References: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
In-Reply-To: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D5@slc-xchg1.slc.mainstreamdata.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Scott Smith wrote:
> 1.	Simply use the built-in lucene sort functionality, cache the hit
> list and then page through the list.  Adv: looks pretty straight
> forward, I write less code.  Dis: for searches that return a large
> number of hits (having a search return several hundred to a few thousand
> hits is not uncommon), Lucene is sorting a lot of entries that don't
> really need to be sorted (because the user will never look at them) and
> sorting tends to be expensive.
> 2.	The other solution uses a priority heap to collect the top N (or
> next N) entries.  I still have to walk the entire hit list, but keeping
> entries in a priority heap means I can determine the N entries I need
> with a few comparisons and minimal sorting.  I don't have to sort a
> bunch of entries whose order I don't care about.  Additionally, I don't
> have to have all of the entries in memory at one time.  The big
> disadvantage with this is that I have to write more code.  However, it
> may be worth it if the performance difference is large enough. 

Lucene's built-in sorting code already performs the optimization you 
describe as (2).  So don't bother re-inventing it!

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:25:25 2004
Return-Path: 
 <lucene-user-return-11975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13939 invoked from network); 17 Dec 2004 05:25:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:25:25 -0000
Received: (qmail 38940 invoked by uid 500); 17 Dec 2004 05:25:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38917 invoked by uid 500); 17 Dec 2004 05:25:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38904 invoked by uid 99); 17 Dec 2004 05:25:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 21:24:18 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8UQEJ00.S7A for <lucene-user@jakarta.apache.org>; Fri,
          17 Dec 2004 11:09:55 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing with Lucene 1.4.3
Date: Fri, 17 Dec 2004 10:57:44 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEFKCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <41C1DB4B.7090705@sun.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi there

Apologies.........



       If u are using the IndexHTML from the demo.jar package which is
abvaliable from Lucene1.4.3.zip

 Then u bettter look at the File Extensions of u'r file's,they may be
filtered out of the indexing process

 due to this code present in IndexHTML.java
 >
 > } else if (file.getPath().endsWith(".html") || // index .html files
 >	       file.getPath().endsWith(".htm") || // index .htm files
 >	       file.getPath().endsWith(".txt")) { // index .txt files
 >


It the Extensions u have is within the 'endsWith' options then u have
sucessfully indexed the 6000 Documents of u's

Try to use the Luke Monitering S/f avaliable from the Jakartha Lucene Web
site and check for the same

[Hint Try to use the SearchFiles.class from the Lucene1.4.3.zip to search
onthe documents u have indexed sucessfuly]


with regards
Karthik






-----Original Message-----
From: Hetan Shah [mailto:Hetan.Shah@Sun.COM]
Sent: Friday, December 17, 2004 12:30 AM
To: Lucene Users List
Subject: Indexing with Lucene 1.4.3


Hello,

I have been trying to index around 6000 documents using IndexHTML from
1.4.3 and at the end of indexing in my index directory I only have 3 files.
segments
deletable and
_5en.cfs

Can someone tell me what is going on and where are the actual index
files? How can I resolve this issue?
Thanks.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:35:56 2004
Return-Path: 
 <lucene-user-return-11977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19290 invoked from network); 17 Dec 2004 05:35:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:35:56 -0000
Received: (qmail 59345 invoked by uid 500); 17 Dec 2004 05:35:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59316 invoked by uid 500); 17 Dec 2004 05:35:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59301 invoked by uid 99); 17 Dec 2004 05:35:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 16 Dec 2004 21:34:48 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I8UQW000.G8M for <lucene-user@jakarta.apache.org>; Fri,
          17 Dec 2004 11:20:24 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: NUMERIC RANGE BOOLEAN
Date: Fri, 17 Dec 2004 11:08:14 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEFLCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <F164A3F0-4F65-11D9-BEAA-000A95BC61B6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

Apologies..........


  Sometimes  I find it hard to understnad the Answer u  reply ....



   1) I looked at the the Wiki and similarly padded '0' [ Total Length = 8 ]
at the time of indexing

    so before Indexprocess the values will be   $ 10.25 , $ 0.50 ,$
15.50.....

    After padding and indexing finally [ Used Luke to moniter ] the values
were 00000010.25 ,00000000.25,00000015.50


  2) I did not find the RangeFilter API in Lucene1.4.3 [is it recently added
if so How Do I use the same some code snippets
     please ]




with regards
Karthik



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 16, 2004 6:55 PM
To: Lucene Users List
Subject: Re: NUMERIC RANGE BOOLEAN


On Dec 16, 2004, at 7:17 AM, Karthik N S wrote:
> We have to get the All the Hits int the Range ,
>
>    So  0.99 cents IS & ALWAYS be 0.99 cents  on which we do the price
> Comaprison from consumer point of view .
>
>
> I hope  I have answered u'r Question


No, in fact, you have not.  If you want to continue to receive my help
here, you need to provide *details*.  You pose often ambiguous and hard
to decipher questions.  Please help us help you by answering the
questions we ask precisely.  What are the values (exact string values)
in that field?  Please also read the wiki page on indexing numeric
values.

Look at using the new RangeFilter rather than a RangeQuery due to the
noted issues with doing a RangeQuery.

	Erik


>
>
> With regards
> Karthik
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, December 16, 2004 5:24 PM
> To: Lucene Users List
> Subject: Re: NUMERIC RANGE BOOLEAN
>
>
> On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
>> Erik Hatcher writes:
>>
>>> TooManyClauses exception occurs when a query such as a RangeQuery
>>> expands to more than 1024 terms.  I don't see how this could be the
>>> case in the query you provided - are you certain that is the query
>>> that
>>> generated the error?
>>>
>> Why not: the terms might be 00000003 00000003.1 00000003.11 ...
>>
>> So the question is, how do his terms look like...
>
> Ah, good point! So, Karthik - what are are the values of those terms?
>
> Pragmatically, do you really need to do a range involving the cents of
> a price?
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 05:59:26 2004
Return-Path: 
 <lucene-user-return-11978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31657 invoked from network); 17 Dec 2004 05:59:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 05:59:26 -0000
Received: (qmail 5113 invoked by uid 500); 17 Dec 2004 05:59:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5084 invoked by uid 500); 17 Dec 2004 05:59:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5070 invoked by uid 99); 17 Dec 2004 05:59:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 21:58:29 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 21:58:27 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC68EA@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: NUMERIC RANGE BOOLEAN
Thread-Index: AcTj+kfpUVOCUnVsSPGN8Z7VAhns7AAAdjEw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

RangeQuery expands into a BooleanQuery containing all of the terms in
the index that fall within the range.  By default, BooleanQuery's can
have at most 1,024 terms.  So, if your index has more than 1,024
different prices that fall within your range then you will hit this
exception.  What matters is distinct prices, not multiple items.  E.g.,
it's ok to have 10,000 items at $5 -- that's just one price.  But more
than 1,024 distinct prices is a problem.

You can fix this at least a couple different ways.
  1.  Increase the maximum number of clauses allowed in a BooleanQuery
(see BooleanQuery.maxClauseCount).  Note that this is done at a cost of
performance.
  2.  Restructure your indexed prices and range query to reduce the
number of clauses.  E.g., index dollars and cents as two different
fields.  Then, for a range like $1.33 to $5.27, construct an or of 3
queries:
    a.  $1 and [33 to 99 cents]
    b.  [$2 to $5]
    c.  $5 and [0 to 27 cents]

I don't know about RangeFilter, but look at QueryFilter.  You can use it
with a RangeQuery to implement a range filter.  However, I think you'll
hit the same issue, so Erik may be referring to a new mechanism that is
not in 1.4.3.

Chuck

  > -----Original Message-----
  > From: Karthik N S [mailto:karthik@controlnet.co.in]
  > Sent: Thursday, December 16, 2004 9:38 PM
  > To: Lucene Users List
  > Subject: RE: NUMERIC RANGE BOOLEAN
  >=20
  > Hi Erik
  >=20
  > Apologies..........
  >=20
  >=20
  >   Sometimes  I find it hard to understnad the Answer u  reply ....
  >=20
  >=20
  >=20
  >    1) I looked at the the Wiki and similarly padded '0' [ Total
Length =3D
  > 8 ]
  > at the time of indexing
  >=20
  >     so before Indexprocess the values will be   $ 10.25 , $ 0.50 ,$
  > 15.50.....
  >=20
  >     After padding and indexing finally [ Used Luke to moniter ] the
  > values
  > were 00000010.25 ,00000000.25,00000015.50
  >=20
  >=20
  >   2) I did not find the RangeFilter API in Lucene1.4.3 [is it
recently
  > added
  > if so How Do I use the same some code snippets
  >      please ]
  >=20
  >=20
  >=20
  >=20
  > with regards
  > Karthik
  >=20
  >=20
  >=20
  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Thursday, December 16, 2004 6:55 PM
  > To: Lucene Users List
  > Subject: Re: NUMERIC RANGE BOOLEAN
  >=20
  >=20
  > On Dec 16, 2004, at 7:17 AM, Karthik N S wrote:
  > > We have to get the All the Hits int the Range ,
  > >
  > >    So  0.99 cents IS & ALWAYS be 0.99 cents  on which we do the
price
  > > Comaprison from consumer point of view .
  > >
  > >
  > > I hope  I have answered u'r Question
  >=20
  >=20
  > No, in fact, you have not.  If you want to continue to receive my
help
  > here, you need to provide *details*.  You pose often ambiguous and
hard
  > to decipher questions.  Please help us help you by answering the
  > questions we ask precisely.  What are the values (exact string
values)
  > in that field?  Please also read the wiki page on indexing numeric
  > values.
  >=20
  > Look at using the new RangeFilter rather than a RangeQuery due to
the
  > noted issues with doing a RangeQuery.
  >=20
  > 	Erik
  >=20
  >=20
  > >
  > >
  > > With regards
  > > Karthik
  > >
  > > -----Original Message-----
  > > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > > Sent: Thursday, December 16, 2004 5:24 PM
  > > To: Lucene Users List
  > > Subject: Re: NUMERIC RANGE BOOLEAN
  > >
  > >
  > > On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
  > >> Erik Hatcher writes:
  > >>
  > >>> TooManyClauses exception occurs when a query such as a
RangeQuery
  > >>> expands to more than 1024 terms.  I don't see how this could be
the
  > >>> case in the query you provided - are you certain that is the
query
  > >>> that
  > >>> generated the error?
  > >>>
  > >> Why not: the terms might be 00000003 00000003.1 00000003.11 ...
  > >>
  > >> So the question is, how do his terms look like...
  > >
  > > Ah, good point! So, Karthik - what are are the values of those
terms?
  > >
  > > Pragmatically, do you really need to do a range involving the
cents of
  > > a price?
  > >
  > > 	Erik
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 06:12:42 2004
Return-Path: 
 <lucene-user-return-11979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39237 invoked from network); 17 Dec 2004 06:12:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 06:12:42 -0000
Received: (qmail 33600 invoked by uid 500); 17 Dec 2004 06:12:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33574 invoked by uid 500); 17 Dec 2004 06:12:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33557 invoked by uid 99); 17 Dec 2004 06:12:36 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 22:11:53 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: NUMERIC RANGE BOOLEAN
Date: Thu, 16 Dec 2004 22:11:50 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC68EB@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: NUMERIC RANGE BOOLEAN
Thread-Index: AcTj+kfpUVOCUnVsSPGN8Z7VAhns7AAAdjEwAADEB7A=
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Errata:
  b.  [$2 to 4]

Chuck

  > -----Original Message-----
  > From: Chuck Williams [mailto:chuck@manawiz.com]
  > Sent: Thursday, December 16, 2004 9:58 PM
  > To: Lucene Users List
  > Subject: RE: NUMERIC RANGE BOOLEAN
  >=20
  > Karthik,
  >=20
  > RangeQuery expands into a BooleanQuery containing all of the terms
in
  > the index that fall within the range.  By default, BooleanQuery's
can
  > have at most 1,024 terms.  So, if your index has more than 1,024
  > different prices that fall within your range then you will hit this
  > exception.  What matters is distinct prices, not multiple items.
E.g.,
  > it's ok to have 10,000 items at $5 -- that's just one price.  But
more
  > than 1,024 distinct prices is a problem.
  >=20
  > You can fix this at least a couple different ways.
  >   1.  Increase the maximum number of clauses allowed in a
BooleanQuery
  > (see BooleanQuery.maxClauseCount).  Note that this is done at a cost
of
  > performance.
  >   2.  Restructure your indexed prices and range query to reduce the
  > number of clauses.  E.g., index dollars and cents as two different
  > fields.  Then, for a range like $1.33 to $5.27, construct an or of 3
  > queries:
  >     a.  $1 and [33 to 99 cents]
  >     b.  [$2 to $5]
  >     c.  $5 and [0 to 27 cents]
  >=20
  > I don't know about RangeFilter, but look at QueryFilter.  You can
use it
  > with a RangeQuery to implement a range filter.  However, I think
you'll
  > hit the same issue, so Erik may be referring to a new mechanism that
is
  > not in 1.4.3.
  >=20
  > Chuck
  >=20
  >   > -----Original Message-----
  >   > From: Karthik N S [mailto:karthik@controlnet.co.in]
  >   > Sent: Thursday, December 16, 2004 9:38 PM
  >   > To: Lucene Users List
  >   > Subject: RE: NUMERIC RANGE BOOLEAN
  >   >
  >   > Hi Erik
  >   >
  >   > Apologies..........
  >   >
  >   >
  >   >   Sometimes  I find it hard to understnad the Answer u  reply
....
  >   >
  >   >
  >   >
  >   >    1) I looked at the the Wiki and similarly padded '0' [ Total
  > Length =3D
  >   > 8 ]
  >   > at the time of indexing
  >   >
  >   >     so before Indexprocess the values will be   $ 10.25 , $ 0.50
,$
  >   > 15.50.....
  >   >
  >   >     After padding and indexing finally [ Used Luke to moniter ]
the
  >   > values
  >   > were 00000010.25 ,00000000.25,00000015.50
  >   >
  >   >
  >   >   2) I did not find the RangeFilter API in Lucene1.4.3 [is it
  > recently
  >   > added
  >   > if so How Do I use the same some code snippets
  >   >      please ]
  >   >
  >   >
  >   >
  >   >
  >   > with regards
  >   > Karthik
  >   >
  >   >
  >   >
  >   > -----Original Message-----
  >   > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  >   > Sent: Thursday, December 16, 2004 6:55 PM
  >   > To: Lucene Users List
  >   > Subject: Re: NUMERIC RANGE BOOLEAN
  >   >
  >   >
  >   > On Dec 16, 2004, at 7:17 AM, Karthik N S wrote:
  >   > > We have to get the All the Hits int the Range ,
  >   > >
  >   > >    So  0.99 cents IS & ALWAYS be 0.99 cents  on which we do
the
  > price
  >   > > Comaprison from consumer point of view .
  >   > >
  >   > >
  >   > > I hope  I have answered u'r Question
  >   >
  >   >
  >   > No, in fact, you have not.  If you want to continue to receive
my
  > help
  >   > here, you need to provide *details*.  You pose often ambiguous
and
  > hard
  >   > to decipher questions.  Please help us help you by answering the
  >   > questions we ask precisely.  What are the values (exact string
  > values)
  >   > in that field?  Please also read the wiki page on indexing
numeric
  >   > values.
  >   >
  >   > Look at using the new RangeFilter rather than a RangeQuery due
to
  > the
  >   > noted issues with doing a RangeQuery.
  >   >
  >   > 	Erik
  >   >
  >   >
  >   > >
  >   > >
  >   > > With regards
  >   > > Karthik
  >   > >
  >   > > -----Original Message-----
  >   > > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  >   > > Sent: Thursday, December 16, 2004 5:24 PM
  >   > > To: Lucene Users List
  >   > > Subject: Re: NUMERIC RANGE BOOLEAN
  >   > >
  >   > >
  >   > > On Dec 16, 2004, at 5:03 AM, Morus Walter wrote:
  >   > >> Erik Hatcher writes:
  >   > >>
  >   > >>> TooManyClauses exception occurs when a query such as a
  > RangeQuery
  >   > >>> expands to more than 1024 terms.  I don't see how this could
be
  > the
  >   > >>> case in the query you provided - are you certain that is the
  > query
  >   > >>> that
  >   > >>> generated the error?
  >   > >>>
  >   > >> Why not: the terms might be 00000003 00000003.1 00000003.11
...
  >   > >>
  >   > >> So the question is, how do his terms look like...
  >   > >
  >   > > Ah, good point! So, Karthik - what are are the values of those
  > terms?
  >   > >
  >   > > Pragmatically, do you really need to do a range involving the
  > cents of
  >   > > a price?
  >   > >
  >   > > 	Erik
  >   > >
  >   > >
  >   > >
  >
---------------------------------------------------------------------
  >   > > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > > For additional commands, e-mail:
  > lucene-user-help@jakarta.apache.org
  >   > >
  >   > >
  >   > >
  >
---------------------------------------------------------------------
  >   > > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > > For additional commands, e-mail:
  > lucene-user-help@jakarta.apache.org
  >   >
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >   >
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 06:49:28 2004
Return-Path: 
 <lucene-user-return-11980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57097 invoked from network); 17 Dec 2004 06:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 06:49:28 -0000
Received: (qmail 4551 invoked by uid 500); 17 Dec 2004 06:49:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4521 invoked by uid 500); 17 Dec 2004 06:49:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4503 invoked by uid 99); 17 Dec 2004 06:49:09 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.mainstreamdata.com (HELO ns1.mainstreamdata.com)
 (209.63.42.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 16 Dec 2004 22:48:21 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 12B54727
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 23:48:19 -0700 (MST)
Received: from ns1.mainstreamdata.com ([127.0.0.1])
	by localhost (ns1 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 07322-06 for <lucene-user@jakarta.apache.org>;
	Thu, 16 Dec 2004 23:48:15 -0700 (MST)
Received: from slc-xchg1.slc.mainstreamdata.com
 (slc-xchg1.slc.mainstreamdata.com [10.7.11.32])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id B71E95A9
	for <lucene-user@jakarta.apache.org>; Thu, 16 Dec 2004 23:48:15 -0700 (MST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C4E404.62787ED8"
Subject: RE: To Sort or not to Sort
Date: Thu, 16 Dec 2004 23:48:15 -0700
Message-ID: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D6@slc-xchg1.slc.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
 <A60AC49BA89F4F4D9D86F2B7519111E87D82D6@slc-xchg1.slc.mainstreamdata.com>
Thread-Topic: To Sort or not to Sort
Thread-Index: AcTj+QrimkFRZy+qTHiTV+w9Rj5LiAACyaar
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at mainstreamdata.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E404.62787ED8
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SSB0aGluayB3ZSBoYXZlIGEgd2lubmVyLiAgTnVtYmVyIDEgaXQgaXMuICBUaGFua3MgZm9yIHRo
ZSBpbmZvcm1hdGlvbi4NCg0KCS0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IERv
dWcgQ3V0dGluZyBbbWFpbHRvOmN1dHRpbmdAYXBhY2hlLm9yZ10gDQoJU2VudDogVGh1IDEyLzE2
LzIwMDQgMTA6MjUgUE0gDQoJVG86IEx1Y2VuZSBVc2VycyBMaXN0IA0KCUNjOiANCglTdWJqZWN0
OiBSZTogVG8gU29ydCBvciBub3QgdG8gU29ydA0KCQ0KCQ0KDQoJU2NvdHQgU21pdGggd3JvdGU6
DQoJPiAxLiAgICBTaW1wbHkgdXNlIHRoZSBidWlsdC1pbiBsdWNlbmUgc29ydCBmdW5jdGlvbmFs
aXR5LCBjYWNoZSB0aGUgaGl0DQoJPiBsaXN0IGFuZCB0aGVuIHBhZ2UgdGhyb3VnaCB0aGUgbGlz
dC4gIEFkdjogbG9va3MgcHJldHR5IHN0cmFpZ2h0DQoJPiBmb3J3YXJkLCBJIHdyaXRlIGxlc3Mg
Y29kZS4gIERpczogZm9yIHNlYXJjaGVzIHRoYXQgcmV0dXJuIGEgbGFyZ2UNCgk+IG51bWJlciBv
ZiBoaXRzIChoYXZpbmcgYSBzZWFyY2ggcmV0dXJuIHNldmVyYWwgaHVuZHJlZCB0byBhIGZldyB0
aG91c2FuZA0KCT4gaGl0cyBpcyBub3QgdW5jb21tb24pLCBMdWNlbmUgaXMgc29ydGluZyBhIGxv
dCBvZiBlbnRyaWVzIHRoYXQgZG9uJ3QNCgk+IHJlYWxseSBuZWVkIHRvIGJlIHNvcnRlZCAoYmVj
YXVzZSB0aGUgdXNlciB3aWxsIG5ldmVyIGxvb2sgYXQgdGhlbSkgYW5kDQoJPiBzb3J0aW5nIHRl
bmRzIHRvIGJlIGV4cGVuc2l2ZS4NCgk+IDIuICAgIFRoZSBvdGhlciBzb2x1dGlvbiB1c2VzIGEg
cHJpb3JpdHkgaGVhcCB0byBjb2xsZWN0IHRoZSB0b3AgTiAob3INCgk+IG5leHQgTikgZW50cmll
cy4gIEkgc3RpbGwgaGF2ZSB0byB3YWxrIHRoZSBlbnRpcmUgaGl0IGxpc3QsIGJ1dCBrZWVwaW5n
DQoJPiBlbnRyaWVzIGluIGEgcHJpb3JpdHkgaGVhcCBtZWFucyBJIGNhbiBkZXRlcm1pbmUgdGhl
IE4gZW50cmllcyBJIG5lZWQNCgk+IHdpdGggYSBmZXcgY29tcGFyaXNvbnMgYW5kIG1pbmltYWwg
c29ydGluZy4gIEkgZG9uJ3QgaGF2ZSB0byBzb3J0IGENCgk+IGJ1bmNoIG9mIGVudHJpZXMgd2hv
c2Ugb3JkZXIgSSBkb24ndCBjYXJlIGFib3V0LiAgQWRkaXRpb25hbGx5LCBJIGRvbid0DQoJPiBo
YXZlIHRvIGhhdmUgYWxsIG9mIHRoZSBlbnRyaWVzIGluIG1lbW9yeSBhdCBvbmUgdGltZS4gIFRo
ZSBiaWcNCgk+IGRpc2FkdmFudGFnZSB3aXRoIHRoaXMgaXMgdGhhdCBJIGhhdmUgdG8gd3JpdGUg
bW9yZSBjb2RlLiAgSG93ZXZlciwgaXQNCgk+IG1heSBiZSB3b3J0aCBpdCBpZiB0aGUgcGVyZm9y
bWFuY2UgZGlmZmVyZW5jZSBpcyBsYXJnZSBlbm91Z2guDQoJDQoJTHVjZW5lJ3MgYnVpbHQtaW4g
c29ydGluZyBjb2RlIGFscmVhZHkgcGVyZm9ybXMgdGhlIG9wdGltaXphdGlvbiB5b3UNCglkZXNj
cmliZSBhcyAoMikuICBTbyBkb24ndCBib3RoZXIgcmUtaW52ZW50aW5nIGl0IQ0KCQ0KCURvdWcN
CgkNCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NCglUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11
bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCglGb3IgYWRkaXRpb25hbCBjb21tYW5kcywg
ZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KCQ0KCQ0KDQo=


------_=_NextPart_001_01C4E404.62787ED8
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C4E404.62787ED8--

From MAILER-DAEMON Fri Dec 17 08:45:31 2004
Return-Path: 
 <lucene-user-return-11981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41313 invoked from network); 17 Dec 2004 08:45:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 08:45:31 -0000
Received: (qmail 9591 invoked by uid 500); 17 Dec 2004 08:45:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9558 invoked by uid 500); 17 Dec 2004 08:45:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9543 invoked by uid 99); 17 Dec 2004 08:45:26 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53902.mail.yahoo.com (HELO web53902.mail.yahoo.com)
 (206.190.36.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 17 Dec 2004 00:43:31 -0800
Received: (qmail 48246 invoked by uid 60001); 17 Dec 2004 08:42:54 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=yZtANVQumBY4onEg9HZWCRXtgLPHSeDuTYdfWySXtsDgcYjm+g2O12ztlvLK/o1EmVeY2SKS0iULrL+yo/dmu2Qn8YU1584yqF/Xf7AOZrdqn8KxKJhIxEhxAijLEOsGUcwzNKp4TMJ3h2kl22oa/jPzUUca9G1Cbnk+I/6roVE=
  ;
Message-ID: <20041217084254.48244.qmail@web53902.mail.yahoo.com>
Received: from [203.145.156.130] by web53902.mail.yahoo.com via HTTP;
 Fri, 17 Dec 2004 00:42:54 PST
Date: Fri, 17 Dec 2004 00:42:54 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Relevance and ranking ...
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1088143766-1103272974=:46511"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1088143766-1103272974=:46511
Content-Type: text/plain; charset=us-ascii

Hi,
 
How to implement the following ?  Please provide inputs ....
 

For example, if the search query has 5 terms (ibm, risc, tape, drive, manual) and there are 4 matching documents with the following attributes, then the order should be as described below.

Doc#1: contains terms (ibm, drive) and has a total of 100 terms in the document.

Doc#2: contains terms (ibm, risc, tape, drive) and has a total of 30 terms in the document.

Doc#3: contains terms (ibm, risc, tape, drive) and has a total of 100 terms in the document.

Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a total of 300 terms in the document

The search results should include all three documents since each has one or more of the search terms, however, the order should be returned as:

Doc#4 

Doc#2

Doc#3

Doc#1

Doc#4 should be first, since of the 5 search terms, it contains all 5.

Doc#2 should be second, since it has 4 of the 5 search terms and of the number of terms in the document, its ratio is higher than Doc#3 (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.

Doc#1 is last since it only has 2 of the 5 terms.

 
                                                                  ----
 
Thanks,
Gururaja
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1088143766-1103272974=:46511--

From MAILER-DAEMON Fri Dec 17 10:24:33 2004
Return-Path: 
 <lucene-user-return-11982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23311 invoked from network); 17 Dec 2004 10:24:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 10:24:33 -0000
Received: (qmail 13666 invoked by uid 500); 17 Dec 2004 10:24:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13647 invoked by uid 500); 17 Dec 2004 10:24:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13623 invoked by uid 99); 17 Dec 2004 10:24:27 -0000
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mta4.swift.com (HELO besec551.swift.com) (194.78.35.134)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 02:23:12 -0800
Received: from bemigl01.swift.com (bemigl01 [172.24.34.41])
	by besec551.swift.com (Switch-3.1.6/Switch-3.1.6) with ESMTP id
 iBH97s9R015664
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 09:07:55 GMT
Date: Fri, 17 Dec 2004 10:08:54 +0100
From: RADEMAKERS Tanguy <Tanguy.RADEMAKERS@swift.com>
Subject: RE: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <A104E3221121294998E6441F8F291A4DA40C85@BE-EXCHANGE-02.swift.corp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6556.0
Content-type: multipart/signed;	protocol="application/x-pkcs7-signature";
	boundary="----=_NextPart_000_0012_01C4E420.6948C680";	micalg=SHA1
Thread-Topic: building lucene-1.4.3 from source yields lucene-1.5-rc1-dev.jar?
Thread-Index: AcTjkarWT3H3QhJVRlOiBf2h+f7cIwAhjXaw
content-class: urn:content-classes:message
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 17 Dec 2004 09:08:54.0438 (UTC)
 FILETIME=[0864AC60:01C4E418]
X-MASF: 0.00%
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C4E420.6948C680
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Erik,

Thanks for the reply. I just wanted to be confident that what i was building was indeed lucene 1.4.3 and that there hadn't been any
weird tagging missteps or anything.

Regs,
/t 

>-----Original Message-----
>From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
>Sent: Thursday, December 16, 2004 5:34 PM
>To: Lucene Users List
>Subject: Re: building lucene-1.4.3 from source yields 
>lucene-1.5-rc1-dev.jar?
>
>The rationale, or at least the one I'm making up right now, is that if 
>you pull down the source distribution, modify some files, and 
>build it, 
>you are now most definitely *not* using Lucene 1.4.3.  It would be 
>confusing to those of us supporting Lucene to get a bug report for 
>1.4.3 when it is really a custom forked version.
>
>	Erik
>
>On Dec 16, 2004, at 11:11 AM, RADEMAKERS Tanguy wrote:
>
>> Erik,
>>
>> Thank you for your answer. I unpacked my home built
>> lucene-1.5-rc1-dev.jar and the binary download 
>lucene-1.4.3.jar and ran
>> WinMerge over them (it can tell if binary files are different) -
>> results: the only differences are in the MANIFEST.MF file 
>and they are
>> pretty minimal. Just out of curiosity: what is the reasoning behind 
>> this
>> setup?
>>
>> /t
>>
>>> -----Original Message-----
>>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>>> Sent: Thursday, December 16, 2004 2:28 PM
>>> To: Lucene Users List
>>> Subject: Re: building lucene-1.4.3 from source yields
>>> lucene-1.5-rc1-dev.jar?
>>>
>>> You have not erred.  The build file has a version property set to
>>> 1.5-rc1-dev.  If you want the JAR named something different, either
>>> rename it after it is built or change the Ant property (using the -D
>>> switch to ant).
>>>
>>> Maybe our source distributions should have the right version
>>> built-in,
>>> though it is currently intentional (I believe) - if you really
>>> want the
>>> exact lucene-1.4.3.jar, simply download the binary distribution
>>> instead.
>>>
>>> 	Erik
>>>
>>>
>>>
>>>
>>> On Dec 16, 2004, at 8:08 AM, RADEMAKERS Tanguy wrote:
>>>
>>>> Hail Listoids!
>>>>
>>>> I just started investigating lucene. I downloaded
>>> lucene-1.4.3-src.zip,
>>>> unzipped and built with ant, but i get some strange results:
>>>>
>>>> D:\scrap\java\lucene\lucene-1.4.3>ant
>>>> Buildfile: build.xml
>>>>
>>>> init:
>>>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\build
>>>>     [mkdir] Created dir: D:\scrap\java\lucene\lucene-1.4.3\dist
>>>>
>>>> compile-core:
>>>>     [mkdir] Created dir:
>>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>>     [javac] Compiling 160 source files to
>>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>>      [rmic] RMI Compiling 1 class to
>>>> D:\scrap\java\lucene\lucene-1.4.3\build\classes\java
>>>>
>>>> jar-core:
>>>>       [jar] Building jar:
>>>> D:\scrap\java\lucene\lucene-1.4.3\build\lucene-1.5-rc1-dev.jar
>>>> ------------------------------------------------------------------
>>>> ^^^^^^
>>>> ^^^^^^^^^^^^^^^^
>>>> default:
>>>>
>>>> BUILD SUCCESSFUL
>>>> Total time: 19 seconds
>>>>
>>>>
>>>> likewise the jar-demo target yields lucene-demos-1.5-rc1-dev.jar.
>>>>
>>>> Maybe i'm confused, but i was kind of expecting lucene-1.4.3.jar
>>>>
>>>> I will freely admit that i could have STFW a *bit* more
>>> before sending
>>>> this. If i have erred, smack me with a cluestick.
>>>>
>>>> /t
>>>>
>>>>
>>>> 
>---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: 
>lucene-user-help@jakarta.apache.org
>>>
>>>
>>> 
>---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

------=_NextPart_000_0012_01C4E420.6948C680
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIG8DCCAvMw
ggJcoAMCAQICBDfL7igwDQYJKoZIhvcNAQEEBQAwNDELMAkGA1UEBhMCQkUxDjAMBgNVBAoTBVNX
SUZUMRUwEwYDVQQLEwxJbnRyYW5ldCBQS0kwHhcNOTkwODMxMTQzMDU3WhcNMTkwODMxMTUwMDU3
WjA0MQswCQYDVQQGEwJCRTEOMAwGA1UEChMFU1dJRlQxFTATBgNVBAsTDEludHJhbmV0IFBLSTCB
nTANBgkqhkiG9w0BAQEFAAOBiwAwgYcCgYEArQsvT0+8hnEuRRCLwpydC9D0BeNJ+wipBzWNT2O9
LwoEDojMY1SIPxgBgYzPhpRGaDDmRvbP/SyLDRojssQVIukkJNLq0S69cU4WeNTNhkQvdjgfhl39
Mgf7RHDx5bOVBNP/gM8Wo6iMlANa7Ey946zVvMixxJZPbwsHrV1ByZkCAQOjggESMIIBDjARBglg
hkgBhvhCAQEEBAMCAAcwVgYDVR0fBE8wTTBLoEmgR6RFMEMxCzAJBgNVBAYTAkJFMQ4wDAYDVQQK
EwVTV0lGVDEVMBMGA1UECxMMSW50cmFuZXQgUEtJMQ0wCwYDVQQDEwRDUkwxMCsGA1UdEAQkMCKA
DzE5OTkwODMxMTQzMDU3WoEPMjAxOTA4MzExNDMwNTdaMAsGA1UdDwQEAwIBBjAfBgNVHSMEGDAW
gBRSyQxitIPAdsIITu8S9KeLLiUkaDAdBgNVHQ4EFgQUUskMYrSDwHbCCE7vEvSniy4lJGgwDAYD
VR0TBAUwAwEB/zAZBgkqhkiG9n0HQQAEDDAKGwRWNC4wAwIEkDANBgkqhkiG9w0BAQQFAAOBgQCe
xPACE7GPap+o/jyWPdm0wAKXR20tnUDhBQnGXThx4Lm9IERtF0kubXvHxn1QVOO/PHOm9YHLFTgN
6M53B13daxcnVwlslhoGFuZGziVuPxWuXNSvTxuL62RED6yHVCup/Bp69/TcyF5wBPb5escBUroY
mPcwsZq2Fam8DSSaOjCCA/UwggNeoAMCAQICBD2+vAgwDQYJKoZIhvcNAQEEBQAwNDELMAkGA1UE
BhMCQkUxDjAMBgNVBAoTBVNXSUZUMRUwEwYDVQQLEwxJbnRyYW5ldCBQS0kwHhcNMDMxMDIyMTUx
MTMwWhcNMDUxMDIyMTU0MTMwWjBKMQswCQYDVQQGEwJiZTEOMAwGA1UEChMFc3dpZnQxDzANBgNV
BAsTBlBlb3BsZTEaMBgGA1UEAxMRVGFuZ3V5IFJhZGVtYWtlcnMwgZ8wDQYJKoZIhvcNAQEBBQAD
gY0AMIGJAoGBAMRbs3bCesFHLz37FqBBheINXmgZnoHlwnhmq5iyv770J3mq13jIQBKnfX/unN0C
kv7vfZDpU2+6AyOQ7bBVtw1OEucKafEBS2L/coFPT5Cx6/HhtwxkK6WlZi1nm7g8yVGUqTxBycON
O22GR/ZoeF4PA/9n1o90FPL2Nl1GYY6ZAgMBAAGjggH8MIIB+DALBgNVHQ8EBAMCBaAwKwYDVR0Q
BCQwIoAPMjAwMzEwMjIxNTExMzBagQ8yMDA1MDMxNzA3NDEzMFowEQYJYIZIAYb4QgEBBAQDAgWg
MIGmBglghkgBhvhCAQ0EgZgWgZVUaGUgQ2VydGlmaWNhdGUgUG9saWN5IChDUCkgYW5kIENlcnRp
ZmljYXRpb24gUHJhY3RpY2UgU3RhdGVtZW50IChDUFMpIHJlbGF0ZWQgdG8gdGhlIHVzYWdlIG9m
IHRoaXMgY2VydGlmaWNhdGUgY2FuIGJlIGZvdW5kIGF0IGh0dHA6Ly93d3cuc3dpZnQuY29tLjAZ
BgNVHSAEEjAQMAYGBCsVBgYwBgYEKxUGBzAmBgNVHREEHzAdgRt0YW5ndXkucmFkZW1ha2Vyc0Bz
d2lmdC5jb20wVwYDVR0fBFAwTjBMoEqgSKRGMEQxCzAJBgNVBAYTAkJFMQ4wDAYDVQQKEwVTV0lG
VDEVMBMGA1UECxMMSW50cmFuZXQgUEtJMQ4wDAYDVQQDEwVDUkwxMTAfBgNVHSMEGDAWgBRSyQxi
tIPAdsIITu8S9KeLLiUkaDAdBgNVHQ4EFgQUNGaQj+5cpoHSfekzlInS/4dpGsAwCQYDVR0TBAIw
ADAZBgkqhkiG9n0HQQAEDDAKGwRWNi4wAwIDqDANBgkqhkiG9w0BAQQFAAOBgQCRGEV9xgCA/gf/
3A2ECWbfDxQfcwQ4Vt9m0NlMoiIvxt+ZjtBD6H/AgpYGWZt/N6vNJcSRRzEFrVUyG26DcUTBp234
p3QJk25Eh10s/EPJk1CZ7dMKwf1A+le0j9NlazWevgey0EO92AK2YKporfxjTGNeXCP6O4FkZ0Ea
ItMB/jGCAkgwggJEAgEBMDwwNDELMAkGA1UEBhMCQkUxDjAMBgNVBAoTBVNXSUZUMRUwEwYDVQQL
EwxJbnRyYW5ldCBQS0kCBD2+vAgwCQYFKw4DAhoFAKCCAWIwGAYJKoZIhvcNAQkDMQsGCSqGSIb3
DQEHATAcBgkqhkiG9w0BCQUxDxcNMDQxMjE3MDkwODUyWjAjBgkqhkiG9w0BCQQxFgQUNfDF3fUI
hr2qc95ZBcKKuGJTQ0gwSwYJKwYBBAGCNxAEMT4wPDA0MQswCQYDVQQGEwJCRTEOMAwGA1UEChMF
U1dJRlQxFTATBgNVBAsTDEludHJhbmV0IFBLSQIEPb68CDBNBgsqhkiG9w0BCRACCzE+oDwwNDEL
MAkGA1UEBhMCQkUxDjAMBgNVBAoTBVNXSUZUMRUwEwYDVQQLEwxJbnRyYW5ldCBQS0kCBD2+vAgw
ZwYJKoZIhvcNAQkPMVowWDAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwIC
AUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwBwYFKw4DAhowCgYIKoZIhvcNAgUwDQYJKoZIhvcN
AQEBBQAEgYA/Ly+QRCcRr0zzVAjlxMomARpkCUY6yLdDLuHViSDSRIDYIDKh6UuTsLpfz0vueLyX
7Gc8tB3x9jkSnXWC5RnfV9sIDvwEVZTG4UjNNhwp4axw/RLmIxlagzX+bAm2DvdbbrorCQ24qqD8
2g81ORn5tJ1tyNq+nKl3yRw4J4yRCgAAAAAAAA==

------=_NextPart_000_0012_01C4E420.6948C680--

From MAILER-DAEMON Fri Dec 17 10:31:38 2004
Return-Path: 
 <lucene-user-return-11983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26782 invoked from network); 17 Dec 2004 10:31:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 10:31:38 -0000
Received: (qmail 27949 invoked by uid 500); 17 Dec 2004 10:31:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27919 invoked by uid 500); 17 Dec 2004 10:31:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27890 invoked by uid 99); 17 Dec 2004 10:31:34 -0000
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 02:30:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E790813E200A; Fri, 17 Dec 2004 05:28:26 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 768B313E28F6
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 05:28:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041217084254.48244.qmail@web53902.mail.yahoo.com>
References: <20041217084254.48244.qmail@web53902.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <58171266-5016-11D9-9E00-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Relevance and ranking ...
Date: Fri, 17 Dec 2004 05:28:08 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The coord() factor of Similarity is what controls a muliplier factor 
for overlapping query terms in a document.  The DefaultSimilarity 
already contains factors that allow documents with overlapping terms to 
get boosted.  Is this not working for you?  You may also need to adjust 
length normalization factors.  Check the javadocs on Similarity for 
details on implementing your own formulas.  Also become familiar with 
IndexSearcher.explain() and the Explanation so that you can see how 
adjusting things affects the details.

	Erik

On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:

> Hi,
>
> How to implement the following ?  Please provide inputs ....
>
>
> For example, if the search query has 5 terms (ibm, risc, tape, drive, 
> manual) and there are 4 matching documents with the following 
> attributes, then the order should be as described below.
>
> Doc#1: contains terms (ibm, drive) and has a total of 100 terms in the 
> document.
>
> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of 30 
> terms in the document.
>
> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of 100 
> terms in the document.
>
> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a total 
> of 300 terms in the document
>
> The search results should include all three documents since each has 
> one or more of the search terms, however, the order should be returned 
> as:
>
> Doc#4
>
> Doc#2
>
> Doc#3
>
> Doc#1
>
> Doc#4 should be first, since of the 5 search terms, it contains all 5.
>
> Doc#2 should be second, since it has 4 of the 5 search terms and of 
> the number of terms in the document, its ratio is higher than Doc#3 
> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
>
> Doc#1 is last since it only has 2 of the 5 terms.
>
>
>                                                                   ----
>
> Thanks,
> Gururaja
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 10:34:41 2004
Return-Path: 
 <lucene-user-return-11984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29115 invoked from network); 17 Dec 2004 10:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 10:34:41 -0000
Received: (qmail 38243 invoked by uid 500); 17 Dec 2004 10:34:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38209 invoked by uid 500); 17 Dec 2004 10:34:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38186 invoked by uid 99); 17 Dec 2004 10:34:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info)
 (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 02:32:47 -0800
Received: from [192.168.10.103] (ppp-82-135-15-5.mnet-online.de [82.135.15.5])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 587BC14010F
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 11:30:52 +0100 (CET)
Message-ID: <41C2B555.5060402@intrafind.de>
Date: Fri, 17 Dec 2004 11:30:45 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing with Lucene 1.4.3
References: 
 <E3381E0825F1954D953A4E347017BB1C02CC68E1@reh001-1.REX001.ExchangeByRegister.com>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC68E1@reh001-1.REX001.ExchangeByRegister.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>That looks right to me, assuming you have done an optimize.  All of your
>index segments are merged into the one .cfs file (which is large,
>right?).  Try searching -- it should work.
>
>
>  
>
Chuck is right, the index looks fine and will be searchable. Since lucene version 1.4, the index is stored per default using the compound file format. The "index" files you are "missing" are merged within one compound file which has the extension "cfs". You can disable the compound file option using 
IndexWriters setUseCompoundFile(false).

Bernhard

>  > -----Original Message-----
>  > From: Hetan Shah [mailto:Hetan.Shah@Sun.COM]
>  > Sent: Thursday, December 16, 2004 11:00 AM
>  > To: Lucene Users List
>  > Subject: Indexing with Lucene 1.4.3
>  > 
>  > Hello,
>  > 
>  > I have been trying to index around 6000 documents using IndexHTML
>from
>  > 1.4.3 and at the end of indexing in my index directory I only have 3
>  > files.
>  > segments
>  > deletable and
>  > _5en.cfs
>  > 
>  > Can someone tell me what is going on and where are the actual index
>  > files? How can I resolve this issue?
>  > Thanks.
>  > -H
>  > 
>  > 
>  >
>---------------------------------------------------------------------
>  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 11:11:20 2004
Return-Path: 
 <lucene-user-return-11985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50822 invoked from network); 17 Dec 2004 11:11:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 11:11:20 -0000
Received: (qmail 14313 invoked by uid 500); 17 Dec 2004 11:11:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14245 invoked by uid 500); 17 Dec 2004 11:11:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14228 invoked by uid 99); 17 Dec 2004 11:11:13 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53901.mail.yahoo.com (HELO web53901.mail.yahoo.com)
 (206.190.36.211)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 17 Dec 2004 03:09:24 -0800
Received: (qmail 83081 invoked by uid 60001); 17 Dec 2004 11:09:03 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=LAiCMX/kSbwuVt6ets8LgIjwAnUKssDq7kONq2oP1uVGfBRgmcn5SwfxuDn7Jc61PZuYERU1CzbWF8C42gxvKnnIZ6o/q0y5Xmr88D8OaNlvButxVs+NFRGLvapumjN05O5TZRpLKIXCPdURqB1SxPyJKRHxJiOJncdKLm+8RJc=
  ;
Message-ID: <20041217110903.83079.qmail@web53901.mail.yahoo.com>
Received: from [203.145.156.130] by web53901.mail.yahoo.com via HTTP;
 Fri, 17 Dec 2004 03:09:03 PST
Date: Fri, 17 Dec 2004 03:09:03 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Re: Relevance and ranking ...
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <58171266-5016-11D9-9E00-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2002982156-1103281743=:83062"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-2002982156-1103281743=:83062
Content-Type: text/plain; charset=us-ascii

Hi Erik,
 
Thanks for the reply.  Is there any sample code which tells me how to change these
coord() factor,  overlapping, lenght normalizaiton etc.. ??
If there are any please provide me.
 
Thanks,
Gururaja


Erik Hatcher <erik@ehatchersolutions.com> wrote:
The coord() factor of Similarity is what controls a muliplier factor 
for overlapping query terms in a document. The DefaultSimilarity 
already contains factors that allow documents with overlapping terms to 
get boosted. Is this not working for you? You may also need to adjust 
length normalization factors. Check the javadocs on Similarity for 
details on implementing your own formulas. Also become familiar with 
IndexSearcher.explain() and the Explanation so that you can see how 
adjusting things affects the details.

Erik

On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:

> Hi,
>
> How to implement the following ? Please provide inputs ....
>
>
> For example, if the search query has 5 terms (ibm, risc, tape, drive, 
> manual) and there are 4 matching documents with the following 
> attributes, then the order should be as described below.
>
> Doc#1: contains terms (ibm, drive) and has a total of 100 terms in the 
> document.
>
> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of 30 
> terms in the document.
>
> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of 100 
> terms in the document.
>
> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a total 
> of 300 terms in the document
>
> The search results should include all three documents since each has 
> one or more of the search terms, however, the order should be returned 
> as:
>
> Doc#4
>
> Doc#2
>
> Doc#3
>
> Doc#1
>
> Doc#4 should be first, since of the 5 search terms, it contains all 5.
>
> Doc#2 should be second, since it has 4 of the 5 search terms and of 
> the number of terms in the document, its ratio is higher than Doc#3 
> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
>
> Doc#1 is last since it only has 2 of the 5 terms.
>
>
> ----
>
> Thanks,
> Gururaja
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 Send holiday email and support a worthy cause. Do good.
--0-2002982156-1103281743=:83062--

From MAILER-DAEMON Fri Dec 17 12:08:05 2004
Return-Path: 
 <lucene-user-return-11986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85360 invoked from network); 17 Dec 2004 12:08:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 12:08:05 -0000
Received: (qmail 26050 invoked by uid 500); 17 Dec 2004 12:08:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26007 invoked by uid 500); 17 Dec 2004 12:08:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25992 invoked by uid 99); 17 Dec 2004 12:08:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 04:06:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DE21D13E28F7; Fri, 17 Dec 2004 07:05:59 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E0C2913E2009
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 07:05:55 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041217110903.83079.qmail@web53901.mail.yahoo.com>
References: <20041217110903.83079.qmail@web53901.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <003AC39A-5024-11D9-84BD-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Relevance and ranking ...
Date: Fri, 17 Dec 2004 07:05:53 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
> Thanks for the reply.  Is there any sample code which tells me how to 
> change these
> coord() factor,  overlapping, lenght normalizaiton etc.. ??
> If there are any please provide me.

Have a look at Lucene's DefaultSimilarity code itself.  Use that as a 
starting point - in fact you should subclass it and only override the 
one or two methods you want to tweak.

There are probably some other examples in Lucene's test cases, or that 
have been posted to the list but I don't have handy pointers to them.

	Erik


>
> Thanks,
> Gururaja
>
>
> Erik Hatcher <erik@ehatchersolutions.com> wrote:
> The coord() factor of Similarity is what controls a muliplier factor
> for overlapping query terms in a document. The DefaultSimilarity
> already contains factors that allow documents with overlapping terms to
> get boosted. Is this not working for you? You may also need to adjust
> length normalization factors. Check the javadocs on Similarity for
> details on implementing your own formulas. Also become familiar with
> IndexSearcher.explain() and the Explanation so that you can see how
> adjusting things affects the details.
>
> Erik
>
> On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
>
>> Hi,
>>
>> How to implement the following ? Please provide inputs ....
>>
>>
>> For example, if the search query has 5 terms (ibm, risc, tape, drive,
>> manual) and there are 4 matching documents with the following
>> attributes, then the order should be as described below.
>>
>> Doc#1: contains terms (ibm, drive) and has a total of 100 terms in the
>> document.
>>
>> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of 30
>> terms in the document.
>>
>> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of 100
>> terms in the document.
>>
>> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a total
>> of 300 terms in the document
>>
>> The search results should include all three documents since each has
>> one or more of the search terms, however, the order should be returned
>> as:
>>
>> Doc#4
>>
>> Doc#2
>>
>> Doc#3
>>
>> Doc#1
>>
>> Doc#4 should be first, since of the 5 search terms, it contains all 5.
>>
>> Doc#2 should be second, since it has 4 of the 5 search terms and of
>> the number of terms in the document, its ratio is higher than Doc#3
>> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
>>
>> Doc#1 is last since it only has 2 of the 5 terms.
>>
>>
>> ----
>>
>> Thanks,
>> Gururaja
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam? Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> 		
> ---------------------------------
> Do you Yahoo!?
>  Send holiday email and support a worthy cause. Do good.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 13:41:28 2004
Return-Path: 
 <lucene-user-return-11987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44496 invoked from network); 17 Dec 2004 13:41:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 13:41:28 -0000
Received: (qmail 40537 invoked by uid 500); 17 Dec 2004 13:41:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40519 invoked by uid 500); 17 Dec 2004 13:41:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40498 invoked by uid 99); 17 Dec 2004 13:41:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of plwton@gmail.com designates
 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 05:39:39 -0800
Received: by wproxy.gmail.com with SMTP id 71so41282wra
        for <lucene-user@jakarta.apache.org>;
 Fri, 17 Dec 2004 05:39:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=Eszc0s/Wrb8ruYwqqtnYTadjgkiIZAS2naSWqoKd3+PhVAzbRwN7/VFhrcHBEEDXjBUgG5EKp0kOw3PHJ+OLM4E+L9j995fxlqwkXpSNRLxU+ExfDgIfp1RonANMebeCLy+uADJUCTYu9ny5KU3FQB4I88HPJx4cToAERcBx+ss=
Received: by 10.54.7.57 with SMTP id 57mr260686wrg;
        Fri, 17 Dec 2004 05:39:16 -0800 (PST)
Received: by 10.54.37.7 with HTTP; Fri, 17 Dec 2004 05:39:16 -0800 (PST)
Message-ID: <b35bc1690412170539151cc8d1@mail.gmail.com>
Date: Fri, 17 Dec 2004 21:39:16 +0800
From: Benson Fang <plwton@gmail.com>
Reply-To: Benson Fang <plwton@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: I can't make index for .jsp files with IndexHtml!
In-Reply-To: <6C9DF76C-4695-11D9-99AD-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <b35bc169041204223673459ac9@mail.gmail.com>
	 <6C9DF76C-4695-11D9-99AD-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sun, 5 Dec 2004 03:12:37 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> On Dec 5, 2004, at 1:36 AM, Benson Fang wrote:
> IndexHTML has this in its source code:
> 
> if (file.getPath().endsWith(".html") || // index .html files
>                file.getPath().endsWith(".htm") || // index .htm files
>                file.getPath().endsWith(".txt"))...
> 
> This is why .jsp files are excluded.
> 
> Keep in mind that JSP files are not pure HTML (not even close in most
> cases, especially when using JSF).  I'm not sure what the built-in HTML
> parser will do with .jsp files.  Generally content shouldn't be in the
> view layer, so indexing .jsp pages may or may not be useful.  May I
> suggest switching to a Java web development framework that uses pure
> HTML templates?  Tapestry - http://jakarta.apache.org/tapestry :)
> 
>         Erik

Oh, I see

However, for some reason, I have to make index for .jsp files. In
fact, I've rewritten IndexHTML and compiled a new class file, but I
don't know how to substitute it for the old one. Is there any way that
I can still make index for .jsp?

Thank you very much!

Benson

-- 
ankh  wdj3  snb 

                      "life, prosperity, health"

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 19:08:48 2004
Return-Path: 
 <lucene-user-return-11989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67708 invoked from network); 17 Dec 2004 19:08:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 19:08:48 -0000
Received: (qmail 70941 invoked by uid 500); 17 Dec 2004 19:02:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70898 invoked by uid 500); 17 Dec 2004 19:02:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70821 invoked by uid 99); 17 Dec 2004 19:02:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ms-smtp-02.texas.rr.com (HELO ms-smtp-02-eri0.texas.rr.com)
 (24.93.47.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 11:01:15 -0800
Received: from dell8200r (cs6668175-245.austin.rr.com [66.68.175.245])
	by ms-smtp-02-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id iBHG1J8H002206
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 10:01:22 -0600 (CST)
From: "Rony Kahan" <rony@austin.rr.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene appreciation
Date: Fri, 17 Dec 2004 10:01:18 -0600
Message-ID: <00ee01c4e451$a5c98d70$0402a8c0@dell8200r>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-reply-to: <DB151AE5-4FB1-11D9-B5EF-000393760B7E@mac.com>
Importance: Normal
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thanks for feedback.

PA - Since rss readers usually visit at least once per day, we only show
jobs from past few days. This allows us to use a smaller, faster index for
traffic intensive rss searching.

Ben & Praveen - Thanks for the UI suggestions. Hope to have that %3A & %22
cleared up shortly. I saw in the Lucene sandbox a "Javascript Query
Constructor". Does anyone have any experience using this to make a google
like advanced search page? Regarding open source technology - we also use
Carrot: http://sourceforge.net/projects/carrot2/

Kind Regards,
Rony


> -----Original Message-----
> From: petite_abeille [mailto:petite_abeille@mac.com]
> Sent: Thursday, December 16, 2004 4:29 PM
> To: Lucene Users List
> Subject: Re: Lucene appreciation
> 
> 
> 
> On Dec 16, 2004, at 17:26, Rony Kahan wrote:
> 
> > If you are interested in Lucene work you can set up an rss feed or
> > email alert from here: 
> http://www.indeed.com/search?q=lucene&sort=date
> 
> Looks great :)
> 
> One thing though, the web search returns 14 hits for the above query.
> Using the RSS feed only returns 4 of them. What gives?
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 18:55:01 2004
Return-Path: 
 <lucene-user-return-11988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51798 invoked from network); 17 Dec 2004 18:55:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 18:55:01 -0000
Received: (qmail 38274 invoked by uid 500); 17 Dec 2004 18:32:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38074 invoked by uid 500); 17 Dec 2004 18:32:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37983 invoked by uid 99); 17 Dec 2004 18:32:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 10:30:55 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id iBHIBIVu006198
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 11:11:18 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I8V00A01P5IJV@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Fri, 17 Dec 2004 10:11:17 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-188.SFBay.Sun.COM [129.146.41.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I8V005GPP6PRT@ha21sca-mail1.sfbay.sun.com>; Fri,
 17 Dec 2004 10:11:17 -0800 (PST)
Date: Fri, 17 Dec 2004 10:11:00 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Indexing with Lucene 1.4.3
In-reply-to: 
 <E3381E0825F1954D953A4E347017BB1C02CC68E1@reh001-1.REX001.ExchangeByRegister.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: chuck@manawiz.com
Message-id: <41C32134.4020904@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: 
 <E3381E0825F1954D953A4E347017BB1C02CC68E1@reh001-1.REX001.ExchangeByRegister.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Chuck,

I now understand why I see only one file. Another question is do I have 
to specify somewhere in my code or some configuration setting that I 
would now be using a compound file format (.cfs file) for index. I have 
an application that was working in version 1.3-final till I moved to 
1.4.3 now I do not get any results back from my searches.

I tried using Luke and it shows me the content of the index. I can 
search using Luke but no success so far with my own application.

Any pointers?

Thanks.
-H

Chuck Williams wrote:

>That looks right to me, assuming you have done an optimize.  All of your
>index segments are merged into the one .cfs file (which is large,
>right?).  Try searching -- it should work.
>
>Chuck
>
>  > -----Original Message-----
>  > From: Hetan Shah [mailto:Hetan.Shah@Sun.COM]
>  > Sent: Thursday, December 16, 2004 11:00 AM
>  > To: Lucene Users List
>  > Subject: Indexing with Lucene 1.4.3
>  > 
>  > Hello,
>  > 
>  > I have been trying to index around 6000 documents using IndexHTML
>from
>  > 1.4.3 and at the end of indexing in my index directory I only have 3
>  > files.
>  > segments
>  > deletable and
>  > _5en.cfs
>  > 
>  > Can someone tell me what is going on and where are the actual index
>  > files? How can I resolve this issue?
>  > Thanks.
>  > -H
>  > 
>  > 
>  >
>---------------------------------------------------------------------
>  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 19:59:53 2004
Return-Path: 
 <lucene-user-return-11990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92193 invoked from network); 17 Dec 2004 19:59:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 19:59:53 -0000
Received: (qmail 77237 invoked by uid 500); 17 Dec 2004 19:28:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77041 invoked by uid 500); 17 Dec 2004 19:28:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76936 invoked by uid 99); 17 Dec 2004 19:28:33 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 17 Dec 2004 11:27:40 -0800
Received: (qmail 46076 invoked by uid 60001); 17 Dec 2004 19:27:24 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=L5ujfd4qk5ZzWZW8P+4So018gK4/iMoLEn1IqFvmHbVBEmKynjEUY2/MQrnP0fUQMOxpkWnH8mDxpas1arBpHpPVEqClk/tbms1UKcZwHkUH3Lz+EK06jKJT3y/ppi1xka4A9jFc9TX1VRKosFsj4NtQ/y7YDYkvXjeAeCm5o5c=
  ;
Message-ID: <20041217192724.46074.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Fri, 17 Dec 2004 11:27:24 PST
Date: Fri, 17 Dec 2004 11:27:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing with Lucene 1.4.3
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41C32134.4020904@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The only place where you have to specify that you are using the
compound index format is on IndexWriter instance.  Nothing needs to be
done at search time on IndexSearcher.

Otis

--- Hetan Shah <Hetan.Shah@Sun.COM> wrote:

> Thanks Chuck,
> 
> I now understand why I see only one file. Another question is do I
> have 
> to specify somewhere in my code or some configuration setting that I 
> would now be using a compound file format (.cfs file) for index. I
> have 
> an application that was working in version 1.3-final till I moved to 
> 1.4.3 now I do not get any results back from my searches.
> 
> I tried using Luke and it shows me the content of the index. I can 
> search using Luke but no success so far with my own application.
> 
> Any pointers?
> 
> Thanks.
> -H
> 
> Chuck Williams wrote:
> 
> >That looks right to me, assuming you have done an optimize.  All of
> your
> >index segments are merged into the one .cfs file (which is large,
> >right?).  Try searching -- it should work.
> >
> >Chuck
> >
> >  > -----Original Message-----
> >  > From: Hetan Shah [mailto:Hetan.Shah@Sun.COM]
> >  > Sent: Thursday, December 16, 2004 11:00 AM
> >  > To: Lucene Users List
> >  > Subject: Indexing with Lucene 1.4.3
> >  > 
> >  > Hello,
> >  > 
> >  > I have been trying to index around 6000 documents using
> IndexHTML
> >from
> >  > 1.4.3 and at the end of indexing in my index directory I only
> have 3
> >  > files.
> >  > segments
> >  > deletable and
> >  > _5en.cfs
> >  > 
> >  > Can someone tell me what is going on and where are the actual
> index
> >  > files? How can I resolve this issue?
> >  > Thanks.
> >  > -H
> >  > 
> >  > 
> >  >
>
>---------------------------------------------------------------------
> >  > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >  > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 20:03:07 2004
Return-Path: 
 <lucene-user-return-11991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95468 invoked from network); 17 Dec 2004 20:03:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 20:03:07 -0000
Received: (qmail 96781 invoked by uid 500); 17 Dec 2004 19:35:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96709 invoked by uid 500); 17 Dec 2004 19:35:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96663 invoked by uid 99); 17 Dec 2004 19:35:48 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 11:34:47 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Relevance and ranking ...
Date: Fri, 17 Dec 2004 11:32:29 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6A3B@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relevance and ranking ...
Thread-Index: AcTkMRB83FeoegsNRpOgVjXSnct3LAAPP4tQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another issue will likely be the tf() and idf() computations.  I have a
similar desired relevance ranking and was not getting what I wanted due
to the idf() term dominating the score.  Lucene squares the contribution
of this term, which is not considered best practice in IR.  To address
these issues, I increased the base of the log for both tf() and idf()
(tones them down) and took a final square root on idf().  FYI, here are
the definitions I'm using for these methods -- similar definitions
should give you the ordering you want.  You might want to adjust
lengthNorm if you really want it to be linear (square root by default).
You should not have to touch coord().

    public float tf(float freq) {
        return 1.0f + (float)Math.log10(freq);
    }
   =20
    public float idf(int docFreq, int numDocs) {
      return (float)Math.sqrt(1.0 +
                              Math.log10(numDocs/(double)(docFreq+1)));
    }
   =20

Chuck

  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Friday, December 17, 2004 4:06 AM
  > To: Lucene Users List
  > Subject: Re: Relevance and ranking ...
  >=20
  >=20
  > On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
  > > Thanks for the reply.  Is there any sample code which tells me how
to
  > > change these
  > > coord() factor,  overlapping, lenght normalizaiton etc.. ??
  > > If there are any please provide me.
  >=20
  > Have a look at Lucene's DefaultSimilarity code itself.  Use that as
a
  > starting point - in fact you should subclass it and only override
the
  > one or two methods you want to tweak.
  >=20
  > There are probably some other examples in Lucene's test cases, or
that
  > have been posted to the list but I don't have handy pointers to
them.
  >=20
  > 	Erik
  >=20
  >=20
  > >
  > > Thanks,
  > > Gururaja
  > >
  > >
  > > Erik Hatcher <erik@ehatchersolutions.com> wrote:
  > > The coord() factor of Similarity is what controls a muliplier
factor
  > > for overlapping query terms in a document. The DefaultSimilarity
  > > already contains factors that allow documents with overlapping
terms
  > to
  > > get boosted. Is this not working for you? You may also need to
adjust
  > > length normalization factors. Check the javadocs on Similarity for
  > > details on implementing your own formulas. Also become familiar
with
  > > IndexSearcher.explain() and the Explanation so that you can see
how
  > > adjusting things affects the details.
  > >
  > > Erik
  > >
  > > On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
  > >
  > >> Hi,
  > >>
  > >> How to implement the following ? Please provide inputs ....
  > >>
  > >>
  > >> For example, if the search query has 5 terms (ibm, risc, tape,
drive,
  > >> manual) and there are 4 matching documents with the following
  > >> attributes, then the order should be as described below.
  > >>
  > >> Doc#1: contains terms (ibm, drive) and has a total of 100 terms
in
  > the
  > >> document.
  > >>
  > >> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of
30
  > >> terms in the document.
  > >>
  > >> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of
100
  > >> terms in the document.
  > >>
  > >> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a
  > total
  > >> of 300 terms in the document
  > >>
  > >> The search results should include all three documents since each
has
  > >> one or more of the search terms, however, the order should be
  > returned
  > >> as:
  > >>
  > >> Doc#4
  > >>
  > >> Doc#2
  > >>
  > >> Doc#3
  > >>
  > >> Doc#1
  > >>
  > >> Doc#4 should be first, since of the 5 search terms, it contains
all 5.
  > >>
  > >> Doc#2 should be second, since it has 4 of the 5 search terms and
of
  > >> the number of terms in the document, its ratio is higher than
Doc#3
  > >> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
  > >>
  > >> Doc#1 is last since it only has 2 of the 5 terms.
  > >>
  > >>
  > >> ----
  > >>
  > >> Thanks,
  > >> Gururaja
  > >>
  > >>
  > >> __________________________________________________
  > >> Do You Yahoo!?
  > >> Tired of spam? Yahoo! Mail has the best spam protection around
  > >> http://mail.yahoo.com
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
  > > ---------------------------------
  > > Do you Yahoo!?
  > >  Send holiday email and support a worthy cause. Do good.
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 21:05:56 2004
Return-Path: 
 <lucene-user-return-11992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67121 invoked from network); 17 Dec 2004 21:05:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 21:05:56 -0000
Received: (qmail 24108 invoked by uid 500); 17 Dec 2004 21:05:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24081 invoked by uid 500); 17 Dec 2004 21:05:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24065 invoked by uid 99); 17 Dec 2004 21:05:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 13:04:37 -0800
Received: from [192.168.1.106] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id iBHL4HHf010405
	for <lucene-user@jakarta.apache.org>; Fri, 17 Dec 2004 13:04:17 -0800
Message-ID: <41C349CB.5070904@newsmonster.org>
Date: Fri, 17 Dec 2004 13:04:11 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Reloading LARGE index causes OutOfMemory... intern Terms?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We nighly optimizing one of our main indexes which takes up about 70% of 
system memory when loaded due to Term objects being stored in memory.

We perform the optimization out of process then tell Tomcat to reload 
its index.  This then causes us to open the index again which would need 
140% of system memory and so causes an  OutOfMemory exception.

Whats the best way to handle this?  Do I open the index again or is 
there a better way to tell Lucene that I'm reloading an existing index 
so it uses less memory?

Is it possible to intern the Term objects so that I only have one term 
per virtual machine instead of one per index?

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 17 22:17:41 2004
Return-Path: 
 <lucene-user-return-11993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15889 invoked from network); 17 Dec 2004 22:17:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Dec 2004 22:17:41 -0000
Received: (qmail 63071 invoked by uid 500); 17 Dec 2004 22:17:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63032 invoked by uid 500); 17 Dec 2004 22:17:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62999 invoked by uid 99); 17 Dec 2004 22:17:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 17 Dec 2004 14:16:24 -0800
Received: (qmail 3207 invoked by uid 532); 17 Dec 2004 22:15:38 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 3.0.0.  Clear:.
 Processed in 0.056904 secs); 17 Dec 2004 22:15:38 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 17 Dec 2004 22:15:38 -0000
Message-ID: <41C35AB8.1050000@tropo.com>
Date: Fri, 17 Dec 2004 14:16:24 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: google suggest / incremental search - Re: Lucene appreciation
References: <00ee01c4e451$a5c98d70$0402a8c0@dell8200r>
In-Reply-To: <00ee01c4e451$a5c98d70$0402a8c0@dell8200r>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Rony Kahan wrote:

> Thanks for feedback.
> 
> PA - Since rss readers usually visit at least once per day, we only show
> jobs from past few days. This allows us to use a smaller, faster index for
> traffic intensive rss searching.
> 
> Ben & Praveen - Thanks for the UI suggestions. Hope to have that %3A & %22
> cleared up shortly. I saw in the Lucene sandbox a "Javascript Query
> Constructor". Does anyone have any experience using this to make a google

I've done 2 versions, this one "closer" to google:

http://www.searchmorph.com/kat/isearch2.jsp

And this "v1" w/ frames, thus not the same but a step:

http://www.searchmorph.com/kat/isearch.html

SearchMorph is mainly a lucene index of javadoc-generated pages from OSS 
projects..



> like advanced search page? Regarding open source technology - we also use
> Carrot: http://sourceforge.net/projects/carrot2/
> 
> Kind Regards,
> Rony
> 
> 
> 
>>-----Original Message-----
>>From: petite_abeille [mailto:petite_abeille@mac.com]
>>Sent: Thursday, December 16, 2004 4:29 PM
>>To: Lucene Users List
>>Subject: Re: Lucene appreciation
>>
>>
>>
>>On Dec 16, 2004, at 17:26, Rony Kahan wrote:
>>
>>
>>>If you are interested in Lucene work you can set up an rss feed or
>>>email alert from here: 
>>
>>http://www.indeed.com/search?q=lucene&sort=date
>>
>>Looks great :)
>>
>>One thing though, the web search returns 14 hits for the above query.
>>Using the RSS feed only returns 4 of them. What gives?
>>
>>Cheers,
>>
>>PA.
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 18 12:56:45 2004
Return-Path: 
 <lucene-user-return-11994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76973 invoked from network); 18 Dec 2004 12:56:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Dec 2004 12:56:45 -0000
Received: (qmail 51176 invoked by uid 500); 18 Dec 2004 12:56:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51138 invoked by uid 500); 18 Dec 2004 12:56:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51103 invoked by uid 99); 18 Dec 2004 12:56:22 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53901.mail.yahoo.com (HELO web53901.mail.yahoo.com)
 (206.190.36.211)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 18 Dec 2004 04:56:18 -0800
Received: (qmail 99362 invoked by uid 60001); 18 Dec 2004 12:56:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=5O16gi0DdPuKMmbr2A2z/dPUdo61zWoo7ftZy4TCin08cyBBv3SOiBR8ZhSZaKP8uviShT0/gs5p7gz7Za8sRDeTVZw2AvBB0LjzEk1cvKGJH+W1W8r+Xtngx0Ohp18eJDz3xMqTQ01lyFg/js+zpZHs28AeBzs8SJ525iA+Lk8=
  ;
Message-ID: <20041218125615.99360.qmail@web53901.mail.yahoo.com>
Received: from [203.145.156.130] by web53901.mail.yahoo.com via HTTP;
 Sat, 18 Dec 2004 04:56:15 PST
Date: Sat, 18 Dec 2004 04:56:15 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Re: Relevance and ranking ...
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <003AC39A-5024-11D9-84BD-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-546432222-1103374575=:98185"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-546432222-1103374575=:98185
Content-Type: text/plain; charset=us-ascii

Hi Erik,
 
Created my own subclass of Similarity.  When i printed the values for coord() factor
i am getting the same for all the 4 documents.  So the value is NOT  getting boosted.
Want to do this. as i want the document that has 
e.g., all three terms in a three word query over those that contain just two
of the words.
 
Please let me how do i go about doing this ?  Please explain the coordination factor ?
 
The default order of document that i get for my example given in this thread is as follows:
Doc#2
Doc#4
Doc#3
Doc#1
 
Any inputs would be help full.  Thanks,
 
Gururaja

Erik Hatcher <erik@ehatchersolutions.com> wrote:

On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
> Thanks for the reply. Is there any sample code which tells me how to 
> change these
> coord() factor, overlapping, lenght normalizaiton etc.. ??
> If there are any please provide me.

Have a look at Lucene's DefaultSimilarity code itself. Use that as a 
starting point - in fact you should subclass it and only override the 
one or two methods you want to tweak.

There are probably some other examples in Lucene's test cases, or that 
have been posted to the list but I don't have handy pointers to them.

Erik


>
> Thanks,
> Gururaja
>
>
> Erik Hatcher wrote:
> The coord() factor of Similarity is what controls a muliplier factor
> for overlapping query terms in a document. The DefaultSimilarity
> already contains factors that allow documents with overlapping terms to
> get boosted. Is this not working for you? You may also need to adjust
> length normalization factors. Check the javadocs on Similarity for
> details on implementing your own formulas. Also become familiar with
> IndexSearcher.explain() and the Explanation so that you can see how
> adjusting things affects the details.
>
> Erik
>
> On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
>
>> Hi,
>>
>> How to implement the following ? Please provide inputs ....
>>
>>
>> For example, if the search query has 5 terms (ibm, risc, tape, drive,
>> manual) and there are 4 matching documents with the following
>> attributes, then the order should be as described below.
>>
>> Doc#1: contains terms (ibm, drive) and has a total of 100 terms in the
>> document.
>>
>> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of 30
>> terms in the document.
>>
>> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of 100
>> terms in the document.
>>
>> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a total
>> of 300 terms in the document
>>
>> The search results should include all three documents since each has
>> one or more of the search terms, however, the order should be returned
>> as:
>>
>> Doc#4
>>
>> Doc#2
>>
>> Doc#3
>>
>> Doc#1
>>
>> Doc#4 should be first, since of the 5 search terms, it contains all 5.
>>
>> Doc#2 should be second, since it has 4 of the 5 search terms and of
>> the number of terms in the document, its ratio is higher than Doc#3
>> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
>>
>> Doc#1 is last since it only has 2 of the 5 terms.
>>
>>
>> ----
>>
>> Thanks,
>> Gururaja
>>
>>
>> __________________________________________________
>> Do You Yahoo!?
>> Tired of spam? Yahoo! Mail has the best spam protection around
>> http://mail.yahoo.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> 
> ---------------------------------
> Do you Yahoo!?
> Send holiday email and support a worthy cause. Do good.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-546432222-1103374575=:98185--

From MAILER-DAEMON Sat Dec 18 17:44:58 2004
Return-Path: 
 <lucene-user-return-11995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79203 invoked from network); 18 Dec 2004 17:44:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Dec 2004 17:44:58 -0000
Received: (qmail 79852 invoked by uid 500); 18 Dec 2004 17:44:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79807 invoked by uid 500); 18 Dec 2004 17:44:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79784 invoked by uid 99); 18 Dec 2004 17:44:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 18 Dec 2004 09:43:15 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Relevance and ranking ...
Date: Sat, 18 Dec 2004 09:43:11 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6B3E@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relevance and ranking ...
Thread-Index: AcTlAQP5kOfFvS+/RZmDstHG+Gn0SAAJV2Uw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The coord is the fraction of clauses matched in a BooleanQuery, so with
your example of a 5-word BooleanQuery, the coord factors should be .4,
.8, .8, 1.0 respectively for doc1, doc2, doc3 and doc4.

One big issue you've got here is lengthNorm.  Doc2 is 1/10 the size of
doc4, so its lengthNorm is over 3x larger (sqrt(10)).  This more than
makes up for the difference in coord.  In your original post you
indicated a desire for a linear lengthNorm, which would actually make
this problem much worse.  You problem need to tone down the lengthNorm
instead (I turn mine off entirely, at least so far, by fixing it at 1.0;
this is not good in general, but got me past similar problems until I
can find a good formula).  You might try an inverse-log lengthNorm with
a high base (like the formula for idf I posted earlier).

The other thing that can bite you is the tf and idf computations.  E.g.,
if manual is a more common term than the others, this could cause the
tf*idf scores on doc2 to more than compensate for the difference in
coord, even if you set lengthNorm to be 1.0.

What is happening will be apparent from the explanations.  If you print
these out and post them, I'd be happy to suggest specific formulas.
Just use code like this:

          IndexSearcher searcher =3D new IndexSearcher(directory);
          System.out.println(query);
          Hits hits =3D searcher.search(query);
          for (int i=3D0; i<hits.length(); i++) {
              Document doc =3D hits.doc(i);
              System.out.print(hits.score(i));
              // Use whatever your fields are here:
              System.out.print("  title:");
              System.out.print(doc.get("title"));
              System.out.print(" description:");
              System.out.println(doc.get("description"));
              // End of fields
              System.out.println(searcher.explain(query, hits.id(i)));
              System.out.println("--------------------------");
          }

Chuck

  > -----Original Message-----
  > From: Gururaja H [mailto:guru_hr29@yahoo.com]
  > Sent: Saturday, December 18, 2004 4:56 AM
  > To: Lucene Users List
  > Subject: Re: Relevance and ranking ...
  >=20
  > Hi Erik,
  >=20
  > Created my own subclass of Similarity.  When i printed the values
for
  > coord() factor
  > i am getting the same for all the 4 documents.  So the value is NOT
  > getting boosted.
  > Want to do this. as i want the document that has
  > e.g., all three terms in a three word query over those that contain
just
  > two
  > of the words.
  >=20
  > Please let me how do i go about doing this ?  Please explain the
  > coordination factor ?
  >=20
  > The default order of document that i get for my example given in
this
  > thread is as follows:
  > Doc#2
  > Doc#4
  > Doc#3
  > Doc#1
  >=20
  > Any inputs would be help full.  Thanks,
  >=20
  > Gururaja
  >=20
  > Erik Hatcher <erik@ehatchersolutions.com> wrote:
  >=20
  > On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
  > > Thanks for the reply. Is there any sample code which tells me how
to
  > > change these
  > > coord() factor, overlapping, lenght normalizaiton etc.. ??
  > > If there are any please provide me.
  >=20
  > Have a look at Lucene's DefaultSimilarity code itself. Use that as a
  > starting point - in fact you should subclass it and only override
the
  > one or two methods you want to tweak.
  >=20
  > There are probably some other examples in Lucene's test cases, or
that
  > have been posted to the list but I don't have handy pointers to
them.
  >=20
  > Erik
  >=20
  >=20
  > >
  > > Thanks,
  > > Gururaja
  > >
  > >
  > > Erik Hatcher wrote:
  > > The coord() factor of Similarity is what controls a muliplier
factor
  > > for overlapping query terms in a document. The DefaultSimilarity
  > > already contains factors that allow documents with overlapping
terms
  > to
  > > get boosted. Is this not working for you? You may also need to
adjust
  > > length normalization factors. Check the javadocs on Similarity for
  > > details on implementing your own formulas. Also become familiar
with
  > > IndexSearcher.explain() and the Explanation so that you can see
how
  > > adjusting things affects the details.
  > >
  > > Erik
  > >
  > > On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
  > >
  > >> Hi,
  > >>
  > >> How to implement the following ? Please provide inputs ....
  > >>
  > >>
  > >> For example, if the search query has 5 terms (ibm, risc, tape,
drive,
  > >> manual) and there are 4 matching documents with the following
  > >> attributes, then the order should be as described below.
  > >>
  > >> Doc#1: contains terms (ibm, drive) and has a total of 100 terms
in
  > the
  > >> document.
  > >>
  > >> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of
30
  > >> terms in the document.
  > >>
  > >> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of
100
  > >> terms in the document.
  > >>
  > >> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a
  > total
  > >> of 300 terms in the document
  > >>
  > >> The search results should include all three documents since each
has
  > >> one or more of the search terms, however, the order should be
  > returned
  > >> as:
  > >>
  > >> Doc#4
  > >>
  > >> Doc#2
  > >>
  > >> Doc#3
  > >>
  > >> Doc#1
  > >>
  > >> Doc#4 should be first, since of the 5 search terms, it contains
all 5.
  > >>
  > >> Doc#2 should be second, since it has 4 of the 5 search terms and
of
  > >> the number of terms in the document, its ratio is higher than
Doc#3
  > >> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
  > >>
  > >> Doc#1 is last since it only has 2 of the 5 terms.
  > >>
  > >>
  > >> ----
  > >>
  > >> Thanks,
  > >> Gururaja
  > >>
  > >>
  > >> __________________________________________________
  > >> Do You Yahoo!?
  > >> Tired of spam? Yahoo! Mail has the best spam protection around
  > >> http://mail.yahoo.com
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
  > > ---------------------------------
  > > Do you Yahoo!?
  > > Send holiday email and support a worthy cause. Do good.
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  > __________________________________________________
  > Do You Yahoo!?
  > Tired of spam?  Yahoo! Mail has the best spam protection around
  > http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 19 22:06:08 2004
Return-Path: 
 <lucene-user-return-11996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13670 invoked from network); 19 Dec 2004 22:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Dec 2004 22:06:08 -0000
Received: (qmail 62214 invoked by uid 500); 19 Dec 2004 22:06:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62185 invoked by uid 500); 19 Dec 2004 22:06:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62171 invoked by uid 99); 19 Dec 2004 22:06:02 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web41210.mail.yahoo.com (HELO web41210.mail.yahoo.com)
 (66.218.93.43)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 19 Dec 2004 14:05:59 -0800
Received: (qmail 94530 invoked by uid 60001); 19 Dec 2004 22:05:58 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Lk0res9LLvzzO5xKJIJtBoEIIib+FzzZPoyVhL/yo0hfgGuEVJ/tB3DsMgq1aM1zcGqcuIz3x/oCWAFuMC/9xBtIHFryYDLjzWuqr+s157BpoqBFsLAVxpCE3BkEIlQh4A/dXQKzeShGuW3YiczUkctKO6e2SORXXFzpW536ZGc=
  ;
Message-ID: <20041219220558.94528.qmail@web41210.mail.yahoo.com>
Received: from [220.236.99.34] by web41210.mail.yahoo.com via HTTP;
 Sun, 19 Dec 2004 14:05:58 PST
Date: Sun, 19 Dec 2004 14:05:58 -0800 (PST)
From: Steve Skillcorn <sskillcorn@yahoo.com>
Subject: Optimising A Security Filter
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All;

I bought the Lucene in Action ebook, which is
excellent and I can strongly recommend.  One question
that has arisen from the book though is custom
filters.

I have the situation where the text of my docs is in
Lucene, but the permissions are in my RDBMS.  I can
write a filter (in fact have done so) that loops
through the documents in the passed IndexReader and
queries the DB to detect if the user is permissioned
for them, setting the relevant BitSet.  My results are
then paged (< last | next >) to a web page.

Does the IndexReader that is passed to the �bits�
method of the filter represent the entire index, or
just the results that match the query?

Is not worrying about filters and simply checking the
returned Hit List before presenting a sensible
approach?

I can see the point to filters as presented in the
Lucene in Action ISBN example, but are they a good
approach where they could end up laboriously marking
the entire index as True?

All help greatly appreciated.  Thanks to the authors
for Lucene in Action, it's given me the high level
best practices I was needing.

Steve



		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - now with 250MB free storage. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 06:10:26 2004
Return-Path: 
 <lucene-user-return-11997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76838 invoked from network); 20 Dec 2004 06:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 06:10:26 -0000
Received: (qmail 17245 invoked by uid 500); 20 Dec 2004 06:10:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17097 invoked by uid 500); 20 Dec 2004 06:10:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17081 invoked by uid 99); 20 Dec 2004 06:10:18 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE,HTML_NONELEMENT_20_30
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53905.mail.yahoo.com (HELO web53905.mail.yahoo.com)
 (206.190.36.215)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 19 Dec 2004 22:10:14 -0800
Received: (qmail 29775 invoked by uid 60001); 20 Dec 2004 06:10:11 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=j9A3RB0KtApxXglbakRzMaormBRJsAhQQqz5I+zyxxfXz9sK/z1FQnk9EXMBKZivvPSzsix01Ylkdmhg6gFspQD17AndevCVa87pEGRnz0AxMAwHO0jVu7R6kwuvUMDNan3ZZ4JkkjsAVs8jqJmxUcsBxCincRijcWmS5u5+b+0=
  ;
Message-ID: <20041220061011.29770.qmail@web53905.mail.yahoo.com>
Received: from [203.145.156.130] by web53905.mail.yahoo.com via HTTP;
 Sun, 19 Dec 2004 22:10:11 PST
Date: Sun, 19 Dec 2004 22:10:11 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: RE: Relevance and ranking ...
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC6B3E@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-223228334-1103523011=:27757"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-223228334-1103523011=:27757
Content-Type: text/plain; charset=us-ascii

Chuck Williams,
 
Thanks for the reply. Source code and Output are below.
 
Please give me your inputs.
 
Default document order i am getting is: Doc#2, Doc#4, Doc#3, Doc#1.
Document order needed is: Doc#4, Doc#2, Doc#3, Doc#1.
 
Let me know, if you need more information.
 
NOTE: Using Luene "Query" object not BooleanQuery.
 
Here is the source code:
 
Searcher searcher = new IndexSearcher("index");
         
      Analyzer analyzer = new StandardAnalyzer();
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
 System.out.print("Query: ");
 String line = in.readLine();
 Query query = QueryParser.parse(line, "contents", analyzer);
 System.out.println("Searching for: " + query.toString("contents"));
 Hits hits = searcher.search(query);
 System.out.println(hits.length() + " total matching documents");
   for (int i = start; i < hits.length(); i++) {
     Document doc = hits.doc(i);
   System.out.print("Score is: "+ hits.score(i));
   // Use whatever your fields are here:
   System.out.print("  title:");
   System.out.print(doc.get("title"));
   System.out.print(" description:");
   System.out.println(doc.get("description"));
   // End of fields
   System.out.println(searcher.explain(query, hits.id(i)));
     //System.out.println("Score of the document is: "+hits.score(i));
     String path = doc.get("path");
     if (path != null) {
              System.out.println(i + ". " + path);
    System.out.println("--------------------------");
     }
                      ---
 
 
Here is the output from the program:

Query: ibm risc tape drive manual

Searching for: ibm risc tape drive manual

4 total matching documents

Score is: 0.16266039 title:null description:null

0.16266039 = product of:

0.20332548 = sum of:

0.03826245 = weight(contents:ibm in 1), product of:

0.31521872 = queryWeight(contents:ibm), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.121383816 = fieldWeight(contents:ibm in 1), product of:

1.0 = tf(termFreq(contents:ibm)=1)

0.7768564 = idf(docFreq=4)

0.15625 = fieldNorm(field=contents, doc=1)

0.06340029 = weight(contents:risc in 1), product of:

0.40576187 = queryWeight(contents:risc), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.15625 = fieldWeight(contents:risc in 1), product of:

1.0 = tf(termFreq(contents:risc)=1)

1.0 = idf(docFreq=3)

0.15625 = fieldNorm(field=contents, doc=1)

0.06340029 = weight(contents:tape in 1), product of:

0.40576187 = queryWeight(contents:tape), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.15625 = fieldWeight(contents:tape in 1), product of:

1.0 = tf(termFreq(contents:tape)=1)

1.0 = idf(docFreq=3)

0.15625 = fieldNorm(field=contents, doc=1)

0.03826245 = weight(contents:drive in 1), product of:

0.31521872 = queryWeight(contents:drive), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.121383816 = fieldWeight(contents:drive in 1), product of:

1.0 = tf(termFreq(contents:drive)=1)

0.7768564 = idf(docFreq=4)

0.15625 = fieldNorm(field=contents, doc=1)

0.8 = coord(4/5)

0. C:\tools\lucene-1.4.3\test\docs\doc2.txt

--------------------------

Score is: 0.13477734 title:null description:null

0.13477734 = sum of:

0.013391858 = weight(contents:ibm in 3), product of:

0.31521872 = queryWeight(contents:ibm), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.042484336 = fieldWeight(contents:ibm in 3), product of:

1.0 = tf(termFreq(contents:ibm)=1)

0.7768564 = idf(docFreq=4)

0.0546875 = fieldNorm(field=contents, doc=3)

0.022190101 = weight(contents:risc in 3), product of:

0.40576187 = queryWeight(contents:risc), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.0546875 = fieldWeight(contents:risc in 3), product of:

1.0 = tf(termFreq(contents:risc)=1)

1.0 = idf(docFreq=3)

0.0546875 = fieldNorm(field=contents, doc=3)

0.022190101 = weight(contents:tape in 3), product of:

0.40576187 = queryWeight(contents:tape), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.0546875 = fieldWeight(contents:tape in 3), product of:

1.0 = tf(termFreq(contents:tape)=1)

1.0 = idf(docFreq=3)

0.0546875 = fieldNorm(field=contents, doc=3)

0.013391858 = weight(contents:drive in 3), product of:

0.31521872 = queryWeight(contents:drive), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.042484336 = fieldWeight(contents:drive in 3), product of:

1.0 = tf(termFreq(contents:drive)=1)

0.7768564 = idf(docFreq=4)

0.0546875 = fieldNorm(field=contents, doc=3)

0.063613415 = weight(contents:manual in 3), product of:

0.6870146 = queryWeight(contents:manual), product of:

1.6931472 = idf(docFreq=1)

0.40576187 = queryNorm

0.09259398 = fieldWeight(contents:manual in 3), product of:

1.0 = tf(termFreq(contents:manual)=1)

1.6931472 = idf(docFreq=1)

0.0546875 = fieldNorm(field=contents, doc=3)

1. C:\tools\lucene-1.4.3\test\docs\doc4.txt

--------------------------

Score is: 0.09759624 title:null description:null

0.09759624 = product of:

0.1219953 = sum of:

0.02295747 = weight(contents:ibm in 2), product of:

0.31521872 = queryWeight(contents:ibm), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.07283029 = fieldWeight(contents:ibm in 2), product of:

1.0 = tf(termFreq(contents:ibm)=1)

0.7768564 = idf(docFreq=4)

0.09375 = fieldNorm(field=contents, doc=2)

0.038040176 = weight(contents:risc in 2), product of:

0.40576187 = queryWeight(contents:risc), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.09375 = fieldWeight(contents:risc in 2), product of:

1.0 = tf(termFreq(contents:risc)=1)

1.0 = idf(docFreq=3)

0.09375 = fieldNorm(field=contents, doc=2)

0.038040176 = weight(contents:tape in 2), product of:

0.40576187 = queryWeight(contents:tape), product of:

1.0 = idf(docFreq=3)

0.40576187 = queryNorm

0.09375 = fieldWeight(contents:tape in 2), product of:

1.0 = tf(termFreq(contents:tape)=1)

1.0 = idf(docFreq=3)

0.09375 = fieldNorm(field=contents, doc=2)

0.02295747 = weight(contents:drive in 2), product of:

0.31521872 = queryWeight(contents:drive), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.07283029 = fieldWeight(contents:drive in 2), product of:

1.0 = tf(termFreq(contents:drive)=1)

0.7768564 = idf(docFreq=4)

0.09375 = fieldNorm(field=contents, doc=2)

0.8 = coord(4/5)

2. C:\tools\lucene-1.4.3\test\docs\doc3.txt

--------------------------

Score is: 0.018365977 title:null description:null

0.018365977 = product of:

0.04591494 = sum of:

0.02295747 = weight(contents:ibm in 0), product of:

0.31521872 = queryWeight(contents:ibm), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.07283029 = fieldWeight(contents:ibm in 0), product of:

1.0 = tf(termFreq(contents:ibm)=1)

0.7768564 = idf(docFreq=4)

0.09375 = fieldNorm(field=contents, doc=0)

0.02295747 = weight(contents:drive in 0), product of:

0.31521872 = queryWeight(contents:drive), product of:

0.7768564 = idf(docFreq=4)

0.40576187 = queryNorm

0.07283029 = fieldWeight(contents:drive in 0), product of:

1.0 = tf(termFreq(contents:drive)=1)

0.7768564 = idf(docFreq=4)

0.09375 = fieldNorm(field=contents, doc=0)

0.4 = coord(2/5)

3. C:\tools\lucene-1.4.3\test\docs\doc1.txt

--------------------------

 
Thanks,
Gururaja

Chuck Williams <chuck@manawiz.com> wrote:
The coord is the fraction of clauses matched in a BooleanQuery, so with
your example of a 5-word BooleanQuery, the coord factors should be .4,
.8, .8, 1.0 respectively for doc1, doc2, doc3 and doc4.

One big issue you've got here is lengthNorm. Doc2 is 1/10 the size of
doc4, so its lengthNorm is over 3x larger (sqrt(10)). This more than
makes up for the difference in coord. In your original post you
indicated a desire for a linear lengthNorm, which would actually make
this problem much worse. You problem need to tone down the lengthNorm
instead (I turn mine off entirely, at least so far, by fixing it at 1.0;
this is not good in general, but got me past similar problems until I
can find a good formula). You might try an inverse-log lengthNorm with
a high base (like the formula for idf I posted earlier).

The other thing that can bite you is the tf and idf computations. E.g.,
if manual is a more common term than the others, this could cause the
tf*idf scores on doc2 to more than compensate for the difference in
coord, even if you set lengthNorm to be 1.0.

What is happening will be apparent from the explanations. If you print
these out and post them, I'd be happy to suggest specific formulas.
Just use code like this:

IndexSearcher searcher = new IndexSearcher(directory);
System.out.println(query);
Hits hits = searcher.search(query);
for (int i=0; i Document doc = hits.doc(i);
System.out.print(hits.score(i));
// Use whatever your fields are here:
System.out.print(" title:");
System.out.print(doc.get("title"));
System.out.print(" description:");
System.out.println(doc.get("description"));
// End of fields
System.out.println(searcher.explain(query, hits.id(i)));
System.out.println("--------------------------");
}

Chuck

> -----Original Message-----
> From: Gururaja H [mailto:guru_hr29@yahoo.com]
> Sent: Saturday, December 18, 2004 4:56 AM
> To: Lucene Users List
> Subject: Re: Relevance and ranking ...
> 
> Hi Erik,
> 
> Created my own subclass of Similarity. When i printed the values
for
> coord() factor
> i am getting the same for all the 4 documents. So the value is NOT
> getting boosted.
> Want to do this. as i want the document that has
> e.g., all three terms in a three word query over those that contain
just
> two
> of the words.
> 
> Please let me how do i go about doing this ? Please explain the
> coordination factor ?
> 
> The default order of document that i get for my example given in
this
> thread is as follows:
> Doc#2
> Doc#4
> Doc#3
> Doc#1
> 
> Any inputs would be help full. Thanks,
> 
> Gururaja
> 
> Erik Hatcher wrote:
> 
> On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
> > Thanks for the reply. Is there any sample code which tells me how
to
> > change these
> > coord() factor, overlapping, lenght normalizaiton etc.. ??
> > If there are any please provide me.
> 
> Have a look at Lucene's DefaultSimilarity code itself. Use that as a
> starting point - in fact you should subclass it and only override
the
> one or two methods you want to tweak.
> 
> There are probably some other examples in Lucene's test cases, or
that
> have been posted to the list but I don't have handy pointers to
them.
> 
> Erik
> 
> 
> >
> > Thanks,
> > Gururaja
> >
> >
> > Erik Hatcher wrote:
> > The coord() factor of Similarity is what controls a muliplier
factor
> > for overlapping query terms in a document. The DefaultSimilarity
> > already contains factors that allow documents with overlapping
terms
> to
> > get boosted. Is this not working for you? You may also need to
adjust
> > length normalization factors. Check the javadocs on Similarity for
> > details on implementing your own formulas. Also become familiar
with
> > IndexSearcher.explain() and the Explanation so that you can see
how
> > adjusting things affects the details.
> >
> > Erik
> >
> > On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
> >
> >> Hi,
> >>
> >> How to implement the following ? Please provide inputs ....
> >>
> >>
> >> For example, if the search query has 5 terms (ibm, risc, tape,
drive,
> >> manual) and there are 4 matching documents with the following
> >> attributes, then the order should be as described below.
> >>
> >> Doc#1: contains terms (ibm, drive) and has a total of 100 terms
in
> the
> >> document.
> >>
> >> Doc#2: contains terms (ibm, risc, tape, drive) and has a total of
30
> >> terms in the document.
> >>
> >> Doc#3: contains terms (ibm, risc, tape, drive) and has a total of
100
> >> terms in the document.
> >>
> >> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has a
> total
> >> of 300 terms in the document
> >>
> >> The search results should include all three documents since each
has
> >> one or more of the search terms, however, the order should be
> returned
> >> as:
> >>
> >> Doc#4
> >>
> >> Doc#2
> >>
> >> Doc#3
> >>
> >> Doc#1
> >>
> >> Doc#4 should be first, since of the 5 search terms, it contains
all 5.
> >>
> >> Doc#2 should be second, since it has 4 of the 5 search terms and
of
> >> the number of terms in the document, its ratio is higher than
Doc#3
> >> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
> >>
> >> Doc#1 is last since it only has 2 of the 5 terms.
> >>
> >>
> >> ----
> >>
> >> Thanks,
> >> Gururaja
> >>
> >>
> >> __________________________________________________
> >> Do You Yahoo!?
> >> Tired of spam? Yahoo! Mail has the best spam protection around
> >> http://mail.yahoo.com
> >
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> >
> >
> >
> > ---------------------------------
> > Do you Yahoo!?
> > Send holiday email and support a worthy cause. Do good.
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-223228334-1103523011=:27757--

From MAILER-DAEMON Mon Dec 20 08:19:34 2004
Return-Path: 
 <lucene-user-return-11999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41767 invoked from network); 20 Dec 2004 08:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 08:19:34 -0000
Received: (qmail 8162 invoked by uid 500); 20 Dec 2004 08:19:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8137 invoked by uid 500); 20 Dec 2004 08:19:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8124 invoked by uid 99); 20 Dec 2004 08:19:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr9.xs4all.nl (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 00:19:11 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBK8J6EW039792
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 09:19:06 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Optimising A Security Filter
Date: Mon, 20 Dec 2004 09:17:49 +0100
User-Agent: KMail/1.5.4
References: <20041219220558.94528.qmail@web41210.mail.yahoo.com>
In-Reply-To: <20041219220558.94528.qmail@web41210.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412200917.49354.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 19 December 2004 23:05, Steve Skillcorn wrote:
> Hello All;
>=20
> I bought the Lucene in Action ebook, which is
> excellent and I can strongly recommend.  One question
> that has arisen from the book though is custom
> filters.
>=20
> I have the situation where the text of my docs is in
> Lucene, but the permissions are in my RDBMS.  I can
> write a filter (in fact have done so) that loops
> through the documents in the passed IndexReader and
> queries the DB to detect if the user is permissioned
> for them, setting the relevant BitSet.  My results are
> then paged (< last | next >) to a web page.
>=20
> Does the IndexReader that is passed to the =93bits=94
> method of the filter represent the entire index, or
> just the results that match the query?

The IndexReader represents the entire index.

> Is not worrying about filters and simply checking the
> returned Hit List before presenting a sensible
> approach?

That's is done by the IndexSearcher.search() methods
that take a filter argument.
=20
> I can see the point to filters as presented in the
> Lucene in Action ISBN example, but are they a good
> approach where they could end up laboriously marking
> the entire index as True?

The filter is checked only for search results on the query
over the whole index.

The bit filters generally work well, except when you need
a lot of very sparse filters and memory is a concern.

Regards,
Paul Elschot
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 08:17:12 2004
Return-Path: 
 <lucene-user-return-11998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41002 invoked from network); 20 Dec 2004 08:17:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 08:17:12 -0000
Received: (qmail 4162 invoked by uid 500); 20 Dec 2004 08:16:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4134 invoked by uid 500); 20 Dec 2004 08:16:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4121 invoked by uid 99); 20 Dec 2004 08:16:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hermes.culture.fr (HELO hermes.culture.fr) (143.126.201.210)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 00:16:48 -0800
Received: by mta.culture.fr with id iBK8GhiK028537
 for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 09:16:43 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id
 <T6dfc2bfae08f7ec9dc404@pasteur.culture.fr> for
 <lucene-user@jakarta.apache.org>;
 Mon, 20 Dec 2004 09:16:15 +0100
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id
 iBK8GhQs016985
  for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 09:16:43 +0100
Message-ID: <41C68B5B.7080105@culture.gouv.fr>
Date: Mon, 20 Dec 2004 09:20:43 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.6) Gecko/20040113
X-Accept-Language: fr, en, ar-eg
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Aramorph Analyzer
References: <B978AA198CB86D488F88454BE7CA796C18AB8B@hqafex01.fao.org>
 <200412161606.49800.daniel.naber@t-online.de>
In-Reply-To: <200412161606.49800.daniel.naber@t-online.de>
Content-Type: text/plain; charset=windows-1256; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Sorry, I (the aramorph maintainer ;-) was absent from the office...

Daniel Naber a �crit :

> Analyzers that provide ambiguous terms (i.e. a token with more than one term 
> at the same position) don't work in Lucene 1.4.

The is the correct answer. I've filled a bug about this : 
http://issues.apache.org/bugzilla/show_bug.cgi?id=23307

> This feature has only 
> recently been added to CVS.

... and I thank you very much for this commit.

Notice however that you may experiment some problems with the query 
parser because Buckwalter's arabic transliteration uses the standard "*" 
joker character as a representation for dhal.

Notice also that aramorph has a mailing-list for such questions :
http://lists.nongnu.org/mailman/listinfo/aramorph-users

Cheers,

-- 
Pierrick Brihaye, informaticien
Service r�gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr
+33 (0)2 99 29 67 78

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 08:35:40 2004
Return-Path: 
 <lucene-user-return-12000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56651 invoked from network); 20 Dec 2004 08:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 08:35:40 -0000
Received: (qmail 45278 invoked by uid 500); 20 Dec 2004 08:33:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45230 invoked by uid 500); 20 Dec 2004 08:33:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45210 invoked by uid 99); 20 Dec 2004 08:33:34 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53904.mail.yahoo.com (HELO web53904.mail.yahoo.com)
 (206.190.36.214)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 00:33:29 -0800
Received: (qmail 13941 invoked by uid 60001); 20 Dec 2004 08:33:21 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=TUtmcMpRtxzGIo2tAfLbhLzMovFiXdqcGs694+YF04zRoU13VqjXaWPfhgDn63F7ctncr+FzBJkm13idrM3ReLVW8GuIzoyHesfPFCOyVScRggarlHWglTnaYhjNGROZromHAF7uXE+oQxztm7LhIu7e7GkUsJJIFmIK2cCPZdI=
  ;
Message-ID: <20041220083321.13939.qmail@web53904.mail.yahoo.com>
Received: from [203.145.156.130] by web53904.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 00:33:21 PST
Date: Mon, 20 Dec 2004 00:33:21 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Relevance percentage
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2056371951-1103531601=:13172"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-2056371951-1103531601=:13172
Content-Type: text/plain; charset=us-ascii

How to find out the percentages of matched terms in the document(s) using Lucene ?
Here is an example, of what i am trying to do:
The search query has 5 terms(ibm, risc, tape, dirve, manual) and there are 4 matching 
documents with the following attributes:
Doc#1: contains terms(ibm,drive)
Doc#2: contains terms(ibm,risc, tape, drive)
Doc#3: contains terms(ibm,risc, tape,drive)
Doc#4: contains terms(ibm, risc, tape, drive, manual).
The percentages displayed would be 100%(Doc#4), 80%(doc#2), 80%(doc#3) and 40%
(doc#1).
 
Any help on how to go about doing this ?
 
Thanks,
Gururaja
 
 

		
---------------------------------
Do you Yahoo!?
 Send a seasonal email greeting and help others. Do good.
--0-2056371951-1103531601=:13172--

From MAILER-DAEMON Mon Dec 20 09:09:10 2004
Return-Path: 
 <lucene-user-return-12001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75760 invoked from network); 20 Dec 2004 09:09:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 09:09:10 -0000
Received: (qmail 20350 invoked by uid 500); 20 Dec 2004 09:08:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20320 invoked by uid 500); 20 Dec 2004 09:08:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20305 invoked by uid 99); 20 Dec 2004 09:08:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 01:08:53 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id C8988C9A81
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 10:08:45 +0100 (CET)
Message-ID: <41C6969D.3000501@fib.upc.edu>
Date: Mon, 20 Dec 2004 10:08:45 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Number of documents
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've to show to my boss if Lucene is the best option for create a search 
engine of a new portal.
I want to now how many documents do you have in your index?
And how many bigger is your DB?
the types of formats who has to support the portal are html jsp txt doc 
pdf ppt

another question that I have is:
I'm playing with the files of the book Lucene in Action and I try to use 
the example of handling types.The folder data contains 5 files, and 
created index contain five
documents what the only one that contains any word in the index is the 
.html file
Everybody have the same result?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 10:51:43 2004
Return-Path: 
 <lucene-user-return-12002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27855 invoked from network); 20 Dec 2004 10:51:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 10:51:43 -0000
Received: (qmail 33113 invoked by uid 500); 20 Dec 2004 10:50:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33037 invoked by uid 500); 20 Dec 2004 10:50:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33003 invoked by uid 99); 20 Dec 2004 10:50:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 02:50:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8D06813E2009; Mon, 20 Dec 2004 05:50:33 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 3E9B613E2007
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 05:50:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041219220558.94528.qmail@web41210.mail.yahoo.com>
References: <20041219220558.94528.qmail@web41210.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <F655FB0E-5274-11D9-BC04-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Optimising A Security Filter
Date: Mon, 20 Dec 2004 05:50:28 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul already replied, but I'll add my thoughts below to the thread=20
also...

On Dec 19, 2004, at 5:05 PM, Steve Skillcorn wrote:
> I bought the Lucene in Action ebook, which is
> excellent and I can strongly recommend.

Thank you!!!!

> Does the IndexReader that is passed to the =93bits=94
> method of the filter represent the entire index, or
> just the results that match the query?

It represents the entire index at the time it was instantiated.  This=20
is important to know in case documents are later added to the index.

> Is not worrying about filters and simply checking the
> returned Hit List before presenting a sensible
> approach?

It depends.  Is the performance of checking a relational database for=20
the results being shown to the user acceptable?  Is the security risk=20
of a new piece of code forgetting to check the results of a search=20
worth it?

> I can see the point to filters as presented in the
> Lucene in Action ISBN example, but are they a good
> approach where they could end up laboriously marking
> the entire index as True?

Iterating through every document in the index certainly is time=20
consuming and not something you should do for every search.  However,=20
filters are designed to be long-lived.  Write your filter to simply do=20=

the logic of checking each document against the database, then wrap=20
your filter with the caching wrapper.  Be sure to use the same=20
IndexReader for each search.  When the index changes, rebuild the=20
filter.

There is no clear best way to do this type of filtering of results, I=20
don't believe.  There are details to consider for either of these=20
approaches.

> All help greatly appreciated.  Thanks to the authors
> for Lucene in Action, it's given me the high level
> best practices I was needing.

Steve - I really appreciate hearing this.  Putting this work to public=20=

scrutiny opens the possibilities of opinion.  Your comments hearten me.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 11:24:19 2004
Return-Path: 
 <lucene-user-return-12003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45302 invoked from network); 20 Dec 2004 11:24:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 11:24:19 -0000
Received: (qmail 4284 invoked by uid 500); 20 Dec 2004 11:23:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4261 invoked by uid 500); 20 Dec 2004 11:23:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4222 invoked by uid 99); 20 Dec 2004 11:23:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 03:23:50 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 93F0613E28F6; Mon, 20 Dec 2004 06:23:47 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 1862513E2009
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 06:23:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C6969D.3000501@fib.upc.edu>
References: <41C6969D.3000501@fib.upc.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <98472C7A-5279-11D9-BC04-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Number of documents
Date: Mon, 20 Dec 2004 06:23:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 20, 2004, at 4:08 AM, Daniel Cortes wrote:
> I've to show to my boss if Lucene is the best option for create a 
> search engine of a new portal.
> I want to now how many documents do you have in your index?
> And how many bigger is your DB?

I highly recommend you use Luke to examine the index.  It is a great 
tool to have handy.  It shows these statistics and many others.

> the types of formats who has to support the portal are html jsp txt 
> doc pdf ppt

HTML, TXT, DOC, and PDF are all quite straightforward to do.  PPT is 
possible, perhaps POI will do the trick.  JSP depends on how you want 
to analyze it.  If any text in the file should be indexed (including 
JSP directives, taglibs, and HTML) then you can treat it as a text 
file.  If you need to eliminate the tags then you'll need to parse the 
JSP somehow, however I strongly recommend that content not reside in 
JSP pages but rather in a content management system, database, or such.

> another question that I have is:
> I'm playing with the files of the book Lucene in Action and I try to 
> use the example of handling types.The folder data contains 5 files, 
> and created index contain five
> documents what the only one that contains any word in the index is the 
> .html file
> Everybody have the same result?

Perhaps you are taking the output you see from "ant 
ExtensionFileHandler" as an indication of what words were indexed.  
This output, however, is showing Document.toString() which only shows 
the text in stored fields.  This particular example does not actually 
index the documents - it shows the generalized handling framework and 
the parsing of the files into a Lucene Document.  Most of the file 
handlers use unstored fields.  The output I get is shown below.  The 
handlers have successfully extracted the text from the files.  Maybe 
you're referring to the FileIndexer example?  We did not expose this 
one to the Ant launcher.  If FileIndexer is the code you're trying, let 
me know what you've tried and how you're looking for the words that you 
expect to see.  Again, most of the fields are unstored (meaning the 
original content is not stored in the index, only the terms extracted 
through analysis).

	Erik


# to make the output cleaner for e-mailing I set ANT_ARGS like this:
% echo $ANT_ARGS
-logger org.apache.tools.ant.NoBannerLogger -emacs -Dnopause=true

% ant ExtensionFileHandler 
-Dfile=src/lia/handlingtypes/data/addressbook-entry.xml
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
log4j:WARN No appenders could be found for logger 
(org.apache.commons.digester.Digester.sax).
log4j:WARN Please initialize the log4j system properly.
Document<Keyword<type:individual> Keyword<name:Zane Pasolini> 
Keyword<address:999 W. Prince St.> Keyword<city:New York> 
Keyword<province:NY> Keyword<postalcode:10013> Keyword<country:USA> 
Keyword<telephone:+1 212 345 6789>>

% ant ExtensionFileHandler -Dfile=src/lia/handlingtypes/data/HTML.html
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
Document<Text<title:Laptop power supplies are available in First Class 
only> Text<body:Code, Write, Fly This chapter is being written 11,000 
meters above New Foundland.>>

% ant ExtensionFileHandler 
-Dfile=src/lia/handlingtypes/data/PlainText.txt
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
Document<UnStored<body>>

% ant ExtensionFileHandler -Dfile=src/lia/handlingtypes/data/PDF.pdf
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
log4j:WARN No appenders could be found for logger 
(org.pdfbox.pdfparser.PDFParser).
log4j:WARN Please initialize the log4j system properly.
Document<UnStored<body>>

% ant ExtensionFileHandler -Dfile=src/lia/handlingtypes/data/RTF.rtf
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
Document<UnStored<body>>

% ant ExtensionFileHandler -Dfile=src/lia/handlingtypes/data/MSWord.doc
Buildfile: build.xml

ExtensionFileHandler:

       This example demonstrates the file extension document handler.
       Documents with extensions .xml, .rtf, .doc, .pdf, .html, and .txt 
are
       all handled by the framework.  The contents of the Lucene Document
       built for the specified file is displayed.

skipping input as property nopause has already been set.
skipping input as property file has already been set.
Running lia.handlingtypes.framework.ExtensionFileHandler...
Document<UnStored<body>>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 14:02:47 2004
Return-Path: 
 <lucene-user-return-12004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59864 invoked from network); 20 Dec 2004 14:02:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 14:02:47 -0000
Received: (qmail 40210 invoked by uid 500); 20 Dec 2004 14:01:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40192 invoked by uid 500); 20 Dec 2004 14:01:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40165 invoked by uid 99); 20 Dec 2004 14:01:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 06:01:45 -0800
Received: by wproxy.gmail.com with SMTP id 68so524408wri
        for <lucene-user@jakarta.apache.org>;
 Mon, 20 Dec 2004 06:01:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=QUwjbyxHLCGSrVvdgpJfhhB+Roz7l2/1hIBGTAEvC4FfpHb9w+jvEcYf46XXQNIddKHNoHhv+DyrM8aMqOgy30k7MXeURC92Bd6n0wq9/qrQhEdcePn3OqyJmZebPvQVXTTzAH9dO9msPBufH47sR/uH18NUVkVMSlD7qXv2CX8=
Received: by 10.54.22.53 with SMTP id 53mr539782wrv;
        Mon, 20 Dec 2004 06:01:42 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Mon, 20 Dec 2004 06:01:42 -0800 (PST)
Message-ID: <95fd5e1404122006011e380783@mail.gmail.com>
Date: Mon, 20 Dec 2004 09:01:42 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Relevance percentage
In-Reply-To: <20041220083321.13939.qmail@web53904.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20041220083321.13939.qmail@web53904.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm still new to Lucene, but wouldn't that be the coord()?  My
understanding is that the coord() is the fraction of the boolean query
that matched a given document.

Again, I'm new, so somebody else will have to confirm or deny...

-Mike


On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
<guru_hr29@yahoo.com> wrote:
> How to find out the percentages of matched terms in the document(s) using Lucene ?
> Here is an example, of what i am trying to do:
> The search query has 5 terms(ibm, risc, tape, dirve, manual) and there are 4 matching
> documents with the following attributes:
> Doc#1: contains terms(ibm,drive)
> Doc#2: contains terms(ibm,risc, tape, drive)
> Doc#3: contains terms(ibm,risc, tape,drive)
> Doc#4: contains terms(ibm, risc, tape, drive, manual).
> The percentages displayed would be 100%(Doc#4), 80%(doc#2), 80%(doc#3) and 40%
> (doc#1).
> 
> Any help on how to go about doing this ?
> 
> Thanks,
> Gururaja
> 
> 
> ---------------------------------
> Do you Yahoo!?
>  Send a seasonal email greeting and help others. Do good.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 14:12:33 2004
Return-Path: 
 <lucene-user-return-12005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64877 invoked from network); 20 Dec 2004 14:12:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 14:12:33 -0000
Received: (qmail 56739 invoked by uid 500); 20 Dec 2004 14:10:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56714 invoked by uid 500); 20 Dec 2004 14:10:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56675 invoked by uid 99); 20 Dec 2004 14:10:08 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53902.mail.yahoo.com (HELO web53902.mail.yahoo.com)
 (206.190.36.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 06:10:04 -0800
Received: (qmail 1686 invoked by uid 60001); 20 Dec 2004 14:09:55 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=uhlr0YRrNOayCzvVE4/lCQ2/QT6InwI3hHNsyoUguUtODPiAfPqmkyvgXig8Rd2MeeQCcSOJ4PLdMViolOz3D2WmliVEZDO/zoakquqW7r1R+1QSMOO0nC7cJrFN1cMVXdamlm2KdrNGLn3fGxUPIIEAUlxMDIZ9Fd7jSue+wTM=
  ;
Message-ID: <20041220140955.1684.qmail@web53902.mail.yahoo.com>
Received: from [203.145.156.130] by web53902.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 06:09:55 PST
Date: Mon, 20 Dec 2004 06:09:55 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Re: Relevance percentage
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Mike Snare <mikesnare@gmail.com>
In-Reply-To: <95fd5e1404122006011e380783@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1164909280-1103551795=:98722"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1164909280-1103551795=:98722
Content-Type: text/plain; charset=us-ascii

Hi,
 
But, How to calculate the coord() fraction ?  I know by default,
in DefaultSimilarity the coord() fraction is defined as below:

/** Implemented as <code>overlap / maxOverlap</code>. */

public float coord(int overlap, int maxOverlap) {

return overlap / (float)maxOverlap;

}
How to get the overlap and maxOverlap value in each of the matched document(s) ?
 
Thanks,
Gururaja

Mike Snare <mikesnare@gmail.com> wrote:
I'm still new to Lucene, but wouldn't that be the coord()? My
understanding is that the coord() is the fraction of the boolean query
that matched a given document.

Again, I'm new, so somebody else will have to confirm or deny...

-Mike


On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
wrote:
> How to find out the percentages of matched terms in the document(s) using Lucene ?
> Here is an example, of what i am trying to do:
> The search query has 5 terms(ibm, risc, tape, dirve, manual) and there are 4 matching
> documents with the following attributes:
> Doc#1: contains terms(ibm,drive)
> Doc#2: contains terms(ibm,risc, tape, drive)
> Doc#3: contains terms(ibm,risc, tape,drive)
> Doc#4: contains terms(ibm, risc, tape, drive, manual).
> The percentages displayed would be 100%(Doc#4), 80%(doc#2), 80%(doc#3) and 40%
> (doc#1).
> 
> Any help on how to go about doing this ?
> 
> Thanks,
> Gururaja
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Send a seasonal email greeting and help others. Do good.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 All your favorites on one personal page � Try My Yahoo!
--0-1164909280-1103551795=:98722--

From MAILER-DAEMON Mon Dec 20 14:26:33 2004
Return-Path: 
 <lucene-user-return-12006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88828 invoked from network); 20 Dec 2004 14:26:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 14:26:33 -0000
Received: (qmail 88759 invoked by uid 500); 20 Dec 2004 14:25:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88729 invoked by uid 500); 20 Dec 2004 14:25:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88680 invoked by uid 99); 20 Dec 2004 14:25:11 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ppv_milestone@hotmail.com
 designates 65.54.244.119 as permitted sender)
Received: from bay1-dav15.bay1.hotmail.com (HELO hotmail.com) (65.54.244.119)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 06:25:08 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 20 Dec 2004 06:25:03 -0800
Message-ID: <BAY1-DAV15EF6C49850A7B4C617B7B88A20@phx.gbl>
Received: from 217.157.38.99 by BAY1-DAV15.phx.gbl with DAV;
	Mon, 20 Dec 2004 14:24:05 +0000
X-Originating-IP: [217.157.38.99]
X-Originating-Email: [ppv_milestone@hotmail.com]
X-Sender: ppv_milestone@hotmail.com
From: "Peter Posselt Vestergaard" <ppv_milestone@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: analyzer effecting phrases?
Date: Mon, 20 Dec 2004 15:24:07 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTmn5Be0M0UX4OaTzeYVZynvLG5kw==
X-OriginalArrivalTime: 20 Dec 2004 14:25:03.0817 (UTC)
 FILETIME=[B2437390:01C4E69F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
I am building an index of texts, each related to a unique id. The unique ids
might contain a number of underscores which will make the standardanalyzer
shorten them after it sees the second underscore in a row. Furthermore many
of the texts I am indexing is in Italian so the removal of 'trivial' words
done by the standard analyzer is not necessarily meaningful for these texts.
Therefore I am instead using an analyzer made from the WhitespaceTokenizer
and the LowerCaseFilter.
This works fine for me until I try searching for a phrase. I am searching
for a simple phrase containing two words and with double-quotes around it. I
have found the phrase in one of the texts so I know it should return at
least one result, but none is found. If I remove the double-quotes and
searches for the 2 words with AND between them I do find the story.
Can anyone tell me if this is an obvious (side-)effect of not using the
standard analyzer? And is there a better solution to my problem than using
the very simple analyzer?
Best regards
Peter Vestergaard
PS: I use the same analyzer for both searching and indexing (of course).

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 17:21:41 2004
Return-Path: 
 <lucene-user-return-12015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90980 invoked from network); 20 Dec 2004 17:21:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:21:41 -0000
Received: (qmail 72989 invoked by uid 500); 20 Dec 2004 17:07:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72958 invoked by uid 500); 20 Dec 2004 17:07:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72941 invoked by uid 99); 20 Dec 2004 17:07:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ppeddi@contextmedia.com
 designates 64.65.202.3 as permitted sender)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 09:07:07 -0800
Received: from ppeddi ([192.168.1.33]) by contextmedia.com ;
 Mon, 20 Dec 2004 10:25:14 -0500
Message-ID: <00ef01c4e6a7$f99b2dc0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: sorting on a field that can have null values
Date: Mon, 20 Dec 2004 10:24:19 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00EC_01C4E67E.10AD5800"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00EC_01C4E67E.10AD5800
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
I am getting null pointer exception when I am sorting on a field that =
has null value for some documents. "Order by" in sql does work on such =
fields and I think it puts all results with null values at the end of =
the list. Shouldn't lucene also do the same thing instead of throwing =
null pointer exception. Is this an expected behaviour? Is lucene always =
expecting some value on the sortable fields?

I thought of putting empty strings instead of null values but I think =
empty strings are put first in the list while sorting which is the =
reverse of what anyone would want.=20

Following is the exception I saw in the error log:

java.lang.NullPointerException
 at =
org.apache.lucene.search.SortComparator$1.compare(Lorg.apache.lucene.sear=
ch.ScoreDoc;Lorg.apache.lucene.search.ScoreDoc;)I(SortComparator.java:36)=

 at =
org.apache.lucene.search.FieldSortedHitQueue.lessThan(Ljava.lang.Object;L=
java.lang.Object;)Z(FieldSortedHitQueue.java:95)
 at =
org.apache.lucene.util.PriorityQueue.upHeap()V(PriorityQueue.java:120)
 at =
org.apache.lucene.util.PriorityQueue.put(Ljava.lang.Object;)V(PriorityQue=
ue.java:47)
 at =
org.apache.lucene.util.PriorityQueue.insert(Ljava.lang.Object;)Z(Priority=
Queue.java:58)
 at =
org.apache.lucene.search.IndexSearcher$2.collect(IF)V(IndexSearcher.java:=
130)
 at =
org.apache.lucene.search.Scorer.score(Lorg.apache.lucene.search.HitCollec=
tor;)V(Scorer.java:38)
 at =
org.apache.lucene.search.IndexSearcher.search(Lorg.apache.lucene.search.Q=
uery;Lorg.apache.lucene.search.Filter;ILorg.apache.lucene.search.Sort;)Lo=
rg.apache.lucene.search.TopFieldDocs;(IndexSearcher.java:125)
 at org.apache.lucene.search.Hits.getMoreDocs(I)V(Hits.java:64)
 at =
org.apache.lucene.search.Hits.<init>(Lorg.apache.lucene.search.Searcher;L=
org.apache.lucene.search.Query;Lorg.apache.lucene.search.Filter;Lorg.apac=
he.lucene.search.Sort;)V(Hits.java:51)
 at =
org.apache.lucene.search.Searcher.search(Lorg.apache.lucene.search.Query;=
Lorg.apache.lucene.search.Sort;)Lorg.apache.lucene.search.Hits;(Searcher.=
java:41)

If its a bug in lucene, Will it be fixed in next release? Any =
suggestions would be appreciated.

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_00EC_01C4E67E.10AD5800--


From MAILER-DAEMON Mon Dec 20 15:44:04 2004
Return-Path: 
 <lucene-user-return-12007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32614 invoked from network); 20 Dec 2004 15:44:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 15:44:04 -0000
Received: (qmail 42698 invoked by uid 500); 20 Dec 2004 15:32:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42655 invoked by uid 500); 20 Dec 2004 15:32:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42623 invoked by uid 99); 20 Dec 2004 15:32:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gateway.aidministrator.nl (HELO mail.aduna.biz)
 (213.53.169.170)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 07:32:23 -0800
Received: from [127.0.0.1] (laguna.tech.aduna.biz [10.1.0.20])
	by mail.aduna.biz (Postfix) with ESMTP id 385435A0742E
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 16:32:38 +0100 (CET)
Message-ID: <41C6F075.5020802@aduna.biz>
Date: Mon, 20 Dec 2004 16:32:05 +0100
From: Christiaan Fluit <christiaan.fluit@aduna.biz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: determination of matching hits
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I have a question regarding the determination of the set of matching 
documents, in particular (I guess) related to the NOT operator.

In my case I have a document containing the terms A and B. When I query 
for either A or for B, I get this document back, just as expected. Now 
when I query for A -B, I once again get this document back. In other 
words: this document matches both B and a query containing the clause 
-B, which theoretically should never happen.

I've seen this happen with various keywords, sometimes with multiple 
"conflicting" documents. In each case, the B query returned the document 
with a very low relevance (e.g. 0.007...).

Based on these low relevancies and a quick peek in the Lucene code, I 
strongly suspect that this is caused by rounding errors, as it seems to 
me that floating point numbers are used to both express the membership 
of a set as well as its score. Can somebody confirm this?

And if this is the case, is there a workaround to eliminate or at least 
significantly suppress this problem? A colleague mentioned boosting 
every term in a query, would this solve anything?

For most search engine-like applications, which order documents on 
relevance, I think this problem is not a real issue since such 
conflicting documents appear at the end of the result list and are not 
likely to be seen by the user. However, in our case we have an 
application which displays overlaps of entire result sets and these 
documents show up very prominently (I can show screenshots if desired). 
We have already been asked by customers to explain these results :)

FYI, in case it may be relevant: I'm still using Lucene 1.4.2. Every 
document has the same set of five fields. The above queries are parsed 
by MultiFieldQueryParser, using all five fields. I haven't touched the 
default operator, but the queries A AND -B and A AND NOT B give the same 
conflicting overlap in the result set.


Thanks in advance,

Christiaan Fluit
Aduna.biz
--


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 16:01:31 2004
Return-Path: 
 <lucene-user-return-12008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43779 invoked from network); 20 Dec 2004 16:01:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 16:01:31 -0000
Received: (qmail 87921 invoked by uid 500); 20 Dec 2004 15:50:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87901 invoked by uid 500); 20 Dec 2004 15:50:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87887 invoked by uid 99); 20 Dec 2004 15:50:38 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outmail.amdocs.com (HELO outmail.amdocs.com) (212.117.152.141)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 07:50:35 -0800
Received: from omail1.amdocs.com (omail.amdocs.com [80.179.114.1])
	by outmail.amdocs.com (8.12.9/8.12.9) with ESMTP id iBKG9GKp022496
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 18:09:17 +0200
Received: from tlvmail7.corp.amdocs.com (localhost [127.0.0.1])
	by omail1.amdocs.com (8.12.11/8.12.11) with ESMTP id iBKFmZ0x003326
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 17:48:35 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4E6AB.E3ECEB9F"
Subject: Queries difference
Date: Mon, 20 Dec 2004 17:52:21 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D10EF@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Queries difference
Thread-Index: AcTmq+On5dP+HJiERKOoQ7g8Z5o3ig==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E6AB.E3ECEB9F
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hello, I want to know is there a difference between queries:

+city(+London Amsterdam) +address(1_street 2_street)

And

+city(+London) +city(Amsterdam) +address(1_street)  +address(2_street)

Thanks in advance

Alex Kiselevsky
 Speech Technology		Tel:	972-9-776-43-46
R&D, Amdocs - Israel		Mobile:	972-53-63 50 38
mailto:alexkis@amdocs.com




The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C4E6AB.E3ECEB9F--

From MAILER-DAEMON Mon Dec 20 16:20:37 2004
Return-Path: 
 <lucene-user-return-12009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58514 invoked from network); 20 Dec 2004 16:20:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 16:20:37 -0000
Received: (qmail 38413 invoked by uid 500); 20 Dec 2004 16:11:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38362 invoked by uid 500); 20 Dec 2004 16:11:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38256 invoked by uid 99); 20 Dec 2004 16:11:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 08:11:19 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id CFA4823C55
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 17:12:07 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 12385-02 for <lucene-user@jakarta.apache.org>;
 Mon, 20 Dec 2004 17:12:07 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id AB3F223C18
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 17:12:07 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iBKGBBmA023051
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 17:11:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iBKGBBXV023047;
	Mon, 20 Dec 2004 17:11:11 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16838.63903.570203.34212@tucholsky.office.tanto.de>
Date: Mon, 20 Dec 2004 17:11:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Queries difference
In-Reply-To: <77D8711AC919F24FBB698EE60D6034A80D10EF@tlvmail7.corp.amdocs.com>
References: <77D8711AC919F24FBB698EE60D6034A80D10EF@tlvmail7.corp.amdocs.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex Kiselevski writes:
> 
> Hello, I want to know is there a difference between queries:
> 
> +city(+London Amsterdam) +address(1_street 2_street)
> 
> And
> 
> +city(+London) +city(Amsterdam) +address(1_street)  +address(2_street)
> 
I guess you mean city:(... and so on.

The first query searches documents containing 'London' in city, scoring
results also containing Amsterdam higher, and containing 1_street or 2_street
in address.
The second query searches for documents containing both London and Amsterdam
in city and 1_street and 2_street in address.
Note the the + before London in the second query doesn't mean anything.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 16:32:05 2004
Return-Path: 
 <lucene-user-return-12010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65856 invoked from network); 20 Dec 2004 16:32:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 16:32:05 -0000
Received: (qmail 59888 invoked by uid 500); 20 Dec 2004 16:19:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59773 invoked by uid 500); 20 Dec 2004 16:19:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59725 invoked by uid 99); 20 Dec 2004 16:19:49 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com)
 (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 08:19:46 -0800
Received: (qmail 60666 invoked by uid 60001); 20 Dec 2004 16:19:43 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ez41zfeCL/EW9R7qYsSeLohoKFy/x76VgcCmad5uxp7xg/vMyPKwIw8o9GLBwwXBWcfNi1L84GQgYiD817GVDYjcOwhBQBb2vuiGpgTopNKGfjysIH2v4B0tRsrKC+1rWykxYpcjyje2/pxvdVm8+65y9O6yybALGtMnUkTTIEY=
  ;
Message-ID: <20041220161943.60664.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 08:19:42 PST
Date: Mon, 20 Dec 2004 08:19:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: analyzer effecting phrases?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY1-DAV15EF6C49850A7B4C617B7B88A20@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When searching for phrases, what's important is the position of each
token/word extracted by the Analyzer. 
WhitespaceAnalyzer/LowerCaseFilter don't do anything with the
positional information.  There is nothing else in your Analyzer?

In any case, the following should help you see what your Analyzer is
doing:
http://wiki.apache.org/jakarta-lucene/AnalysisParalysis and you can
augment the code there to provide positional information, too.

Otis

--- Peter Posselt Vestergaard <ppv_milestone@hotmail.com> wrote:

> Hi
> I am building an index of texts, each related to a unique id. The
> unique ids
> might contain a number of underscores which will make the
> standardanalyzer
> shorten them after it sees the second underscore in a row.
> Furthermore many
> of the texts I am indexing is in Italian so the removal of 'trivial'
> words
> done by the standard analyzer is not necessarily meaningful for these
> texts.
> Therefore I am instead using an analyzer made from the
> WhitespaceTokenizer
> and the LowerCaseFilter.
> This works fine for me until I try searching for a phrase. I am
> searching
> for a simple phrase containing two words and with double-quotes
> around it. I
> have found the phrase in one of the texts so I know it should return
> at
> least one result, but none is found. If I remove the double-quotes
> and
> searches for the 2 words with AND between them I do find the story.
> Can anyone tell me if this is an obvious (side-)effect of not using
> the
> standard analyzer? And is there a better solution to my problem than
> using
> the very simple analyzer?
> Best regards
> Peter Vestergaard
> PS: I use the same analyzer for both searching and indexing (of
> course).
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 16:38:17 2004
Return-Path: 
 <lucene-user-return-12011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69557 invoked from network); 20 Dec 2004 16:38:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 16:38:17 -0000
Received: (qmail 77262 invoked by uid 500); 20 Dec 2004 16:26:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77242 invoked by uid 500); 20 Dec 2004 16:26:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77225 invoked by uid 99); 20 Dec 2004 16:26:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outmail.amdocs.com (HELO outmail.amdocs.com) (212.117.152.141)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 08:26:49 -0800
Received: from omail1.amdocs.com (omail.amdocs.com [80.179.114.1])
	by outmail.amdocs.com (8.12.9/8.12.9) with ESMTP id iBKGjDKp024612
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 18:45:14 +0200
Received: from tlvmail7.corp.amdocs.com (localhost [127.0.0.1])
	by omail1.amdocs.com (8.12.11/8.12.11) with ESMTP id iBKGOVx6011816
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 18:24:31 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Queries difference
Date: Mon, 20 Dec 2004 18:28:17 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D10F0@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Queries difference
Thread-Index: AcTmsECvNKkiQdrWSnCxaMN8A3QBSAAAHH3Q
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thanks Morus
So if I understand right
If the seqond query is :
+city(London) +city(Amsterdam) +address(1_street)  +address(2_street)

Both queries have the same value ?
-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto.de]=0D
Sent: Monday, December 20, 2004 6:11 PM
To: Lucene Users List
Subject: Re: Queries difference


Alex Kiselevski writes:
>=0D
> Hello, I want to know is there a difference between queries:
>=0D
> +city(+London Amsterdam) +address(1_street 2_street)
>=0D
> And
>=0D
> +city(+London) +city(Amsterdam) +address(1_street)  +address(2_street)
>=0D
I guess you mean city:(... and so on.

The first query searches documents containing 'London' in city, scoring
results also containing Amsterdam higher, and containing 1_street or
2_street in address. The second query searches for documents containing
both London and Amsterdam in city and 1_street and 2_street in address.
Note the the + before London in the second query doesn't mean anything.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 17:03:41 2004
Return-Path: 
 <lucene-user-return-12012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80892 invoked from network); 20 Dec 2004 17:03:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:03:41 -0000
Received: (qmail 18810 invoked by uid 500); 20 Dec 2004 16:43:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18793 invoked by uid 500); 20 Dec 2004 16:43:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18765 invoked by uid 99); 20 Dec 2004 16:43:08 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 08:43:05 -0800
Received: (qmail 17778 invoked by uid 60001); 20 Dec 2004 16:42:59 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=lRt7WPmrv1wSvdA/dQQ93HLpB9FcuUp5ENEyga1AjWoAmEVjN1ILOfV/snvURQL1Rl37tazRQTJ5qtAP5ojuhDwJyIB9uYXk96eUu+ubfCO0+a2gpPodssFGFsUbmfY2djBF8lZ+ux74Dtm+rCFIOhVD2C8xhC1iubSU80vD7xw=
  ;
Message-ID: <20041220164259.17776.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 08:42:59 PST
Date: Mon, 20 Dec 2004 08:42:59 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Queries difference
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <77D8711AC919F24FBB698EE60D6034A80D10F0@tlvmail7.corp.amdocs.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex, I think you want this:

+city:London +city:Amsterdam +address:1_street +address:2_street

Otis


--- Alex Kiselevski <ALEXKIS@Amdocs.com> wrote:

> 
> Thanks Morus
> So if I understand right
> If the seqond query is :
> +city(London) +city(Amsterdam) +address(1_street)  +address(2_street)
> 
> Both queries have the same value ?
> -----Original Message-----
> From: Morus Walter [mailto:morus.walter@tanto.de]
> Sent: Monday, December 20, 2004 6:11 PM
> To: Lucene Users List
> Subject: Re: Queries difference
> 
> 
> Alex Kiselevski writes:
> >
> > Hello, I want to know is there a difference between queries:
> >
> > +city(+London Amsterdam) +address(1_street 2_street)
> >
> > And
> >
> > +city(+London) +city(Amsterdam) +address(1_street) 
> +address(2_street)
> >
> I guess you mean city:(... and so on.
> 
> The first query searches documents containing 'London' in city,
> scoring
> results also containing Amsterdam higher, and containing 1_street or
> 2_street in address. The second query searches for documents
> containing
> both London and Amsterdam in city and 1_street and 2_street in
> address.
> Note the the + before London in the second query doesn't mean
> anything.
> 
> HTH
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> The information contained in this message is proprietary of Amdocs,
> protected from disclosure, and may be privileged.
> The information is intended to be conveyed only to the designated
> recipient(s)
> of the message. If the reader of this message is not the intended
> recipient,
> you are hereby notified that any dissemination, use, distribution or
> copying of
> this communication is strictly prohibited and may be unlawful.
> If you have received this communication in error, please notify us
> immediately
> by replying to the message and deleting it from your computer.
> Thank you.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 17:19:25 2004
Return-Path: 
 <lucene-user-return-12013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89656 invoked from network); 20 Dec 2004 17:19:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:19:25 -0000
Received: (qmail 61344 invoked by uid 500); 20 Dec 2004 17:02:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61273 invoked by uid 500); 20 Dec 2004 17:02:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61255 invoked by uid 99); 20 Dec 2004 17:02:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu)
 (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 09:01:56 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 1896C1F536C
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 12:01:54 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 04644-09 for <lucene-user@jakarta.apache.org>;
 Mon, 20 Dec 2004 12:01:53 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id B947A1F5364
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 12:01:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C6F075.5020802@aduna.biz>
References: <41C6F075.5020802@aduna.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DB89E7D2-52A8-11D9-AB36-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: determination of matching hits
Date: Mon, 20 Dec 2004 12:01:57 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Christian,

Please simplify your situation.  Use a plain TermQuery for "B" and see 
what is returned.  Then use a simple BooleanQuery for "A -B".  I 
suspect MultiFieldQueryParser is the culprit.  What does the toString 
of the generated Query return?  MFQP is known to be trouble, and an 
overhaul to it has been contributed recently.

	Erik

On Dec 20, 2004, at 10:32 AM, Christiaan Fluit wrote:

> Hello all,
>
> I have a question regarding the determination of the set of matching 
> documents, in particular (I guess) related to the NOT operator.
>
> In my case I have a document containing the terms A and B. When I 
> query for either A or for B, I get this document back, just as 
> expected. Now when I query for A -B, I once again get this document 
> back. In other words: this document matches both B and a query 
> containing the clause -B, which theoretically should never happen.
>
> I've seen this happen with various keywords, sometimes with multiple 
> "conflicting" documents. In each case, the B query returned the 
> document with a very low relevance (e.g. 0.007...).
>
> Based on these low relevancies and a quick peek in the Lucene code, I 
> strongly suspect that this is caused by rounding errors, as it seems 
> to me that floating point numbers are used to both express the 
> membership of a set as well as its score. Can somebody confirm this?
>
> And if this is the case, is there a workaround to eliminate or at 
> least significantly suppress this problem? A colleague mentioned 
> boosting every term in a query, would this solve anything?
>
> For most search engine-like applications, which order documents on 
> relevance, I think this problem is not a real issue since such 
> conflicting documents appear at the end of the result list and are not 
> likely to be seen by the user. However, in our case we have an 
> application which displays overlaps of entire result sets and these 
> documents show up very prominently (I can show screenshots if 
> desired). We have already been asked by customers to explain these 
> results :)
>
> FYI, in case it may be relevant: I'm still using Lucene 1.4.2. Every 
> document has the same set of five fields. The above queries are parsed 
> by MultiFieldQueryParser, using all five fields. I haven't touched the 
> default operator, but the queries A AND -B and A AND NOT B give the 
> same conflicting overlap in the result set.
>
>
> Thanks in advance,
>
> Christiaan Fluit
> Aduna.biz
> --
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 17:20:44 2004
Return-Path: 
 <lucene-user-return-12014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90562 invoked from network); 20 Dec 2004 17:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:20:44 -0000
Received: (qmail 72806 invoked by uid 500); 20 Dec 2004 17:07:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72790 invoked by uid 500); 20 Dec 2004 17:07:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72768 invoked by uid 99); 20 Dec 2004 17:07:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 09:07:03 -0800
Received: from ppeddi ([192.168.1.33]) by contextmedia.com ;
 Mon, 20 Dec 2004 12:06:56 -0500
Message-ID: <012f01c4e6b6$2eff82f0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: sorting on a field that can have null values
Date: Mon, 20 Dec 2004 12:06:01 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_012C_01C4E68C.461D9410"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_012C_01C4E68C.461D9410
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
I am getting null pointer exception when I am sorting on a field that =
has null value for some documents. "Order by" in sql does work on such =
fields and I think it puts all results with null values at the end of =
the list. Shouldn't lucene also do the same thing instead of throwing =
null pointer exception. Is this an expected behaviour? Is lucene always =
expecting some value on the sortable fields?

I thought of putting empty strings instead of null values but I think =
empty strings are put first in the list while sorting which is the =
reverse of what anyone would want.=20

Following is the exception I saw in the error log:

java.lang.NullPointerException
 at =
org.apache.lucene.search.SortComparator$1.compare(Lorg.apache.lucene.sear=
ch.ScoreDoc;Lorg.apache.lucene.search.ScoreDoc;)I(SortComparator.java:36)=

 at =
org.apache.lucene.search.FieldSortedHitQueue.lessThan(Ljava.lang.Object;L=
java.lang.Object;)Z(FieldSortedHitQueue.java:95)
 at =
org.apache.lucene.util.PriorityQueue.upHeap()V(PriorityQueue.java:120)
 at =
org.apache.lucene.util.PriorityQueue.put(Ljava.lang.Object;)V(PriorityQue=
ue.java:47)
 at =
org.apache.lucene.util.PriorityQueue.insert(Ljava.lang.Object;)Z(Priority=
Queue.java:58)
 at =
org.apache.lucene.search.IndexSearcher$2.collect(IF)V(IndexSearcher.java:=
130)
 at =
org.apache.lucene.search.Scorer.score(Lorg.apache.lucene.search.HitCollec=
tor;)V(Scorer.java:38)
 at =
org.apache.lucene.search.IndexSearcher.search(Lorg.apache.lucene.search.Q=
uery;Lorg.apache.lucene.search.Filter;ILorg.apache.lucene.search.Sort;)Lo=
rg.apache.lucene.search.TopFieldDocs;(IndexSearcher.java:125)
 at org.apache.lucene.search.Hits.getMoreDocs(I)V(Hits.java:64)
 at =
org.apache.lucene.search.Hits.<init>(Lorg.apache.lucene.search.Searcher;L=
org.apache.lucene.search.Query;Lorg.apache.lucene.search.Filter;Lorg.apac=
he.lucene.search.Sort;)V(Hits.java:51)
 at =
org.apache.lucene.search.Searcher.search(Lorg.apache.lucene.search.Query;=
Lorg.apache.lucene.search.Sort;)Lorg.apache.lucene.search.Hits;(Searcher.=
java:41)

If its a bug in lucene, Will it be fixed in next release? Any =
suggestions would be appreciated.

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20



------=_NextPart_000_012C_01C4E68C.461D9410--


From MAILER-DAEMON Mon Dec 20 17:32:57 2004
Return-Path: 
 <lucene-user-return-12016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98615 invoked from network); 20 Dec 2004 17:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:32:57 -0000
Received: (qmail 41746 invoked by uid 500); 20 Dec 2004 17:31:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41712 invoked by uid 500); 20 Dec 2004 17:31:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41632 invoked by uid 99); 20 Dec 2004 17:31:19 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 09:31:16 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Relevance percentage
Date: Mon, 20 Dec 2004 09:31:12 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6CFB@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relevance percentage
Thread-Index: AcTmnfCjJMK460SdTr6AgT1thkVgpgAGtclQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The coord() value is not saved anywhere so you would need to recompute
it.  You could either call explain() and parse the result string, or
better, look at explain() and implement what it does more efficiently
just for coord().  If your queries are all BooleanQuery's of
TermQuery's, then this is very simple.  Iterate down the list of
BooleanClause's and count the number whose score is > 0, then divide
this by the total number of clauses.  Take a look at
BooleanQuery.BooleanWeight.explain() as it does this (along with
generating the rest of the explanation).  If you support the full Lucene
query language, then you need to look at all the query types and decide
what exactly you want to compute (as coord is not always well-defined).

I'm on the West Coast of the U.S. so evidently on a very different time
zone from you -- will look at your other message next.

Chuck

  > -----Original Message-----
  > From: Gururaja H [mailto:guru_hr29@yahoo.com]
  > Sent: Monday, December 20, 2004 6:10 AM
  > To: Lucene Users List; Mike Snare
  > Subject: Re: Relevance percentage
  >=20
  > Hi,
  >=20
  > But, How to calculate the coord() fraction ?  I know by default,
  > in DefaultSimilarity the coord() fraction is defined as below:
  >=20
  > /** Implemented as <code>overlap / maxOverlap</code>. */
  >=20
  > public float coord(int overlap, int maxOverlap) {
  >=20
  > return overlap / (float)maxOverlap;
  >=20
  > }
  > How to get the overlap and maxOverlap value in each of the matched
  > document(s) ?
  >=20
  > Thanks,
  > Gururaja
  >=20
  > Mike Snare <mikesnare@gmail.com> wrote:
  > I'm still new to Lucene, but wouldn't that be the coord()? My
  > understanding is that the coord() is the fraction of the boolean
query
  > that matched a given document.
  >=20
  > Again, I'm new, so somebody else will have to confirm or deny...
  >=20
  > -Mike
  >=20
  >=20
  > On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
  > wrote:
  > > How to find out the percentages of matched terms in the
document(s)
  > using Lucene ?
  > > Here is an example, of what i am trying to do:
  > > The search query has 5 terms(ibm, risc, tape, dirve, manual) and
there
  > are 4 matching
  > > documents with the following attributes:
  > > Doc#1: contains terms(ibm,drive)
  > > Doc#2: contains terms(ibm,risc, tape, drive)
  > > Doc#3: contains terms(ibm,risc, tape,drive)
  > > Doc#4: contains terms(ibm, risc, tape, drive, manual).
  > > The percentages displayed would be 100%(Doc#4), 80%(doc#2),
80%(doc#3)
  > and 40%
  > > (doc#1).
  > >
  > > Any help on how to go about doing this ?
  > >
  > > Thanks,
  > > Gururaja
  > >
  > >
  > > ---------------------------------
  > > Do you Yahoo!?
  > > Send a seasonal email greeting and help others. Do good.
  > >
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >=20
  > ---------------------------------
  > Do you Yahoo!?
  >  All your favorites on one personal page - Try My Yahoo!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 17:44:23 2004
Return-Path: 
 <lucene-user-return-12017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4642 invoked from network); 20 Dec 2004 17:44:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 17:44:23 -0000
Received: (qmail 72772 invoked by uid 500); 20 Dec 2004 17:43:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72749 invoked by uid 500); 20 Dec 2004 17:43:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72691 invoked by uid 99); 20 Dec 2004 17:43:08 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ppv_milestone@hotmail.com
 designates 65.54.244.107 as permitted sender)
Received: from bay1-dav3.bay1.hotmail.com (HELO hotmail.com) (65.54.244.107)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 09:43:03 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 20 Dec 2004 09:43:00 -0800
Message-ID: <BAY1-DAV3E5A0D64A566C2CB17ADE88A20@phx.gbl>
Received: from 217.157.38.99 by BAY1-DAV3.phx.gbl with DAV;
	Mon, 20 Dec 2004 17:42:34 +0000
X-Originating-IP: [217.157.38.99]
X-Originating-Email: [ppv_milestone@hotmail.com]
X-Sender: ppv_milestone@hotmail.com
From: "Peter Posselt Vestergaard" <ppv_milestone@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: RE: analyzer effecting phrases?
Date: Mon, 20 Dec 2004 18:43:50 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTmn5Be0M0UX4OaTzeYVZynvLG5kwAGtLgg
In-Reply-To: 
X-OriginalArrivalTime: 20 Dec 2004 17:43:00.0782 (UTC)
 FILETIME=[597C7CE0:01C4E6BB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi again
Thanks for your answer, Otis. My analyzer did not do anything else than
using the WhitespaceAnalyzer/LowerCaseFilter.
However I found out that I got problems with characters such as ",.:" when
searching because of my simple analyzer. (E.g. I would not be able to search
for "world" in the string "Hello world." as . became part of the last word).

Therefore I turned back to the standard analyzer and now do some replacing
of the underscores in my ID string to avoid my original problem. This solved
my phrase problem so that I can now search for phrases. However I still have
the problem with ",.:" described above. As far as I can see the
StandardAnalyzer (the StandardTokenizer that is) should tokenize words
without the ",.:" characters. Am I mistaken? Is there a tokenizer that will
do this?
Thanks for the help!
Regards
Peter

> Date: Mon, 20 Dec 2004 08:19:42 -0800 (PST)
> From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> Subject: analyzer effecting phrases?
> Content-Type: text/plain; charset=us-ascii
> 
> 
> When searching for phrases, what's important is the position of each
> token/word extracted by the Analyzer. 
> WhitespaceAnalyzer/LowerCaseFilter don't do anything with the
> positional information.  There is nothing else in your Analyzer?
> 
> In any case, the following should help you see what your Analyzer is
> doing:
> http://wiki.apache.org/jakarta-lucene/AnalysisParalysis and you can
> augment the code there to provide positional information, too.
> 
> Otis
> 
> -----Original Message-----
> From: Peter Posselt Vestergaard [mailto:ppv_milestone@hotmail.com] 
> Sent: 20. december 2004 15:24
> To: 'lucene-user@jakarta.apache.org'
> Subject: analyzer effecting phrases?
> 
> Hi
> I am building an index of texts, each related to a unique id. 
> The unique ids might contain a number of underscores which 
> will make the standardanalyzer shorten them after it sees the 
> second underscore in a row. Furthermore many of the texts I 
> am indexing is in Italian so the removal of 'trivial' words 
> done by the standard analyzer is not necessarily meaningful 
> for these texts. Therefore I am instead using an analyzer 
> made from the WhitespaceTokenizer and the LowerCaseFilter.
> This works fine for me until I try searching for a phrase. I 
> am searching for a simple phrase containing two words and 
> with double-quotes around it. I have found the phrase in one 
> of the texts so I know it should return at least one result, 
> but none is found. If I remove the double-quotes and searches 
> for the 2 words with AND between them I do find the story.
> Can anyone tell me if this is an obvious (side-)effect of not 
> using the standard analyzer? And is there a better solution 
> to my problem than using the very simple analyzer?
> Best regards
> Peter Vestergaard
> PS: I use the same analyzer for both searching and indexing 
> (of course).

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 18:10:26 2004
Return-Path: 
 <lucene-user-return-12018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14885 invoked from network); 20 Dec 2004 18:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 18:10:26 -0000
Received: (qmail 29571 invoked by uid 500); 20 Dec 2004 18:06:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29541 invoked by uid 500); 20 Dec 2004 18:06:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29520 invoked by uid 99); 20 Dec 2004 18:06:35 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 10:06:32 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Relevance and ranking ...
Date: Mon, 20 Dec 2004 10:06:25 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6D2D@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relevance and ranking ...
Thread-Index: AcTmWphS08hXA12iTV2qyvpKZeDLVAAYZ09w
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe your sole problem is that you need to tone down your
lengthNorm.  Because doc4 is 10 times longer than doc2, its lengthNorm
is less than 1/3 of that of doc2 (1/sqrt(10) to be precise).  This is a
larger effect than the higher coord factor (1/.8) and the extra matching
term in doc4.

In your original description, it sounds like you want coord() to
dominate lengthNorm(), with lengthNorm() just being used as a
tie-breaker among queries with the same coord().

To achieve this, you need to reduce the impact of the lengthNorm()
differences, by changing the sqrt() function in the computation of
lengthNorm to something much flatter.  E.g., you might use:

  public float lengthNorm(String fieldName, int numTerms) {
    return (float)(1.0 / Math.log10(1000+numTerms));
  }

I'm not sure whether that specific formula will work, but you can find
one that will by adjusting the base of the logarithm and the additive
constant (1000 in the example).

Some general things:
  1.  You need to reindex when you change the Similarity (it is used for
indexing and searching -- e.g., the lengthNorm's are computed at index
time).
  2.  Be careful not to overtune your scoring for just one example.  Try
many examples.  You won't be able to get it perfect -- the idea is to
get close to your subjective judgments as frequently as possible.
  3.  The idea here is to find a value of lengthNorm() that doesn't
override coord, but still provides the tie-breaking you are looking for
(doc2 ahead of doc3).

Chuck

  > -----Original Message-----
  > From: Gururaja H [mailto:guru_hr29@yahoo.com]
  > Sent: Sunday, December 19, 2004 10:10 PM
  > To: Lucene Users List
  > Subject: RE: Relevance and ranking ...
  >=20
  > Chuck Williams,
  >=20
  > Thanks for the reply. Source code and Output are below.
  >=20
  > Please give me your inputs.
  >=20
  > Default document order i am getting is: Doc#2, Doc#4, Doc#3, Doc#1.
  > Document order needed is: Doc#4, Doc#2, Doc#3, Doc#1.
  >=20
  > Let me know, if you need more information.
  >=20
  > NOTE: Using Luene "Query" object not BooleanQuery.
  >=20
  > Here is the source code:
  >=20
  > Searcher searcher =3D new IndexSearcher("index");
  >=20
  >       Analyzer analyzer =3D new StandardAnalyzer();
  >       BufferedReader in =3D new BufferedReader(new
  > InputStreamReader(System.in));
  >  System.out.print("Query: ");
  >  String line =3D in.readLine();
  >  Query query =3D QueryParser.parse(line, "contents", analyzer);
  >  System.out.println("Searching for: " + query.toString("contents"));
  >  Hits hits =3D searcher.search(query);
  >  System.out.println(hits.length() + " total matching documents");
  >    for (int i =3D start; i < hits.length(); i++) {
  >      Document doc =3D hits.doc(i);
  >    System.out.print("Score is: "+ hits.score(i));
  >    // Use whatever your fields are here:
  >    System.out.print("  title:");
  >    System.out.print(doc.get("title"));
  >    System.out.print(" description:");
  >    System.out.println(doc.get("description"));
  >    // End of fields
  >    System.out.println(searcher.explain(query, hits.id(i)));
  >      //System.out.println("Score of the document is:
"+hits.score(i));
  >      String path =3D doc.get("path");
  >      if (path !=3D null) {
  >               System.out.println(i + ". " + path);
  >     System.out.println("--------------------------");
  >      }
  >                       ---
  >=20
  >=20
  > Here is the output from the program:
  >=20
  > Query: ibm risc tape drive manual
  >=20
  > Searching for: ibm risc tape drive manual
  >=20
  > 4 total matching documents
  >=20
  > Score is: 0.16266039 title:null description:null
  >=20
  > 0.16266039 =3D product of:
  >=20
  > 0.20332548 =3D sum of:
  >=20
  > 0.03826245 =3D weight(contents:ibm in 1), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:ibm), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.121383816 =3D fieldWeight(contents:ibm in 1), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:ibm)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.15625 =3D fieldNorm(field=3Dcontents, doc=3D1)
  >=20
  > 0.06340029 =3D weight(contents:risc in 1), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:risc), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.15625 =3D fieldWeight(contents:risc in 1), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:risc)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.15625 =3D fieldNorm(field=3Dcontents, doc=3D1)
  >=20
  > 0.06340029 =3D weight(contents:tape in 1), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:tape), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.15625 =3D fieldWeight(contents:tape in 1), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:tape)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.15625 =3D fieldNorm(field=3Dcontents, doc=3D1)
  >=20
  > 0.03826245 =3D weight(contents:drive in 1), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:drive), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.121383816 =3D fieldWeight(contents:drive in 1), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:drive)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.15625 =3D fieldNorm(field=3Dcontents, doc=3D1)
  >=20
  > 0.8 =3D coord(4/5)
  >=20
  > 0. C:\tools\lucene-1.4.3\test\docs\doc2.txt
  >=20
  > --------------------------
  >=20
  > Score is: 0.13477734 title:null description:null
  >=20
  > 0.13477734 =3D sum of:
  >=20
  > 0.013391858 =3D weight(contents:ibm in 3), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:ibm), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.042484336 =3D fieldWeight(contents:ibm in 3), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:ibm)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.0546875 =3D fieldNorm(field=3Dcontents, doc=3D3)
  >=20
  > 0.022190101 =3D weight(contents:risc in 3), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:risc), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.0546875 =3D fieldWeight(contents:risc in 3), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:risc)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.0546875 =3D fieldNorm(field=3Dcontents, doc=3D3)
  >=20
  > 0.022190101 =3D weight(contents:tape in 3), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:tape), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.0546875 =3D fieldWeight(contents:tape in 3), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:tape)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.0546875 =3D fieldNorm(field=3Dcontents, doc=3D3)
  >=20
  > 0.013391858 =3D weight(contents:drive in 3), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:drive), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.042484336 =3D fieldWeight(contents:drive in 3), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:drive)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.0546875 =3D fieldNorm(field=3Dcontents, doc=3D3)
  >=20
  > 0.063613415 =3D weight(contents:manual in 3), product of:
  >=20
  > 0.6870146 =3D queryWeight(contents:manual), product of:
  >=20
  > 1.6931472 =3D idf(docFreq=3D1)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.09259398 =3D fieldWeight(contents:manual in 3), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:manual)=3D1)
  >=20
  > 1.6931472 =3D idf(docFreq=3D1)
  >=20
  > 0.0546875 =3D fieldNorm(field=3Dcontents, doc=3D3)
  >=20
  > 1. C:\tools\lucene-1.4.3\test\docs\doc4.txt
  >=20
  > --------------------------
  >=20
  > Score is: 0.09759624 title:null description:null
  >=20
  > 0.09759624 =3D product of:
  >=20
  > 0.1219953 =3D sum of:
  >=20
  > 0.02295747 =3D weight(contents:ibm in 2), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:ibm), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.07283029 =3D fieldWeight(contents:ibm in 2), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:ibm)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D2)
  >=20
  > 0.038040176 =3D weight(contents:risc in 2), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:risc), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.09375 =3D fieldWeight(contents:risc in 2), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:risc)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D2)
  >=20
  > 0.038040176 =3D weight(contents:tape in 2), product of:
  >=20
  > 0.40576187 =3D queryWeight(contents:tape), product of:
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.09375 =3D fieldWeight(contents:tape in 2), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:tape)=3D1)
  >=20
  > 1.0 =3D idf(docFreq=3D3)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D2)
  >=20
  > 0.02295747 =3D weight(contents:drive in 2), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:drive), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.07283029 =3D fieldWeight(contents:drive in 2), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:drive)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D2)
  >=20
  > 0.8 =3D coord(4/5)
  >=20
  > 2. C:\tools\lucene-1.4.3\test\docs\doc3.txt
  >=20
  > --------------------------
  >=20
  > Score is: 0.018365977 title:null description:null
  >=20
  > 0.018365977 =3D product of:
  >=20
  > 0.04591494 =3D sum of:
  >=20
  > 0.02295747 =3D weight(contents:ibm in 0), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:ibm), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.07283029 =3D fieldWeight(contents:ibm in 0), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:ibm)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D0)
  >=20
  > 0.02295747 =3D weight(contents:drive in 0), product of:
  >=20
  > 0.31521872 =3D queryWeight(contents:drive), product of:
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.40576187 =3D queryNorm
  >=20
  > 0.07283029 =3D fieldWeight(contents:drive in 0), product of:
  >=20
  > 1.0 =3D tf(termFreq(contents:drive)=3D1)
  >=20
  > 0.7768564 =3D idf(docFreq=3D4)
  >=20
  > 0.09375 =3D fieldNorm(field=3Dcontents, doc=3D0)
  >=20
  > 0.4 =3D coord(2/5)
  >=20
  > 3. C:\tools\lucene-1.4.3\test\docs\doc1.txt
  >=20
  > --------------------------
  >=20
  >=20
  > Thanks,
  > Gururaja
  >=20
  > Chuck Williams <chuck@manawiz.com> wrote:
  > The coord is the fraction of clauses matched in a BooleanQuery, so
with
  > your example of a 5-word BooleanQuery, the coord factors should be
.4,
  > .8, .8, 1.0 respectively for doc1, doc2, doc3 and doc4.
  >=20
  > One big issue you've got here is lengthNorm. Doc2 is 1/10 the size
of
  > doc4, so its lengthNorm is over 3x larger (sqrt(10)). This more than
  > makes up for the difference in coord. In your original post you
  > indicated a desire for a linear lengthNorm, which would actually
make
  > this problem much worse. You problem need to tone down the
lengthNorm
  > instead (I turn mine off entirely, at least so far, by fixing it at
1.0;
  > this is not good in general, but got me past similar problems until
I
  > can find a good formula). You might try an inverse-log lengthNorm
with
  > a high base (like the formula for idf I posted earlier).
  >=20
  > The other thing that can bite you is the tf and idf computations.
E.g.,
  > if manual is a more common term than the others, this could cause
the
  > tf*idf scores on doc2 to more than compensate for the difference in
  > coord, even if you set lengthNorm to be 1.0.
  >=20
  > What is happening will be apparent from the explanations. If you
print
  > these out and post them, I'd be happy to suggest specific formulas.
  > Just use code like this:
  >=20
  > IndexSearcher searcher =3D new IndexSearcher(directory);
  > System.out.println(query);
  > Hits hits =3D searcher.search(query);
  > for (int i=3D0; i Document doc =3D hits.doc(i);
  > System.out.print(hits.score(i));
  > // Use whatever your fields are here:
  > System.out.print(" title:");
  > System.out.print(doc.get("title"));
  > System.out.print(" description:");
  > System.out.println(doc.get("description"));
  > // End of fields
  > System.out.println(searcher.explain(query, hits.id(i)));
  > System.out.println("--------------------------");
  > }
  >=20
  > Chuck
  >=20
  > > -----Original Message-----
  > > From: Gururaja H [mailto:guru_hr29@yahoo.com]
  > > Sent: Saturday, December 18, 2004 4:56 AM
  > > To: Lucene Users List
  > > Subject: Re: Relevance and ranking ...
  > >
  > > Hi Erik,
  > >
  > > Created my own subclass of Similarity. When i printed the values
  > for
  > > coord() factor
  > > i am getting the same for all the 4 documents. So the value is NOT
  > > getting boosted.
  > > Want to do this. as i want the document that has
  > > e.g., all three terms in a three word query over those that
contain
  > just
  > > two
  > > of the words.
  > >
  > > Please let me how do i go about doing this ? Please explain the
  > > coordination factor ?
  > >
  > > The default order of document that i get for my example given in
  > this
  > > thread is as follows:
  > > Doc#2
  > > Doc#4
  > > Doc#3
  > > Doc#1
  > >
  > > Any inputs would be help full. Thanks,
  > >
  > > Gururaja
  > >
  > > Erik Hatcher wrote:
  > >
  > > On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
  > > > Thanks for the reply. Is there any sample code which tells me
how
  > to
  > > > change these
  > > > coord() factor, overlapping, lenght normalizaiton etc.. ??
  > > > If there are any please provide me.
  > >
  > > Have a look at Lucene's DefaultSimilarity code itself. Use that as
a
  > > starting point - in fact you should subclass it and only override
  > the
  > > one or two methods you want to tweak.
  > >
  > > There are probably some other examples in Lucene's test cases, or
  > that
  > > have been posted to the list but I don't have handy pointers to
  > them.
  > >
  > > Erik
  > >
  > >
  > > >
  > > > Thanks,
  > > > Gururaja
  > > >
  > > >
  > > > Erik Hatcher wrote:
  > > > The coord() factor of Similarity is what controls a muliplier
  > factor
  > > > for overlapping query terms in a document. The DefaultSimilarity
  > > > already contains factors that allow documents with overlapping
  > terms
  > > to
  > > > get boosted. Is this not working for you? You may also need to
  > adjust
  > > > length normalization factors. Check the javadocs on Similarity
for
  > > > details on implementing your own formulas. Also become familiar
  > with
  > > > IndexSearcher.explain() and the Explanation so that you can see
  > how
  > > > adjusting things affects the details.
  > > >
  > > > Erik
  > > >
  > > > On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
  > > >
  > > >> Hi,
  > > >>
  > > >> How to implement the following ? Please provide inputs ....
  > > >>
  > > >>
  > > >> For example, if the search query has 5 terms (ibm, risc, tape,
  > drive,
  > > >> manual) and there are 4 matching documents with the following
  > > >> attributes, then the order should be as described below.
  > > >>
  > > >> Doc#1: contains terms (ibm, drive) and has a total of 100 terms
  > in
  > > the
  > > >> document.
  > > >>
  > > >> Doc#2: contains terms (ibm, risc, tape, drive) and has a total
of
  > 30
  > > >> terms in the document.
  > > >>
  > > >> Doc#3: contains terms (ibm, risc, tape, drive) and has a total
of
  > 100
  > > >> terms in the document.
  > > >>
  > > >> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has
a
  > > total
  > > >> of 300 terms in the document
  > > >>
  > > >> The search results should include all three documents since
each
  > has
  > > >> one or more of the search terms, however, the order should be
  > > returned
  > > >> as:
  > > >>
  > > >> Doc#4
  > > >>
  > > >> Doc#2
  > > >>
  > > >> Doc#3
  > > >>
  > > >> Doc#1
  > > >>
  > > >> Doc#4 should be first, since of the 5 search terms, it contains
  > all 5.
  > > >>
  > > >> Doc#2 should be second, since it has 4 of the 5 search terms
and
  > of
  > > >> the number of terms in the document, its ratio is higher than
  > Doc#3
  > > >> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
  > > >>
  > > >> Doc#1 is last since it only has 2 of the 5 terms.
  > > >>
  > > >>
  > > >> ----
  > > >>
  > > >> Thanks,
  > > >> Gururaja
  > > >>
  > > >>
  > > >> __________________________________________________
  > > >> Do You Yahoo!?
  > > >> Tired of spam? Yahoo! Mail has the best spam protection around
  > > >> http://mail.yahoo.com
  > > >
  > > >
  > > >
  >
---------------------------------------------------------------------
  > > > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  > > > For additional commands, e-mail:
  > lucene-user-help@jakarta.apache.org
  > > >
  > > >
  > > >
  > > > ---------------------------------
  > > > Do you Yahoo!?
  > > > Send holiday email and support a worthy cause. Do good.
  > >
  > >
  > >
  >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > > __________________________________________________
  > > Do You Yahoo!?
  > > Tired of spam? Yahoo! Mail has the best spam protection around
  > > http://mail.yahoo.com
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  > __________________________________________________
  > Do You Yahoo!?
  > Tired of spam?  Yahoo! Mail has the best spam protection around
  > http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 19:13:36 2004
Return-Path: 
 <lucene-user-return-12019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42224 invoked from network); 20 Dec 2004 19:13:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 19:13:36 -0000
Received: (qmail 79462 invoked by uid 500); 20 Dec 2004 19:13:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79433 invoked by uid 500); 20 Dec 2004 19:13:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79410 invoked by uid 99); 20 Dec 2004 19:13:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr8.xs4all.nl (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 11:13:15 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBKJDCcg095043
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 20:13:13 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Relevance percentage
Date: Mon, 20 Dec 2004 20:13:12 +0100
User-Agent: KMail/1.5.4
References: <20041220140955.1684.qmail@web53902.mail.yahoo.com>
In-Reply-To: <20041220140955.1684.qmail@web53902.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412202013.12496.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 20 December 2004 15:09, Gururaja H wrote:
> Hi,
> =20
> But, How to calculate the coord() fraction ?  I know by default,
> in DefaultSimilarity the coord() fraction is defined as below:
>=20
> /** Implemented as <code>overlap / maxOverlap</code>. */
>=20
> public float coord(int overlap, int maxOverlap) {
>=20
> return overlap / (float)maxOverlap;
>=20
> }
> How to get the overlap and maxOverlap value in each of the matched=20
document(s) ?

In case you only want the coordination factor to have more influence
in the order of your search results you can use a Similarity with
a coord() function that has a power higher than 1:

  public float coord(int overlap, int maxOverlap) {
    return (float) Math.pow((overlap / (float)maxOverlap), SOME_POWER);
  }

I'd first try values between 3.0f and 5.0f for SOME_POWER.

The searching code precomputes all coord values once per query
per search, so there is no need to worry about the computing efficiency.

This has the advantage that the other scoring factors are still used
for ranking.

Since the other factors can vary quite a bit, it is difficult to guarantee
that any coord() implementation will provide a score that sorts by the
number of matching clauses. Higher powers as above can come
a long way, though.

Regards,
Paul Elschot


 =20
> Thanks,
> Gururaja
>=20
> Mike Snare <mikesnare@gmail.com> wrote:
> I'm still new to Lucene, but wouldn't that be the coord()? My
> understanding is that the coord() is the fraction of the boolean query
> that matched a given document.
>=20
> Again, I'm new, so somebody else will have to confirm or deny...
>=20
> -Mike
>=20
>=20
> On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
> wrote:
> > How to find out the percentages of matched terms in the document(s) usi=
ng=20
Lucene ?
> > Here is an example, of what i am trying to do:
> > The search query has 5 terms(ibm, risc, tape, dirve, manual) and there =
are=20
4 matching
> > documents with the following attributes:
> > Doc#1: contains terms(ibm,drive)
> > Doc#2: contains terms(ibm,risc, tape, drive)
> > Doc#3: contains terms(ibm,risc, tape,drive)
> > Doc#4: contains terms(ibm, risc, tape, drive, manual).
> > The percentages displayed would be 100%(Doc#4), 80%(doc#2), 80%(doc#3) =
and=20
40%
> > (doc#1).
> >=20
> > Any help on how to go about doing this ?
> >=20
> > Thanks,
> > Gururaja
> >=20
> >=20
> > ---------------------------------
> > Do you Yahoo!?
> > Send a seasonal email greeting and help others. Do good.
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> 	=09
> ---------------------------------
> Do you Yahoo!?
>  All your favorites on one personal page =96 Try My Yahoo!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 19:34:23 2004
Return-Path: 
 <lucene-user-return-12020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51669 invoked from network); 20 Dec 2004 19:34:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 19:34:23 -0000
Received: (qmail 20550 invoked by uid 500); 20 Dec 2004 19:34:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20520 invoked by uid 500); 20 Dec 2004 19:34:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20506 invoked by uid 99); 20 Dec 2004 19:34:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu)
 (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 11:34:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id D281F1F5369
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 14:33:57 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 10721-04 for <lucene-user@jakarta.apache.org>;
 Mon, 20 Dec 2004 14:33:57 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 941021F5357
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 14:33:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <BAY1-DAV3E5A0D64A566C2CB17ADE88A20@phx.gbl>
References: <BAY1-DAV3E5A0D64A566C2CB17ADE88A20@phx.gbl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <19CB0D62-52BE-11D9-AB36-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: analyzer effecting phrases?
Date: Mon, 20 Dec 2004 14:34:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 20, 2004, at 12:43 PM, Peter Posselt Vestergaard wrote:
> Therefore I turned back to the standard analyzer and now do some 
> replacing
> of the underscores in my ID string to avoid my original problem. This 
> solved
> my phrase problem so that I can now search for phrases. However I 
> still have
> the problem with ",.:" described above. As far as I can see the
> StandardAnalyzer (the StandardTokenizer that is) should tokenize words
> without the ",.:" characters. Am I mistaken? Is there a tokenizer that 
> will
> do this?

StandardAnalyzer does tokenize without ",.:", though it will keep 
domain names together.  Here's an example:

$ ant -emacs AnalyzerDemo
Buildfile: build.xml

AnalyzerDemo:

       Demonstrates analysis of sample text.

       Refer to the "Analysis" chapter for much more on this
       extremely crucial topic.

Press return to continue...

String to analyze: [This string will be analyzed.]
Example with commas, colons, and dots.  You can get this code from 
http://www.lucenebook.com
Running lia.analysis.AnalyzerDemo...
Analyzing "Example with commas, colons, and dots.  You can get this 
code from http://www.lucenebook.com"
   WhitespaceAnalyzer:
     [Example] [with] [commas,] [colons,] [and] [dots.] [You] [can] 
[get] [this] [code] [from] [http://www.lucenebook.com]

   SimpleAnalyzer:
     [example] [with] [commas] [colons] [and] [dots] [you] [can] [get] 
[this] [code] [from] [http] [www] [lucenebook] [com]

   StopAnalyzer:
     [example] [commas] [colons] [dots] [you] [can] [get] [code] [from] 
[http] [www] [lucenebook] [com]

   StandardAnalyzer:
     [example] [commas] [colons] [dots] [you] [can] [get] [code] [from] 
[http] [www.lucenebook.com]




BUILD SUCCESSFUL
Total time: 7 seconds


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 22:51:40 2004
Return-Path: 
 <lucene-user-return-12021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67465 invoked from network); 20 Dec 2004 22:51:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 22:51:40 -0000
Received: (qmail 73541 invoked by uid 500); 20 Dec 2004 22:50:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73520 invoked by uid 500); 20 Dec 2004 22:50:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73377 invoked by uid 99); 20 Dec 2004 22:50:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gateway.aidministrator.nl (HELO mail.aduna.biz)
 (213.53.169.170)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 14:50:43 -0800
Received: from [127.0.0.1] (535300EC.cable.casema.nl [83.83.0.236])
	by mail.aduna.biz (Postfix) with ESMTP id DDF375A0A6B9
	for <lucene-user@jakarta.apache.org>; Mon, 20 Dec 2004 23:51:09 +0100 (CET)
Message-ID: <41C75737.1060002@aduna.biz>
Date: Mon, 20 Dec 2004 23:50:31 +0100
From: Christiaan Fluit <christiaan.fluit@aduna.biz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: determination of matching hits
References: <41C6F075.5020802@aduna.biz>
 <DB89E7D2-52A8-11D9-AB36-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <DB89E7D2-52A8-11D9-AB36-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

ok, I feel a bit stupid now ;) Turns out this issue has been discussed a 
while ago on both mailing lists and I even participated in one of 
them... shame on me.

The problem is indeed in how MFQP parses my query: the query A -B becomes:

(text:A -text:B) (title:A -title:B) (path:A -path:B) (summary:A 
-summary:B) (agent:A -agent:B)

whereas I intuitively expexted it to be evaluated as "A in any field and 
not B in any field". When I use a normal QueryParser and let it use a 
single field only, everything works as expected.

Browsing the lists archives I see that there were some efforts from 
different people in solving this issue, but I'm a bit confused about the 
final outcome. Was this solved in the MFQP in 1.4.3? If not, what 
alternative implementation of MFPQ can I currently use best?


Kind regards,

Chris
--

Erik Hatcher wrote:
> Christian,
> 
> Please simplify your situation.  Use a plain TermQuery for "B" and see 
> what is returned.  Then use a simple BooleanQuery for "A -B".  I suspect 
> MultiFieldQueryParser is the culprit.  What does the toString of the 
> generated Query return?  MFQP is known to be trouble, and an overhaul to 
> it has been contributed recently.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 20 22:57:25 2004
Return-Path: 
 <lucene-user-return-12022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69308 invoked from network); 20 Dec 2004 22:57:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Dec 2004 22:57:25 -0000
Received: (qmail 94173 invoked by uid 500); 20 Dec 2004 22:57:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94142 invoked by uid 500); 20 Dec 2004 22:57:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94115 invoked by uid 99); 20 Dec 2004 22:57:17 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=BIZ_TLD,SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 14:57:14 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: determination of matching hits
Date: Mon, 20 Dec 2004 14:57:11 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6E52@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: determination of matching hits
Thread-Index: AcTm5oIUj7nEsCLnRoumxUR9nhzYEgAAEhsg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is not the official recommendation, but I'd suggest you are least
consider:  http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32674

If you're not using Java 1.5 and you decide you want to use it, you'd
need to take out those dependencies.  If you improve it, please share.

Chuck

  > -----Original Message-----
  > From: Christiaan Fluit [mailto:christiaan.fluit@aduna.biz]
  > Sent: Monday, December 20, 2004 2:51 PM
  > To: Lucene Users List
  > Subject: Re: determination of matching hits
  >=20
  > ok, I feel a bit stupid now ;) Turns out this issue has been
discussed a
  > while ago on both mailing lists and I even participated in one of
  > them... shame on me.
  >=20
  > The problem is indeed in how MFQP parses my query: the query A -B
  > becomes:
  >=20
  > (text:A -text:B) (title:A -title:B) (path:A -path:B) (summary:A
  > -summary:B) (agent:A -agent:B)
  >=20
  > whereas I intuitively expexted it to be evaluated as "A in any field
and
  > not B in any field". When I use a normal QueryParser and let it use
a
  > single field only, everything works as expected.
  >=20
  > Browsing the lists archives I see that there were some efforts from
  > different people in solving this issue, but I'm a bit confused about
the
  > final outcome. Was this solved in the MFQP in 1.4.3? If not, what
  > alternative implementation of MFPQ can I currently use best?
  >=20
  >=20
  > Kind regards,
  >=20
  > Chris
  > --
  >=20
  > Erik Hatcher wrote:
  > > Christian,
  > >
  > > Please simplify your situation.  Use a plain TermQuery for "B" and
see
  > > what is returned.  Then use a simple BooleanQuery for "A -B".  I
  > suspect
  > > MultiFieldQueryParser is the culprit.  What does the toString of
the
  > > generated Query return?  MFQP is known to be trouble, and an
overhaul
  > to
  > > it has been contributed recently.
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 04:49:28 2004
Return-Path: 
 <lucene-user-return-12023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33059 invoked from network); 21 Dec 2004 04:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 04:49:28 -0000
Received: (qmail 3922 invoked by uid 500); 21 Dec 2004 04:49:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3873 invoked by uid 500); 21 Dec 2004 04:49:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3811 invoked by uid 99); 21 Dec 2004 04:49:19 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org
 designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 20 Dec 2004 20:49:15 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CgbxO-00050F-00
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 05:49:10 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 05:49:10 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local
 (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 05:49:10 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: index size doubled?
Date: Mon, 20 Dec 2004 20:49:03 -0800
Lines: 22
Message-ID: <opsjccz1kp6yt6e7@wtung-w2k.amer.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54 (Win32, build 3869)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm testing the rebuilding of the index. I add several hundred documents=
,  =

optimize and add another few hundred and so on. Right now I have around =
 =

7000 files. I observed after the index gets to certain size. Everytime  =

after optimize, the are two files roughly the same size like below:

12/20/2004  01:57p                  13 deletable
12/20/2004  01:57p                  29 segments
12/20/2004  01:53p          14,460,367 _5qf.cfs
12/20/2004  01:57p          15,069,013 _5zr.cfs

The index total index is double of what I expect. This is not always  =

reproducible. (I'm constantly tuning my program and the set of document)=
.  =

Sometime I get a decent single document after optimize. What was happeni=
ng?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 06:55:28 2004
Return-Path: 
 <lucene-user-return-12024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12766 invoked from network); 21 Dec 2004 06:55:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 06:55:28 -0000
Received: (qmail 63142 invoked by uid 500); 21 Dec 2004 06:55:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63114 invoked by uid 500); 21 Dec 2004 06:55:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63098 invoked by uid 99); 21 Dec 2004 06:55:16 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53910.mail.yahoo.com (HELO web53910.mail.yahoo.com)
 (206.190.36.220)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 22:55:12 -0800
Received: (qmail 47465 invoked by uid 60001); 21 Dec 2004 06:55:10 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=rWok2jmdxxI93BchPHNluHkyJYm9N1hHmEm5xUqYTEBCRgJRrG0VqoF2Vdikf44TsM3CU6YsQSOR3OuA6pU4/KRzewq8P5CZ5Dq3WDramk+y2bjLADT/9NDHw4Wo2011IgH4IoLHShDfKMsEfGifpxF470U/1FPAtK5SD12VX3U=
  ;
Message-ID: <20041221065509.47463.qmail@web53910.mail.yahoo.com>
Received: from [203.145.156.130] by web53910.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 22:55:09 PST
Date: Mon, 20 Dec 2004 22:55:09 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: RE: Relevance and ranking ...
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC6D2D@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-905895125-1103612109=:43827"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-905895125-1103612109=:43827
Content-Type: text/plain; charset=us-ascii

Hi Chuck Williams,  Paul Elschot,
 
Thanks so much for the reply.
 
By overriding the coord() as follows, able to get the right order for the example that i gave in this thread.
 
public float coord(int overlap, int maxOverlap) {
    return (float) Math.pow((overlap / (float)maxOverlap), SOME_POWER);
  }

Using 2.0f for SOME_POWER.
 
As Chuck Williams suggested i am trying more example cases.
 
Thanks, Again.
 
Gururaja


Chuck Williams <chuck@manawiz.com> wrote:
I believe your sole problem is that you need to tone down your
lengthNorm. Because doc4 is 10 times longer than doc2, its lengthNorm
is less than 1/3 of that of doc2 (1/sqrt(10) to be precise). This is a
larger effect than the higher coord factor (1/.8) and the extra matching
term in doc4.

In your original description, it sounds like you want coord() to
dominate lengthNorm(), with lengthNorm() just being used as a
tie-breaker among queries with the same coord().

To achieve this, you need to reduce the impact of the lengthNorm()
differences, by changing the sqrt() function in the computation of
lengthNorm to something much flatter. E.g., you might use:

public float lengthNorm(String fieldName, int numTerms) {
return (float)(1.0 / Math.log10(1000+numTerms));
}

I'm not sure whether that specific formula will work, but you can find
one that will by adjusting the base of the logarithm and the additive
constant (1000 in the example).

Some general things:
1. You need to reindex when you change the Similarity (it is used for
indexing and searching -- e.g., the lengthNorm's are computed at index
time).
2. Be careful not to overtune your scoring for just one example. Try
many examples. You won't be able to get it perfect -- the idea is to
get close to your subjective judgments as frequently as possible.
3. The idea here is to find a value of lengthNorm() that doesn't
override coord, but still provides the tie-breaking you are looking for
(doc2 ahead of doc3).

Chuck

> -----Original Message-----
> From: Gururaja H [mailto:guru_hr29@yahoo.com]
> Sent: Sunday, December 19, 2004 10:10 PM
> To: Lucene Users List
> Subject: RE: Relevance and ranking ...
> 
> Chuck Williams,
> 
> Thanks for the reply. Source code and Output are below.
> 
> Please give me your inputs.
> 
> Default document order i am getting is: Doc#2, Doc#4, Doc#3, Doc#1.
> Document order needed is: Doc#4, Doc#2, Doc#3, Doc#1.
> 
> Let me know, if you need more information.
> 
> NOTE: Using Luene "Query" object not BooleanQuery.
> 
> Here is the source code:
> 
> Searcher searcher = new IndexSearcher("index");
> 
> Analyzer analyzer = new StandardAnalyzer();
> BufferedReader in = new BufferedReader(new
> InputStreamReader(System.in));
> System.out.print("Query: ");
> String line = in.readLine();
> Query query = QueryParser.parse(line, "contents", analyzer);
> System.out.println("Searching for: " + query.toString("contents"));
> Hits hits = searcher.search(query);
> System.out.println(hits.length() + " total matching documents");
> for (int i = start; i < hits.length(); i++) {
> Document doc = hits.doc(i);
> System.out.print("Score is: "+ hits.score(i));
> // Use whatever your fields are here:
> System.out.print(" title:");
> System.out.print(doc.get("title"));
> System.out.print(" description:");
> System.out.println(doc.get("description"));
> // End of fields
> System.out.println(searcher.explain(query, hits.id(i)));
> //System.out.println("Score of the document is:
"+hits.score(i));
> String path = doc.get("path");
> if (path != null) {
> System.out.println(i + ". " + path);
> System.out.println("--------------------------");
> }
> ---
> 
> 
> Here is the output from the program:
> 
> Query: ibm risc tape drive manual
> 
> Searching for: ibm risc tape drive manual
> 
> 4 total matching documents
> 
> Score is: 0.16266039 title:null description:null
> 
> 0.16266039 = product of:
> 
> 0.20332548 = sum of:
> 
> 0.03826245 = weight(contents:ibm in 1), product of:
> 
> 0.31521872 = queryWeight(contents:ibm), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.121383816 = fieldWeight(contents:ibm in 1), product of:
> 
> 1.0 = tf(termFreq(contents:ibm)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.15625 = fieldNorm(field=contents, doc=1)
> 
> 0.06340029 = weight(contents:risc in 1), product of:
> 
> 0.40576187 = queryWeight(contents:risc), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.15625 = fieldWeight(contents:risc in 1), product of:
> 
> 1.0 = tf(termFreq(contents:risc)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.15625 = fieldNorm(field=contents, doc=1)
> 
> 0.06340029 = weight(contents:tape in 1), product of:
> 
> 0.40576187 = queryWeight(contents:tape), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.15625 = fieldWeight(contents:tape in 1), product of:
> 
> 1.0 = tf(termFreq(contents:tape)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.15625 = fieldNorm(field=contents, doc=1)
> 
> 0.03826245 = weight(contents:drive in 1), product of:
> 
> 0.31521872 = queryWeight(contents:drive), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.121383816 = fieldWeight(contents:drive in 1), product of:
> 
> 1.0 = tf(termFreq(contents:drive)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.15625 = fieldNorm(field=contents, doc=1)
> 
> 0.8 = coord(4/5)
> 
> 0. C:\tools\lucene-1.4.3\test\docs\doc2.txt
> 
> --------------------------
> 
> Score is: 0.13477734 title:null description:null
> 
> 0.13477734 = sum of:
> 
> 0.013391858 = weight(contents:ibm in 3), product of:
> 
> 0.31521872 = queryWeight(contents:ibm), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.042484336 = fieldWeight(contents:ibm in 3), product of:
> 
> 1.0 = tf(termFreq(contents:ibm)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.0546875 = fieldNorm(field=contents, doc=3)
> 
> 0.022190101 = weight(contents:risc in 3), product of:
> 
> 0.40576187 = queryWeight(contents:risc), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.0546875 = fieldWeight(contents:risc in 3), product of:
> 
> 1.0 = tf(termFreq(contents:risc)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.0546875 = fieldNorm(field=contents, doc=3)
> 
> 0.022190101 = weight(contents:tape in 3), product of:
> 
> 0.40576187 = queryWeight(contents:tape), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.0546875 = fieldWeight(contents:tape in 3), product of:
> 
> 1.0 = tf(termFreq(contents:tape)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.0546875 = fieldNorm(field=contents, doc=3)
> 
> 0.013391858 = weight(contents:drive in 3), product of:
> 
> 0.31521872 = queryWeight(contents:drive), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.042484336 = fieldWeight(contents:drive in 3), product of:
> 
> 1.0 = tf(termFreq(contents:drive)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.0546875 = fieldNorm(field=contents, doc=3)
> 
> 0.063613415 = weight(contents:manual in 3), product of:
> 
> 0.6870146 = queryWeight(contents:manual), product of:
> 
> 1.6931472 = idf(docFreq=1)
> 
> 0.40576187 = queryNorm
> 
> 0.09259398 = fieldWeight(contents:manual in 3), product of:
> 
> 1.0 = tf(termFreq(contents:manual)=1)
> 
> 1.6931472 = idf(docFreq=1)
> 
> 0.0546875 = fieldNorm(field=contents, doc=3)
> 
> 1. C:\tools\lucene-1.4.3\test\docs\doc4.txt
> 
> --------------------------
> 
> Score is: 0.09759624 title:null description:null
> 
> 0.09759624 = product of:
> 
> 0.1219953 = sum of:
> 
> 0.02295747 = weight(contents:ibm in 2), product of:
> 
> 0.31521872 = queryWeight(contents:ibm), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.07283029 = fieldWeight(contents:ibm in 2), product of:
> 
> 1.0 = tf(termFreq(contents:ibm)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.09375 = fieldNorm(field=contents, doc=2)
> 
> 0.038040176 = weight(contents:risc in 2), product of:
> 
> 0.40576187 = queryWeight(contents:risc), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.09375 = fieldWeight(contents:risc in 2), product of:
> 
> 1.0 = tf(termFreq(contents:risc)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.09375 = fieldNorm(field=contents, doc=2)
> 
> 0.038040176 = weight(contents:tape in 2), product of:
> 
> 0.40576187 = queryWeight(contents:tape), product of:
> 
> 1.0 = idf(docFreq=3)
> 
> 0.40576187 = queryNorm
> 
> 0.09375 = fieldWeight(contents:tape in 2), product of:
> 
> 1.0 = tf(termFreq(contents:tape)=1)
> 
> 1.0 = idf(docFreq=3)
> 
> 0.09375 = fieldNorm(field=contents, doc=2)
> 
> 0.02295747 = weight(contents:drive in 2), product of:
> 
> 0.31521872 = queryWeight(contents:drive), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.07283029 = fieldWeight(contents:drive in 2), product of:
> 
> 1.0 = tf(termFreq(contents:drive)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.09375 = fieldNorm(field=contents, doc=2)
> 
> 0.8 = coord(4/5)
> 
> 2. C:\tools\lucene-1.4.3\test\docs\doc3.txt
> 
> --------------------------
> 
> Score is: 0.018365977 title:null description:null
> 
> 0.018365977 = product of:
> 
> 0.04591494 = sum of:
> 
> 0.02295747 = weight(contents:ibm in 0), product of:
> 
> 0.31521872 = queryWeight(contents:ibm), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.07283029 = fieldWeight(contents:ibm in 0), product of:
> 
> 1.0 = tf(termFreq(contents:ibm)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.09375 = fieldNorm(field=contents, doc=0)
> 
> 0.02295747 = weight(contents:drive in 0), product of:
> 
> 0.31521872 = queryWeight(contents:drive), product of:
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.40576187 = queryNorm
> 
> 0.07283029 = fieldWeight(contents:drive in 0), product of:
> 
> 1.0 = tf(termFreq(contents:drive)=1)
> 
> 0.7768564 = idf(docFreq=4)
> 
> 0.09375 = fieldNorm(field=contents, doc=0)
> 
> 0.4 = coord(2/5)
> 
> 3. C:\tools\lucene-1.4.3\test\docs\doc1.txt
> 
> --------------------------
> 
> 
> Thanks,
> Gururaja
> 
> Chuck Williams wrote:
> The coord is the fraction of clauses matched in a BooleanQuery, so
with
> your example of a 5-word BooleanQuery, the coord factors should be
.4,
> .8, .8, 1.0 respectively for doc1, doc2, doc3 and doc4.
> 
> One big issue you've got here is lengthNorm. Doc2 is 1/10 the size
of
> doc4, so its lengthNorm is over 3x larger (sqrt(10)). This more than
> makes up for the difference in coord. In your original post you
> indicated a desire for a linear lengthNorm, which would actually
make
> this problem much worse. You problem need to tone down the
lengthNorm
> instead (I turn mine off entirely, at least so far, by fixing it at
1.0;
> this is not good in general, but got me past similar problems until
I
> can find a good formula). You might try an inverse-log lengthNorm
with
> a high base (like the formula for idf I posted earlier).
> 
> The other thing that can bite you is the tf and idf computations.
E.g.,
> if manual is a more common term than the others, this could cause
the
> tf*idf scores on doc2 to more than compensate for the difference in
> coord, even if you set lengthNorm to be 1.0.
> 
> What is happening will be apparent from the explanations. If you
print
> these out and post them, I'd be happy to suggest specific formulas.
> Just use code like this:
> 
> IndexSearcher searcher = new IndexSearcher(directory);
> System.out.println(query);
> Hits hits = searcher.search(query);
> for (int i=0; i Document doc = hits.doc(i);
> System.out.print(hits.score(i));
> // Use whatever your fields are here:
> System.out.print(" title:");
> System.out.print(doc.get("title"));
> System.out.print(" description:");
> System.out.println(doc.get("description"));
> // End of fields
> System.out.println(searcher.explain(query, hits.id(i)));
> System.out.println("--------------------------");
> }
> 
> Chuck
> 
> > -----Original Message-----
> > From: Gururaja H [mailto:guru_hr29@yahoo.com]
> > Sent: Saturday, December 18, 2004 4:56 AM
> > To: Lucene Users List
> > Subject: Re: Relevance and ranking ...
> >
> > Hi Erik,
> >
> > Created my own subclass of Similarity. When i printed the values
> for
> > coord() factor
> > i am getting the same for all the 4 documents. So the value is NOT
> > getting boosted.
> > Want to do this. as i want the document that has
> > e.g., all three terms in a three word query over those that
contain
> just
> > two
> > of the words.
> >
> > Please let me how do i go about doing this ? Please explain the
> > coordination factor ?
> >
> > The default order of document that i get for my example given in
> this
> > thread is as follows:
> > Doc#2
> > Doc#4
> > Doc#3
> > Doc#1
> >
> > Any inputs would be help full. Thanks,
> >
> > Gururaja
> >
> > Erik Hatcher wrote:
> >
> > On Dec 17, 2004, at 6:09 AM, Gururaja H wrote:
> > > Thanks for the reply. Is there any sample code which tells me
how
> to
> > > change these
> > > coord() factor, overlapping, lenght normalizaiton etc.. ??
> > > If there are any please provide me.
> >
> > Have a look at Lucene's DefaultSimilarity code itself. Use that as
a
> > starting point - in fact you should subclass it and only override
> the
> > one or two methods you want to tweak.
> >
> > There are probably some other examples in Lucene's test cases, or
> that
> > have been posted to the list but I don't have handy pointers to
> them.
> >
> > Erik
> >
> >
> > >
> > > Thanks,
> > > Gururaja
> > >
> > >
> > > Erik Hatcher wrote:
> > > The coord() factor of Similarity is what controls a muliplier
> factor
> > > for overlapping query terms in a document. The DefaultSimilarity
> > > already contains factors that allow documents with overlapping
> terms
> > to
> > > get boosted. Is this not working for you? You may also need to
> adjust
> > > length normalization factors. Check the javadocs on Similarity
for
> > > details on implementing your own formulas. Also become familiar
> with
> > > IndexSearcher.explain() and the Explanation so that you can see
> how
> > > adjusting things affects the details.
> > >
> > > Erik
> > >
> > > On Dec 17, 2004, at 3:42 AM, Gururaja H wrote:
> > >
> > >> Hi,
> > >>
> > >> How to implement the following ? Please provide inputs ....
> > >>
> > >>
> > >> For example, if the search query has 5 terms (ibm, risc, tape,
> drive,
> > >> manual) and there are 4 matching documents with the following
> > >> attributes, then the order should be as described below.
> > >>
> > >> Doc#1: contains terms (ibm, drive) and has a total of 100 terms
> in
> > the
> > >> document.
> > >>
> > >> Doc#2: contains terms (ibm, risc, tape, drive) and has a total
of
> 30
> > >> terms in the document.
> > >>
> > >> Doc#3: contains terms (ibm, risc, tape, drive) and has a total
of
> 100
> > >> terms in the document.
> > >>
> > >> Doc#4: contains terms (ibm, risc, tape, drive, manual) and has
a
> > total
> > >> of 300 terms in the document
> > >>
> > >> The search results should include all three documents since
each
> has
> > >> one or more of the search terms, however, the order should be
> > returned
> > >> as:
> > >>
> > >> Doc#4
> > >>
> > >> Doc#2
> > >>
> > >> Doc#3
> > >>
> > >> Doc#1
> > >>
> > >> Doc#4 should be first, since of the 5 search terms, it contains
> all 5.
> > >>
> > >> Doc#2 should be second, since it has 4 of the 5 search terms
and
> of
> > >> the number of terms in the document, its ratio is higher than
> Doc#3
> > >> (4/30). Doc#3 has 4 of the 5 terms, but its ratio is 4/100.
> > >>
> > >> Doc#1 is last since it only has 2 of the 5 terms.
> > >>
> > >>
> > >> ----
> > >>
> > >> Thanks,
> > >> Gururaja
> > >>
> > >>
> > >> __________________________________________________
> > >> Do You Yahoo!?
> > >> Tired of spam? Yahoo! Mail has the best spam protection around
> > >> http://mail.yahoo.com
> > >
> > >
> > >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> > >
> > >
> > > ---------------------------------
> > > Do you Yahoo!?
> > > Send holiday email and support a worthy cause. Do good.
> >
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> >
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam? Yahoo! Mail has the best spam protection around
> > http://mail.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-905895125-1103612109=:43827--

From MAILER-DAEMON Tue Dec 21 07:00:08 2004
Return-Path: 
 <lucene-user-return-12025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14290 invoked from network); 21 Dec 2004 07:00:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 07:00:08 -0000
Received: (qmail 70032 invoked by uid 500); 21 Dec 2004 06:59:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69992 invoked by uid 500); 21 Dec 2004 06:59:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69959 invoked by uid 99); 21 Dec 2004 06:59:39 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53909.mail.yahoo.com (HELO web53909.mail.yahoo.com)
 (206.190.36.219)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 22:59:35 -0800
Received: (qmail 17205 invoked by uid 60001); 21 Dec 2004 06:59:32 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=uLY8djRMAp8wk125ME+hRy/CAeNf3rRSIMeKOTFn9QjhA2kOAxdx0BOtVdSDOYfqwb9ZonMMRDiPWPxavPc2PA57j0fi/zaVEnxPdx0I+S9RvP3sdE4rsDVed/q/S8l6ABjeMUCvvfay2WFZCUsHDdmG6WjO+Aq2JGA79HAkaSw=
  ;
Message-ID: <20041221065932.17203.qmail@web53909.mail.yahoo.com>
Received: from [203.145.156.130] by web53909.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 22:59:32 PST
Date: Mon, 20 Dec 2004 22:59:32 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Re: Relevance percentage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200412202013.12496.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1624003818-1103612372=:15675"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1624003818-1103612372=:15675
Content-Type: text/plain; charset=us-ascii

Thanks much for the reply.

Paul Elschot <paul.elschot@xs4all.nl> wrote:On Monday 20 December 2004 15:09, Gururaja H wrote:
> Hi,
> 
> But, How to calculate the coord() fraction ? I know by default,
> in DefaultSimilarity the coord() fraction is defined as below:
> 
> /** Implemented as overlap / maxOverlap. */
> 
> public float coord(int overlap, int maxOverlap) {
> 
> return overlap / (float)maxOverlap;
> 
> }
> How to get the overlap and maxOverlap value in each of the matched 
document(s) ?

In case you only want the coordination factor to have more influence
in the order of your search results you can use a Similarity with
a coord() function that has a power higher than 1:

public float coord(int overlap, int maxOverlap) {
return (float) Math.pow((overlap / (float)maxOverlap), SOME_POWER);
}

I'd first try values between 3.0f and 5.0f for SOME_POWER.

The searching code precomputes all coord values once per query
per search, so there is no need to worry about the computing efficiency.

This has the advantage that the other scoring factors are still used
for ranking.

Since the other factors can vary quite a bit, it is difficult to guarantee
that any coord() implementation will provide a score that sorts by the
number of matching clauses. Higher powers as above can come
a long way, though.

Regards,
Paul Elschot



> Thanks,
> Gururaja
> 
> Mike Snare wrote:
> I'm still new to Lucene, but wouldn't that be the coord()? My
> understanding is that the coord() is the fraction of the boolean query
> that matched a given document.
> 
> Again, I'm new, so somebody else will have to confirm or deny...
> 
> -Mike
> 
> 
> On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
> wrote:
> > How to find out the percentages of matched terms in the document(s) using 
Lucene ?
> > Here is an example, of what i am trying to do:
> > The search query has 5 terms(ibm, risc, tape, dirve, manual) and there are 
4 matching
> > documents with the following attributes:
> > Doc#1: contains terms(ibm,drive)
> > Doc#2: contains terms(ibm,risc, tape, drive)
> > Doc#3: contains terms(ibm,risc, tape,drive)
> > Doc#4: contains terms(ibm, risc, tape, drive, manual).
> > The percentages displayed would be 100%(Doc#4), 80%(doc#2), 80%(doc#3) and 
40%
> > (doc#1).
> > 
> > Any help on how to go about doing this ?
> > 
> > Thanks,
> > Gururaja
> > 
> > 
> > ---------------------------------
> > Do you Yahoo!?
> > Send a seasonal email greeting and help others. Do good.
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------
> Do you Yahoo!?
> All your favorites on one personal page � Try My Yahoo!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



		
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - 250MB free storage. Do more. Manage less.
--0-1624003818-1103612372=:15675--

From MAILER-DAEMON Tue Dec 21 07:06:21 2004
Return-Path: 
 <lucene-user-return-12026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16565 invoked from network); 21 Dec 2004 07:06:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 07:06:21 -0000
Received: (qmail 78716 invoked by uid 500); 21 Dec 2004 07:06:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78692 invoked by uid 500); 21 Dec 2004 07:06:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78677 invoked by uid 99); 21 Dec 2004 07:06:12 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53902.mail.yahoo.com (HELO web53902.mail.yahoo.com)
 (206.190.36.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 20 Dec 2004 23:06:09 -0800
Received: (qmail 35810 invoked by uid 60001); 21 Dec 2004 07:06:06 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Cn69vjX7vuuYvHK9ExLu2JwBIIf5kXcQ0bN4VeX3gvN4/nl1I6d99LCbwKqhd+8msrZcWXe1P+DJOHvGvEELnkc7Enwd/ty0AWO7JX4oo1D3FzdVaUxD8R9E5HzgH0PhcweWkoZjAtQG3fu1omYj/x4txF2fP/E4Z9VXbNaUrp8=
  ;
Message-ID: <20041221070606.35808.qmail@web53902.mail.yahoo.com>
Received: from [203.145.156.130] by web53902.mail.yahoo.com via HTTP;
 Mon, 20 Dec 2004 23:06:05 PST
Date: Mon, 20 Dec 2004 23:06:05 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: RE: Relevance percentage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC6CFB@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1262725606-1103612765=:35677"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1262725606-1103612765=:35677
Content-Type: text/plain; charset=us-ascii

Thanks much for the reply.

Chuck Williams <chuck@manawiz.com> wrote:The coord() value is not saved anywhere so you would need to recompute
it. You could either call explain() and parse the result string, or
better, look at explain() and implement what it does more efficiently
just for coord(). If your queries are all BooleanQuery's of
TermQuery's, then this is very simple. Iterate down the list of
BooleanClause's and count the number whose score is > 0, then divide
this by the total number of clauses. Take a look at
BooleanQuery.BooleanWeight.explain() as it does this (along with
generating the rest of the explanation). If you support the full Lucene
query language, then you need to look at all the query types and decide
what exactly you want to compute (as coord is not always well-defined).

I'm on the West Coast of the U.S. so evidently on a very different time
zone from you -- will look at your other message next.

Chuck

> -----Original Message-----
> From: Gururaja H [mailto:guru_hr29@yahoo.com]
> Sent: Monday, December 20, 2004 6:10 AM
> To: Lucene Users List; Mike Snare
> Subject: Re: Relevance percentage
> 
> Hi,
> 
> But, How to calculate the coord() fraction ? I know by default,
> in DefaultSimilarity the coord() fraction is defined as below:
> 
> /** Implemented as overlap / maxOverlap. */
> 
> public float coord(int overlap, int maxOverlap) {
> 
> return overlap / (float)maxOverlap;
> 
> }
> How to get the overlap and maxOverlap value in each of the matched
> document(s) ?
> 
> Thanks,
> Gururaja
> 
> Mike Snare wrote:
> I'm still new to Lucene, but wouldn't that be the coord()? My
> understanding is that the coord() is the fraction of the boolean
query
> that matched a given document.
> 
> Again, I'm new, so somebody else will have to confirm or deny...
> 
> -Mike
> 
> 
> On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
> wrote:
> > How to find out the percentages of matched terms in the
document(s)
> using Lucene ?
> > Here is an example, of what i am trying to do:
> > The search query has 5 terms(ibm, risc, tape, dirve, manual) and
there
> are 4 matching
> > documents with the following attributes:
> > Doc#1: contains terms(ibm,drive)
> > Doc#2: contains terms(ibm,risc, tape, drive)
> > Doc#3: contains terms(ibm,risc, tape,drive)
> > Doc#4: contains terms(ibm, risc, tape, drive, manual).
> > The percentages displayed would be 100%(Doc#4), 80%(doc#2),
80%(doc#3)
> and 40%
> > (doc#1).
> >
> > Any help on how to go about doing this ?
> >
> > Thanks,
> > Gururaja
> >
> >
> > ---------------------------------
> > Do you Yahoo!?
> > Send a seasonal email greeting and help others. Do good.
> >
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------
> Do you Yahoo!?
> All your favorites on one personal page - Try My Yahoo!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1262725606-1103612765=:35677--

From MAILER-DAEMON Tue Dec 21 08:02:28 2004
Return-Path: 
 <lucene-user-return-12027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40232 invoked from network); 21 Dec 2004 08:02:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:02:28 -0000
Received: (qmail 82740 invoked by uid 500); 21 Dec 2004 08:00:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82709 invoked by uid 500); 21 Dec 2004 08:00:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82598 invoked by uid 99); 21 Dec 2004 08:00:42 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 00:00:38 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I92CAP00.FD3 for <lucene-user@jakarta.apache.org>; Tue,
          21 Dec 2004 13:46:01 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: MergerIndex + Searchables
Date: Tue, 21 Dec 2004 13:34:03 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKCEGECAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys

Apologies...............


I have several MERGERINDEXES [  MGR1,MGR2,MGR3....].

for searching across these MERGERINDEXES I use the following Code
IndexSearcher[] indexToSearch = new IndexSearcher[CNTINDXDBOOK];

for(int all=0;all<CNTINDXDBOOK;all++){
    indexToSearch[all] = new IndexSearcher(INDEXEDBOOKS[all]);
     System.out.println(all + " ADDED TO SEARCHABLES " + INDEXEDBOOKS[all]);
}

MultiSearcher searcher = new MultiSearcher(indexToSearch);


Question :

When on Search Process , How to Display that this relevan  Document Id
Originated from Which MRG???

[ Some thing like this : -  Search word  'ISBN12345' is avalible from
"MRGx" ]



      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 08:04:57 2004
Return-Path: 
 <lucene-user-return-12028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41115 invoked from network); 21 Dec 2004 08:04:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:04:57 -0000
Received: (qmail 90592 invoked by uid 500); 21 Dec 2004 08:04:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90527 invoked by uid 500); 21 Dec 2004 08:04:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90507 invoked by uid 99); 21 Dec 2004 08:04:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21326.mail.yahoo.com (HELO web21326.mail.yahoo.com)
 (216.136.175.215)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 00:04:33 -0800
Received: (qmail 26203 invoked by uid 60001); 21 Dec 2004 08:04:29 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=qhxzeuaT5UEJIJaDWM3awLcXqgBbUxnJtc1qkXx2bxAgEE3tR0lgfos241CEY7ADtU9bOVYLynHPPmAr6K3AnylT2giT8bNzAmWjE7Uta1j3Xdeay6oYI3lQ/V4OYG9ye6qo3AizDDrKgttOGepOdizrsWv9Xpr/BkQP0PYiAqs=
  ;
Message-ID: <20041221080429.26201.qmail@web21326.mail.yahoo.com>
Received: from [193.226.211.176] by web21326.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 00:04:29 PST
Date: Tue, 21 Dec 2004 00:04:29 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Synonyms for AND/OR/NOT operators
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

What is the simplest way to add synonyms for AND/OR/NOT operators?
I'd like to support two sets of operator words, so people can use either the original english
operators and my custom ones for our local language.

Thank you for your attention!
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Send holiday email and support a worthy cause. Do good. 
http://celebrity.mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 08:09:31 2004
Return-Path: 
 <lucene-user-return-12029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43326 invoked from network); 21 Dec 2004 08:09:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:09:31 -0000
Received: (qmail 817 invoked by uid 500); 21 Dec 2004 08:09:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 793 invoked by uid 500); 21 Dec 2004 08:09:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 779 invoked by uid 99); 21 Dec 2004 08:09:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 00:09:06 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id AC2862260072; Tue, 21 Dec 2004 03:17:44 -0500
Message-ID: <41C7DA1D.7010706@bayt.net>
Date: Tue, 21 Dec 2004 12:09:01 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: MergerIndex + Searchables
References: <OBELINLGKPEMCIEIJJNKCEGECAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKCEGECAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


As obvious as it may seem, you could always store the index ID in which 
you are indexing the document in the document itself and have that 
fetched with the search results, or is there something stopping you from 
doing that.

Nader Henein


Karthik N S wrote:

>Hi Guys
>
>Apologies...............
>
>
>I have several MERGERINDEXES [  MGR1,MGR2,MGR3....].
>
>for searching across these MERGERINDEXES I use the following Code
>IndexSearcher[] indexToSearch = new IndexSearcher[CNTINDXDBOOK];
>
>for(int all=0;all<CNTINDXDBOOK;all++){
>    indexToSearch[all] = new IndexSearcher(INDEXEDBOOKS[all]);
>     System.out.println(all + " ADDED TO SEARCHABLES " + INDEXEDBOOKS[all]);
>}
>
>MultiSearcher searcher = new MultiSearcher(indexToSearch);
>
>
>Question :
>
>When on Search Process , How to Display that this relevan  Document Id
>Originated from Which MRG???
>
>[ Some thing like this : -  Search word  'ISBN12345' is avalible from
>"MRGx" ]
>
>
>
>      WITH WARM REGARDS
>      HAVE A NICE DAY
>      [ N.S.KARTHIK]
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 08:32:45 2004
Return-Path: 
 <lucene-user-return-12030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81849 invoked from network); 21 Dec 2004 08:32:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:32:45 -0000
Received: (qmail 41062 invoked by uid 500); 21 Dec 2004 08:31:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41029 invoked by uid 500); 21 Dec 2004 08:31:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41006 invoked by uid 99); 21 Dec 2004 08:31:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr6.xs4all.nl (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 00:31:28 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBL8VPHF095573
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 09:31:25 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: index size doubled?
Date: Tue, 21 Dec 2004 09:31:24 +0100
User-Agent: KMail/1.5.4
References: <opsjccz1kp6yt6e7@wtung-w2k.amer.cisco.com>
In-Reply-To: <opsjccz1kp6yt6e7@wtung-w2k.amer.cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412210931.24621.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 21 December 2004 05:49, aurora wrote:
> I'm testing the rebuilding of the index. I add several hundred documents,  
> optimize and add another few hundred and so on. Right now I have around  
> 7000 files. I observed after the index gets to certain size. Everytime  
> after optimize, the are two files roughly the same size like below:
> 
> 12/20/2004  01:57p                  13 deletable
> 12/20/2004  01:57p                  29 segments
> 12/20/2004  01:53p          14,460,367 _5qf.cfs
> 12/20/2004  01:57p          15,069,013 _5zr.cfs
> 
> The index total index is double of what I expect. This is not always  
> reproducible. (I'm constantly tuning my program and the set of document).  
> Sometime I get a decent single document after optimize. What was happening?

Lucene tried to delete the older version (_5cf.cfs above), but got an error
back from the file system. After that it has put the name of that segment in
the deletable file, so it can try later to delete that segment.

This is known behaviour on FAT file systems. These randomly take some time
for themselves to finish closing a file after it has been correctly closed by
a program.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 08:40:48 2004
Return-Path: 
 <lucene-user-return-12031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87189 invoked from network); 21 Dec 2004 08:40:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:40:48 -0000
Received: (qmail 57186 invoked by uid 500); 21 Dec 2004 08:39:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57099 invoked by uid 500); 21 Dec 2004 08:39:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57074 invoked by uid 99); 21 Dec 2004 08:39:54 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=FORGED_RCVD_HELO,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr13.xs4all.nl (HELO smtp-vbr13.xs4all.nl)
 (194.109.24.33)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 00:39:50 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBL8dlW7098994
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 09:39:47 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: MergerIndex + Searchables
Date: Tue, 21 Dec 2004 09:39:47 +0100
User-Agent: KMail/1.5.4
References: <OBELINLGKPEMCIEIJJNKCEGECAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKCEGECAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412210939.47007.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

On Tuesday 21 December 2004 09:04, Karthik N S wrote:
> Hi Guys
> 
> Apologies...............
> 
> 
> I have several MERGERINDEXES [  MGR1,MGR2,MGR3....].
> 
> for searching across these MERGERINDEXES I use the following Code
> IndexSearcher[] indexToSearch = new IndexSearcher[CNTINDXDBOOK];
> 
> for(int all=0;all<CNTINDXDBOOK;all++){
>     indexToSearch[all] = new IndexSearcher(INDEXEDBOOKS[all]);
>      System.out.println(all + " ADDED TO SEARCHABLES " + INDEXEDBOOKS[all]);
> }
> 
> MultiSearcher searcher = new MultiSearcher(indexToSearch);
> 
> 
> Question :
> 
> When on Search Process , How to Display that this relevan  Document Id
> Originated from Which MRG???
> 
> [ Some thing like this : -  Search word  'ISBN12345' is avalible from
> "MRGx" ]

I think you are looking for the methods subSearcher() and subDoc() on
MultiSearcher.

Regards,
Paul Elschot




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 08:48:54 2004
Return-Path: 
 <lucene-user-return-12032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93557 invoked from network); 21 Dec 2004 08:48:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 08:48:54 -0000
Received: (qmail 75626 invoked by uid 500); 21 Dec 2004 08:48:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75435 invoked by uid 500); 21 Dec 2004 08:48:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75378 invoked by uid 99); 21 Dec 2004 08:48:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 00:48:10 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I92EI400.ECQ for <lucene-user@jakarta.apache.org>; Tue,
          21 Dec 2004 14:33:40 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: MergerIndex + Searchables
Date: Tue, 21 Dec 2004 14:21:42 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEGECAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
In-Reply-To: <41C7DA1D.7010706@bayt.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys

Apologies.........


a)Since the MRG [1,2,3 ] numbers are dynamic [ 1000 subindexes =3D 1 =
mergerindex ].

b)Hence during indexing Time, Cannot identify to whichever MERGEINDEX =
does the Index is inserted.

c)Also during House Keeping process,the latest Index replaces the =
previous ones for the same MERGERINDEX.



  Any other solutions Please.


with regards
Karthik


-----Original Message-----
From: Nader Henein [mailto:nsh@bayt.net]
Sent: Tuesday, December 21, 2004 1:39 PM
To: Lucene Users List
Subject: Re: MergerIndex + Searchables



As obvious as it may seem, you could always store the index ID in which=20
you are indexing the document in the document itself and have that=20
fetched with the search results, or is there something stopping you from =

doing that.

Nader Henein


Karthik N S wrote:

>Hi Guys
>
>Apologies...............
>
>
>I have several MERGERINDEXES [  MGR1,MGR2,MGR3....].
>
>for searching across these MERGERINDEXES I use the following Code
>IndexSearcher[] indexToSearch =3D new IndexSearcher[CNTINDXDBOOK];
>
>for(int all=3D0;all<CNTINDXDBOOK;all++){
>    indexToSearch[all] =3D new IndexSearcher(INDEXEDBOOKS[all]);
>     System.out.println(all + " ADDED TO SEARCHABLES " + =
INDEXEDBOOKS[all]);
>}
>
>MultiSearcher searcher =3D new MultiSearcher(indexToSearch);
>
>
>Question :
>
>When on Search Process , How to Display that this relevan  Document Id
>Originated from Which MRG???
>
>[ Some thing like this : -  Search word  'ISBN12345' is avalible from
>"MRGx" ]
>
>
>
>      WITH WARM REGARDS
>      HAVE A NICE DAY
>      [ N.S.KARTHIK]
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> =20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 09:29:29 2004
Return-Path: 
 <lucene-user-return-12033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21971 invoked from network); 21 Dec 2004 09:29:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 09:29:29 -0000
Received: (qmail 69407 invoked by uid 500); 21 Dec 2004 09:28:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69319 invoked by uid 500); 21 Dec 2004 09:28:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69284 invoked by uid 99); 21 Dec 2004 09:28:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 01:28:34 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9EF9213E28F7; Tue, 21 Dec 2004 04:28:23 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id D9C0E13E20ED
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 04:28:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041221080429.26201.qmail@web21326.mail.yahoo.com>
References: <20041221080429.26201.qmail@web21326.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A7572E88-5332-11D9-A77E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Synonyms for AND/OR/NOT operators
Date: Tue, 21 Dec 2004 04:28:20 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 21, 2004, at 3:04 AM, Sanyi wrote:
> What is the simplest way to add synonyms for AND/OR/NOT operators?
> I'd like to support two sets of operator words, so people can use 
> either the original english
> operators and my custom ones for our local language.

There are two options that I know of: 1) add synonyms during indexing 
and 2) add synonyms during querying.  Generally this would be done 
using a custom analyzer.

If the synonym mappings are static and you don't mind a larger index, 
adding them during indexing avoids the complexity of rewriting the 
query.  Injecting synonyms during querying allows the synonym mappings 
to change dynamically, though does produce more complex queries.  
Here's an example you'll find with the source code distribution of 
Lucene in Action which uses WordNet to look up synonyms.

	Erik

p.s. I'm sensitive to over-marketing Lucene in Action in this forum as 
it would bother me to constantly see an advertisement.  You can be sure 
that any mentions of it from me will coincide with concrete examples 
(which are freely available) that are directly related to questions 
being asked.


% ant -emacs SynonymAnalyzerViewer
Buildfile: build.xml

check-environment:

compile:

build-test-index:

build-perf-index:

prepare:

SynonymAnalyzerViewer:

       Using a custom SynonymAnalyzer, two fixed strings are
       analyzed with the results displayed.  Synonyms, from the
       WordNet database, are injected into the same positions
       as the original words.

       See the "Analysis" chapter for more on synonym injection and
       position increments.  The "Tools and extensions" chapter covers
       the WordNet feature found in the Lucene sandbox.

Press return to continue...

Running lia.analysis.synonym.SynonymAnalyzerViewer...

1: [quick] [warm] [straightaway] [spry] [speedy] [ready] [quickly] 
[promptly] [prompt] [nimble] [immediate] [flying] [fast] [agile]
2: [brown] [brownness] [brownish]
3: [fox] [trick] [throw] [slyboots] [fuddle] [fob] [dodger] 
[discombobulate] [confuse] [confound] [befuddle] [bedevil]
4: [jumps]
5: [over] [o] [across]
6: [lazy] [faineant] [indolent] [otiose] [slothful]
7: [dogs]

1: [oh]
2: [we]
3: [get] [acquire] [aim] [amaze] [arrest] [arrive] [baffle] [beat] 
[become] [beget] [begin] [bewilder] [bring] [can] [capture] [catch] 
[cause] [come] [commence] [contract] [convey] [develop] [draw] [drive] 
[dumbfound] [engender] [experience] [father] [fetch] [find] [fix] 
[flummox] [generate] [go] [gravel] [grow] [have] [incur] [induce] [let] 
[make] [may] [mother] [mystify] [nonplus] [obtain] [perplex] [produce] 
[puzzle] [receive] [scram] [sire] [start] [stimulate] [stupefy] 
[stupify] [suffer] [sustain] [take] [trounce] [undergo]
4: [both]
5: [kinds]
6: [country] [state] [nationality] [nation] [land] [commonwealth] [area]
7: [western] [westerly]
8: [bb]

BUILD SUCCESSFUL
Total time: 10 seconds


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 09:43:04 2004
Return-Path: 
 <lucene-user-return-12034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30615 invoked from network); 21 Dec 2004 09:43:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 09:43:04 -0000
Received: (qmail 99066 invoked by uid 500); 21 Dec 2004 09:42:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98958 invoked by uid 500); 21 Dec 2004 09:42:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98943 invoked by uid 99); 21 Dec 2004 09:42:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21327.mail.yahoo.com (HELO web21327.mail.yahoo.com)
 (216.136.175.216)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 01:42:23 -0800
Received: (qmail 31026 invoked by uid 60001); 21 Dec 2004 09:42:20 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=KW0G6DccnW6LWjJbLuz3oZ61OrVEusZmU0EJ9dmmXlxklgEWZRaQM90iEiphKVb+RQ1/TM9JQyDEtRkOUCjvFz7c56fIJhFaaggcv2OdyWrRM/QK5iMtLJgc8o10jH2DN418Wxe98S0wsB9x3Pv0N+4Vl/3I8e2p2Nz62/8P010=
  ;
Message-ID: <20041221094220.31024.qmail@web21327.mail.yahoo.com>
Received: from [193.226.211.176] by web21327.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 01:42:20 PST
Date: Tue, 21 Dec 2004 01:42:20 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: Synonyms for AND/OR/NOT operators
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <A7572E88-5332-11D9-A77E-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I think we're talking about different things.
My question is about using synonyms for AND/OR/NOT operators, not about synonyms of words in the
index.
For example, in some language: AND = AANNDD; OR = OORR; NOT = NNOOTT

So, the user can enter:
(cat OR kitty) AND black AND tail

and either:

(cat OORR kitty) AANNDD black AANNDD tail

Both sets of operators must work.
It must be some kind of a query parser modification/parametering, so there is nothing to do with
the index.

I hope I was more specific now ;)

Thanx,
Sanyi




--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> On Dec 21, 2004, at 3:04 AM, Sanyi wrote:
> > What is the simplest way to add synonyms for AND/OR/NOT operators?
> > I'd like to support two sets of operator words, so people can use 
> > either the original english
> > operators and my custom ones for our local language.
> 
> There are two options that I know of: 1) add synonyms during indexing 
> and 2) add synonyms during querying.  Generally this would be done 
> using a custom analyzer.
> 
> If the synonym mappings are static and you don't mind a larger index, 
> adding them during indexing avoids the complexity of rewriting the 
> query.  Injecting synonyms during querying allows the synonym mappings 
> to change dynamically, though does produce more complex queries.  
> Here's an example you'll find with the source code distribution of 
> Lucene in Action which uses WordNet to look up synonyms.
> 
> 	Erik
> 
> p.s. I'm sensitive to over-marketing Lucene in Action in this forum as 
> it would bother me to constantly see an advertisement.  You can be sure 
> that any mentions of it from me will coincide with concrete examples 
> (which are freely available) that are directly related to questions 
> being asked.
> 
> 
> % ant -emacs SynonymAnalyzerViewer
> Buildfile: build.xml
> 
> check-environment:
> 
> compile:
> 
> build-test-index:
> 
> build-perf-index:
> 
> prepare:
> 
> SynonymAnalyzerViewer:
> 
>        Using a custom SynonymAnalyzer, two fixed strings are
>        analyzed with the results displayed.  Synonyms, from the
>        WordNet database, are injected into the same positions
>        as the original words.
> 
>        See the "Analysis" chapter for more on synonym injection and
>        position increments.  The "Tools and extensions" chapter covers
>        the WordNet feature found in the Lucene sandbox.
> 
> Press return to continue...
> 
> Running lia.analysis.synonym.SynonymAnalyzerViewer...
> 
> 1: [quick] [warm] [straightaway] [spry] [speedy] [ready] [quickly] 
> [promptly] [prompt] [nimble] [immediate] [flying] [fast] [agile]
> 2: [brown] [brownness] [brownish]
> 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob] [dodger] 
> [discombobulate] [confuse] [confound] [befuddle] [bedevil]
> 4: [jumps]
> 5: [over] [o] [across]
> 6: [lazy] [faineant] [indolent] [otiose] [slothful]
> 7: [dogs]
> 
> 1: [oh]
> 2: [we]
> 3: [get] [acquire] [aim] [amaze] [arrest] [arrive] [baffle] [beat] 
> [become] [beget] [begin] [bewilder] [bring] [can] [capture] [catch] 
> [cause] [come] [commence] [contract] [convey] [develop] [draw] [drive] 
> [dumbfound] [engender] [experience] [father] [fetch] [find] [fix] 
> [flummox] [generate] [go] [gravel] [grow] [have] [incur] [induce] [let] 
> [make] [may] [mother] [mystify] [nonplus] [obtain] [perplex] [produce] 
> [puzzle] [receive] [scram] [sire] [start] [stimulate] [stupefy] 
> [stupify] [suffer] [sustain] [take] [trounce] [undergo]
> 4: [both]
> 5: [kinds]
> 6: [country] [state] [nationality] [nation] [land] [commonwealth] [area]
> 7: [western] [westerly]
> 8: [bb]
> 
> BUILD SUCCESSFUL
> Total time: 10 seconds
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
Dress up your holiday email, Hollywood style. Learn more. 
http://celebrity.mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 09:57:13 2004
Return-Path: 
 <lucene-user-return-12035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39332 invoked from network); 21 Dec 2004 09:57:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 09:57:13 -0000
Received: (qmail 23228 invoked by uid 500); 21 Dec 2004 09:56:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23191 invoked by uid 500); 21 Dec 2004 09:56:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23154 invoked by uid 99); 21 Dec 2004 09:56:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 01:56:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 9286C23BF0
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 10:57:38 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 09157-04 for <lucene-user@jakarta.apache.org>;
 Tue, 21 Dec 2004 10:57:38 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 734A623BEA
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 10:57:38 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iBL9ufmA020596
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 10:56:41 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iBL9ue5c020592;
	Tue, 21 Dec 2004 10:56:40 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16839.62296.875645.484722@tucholsky.office.tanto.de>
Date: Tue, 21 Dec 2004 10:56:40 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Synonyms for AND/OR/NOT operators
In-Reply-To: <A7572E88-5332-11D9-A77E-000393A564E6@ehatchersolutions.com>
References: <20041221080429.26201.qmail@web21326.mail.yahoo.com>
	<A7572E88-5332-11D9-A77E-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher writes:
> On Dec 21, 2004, at 3:04 AM, Sanyi wrote:
> > What is the simplest way to add synonyms for AND/OR/NOT operators?
> > I'd like to support two sets of operator words, so people can use 
> > either the original english
> > operators and my custom ones for our local language.
> 
> There are two options that I know of: 1) add synonyms during indexing 
> and 2) add synonyms during querying.  Generally this would be done 
> using a custom analyzer.

I guess you missunderstood the question.

I think he want's to know how to create a query parser understanding 
something like 'a UND b' as well as 'a AND b' to support localized 
operator names (german in this case).

AFAIK that can only be done by copying query parsers javacc-source and
adding the operators there.
Shouldn't be difficult, though it's a bit ugly since it implies code
duplication. And there will be no way of choosing the operators dynamically
at runtime. One will need to have different query parsers for different
languages.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 10:15:03 2004
Return-Path: 
 <lucene-user-return-12036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49847 invoked from network); 21 Dec 2004 10:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 10:15:03 -0000
Received: (qmail 58911 invoked by uid 500); 21 Dec 2004 10:14:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58892 invoked by uid 500); 21 Dec 2004 10:14:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58736 invoked by uid 99); 21 Dec 2004 10:14:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 02:13:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6652A13E28F7; Tue, 21 Dec 2004 05:13:50 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 1D8E013E20ED
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 05:13:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041221094220.31024.qmail@web21327.mail.yahoo.com>
References: <20041221094220.31024.qmail@web21327.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FD946695-5338-11D9-A77E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Synonyms for AND/OR/NOT operators
Date: Tue, 21 Dec 2004 05:13:42 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wow, I really did misunderstand.  My apologies.

Yes, you will need to fork QueryParser.jj and install JavaCC to build 
your custom parser.  It should be pretty trivial to add alternatives to 
AND(+)/OR/NOT(-).

	Erik


On Dec 21, 2004, at 4:42 AM, Sanyi wrote:

> Hi!
>
> I think we're talking about different things.
> My question is about using synonyms for AND/OR/NOT operators, not 
> about synonyms of words in the
> index.
> For example, in some language: AND = AANNDD; OR = OORR; NOT = NNOOTT
>
> So, the user can enter:
> (cat OR kitty) AND black AND tail
>
> and either:
>
> (cat OORR kitty) AANNDD black AANNDD tail
>
> Both sets of operators must work.
> It must be some kind of a query parser modification/parametering, so 
> there is nothing to do with
> the index.
>
> I hope I was more specific now ;)
>
> Thanx,
> Sanyi
>
>
>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>> On Dec 21, 2004, at 3:04 AM, Sanyi wrote:
>>> What is the simplest way to add synonyms for AND/OR/NOT operators?
>>> I'd like to support two sets of operator words, so people can use
>>> either the original english
>>> operators and my custom ones for our local language.
>>
>> There are two options that I know of: 1) add synonyms during indexing
>> and 2) add synonyms during querying.  Generally this would be done
>> using a custom analyzer.
>>
>> If the synonym mappings are static and you don't mind a larger index,
>> adding them during indexing avoids the complexity of rewriting the
>> query.  Injecting synonyms during querying allows the synonym mappings
>> to change dynamically, though does produce more complex queries.
>> Here's an example you'll find with the source code distribution of
>> Lucene in Action which uses WordNet to look up synonyms.
>>
>> 	Erik
>>
>> p.s. I'm sensitive to over-marketing Lucene in Action in this forum as
>> it would bother me to constantly see an advertisement.  You can be 
>> sure
>> that any mentions of it from me will coincide with concrete examples
>> (which are freely available) that are directly related to questions
>> being asked.
>>
>>
>> % ant -emacs SynonymAnalyzerViewer
>> Buildfile: build.xml
>>
>> check-environment:
>>
>> compile:
>>
>> build-test-index:
>>
>> build-perf-index:
>>
>> prepare:
>>
>> SynonymAnalyzerViewer:
>>
>>        Using a custom SynonymAnalyzer, two fixed strings are
>>        analyzed with the results displayed.  Synonyms, from the
>>        WordNet database, are injected into the same positions
>>        as the original words.
>>
>>        See the "Analysis" chapter for more on synonym injection and
>>        position increments.  The "Tools and extensions" chapter covers
>>        the WordNet feature found in the Lucene sandbox.
>>
>> Press return to continue...
>>
>> Running lia.analysis.synonym.SynonymAnalyzerViewer...
>>
>> 1: [quick] [warm] [straightaway] [spry] [speedy] [ready] [quickly]
>> [promptly] [prompt] [nimble] [immediate] [flying] [fast] [agile]
>> 2: [brown] [brownness] [brownish]
>> 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob] [dodger]
>> [discombobulate] [confuse] [confound] [befuddle] [bedevil]
>> 4: [jumps]
>> 5: [over] [o] [across]
>> 6: [lazy] [faineant] [indolent] [otiose] [slothful]
>> 7: [dogs]
>>
>> 1: [oh]
>> 2: [we]
>> 3: [get] [acquire] [aim] [amaze] [arrest] [arrive] [baffle] [beat]
>> [become] [beget] [begin] [bewilder] [bring] [can] [capture] [catch]
>> [cause] [come] [commence] [contract] [convey] [develop] [draw] [drive]
>> [dumbfound] [engender] [experience] [father] [fetch] [find] [fix]
>> [flummox] [generate] [go] [gravel] [grow] [have] [incur] [induce] 
>> [let]
>> [make] [may] [mother] [mystify] [nonplus] [obtain] [perplex] [produce]
>> [puzzle] [receive] [scram] [sire] [start] [stimulate] [stupefy]
>> [stupify] [suffer] [sustain] [take] [trounce] [undergo]
>> 4: [both]
>> 5: [kinds]
>> 6: [country] [state] [nationality] [nation] [land] [commonwealth] 
>> [area]
>> 7: [western] [westerly]
>> 8: [bb]
>>
>> BUILD SUCCESSFUL
>> Total time: 10 seconds
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
>
> 		
> __________________________________
> Do you Yahoo!?
> Dress up your holiday email, Hollywood style. Learn more.
> http://celebrity.mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 10:55:02 2004
Return-Path: 
 <lucene-user-return-12037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78921 invoked from network); 21 Dec 2004 10:55:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 10:55:02 -0000
Received: (qmail 48380 invoked by uid 500); 21 Dec 2004 10:51:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48290 invoked by uid 500); 21 Dec 2004 10:51:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48171 invoked by uid 99); 21 Dec 2004 10:51:54 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53910.mail.yahoo.com (HELO web53910.mail.yahoo.com)
 (206.190.36.220)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 02:51:50 -0800
Received: (qmail 1789 invoked by uid 60001); 21 Dec 2004 10:51:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ku7/m3lZUYWdY6F6ZT2cY2u8+/1h+YGgetWV8VmYkZGpKYDi3AvBasi4lxVrLdC69z094bcdRgRBfQjH7f7a6eXW8dlaC+U2ydtn9FW40swT+oCaanF3hpSL49TPHljt7UTsZGJS2F9SdDbgkIYiP+G/+96+akTHKHbuFqaWEi8=
  ;
Message-ID: <20041221105147.1787.qmail@web53910.mail.yahoo.com>
Received: from [203.145.156.130] by web53910.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 02:51:47 PST
Date: Tue, 21 Dec 2004 02:51:47 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: Lucene index files from two different applications.
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1447211606-1103626307=:78451"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1447211606-1103626307=:78451
Content-Type: text/plain; charset=us-ascii

Hi !
 
Have two applications.  Both are supposed
to write Lucene index files and the WebApplication is supposed to read
these index files.
 
Here are the questions:
1.  Can two applications write index files, in the same directory, at the same time ?
2.  If two applications cannot write index files, in the same directory, at the same time.  
     How should we resolve this ?  Would appriciate any solutions to this...
3.  My thought is to write the index files in two different directories and read both the indexes
(as though it forms a single index, search results should consider the documents in both the indexes) from the WebApplication.  How to go about implementing this, using Lucene API ?  Need inputs on which of the Lucene API's to use ?
 
                                              ----
 
Thanks,
Gururaja

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1447211606-1103626307=:78451--

From MAILER-DAEMON Tue Dec 21 11:06:43 2004
Return-Path: 
 <lucene-user-return-12038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87095 invoked from network); 21 Dec 2004 11:06:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 11:06:43 -0000
Received: (qmail 84718 invoked by uid 500); 21 Dec 2004 11:06:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84675 invoked by uid 500); 21 Dec 2004 11:06:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84614 invoked by uid 99); 21 Dec 2004 11:06:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO
 proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 03:05:59 -0800
Received: from ifit.uni-klu.ac.at ([143.205.118.100]) by
 proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Tue, 21 Dec 2004 12:05:54 +0100
Message-ID: <41C80391.4030401@ifit.uni-klu.ac.at>
Date: Tue, 21 Dec 2004 12:05:53 +0100
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene index files from two different applications.
References: <20041221105147.1787.qmail@web53910.mail.yahoo.com>
In-Reply-To: <20041221105147.1787.qmail@web53910.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 21 Dec 2004 11:05:54.0357 (UTC)
 FILETIME=[0A3E4E50:01C4E74D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gururaja H wrote:

>Hi !
> 
>Have two applications.  Both are supposed
>to write Lucene index files and the WebApplication is supposed to read
>these index files.
> 
>Here are the questions:
>1.  Can two applications write index files, in the same directory, at the same time ?
>  
>
if you implement the synchronisation between these 2 applications, yes

>2.  If two applications cannot write index files, in the same directory, at the same time.  
>     How should we resolve this ?  Would appriciate any solutions to this...
>  
>
... se 1. and 3.

>3.  My thought is to write the index files in two different directories and read both the indexes
>(as though it forms a single index, search results should consider the documents in both the indexes) from the WebApplication.  How to go about implementing this, using Lucene API ?  Need inputs on which of the Lucene API's to use ?
>  
>
If yor requirements allow you to create to independent indices, than you 
can use the MultiSearcher to search in both indices.
Maybe this will be the most cost effective solution in your case,

 Best,

  Sergiu

> 
>                                              ----
> 
>Thanks,
>Gururaja
>
>__________________________________________________
>Do You Yahoo!?
>Tired of spam?  Yahoo! Mail has the best spam protection around 
>http://mail.yahoo.com 
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 11:10:34 2004
Return-Path: 
 <lucene-user-return-12039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89928 invoked from network); 21 Dec 2004 11:10:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 11:10:34 -0000
Received: (qmail 92488 invoked by uid 500); 21 Dec 2004 11:09:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92407 invoked by uid 500); 21 Dec 2004 11:09:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92310 invoked by uid 99); 21 Dec 2004 11:09:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 03:09:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0C5AF13E20ED; Tue, 21 Dec 2004 06:09:30 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4F6E413E28F6
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 06:09:25 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041221105147.1787.qmail@web53910.mail.yahoo.com>
References: <20041221105147.1787.qmail@web53910.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C4332A2C-5340-11D9-A77E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene index files from two different applications.
Date: Tue, 21 Dec 2004 06:09:21 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 21, 2004, at 5:51 AM, Gururaja H wrote:
> 1.  Can two applications write index files, in the same directory, at 
> the same time ?

If you mean to the same Lucene index, the answer is no.  Only a single 
IndexWriter instance may be writing to an index at one time.

> 2.  If two applications cannot write index files, in the same 
> directory, at the same time.
>      How should we resolve this ?  Would appriciate any solutions to 
> this...

You may consider writing a queuing system so that two applications 
queue up a document to index, and a single indexer application reads 
from the queue.  Or the applications could wait until the index is 
available for writing.  Or...

> 3.  My thought is to write the index files in two different 
> directories and read both the indexes
> (as though it forms a single index, search results should consider the 
> documents in both the indexes) from the WebApplication.  How to go 
> about implementing this, using Lucene API ?  Need inputs on which of 
> the Lucene API's to use ?

Lucene can easily search from multiple indexes using MultiSearcher.  
This merges the results together as you'd expect.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 11:17:18 2004
Return-Path: 
 <lucene-user-return-12040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95840 invoked from network); 21 Dec 2004 11:17:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 11:17:18 -0000
Received: (qmail 6936 invoked by uid 500); 21 Dec 2004 11:16:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6907 invoked by uid 500); 21 Dec 2004 11:16:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6881 invoked by uid 99); 21 Dec 2004 11:16:48 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21323.mail.yahoo.com (HELO web21323.mail.yahoo.com)
 (216.136.175.209)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 03:16:45 -0800
Received: (qmail 74878 invoked by uid 60001); 21 Dec 2004 11:10:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=bzPKqFeEQgLS43brbH+n7ap/uXk+QpI9ioSwcTqD8S2JGLkYoCyriLLu67L3pZiQGIaiIVOakI3SFUqJGr63Rde7sjYaVrFUHorV5ik4+YWelapK5Nx22eGe+4WeccG9czloCXjUxxtvMSTWw0bL8hLG92ftToaX0+i0lbV/tCE=
  ;
Message-ID: <20041221111001.74871.qmail@web21323.mail.yahoo.com>
Received: from [193.226.211.176] by web21323.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 03:10:01 PST
Date: Tue, 21 Dec 2004 03:10:01 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: Synonyms for AND/OR/NOT operators
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16839.62296.875645.484722@tucholsky.office.tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, I guess I'd better recognize and replace the operator synonyms to their original format
before passing them to QueryParser. I don't feel comfortable tampering with Lucene's source code.

Anyway, thanx for the answers.

Sanyi

--- Morus Walter <morus.walter@tanto.de> wrote:

> Erik Hatcher writes:
> > On Dec 21, 2004, at 3:04 AM, Sanyi wrote:
> > > What is the simplest way to add synonyms for AND/OR/NOT operators?
> > > I'd like to support two sets of operator words, so people can use 
> > > either the original english
> > > operators and my custom ones for our local language.
> > 
> > There are two options that I know of: 1) add synonyms during indexing 
> > and 2) add synonyms during querying.  Generally this would be done 
> > using a custom analyzer.
> 
> I guess you missunderstood the question.
> 
> I think he want's to know how to create a query parser understanding 
> something like 'a UND b' as well as 'a AND b' to support localized 
> operator names (german in this case).
> 
> AFAIK that can only be done by copying query parsers javacc-source and
> adding the operators there.
> Shouldn't be difficult, though it's a bit ugly since it implies code
> duplication. And there will be no way of choosing the operators dynamically
> at runtime. One will need to have different query parsers for different
> languages.
> 
> Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
Take Yahoo! Mail with you! Get it on your mobile phone. 
http://mobile.yahoo.com/maildemo 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 11:41:19 2004
Return-Path: 
 <lucene-user-return-12041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12728 invoked from network); 21 Dec 2004 11:41:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 11:41:19 -0000
Received: (qmail 62867 invoked by uid 500); 21 Dec 2004 11:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62820 invoked by uid 500); 21 Dec 2004 11:40:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62769 invoked by uid 99); 21 Dec 2004 11:40:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 03:40:21 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 7FF3823BEA
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 12:41:09 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 12540-05 for <lucene-user@jakarta.apache.org>;
 Tue, 21 Dec 2004 12:41:09 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 6349B23BC8
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 12:41:09 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iBLBeBmA022581
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 12:40:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iBLBeBos022577;
	Tue, 21 Dec 2004 12:40:11 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <16840.2971.658555.160305@tucholsky.office.tanto.de>
Date: Tue, 21 Dec 2004 12:40:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Synonyms for AND/OR/NOT operators
In-Reply-To: <20041221111001.74871.qmail@web21323.mail.yahoo.com>
References: <16839.62296.875645.484722@tucholsky.office.tanto.de>
	<20041221111001.74871.qmail@web21323.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sanyi writes:
> Well, I guess I'd better recognize and replace the operator synonyms =
to their original format
> before passing them to QueryParser. I don't feel comfortable tamperin=
g with Lucene's source code.
>=20
Apart from knowing how to compile lucene (including the javacc code
generation) you should only need to change

<DEFAULT> TOKEN : {
  <AND:       ("AND" | "&&") >
| <OR:        ("OR" | "||") >
| <NOT:       ("NOT" | "!") >

to
<DEFAULT> TOKEN : {
  <AND:       ("AND" | "<insert your version of and here>" | "&&") >
| <OR:        ("OR" | "<insert your version of or here>" | "||") >
| <NOT:       ("NOT" | "<insert your version of not here>" | "!") >

in jakarta-lucene/src/java/org/apache/lucene/queryParser/QueryParser.jj=


Replacing the operators before query might be hard to do, if you want
to handle cases like =BB"a AND b" OR c=AB, which is a query for a=20
phrase "a AND b" or the token c, correctly.

Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 13:43:12 2004
Return-Path: 
 <lucene-user-return-12042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99122 invoked from network); 21 Dec 2004 13:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 13:43:12 -0000
Received: (qmail 1769 invoked by uid 500); 21 Dec 2004 13:42:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1739 invoked by uid 500); 21 Dec 2004 13:42:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1718 invoked by uid 99); 21 Dec 2004 13:42:05 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com)
 (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 05:42:02 -0800
Received: (qmail 93003 invoked by uid 60001); 21 Dec 2004 13:41:56 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=1PRwm7L1XgTXonJCN7DpnfDiMFwoFphoAs8vnt9CvIU5QHyHyZO5VCmtjK1yXMeTMvs6uGtxJfuFWO2OC9Q1W3JADoKc2h/TgDXuFmi8QOx7yT5uaH1i26s7OAsrOduprMcXeI6aPW4ETdVVBap8pSORPfRAtorG5XjOnpic0Xo=
  ;
Message-ID: <20041221134156.93001.qmail@web12707.mail.yahoo.com>
Received: from [69.201.130.95] by web12707.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 05:41:56 PST
Date: Tue, 21 Dec 2004 05:41:56 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: index size doubled?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200412210931.24621.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another possibility is that you are using an older version of Lucene,
which was known to have a bug with similar symptoms.  Get the latest
version of Lucene.

You shouldn't really have multiple .cfs files after optimizing your
index.  Also, optimize only at the end, if you care about indexing
speed.

Otis

--- Paul Elschot <paul.elschot@xs4all.nl> wrote:

> On Tuesday 21 December 2004 05:49, aurora wrote:
> > I'm testing the rebuilding of the index. I add several hundred
> documents,  
> > optimize and add another few hundred and so on. Right now I have
> around  
> > 7000 files. I observed after the index gets to certain size.
> Everytime  
> > after optimize, the are two files roughly the same size like below:
> > 
> > 12/20/2004  01:57p                  13 deletable
> > 12/20/2004  01:57p                  29 segments
> > 12/20/2004  01:53p          14,460,367 _5qf.cfs
> > 12/20/2004  01:57p          15,069,013 _5zr.cfs
> > 
> > The index total index is double of what I expect. This is not
> always  
> > reproducible. (I'm constantly tuning my program and the set of
> document).  
> > Sometime I get a decent single document after optimize. What was
> happening?
> 
> Lucene tried to delete the older version (_5cf.cfs above), but got an
> error
> back from the file system. After that it has put the name of that
> segment in
> the deletable file, so it can try later to delete that segment.
> 
> This is known behaviour on FAT file systems. These randomly take some
> time
> for themselves to finish closing a file after it has been correctly
> closed by
> a program.
> 
> Regards,
> Paul Elschot
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 13:56:42 2004
Return-Path: 
 <lucene-user-return-12043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9108 invoked from network); 21 Dec 2004 13:56:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 13:56:42 -0000
Received: (qmail 34226 invoked by uid 500); 21 Dec 2004 13:56:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34197 invoked by uid 500); 21 Dec 2004 13:56:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34182 invoked by uid 99); 21 Dec 2004 13:56:02 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 05:55:58 -0800
Received: from ppeddi ([192.168.1.33]) by contextmedia.com ;
 Tue, 21 Dec 2004 08:54:13 -0500
Message-ID: <006f01c4e764$6d42d9a0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: sorting on a field that can have null values (resend)
Date: Tue, 21 Dec 2004 08:53:18 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_006C_01C4E73A.844DD7F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_006C_01C4E73A.844DD7F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I sent this mail yesterday but had no luck in receiving responses. =
Trying it again .........

Hi all,
I am getting null pointer exception when I am sorting on a field that =
has null value for some documents. "Order by" in sql does work on such =
fields and I think it puts all results with null values at the end of =
the list. Shouldn't lucene also do the same thing instead of throwing =
null pointer exception. Is this an expected behaviour? Is lucene always =
expecting some value on the sortable fields?

I thought of putting empty strings instead of null values but I think =
empty strings are put first in the list while sorting which is the =
reverse of what anyone would want.=20

Following is the exception I saw in the error log:

java.lang.NullPointerException
 at =
org.apache.lucene.search.SortComparator$1.compare(Lorg.apache.lucene.sear=
ch.ScoreDoc;Lorg.apache.lucene.search.ScoreDoc;)I(SortComparator.java:36)=

 at =
org.apache.lucene.search.FieldSortedHitQueue.lessThan(Ljava.lang.Object;L=
java.lang.Object;)Z(FieldSortedHitQueue.java:95)
 at =
org.apache.lucene.util.PriorityQueue.upHeap()V(PriorityQueue.java:120)
 at =
org.apache.lucene.util.PriorityQueue.put(Ljava.lang.Object;)V(PriorityQue=
ue.java:47)
 at =
org.apache.lucene.util.PriorityQueue.insert(Ljava.lang.Object;)Z(Priority=
Queue.java:58)
 at =
org.apache.lucene.search.IndexSearcher$2.collect(IF)V(IndexSearcher.java:=
130)
 at =
org.apache.lucene.search.Scorer.score(Lorg.apache.lucene.search.HitCollec=
tor;)V(Scorer.java:38)
 at =
org.apache.lucene.search.IndexSearcher.search(Lorg.apache.lucene.search.Q=
uery;Lorg.apache.lucene.search.Filter;ILorg.apache.lucene.search.Sort;)Lo=
rg.apache.lucene.search.TopFieldDocs;(IndexSearcher.java:125)
 at org.apache.lucene.search.Hits.getMoreDocs(I)V(Hits.java:64)
 at =
org.apache.lucene.search.Hits.<init>(Lorg.apache.lucene.search.Searcher;L=
org.apache.lucene.search.Query;Lorg.apache.lucene.search.Filter;Lorg.apac=
he.lucene.search.Sort;)V(Hits.java:51)
 at =
org.apache.lucene.search.Searcher.search(Lorg.apache.lucene.search.Query;=
Lorg.apache.lucene.search.Sort;)Lorg.apache.lucene.search.Hits;(Searcher.=
java:41)

If its a bug in lucene, Will it be fixed in next release? Any =
suggestions would be appreciated.

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20
    
------=_NextPart_000_006C_01C4E73A.844DD7F0--


From MAILER-DAEMON Tue Dec 21 14:55:55 2004
Return-Path: 
 <lucene-user-return-12044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59273 invoked from network); 21 Dec 2004 14:55:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 14:55:55 -0000
Received: (qmail 77986 invoked by uid 500); 21 Dec 2004 14:55:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77893 invoked by uid 500); 21 Dec 2004 14:55:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77584 invoked by uid 99); 21 Dec 2004 14:55:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net)
 (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 06:54:59 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CglOi-0005ZK-N2; Tue, 21 Dec 2004 06:54:00 -0800
From: "George Aroush" <george@aroush.net>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>,
	<announcements@jakarta.apache.org>
Subject: [ANNOUNCE] dotLucene1.4.3 RC1 (port of Jakarta Lucene to C#)
Date: Tue, 21 Dec 2004 09:54:03 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: 
thread-index: AcTVuFIygrtZ8D6SRAeQOYbZ2Y7D9QRtAtRQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1478
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks, 

I am pleased to announce the availability of "dotLucene 1.4.3 RC1 build-001"
This is the first "Release Candidate" release of version 1.4.3 of Jakarta
Lucene ported to C# and is intended to be "Final".

Please visit http://www.sourceforge.net/projects/dotlucene/ to learn more
about dotLucene and to download the source code.

Best regards,

-- George Aroush


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 15:41:23 2004
Return-Path: 
 <lucene-user-return-12045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91686 invoked from network); 21 Dec 2004 15:41:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 15:41:23 -0000
Received: (qmail 13101 invoked by uid 500); 21 Dec 2004 15:40:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13082 invoked by uid 500); 21 Dec 2004 15:40:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13061 invoked by uid 99); 21 Dec 2004 15:40:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 07:40:08 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 8F3DBC9A45
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 16:39:55 +0100 (CET)
Message-ID: <41C843CB.9090202@fib.upc.edu>
Date: Tue, 21 Dec 2004 16:39:55 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Lucene working with a DB
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I read a lot of messages that Lucene can index a DB because it use that 
INPUTSTREAM "type"
I don't understand how to do this. For example if I've a forum with 
Mysql  and a lot of files on my web, for every search I've to select the 
index that I want use in my search, true? But I don't know how to do 
that Lucene writes an index about the information of the DB of forum 
(for example  MySQL)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 15:44:20 2004
Return-Path: 
 <lucene-user-return-12046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93257 invoked from network); 21 Dec 2004 15:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 15:44:20 -0000
Received: (qmail 18627 invoked by uid 500); 21 Dec 2004 15:41:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18551 invoked by uid 500); 21 Dec 2004 15:41:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18457 invoked by uid 99); 21 Dec 2004 15:41:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 07:41:42 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Stopwords in phrases
Date: Tue, 21 Dec 2004 10:41:04 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215523792@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stopwords in phrases
Thread-Index: AcTnZORA2HyGiWerTcKKIx9LZPd2RQAC0ZUA
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 I want to be able to use stopwords in exact phrase searches. I have
looked at Nutch and used the same approach (replace common words with
n-grams. Look at net.nutch.analysis.CommonGrams).=20
  So if "to","be","or" and "not" are stop words, for the string "to be
or not to be", the analyzer produces the following tokens

[to-be, to-be-or, to-be-or-not, to-be-or-not-to, to-be-or-not-to-be,
be-or, be-or-not, be-or-not-to, be-or-not-to-be, or-not, or-not-to,
or-not-to-be, not-to, not-to-be, to-be]

  This is exactly what I wanted from the analyzer during indexing.
  But I'm having a problem with the search.=20
 when I do a search on "not to be" the analyzer is converting my search
into=20
  content:"not-to not-to-be to-be" because the analyzer produces the
tokens "not-to","not-to-be","to-be"

  I'm getting 0 results on this as there is no token "not-to not-to-be
to-be" in the index.=20

  I want just "not-to-be" from the analyzer during the search so when I
search on "not to be" I will get the document which has "not-to-be" as a
token.=20

   How can I use the same analyzer to get different results in indexing
and searching?=20

Thanks in advance,
Ravi.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 15:59:17 2004
Return-Path: 
 <lucene-user-return-12047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2066 invoked from network); 21 Dec 2004 15:59:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 15:59:17 -0000
Received: (qmail 59504 invoked by uid 500); 21 Dec 2004 15:54:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59464 invoked by uid 500); 21 Dec 2004 15:54:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59369 invoked by uid 99); 21 Dec 2004 15:54:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 07:54:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 054781C1E3
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 10:53:56 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 07291-10 for <lucene-user@jakarta.apache.org>;
 Tue, 21 Dec 2004 10:53:55 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id AD8171C1E2
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 10:53:55 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C843CB.9090202@fib.upc.edu>
References: <41C843CB.9090202@fib.upc.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <880C9D7E-5368-11D9-B910-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene working with a DB
Date: Tue, 21 Dec 2004 10:54:00 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 21, 2004, at 10:39 AM, Daniel Cortes wrote:
> I read a lot of messages that Lucene can index a DB because it use 
> that INPUTSTREAM "type"

Where have you read that?  This is incorrect.

> I don't understand how to do this. For example if I've a forum with 
> Mysql  and a lot of files on my web, for every search I've to select 
> the index that I want use in my search, true? But I don't know how to 
> do that Lucene writes an index about the information of the DB of 
> forum (for example  MySQL)

To index data in a database into a Lucene index, you must write code 
that pulls the records from the database and adds them to a Lucene 
index, slicing into fields in whatever manner you need.  You will want 
to be sure to update the index when your database changes by either 
removing, or "updating" (remove and re-add) documents.  There is 
nothing built-in that will do these steps for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 16:24:52 2004
Return-Path: 
 <lucene-user-return-12048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16276 invoked from network); 21 Dec 2004 16:24:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 16:24:52 -0000
Received: (qmail 38893 invoked by uid 500); 21 Dec 2004 16:19:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38864 invoked by uid 500); 21 Dec 2004 16:19:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38848 invoked by uid 99); 21 Dec 2004 16:19:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 08:18:57 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 3EBF81BFA2
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 11:18:43 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 15977-02 for <lucene-user@jakarta.apache.org>;
 Tue, 21 Dec 2004 11:18:42 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id E2B171C1EE
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 11:18:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215523792@htexc.hq.htinc.com>
References: <4568BE33B520DD43B7B24DE0B609B215523792@htexc.hq.htinc.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FE8B48AC-536B-11D9-B910-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Stopwords in phrases
Date: Tue, 21 Dec 2004 11:18:48 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 21, 2004, at 10:41 AM, Ravi wrote:
>  I want to be able to use stopwords in exact phrase searches. I have
> looked at Nutch and used the same approach (replace common words with
> n-grams. Look at net.nutch.analysis.CommonGrams).
>   So if "to","be","or" and "not" are stop words, for the string "to be
> or not to be", the analyzer produces the following tokens
>
> [to-be, to-be-or, to-be-or-not, to-be-or-not-to, to-be-or-not-to-be,
> be-or, be-or-not, be-or-not-to, be-or-not-to-be, or-not, or-not-to,
> or-not-to-be, not-to, not-to-be, to-be]

You've gone a bit beyond what Nutch is using.  It creates bigrams, 
where you've expanded it to many more than that.

Are you also using the position increment of 0 for the "gram" tokens 
like Nutch does?

>   But I'm having a problem with the search.
>  when I do a search on "not to be" the analyzer is converting my search
> into
>   content:"not-to not-to-be to-be" because the analyzer produces the
> tokens "not-to","not-to-be","to-be"
>
>   I'm getting 0 results on this as there is no token "not-to not-to-be
> to-be" in the index.
>
>   I want just "not-to-be" from the analyzer during the search so when I
> search on "not to be" I will get the document which has "not-to-be" as 
> a
> token.
>
>    How can I use the same analyzer to get different results in indexing
> and searching?

Nutch does some different stuff between indexing and parsing queries...

      [java] 1: [the:<WORD>] [the-quick:gram]
      [java] 2: [quick:<WORD>]
      [java] 3: [brown:<WORD>]
      [java] 4: [fox:<WORD>]
      [java] query = (+url:"the quick brown"^4.0) (+anchor:"the quick 
brown"^2.0) (+content:"the-quick quick brown")

The first four lines show the analysis of "the quick brown fox".  The 
last line is the resultant Lucene query for "the quick brown".  Notice 
that only the "content" field gets analyzed specially, and also that 
only "gram" tokens are considered in that field, not the <WORD> tokens 
if there is also a "gram".

Does this help with your situation?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 17:19:03 2004
Return-Path: 
 <lucene-user-return-12049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46758 invoked from network); 21 Dec 2004 17:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 17:19:03 -0000
Received: (qmail 32190 invoked by uid 500); 21 Dec 2004 17:18:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32153 invoked by uid 500); 21 Dec 2004 17:18:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32126 invoked by uid 99); 21 Dec 2004 17:18:05 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 09:18:01 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene index files from two different applications.
Date: Tue, 21 Dec 2004 09:17:56 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02CC6FD3@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene index files from two different applications.
Thread-Index: AcTnTaukhsM34eRmSkuBWQQlZicCdgAMxhXA
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Depending on what you are doing, there are some problems with
MultiSearcher.   See
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D31841 for a
description of the issues and possible patch(es) to fix.

Chuck

  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Tuesday, December 21, 2004 3:09 AM
  > To: Lucene Users List
  > Subject: Re: Lucene index files from two different applications.
  >=20
  >=20
  > On Dec 21, 2004, at 5:51 AM, Gururaja H wrote:
  > > 1.  Can two applications write index files, in the same directory,
at
  > > the same time ?
  >=20
  > If you mean to the same Lucene index, the answer is no.  Only a
single
  > IndexWriter instance may be writing to an index at one time.
  >=20
  > > 2.  If two applications cannot write index files, in the same
  > > directory, at the same time.
  > >      How should we resolve this ?  Would appriciate any solutions
to
  > > this...
  >=20
  > You may consider writing a queuing system so that two applications
  > queue up a document to index, and a single indexer application reads
  > from the queue.  Or the applications could wait until the index is
  > available for writing.  Or...
  >=20
  > > 3.  My thought is to write the index files in two different
  > > directories and read both the indexes
  > > (as though it forms a single index, search results should consider
the
  > > documents in both the indexes) from the WebApplication.  How to go
  > > about implementing this, using Lucene API ?  Need inputs on which
of
  > > the Lucene API's to use ?
  >=20
  > Lucene can easily search from multiple indexes using MultiSearcher.
  > This merges the results together as you'd expect.
  >=20
  > 	Erik
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 17:41:24 2004
Return-Path: 
 <lucene-user-return-12050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57152 invoked from network); 21 Dec 2004 17:41:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 17:41:24 -0000
Received: (qmail 95350 invoked by uid 500); 21 Dec 2004 17:40:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95194 invoked by uid 500); 21 Dec 2004 17:40:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95162 invoked by uid 99); 21 Dec 2004 17:40:42 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 09:40:35 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 440C4822B3
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 11:55:43 -0500 (EST)
Message-ID: <41C85F9B.6060008@max3d.com>
Date: Tue, 21 Dec 2004 12:38:35 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene working with a DB
References: <41C843CB.9090202@fib.upc.edu>
In-Reply-To: <41C843CB.9090202@fib.upc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello

I'll just paste the relevant MySQL code, you add the calls to it per 
your needs..it has no checking of anything so better add that as well...
It's possible I didnt copy/paste everything but you should get the idea 
where this is going...

-pedja


------------------------------

....
import java.sql.*;
import lucene stuff...
....

public class  sqlTest {

  public static void main(String[] args) throws Exception {

    String sTable  = args[0];
    String sThing = args[1];
    String indexDir = "/path/to/lucene/index";

  try {
    Analyzer analyzer       = new StandardAnalyzer();
    IndexWriter fsWriter  = new IndexWriter(indexDir, analyzer, false);
    addSQLDoc(fsWriter, sTable, sThing);
    fsWriter.close();
  } catch (Exception e) {
        throw new Exception(" caught a " + e.getClass() + "\n with 
message: " + e.getMessage());
  }
 }

 private void addSQLDoc(IndexWriter writer, String sqlTable, String 
somethingElse) throws Exception {

    String cs             = 
"jdbc:mysql://HOST/DATABASE?user=SQLUSER&password=SQLPASSWORD";
    String sql            = "SELECT * FROM " + sqlTable + " WHERE 
something=\"" + somethingElse + "\"";

    // establish a connection to MySQL database
    try {
        Class.forName("com.mysql.jdbc.Driver").newInstance();
    } catch (Exception e) {
        System.out.println("Lucene: ERROR: Unable to load driver");
        e.printStackTrace();
    }

    // get the record data...
    try {

       Connection conn = DriverManager.getConnection(cs);
       Statement Stmt = conn.createStatement();
       ResultSet RS = Stmt.executeQuery(sql);

       while(RS.next()) {
          // make a new, empty document
          Document doc = new Document();

          // get the database fields
          String field2 = RS.getString(1);
          String field2 = RS.getString(2);
          String field3 = RS.getString(3);
          String field4 = RS.getString(4);
          String field5 = RS.getString(5);

          // add the first group of fields
          //
          doc.add(Field.Keyword("FIELD1", field1));
          doc.add(Field.Keyword("FIELD2", field2));
          doc.add(Field.Keyword("FIELD3", field3));
          doc.add(Field.Keyword("FIELD4", field4));
          doc.add(Field.Text("FIELD5", field5));

          // add the document
          writer.addDocument(doc);

        } catch (Exception e) {
                e.printStackTrace();
                throw new Exception();
        }

       } // close while(..)

       RS.close();
       Stmt.close();
       conn.close();

    } catch(SQLException e) {
        throw new Exception();
    }
  }
}

--------------------------------------------------------------


Daniel Cortes said the following on 12/21/2004 10:39 AM:

> I read a lot of messages that Lucene can index a DB because it use 
> that INPUTSTREAM "type"
> I don't understand how to do this. For example if I've a forum with 
> Mysql  and a lot of files on my web, for every search I've to select 
> the index that I want use in my search, true? But I don't know how to 
> do that Lucene writes an index about the information of the DB of 
> forum (for example  MySQL)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 18:06:14 2004
Return-Path: 
 <lucene-user-return-12051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69007 invoked from network); 21 Dec 2004 18:06:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 18:06:14 -0000
Received: (qmail 58330 invoked by uid 500); 21 Dec 2004 18:05:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58286 invoked by uid 500); 21 Dec 2004 18:05:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58236 invoked by uid 99); 21 Dec 2004 18:05:26 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org
 designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 10:05:22 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CgoNo-0003T0-00
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:05:16 +0100
Received: from dhcp-171-71-47-198.cisco.com ([171.71.47.198])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:05:16 +0100
Received: from aurora00 by dhcp-171-71-47-198.cisco.com with local (Gmexim 0.1
 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:05:16 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: index size doubled?
Date: Tue, 21 Dec 2004 10:05:03 -0800
Lines: 80
Message-ID: <opsjddupkc6yt6e7@dhcp-171-71-47-198.cisco.com>
References: <200412210931.24621.paul.elschot@xs4all.nl>
 <20041221134156.93001.qmail@web12707.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-198.cisco.com
User-Agent: Opera M2/7.54 (Win32, build 3869)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the heads up. I'm using Lucene 1.4.2.

I tried to do optimize() again but it has no effect. Adding a just tiny =
 =

dummy document would get rid of it.

I'm doing optimize every few hundred documents because I tried to simula=
te  =

incremental update. This lead to another question I would post separatel=
y.

Thanks.


> Another possibility is that you are using an older version of Lucene,
> which was known to have a bug with similar symptoms.  Get the latest
> version of Lucene.
>
> You shouldn't really have multiple .cfs files after optimizing your
> index.  Also, optimize only at the end, if you care about indexing
> speed.
>
> Otis
>
> --- Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
>> On Tuesday 21 December 2004 05:49, aurora wrote:
>> > I'm testing the rebuilding of the index. I add several hundred
>> documents,
>> > optimize and add another few hundred and so on. Right now I have
>> around
>> > 7000 files. I observed after the index gets to certain size.
>> Everytime
>> > after optimize, the are two files roughly the same size like below:=

>> >
>> > 12/20/2004  01:57p                  13 deletable
>> > 12/20/2004  01:57p                  29 segments
>> > 12/20/2004  01:53p          14,460,367 _5qf.cfs
>> > 12/20/2004  01:57p          15,069,013 _5zr.cfs
>> >
>> > The index total index is double of what I expect. This is not
>> always
>> > reproducible. (I'm constantly tuning my program and the set of
>> document).
>> > Sometime I get a decent single document after optimize. What was
>> happening?
>>
>> Lucene tried to delete the older version (_5cf.cfs above), but got an=

>> error
>> back from the file system. After that it has put the name of that
>> segment in
>> the deletable file, so it can try later to delete that segment.
>>
>> This is known behaviour on FAT file systems. These randomly take some=

>> time
>> for themselves to finish closing a file after it has been correctly
>> closed by
>> a program.
>>
>> Regards,
>> Paul Elschot
>>
>>
>> ---------------------------------------------------------------------=

>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>



-- =

Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 18:33:28 2004
Return-Path: 
 <lucene-user-return-12052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84696 invoked from network); 21 Dec 2004 18:33:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 18:33:28 -0000
Received: (qmail 31016 invoked by uid 500); 21 Dec 2004 18:33:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30987 invoked by uid 500); 21 Dec 2004 18:33:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30968 invoked by uid 99); 21 Dec 2004 18:33:11 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org
 designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 10:33:08 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1Cgooj-0004qa-00
	for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:33:05 +0100
Received: from dhcp-171-71-47-198.cisco.com ([171.71.47.198])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:33:05 +0100
Received: from aurora00 by dhcp-171-71-47-198.cisco.com with local (Gmexim 0.1
 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 21 Dec 2004 19:33:05 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: how often to optimize?
Date: Tue, 21 Dec 2004 10:32:58 -0800
Lines: 22
Message-ID: <opsjde48dw6yt6e7@dhcp-171-71-47-198.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-198.cisco.com
User-Agent: Opera M2/7.54 (Win32, build 3869)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Right now I am incrementally adding about 100 documents to the index a d=
ay  =

and then optimize after that. I find that optimize essentially rebuildin=
g  =

the entire index into a single file. So the size of disk write is  =

proportion to the total index size, not to the size of documents  =

incrementally added.

So my question is would it be an overkill to optimize everyday? Is there=
  =

any guideline on how often to optimize? Every 1000 documents or more?  =

Every week? Is there any concern if there are a lot of documents added  =

without optimizing?

Thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 19:07:57 2004
Return-Path: 
 <lucene-user-return-12053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2638 invoked from network); 21 Dec 2004 19:07:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 19:07:57 -0000
Received: (qmail 13171 invoked by uid 500); 21 Dec 2004 19:06:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13074 invoked by uid 500); 21 Dec 2004 19:06:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13020 invoked by uid 99); 21 Dec 2004 19:06:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-54-180-10.leapfrogvdv.com (HELO htexc.hq.htinc.com)
 (216.54.180.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 21 Dec 2004 11:06:17 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Stopwords in phrases
Date: Tue, 21 Dec 2004 14:06:09 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B2155237A8@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stopwords in phrases
Thread-Index: AcTneZ7d2Mt1GOFBTuSb0C+YpqN64wAAJxpg
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>Are you also using the position increment of 0 for the "gram" tokens
like Nutch does?
Yes.=20

I don't think considering only "gram" tokens will work for me because
Nutch uses only bi-grams. It can only have one gram per token. In my
case I have more than one and even if I get only the grams, I still will
have the same problem.=20

Ravi.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 19:55:44 2004
Return-Path: 
 <lucene-user-return-12054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41609 invoked from network); 21 Dec 2004 19:55:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 19:55:44 -0000
Received: (qmail 52495 invoked by uid 500); 21 Dec 2004 19:54:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52437 invoked by uid 500); 21 Dec 2004 19:54:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52367 invoked by uid 99); 21 Dec 2004 19:54:42 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 11:54:38 -0800
Received: (qmail 47478 invoked by uid 60001); 21 Dec 2004 19:54:34 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=5JGZY4hDlt8LCPkuLeFeUsI1tNW4ORiry4mfqAfhrTlXgSnYQJDn8+e2mS5TD/taTvl5KhkjWoI8rcNMmci/DL1uXEakUOuWiSmUUtEaDfcEF/psxONQIfFyhv/Hc1Y0kPAgIo6mrIStvDQYdoYgJNYprTOcsH02YawwvW9XxUs=
  ;
Message-ID: <20041221195434.47476.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 11:54:34 PST
Date: Tue, 21 Dec 2004 11:54:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: index size doubled?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <opsjddupkc6yt6e7@dhcp-171-71-47-198.cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You don't need to optimize to simulate an incremental update.  You just
have to re-open your index with the IndexSearcher to see newly added
documents.

Otis

--- aurora <aurora00@gmail.com> wrote:

> Thanks for the heads up. I'm using Lucene 1.4.2.
> 
> I tried to do optimize() again but it has no effect. Adding a just
> tiny  
> dummy document would get rid of it.
> 
> I'm doing optimize every few hundred documents because I tried to
> simulate  
> incremental update. This lead to another question I would post
> separately.
> 
> Thanks.
> 
> 
> > Another possibility is that you are using an older version of
> Lucene,
> > which was known to have a bug with similar symptoms.  Get the
> latest
> > version of Lucene.
> >
> > You shouldn't really have multiple .cfs files after optimizing your
> > index.  Also, optimize only at the end, if you care about indexing
> > speed.
> >
> > Otis
> >
> > --- Paul Elschot <paul.elschot@xs4all.nl> wrote:
> >
> >> On Tuesday 21 December 2004 05:49, aurora wrote:
> >> > I'm testing the rebuilding of the index. I add several hundred
> >> documents,
> >> > optimize and add another few hundred and so on. Right now I have
> >> around
> >> > 7000 files. I observed after the index gets to certain size.
> >> Everytime
> >> > after optimize, the are two files roughly the same size like
> below:
> >> >
> >> > 12/20/2004  01:57p                  13 deletable
> >> > 12/20/2004  01:57p                  29 segments
> >> > 12/20/2004  01:53p          14,460,367 _5qf.cfs
> >> > 12/20/2004  01:57p          15,069,013 _5zr.cfs
> >> >
> >> > The index total index is double of what I expect. This is not
> >> always
> >> > reproducible. (I'm constantly tuning my program and the set of
> >> document).
> >> > Sometime I get a decent single document after optimize. What was
> >> happening?
> >>
> >> Lucene tried to delete the older version (_5cf.cfs above), but got
> an
> >> error
> >> back from the file system. After that it has put the name of that
> >> segment in
> >> the deletable file, so it can try later to delete that segment.
> >>
> >> This is known behaviour on FAT file systems. These randomly take
> some
> >> time
> >> for themselves to finish closing a file after it has been
> correctly
> >> closed by
> >> a program.
> >>
> >> Regards,
> >> Paul Elschot
> >>
> >>
> >>
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> >>
> 
> 
> 
> -- 
> Using Opera's revolutionary e-mail client: http://www.opera.com/m2/
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 21 19:59:15 2004
Return-Path: 
 <lucene-user-return-12055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43409 invoked from network); 21 Dec 2004 19:59:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Dec 2004 19:59:15 -0000
Received: (qmail 67466 invoked by uid 500); 21 Dec 2004 19:59:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67436 invoked by uid 500); 21 Dec 2004 19:59:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67420 invoked by uid 99); 21 Dec 2004 19:59:04 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com)
 (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 21 Dec 2004 11:59:01 -0800
Received: (qmail 47942 invoked by uid 60001); 21 Dec 2004 19:58:59 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=YL1sdfO6C5nKf0hOZZT4DfHIdFf2rIos+Vd5CKicXDbx3yiFOAh52hXKijMcXJwW4AOsjhduMYPyC2e9OfYOVBw9dmcsANFIdP2/k9XQdcpAGlZAE/9/sScjAA2DlmEhXt1Ql2HwKOh5eVJ86ezIRPq/uEtiBMWupXqFL8jHyqA=
  ;
Message-ID: <20041221195859.47940.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Tue, 21 Dec 2004 11:58:59 PST
Date: Tue, 21 Dec 2004 11:58:59 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: how often to optimize?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <opsjde48dw6yt6e7@dhcp-171-71-47-198.cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I think some of these questions maaaay be answered in the jGuru FAQ

> So my question is would it be an overkill to optimize everyday?

Only if lots of documents are being added/deleted, and you end up with
a lot of index segments.

> Is
> there  
> any guideline on how often to optimize? Every 1000 documents or more?

Are not optimized indices causing you any problems (e.g. slow searches,
high number of open file handles)?  If no, then you don't even need to
optimize until those issues become... issues.

> Every week? Is there any concern if there are a lot of documents
> added without optimizing?

Possibly, see my answer above.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 10:42:36 2004
Return-Path: 
 <lucene-user-return-12056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89389 invoked from network); 22 Dec 2004 10:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 10:42:36 -0000
Received: (qmail 13628 invoked by uid 500); 22 Dec 2004 10:42:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13548 invoked by uid 500); 22 Dec 2004 10:42:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13490 invoked by uid 99); 22 Dec 2004 10:42:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 02:41:58 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id B1A6EC9A52
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 11:41:51 +0100 (CET)
Message-ID: <41C94F6F.6060600@fib.upc.edu>
Date: Wed, 22 Dec 2004 11:41:51 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: lucene-db
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've found some websites that use lucene-db, and I never saw this .jar.
Someone can tall me to found information about this.
This API can probided me some elements to index a MySQL DB of a forum or 
wiki?
thks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 10:53:34 2004
Return-Path: 
 <lucene-user-return-12057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94084 invoked from network); 22 Dec 2004 10:53:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 10:53:34 -0000
Received: (qmail 39466 invoked by uid 500); 22 Dec 2004 10:52:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39428 invoked by uid 500); 22 Dec 2004 10:52:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39408 invoked by uid 99); 22 Dec 2004 10:52:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw1-inet.semantico.net (HELO semantico.com) (212.74.15.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 02:52:34 -0800
Received: from spampd.localdomain (localhost [127.0.0.1])
	by localhost.semantico.com (Postfix) with ESMTP id 709D4320262
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 10:52:29 +0000 (GMT)
Received: from [192.168.1.71] (annatto.semantico.net [192.168.1.71])
	by semantico.com (Postfix) with ESMTP id 2F85C320262
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 10:52:29 +0000 (GMT)
Message-ID: <41C951EB.8010700@semantico.com>
Date: Wed, 22 Dec 2004 10:52:27 +0000
From: Peter Pimley <ppimley@semantico.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: (Offtopic) The unicode name for a character
References: <41C843CB.9090202@fib.upc.edu> <41C85F9B.6060008@max3d.com>
In-Reply-To: <41C85F9B.6060008@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on paprika.rp.lan
X-Spam-Status: No, hits=-100.0 required=5.0 tests=USER_IN_WHITELIST
	autolearn=no version=2.63
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi everyone,

The Question:
In Java generally, Is there an easy way to get the unicode name of a 
character?  (e.g. "LATIN SMALL LETTER A" from 'a')


The Reasoning (for those who are interested):
The documents I'm indexing have quite a lot of characters that are 
basically variations on the basic A-Z ones.  In my analysis step, I'd 
like to convert these to their closest equivalent in the basic A-Z set.

For some letters, this is easy.  An example is the e-acute character 
(00E9 LATIN SMALL LETTER E WITH ACUTE).  I'd like to turn that into 
plain 'e'.  I can do that by using the IBM ICU4J tools to decompose the 
single character into two; 'e' and 0301 COMBINING ACUTE ACCENT.  Then I 
can strip all characters that fail Character.isLetterOrDigit.  That 
works fine.

Some characters however do not decompose.  An example is the character 
01A4 LATIN CAPITAL LETTER P WITH HOOK.  I'd like to replace that with 
'P', but it does not decompose into P + something.

I'm considering taking the unicode name for each character I encounter 
and regexping it against something like:
^LATIN .* LETTER (.) WITH .*$
... to try and extract the single A-Z|a-z character.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 11:17:14 2004
Return-Path: 
 <lucene-user-return-12058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6284 invoked from network); 22 Dec 2004 11:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 11:17:14 -0000
Received: (qmail 90078 invoked by uid 500); 22 Dec 2004 11:16:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89928 invoked by uid 500); 22 Dec 2004 11:16:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89853 invoked by uid 99); 22 Dec 2004 11:16:18 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 03:16:15 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id E053623C47
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:17:10 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 21068-02 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 12:17:10 +0100 (CET)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id BA96323C06
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:17:10 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 iBMBGBmA023139
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:16:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id iBMBGBMS023135;
	Wed, 22 Dec 2004 12:16:11 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16841.22395.205385.795980@tucholsky.office.tanto.de>
Date: Wed, 22 Dec 2004 12:16:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: (Offtopic) The unicode name for a character
In-Reply-To: <41C951EB.8010700@semantico.com>
References: <41C843CB.9090202@fib.upc.edu>
	<41C85F9B.6060008@max3d.com>
	<41C951EB.8010700@semantico.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Peter,
> 
> The Question:
> In Java generally, Is there an easy way to get the unicode name of a 
> character?  (e.g. "LATIN SMALL LETTER A" from 'a')
> 
...
> 
> I'm considering taking the unicode name for each character I encounter 
> and regexping it against something like:
> ^LATIN .* LETTER (.) WITH .*$
> ... to try and extract the single A-Z|a-z character.
> 
There used to be a list (ASCII) on some ftp server at unicode.org.
I have a version 'UnicodeData.txt' here.
It lists ~ 12000 characters in the form
01A4;LATIN CAPITAL LETTER P WITH HOOK;Lu;0;L;;;;;N;LATIN CAPITAL LETTER P HOOK;;;01A5;
01A5;LATIN SMALL LETTER P WITH HOOK;Ll;0;L;;;;;N;LATIN SMALL LETTER P HOOK;;01A4;;01A4

If you cannot find that list somewhere I can mail you a copy.

It would be a nice contribution if you could add your filter to lucenes
sandbox, once it's finished.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 11:31:12 2004
Return-Path: 
 <lucene-user-return-12059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12314 invoked from network); 22 Dec 2004 11:31:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 11:31:12 -0000
Received: (qmail 19451 invoked by uid 500); 22 Dec 2004 11:28:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19406 invoked by uid 500); 22 Dec 2004 11:28:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19377 invoked by uid 99); 22 Dec 2004 11:28:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hermes.culture.fr (HELO hermes.culture.fr) (143.126.201.210)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 03:28:02 -0800
Received: by mta.culture.fr with id iBMBRriK021381
 for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:27:53 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id
 <T6e0727ad018f7ec9dc450@pasteur.culture.fr> for
 <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 12:27:23 +0100
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id
 iBMBRqQs025049
  for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:27:53 +0100
Message-ID: <41C95B2C.10003@culture.gouv.fr>
Date: Wed, 22 Dec 2004 12:31:56 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.6) Gecko/20040113
X-Accept-Language: fr, en, ar-eg
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: (Offtopic) The unicode name for a character
References: <41C843CB.9090202@fib.upc.edu> <41C85F9B.6060008@max3d.com>
     <41C951EB.8010700@semantico.com>
 <16841.22395.205385.795980@tucholsky.office.tanto.de>
In-Reply-To: <16841.22395.205385.795980@tucholsky.office.tanto.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Morus Walter a �crit :

> If you cannot find that list somewhere I can mail you a copy.

ICU4J's one is here :

http://oss.software.ibm.com/cvs/icu4j/icu4j/src/com/ibm/icu/dev/data/unicode/UnicodeData.txt?rev=1.7&content-type=text/x-cvsweb-markup

See also Unicode's one:
http://www.unicode.org/Public/UNIDATA/UnicodeData.txt

http://pistos.pe.kr/javadocs/etc/icu4j2_4/doc/com/ibm/icu/lang/UCharacter.html#getName(int) 
should also help you.

However, I don't think that the names are consistent enough to permit a 
generic use of regular expressions. What Daniel is trying to achieve 
looks interesting anyway,

Good luck,

-- 
Pierrick Brihaye, informaticien
Service r�gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr
+33 (0)2 99 29 67 78

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 15:02:35 2004
Return-Path: 
 <lucene-user-return-12060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37557 invoked from network); 22 Dec 2004 15:02:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 15:02:35 -0000
Received: (qmail 81166 invoked by uid 500); 22 Dec 2004 15:02:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81138 invoked by uid 500); 22 Dec 2004 15:02:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81083 invoked by uid 99); 22 Dec 2004 15:02:16 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpq1.home.nl (HELO smtpq1.home.nl) (213.51.128.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 07:02:10 -0800
Received: from [213.51.128.134] (port=57457 helo=smtp3.home.nl)
	by smtpq1.home.nl with esmtp (Exim 4.30)
	id 1Ch807-0005QT-Ep
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 16:02:07 +0100
Received: from cc28688-a.groni1.gr.home.nl ([82.73.118.101]:43836
 helo=www.gangkast.com)
	by smtp3.home.nl with esmtp (Exim 4.30)
	id 1Ch806-0007xP-8A
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 16:02:06 +0100
Received: from localhost (localhost [127.0.0.1])
	by www.gangkast.com (Postfix) with ESMTP id 3A9117B0E3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 16:02:05 +0100 (CET)
Received: from www.gangkast.com ([127.0.0.1])
 by localhost (mail.gangkast.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 21636-09 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 16:02:04 +0100 (CET)
Received: from [192.168.0.55] (mail.oblivion.nl [193.79.18.18])
	by www.gangkast.com (Postfix) with ESMTP id 432517AFCA
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 16:02:04 +0100 (CET)
Message-ID: <41C98D3D.6040401@Gangkast.com>
Date: Wed, 22 Dec 2004 16:05:33 +0100
From: "M. Smit" <lists@Gangkast.com>
User-Agent: Mozilla Thunderbird 0.7.2 (Windows/20040707)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: retrieve tokens
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at mail.gangkast.com
X-AtHome-MailScanner-Information: Please contact support@home.nl for more
 information
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello list,

I'm not sure if this subject will cover my question, but here goes:

consider the following snippet:

is = new IndexSearcher((String) envContext.lookup("search_index_dir"));
StopAnalyzer analyzer = new 
StopAnalyzer(ArticleIndexer.SEARCH_STOP_WORDS_NL);

parser = new 
NewMultiFieldQueryParser(ArticleIndexer.FIELDS_SEARCH_BASIC, analyzer);
parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = parser.parse(searchForm.getCriteria());

hits = is.search(query);
log.info("[execute] aantal Lucene hits: " + hits.length());

Perfect.. And when I present the results, I retrieve the original 
document from the database through it guid which I get from the 
doc.get(ArticleIndexer.FIELD_GUID). And besides some businesslogic I 
have to take care of when I retrieve the original document, I would also 
like to give a context snippet.

So I've written a class which takes care of this context 'snippeting and 
highlighting' (perhaps somebody knows about a great project which I 
haven't found last week while hunting for it). But I need to have the 
original query.. And preferable the words assiociated with the fields in 
(String[]) ArticleIndexer.FIELDS_SEARCH_BASIC. Because every field 
correspond with a different text-blob in  my DB, so I have to know which 
BufferedReader I have to parse for the associated words..

Thank you for your time,
Martijn


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:24:54 2004
Return-Path: 
 <lucene-user-return-12061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97154 invoked from network); 22 Dec 2004 16:24:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:24:54 -0000
Received: (qmail 95101 invoked by uid 500); 22 Dec 2004 16:24:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94998 invoked by uid 500); 22 Dec 2004 16:24:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94968 invoked by uid 99); 22 Dec 2004 16:24:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mail@2des.de designates
 213.203.199.75 as permitted sender)
Received: from mis06.de (HELO mis06.mis06.de) (213.203.199.75)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:24:04 -0800
Received: from goliath (dsl-213-023-070-079.arcor-ip.net [213.23.70.79])
	by mis06.mis06.de (mis06.mis06.de) with ESMTP id C6B8A2A83D9
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 17:24:04 +0100 (CET)
Message-ID: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
From: "DES" <mail@2des.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing terms only
Date: Wed, 22 Dec 2004 17:23:24 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0026_01C4E84A.F15C79D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0026_01C4E84A.F15C79D0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

hi

i need to index my text so that index contains only tokenized stemmed =
words without stopwords etc. The text ist german, so I tried to use =
GermanAnalyzer, but it stores whole text, not terms. Please give me a =
tip how to index terms only. Thanks!

DES
------=_NextPart_000_0026_01C4E84A.F15C79D0--


From MAILER-DAEMON Wed Dec 22 16:38:14 2004
Return-Path: 
 <lucene-user-return-12062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8135 invoked from network); 22 Dec 2004 16:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:38:14 -0000
Received: (qmail 36536 invoked by uid 500); 22 Dec 2004 16:37:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36483 invoked by uid 500); 22 Dec 2004 16:37:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36376 invoked by uid 99); 22 Dec 2004 16:36:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.205 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.205)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:36:55 -0800
Received: by wproxy.gmail.com with SMTP id 71so930wra
        for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 08:36:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=DDuA7+hRy4pakq4B9HMoRYubyEkMIUBDxgCuCWeOPVZnER4kdncqreF7N4T3xnIfDFxPZ95KQNdNda1fjpTbfjWm6aRi/2fgBpjlE/56/25zqUi2dQlyjM1hfq1S07IllwgZb8TTSmsqkqfD5n5WGAk4MaDw+LCl3GdQUF+3AqQ=
Received: by 10.54.26.68 with SMTP id 68mr112638wrz;
        Wed, 22 Dec 2004 08:36:30 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Wed, 22 Dec 2004 08:36:30 -0800 (PST)
Message-ID: <95fd5e1404122208363b2f619e@mail.gmail.com>
Date: Wed, 22 Dec 2004 11:36:30 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing terms only
In-Reply-To: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Whether or not the text is stored in the index is a different concern
that how it is analyzed.  If you want the text to be indexed, and not
stored, then use the Field.Text(String, String) method or the
appropriate constructor when adding a field to the Document.  You'll
need to also store a reference to the actual file (URL, Path, etc) in
the document so it can be retrieved from the doc returned in the Hits
object.

Or did I completely misunderstand the question?

-Mike

On Wed, 22 Dec 2004 17:23:24 +0100, DES <mail@2des.de> wrote:
> hi
> 
> i need to index my text so that index contains only tokenized stemmed words without stopwords etc. The text ist german, so I tried to use GermanAnalyzer, but it stores whole text, not terms. Please give me a tip how to index terms only. Thanks!
> 
> DES
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:45:52 2004
Return-Path: 
 <lucene-user-return-12063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13846 invoked from network); 22 Dec 2004 16:45:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:45:52 -0000
Received: (qmail 61988 invoked by uid 500); 22 Dec 2004 16:44:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61834 invoked by uid 500); 22 Dec 2004 16:44:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61704 invoked by uid 99); 22 Dec 2004 16:44:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12703.mail.yahoo.com (HELO web12703.mail.yahoo.com)
 (216.136.173.240)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 08:44:00 -0800
Received: (qmail 90700 invoked by uid 60001); 22 Dec 2004 16:43:37 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=t57YffQVb2CZ/LxPQ7/QlJrs3Y0UBd7J3GcaGH7Ys579/WxcVgvUFlYcJYOJFkfU/ZCk/2RmwTKLvtYnkIBrQsIRX7q+IoARLz/C9wWHkadmRGb5+aUkgxOCbGn1Bt8CrcrFllBKGq8xR/PhSGEcr5COcNoPE55EIRFt2UJ/AlI=
  ;
Message-ID: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
Received: from [216.194.17.194] by web12703.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 08:43:37 PST
Date: Wed, 22 Dec 2004 08:43:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: retrieve tokens
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41C98D3D.6040401@Gangkast.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Martijn, have you seen the Highlighter in the Lucene Sandbox?
If you've stored your text in the Lucene index, there is no need to go
back to DB to pull out the blog, parse it, and highlight it - the
Highlighter in the Sandbox will do this for you.

Otis

--- "M. Smit" <lists@Gangkast.com> wrote:

> Hello list,
> 
> I'm not sure if this subject will cover my question, but here goes:
> 
> consider the following snippet:
> 
> is = new IndexSearcher((String)
> envContext.lookup("search_index_dir"));
> StopAnalyzer analyzer = new 
> StopAnalyzer(ArticleIndexer.SEARCH_STOP_WORDS_NL);
> 
> parser = new 
> NewMultiFieldQueryParser(ArticleIndexer.FIELDS_SEARCH_BASIC,
> analyzer);
> parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> query = parser.parse(searchForm.getCriteria());
> 
> hits = is.search(query);
> log.info("[execute] aantal Lucene hits: " + hits.length());
> 
> Perfect.. And when I present the results, I retrieve the original 
> document from the database through it guid which I get from the 
> doc.get(ArticleIndexer.FIELD_GUID). And besides some businesslogic I 
> have to take care of when I retrieve the original document, I would
> also 
> like to give a context snippet.
> 
> So I've written a class which takes care of this context 'snippeting
> and 
> highlighting' (perhaps somebody knows about a great project which I 
> haven't found last week while hunting for it). But I need to have the
> 
> original query.. And preferable the words assiociated with the fields
> in 
> (String[]) ArticleIndexer.FIELDS_SEARCH_BASIC. Because every field 
> correspond with a different text-blob in  my DB, so I have to know
> which 
> BufferedReader I have to parse for the associated words..
> 
> Thank you for your time,
> Martijn
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:46:39 2004
Return-Path: 
 <lucene-user-return-12064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14422 invoked from network); 22 Dec 2004 16:46:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:46:39 -0000
Received: (qmail 66613 invoked by uid 500); 22 Dec 2004 16:46:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66424 invoked by uid 500); 22 Dec 2004 16:46:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66362 invoked by uid 99); 22 Dec 2004 16:46:00 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mail@2des.de designates
 213.203.199.75 as permitted sender)
Received: from mis06.de (HELO mis06.mis06.de) (213.203.199.75)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:45:57 -0800
Received: from goliath (dsl-213-023-070-079.arcor-ip.net [213.23.70.79])
	by mis06.mis06.de (mis06.mis06.de) with ESMTP
	id 8E1502A83E5; Wed, 22 Dec 2004 17:45:57 +0100 (CET)
Message-ID: <005f01c4e845$9e128da0$0100a8c0@goliath>
From: "DES" <mail@2des.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Mike Snare" <mikesnare@gmail.com>
References: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
 <95fd5e1404122208363b2f619e@mail.gmail.com>
Subject: Re: Indexing terms only
Date: Wed, 22 Dec 2004 17:45:17 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I actually use Field.Text(String,String) to add documents to my index. Maybe 
I do not understand the way an analyzer works, but I thought that all German 
articles (der, die, das etc) should be filtered out. However if I use Luke 
to view my index, the original text is completely stored in a field. And 
what I need is term vector, that I can create from an indexed document 
field. So this field should contain terms only.

> Whether or not the text is stored in the index is a different concern
> that how it is analyzed.  If you want the text to be indexed, and not
> stored, then use the Field.Text(String, String) method or the
> appropriate constructor when adding a field to the Document.  You'll
> need to also store a reference to the actual file (URL, Path, etc) in
> the document so it can be retrieved from the doc returned in the Hits
> object.
>
> Or did I completely misunderstand the question?
>
> -Mike
>
> On Wed, 22 Dec 2004 17:23:24 +0100, DES <mail@2des.de> wrote:
>> hi
>>
>> i need to index my text so that index contains only tokenized stemmed 
>> words without stopwords etc. The text ist german, so I tried to use 
>> GermanAnalyzer, but it stores whole text, not terms. Please give me a tip 
>> how to index terms only. Thanks!
>>
>> DES
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:50:33 2004
Return-Path: 
 <lucene-user-return-12065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18249 invoked from network); 22 Dec 2004 16:50:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:50:33 -0000
Received: (qmail 78634 invoked by uid 500); 22 Dec 2004 16:49:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78484 invoked by uid 500); 22 Dec 2004 16:49:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78318 invoked by uid 99); 22 Dec 2004 16:49:11 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 08:49:04 -0800
Received: (qmail 20821 invoked by uid 60001); 22 Dec 2004 16:48:43 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=s7UWWD067Ak1FW7LPzxtV1yHwHpEZjjPrfMCJSbZvX1+FKEZE4oual/hyU+FezqkkYG+rDA+nVh9+Jl/nhkZRdac9B3DHxsfvjIGmhdnYAdFZXABYSM0zyWkb9rXQumlVt1VzMXV4+wSN96U214+P6K+8LakM+rdD9R0QLF8k1U=
  ;
Message-ID: <20041222164843.20819.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 08:48:43 PST
Date: Wed, 22 Dec 2004 08:48:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: (Offtopic) The unicode name for a character
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41C951EB.8010700@semantico.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are not tied to Java, see 'unac' at http://www.senga.org/.
It's old, but if nothing else you could see how it works and rewrite it
in Java.  And if you can, you can donate it to Lucene Sandbox.

Otis

--- Peter Pimley <ppimley@semantico.com> wrote:

> 
> Hi everyone,
> 
> The Question:
> In Java generally, Is there an easy way to get the unicode name of a 
> character?  (e.g. "LATIN SMALL LETTER A" from 'a')
> 
> 
> The Reasoning (for those who are interested):
> The documents I'm indexing have quite a lot of characters that are 
> basically variations on the basic A-Z ones.  In my analysis step, I'd
> 
> like to convert these to their closest equivalent in the basic A-Z
> set.
> 
> For some letters, this is easy.  An example is the e-acute character 
> (00E9 LATIN SMALL LETTER E WITH ACUTE).  I'd like to turn that into 
> plain 'e'.  I can do that by using the IBM ICU4J tools to decompose
> the 
> single character into two; 'e' and 0301 COMBINING ACUTE ACCENT.  Then
> I 
> can strip all characters that fail Character.isLetterOrDigit.  That 
> works fine.
> 
> Some characters however do not decompose.  An example is the
> character 
> 01A4 LATIN CAPITAL LETTER P WITH HOOK.  I'd like to replace that with
> 
> 'P', but it does not decompose into P + something.
> 
> I'm considering taking the unicode name for each character I
> encounter 
> and regexping it against something like:
> ^LATIN .* LETTER (.) WITH .*$
> ... to try and extract the single A-Z|a-z character.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:56:47 2004
Return-Path: 
 <lucene-user-return-12067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20649 invoked from network); 22 Dec 2004 16:56:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:56:47 -0000
Received: (qmail 93463 invoked by uid 500); 22 Dec 2004 16:56:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93423 invoked by uid 500); 22 Dec 2004 16:56:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93393 invoked by uid 99); 22 Dec 2004 16:56:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:56:11 -0800
Received: by wproxy.gmail.com with SMTP id 69so1108wra
        for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 08:56:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=sKw/aCZc+A8kdlpIzQHGYRk4pwlwkGEPuGQxvbJbJzCm+3rjaZJn+JCrGPpIlQc9b0NIDnnGwKrXHRCEYGG/WFCIb8R43yRjtUTRZrthHp65y1ZG+8bQz/06tYj2NrxRzUHq/vRqvHcDCNnk1dlKtvjteo7qmSv75sIu8Q7PvdE=
Received: by 10.54.18.13 with SMTP id 13mr118428wrr;
        Wed, 22 Dec 2004 08:49:23 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Wed, 22 Dec 2004 08:49:23 -0800 (PST)
Message-ID: <95fd5e1404122208492cdbc95f@mail.gmail.com>
Date: Wed, 22 Dec 2004 11:49:23 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing terms only
In-Reply-To: <005f01c4e845$9e128da0$0100a8c0@goliath>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
	 <95fd5e1404122208363b2f619e@mail.gmail.com>
	 <005f01c4e845$9e128da0$0100a8c0@goliath>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've never used the german analyzer, so I don't know what stop words
it defines/uses.  Someone else will have to answer that.  Sorry

On Wed, 22 Dec 2004 17:45:17 +0100, DES <mail@2des.de> wrote:
> I actually use Field.Text(String,String) to add documents to my index. Maybe
> I do not understand the way an analyzer works, but I thought that all German
> articles (der, die, das etc) should be filtered out. However if I use Luke
> to view my index, the original text is completely stored in a field. And
> what I need is term vector, that I can create from an indexed document
> field. So this field should contain terms only.
> 
> > Whether or not the text is stored in the index is a different concern
> > that how it is analyzed.  If you want the text to be indexed, and not
> > stored, then use the Field.Text(String, String) method or the
> > appropriate constructor when adding a field to the Document.  You'll
> > need to also store a reference to the actual file (URL, Path, etc) in
> > the document so it can be retrieved from the doc returned in the Hits
> > object.
> >
> > Or did I completely misunderstand the question?
> >
> > -Mike
> >
> > On Wed, 22 Dec 2004 17:23:24 +0100, DES <mail@2des.de> wrote:
> >> hi
> >>
> >> i need to index my text so that index contains only tokenized stemmed
> >> words without stopwords etc. The text ist german, so I tried to use
> >> GermanAnalyzer, but it stores whole text, not terms. Please give me a tip
> >> how to index terms only. Thanks!
> >>
> >> DES
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:54:19 2004
Return-Path: 
 <lucene-user-return-12066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19842 invoked from network); 22 Dec 2004 16:54:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:54:19 -0000
Received: (qmail 88485 invoked by uid 500); 22 Dec 2004 16:53:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88420 invoked by uid 500); 22 Dec 2004 16:53:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88391 invoked by uid 99); 22 Dec 2004 16:53:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu)
 (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:53:29 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 37E7D1C0F4
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 11:53:25 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 19914-05 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 11:53:25 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id ED1871C0EC
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 11:53:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <95fd5e1404122208363b2f619e@mail.gmail.com>
References: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
 <95fd5e1404122208363b2f619e@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <028AD92E-543A-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing terms only
Date: Wed, 22 Dec 2004 11:53:31 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 22, 2004, at 11:36 AM, Mike Snare wrote:
> Whether or not the text is stored in the index is a different concern
> that how it is analyzed.  If you want the text to be indexed, and not
> stored, then use the Field.Text(String, String) method

Correction: Field.Text(String, String) is a stored field.  If you want 
unstored, use Field.UnStored(String, String).
This is a bit confusing because Field.Text(String, Reader) is not 
stored.  This confusion has been cleared up in the CVS version of 
Lucene and will be deprecated in the 1.9 release, and removed in the 
2.0 release.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 16:57:07 2004
Return-Path: 
 <lucene-user-return-12068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20833 invoked from network); 22 Dec 2004 16:57:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 16:57:07 -0000
Received: (qmail 94439 invoked by uid 500); 22 Dec 2004 16:56:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94296 invoked by uid 500); 22 Dec 2004 16:56:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94208 invoked by uid 99); 22 Dec 2004 16:56:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.203 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 08:56:25 -0800
Received: by wproxy.gmail.com with SMTP id 68so1155wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 08:56:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=sZ54cALGRLNaygSRlWberu5g/VmUcrN2P/Fj2VAzoJNxyB4D63pDEKGKEiJjLW8qsQ3+joYyRwEVRdixJ5BzFIgSb78NCKWfF79Ea41RWY+Y7NQVbvz49ueQ8c/erJ7lUQVjxUzMbfISx5Va3+TuUzYxzyoefDFQMcllv4NiD7M=
Received: by 10.54.22.35 with SMTP id 35mr36236wrv;
        Wed, 22 Dec 2004 08:56:21 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Wed, 22 Dec 2004 08:56:21 -0800 (PST)
Message-ID: <95fd5e1404122208567fc1f20d@mail.gmail.com>
Date: Wed, 22 Dec 2004 11:56:21 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing terms only
In-Reply-To: <028AD92E-543A-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <002901c4e842$8ffc2ad0$0100a8c0@goliath>
	 <95fd5e1404122208363b2f619e@mail.gmail.com>
	 <028AD92E-543A-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for correcting me.  I use the reader version -- hence my confusion.

-Mike

On Wed, 22 Dec 2004 11:53:31 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> 
> On Dec 22, 2004, at 11:36 AM, Mike Snare wrote:
> > Whether or not the text is stored in the index is a different concern
> > that how it is analyzed.  If you want the text to be indexed, and not
> > stored, then use the Field.Text(String, String) method
> 
> Correction: Field.Text(String, String) is a stored field.  If you want
> unstored, use Field.UnStored(String, String).
> This is a bit confusing because Field.Text(String, Reader) is not
> stored.  This confusion has been cleared up in the CVS version of
> Lucene and will be deprecated in the 1.9 release, and removed in the
> 2.0 release.
> 
>         Erik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 17:01:14 2004
Return-Path: 
 <lucene-user-return-12069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22604 invoked from network); 22 Dec 2004 17:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 17:01:14 -0000
Received: (qmail 4769 invoked by uid 500); 22 Dec 2004 17:01:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4735 invoked by uid 500); 22 Dec 2004 17:01:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4722 invoked by uid 99); 22 Dec 2004 17:01:02 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpq3.home.nl (HELO smtpq3.home.nl) (213.51.128.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 09:00:57 -0800
Received: from [213.51.128.136] (port=49704 helo=smtp5.home.nl)
	by smtpq3.home.nl with esmtp (Exim 4.30)
	id 1Ch9r5-0000BC-1v
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 18:00:55 +0100
Received: from cc28688-a.groni1.gr.home.nl ([82.73.118.101]:43946
 helo=www.gangkast.com)
	by smtp5.home.nl with esmtp (Exim 4.30)
	id 1Ch9r3-0001r1-OG
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 18:00:53 +0100
Received: from localhost (localhost [127.0.0.1])
	by www.gangkast.com (Postfix) with ESMTP id 7C1187B0E3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:00:52 +0100 (CET)
Received: from www.gangkast.com ([127.0.0.1])
 by localhost (mail.gangkast.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22128-10 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 18:00:51 +0100 (CET)
Received: from [192.168.0.55] (mail.oblivion.nl [193.79.18.18])
	by www.gangkast.com (Postfix) with ESMTP id 114DF7AFCA
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:00:51 +0100 (CET)
Message-ID: <41C9A915.1070701@Gangkast.com>
Date: Wed, 22 Dec 2004 18:04:21 +0100
From: "M. Smit" <lists@Gangkast.com>
User-Agent: Mozilla Thunderbird 0.7.2 (Windows/20040707)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: retrieve tokens
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at mail.gangkast.com
X-AtHome-MailScanner-Information: Please contact support@home.nl for more
 information
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,

Problem is though that I'm a little reluctant storing the data 
Field.Text instead of Field.UnStored, because of the shear size of the 
documents and the multitude I would like to index (say some 100paged * 
2k documents).  But than again, it's size versus 
go-back-in-the-db-and-do-your-thing. Can anyone comfort me on these 
figures?

Furthermore, you are saying that the highlighter takes care of the 
corresponding field/words for me and pull up a context snippet? Ouch, 
why haven't I stumpled upon the sandbox....

thanks,
M

Otis Gospodnetic wrote:

>Martijn, have you seen the Highlighter in the Lucene Sandbox?
>If you've stored your text in the Lucene index, there is no need to go
>back to DB to pull out the blog, parse it, and highlight it - the
>Highlighter in the Sandbox will do this for you.
>
>Otis
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 17:14:47 2004
Return-Path: 
 <lucene-user-return-12070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28918 invoked from network); 22 Dec 2004 17:14:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 17:14:47 -0000
Received: (qmail 41934 invoked by uid 500); 22 Dec 2004 17:14:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41762 invoked by uid 500); 22 Dec 2004 17:14:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41745 invoked by uid 99); 22 Dec 2004 17:14:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 09:14:24 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 69CA71F5291
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:14:21 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 23551-02 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 12:14:21 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 2B3FB1F5237
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 12:14:21 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C9A915.1070701@Gangkast.com>
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
 <41C9A915.1070701@Gangkast.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: retrieve tokens
Date: Wed, 22 Dec 2004 12:14:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 22, 2004, at 12:04 PM, M. Smit wrote:
> Problem is though that I'm a little reluctant storing the data 
> Field.Text instead of Field.UnStored, because of the shear size of the 
> documents and the multitude I would like to index (say some 100paged * 
> 2k documents).  But than again, it's size versus 
> go-back-in-the-db-and-do-your-thing. Can anyone comfort me on these 
> figures?

Highlighter does not mandate you store your text in the index.  It is 
just a convenient way to do it.  You're free to pull the text from 
anywhere and highlight it based on the query.

> Furthermore, you are saying that the highlighter takes care of the 
> corresponding field/words for me and pull up a context snippet? Ouch, 
> why haven't I stumpled upon the sandbox....

See a screenshot of it here:  http://www.lucenebook.com (going live 
within a week!)

The Lucene in Action source code (available at 
http://www.manning.com/hatcher2) has code examples - look at the 
HighlightIt class.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 17:40:13 2004
Return-Path: 
 <lucene-user-return-12071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41377 invoked from network); 22 Dec 2004 17:40:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 17:40:13 -0000
Received: (qmail 643 invoked by uid 500); 22 Dec 2004 17:40:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 617 invoked by uid 500); 22 Dec 2004 17:40:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 601 invoked by uid 99); 22 Dec 2004 17:40:03 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpq2.home.nl (HELO smtpq2.home.nl) (213.51.128.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 09:39:58 -0800
Received: from [213.51.128.134] (port=45019 helo=smtp3.home.nl)
	by smtpq2.home.nl with esmtp (Exim 4.30)
	id 1ChASq-0006u8-28
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 18:39:56 +0100
Received: from cc28688-a.groni1.gr.home.nl ([82.73.118.101]:43959
 helo=www.gangkast.com)
	by smtp3.home.nl with esmtp (Exim 4.30)
	id 1ChASp-0002en-50
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 18:39:55 +0100
Received: from localhost (localhost [127.0.0.1])
	by www.gangkast.com (Postfix) with ESMTP id E98337B0E3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:39:53 +0100 (CET)
Received: from www.gangkast.com ([127.0.0.1])
 by localhost (mail.gangkast.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22329-03 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 18:39:52 +0100 (CET)
Received: from [192.168.0.55] (mail.oblivion.nl [193.79.18.18])
	by www.gangkast.com (Postfix) with ESMTP id 6CDD07AFCA
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:39:52 +0100 (CET)
Message-ID: <41C9B23B.2020602@Gangkast.com>
Date: Wed, 22 Dec 2004 18:43:23 +0100
From: "M. Smit" <lists@Gangkast.com>
User-Agent: Mozilla Thunderbird 0.7.2 (Windows/20040707)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: retrieve tokens
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
 <41C9A915.1070701@Gangkast.com>
 <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at mail.gangkast.com
X-AtHome-MailScanner-Information: Please contact support@home.nl for more
 information
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> Highlighter does not mandate you store your text in the index.  It is 
> just a convenient way to do it.  You're free to pull the text from 
> anywhere and highlight it based on the query.
>
>> Furthermore, you are saying that the highlighter takes care of the 
>> corresponding field/words for me and pull up a context snippet? Ouch, 
>> why haven't I stumpled upon the sandbox....
>
>
> See a screenshot of it here:  http://www.lucenebook.com (going live 
> within a week!)
>
Oh bliss, Oh joy.. This is exactly what I'm looking for... I'll plunge 
in to it and let you know!

But for the other issue on 'store lucene' vs 'store db'. Does anyone can 
provide me with some field experience on size?
The system I'm developing will provide searching through some 2000 
pdf's, say some 200 pages each. I feed the plain text into Lucene on a 
Field.UnStored bases. I also store this plain text in the database for 
the sole purpose of presenting a context snippet.

If I were to use the Highlighter with a Field.Text, I will not use the 
database plain part altogether. But still I'm a little worried about 
speed/space issues. Or am I just seeing bears-on-the-road (Dutch saying, 
in plain English: making a fuzz about nothing)..

    Martijn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 18:26:42 2004
Return-Path: 
 <lucene-user-return-12072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61856 invoked from network); 22 Dec 2004 18:26:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 18:26:42 -0000
Received: (qmail 99526 invoked by uid 500); 22 Dec 2004 18:26:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99448 invoked by uid 500); 22 Dec 2004 18:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99434 invoked by uid 99); 22 Dec 2004 18:26:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 10:26:27 -0800
Received: by wproxy.gmail.com with SMTP id 50so235wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 10:26:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=k2dXA4/MrFxMZMwBO+LlxskykgMoHKV9UwHUaYcyMpWJ6/tjbLMGpzplwIonkgGMsCDOdP/5A4V/5MX/CFI1nafLk7NT8490EY0ZzDO68SHDrdEEvdgjyghlm4kcr780Qk/ENbMpFmhm/xIUhCZovVimxQgbaFClswuEwViJNLc=
Received: by 10.54.22.35 with SMTP id 35mr77598wrv;
        Wed, 22 Dec 2004 10:19:39 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Wed, 22 Dec 2004 10:19:39 -0800 (PST)
Message-ID: <95fd5e140412221019145db710@mail.gmail.com>
Date: Wed, 22 Dec 2004 13:19:39 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: retrieve tokens
In-Reply-To: <41C9B23B.2020602@Gangkast.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
	 <41C9A915.1070701@Gangkast.com>
	 <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
	 <41C9B23B.2020602@Gangkast.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> But for the other issue on 'store lucene' vs 'store db'. Does anyone can
> provide me with some field experience on size?
> The system I'm developing will provide searching through some 2000
> pdf's, say some 200 pages each. I feed the plain text into Lucene on a
> Field.UnStored bases. I also store this plain text in the database for
> the sole purpose of presenting a context snippet.

Why not store the snippet in another field that is stored, but not
indexed?  You could then immediately retrieve the snippet from the
doc.  This would only increase your index by num_docs * size_snippet
and would save the db access time and complexity.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 18:42:02 2004
Return-Path: 
 <lucene-user-return-12073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67172 invoked from network); 22 Dec 2004 18:42:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 18:42:02 -0000
Received: (qmail 32420 invoked by uid 500); 22 Dec 2004 18:41:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32350 invoked by uid 500); 22 Dec 2004 18:41:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32320 invoked by uid 99); 22 Dec 2004 18:41:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 10:41:32 -0800
Received: (qmail 38087 invoked by uid 60001); 22 Dec 2004 18:41:29 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=yYTx4Fh2KBwj+rNUsb+UF4wfy2V8xkCILQF8r/M1i4ri48zxCJl6WKcGQqBLTQHAX8HwXq18VbGPpbFLCbKcwqUtd29TUKJ97HkyW19Lhu2ABlEgB1/kGuFb+rYhuhZo5G9nXH+IcIGtIO+Ley1AbR/3waj2YSh/3/m5eC8Qgss=
  ;
Message-ID: <20041222184129.38085.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 10:41:29 PST
Date: Wed, 22 Dec 2004 10:41:29 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: retrieve tokens
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <95fd5e140412221019145db710@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suspect Martijn really wants that snippet dynamically generated, with
KWIC, as on the lucenebook.com screen shot.  Thus, he can't generate
and store the snippet at index time, and has to construct it at search
time.

Otis

--- Mike Snare <mikesnare@gmail.com> wrote:

> > But for the other issue on 'store lucene' vs 'store db'. Does
> anyone can
> > provide me with some field experience on size?
> > The system I'm developing will provide searching through some 2000
> > pdf's, say some 200 pages each. I feed the plain text into Lucene
> on a
> > Field.UnStored bases. I also store this plain text in the database
> for
> > the sole purpose of presenting a context snippet.
> 
> Why not store the snippet in another field that is stored, but not
> indexed?  You could then immediately retrieve the snippet from the
> doc.  This would only increase your index by num_docs * size_snippet
> and would save the db access time and complexity.
> 
> -Mike
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 18:45:29 2004
Return-Path: 
 <lucene-user-return-12074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68441 invoked from network); 22 Dec 2004 18:45:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 18:45:29 -0000
Received: (qmail 40785 invoked by uid 500); 22 Dec 2004 18:45:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40727 invoked by uid 500); 22 Dec 2004 18:45:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40704 invoked by uid 99); 22 Dec 2004 18:45:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 10:45:17 -0800
Received: (qmail 6007 invoked by uid 60001); 22 Dec 2004 18:45:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=gazY4nyYF7xbrxM2jjCJSnI/TtamdkNG7dJD6EIefX3/0Ve6EeZTYXDI66ubn3HGo+m+6wghRN+nMCcP2NZj6pqIWk8deYdacRHMCBQ1DpXFehk2EuS6DypYDWivdQ2HOsoH1otKf/P/Ptf/Yd2ScWGGyqKUqmSUIlB3706xmNo=
  ;
Message-ID: <20041222184515.6005.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 10:45:15 PST
Date: Wed, 22 Dec 2004 10:45:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: retrieve tokens
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41C9B23B.2020602@Gangkast.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

For simpy.com I store the full text of web pages in Lucene, in order to
provide full-text web searches.  Nutch (nutch.org) does the same.  You
can set the maximal number of tokens you want indexed via IndexWriter. 
You can also compress fields in the newest version of Lucene (or maybe
just the one in CVS), which may help you if you are considered about
disk space, although I wouldn't want to have to uncompress each hit's
200 pages worth of text in order to create a summary with KWIC. :)

Oh, and you asked about highlighter and field/query matching.  I
_think_ it won't help you with that, but I'm a bit behind on the
highlighter, so you should check the version in CVS and see if it's
capable of this.

Otis


--- "M. Smit" <lists@Gangkast.com> wrote:

> Erik Hatcher wrote:
> 
> >
> > Highlighter does not mandate you store your text in the index.  It
> is 
> > just a convenient way to do it.  You're free to pull the text from 
> > anywhere and highlight it based on the query.
> >
> >> Furthermore, you are saying that the highlighter takes care of the
> 
> >> corresponding field/words for me and pull up a context snippet?
> Ouch, 
> >> why haven't I stumpled upon the sandbox....
> >
> >
> > See a screenshot of it here:  http://www.lucenebook.com (going live
> 
> > within a week!)
> >
> Oh bliss, Oh joy.. This is exactly what I'm looking for... I'll
> plunge 
> in to it and let you know!
> 
> But for the other issue on 'store lucene' vs 'store db'. Does anyone
> can 
> provide me with some field experience on size?
> The system I'm developing will provide searching through some 2000 
> pdf's, say some 200 pages each. I feed the plain text into Lucene on
> a 
> Field.UnStored bases. I also store this plain text in the database
> for 
> the sole purpose of presenting a context snippet.
> 
> If I were to use the Highlighter with a Field.Text, I will not use
> the 
> database plain part altogether. But still I'm a little worried about 
> speed/space issues. Or am I just seeing bears-on-the-road (Dutch
> saying, 
> in plain English: making a fuzz about nothing)..
> 
>     Martijn
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 18:49:28 2004
Return-Path: 
 <lucene-user-return-12075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69946 invoked from network); 22 Dec 2004 18:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 18:49:28 -0000
Received: (qmail 52704 invoked by uid 500); 22 Dec 2004 18:49:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52686 invoked by uid 500); 22 Dec 2004 18:49:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52673 invoked by uid 99); 22 Dec 2004 18:49:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu)
 (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 10:49:18 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 91EBE1C234
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 13:49:14 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 20983-02 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 13:49:14 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU
 [128.143.167.108])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 46CA61C0F2
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 13:49:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C9B23B.2020602@Gangkast.com>
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
 <41C9A915.1070701@Gangkast.com>
 <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
 <41C9B23B.2020602@Gangkast.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <30A403ED-544A-11D9-910C-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: retrieve tokens
Date: Wed, 22 Dec 2004 13:49:20 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 22, 2004, at 12:43 PM, M. Smit wrote:
> Erik Hatcher wrote:
> But for the other issue on 'store lucene' vs 'store db'. Does anyone 
> can provide me with some field experience on size?
> The system I'm developing will provide searching through some 2000 
> pdf's, say some 200 pages each. I feed the plain text into Lucene on a 
> Field.UnStored bases. I also store this plain text in the database for 
> the sole purpose of presenting a context snippet.
>
> If I were to use the Highlighter with a Field.Text, I will not use the 
> database plain part altogether. But still I'm a little worried about 
> speed/space issues. Or am I just seeing bears-on-the-road (Dutch 
> saying, in plain English: making a fuzz about nothing)..

Consider that you're only highlighting 20 or so entries at one time.  
Getting the text from a Lucene index you're already navigating will be 
quite quick.  But it shouldn't be too bad to pull 20 records from a 
database either.

There is one other consideration, and that is to use the new (CVS only) 
feature of capturing term vectors with position information.  The 
author of the Highlighter, Mark Harwood, has posted in the not too 
distant past, an update to the Highlighter that can use this position 
information for highlighting rather than re-analyzing the original 
text.  The re-analysis of the text may be the bottleneck, not the 
database access.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 20:45:25 2004
Return-Path: 
 <lucene-user-return-12076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34434 invoked from network); 22 Dec 2004 20:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 20:45:25 -0000
Received: (qmail 30852 invoked by uid 500); 22 Dec 2004 20:44:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30800 invoked by uid 500); 22 Dec 2004 20:44:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30780 invoked by uid 99); 22 Dec 2004 20:44:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpq1.home.nl (HELO smtpq1.home.nl) (213.51.128.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 12:44:31 -0800
Received: from [213.51.128.135] (port=37181 helo=smtp4.home.nl)
	by smtpq1.home.nl with esmtp (Exim 4.30)
	id 1ChDLO-0003e1-8f
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 21:44:26 +0100
Received: from cc28688-a.groni1.gr.home.nl ([82.73.118.101]:44001
 helo=www.gangkast.com)
	by smtp4.home.nl with esmtp (Exim 4.30)
	id 1ChDLG-0000wu-KW
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 21:44:18 +0100
Received: from localhost (localhost [127.0.0.1])
	by www.gangkast.com (Postfix) with ESMTP id 3685A7B0E3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 21:44:17 +0100 (CET)
Received: from www.gangkast.com ([127.0.0.1])
 by localhost (mail.gangkast.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22665-04 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 21:44:15 +0100 (CET)
Received: from [192.168.101.41] (antares.gangkast.com [192.168.101.41])
	by www.gangkast.com (Postfix) with ESMTP id B54C67AFCA
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 21:44:15 +0100 (CET)
Message-ID: <41C9DCA2.5060802@Gangkast.com>
Date: Wed, 22 Dec 2004 21:44:18 +0100
From: Martijn <lists@Gangkast.com>
User-Agent: Mozilla Thunderbird 0.7.3 (Windows/20040803)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: retrieve tokens
References: <20041222164337.90698.qmail@web12703.mail.yahoo.com>
 <41C9A915.1070701@Gangkast.com>
 <EF2EE828-543C-11D9-8D5C-000A95BC61B6@ehatchersolutions.com>
 <41C9B23B.2020602@Gangkast.com>
 <30A403ED-544A-11D9-910C-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <30A403ED-544A-11D9-910C-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at mail.gangkast.com
X-AtHome-MailScanner-Information: Please contact support@home.nl for more
 information
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On Dec 22, 2004, at 12:43 PM, M. Smit wrote:
>
>>
>
> Consider that you're only highlighting 20 or so entries at one time.  
> Getting the text from a Lucene index you're already navigating will be 
> quite quick.  But it shouldn't be too bad to pull 20 records from a 
> database either.
>
> There is one other consideration, and that is to use the new (CVS 
> only) feature of capturing term vectors with position information.  
> The author of the Highlighter, Mark Harwood, has posted in the not too 
> distant past, an update to the Highlighter that can use this position 
> information for highlighting rather than re-analyzing the original 
> text.  The re-analysis of the text may be the bottleneck, not the 
> database access.
>

So indeed the fabrication of the snippet would have to traverse the 200 
pages of plain text per hit. I don't think that pulling the records from 
the database would be the issue..  But I'm somewhat intriqued by the 
options of leaving out the database altogether (for the presentation of 
the hits that is) and store this plain text representation of the pdf in 
Lucene. My worries: how does size (the extra size I would need to store 
the plain text) effect Lucene operations.. Is the order of  N.N or like 
N.ln(N)?


-- 
31.69 nHz = once a year


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 20:54:56 2004
Return-Path: 
 <lucene-user-return-12077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40333 invoked from network); 22 Dec 2004 20:54:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 20:54:56 -0000
Received: (qmail 65094 invoked by uid 500); 22 Dec 2004 20:52:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64982 invoked by uid 500); 22 Dec 2004 20:52:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64797 invoked by uid 99); 22 Dec 2004 20:52:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtpq1.home.nl (HELO smtpq1.home.nl) (213.51.128.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 12:52:26 -0800
Received: from [213.51.128.136] (port=49935 helo=smtp5.home.nl)
	by smtpq1.home.nl with esmtp (Exim 4.30)
	id 1ChDT1-0006hO-LC
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 21:52:19 +0100
Received: from cc28688-a.groni1.gr.home.nl ([82.73.118.101]:44006
 helo=www.gangkast.com)
	by smtp5.home.nl with esmtp (Exim 4.30)
	id 1ChDT0-0006bR-Er
	for lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 21:52:18 +0100
Received: from localhost (localhost [127.0.0.1])
	by www.gangkast.com (Postfix) with ESMTP id 1BA987B0E3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 21:52:17 +0100 (CET)
Received: from www.gangkast.com ([127.0.0.1])
 by localhost (mail.gangkast.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22665-05 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 21:52:16 +0100 (CET)
Received: from [192.168.101.41] (antares.gangkast.com [192.168.101.41])
	by www.gangkast.com (Postfix) with ESMTP id 08EBD7AFCA
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 21:52:16 +0100 (CET)
Message-ID: <41C9DE82.2080202@Gangkast.com>
Date: Wed, 22 Dec 2004 21:52:18 +0100
From: Martijn <lists@Gangkast.com>
User-Agent: Mozilla Thunderbird 0.7.3 (Windows/20040803)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: retrieve tokens
References: <20041222184129.38085.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20041222184129.38085.qmail@web12704.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at mail.gangkast.com
X-AtHome-MailScanner-Information: Please contact support@home.nl for more
 information
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>I suspect Martijn really wants that snippet dynamically generated, with
>KWIC, as on the lucenebook.com screen shot.  Thus, he can't generate
>and store the snippet at index time, and has to construct it at search
>time.
>
>Otis
>
>  
>

That is correct. I won't be having a lot of hits, so I don't think that 
caching of the snippets won't make a lot of difference...

    Martijn

-- 
31.69 nHz = once a year


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:01:49 2004
Return-Path: 
 <lucene-user-return-12079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70007 invoked from network); 22 Dec 2004 22:01:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:01:49 -0000
Received: (qmail 21973 invoked by uid 500); 22 Dec 2004 22:01:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21948 invoked by uid 500); 22 Dec 2004 22:01:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21934 invoked by uid 99); 22 Dec 2004 22:01:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:01:35 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id iBMM1XVu022591
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 15:01:33 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I950060193GWD@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Wed, 22 Dec 2004 14:01:33 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-112.SFBay.Sun.COM [129.146.41.112])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I95006A39669H@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Wed, 22 Dec 2004 14:01:33 -0800 (PST)
Date: Wed, 22 Dec 2004 14:01:16 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Search Result Text
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41C9EEAC.4070706@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All,

This might be asked earlier please point to the earlier post or any 
pointers would be appreciated.
I have bunch of HTML pages which I index using IndexHTML. My dilemma is 
when I want to search the pages and then display the results the text 
that I use for the results snippet do not get the data from the body of 
the page it just gets the top portion of the page. How do I control what 
I want to show in the result text.

IndexSearcher searcher = null;
query = QueryParser.parse(queryString, "contents", analyzer);
hits = searcher.search(query);                       

I am currently using
TokenStream tokenStream = new StandardAnalyzer().tokenStream("f", new 
StringReader(doc.get("summary")));
String result = highlighter.getBestFragments(tokenStream, 
doc.get("summary"), 3, "...");


e.g.
Search Results
*Product Name: *Computer systems PAMIR?? 
<javascript:processDetailWizard(4005512);>
*Company Name: *ASE Group / Advanced system engineering
sun.com How To Buy  |  My Sun  |  Worldwide Sites               [Sun 
Microsystems Logo] [Products and Services]   [Support

*Product Name: *ODC-SOL <javascript:processDetailWizard(5363);>
*Company Name: *INSTAR Corporation
sun.com How To Buy  |  My Sun  |  Worldwide Sites               [Sun 
Microsystems Logo] [Products and Services]   [Support


The text in red color is the problem.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:01:34 2004
Return-Path: 
 <lucene-user-return-12078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69870 invoked from network); 22 Dec 2004 22:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:01:34 -0000
Received: (qmail 20744 invoked by uid 500); 22 Dec 2004 22:01:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20707 invoked by uid 500); 22 Dec 2004 22:01:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20678 invoked by uid 99); 22 Dec 2004 22:01:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:01:20 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 7CFFB5E1B9
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 16:01:16 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GCL11>; Wed, 22 Dec 2004 16:11:09 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE4@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: CFS file?
Date: Wed, 22 Dec 2004 16:11:01 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can someone tell me the purpose of the .CFS files? The Index File Formats
page does not mention this type of file.

Steve Rajavuori

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:13:41 2004
Return-Path: 
 <lucene-user-return-12080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76618 invoked from network); 22 Dec 2004 22:13:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:13:41 -0000
Received: (qmail 52529 invoked by uid 500); 22 Dec 2004 22:13:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52500 invoked by uid 500); 22 Dec 2004 22:13:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52486 invoked by uid 99); 22 Dec 2004 22:13:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info)
 (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:13:28 -0800
Received: from [192.168.10.103] (ppp-62-245-162-212.mnet-online.de
 [62.245.162.212])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 55C9E14010F
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 23:13:24 +0100 (CET)
Message-ID: <41C9F17C.1070004@intrafind.de>
Date: Wed, 22 Dec 2004 23:13:16 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: CFS file?
References: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE4@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE4@MUSCOVITE.OPIN.COM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Steve Rajavuori schrieb:

>Can someone tell me the purpose of the .CFS files? The Index File Formats
>page does not mention this type of file.
>  
>
uuuh, you're right, it is not documented at fileformats.html.
Since Lucene 1.4, the individual index files are stored per default 
within one single compound file which has the file extension .cvs . You 
can switch that behaviour off by setting the public static member 
IndexWriter.useCompoundFile to false.

Bernhard


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:32:12 2004
Return-Path: 
 <lucene-user-return-12081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83439 invoked from network); 22 Dec 2004 22:32:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:32:12 -0000
Received: (qmail 85759 invoked by uid 500); 22 Dec 2004 22:32:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85460 invoked by uid 500); 22 Dec 2004 22:32:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85444 invoked by uid 99); 22 Dec 2004 22:32:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:32:03 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id D4EC45E0B6
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 16:32:02 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GCLXG>; Wed, 22 Dec 2004 16:41:55 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE5@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: CFS file and file formats
Date: Wed, 22 Dec 2004 16:41:55 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks. I am trying to repair a corrupted 'segments' file. I am attempting
to manually edit the file to add some missing segment names, but I need to
add the correct segment size for each. Can anyone tell me how to determine
the correct segment size (number of documents in the segment) by looking in
either a .CFS file, or in the appropriate file in a non-compound segment?

Steve

-----Original Message-----
From: Bernhard Messer [mailto:bernhard.messer@intrafind.de]
Sent: Wednesday, December 22, 2004 4:13 PM
To: Lucene Users List
Subject: Re: CFS file?


Steve Rajavuori schrieb:

>Can someone tell me the purpose of the .CFS files? The Index File Formats
>page does not mention this type of file.
>  
>
uuuh, you're right, it is not documented at fileformats.html.
Since Lucene 1.4, the individual index files are stored per default 
within one single compound file which has the file extension .cvs . You 
can switch that behaviour off by setting the public static member 
IndexWriter.useCompoundFile to false.

Bernhard


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:50:44 2004
Return-Path: 
 <lucene-user-return-12083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75828 invoked from network); 22 Dec 2004 22:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:50:44 -0000
Received: (qmail 15274 invoked by uid 500); 22 Dec 2004 22:50:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15250 invoked by uid 500); 22 Dec 2004 22:50:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15236 invoked by uid 99); 22 Dec 2004 22:50:39 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.clicvu.com (HELO admin01-nyc.clicvu.com) (209.10.150.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:50:36 -0800
Received: from smtp.clicvu.com ([192.168.0.72]) by admin01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with ESMTP id com for <lucene-user@jakarta.apache.org>;
          Wed, 22 Dec 2004 17:47:30 -0500
Content-type: text/plain
Date: Wed, 22 Dec 2004 17:44:52 -0500
From: roy-lucene-user@xemaps.com
Subject: search question
To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi guys,

We have an index with some fields containing email addresses.  Doing a search for an email address with this format: first.last@domain.com, does not bring up any results with lucene 1.4.

The query: "Field1:first.last@domain.com"

However it returns results with 1.2.  Any ideas?

Roy.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 22:48:09 2004
Return-Path: 
 <lucene-user-return-12082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42171 invoked from network); 22 Dec 2004 22:48:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 22:48:09 -0000
Received: (qmail 9811 invoked by uid 500); 22 Dec 2004 22:48:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9790 invoked by uid 500); 22 Dec 2004 22:48:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9776 invoked by uid 99); 22 Dec 2004 22:48:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout08.sul.t-online.com (HELO mailout08.sul.t-online.com)
 (194.25.134.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 14:48:01 -0800
Received: from fwd08.aul.t-online.de
	by mailout08.sul.t-online.com with smtp
	id 1ChFGw-0004u7-07; Wed, 22 Dec 2004 23:47:58 +0100
Received: from p5480206B.dip.t-dialin.net
 (TD9ih4Z-ZejyPWdKAvvHE7v+t6+sybxdDyHZX84X7+dOLqaPKLwOrH@[84.128.32.107]) by
 fmrl08.sul.t-online.com
	with esmtp id 1ChFGo-0qYGVE0; Wed, 22 Dec 2004 23:47:50 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: CFS file and file formats
Date: Wed, 22 Dec 2004 23:49:38 +0100
User-Agent: KMail/1.7.1
References: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE5@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE5@MUSCOVITE.OPIN.COM>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412222349.38703@danielnaber.de>
X-ID: TD9ih4Z-ZejyPWdKAvvHE7v+t6+sybxdDyHZX84X7+dOLqaPKLwOrH@t-dialin.net
X-TOI-MSGID: 2f58463f-a4ae-4ae9-8215-7e5140ace525
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 22 December 2004 23:41, Steve Rajavuori wrote:

> Thanks. I am trying to repair a corrupted 'segments' file.

Why are you sure it's corrupted? Are the *.cfs file and the other files 
types mixed in one directory? Then that's the problem: if you have *.cfs, 
segments, and deletable, nothing else should exist in that directory or 
Lucene will get confused.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 23:41:52 2004
Return-Path: 
 <lucene-user-return-12084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90290 invoked from network); 22 Dec 2004 23:41:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 23:41:52 -0000
Received: (qmail 94173 invoked by uid 500); 22 Dec 2004 23:41:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94145 invoked by uid 500); 22 Dec 2004 23:41:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94132 invoked by uid 99); 22 Dec 2004 23:41:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu)
 (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 15:41:40 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id ED8731F528E
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:41:37 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16104-01 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 18:41:37 -0500 (EST)
Received: from [192.168.1.103]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 900FB1F5164
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 18:41:37 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20041222225043.27D8013E2008@ehatchersolutions.com>
References: <20041222225043.27D8013E2008@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <09A69259-5473-11D9-ACB0-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: search question
Date: Wed, 22 Dec 2004 18:41:44 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What does toString() return for each of those queries?  Are you using 
the same analyzer in both cases?

	Erik

On Dec 22, 2004, at 5:44 PM, roy-lucene-user@xemaps.com wrote:

> Hi guys,
>
> We have an index with some fields containing email addresses.  Doing a 
> search for an email address with this format: first.last@domain.com, 
> does not bring up any results with lucene 1.4.
>
> The query: "Field1:first.last@domain.com"
>
> However it returns results with 1.2.  Any ideas?
>
> Roy.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 22 23:45:21 2004
Return-Path: 
 <lucene-user-return-12085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9300 invoked from network); 22 Dec 2004 23:45:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Dec 2004 23:45:21 -0000
Received: (qmail 98804 invoked by uid 500); 22 Dec 2004 23:45:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98505 invoked by uid 500); 22 Dec 2004 23:45:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98492 invoked by uid 99); 22 Dec 2004 23:45:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail3.qsent.com (HELO exchange.qsent.com) (208.252.86.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 15:45:12 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: addIndexes() Question
Date: Wed, 22 Dec 2004 15:45:15 -0800
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: addIndexes() Question
Thread-Index: AcTbblzWfM9FmNCVRPCUotO3yVkUPQNCf6ag
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20
Hi there, Im about to embark on a Lucene project of massive scale
(between 500 million and 2 billion documents).  I am currently working
on parallellizing the construction of the Index(es).=20

Rough summary of my plan:
I have many, many physical machines, each with multiple processors that
I wish to dedicate to the construction of a single index.=20
I plan on having each machine gather its documents from a central
sychronized source (network, JMS, whatever).=20
Within each machine I will have multiple threads each responsible for
construcing an index slice.

When all machines and all threads are finished, I should have a slew of
index slices that I want to combine together to create one index.

My question is this:  Will it be more efficient to call
addIndexes(Directory[] dirs) on all the slices all at once?=20

Or might it be better to continually merge small indexes into a larger
index, i.e. once an index slice reaches a particular size, merge it into
the main index and start building a new slice...

Any help would be appreciated..=20

Ryan Aslett


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 00:44:00 2004
Return-Path: 
 <lucene-user-return-12086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45693 invoked from network); 23 Dec 2004 00:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 00:44:00 -0000
Received: (qmail 95337 invoked by uid 500); 23 Dec 2004 00:43:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95210 invoked by uid 500); 23 Dec 2004 00:43:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95189 invoked by uid 99); 23 Dec 2004 00:43:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu)
 (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 16:43:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 58DF21F52BD
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 19:43:46 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 13835-03 for <lucene-user@jakarta.apache.org>;
 Wed, 22 Dec 2004 19:43:46 -0500 (EST)
Received: from [192.168.1.103]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 0657D1F51F3
	for <lucene-user@jakarta.apache.org>; Wed, 22 Dec 2004 19:43:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41C9EEAC.4070706@sun.com>
References: <41C9EEAC.4070706@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B7FE1182-547B-11D9-ACB0-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search Result Text
Date: Wed, 22 Dec 2004 19:43:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The demo IndexHTML does not store the "contents" field - it is indexed 
using a Reader and thus not stored.  You will have to modify the code 
to get the complete contents available at search time.

	Erik

On Dec 22, 2004, at 5:01 PM, Hetan Shah wrote:

> All,
>
> This might be asked earlier please point to the earlier post or any 
> pointers would be appreciated.
> I have bunch of HTML pages which I index using IndexHTML. My dilemma 
> is when I want to search the pages and then display the results the 
> text that I use for the results snippet do not get the data from the 
> body of the page it just gets the top portion of the page. How do I 
> control what I want to show in the result text.
>
> IndexSearcher searcher = null;
> query = QueryParser.parse(queryString, "contents", analyzer);
> hits = searcher.search(query);
> I am currently using
> TokenStream tokenStream = new StandardAnalyzer().tokenStream("f", new 
> StringReader(doc.get("summary")));
> String result = highlighter.getBestFragments(tokenStream, 
> doc.get("summary"), 3, "...");
>
>
> e.g.
> Search Results
> *Product Name: *Computer systems PAMIR?? 
> <javascript:processDetailWizard(4005512);>
> *Company Name: *ASE Group / Advanced system engineering
> sun.com How To Buy  |  My Sun  |  Worldwide Sites               [Sun 
> Microsystems Logo] [Products and Services]   [Support
>
> *Product Name: *ODC-SOL <javascript:processDetailWizard(5363);>
> *Company Name: *INSTAR Corporation
> sun.com How To Buy  |  My Sun  |  Worldwide Sites               [Sun 
> Microsystems Logo] [Products and Services]   [Support
>
>
> The text in red color is the problem.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 02:19:22 2004
Return-Path: 
 <lucene-user-return-12087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84520 invoked from network); 23 Dec 2004 02:19:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 02:19:22 -0000
Received: (qmail 99811 invoked by uid 500); 23 Dec 2004 02:19:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99502 invoked by uid 500); 23 Dec 2004 02:19:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99489 invoked by uid 99); 23 Dec 2004 02:19:17 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 18:19:13 -0800
Received: (qmail 65517 invoked by uid 60001); 23 Dec 2004 02:19:11 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=L7qAaw7lbFrRhIczYQNb6KH5B363pS3xAx9uz410iW+XM3QS9+we3jxKA8XpDsVTrQFP0FGSOU1jX+KT2RFwWwf4mAOGT+KMKHDcuZHi41soy/nRGxb7Hp4lP5/TwxOEHWQykxn1ffA90+nWSf1sWYMwTISMF4OSkeXvYLqZVM0=
  ;
Message-ID: <20041223021911.65515.qmail@web12708.mail.yahoo.com>
Received: from [69.201.130.95] by web12708.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 18:19:11 PST
Date: Wed, 22 Dec 2004 18:19:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: addIndexes() Question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I _think_ you'd be better off doing it all at once, but I wouldn't
trust myself on this and would instead construct a small 3-index set
and test, looking at a) maximal disk usage, b) time, and c) RAM usage.
:)

Otis

--- Ryan Aslett <Ryan.Aslett@Qsent.com> wrote:

>  
> Hi there, Im about to embark on a Lucene project of massive scale
> (between 500 million and 2 billion documents).  I am currently
> working
> on parallellizing the construction of the Index(es). 
> 
> Rough summary of my plan:
> I have many, many physical machines, each with multiple processors
> that
> I wish to dedicate to the construction of a single index. 
> I plan on having each machine gather its documents from a central
> sychronized source (network, JMS, whatever). 
> Within each machine I will have multiple threads each responsible for
> construcing an index slice.
> 
> When all machines and all threads are finished, I should have a slew
> of
> index slices that I want to combine together to create one index.
> 
> My question is this:  Will it be more efficient to call
> addIndexes(Directory[] dirs) on all the slices all at once? 
> 
> Or might it be better to continually merge small indexes into a
> larger
> index, i.e. once an index slice reaches a particular size, merge it
> into
> the main index and start building a new slice...
> 
> Any help would be appreciated.. 
> 
> Ryan Aslett
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 04:26:08 2004
Return-Path: 
 <lucene-user-return-12088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26088 invoked from network); 23 Dec 2004 04:26:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 04:26:08 -0000
Received: (qmail 59645 invoked by uid 500); 23 Dec 2004 04:25:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58816 invoked by uid 500); 23 Dec 2004 04:25:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58796 invoked by uid 99); 23 Dec 2004 04:25:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 20:25:52 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 0894F6F16
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 15:25:46 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au
 [147.41.65.12])
	by cato.nettas.net (Postfix) with ESMTP id A90AB57
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 15:25:45 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Thu, 23 Dec 2004 15:25:45 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Exception: cannot determine sort type
Date: Thu, 23 Dec 2004 15:25:44 +1100
X-Assembled-By: XWall v3.31
Message-ID: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We have been implementing Lucene as the datasource for our
website--Lucene is exposed through a java web service which our ASP
pages query and process.  So far things have been going very well and in
general tests everything has been fine.

Interestingly though, under a small server stress test (up to 2
connections/second) every second or third query has been producing the
error:

"java.lang.RuntimeException: no terms in field Title_Sort - cannot
determine sort type"

Title_Sort is a sort-specific field (Store=3Dfalse, Index=3Dtrue,
Tokenise=3Dfalse).  I do not have access to the actual Lucene-calling
code, but I do not believe that the creation of the SortField defines a
type (so just defaults to AUTO).

I dug up this message from the list where Erik suggested to define a
specific type in the SortField, which in this case solved the original
poster's problem.
<http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta
.apache.org&msgId=3D1726050>

We could specify the sort type as String but we do have some Date fields
too.  Are dates actually indexed as strings?

I am wondering why this exception might occur when the server/index is
under load.  I do realise there are many 'variables in the equation', so
there probably is not an easy answer to this.

Regards, --Leto

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 06:14:27 2004
Return-Path: 
 <lucene-user-return-12089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58400 invoked from network); 23 Dec 2004 06:14:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 06:14:27 -0000
Received: (qmail 18473 invoked by uid 500); 23 Dec 2004 06:14:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18446 invoked by uid 500); 23 Dec 2004 06:14:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18430 invoked by uid 99); 23 Dec 2004 06:14:17 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=SUBJ_ALL_CAPS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 22:14:14 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I95WPL00.FS7 for <lucene-user@jakarta.apache.org>; Thu,
          23 Dec 2004 11:59:45 +0530
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: SNOWBALL STEMMER + BOOSTING
Date: Thu, 23 Dec 2004 11:47:48 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKEEGPCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi Guys

Apologies..........

Using Analysis Paralysis on SnowBall Stemmer [ using StandardAnalyzer.
ENGLISH_STOP_WORDS
and StopAnalyzer.ENGLISH_STOP_WORDS ] from

http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html?page=last#thre
ad

for the word   'jakarta^4 apache'

both the cases return me something like this
=========================================
org.apache.lucene.analysis.snowball.SnowballAnalyzer:

[JAKARTHA] [4] [APACHE]

=========================================


I wonder what happened to the BOOSTING SYMBOL '^' and if the same word
is used on QueryParser.parse(), What would be the Hit's returned???

Thx in advance

WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 06:52:07 2004
Return-Path: 
 <lucene-user-return-12090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69005 invoked from network); 23 Dec 2004 06:52:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 06:52:07 -0000
Received: (qmail 72116 invoked by uid 500); 23 Dec 2004 06:51:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72055 invoked by uid 500); 23 Dec 2004 06:51:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72040 invoked by uid 99); 23 Dec 2004 06:51:54 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from act-ironport-ext-out1.csiro.au (HELO
 act-ironport-ext-out1.csiro.au) (150.229.7.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 22:51:50 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by act-ironport-ext-out1.csiro.au with ESMTP; 23 Dec 2004 17:51:45 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,83,1102251600";
   d="scan'208,217"; a="22092527:sNHT56266508"
Received: from EXACTN2-CBR.nexus.csiro.au ([152.83.3.133]) by
 exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 23 Dec 2004 17:50:38 +1100
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by
 EXACTN2-CBR.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 23 Dec 2004 17:50:38 +1100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4E8BB.B5FEFA72"
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: Word co-occurrences counts
Date: Thu, 23 Dec 2004 17:20:38 +1030
Message-ID: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Word co-occurrences counts
Thread-Index: AcTou7YIeS5CApKXTeeJyuuPFY4I8w==
From: <Andrew.Cunningham@csiro.au>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 23 Dec 2004 06:50:38.0744 (UTC)
 FILETIME=[B640B980:01C4E8BB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4E8BB.B5FEFA72
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

I have a curious problem, and initial poking around with Lucene looks
like it may only be able to half-handle the problem.

=20

The problem requires two abilities:

1.	To be able to return the number of times the word appears in all
the documents (which it looks like lucene can do through IndexReader)=20
2.	To be able to return the number of word co-occurrences within
the document set (ie. How many times does "computer" appear within 50
words of  "dog")=20

=20

Is the second point possible?

=20

Thanks all, and happy holidays,

Andrew

=20


------_=_NextPart_001_01C4E8BB.B5FEFA72--

From MAILER-DAEMON Thu Dec 23 07:13:17 2004
Return-Path: 
 <lucene-user-return-12091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75164 invoked from network); 23 Dec 2004 07:13:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 07:13:17 -0000
Received: (qmail 99237 invoked by uid 500); 23 Dec 2004 07:13:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99133 invoked by uid 500); 23 Dec 2004 07:13:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99109 invoked by uid 99); 23 Dec 2004 07:13:08 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53906.mail.yahoo.com (HELO web53906.mail.yahoo.com)
 (206.190.36.216)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 22 Dec 2004 23:13:03 -0800
Received: (qmail 98699 invoked by uid 60001); 23 Dec 2004 07:13:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=mEN2o/NrgW7qKS0ppGVBH8uGPNbavM9aEEySk334b31pzd/TjBFImt+CwaWD02wBw+MfJgv2TGIvVuC1s1+0LvFMq/oIFj2sNxIzKZiFAJuiW82b5+NsosqKyvejBFs7ht4voXoF1ZroJS+8OCSYxbBkvlb/qecUHhSVEy39tQc=
  ;
Message-ID: <20041223071301.98697.qmail@web53906.mail.yahoo.com>
Received: from [203.145.156.130] by web53906.mail.yahoo.com via HTTP;
 Wed, 22 Dec 2004 23:13:01 PST
Date: Wed, 22 Dec 2004 23:13:01 -0800 (PST)
From: Gururaja H <guru_hr29@yahoo.com>
Subject: RE: Relevance percentage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <E3381E0825F1954D953A4E347017BB1C02CC6CFB@reh001-1.REX001.ExchangeByRegister.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1053825408-1103785981=:97309"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1053825408-1103785981=:97309
Content-Type: text/plain; charset=us-ascii

Hi Chuck Williams,
 
Thanks much for the reply.
 
>If your queries are all BooleanQuery's of
>TermQuery's, then this is very simple. Iterate down the list of
>BooleanClause's and count the number whose score is > 0, then divide
>this by the total number of clauses. Take a look at
>BooleanQuery.BooleanWeight.explain() as it does this (along with
>generating the rest of the explanation). If you support the full Lucene
>query language, then you need to look at all the query types and decide
>what exactly you want to compute (as coord is not always well-defined).
 
We are supporting full Lucene query language.  
 
My request is, assuming queries are all BooleanQuery please
post the implementation source code for the same.  ie to calculate the coord() method input parameters overlap and maxOverlap.
 
Thanks,
Gururaja





Chuck Williams <chuck@manawiz.com> wrote:

The coord() value is not saved anywhere so you would need to recompute
it. You could either call explain() and parse the result string, or
better, look at explain() and implement what it does more efficiently
just for coord(). If your queries are all BooleanQuery's of
TermQuery's, then this is very simple. Iterate down the list of
BooleanClause's and count the number whose score is > 0, then divide
this by the total number of clauses. Take a look at
BooleanQuery.BooleanWeight.explain() as it does this (along with
generating the rest of the explanation). If you support the full Lucene
query language, then you need to look at all the query types and decide
what exactly you want to compute (as coord is not always well-defined).



I'm on the West Coast of the U.S. so evidently on a very different time
zone from you -- will look at your other message next.

Chuck

> -----Original Message-----
> From: Gururaja H [mailto:guru_hr29@yahoo.com]
> Sent: Monday, December 20, 2004 6:10 AM
> To: Lucene Users List; Mike Snare
> Subject: Re: Relevance percentage
> 
> Hi,
> 
> But, How to calculate the coord() fraction ? I know by default,
> in DefaultSimilarity the coord() fraction is defined as below:
> 
> /** Implemented as overlap / maxOverlap. */
> 
> public float coord(int overlap, int maxOverlap) {
> 
> return overlap / (float)maxOverlap;
> 
> }
> How to get the overlap and maxOverlap value in each of the matched
> document(s) ?
> 
> Thanks,
> Gururaja
> 
> Mike Snare wrote:
> I'm still new to Lucene, but wouldn't that be the coord()? My
> understanding is that the coord() is the fraction of the boolean
query
> that matched a given document.
> 
> Again, I'm new, so somebody else will have to confirm or deny...
> 
> -Mike
> 
> 
> On Mon, 20 Dec 2004 00:33:21 -0800 (PST), Gururaja H
> wrote:
> > How to find out the percentages of matched terms in the
document(s)
> using Lucene ?
> > Here is an example, of what i am trying to do:
> > The search query has 5 terms(ibm, risc, tape, dirve, manual) and
there
> are 4 matching
> > documents with the following attributes:
> > Doc#1: contains terms(ibm,drive)
> > Doc#2: contains terms(ibm,risc, tape, drive)
> > Doc#3: contains terms(ibm,risc, tape,drive)
> > Doc#4: contains terms(ibm, risc, tape, drive, manual).
> > The percentages displayed would be 100%(Doc#4), 80%(doc#2),
80%(doc#3)
> and 40%
> > (doc#1).
> >
> > Any help on how to go about doing this ?
> >
> > Thanks,
> > Gururaja
> >
> >
> > ---------------------------------
> > Do you Yahoo!?
> > Send a seasonal email greeting and help others. Do good.
> >
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------
> Do you Yahoo!?
> All your favorites on one personal page - Try My Yahoo!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



		
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - Find what you need with new enhanced search. Learn more.
--0-1053825408-1103785981=:97309--

From MAILER-DAEMON Thu Dec 23 07:40:15 2004
Return-Path: 
 <lucene-user-return-12092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83569 invoked from network); 23 Dec 2004 07:40:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 07:40:15 -0000
Received: (qmail 42875 invoked by uid 500); 23 Dec 2004 07:40:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42561 invoked by uid 500); 23 Dec 2004 07:40:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42546 invoked by uid 99); 23 Dec 2004 07:40:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr1.xs4all.nl (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 23:40:04 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBN7e1EQ013881
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 08:40:01 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Word co-occurrences counts
Date: Thu, 23 Dec 2004 08:40:01 +0100
User-Agent: KMail/1.5.4
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
In-Reply-To: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412230840.01287.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 23 December 2004 07:50, Andrew.Cunningham@csiro.au wrote:
> Hi all,
> 
> I have a curious problem, and initial poking around with Lucene looks
> like it may only be able to half-handle the problem.
> 
>  
> 
> The problem requires two abilities:
> 
> 1.	To be able to return the number of times the word appears in all
> the documents (which it looks like lucene can do through IndexReader) 
> 2.	To be able to return the number of word co-occurrences within
> the document set (ie. How many times does "computer" appear within 50
> words of  "dog") 
>
>  
> 
> Is the second point possible?

You can use the standard query parser with a query like this:
"dog computer"~50
This query is not completely symmetric in the distance computation:
when computer occurs before dog, the allowed distance is 49, iirc.

There is also a SpanNearQuery for more generalized and flexible
distance queries, but this is not supported by the query parser,
so you'll have to construct these queries in your own program code.

In case you have non standard retrieval requirements, eg. you only
need the number of hits and no further information from the matching
documents, you may consider using your own HitCollector on the
lower level search methods.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 07:58:47 2004
Return-Path: 
 <lucene-user-return-12093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89851 invoked from network); 23 Dec 2004 07:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 07:58:47 -0000
Received: (qmail 73307 invoked by uid 500); 23 Dec 2004 07:58:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73271 invoked by uid 500); 23 Dec 2004 07:58:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73255 invoked by uid 99); 23 Dec 2004 07:58:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr12.xs4all.nl (HELO smtp-vbr12.xs4all.nl)
 (194.109.24.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 22 Dec 2004 23:58:37 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBN7wYiE034200
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 08:58:34 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Relevance percentage
Date: Thu, 23 Dec 2004 08:58:34 +0100
User-Agent: KMail/1.5.4
References: <20041223071301.98697.qmail@web53906.mail.yahoo.com>
In-Reply-To: <20041223071301.98697.qmail@web53906.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412230858.34163.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 23 December 2004 08:13, Gururaja H wrote:
> Hi Chuck Williams,
>  
> Thanks much for the reply.
>  
> >If your queries are all BooleanQuery's of
> >TermQuery's, then this is very simple. Iterate down the list of
> >BooleanClause's and count the number whose score is > 0, then divide
> >this by the total number of clauses. Take a look at
> >BooleanQuery.BooleanWeight.explain() as it does this (along with
> >generating the rest of the explanation). If you support the full Lucene
> >query language, then you need to look at all the query types and decide
> >what exactly you want to compute (as coord is not always well-defined).
>  
> We are supporting full Lucene query language.  
>  
> My request is, assuming queries are all BooleanQuery please
> post the implementation source code for the same.  ie to calculate the 
coord() method input parameters overlap and maxOverlap.

I don't have the code, but I can give an overview of possible
steps:

First inherit from BooleanScorer to implement a score() method that
returns only the coord() value (preferably a precomputed one).
Then inherit from BooleanQuery.BooleanWeight to return the above
Scorer.
Then inherit from BooleanQuery to use the above Weight in createWeight().
Then inherit from QueryParser to use the above Query in getBooleanQuery().
Finally use such a query in a search: the document scores will be
the coord() values.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 08:23:12 2004
Return-Path: 
 <lucene-user-return-12094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17824 invoked from network); 23 Dec 2004 08:23:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 08:23:12 -0000
Received: (qmail 15586 invoked by uid 500); 23 Dec 2004 08:23:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15555 invoked by uid 500); 23 Dec 2004 08:23:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15535 invoked by uid 99); 23 Dec 2004 08:22:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 00:22:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0D6D213E2009; Thu, 23 Dec 2004 03:22:52 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E0B1013E2009
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 03:22:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKEEGPCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKEEGPCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CC495E8B-54BB-11D9-B680-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SNOWBALL STEMMER + BOOSTING
Date: Thu, 23 Dec 2004 03:22:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 23, 2004, at 1:17 AM, Karthik N S wrote:
> Using Analysis Paralysis on SnowBall Stemmer [ using StandardAnalyzer.
> ENGLISH_STOP_WORDS
> and StopAnalyzer.ENGLISH_STOP_WORDS ] from
>
> http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html? 
> page=last#thre
> ad
>
> for the word   'jakarta^4 apache'
>
> both the cases return me something like this
> =========================================
> org.apache.lucene.analysis.snowball.SnowballAnalyzer:
>
> [JAKARTHA] [4] [APACHE]
>
> =========================================
>
>
> I wonder what happened to the BOOSTING SYMBOL '^' and if the same word
> is used on QueryParser.parse()

Analyzing a query expression outside of QueryParser is _not_ doing the  
same thing that QueryParser does.  QueryParser picks out the pieces it  
knows about (parenthesis, boost symbol, AND, OR, etc, etc) and only  
analyzes term text.  In your example it would analyze "jakarta" and  
"apache" separately.

> , What would be the Hit's returned???

That all depends on what you indexed and what analyzer you used at  
index time :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 08:30:35 2004
Return-Path: 
 <lucene-user-return-12095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26661 invoked from network); 23 Dec 2004 08:30:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 08:30:35 -0000
Received: (qmail 27791 invoked by uid 500); 23 Dec 2004 08:30:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27768 invoked by uid 500); 23 Dec 2004 08:30:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27751 invoked by uid 99); 23 Dec 2004 08:30:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO
 proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 00:30:07 -0800
Received: from ifit.uni-klu.ac.at ([143.205.118.100]) by
 proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Thu, 23 Dec 2004 09:30:04 +0100
Message-ID: <41CA820C.8090400@ifit.uni-klu.ac.at>
Date: Thu, 23 Dec 2004 09:30:04 +0100
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: addIndexes() Question
References: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
In-Reply-To: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 Dec 2004 08:30:04.0246 (UTC)
 FILETIME=[99F81760:01C4E8C9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think you should change a little bit your plans, and to think that 
your goal is to
create a fast search engine not a fast indexing engine.
When you plan to index a lot of documents then it is possible to creata 
a lot of segments (if you don't optimize the index)
and the serch will be very slow comparing with the search on an 
optimized index.
The problem is that the optimization of big indexes is a time consuming 
operation, and also

addIndexes(Directory[] dirs) I think is also a time consuming operation.

 Therefore I suggest to think how can you design the indices to have a fast search, and then 
you should design an offline indexing process. 

 That is my suggestion ... maybe it doesn't fit your requirements, maybe it does ...
 
  All the best,

  Sergiu


Ryan Aslett wrote:

> 
>Hi there, Im about to embark on a Lucene project of massive scale
>(between 500 million and 2 billion documents).  I am currently working
>on parallellizing the construction of the Index(es). 
>
>Rough summary of my plan:
>I have many, many physical machines, each with multiple processors that
>I wish to dedicate to the construction of a single index. 
>I plan on having each machine gather its documents from a central
>sychronized source (network, JMS, whatever). 
>Within each machine I will have multiple threads each responsible for
>construcing an index slice.
>
>When all machines and all threads are finished, I should have a slew of
>index slices that I want to combine together to create one index.
>
>My question is this:  Will it be more efficient to call
>addIndexes(Directory[] dirs) on all the slices all at once? 
>
>Or might it be better to continually merge small indexes into a larger
>index, i.e. once an index slice reaches a particular size, merge it into
>the main index and start building a new slice...
>
>Any help would be appreciated.. 
>
>Ryan Aslett
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 08:35:34 2004
Return-Path: 
 <lucene-user-return-12096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28331 invoked from network); 23 Dec 2004 08:35:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 08:35:34 -0000
Received: (qmail 37033 invoked by uid 500); 23 Dec 2004 08:35:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36814 invoked by uid 500); 23 Dec 2004 08:35:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36798 invoked by uid 99); 23 Dec 2004 08:35:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 00:35:22 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B01D313E200A; Thu, 23 Dec 2004 03:35:17 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4270613E2009
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 03:35:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <89A64754-54BD-11D9-B680-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Word co-occurrences counts
Date: Thu, 23 Dec 2004 03:35:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 23, 2004, at 1:50 AM, <Andrew.Cunningham@csiro.au> wrote:
> 2.	To be able to return the number of word co-occurrences within
> the document set (ie. How many times does "computer" appear within 50
> words of  "dog")
>
>
>
> Is the second point possible?

SpanNearQuery is your friend!  Like Paul said, this is not currently 
supported by QueryParser, however it is easy to do with the API.

Here's an example with a SpanOrQuery (a SpanNearQuery works 
identically) from the Lucene in Action code SpanQueryTest.java.  Two 
documents are indexed:

         "the quick brown fox jumps over the lazy dog"

         "the quick red fox jumps over the sleepy cat"

This SpanOrQuery is formed (omitting some code details):

     SpanOrQuery or = new SpanOrQuery(new SpanQuery[]{quick, fox});

And the spans are displayed:

spanOr([f:quick, f:fox]):
    the <quick> brown fox jumps over the lazy dog (0.37158427)
    the quick brown <fox> jumps over the lazy dog (0.37158427)
    the <quick> red fox jumps over the sleepy cat (0.37158427)
    the quick red <fox> jumps over the sleepy cat (0.37158427)

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 08:56:26 2004
Return-Path: 
 <lucene-user-return-12097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36670 invoked from network); 23 Dec 2004 08:56:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 08:56:26 -0000
Received: (qmail 75032 invoked by uid 500); 23 Dec 2004 08:55:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75003 invoked by uid 500); 23 Dec 2004 08:55:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74932 invoked by uid 99); 23 Dec 2004 08:55:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 00:55:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1BBD913E200A; Thu, 23 Dec 2004 03:55:35 -0500 (EST)
Received: from [192.168.1.101]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id BF50513E2009
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 03:55:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
References: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <663C3CD0-54C0-11D9-B680-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Exception: cannot determine sort type
Date: Thu, 23 Dec 2004 03:55:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 22, 2004, at 11:25 PM, Kauler, Leto S wrote:
> "java.lang.RuntimeException: no terms in field Title_Sort - cannot
> determine sort type"
>
> Title_Sort is a sort-specific field (Store=false, Index=true,
> Tokenise=false).  I do not have access to the actual Lucene-calling
> code, but I do not believe that the creation of the SortField defines a
> type (so just defaults to AUTO).

The issue occurs if the first field it accesses parses as a numeric 
value and then successive fields are String's.  If you are mixing and 
matching numeric and text information in this Title_Sort field you 
should specify the type.

> We could specify the sort type as String but we do have some Date 
> fields
> too.  Are dates actually indexed as strings?

You're putting dates into Title_Sort also?  The type is specific to a 
sort field, so you can sort by dates too but you'd use a different 
field and a different type.

*Everything* in Lucene is indexed as a string.  But how a date looks as 
a string is a topic unto itself.  I prefer to use YYYYMMDD as a date 
formatted as a string (but when sorting, this could be treated as a 
numeric).

> I am wondering why this exception might occur when the server/index is
> under load.  I do realise there are many 'variables in the equation', 
> so
> there probably is not an easy answer to this.

I'm at a loss on this one without further details, thats for sure.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 08:56:57 2004
Return-Path: 
 <lucene-user-return-12098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36928 invoked from network); 23 Dec 2004 08:56:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 08:56:57 -0000
Received: (qmail 77268 invoked by uid 500); 23 Dec 2004 08:56:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77240 invoked by uid 500); 23 Dec 2004 08:56:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77212 invoked by uid 99); 23 Dec 2004 08:56:38 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 00:56:32 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Relevance percentage
Date: Thu, 23 Dec 2004 00:56:28 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02DF445B@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relevance percentage
Thread-Index: AcToxTpG1QjTnWOdRrmxTnnkdFwC/wABw0uw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gururaja,

If you want to score based solely on coord(), then Paul's approach looks
best.  However, based on your earlier messages, it looks to me like you
want to score based on all factors (with coord boosted as Paul
suggested, or lengthNorm flattened as I suggested -- either will get the
order you want in the example you posted), but you want to print the
(unboosted) coord percentage along with each result in the result list.

If this is the case, since the number of results per page on the result
list is presumably small, I think you are best off replicating the
explain() mechanism.  I don't have the source code, but you can look at
IndexSearcher.explain(), which recreates the weight with Query.weight(),
then calls what in this case will be
BooleanQuery.BooleanWeight.explain(), which has the code to recompute
coord on a result (specifically it computes overlap and maxoverlap and
then calls Similarity.coord()).  You could cut and paste this code to
just compute coord for your top-level BooleanQuery's.

Sorry I don't have source code to do this, but the approach should work.
Good luck,

Chuck

  > -----Original Message-----
  > From: Paul Elschot [mailto:paul.elschot@xs4all.nl]
  > Sent: Wednesday, December 22, 2004 11:59 PM
  > To: lucene-user@jakarta.apache.org
  > Subject: Re: Relevance percentage
  >=20
  > On Thursday 23 December 2004 08:13, Gururaja H wrote:
  > > Hi Chuck Williams,
  > >
  > > Thanks much for the reply.
  > >
  > > >If your queries are all BooleanQuery's of
  > > >TermQuery's, then this is very simple. Iterate down the list of
  > > >BooleanClause's and count the number whose score is > 0, then
divide
  > > >this by the total number of clauses. Take a look at
  > > >BooleanQuery.BooleanWeight.explain() as it does this (along with
  > > >generating the rest of the explanation). If you support the full
  > Lucene
  > > >query language, then you need to look at all the query types and
  > decide
  > > >what exactly you want to compute (as coord is not always well-
  > defined).
  > >
  > > We are supporting full Lucene query language.
  > >
  > > My request is, assuming queries are all BooleanQuery please
  > > post the implementation source code for the same.  ie to calculate
the
  > coord() method input parameters overlap and maxOverlap.
  >=20
  > I don't have the code, but I can give an overview of possible
  > steps:
  >=20
  > First inherit from BooleanScorer to implement a score() method that
  > returns only the coord() value (preferably a precomputed one).
  > Then inherit from BooleanQuery.BooleanWeight to return the above
  > Scorer.
  > Then inherit from BooleanQuery to use the above Weight in
createWeight().
  > Then inherit from QueryParser to use the above Query in
  > getBooleanQuery().
  > Finally use such a query in a search: the document scores will be
  > the coord() values.
  >=20
  > Regards,
  > Paul Elschot.
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 09:31:20 2004
Return-Path: 
 <lucene-user-return-12099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52265 invoked from network); 23 Dec 2004 09:31:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 09:31:20 -0000
Received: (qmail 40617 invoked by uid 500); 23 Dec 2004 09:31:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40591 invoked by uid 500); 23 Dec 2004 09:31:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40577 invoked by uid 99); 23 Dec 2004 09:31:08 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 01:31:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CD4065B794; Thu, 23 Dec 2004 01:30:33 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CC2527F466
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 01:30:33 -0800 (PST)
Date: Thu, 23 Dec 2004 01:30:33 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Exception: cannot determine sort type
In-Reply-To: <663C3CD0-54C0-11D9-B680-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0412230122190.6239@hal.rescomp.berkeley.edu>
References: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
 <663C3CD0-54C0-11D9-B680-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: The issue occurs if the first field it accesses parses as a numeric
: value and then successive fields are String's.  If you are mixing and

: > I am wondering why this exception might occur when the server/index is
: > under load.  I do realise there are many 'variables in the equation',
: > so
: > there probably is not an easy answer to this.

Knowing what i know about stress testing environments, i'm guessing you're
using some sort of auotmated load generating application, which is
generating "random" input from a dictionary of some kind -- possibly from
access logs of an existing system?  I'm also guessing that in some
configurations your load generator picks a random sort order independant
of the search terms it picks.

I'm also guessing that the issue has nothing to do with load ... if you
picked a single search term which you have manually tested once (sorting
by title) and know for a fact it works fine, and then you tell your load
generator to hit the index as hard as it can with that one query over and
over, it would probably work fine.

I think the problem is just that when it deals with random input and
random sort orders it (frequently) gets a result set in which the
first document has a numeric title field.


PS: I could be wrong, but if i remember right, the code that AUTO uses to
determine what sort type to use will treat it as a number if it *starts*
with something that looks like a number ... so look for titles like "1000
year plan" in your data.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 09:32:38 2004
Return-Path: 
 <lucene-user-return-12100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52997 invoked from network); 23 Dec 2004 09:32:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 09:32:38 -0000
Received: (qmail 45867 invoked by uid 500); 23 Dec 2004 09:32:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45838 invoked by uid 500); 23 Dec 2004 09:32:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45823 invoked by uid 99); 23 Dec 2004 09:32:32 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 01:32:29 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B748F5B788; Thu, 23 Dec 2004 01:32:00 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AF98F7F467
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 01:32:00 -0800 (PST)
Date: Thu, 23 Dec 2004 01:32:00 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: analyzer effecting phrases?
In-Reply-To: <BAY1-DAV3E5A0D64A566C2CB17ADE88A20@phx.gbl>
Message-ID: <Pine.LNX.4.58.0412230130480.6239@hal.rescomp.berkeley.edu>
References: <BAY1-DAV3E5A0D64A566C2CB17ADE88A20@phx.gbl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: Therefore I turned back to the standard analyzer and now do some replacing
: of the underscores in my ID string to avoid my original problem. This solved

maybe i'm missing something, but if you've got a field in your doc that
represents an ID, why not create that field as "NonTokenized" so you don't
have to worry about what characters the analyzer you're using thinks are
special?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 09:39:48 2004
Return-Path: 
 <lucene-user-return-12101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56453 invoked from network); 23 Dec 2004 09:39:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 09:39:48 -0000
Received: (qmail 62496 invoked by uid 500); 23 Dec 2004 09:39:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62465 invoked by uid 500); 23 Dec 2004 09:39:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62451 invoked by uid 99); 23 Dec 2004 09:39:34 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 01:39:31 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 941465B776; Thu, 23 Dec 2004 01:39:02 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8C74C7F467
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 01:39:02 -0800 (PST)
Date: Thu, 23 Dec 2004 01:39:02 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: (Offtopic) The unicode name for a character
In-Reply-To: <41C95B2C.10003@culture.gouv.fr>
Message-ID: <Pine.LNX.4.58.0412230132130.6239@hal.rescomp.berkeley.edu>
References: <41C843CB.9090202@fib.upc.edu> <41C85F9B.6060008@max3d.com>    
 <41C951EB.8010700@semantico.com>
 <16841.22395.205385.795980@tucholsky.office.tanto.de>
 <41C95B2C.10003@culture.gouv.fr>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: However, I don't think that the names are consistent enough to permit a
: generic use of regular expressions. What Daniel is trying to achieve
: looks interesting anyway,

I'm not sure that that really matters in the long run ... I think the OP
was asking if there was a way to get the name in java because he figured
that way he could programaticly determine what the "base" character was in
his application.  But, that doesn't mean he needs to do this
progromatically every time his indexing/searching code sees a character
outside of LATIN-1

it would probably make more sense to write a little one off program that
could read in this file, and then spit out all of the non latin-1
characters with a guess as to which latin-1 character could act as a
substitution (if any) based on the name of the chracter, and a blank for
the user to override.  This program could be run once to generate a nice
small, efficient mapping table that could be (commited to cvs and) reused
over and over.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 09:43:57 2004
Return-Path: 
 <lucene-user-return-12102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59230 invoked from network); 23 Dec 2004 09:43:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 09:43:57 -0000
Received: (qmail 72279 invoked by uid 500); 23 Dec 2004 09:43:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72252 invoked by uid 500); 23 Dec 2004 09:43:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72233 invoked by uid 99); 23 Dec 2004 09:43:43 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu)
 (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 01:43:40 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 127A75B776; Thu, 23 Dec 2004 01:43:11 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0AD1E7F467
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 01:43:11 -0800 (PST)
Date: Thu, 23 Dec 2004 01:43:11 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sorting on a field that can have null values
In-Reply-To: <012f01c4e6b6$2eff82f0$aa87a8c0@ppeddi>
Message-ID: <Pine.LNX.4.58.0412230142070.6239@hal.rescomp.berkeley.edu>
References: <012f01c4e6b6$2eff82f0$aa87a8c0@ppeddi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: I thought of putting empty strings instead of null values but I think
: empty strings are put first in the list while sorting which is the
: reverse of what anyone would want.

instead of adding a field with a null value, or value of an epty string,
why not just leave the field out for that/those doc(s)?

there's no requirement that every doc in your index has to have the exact
same set of fields.

If i rememebr correctly (you'll have to test this) sorting on a field
which doesn't exist for every doc does what you would want (docs with
values are listed before docs without)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 09:55:39 2004
Return-Path: 
 <lucene-user-return-12103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65150 invoked from network); 23 Dec 2004 09:55:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 09:55:39 -0000
Received: (qmail 93702 invoked by uid 500); 23 Dec 2004 09:55:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93668 invoked by uid 500); 23 Dec 2004 09:55:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93654 invoked by uid 99); 23 Dec 2004 09:55:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.researchandmarkets.com) (217.114.165.228)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 23 Dec 2004 01:55:11 -0800
Received: from cayman ([62.17.245.38] unverified) by
 mail.researchandmarkets.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 23 Dec 2004 10:05:33 +0000
From: "Garrett Heaver" <garrett.heaver@researchandmarkets.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: addIndexes() Question
Date: Thu, 23 Dec 2004 09:52:28 -0000
Message-ID: <00ed01c4e8d5$21c05f30$36a8a8c0@intranet.researchandmarkets.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
X-OriginalArrivalTime: 23 Dec 2004 10:05:33.0953 (UTC)
 FILETIME=[F123FF10:01C4E8D6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ryan

I too am using addIndexes(), all be it for slightly different reasons.
However, I would recommend only calling addIndexes() for fairly sizable
slices and all slices at once. The reason I'm suggesting it is that =
optimize
is called automagically both before and after the addIndexes method so =
if
you are only adding very small slices you're optimizing the main index =
more
times than necessary

There is of course the obvious trade of "spider --> live index" time =
being
shorter in one method that the other.

The other thing that I found on my machines (I'm spidering on one =
machine
and storing the live index on another) is that network performance isn't =
so
hot when you are continually opening and closing connections on other
machines to do the merge (under NT this is, Linux may be much better :) =
so
it made more sense for me to create larger slices and only open the
connection to the live index machine when necessary

Hope this helps

Garrett

-----Original Message-----
From: Ryan Aslett [mailto:Ryan.Aslett@Qsent.com]=20
Sent: 22 December 2004 23:45
To: Lucene Users List
Subject: addIndexes() Question

=20
Hi there, Im about to embark on a Lucene project of massive scale
(between 500 million and 2 billion documents).  I am currently working
on parallellizing the construction of the Index(es).=20

Rough summary of my plan:
I have many, many physical machines, each with multiple processors that
I wish to dedicate to the construction of a single index.=20
I plan on having each machine gather its documents from a central
sychronized source (network, JMS, whatever).=20
Within each machine I will have multiple threads each responsible for
construcing an index slice.

When all machines and all threads are finished, I should have a slew of
index slices that I want to combine together to create one index.

My question is this:  Will it be more efficient to call
addIndexes(Directory[] dirs) on all the slices all at once?=20

Or might it be better to continually merge small indexes into a larger
index, i.e. once an index slice reaches a particular size, merge it into
the main index and start building a new slice...

Any help would be appreciated..=20

Ryan Aslett


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 10:03:54 2004
Return-Path: 
 <lucene-user-return-12104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68710 invoked from network); 23 Dec 2004 10:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 10:03:54 -0000
Received: (qmail 11536 invoked by uid 500); 23 Dec 2004 10:03:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11503 invoked by uid 500); 23 Dec 2004 10:03:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11481 invoked by uid 99); 23 Dec 2004 10:03:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 02:03:21 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id D7F32C9A5F
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 11:03:15 +0100 (CET)
Message-ID: <41CA97E3.9050009@fib.upc.edu>
Date: Thu, 23 Dec 2004 11:03:15 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: how fields do you use in your indexs
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm doing a searcher of differnt format's files for a web. I want to 
know in your cases what field and atributes do you use for this search 
(tokenized,stored, etc..)
I'm thinking to create the field title filename contents 
date_of_modification (I'm indexing the body of html's files how contents).
Do you put something more?
thks to all


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 11:41:36 2004
Return-Path: 
 <lucene-user-return-12105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12460 invoked from network); 23 Dec 2004 11:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 11:41:36 -0000
Received: (qmail 93420 invoked by uid 500); 23 Dec 2004 11:41:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93382 invoked by uid 500); 23 Dec 2004 11:41:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93365 invoked by uid 99); 23 Dec 2004 11:41:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout05.sul.t-online.com (HELO mailout05.sul.t-online.com)
 (194.25.134.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 03:41:23 -0800
Received: from fwd00.aul.t-online.de
	by mailout05.sul.t-online.com with smtp
	id 1ChRLL-0007je-01; Thu, 23 Dec 2004 12:41:19 +0100
Received: from p3E9ECD94.dip.t-dialin.net
 (V+dYMQZAgeYzqSdgvkant17hA-oxuMBqK4ak7ftj5Ot43dKfzrz2gT@[62.158.205.148]) by
 fmrl00.sul.t-online.com
	with esmtp id 1ChQ4f-1CnZp20; Thu, 23 Dec 2004 11:20:01 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: addIndexes() Question
Date: Thu, 23 Dec 2004 11:21:50 +0100
User-Agent: KMail/1.7.1
References: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
In-Reply-To: <5238CD8601F3EF4BA3C5553FECBB7D2A03884BAB@exchange.qsent.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412231121.50233@danielnaber.de>
X-ID: V+dYMQZAgeYzqSdgvkant17hA-oxuMBqK4ak7ftj5Ot43dKfzrz2gT@t-dialin.net
X-TOI-MSGID: 10364a08-57cd-472a-bb9c-9ce7620a9fdb
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 23 December 2004 00:45, Ryan Aslett wrote:

> When all machines and all threads are finished, I should have a slew of
> index slices that I want to combine together to create one index.

You should simply skip this step and instead search the small indices with 
a ParallelMultiSearcher. This should scale much better than one huge index 
(note that ranking is currently messed up with (Parllel)MultiSearcher, see 
the bug reports for a proposed fix).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 23:53:28 2004
Return-Path: 
 <lucene-user-return-12121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90968 invoked from network); 23 Dec 2004 23:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 23:53:28 -0000
Received: (qmail 64436 invoked by uid 500); 23 Dec 2004 23:53:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64097 invoked by uid 500); 23 Dec 2004 23:53:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64081 invoked by uid 99); 23 Dec 2004 23:53:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout11.sul.t-online.com (HELO mailout11.sul.t-online.com)
 (194.25.134.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 15:53:21 -0800
Received: from fwd07.aul.t-online.de
	by mailout11.sul.t-online.com with smtp
	id 1ChRPk-00049Q-00; Thu, 23 Dec 2004 12:45:52 +0100
Received: from p3E9ECD94.dip.t-dialin.net
 (bKaXaQZSZer6zAEjmywLt1aNkWGUfguy6jEIxCH3ccQsMyIH6igR0Q@[62.158.205.148]) by
 fmrl07.sul.t-online.com
	with esmtp id 1ChQ7q-1V4VJw0; Thu, 23 Dec 2004 11:23:18 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
Date: Thu, 23 Dec 2004 11:25:08 +0100
User-Agent: KMail/1.7.1
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
In-Reply-To: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200412231125.08453@danielnaber.de>
X-ID: bKaXaQZSZer6zAEjmywLt1aNkWGUfguy6jEIxCH3ccQsMyIH6igR0Q@t-dialin.net
X-TOI-MSGID: 23cfff7a-c905-49c3-b908-4cb476460978
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 23 December 2004 07:50, Andrew.Cunningham@csiro.au wrote:

> 1.=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0To be able to return the number of =
times the word appears in all
> the documents (which it looks like lucene can do through IndexReader)

If you're referring to docFreq(Term t) , that will only return the number=20
of documents that contain the term, ignoring how often the term occurs in=20
these documents.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 15:33:17 2004
Return-Path: 
 <lucene-user-return-12107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47462 invoked from network); 23 Dec 2004 15:33:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 15:33:17 -0000
Received: (qmail 93161 invoked by uid 500); 23 Dec 2004 15:32:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93069 invoked by uid 500); 23 Dec 2004 15:32:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92840 invoked by uid 99); 23 Dec 2004 15:32:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout03.sul.t-online.com (HELO mailout03.sul.t-online.com)
 (194.25.134.81)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 07:32:48 -0800
Received: from fwd01.aul.t-online.de
	by mailout03.sul.t-online.com with smtp
	id 1ChRYb-0007Qo-01; Thu, 23 Dec 2004 12:55:01 +0100
Received: from p3E9ECD94.dip.t-dialin.net
 (T5w82GZpreoh3Um468-NV-m2M2iV1DMqR6ez6XKiwaiCfjzmywoo8a@[62.158.205.148]) by
 fmrl01.sul.t-online.com
	with esmtp id 1ChQBE-1ILr3Q0; Thu, 23 Dec 2004 11:26:48 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Exception: cannot determine sort type
Date: Thu, 23 Dec 2004 11:28:38 +0100
User-Agent: KMail/1.7.1
References: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
In-Reply-To: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169D@edumail2.education.tas.gov.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412231128.38277@danielnaber.de>
X-ID: T5w82GZpreoh3Um468-NV-m2M2iV1DMqR6ez6XKiwaiCfjzmywoo8a@t-dialin.net
X-TOI-MSGID: d0656fd2-cd5e-40e6-b399-376c9833f6cc
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 23 December 2004 05:25, Kauler, Leto S wrote:

> "java.lang.RuntimeException: no terms in field Title_Sort - cannot
> determine sort type"

Is it a certain query that causes this? Does it really only happen under 
load or does the same query also give this without load?

> We could specify the sort type as String but we do have some Date fields
> too.  Are dates actually indexed as strings?

If you're using DateField: yes. But you don't have to use that class, you 
can save dates however you want.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 12:16:28 2004
Return-Path: 
 <lucene-user-return-12106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30920 invoked from network); 23 Dec 2004 12:16:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 12:16:28 -0000
Received: (qmail 62535 invoked by uid 500); 23 Dec 2004 12:16:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62504 invoked by uid 500); 23 Dec 2004 12:16:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62487 invoked by uid 99); 23 Dec 2004 12:16:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mailgate.urz.uni-halle.de (HELO mailgate.uni-halle.de)
 (141.48.3.51)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 04:16:08 -0800
Received: from [141.48.223.1] (helo=gremlin.wls.uni-halle.de)
	 by mailgate.uni-halle.de with esmtp  (Exim 4.43)
	 id 1ChRsx-0004O8-Kf for <lucene-user@jakarta.apache.org>
	 ; Thu, 23 Dec 2004 13:16:04 +0100
Received: from geronimo (unknown [172.16.130.18])
	by gremlin.wls.uni-halle.de (Postfix) with ESMTP id 6D2FEDABDF
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 13:09:30 +0100 (CET)
Message-ID: <000a01c4e8e8$a5c60010$128210ac@geronimo>
From: "Michael Scholz" <micha@infogeneration.de>
To: <lucene-user@jakarta.apache.org>
Subject: Change LuceneDocument
Date: Thu, 23 Dec 2004 13:12:18 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C4E8F1.0782C6F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Scan-Signature: 463a48df37e560951e0db01648edb369
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C4E8F1.0782C6F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,

is it possible to change the content of a field of an indexed document?

Regards,
Michael Scholz
------=_NextPart_000_0007_01C4E8F1.0782C6F0--


From MAILER-DAEMON Thu Dec 23 17:31:42 2004
Return-Path: 
 <lucene-user-return-12108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10080 invoked from network); 23 Dec 2004 17:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 17:31:42 -0000
Received: (qmail 36325 invoked by uid 500); 23 Dec 2004 17:31:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36295 invoked by uid 500); 23 Dec 2004 17:31:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36272 invoked by uid 99); 23 Dec 2004 17:31:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 09:31:26 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 3B9E75E174
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 11:31:21 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GC99F>; Thu, 23 Dec 2004 11:41:17 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE8@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: CFS file and file formats
Date: Thu, 23 Dec 2004 11:39:29 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think there are several problems. 

1) First of all, there are both CFS files and standard (non-compound) files
in this directory, and all of them have recent update dates, so I assume
they are all being used. My code never explicitly sets the compound file
flag, so I don't know how this happened.

2) Is there a way to force all files into compound mode? For example, if I
set the compound setting, then call optimize, will that recreate everything
into the CFS format?

3) There are several other large .CFS files in this directory that I think
have somehow become detached from the index. They have recent update dates
-- however, the last time I ran optimize these were not touched, and they
are not being updated now. I know these segments have valid data, because
now when I search I am missing large chunks of data -- which I assume is in
these detached segments. So my thought is to edit the 'segments' file to
make Lucene recognize these again -- but I need to know the correct segment
size in order to do this. So how do I determine what the correct segment
size should be?

Steve

-----Original Message-----
From: Daniel Naber [mailto:daniel.naber@t-online.de]
Sent: Wednesday, December 22, 2004 4:50 PM
To: Lucene Users List
Subject: Re: CFS file and file formats


On Wednesday 22 December 2004 23:41, Steve Rajavuori wrote:

> Thanks. I am trying to repair a corrupted 'segments' file.

Why are you sure it's corrupted? Are the *.cfs file and the other files 
types mixed in one directory? Then that's the problem: if you have *.cfs, 
segments, and deletable, nothing else should exist in that directory or 
Lucene will get confused.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 18:14:12 2004
Return-Path: 
 <lucene-user-return-12109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26711 invoked from network); 23 Dec 2004 18:14:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 18:14:12 -0000
Received: (qmail 23425 invoked by uid 500); 23 Dec 2004 18:14:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23251 invoked by uid 500); 23 Dec 2004 18:14:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23238 invoked by uid 99); 23 Dec 2004 18:14:02 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web01-nyc.clicvu.com (HELO web01-nyc.clicvu.com)
 (209.10.150.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 10:13:59 -0800
Received: from [192.168.0.71] by web01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with SMTP id com for <lucene-user@jakarta.apache.org>;
          Thu, 23 Dec 2004 13:11:04 -0500
Received: from giant-pandas.net (localhost [127.0.0.1])
	by host21.the-web-host.com (8.12.10/8.12.9) with ESMTP id iBNIDsCC003840
	for <*Email Address Suppressed*>; Thu, 23 Dec 2004 13:13:54 -0500
From: roy-lucene-user@xemaps.com
To: lucene-user@jakarta.apache.org                                                                                                                                                                                                                                 
Subject: Re: search question
Date: Thu, 23 Dec 2004 13:13:54 -0500
Message-Id: <20041223181354.M63838@giant-pandas.net>
In-Reply-To: <09A69259-5473-11D9-ACB0-000A95BC61B6@ehatchersolutions.com>
References: <20041222225043.27D8013E2008@ehatchersolutions.com>
 <09A69259-5473-11D9-ACB0-000A95BC61B6@ehatchersolutions.com>
X-Mailer: Open WebMail 1.81 20021127
X-OriginatingIP: 209.21.98.168 (roy)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

They both use the StandardAnalyzer... however looking at the toString() makes
everything clearer.  In the case a string has the following email address:
first.last@domain.com, it gets split like so: first.last domain.com

However in 1.4 it does not get split.

So now we just check to see if an index was built using 1.2 or 1.4 and have
some checks thrown in.

Thanks for the guidance.

Roy.

On Wed, 22 Dec 2004 18:41:44 -0500, Erik Hatcher wrote
> What does toString() return for each of those queries?  Are you 
> using the same analyzer in both cases?
> 
> 	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 19:19:08 2004
Return-Path: 
 <lucene-user-return-12110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55124 invoked from network); 23 Dec 2004 19:19:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 19:19:08 -0000
Received: (qmail 58676 invoked by uid 500); 23 Dec 2004 19:19:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58468 invoked by uid 500); 23 Dec 2004 19:18:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58430 invoked by uid 99); 23 Dec 2004 19:18:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 11:18:54 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with
 ESMTP id iBNJIpxT030108
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 13:18:51 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com
 [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id
 iBNJITYw79315234
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 11:18:29 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com
 [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id
 iBNJIoad18608588
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 14:18:50 -0500 (EST)
Message-ID: <41CB1A17.7040302@sgi.com>
Date: Thu, 23 Dec 2004 14:18:47 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Multiple collections
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm investigating search engines and have started to look at Lucene.  I 
have a couple of questions, however.  The faq seems to indicate we can't 
do searches and indexing at the same time.  Is that still true, given 
that the faq is a few years old now?  If so is there locking going on or 
do I have to do it myself?

We have currently about 4 million documents comprised of  about 16 
million terms.  This is currently broken up into about 50 different 
collections which are separate "databases".  Some of these collections 
are producted by a web crawler, some are produced by indexing a static 
file tree and some are produced via a feed from another system, which 
either adds new documents to a collection or replaces a document.  There 
are really 2 questions.  Is this too much data for Lucene?  And is there 
a way to keep separate collections (probably indexes) and search all 
(usually just a subset) of them at once?  I see the MultiSearcher object 
that may be the ticket, but IMHO javadocs leave a lot to be desired in 
the way of documentation.  They seem to completely leave out the "glue" 
and examples.

Thanks for any advice.

Jim.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 19:34:04 2004
Return-Path: 
 <lucene-user-return-12111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62153 invoked from network); 23 Dec 2004 19:34:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 19:34:04 -0000
Received: (qmail 80166 invoked by uid 500); 23 Dec 2004 19:34:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79617 invoked by uid 500); 23 Dec 2004 19:33:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79601 invoked by uid 99); 23 Dec 2004 19:33:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net)
 (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 11:33:55 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20041223193352014000ddsce>; Thu, 23 Dec 2004 19:33:52 +0000
Message-ID: <41CB1D9F.9070407@apache.org>
Date: Thu, 23 Dec 2004 11:33:51 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: CFS file and file formats
References: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE8@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAE8@MUSCOVITE.OPIN.COM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Steve Rajavuori wrote:
> 1) First of all, there are both CFS files and standard (non-compound) files
> in this directory, and all of them have recent update dates, so I assume
> they are all being used. My code never explicitly sets the compound file
> flag, so I don't know how this happened.

This can happen if your application crashes while the index was being 
updated.  In this case these were never entered into the segments file 
and may be partially written.

> 2) Is there a way to force all files into compound mode? For example, if I
> set the compound setting, then call optimize, will that recreate everything
> into the CFS format?

It should.  Except, on Windows not all old CFS file will be deleted 
immediately, but may instead be listed in the 'deleteable' file for a while.

> 3) There are several other large .CFS files in this directory that I think
> have somehow become detached from the index. They have recent update dates
> -- however, the last time I ran optimize these were not touched, and they
> are not being updated now. I know these segments have valid data, because
> now when I search I am missing large chunks of data -- which I assume is in
> these detached segments. So my thought is to edit the 'segments' file to
> make Lucene recognize these again -- but I need to know the correct segment
> size in order to do this. So how do I determine what the correct segment
> size should be?

These could also be the result of crashes.  In this case they may be 
partially written.

The safest approach is to remove files not mentioned in the segments 
file and update the index with the missing documents.  How does your 
application recover if it crashes during an update?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 19:43:22 2004
Return-Path: 
 <lucene-user-return-12112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65652 invoked from network); 23 Dec 2004 19:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 19:43:22 -0000
Received: (qmail 93632 invoked by uid 500); 23 Dec 2004 19:43:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93409 invoked by uid 500); 23 Dec 2004 19:43:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93394 invoked by uid 99); 23 Dec 2004 19:43:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 11:43:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D1A4713E200A; Thu, 23 Dec 2004 14:43:07 -0500 (EST)
Received: from [192.168.1.102]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id A046D13E200B
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 14:42:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41CB1A17.7040302@sgi.com>
References: <41CB1A17.7040302@sgi.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D1A23018-551A-11D9-A991-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple collections
Date: Thu, 23 Dec 2004 14:42:45 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 23, 2004, at 2:18 PM, Jim Lynch wrote:
> I'm investigating search engines and have started to look at Lucene.  
> I have a couple of questions, however.  The faq seems to indicate we 
> can't do searches and indexing at the same time.

Where in the FAQ does it indicate this?  This is incorrect.  And I 
don't think this has ever been the case for Lucene.  Indexing and 
searching can most definitely occur at the same time.

> We have currently about 4 million documents comprised of  about 16 
> million terms.  This is currently broken up into about 50 different 
> collections which are separate "databases".  Some of these collections 
> are producted by a web crawler, some are produced by indexing a static 
> file tree and some are produced via a feed from another system, which 
> either adds new documents to a collection or replaces a document.  
> There are really 2 questions.  Is this too much data for Lucene?

It is not too much data for Lucene.  Your architecture around Lucene is 
the more important aspect.

>   And is there a way to keep separate collections (probably indexes) 
> and search all (usually just a subset) of them at once?  I see the 
> MultiSearcher object that may be the ticket, but IMHO javadocs leave a 
> lot to be desired in the way of documentation.  They seem to 
> completely leave out the "glue" and examples.

MultiSearcher is pretty trivial to use.  There is an example in Lucene 
in Action's source code ("ant SearchServer") and I'm using a 
MultiSearcher for the upcoming lucenebook.com site like this:

     Searchable[] searchables = new Searchable[indexes.length];

     for (int i = 0; i < indexes.length; i++) {
       searchables[i] = new IndexSearcher(indexes[i]);
     }

     searcher = new MultiSearcher(searchables);

Use MultiSearcher in the same manner as you would IndexSearcher.  You 
can also find out which index a particular hit was from using the 
subSearcher method.

As for your comment about the javadocs, allow me to refer you to 
Lucene's test suite.  TestMultiSearcher.java in this case.  This is the 
best "documentation" there is!  (besides Lucene in Action, of course :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 19:56:28 2004
Return-Path: 
 <lucene-user-return-12113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72358 invoked from network); 23 Dec 2004 19:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 19:56:28 -0000
Received: (qmail 18000 invoked by uid 500); 23 Dec 2004 19:56:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17742 invoked by uid 500); 23 Dec 2004 19:56:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17726 invoked by uid 99); 23 Dec 2004 19:56:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 11:56:16 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 9686D5E168
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 13:56:15 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GDB29>; Thu, 23 Dec 2004 14:06:10 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAED@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: CFS file and file formats
Date: Thu, 23 Dec 2004 14:05:58 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug wrote:
<<The safest approach is to remove files not mentioned in the segments 
file and update the index with the missing documents.  How does your 
application recover if it crashes during an update?>>

There are around 20 million documents in the orphaned segments, so it would
take a very long time to update the index. Is there an "unsafe" way to edit
the segments file to add these back? It seems like the missing piece of
information I need to do this is the correct segment size -- where can I
find that?

My application doesn't really have any recovery method if it crashes. Can
you tell me what the proper error handling procedure is? If, in fact, these
segments were corrupted because the application crashed, what could I have
done programmatically to recover once that had happened?

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]
Sent: Thursday, December 23, 2004 1:34 PM
To: Lucene Users List
Subject: Re: CFS file and file formats


Steve Rajavuori wrote:
> 1) First of all, there are both CFS files and standard (non-compound)
files
> in this directory, and all of them have recent update dates, so I assume
> they are all being used. My code never explicitly sets the compound file
> flag, so I don't know how this happened.

This can happen if your application crashes while the index was being 
updated.  In this case these were never entered into the segments file 
and may be partially written.

> 2) Is there a way to force all files into compound mode? For example, if I
> set the compound setting, then call optimize, will that recreate
everything
> into the CFS format?

It should.  Except, on Windows not all old CFS file will be deleted 
immediately, but may instead be listed in the 'deleteable' file for a while.

> 3) There are several other large .CFS files in this directory that I think
> have somehow become detached from the index. They have recent update dates
> -- however, the last time I ran optimize these were not touched, and they
> are not being updated now. I know these segments have valid data, because
> now when I search I am missing large chunks of data -- which I assume is
in
> these detached segments. So my thought is to edit the 'segments' file to
> make Lucene recognize these again -- but I need to know the correct
segment
> size in order to do this. So how do I determine what the correct segment
> size should be?

These could also be the result of crashes.  In this case they may be 
partially written.

The safest approach is to remove files not mentioned in the segments 
file and update the index with the missing documents.  How does your 
application recover if it crashes during an update?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 20:16:10 2004
Return-Path: 
 <lucene-user-return-12114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90722 invoked from network); 23 Dec 2004 20:16:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 20:16:10 -0000
Received: (qmail 55478 invoked by uid 500); 23 Dec 2004 20:16:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55442 invoked by uid 500); 23 Dec 2004 20:16:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55426 invoked by uid 99); 23 Dec 2004 20:16:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net)
 (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 12:15:57 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20041223201555014000d2j1e>; Thu, 23 Dec 2004 20:15:55 +0000
Message-ID: <41CB277A.5020102@apache.org>
Date: Thu, 23 Dec 2004 12:15:54 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: CFS file and file formats
References: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAED@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA0169DAED@MUSCOVITE.OPIN.COM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Steve Rajavuori wrote:
> There are around 20 million documents in the orphaned segments, so it would
> take a very long time to update the index. Is there an "unsafe" way to edit
> the segments file to add these back? It seems like the missing piece of
> information I need to do this is the correct segment size -- where can I
> find that?

Do the CFS and non-CVS segment names correspond?  If so, then it 
probably crashed after the segment was complete, but perhaps before it 
was packed into a CFS file.  So I'd trust the non-CFS stuff first.  And 
it's easy to see the size of a non-CVS segement: it's just the number of 
bytes in each of the .f* files.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 20:29:38 2004
Return-Path: 
 <lucene-user-return-12115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3018 invoked from network); 23 Dec 2004 20:29:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 20:29:38 -0000
Received: (qmail 79605 invoked by uid 500); 23 Dec 2004 20:29:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79579 invoked by uid 500); 23 Dec 2004 20:29:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79555 invoked by uid 99); 23 Dec 2004 20:29:31 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 12:29:26 -0800
Received: from internal-mail-relay.corp.sgi.com
 (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id
 iBNLqOOl003750
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 13:52:24 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com
 [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2)
 with ESMTP id iBNKTOXd167397292
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 12:29:24 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com
 [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id
 iBNKTNad18566832
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 15:29:24 -0500 (EST)
Message-ID: <41CB2AA1.3050001@sgi.com>
Date: Thu, 23 Dec 2004 15:29:21 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Multiple collections
References: <41CB1A17.7040302@sgi.com>
 <D1A23018-551A-11D9-A991-000393A564E6@ehatchersolutions.com>
In-Reply-To: <D1A23018-551A-11D9-A991-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Erik,

I've been perusing the mail list today and see your name often.  As well 
as visiting the web site advertising your book.  If we decide to go this 
way, I'll be sure to pick up a copy.

The FAQ number 41 on page 
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq 
implies a problem with searching and indexing at the same time, unless 
I'm misunderstanding what it says.

So it is kosher to download the source code before buying the book?  I 
tend not to do that for a couple of reasons, it doesn't seem right and 
frequently authors go out of their way to make sure it's not very useful 
without the book.   Not that I consider that unfair, mind you.  It's 
just a common practice from my experience.

Any way thanks for the info. 

So what you are saying if I can read between the lines and extrapolate 
from what I've read, is that I can create an index for each of my 
collections as I see fit, putting them in separate directories and when 
I need to search I can select a subset of the directories with the 
MultiSearcher.  Since the user selects which collections he wants to 
search from via checkboxes, I can build a list of searchables to pass to 
MultiSearcher.  However, looking at the javadocs I see Searchable is an 
interface.  Hm, I'll have to look at some code to see how that works.

Thanks, you've given me something to chew on.

Jim.

At the risk of  being politically incorrect, Merry Christmas to you 
all.  Not that I care a whit about political correctness.  8)

Erik Hatcher wrote:

> On Dec 23, 2004, at 2:18 PM, Jim Lynch wrote:
>
>> I'm investigating search engines and have started to look at Lucene.  
>> I have a couple of questions, however.  The faq seems to indicate we 
>> can't do searches and indexing at the same time.
>
>
> Where in the FAQ does it indicate this?  This is incorrect.  And I 
> don't think this has ever been the case for Lucene.  Indexing and 
> searching can most definitely occur at the same time.
>
>> We have currently about 4 million documents comprised of  about 16 
>> million terms.  This is currently broken up into about 50 different 
>> collections which are separate "databases".  Some of these 
>> collections are producted by a web crawler, some are produced by 
>> indexing a static file tree and some are produced via a feed from 
>> another system, which either adds new documents to a collection or 
>> replaces a document.  There are really 2 questions.  Is this too much 
>> data for Lucene?
>
>
> It is not too much data for Lucene.  Your architecture around Lucene 
> is the more important aspect.
>
>>   And is there a way to keep separate collections (probably indexes) 
>> and search all (usually just a subset) of them at once?  I see the 
>> MultiSearcher object that may be the ticket, but IMHO javadocs leave 
>> a lot to be desired in the way of documentation.  They seem to 
>> completely leave out the "glue" and examples.
>
>
> MultiSearcher is pretty trivial to use.  There is an example in Lucene 
> in Action's source code ("ant SearchServer") and I'm using a 
> MultiSearcher for the upcoming lucenebook.com site like this:
>
>     Searchable[] searchables = new Searchable[indexes.length];
>
>     for (int i = 0; i < indexes.length; i++) {
>       searchables[i] = new IndexSearcher(indexes[i]);
>     }
>
>     searcher = new MultiSearcher(searchables);
>
> Use MultiSearcher in the same manner as you would IndexSearcher.  You 
> can also find out which index a particular hit was from using the 
> subSearcher method.
>
> As for your comment about the javadocs, allow me to refer you to 
> Lucene's test suite.  TestMultiSearcher.java in this case.  This is 
> the best "documentation" there is!  (besides Lucene in Action, of 
> course :)
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 21:18:01 2004
Return-Path: 
 <lucene-user-return-12116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21475 invoked from network); 23 Dec 2004 21:18:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 21:18:01 -0000
Received: (qmail 52529 invoked by uid 500); 23 Dec 2004 21:17:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52142 invoked by uid 500); 23 Dec 2004 21:17:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52128 invoked by uid 99); 23 Dec 2004 21:17:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 13:17:52 -0800
Received: from [192.168.0.5] (dsl027-183-034.sfo1.dsl.speakeasy.net
 [216.27.183.34])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id iBNLHodM013111
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 13:17:50 -0800
Message-ID: <41CB35F9.7000104@newsmonster.org>
Date: Thu, 23 Dec 2004 13:17:45 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: nable to read TLD "META-INF/c.tld" from JAR file ... standard.jar
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What in the world is up with this exception?

We've migrated to using pre-compiled JSPs in Tomcat 5.5 for performance reasons but if 
I try to start with a FRESH webapp or try to update any of the JSPs and in-place and 
recompile I'll get this error:

Any idea?

I thought maybe the .jar files were corrupt but if I md5sum them they are identical to 
production and the Tomcat standard dist.

Thoughts?

org.apache.jasper.JasperException: /subscriptions/index.jsp(1,1) /init.jsp(2,0) Unable to read TLD "META-INF/c.tld" from JAR file "file:/usr/local/jakarta-tomcat-5.5.4/webapps/rojo/ROOT/WEB-INF/lib/standard.jar": org.apache.jasper.JasperException: Failed to load or instantiate TagLibraryValidator class: org.apache.taglibs.standard.tlv.JstlCoreTLV
	org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:39)
	org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:405)
	org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:86)
	org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:339)
	org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:372)
	org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475)
	org.apache.jasper.compiler.Parser.parseElements(Parser.java:1539)
	org.apache.jasper.compiler.Parser.parse(Parser.java:126)
	org.apache.jasper.compiler.ParserController.doParse(ParserController.java:211)
	org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)
	org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:146)
	org.apache.jasper.compiler.Compiler.compile(Compiler.java:286)
	org.apache.jasper.compiler.Compiler.compile(Compiler.java:267)
	org.apache.jasper.compiler.Compiler.compile(Compiler.java:255)
	org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:556)
	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:296)
	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)
	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:245)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)


-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 21:18:57 2004
Return-Path: 
 <lucene-user-return-12117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21848 invoked from network); 23 Dec 2004 21:18:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 21:18:57 -0000
Received: (qmail 54127 invoked by uid 500); 23 Dec 2004 21:18:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54098 invoked by uid 500); 23 Dec 2004 21:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54085 invoked by uid 99); 23 Dec 2004 21:18:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 13:18:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 34CB613E200B; Thu, 23 Dec 2004 16:18:44 -0500 (EST)
Received: from [192.168.1.100]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id CD5C413E200A
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 16:18:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41CB2AA1.3050001@sgi.com>
References: <41CB1A17.7040302@sgi.com>
 <D1A23018-551A-11D9-A991-000393A564E6@ehatchersolutions.com>
 <41CB2AA1.3050001@sgi.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <34F0C1BA-5528-11D9-A991-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple collections
Date: Thu, 23 Dec 2004 16:18:35 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 23, 2004, at 3:29 PM, Jim Lynch wrote:
> I've been perusing the mail list today and see your name often.

I really should get out more often.

> The FAQ number 41 on page  
> http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi? 
> file=chapter.search&toc=faq implies a problem with searching and  
> indexing at the same time, unless I'm misunderstanding what it says.

Ah... the issue is that an IndexReader/IndexSearcher that was  
constructed *before* documents were added will not see the new  
documents.  Searching still works successfully.  After you add  
documents, to find them you must use a new instance of  
IndexSearcher/IndexReader.  That FAQ is somewhat misleading I suppose.   
This FAQ will be deprecated in favor of the wiki, I hope:

	http://wiki.apache.org/jakarta-lucene/LuceneFAQ

> So it is kosher to download the source code before buying the book?

No objections from me.  It's made freely available to help sell the  
book of course, but here's one well known secret about writing books,  
authors don't make (much) money on them.  Basically Otis and I are  
completely insane.  http://www.blogscene.org/erik/Writing/demons.txt

>   I tend not to do that for a couple of reasons, it doesn't seem right  
> and frequently authors go out of their way to make sure it's not very  
> useful without the book.   Not that I consider that unfair, mind you.   
> It's just a common practice from my experience.

I've not heard of anyone making the code less useful on purpose.  After  
spending 14 months writing a book, though, it is hard to muster up the  
desire to polish off some source code.  You've hacked examples  
throughout, and there is nothing coherent to give away other than  
5-line snippets.  The most difficult thing to do when writing a book is  
try to come up with some theme or application for all the code.  For  
the Ant book it worked out nicely (a Lucene-based document/image search  
engine).  For Lucene in Action, there are so many variations that need  
to be shown that a single application to cover all the cases would be  
far too contrived.  I have a personal distaste for most of the code I  
see in books myself, and Otis and I worked hard to keep the examples  
relevant and useful.  The examples are mostly JUnit test cases.  When  
we broke the code we knew pretty quickly.  I'm proud of the code, and  
also quite proud of the way I packaged it.  I got to show off my Ant  
skillz to launch it all.  Fire it up and enjoy (or at least report back  
any suggestions or problems you have).

How useful the examples are without the book itself, though, is a tough  
one.  It is hard to package up 421 pages (I have physical copies of LIA  
in my hands as we speak!) of meaningful discourse into some example  
code.  It certainly isn't intentional to make the code less than  
useful, but there are certainly lots of explanations to go along with  
that code.

If anyone finds the example code difficult to understand without the  
book, though, by all means let me know.  I'd be happy to explain it  
here or post it to the blog I'll have live at lucenebook.com soon.

> So what you are saying if I can read between the lines and extrapolate  
> from what I've read, is that I can create an index for each of my  
> collections as I see fit, putting them in separate directories and  
> when I need to search I can select a subset of the directories with  
> the MultiSearcher.  Since the user selects which collections he wants  
> to search from via checkboxes, I can build a list of searchables to  
> pass to MultiSearcher.  However, looking at the javadocs I see  
> Searchable is an interface.  Hm, I'll have to look at some code to see  
> how that works.

No need to extrapolate too much.  IndexSearcher is an instanceof  
Searchable.  Here's the code :)

>
>>     Searchable[] searchables = new Searchable[indexes.length];
>>
>>     for (int i = 0; i < indexes.length; i++) {
>>       searchables[i] = new IndexSearcher(indexes[i]);
>>     }
>>
>>     searcher = new MultiSearcher(searchables);

	Erik

p.s. There is an issue with MultiSearcher and how it scores documents  
across multiple indexes that has recently been discussed.  It is in  
Bugzilla issue tracking system and e-mail archives.  I don't find it  
much of a problem (yet) as I've only just begun to use MultiSearcher in  
a production environment.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 22:09:47 2004
Return-Path: 
 <lucene-user-return-12118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40706 invoked from network); 23 Dec 2004 22:09:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 22:09:47 -0000
Received: (qmail 37858 invoked by uid 500); 23 Dec 2004 22:09:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37839 invoked by uid 500); 23 Dec 2004 22:09:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37825 invoked by uid 99); 23 Dec 2004 22:09:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 14:09:37 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 32B0C13E200B; Thu, 23 Dec 2004 17:09:36 -0500 (EST)
Received: from [192.168.1.100]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 9123113E200A
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 17:09:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41CB35F9.7000104@newsmonster.org>
References: <41CB35F9.7000104@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <51C3F4D7-552F-11D9-B4E4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: nable to read TLD "META-INF/c.tld" from JAR file ... standard.jar
Date: Thu, 23 Dec 2004 17:09:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wrong list.

Though perhaps you should be using Jetty ;)

	Erik


On Dec 23, 2004, at 4:17 PM, Kevin A. Burton wrote:

> What in the world is up with this exception?
>
> We've migrated to using pre-compiled JSPs in Tomcat 5.5 for  
> performance reasons but if I try to start with a FRESH webapp or try  
> to update any of the JSPs and in-place and recompile I'll get this  
> error:
>
> Any idea?
>
> I thought maybe the .jar files were corrupt but if I md5sum them they  
> are identical to production and the Tomcat standard dist.
>
> Thoughts?
>
> org.apache.jasper.JasperException: /subscriptions/index.jsp(1,1)  
> /init.jsp(2,0) Unable to read TLD "META-INF/c.tld" from JAR file  
> "file:/usr/local/jakarta-tomcat-5.5.4/webapps/rojo/ROOT/WEB-INF/lib/ 
> standard.jar": org.apache.jasper.JasperException: Failed to load or  
> instantiate TagLibraryValidator class:  
> org.apache.taglibs.standard.tlv.JstlCoreTLV
> 	 
> org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHan 
> dler.java:39)
> 	 
> org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.jav 
> a:405)
> 	 
> org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.jav 
> a:86)
> 	 
> org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java: 
> 339)
> 	org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java: 
> 372)
> 	org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475)
> 	org.apache.jasper.compiler.Parser.parseElements(Parser.java:1539)
> 	org.apache.jasper.compiler.Parser.parse(Parser.java:126)
> 	 
> org.apache.jasper.compiler.ParserController.doParse(ParserController.ja 
> va:211)
> 	 
> org.apache.jasper.compiler.ParserController.parse(ParserController.java 
> :100)
> 	org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:146)
> 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:286)
> 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:267)
> 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:255)
> 	 
> org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.j 
> ava:556)
> 	 
> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j 
> ava:296)
> 	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java: 
> 295)
> 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:245)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>
>
> -- 
>
> Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an  
> invite!  Also see irc.freenode.net #rojo if you want to chat.
>
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
>
> If you're interested in RSS, Weblogs, Social Networking, etc... then  
> you should work for Rojo!  If you recommend someone and we hire them  
> you'll get a free iPod!
>    Kevin A. Burton, Location - San Francisco, CA
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 22:21:35 2004
Return-Path: 
 <lucene-user-return-12119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46457 invoked from network); 23 Dec 2004 22:21:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 22:21:35 -0000
Received: (qmail 54816 invoked by uid 500); 23 Dec 2004 22:21:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54797 invoked by uid 500); 23 Dec 2004 22:21:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54780 invoked by uid 99); 23 Dec 2004 22:21:29 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 23 Dec 2004 14:21:26 -0800
Received: (qmail 12120 invoked by uid 60001); 23 Dec 2004 22:21:24 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=vRKmo4MiyAh9RXQ5KLB2RA+2CnXaNjXS99XbambtXrv+sv9s1r+afgqEtC82enPxTtqxU/MNjvIS51ZLTPo6WVN6kAjM2VZXVixxWDfA7AqG0MgXHoP7JTUL2cCZgcaTF2O07Q76h6ChNSIJVhKoVv+mqylz3jXAkUYsBSsUJhw=
  ;
Message-ID: <20041223222124.12118.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Thu, 23 Dec 2004 14:21:24 PST
Date: Thu, 23 Dec 2004 14:21:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: nable to read TLD "META-INF/c.tld" from JAR file ... standard.jar
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <51C3F4D7-552F-11D9-B4E4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Most definitely Jetty.  I can't believe you're using Tomcat for Rojo!
;)

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> Wrong list.
> 
> Though perhaps you should be using Jetty ;)
> 
> 	Erik
> 
> 
> On Dec 23, 2004, at 4:17 PM, Kevin A. Burton wrote:
> 
> > What in the world is up with this exception?
> >
> > We've migrated to using pre-compiled JSPs in Tomcat 5.5 for  
> > performance reasons but if I try to start with a FRESH webapp or
> try  
> > to update any of the JSPs and in-place and recompile I'll get this 
> 
> > error:
> >
> > Any idea?
> >
> > I thought maybe the .jar files were corrupt but if I md5sum them
> they  
> > are identical to production and the Tomcat standard dist.
> >
> > Thoughts?
> >
> > org.apache.jasper.JasperException: /subscriptions/index.jsp(1,1)  
> > /init.jsp(2,0) Unable to read TLD "META-INF/c.tld" from JAR file  
> >
> "file:/usr/local/jakarta-tomcat-5.5.4/webapps/rojo/ROOT/WEB-INF/lib/ 
> > standard.jar": org.apache.jasper.JasperException: Failed to load or
>  
> > instantiate TagLibraryValidator class:  
> > org.apache.taglibs.standard.tlv.JstlCoreTLV
> > 	 
> >
>
org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHan
> 
> > dler.java:39)
> > 	 
> >
>
org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.jav
> 
> > a:405)
> > 	 
> >
>
org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.jav
> 
> > a:86)
> > 	 
> >
>
org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:
> 
> > 339)
> > 
> org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java: 
> > 372)
> > 	org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475)
> > 	org.apache.jasper.compiler.Parser.parseElements(Parser.java:1539)
> > 	org.apache.jasper.compiler.Parser.parse(Parser.java:126)
> > 	 
> >
>
org.apache.jasper.compiler.ParserController.doParse(ParserController.ja
> 
> > va:211)
> > 	 
> >
>
org.apache.jasper.compiler.ParserController.parse(ParserController.java
> 
> > :100)
> > 
> org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:146)
> > 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:286)
> > 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:267)
> > 	org.apache.jasper.compiler.Compiler.compile(Compiler.java:255)
> > 	 
> >
>
org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.j
> 
> > ava:556)
> > 	 
> >
>
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.j
> 
> > ava:296)
> > 
> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java: 
> > 295)
> > 	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:245)
> > 	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> >
> >
> > -- 
> >
> > Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for
> an  
> > invite!  Also see irc.freenode.net #rojo if you want to chat.
> >
> > Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
> >
> > If you're interested in RSS, Weblogs, Social Networking, etc...
> then  
> > you should work for Rojo!  If you recommend someone and we hire
> them  
> > you'll get a free iPod!
> >    Kevin A. Burton, Location - San Francisco, CA
> >       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> > GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 23 23:15:47 2004
Return-Path: 
 <lucene-user-return-12120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62862 invoked from network); 23 Dec 2004 23:15:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Dec 2004 23:15:47 -0000
Received: (qmail 28354 invoked by uid 500); 23 Dec 2004 23:15:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27536 invoked by uid 500); 23 Dec 2004 23:15:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27521 invoked by uid 99); 23 Dec 2004 23:15:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from valley.nettas.net (HELO valley.nettas.net) (202.7.15.73)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 15:15:39 -0800
Received: from valley.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 578D113B3
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 10:15:34 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au
 [147.41.65.12])
	by valley.nettas.net (Postfix) with ESMTP id 06E19AA
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 10:15:34 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Fri, 24 Dec 2004 10:15:33 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Exception: cannot determine sort type
Date: Fri, 24 Dec 2004 10:15:33 +1100
X-Assembled-By: XWall v3.31
Message-ID: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169E@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the replies!  It would seem best for us to move to specifying
the sort type--good practice anyway and prevents possible field
problems.  I plan to run the stress testing again today but turning off
the sorting (just using default SCORE) and see how that goes.

Seasons greetings to you all.
--Leto


Daniel Naber wrote:
> Is it a certain query that causes this? Does it really only=20
> happen under=20
> load or does the same query also give this without load?

Each page on our website gathers content from Lucene using predefined
queries, kind of like a database.  The odd thing: I can not replicate
the problem if I browse the site casually.  It's only under this stress
testing that the problem occurs.  It does not happen on specific
pages/queries, but more random--about every second to fourth query has
the exception.

Makes me wonder if our code is crossing over somewhere when multiple
queries are performed at the same time.


Erik Hatcher wrote:
> The issue occurs if the first field it accesses parses as a numeric=20
> value and then successive fields are String's.  If you are mixing and=20
> matching numeric and text information in this Title_Sort field you=20
> should specify the type.

Chris Hostetter wrote:
> I could be wrong, but if i remember right, the code that AUTO uses=20
> to determine what sort type to use will treat it as a number if it=20
> *starts* with something that looks like a number ... so look for
titles=20
> like "1000 year plan" in your data.

That makes sense. Our titles would sometimes contain, even start with,
numbers.


Erik Hatcher wrote:
> *Everything* in Lucene is indexed as a string.  But how a=20
> date looks as=20
> a string is a topic unto itself.  I prefer to use YYYYMMDD as a date=20
> formatted as a string (but when sorting, this could be treated as a=20
> numeric).

Will RangeQuery still work with that?  We do have separate date fields
which are indexed like the following code, but a move to the YYYYMMDD
format might be good as then we could apply a blanket String-type sort.

public static Date parseDate( String s )
=20  DateFormat dateFormat =3D new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
=20  return dateFormat.parse(s);
}
doc[0].add(Field.Keyword(field, parseDate( dateInString )));


CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 00:04:34 2004
Return-Path: 
 <lucene-user-return-12122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94173 invoked from network); 24 Dec 2004 00:04:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 00:04:34 -0000
Received: (qmail 78633 invoked by uid 500); 24 Dec 2004 00:04:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78602 invoked by uid 500); 24 Dec 2004 00:04:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78582 invoked by uid 99); 24 Dec 2004 00:04:29 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vic-ironport-ext-out1.csiro.au (HELO
 vic-ironport-ext-out1.csiro.au) (150.229.64.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 16:04:24 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by vic-ironport-ext-out1.csiro.au with SMTP; 24 Dec 2004 11:04:20 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,85,1102251600";
   d="scan'208"; a="18035250:sNHT19284620"
Received: from EXACTN1-CBR.nexus.csiro.au ([152.83.3.131]) by
 exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 10:56:01 +1100
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by
 EXACTN1-CBR.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 10:56:01 +1100
Received: from [144.110.32.63] ([144.110.32.63]) by EXSA2-ADL.sa.csiro.au with
 Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 10:26:01 +1030
Message-ID: <41CB5B10.5080405@csiro.au>
Date: Fri, 24 Dec 2004 09:56:00 +1000
From: Andrew Cunningham <cun063@csiro.au>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412231125.08453@danielnaber.de>
In-Reply-To: <200412231125.08453@danielnaber.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 Dec 2004 23:56:01.0046 (UTC)
 FILETIME=[F4670360:01C4E94A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah, so is it possible to return the number of times a term appears?

Daniel Naber wrote:

>On Thursday 23 December 2004 07:50, Andrew.Cunningham@csiro.au wrote:
>
>  
>
>>1.      To be able to return the number of times the word appears in all
>>the documents (which it looks like lucene can do through IndexReader)
>>    
>>
>
>If you're referring to docFreq(Term t) , that will only return the number 
>of documents that contain the term, ignoring how often the term occurs in 
>these documents.
>
>Regards
> Daniel
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 00:17:38 2004
Return-Path: 
 <lucene-user-return-12123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97301 invoked from network); 24 Dec 2004 00:17:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 00:17:38 -0000
Received: (qmail 95302 invoked by uid 500); 24 Dec 2004 00:17:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94987 invoked by uid 500); 24 Dec 2004 00:17:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94972 invoked by uid 99); 24 Dec 2004 00:17:33 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vic-ironport-ext-out1.csiro.au (HELO
 vic-ironport-ext-out1.csiro.au) (150.229.64.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 16:17:29 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by vic-ironport-ext-out1.csiro.au with SMTP; 24 Dec 2004 11:17:27 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,85,1102251600";
   d="scan'208"; a="18037087:sNHT20606584"
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by
 exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 11:17:26 +1100
Received: from [144.110.32.63] ([144.110.32.63]) by EXSA2-ADL.sa.csiro.au with
 Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 10:47:26 +1030
Message-ID: <41CB6016.4050309@csiro.au>
Date: Fri, 24 Dec 2004 10:17:26 +1000
From: Andrew Cunningham <cun063@csiro.au>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl>
In-Reply-To: <200412230840.01287.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 24 Dec 2004 00:17:26.0765 (UTC)
 FILETIME=[F2C029D0:01C4E94D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

"computer dog"~50 looks like what I'm after - now is there someway I can 
call this and pull
out the number of total occurances, not just the number of documents 
hits? (say if computer
and dog occur near each other several times in the same document).

Paul Elschot wrote:

>On Thursday 23 December 2004 07:50, Andrew.Cunningham@csiro.au wrote:
>  
>
>>Hi all,
>>
>>I have a curious problem, and initial poking around with Lucene looks
>>like it may only be able to half-handle the problem.
>>
>> 
>>
>>The problem requires two abilities:
>>
>>1.	To be able to return the number of times the word appears in all
>>the documents (which it looks like lucene can do through IndexReader) 
>>2.	To be able to return the number of word co-occurrences within
>>the document set (ie. How many times does "computer" appear within 50
>>words of  "dog") 
>>
>> 
>>
>>Is the second point possible?
>>    
>>
>
>You can use the standard query parser with a query like this:
>"dog computer"~50
>This query is not completely symmetric in the distance computation:
>when computer occurs before dog, the allowed distance is 49, iirc.
>
>There is also a SpanNearQuery for more generalized and flexible
>distance queries, but this is not supported by the query parser,
>so you'll have to construct these queries in your own program code.
>
>In case you have non standard retrieval requirements, eg. you only
>need the number of hits and no further information from the matching
>documents, you may consider using your own HitCollector on the
>lower level search methods.
>
>Regards,
>Paul Elschot
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 00:38:18 2004
Return-Path: 
 <lucene-user-return-12124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2275 invoked from network); 24 Dec 2004 00:38:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 00:38:18 -0000
Received: (qmail 16084 invoked by uid 500); 24 Dec 2004 00:38:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15500 invoked by uid 500); 24 Dec 2004 00:38:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15487 invoked by uid 99); 24 Dec 2004 00:38:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net)
 (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 16:38:11 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2004122400380501500r99mfe>; Fri, 24 Dec 2004 00:38:09 +0000
Message-ID: <41CB64ED.7000208@apache.org>
Date: Thu, 23 Dec 2004 16:38:05 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl> <41CB6016.4050309@csiro.au>
In-Reply-To: <41CB6016.4050309@csiro.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrew Cunningham wrote:
> "computer dog"~50 looks like what I'm after - now is there someway I can 
> call this and pull
> out the number of total occurances, not just the number of documents 
> hits? (say if computer
> and dog occur near each other several times in the same document).

You could use a custom Similarity implementation for this query, where 
tf() is the identity function, idf() returns 1.0, etc., so that the 
final score is the occurance count.  You'll need to divide by 
Similarity.decodeNorm(indexReader.norms("field")[doc]) at the end to get 
rid of the lengthNorm() and field boost (if any).

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 00:46:32 2004
Return-Path: 
 <lucene-user-return-12125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4399 invoked from network); 24 Dec 2004 00:46:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 00:46:32 -0000
Received: (qmail 25610 invoked by uid 500); 24 Dec 2004 00:46:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25583 invoked by uid 500); 24 Dec 2004 00:46:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25568 invoked by uid 99); 24 Dec 2004 00:46:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net)
 (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 16:46:24 -0800
Received: from [192.168.168.81]
 (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004122400462201300140j0e>; Fri, 24 Dec 2004 00:46:23 +0000
Message-ID: <41CB66DE.4020805@apache.org>
Date: Thu, 23 Dec 2004 16:46:22 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl> <41CB6016.4050309@csiro.au>
 <41CB64ED.7000208@apache.org>
In-Reply-To: <41CB64ED.7000208@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> You could use a custom Similarity implementation for this query, where 
> tf() is the identity function, idf() returns 1.0, etc., so that the 
> final score is the occurance count.  You'll need to divide by 
> Similarity.decodeNorm(indexReader.norms("field")[doc]) at the end to get 
> rid of the lengthNorm() and field boost (if any).

Much simpler would be to build a SpanNearQuery, call getSpans(), then 
loop, counting how many times Spans.next() returns true.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 03:36:13 2004
Return-Path: 
 <lucene-user-return-12126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60481 invoked from network); 24 Dec 2004 03:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 03:36:13 -0000
Received: (qmail 14861 invoked by uid 500); 24 Dec 2004 03:36:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14037 invoked by uid 500); 24 Dec 2004 03:36:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14019 invoked by uid 99); 24 Dec 2004 03:36:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 19:36:06 -0800
Received: from [192.168.1.104] (dsl081-071-021.sfo1.dsl.speakeasy.net
 [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id iBO3ZxGw018072
	for <lucene-user@jakarta.apache.org>; Thu, 23 Dec 2004 19:36:04 -0800
Message-ID: <41CB8E9E.4070404@newsmonster.org>
Date: Thu, 23 Dec 2004 19:35:58 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: nable to read TLD "META-INF/c.tld" from JAR file ... standard.jar
References: <20041223222124.12118.qmail@web12708.mail.yahoo.com>
In-Reply-To: <20041223222124.12118.qmail@web12708.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>Most definitely Jetty.  I can't believe you're using Tomcat for Rojo!
>;)
>  
>
I never said we were using Tomcat for Rojo ;)

Sorry about that btw... wrong list!

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 05:40:18 2004
Return-Path: 
 <lucene-user-return-12127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98621 invoked from network); 24 Dec 2004 05:40:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 05:40:18 -0000
Received: (qmail 80236 invoked by uid 500); 24 Dec 2004 05:40:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79417 invoked by uid 500); 24 Dec 2004 05:40:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79400 invoked by uid 99); 24 Dec 2004 05:40:14 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from act-ironport-ext-out1.csiro.au (HELO
 act-ironport-ext-out1.csiro.au) (150.229.7.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 21:40:09 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by act-ironport-ext-out1.csiro.au with ESMTP; 24 Dec 2004 16:40:07 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,85,1102251600";
   d="scan'208"; a="22261766:sNHT21089032"
Received: from EXACTN1-CBR.nexus.csiro.au ([152.83.3.131]) by
 exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 16:40:06 +1100
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by
 EXACTN1-CBR.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 16:40:06 +1100
Received: from [144.110.32.63] ([144.110.32.63]) by EXSA2-ADL.sa.csiro.au with
 Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 24 Dec 2004 16:10:06 +1030
Message-ID: <41CBABB5.6080401@csiro.au>
Date: Fri, 24 Dec 2004 15:40:05 +1000
From: Andrew Cunningham <cun063@csiro.au>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl> <41CB6016.4050309@csiro.au>
 <41CB64ED.7000208@apache.org>
In-Reply-To: <41CB64ED.7000208@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 24 Dec 2004 05:40:06.0085 (UTC)
 FILETIME=[05CDF750:01C4E97B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug and all,

I'm intending to use Lucene to grab a lot of word co-occurance 
statistics out of a large corpus
to perform word disambiguation. Lucene's looking like a great option, 
but I appear to have hit
a snag. Here's my understanding:

1) Create a Similarity implementation, where:
        tf() returns freq
    sloppyFreq, idf, coord, return 1 (cause we only need to freq to score)
2) Perform the query
3) and then:
        word in document count = 
hits.score(k)/Similarity.decodeNorm(reader.norms("contents")[k])
4) A query call such as
        "computer dog"~50
    will return a count of 2 (I assume because the match occurs 
backwards and forwards).

My problem occurs when I have the following in a text file:
    computer ...(some words)... dog ...(some words)... computer
and I duplicate the text file several times over. Performing a the above 
query will return different
phrase counts per document?

Note: I'm just working with some modified demo code at the moment.

Thanks again,
Andrew


Doug Cutting wrote:

> Andrew Cunningham wrote:
>
>> "computer dog"~50 looks like what I'm after - now is there someway I 
>> can call this and pull
>> out the number of total occurances, not just the number of documents 
>> hits? (say if computer
>> and dog occur near each other several times in the same document).
>
>
> You could use a custom Similarity implementation for this query, where 
> tf() is the identity function, idf() returns 1.0, etc., so that the 
> final score is the occurance count.  You'll need to divide by 
> Similarity.decodeNorm(indexReader.norms("field")[doc]) at the end to 
> get rid of the lengthNorm() and field boost (if any).
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 06:09:32 2004
Return-Path: 
 <lucene-user-return-12128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7420 invoked from network); 24 Dec 2004 06:09:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 06:09:32 -0000
Received: (qmail 9187 invoked by uid 500); 24 Dec 2004 06:09:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9156 invoked by uid 500); 24 Dec 2004 06:09:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9143 invoked by uid 99); 24 Dec 2004 06:09:29 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail2.pershing.com (HELO mail2.pershing.com) (170.61.18.52)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 22:09:26 -0800
Received: from plzlmh02.pershing.com ([172.19.110.13])
          by mail2.pershing.com (Lotus Domino Release 6.0.4)
          with ESMTP id 2004122400490860-10287 ;
          Fri, 24 Dec 2004 00:49:08 -0500
Subject: Shui Cheung Yip/JerseyCity/iNautix is out of the office.
From: syip@pershing.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: 
 <OF3A163635.63DF2172-ON85256F74.0021CFDE-85256F74.0021CFDE@pershing.com>
Date: Fri, 24 Dec 2004 01:09:19 -0500
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on PLZLMH02/Pershing(Release 6.0.4|June 01,
 2004) at 12/24/2004
 01:09:22 AM,
	Itemize by SMTP Server on Pershing2/External(Release 6.0.4|June 01, 2004) at
 12/24/2004 12:49:08 AM,
	Serialize by Router on Pershing2/External(Release 6.0.4|June 01, 2004) at
 12/24/2004 12:49:11 AM,
	Serialize complete at 12/24/2004 12:49:11 AM
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will be out of the office starting  12/23/2004 and will not return until
12/28/2004.

 I will respond to your message when I return. For CashEdge Dev issues,
please contact  Aravind Ravi Subramania or  Subramaniam Sundaram,  In case
of emergency, I can be reached through OSS.

Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 06:56:22 2004
Return-Path: 
 <lucene-user-return-12129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20274 invoked from network); 24 Dec 2004 06:56:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 06:56:22 -0000
Received: (qmail 59582 invoked by uid 500); 24 Dec 2004 06:56:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58761 invoked by uid 500); 24 Dec 2004 06:56:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58744 invoked by uid 99); 24 Dec 2004 06:56:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 22:56:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 36FF413E28F8; Fri, 24 Dec 2004 01:56:12 -0500 (EST)
Received: from [192.168.1.100]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 5CA0913E28F7
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 01:56:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169E@edumail2.education.tas.gov.au>
References: 
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B9169E@edumail2.education.tas.gov.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6658E443-5578-11D9-8D00-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Exception: cannot determine sort type
Date: Fri, 24 Dec 2004 01:52:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 23, 2004, at 6:15 PM, Kauler, Leto S wrote:
> Erik Hatcher wrote:
>> *Everything* in Lucene is indexed as a string.  But how a
>> date looks as
>> a string is a topic unto itself.  I prefer to use YYYYMMDD as a date
>> formatted as a string (but when sorting, this could be treated as a
>> numeric).
>
> Will RangeQuery still work with that?  We do have separate date fields
> which are indexed like the following code, but a move to the YYYYMMDD
> format might be good as then we could apply a blanket String-type sort.
>
> public static Date parseDate( String s )
>    DateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
>    return dateFormat.parse(s);
> }
> doc[0].add(Field.Keyword(field, parseDate( dateInString )));

Using YYYYMMDD works better for RangeQuery than Field.Keyword(String, 
Date) does.  Using the built-in Date field goes down to the millisecond 
level.  If you have lots of documents on the same day, but different 
milliseconds, you end up with lots of terms.  RangeQuery expands into a 
BooleanQuery OR'd with all the matching terms.  BooleanQuery has a 
built-in default of 1,024 allowed clauses, otherwise you get a 
TooManyClauses exception.

YYYYMMDD is a numeric, and to sort by that field I'd recommend you use 
a numeric type as it'll use much less memory.  But certainly doing some 
tests between using a numeric vs. String sorting type is advisable and 
see how it performs with each.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 07:46:20 2004
Return-Path: 
 <lucene-user-return-12130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36387 invoked from network); 24 Dec 2004 07:46:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 07:46:20 -0000
Received: (qmail 11201 invoked by uid 500); 24 Dec 2004 07:46:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10378 invoked by uid 500); 24 Dec 2004 07:46:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10358 invoked by uid 99); 24 Dec 2004 07:46:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 23 Dec 2004 23:46:12 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7BB6613E28F7; Fri, 24 Dec 2004 02:46:09 -0500 (EST)
Received: from [192.168.1.100]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id EA5D713E200B
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 02:46:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41CBABB5.6080401@csiro.au>
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl> <41CB6016.4050309@csiro.au>
 <41CB64ED.7000208@apache.org> <41CBABB5.6080401@csiro.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DBA8C106-557F-11D9-B53D-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Word co-occurrences counts
Date: Fri, 24 Dec 2004 02:46:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 24, 2004, at 12:40 AM, Andrew Cunningham wrote:
> 3) and then:
>        word in document count = 
> hits.score(k)/Similarity.decodeNorm(reader.norms("contents")[k])

You should use hits.id(k), not k, as the index to 
reader.norms("contents").

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 16:26:55 2004
Return-Path: 
 <lucene-user-return-12131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37885 invoked from network); 24 Dec 2004 16:26:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 16:26:55 -0000
Received: (qmail 60165 invoked by uid 500); 24 Dec 2004 16:26:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60111 invoked by uid 500); 24 Dec 2004 16:26:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60087 invoked by uid 99); 24 Dec 2004 16:26:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp06.web.de (HELO smtp06.web.de) (217.72.192.224)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 24 Dec 2004 08:26:43 -0800
Received: from [217.238.25.155] (helo=michael)
	by smtp06.web.de with asmtp (WEB.DE 4.103 #184)
	id 1ChsH1-00072r-00
	for lucene-user@jakarta.apache.org; Fri, 24 Dec 2004 17:26:39 +0100
From: "Michael Hartmann" <michael.hartmann@web.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Poor Lucene Ranking for Short Text
Date: Fri, 24 Dec 2004 17:24:20 +0100
Message-ID: 
 <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAAP3gq4xGo50+/vrPZ4sACZMKAAAAQAAAArVxMrGUUe0+s9gL3ISIuSwEAAAAA@web.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <4180097D.3000503@newsmonster.org>
Thread-Index: AcS8ZkX7xO++IVQ3QQe/7HUg/lo95QtbkbLw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Disposition-Notification-To: "Michael Hartmann" <michael.hartmann@web.de>
Sender: michael.hartmann@web.de
X-Sender: michael.hartmann@web.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Kevin,

Seem like you have some knowledge about the lenghtNorm value in Lucene.
Comparing it to the formula in "Modern Information Retrieval" does it =
sum up
the denominator sqrt((sum(tf_d*idf_t)=B2)) * sqrt((sum(tf_q*idf_t)=B2))

Just a quick note is ok.

Besides that could you invite me to rojo. There beta status seem to be =
quite
long.

Thanks
Michael

| -----Urspr=FCngliche Nachricht-----
| Von:=20
| lucene-user-return-10902-michael.hartmann=3Dweb.de@jakarta.apach
| e.org=20
| [mailto:lucene-user-return-10902-michael.hartmann=3Dweb.de@jakar
| ta.apache.org] Im Auftrag von Kevin A. Burton
| Gesendet: Mittwoch, 27. Oktober 2004 22:48
| An: Lucene Users List
| Betreff: Re: Poor Lucene Ranking for Short Text
|=20
| Daniel Naber wrote:
|=20
| > (Kevin complains about shorter documents ranked higher)
| >
| >This is something that can easily be fixed. Just use a Similarity=20
| >implementation that extends DefaultSimilarity and that overwrites
| >lengthNorm: just return 1.0f there. You need to use that=20
| Similarity for=20
| >indexing and searching, i.e. it requires reindexing.
| > =20
| >
| What happens when I do this with an existing index? I don't=20
| want to have to rewrite this index as it will take FOREVER
|=20
| If the current behavior is all that happens this is fine...=20
| this way I can just get this behavior for new documents that=20
| are added.
|=20
| Also... why isn't this the default?
|=20
| Kevin
|=20
| --=20
|=20
| Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask=20
| me for an invite!  Also see irc.freenode.net #rojo if you=20
| want to chat.
|=20
| Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
|=20
| If you're interested in RSS, Weblogs, Social Networking,=20
| etc... then you should work for Rojo!  If you recommend=20
| someone and we hire them you'll get a free iPod!
|    =20
| Kevin A. Burton, Location - San Francisco, CA
|        AIM/YIM - sfburtonator,  Web - http://peerfear.org/=20
| GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
|=20
|=20
| ---------------------------------------------------------------------
| To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
| For additional commands, e-mail: lucene-user-help@jakarta.apache.org
|=20
|=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 16:30:28 2004
Return-Path: 
 <lucene-user-return-12132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38448 invoked from network); 24 Dec 2004 16:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 16:30:28 -0000
Received: (qmail 64224 invoked by uid 500); 24 Dec 2004 16:30:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64193 invoked by uid 500); 24 Dec 2004 16:30:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64176 invoked by uid 99); 24 Dec 2004 16:30:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 24 Dec 2004 08:30:21 -0800
Received: from internal-mail-relay1.corp.sgi.com
 (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id
 iBOHrQTT002586
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 09:53:26 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com
 [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2)
 with ESMTP id iBOGXY0W143580546
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 08:33:35 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com
 [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id
 iBOGUIad18653795
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 11:30:18 -0500 (EST)
Message-ID: <41CC4416.6020107@sgi.com>
Date: Fri, 24 Dec 2004 11:30:14 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: I though I understood, but obviously I missed something.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A snippet from my program:
    
            Document doc = new Document();
            Field fContent = new 
Field("content",content.toString(),false,true,true);
            Field fTitle = new Field("title",title,true,true,true);
            Field fDate = new Field("date",date,true,true,false);
            Document.add(fContent);
            Document.add(fTitle);
            Document.add(fDate);

Generate this (and other like it ) error

method add(org.apache.lucene.document.Field) cannot be referenced from a 
static context
    [javac]             Document.add(fContent);

Where did I go wrong?


Thanks,
Jim.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 17:03:17 2004
Return-Path: 
 <lucene-user-return-12134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45576 invoked from network); 24 Dec 2004 17:03:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 17:03:17 -0000
Received: (qmail 4574 invoked by uid 500); 24 Dec 2004 17:03:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4504 invoked by uid 500); 24 Dec 2004 17:03:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4480 invoked by uid 99); 24 Dec 2004 17:03:02 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 24 Dec 2004 09:02:59 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Poor Lucene Ranking for Short Text
Date: Fri, 24 Dec 2004 09:02:53 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02DF469E@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Poor Lucene Ranking for Short Text
Thread-Index: AcS8ZkX7xO++IVQ3QQe/7HUg/lo95QtbkbLwAAEkBmA=
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think you are confusing lengthNorm and the overall normalization of =
the score.  For overall normalization (prior to a final forced =
normalization in Hits), Lucene uses the formula you cite, except that it =
never sums td_d*idf_t, using instead tf_q*idf_t again, because the =
former is computationally intractable (changing even a single document =
changes the idf values, which means either that all document norms would =
have to be computed or that the sum over the document would need to =
happen at query time; the former is unacceptable for indexing time with =
large indices and the latter is unacceptable for query time with large =
documents).

lengthNorm is by default 1/sqrt(number_terms_in_document).  It is not =
1.0f by default because 1.0f is in general not a good value; e.g., a =
single occurrence of a term in a 1meg document is not as significant as =
a single occurrence of the same term in a 1k document.  However, I find =
the default value to need additional damping because it affects the =
score too much, especially for small documents.  So, I use something =
like
   3.0f/log10(1000 + number_terms_in_document)

Chuck

  > -----Original Message-----
  > From: michael.hartmann@web.de [mailto:michael.hartmann@web.de]
  > Sent: Friday, December 24, 2004 8:24 AM
  > To: 'Lucene Users List'
  > Subject: AW: Poor Lucene Ranking for Short Text
  >=20
  > Hi Kevin,
  >=20
  > Seem like you have some knowledge about the lenghtNorm value in =
Lucene.
  > Comparing it to the formula in "Modern Information Retrieval" does =
it
  > sum up
  > the denominator sqrt((sum(tf_d*idf_t)=B2)) * =
sqrt((sum(tf_q*idf_t)=B2))
  >=20
  > Just a quick note is ok.
  >=20
  > Besides that could you invite me to rojo. There beta status seem to =
be
  > quite
  > long.
  >=20
  > Thanks
  > Michael
  >=20
  > | -----Urspr=FCngliche Nachricht-----
  > | Von:
  > | lucene-user-return-10902-michael.hartmann=3Dweb.de@jakarta.apach
  > | e.org
  > | [mailto:lucene-user-return-10902-michael.hartmann=3Dweb.de@jakar
  > | ta.apache.org] Im Auftrag von Kevin A. Burton
  > | Gesendet: Mittwoch, 27. Oktober 2004 22:48
  > | An: Lucene Users List
  > | Betreff: Re: Poor Lucene Ranking for Short Text
  > |
  > | Daniel Naber wrote:
  > |
  > | > (Kevin complains about shorter documents ranked higher)
  > | >
  > | >This is something that can easily be fixed. Just use a Similarity
  > | >implementation that extends DefaultSimilarity and that overwrites
  > | >lengthNorm: just return 1.0f there. You need to use that
  > | Similarity for
  > | >indexing and searching, i.e. it requires reindexing.
  > | >
  > | >
  > | What happens when I do this with an existing index? I don't
  > | want to have to rewrite this index as it will take FOREVER
  > |
  > | If the current behavior is all that happens this is fine...
  > | this way I can just get this behavior for new documents that
  > | are added.
  > |
  > | Also... why isn't this the default?
  > |
  > | Kevin
  > |
  > | --
  > |
  > | Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask
  > | me for an invite!  Also see irc.freenode.net #rojo if you
  > | want to chat.
  > |
  > | Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
  > |
  > | If you're interested in RSS, Weblogs, Social Networking,
  > | etc... then you should work for Rojo!  If you recommend
  > | someone and we hire them you'll get a free iPod!
  > |
  > | Kevin A. Burton, Location - San Francisco, CA
  > |        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
  > | GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  > |
  > |
  > | =
---------------------------------------------------------------------
  > | To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > | For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org
  > |
  > |
  >=20
  >=20
  >=20
  > =
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 17:05:29 2004
Return-Path: 
 <lucene-user-return-12135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45966 invoked from network); 24 Dec 2004 17:05:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 17:05:29 -0000
Received: (qmail 9016 invoked by uid 500); 24 Dec 2004 17:05:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8199 invoked by uid 500); 24 Dec 2004 17:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8185 invoked by uid 99); 24 Dec 2004 17:05:26 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 24 Dec 2004 09:05:22 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: I though I understood, but obviously I missed something.
Date: Fri, 24 Dec 2004 09:05:19 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02DF46A1@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: I though I understood, but obviously I missed something.
Thread-Index: AcTp1eFQQmQicPieQKKjtpt8gQfYIwABLgtg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All of your Document.add's need to be doc.add's.  You are adding the
field to the document, not the class.

Chuck

  > -----Original Message-----
  > From: Jim Lynch [mailto:jwl@sgi.com]
  > Sent: Friday, December 24, 2004 8:30 AM
  > To: Lucene Users List
  > Subject: I though I understood, but obviously I missed something.
  >=20
  > A snippet from my program:
  >=20
  >             Document doc =3D new Document();
  >             Field fContent =3D new
  > Field("content",content.toString(),false,true,true);
  >             Field fTitle =3D new =
Field("title",title,true,true,true);
  >             Field fDate =3D new Field("date",date,true,true,false);
  >             Document.add(fContent);
  >             Document.add(fTitle);
  >             Document.add(fDate);
  >=20
  > Generate this (and other like it ) error
  >=20
  > method add(org.apache.lucene.document.Field) cannot be referenced
from a
  > static context
  >     [javac]             Document.add(fContent);
  >=20
  > Where did I go wrong?
  >=20
  >=20
  > Thanks,
  > Jim.
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 24 17:59:57 2004
Return-Path: 
 <lucene-user-return-12136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59884 invoked from network); 24 Dec 2004 17:59:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Dec 2004 17:59:57 -0000
Received: (qmail 83029 invoked by uid 500); 24 Dec 2004 17:59:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83002 invoked by uid 500); 24 Dec 2004 17:59:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82987 invoked by uid 99); 24 Dec 2004 17:59:54 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 24 Dec 2004 09:59:49 -0800
Received: from internal-mail-relay1.corp.sgi.com
 (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id
 iBOJMtp4019782
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 11:22:55 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com
 [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2)
 with ESMTP id iBOI330W143485645
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 10:03:03 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com
 [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id
 iBOHxkad18671005
	for <lucene-user@jakarta.apache.org>; Fri, 24 Dec 2004 12:59:46 -0500 (EST)
Message-ID: <41CC590E.80701@sgi.com>
Date: Fri, 24 Dec 2004 12:59:42 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: I though I understood, but obviously I missed something.
References: <41CC4416.6020107@sgi.com>
In-Reply-To: <41CC4416.6020107@sgi.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry for the stupidity.  I should have seen that. 

Jim.

Jim Lynch wrote:

>
>
> Where did I go wrong?
>
>
>
The answer is, I got out of bed this morning.  :-[

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 25 16:02:11 2004
Return-Path: 
 <lucene-user-return-12137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32638 invoked from network); 25 Dec 2004 16:02:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Dec 2004 16:02:11 -0000
Received: (qmail 58915 invoked by uid 500); 25 Dec 2004 16:01:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58883 invoked by uid 500); 25 Dec 2004 16:01:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58869 invoked by uid 99); 25 Dec 2004 16:01:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 25 Dec 2004 08:01:53 -0800
Received: from internal-mail-relay1.corp.sgi.com
 (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id
 iBPHP8L9012406
	for <lucene-user@jakarta.apache.org>; Sat, 25 Dec 2004 09:25:08 -0800
Received: from spindle.corp.sgi.com (spindle.corp.sgi.com [198.29.75.13])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2)
 with ESMTP id iBPG570W144012158
	for <lucene-user@jakarta.apache.org>; Sat, 25 Dec 2004 08:05:07 -0800 (PST)
Received: from [134.15.82.186] (cf-vpn-hw-jwl-1.corp.sgi.com [134.15.82.186])
	by spindle.corp.sgi.com (SGI-8.12.5/8.12.9/generic_config-1.2) with ESMTP id
 iBPG1pad9815900
	for <lucene-user@jakarta.apache.org>; Sat, 25 Dec 2004 08:01:51 -0800 (PST)
Message-ID: <41CD8FAC.2090504@sgi.com>
Date: Sat, 25 Dec 2004 11:05:00 -0500
From: Jim <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Need an analyzer that includes numbers.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've seen some discussion on this and the answer seems to be "write your 
own".  Hasn't someone already done that by now that would share?  I 
really have to be able to include numeric and alphanumeric strings in my 
searches.   I don't understand analyzers well enough to roll my own.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 25 18:36:33 2004
Return-Path: 
 <lucene-user-return-12138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56563 invoked from network); 25 Dec 2004 18:36:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Dec 2004 18:36:33 -0000
Received: (qmail 2465 invoked by uid 500); 25 Dec 2004 18:36:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2434 invoked by uid 500); 25 Dec 2004 18:36:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2418 invoked by uid 99); 25 Dec 2004 18:36:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com)
 (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 25 Dec 2004 10:36:17 -0800
Received: (qmail 82777 invoked by uid 60001); 25 Dec 2004 18:36:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=rISWOqJ0guuroM5ZRyGf0o86y3LYon7+MHmO40c9/kJcbJ5OGtBn73qrIxdjLLkvvtH5MlUzBawXPGxUtT6jBgEN7mLiGHDSPgkAIXsiuNPuOaIbX10zg+1pVUQtRLqT4yIcfD47H+QGNc8iOYTGO6n47lUq4OPyUT/Nly/7vig=
  ;
Message-ID: <20041225183615.82775.qmail@web12707.mail.yahoo.com>
Received: from [69.201.130.95] by web12707.mail.yahoo.com via HTTP;
 Sat, 25 Dec 2004 10:36:15 PST
Date: Sat, 25 Dec 2004 10:36:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Need an analyzer that includes numbers.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41CD8FAC.2090504@sgi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

WhitespaceAnalyzer will let you have it.  It just breaks the input on
spaces.

Otis

--- Jim <jwl@sgi.com> wrote:

> I've seen some discussion on this and the answer seems to be "write
> your 
> own".  Hasn't someone already done that by now that would share?  I 
> really have to be able to include numeric and alphanumeric strings in
> my 
> searches.   I don't understand analyzers well enough to roll my own.
> 
> Thanks,
> Jim.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 26 09:07:04 2004
Return-Path: 
 <lucene-user-return-12139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30652 invoked from network); 26 Dec 2004 09:07:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Dec 2004 09:07:04 -0000
Received: (qmail 59709 invoked by uid 500); 26 Dec 2004 09:07:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59145 invoked by uid 500); 26 Dec 2004 09:07:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59131 invoked by uid 99); 26 Dec 2004 09:07:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 26 Dec 2004 01:06:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 30CFB13E28F7; Sun, 26 Dec 2004 04:06:55 -0500 (EST)
Received: from [192.168.1.100]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 5DBC113E200B
	for <lucene-user@jakarta.apache.org>; Sun, 26 Dec 2004 04:06:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41CD8FAC.2090504@sgi.com>
References: <41CD8FAC.2090504@sgi.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7543D349-571D-11D9-9A70-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Need an analyzer that includes numbers.
Date: Sun, 26 Dec 2004 04:06:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 25, 2004, at 11:05 AM, Jim wrote:

> I've seen some discussion on this and the answer seems to be "write 
> your own".  Hasn't someone already done that by now that would share?  
> I really have to be able to include numeric and alphanumeric strings 
> in my searches.   I don't understand analyzers well enough to roll my 
> own.

This is more involved than just keeping numbers around... or at least 
there are more steps to consider.  Do you want the alpha characters 
lower-cased, which is the typical behavior so that searches are 
case-insensitive.  What about punctuation characters?  Generally these 
get tossed, however there are cases where that is not desired either.

The good news is that writing Tokenizer and TokenFilter pieces of an 
analyzer are generally relatively easy.  There are a number of built-in 
Lucene pieces that you can leverage.  I whipped up a quick 
AlphanumericAnalyzer for you demonstrating the CharTokenizer which 
treats alphanumeric characters as part of tokens, and any other 
character as a separator that gets thrown away.  At the same time, it 
lowercases.  The output of the main() method is shown below also.

public class AlphanumericAnalyzer extends Analyzer {
   public TokenStream tokenStream(String fieldName, Reader reader) {
     return new CharTokenizer(reader) {
       protected char normalize(char c) {
         return Character.toLowerCase(c);
       }

       protected boolean isTokenChar(char c) {
         return Character.isLetter(c) || Character.isDigit(c);
       }
     };
   }


   public static void main(String[] args) throws IOException {
     TokenStream ts =
         new AlphanumericAnalyzer().tokenStream("field",
             new StringReader("December 26, 2004"));

     String month = ts.next().termText();
     String day = ts.next().termText();
     String year = ts.next().termText();

     System.out.println(month + " " + day + " " + year);
   }

}


Output:
december 26 2004

Calling .tokenStream and .next().termText() is not something your 
production code would need to do - but its what happens under the 
covers of Lucene.  If you are going to write a custom analyzer, you 
*should* write unit tests that "analyze" the analyzer using these 
lower-level methods.

Lucene in Action goes into the analysis topic deeply, but simply, and I 
spent a great deal of time toying with different customizations to 
analyzers to write about them.  The sample code distribution includes 
utility methods and unit test helpers to illustrate, test, and debug 
the analysis process.  And in retrospect, this very example I cobbled 
together to reply to this e-mail would have been a great example to add 
as well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 26 09:19:23 2004
Return-Path: 
 <lucene-user-return-12140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32754 invoked from network); 26 Dec 2004 09:19:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Dec 2004 09:19:23 -0000
Received: (qmail 70095 invoked by uid 500); 26 Dec 2004 09:19:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70065 invoked by uid 500); 26 Dec 2004 09:19:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70049 invoked by uid 99); 26 Dec 2004 09:19:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates
 195.2.83.226 as permitted sender)
Received: from mail3.zmail.ru (HELO frontend3.aha.ru) (195.2.83.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 26 Dec 2004 01:19:13 -0800
Received: from [195.96.81.145] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.2.6)
  with ESMTP id 96692606 for lucene-user@jakarta.apache.org;
 Sun, 26 Dec 2004 12:19:09 +0300
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Document size
Date: Sun, 26 Dec 2004 12:23:08 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Thread-Index: AcTrLIIUpBFUXxCHRXayuyi4UQExrA==
Message-ID: <auto-000096692606@frontend3.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

How can I calculate document size in index-bytes?
I need to check free space before add the document to index.
Any suggestions?

Pasha Bizhan





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 08:21:51 2004
Return-Path: 
 <lucene-user-return-12141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24841 invoked from network); 27 Dec 2004 08:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 08:21:51 -0000
Received: (qmail 59139 invoked by uid 500); 27 Dec 2004 08:21:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59101 invoked by uid 500); 27 Dec 2004 08:21:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59081 invoked by uid 99); 27 Dec 2004 08:21:35 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from m3.amdocs.com (HELO koutmail.amdocs.com) (212.179.127.169)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 00:21:31 -0800
Received: from omail2.amdocs.com ([212.179.127.133])
	by koutmail.amdocs.com (8.12.11/8.12.9) with ESMTP id iBR8DFoR027311
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 10:13:15 +0200
Received: from tlvmail7.corp.amdocs.com (localhost.localdomain [127.0.0.1])
	by omail2.amdocs.com (8.12.11/8.12.11) with ESMTP id iBR8LMYZ027436
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 10:21:22 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4EBED.0D34F558"
Subject: Correct query
Date: Mon, 27 Dec 2004 10:21:23 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D1109@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Correct query
Thread-Index: AcTr7Q0I91aUtusqTDuDq3xrT9tQLQ==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4EBED.0D34F558
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hello,
I indexed some document that included a word RPG/4.
So, when I made a search - I builded a query

Text:RPG but it didn't find a thing only Text:RPG/4 gave me the correct
result.
Tell me please what have I do to build a a dynamic (not hardcoded like
in this example )query to get right results

Thanks in advance

Alex Kiselevsky
 Speech Technology		Tel:	972-9-776-43-46
R&D, Amdocs - Israel		Mobile:	972-53-63 50 38
mailto:alexkis@amdocs.com




The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C4EBED.0D34F558--

From MAILER-DAEMON Mon Dec 27 09:51:24 2004
Return-Path: 
 <lucene-user-return-12142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63313 invoked from network); 27 Dec 2004 09:51:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 09:51:24 -0000
Received: (qmail 95708 invoked by uid 500); 27 Dec 2004 09:51:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95675 invoked by uid 500); 27 Dec 2004 09:51:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95624 invoked by uid 99); 27 Dec 2004 09:51:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from dsl-118-28.srtnet.com (HELO tornado.visionsystems.tv)
 (216.221.118.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 01:51:11 -0800
Received: by tornado.visionsystems.tv (Postfix, from userid 503)
	id 39B364903C6; Mon, 27 Dec 2004 03:51:09 -0600 (CST)
Received: from [10.0.0.18] (24-75-205-42.chvlva.adelphia.net [24.75.205.42])
	by tornado.visionsystems.tv (Postfix) with ESMTP id C3553490214
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 03:51:08 -0600 (CST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <77D8711AC919F24FBB698EE60D6034A80D1109@tlvmail7.corp.amdocs.com>
References: <77D8711AC919F24FBB698EE60D6034A80D1109@tlvmail7.corp.amdocs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DDAA3838-57EC-11D9-8FD2-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Correct query
Date: Mon, 27 Dec 2004 04:51:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Status: No, hits=-2.5 required=1.0
	tests=EMAIL_ATTRIBUTION,IN_REP_TO,QUOTED_EMAIL_TEXT,REFERENCES,
	      REPLY_WITH_QUOTES,USER_AGENT_APPLEMAIL
	version=2.55
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 27, 2004, at 3:21 AM, Alex Kiselevski wrote:
> Hello,
> I indexed some document that included a word RPG/4.
> So, when I made a search - I builded a query
>
> Text:RPG but it didn't find a thing only Text:RPG/4 gave me the correct
> result.
> Tell me please what have I do to build a a dynamic (not hardcoded like
> in this example )query to get right results

What Analyzer did you use?   Are you using QueryParser and using the 
same analyzer with it?  Please read the AnalysisParalysis page on the 
wiki.  Also, running the AnalyzerDemo from Lucene in Action's source 
code yields this, which should help illuminate the situation:

$ ant -emacs AnalyzerDemo
Buildfile: build.xml

AnalyzerDemo:

       Demonstrates analysis of sample text.

       Refer to the "Analysis" chapter for much more on this
       extremely crucial topic.

Press return to continue...

String to analyze: [This string will be analyzed.]
RPG/4
Running lia.analysis.AnalyzerDemo...
Analyzing "RPG/4"
   WhitespaceAnalyzer:
     [RPG/4]

   SimpleAnalyzer:
     [rpg]

   StopAnalyzer:
     [rpg]

   StandardAnalyzer:
     [rpg/4]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 10:50:58 2004
Return-Path: 
 <lucene-user-return-12143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88057 invoked from network); 27 Dec 2004 10:50:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 10:50:58 -0000
Received: (qmail 88595 invoked by uid 500); 27 Dec 2004 10:50:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88347 invoked by uid 500); 27 Dec 2004 10:50:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88324 invoked by uid 99); 27 Dec 2004 10:50:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 02:50:42 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 98F27C99FC
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 11:50:35 +0100 (CET)
Message-ID: <41CFE8F8.3020401@fib.upc.edu>
Date: Mon, 27 Dec 2004 11:50:32 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: index question
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I want to know In the case that you use Lucene for index files how a 
general searcher, what fields (or keys) do you use to index.
For example, in my case are html,pdf,doc,ppt and txt and I'm thinked to 
use Field Autor, Field title, field url, field content, field 
modification date.
Something more? some recommendation?
thks
and Merry Xmas for all.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 10:58:31 2004
Return-Path: 
 <lucene-user-return-12144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91664 invoked from network); 27 Dec 2004 10:58:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 10:58:31 -0000
Received: (qmail 353 invoked by uid 500); 27 Dec 2004 10:58:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 317 invoked by uid 500); 27 Dec 2004 10:58:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 297 invoked by uid 99); 27 Dec 2004 10:58:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 02:58:05 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id ACB827D0084; Mon, 27 Dec 2004 06:06:32 -0500
Message-ID: <41CFEAB7.7080905@bayt.net>
Date: Mon, 27 Dec 2004 14:58:00 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index question
References: <41CFE8F8.3020401@fib.upc.edu>
In-Reply-To: <41CFE8F8.3020401@fib.upc.edu>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It comes down to your searching needs, do you need to have your 
documents searcheable by these fields or do you need a general search of 
the whole document, your decisions will impact the size of the index and 
the speed of indexing and searching so give it due thought, start from 
your GUI requirement and design the index that responds to your user 
needs best.

Nader

Daniel Cortes wrote:

> I want to know In the case that you use Lucene for index files how a 
> general searcher, what fields (or keys) do you use to index.
> For example, in my case are html,pdf,doc,ppt and txt and I'm thinked 
> to use Field Autor, Field title, field url, field content, field 
> modification date.
> Something more? some recommendation?
> thks
> and Merry Xmas for all.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 11:23:15 2004
Return-Path: 
 <lucene-user-return-12145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3515 invoked from network); 27 Dec 2004 11:23:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 11:23:15 -0000
Received: (qmail 42271 invoked by uid 500); 27 Dec 2004 11:22:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42249 invoked by uid 500); 27 Dec 2004 11:22:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42234 invoked by uid 99); 27 Dec 2004 11:22:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 03:22:25 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id EB401C99FA
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 12:22:18 +0100 (CET)
Message-ID: <41CFF06A.1070206@fib.upc.edu>
Date: Mon, 27 Dec 2004 12:22:18 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index question
References: <41CFE8F8.3020401@fib.upc.edu> <41CFEAB7.7080905@bayt.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thks nader
I need a general search of documents, it's for this that I ask yours 
recomendations, because fields are only for info in the search. 
Tipically search on Google for example

search:casa

La casa roja
..había una vez una casa roja que tenia ....
htttp:\\go.to\casa    Modification date:25-12-04

for do this  what fields and options (keybord,text,unindex,unstored) do 
you should use?

thks

Nader Henein wrote:

> It comes down to your searching needs, do you need to have your 
> documents searcheable by these fields or do you need a general search 
> of the whole document, your decisions will impact the size of the 
> index and the speed of indexing and searching so give it due thought, 
> start from your GUI requirement and design the index that responds to 
> your user needs best.
>
> Nader
>
> Daniel Cortes wrote:
>
>> I want to know In the case that you use Lucene for index files how a 
>> general searcher, what fields (or keys) do you use to index.
>> For example, in my case are html,pdf,doc,ppt and txt and I'm thinked 
>> to use Field Autor, Field title, field url, field content, field 
>> modification date.
>> Something more? some recommendation?
>> thks
>> and Merry Xmas for all.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 11:29:05 2004
Return-Path: 
 <lucene-user-return-12146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5420 invoked from network); 27 Dec 2004 11:29:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 11:29:05 -0000
Received: (qmail 54046 invoked by uid 500); 27 Dec 2004 11:28:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53736 invoked by uid 500); 27 Dec 2004 11:28:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53716 invoked by uid 99); 27 Dec 2004 11:28:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from m3.amdocs.com (HELO koutmail.amdocs.com) (212.179.127.169)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 03:28:40 -0800
Received: from omail2.amdocs.com ([212.179.127.133])
	by koutmail.amdocs.com (8.12.11/8.12.9) with ESMTP id iBRBKOkd006583
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 13:20:24 +0200
Received: from tlvmail7.corp.amdocs.com (localhost.localdomain [127.0.0.1])
	by omail2.amdocs.com (8.12.11/8.12.11) with ESMTP id iBRBSVHq008389
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 13:28:31 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Correct query
Date: Mon, 27 Dec 2004 13:28:33 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D110B@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Correct query
Thread-Index: AcTr+aXlj5K7v1ItT1m8IDD4Y3w04gADNhmw
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thanks Erik,
I use StandardAnalyze to index RPG/4.
I use StandardAnalyzer and IndexSearcher with TermQuery without
QueryParser. So, I thought that as a result of query=0D
Text:RPG I still have to get some hit, but it didn't happen.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=0D
Sent: Monday, December 27, 2004 11:51 AM
To: Lucene Users List
Subject: Re: Correct query



On Dec 27, 2004, at 3:21 AM, Alex Kiselevski wrote:
> Hello,
> I indexed some document that included a word RPG/4.
> So, when I made a search - I builded a query
>
> Text:RPG but it didn't find a thing only Text:RPG/4 gave me the=0D
> correct result. Tell me please what have I do to build a a dynamic=0D
> (not hardcoded like in this example )query to get right results

What Analyzer did you use?   Are you using QueryParser and using the=0D
same analyzer with it?  Please read the AnalysisParalysis page on the=0D
wiki.  Also, running the AnalyzerDemo from Lucene in Action's source=0D
code yields this, which should help illuminate the situation:

$ ant -emacs AnalyzerDemo
Buildfile: build.xml

AnalyzerDemo:

       Demonstrates analysis of sample text.

       Refer to the "Analysis" chapter for much more on this
       extremely crucial topic.

Press return to continue...

String to analyze: [This string will be analyzed.]
RPG/4
Running lia.analysis.AnalyzerDemo...
Analyzing "RPG/4"
   WhitespaceAnalyzer:
     [RPG/4]

   SimpleAnalyzer:
     [rpg]

   StopAnalyzer:
     [rpg]

   StandardAnalyzer:
     [rpg/4]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 11:36:56 2004
Return-Path: 
 <lucene-user-return-12147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18599 invoked from network); 27 Dec 2004 11:36:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 11:36:56 -0000
Received: (qmail 69951 invoked by uid 500); 27 Dec 2004 11:36:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69919 invoked by uid 500); 27 Dec 2004 11:36:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69902 invoked by uid 99); 27 Dec 2004 11:36:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 03:36:34 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id A5BC5C00AA; Mon, 27 Dec 2004 06:45:00 -0500
Message-ID: <41CFF3BD.2020200@bayt.net>
Date: Mon, 27 Dec 2004 15:36:29 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index question
References: <41CFE8F8.3020401@fib.upc.edu> <41CFEAB7.7080905@bayt.net>
 <41CFF06A.1070206@fib.upc.edu>
In-Reply-To: <41CFF06A.1070206@fib.upc.edu>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

ok, so you can index the whole document in one shot, but you should 
store certain fields like what you display in the search results in the 
index to avoid a round trip to the DB.

so for example you would store "title" "synopsis" "link" "doc_id" "date" 
and then just index what you want to be searchable, the reason why you 
would have title stored in one field and indexed again in another so if 
you stem that field it will become useless for display purposes.  So the 
logical representation of your index would look something like this:

<document>
    <id> stored/ indexed
    <title> stored/ un-indexed
    <synopsis> stored/ un-indexed
    <date> stored / indexed
    <full document stemmed>  indexed / un stored
</document>

Enjoy

Nader Henein


Daniel Cortes wrote:

> thks nader
> I need a general search of documents, it's for this that I ask yours 
> recomendations, because fields are only for info in the search. 
> Tipically search on Google for example
>
> search:casa
>
> La casa roja
> ..había una vez una casa roja que tenia ....
> htttp:\\go.to\casa    Modification date:25-12-04
>
> for do this  what fields and options (keybord,text,unindex,unstored) 
> do you should use?
>
> thks
>
> Nader Henein wrote:
>
>> It comes down to your searching needs, do you need to have your 
>> documents searcheable by these fields or do you need a general search 
>> of the whole document, your decisions will impact the size of the 
>> index and the speed of indexing and searching so give it due thought, 
>> start from your GUI requirement and design the index that responds to 
>> your user needs best.
>>
>> Nader
>>
>> Daniel Cortes wrote:
>>
>>> I want to know In the case that you use Lucene for index files how a 
>>> general searcher, what fields (or keys) do you use to index.
>>> For example, in my case are html,pdf,doc,ppt and txt and I'm thinked 
>>> to use Field Autor, Field title, field url, field content, field 
>>> modification date.
>>> Something more? some recommendation?
>>> thks
>>> and Merry Xmas for all.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 11:50:06 2004
Return-Path: 
 <lucene-user-return-12148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34086 invoked from network); 27 Dec 2004 11:50:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 11:50:06 -0000
Received: (qmail 89559 invoked by uid 500); 27 Dec 2004 11:49:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89507 invoked by uid 500); 27 Dec 2004 11:49:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89490 invoked by uid 99); 27 Dec 2004 11:49:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 03:49:21 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 7CBCEC99FC
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 12:49:15 +0100 (CET)
Message-ID: <41CFF6BB.6020801@fib.upc.edu>
Date: Mon, 27 Dec 2004 12:49:15 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: index question
References: <41CFE8F8.3020401@fib.upc.edu> <41CFEAB7.7080905@bayt.net>
 <41CFF06A.1070206@fib.upc.edu> <41CFF3BD.2020200@bayt.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A lot of thks Nader, I try now, and I tell you the results.
thks

Nader Henein wrote:

> ok, so you can index the whole document in one shot, but you should 
> store certain fields like what you display in the search results in 
> the index to avoid a round trip to the DB.
>
> so for example you would store "title" "synopsis" "link" "doc_id" 
> "date" and then just index what you want to be searchable, the reason 
> why you would have title stored in one field and indexed again in 
> another so if you stem that field it will become useless for display 
> purposes.  So the logical representation of your index would look 
> something like this:
>
> <document>
>    <id> stored/ indexed
>    <title> stored/ un-indexed
>    <synopsis> stored/ un-indexed
>    <date> stored / indexed
>    <full document stemmed>  indexed / un stored
> </document>
>
> Enjoy
>
> Nader Henein
>
>
> Daniel Cortes wrote:
>
>> thks nader
>> I need a general search of documents, it's for this that I ask yours 
>> recomendations, because fields are only for info in the search. 
>> Tipically search on Google for example
>>
>> search:casa
>>
>> La casa roja
>> ..había una vez una casa roja que tenia ....
>> htttp:\\go.to\casa    Modification date:25-12-04
>>
>> for do this  what fields and options (keybord,text,unindex,unstored) 
>> do you should use?
>>
>> thks
>>
>> Nader Henein wrote:
>>
>>> It comes down to your searching needs, do you need to have your 
>>> documents searcheable by these fields or do you need a general 
>>> search of the whole document, your decisions will impact the size of 
>>> the index and the speed of indexing and searching so give it due 
>>> thought, start from your GUI requirement and design the index that 
>>> responds to your user needs best.
>>>
>>> Nader
>>>
>>> Daniel Cortes wrote:
>>>
>>>> I want to know In the case that you use Lucene for index files how 
>>>> a general searcher, what fields (or keys) do you use to index.
>>>> For example, in my case are html,pdf,doc,ppt and txt and I'm 
>>>> thinked to use Field Autor, Field title, field url, field content, 
>>>> field modification date.
>>>> Something more? some recommendation?
>>>> thks
>>>> and Merry Xmas for all.
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 16:16:50 2004
Return-Path: 
 <lucene-user-return-12149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77484 invoked from network); 27 Dec 2004 16:16:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 16:16:50 -0000
Received: (qmail 94019 invoked by uid 500); 27 Dec 2004 16:16:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93964 invoked by uid 500); 27 Dec 2004 16:16:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93941 invoked by uid 99); 27 Dec 2004 16:16:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 08:16:35 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 6BF1DC99FA
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 17:16:29 +0100 (CET)
Message-ID: <41D0355D.8090609@fib.upc.edu>
Date: Mon, 27 Dec 2004 17:16:29 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: HTMLParser vs NekoHTML(indexig HTML files)
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What do you prefer?and more important, why?
Someone tell me that Neko is more powerfull because something 
relationated  about XML, but I didn't understand.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 17:31:52 2004
Return-Path: 
 <lucene-user-return-12150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10660 invoked from network); 27 Dec 2004 17:31:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 17:31:52 -0000
Received: (qmail 29205 invoked by uid 500); 27 Dec 2004 17:31:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28946 invoked by uid 500); 27 Dec 2004 17:31:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28916 invoked by uid 99); 27 Dec 2004 17:31:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from dsl-118-28.srtnet.com (HELO tornado.visionsystems.tv)
 (216.221.118.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 09:31:29 -0800
Received: by tornado.visionsystems.tv (Postfix, from userid 503)
	id 45BA6490262; Mon, 27 Dec 2004 11:31:27 -0600 (CST)
Received: from [10.0.0.18] (24-75-205-42.chvlva.adelphia.net [24.75.205.42])
	by tornado.visionsystems.tv (Postfix) with ESMTP id DE29649020C
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 11:31:26 -0600 (CST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <77D8711AC919F24FBB698EE60D6034A80D110B@tlvmail7.corp.amdocs.com>
References: <77D8711AC919F24FBB698EE60D6034A80D110B@tlvmail7.corp.amdocs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <244EB97A-582D-11D9-8D3C-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Correct query
Date: Mon, 27 Dec 2004 12:31:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Status: No, hits=-2.5 required=1.0
	tests=EMAIL_ATTRIBUTION,IN_REP_TO,QUOTED_EMAIL_TEXT,REFERENCES,
	      REPLY_WITH_QUOTES,USER_AGENT_APPLEMAIL
	version=2.55
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 27, 2004, at 6:28 AM, Alex Kiselevski wrote:

>
> Thanks Erik,
> I use StandardAnalyze to index RPG/4.
> I use StandardAnalyzer and IndexSearcher with TermQuery without
> QueryParser. So, I thought that as a result of query
> Text:RPG I still have to get some hit, but it didn't happen.

>    StandardAnalyzer:
>      [rpg/4]

As you can see, StandardAnalyzer tokenized RPG/4 as "rpg/4".  A 
TermQuery must be *exactly* that to match.  You could, alternatively, 
bypass QueryParser and use the analyzer directly making a TermQuery (or 
PhraseQuery) out of the results.  I do this in quite a few queries in 
the system I'm building for my primary work to allow queries against 
some library archives.

This is one of the most critical, but seemingly misunderstood, aspect 
to using Lucene effectively - how to manage the analysis process and 
match it to the searching side.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 17:46:36 2004
Return-Path: 
 <lucene-user-return-12151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17746 invoked from network); 27 Dec 2004 17:46:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 17:46:36 -0000
Received: (qmail 59451 invoked by uid 500); 27 Dec 2004 17:46:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59413 invoked by uid 500); 27 Dec 2004 17:46:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59399 invoked by uid 99); 27 Dec 2004 17:46:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from dsl-118-28.srtnet.com (HELO tornado.visionsystems.tv)
 (216.221.118.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 09:46:21 -0800
Received: by tornado.visionsystems.tv (Postfix, from userid 503)
	id 961CE49029B; Mon, 27 Dec 2004 11:46:19 -0600 (CST)
Received: from [10.0.0.18] (24-75-205-42.chvlva.adelphia.net [24.75.205.42])
	by tornado.visionsystems.tv (Postfix) with ESMTP id 4745B490212
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 11:46:19 -0600 (CST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <3B0EC317-582F-11D9-8D3C-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: LIA shipping from Manning
Date: Mon, 27 Dec 2004 12:46:26 -0500
X-Mailer: Apple Mail (2.619)
X-Spam-Status: No, hits=0.0 required=1.0
	tests=USER_AGENT_APPLEMAIL
	version=2.55
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I received my allotment of physical Lucene in Action copies late last 
week directly from the printers.  I just checked Manning's site - 
http://www.manning.com/hatcher2 - and they now have the link to add the 
physical copy to your "bookbag" enabled which means they must be 
shipping copies.  Buying directly from Manning has the bonus that you 
get the e-book for free when you buy the physical book.

I personally prefer books I can hold in my hand, but searching the PDF 
is handy too (though lucenebook.com will have a "search inside" feature 
:).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 27 18:30:40 2004
Return-Path: 
 <lucene-user-return-12152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35617 invoked from network); 27 Dec 2004 18:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Dec 2004 18:30:40 -0000
Received: (qmail 41009 invoked by uid 500); 27 Dec 2004 18:30:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40990 invoked by uid 500); 27 Dec 2004 18:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40976 invoked by uid 99); 27 Dec 2004 18:30:28 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 10:30:24 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: HTMLParser vs NekoHTML(indexig HTML files)
Date: Mon, 27 Dec 2004 10:30:20 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02DF47B6@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HTMLParser vs NekoHTML(indexig HTML files)
Thread-Index: AcTsL3diR+salinnQmS58y1yj9Y1SgAEMpag
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I can't comment on the comparison, but can report that I use
NekoHTMLParser and like it.  It's convenient as it is an extension of
Xerces that uses the same standard API's.  It automatically closes and
balances tags so the resulting tree is well-structured like XML.  So far
it has parsed everything I've pointed it at, except for one document
(haven't figured out what's unique about that document yet).  It is
hosted on the Apache site and although not officially part of Apache it
may become a subproject of Xerces, which would bode well for its
standing.

Chuck

  > -----Original Message-----
  > From: Daniel Cortes [mailto:dcortes@fib.upc.edu]
  > Sent: Monday, December 27, 2004 8:16 AM
  > To: lucene-user@jakarta.apache.org
  > Subject: HTMLParser vs NekoHTML(indexig HTML files)
  >=20
  > What do you prefer?and more important, why?
  > Someone tell me that Neko is more powerfull because something
  > relationated  about XML, but I didn't understand.
  >=20
  >=20
  >=20
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 02:54:24 2004
Return-Path: 
 <lucene-user-return-12153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88902 invoked from network); 28 Dec 2004 02:54:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 02:54:24 -0000
Received: (qmail 40763 invoked by uid 500); 28 Dec 2004 02:54:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40629 invoked by uid 500); 28 Dec 2004 02:54:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40609 invoked by uid 99); 28 Dec 2004 02:54:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 18:54:13 -0800
Received: from deadrise.cs.utexas.edu (vgupta@deadrise.cs.utexas.edu
 [128.83.144.220])
	by mail.cs.utexas.edu (8.13.2/8.13.2) with ESMTP id iBS2sBTX006377
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 20:54:11 -0600 (CST)
Received: (from vgupta@localhost)
	by deadrise.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBS2sACG014047;
	Mon, 27 Dec 2004 20:54:10 -0600
Date: Mon, 27 Dec 2004 20:54:10 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: lucene-user@jakarta.apache.org
Subject: document boost not showing up in Explanation
Message-ID: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using lucene-1.4.1.jar(with nutch). For some reason, the effect of
document boost is not showing up in the search results. Also, why is it
not a part of the Explanation

    Below is the 'explanation' of a sample query "solar". I don't see the
boost value (1.5514448) being used at all in the calculation of the
document score - from the 'explanation' below and also from the quality of
the search.

    How can I see the effect of document boost?

    Thanks.

-Vikas

--------------- a sample explanation ------------
page
docNo = 0
segment = 20041224185557
digest = 18cef64c6c53ecf399abfd9239caf240

----> boost = 1.5514448 <----(Vikas: not used in the calculation below)

lang = en
url = http://www.cs.utexas.edu/users/vgupta/web1/a31.html
anchor = Solar System jigsaw
anchor = a31.html
anchor = Solar System jigsaw
title = Solar System jigsaw
H1 = Solar System jigsaw

score for query: solar
0.7634825 = sum of:
 0.5878681 = weight(anchor:solar^2.0 in 0), product of:
 0.3017718 = queryWeight(anchor:solar^2.0), product of:
 2.0 = boost
 2.2039728 = idf(docFreq=2)
 0.06846087 = queryNorm
 1.9480551 = fieldWeight(anchor:solar in 0), product of:
 1.4142135 = tf(termFreq(anchor:solar)=2)
 2.2039728 = idf(docFreq=2)
 0.625 = fieldNorm(field=anchor, doc=0)
 0.010230478 = weight(content:solar in 0), product of:
 0.09287914 = queryWeight(content:solar), product of:
 1.3566749 = idf(docFreq=6)
 0.06846087 = queryNorm
 0.11014828 = fieldWeight(content:solar in 0), product of:
 1.7320508 = tf(termFreq(content:solar)=3)
 1.3566749 = idf(docFreq=6)
 0.046875 = fieldNorm(field=content, doc=0)
 0.16538392 = weight(H1:solar^1.5 in 0), product of:
 0.1393187 = queryWeight(H1:solar^1.5), product of:
 1.5 = boost
 1.3566749 = idf(docFreq=2)
 0.06846087 = queryNorm
 1.1870905 = fieldWeight(H1:solar in 0), product of:
 1.0 = tf(termFreq(H1:solar)=1)
 1.3566749 = idf(docFreq=2)
 0.875 = fieldNorm(field=H1, doc=0)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 03:12:38 2004
Return-Path: 
 <lucene-user-return-12154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94311 invoked from network); 28 Dec 2004 03:12:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 03:12:38 -0000
Received: (qmail 64485 invoked by uid 500); 28 Dec 2004 03:12:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64431 invoked by uid 500); 28 Dec 2004 03:12:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64412 invoked by uid 99); 28 Dec 2004 03:12:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 19:12:22 -0800
Received: from deadrise.cs.utexas.edu (vgupta@deadrise.cs.utexas.edu
 [128.83.144.220])
	by mail.cs.utexas.edu (8.13.2/8.13.2) with ESMTP id iBS3CKuO008101
	for <lucene-user@jakarta.apache.org>; Mon, 27 Dec 2004 21:12:20 -0600 (CST)
Received: (from vgupta@localhost)
	by deadrise.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBS3CKaV014455;
	Mon, 27 Dec 2004 21:12:20 -0600
Date: Mon, 27 Dec 2004 21:12:20 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: document boost not showing up in Explanation
In-Reply-To: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
Message-ID: <Pine.LNX.4.58.0412272110040.14431@deadrise.cs.utexas.edu>
References: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can checkout the nutch search engine(with my modifications) at:

http://cofferdam.cs.utexas.edu:8080

You can search by computer science related terms there(it searches the CS
dept at Univ. of Texas at Austin)

To get a sample explanation:

enter a search query and click on 'explanation' in the results.

Thanks.

On Mon, 27 Dec 2004, Vikas Gupta wrote:

> I am using lucene-1.4.1.jar(with nutch). For some reason, the effect of
> document boost is not showing up in the search results. Also, why is it
> not a part of the Explanation
>
>     Below is the 'explanation' of a sample query "solar". I don't see the
> boost value (1.5514448) being used at all in the calculation of the
> document score - from the 'explanation' below and also from the quality of
> the search.
>
>     How can I see the effect of document boost?
>
>     Thanks.
>
> -Vikas
>
> --------------- a sample explanation ------------
> page
> docNo = 0
> segment = 20041224185557
> digest = 18cef64c6c53ecf399abfd9239caf240
>
> ----> boost = 1.5514448 <----(Vikas: not used in the calculation below)
>
> lang = en
> url = http://www.cs.utexas.edu/users/vgupta/web1/a31.html
> anchor = Solar System jigsaw
> anchor = a31.html
> anchor = Solar System jigsaw
> title = Solar System jigsaw
> H1 = Solar System jigsaw
>
> score for query: solar
> 0.7634825 = sum of:
>  0.5878681 = weight(anchor:solar^2.0 in 0), product of:
>  0.3017718 = queryWeight(anchor:solar^2.0), product of:
>  2.0 = boost
>  2.2039728 = idf(docFreq=2)
>  0.06846087 = queryNorm
>  1.9480551 = fieldWeight(anchor:solar in 0), product of:
>  1.4142135 = tf(termFreq(anchor:solar)=2)
>  2.2039728 = idf(docFreq=2)
>  0.625 = fieldNorm(field=anchor, doc=0)
>  0.010230478 = weight(content:solar in 0), product of:
>  0.09287914 = queryWeight(content:solar), product of:
>  1.3566749 = idf(docFreq=6)
>  0.06846087 = queryNorm
>  0.11014828 = fieldWeight(content:solar in 0), product of:
>  1.7320508 = tf(termFreq(content:solar)=3)
>  1.3566749 = idf(docFreq=6)
>  0.046875 = fieldNorm(field=content, doc=0)
>  0.16538392 = weight(H1:solar^1.5 in 0), product of:
>  0.1393187 = queryWeight(H1:solar^1.5), product of:
>  1.5 = boost
>  1.3566749 = idf(docFreq=2)
>  0.06846087 = queryNorm
>  1.1870905 = fieldWeight(H1:solar in 0), product of:
>  1.0 = tf(termFreq(H1:solar)=1)
>  1.3566749 = idf(docFreq=2)
>  0.875 = fieldNorm(field=H1, doc=0)
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 07:37:17 2004
Return-Path: 
 <lucene-user-return-12155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86819 invoked from network); 28 Dec 2004 07:37:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 07:37:17 -0000
Received: (qmail 91369 invoked by uid 500); 28 Dec 2004 07:37:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91020 invoked by uid 500); 28 Dec 2004 07:37:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91005 invoked by uid 99); 28 Dec 2004 07:37:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from dsl-118-28.srtnet.com (HELO tornado.visionsystems.tv)
 (216.221.118.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 27 Dec 2004 23:37:01 -0800
Received: by tornado.visionsystems.tv (Postfix, from userid 503)
	id BC3F7490310; Tue, 28 Dec 2004 01:36:58 -0600 (CST)
Received: from [10.0.0.18] (24-75-205-42.chvlva.adelphia.net [24.75.205.42])
	by tornado.visionsystems.tv (Postfix) with ESMTP id 6D8294902C4
	for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 01:36:58 -0600 (CST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
References: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4B076A84-58A3-11D9-8D3B-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: document boost not showing up in Explanation
Date: Tue, 28 Dec 2004 02:37:14 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Status: No, hits=-2.5 required=1.0
	tests=EMAIL_ATTRIBUTION,IN_REP_TO,QUOTED_EMAIL_TEXT,REFERENCES,
	      REPLY_WITH_QUOTES,USER_AGENT_APPLEMAIL
	version=2.55
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 27, 2004, at 9:54 PM, Vikas Gupta wrote:
> I am using lucene-1.4.1.jar(with nutch). For some reason, the effect of
> document boost is not showing up in the search results. Also, why is it
> not a part of the Explanation

It actually is part of it....

>     Below is the 'explanation' of a sample query "solar". I don't see 
> the
> boost value (1.5514448) being used at all in the calculation of the
> document score - from the 'explanation' below and also from the 
> quality of
> the search.
>
>     How can I see the effect of document boost?

Document boost is not stored in the index as-is.  A single 
normalization factor is stored per-field and is computed at indexing 
type using field and document boosts, as well as the length 
normalization factor (and perhaps other factors I'm forgetting at the 
moment?).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 10:07:06 2004
Return-Path: 
 <lucene-user-return-12156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70358 invoked from network); 28 Dec 2004 10:07:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 10:07:06 -0000
Received: (qmail 70963 invoked by uid 500); 28 Dec 2004 10:06:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70860 invoked by uid 500); 28 Dec 2004 10:06:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70742 invoked by uid 99); 28 Dec 2004 10:05:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr10.xs4all.nl (HELO smtp-vbr10.xs4all.nl)
 (194.109.24.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 02:05:56 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.12.11/8.12.11) with ESMTP id iBSA5pGk042840
	for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 11:05:51 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: document boost not showing up in Explanation
Date: Tue, 28 Dec 2004 11:05:51 +0100
User-Agent: KMail/1.5.4
References: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
 <4B076A84-58A3-11D9-8D3B-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <4B076A84-58A3-11D9-8D3B-000A95BC61B6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200412281105.51202.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 28 December 2004 08:37, Erik Hatcher wrote:
> 
> On Dec 27, 2004, at 9:54 PM, Vikas Gupta wrote:
> > I am using lucene-1.4.1.jar(with nutch). For some reason, the effect of
> > document boost is not showing up in the search results. Also, why is it
> > not a part of the Explanation
> 
> It actually is part of it....
> 
> >     Below is the 'explanation' of a sample query "solar". I don't see 
> > the
> > boost value (1.5514448) being used at all in the calculation of the
> > document score - from the 'explanation' below and also from the 
> > quality of
> > the search.
> >
> >     How can I see the effect of document boost?
> 
> Document boost is not stored in the index as-is.  A single 
> normalization factor is stored per-field and is computed at indexing 
> type using field and document boosts, as well as the length 
> normalization factor (and perhaps other factors I'm forgetting at the 
> moment?).

This also means that the explanation can only show a field normalisation
factor as it is available from the index.

One reason that boosting does necessarily not show up in the quality of
the search is that the byte encoding allows only 256 different values to
be stored.
The value stored in the index (called the norm) is the product of the
document boost factor, the field boost factor and the lengthNorm() of
the field.
For the search results to actually change because of the boost factors,
it is necessary that this stored factor is changed to another one of
the 256 possible.

The range of possible values stored in the index is roughly from
7x10^9 to 2x10^-9 . See:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#setBoost(float)
and
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#encodeNorm(float)

The range of stored values (excluding the zero special case) is
about 7x10^9 / 2x10^-9 = 3.5x10^18. The 10 log of that is about 18.5 .
Per factor 10 there are about 255/18.5 = 13.8 encoded values.
So, a minimum boost factor that should change a document
score is about  log(13.8)/log(10) = 1.14 .
Since the default lengthNorm is the square root, a field length
should change by at least the square of that (roughly a factor 1.3)
to change the document score (assuming no hits in 
the changed field text.)

Finally, a change in document score only influences the document
ordering in the search results when another document has a score
that is within the range of the change.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 13:46:35 2004
Return-Path: 
 <lucene-user-return-12157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66516 invoked from network); 28 Dec 2004 13:46:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 13:46:35 -0000
Received: (qmail 45698 invoked by uid 500); 28 Dec 2004 13:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45575 invoked by uid 500); 28 Dec 2004 13:46:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45513 invoked by uid 99); 28 Dec 2004 13:46:01 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 05:45:57 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 4F96EC99F9
	for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 14:45:50 +0100 (CET)
Message-ID: <41D16390.6090203@fib.upc.edu>
Date: Tue, 28 Dec 2004 14:45:52 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: time of indexer
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi to everybody, and merry christmas for all(and specially people who 
that me today are "working"  instead of stay with the family).

I don't understand because my search in the index give this bad results:
I index 112 php files how a txt.
with this machine
Pentium 4 2,4GHz 512 RAM running during the index Windows XP and Eclipse
Tiempo de b�squeda total: 80882 ms

the fields that I use are
doc.add(Field.Keyword("filename", file.getCanonicalPath()));
doc.add(Field.UnStored("body", bodyText));
doc.add(Field.Text("titulo", title));

What I'm doing bad?

thks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 13:51:52 2004
Return-Path: 
 <lucene-user-return-12158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70482 invoked from network); 28 Dec 2004 13:51:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 13:51:52 -0000
Received: (qmail 60394 invoked by uid 500); 28 Dec 2004 13:51:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60364 invoked by uid 500); 28 Dec 2004 13:51:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60344 invoked by uid 99); 28 Dec 2004 13:51:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 05:51:36 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id A6E3580088; Tue, 28 Dec 2004 09:00:03 -0500
Message-ID: <41D164E3.7000503@bayt.net>
Date: Tue, 28 Dec 2004 17:51:31 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To: nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: time of indexer
References: <41D16390.6090203@fib.upc.edu>
In-Reply-To: <41D16390.6090203@fib.upc.edu>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Download Luke, it makes life easy when you inspect the index, so you an 
actually look at what you've indexed, as opposed to what you may think 
you indexed.

Nader

Daniel Cortes wrote:

> Hi to everybody, and merry christmas for all(and specially people who 
> that me today are "working"  instead of stay with the family).
>
> I don't understand because my search in the index give this bad results:
> I index 112 php files how a txt.
> with this machine
> Pentium 4 2,4GHz 512 RAM running during the index Windows XP and Eclipse
> Tiempo de búsqueda total: 80882 ms
>
> the fields that I use are
> doc.add(Field.Keyword("filename", file.getCanonicalPath()));
> doc.add(Field.UnStored("body", bodyText));
> doc.add(Field.Text("titulo", title));
>
> What I'm doing bad?
>
> thks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 18:11:26 2004
Return-Path: 
 <lucene-user-return-12159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57495 invoked from network); 28 Dec 2004 18:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 18:11:26 -0000
Received: (qmail 6582 invoked by uid 500); 28 Dec 2004 18:11:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6537 invoked by uid 500); 28 Dec 2004 18:11:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6516 invoked by uid 99); 28 Dec 2004 18:11:11 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org
 designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 10:11:07 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CjLoF-0006xM-00
	for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 19:11:03 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 19:11:03 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1
 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 28 Dec 2004 19:11:03 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: how often to optimize?
Date: Tue, 28 Dec 2004 10:10:53 -0800
Lines: 29
Message-ID: <opsjqcsfu56yt6e7@dhcp-171-71-47-107.cisco.com>
References: <opsjde48dw6yt6e7@dhcp-171-71-47-198.cisco.com>
 <20041221195859.47940.qmail@web12702.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Are not optimized indices causing you any problems (e.g. slow searches=
,
> high number of open file handles)?  If no, then you don't even need to=

> optimize until those issues become... issues.
>

OK I have changed the process to not doing optimize() at all. So far so =
 =

good. The number of files hover from 10 to 40 during the indexing of  =

10,000 files. Seems Lucene is doing some kind of self maintenance to kee=
p  =

things in order.

Is it right to say optimize() is a totally optional operation? I probabl=
y  =

get the impression it is a natural step to end an incremental update fro=
m  =

the IndexHTML example. Since it replicates the whole index it might be a=
n  =

overkill for many applications to do daily.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 28 18:40:41 2004
Return-Path: 
 <lucene-user-return-12160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69798 invoked from network); 28 Dec 2004 18:40:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Dec 2004 18:40:41 -0000
Received: (qmail 69309 invoked by uid 500); 28 Dec 2004 18:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69283 invoked by uid 500); 28 Dec 2004 18:40:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69264 invoked by uid 99); 28 Dec 2004 18:40:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com)
 (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 28 Dec 2004 10:40:17 -0800
Received: (qmail 35933 invoked by uid 60001); 28 Dec 2004 18:40:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=eVwmPljjhkKoaO59U05oEzV1vEgxS1C6v3VwTLw/kFaTtNMpB5Pw2by4cRBYqWPXHRPRsZUa1zPcFFPNtJH64BFNq1Id4Xrn1adJJW4XAm6dKmgUfSp76VxuItcSU3dBGVRKU2kuTNJp31ivsCVhR2BdoU059XaZF/TezzECfQI=
  ;
Message-ID: <20041228184015.35931.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Tue, 28 Dec 2004 10:40:15 PST
Date: Tue, 28 Dec 2004 10:40:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: how often to optimize?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <opsjqcsfu56yt6e7@dhcp-171-71-47-107.cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Correct.
The self-maintenance you are referring to is Lucene's periodic segment
merging.  The frequency of that can be controlled through IndexWriter's
mergeFactor.

Otis

--- aurora <aurora00@gmail.com> wrote:

> > Are not optimized indices causing you any problems (e.g. slow
> searches,
> > high number of open file handles)?  If no, then you don't even need
> to
> > optimize until those issues become... issues.
> >
> 
> OK I have changed the process to not doing optimize() at all. So far
> so  
> good. The number of files hover from 10 to 40 during the indexing of 
> 
> 10,000 files. Seems Lucene is doing some kind of self maintenance to
> keep  
> things in order.
> 
> Is it right to say optimize() is a totally optional operation? I
> probably  
> get the impression it is a natural step to end an incremental update
> from  
> the IndexHTML example. Since it replicates the whole index it might
> be an  
> overkill for many applications to do daily.
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 00:09:12 2004
Return-Path: 
 <lucene-user-return-12161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27570 invoked from network); 29 Dec 2004 00:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 00:09:12 -0000
Received: (qmail 64305 invoked by uid 500); 29 Dec 2004 00:09:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64281 invoked by uid 500); 29 Dec 2004 00:09:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64268 invoked by uid 99); 29 Dec 2004 00:09:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 16:09:04 -0800
Received: by wproxy.gmail.com with SMTP id 69so758116wri
        for <lucene-user@jakarta.apache.org>;
 Tue, 28 Dec 2004 16:09:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=UQSSlt3DiXjUusNXuTuzLJte0Q56FJQg+RGpXiyvlIMpgaIa7Z4UfZ9h9bcaZcDYEAe5GKE/lsh6wMaPt7dNz41XNGJA2qYQt9lj4Fxn1gWSCvDdckOF6yjorT/feeguV8RbLXS2HehWE/VKL0PYhzlzGSVWbiecxkAiLm/2poM=
Received: by 10.54.56.73 with SMTP id e73mr97232wra;
        Tue, 28 Dec 2004 16:09:02 -0800 (PST)
Received: by 10.54.4.59 with HTTP; Tue, 28 Dec 2004 16:09:02 -0800 (PST)
Message-ID: <e4ae55b9041228160947503486@mail.gmail.com>
Date: Wed, 29 Dec 2004 01:09:02 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: lucene-user <lucene-user@jakarta.apache.org>
Subject: QueryParser, default operator
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
the following code
  QueryParser qp = new QueryParser("itemContent", analyzer);
  qp.setOperator(org.apache.lucene.queryParser.QueryParser.DEFAULT_OPERATOR_AND);
  Query query = qp.parse(line, "itemContent", analyzer);
doesn't produce the expected result because a query "foo bar" results in:
  itemContent:foo itemContent:bar
where as a "foo AND bar" results in
  +itemContent:foo +itemContent:bar

If I understand the default operator correctly than the first query
should have been expanded to the same as the latter one, isn't it?

thanks a lot!
Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 00:18:43 2004
Return-Path: 
 <lucene-user-return-12162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30431 invoked from network); 29 Dec 2004 00:18:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 00:18:43 -0000
Received: (qmail 79696 invoked by uid 500); 29 Dec 2004 00:18:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79665 invoked by uid 500); 29 Dec 2004 00:18:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79641 invoked by uid 99); 29 Dec 2004 00:18:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at
 spf.trusted-forwarder.org)
Received: from web25809.mail.ukl.yahoo.com (HELO web25809.mail.ukl.yahoo.com)
 (217.12.10.194)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 28 Dec 2004 16:18:21 -0800
Received: (qmail 22649 invoked by uid 60001); 29 Dec 2004 00:18:19 -0000
Message-ID: <20041229001819.22647.qmail@web25809.mail.ukl.yahoo.com>
Received: from [141.99.131.134] by web25809.mail.ukl.yahoo.com via HTTP;
 Wed, 29 Dec 2004 01:18:19 CET
Date: Wed, 29 Dec 2004 01:18:19 +0100 (CET)
From: Miro Max <kikiriki2k@yahoo.de>
Subject: how to get most frequented terms from hits
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

is ist possible to get most frequented terms from
hits?

thx

miro


	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 03:15:45 2004
Return-Path: 
 <lucene-user-return-12163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99402 invoked from network); 29 Dec 2004 03:15:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 03:15:45 -0000
Received: (qmail 96721 invoked by uid 500); 29 Dec 2004 03:15:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95903 invoked by uid 500); 29 Dec 2004 03:15:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95889 invoked by uid 99); 29 Dec 2004 03:15:42 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of kenshir@mail.com designates
 205.158.62.67 as permitted sender)
Received: from webmail-outgoing.us4.outblaze.com (HELO
 webmail-outgoing.us4.outblaze.com) (205.158.62.67)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 19:15:38 -0800
Received: from wfilter.us4.outblaze.com (wfilter.us4.outblaze.com
 [205.158.62.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id 897461800223
	for <lucene-user@jakarta.apache.org>; Wed, 29 Dec 2004 03:15:37 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.182)
  by wfilter.us4.outblaze.com; 29 Dec 2004 03:15:37 -0000
Received: by ws1-6.us4.outblaze.com (Postfix, from userid 1001)
	id D9A5D1CE305; Wed, 29 Dec 2004 03:15:36 +0000 (GMT)
Content-Type: text/plain; charset="iso-8859-1"
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
Received: from [151.25.94.97] by ws1-6.us4.outblaze.com with http for
    kenshir@mail.com; Tue, 28 Dec 2004 22:15:36 -0500
From: "Gimmy Pegoraro" <kenshir@mail.com>
To: lucene-user@jakarta.apache.org
Date: Tue, 28 Dec 2004 22:15:36 -0500
Subject: Re: Translation
X-Originating-Ip: 151.25.94.97
X-Originating-Server: ws1-6.us4.outblaze.com
Message-Id: <20041229031536.D9A5D1CE305@ws1-6.us4.outblaze.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, I'm the author of the following italian document posted on this mailing=
 list from Tun Lin the 3th December 2003.

Sorry for the huge delay of this reply, but I've just come back here after =
a very long time.
That document is referred to Lucy, a Java application I developed using Luc=
ene and other useful open source libraries.

Lucy can index txt, html, pdf, doc, ppt, xls documents written in English a=
nd/or in Italian, with automatic language categorization and suitable stemm=
ing and filtering procedures.
Unfortunately I haven't translated the documentation to English yet, but if=
 someone needs help, like Tun Lin did, please feel free to write to my e-ma=
il address.
If the requests will be enough, I will post something like a FAQ document o=
n this mailing list.

The last release of Lucy (1.2) can be downloaded from this webpage:
http://www.nsw2001.com/nsw2001/php/software.php
otherwise directly from this URL:
http://www.nsw2001.com/kenshir/lucy/lucy1.2.exe

Cheers! :)
Gimmy Pegoraro





From: Tun Lin <chentun@singnet.com.sg>
Subject: Translation.
Date: Wed, 3 Dec 2003 09:42:02 +0800
Content-Type: multipart/alternative;
boundary=3D"----=3D_NextPart_000_0007_01C3B981.B4EE1F10"

> Hi,
>=20
> Can anyone translate this text for me? I cannot understand the
> instructions.
> Please help!
>=20
> Thanks.
>=20
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>  ____________
> |            |
> | LUCY 1.1   |   readme.txt    Ultimo aggiornamento: 18/03/2003
> |____________|
>=20
>=20
>=20
>=20
>=20
> STRUTTURA
>=20
>=20
> Lucy 1.1	-> Lucene 1.2
> 		-> HTMLParser 1.2
> 		-> PdfBox 0.5.6
> 		-> wvWare 0.7.2-3
> 		-> xlhtml 0.4.9
> 		-> antiword 0.33
> 		-> Xpdf 2.01=20
> 		-> Snowball 0.1
> 		-> NGramJ 01.12.11
> 		-> it.corila.lucy	-> IndexAll.java
> 					-> SearchIndex.java
> 					-> HTMLDocument.java
> 					-> PDFDocument.java
> 					-> ExternalParser.java
> 					-> ItalianStemFilter.java
> 					-> EnglishStemFilter.java
> 					-> ApostropheFilter.java
> 					-> IndexAnalyzer.java
> 					-> SearchAnalyzer.java
> 					-> LanguageCategorizer
> 					-> NgramjCategorizer.java
>=20
>=20
>=20
>=20
>=20
> DESCRIZIONE
>=20
> Lucy e' in grado di indicizzare tutti i files con estensione txt,
> html, pdf,
> doc, ppt, xls contenuti in una cartella base e nelle sue
> sottocartelle. Consente
> ricerche da linea di comando DOS oppure mediante interfaccia web.
> Gestisce testi
> in Italiano e Inglese con procedure di elaborazione lessicale
> specifiche.
>=20
> (...)
--=20
___________________________________________________________
Sign-up for Ads Free at Mail.com
http://promo.mail.com/adsfreejump.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 03:52:00 2004
Return-Path: 
 <lucene-user-return-12164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8879 invoked from network); 29 Dec 2004 03:52:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 03:52:00 -0000
Received: (qmail 41260 invoked by uid 500); 29 Dec 2004 03:51:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41189 invoked by uid 500); 29 Dec 2004 03:51:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41131 invoked by uid 99); 29 Dec 2004 03:51:51 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail01.internetmailserver.net (HELO
 mail01.internetmailserver.net) (64.79.161.12)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 28 Dec 2004 19:51:48 -0800
Received: (qmail 13205 invoked by uid 89); 29 Dec 2004 03:51:45 -0000
Received: from unknown (HELO webmail.codeintime.com) (192.168.100.126)
  by mail01.internetmailserver.net with SMTP; 29 Dec 2004 03:51:45 -0000
Received: from 144.136.141.51
        (SquirrelMail authenticated user aneesha@codeintime.com);
        by webmail.codeintime.com with HTTP;
        Tue, 28 Dec 2004 19:51:45 -0800 (PST)
Message-ID: <1252.144.136.141.51.1104292305.squirrel@144.136.141.51>
Date: Tue, 28 Dec 2004 19:51:45 -0800 (PST)
Subject: Asking Questions in a Search
From: aneesha@codeintime.com
To: lucene-user@jakarta.apache.org
User-Agent: SquirrelMail/1.4.3a
X-Mailer: SquirrelMail/1.4.3a
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Is it possible to do something like this with lucene:
http://www.verity.com/products/response/index.html

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 05:24:49 2004
Return-Path: 
 <lucene-user-return-12165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34792 invoked from network); 29 Dec 2004 05:24:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 05:24:49 -0000
Received: (qmail 35938 invoked by uid 500); 29 Dec 2004 05:24:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35129 invoked by uid 500); 29 Dec 2004 05:24:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35113 invoked by uid 99); 29 Dec 2004 05:24:45 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO
 reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 21:24:42 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Asking Questions in a Search
Date: Tue, 28 Dec 2004 21:24:39 -0800
Message-ID: 
 <E3381E0825F1954D953A4E347017BB1C02DF49B8@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Asking Questions in a Search
Thread-Index: AcTtWb/nFLCVqauAReyzilQks04EUgADAkAQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Verity acquired Native Minds -- Verity Response appears to be that
technology.  It is not search technology at all -- rather it is a
programmed question-answer script knowledge base.  IMO, there are much
better commercial solutions to this problem; e.g., see www.inquira.com,
which integrates automated natural language search (i.e., finding
specific answers to natural language questions from within a text
corpus) with question/answer scripting capabilities.

I believe Lucene would be an excellent foundation for a system like
this, but it would need to be extended with a natural language query
parser / search-query generator and, if desired, some form of scripting
knowledge base.  Somebody may have gone down this path, but I'm not
aware of it.

Chuck

  > -----Original Message-----
  > From: aneesha@codeintime.com [mailto:aneesha@codeintime.com]
  > Sent: Tuesday, December 28, 2004 7:52 PM
  > To: lucene-user@jakarta.apache.org
  > Subject: Asking Questions in a Search
  >=20
  > Hi
  >=20
  > Is it possible to do something like this with lucene:
  > http://www.verity.com/products/response/index.html
  >=20
  > Thanks
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 07:27:37 2004
Return-Path: 
 <lucene-user-return-12166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69203 invoked from network); 29 Dec 2004 07:27:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 07:27:37 -0000
Received: (qmail 94877 invoked by uid 500); 29 Dec 2004 07:27:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94859 invoked by uid 500); 29 Dec 2004 07:27:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94845 invoked by uid 99); 29 Dec 2004 07:27:27 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from act-ironport-ext-out3.csiro.au (HELO
 act-ironport-ext-out3.csiro.au) (150.229.7.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 28 Dec 2004 23:27:22 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by act-ironport-ext-out3.csiro.au with ESMTP; 29 Dec 2004 18:27:19 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,89,1102251600";
   d="scan'208"; a="23180984:sNHT20227120"
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by
 exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 29 Dec 2004 18:27:18 +1100
Received: from [144.110.32.63] ([144.110.32.63]) by EXSA2-ADL.sa.csiro.au with
 Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 29 Dec 2004 17:57:18 +1030
Message-ID: <41D25C54.6000508@csiro.au>
Date: Wed, 29 Dec 2004 17:27:16 +1000
From: Andrew Cunningham <cun063@csiro.au>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word co-occurrences counts
References: <6E2ECDB9E71C6D4EB277BC42D24E37BF10700A@exsa2-adl.sa.csiro.au>
 <200412230840.01287.paul.elschot@xs4all.nl> <41CB6016.4050309@csiro.au>
 <41CB64ED.7000208@apache.org> <41CB66DE.4020805@apache.org>
In-Reply-To: <41CB66DE.4020805@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 29 Dec 2004 07:27:18.0546 (UTC)
 FILETIME=[D3EA5F20:01C4ED77]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug,
This appears to works like a charm.

Doug Cutting wrote:

> Doug Cutting wrote:
>
>> You could use a custom Similarity implementation for this query, 
>> where tf() is the identity function, idf() returns 1.0, etc., so that 
>> the final score is the occurance count.  You'll need to divide by 
>> Similarity.decodeNorm(indexReader.norms("field")[doc]) at the end to 
>> get rid of the lengthNorm() and field boost (if any).
>
>
> Much simpler would be to build a SpanNearQuery, call getSpans(), then 
> loop, counting how many times Spans.next() returns true.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 17:39:50 2004
Return-Path: 
 <lucene-user-return-12167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82540 invoked from network); 29 Dec 2004 17:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 17:39:50 -0000
Received: (qmail 98167 invoked by uid 500); 29 Dec 2004 17:39:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98138 invoked by uid 500); 29 Dec 2004 17:39:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98099 invoked by uid 99); 29 Dec 2004 17:39:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 09:39:06 -0800
Received: from ppeddi ([192.168.1.49]) by contextmedia.com ;
 Wed, 29 Dec 2004 12:37:16 -0500
Message-ID: <0f4101c4edcc$ea145990$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: sorting on a non english based locale field
Date: Wed, 29 Dec 2004 12:36:22 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0F3E_01C4EDA3.011F57E0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0F3E_01C4EDA3.011F57E0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi fellow luceners,
I was looking at the lucene sorting code and it looks like lucene does =
consider locale into account while sorting. So I assume lucene already =
handles for strings.

But in my case, I wrote my own SortComparator =
(StringIgnoreCaseSortComparator) to achieve sorting similar to explorer =
sorting. Because lucene uses java's string.compareTo method and that =
considers  "case" of each character, I can't use lucene's default string =
sorting.

The question is, how do I integrate Locale into my =
StringIgnoreCaseSortComparator while comparing strings. Lucene's code =
gets the locale from SortField but I don't have access to SortField in =
this comparator.

Any ideas???? Should StringIgnoreCaseSortComparator be just knowing the =
locale at the time of instantiating?

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_0F3E_01C4EDA3.011F57E0--


From MAILER-DAEMON Wed Dec 29 17:44:57 2004
Return-Path: 
 <lucene-user-return-12168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85173 invoked from network); 29 Dec 2004 17:44:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 17:44:57 -0000
Received: (qmail 14176 invoked by uid 500); 29 Dec 2004 17:44:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14150 invoked by uid 500); 29 Dec 2004 17:44:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14134 invoked by uid 99); 29 Dec 2004 17:44:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.201 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 09:44:44 -0800
Received: by wproxy.gmail.com with SMTP id 69so854552wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 29 Dec 2004 09:44:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=Q93kLOvI/wm8kYBXkLke5WP7KAbJ45cY9Go+trxxjtDHW0o4guvO/ohqTiLhPjpr5mzfBDgPPUn9Lul+h/TiGddVme6dNKROpXfF9WLd3ALwsIDLEQdtw98qwLwn09wQOZ76/GaQPxu4ZXfdgQ4wF7Yjh7CvC0ueBC0Q2TDVWzU=
Received: by 10.54.44.34 with SMTP id r34mr234438wrr;
        Wed, 29 Dec 2004 09:41:47 -0800 (PST)
Received: by 10.54.4.59 with HTTP; Wed, 29 Dec 2004 09:41:47 -0800 (PST)
Message-ID: <e4ae55b9041229094172eded76@mail.gmail.com>
Date: Wed, 29 Dec 2004 18:41:47 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: lucene-user <lucene-user@jakarta.apache.org>
Subject: QueryParser, default operator
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
the following code
 QueryParser qp = new QueryParser("itemContent", analyzer);
 qp.setOperator(org.apache.lucene.queryParser.QueryParser.DEFAULT_OPERATOR_AND);
 Query query = qp.parse(line, "itemContent", analyzer);
doesn't produce the expected result because a query "foo bar" results in:
 itemContent:foo itemContent:bar
where as a "foo AND bar" results in
 +itemContent:foo +itemContent:bar

If I understand the default operator correctly than the first query
should have been expanded to the same as the latter one, isn't it?

thanks a lot!
Paul

P.S. I sent the mail yesterday as well, but I didn't see it in the
mailinglist, I hope it doesn't appear twice now.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 18:05:55 2004
Return-Path: 
 <lucene-user-return-12169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93027 invoked from network); 29 Dec 2004 18:05:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 18:05:55 -0000
Received: (qmail 50288 invoked by uid 500); 29 Dec 2004 18:05:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50272 invoked by uid 500); 29 Dec 2004 18:05:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50250 invoked by uid 99); 29 Dec 2004 18:05:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutvdom.kundenserver.de (HELO moutvdomng.kundenserver.de)
 (212.227.126.249)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 10:05:42 -0800
Received: from [212.227.126.221] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1CjiCW-00020B-00; Wed, 29 Dec 2004 19:05:36 +0100
Received: from [80.128.91.33] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1CjiCW-0002nV-00; Wed, 29 Dec 2004 19:05:36 +0100
Received: by eco (Postfix, from userid 1000)
	id 65A6E8383F; Wed, 29 Dec 2004 19:07:05 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16850.62025.300895.295190@onlinehome.de>
Date: Wed, 29 Dec 2004 19:07:05 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	Paul <paul.fuehring@gmail.com>
Subject: Re: QueryParser, default operator
In-Reply-To: <e4ae55b9041229094172eded76@mail.gmail.com>
References: <e4ae55b9041229094172eded76@mail.gmail.com>
X-Mailer: VM 7.17 under 21.4 (patch 15) "Security Through Obscurity" XEmacs
 Lucid
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul writes:

> the following code
>  QueryParser qp = new QueryParser("itemContent", analyzer);
>  qp.setOperator(org.apache.lucene.queryParser.QueryParser.DEFAULT_OPERATOR_AND);
>  Query query = qp.parse(line, "itemContent", analyzer);
> doesn't produce the expected result because a query "foo bar" results in:
>  itemContent:foo itemContent:bar
> where as a "foo AND bar" results in
>  +itemContent:foo +itemContent:bar
> 
> If I understand the default operator correctly than the first query
> should have been expanded to the same as the latter one, isn't it?
> 
try qp.parse(line).
parse(String query, String field, Analyzer analyzer) is a static method
that create it's own instance of QP, that does not know anything about
the settings of your qp object.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 29 18:54:52 2004
Return-Path: 
 <lucene-user-return-12170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8052 invoked from network); 29 Dec 2004 18:54:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 18:54:52 -0000
Received: (qmail 36201 invoked by uid 500); 29 Dec 2004 18:54:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36158 invoked by uid 500); 29 Dec 2004 18:54:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36098 invoked by uid 99); 29 Dec 2004 18:54:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com)
 (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 10:54:26 -0800
Received: from ppeddi ([192.168.1.49]) by contextmedia.com ;
 Wed, 29 Dec 2004 13:54:19 -0500
Message-ID: <0f7401c4edd7$ad529ac0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <012f01c4e6b6$2eff82f0$aa87a8c0@ppeddi>
 <Pine.LNX.4.58.0412230142070.6239@hal.rescomp.berkeley.edu>
Subject: Re: sorting on a field that can have null values
Date: Wed, 29 Dec 2004 13:53:25 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0F71_01C4EDAD.C44A8640"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0F71_01C4EDAD.C44A8640
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
Sorry for the late response. I didn't cheak the reply till now.

I think sorting on a field that doesn't exist for every doc is throwing =
NullPointerException for me (if its of type string). FYI: I am using my =
own comparator for string (see below for the code). I am sure something =
is wrong in my comparator but having hard time figure out whats wrong. I =
get NullPointerException all the time if some of the fields are null. =
When I use default lucene's comparator for string, its fine. May be =
someone can put their eyes on the code below and figure out that problem =
is very obvious. I found that some of the comparables are null so =
NullPointerEception is occuring in SortComparator.java at line 36.

Thanks
Prvaeen

public class StringIgnoreCaseSortComparator extends SortComparator {
 private static StringIgnoreCaseSortComparator =
stringIgnoreCaseSortComparator;
=20
 private StringIgnoreCaseSortComparator() {
  super();
 }
=20
  protected Comparable getComparable(String termtext) { =20
  return new StringIgnoreCaseComparable(termtext);
 }
=20
 public static synchronized StringIgnoreCaseSortComparator getInstance() =
{
  if(stringIgnoreCaseSortComparator =3D=3Dnull) {
   stringIgnoreCaseSortComparator =3D new =
StringIgnoreCaseSortComparator();
  }
 =20
  return stringIgnoreCaseSortComparator;
 }
=20
 class StringIgnoreCaseComparable implements Comparable {
  private String stringToCompare;
 =20
  public StringIgnoreCaseComparable(String stringToCompare) {
   this.stringToCompare =3D stringToCompare;
  }

  public int compareTo(Object o) {  =20
   int result =3D 0;
   if(stringToCompare=3D=3Dnull) {//put it at the bottom (compatible =
with db sorting)
    result =3D 1;
   } else if(o=3D=3Dnull || =
((StringIgnoreCaseComparable)o).getStringToCompare() =3D=3D null) {
    result =3D -1;
   } else {
    =
stringToCompare.compareToIgnoreCase(((StringIgnoreCaseComparable)o).getSt=
ringToCompare());
   }
   return result;
  }=20
 =20
 public boolean equals(Object obj) {
   if(stringToCompare=3D=3Dnull || obj=3D=3Dnull) {
    return false;//if either of the objects are null, return false
   }
   return =
stringToCompare.equalsIgnoreCase(((StringIgnoreCaseComparable)obj).getStr=
ingToCompare());
  }
 =20
  public String getStringToCompare() {
   return stringToCompare;
  }
 }

}

----- Original Message -----=20
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 23, 2004 4:43 AM
Subject: Re: sorting on a field that can have null values


>=20
> : I thought of putting empty strings instead of null values but I =
think
> : empty strings are put first in the list while sorting which is the
> : reverse of what anyone would want.
>=20
> instead of adding a field with a null value, or value of an epty =
string,
> why not just leave the field out for that/those doc(s)?
>=20
> there's no requirement that every doc in your index has to have the =
exact
> same set of fields.
>=20
> If i rememebr correctly (you'll have to test this) sorting on a field
> which doesn't exist for every doc does what you would want (docs with
> values are listed before docs without)
>=20
>=20
>=20
> -Hoss
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>
------=_NextPart_000_0F71_01C4EDAD.C44A8640--


From MAILER-DAEMON Wed Dec 29 19:35:17 2004
Return-Path: 
 <lucene-user-return-12171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20630 invoked from network); 29 Dec 2004 19:35:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Dec 2004 19:35:17 -0000
Received: (qmail 8176 invoked by uid 500); 29 Dec 2004 19:35:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8075 invoked by uid 500); 29 Dec 2004 19:35:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8060 invoked by uid 99); 29 Dec 2004 19:35:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.197 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 11:35:07 -0800
Received: by wproxy.gmail.com with SMTP id 67so60716wri
        for <lucene-user@jakarta.apache.org>;
 Wed, 29 Dec 2004 11:34:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=VyE93OdV2y4Wh1c98hkJuCWKY5IvUqgJ75f4FofCyrRk/nhiOG4PlLPetOkEKvoNeHeBrEp56lF8tEz8uKUlNpcCsSsei5jHPpRJqmvApezGtpVeh02s4+fEgnRi0e56JSvNAYAOLJD0dU0miRdYOi6bb52sKAnkz8SZ8kZYftQ=
Received: by 10.54.27.69 with SMTP id a69mr87868wra;
        Wed, 29 Dec 2004 11:34:58 -0800 (PST)
Received: by 10.54.4.59 with HTTP; Wed, 29 Dec 2004 11:34:58 -0800 (PST)
Message-ID: <e4ae55b9041229113436c0baa4@mail.gmail.com>
Date: Wed, 29 Dec 2004 20:34:58 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Re: QueryParser, default operator
In-Reply-To: <16850.62025.300895.295190@onlinehome.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <e4ae55b9041229094172eded76@mail.gmail.com>
	 <16850.62025.300895.295190@onlinehome.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thank you! that's it :-)

Paul


On Wed, 29 Dec 2004 19:07:05 +0100, Morus Walter <morus.walter@gmx.de> wrote:
> Paul writes:
> 
> > the following code
> >  QueryParser qp = new QueryParser("itemContent", analyzer);
> >  qp.setOperator(org.apache.lucene.queryParser.QueryParser.DEFAULT_OPERATOR_AND);
> >  Query query = qp.parse(line, "itemContent", analyzer);
> > doesn't produce the expected result because a query "foo bar" results in:
> >  itemContent:foo itemContent:bar
> > where as a "foo AND bar" results in
> >  +itemContent:foo +itemContent:bar
> >
> > If I understand the default operator correctly than the first query
> > should have been expanded to the same as the latter one, isn't it?
> > 
> try qp.parse(line).
> parse(String query, String field, Analyzer analyzer) is a static method
> that create it's own instance of QP, that does not know anything about
> the settings of your qp object.
> 
> Morus
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 01:47:12 2004
Return-Path: 
 <lucene-user-return-12172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84671 invoked from network); 30 Dec 2004 01:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 01:47:12 -0000
Received: (qmail 7505 invoked by uid 500); 30 Dec 2004 01:47:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7221 invoked by uid 500); 30 Dec 2004 01:47:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7206 invoked by uid 99); 30 Dec 2004 01:47:05 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org
 designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 17:47:02 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CjpOz-0000rL-00
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 02:46:57 +0100
Received: from adsl-68-94-33-130.dsl.rcsntx.swbell.net ([68.94.33.130])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 02:46:57 +0100
Received: from vin by adsl-68-94-33-130.dsl.rcsntx.swbell.net with local
 (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 02:46:57 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Vic <vin@friendvu.com>
Subject: download url is ...
Date: Wed, 29 Dec 2004 19:46:47 -0600
Lines: 10
Message-ID: <cqvmm6$d10$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: adsl-68-94-33-130.dsl.rcsntx.swbell.net
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

http://jakarta.apache.org/site/binindex.cgi#lucene

This does not work, is there a way to get a late build?
Nighlies?
tia,
.V
-- 
RiA-SoA w/JDNC <http://www.SandraSF.com> forums
- help develop a community
My blog <http://www.sandrasf.com/adminBlog>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 02:00:26 2004
Return-Path: 
 <lucene-user-return-12173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87379 invoked from network); 30 Dec 2004 02:00:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 02:00:26 -0000
Received: (qmail 26179 invoked by uid 500); 30 Dec 2004 02:00:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26160 invoked by uid 500); 30 Dec 2004 02:00:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26146 invoked by uid 99); 30 Dec 2004 02:00:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu)
 (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 18:00:17 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 06F7D1C014
	for <lucene-user@jakarta.apache.org>; Wed, 29 Dec 2004 21:00:15 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 21782-06 for <lucene-user@jakarta.apache.org>;
 Wed, 29 Dec 2004 21:00:14 -0500 (EST)
Received: from [192.168.1.103]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id AA85D1BFB4
	for <lucene-user@jakarta.apache.org>; Wed, 29 Dec 2004 21:00:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <cqvmm6$d10$1@sea.gmane.org>
References: <cqvmm6$d10$1@sea.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <966F167E-5A06-11D9-B55B-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: download url is ...
Date: Wed, 29 Dec 2004 21:00:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 29, 2004, at 8:46 PM, Vic wrote:
> http://jakarta.apache.org/site/binindex.cgi#lucene
>
> This does not work

The .zip seems to be broken (though I haven't checked on why that is 
yet).  The .tar.gz, though, worked fine for me.

> , is there a way to get a late build?
> Nighlies?

It depends on what your purpose is ... but I'd recommend you use the 
1.4.3 release version.

But if you want the latest build, "cvs co" and "ant" is the way to get 
it.  We currently do not publish nightly builds (though there may be 
some systems that do build Lucene regularly and publish the results), 
that I know of.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 02:12:43 2004
Return-Path: 
 <lucene-user-return-12174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91171 invoked from network); 30 Dec 2004 02:12:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 02:12:43 -0000
Received: (qmail 42677 invoked by uid 500); 30 Dec 2004 02:12:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42630 invoked by uid 500); 30 Dec 2004 02:12:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42617 invoked by uid 99); 30 Dec 2004 02:12:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 29 Dec 2004 18:12:34 -0800
Received: from deadrise.cs.utexas.edu (vgupta@deadrise.cs.utexas.edu
 [128.83.144.220])
	by mail.cs.utexas.edu (8.13.2/8.13.2) with ESMTP id iBU2CVAf026665
	for <lucene-user@jakarta.apache.org>; Wed, 29 Dec 2004 20:12:31 -0600 (CST)
Received: (from vgupta@localhost)
	by deadrise.cs.utexas.edu (8.12.11/8.12.11/Submit) id iBU2CVKb023644;
	Wed, 29 Dec 2004 20:12:31 -0600
Date: Wed, 29 Dec 2004 20:12:31 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: document boost not showing up in Explanation
In-Reply-To: <200412281105.51202.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0412292009520.23402@deadrise.cs.utexas.edu>
References: <Pine.LNX.4.58.0412272049240.13940@deadrise.cs.utexas.edu>
 <4B076A84-58A3-11D9-8D3B-000A95BC61B6@ehatchersolutions.com>
 <200412281105.51202.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks a lot Erik and Paul for the great explanation. I understand the
issues now.

I also found that the relevant code is in (or is called from) the function
DocumentWriter::addDocument().

On Tue, 28 Dec 2004, Paul Elschot wrote:

> On Tuesday 28 December 2004 08:37, Erik Hatcher wrote:
> >
> > On Dec 27, 2004, at 9:54 PM, Vikas Gupta wrote:
> > > I am using lucene-1.4.1.jar(with nutch). For some reason, the effect of
> > > document boost is not showing up in the search results. Also, why is it
> > > not a part of the Explanation
> >
> > It actually is part of it....
> >
> > >     Below is the 'explanation' of a sample query "solar". I don't see
> > > the
> > > boost value (1.5514448) being used at all in the calculation of the
> > > document score - from the 'explanation' below and also from the
> > > quality of
> > > the search.
> > >
> > >     How can I see the effect of document boost?
> >
> > Document boost is not stored in the index as-is.  A single
> > normalization factor is stored per-field and is computed at indexing
> > type using field and document boosts, as well as the length
> > normalization factor (and perhaps other factors I'm forgetting at the
> > moment?).
>
> This also means that the explanation can only show a field normalisation
> factor as it is available from the index.
>
> One reason that boosting does necessarily not show up in the quality of
> the search is that the byte encoding allows only 256 different values to
> be stored.
> The value stored in the index (called the norm) is the product of the
> document boost factor, the field boost factor and the lengthNorm() of
> the field.
> For the search results to actually change because of the boost factors,
> it is necessary that this stored factor is changed to another one of
> the 256 possible.
>
> The range of possible values stored in the index is roughly from
> 7x10^9 to 2x10^-9 . See:
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#setBoost(float)
> and
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#encodeNorm(float)
>
> The range of stored values (excluding the zero special case) is
> about 7x10^9 / 2x10^-9 = 3.5x10^18. The 10 log of that is about 18.5 .
> Per factor 10 there are about 255/18.5 = 13.8 encoded values.
> So, a minimum boost factor that should change a document
> score is about  log(13.8)/log(10) = 1.14 .
> Since the default lengthNorm is the square root, a field length
> should change by at least the square of that (roughly a factor 1.3)
> to change the document score (assuming no hits in
> the changed field text.)
>
> Finally, a change in document score only influences the document
> ordering in the search results when another document has a score
> that is within the range of the change.
>
> Regards,
> Paul Elschot.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 08:32:46 2004
Return-Path: 
 <lucene-user-return-12175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42564 invoked from network); 30 Dec 2004 08:32:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 08:32:46 -0000
Received: (qmail 68989 invoked by uid 500); 30 Dec 2004 08:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68958 invoked by uid 500); 30 Dec 2004 08:32:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68942 invoked by uid 99); 30 Dec 2004 08:32:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 00:32:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 91AE413E2005; Thu, 30 Dec 2004 03:32:28 -0500 (EST)
Received: from [192.168.1.104]
 (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id EF5F313E200A
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 03:32:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <0f4101c4edcc$ea145990$aa87a8c0@ppeddi>
References: <0f4101c4edcc$ea145990$aa87a8c0@ppeddi>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <51002AB6-5A3D-11D9-8147-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting on a non english based locale field
Date: Thu, 30 Dec 2004 03:32:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Dec 29, 2004, at 12:36 PM, Praveen Peddi wrote:
> Hi fellow luceners,
> I was looking at the lucene sorting code and it looks like lucene does 
> consider locale into account while sorting. So I assume lucene already 
> handles for strings.
>
> But in my case, I wrote my own SortComparator 
> (StringIgnoreCaseSortComparator) to achieve sorting similar to 
> explorer sorting. Because lucene uses java's string.compareTo method 
> and that considers  "case" of each character, I can't use lucene's 
> default string sorting.
>
> The question is, how do I integrate Locale into my 
> StringIgnoreCaseSortComparator while comparing strings. Lucene's code 
> gets the locale from SortField but I don't have access to SortField in 
> this comparator.
>
> Any ideas???? Should StringIgnoreCaseSortComparator be just knowing 
> the locale at the time of instantiating?

Yes, when using a custom sorting implementation, you need to hand it 
whatever information it needs to do the sorting.  The Locale parameters 
to SortField are used only in the built-in mechanisms and not part of 
the API for using a custom implementation.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 09:12:06 2004
Return-Path: 
 <lucene-user-return-12176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56572 invoked from network); 30 Dec 2004 09:12:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 09:12:06 -0000
Received: (qmail 31426 invoked by uid 500); 30 Dec 2004 09:11:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31399 invoked by uid 500); 30 Dec 2004 09:11:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31384 invoked by uid 99); 30 Dec 2004 09:11:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail-out.m-online.net (HELO mail-out.m-online.net) (212.18.0.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 01:11:54 -0800
Received: from mail.m-online.net (svr20.m-online.net [192.168.3.148])
	by mail-out.m-online.net (Postfix) with ESMTP id 841CA499C
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 10:11:50 +0100 (CET)
Received: from server-pdc (ppp-82-135-1-202.mnet-online.de [82.135.1.202])
	by mail.m-online.net (Postfix) with SMTP id 88C94277D9
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 10:11:06 +0100 (CET)
X-KENId: 00001EC2KENF65AC283
X-KENRelayed: 00001EC2KENF65AC283@server-pdc
Received: from 192.168.129.44:1482
   by KEN! (192.168.129.200:25) with SMTP
   ; Thu, 30 Dec 2004 10:11:48 +0100
Date: Thu, 30 Dec 2004 10:11:49 +0100
From: "Thilo Will" <t.will@linguatec.de>
Subject: problem indexing large document collction on windows xp
To: <lucene-user@jakarta.apache.org>
Reply-To: <t.will@linguatec.de>
Mime-Version: 1.0
Content-Type: text/plain;
   charset="us-ascii"
X-KENRecTime: 1104397908
Content-Transfer-Encoding: 7bit
Organization: linguatec
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Thread-Index: AcTuT5gpzl8B/cIyT0uzGphTr/ULMA==
Message-Id: <20041230091106.88C94277D9@mail.m-online.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello

I encoutered a problem when i tried to index large document collections
(about 20 mio documents).
The indexing failed with the IOException:

"Cannot delete deletables"

I tried different times (with the same document collection) and allways
received the error, but after a different number
of documents.

The exception is thrown after failing to delete the specfied file at
line 212 in FSDirectory.java.
I found the following cure:

after the lines
>   if (nu.exists())
>      if (!nu.delete()){

i replaced
>   throw new IOException("Cannot delete " + to);

with
>        while(nu.exists()){
>            nu.delete();
>            System.out.println("delete loop");
>            try {
>                Thread.sleep(5000);
>            } catch (InterruptedException e) {
>                throw new RuntimeException(e);
>            }

That is, now i retry deleting the file until it is successful.

After the changes, i was able to index all documents.

>>From the fact that i observed several times

  "delete loop"
  
on the output console, it can be deduced that the 
body of the while loop was reached (and left) several times.


I am running lucene on windows xp.

Regards
Thilo

            


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 10:06:35 2004
Return-Path: 
 <lucene-user-return-12177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80587 invoked from network); 30 Dec 2004 10:06:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 10:06:35 -0000
Received: (qmail 20707 invoked by uid 500); 30 Dec 2004 10:06:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20655 invoked by uid 500); 30 Dec 2004 10:06:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20640 invoked by uid 99); 30 Dec 2004 10:06:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info)
 (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 02:06:22 -0800
Received: from [192.168.10.103] (ppp-82-135-6-243.mnet-online.de
 [82.135.6.243])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 478A114010F
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 11:06:18 +0100 (CET)
Message-ID: <41D3D312.50905@intrafind.de>
Date: Thu, 30 Dec 2004 11:06:10 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: problem indexing large document collction on windows xp
References: <20041230091106.88C94277D9@mail.m-online.net>
In-Reply-To: <20041230091106.88C94277D9@mail.m-online.net>
Content-Type: multipart/alternative;
 boundary="------------040506020305090305050206"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------040506020305090305050206
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Thilo,

thanks for your effort. Could you please open a new entry in Bugzilla, 
mark it as [PATCH] and add the diff file with your changes. This ensures 
that the sources and the information will not get lost in the huge 
universe of mailing lists. As soon there is time, one of the comitters 
will review and decide if it should be committed.


Bernhard

>Hello
>
>I encoutered a problem when i tried to index large document collections
>(about 20 mio documents).
>The indexing failed with the IOException:
>
>"Cannot delete deletables"
>
>I tried different times (with the same document collection) and allways
>received the error, but after a different number
>of documents.
>
>The exception is thrown after failing to delete the specfied file at
>line 212 in FSDirectory.java.
>I found the following cure:
>
>after the lines
>  
>
>>  if (nu.exists())
>>     if (!nu.delete()){
>>    
>>
>
>i replaced
>  
>
>>  throw new IOException("Cannot delete " + to);
>>    
>>
>
>with
>  
>
>>       while(nu.exists()){
>>           nu.delete();
>>           System.out.println("delete loop");
>>           try {
>>               Thread.sleep(5000);
>>           } catch (InterruptedException e) {
>>               throw new RuntimeException(e);
>>           }
>>    
>>
>
>That is, now i retry deleting the file until it is successful.
>
>After the changes, i was able to index all documents.
>
>>>From the fact that i observed several times
>
>  "delete loop"
>  
>on the output console, it can be deduced that the 
>body of the while loop was reached (and left) several times.
>
>
>I am running lucene on windows xp.
>
>Regards
>Thilo
>
>            
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


--------------040506020305090305050206--

From MAILER-DAEMON Thu Dec 30 15:18:53 2004
Return-Path: 
 <lucene-user-return-12178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8243 invoked from network); 30 Dec 2004 15:18:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 15:18:53 -0000
Received: (qmail 52036 invoked by uid 500); 30 Dec 2004 15:18:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51999 invoked by uid 500); 30 Dec 2004 15:18:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51982 invoked by uid 99); 30 Dec 2004 15:18:43 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42008.mail.yahoo.com (HELO web42008.mail.yahoo.com)
 (66.218.93.176)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 30 Dec 2004 07:18:40 -0800
Received: (qmail 94544 invoked by uid 60001); 30 Dec 2004 15:18:39 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Ivhwu/ISyzerQ0biTBWOGkNrCbFUKuSPOrUX15FJgqIt9XBclgn2WfQ6Bbmep5Eky+TycQZVkLpDWppwV59mHEQNrX9Dgd4jkhF1wyXv64icM+50z6oQPGNwGPshsEg+JtGLFEYc7xWNDGbb9R/PoNBALU21CXNrZds6/Qm24YQ=
  ;
Message-ID: <20041230151839.94542.qmail@web42008.mail.yahoo.com>
Received: from [219.64.131.250] by web42008.mail.yahoo.com via HTTP;
 Thu, 30 Dec 2004 07:18:39 PST
Date: Thu, 30 Dec 2004 07:18:39 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Deleting index for DB indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1716992344-1104419919=:94357"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1716992344-1104419919=:94357
Content-Type: text/plain; charset=us-ascii

Hi All,
 
I am using lucene for my DB indexing. I have 2 columns which are Keyword. 
Now I want to delete my index based on this 2 keyword. 
 
Is it possible ? If no. What is other alternative ?
 
Thanks 
Mahaveer
 
 

		
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - 250MB free storage. Do more. Manage less.
--0-1716992344-1104419919=:94357--

From MAILER-DAEMON Thu Dec 30 16:03:00 2004
Return-Path: 
 <lucene-user-return-12179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35910 invoked from network); 30 Dec 2004 16:03:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 16:03:00 -0000
Received: (qmail 39103 invoked by uid 500); 30 Dec 2004 16:02:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39073 invoked by uid 500); 30 Dec 2004 16:02:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39054 invoked by uid 99); 30 Dec 2004 16:02:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 08:02:34 -0800
Received: by wproxy.gmail.com with SMTP id 67so183386wri
        for <lucene-user@jakarta.apache.org>;
 Thu, 30 Dec 2004 08:02:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=e8Fjar99UfsoHP+tXrsYzbglGo1OV4REdvvFB8PMiL8VcHlfj7gP6OchwsPh3ZMC0/GYQRcc0uFSAdQnBRWLV2CJ3xp0pM3ojn4BqMrXXW3efFQkCUDDVNYo0vO7oXrocqQuVr9puWHETBTv5AtPUBzLsr9Mym5lqRiDgtGZejo=
Received: by 10.54.27.69 with SMTP id a69mr504436wra;
        Thu, 30 Dec 2004 08:02:24 -0800 (PST)
Received: by 10.54.4.59 with HTTP; Thu, 30 Dec 2004 08:02:24 -0800 (PST)
Message-ID: <e4ae55b9041230080259058bc2@mail.gmail.com>
Date: Thu, 30 Dec 2004 17:02:24 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Deleting index for DB indexing
In-Reply-To: <20041230151839.94542.qmail@web42008.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20041230151839.94542.qmail@web42008.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alternative: create a hashed value which is unique within your DB
(e.g. use md5). Afterwards you can delete documents from the index
with the IndexReader(Term).
Without that additional field you can use the IndexSearcher to
retrieve your documents from the index and then use
IndexReader(DocNum) to delete these documents

Paul


On Thu, 30 Dec 2004 07:18:39 -0800 (PST), mahaveer jain
<jainmahaveer23@yahoo.com> wrote:
> Hi All,
> 
> I am using lucene for my DB indexing. I have 2 columns which are Keyword.
> Now I want to delete my index based on this 2 keyword.
> 
> Is it possible ? If no. What is other alternative ?
> 
> Thanks
> Mahaveer
> 
> 
> ---------------------------------
> Do you Yahoo!?
>  Yahoo! Mail - 250MB free storage. Do more. Manage less.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 16:36:15 2004
Return-Path: 
 <lucene-user-return-12181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52731 invoked from network); 30 Dec 2004 16:36:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 16:36:15 -0000
Received: (qmail 16769 invoked by uid 500); 30 Dec 2004 16:36:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16739 invoked by uid 500); 30 Dec 2004 16:36:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16724 invoked by uid 99); 30 Dec 2004 16:36:08 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42001.mail.yahoo.com (HELO web42001.mail.yahoo.com)
 (66.218.93.169)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 30 Dec 2004 08:36:05 -0800
Received: (qmail 30005 invoked by uid 60001); 30 Dec 2004 16:36:04 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=eSQmkEuosR2vehwtdmabEiZra4iK2znHraExdIk+1hYSSZJIPyoeaB7dJwIXtO2oWW2CyCj3JPobyRqIFMOemaTEV4zcru8OV1OfKiP9GHGlrhCiWu9o61vXrPSua4tw7sFDuShvEwPYy7AExg9URTBxBstwM98rrbd3vuiitfM=
  ;
Message-ID: <20041230163604.30003.qmail@web42001.mail.yahoo.com>
Received: from [219.64.131.250] by web42001.mail.yahoo.com via HTTP;
 Thu, 30 Dec 2004 08:36:04 PST
Date: Thu, 30 Dec 2004 08:36:04 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Re: Deleting index for DB indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Paul <paul.fuehring@gmail.com>
In-Reply-To: <e4ae55b9041230080259058bc2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-336554919-1104424564=:28524"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-336554919-1104424564=:28524
Content-Type: text/plain; charset=us-ascii

I am indexing more that 5 tables. And each for them have autoincrement and that is the primary key. So if I do find DocNum, it may so happen that it may delete document I don't want to delete.
 
Paul <paul.fuehring@gmail.com> wrote:
Alternative: create a hashed value which is unique within your DB
(e.g. use md5). Afterwards you can delete documents from the index
with the IndexReader(Term).
Without that additional field you can use the IndexSearcher to
retrieve your documents from the index and then use
IndexReader(DocNum) to delete these documents

Paul


On Thu, 30 Dec 2004 07:18:39 -0800 (PST), mahaveer jain
wrote:
> Hi All,
> 
> I am using lucene for my DB indexing. I have 2 columns which are Keyword.
> Now I want to delete my index based on this 2 keyword.
> 
> Is it possible ? If no. What is other alternative ?
> 
> Thanks
> Mahaveer
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Yahoo! Mail - 250MB free storage. Do more. Manage less.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 Dress up your holiday email, Hollywood style. Learn more.
--0-336554919-1104424564=:28524--

From MAILER-DAEMON Thu Dec 30 16:34:14 2004
Return-Path: 
 <lucene-user-return-12180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51975 invoked from network); 30 Dec 2004 16:34:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 16:34:14 -0000
Received: (qmail 13648 invoked by uid 500); 30 Dec 2004 16:34:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13622 invoked by uid 500); 30 Dec 2004 16:34:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13606 invoked by uid 99); 30 Dec 2004 16:34:05 -0000
X-ASF-Spam-Status: No, hits=5.8 required=10.0
	tests=DNS_FROM_RFC_POST,FORGED_MUA_OUTLOOK,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_50_60,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,PLING_PLING,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ebrahim_faisal123@hotmail.com
 designates 64.4.43.182 as permitted sender)
Received: from bay17-dav2.bay17.hotmail.com (HELO hotmail.com) (64.4.43.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 08:34:02 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 30 Dec 2004 08:34:00 -0800
Message-ID: <BAY17-DAV2063E225F71E57B6BE19BC89C0@phx.gbl>
Received: from 219.64.132.119 by BAY17-DAV2.phx.gbl with DAV;
	Thu, 30 Dec 2004 16:33:04 +0000
X-Originating-IP: [219.64.132.119]
X-Originating-Email: [ebrahim_faisal123@hotmail.com]
X-Sender: ebrahim_faisal123@hotmail.com
From: "Mohamed Ebrahim Faisal" <ebrahim_faisal123@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Search not working properly. Bug !!!!!!
Date: Thu, 30 Dec 2004 22:06:46 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0030_01C4EEBB.DA473010"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 30 Dec 2004 16:34:00.0595 (UTC)
 FILETIME=[5DDF9630:01C4EE8D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0030_01C4EEBB.DA473010
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all

I have written a simple program to test Indexing & Search. After =
indexing couple of documents, I Searched for the same, but i didn't get =
Successfull matches. I don't know whether it is a bug in Lucene or in =
the code. I have enclosed the code for your review.

But when i used Lucene for bigger applications ( index contains larger =
documents ), search worked amazingly.


Following is the code which didn't work properly

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;

import org.apache.lucene.search.Searcher;

public class testLucene
{
 private static final String[] strSTOP_WORDS =3D
        {
   "and",
   "are",
   "was",
   "will",
   "with" };
 private void test() throws Exception
 {
  Analyzer objAnalyzer =3D new StandardAnalyzer();
  IndexWriter index =3D new IndexWriter("index",objAnalyzer, true );
  Searcher objIndexSearcher =3D new IndexSearcher("index");
       =20

  Document d =3D new Document();
=20
  d.add( Field.Text("name","Ebrahim Faisal"));
  d.add( Field.Text("address","New York"));
  d.add( Field.Text("designation","Software Engineer"));
  d.add( Field.Text("xyz","123 IndexWriter index"));

  index.addDocument( d );

  d =3D new Document();

  d.add( Field.Text("name","John Smith"));
  d.add( Field.Text("address","India"));
  d.add( Field.Text("designation","Sr. Software Engineer"));
  d.add( Field.Text("xyz","456 StandardAnalyzer true"));

  index.addDocument( d );

 =20

  index.optimize();
  index.close();
 =20
 =20
  Query objQuery =3D null;

  objQuery =3D QueryParser.parse("Engineer", "name"
                , objAnalyzer);

 =20
  Hits objHits =3D objIndexSearcher.search(objQuery);

 =20
  for (int nStart =3D 0; nStart < objHits.length(); nStart++)=20
  {
   d =3D objHits.doc(nStart);
   System.out.println(" address "+d.get("address"));
  }
 =20
 }
 public static void main(String[] args) throws Exception
 {
  new testLucene().test();
 }
}

------=_NextPart_000_0030_01C4EEBB.DA473010--

From MAILER-DAEMON Thu Dec 30 16:44:07 2004
Return-Path: 
 <lucene-user-return-12182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55831 invoked from network); 30 Dec 2004 16:44:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 16:44:07 -0000
Received: (qmail 36170 invoked by uid 500); 30 Dec 2004 16:43:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36123 invoked by uid 500); 30 Dec 2004 16:43:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36095 invoked by uid 99); 30 Dec 2004 16:43:52 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42001.mail.yahoo.com (HELO web42001.mail.yahoo.com)
 (66.218.93.169)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 30 Dec 2004 08:43:48 -0800
Received: (qmail 31564 invoked by uid 60001); 30 Dec 2004 16:43:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=vSMB+4akzO7APn/Cnp409aWhKiCYrdBiYovSkhpNywseGz62TZoyU0DCiMaIExjqV2gnfCQvLoStwbt6WOjIwT542oMvUooI6XK0y3+AyUlDiHZ9NRKc7aCyTFvguiMLkDqD+bxMKWWuECZ8HZ3T9zuWX9LOeHprMPl82Mt5Kmk=
  ;
Message-ID: <20041230164347.31562.qmail@web42001.mail.yahoo.com>
Received: from [219.64.131.250] by web42001.mail.yahoo.com via HTTP;
 Thu, 30 Dec 2004 08:43:47 PST
Date: Thu, 30 Dec 2004 08:43:47 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Re: Search not working properly. Bug !!!!!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY17-DAV2063E225F71E57B6BE19BC89C0@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1851359395-1104425027=:30349"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1851359395-1104425027=:30349
Content-Type: text/plain; charset=us-ascii

try this 
 
objQuery = QueryParser.parse("John", "name" , objAnalyzer);
or
objQuery = QueryParser.parse("Engineer", "designation", objAnalyzer);
 
I should work. 

The second parameter is the column name you pass. So if you are search for "name", it will look for only name column.
 
Hope this help you 
 
Mahaveer

Mohamed Ebrahim Faisal <ebrahim_faisal123@hotmail.com> wrote:
Hi all

I have written a simple program to test Indexing & Search. After indexing couple of documents, I Searched for the same, but i didn't get Successfull matches. I don't know whether it is a bug in Lucene or in the code. I have enclosed the code for your review.

But when i used Lucene for bigger applications ( index contains larger documents ), search worked amazingly.


Following is the code which didn't work properly

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;

import org.apache.lucene.search.Searcher;

public class testLucene
{
private static final String[] strSTOP_WORDS =
{
"and",
"are",
"was",
"will",
"with" };
private void test() throws Exception
{
Analyzer objAnalyzer = new StandardAnalyzer();
IndexWriter index = new IndexWriter("index",objAnalyzer, true );
Searcher objIndexSearcher = new IndexSearcher("index");


Document d = new Document();

d.add( Field.Text("name","Ebrahim Faisal"));
d.add( Field.Text("address","New York"));
d.add( Field.Text("designation","Software Engineer"));
d.add( Field.Text("xyz","123 IndexWriter index"));

index.addDocument( d );

d = new Document();

d.add( Field.Text("name","John Smith"));
d.add( Field.Text("address","India"));
d.add( Field.Text("designation","Sr. Software Engineer"));
d.add( Field.Text("xyz","456 StandardAnalyzer true"));

index.addDocument( d );



index.optimize();
index.close();


Query objQuery = null;

objQuery = QueryParser.parse("Engineer", "name"
, objAnalyzer);


Hits objHits = objIndexSearcher.search(objQuery);


for (int nStart = 0; nStart < objHits.length(); nStart++) 
{
d = objHits.doc(nStart);
System.out.println(" address "+d.get("address"));
}

}
public static void main(String[] args) throws Exception
{
new testLucene().test();
}
}

		
---------------------------------
Do you Yahoo!?
 Jazz up your holiday email with celebrity designs. Learn more.
--0-1851359395-1104425027=:30349--

From MAILER-DAEMON Thu Dec 30 16:45:36 2004
Return-Path: 
 <lucene-user-return-12183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56682 invoked from network); 30 Dec 2004 16:45:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 16:45:36 -0000
Received: (qmail 41993 invoked by uid 500); 30 Dec 2004 16:45:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41958 invoked by uid 500); 30 Dec 2004 16:45:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41938 invoked by uid 99); 30 Dec 2004 16:45:20 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com
 designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 08:45:16 -0800
Received: by wproxy.gmail.com with SMTP id 69so568073wra
        for <lucene-user@jakarta.apache.org>;
 Thu, 30 Dec 2004 08:45:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=M2Nk+R2BAO/OBOWvpShymJ2gQiVdGcK6ohNmZn4ZE95KFQTvaXIDmyq/BK0OpQX5yhBdIESlWJiSNUK9mItK640b6iyJfgLK5zsARKG9Rh4jAx+PykQ6w/joFmOjb6kFwwDVp9whCqG/A+LP1UiR8Ri17UBBCyINfMQLJgMVPKk=
Received: by 10.54.41.65 with SMTP id o65mr29525wro;
        Thu, 30 Dec 2004 08:45:13 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Thu, 30 Dec 2004 08:45:13 -0800 (PST)
Message-ID: <95fd5e14041230084564e9a2ab@mail.gmail.com>
Date: Thu, 30 Dec 2004 11:45:13 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search not working properly. Bug !!!!!!
In-Reply-To: <BAY17-DAV2063E225F71E57B6BE19BC89C0@phx.gbl>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <BAY17-DAV2063E225F71E57B6BE19BC89C0@phx.gbl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You appear to be searching for the word "Engineer" in the "name"
field.  Shouldn't this query be directed at the "designation" field? 
The only terms in the name field would be "Ebrahim", "Faisal", "John",
and "Smith", wouldn't they?


On Thu, 30 Dec 2004 22:06:46 +0530, Mohamed Ebrahim Faisal
<ebrahim_faisal123@hotmail.com> wrote:
> Hi all
> 
> I have written a simple program to test Indexing & Search. After indexing couple of documents, I Searched for the same, but i didn't get Successfull matches. I don't know whether it is a bug in Lucene or in the code. I have enclosed the code for your review.
> 
> But when i used Lucene for bigger applications ( index contains larger documents ), search worked amazingly.
> 
> Following is the code which didn't work properly
> 
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.TermQuery;
> 
> import org.apache.lucene.search.Searcher;
> 
> public class testLucene
> {
>  private static final String[] strSTOP_WORDS =
>         {
>    "and",
>    "are",
>    "was",
>    "will",
>    "with" };
>  private void test() throws Exception
>  {
>   Analyzer objAnalyzer = new StandardAnalyzer();
>   IndexWriter index = new IndexWriter("index",objAnalyzer, true );
>   Searcher objIndexSearcher = new IndexSearcher("index");
> 
>   Document d = new Document();
> 
>   d.add( Field.Text("name","Ebrahim Faisal"));
>   d.add( Field.Text("address","New York"));
>   d.add( Field.Text("designation","Software Engineer"));
>   d.add( Field.Text("xyz","123 IndexWriter index"));
> 
>   index.addDocument( d );
> 
>   d = new Document();
> 
>   d.add( Field.Text("name","John Smith"));
>   d.add( Field.Text("address","India"));
>   d.add( Field.Text("designation","Sr. Software Engineer"));
>   d.add( Field.Text("xyz","456 StandardAnalyzer true"));
> 
>   index.addDocument( d );
> 
>   index.optimize();
>   index.close();
> 
>   Query objQuery = null;
> 
>   objQuery = QueryParser.parse("Engineer", "name"
>                 , objAnalyzer);
> 
>   Hits objHits = objIndexSearcher.search(objQuery);
> 
>   for (int nStart = 0; nStart < objHits.length(); nStart++)
>   {
>    d = objHits.doc(nStart);
>    System.out.println(" address "+d.get("address"));
>   }
> 
>  }
>  public static void main(String[] args) throws Exception
>  {
>   new testLucene().test();
>  }
> }
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 18:43:48 2004
Return-Path: 
 <lucene-user-return-12184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5806 invoked from network); 30 Dec 2004 18:43:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 18:43:48 -0000
Received: (qmail 2110 invoked by uid 500); 30 Dec 2004 18:43:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2091 invoked by uid 500); 30 Dec 2004 18:43:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2078 invoked by uid 99); 30 Dec 2004 18:43:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutvdom.kundenserver.de (HELO moutvdomng.kundenserver.de)
 (212.227.126.249)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 10:43:38 -0800
Received: from [212.227.126.221] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Ck5Go-0003k1-00
	for lucene-user@jakarta.apache.org; Thu, 30 Dec 2004 19:43:34 +0100
Received: from [80.128.76.49] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Ck5Go-00082n-00
	for lucene-user@jakarta.apache.org; Thu, 30 Dec 2004 19:43:34 +0100
Received: by eco (Postfix, from userid 1000)
	id 1023D83846; Thu, 30 Dec 2004 19:45:10 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16852.19637.881872.366401@onlinehome.de>
Date: Thu, 30 Dec 2004 19:45:09 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Deleting index for DB indexing
In-Reply-To: <20041230151839.94542.qmail@web42008.mail.yahoo.com>
References: <20041230151839.94542.qmail@web42008.mail.yahoo.com>
X-Mailer: VM 7.17 under 21.4 (patch 15) "Security Through Obscurity" XEmacs
 Lucid
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

mahaveer jain writes:

> I am using lucene for my DB indexing. I have 2 columns which are Keyword. 
> Now I want to delete my index based on this 2 keyword. 
>  
> Is it possible ? If no. What is other alternative ?
>  
You can delete documents based on document number from an index reader.
You can get document numbers from searches.
So if you can search documents to be deleted based on your keywords, there
should be no problem deleting them...

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 22:47:56 2004
Return-Path: 
 <lucene-user-return-12186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64893 invoked from network); 30 Dec 2004 22:47:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 22:47:56 -0000
Received: (qmail 35244 invoked by uid 500); 30 Dec 2004 22:47:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34915 invoked by uid 500); 30 Dec 2004 22:47:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34901 invoked by uid 99); 30 Dec 2004 22:47:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted
 nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 14:47:47 -0800
Received: from yourkybtg65gxe (host220-58.discord.birch.net [65.16.220.58])
	(authenticated bits=0)
	by mail.cs.utexas.edu (8.13.2/8.13.2) with ESMTP id iBUMlh11020383
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 16:47:45 -0600 (CST)
Message-ID: <003501c4eec1$95278330$6401a8c0@yourkybtg65gxe>
From: "Vikas Gupta" <vgupta@cs.utexas.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E3B75407BA46FA4A87DF2F63ED9241CA0169DB3C@MUSCOVITE.OPIN.COM>
Subject: Re: Fatal error on Windows
Date: Thu, 30 Dec 2004 16:46:44 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A similar message appeared for me on linux. I would recommend doing a

ant clean (or something similar.)
ant jar
ant war

if you changing the source code. Did you change your source code?

-Vikas
----- Original Message ----- 
From: "Steve Rajavuori" <SteveR@opin.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 30, 2004 4:47 PM
Subject: Fatal error on Windows


> I am getting a fatal exception on Windows 2000 Server when performing a
> search. Upon call to IndexSearcher.search( ) with a large query I see this
> error from the JVM:
>
> Unexpected Signal : EXCEPTION_FLT_STACK_CHECK (0xc0000092) occurred at
> PC=0xA2D4
> 16
> Function=[Unknown.]
> Library=(N/A)
>
> NOTE: We are unable to locate the function name symbol for the error
>       just occurred. Please refer to release documentation for possible
>       reason and solutions.
>
> I am using Lucene 1.4.3 and JRE 1.4.2_06. Has anyone had an experience
like
> this? Any suggestions to work around or troubleshoot?
>
> Steve Rajavuori
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 22:48:47 2004
Return-Path: 
 <lucene-user-return-12187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65217 invoked from network); 30 Dec 2004 22:48:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 22:48:47 -0000
Received: (qmail 36649 invoked by uid 500); 30 Dec 2004 22:48:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36600 invoked by uid 500); 30 Dec 2004 22:48:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36582 invoked by uid 99); 30 Dec 2004 22:48:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of paul.fuehring@gmail.com
 designates 64.233.184.196 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 14:48:38 -0800
Received: by wproxy.gmail.com with SMTP id 55so132988wri
        for <lucene-user@jakarta.apache.org>;
 Thu, 30 Dec 2004 14:48:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=ktCo4HvTIq4C5s9S4MYQxyEr1TPCvOOT5s87E/acADGmiruWDEbDYMKRIwWjlhIKbEgBiitcRHMPV6bXD6fqZErN7mhfhrVnxgXvuNiERtEjS4D6VsXUcAVFD7IHSXS0D6XGNagHTfzo9ezwwxq/+Fe02HMCskLaRcET2jVRp/k=
Received: by 10.54.44.17 with SMTP id r17mr192107wrr;
        Thu, 30 Dec 2004 14:46:52 -0800 (PST)
Received: by 10.54.4.59 with HTTP; Thu, 30 Dec 2004 14:46:52 -0800 (PST)
Message-ID: <e4ae55b904123014464f9ca5ff@mail.gmail.com>
Date: Thu, 30 Dec 2004 23:46:52 +0100
From: Paul <paul.fuehring@gmail.com>
Reply-To: Paul <paul.fuehring@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Re: Deleting index for DB indexing
In-Reply-To: <20041230163604.30003.qmail@web42001.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <e4ae55b9041230080259058bc2@mail.gmail.com>
	 <20041230163604.30003.qmail@web42001.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 30 Dec 2004 08:36:04 -0800 (PST), mahaveer jain
<jainmahaveer23@yahoo.com> wrote:
> I am indexing more that 5 tables. And each for them have autoincrement and
> that is the primary key. So if I do find DocNum, it may so happen that it
> may delete document I don't want to delete. 

you need to create your own global ID, I had the same problem (but I
used a MD5 hashvalue). One solution ist to give each of your tables an
internal number and when creating your lucene-documents you add an
additional field with something like "dbInternalId*100+dbNumber" so
that db-record 5 in table 3 results in 503. when documents from your
DB are deleted and you need to update the index you simple create a
term which's value is calculated the same way and delete the document
with the IndexReader.delete(Term)
Instead of calculating you can do string concatenating as well :)

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 30 22:38:00 2004
Return-Path: 
 <lucene-user-return-12185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61355 invoked from network); 30 Dec 2004 22:38:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Dec 2004 22:38:00 -0000
Received: (qmail 20260 invoked by uid 500); 30 Dec 2004 22:37:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20241 invoked by uid 500); 30 Dec 2004 22:37:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20228 invoked by uid 99); 30 Dec 2004 22:37:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 14:37:48 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id BA5865E16C
	for <lucene-user@jakarta.apache.org>; Thu, 30 Dec 2004 16:37:47 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GJD01>; Thu, 30 Dec 2004 16:48:01 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DB3C@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Fatal error on Windows
Date: Thu, 30 Dec 2004 16:47:44 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am getting a fatal exception on Windows 2000 Server when performing a
search. Upon call to IndexSearcher.search( ) with a large query I see this
error from the JVM:

Unexpected Signal : EXCEPTION_FLT_STACK_CHECK (0xc0000092) occurred at
PC=0xA2D4
16
Function=[Unknown.]
Library=(N/A)

NOTE: We are unable to locate the function name symbol for the error
      just occurred. Please refer to release documentation for possible
      reason and solutions.

I am using Lucene 1.4.3 and JRE 1.4.2_06. Has anyone had an experience like
this? Any suggestions to work around or troubleshoot?

Steve Rajavuori

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 31 04:22:09 2004
Return-Path: 
 <lucene-user-return-12188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65132 invoked from network); 31 Dec 2004 04:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 04:22:09 -0000
Received: (qmail 43814 invoked by uid 500); 31 Dec 2004 04:22:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42996 invoked by uid 500); 31 Dec 2004 04:22:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42982 invoked by uid 99); 31 Dec 2004 04:22:05 -0000
X-ASF-Spam-Status: No, hits=5.7 required=10.0
	tests=DNS_FROM_RFC_POST,FORGED_MUA_OUTLOOK,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,MSGID_FROM_MTA_HEADER,PLING_PLING,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ebrahim_faisal123@hotmail.com
 designates 64.4.43.194 as permitted sender)
Received: from bay17-dav14.bay17.hotmail.com (HELO hotmail.com) (64.4.43.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 20:22:02 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 30 Dec 2004 20:22:00 -0800
Message-ID: <BAY17-DAV141729C2BD565F897DFACEC89D0@phx.gbl>
Received: from 219.64.140.234 by BAY17-DAV14.phx.gbl with DAV;
	Fri, 31 Dec 2004 04:21:45 +0000
X-Originating-IP: [219.64.140.234]
X-Originating-Email: [ebrahim_faisal123@hotmail.com]
X-Sender: ebrahim_faisal123@hotmail.com
From: "Mohamed Ebrahim Faisal" <ebrahim_faisal123@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20041230164347.31562.qmail@web42001.mail.yahoo.com>
Subject: Re: Search not working properly. Bug !!!!!!
Date: Fri, 31 Dec 2004 09:55:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 31 Dec 2004 04:22:00.0452 (UTC)
 FILETIME=[45D75C40:01C4EEF0]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all

I made a mistake when I copied and pasted the code.
The actual code is as follows:

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;

import org.apache.lucene.search.Searcher;

public class testLucene
{
 private static final String[] strSTOP_WORDS =
        {
   "and",
   "are",
   "was",
   "will",
   "with" };
 private void test() throws Exception
 {
  Analyzer objAnalyzer = new StandardAnalyzer();
  IndexWriter index = new IndexWriter("index",objAnalyzer, true );
  Searcher objIndexSearcher = new IndexSearcher("index");


  Document d = new Document();

  d.add( Field.Text("name","Ebrahim Faisal"));
  d.add( Field.Text("address","New York"));
  d.add( Field.Text("designation","Software Engineer"));
  d.add( Field.Text("xyz","123 IndexWriter index"));

  index.addDocument( d );

  d = new Document();

  d.add( Field.Text("name","John Smith"));
  d.add( Field.Text("address","India"));
  d.add( Field.Text("designation","Sr. Software Engineer"));
  d.add( Field.Text("xyz","456 StandardAnalyzer true"));

  index.addDocument( d );



  index.optimize();
  index.close();


  Query objQuery = null;

  objQuery = QueryParser.parse("John", "name"
                , objAnalyzer);


  Hits objHits = objIndexSearcher.search(objQuery);


  for (int nStart = 0; nStart < objHits.length(); nStart++)
  {
   d = objHits.doc(nStart);
   System.out.println(" address "+d.get("address"));
  }

 }
 public static void main(String[] args) throws Exception
 {
  new testLucene().test();
 }
}


----- Original Message -----
From: "mahaveer jain" <jainmahaveer23@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 30, 2004 10:13 PM
Subject: Re: Search not working properly. Bug !!!!!!


> try this
>
> objQuery = QueryParser.parse("John", "name" , objAnalyzer);
> or
> objQuery = QueryParser.parse("Engineer", "designation", objAnalyzer);
>
> I should work.
>
> The second parameter is the column name you pass. So if you are search for
"name", it will look for only name column.
>
> Hope this help you
>
> Mahaveer
>
> Mohamed Ebrahim Faisal <ebrahim_faisal123@hotmail.com> wrote:
> Hi all
>
> I have written a simple program to test Indexing & Search. After indexing
couple of documents, I Searched for the same, but i didn't get Successfull
matches. I don't know whether it is a bug in Lucene or in the code. I have
enclosed the code for your review.
>
> But when i used Lucene for bigger applications ( index contains larger
documents ), search worked amazingly.
>
>
> Following is the code which didn't work properly
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.TermQuery;
>
> import org.apache.lucene.search.Searcher;
>
> public class testLucene
> {
> private static final String[] strSTOP_WORDS =
> {
> "and",
> "are",
> "was",
> "will",
> "with" };
> private void test() throws Exception
> {
> Analyzer objAnalyzer = new StandardAnalyzer();
> IndexWriter index = new IndexWriter("index",objAnalyzer, true );
> Searcher objIndexSearcher = new IndexSearcher("index");
>
>
> Document d = new Document();
>
> d.add( Field.Text("name","Ebrahim Faisal"));
> d.add( Field.Text("address","New York"));
> d.add( Field.Text("designation","Software Engineer"));
> d.add( Field.Text("xyz","123 IndexWriter index"));
>
> index.addDocument( d );
>
> d = new Document();
>
> d.add( Field.Text("name","John Smith"));
> d.add( Field.Text("address","India"));
> d.add( Field.Text("designation","Sr. Software Engineer"));
> d.add( Field.Text("xyz","456 StandardAnalyzer true"));
>
> index.addDocument( d );
>
>
>
> index.optimize();
> index.close();
>
>
> Query objQuery = null;
>
> objQuery = QueryParser.parse("Engineer", "name"
> , objAnalyzer);
>
>
> Hits objHits = objIndexSearcher.search(objQuery);
>
>
> for (int nStart = 0; nStart < objHits.length(); nStart++)
> {
> d = objHits.doc(nStart);
> System.out.println(" address "+d.get("address"));
> }
>
> }
> public static void main(String[] args) throws Exception
> {
> new testLucene().test();
> }
> }
>
>
> ---------------------------------
> Do you Yahoo!?
>  Jazz up your holiday email with celebrity designs. Learn more.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 31 05:17:59 2004
Return-Path: 
 <lucene-user-return-12189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19126 invoked from network); 31 Dec 2004 05:17:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 05:17:59 -0000
Received: (qmail 31754 invoked by uid 500); 31 Dec 2004 05:17:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31732 invoked by uid 500); 31 Dec 2004 05:17:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31718 invoked by uid 99); 31 Dec 2004 05:17:53 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42004.mail.yahoo.com (HELO web42004.mail.yahoo.com)
 (66.218.93.172)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 30 Dec 2004 21:17:49 -0800
Received: (qmail 34222 invoked by uid 60001); 31 Dec 2004 05:17:48 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=XvcT4/mmipTAX29SEUsvGRvOe7VknvTNMe6nGM7GGuJbphy7U+d6zJbav43FtFpGI5DeJ/TQ4PHkPTeN3gu3YV1y7zVw1tjhogSQSA31JPRcSKHnodHhDmheJChdbWA72uR202hg81Vw+MlgEXl/LK5vtj7NET2oiZ7wZ8MBhKQ=
  ;
Message-ID: <20041231051748.34220.qmail@web42004.mail.yahoo.com>
Received: from [219.64.139.58] by web42004.mail.yahoo.com via HTTP;
 Thu, 30 Dec 2004 21:17:48 PST
Date: Thu, 30 Dec 2004 21:17:48 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Re: Deleting index for DB indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Paul <paul.fuehring@gmail.com>
In-Reply-To: <e4ae55b904123014464f9ca5ff@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-863358789-1104470268=:34208"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-863358789-1104470268=:34208
Content-Type: text/plain; charset=us-ascii

Thanks Paul,
 
You idea seems to be good. I ll try that. I have one more question. Should the new key what I create have to be keyword ? or Can it be just a column in the index ?
 
Mahaveer

Paul <paul.fuehring@gmail.com> wrote:
On Thu, 30 Dec 2004 08:36:04 -0800 (PST), mahaveer jain
wrote:
> I am indexing more that 5 tables. And each for them have autoincrement and
> that is the primary key. So if I do find DocNum, it may so happen that it
> may delete document I don't want to delete. 

you need to create your own global ID, I had the same problem (but I
used a MD5 hashvalue). One solution ist to give each of your tables an
internal number and when creating your lucene-documents you add an
additional field with something like "dbInternalId*100+dbNumber" so
that db-record 5 in table 3 results in 503. when documents from your
DB are deleted and you need to update the index you simple create a
term which's value is calculated the same way and delete the document
with the IndexReader.delete(Term)
Instead of calculating you can do string concatenating as well :)

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-863358789-1104470268=:34208--

From MAILER-DAEMON Fri Dec 31 05:24:38 2004
Return-Path: 
 <lucene-user-return-12190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23961 invoked from network); 31 Dec 2004 05:24:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 05:24:38 -0000
Received: (qmail 37156 invoked by uid 500); 31 Dec 2004 05:24:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37128 invoked by uid 500); 31 Dec 2004 05:24:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37112 invoked by uid 99); 31 Dec 2004 05:24:35 -0000
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_10_20,HTML_MESSAGE,HTML_NONELEMENT_20_30,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42005.mail.yahoo.com (HELO web42005.mail.yahoo.com)
 (66.218.93.173)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 30 Dec 2004 21:24:32 -0800
Received: (qmail 51555 invoked by uid 60001); 31 Dec 2004 05:24:31 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=t3eihLHhVOOvS/4sqcNoZCPdk5sxAqFozpBbcC3pidMWsQVu9jjB6YJ4wwID97OJErnd9FZ02oNqJLUmZoXOX8B8UwEN4LwZN3OcKBRQrYiLtI+TZecMKHHz0cEw4ZWn/QdBJ2nEYbTRNMhZTDUpFAadumKaDwit6n9YzDWsa74=
  ;
Message-ID: <20041231052431.51553.qmail@web42005.mail.yahoo.com>
Received: from [219.64.139.58] by web42005.mail.yahoo.com via HTTP;
 Thu, 30 Dec 2004 21:24:31 PST
Date: Thu, 30 Dec 2004 21:24:31 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Re: Search not working properly. Bug !!!!!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY17-DAV141729C2BD565F897DFACEC89D0@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-455268063-1104470671=:50772"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-455268063-1104470671=:50772
Content-Type: text/plain; charset=us-ascii

IndexWriter index = new IndexWriter("index",objAnalyzer, true );
 
What is "index", this is the first parameter you are passing ? 
It is the path where you store you index file on your hard disk so your path has to be something like C:\index. You have to create the index folder explicitly.
 
You may have to change this line also
Searcher objIndexSearcher = new IndexSearcher("index");
 
Mahaveer

Mohamed Ebrahim Faisal <ebrahim_faisal123@hotmail.com> wrote:
Hi all

I made a mistake when I copied and pasted the code.
The actual code is as follows:

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;

import org.apache.lucene.search.Searcher;

public class testLucene
{
private static final String[] strSTOP_WORDS =
{
"and",
"are",
"was",
"will",
"with" };
private void test() throws Exception
{
Analyzer objAnalyzer = new StandardAnalyzer();
IndexWriter index = new IndexWriter("index",objAnalyzer, true );
Searcher objIndexSearcher = new IndexSearcher("index");


Document d = new Document();

d.add( Field.Text("name","Ebrahim Faisal"));
d.add( Field.Text("address","New York"));
d.add( Field.Text("designation","Software Engineer"));
d.add( Field.Text("xyz","123 IndexWriter index"));

index.addDocument( d );

d = new Document();

d.add( Field.Text("name","John Smith"));
d.add( Field.Text("address","India"));
d.add( Field.Text("designation","Sr. Software Engineer"));
d.add( Field.Text("xyz","456 StandardAnalyzer true"));

index.addDocument( d );



index.optimize();
index.close();


Query objQuery = null;

objQuery = QueryParser.parse("John", "name"
, objAnalyzer);


Hits objHits = objIndexSearcher.search(objQuery);


for (int nStart = 0; nStart < objHits.length(); nStart++)
{
d = objHits.doc(nStart);
System.out.println(" address "+d.get("address"));
}

}
public static void main(String[] args) throws Exception
{
new testLucene().test();
}
}


----- Original Message -----
From: "mahaveer jain" 
To: "Lucene Users List" 
Sent: Thursday, December 30, 2004 10:13 PM
Subject: Re: Search not working properly. Bug !!!!!!


> try this
>
> objQuery = QueryParser.parse("John", "name" , objAnalyzer);
> or
> objQuery = QueryParser.parse("Engineer", "designation", objAnalyzer);
>
> I should work.
>
> The second parameter is the column name you pass. So if you are search for
"name", it will look for only name column.
>
> Hope this help you
>
> Mahaveer
>
> Mohamed Ebrahim Faisal wrote:
> Hi all
>
> I have written a simple program to test Indexing & Search. After indexing
couple of documents, I Searched for the same, but i didn't get Successfull
matches. I don't know whether it is a bug in Lucene or in the code. I have
enclosed the code for your review.
>
> But when i used Lucene for bigger applications ( index contains larger
documents ), search worked amazingly.
>
>
> Following is the code which didn't work properly
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.TermQuery;
>
> import org.apache.lucene.search.Searcher;
>
> public class testLucene
> {
> private static final String[] strSTOP_WORDS =
> {
> "and",
> "are",
> "was",
> "will",
> "with" };
> private void test() throws Exception
> {
> Analyzer objAnalyzer = new StandardAnalyzer();
> IndexWriter index = new IndexWriter("index",objAnalyzer, true );
> Searcher objIndexSearcher = new IndexSearcher("index");
>
>
> Document d = new Document();
>
> d.add( Field.Text("name","Ebrahim Faisal"));
> d.add( Field.Text("address","New York"));
> d.add( Field.Text("designation","Software Engineer"));
> d.add( Field.Text("xyz","123 IndexWriter index"));
>
> index.addDocument( d );
>
> d = new Document();
>
> d.add( Field.Text("name","John Smith"));
> d.add( Field.Text("address","India"));
> d.add( Field.Text("designation","Sr. Software Engineer"));
> d.add( Field.Text("xyz","456 StandardAnalyzer true"));
>
> index.addDocument( d );
>
>
>
> index.optimize();
> index.close();
>
>
> Query objQuery = null;
>
> objQuery = QueryParser.parse("Engineer", "name"
> , objAnalyzer);
>
>
> Hits objHits = objIndexSearcher.search(objQuery);
>
>
> for (int nStart = 0; nStart < objHits.length(); nStart++)
> {
> d = objHits.doc(nStart);
> System.out.println(" address "+d.get("address"));
> }
>
> }
> public static void main(String[] args) throws Exception
> {
> new testLucene().test();
> }
> }
>
>
> ---------------------------------
> Do you Yahoo!?
> Jazz up your holiday email with celebrity designs. Learn more.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - 250MB free storage. Do more. Manage less.
--0-455268063-1104470671=:50772--

From MAILER-DAEMON Fri Dec 31 06:08:21 2004
Return-Path: 
 <lucene-user-return-12191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53844 invoked from network); 31 Dec 2004 06:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 06:08:21 -0000
Received: (qmail 79785 invoked by uid 500); 31 Dec 2004 06:08:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79756 invoked by uid 500); 31 Dec 2004 06:08:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79741 invoked by uid 99); 31 Dec 2004 06:08:17 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail2.pershing.com (HELO mail2.pershing.com) (170.61.18.52)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 30 Dec 2004 22:08:14 -0800
Received: from plzlmh02.pershing.com ([172.19.110.13])
          by mail2.pershing.com (Lotus Domino Release 6.0.4)
          with ESMTP id 2004123100454792-10450 ;
          Fri, 31 Dec 2004 00:45:47 -0500
Subject: Shui Cheung Yip/JerseyCity/iNautix is out of the office.
From: syip@pershing.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: 
 <OFF261DB1B.23A19A27-ON85256F7B.002183C4-85256F7B.002183C4@pershing.com>
Date: Fri, 31 Dec 2004 01:06:04 -0500
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on PLZLMH02/Pershing(Release 6.0.4|June 01,
 2004) at 12/31/2004
 01:06:10 AM,
	Itemize by SMTP Server on Pershing2/External(Release 6.0.4|June 01, 2004) at
 12/31/2004 12:45:47 AM,
	Serialize by Router on Pershing2/External(Release 6.0.4|June 01, 2004) at
 12/31/2004 12:47:51 AM,
	Serialize complete at 12/31/2004 12:47:51 AM
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will be out of the office starting  12/30/2004 and will not return until
01/02/2005.

 I will respond to your message when I return. For CashEdge Dev issues,
please contact  Aravind Ravi Subramania or  Subramaniam Sundaram,  In case
of emergency, I can be reached through OSS.

Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 31 08:50:44 2004
Return-Path: 
 <lucene-user-return-12192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56319 invoked from network); 31 Dec 2004 08:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 08:50:44 -0000
Received: (qmail 48353 invoked by uid 500); 31 Dec 2004 08:50:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48327 invoked by uid 500); 31 Dec 2004 08:50:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48311 invoked by uid 99); 31 Dec 2004 08:50:38 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_RCVD_HELO,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp.officegate.gr (HELO lnximail1.otenet.gr) (212.205.85.61)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 31 Dec 2004 00:50:34 -0800
Received: from [192.168.1.20] (aladdin.xs.gr [62.103.90.34])
	by lnximail1.otenet.gr (8.12.10/8.12.10) with ESMTP id iBV8kAuM013802
	for <lucene-user@jakarta.apache.org>; Fri, 31 Dec 2004 10:46:10 +0200
Subject: Search not working properly. Bug !!!!!!
From: Ioannis Andritsakis <iandri@xs.gr>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Message-Id: <1104483070.3120.10.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 (1.4.6-2) 
Date: Fri, 31 Dec 2004 10:51:10 +0200
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You only have to open IndexSearcher just after closing IndexWriter.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 31 13:39:10 2004
Return-Path: 
 <lucene-user-return-12193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43548 invoked from network); 31 Dec 2004 13:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 13:39:10 -0000
Received: (qmail 6559 invoked by uid 500); 31 Dec 2004 13:38:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6516 invoked by uid 500); 31 Dec 2004 13:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6448 invoked by uid 99); 31 Dec 2004 13:38:50 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,HTML_TITLE_EMPTY,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info)
 (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 31 Dec 2004 05:38:47 -0800
Received: from [192.168.10.103] (ppp-82-135-9-180.mnet-online.de
 [82.135.9.180])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 5D20A14010F
	for <lucene-user@jakarta.apache.org>; Fri, 31 Dec 2004 14:38:43 +0100 (CET)
Message-ID: <41D55658.2010105@intrafind.de>
Date: Fri, 31 Dec 2004 14:38:32 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search not working properly. Bug !!!!!!
References: <20041230164347.31562.qmail@web42001.mail.yahoo.com>
 <BAY17-DAV141729C2BD565F897DFACEC89D0@phx.gbl>
In-Reply-To: <BAY17-DAV141729C2BD565F897DFACEC89D0@phx.gbl>
Content-Type: multipart/alternative;
 boundary="------------090006040409060201010201"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------090006040409060201010201
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

your code is not correct. You're opening the Searcher before inserting 
the documents into the index. Place the code where you are creating the 
IndexSearcher after IndexWriters optimize() and it will work.

Bernhard

Searcher objIndexSearcher = new IndexSearcher("index");


>Hi all
>
>I made a mistake when I copied and pasted the code.
>The actual code is as follows:
>
>import org.apache.lucene.analysis.Analyzer;
>import org.apache.lucene.analysis.standard.StandardAnalyzer;
>import org.apache.lucene.document.Document;
>import org.apache.lucene.document.Field;
>import org.apache.lucene.index.Term;
>import org.apache.lucene.index.IndexWriter;
>import org.apache.lucene.queryParser.QueryParser;
>import org.apache.lucene.search.Hits;
>import org.apache.lucene.search.IndexSearcher;
>import org.apache.lucene.search.Query;
>import org.apache.lucene.search.TermQuery;
>
>import org.apache.lucene.search.Searcher;
>
>public class testLucene
>{
> private static final String[] strSTOP_WORDS =
>        {
>   "and",
>   "are",
>   "was",
>   "will",
>   "with" };
> private void test() throws Exception
> {
>  Analyzer objAnalyzer = new StandardAnalyzer();
>  IndexWriter index = new IndexWriter("index",objAnalyzer, true );
>  Searcher objIndexSearcher = new IndexSearcher("index");
>
>
>  Document d = new Document();
>
>  d.add( Field.Text("name","Ebrahim Faisal"));
>  d.add( Field.Text("address","New York"));
>  d.add( Field.Text("designation","Software Engineer"));
>  d.add( Field.Text("xyz","123 IndexWriter index"));
>
>  index.addDocument( d );
>
>  d = new Document();
>
>  d.add( Field.Text("name","John Smith"));
>  d.add( Field.Text("address","India"));
>  d.add( Field.Text("designation","Sr. Software Engineer"));
>  d.add( Field.Text("xyz","456 StandardAnalyzer true"));
>
>  index.addDocument( d );
>
>
>
>  index.optimize();
>  index.close();
>
>
>  Query objQuery = null;
>
>  objQuery = QueryParser.parse("John", "name"
>                , objAnalyzer);
>
>
>  Hits objHits = objIndexSearcher.search(objQuery);
>
>
>  for (int nStart = 0; nStart < objHits.length(); nStart++)
>  {
>   d = objHits.doc(nStart);
>   System.out.println(" address "+d.get("address"));
>  }
>
> }
> public static void main(String[] args) throws Exception
> {
>  new testLucene().test();
> }
>}
>
>
>----- Original Message -----
>From: "mahaveer jain" <jainmahaveer23@yahoo.com>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Thursday, December 30, 2004 10:13 PM
>Subject: Re: Search not working properly. Bug !!!!!!
>
>
>  
>
>>try this
>>
>>objQuery = QueryParser.parse("John", "name" , objAnalyzer);
>>or
>>objQuery = QueryParser.parse("Engineer", "designation", objAnalyzer);
>>
>>I should work.
>>
>>The second parameter is the column name you pass. So if you are search for
>>    
>>
>"name", it will look for only name column.
>  
>
>>Hope this help you
>>
>>Mahaveer
>>
>>Mohamed Ebrahim Faisal <ebrahim_faisal123@hotmail.com> wrote:
>>Hi all
>>
>>I have written a simple program to test Indexing & Search. After indexing
>>    
>>
>couple of documents, I Searched for the same, but i didn't get Successfull
>matches. I don't know whether it is a bug in Lucene or in the code. I have
>enclosed the code for your review.
>  
>
>>But when i used Lucene for bigger applications ( index contains larger
>>    
>>
>documents ), search worked amazingly.
>  
>
>>Following is the code which didn't work properly
>>
>>import org.apache.lucene.analysis.Analyzer;
>>import org.apache.lucene.analysis.standard.StandardAnalyzer;
>>import org.apache.lucene.document.Document;
>>import org.apache.lucene.document.Field;
>>import org.apache.lucene.index.Term;
>>import org.apache.lucene.index.IndexWriter;
>>import org.apache.lucene.queryParser.QueryParser;
>>import org.apache.lucene.search.Hits;
>>import org.apache.lucene.search.IndexSearcher;
>>import org.apache.lucene.search.Query;
>>import org.apache.lucene.search.TermQuery;
>>
>>import org.apache.lucene.search.Searcher;
>>
>>public class testLucene
>>{
>>private static final String[] strSTOP_WORDS =
>>{
>>"and",
>>"are",
>>"was",
>>"will",
>>"with" };
>>private void test() throws Exception
>>{
>>Analyzer objAnalyzer = new StandardAnalyzer();
>>IndexWriter index = new IndexWriter("index",objAnalyzer, true );
>>Searcher objIndexSearcher = new IndexSearcher("index");
>>
>>
>>Document d = new Document();
>>
>>d.add( Field.Text("name","Ebrahim Faisal"));
>>d.add( Field.Text("address","New York"));
>>d.add( Field.Text("designation","Software Engineer"));
>>d.add( Field.Text("xyz","123 IndexWriter index"));
>>
>>index.addDocument( d );
>>
>>d = new Document();
>>
>>d.add( Field.Text("name","John Smith"));
>>d.add( Field.Text("address","India"));
>>d.add( Field.Text("designation","Sr. Software Engineer"));
>>d.add( Field.Text("xyz","456 StandardAnalyzer true"));
>>
>>index.addDocument( d );
>>
>>
>>
>>index.optimize();
>>index.close();
>>
>>
>>Query objQuery = null;
>>
>>objQuery = QueryParser.parse("Engineer", "name"
>>, objAnalyzer);
>>
>>
>>Hits objHits = objIndexSearcher.search(objQuery);
>>
>>
>>for (int nStart = 0; nStart < objHits.length(); nStart++)
>>{
>>d = objHits.doc(nStart);
>>System.out.println(" address "+d.get("address"));
>>}
>>
>>}
>>public static void main(String[] args) throws Exception
>>{
>>new testLucene().test();
>>}
>>}
>>
>>
>>---------------------------------
>>Do you Yahoo!?
>> Jazz up your holiday email with celebrity designs. Learn more.
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


--------------090006040409060201010201--

From MAILER-DAEMON Fri Dec 31 14:08:19 2004
Return-Path: 
 <lucene-user-return-12194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51899 invoked from network); 31 Dec 2004 14:08:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 14:08:19 -0000
Received: (qmail 46956 invoked by uid 500); 31 Dec 2004 14:08:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46930 invoked by uid 500); 31 Dec 2004 14:08:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46917 invoked by uid 99); 31 Dec 2004 14:08:08 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ebrahim_faisal123@hotmail.com
 designates 64.4.43.62 as permitted sender)
Received: from bay17-f12.bay17.hotmail.com (HELO hotmail.com) (64.4.43.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 31 Dec 2004 06:08:04 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 31 Dec 2004 06:06:00 -0800
Message-ID: <BAY17-F1254E8936F80691295AC0EC89D0@phx.gbl>
Received: from 203.145.133.223 by by17fd.bay17.hotmail.msn.com with HTTP;
	Fri, 31 Dec 2004 14:05:39 GMT
X-Originating-IP: [203.145.133.223]
X-Originating-Email: [ebrahim_faisal123@hotmail.com]
X-Sender: ebrahim_faisal123@hotmail.com
In-Reply-To: <20041231051748.34220.qmail@web42004.mail.yahoo.com>
From: "mohamed ebrahim faisal" <ebrahim_faisal123@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Deleting index for DB indexing
Date: Fri, 31 Dec 2004 19:35:39 +0530
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 31 Dec 2004 14:06:00.0533 (UTC)
 FILETIME=[DB5B6850:01C4EF41]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

U can try out the following code to delete document based on KeyWords


import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermDocs;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TermQuery;

import org.apache.lucene.search.Searcher;

public class LuceneDelete
{
	private static final String[] strSTOP_WORDS =
        {
			"and",
			"are"
			 };
	private void test() throws Exception
	{
		Analyzer objAnalyzer = new StandardAnalyzer();
		IndexWriter index = new IndexWriter("index",objAnalyzer, true );


		Document objDocument = new Document();

		objDocument.add( Field.Keyword("name","Ebrahim Faisal"));
		objDocument.add( Field.Text("address","Chennai"));
		objDocument.add( Field.Keyword("designation","Software Engineer"));
		objDocument.add( Field.UnIndexed("xyz","123 IndexWriter index"));

		index.addDocument( objDocument );

		objDocument = new Document();

		objDocument.add( Field.Keyword("name","John Smith"));
		objDocument.add( Field.Text("address","Delhi"));
		objDocument.add( Field.Keyword("designation","Sr. Software Engineer"));
		objDocument.add( Field.UnIndexed("xyz","456 StandardAnalyzer true"));

		index.addDocument( objDocument );

		index.optimize();
		index.close();

		//Logic for deleting

		IndexReader objIndexReader = IndexReader.open("index");

		TermDocs objTermDocs = objIndexReader.termDocs(new Term("name","Ebrahim 
Faisal"));

		while( objTermDocs.next() )
		{
			int docNum = objTermDocs.doc();
			objDocument = objIndexReader.document( docNum );
			if( objDocument.get("designation").equalsIgnoreCase("Software Engineer"))
			{
				objIndexReader.delete( docNum );
			}
		}
		objIndexReader.close();


		Searcher objIndexSearcher = new IndexSearcher("index");

		Query objQuery = null;

		objQuery = QueryParser.parse("Delhi", "address"
              , objAnalyzer);


		Hits objHits = objIndexSearcher.search(objQuery);

		System.out.println(" objHits "+objHits.length());

		for (int nStart = 0; nStart < objHits.length(); nStart++)
		{
			objDocument = objHits.doc(nStart);
			System.out.println(" address "+objDocument.get("address"));
		}
		objIndexSearcher.close();
		objIndexSearcher = null;


	}
	public static void main(String[] args) throws Exception
	{
		new LuceneDelete().test();
	}
}




E.FAISAL




>From: mahaveer jain <jainmahaveer23@yahoo.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: Lucene Users List <lucene-user@jakarta.apache.org>,  Paul 
><paul.fuehring@gmail.com>
>Subject: Re: Deleting index for DB indexing
>Date: Thu, 30 Dec 2004 21:17:48 -0800 (PST)
>
>Thanks Paul,
>
>You idea seems to be good. I ll try that. I have one more question. Should 
>the new key what I create have to be keyword ? or Can it be just a column 
>in the index ?
>
>Mahaveer
>
>Paul <paul.fuehring@gmail.com> wrote:
>On Thu, 30 Dec 2004 08:36:04 -0800 (PST), mahaveer jain
>wrote:
> > I am indexing more that 5 tables. And each for them have autoincrement 
>and
> > that is the primary key. So if I do find DocNum, it may so happen that 
>it
> > may delete document I don't want to delete.
>
>you need to create your own global ID, I had the same problem (but I
>used a MD5 hashvalue). One solution ist to give each of your tables an
>internal number and when creating your lucene-documents you add an
>additional field with something like "dbInternalId*100+dbNumber" so
>that db-record 5 in table 3 results in 503. when documents from your
>DB are deleted and you need to update the index you simple create a
>term which's value is calculated the same way and delete the document
>with the IndexReader.delete(Term)
>Instead of calculating you can do string concatenating as well :)
>
>Paul
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>__________________________________________________
>Do You Yahoo!?
>Tired of spam?  Yahoo! Mail has the best spam protection around
>http://mail.yahoo.com

_________________________________________________________________
The MS Office product suite. Make efficiency a habit. 
http://www.microsoft.com/india/office/experience/  Simplify your life.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 31 16:50:11 2004
Return-Path: 
 <lucene-user-return-12195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54400 invoked from network); 31 Dec 2004 16:50:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Dec 2004 16:50:11 -0000
Received: (qmail 32806 invoked by uid 500); 31 Dec 2004 16:49:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32780 invoked by uid 500); 31 Dec 2004 16:49:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32751 invoked by uid 99); 31 Dec 2004 16:49:59 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com)
 (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 31 Dec 2004 08:49:55 -0800
Received: (qmail 72390 invoked by uid 60001); 31 Dec 2004 16:49:53 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=0gTe/TpcGVxqZ5jt7lFcvDqBux+ie5lnT3TyIqFMonUah/yWIHZFS1GD0LZuBzU3lvlFAHtRSBkr4/PzFgS/R7+2NJtzclIpU96yEY0h7BZ6qqsZqZbP1gOT9apeq9+h6drqzoG6937WaJ7VnsSrrj5QLQhL4TTvGj1bWQFqvSc=
  ;
Message-ID: <20041231164953.72388.qmail@web12708.mail.yahoo.com>
Received: from [69.201.130.95] by web12708.mail.yahoo.com via HTTP;
 Fri, 31 Dec 2004 08:49:53 PST
Date: Fri, 31 Dec 2004 08:49:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Is search in lucene commutative?
To: lucene-user@jakarta.apache.org
Cc: samir.abdou@unine.ch
In-Reply-To: <BD1D7341BE3930408509F95C86A451CB01E548DE@mail1.UNINE.CH>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Replying to lucene-user list.
Yes, term1 AND term2, as well as term1 OR term2 should yield the same
hits.

Otis

--- ABDOU Samir <samir.abdou@unine.ch> wrote:

> Hello,
>  
> Does a query such as <term1 term2> give the same hits as for the
> query <term2 term1>? 
> Google seems to differentiate the two requests.
>  
> Thanks.
>  
>  
> Happy new year  to everyone,
>  
> Samir
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


