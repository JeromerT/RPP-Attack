From MAILER-DAEMON Sat Nov  1 14:27:52 2003
Return-Path: 
 <lucene-user-return-5820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85363 invoked from network); 1 Nov 2003 14:27:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Nov 2003 14:27:52 -0000
Received: (qmail 47895 invoked by uid 500); 1 Nov 2003 14:27:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47866 invoked by uid 500); 1 Nov 2003 14:27:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47853 invoked from network); 1 Nov 2003 14:27:42 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 1 Nov 2003 14:27:42 -0000
Message-ID: <20031101142744.45726.qmail@web12701.mail.yahoo.com>
Received: from [195.29.53.73] by web12701.mail.yahoo.com via HTTP;
 Sat, 01 Nov 2003 06:27:44 PST
Date: Sat, 1 Nov 2003 06:27:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: crash in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410CD@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest you recompile Lucene with the compiler debug flag set (-g, I
think).  That will show you/us the exact line number for that NPE.
Is this a version of Lucene from CVS? 1-3RC2? 1.2?

Otis

--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> i get this error when indexing a collection of 120,000 small text
> documents.
> 
> java.lang.NullPointerException
> 	at org.apache.lucene.index.IndexWriter.close(Unknown Source)
>  	at org.apache.lucene.demo.IndexFiles.main(IndexFiles.java:73) 
> 
> the index appears to be usable when i run queries on it. i have tried
> running the code in Borland JBuilder 9 in the debugger and i don't
> get anything useful from the exception. any suggestions? the 120,000
> documents are all in one directory and i am running under Windows
> 2000 using the Sun 1.4.2 JVM.
> 
> Herb....
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov  2 01:57:21 2003
Return-Path: 
 <lucene-user-return-5821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96785 invoked from network); 2 Nov 2003 01:57:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Nov 2003 01:57:21 -0000
Received: (qmail 69910 invoked by uid 500); 2 Nov 2003 01:57:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69875 invoked by uid 500); 2 Nov 2003 01:57:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69851 invoked from network); 2 Nov 2003 01:56:59 -0000
Received: from unknown (HELO web11503.mail.yahoo.com) (216.136.172.35)
  by daedalus.apache.org with SMTP; 2 Nov 2003 01:56:59 -0000
Message-ID: <20031102015708.35456.qmail@web11503.mail.yahoo.com>
Received: from [171.75.59.230] by web11503.mail.yahoo.com via HTTP;
 Sat, 01 Nov 2003 17:57:08 PST
Date: Sat, 1 Nov 2003 17:57:08 -0800 (PST)
From: Caroline Jen <jiapei_jen@yahoo.com>
Subject: findByProperty() in the scaffold.sql.AccessBase - Need Additional
 Parameters 
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, I am new to Lucene.  I am studying the struts
example application in Ted Husted's book "Struts in
Action".  In his example, lucene is the searching
enging to look for articles that are stores in the
database.

Using the findByProperty() method, articles in the
database can be searched by
 
        Property             Value

         author             Victor Hugo or .....
         title              Les Miserables or .....
         content            whatever .....
         id                 168

However, the findByProperty method in the
org.apache.commons.scaffold.sql.AccessBase takes "only
one" pair of property/value as it parameters. As such,
visitors of the web site queries all articles in the
database; for example, by providing 'author' as the
property and supply the name of the author (xyz) as
value.

code:
----------------------------------------------------

public static final Collection findByProperty
(
        Object target,
        String property,
        String value
) throws ParameterException, PopulateException,
         ResourceException
{
         return SearchUtils.getCollection(target,
            Engine.getHits(
                Engine.getQuery(value,property)));

} // end findByProperty


I am stuck because I need to pass additonal parameters
rather than using only one pair of property/value of
parameters in the exising findByProperty() method --  
I have this field "category" in my database. I want to
search and get all the articles written by
author(property) with name xyz (value) within; say,
the HISTORY category. The value of the category will
be supplied by the application developer (NOT BY THE
VISITOR of the web site via selecting from a drop-down
list and fill out the value in the text field).
I need help in handling this kind of situation. Thanks
in advance.


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov  2 09:46:11 2003
Return-Path: 
 <lucene-user-return-5822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7494 invoked from network); 2 Nov 2003 09:46:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Nov 2003 09:46:11 -0000
Received: (qmail 5926 invoked by uid 500); 2 Nov 2003 09:45:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5896 invoked by uid 500); 2 Nov 2003 09:45:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5883 invoked from network); 2 Nov 2003 09:45:41 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 2 Nov 2003 09:45:41 -0000
Received: (cpmta 7743 invoked from network); 2 Nov 2003 01:45:53 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Nov 2003 01:45:53 -0800
X-Sent: 2 Nov 2003 09:45:53 GMT
Date: Sun, 2 Nov 2003 04:46:02 -0500
Subject: Re: findByProperty() in the scaffold.sql.AccessBase - Need Additional
 Parameters 
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031102015708.35456.qmail@web11503.mail.yahoo.com>
Message-Id: <5EE2D128-0D19-11D8-8124-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Your questions are so specific to Ted's book that you really need to 
consult with him directly.  All Manning books have an Author Online 
forum where you should post this.  Click on the "Author Online" link on 
this page:

	http://www.manning.com/husted/


On Saturday, November 1, 2003, at 08:57  PM, Caroline Jen wrote:

> Hi, I am new to Lucene.  I am studying the struts
> example application in Ted Husted's book "Struts in
> Action".  In his example, lucene is the searching
> enging to look for articles that are stores in the
> database.
>
> Using the findByProperty() method, articles in the
> database can be searched by
>
>         Property             Value
>
>          author             Victor Hugo or .....
>          title              Les Miserables or .....
>          content            whatever .....
>          id                 168
>
> However, the findByProperty method in the
> org.apache.commons.scaffold.sql.AccessBase takes "only
> one" pair of property/value as it parameters. As such,
> visitors of the web site queries all articles in the
> database; for example, by providing 'author' as the
> property and supply the name of the author (xyz) as
> value.
>
> code:
> ----------------------------------------------------
>
> public static final Collection findByProperty
> (
>         Object target,
>         String property,
>         String value
> ) throws ParameterException, PopulateException,
>          ResourceException
> {
>          return SearchUtils.getCollection(target,
>             Engine.getHits(
>                 Engine.getQuery(value,property)));
>
> } // end findByProperty
>
>
> I am stuck because I need to pass additonal parameters
> rather than using only one pair of property/value of
> parameters in the exising findByProperty() method --
> I have this field "category" in my database. I want to
> search and get all the articles written by
> author(property) with name xyz (value) within; say,
> the HISTORY category. The value of the category will
> be supplied by the application developer (NOT BY THE
> VISITOR of the web site via selecting from a drop-down
> list and fill out the value in the text field).
> I need help in handling this kind of situation. Thanks
> in advance.
>
>
> __________________________________
> Do you Yahoo!?
> Exclusive Video Premiere - Britney Spears
> http://launch.yahoo.com/promos/britneyspears/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov  2 14:38:51 2003
Return-Path: 
 <lucene-user-return-5823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98610 invoked from network); 2 Nov 2003 14:38:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Nov 2003 14:38:51 -0000
Received: (qmail 25448 invoked by uid 500); 2 Nov 2003 14:38:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25414 invoked by uid 500); 2 Nov 2003 14:38:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25401 invoked from network); 2 Nov 2003 14:38:41 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 2 Nov 2003 14:38:41 -0000
Received: from dsl-082-082-082-031.arcor-ip.net ([82.82.82.31]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AGJ6M-0004n6-00
	for <lucene-user@jakarta.apache.org>; Sun, 02 Nov 2003 15:21:10 +0100
Message-ID: <3FA516EF.70003@media-style.com>
Date: Sun, 02 Nov 2003 15:38:39 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: zipf law?
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410CD@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410CD@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

sorry a very stupid question does lucene zipf laws until indexing?

Thanks
Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov  2 15:18:47 2003
Return-Path: 
 <lucene-user-return-5824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8366 invoked from network); 2 Nov 2003 15:18:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Nov 2003 15:18:47 -0000
Received: (qmail 46927 invoked by uid 500); 2 Nov 2003 15:18:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46897 invoked by uid 500); 2 Nov 2003 15:18:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46870 invoked from network); 2 Nov 2003 15:18:35 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 2 Nov 2003 15:18:35 -0000
Received: (cpmta 2152 invoked from network); 2 Nov 2003 07:18:36 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 2 Nov 2003 07:18:36 -0800
X-Sent: 2 Nov 2003 15:18:36 GMT
Date: Sun, 2 Nov 2003 10:18:46 -0500
Subject: Re: zipf law?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FA516EF.70003@media-style.com>
Message-Id: <DA75F8E0-0D47-11D8-9C89-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, November 2, 2003, at 09:38  AM, Stefan Groschupf wrote:
> sorry a very stupid question does lucene zipf laws until indexing?

I had to look up Zipfs law to understand this.  Lucene does include 
frequency information about terms indexed, yes.  And Analyzers can 
remove common words if you like, or you can play other bigram tricks 
like Nutch does to not take a performance yet keep stop words too.

Does that answer what you're looking for?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov  3 08:41:20 2003
Return-Path: 
 <lucene-user-return-5825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32614 invoked from network); 3 Nov 2003 08:41:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Nov 2003 08:41:20 -0000
Received: (qmail 44264 invoked by uid 500); 3 Nov 2003 08:40:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43902 invoked by uid 500); 3 Nov 2003 08:40:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43889 invoked from network); 3 Nov 2003 08:40:49 -0000
Received: from unknown (HELO localhost.localdomain) (66.93.132.237)
  by daedalus.apache.org with SMTP; 3 Nov 2003 08:40:49 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hA38f2It006615
	for <lucene-user@jakarta.apache.org>; Mon, 3 Nov 2003 00:41:02 -0800
Message-ID: <3FA6149D.5030804@newsmonster.org>
Date: Mon, 03 Nov 2003 00:41:01 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: ArrayIndexOutOfBoundsException in RC2
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ouch... I think this might be a bug in RAMDirectory... just wanted to 
make the stacktrace public because regardless it seems like this might 
be an issue even IF I find a workaround.

java.lang.ArrayIndexOutOfBoundsException: 57
        at org.apache.lucene.util.BitVector.set(BitVector.java:85)
        at 
org.apache.lucene.index.SegmentReader.doDelete(SegmentReader.java:156)
        at org.apache.lucene.index.IndexReader.delete(IndexReader.java:258)
        at 
ksa.index.AdvancedIndexWriter.doDeleteByResource(AdvancedIndexWriter.java:199)
        at 
ksa.index.AdvancedIndexWriter.commit(AdvancedIndexWriter.java:148)
        at ksa.shutdown.ShutdownHook.doCloseIndex(ShutdownHook.java:64)
        at ksa.shutdown.ShutdownHook.run(ShutdownHook.java:28)

Kevin

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 02:53:02 2003
Return-Path: 
 <lucene-user-return-5826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51497 invoked from network); 4 Nov 2003 02:53:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 02:53:02 -0000
Received: (qmail 8547 invoked by uid 500); 4 Nov 2003 02:52:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8492 invoked by uid 500); 4 Nov 2003 02:52:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8479 invoked from network); 4 Nov 2003 02:52:39 -0000
Received: from unknown (HELO web11508.mail.yahoo.com) (216.136.172.40)
  by daedalus.apache.org with SMTP; 4 Nov 2003 02:52:39 -0000
Message-ID: <20031104025248.82309.qmail@web11508.mail.yahoo.com>
Received: from [67.72.163.61] by web11508.mail.yahoo.com via HTTP;
 Mon, 03 Nov 2003 18:52:48 PST
Date: Mon, 3 Nov 2003 18:52:48 -0800 (PST)
From: Caroline Jen <jiapei_jen@yahoo.com>
Subject: Rephrase My Question - How To Search Database With More Than One Pair
 of Property/Value as Parameters Using Lucene?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I raised the question two days ago.  My question was
too specific to the application that I have been
working on. I have decided to re-phrase my question.  

     People say that Lucene is very flexible.  I
wonder if there is a method signature that would be
suitable to my needs.  Or there are way to go about
it.  

     I am using lucene as the searching enging to look
for articles that are stores in the database.
It is OKay to search articles in the database using
"only one" pair of property/value as parameters in a
method; for example:

********Property***************Value

*********author************Victor Hugo or .....
*********title*************Les Miserables or .....
********content***************whatever .....
**********id*********************168

visitors of the web site queries all articles in the
database by selecting 'author' as the property and
supply the name of the author (xyz) as value.

I am stuck because I need to pass additonal parameters
rather than using one pair of property/value as
parameters -- I have this field "category" in my
database. I want to search and get all the articles
written by author(property) with name xyz (value)
within; say, the HISTORY category. The value of the
category will be supplied by the application developer
(NOT BY THE VISITOR of the web site via selecting from
a drop-down list and fill out the value in the text
field).

Is there a method signature available in Lucene to
pass additional parameter as necessary? If not, how
does Lucene handle this kind of situation.  Thanks in
advance.



__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 03:02:38 2003
Return-Path: 
 <lucene-user-return-5827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54548 invoked from network); 4 Nov 2003 03:02:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 03:02:38 -0000
Received: (qmail 16682 invoked by uid 500); 4 Nov 2003 03:02:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16461 invoked by uid 500); 4 Nov 2003 03:02:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16448 invoked from network); 4 Nov 2003 03:02:16 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 4 Nov 2003 03:02:16 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA432NX19289
	for <lucene-user@jakarta.apache.org>; Mon, 3 Nov 2003 21:02:23 -0600
Message-ID: <00a101c3a280$1369a4b0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031104025248.82309.qmail@web11508.mail.yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Date: Tue, 4 Nov 2003 14:02:23 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Something like this?

Query query = QueryParser.parse("\"Victor Hugo\" title:Miserables",
"author", new StandardAnalyser();

or

Query query = QueryParser.parse("\"Victor Hugo\" title:Miserables
category:history", "author", new StandardAnalyser();

/victor

----- Original Message ----- 
From: "Caroline Jen" <jiapei_jen@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 04, 2003 1:52 PM
Subject: Rephrase My Question - How To Search Database With More Than One
Pair of Property/Value as Parameters Using Lucene?


> I raised the question two days ago.  My question was
> too specific to the application that I have been
> working on. I have decided to re-phrase my question.
>
>      People say that Lucene is very flexible.  I
> wonder if there is a method signature that would be
> suitable to my needs.  Or there are way to go about
> it.
>
>      I am using lucene as the searching enging to look
> for articles that are stores in the database.
> It is OKay to search articles in the database using
> "only one" pair of property/value as parameters in a
> method; for example:
>
> ********Property***************Value
>
> *********author************Victor Hugo or .....
> *********title*************Les Miserables or .....
> ********content***************whatever .....
> **********id*********************168
>
> visitors of the web site queries all articles in the
> database by selecting 'author' as the property and
> supply the name of the author (xyz) as value.
>
> I am stuck because I need to pass additonal parameters
> rather than using one pair of property/value as
> parameters -- I have this field "category" in my
> database. I want to search and get all the articles
> written by author(property) with name xyz (value)
> within; say, the HISTORY category. The value of the
> category will be supplied by the application developer
> (NOT BY THE VISITOR of the web site via selecting from
> a drop-down list and fill out the value in the text
> field).
>
> Is there a method signature available in Lucene to
> pass additional parameter as necessary? If not, how
> does Lucene handle this kind of situation.  Thanks in
> advance.
>
>
>
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 03:27:02 2003
Return-Path: 
 <lucene-user-return-5828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60611 invoked from network); 4 Nov 2003 03:27:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 03:27:02 -0000
Received: (qmail 26149 invoked by uid 500); 4 Nov 2003 03:26:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26117 invoked by uid 500); 4 Nov 2003 03:26:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26104 invoked from network); 4 Nov 2003 03:26:39 -0000
Received: from unknown (HELO web11507.mail.yahoo.com) (216.136.172.39)
  by daedalus.apache.org with SMTP; 4 Nov 2003 03:26:39 -0000
Message-ID: <20031104032649.76039.qmail@web11507.mail.yahoo.com>
Received: from [67.72.163.61] by web11507.mail.yahoo.com via HTTP;
 Mon, 03 Nov 2003 19:26:49 PST
Date: Mon, 3 Nov 2003 19:26:49 -0800 (PST)
From: Caroline Jen <jiapei_jen@yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00a101c3a280$1369a4b0$ce00a8c0@victor>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you for your reply.  I am afraid that I was not
clear enough about what I have been doing.

All the articles in the database can be searched by
either author; or title; or content; or id; or
category.

If visitor of the web site selects to search by author
(then, "author" is highlighted in the drop-down list),
the visitor must fill out the name of the author in
the text field.  As such, author and the name of the
author is a property/value pair.  "author" corresponds
to property, and the name of the author provided
corresponds to value.  This part of the search is
OKay.  I have handled it.

My problem is that there is one more dimension
involed.  The propery of this additional dimension is
"category" and the value of this dimension is supplied
by the application developer; for example, HISTORY.

My question is how to search articles by author (or
title) with his/her name (or the title of the article)
provide within the field name in the database that is
"category" and its value is HISTORY?

How do I use analyser(), getHits(), getQuery() in
Lucene in this kind of situation?  It is really the
first time I use Lucene.   

Thanks a lot in advance.

-Caroline
--- Victor Hadianto <vichad@hadianto.net> wrote:
> Something like this?
> 
> Query query = QueryParser.parse("\"Victor Hugo\"
> title:Miserables",
> "author", new StandardAnalyser();
> 
> or
> 
> Query query = QueryParser.parse("\"Victor Hugo\"
> title:Miserables
> category:history", "author", new StandardAnalyser();
> 
> /victor
> 
> ----- Original Message ----- 
> From: "Caroline Jen" <jiapei_jen@yahoo.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, November 04, 2003 1:52 PM
> Subject: Rephrase My Question - How To Search
> Database With More Than One
> Pair of Property/Value as Parameters Using Lucene?
> 
> 
> > I raised the question two days ago.  My question
> was
> > too specific to the application that I have been
> > working on. I have decided to re-phrase my
> question.
> >
> >      People say that Lucene is very flexible.  I
> > wonder if there is a method signature that would
> be
> > suitable to my needs.  Or there are way to go
> about
> > it.
> >
> >      I am using lucene as the searching enging to
> look
> > for articles that are stores in the database.
> > It is OKay to search articles in the database
> using
> > "only one" pair of property/value as parameters in
> a
> > method; for example:
> >
> > ********Property***************Value
> >
> > *********author************Victor Hugo or .....
> > *********title*************Les Miserables or .....
> > ********content***************whatever .....
> > **********id*********************168
> >
> > visitors of the web site queries all articles in
> the
> > database by selecting 'author' as the property and
> > supply the name of the author (xyz) as value.
> >
> > I am stuck because I need to pass additonal
> parameters
> > rather than using one pair of property/value as
> > parameters -- I have this field "category" in my
> > database. I want to search and get all the
> articles
> > written by author(property) with name xyz (value)
> > within; say, the HISTORY category. The value of
> the
> > category will be supplied by the application
> developer
> > (NOT BY THE VISITOR of the web site via selecting
> from
> > a drop-down list and fill out the value in the
> text
> > field).
> >
> > Is there a method signature available in Lucene to
> > pass additional parameter as necessary? If not,
> how
> > does Lucene handle this kind of situation.  Thanks
> in
> > advance.
> >
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > Protect your identity with Yahoo! Mail
> AddressGuard
> > http://antispam.yahoo.com/whatsnewfree
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 09:27:27 2003
Return-Path: 
 <lucene-user-return-5829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32156 invoked from network); 4 Nov 2003 09:27:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 09:27:27 -0000
Received: (qmail 88612 invoked by uid 500); 4 Nov 2003 09:26:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88522 invoked by uid 500); 4 Nov 2003 09:26:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88509 invoked from network); 4 Nov 2003 09:26:57 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 4 Nov 2003 09:26:57 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA49R8915089
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 03:27:08 -0600
Message-ID: <00b301c3a2b5$d24ae5d0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031104032649.76039.qmail@web11507.mail.yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Date: Tue, 4 Nov 2003 20:27:06 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene is a metadata based search engine. When you create 'Lucene document'
you create the metadata with the associated value.

For example

Document doc = new Document();
doc.Add(Field.Text("author", "Isobelle Carmody "));
doc.Add(Field.Text("category", "fiction"));
doc.Add(Field.Text("title", "Obernewtyn"));

And thus when you search Lucene you search based on the fields. For example
if you want to search the author carmody within the category fiction you
would do:

author:carmody AND category:fiction

This will return all documents that has the metadata author:carmody within
the category:fiction (or the other way around doesn't really matter).

HTH,

/victor



----- Original Message ----- 
From: "Caroline Jen" <jiapei_jen@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 04, 2003 2:26 PM
Subject: Re: Rephrase My Question - How To Search Database With More Than
One Pair of Property/Value as Parameters Using Lucene?


> Thank you for your reply.  I am afraid that I was not
> clear enough about what I have been doing.
>
> All the articles in the database can be searched by
> either author; or title; or content; or id; or
> category.
>
> If visitor of the web site selects to search by author
> (then, "author" is highlighted in the drop-down list),
> the visitor must fill out the name of the author in
> the text field.  As such, author and the name of the
> author is a property/value pair.  "author" corresponds
> to property, and the name of the author provided
> corresponds to value.  This part of the search is
> OKay.  I have handled it.
>
> My problem is that there is one more dimension
> involed.  The propery of this additional dimension is
> "category" and the value of this dimension is supplied
> by the application developer; for example, HISTORY.
>
> My question is how to search articles by author (or
> title) with his/her name (or the title of the article)
> provide within the field name in the database that is
> "category" and its value is HISTORY?
>
> How do I use analyser(), getHits(), getQuery() in
> Lucene in this kind of situation?  It is really the
> first time I use Lucene.
>
> Thanks a lot in advance.
>
> -Caroline
> --- Victor Hadianto <vichad@hadianto.net> wrote:
> > Something like this?
> >
> > Query query = QueryParser.parse("\"Victor Hugo\"
> > title:Miserables",
> > "author", new StandardAnalyser();
> >
> > or
> >
> > Query query = QueryParser.parse("\"Victor Hugo\"
> > title:Miserables
> > category:history", "author", new StandardAnalyser();
> >
> > /victor
> >
> > ----- Original Message ----- 
> > From: "Caroline Jen" <jiapei_jen@yahoo.com>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Tuesday, November 04, 2003 1:52 PM
> > Subject: Rephrase My Question - How To Search
> > Database With More Than One
> > Pair of Property/Value as Parameters Using Lucene?
> >
> >
> > > I raised the question two days ago.  My question
> > was
> > > too specific to the application that I have been
> > > working on. I have decided to re-phrase my
> > question.
> > >
> > >      People say that Lucene is very flexible.  I
> > > wonder if there is a method signature that would
> > be
> > > suitable to my needs.  Or there are way to go
> > about
> > > it.
> > >
> > >      I am using lucene as the searching enging to
> > look
> > > for articles that are stores in the database.
> > > It is OKay to search articles in the database
> > using
> > > "only one" pair of property/value as parameters in
> > a
> > > method; for example:
> > >
> > > ********Property***************Value
> > >
> > > *********author************Victor Hugo or .....
> > > *********title*************Les Miserables or .....
> > > ********content***************whatever .....
> > > **********id*********************168
> > >
> > > visitors of the web site queries all articles in
> > the
> > > database by selecting 'author' as the property and
> > > supply the name of the author (xyz) as value.
> > >
> > > I am stuck because I need to pass additonal
> > parameters
> > > rather than using one pair of property/value as
> > > parameters -- I have this field "category" in my
> > > database. I want to search and get all the
> > articles
> > > written by author(property) with name xyz (value)
> > > within; say, the HISTORY category. The value of
> > the
> > > category will be supplied by the application
> > developer
> > > (NOT BY THE VISITOR of the web site via selecting
> > from
> > > a drop-down list and fill out the value in the
> > text
> > > field).
> > >
> > > Is there a method signature available in Lucene to
> > > pass additional parameter as necessary? If not,
> > how
> > > does Lucene handle this kind of situation.  Thanks
> > in
> > > advance.
> > >
> > >
> > >
> > > __________________________________
> > > Do you Yahoo!?
> > > Protect your identity with Yahoo! Mail
> > AddressGuard
> > > http://antispam.yahoo.com/whatsnewfree
> > >
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 09:29:27 2003
Return-Path: 
 <lucene-user-return-5830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32744 invoked from network); 4 Nov 2003 09:29:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 09:29:27 -0000
Received: (qmail 89916 invoked by uid 500); 4 Nov 2003 09:28:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89889 invoked by uid 500); 4 Nov 2003 09:28:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89872 invoked from network); 4 Nov 2003 09:28:57 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 4 Nov 2003 09:28:57 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA49T8915559
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 03:29:08 -0600
Message-ID: <00c401c3a2b6$1a09bfe0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1067605722.23965.106.camel@localhost>
Subject: Re: One access at a time ?
Date: Tue, 4 Nov 2003 20:29:07 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>     I'm building a web application that uses lucene, the problem I'm
> facing is that only one user may write to the index each time, and I
> simply can't imagine a way to deal with this. Anyone ever did something
> like this ? Should I write a non-web app to add documents to the index ?


Yes recently I have to do something like this. The central idea is having a
singleton and synchronise the access to the index.

Or you can create a JMS queue to post your index changes and have a single
consumer of the queue that writes the Lucene index. This works quite well
with my previous work.

/victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 09:31:49 2003
Return-Path: 
 <lucene-user-return-5831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33574 invoked from network); 4 Nov 2003 09:31:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 09:31:49 -0000
Received: (qmail 91671 invoked by uid 500); 4 Nov 2003 09:31:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91648 invoked by uid 500); 4 Nov 2003 09:31:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91628 invoked from network); 4 Nov 2003 09:31:18 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 4 Nov 2003 09:31:18 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA49VT916182
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 03:31:30 -0600
Message-ID: <00df01c3a2b6$6e1603f0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: <lucene-user@jakarta.apache.org>
Subject: Biggest index size/document in Lucene
Date: Tue, 4 Nov 2003 20:31:27 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I'm interested to know have big of Lucene index/documents that you have
experienced with? We are trying to index in the mark of 300 million text
documents. Each document will be quite small around 10kb ish.

Any insight about the scalability of Lucene with this many documents?
Creating the index and searching?

thanks,

/victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 10:17:05 2003
Return-Path: 
 <lucene-user-return-5832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53921 invoked from network); 4 Nov 2003 10:17:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 10:17:05 -0000
Received: (qmail 43712 invoked by uid 500); 4 Nov 2003 10:16:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43683 invoked by uid 500); 4 Nov 2003 10:16:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43667 invoked from network); 4 Nov 2003 10:16:34 -0000
Received: from unknown (HELO w1242.oams.com) (62.50.73.22)
  by daedalus.apache.org with SMTP; 4 Nov 2003 10:16:34 -0000
Received: by w1242.oams.com with Internet Mail Service (5.5.2657.72)
	id <VTHT0PTV>; Tue, 4 Nov 2003 11:16:46 +0100
Message-ID: <81700CC0E65CD611A12900065B3B9B660258691C@w1242.oams.com>
From: Ricardo Coutinho <rcoutinho@odyssey-group.com>
To: lucene-user@jakarta.apache.org
Subject: Removing indexed document
Date: Tue, 4 Nov 2003 11:16:43 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3A2BC.BECAA4EE"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3A2BC.BECAA4EE
Content-Type: text/plain;
	charset="iso-8859-1"

Hi all,

I am trying to delete an indexed document. I followed an example but I am
not getting the results I expect...

This is my test case.
I have index 2 documents with unique keywords so that I can recognise them
i.e.

...
...
doc.add(Field.Keyword("uri",
"jdbc://theHost/thePath#uuid=8dc8946e0a28645e01a428240000000e");
writer.addDocument(doc);
writer.close();
...

and

...
...
doc.add(Field.Keyword("uri",
"jdbc://theHost/thePath#uuid=8c5419bc0a28645e0089db9a0000016b");
writer.addDocument(doc);
writer.close();

...


My problem is that when I pass in the id for document
'8c5419bc0a28645e0089db9a0000016b', Lucene is removing document
'8dc8946e0a28645e01a428240000000e'

This is my code for the delete

TermEnum uidIter = reader.terms(new Term("uri",
"jdbc://theHost/thePath#uuid=8c5419bc0a28645e0089db9a0000016b");
while(uidIter.next())
{
	Term t = uidIter.term();
	getLogger().debug("unindexing text() " + t.text());

	reader.delete(t);
}

My debug statement shows me that it deletes the wrong document...
10:59:30,577 DEBUG [DocumentIndexerService] unindexing text()
jdbc://theHost/thePath#uuid=8dc8946e0a28645e01a428240000000e

I am quite new to Lucene so all healp is gratly appreciated

Thanks


Ricardo
__________________________________________________________________________
* This email and any files transmitted with it are CONFIDENTIAL and intended
solely for the use of the individual or entity to which they are addressed.
* Any unauthorized copying, disclosure, or distribution of the material
within
this email is strictly forbidden.
* Any views or opinions presented within this e-mail are solely those of the
author and do not necessarily represent those of Odyssey Asset Management
Systems SA unless otherwise specifically stated.
* An electronic message is not binding on its sender.  Any message referring
to
a binding engagement must be confirmed in writing and duly signed.
* If you have received this email in error, please notify the sender
immediately
and delete the original.

------_=_NextPart_001_01C3A2BC.BECAA4EE--

From MAILER-DAEMON Tue Nov  4 11:10:00 2003
Return-Path: 
 <lucene-user-return-5833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75740 invoked from network); 4 Nov 2003 11:10:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 11:10:00 -0000
Received: (qmail 92779 invoked by uid 500); 4 Nov 2003 11:09:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92693 invoked by uid 500); 4 Nov 2003 11:09:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92597 invoked from network); 4 Nov 2003 11:09:14 -0000
Received: from unknown (HELO web25204.mail.ukl.yahoo.com) (217.12.10.64)
  by daedalus.apache.org with SMTP; 4 Nov 2003 11:09:14 -0000
Message-ID: <20031104110927.31496.qmail@web25204.mail.ukl.yahoo.com>
Received: from [212.126.153.203] by web25204.mail.ukl.yahoo.com via HTTP;
 Tue, 04 Nov 2003 11:09:27 GMT
Date: Tue, 4 Nov 2003 11:09:27 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Re: The best way forward
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
In-Reply-To: <3B48940F2D7712428BD31A041A367DDC2B5E85@lrrr>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you for the replies!

My indexes are currently looking like they might be 12GB when finished
on the current run.

I have spotted a tool on the lucene site for listing the most
frequently occuring words in the index. Currently I am using the
defaultAnalyzer  stoplist, I should probably use a more comprehensive
list.

Is there a way of implementing a stoplist after the index has been
created,  removing all occurances of the new stoplist words?
I could then write a new Analyzer with the new stoplist for adding new
documents to the index.
Am i doomed to reindexing with a better stoplist?


In view of the index size, I am going to see how well the kernel
caching performs, as the index probably won't fit entirely into memory
once the operating system and other system processes have taken their
bite of the available memory.

Eventually i am going to try to implement something similar to google
groups, indexing lots of NNTP traffic. Has anyone done this before with
lucune?


Thanks again,
jt

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 11:26:30 2003
Return-Path: 
 <lucene-user-return-5834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82357 invoked from network); 4 Nov 2003 11:26:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 11:26:30 -0000
Received: (qmail 13320 invoked by uid 500); 4 Nov 2003 11:26:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13087 invoked by uid 500); 4 Nov 2003 11:25:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13073 invoked from network); 4 Nov 2003 11:25:58 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 4 Nov 2003 11:25:58 -0000
Received: (cpmta 18354 invoked from network); 4 Nov 2003 03:26:12 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 4 Nov 2003 03:26:12 -0800
X-Sent: 4 Nov 2003 11:26:12 GMT
Date: Tue, 4 Nov 2003 06:26:23 -0500
Subject: Re: Removing indexed document
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <81700CC0E65CD611A12900065B3B9B660258691C@w1242.oams.com>
Message-Id: <B841B0D8-0EB9-11D8-A91B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 4, 2003, at 05:16  AM, Ricardo Coutinho wrote:
> This is my code for the delete
>
> TermEnum uidIter = reader.terms(new Term("uri",
> "jdbc://theHost/thePath#uuid=8c5419bc0a28645e0089db9a0000016b");
> while(uidIter.next())
> {
> 	Term t = uidIter.term();
> 	getLogger().debug("unindexing text() " + t.text());
>
> 	reader.delete(t);
> }
>
> My debug statement shows me that it deletes the wrong document...
> 10:59:30,577 DEBUG [DocumentIndexerService] unindexing text()
> jdbc://theHost/thePath#uuid=8dc8946e0a28645e01a428240000000e

If you only want to delete a single document, why are you iterating?   
What you are doing is starting the enumeration at the term from  
reader.terms() and then deleting all documents from there forward,  
except you are doing a .next() first and skipping the one you really  
wanted to delete.  To delete just the one you want, do this:

  	reader.delete(new  
Term("uri","jdbc://theHost/ 
thePath#uuid=8c5419bc0a28645e0089db9a0000016b"))

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 12:04:09 2003
Return-Path: 
 <lucene-user-return-5835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97884 invoked from network); 4 Nov 2003 12:04:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 12:04:09 -0000
Received: (qmail 42061 invoked by uid 500); 4 Nov 2003 12:04:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42030 invoked by uid 500); 4 Nov 2003 12:04:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42017 invoked from network); 4 Nov 2003 12:04:03 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 4 Nov 2003 12:04:03 -0000
Message-ID: <20031104120403.31185.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.182] by web12703.mail.yahoo.com via HTTP;
 Tue, 04 Nov 2003 04:04:03 PST
Date: Tue, 4 Nov 2003 04:04:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: The best way forward
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031104110927.31496.qmail@web25204.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- jt oob <jt2oob@yahoo.co.uk> wrote:
> Thank you for the replies!
> 
> My indexes are currently looking like they might be 12GB when
> finished
> on the current run.
> 
> I have spotted a tool on the lucene site for listing the most
> frequently occuring words in the index. Currently I am using the
> defaultAnalyzer  stoplist, I should probably use a more comprehensive
> list.
> 
> Is there a way of implementing a stoplist after the index has been
> created,  removing all occurances of the new stoplist words?
> I could then write a new Analyzer with the new stoplist for adding
> new documents to the index.
> Am i doomed to reindexing with a better stoplist?

I believe you'll need to re-index.
Well, if your old stop list is a subset of the new stop list, then you
may be able to get away without re-indexing.

> In view of the index size, I am going to see how well the kernel
> caching performs, as the index probably won't fit entirely into
> memory
> once the operating system and other system processes have taken their
> bite of the available memory.
> 
> Eventually i am going to try to implement something similar to google
> groups, indexing lots of NNTP traffic. Has anyone done this before
> with lucune?

Not that I know, but people have used Lucene to index their email,
which is somewhat similar.

Otis


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 12:16:40 2003
Return-Path: 
 <lucene-user-return-5836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3839 invoked from network); 4 Nov 2003 12:16:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 12:16:40 -0000
Received: (qmail 55044 invoked by uid 500); 4 Nov 2003 12:16:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55010 invoked by uid 500); 4 Nov 2003 12:16:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54995 invoked from network); 4 Nov 2003 12:16:34 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 4 Nov 2003 12:16:34 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hA4CGYHx002999
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 04:16:34 -0800 (PST)
Received: from [10.0.1.47] (adsl-62-167-210-83.adslplus.ch [62.167.210.83])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hA4CGWZq004324
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 04:16:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031104120403.31185.qmail@web12703.mail.yahoo.com>
References: <20031104120403.31185.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B90B912C-0EC0-11D8-86E4-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: The best way forward
Date: Tue, 4 Nov 2003 13:16:30 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 04, 2003, at 13:04, Otis Gospodnetic wrote:

>> Eventually i am going to try to implement something similar to google
>> groups, indexing lots of NNTP traffic. Has anyone done this before
>> with lucune?
>
> Not that I know, but people have used Lucene to index their email,
> which is somewhat similar.

Very similar indeed :)

Perhaps you should take a look at ZOE:

http://zoe.nu/

It uses Lucene quiet extensively to index emails type of things.

NNTP support could be a stone throw away as you would only need to 
plugin the appropriate JavaMail's Store to handle NNTP specifics.

On the other hand, I doubt that anyone has tried to index anything on 
the scale of Google's data set... NNTP or not :)

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 16:18:07 2003
Return-Path: 
 <lucene-user-return-5837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30727 invoked from network); 4 Nov 2003 16:18:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 16:18:07 -0000
Received: (qmail 215 invoked by uid 500); 4 Nov 2003 16:17:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 197 invoked by uid 500); 4 Nov 2003 16:17:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 181 invoked from network); 4 Nov 2003 16:17:56 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 4 Nov 2003 16:17:56 -0000
Received: (qmail 19830 invoked from network); 4 Nov 2003 16:17:58 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 4 Nov 2003 16:17:58 -0000
Message-ID: <3FA7D134.1010403@lucene.com>
Date: Tue, 04 Nov 2003 08:17:56 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Biggest index size/document in Lucene
References: <00df01c3a2b6$6e1603f0$ce00a8c0@victor>
In-Reply-To: <00df01c3a2b6$6e1603f0$ce00a8c0@victor>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was a bug (recently fixed) when creating indexes with over a 
couple hundred million documents.  So you should use 1.3 RC2, which has 
a fix for this bug.

The biggest indexes I've personally created have around 30M documents. 
I maintain these as a set of separately updated indexes, then merge them 
together into a single big index for deployment.  I find this easier 
than trying to maintain a single massive index.

My guess is that your search times won't be too fast, probably on the 
order of a few seconds (more than one, less than ten).  It will be disk 
bound.  You could improve performance by distributing search over 
multiple machines, each searching a smaller index, a subset of the 
entire data.

Doug

Victor Hadianto wrote:
> Hi all,
> 
> I'm interested to know have big of Lucene index/documents that you have
> experienced with? We are trying to index in the mark of 300 million text
> documents. Each document will be quite small around 10kb ish.
> 
> Any insight about the scalability of Lucene with this many documents?
> Creating the index and searching?
> 
> thanks,
> 
> /victor
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 17:25:07 2003
Return-Path: 
 <lucene-user-return-5838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67287 invoked from network); 4 Nov 2003 17:25:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 17:25:07 -0000
Received: (qmail 20545 invoked by uid 500); 4 Nov 2003 17:24:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20513 invoked by uid 500); 4 Nov 2003 17:24:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20499 invoked from network); 4 Nov 2003 17:24:54 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 4 Nov 2003 17:24:54 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Tue, 4 Nov 2003 12:24:56 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id hA4HOtY00845
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 12:24:55 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: crash in Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-7"
Content-Transfer-Encoding: 7bit
Date: Tue, 4 Nov 2003 12:24:55 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410E1@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: crash in Lucene
Thread-Index: =?utf-7?B?QWNPZ2hGaVZtRkk1TTVPY1MrU0UxVmRHY0o5OTNRQ2M2Ni0=?=
From: "+ACI-Chong, Herb+ACI-" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

this is the release 1.2 code. the exception as reported by debug is

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:146)
	at org.apache.lucene.demo.IndexFiles.main(IndexFiles.java:73) 

this is either the RAMDirectory close() or the Lock close(). i am inclined to think it is the RAMDirectory class that is having the problem. i am running Lucene under Windows 2000 and the single directory has 120,000 files in it. no subdirectories.

Herb....
-----Original Message-----
From: Otis Gospodnetic +AFs-mailto:otis+AF8-gospodnetic+AEA-yahoo.com+AF0-
Sent: Saturday, November 01, 2003 9:28 AM
To: Lucene Users List
Subject: Re: crash in Lucene


I suggest you recompile Lucene with the compiler debug flag set (-g, I
think).  That will show you/us the exact line number for that NPE.
Is this a version of Lucene from CVS? 1-3RC2? 1.2?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:17:28 2003
Return-Path: 
 <lucene-user-return-5839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91240 invoked from network); 4 Nov 2003 18:17:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:17:28 -0000
Received: (qmail 7685 invoked by uid 500); 4 Nov 2003 18:17:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7615 invoked by uid 500); 4 Nov 2003 18:17:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7602 invoked from network); 4 Nov 2003 18:17:15 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:17:15 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 274E8A941
	for <lucene-user@jakarta.apache.org>; Tue,  4 Nov 2003 10:17:19 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hA4IHJwq090764
	for lucene-user@jakarta.apache.org; Tue, 4 Nov 2003 10:17:19 -0800 (PST)
	(envelope-from dror)
Date: Tue, 4 Nov 2003 10:17:19 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: The best way forward
Message-ID: <20031104181719.GN89081@rlx11.zapatec.com>
References: <20031104120403.31185.qmail@web12703.mail.yahoo.com>
 <B90B912C-0EC0-11D8-86E4-000393760B7E@mac.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <B90B912C-0EC0-11D8-86E4-000393760B7E@mac.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Nov 04, 2003 at 01:16:30PM +0100, petite_abeille wrote:
> 
> On Nov 04, 2003, at 13:04, Otis Gospodnetic wrote:
> 
> >>Eventually i am going to try to implement something similar to google
> >>groups, indexing lots of NNTP traffic. Has anyone done this before
> >>with lucune?
> >
> >Not that I know, but people have used Lucene to index their email,
> >which is somewhat similar.

Kind of similar in that a news item and an email have very similar
structure. 

On the other hand trying to replicate google news is a major project.
You need to run a news server which last time I looked wasn't a small
task, and then you need to have enough storage, enough bandwidth and
enough disk space to hold all of this.

Do you know how many daily articles there are in a daily feed? What is
the average size of a news item? Probably similar to email.

> 
> Very similar indeed :)
> 
> Perhaps you should take a look at ZOE:
> 
> http://zoe.nu/
> 
> It uses Lucene quiet extensively to index emails type of things.
> 
> NNTP support could be a stone throw away as you would only need to 
> plugin the appropriate JavaMail's Store to handle NNTP specifics.
> 
> On the other hand, I doubt that anyone has tried to index anything on 
> the scale of Google's data set... NNTP or not :)
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:28:29 2003
Return-Path: 
 <lucene-user-return-5840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95977 invoked from network); 4 Nov 2003 18:28:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:28:29 -0000
Received: (qmail 22609 invoked by uid 500); 4 Nov 2003 18:28:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22579 invoked by uid 500); 4 Nov 2003 18:28:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22566 invoked from network); 4 Nov 2003 18:28:16 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:28:16 -0000
content-class: urn:content-classes:message
Subject: Relational Search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 4 Nov 2003 13:28:15 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE6278B2AD@sgges01.nstein.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Relational Search
Thread-Index: AcOjAWl/H8f8HOL+TDSDhnPigvU7Ag==
From: "Tate Avery" <tate.avery@nstein.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I want to perform a 'relational search' meanining that I want to search =
2 indexes and perform an intersection between the 2.  It would be very =
much like a table join in an SQL statement in terms of overall result.

So, I might have an index of documents of type A that would allow me to =
retrieve IDs.
And an index of documents of type B that would also return IDs of A type =
documents (like a foreign key).

So, I want to find all documents of type A that match query X and also =
match query Y on the B-type index.

Using SQL Server (with full-text search) it might be something like:

	SELECT a.name FROM index1 a, index2 b=20
	WHERE CONTAINS(a.body, 'x')=20
	   AND b.id =3D a.id AND CONTAINS(b.title, 'y')

Doing my own intersection is not desirable (since loading the IDs from =
both results can be very time-consuming).
And, building a huge boolean query that performs the intersection (by =
loading the smaller ID set only) is still too slow.
I don't mind doing any extra work so long as I get an reasonably =
efficient relational search in the end.

Does anyone have any creative ideas for tackling this problem with =
Lucene?

Thank you,
Tate


p.s.  Using the Multisearcher allows for easy unions  :) ... but not =
intersections.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:34:09 2003
Return-Path: 
 <lucene-user-return-5841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98449 invoked from network); 4 Nov 2003 18:34:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:34:09 -0000
Received: (qmail 28201 invoked by uid 500); 4 Nov 2003 18:33:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27854 invoked by uid 500); 4 Nov 2003 18:33:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27841 invoked from network); 4 Nov 2003 18:33:55 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:33:55 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP
	id 393F5A941; Tue,  4 Nov 2003 10:34:00 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hA4IXxOk090793;
	Tue, 4 Nov 2003 10:33:59 -0800 (PST)
	(envelope-from dror)
Date: Tue, 4 Nov 2003 10:33:59 -0800
From: Dror Matalon <dror@zapatec.com>
To: jt oob <jt2oob@yahoo.co.uk>
Cc: Lucene-Users-List <lucene-user@jakarta.apache.org>
Subject: Re: The best way forward
Message-ID: <20031104183359.GO89081@rlx11.zapatec.com>
References: <3B48940F2D7712428BD31A041A367DDC2B5E85@lrrr>
 <20031104110927.31496.qmail@web25204.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031104110927.31496.qmail@web25204.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

By the way, we're also thinking of integrating newsgroups into RSS
aggregator which you can see at  www.fastbuzz.com. 

Are you interested in comparing notes, or possibly pooling resources? We
have plenty of technical resources, and we've run news servers before,
although it's been a few years.

Regards,

Dror

On Tue, Nov 04, 2003 at 11:09:27AM +0000, jt oob wrote:
> Thank you for the replies!
> 
> My indexes are currently looking like they might be 12GB when finished
> on the current run.
> 
> I have spotted a tool on the lucene site for listing the most
> frequently occuring words in the index. Currently I am using the
> defaultAnalyzer  stoplist, I should probably use a more comprehensive
> list.
> 
> Is there a way of implementing a stoplist after the index has been
> created,  removing all occurances of the new stoplist words?
> I could then write a new Analyzer with the new stoplist for adding new
> documents to the index.
> Am i doomed to reindexing with a better stoplist?
> 
> 
> In view of the index size, I am going to see how well the kernel
> caching performs, as the index probably won't fit entirely into memory
> once the operating system and other system processes have taken their
> bite of the available memory.
> 
> Eventually i am going to try to implement something similar to google
> groups, indexing lots of NNTP traffic. Has anyone done this before with
> lucune?
> 
> 
> Thanks again,
> jt
> 
> ________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:35:21 2003
Return-Path: 
 <lucene-user-return-5842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98982 invoked from network); 4 Nov 2003 18:35:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:35:21 -0000
Received: (qmail 31012 invoked by uid 500); 4 Nov 2003 18:35:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30886 invoked by uid 500); 4 Nov 2003 18:35:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30873 invoked from network); 4 Nov 2003 18:35:07 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:35:07 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hA4IZBwk004189
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 10:35:12 -0800 (PST)
Received: from [10.0.1.47] (adsl-62-167-119-91.adslplus.ch [62.167.119.91])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hA4IZApa006081
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 10:35:11 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE6278B2AD@sgges01.nstein.com>
References: <5C7A32E240A279479DFF44FDF01BBE6278B2AD@sgges01.nstein.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9DAAF42C-0EF5-11D8-B820-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Relational Search
Date: Tue, 4 Nov 2003 19:35:08 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 04, 2003, at 19:28, Tate Avery wrote:

> Does anyone have any creative ideas for tackling this problem with 
> Lucene?

Perhaps.... Not sure if this quiet what you are after, but you could 
take a look at ZOE's SZObject framework. It's build on top of Lucene to 
provide lightweight ODBMS like functionality.

Cheers,

PA.

-- 
http://zoe.nu/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:41:34 2003
Return-Path: 
 <lucene-user-return-5843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1261 invoked from network); 4 Nov 2003 18:41:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:41:34 -0000
Received: (qmail 46231 invoked by uid 500); 4 Nov 2003 18:41:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46196 invoked by uid 500); 4 Nov 2003 18:41:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46179 invoked from network); 4 Nov 2003 18:41:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:41:21 -0000
Received: (cpmta 7482 invoked from network); 4 Nov 2003 10:41:24 -0800
Received: from 128.143.135.171 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 4 Nov 2003 10:41:24 -0800
X-Sent: 4 Nov 2003 18:41:24 GMT
Date: Tue, 4 Nov 2003 13:41:34 -0500
Subject: Re: crash in Lucene
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410E1@ny2528.corp.bloomberg.com>
Message-Id: <83F4CDEE-0EF6-11D8-B202-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Could you try the latest CVS version or 1.3 RC build and see if the 
problem has been resolved?



On Tuesday, November 4, 2003, at 12:24  PM, +ACI-Chong, Herb+ACI- wrote:

> this is the release 1.2 code. the exception as reported by debug is
>
> java.lang.NullPointerException
> 	at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:146)
> 	at org.apache.lucene.demo.IndexFiles.main(IndexFiles.java:73)
>
> this is either the RAMDirectory close() or the Lock close(). i am 
> inclined to think it is the RAMDirectory class that is having the 
> problem. i am running Lucene under Windows 2000 and the single 
> directory has 120,000 files in it. no subdirectories.
>
> Herb....
> -----Original Message-----
> From: Otis Gospodnetic 
> +AFs-mailto:otis+AF8-gospodnetic+AEA-yahoo.com+AF0-
> Sent: Saturday, November 01, 2003 9:28 AM
> To: Lucene Users List
> Subject: Re: crash in Lucene
>
>
> I suggest you recompile Lucene with the compiler debug flag set (-g, I
> think).  That will show you/us the exact line number for that NPE.
> Is this a version of Lucene from CVS? 1-3RC2? 1.2?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 18:42:15 2003
Return-Path: 
 <lucene-user-return-5844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1558 invoked from network); 4 Nov 2003 18:42:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 18:42:15 -0000
Received: (qmail 47252 invoked by uid 500); 4 Nov 2003 18:42:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47206 invoked by uid 500); 4 Nov 2003 18:42:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47193 invoked from network); 4 Nov 2003 18:42:01 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 4 Nov 2003 18:42:01 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hA4Ig59H019393
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 10:42:05 -0800 (PST)
Received: from [10.0.1.47] (adsl-62-167-119-91.adslplus.ch [62.167.119.91])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hA4Ig1Zq004201
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 10:42:02 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031104183359.GO89081@rlx11.zapatec.com>
References: <3B48940F2D7712428BD31A041A367DDC2B5E85@lrrr>
 <20031104110927.31496.qmail@web25204.mail.ukl.yahoo.com>
 <20031104183359.GO89081@rlx11.zapatec.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9386525A-0EF6-11D8-B820-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: The best way forward
Date: Tue, 4 Nov 2003 19:42:00 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Dror,

On Nov 04, 2003, at 19:33, Dror Matalon wrote:

> By the way, we're also thinking of integrating newsgroups into RSS
> aggregator which you can see at  www.fastbuzz.com.

ZOE does something similar already.

It can vend messages as RSS feeds:

http://zoe.nu/itstories/story.php?data=stories&num=43&sec=2

And also aggregate RSS feeds:

http://zoe.nu/itstories/story.php?data=stories&num=67&sec=2

> Are you interested in comparing notes, or possibly pooling resources?

Who? ZOE? Perhaps. You should drop by its mailing list:

https://lists.sourceforge.net/lists/listinfo/zoe-develop
https://lists.sourceforge.net/lists/listinfo/zoe-general

Archives available here:

http://news.gmane.org/gmane.mail.zoe.devel/
http://news.gmane.org/gmane.mail.zoe.general/

>  We
> have plenty of technical resources, and we've run news servers before,
> although it's been a few years.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov  4 21:05:05 2003
Return-Path: 
 <lucene-user-return-5845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66951 invoked from network); 4 Nov 2003 21:05:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Nov 2003 21:05:05 -0000
Received: (qmail 62678 invoked by uid 500); 4 Nov 2003 21:04:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62629 invoked by uid 500); 4 Nov 2003 21:04:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62526 invoked from network); 4 Nov 2003 21:04:37 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 4 Nov 2003 21:04:37 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Tue, 4 Nov 2003 16:04:41 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id hA4L4dj01128
	for <lucene-user@jakarta.apache.org>; Tue, 4 Nov 2003 16:04:40 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: crash in Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 4 Nov 2003 16:04:38 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240860@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: crash in Lucene
Thread-Index: AcOjA0WYzNP7wYg+QUeUw4MFL6i37QAEw/NA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

no change in 1.3RC2. the crash is at the same statement, although the =
absolute line number has moved.

this is the demo IndexFiles application with a change in the main() =
method to allow specifying more than one file/directory in the parameter =
list. i also modified the FileWriter class to save the first 300 bytes =
of each document in an Unindexed field. i used the 1.2 version of the =
demo application to as my base for these changes. the application is =
being run with a 1000M JVM size. there are about 120,000 documents =
averaging about 600 bytes in size.

Herb....
-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, November 04, 2003 1:42 PM
To: Lucene Users List
Subject: Re: crash in Lucene


Could you try the latest CVS version or 1.3 RC build and see if the=20
problem has been resolved?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 01:56:48 2003
Return-Path: 
 <lucene-user-return-5846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75120 invoked from network); 5 Nov 2003 01:56:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 01:56:48 -0000
Received: (qmail 64529 invoked by uid 500); 5 Nov 2003 01:56:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64501 invoked by uid 500); 5 Nov 2003 01:56:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64488 invoked from network); 5 Nov 2003 01:56:26 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Nov 2003 01:56:26 -0000
Received: (cpmta 3354 invoked from network); 4 Nov 2003 17:56:34 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 4 Nov 2003 17:56:34 -0800
X-Sent: 5 Nov 2003 01:56:34 GMT
Date: Tue, 4 Nov 2003 20:56:43 -0500
Subject: Re: crash in Lucene
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240860@ny2528.corp.bloomberg.com>
Message-Id: <4E47747C-0F33-11D8-A4E4-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

120k documents?!  You're asking a lot of the *demo*.  It was not ever 
meant to be a production-quality HTML or text file processor.  My 
suggestion is that you create your own custom indexer code using 
something more production quality for HTML parsing like Neko HTML or 
JTidy.

	Erik


On Tuesday, November 4, 2003, at 04:04  PM, Chong, Herb wrote:
> no change in 1.3RC2. the crash is at the same statement, although the 
> absolute line number has moved.
>
> this is the demo IndexFiles application with a change in the main() 
> method to allow specifying more than one file/directory in the 
> parameter list. i also modified the FileWriter class to save the first 
> 300 bytes of each document in an Unindexed field. i used the 1.2 
> version of the demo application to as my base for these changes. the 
> application is being run with a 1000M JVM size. there are about 
> 120,000 documents averaging about 600 bytes in size.
>
> Herb....
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Tuesday, November 04, 2003 1:42 PM
> To: Lucene Users List
> Subject: Re: crash in Lucene
>
>
> Could you try the latest CVS version or 1.3 RC build and see if the
> problem has been resolved?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 08:51:42 2003
Return-Path: 
 <lucene-user-return-5847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3176 invoked from network); 5 Nov 2003 08:51:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 08:51:42 -0000
Received: (qmail 31348 invoked by uid 500); 5 Nov 2003 08:51:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31316 invoked by uid 500); 5 Nov 2003 08:51:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31303 invoked from network); 5 Nov 2003 08:51:20 -0000
Received: from unknown (HELO gic-msg-lin-01.genotec.ch) (212.80.184.211)
  by daedalus.apache.org with SMTP; 5 Nov 2003 08:51:20 -0000
Received: from gic-msg-lin-01.genotec.ch (localhost [127.0.0.1])
	by gic-msg-lin-01.virge.genotec.ch (Postfix) with ESMTP id 702A81A089
	for <lucene-user@jakarta.apache.org>; Wed,  5 Nov 2003 09:51:32 +0100 (CET)
Received: from it1024 (unknown [80.238.139.246])
	by gic-msg-lin-01.genotec.ch (Postfix) with ESMTP id 9E7F51997A
	for <lucene-user@jakarta.apache.org>; Wed,  5 Nov 2003 09:51:31 +0100 (CET)
From: =?us-ascii?Q?Marcel_Stor?= <marcel@frightanic.com>
To: <lucene-user@jakarta.apache.org>
Subject: Index entire filesystem
Date: Wed, 5 Nov 2003 09:51:29 +0100
Message-ID: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I'm thinkin' about writing a search tool for my filesystem. I know such
things exist already but programming it myself is much more fun ;-)
So, I would have Lucene crawl through my filesystem and pass each file
to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
system and would depend on the file ending to distinguish the file type.
Is this a good idea in general? Is there a list of available indexer for
the the different file types? Any other comments are also welcome.

Regards,
Marcel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 09:57:17 2003
Return-Path: 
 <lucene-user-return-5848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30534 invoked from network); 5 Nov 2003 09:57:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 09:57:17 -0000
Received: (qmail 25681 invoked by uid 500); 5 Nov 2003 09:56:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25650 invoked by uid 500); 5 Nov 2003 09:56:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25637 invoked from network); 5 Nov 2003 09:56:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 5 Nov 2003 09:56:55 -0000
Received: (cpmta 18822 invoked from network); 5 Nov 2003 01:57:08 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 5 Nov 2003 01:57:08 -0800
X-Sent: 5 Nov 2003 09:57:08 GMT
Date: Wed, 5 Nov 2003 04:57:19 -0500
Subject: Re: Index entire filesystem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
Message-Id: <719CBC5D-0F76-11D8-91CC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 5, 2003, at 03:51  AM, Marcel Stor wrote:
> Hi all,
>
> I'm thinkin' about writing a search tool for my filesystem. I know such
> things exist already but programming it myself is much more fun ;-)
> So, I would have Lucene crawl through my filesystem and pass each file
> to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
> system and would depend on the file ending to distinguish the file 
> type.
> Is this a good idea in general? Is there a list of available indexer 
> for
> the the different file types? Any other comments are also welcome.

The general idea (limited to .txt files intentionally) is included in 
this code:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

The Ant <index> task in jakarta-lucene-sandbox CVS repository has a 
document handler interface that is designed to allow for plugability.  
You named the PDF pieces, and there is POI for dealing with Office 
documents.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 10:24:21 2003
Return-Path: 
 <lucene-user-return-5849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41876 invoked from network); 5 Nov 2003 10:24:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 10:24:21 -0000
Received: (qmail 41157 invoked by uid 500); 5 Nov 2003 10:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41123 invoked by uid 500); 5 Nov 2003 10:23:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41107 invoked from network); 5 Nov 2003 10:23:58 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 5 Nov 2003 10:23:58 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hA5A9qj08715
	for <lucene-user@jakarta.apache.org>; Wed, 5 Nov 2003 11:09:52 +0100
Message-ID: <3FA8D045.2060400@media-style.com>
Date: Wed, 05 Nov 2003 11:26:13 +0100
From: Stefan Groschupf <sg@media-style.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index entire filesystem
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
In-Reply-To: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I had write to this list some days ago, to announce a possibility to 
parse 182 file formats.
There was a tiny bug report some days ago, i hope i can fix it.

Browse the archive to figure out more.

Cheers
Stefan

Marcel Stor wrote:

>Hi all,
>
>I'm thinkin' about writing a search tool for my filesystem. I know such
>things exist already but programming it myself is much more fun ;-)
>So, I would have Lucene crawl through my filesystem and pass each file
>to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
>system and would depend on the file ending to distinguish the file type.
>Is this a good idea in general? Is there a list of available indexer for
>the the different file types? Any other comments are also welcome.
>
>Regards,
>Marcel
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 10:52:02 2003
Return-Path: 
 <lucene-user-return-5850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53566 invoked from network); 5 Nov 2003 10:52:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 10:52:02 -0000
Received: (qmail 58383 invoked by uid 500); 5 Nov 2003 10:51:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58349 invoked by uid 500); 5 Nov 2003 10:51:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58334 invoked from network); 5 Nov 2003 10:51:38 -0000
Received: from unknown (HELO ptb-mailc04.plus.net) (212.159.14.210)
  by daedalus.apache.org with SMTP; 5 Nov 2003 10:51:38 -0000
Received: from [81.174.157.55] (helo=joseph)
	by ptb-mailc04.plus.net with smtp (Exim 4.12)
	id 1AHLGS-0005mD-00
	for lucene-user@jakarta.apache.org; Wed, 05 Nov 2003 10:51:52 +0000
Message-ID: <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
 <3FA8D045.2060400@media-style.com>
Subject: Re: Index entire filesystem
Date: Wed, 5 Nov 2003 10:50:32 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Stefan

Using OpenOffice will enable you to parse 182 file formats, but its not a
pure java solution and you still need an alternate solution for pdfs.

I'd be interested in knowing whether anyone is working on a pure java
solution that would give us a single method for handling ms office
documments / pdfs / etc.

Cheers

Pete

----- Original Message ----- 
From: "Stefan Groschupf" <sg@media-style.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, November 05, 2003 10:26 AM
Subject: Re: Index entire filesystem


>
> I had write to this list some days ago, to announce a possibility to
> parse 182 file formats.
> There was a tiny bug report some days ago, i hope i can fix it.
>
> Browse the archive to figure out more.
>
> Cheers
> Stefan
>
> Marcel Stor wrote:
>
> >Hi all,
> >
> >I'm thinkin' about writing a search tool for my filesystem. I know such
> >things exist already but programming it myself is much more fun ;-)
> >So, I would have Lucene crawl through my filesystem and pass each file
> >to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
> >system and would depend on the file ending to distinguish the file type.
> >Is this a good idea in general? Is there a list of available indexer for
> >the the different file types? Any other comments are also welcome.
> >
> >Regards,
> >Marcel
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 10:59:13 2003
Return-Path: 
 <lucene-user-return-5851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55818 invoked from network); 5 Nov 2003 10:59:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 10:59:13 -0000
Received: (qmail 62348 invoked by uid 500); 5 Nov 2003 10:58:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62163 invoked by uid 500); 5 Nov 2003 10:58:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62145 invoked from network); 5 Nov 2003 10:58:47 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 5 Nov 2003 10:58:47 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hA5Aibj09022
	for <lucene-user@jakarta.apache.org>; Wed, 5 Nov 2003 11:44:37 +0100
Message-ID: <3FA8D86D.2000608@media-style.com>
Date: Wed, 05 Nov 2003 12:01:01 +0100
From: Stefan Groschupf <sg@media-style.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index entire filesystem
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
 <3FA8D045.2060400@media-style.com> <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
In-Reply-To: <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is some ongoing work for nutch.org.
May be we can bundle all work together?! <open source>
Nutch has alraeady a java *.doc, *.pdf parser as well .

Stefan

Pete Lewis wrote:

>Hi Stefan
>
>Using OpenOffice will enable you to parse 182 file formats, but its not a
>pure java solution and you still need an alternate solution for pdfs.
>
>I'd be interested in knowing whether anyone is working on a pure java
>solution that would give us a single method for handling ms office
>documments / pdfs / etc.
>
>Cheers
>
>Pete
>
>----- Original Message ----- 
>From: "Stefan Groschupf" <sg@media-style.com>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Wednesday, November 05, 2003 10:26 AM
>Subject: Re: Index entire filesystem
>
>
>  
>
>>I had write to this list some days ago, to announce a possibility to
>>parse 182 file formats.
>>There was a tiny bug report some days ago, i hope i can fix it.
>>
>>Browse the archive to figure out more.
>>
>>Cheers
>>Stefan
>>
>>Marcel Stor wrote:
>>
>>    
>>
>>>Hi all,
>>>
>>>I'm thinkin' about writing a search tool for my filesystem. I know such
>>>things exist already but programming it myself is much more fun ;-)
>>>So, I would have Lucene crawl through my filesystem and pass each file
>>>to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
>>>system and would depend on the file ending to distinguish the file type.
>>>Is this a good idea in general? Is there a list of available indexer for
>>>the the different file types? Any other comments are also welcome.
>>>
>>>Regards,
>>>Marcel
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>
>>>
>>>      
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 12:44:38 2003
Return-Path: 
 <lucene-user-return-5852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99152 invoked from network); 5 Nov 2003 12:44:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 12:44:38 -0000
Received: (qmail 13600 invoked by uid 500); 5 Nov 2003 12:44:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13526 invoked by uid 500); 5 Nov 2003 12:44:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13509 invoked from network); 5 Nov 2003 12:44:30 -0000
Received: from unknown (HELO mail2.astercity.net) (212.76.33.39)
  by daedalus.apache.org with SMTP; 5 Nov 2003 12:44:30 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail2.astercity.net (sendmail) with ESMTP id 9EB7D2F8AB4
	for <lucene-user@jakarta.apache.org>; Wed,  5 Nov 2003 13:44:29 +0100 (CET)
Message-ID: <3FA8F009.6020306@getopt.org>
Date: Wed, 05 Nov 2003 13:41:45 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index entire filesystem
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
 <3FA8D045.2060400@media-style.com> <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
 <3FA8D86D.2000608@media-style.com>
In-Reply-To: <3FA8D86D.2000608@media-style.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan Groschupf wrote:
> There is some ongoing work for nutch.org.
> May be we can bundle all work together?! <open source>
> Nutch has alraeady a java *.doc, *.pdf parser as well .
> 
> Stefan
> 

I can give you a short account of my experiences with various PDF 
parsers out there, for the purpose of PDF -> text conversion:

* JPedal: previous versions used LGPL, as opposed to GPL it uses now. In 
my view, this practically excludes JPedal from commercial applications 
(which seems to be the point of this change). The library was able to 
correctly parse ca. 70% of my PDF collection. It is also clear how to 
extend some of the core algorithms for text grouping so that it can 
handle more complex layouts. It has a nice image extractor, and 
rasterizer, which means you can easily provide a preview or create 
thumbnails. However, it's excruciatingly slow and memory hungry.

* Etymon PJ: GPL :-( I have little experience with this library, because 
it lacks higher-level API for e.g. text extraction, and this task is 
non-trivial... There is also a commercial version, but I don't know the 
details.

* PDFBox: by far the best Java parser around, IMHO. It doesn't handle 
graphics at all (which might be a disadvantage for some), but does a 
very good job on text objects. It was able to correctly handle ca. 90% 
of my PDFs - the ones that failed either used font subsetting or were 
not quite up to the PDF spec. It can handle encrypted documents as well. 
However, it is relatively slow and memory hungry.

* Xpdf: not a Java library at all but native executable / library, and 
also GPL - however, as I understand GPL you are allowed to bundle it 
with your Java application so long as it is a separate executable (so 
using JNI is probably out of question...). It is my favorite solution 
right now for PDF-text conversion - it's very fast, very accurate and 
able to handle even multi-column layouts. Its Pdf-HTML converter is 
breath-taking, you have to see it to believe. For large PDFs (around 
10MB) PDFBox would take ca. 120 sec for processing, and Xpdf took 
(including overheads for forking and reading from stdout) ca. 10 secs.

So, as usually there is no ideal solution ... but rather than start yet 
another PDF parser effort I would encourage you to join efforts with 
e.g. PDFBox project.

Just my 0.02 PLN on the subject :-)

Regarding the format detection and conversion, I'm still looking for 
Java implementation of file(1) ... For now, I'm using the following 
steps to determine the file format:

* by extension - but you can burn your fingers with this. I had a case 
of a broken web ripper that saved everything (html, images, zips etc) as 
*.asp files, and obviously my application fell flat when it tried to 
swallow such files...

* by a subset of tests borrowed from file(1).

* by using fall-back converters when the primary converter fails. 
Obviously quite expensive. Fall-back converters register themselves for 
various formats they can handle to varying degrees (including Java 
implementation of strings(1) command as the last resort).

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 13:35:18 2003
Return-Path: 
 <lucene-user-return-5853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24146 invoked from network); 5 Nov 2003 13:35:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 13:35:18 -0000
Received: (qmail 99930 invoked by uid 500); 5 Nov 2003 13:35:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99787 invoked by uid 500); 5 Nov 2003 13:35:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99774 invoked from network); 5 Nov 2003 13:35:10 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 5 Nov 2003 13:35:10 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Wed, 5 Nov 2003 08:35:10 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id hA5DZ9i29615
	for <lucene-user@jakarta.apache.org>; Wed, 5 Nov 2003 08:35:10 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: crash in Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 5 Nov 2003 08:35:08 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410E8@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: crash in Lucene
Thread-Index: AcOjQBDTqtWMmhdHRBW3cB+/1J5jzQAYXL7w
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

the parser isn't the problem. the crash is in IndexWriter and that is a =
part of Lucene, not the demo. doesn't matter if the demo causes it.

Herb....

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, November 04, 2003 8:57 PM
To: Lucene Users List
Subject: Re: crash in Lucene


120k documents?!  You're asking a lot of the *demo*.  It was not ever=20
meant to be a production-quality HTML or text file processor.  My=20
suggestion is that you create your own custom indexer code using=20
something more production quality for HTML parsing like Neko HTML or=20
JTidy.

	Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 16:14:07 2003
Return-Path: 
 <lucene-user-return-5854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29852 invoked from network); 5 Nov 2003 16:14:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 16:14:07 -0000
Received: (qmail 97799 invoked by uid 500); 5 Nov 2003 16:13:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97763 invoked by uid 500); 5 Nov 2003 16:13:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97736 invoked from network); 5 Nov 2003 16:13:55 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 5 Nov 2003 16:13:55 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HNV00N01ZR0MQ@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Wed, 05 Nov 2003 16:13:48 +0000 (GMT)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HNV00I23ZQO9M@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Wed, 05 Nov 2003 16:13:36 +0000 (GMT)
Date: Wed, 05 Nov 2003 16:13:40 +0000
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: best way of reusing IndexSearcher objects
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=koi8-r
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410E8@ny2528.corp.bloomberg.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi all,
i have a fairly big index (relative to the computing power at my disposal),
which takes a little too long for my liking to open if i run a lot of
queries through it in sequence.  i've worked out that the bottleneck is the
opening of the index since when i run the queries through a much smaller
index they run much faster.

so in my code i have a single IndexSearcher object which i re-use to perform
each search (with a different Query each time).  i've decuded from the
archives that this is ok, i.e. it's safe to re-use an IndexSearcher object.

what i was wondering was whether i should proceed as i am, i.e. reusing an
IndexSearcher object which is created at the start of my program, or at the
beginning of my program open an IndexReader object which will be passed to
the constructor of a new IndexSearcher object for each query.

or to put it simply, are both solutions as effective/efficient as each
other?

thanks,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 19:13:05 2003
Return-Path: 
 <lucene-user-return-5855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25536 invoked from network); 5 Nov 2003 19:13:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 19:13:05 -0000
Received: (qmail 66218 invoked by uid 500); 5 Nov 2003 19:12:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66185 invoked by uid 500); 5 Nov 2003 19:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66171 invoked from network); 5 Nov 2003 19:12:50 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 5 Nov 2003 19:12:50 -0000
Message-ID: <20031105191254.33950.qmail@web12703.mail.yahoo.com>
Received: from [195.29.50.114] by web12703.mail.yahoo.com via HTTP;
 Wed, 05 Nov 2003 11:12:54 PST
Date: Wed, 5 Nov 2003 11:12:54 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: best way of reusing IndexSearcher objects
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use a single instance of IndexSearcher.
When you detect that the index has changed, through that instance (see
javadoc for the exact method name, I don't recall its exact name now),
discard that instance, and make a new one.
Do this check before every query or every X <unit of time> if you don't
care about the newest index entries appearing in search results
immediately.

Otis


--- Maurice Coyle <maurice.coyle@ucd.ie> wrote:
> hi all,
> i have a fairly big index (relative to the computing power at my
> disposal),
> which takes a little too long for my liking to open if i run a lot of
> queries through it in sequence.  i've worked out that the bottleneck
> is the
> opening of the index since when i run the queries through a much
> smaller
> index they run much faster.
> 
> so in my code i have a single IndexSearcher object which i re-use to
> perform
> each search (with a different Query each time).  i've decuded from
> the
> archives that this is ok, i.e. it's safe to re-use an IndexSearcher
> object.
> 
> what i was wondering was whether i should proceed as i am, i.e.
> reusing an
> IndexSearcher object which is created at the start of my program, or
> at the
> beginning of my program open an IndexReader object which will be
> passed to
> the constructor of a new IndexSearcher object for each query.
> 
> or to put it simply, are both solutions as effective/efficient as
> each
> other?
> 
> thanks,
> maurice
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 21:07:30 2003
Return-Path: 
 <lucene-user-return-5856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83423 invoked from network); 5 Nov 2003 21:07:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 21:07:30 -0000
Received: (qmail 83421 invoked by uid 500); 5 Nov 2003 21:07:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83380 invoked by uid 500); 5 Nov 2003 21:07:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83367 invoked from network); 5 Nov 2003 21:07:12 -0000
Received: from unknown (HELO web25207.mail.ukl.yahoo.com) (217.12.10.67)
  by daedalus.apache.org with SMTP; 5 Nov 2003 21:07:12 -0000
Message-ID: <20031105210713.52318.qmail@web25207.mail.ukl.yahoo.com>
Received: from [82.33.41.165] by web25207.mail.ukl.yahoo.com via HTTP;
 Wed, 05 Nov 2003 21:07:13 GMT
Date: Wed, 5 Nov 2003 21:07:13 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Re: The best way forward
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031104183359.GO89081@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Dror Matalon <dror@zapatec.com> wrote: > Hi,

> Are you interested in comparing notes, or possibly pooling resources?

Dror,

I'd certainly be interested in both those things although I warn you
that my notes are fairly sparse at the moment!

One of the early things I have been looking to identify are any
existing NNTP parsers. I would like to index selected header fields
along with the header and body.

I percieve users wanting to do searches in specific header fields, the
entire header, the body, and across the whole document.

Regards,

jt

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 21:57:04 2003
Return-Path: 
 <lucene-user-return-5857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7348 invoked from network); 5 Nov 2003 21:57:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 21:57:04 -0000
Received: (qmail 51751 invoked by uid 500); 5 Nov 2003 21:56:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51660 invoked by uid 500); 5 Nov 2003 21:56:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51647 invoked from network); 5 Nov 2003 21:56:47 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Nov 2003 21:56:47 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP
	id CD3395D23; Wed,  5 Nov 2003 13:56:53 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hA5LurpO093676;
	Wed, 5 Nov 2003 13:56:53 -0800 (PST)
	(envelope-from dror)
Date: Wed, 5 Nov 2003 13:56:53 -0800
From: Dror Matalon <dror@zapatec.com>
To: jt oob <jt2oob@yahoo.co.uk>
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: The best way forward
Message-ID: <20031105215653.GH89081@rlx11.zapatec.com>
References: <20031104183359.GO89081@rlx11.zapatec.com>
 <20031105210713.52318.qmail@web25207.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031105210713.52318.qmail@web25207.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi JT,

Are you the same person that posted earlier about the server with
16Gig RAM?

Also, what is the project that you're looking at? Are you really looking
at creating a google news type of service?

Are you already running a news server?

As far as parsing headers, I would guess that the javamail api should
work since news and email headers are very similar. I'm not really
too worried about that part. 

The main challenge as I see it, is to fetch the items, store them, and
then index them with Lucene.

Regards,

Dror




On Wed, Nov 05, 2003 at 09:07:13PM +0000, jt oob wrote:
>  --- Dror Matalon <dror@zapatec.com> wrote: > Hi,
> 
> > Are you interested in comparing notes, or possibly pooling resources?
> 
> Dror,
> 
> I'd certainly be interested in both those things although I warn you
> that my notes are fairly sparse at the moment!
> 
> One of the early things I have been looking to identify are any
> existing NNTP parsers. I would like to index selected header fields
> along with the header and body.
> 
> I percieve users wanting to do searches in specific header fields, the
> entire header, the body, and across the whole document.
> 
> Regards,
> 
> jt
> 
> ________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov  5 23:10:22 2003
Return-Path: 
 <lucene-user-return-5858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44476 invoked from network); 5 Nov 2003 23:10:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 23:10:22 -0000
Received: (qmail 66941 invoked by uid 500); 5 Nov 2003 23:10:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66910 invoked by uid 500); 5 Nov 2003 23:10:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66892 invoked from network); 5 Nov 2003 23:10:00 -0000
Received: from unknown (HELO ptb-mailc04.plus.net) (212.159.14.210)
  by daedalus.apache.org with SMTP; 5 Nov 2003 23:10:00 -0000
Received: from [81.174.157.55] (helo=joseph)
	by ptb-mailc04.plus.net with smtp (Exim 4.12)
	id 1AHWms-000583-00
	for lucene-user@jakarta.apache.org; Wed, 05 Nov 2003 23:10:06 +0000
Message-ID: <3f2c01c3a3f1$c3ca0b70$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
 <3FA8D045.2060400@media-style.com> <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
 <3FA8D86D.2000608@media-style.com>
Subject: Re: Index entire filesystem
Date: Wed, 5 Nov 2003 23:08:45 -0000
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_3F29_01C3A3F1.C3873610"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_3F29_01C3A3F1.C3873610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi Stefan

Wouldn't mind joining in a joint approach, only problem is timing - it would
probably be late December before we could start putting the hours in.

If anyone could come up with work packages, we wouldn't mind doing our share
of the work - otherwise I wouldn't mind leading an effort in the New Year.

Has anyone done a full survey of what's out there?  I'd like to be able to
cover the list that Stellent's OutsideIn filters cover (see attached) but
obviously starting from the most popular formats.

Cheers

Pete

----- Original Message ----- 
From: "Stefan Groschupf" <sg@media-style.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, November 05, 2003 11:01 AM
Subject: Re: Index entire filesystem


> There is some ongoing work for nutch.org.
> May be we can bundle all work together?! <open source>
> Nutch has alraeady a java *.doc, *.pdf parser as well .
>
> Stefan
>
> Pete Lewis wrote:
>
> >Hi Stefan
> >
> >Using OpenOffice will enable you to parse 182 file formats, but its not a
> >pure java solution and you still need an alternate solution for pdfs.
> >
> >I'd be interested in knowing whether anyone is working on a pure java
> >solution that would give us a single method for handling ms office
> >documments / pdfs / etc.
> >
> >Cheers
> >
> >Pete
> >
> >----- Original Message ----- 
> >From: "Stefan Groschupf" <sg@media-style.com>
> >To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >Sent: Wednesday, November 05, 2003 10:26 AM
> >Subject: Re: Index entire filesystem
> >
> >
> >
> >
> >>I had write to this list some days ago, to announce a possibility to
> >>parse 182 file formats.
> >>There was a tiny bug report some days ago, i hope i can fix it.
> >>
> >>Browse the archive to figure out more.
> >>
> >>Cheers
> >>Stefan
> >>
> >>Marcel Stor wrote:
> >>
> >>
> >>
> >>>Hi all,
> >>>
> >>>I'm thinkin' about writing a search tool for my filesystem. I know such
> >>>things exist already but programming it myself is much more fun ;-)
> >>>So, I would have Lucene crawl through my filesystem and pass each file
> >>>to an appropriate indexer (PDF -> PDFbox, etc.). Yes, I run a Windows
> >>>system and would depend on the file ending to distinguish the file
type.
> >>>Is this a good idea in general? Is there a list of available indexer
for
> >>>the the different file types? Any other comments are also welcome.
> >>>
> >>>Regards,
> >>>Marcel
> >>>
> >>>
> >>>---------------------------------------------------------------------
> >>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

------=_NextPart_000_3F29_01C3A3F1.C3873610
Content-Type: text/plain;
	name="OutsideIn file list.txt"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="OutsideIn file list.txt"

1000 Word for DOS 4.x=0A=
1001 Word for DOS 5.x=0A=
1002 Wordstar 5.0=0A=
1003 Wordstar 4.0=0A=
1004 Wordstar 2000=0A=
1005 WordPerfect 5.0=0A=
1006 MultiMate 3.6=0A=
1007 MultiMate Advantage 2=0A=
1008 IBM DCA/RFT=0A=
1009 IBM DisplayWrite 2 or 3=0A=
1010 SmartWare II=0A=
1011 Samna=0A=
1012 PFS: Write A=0A=
1013 PFS: Write B=0A=
1014 Professional Write 1=0A=
1015 Professional Write 2=0A=
1016 IBM Writing Assistant=0A=
1017 First Choice WP=0A=
1018 WordMarc=0A=
1019 Navy DIF=0A=
1020 Volkswriter=0A=
1021 DEC DX 3.0 and below=0A=
1022 Sprint=0A=
1023 WordPerfect 4.2=0A=
1024 Total Word=0A=
1025 Wang IWP=0A=
1026 Wordstar 5.5=0A=
1028 Rich Text Format=0A=
1029 Mac Word 3.0=0A=
1030 Mac Word 4.0=0A=
1031 Mass 11=0A=
1032 MacWrite II=0A=
1033 XyWrite / Nota Bene=0A=
1034 IBM DCA/FFT=0A=
1035 Mac WordPerfect 1.x=0A=
1036 IBM DisplayWrite 4=0A=
1037 Mass 11=0A=
1038 WordPerfect 5.1/5.2=0A=
1039 MultiMate 4.0=0A=
1040 Q&A Write=0A=
1041 MultiMate Note=0A=
1043 PC File 5.0 Doc=0A=
1044 Lotus Manuscript 1.0=0A=
1045 Lotus Manuscript 2.0=0A=
1046 Enable WP 3.0=0A=
1047 Windows Write=0A=
1048 Microsoft Works 1.0=0A=
1049 Microsoft Works 2.0=0A=
1050 Wordstar 6.0=0A=
1051 OfficeWriter=0A=
1053 IBM DisplayWrite 5=0A=
1054 Word for Windows 1.x=0A=
1055 Word for Windows 1.x=0A=
1056 Ami=0A=
1057 Ami Pro=0A=
1058 First Choice 3 WP=0A=
1059 Mac WordPerfect 2.0=0A=
1060 Mac Works 2.0 WP=0A=
1061 Professional Write Plus=0A=
1062 Legacy=0A=
1063 Signature=0A=
1064 Wordstar for Windows=0A=
1065 Word for Windows 2.0=0A=
1066 JustWrite 1.0=0A=
1067 Wordstar 7.0=0A=
1068 Windows Works WP=0A=
1069 JustWrite 2.0=0A=
1070 Ami [Clip]=0A=
1071 Legacy [Clip]=0A=
1072 Pro Write Plus [Clip]=0A=
1073 Mac Word 5.x=0A=
1074 Enable WP 4.x=0A=
1075 WordPerfect 6.0=0A=
1076 Word for DOS 6.x=0A=
1077 DEC DX 3.1=0A=
1078 WordPerfect Encrypted=0A=
1079 Q&A Write 3=0A=
1080 Mac WordPerfect 3.0=0A=
1081 CEO Word=0A=
1082 Word 6.0 or 7.0=0A=
1083 WordPerfect 5.1 Far East=0A=
1084 Ichitaro 3.x=0A=
1085 Ichitaro 4.x/5.x/6.x=0A=
1086 Word for Windows 1.2 J=0A=
1087 Word for Windows 5.0 J=0A=
1088 Matsu 4=0A=
1089 Matsu 5=0A=
1090 P1 Japan=0A=
1091 Rich Text Format Japan=0A=
1092 CEO Write=0A=
1093 Windows Works 3.0 WP=0A=
1094 Microsoft WordPad=0A=
1095 WP/Novell Unknown Format=0A=
1096 Word for Windows 2.0 Object=0A=
1097 WordPerfect 6.1/2000/2002=0A=
1098 Fulcrum Document Format=0A=
1101 Internet HTML=0A=
1102 Word 7.0=0A=
1103 Arehangeul=0A=
1104 Hana=0A=
1105 Windows Works 4.0 WP=0A=
1106 PerfectWorks for Windows=0A=
1107 WordPerfect 7.0/8.0/10.0=0A=
1108 WordPro 96=0A=
1109 HTML - Central European=0A=
1110 HTML - Japanese (ShiftJIS)=0A=
1111 HTML - Japanese (EUC)=0A=
1112 HTML - Chinese (Big5)=0A=
1113 HTML - Chinese (EUC)=0A=
1114 HTML - Chinese (GB)=0A=
1115 HTML - Korean (Hangul)=0A=
1116 HTML - Cyrillic (ANSI 1251)=0A=
1117 HTML - Cyrillic (KOI8-R)=0A=
1118 Cyrillic Text (ANSI 1251)=0A=
1119 Cyrillic Text (KOI8-R)=0A=
1124 Digital WPS Plus=0A=
1125 Mac Word 6=0A=
1126 Microsoft Word 97/98=0A=
1127 Rainbow=0A=
1128 Interleaf 6=0A=
1129 MIFF 3.0=0A=
1130 MIFF 4.0=0A=
1131 MIFF 5.0=0A=
1132 Text Mail=0A=
1133 Mac Word 97=0A=
1134 Interleaf Japan=0A=
1135 MIFF 3.0 Japan=0A=
1136 MIFF 4.0 Japan=0A=
1137 MIFF 5.0 Japan=0A=
1138 MIFF 5.5=0A=
1139 WordPerfect 8.0/10.0=0A=
1140 Ichitaro 8.x/9.x/10.x=0A=
1141 vCard=0A=
1142 HTML - Cascading Style Sheets=0A=
1143 MS Outlook=0A=
1144 Pocket Word=0A=
1145 WordPro 97/Millennium=0A=
1146 Microsoft Word 2000/2002=0A=
1147 Word 2000 HTML=0A=
1148 Excel 2000 HTML=0A=
1149 PowerPoint 2000 HTML=0A=
1150 Extensible Markup Language (XML)=0A=
1151 Wireless Markup Language (WML)=0A=
1153 HTML - Japanese (JIS)=0A=
1154 WML - Chinese (Big5)=0A=
1155 WML - Chinese (EUC)=0A=
1156 WML - Chinese (GB)=0A=
1157 WML - Cyrillic (ANSI 1251)=0A=
1158 WML - Cyrillic (KOI8-R)=0A=
1159 WML - Japanese (JIS)=0A=
1160 WML - Japanese (ShiftJIS)=0A=
1161 WML - Japanese (EUC)=0A=
1162 WML - Korean (Hangul)=0A=
1163 WML - Central European=0A=
1165 StarOffice 5.2 Writer=0A=
1166 MIFF 6.0=0A=
1167 MIFF 6.0 Japan=0A=
1168 MIFF=0A=
1170 ASCII Text=0A=
1171 Handheld Device Markup Language (HDML)=0A=
1172 Compact HTML (CHTML)=0A=
1173 XHTML Basic=0A=
1174 AvantGo HTML=0A=
1175 Web Clipping Application (WCA) HTML=0A=
1177 Pocket Word - Pocket PC=0A=
1178 Wireless HTML=0A=
1200 Smart DataBase=0A=
1201 DBase III=0A=
1202 DBase IV or V=0A=
1203 Framework III=0A=
1204 Microsoft Works DB=0A=
1205 DataEase 4.x=0A=
1206 Paradox 2 or 3=0A=
1207 Paradox 3.5=0A=
1208 Q&A Database=0A=
1209 Reflex=0A=
1210 R:Base System V=0A=
1211 R:Base 5000=0A=
1212 R:Base File 1=0A=
1213 R:Base File 3=0A=
1214 First Choice DB=0A=
1215 Mac Works 2.0 DB=0A=
1216 Windows Works DB=0A=
1217 Paradox=0A=
1218 Microsoft Access=0A=
1219 CEO Decision Base=0A=
1220 Windows Works 3.0 DB=0A=
1221 Windows Works 4.0 DB=0A=
1222 Microsoft Access 7=0A=
1223 Microsoft Project 98=0A=
1400 Symphony=0A=
1401 Lotus 1-2-3 1.0=0A=
1402 Lotus 1-2-3 2.0=0A=
1403 Lotus 1-2-3 3.x=0A=
1404 Smart Spreadsheet=0A=
1405 Microsoft Excel 2.x=0A=
1406 Enable Spreadsheet=0A=
1407 Microsoft Works SS=0A=
1408 VP-Planner=0A=
1409 Mosaic Twin=0A=
1410 SuperCalc 5=0A=
1411 Quattro Pro=0A=
1412 Quattro=0A=
1413 PFS: Plan=0A=
1414 First Choice SS=0A=
1415 Microsoft Excel 3.0=0A=
1416 Generic WKS=0A=
1417 Mac Works 2.0 SS=0A=
1418 Windows Works SS=0A=
1419 Microsoft Excel 4.0=0A=
1420 Quattro Pro for Windows=0A=
1421 Lotus 1-2-3 4.x / 5.x=0A=
1422 Quattro Pro Windows Japan=0A=
1423 CEO Spreadsheet=0A=
1424 Microsoft Excel 5.0/7.0=0A=
1425 Multiplan 4.0=0A=
1426 Windows Works 3.0 SS=0A=
1427 Quattro Pro 4.0=0A=
1428 Quattro Pro 5.0=0A=
1429 Quattro Pro Win 6.0=0A=
1430 Lotus 123 Release 2 for OS/2=0A=
1431 Lotus 123 for OS/2 Chart=0A=
1432 Windows Works 4.0 SS=0A=
1433 Quattro Pro Win 7.0/8.0=0A=
1434 Quattro Pro Win 7.0/8.0 Graph=0A=
1435 Lotus 1-2-3 97 Edition=0A=
1436 Microsoft Excel 4.0=0A=
1437 Microsoft Excel 5.0=0A=
1438 Microsoft Excel 97/98=0A=
1439 MS Excel 3.0 Workbook=0A=
1440 MS Excel 4.0 Workbook=0A=
1441 MS Excel 4.0 Workbook=0A=
1442 MS Excel 4.0 Workbook=0A=
1443 Lotus 1-2-3 98/Millennium Edition=0A=
1444 Quattro Pro 8.0=0A=
1445 Quattro Pro Win 9.0=0A=
1446 Microsoft Excel 2000=0A=
1447 Quattro Pro Win 10.0=0A=
1448 Microsoft Excel 2002=0A=
1449 StarOffice 5.2 Calc=0A=
1500 Windows Bitmap=0A=
1501 Tagged Image File Format=0A=
1502 Paintbrush=0A=
1503 Compuserve GIF=0A=
1504 EPS (TIFF Header)=0A=
1505 CCITT Group 3 Fax=0A=
1506 Mac PICT2=0A=
1507 WordPerfect Graphic=0A=
1508 Windows Metafile=0A=
1509 Lotus PIC=0A=
1510 Mac PICT=0A=
1511 Ami Draw=0A=
1512 Targa=0A=
1513 GEM Image=0A=
1514 OS/2 Bitmap=0A=
1515 Windows Icon=0A=
1516 Windows Cursor=0A=
1517 Micrografx product=0A=
1518 MacPaint=0A=
1520 Corel Draw 2.0=0A=
1521 Corel Draw 3.0=0A=
1522 HP Graphics Language=0A=
1523 Harvard 3.0 Chart=0A=
1524 Harvard 2.0 Chart=0A=
1525 Harvard 3.0 Presentation=0A=
1526 Freelance=0A=
1527 WordPerfect Graphic 2=0A=
1528 CGM Graphic Metafile=0A=
1529 Excel 2.x Chart=0A=
1530 Excel 3.0 Chart=0A=
1531 Excel 4.0 Chart=0A=
1532 Candy 4=0A=
1533 Hanako 1.x=0A=
1534 Hanako 2.x=0A=
1535 JPEG File Interchange=0A=
1536 Excel 5.0/7.0 Chart=0A=
1537 Corel Draw 4.0=0A=
1538 PowerPoint 4.0=0A=
1539 Multipage PCX=0A=
1540 PowerPoint 3.0=0A=
1541 Corel Draw 5.0=0A=
1542 OS/2 Metafile=0A=
1543 PowerPoint 7.0=0A=
1544 AutoCAD DXF (ASCII)=0A=
1545 AutoCAD DXF (Binary)=0A=
1546 AutoCAD DXB=0A=
1547 Freelance 96/97/Millennium Edition=0A=
1548 Mac PowerPoint 3.0=0A=
1549 Mac PowerPoint 4.0=0A=
1550 WordPerfect Presentations=0A=
1551 OS/2 Warp Bitmap=0A=
1552 AutoCAD Drawing 12=0A=
1553 AutoCAD Drawing 13=0A=
1554 Adobe Illustrator=0A=
1555 Corel Presentations 7.0/8.0/9.0/10.0=0A=
1556 WordPerfect Graphic 7.0/8.0/9.0=0A=
1557 Adobe Acrobat (PDF)=0A=
1558 Framemaker=0A=
1559 RAS - Sun Raster=0A=
1560 AutoShade Rendering=0A=
1561 Kodak Photo CD=0A=
1562 PowerPoint 4.0 (extracted from docfile)=0A=
1563 Mac PowerPoint 4.0 (extracted from docfile)=0A=
1564 Enhanced Windows Metafile=0A=
1565 GEM=0A=
1566 Mac PowerPoint 3.0=0A=
1567 Mac PowerPoint 4.0=0A=
1568 Harvard Graphics for Windows=0A=
1569 IGES Drawing File Format=0A=
1570 IBM Picture Interchange Format=0A=
1571 X-Windows Bitmap=0A=
1572 X-Windows Pixmap=0A=
1573 CALS Raster File Format=0A=
1574 Portable Network Graphics Format=0A=
1575 X-Windows Dump=0A=
1576 CorelDraw ClipArt=0A=
1577 HP Gallery=0A=
1578 Graphics Data Format=0A=
1579 Micrografx Designer=0A=
1580 Post Script=0A=
1581 Microsoft PowerPoint 97-2002=0A=
1582 Corel Draw 6.0=0A=
1583 Corel Draw 7.0=0A=
1585 AutoCAD Drawing - Unknown Version=0A=
1586 Visio 4.x=0A=
1587 AutoCAD Drawing 14=0A=
1588 PBM (Portable Bitmap)=0A=
1589 PGM (Portable Graymap)=0A=
1590 PPM (Portable Pixmap)=0A=
1591 Adobe Photoshop=0A=
1592 Microsoft PowerPoint Dual 95/97=0A=
1593 Paint Shop Pro=0A=
1594 Kodak FlashPix=0A=
1595 Visio 5.x=0A=
1596 Corel Draw 8.0=0A=
1597 Visio 6.x=0A=
1598 Corel Draw 9.0=0A=
1599 Progressive JPEG=0A=
1600 Microsoft PowerPoint 2000/2002=0A=
1601 Bentley Microstation DGN=0A=
1602 Windows 98/2000 Bitmap=0A=
1603 Wireless Bitmap=0A=
1604 MIFF Graphic=0A=
1606 WordPerfect Graphic 10.0=0A=
1607 Visio 3.x=0A=
1608 Micrografx Designer=0A=
1610 StarOffice 5.2 Impress=0A=
1611 Adobe Illustrator 9=0A=
1612 AutoCAD 2000/2002 Drawing=0A=
1613 AutoCAD 2.5 Drawing=0A=
1614 AutoCAD 2.6 Drawing=0A=
1615 AutoCAD 9 Drawing=0A=
1616 AutoCAD 10 Drawing=0A=
1650 WordPerfect Informs 1.0=0A=
1651 Lotus Screen SnapShot=0A=
1652 Lotus Screen Snapshot=0A=
1653 Interchange Format=0A=
1654 Microsoft Escher Graphics=0A=
1700 Windows Sound=0A=
1701 Windows Video=0A=
1702 MIDI File=0A=
1703 Macromedia Director=0A=
1704 Macromedia Flash=0A=
1705 Quicktime Movie=0A=
1800 EXE / DLL File=0A=
1801 .COM File=0A=
1802 .ZIP File=0A=
1803 Self UnZIPping .EXE=0A=
1804 .ARC File=0A=
1805 MS Office Binder=0A=
1806 UNIX Compress=0A=
1807 UNIX Tar=0A=
1808 Envoy=0A=
1809 QuickFinder=0A=
1810 Windows Clipboard File=0A=
1811 Envoy 7=0A=
1812 StuffIt=0A=
1813 LZH Compress=0A=
1814 Self-Extracting LZH=0A=
1815 UNIX GZip=0A=
1999 Unknown format=0A=
4000 Unknown (ASCII)=0A=
4001 Unknown (Hex)=0A=
4002 Unknown (ANSI)=0A=
4003 Unknown (Unicode)=0A=
4004 Unknown (ASCII 8)=0A=
4005 Unknown (ANSI 8)=0A=
4006 Unknown format=0A=
4007 Unknown (Mac)=0A=
4008 Unknown (Mac 8)=0A=
4009 Japanese Text (ShiftJIS)=0A=
4010 Chinese Text (GB)=0A=
4011 Korean Text (Hangul)=0A=
4012 Chinese Text (Big 5)=0A=
4013 Unknown (DOS Latin 2)=0A=
4014 Japanese Text (EUC)=0A=
4022 7-Bit Text File=0A=
4023 Japanese Text (JIS)=0A=
4024 Central European Text=0A=
5000 Windows Metafile [5000]=0A=
5001 WordPerfect Graphic [B]=0A=
5002 Ami (internal bitmap)=0A=
5003 Word (internal bitmap)=0A=
5004 Mac PICT2 Binary=0A=
5005 Windows Metafile [5005]=0A=
5006 Windows Metafile [5006]=0A=
5007 PerfectWorks Picture=0A=
5008 WPG2 (internal bitmap)=0A=
5009 Windows DIB=0A=
5010 WPG1 (internal bitmap)=0A=
5011 Embedded Bitmap=0A=
5012 Embedded Bitmap=0A=
5013 IAF (internal bitmap)=0A=
5014 IAF (internal bitmap)=0A=
5015 PICT (internal bitmap)=0A=


------=_NextPart_000_3F29_01C3A3F1.C3873610
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_3F29_01C3A3F1.C3873610--


From MAILER-DAEMON Wed Nov  5 23:24:23 2003
Return-Path: 
 <lucene-user-return-5859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49508 invoked from network); 5 Nov 2003 23:24:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Nov 2003 23:24:23 -0000
Received: (qmail 93295 invoked by uid 500); 5 Nov 2003 23:24:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93107 invoked by uid 500); 5 Nov 2003 23:24:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93080 invoked from network); 5 Nov 2003 23:24:03 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 5 Nov 2003 23:24:03 -0000
Received: from dsl-082-082-081-211.arcor-ip.net ([82.82.81.211]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AHWio-0007mk-00
	for <lucene-user@jakarta.apache.org>; Thu, 06 Nov 2003 00:05:55 +0100
Message-ID: <3FA98698.6060107@media-style.com>
Date: Thu, 06 Nov 2003 00:24:08 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index entire filesystem
References: <B70A38CB77FFD1118A0B00805FF5F5D801D0F1F4@po1.egl.ch>
 <3FA8D045.2060400@media-style.com> <3dfd01c3a38a$a2af2ef0$0200a8c0@joseph>
 <3FA8D86D.2000608@media-style.com> <3f2c01c3a3f1$c3ca0b70$0200a8c0@joseph>
In-Reply-To: <3f2c01c3a3f1$c3ca0b70$0200a8c0@joseph>
Content-Type: multipart/alternative;
 boundary="------------080900010109030705060509"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------080900010109030705060509
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit


>Wouldn't mind joining in a joint approach, only problem is timing - it would
>probably be late December before we could start putting the hours in.
>  
>

We all do this just for fun, so no rush! However more people less work 
for everybody, faster results.
We only need a generic API but i had done some work already. ;)
See "Introducing in the nutch plug-in architecture 
<http://www.media-style.com/nutch/theTitanProject.pdf>" on 
http://www.media-style.com/nutch/
"how to write a parser" is not up to date anymore.


Cheers
Stefan

--------------080900010109030705060509--



From MAILER-DAEMON Thu Nov  6 05:52:58 2003
Return-Path: 
 <lucene-user-return-5860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95152 invoked from network); 6 Nov 2003 05:52:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 05:52:58 -0000
Received: (qmail 60536 invoked by uid 500); 6 Nov 2003 05:52:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60509 invoked by uid 500); 6 Nov 2003 05:52:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60496 invoked from network); 6 Nov 2003 05:52:31 -0000
Received: from unknown (HELO web11509.mail.yahoo.com) (216.136.129.46)
  by daedalus.apache.org with SMTP; 6 Nov 2003 05:52:31 -0000
Message-ID: <20031106055242.60546.qmail@web11509.mail.yahoo.com>
Received: from [171.75.34.90] by web11509.mail.yahoo.com via HTTP;
 Wed, 05 Nov 2003 21:52:42 PST
Date: Wed, 5 Nov 2003 21:52:42 -0800 (PST)
From: Caroline Jen <jiapei_jen@yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00b301c3a2b5$d24ae5d0$ce00a8c0@victor>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Victor:

Thank you very much for your explanation of Lucene.  I
think you understand what kind of search that I expect
Lucene to do.

I have data tables created in the MySQL database.

creator            title                category  
     
Elizabeth Castro   J2EE                computer
science
Isobelle Carmody   Obernewtyn          fiction
Victor Hugo        Les Miserables      literature
...
...
...

All records are indexed using an IndexWriter (see the
code at the end of this message). 

I have a sample program that takes care of the search
based on "one single pair of property and value" in
the database.  For example, visitors of the web site
can retrieve all articles written by Elizabeth Castro.
 "creator" is the property and "Elizabeth Castro" is
the value and they constitute one single pair of
property and value.  The method signature of the
search is:

findByProperty(this,property,value);

What is the method signature in Lucene if I want to
search the database based on "two pairs of property
and value"?  For example, I want to retrieve all
articles written by Elizabeth Castro in the "computer
science" category?

Am I on the right track?  Does my question make sense?

-Caroline

====================================================
    public static final void index (
            Integer article,
            Timestamp contributed,
            String contributor,
            String creator,
            String title,
            String journal_category,
            String content,
            IndexWriter writer) throws
ResourceException {

        try {

            Document document = new Document();

               
document.add(Field.Keyword(Tokens.ARTICLE,
                    article.toString()));

                document.add(Field.Text(Tokens.TITLE,
                    Engine.blankNull(title)));

               
document.add(Field.Text(Tokens.CONTRIBUTED_DISPLAY,
                   
Engine.blankNull(contributed.toString())));

               
document.add(Field.UnStored(Tokens.CONTRIBUTOR,
                    Engine.blankNull(contributor)));

               
document.add(Field.UnStored(Tokens.CREATOR,
                    Engine.blankNull(creator)));

               
document.add(Field.UnStored(Tokens.JOURNAL_CATEGORY,
                   
Engine.blankNull(journal_category)));

               
document.add(Field.UnStored(Tokens.CONTENT,
                    Engine.blankNull(content)));

            writer.addDocument(document);

        }
        catch (IOException e) {
            throw new ResourceException(e);
        }

    } // end index

    public static final void index (
            boolean create,
            Integer article,
            Timestamp contributed,
            String contributor,
            String creator,
            String title,
            String journal_category,
            String content) throws ResourceException {

        IndexWriter writer = null;

        try {
            // delete old index entry if this is an
update
            if (!create) indexDeleteArticle(article);
            // get the writer, index the entry,
optimize ...
            writer = Engine.getIndexWriter(false);
            index(
                article,
                contributed,
                contributor,
                creator,
                title,
                journal_category,
                content,
                writer);
            writer.optimize();
        }
        catch (IOException e) {
            throw new ResourceException(e);
        }
        // and close the writer
        finally {
            try {
                if (writer!=null) writer.close();
            }
            catch (IOException e) {
                // do nothing
            }
        }
    } // end index 


--- Victor Hadianto <vichad@hadianto.net> wrote:
> Lucene is a metadata based search engine. When you
> create 'Lucene document'
> you create the metadata with the associated value.
> 
> For example
> 
> Document doc = new Document();
> doc.Add(Field.Text("author", "Isobelle Carmody "));
> doc.Add(Field.Text("category", "fiction"));
> doc.Add(Field.Text("title", "Obernewtyn"));
> 
> And thus when you search Lucene you search based on
> the fields. For example
> if you want to search the author carmody within the
> category fiction you
> would do:
> 
> author:carmody AND category:fiction
> 
> This will return all documents that has the metadata
> author:carmody within
> the category:fiction (or the other way around
> doesn't really matter).
> 
> HTH,
> 
> /victor
> 
> 
> 
> ----- Original Message ----- 
> From: "Caroline Jen" <jiapei_jen@yahoo.com>
> To: "Lucene Users List"
> <lucene-user@jakarta.apache.org>
> Sent: Tuesday, November 04, 2003 2:26 PM
> Subject: Re: Rephrase My Question - How To Search
> Database With More Than
> One Pair of Property/Value as Parameters Using
> Lucene?
> 
> 
> > Thank you for your reply.  I am afraid that I was
> not
> > clear enough about what I have been doing.
> >
> > All the articles in the database can be searched
> by
> > either author; or title; or content; or id; or
> > category.
> >
> > If visitor of the web site selects to search by
> author
> > (then, "author" is highlighted in the drop-down
> list),
> > the visitor must fill out the name of the author
> in
> > the text field.  As such, author and the name of
> the
> > author is a property/value pair.  "author"
> corresponds
> > to property, and the name of the author provided
> > corresponds to value.  This part of the search is
> > OKay.  I have handled it.
> >
> > My problem is that there is one more dimension
> > involed.  The propery of this additional dimension
> is
> > "category" and the value of this dimension is
> supplied
> > by the application developer; for example,
> HISTORY.
> >
> > My question is how to search articles by author
> (or
> > title) with his/her name (or the title of the
> article)
> > provide within the field name in the database that
> is
> > "category" and its value is HISTORY?
> >
> > How do I use analyser(), getHits(), getQuery() in
> > Lucene in this kind of situation?  It is really
> the
> > first time I use Lucene.
> >
> > Thanks a lot in advance.
> >
> > -Caroline
> > --- Victor Hadianto <vichad@hadianto.net> wrote:
> > > Something like this?
> > >
> > > Query query = QueryParser.parse("\"Victor Hugo\"
> > > title:Miserables",
> > > "author", new StandardAnalyser();
> > >
> > > or
> > >
> > > Query query = QueryParser.parse("\"Victor Hugo\"
> > > title:Miserables
> > > category:history", "author", new
> StandardAnalyser();
> > >
> > > /victor
> > >
> > > ----- Original Message ----- 
> > > From: "Caroline Jen" <jiapei_jen@yahoo.com>
> > > To: <lucene-user@jakarta.apache.org>
> > > Sent: Tuesday, November 04, 2003 1:52 PM
> > > Subject: Rephrase My Question - How To Search
> > > Database With More Than One
> > > Pair of Property/Value as Parameters Using
> Lucene?
> > >
> > >
> > > > I raised the question two days ago.  My
> question
> > > was
> > > > too specific to the application that I have
> been
> > > > working on. I have decided to re-phrase my
> > > question.
> > > >
> > > >      People say that Lucene is very flexible. 
> I
> > > > wonder if there is a method signature that
> would
> > > be
> > > > suitable to my needs.  Or there are way to go
> > > about
> > > > it.
> > > >
> > > >      I am using lucene as the searching enging
> to
> > > look
> > > > for articles that are stores in the database.
> > > > It is OKay to search articles in the database
> > > using
> > > > "only one" pair of property/value as
> parameters in
> > > a
> > > > method; for example:
> > > >
> > > > ********Property***************Value
> > > >
> > > > *********author************Victor Hugo or
> .....
> > > > *********title*************Les Miserables or
> .....
> > > > ********content***************whatever .....
> > > > **********id*********************168
> > > >
> > > > visitors of the web site queries all articles
> in
> > > the
> > > > database by selecting 'author' as the property
> and
> > > > supply the name of the author (xyz) as value.
> > > >
> > > > I am stuck because I need to pass additonal
> > > parameters
> > > > rather than using one pair of property/value
> as
> > > > parameters -- I have this field "category" in
> my
> > > > database. I want to search and get all the
> > > articles
> > > > written by author(property) with name xyz
> (value)
> > > > within; say, the HISTORY category. The value
> of
> > > the
> > > > category will be supplied by the application
> > > developer
> > > > (NOT BY THE VISITOR of the web site via
> selecting
> > > from
> > > > a drop-down list and fill out the value in the
> > > text
> > > > field).
> > > >
> > > > Is there a method signature available in
> Lucene to
> > > > pass additional parameter as necessary? If
> not,
> > > how
> > > > does Lucene handle this kind of situation. 
> Thanks
> > > in
> > > > advance.
> > > >
> > > >
> > > >
> > > > __________________________________
> > > > Do you Yahoo!?
> > > > Protect your identity with Yahoo! Mail
> > > AddressGuard
> > > > http://antispam.yahoo.com/whatsnewfree
> > > >
> > > >
> > >
> >
>
---------------------------------------------------------------------
> 
=== message truncated ===


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 07:53:50 2003
Return-Path: 
 <lucene-user-return-5861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63720 invoked from network); 6 Nov 2003 07:53:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 07:53:50 -0000
Received: (qmail 75104 invoked by uid 500); 6 Nov 2003 07:53:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75050 invoked by uid 500); 6 Nov 2003 07:53:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74832 invoked from network); 6 Nov 2003 07:53:15 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 6 Nov 2003 07:53:15 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA67rQv01502
	for <lucene-user@jakarta.apache.org>; Thu, 6 Nov 2003 01:53:26 -0600
Message-ID: <026a01c3a43b$0f9effd0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031106055242.60546.qmail@web11509.mail.yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Date: Thu, 6 Nov 2003 18:53:24 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You don't use any method signature in Lucene. Remember Lucene is a search
engine. You create a proper query.

So your query will be something like this:

Query query = QueryParser.parse("creator:\"Elizabeth Castro\"",  "creator",
new StandardAnalyzer());

indexSearcher.search(query);

There if you want more "properties" and "values" you can have it by having
it more in the search quer. IE:

creator:"Victor Hugo" AND title:"Les Miserables"

This will return you exactly 1 hit.

HTH,

/victor


----- Original Message ----- 
From: "Caroline Jen" <jiapei_jen@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 06, 2003 4:52 PM
Subject: Re: Rephrase My Question - How To Search Database With More Than
One Pair of Property/Value as Parameters Using Lucene?


> Hi, Victor:
>
> Thank you very much for your explanation of Lucene.  I
> think you understand what kind of search that I expect
> Lucene to do.
>
> I have data tables created in the MySQL database.
>
> creator            title                category
>
> Elizabeth Castro   J2EE                computer
> science
> Isobelle Carmody   Obernewtyn          fiction
> Victor Hugo        Les Miserables      literature
> ...
> ...
> ...
>
> All records are indexed using an IndexWriter (see the
> code at the end of this message).
>
> I have a sample program that takes care of the search
> based on "one single pair of property and value" in
> the database.  For example, visitors of the web site
> can retrieve all articles written by Elizabeth Castro.
>  "creator" is the property and "Elizabeth Castro" is
> the value and they constitute one single pair of
> property and value.  The method signature of the
> search is:
>
> findByProperty(this,property,value);
>
> What is the method signature in Lucene if I want to
> search the database based on "two pairs of property
> and value"?  For example, I want to retrieve all
> articles written by Elizabeth Castro in the "computer
> science" category?
>
> Am I on the right track?  Does my question make sense?
>
> -Caroline
>
> ====================================================
>     public static final void index (
>             Integer article,
>             Timestamp contributed,
>             String contributor,
>             String creator,
>             String title,
>             String journal_category,
>             String content,
>             IndexWriter writer) throws
> ResourceException {
>
>         try {
>
>             Document document = new Document();
>
>
> document.add(Field.Keyword(Tokens.ARTICLE,
>                     article.toString()));
>
>                 document.add(Field.Text(Tokens.TITLE,
>                     Engine.blankNull(title)));
>
>
> document.add(Field.Text(Tokens.CONTRIBUTED_DISPLAY,
>
> Engine.blankNull(contributed.toString())));
>
>
> document.add(Field.UnStored(Tokens.CONTRIBUTOR,
>                     Engine.blankNull(contributor)));
>
>
> document.add(Field.UnStored(Tokens.CREATOR,
>                     Engine.blankNull(creator)));
>
>
> document.add(Field.UnStored(Tokens.JOURNAL_CATEGORY,
>
> Engine.blankNull(journal_category)));
>
>
> document.add(Field.UnStored(Tokens.CONTENT,
>                     Engine.blankNull(content)));
>
>             writer.addDocument(document);
>
>         }
>         catch (IOException e) {
>             throw new ResourceException(e);
>         }
>
>     } // end index
>
>     public static final void index (
>             boolean create,
>             Integer article,
>             Timestamp contributed,
>             String contributor,
>             String creator,
>             String title,
>             String journal_category,
>             String content) throws ResourceException {
>
>         IndexWriter writer = null;
>
>         try {
>             // delete old index entry if this is an
> update
>             if (!create) indexDeleteArticle(article);
>             // get the writer, index the entry,
> optimize ...
>             writer = Engine.getIndexWriter(false);
>             index(
>                 article,
>                 contributed,
>                 contributor,
>                 creator,
>                 title,
>                 journal_category,
>                 content,
>                 writer);
>             writer.optimize();
>         }
>         catch (IOException e) {
>             throw new ResourceException(e);
>         }
>         // and close the writer
>         finally {
>             try {
>                 if (writer!=null) writer.close();
>             }
>             catch (IOException e) {
>                 // do nothing
>             }
>         }
>     } // end index
>
>
> --- Victor Hadianto <vichad@hadianto.net> wrote:
> > Lucene is a metadata based search engine. When you
> > create 'Lucene document'
> > you create the metadata with the associated value.
> >
> > For example
> >
> > Document doc = new Document();
> > doc.Add(Field.Text("author", "Isobelle Carmody "));
> > doc.Add(Field.Text("category", "fiction"));
> > doc.Add(Field.Text("title", "Obernewtyn"));
> >
> > And thus when you search Lucene you search based on
> > the fields. For example
> > if you want to search the author carmody within the
> > category fiction you
> > would do:
> >
> > author:carmody AND category:fiction
> >
> > This will return all documents that has the metadata
> > author:carmody within
> > the category:fiction (or the other way around
> > doesn't really matter).
> >
> > HTH,
> >
> > /victor
> >
> >
> >
> > ----- Original Message ----- 
> > From: "Caroline Jen" <jiapei_jen@yahoo.com>
> > To: "Lucene Users List"
> > <lucene-user@jakarta.apache.org>
> > Sent: Tuesday, November 04, 2003 2:26 PM
> > Subject: Re: Rephrase My Question - How To Search
> > Database With More Than
> > One Pair of Property/Value as Parameters Using
> > Lucene?
> >
> >
> > > Thank you for your reply.  I am afraid that I was
> > not
> > > clear enough about what I have been doing.
> > >
> > > All the articles in the database can be searched
> > by
> > > either author; or title; or content; or id; or
> > > category.
> > >
> > > If visitor of the web site selects to search by
> > author
> > > (then, "author" is highlighted in the drop-down
> > list),
> > > the visitor must fill out the name of the author
> > in
> > > the text field.  As such, author and the name of
> > the
> > > author is a property/value pair.  "author"
> > corresponds
> > > to property, and the name of the author provided
> > > corresponds to value.  This part of the search is
> > > OKay.  I have handled it.
> > >
> > > My problem is that there is one more dimension
> > > involed.  The propery of this additional dimension
> > is
> > > "category" and the value of this dimension is
> > supplied
> > > by the application developer; for example,
> > HISTORY.
> > >
> > > My question is how to search articles by author
> > (or
> > > title) with his/her name (or the title of the
> > article)
> > > provide within the field name in the database that
> > is
> > > "category" and its value is HISTORY?
> > >
> > > How do I use analyser(), getHits(), getQuery() in
> > > Lucene in this kind of situation?  It is really
> > the
> > > first time I use Lucene.
> > >
> > > Thanks a lot in advance.
> > >
> > > -Caroline
> > > --- Victor Hadianto <vichad@hadianto.net> wrote:
> > > > Something like this?
> > > >
> > > > Query query = QueryParser.parse("\"Victor Hugo\"
> > > > title:Miserables",
> > > > "author", new StandardAnalyser();
> > > >
> > > > or
> > > >
> > > > Query query = QueryParser.parse("\"Victor Hugo\"
> > > > title:Miserables
> > > > category:history", "author", new
> > StandardAnalyser();
> > > >
> > > > /victor
> > > >
> > > > ----- Original Message ----- 
> > > > From: "Caroline Jen" <jiapei_jen@yahoo.com>
> > > > To: <lucene-user@jakarta.apache.org>
> > > > Sent: Tuesday, November 04, 2003 1:52 PM
> > > > Subject: Rephrase My Question - How To Search
> > > > Database With More Than One
> > > > Pair of Property/Value as Parameters Using
> > Lucene?
> > > >
> > > >
> > > > > I raised the question two days ago.  My
> > question
> > > > was
> > > > > too specific to the application that I have
> > been
> > > > > working on. I have decided to re-phrase my
> > > > question.
> > > > >
> > > > >      People say that Lucene is very flexible.
> > I
> > > > > wonder if there is a method signature that
> > would
> > > > be
> > > > > suitable to my needs.  Or there are way to go
> > > > about
> > > > > it.
> > > > >
> > > > >      I am using lucene as the searching enging
> > to
> > > > look
> > > > > for articles that are stores in the database.
> > > > > It is OKay to search articles in the database
> > > > using
> > > > > "only one" pair of property/value as
> > parameters in
> > > > a
> > > > > method; for example:
> > > > >
> > > > > ********Property***************Value
> > > > >
> > > > > *********author************Victor Hugo or
> > .....
> > > > > *********title*************Les Miserables or
> > .....
> > > > > ********content***************whatever .....
> > > > > **********id*********************168
> > > > >
> > > > > visitors of the web site queries all articles
> > in
> > > > the
> > > > > database by selecting 'author' as the property
> > and
> > > > > supply the name of the author (xyz) as value.
> > > > >
> > > > > I am stuck because I need to pass additonal
> > > > parameters
> > > > > rather than using one pair of property/value
> > as
> > > > > parameters -- I have this field "category" in
> > my
> > > > > database. I want to search and get all the
> > > > articles
> > > > > written by author(property) with name xyz
> > (value)
> > > > > within; say, the HISTORY category. The value
> > of
> > > > the
> > > > > category will be supplied by the application
> > > > developer
> > > > > (NOT BY THE VISITOR of the web site via
> > selecting
> > > > from
> > > > > a drop-down list and fill out the value in the
> > > > text
> > > > > field).
> > > > >
> > > > > Is there a method signature available in
> > Lucene to
> > > > > pass additional parameter as necessary? If
> > not,
> > > > how
> > > > > does Lucene handle this kind of situation.
> > Thanks
> > > > in
> > > > > advance.
> > > > >
> > > > >
> > > > >
> > > > > __________________________________
> > > > > Do you Yahoo!?
> > > > > Protect your identity with Yahoo! Mail
> > > > AddressGuard
> > > > > http://antispam.yahoo.com/whatsnewfree
> > > > >
> > > > >
> > > >
> > >
> >
> ---------------------------------------------------------------------
> >
> === message truncated ===
>
>
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 08:32:43 2003
Return-Path: 
 <lucene-user-return-5862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89837 invoked from network); 6 Nov 2003 08:32:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 08:32:43 -0000
Received: (qmail 15556 invoked by uid 500); 6 Nov 2003 08:32:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15521 invoked by uid 500); 6 Nov 2003 08:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15508 invoked from network); 6 Nov 2003 08:32:14 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 6 Nov 2003 08:32:14 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 4A71319B741
	for <lucene-user@jakarta.apache.org>; Thu,  6 Nov 2003 09:32:26 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hA68YBlJ012505
	for <lucene-user@jakarta.apache.org>; Thu, 6 Nov 2003 09:34:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hA68YBXG012501;
	Thu, 6 Nov 2003 09:34:11 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16298.1923.248005.588132@tanto-xipolis.de>
Date: Thu, 6 Nov 2003 09:34:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
In-Reply-To: <20031106055242.60546.qmail@web11509.mail.yahoo.com>
References: <00b301c3a2b5$d24ae5d0$ce00a8c0@victor>
	<20031106055242.60546.qmail@web11509.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Caroline Jen writes:

> I have a sample program that takes care of the search
> based on "one single pair of property and value" in
> the database.  For example, visitors of the web site
> can retrieve all articles written by Elizabeth Castro.
>  "creator" is the property and "Elizabeth Castro" is
> the value and they constitute one single pair of
> property and value.  The method signature of the
> search is:
> 
> findByProperty(this,property,value);

Is it? Which type of lucene object has such a method?
> 
> What is the method signature in Lucene if I want to
> search the database based on "two pairs of property
> and value"?  For example, I want to retrieve all
> articles written by Elizabeth Castro in the "computer
> science" category?
> 
> Am I on the right track?  Does my question make sense?
> 
I don't think so.

The method signature for a search in lucene is (in the easiest case)
hits = search(query)
where search is a method of a searcher object, and query is a query object.
Basically there are two ways to create a query object:
a) use the query parser
b) construct it yourself

Option a) allowes to formulate queries with the options described in
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html.
For a single field a query might look like 'some term' with the
field defined as the default field.
To search other fields than the default field, you can use <fieldname>:term.
To combine subqueries you can use logical operators like AND, OR...
So a query might look like
creator:Castro AND category:computer

If you want to construct the query yourself you have to look at the
API docs and the different types of query subclasses.
E.g. you could combine two TermQuery objects with a BooleanQuery object.

HTH
Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov  6 13:30:04 2004
Return-Path: 
 <lucene-user-return-11061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68218 invoked from network); 6 Nov 2004 13:30:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Nov 2004 13:30:04 -0000
Received: (qmail 67939 invoked by uid 500); 6 Nov 2004 13:29:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67900 invoked by uid 500); 6 Nov 2004 13:29:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67866 invoked by uid 99); 6 Nov 2004 13:29:48 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DATE_IN_PAST_96_XX
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [194.159.73.192] (HELO post-22.mail.nl.demon.net)
 (194.159.73.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 06 Nov 2004 05:29:47 -0800
Received: from tijink.demon.nl ([82.161.62.129]:61847 helo=pc)
	by post-22.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1CQQdT-000I2p-I3
	for lucene-user@jakarta.apache.org; Sat, 06 Nov 2004 13:29:44 +0000
From: "Harald Tijink" <harald@marktplaats.nl>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene web demo problems
Date: Thu, 6 Nov 2003 14:30:56 +0100
Message-ID: <000101c3a46a$3563afc0$0300a8c0@pc>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I was wondering if anyone has had the following problem before and knows
how to solve it.

I have a Debian Linux server on which I have running:
- Tomcat 4 as standalone server
- Java version "1.4.2_06"
- Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_06-b03)
- Java HotSpot(TM) Client VM (build 1.4.2_06-b03, mixed mode)
- Lucene: lucene-1.4.2.jar

Tested the Tomcat 4 examples, no problems here.

Then I created an index in /opt/lucene/index with the command:
  java org.apache.lucene.demo.IndexHTML -create -index /opt/lucene/index
..

Still no problems, the files are created fine...but then I tried the web
interface. The first page shown fine (index.jsp). Then I entered some
keywords and hit "Search".

Now, the error on the bottom of this email is given and I can't get rid
of it.

I tried several things:
- tested if the lucene classes could be imported. At default no
compilation errors are given for results.jsp, but when I insert a
non-existing class in the import an error is given. My conclusion was:
the classes are imported ok
- tested if a simple java class could be compiled and the output shown
in Tomcat. No problems at all
- tested only the line <% IndexReader ir =
IndexReader.open("/opt/lucene/index"); %> between the header and footer
inclusion.
YES, the error occured. But now I completely stuck.

Anyone any idea how I can remove this problem?

Cheers,

Harald Tijink


THE ERROR:
------------------------------------------------------------------------
type Exception report

message 

description The server encountered an internal error () that prevented
it from fulfilling this request.

exception 

org.apache.jasper.JasperException
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.ja
va:254)
	at
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)
	at
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applica
tionFilterChain.java:247)
	at
org.apache.catalina.core.ApplicationFilterChain.access$000(ApplicationFi
lterChain.java:98)
	at
org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterC
hain.java:176)
	at java.security.AccessController.doPrivileged(Native Method)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilt
erChain.java:172)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValv
e.java:256)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValv
e.java:191)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:242
2)
	at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java
:180)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherVa
lve.java:171)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:641)
	at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java
:163)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:641)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
java:174)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)
	at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:82
8)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processC
onnection(Http11Protocol.java:700)
	at
org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:58
4)
	at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool
.java:683)
	at java.lang.Thread.run(Thread.java:534)


root cause 

javax.servlet.ServletException
	at
org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContex
tImpl.java:536)
	at org.apache.jsp.results_jsp._jspService(results_jsp.java:134)
	at
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
	at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.ja
va:210)
	at
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)
	at
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
	at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applica
tionFilterChain.java:247)
	at
org.apache.catalina.core.ApplicationFilterChain.access$000(ApplicationFi
lterChain.java:98)
	at
org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterC
hain.java:176)
	at java.security.AccessController.doPrivileged(Native Method)
	at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilt
erChain.java:172)
	at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValv
e.java:256)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValv
e.java:191)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:242
2)
	at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java
:180)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherVa
lve.java:171)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:641)
	at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java
:163)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:641)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
java:174)
	at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.i
nvokeNext(StandardPipeline.java:643)
	at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:4
80)
	at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
	at
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)
	at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:82
8)
	at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processC
onnection(Http11Protocol.java:700)
	at
org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:58
4)
	at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool
.java:683)
	at java.lang.Thread.run(Thread.java:534)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 18:55:33 2003
Return-Path: 
 <lucene-user-return-5863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55131 invoked from network); 6 Nov 2003 18:55:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 18:55:33 -0000
Received: (qmail 82245 invoked by uid 500); 6 Nov 2003 18:55:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82009 invoked by uid 500); 6 Nov 2003 18:55:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81989 invoked from network); 6 Nov 2003 18:55:16 -0000
Received: from unknown (HELO mailgate5.cinetic.de) (217.72.192.165)
  by daedalus.apache.org with SMTP; 6 Nov 2003 18:55:16 -0000
Received: from web.de (fmomail03.dlan.cinetic.de [172.20.1.236])
	by mailgate5.cinetic.de (8.11.6p2/8.11.2/SuSE Linux 8.11.0-0.4) with SMTP id
 hA6ItJQ08594
	for lucene-user@jakarta.apache.org; Thu, 6 Nov 2003 19:55:19 +0100
Date: Thu, 6 Nov 2003 19:55:19 +0100
Message-Id: <200311061855.hA6ItJQ08594@mailgate5.cinetic.de>
MIME-Version: 1.0
Organization: http://freemail.web.de/
From: "Thomas Fuchs" <tfuchs@lexetius.com>
To: lucene-user@jakarta.apache.org
Subject: Applet, read-only mode index/code contribution
Sender: <tmfuchs@web.de>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I used lucene 1.2/it.unige.csita.lucene.RODirectory inside an applet on CD-ROM. In lucene 1.3 the system property 'disableLuceneLocks' was introduced to make it.unige.csita.lucene.RODirectory or something like that obsolete. But this didn't work - as already mentioned by Jon - because the security manager denies access to system properties. But lucene 1.3 rc2 and it.unige.csita.lucene.RODirectory aren't compatible, so a work-around is still required. I attched a dirty hack based on FSDirectory, called RODirectory.

- Thomas

> Regarding lock files created while searching, it looks like it is
created via FSDirectory.makeLock method, which makes use of the
disableLuceneLocks property, so this actually should take care of the
searching locks.  So this should work on CD-ROMs.

> It would be lovely if somebody could confirm this and send a message to
let us all know.

> Otis

>> I've been investigating using Lucene to search html pages on CD-ROM, using
an applet as the search interface. It isn't as easy as I'd hoped...

>> One problem is that lock files are written while searching to prevent
concurrent updates of the index -- clearly that doesn't work too well on
read-only media! But I notice there are current changes which will make the
use of lock files configurable.

>> Another problem is security restrictions on applets. Unfortunately one of
these is not being able to read system properties and the new mechanism for
turning off lock files uses a system property, so that ain't going to work
well in my case...

>> So I've been looking at plans B, C, D, ... These would mean writing some new
classes to specialise the existing Lucene classes to my particular case (eg
a version of IndexReader that doesn't use a lock). But I'm not making much
progress here since I can't extend classes because they are final or because
they have package access.

>> Writing an application to do the same job was straightforward and gives a
good product, so I feel I should persevere. But I do feel that everything I
try goes across the grain of existing code.

>> Anyone got any thoughts? I would have thought that the scenario (html on
CD-ROM + applet search) was a natural one for Lucene.  I've searched the
archives and found several people trying to do it, but not much in the way
of solutions.

>> Jon

===== RODirectory.java ================================================

package ...;

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001, 2003 The Apache Software Foundation.  All
 * rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import java.io.File;
import java.io.RandomAccessFile;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.util.Hashtable;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;

import org.apache.lucene.store.*;
import org.apache.lucene.util.Constants;

/**
 * Straightforward implementation of {@link Directory} as a directory of files.
 * <p>If the system property 'disableLuceneLocks' has the String value of
 * "true", lock creation will be disabled.
 *
 * @see Directory
 * @author Doug Cutting
 */
public final class RODirectory extends Directory {
  /** This cache of directories ensures that there is a unique Directory
   * instance per path, so that synchronization on the Directory can be used to
   * synchronize access between readers and writers.
   *
   * This should be a WeakHashMap, so that entries can be GC'd, but that would
   * require Java 1.2.  Instead we use refcounts...
   */
  private static final Hashtable DIRECTORIES = new Hashtable();

  private static final boolean DISABLE_LOCKS = true;

  private static MessageDigest DIGESTER;
 
  static {
    try {
      DIGESTER = MessageDigest.getInstance("MD5");
    } catch (NoSuchAlgorithmException e) {
        throw new RuntimeException(e.toString());
    }
  }

  /** A buffer optionally used in renameTo method */
  private byte[] buffer = null;

  /** Returns the directory instance for the named location.
   *
   * <p>Directories are cached, so that, for a given canonical path, the same
   * RODirectory instance will always be returned.  This permits
   * synchronization on directories.
   *
   * @param path the path to the directory.
   * @param create if true, create, or erase any existing contents.
   * @return the RODirectory for the named file.  */
  public static RODirectory getDirectory(String path, boolean create)
      throws IOException {
    return getDirectory(new File(path), create);
  }

  /** Returns the directory instance for the named location.
   *
   * <p>Directories are cached, so that, for a given canonical path, the same
   * RODirectory instance will always be returned.  This permits
   * synchronization on directories.
   *
   * @param file the path to the directory.
   * @param create if true, create, or erase any existing contents.
   * @return the RODirectory for the named file.  */
  public static RODirectory getDirectory(File file, boolean create)
    throws IOException {
    file = new File(file.getCanonicalPath());
    RODirectory dir;
    synchronized (DIRECTORIES) {
      dir = (RODirectory)DIRECTORIES.get(file);
      if (dir == null) {
        dir = new RODirectory(file, create);
        DIRECTORIES.put(file, dir);
      } else if (create) {
        dir.create();
      }
    }
    synchronized (dir) {
      dir.refCount++;
    }
    return dir;
  }

  private File directory = null;
  private int refCount;

  private RODirectory(File path, boolean create) throws IOException {
    directory = path;

    if (create)
      create();

    if (!directory.isDirectory())
      throw new IOException(path + " not a directory");
  }

  private synchronized void create() throws IOException {
    if (DISABLE_LOCKS)
		return;
	if (!directory.exists())
      if (!directory.mkdir())
        throw new IOException("Cannot create directory: " + directory);

    String[] files = directory.list();            // clear old files
    for (int i = 0; i < files.length; i++) {
      File file = new File(directory, files[i]);
      if (!file.delete())
        throw new IOException("couldn't delete " + files[i]);
    }
    
    String lockPrefix = getLockPrefix().toString(); // clear old locks
    File tmpdir = new File(System.getProperty("java.io.tmpdir"));
    files = tmpdir.list();
    for (int i = 0; i < files.length; i++) {      
      if (!files[i].startsWith(lockPrefix))
        continue;
      File file = new File(tmpdir, files[i]);
      if (!file.delete())
        throw new IOException("couldn't delete " + files[i]);
    }
  }

  /** Returns an array of strings, one for each file in the directory. */
  public final String[] list() throws IOException {
    return directory.list();
  }

  /** Returns true iff a file with the given name exists. */
  public final boolean fileExists(String name) throws IOException {
    File file = new File(directory, name);
    return file.exists();
  }

  /** Returns the time the named file was last modified. */
  public final long fileModified(String name) throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Returns the time the named file was last modified. */
  public static final long fileModified(File directory, String name)
       throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Set the modified time of an existing file to now. */
  public void touchFile(String name) throws IOException {
    File file = new File(directory, name);
    file.setLastModified(System.currentTimeMillis());
  }

  /** Returns the length in bytes of a file in the directory. */
  public final long fileLength(String name) throws IOException {
    File file = new File(directory, name);
    return file.length();
  }

  /** Removes an existing file in the directory. */
  public final void deleteFile(String name) throws IOException {
    File file = new File(directory, name);
    if (!file.delete())
      throw new IOException("couldn't delete " + name);
  }

  /** Renames an existing file in the directory. */
  public final synchronized void renameFile(String from, String to)
      throws IOException {
    File old = new File(directory, from);
    File nu = new File(directory, to);

    /* This is not atomic.  If the program crashes between the call to
       delete() and the call to renameTo() then we're screwed, but I've
       been unable to figure out how else to do this... */

    if (nu.exists())
      if (!nu.delete())
        throw new IOException("couldn't delete " + to);

    // Rename the old file to the new one. Unfortunately, the renameTo()
    // method does not work reliably under some JVMs.  Therefore, if the
    // rename fails, we manually rename by copying the old file to the new one
    if (!old.renameTo(nu)) {
      java.io.InputStream in = null;
      java.io.OutputStream out = null;
      try {
        in = new FileInputStream(old);
        out = new FileOutputStream(nu);
        // see if the buffer needs to be initialized. Initialization is
        // only done on-demand since many VM's will never run into the renameTo
        // bug and hence shouldn't waste 1K of mem for no reason.
        if (buffer == null) {
          buffer = new byte[1024];
        }
        int len;
        while ((len = in.read(buffer)) >= 0) {
          out.write(buffer, 0, len);
        }

        // delete the old file.
        old.delete();
      }
      catch (IOException ioe) {
        throw new IOException("couldn't rename " + from + " to " + to);
      }
      finally {
        if (in != null) {
          try {
            in.close();
          } catch (IOException e) {
            throw new RuntimeException("could not close input stream: " + e.getMessage());
          }
        }
        if (out != null) {
          try {
            out.close();
          } catch (IOException e) {
            throw new RuntimeException("could not close output stream: " + e.getMessage());
          }
        }
      }
    }
  }

  /** Creates a new, empty file in the directory with the given name.
      Returns a stream writing this file. */
  public final OutputStream createFile(String name) throws IOException {
    return new FSOutputStream(new File(directory, name));
  }

  /** Returns a stream reading an existing file. */
  public final InputStream openFile(String name) throws IOException {
    return new FSInputStream(new File(directory, name));
  }

  /**
   * So we can do some byte-to-hexchar conversion below
   */
  private static final char[] HEX_DIGITS =
  {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};

  /** Constructs a {@link Lock} with the specified name.  Locks are implemented
   * with {@link File#createNewFile() }.
   *
   * <p>In JDK 1.1 or if system property <I>disableLuceneLocks</I> is the
   * string "true", locks are disabled.  Assigning this property any other
   * string will <B>not</B> prevent creation of lock files.  This is useful for
   * using Lucene on read-only medium, such as CD-ROM.
   *
   * @param name the name of the lock file
   * @return an instance of <code>Lock</code> holding the lock
   */
  public final Lock makeLock(String name) {
    StringBuffer buf = getLockPrefix();
    buf.append("-");
    buf.append(name);

    // make the lock file in tmp, where anyone can create files.
    final File lockFile;
	if (DISABLE_LOCKS)
		lockFile = null;
	else
		lockFile = new File(System.getProperty("java.io.tmpdir"), buf.toString());

    return new Lock() {
      public boolean obtain() throws IOException {
        if (DISABLE_LOCKS)
          return true;
        return lockFile.createNewFile();
      }
      public void release() {
        if (DISABLE_LOCKS)
          return;
        lockFile.delete();
      }
      public boolean isLocked() {
        if (DISABLE_LOCKS)
          return false;
        return lockFile.exists();
      }

      public String toString() {
        return "Lock@" + lockFile;
      }
    };
  }

  private StringBuffer getLockPrefix() {
    String dirName;                               // name to be hashed
    try {
      dirName = directory.getCanonicalPath();
    } catch (IOException e) {
      throw new RuntimeException(e.toString());
    }
    
    byte digest[];
    synchronized (DIGESTER) {
      digest = DIGESTER.digest(dirName.getBytes());
    }
    StringBuffer buf = new StringBuffer();
    buf.append("lucene-");
    for (int i = 0; i < digest.length; i++) {
      int b = digest[i];
      buf.append(HEX_DIGITS[(b >> 4) & 0xf]);
      buf.append(HEX_DIGITS[b & 0xf]);
    }

    return buf;
  }

  /** Closes the store to future operations. */
  public final synchronized void close() throws IOException {
    if (--refCount <= 0) {
      synchronized (DIRECTORIES) {
        DIRECTORIES.remove(directory);
      }
    }
  }

  /** For debug output. */
  public String toString() {
    return "RODirectory@" + directory;
  }
}


final class FSInputStream extends InputStream {
  private class Descriptor extends RandomAccessFile {
    /* DEBUG */
    //private String name;
    /* DEBUG */
    public long position;
    public Descriptor(File file, String mode) throws IOException {
      super(file, mode);
      /* DEBUG */
      //name = file.toString();
      //debug_printInfo("OPEN");
      /* DEBUG */
    }
    
    /* DEBUG */
    //public void close() throws IOException {
    //  debug_printInfo("CLOSE");
    //    super.close();
    //}
    //
    //private void debug_printInfo(String op) {
    //  try { throw new Exception(op + " <" + name + ">"); 
    //  } catch (Exception e) {
    //    java.io.StringWriter sw = new java.io.StringWriter();
    //    java.io.PrintWriter pw = new java.io.PrintWriter(sw);
    //    e.printStackTrace(pw);
    //    System.out.println(sw.getBuffer().toString());
    //  }
    //}
    /* DEBUG */
  }

  Descriptor file = null;
  boolean isClone;

  public FSInputStream(File path) throws IOException {
    file = new Descriptor(path, "r");
    length = file.length();
  }

  /** InputStream methods */
  protected final void readInternal(byte[] b, int offset, int len)
       throws IOException {
    synchronized (file) {
      long position = getFilePointer();
      if (position != file.position) {
        file.seek(position);
        file.position = position;
      }
      int total = 0;
      do {
        int i = file.read(b, offset+total, len-total);
        if (i == -1)
          throw new IOException("read past EOF");
        file.position += i;
        total += i;
      } while (total < len);
    }
  }

  public final void close() throws IOException {
    if (!isClone)
      file.close();
  }

  /** Random-access methods */
  protected final void seekInternal(long position) throws IOException {
  }

  protected final void finalize() throws IOException {
    close();            // close the file
  }

  public Object clone() {
    FSInputStream clone = (FSInputStream)super.clone();
    clone.isClone = true;
    return clone;
  }
  
  /** Method used for testing. Returns true if the underlying
   *  file descriptor is valid.
   */
  boolean isFDValid() throws IOException {
    return file.getFD().valid();
  }
}


final class FSOutputStream extends OutputStream {
  RandomAccessFile file = null;

  public FSOutputStream(File path) throws IOException {
    file = new RandomAccessFile(path, "rw");
  }

  /** output methods: */
  public final void flushBuffer(byte[] b, int size) throws IOException {
    file.write(b, 0, size);
  }
  public final void close() throws IOException {
    super.close();
    file.close();
  }

  /** Random-access methods */
  public final void seek(long pos) throws IOException {
    super.seek(pos);
    file.seek(pos);
  }
  public final long length() throws IOException {
    return file.length();
  }

  protected final void finalize() throws IOException {
    file.close();          // close the file
  }

}

===== RODirectory.java ================================================

______________________________________________________________________________
Horoskop, Comics, VIPs, Wetter, Sport und Lotto im WEB.DE Screensaver1.2
Kostenlos downloaden: http://screensaver.web.de/?mc=021110


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 18:59:19 2003
Return-Path: 
 <lucene-user-return-5864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56945 invoked from network); 6 Nov 2003 18:59:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 18:59:19 -0000
Received: (qmail 88701 invoked by uid 500); 6 Nov 2003 18:59:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88551 invoked by uid 500); 6 Nov 2003 18:59:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88534 invoked from network); 6 Nov 2003 18:59:03 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 6 Nov 2003 18:59:03 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 5D8615D24
	for <lucene-user@jakarta.apache.org>; Thu,  6 Nov 2003 10:59:08 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hA6Ix8nR096060
	for lucene-user@jakarta.apache.org; Thu, 6 Nov 2003 10:59:08 -0800 (PST)
	(envelope-from dror)
Date: Thu, 6 Nov 2003 10:59:08 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Applet, read-only mode index/code contribution
Message-ID: <20031106185908.GC94919@rlx11.zapatec.com>
References: <200311061855.hA6ItJQ08594@mailgate5.cinetic.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200311061855.hA6ItJQ08594@mailgate5.cinetic.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is also a problem when runnning a security manager on a servlet. I 
would think that you should be able to search the index without requiring
WRITE permissions on the directory.

On Thu, Nov 06, 2003 at 07:55:19PM +0100, Thomas Fuchs wrote:
> Hi,
> 
> I used lucene 1.2/it.unige.csita.lucene.RODirectory inside an applet on CD-ROM. In lucene 1.3 the system property 'disableLuceneLocks' was introduced to make it.unige.csita.lucene.RODirectory or something like that obsolete. But this didn't work - as already mentioned by Jon - because the security manager denies access to system properties. But lucene 1.3 rc2 and it.unige.csita.lucene.RODirectory aren't compatible, so a work-around is still required. I attched a dirty hack based on FSDirectory, called RODirectory.
> 
> - Thomas
> 
> > Regarding lock files created while searching, it looks like it is
> created via FSDirectory.makeLock method, which makes use of the
> disableLuceneLocks property, so this actually should take care of the
> searching locks.  So this should work on CD-ROMs.
> 
> > It would be lovely if somebody could confirm this and send a message to
> let us all know.
> 
> > Otis
> 
> >> I've been investigating using Lucene to search html pages on CD-ROM, using
> an applet as the search interface. It isn't as easy as I'd hoped...
> 
> >> One problem is that lock files are written while searching to prevent
> concurrent updates of the index -- clearly that doesn't work too well on
> read-only media! But I notice there are current changes which will make the
> use of lock files configurable.
> 
> >> Another problem is security restrictions on applets. Unfortunately one of
> these is not being able to read system properties and the new mechanism for
> turning off lock files uses a system property, so that ain't going to work
> well in my case...
> 
> >> So I've been looking at plans B, C, D, ... These would mean writing some new
> classes to specialise the existing Lucene classes to my particular case (eg
> a version of IndexReader that doesn't use a lock). But I'm not making much
> progress here since I can't extend classes because they are final or because
> they have package access.
> 
> >> Writing an application to do the same job was straightforward and gives a
> good product, so I feel I should persevere. But I do feel that everything I
> try goes across the grain of existing code.
> 
> >> Anyone got any thoughts? I would have thought that the scenario (html on
> CD-ROM + applet search) was a natural one for Lucene.  I've searched the
> archives and found several people trying to do it, but not much in the way
> of solutions.
> 
> >> Jon
> 
> ===== RODirectory.java ================================================
> 
> package ...;
> 
> /* ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001, 2003 The Apache Software Foundation.  All
>  * rights reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software itself,
>  *    if and wherever such third-party acknowledgments normally appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
> 
> import java.io.IOException;
> import java.io.File;
> import java.io.RandomAccessFile;
> import java.io.FileInputStream;
> import java.io.FileOutputStream;
> import java.util.Hashtable;
> import java.security.MessageDigest;
> import java.security.NoSuchAlgorithmException;
> 
> import org.apache.lucene.store.*;
> import org.apache.lucene.util.Constants;
> 
> /**
>  * Straightforward implementation of {@link Directory} as a directory of files.
>  * <p>If the system property 'disableLuceneLocks' has the String value of
>  * "true", lock creation will be disabled.
>  *
>  * @see Directory
>  * @author Doug Cutting
>  */
> public final class RODirectory extends Directory {
>   /** This cache of directories ensures that there is a unique Directory
>    * instance per path, so that synchronization on the Directory can be used to
>    * synchronize access between readers and writers.
>    *
>    * This should be a WeakHashMap, so that entries can be GC'd, but that would
>    * require Java 1.2.  Instead we use refcounts...
>    */
>   private static final Hashtable DIRECTORIES = new Hashtable();
> 
>   private static final boolean DISABLE_LOCKS = true;
> 
>   private static MessageDigest DIGESTER;
>  
>   static {
>     try {
>       DIGESTER = MessageDigest.getInstance("MD5");
>     } catch (NoSuchAlgorithmException e) {
>         throw new RuntimeException(e.toString());
>     }
>   }
> 
>   /** A buffer optionally used in renameTo method */
>   private byte[] buffer = null;
> 
>   /** Returns the directory instance for the named location.
>    *
>    * <p>Directories are cached, so that, for a given canonical path, the same
>    * RODirectory instance will always be returned.  This permits
>    * synchronization on directories.
>    *
>    * @param path the path to the directory.
>    * @param create if true, create, or erase any existing contents.
>    * @return the RODirectory for the named file.  */
>   public static RODirectory getDirectory(String path, boolean create)
>       throws IOException {
>     return getDirectory(new File(path), create);
>   }
> 
>   /** Returns the directory instance for the named location.
>    *
>    * <p>Directories are cached, so that, for a given canonical path, the same
>    * RODirectory instance will always be returned.  This permits
>    * synchronization on directories.
>    *
>    * @param file the path to the directory.
>    * @param create if true, create, or erase any existing contents.
>    * @return the RODirectory for the named file.  */
>   public static RODirectory getDirectory(File file, boolean create)
>     throws IOException {
>     file = new File(file.getCanonicalPath());
>     RODirectory dir;
>     synchronized (DIRECTORIES) {
>       dir = (RODirectory)DIRECTORIES.get(file);
>       if (dir == null) {
>         dir = new RODirectory(file, create);
>         DIRECTORIES.put(file, dir);
>       } else if (create) {
>         dir.create();
>       }
>     }
>     synchronized (dir) {
>       dir.refCount++;
>     }
>     return dir;
>   }
> 
>   private File directory = null;
>   private int refCount;
> 
>   private RODirectory(File path, boolean create) throws IOException {
>     directory = path;
> 
>     if (create)
>       create();
> 
>     if (!directory.isDirectory())
>       throw new IOException(path + " not a directory");
>   }
> 
>   private synchronized void create() throws IOException {
>     if (DISABLE_LOCKS)
> 		return;
> 	if (!directory.exists())
>       if (!directory.mkdir())
>         throw new IOException("Cannot create directory: " + directory);
> 
>     String[] files = directory.list();            // clear old files
>     for (int i = 0; i < files.length; i++) {
>       File file = new File(directory, files[i]);
>       if (!file.delete())
>         throw new IOException("couldn't delete " + files[i]);
>     }
>     
>     String lockPrefix = getLockPrefix().toString(); // clear old locks
>     File tmpdir = new File(System.getProperty("java.io.tmpdir"));
>     files = tmpdir.list();
>     for (int i = 0; i < files.length; i++) {      
>       if (!files[i].startsWith(lockPrefix))
>         continue;
>       File file = new File(tmpdir, files[i]);
>       if (!file.delete())
>         throw new IOException("couldn't delete " + files[i]);
>     }
>   }
> 
>   /** Returns an array of strings, one for each file in the directory. */
>   public final String[] list() throws IOException {
>     return directory.list();
>   }
> 
>   /** Returns true iff a file with the given name exists. */
>   public final boolean fileExists(String name) throws IOException {
>     File file = new File(directory, name);
>     return file.exists();
>   }
> 
>   /** Returns the time the named file was last modified. */
>   public final long fileModified(String name) throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
> 
>   /** Returns the time the named file was last modified. */
>   public static final long fileModified(File directory, String name)
>        throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
> 
>   /** Set the modified time of an existing file to now. */
>   public void touchFile(String name) throws IOException {
>     File file = new File(directory, name);
>     file.setLastModified(System.currentTimeMillis());
>   }
> 
>   /** Returns the length in bytes of a file in the directory. */
>   public final long fileLength(String name) throws IOException {
>     File file = new File(directory, name);
>     return file.length();
>   }
> 
>   /** Removes an existing file in the directory. */
>   public final void deleteFile(String name) throws IOException {
>     File file = new File(directory, name);
>     if (!file.delete())
>       throw new IOException("couldn't delete " + name);
>   }
> 
>   /** Renames an existing file in the directory. */
>   public final synchronized void renameFile(String from, String to)
>       throws IOException {
>     File old = new File(directory, from);
>     File nu = new File(directory, to);
> 
>     /* This is not atomic.  If the program crashes between the call to
>        delete() and the call to renameTo() then we're screwed, but I've
>        been unable to figure out how else to do this... */
> 
>     if (nu.exists())
>       if (!nu.delete())
>         throw new IOException("couldn't delete " + to);
> 
>     // Rename the old file to the new one. Unfortunately, the renameTo()
>     // method does not work reliably under some JVMs.  Therefore, if the
>     // rename fails, we manually rename by copying the old file to the new one
>     if (!old.renameTo(nu)) {
>       java.io.InputStream in = null;
>       java.io.OutputStream out = null;
>       try {
>         in = new FileInputStream(old);
>         out = new FileOutputStream(nu);
>         // see if the buffer needs to be initialized. Initialization is
>         // only done on-demand since many VM's will never run into the renameTo
>         // bug and hence shouldn't waste 1K of mem for no reason.
>         if (buffer == null) {
>           buffer = new byte[1024];
>         }
>         int len;
>         while ((len = in.read(buffer)) >= 0) {
>           out.write(buffer, 0, len);
>         }
> 
>         // delete the old file.
>         old.delete();
>       }
>       catch (IOException ioe) {
>         throw new IOException("couldn't rename " + from + " to " + to);
>       }
>       finally {
>         if (in != null) {
>           try {
>             in.close();
>           } catch (IOException e) {
>             throw new RuntimeException("could not close input stream: " + e.getMessage());
>           }
>         }
>         if (out != null) {
>           try {
>             out.close();
>           } catch (IOException e) {
>             throw new RuntimeException("could not close output stream: " + e.getMessage());
>           }
>         }
>       }
>     }
>   }
> 
>   /** Creates a new, empty file in the directory with the given name.
>       Returns a stream writing this file. */
>   public final OutputStream createFile(String name) throws IOException {
>     return new FSOutputStream(new File(directory, name));
>   }
> 
>   /** Returns a stream reading an existing file. */
>   public final InputStream openFile(String name) throws IOException {
>     return new FSInputStream(new File(directory, name));
>   }
> 
>   /**
>    * So we can do some byte-to-hexchar conversion below
>    */
>   private static final char[] HEX_DIGITS =
>   {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};
> 
>   /** Constructs a {@link Lock} with the specified name.  Locks are implemented
>    * with {@link File#createNewFile() }.
>    *
>    * <p>In JDK 1.1 or if system property <I>disableLuceneLocks</I> is the
>    * string "true", locks are disabled.  Assigning this property any other
>    * string will <B>not</B> prevent creation of lock files.  This is useful for
>    * using Lucene on read-only medium, such as CD-ROM.
>    *
>    * @param name the name of the lock file
>    * @return an instance of <code>Lock</code> holding the lock
>    */
>   public final Lock makeLock(String name) {
>     StringBuffer buf = getLockPrefix();
>     buf.append("-");
>     buf.append(name);
> 
>     // make the lock file in tmp, where anyone can create files.
>     final File lockFile;
> 	if (DISABLE_LOCKS)
> 		lockFile = null;
> 	else
> 		lockFile = new File(System.getProperty("java.io.tmpdir"), buf.toString());
> 
>     return new Lock() {
>       public boolean obtain() throws IOException {
>         if (DISABLE_LOCKS)
>           return true;
>         return lockFile.createNewFile();
>       }
>       public void release() {
>         if (DISABLE_LOCKS)
>           return;
>         lockFile.delete();
>       }
>       public boolean isLocked() {
>         if (DISABLE_LOCKS)
>           return false;
>         return lockFile.exists();
>       }
> 
>       public String toString() {
>         return "Lock@" + lockFile;
>       }
>     };
>   }
> 
>   private StringBuffer getLockPrefix() {
>     String dirName;                               // name to be hashed
>     try {
>       dirName = directory.getCanonicalPath();
>     } catch (IOException e) {
>       throw new RuntimeException(e.toString());
>     }
>     
>     byte digest[];
>     synchronized (DIGESTER) {
>       digest = DIGESTER.digest(dirName.getBytes());
>     }
>     StringBuffer buf = new StringBuffer();
>     buf.append("lucene-");
>     for (int i = 0; i < digest.length; i++) {
>       int b = digest[i];
>       buf.append(HEX_DIGITS[(b >> 4) & 0xf]);
>       buf.append(HEX_DIGITS[b & 0xf]);
>     }
> 
>     return buf;
>   }
> 
>   /** Closes the store to future operations. */
>   public final synchronized void close() throws IOException {
>     if (--refCount <= 0) {
>       synchronized (DIRECTORIES) {
>         DIRECTORIES.remove(directory);
>       }
>     }
>   }
> 
>   /** For debug output. */
>   public String toString() {
>     return "RODirectory@" + directory;
>   }
> }
> 
> 
> final class FSInputStream extends InputStream {
>   private class Descriptor extends RandomAccessFile {
>     /* DEBUG */
>     //private String name;
>     /* DEBUG */
>     public long position;
>     public Descriptor(File file, String mode) throws IOException {
>       super(file, mode);
>       /* DEBUG */
>       //name = file.toString();
>       //debug_printInfo("OPEN");
>       /* DEBUG */
>     }
>     
>     /* DEBUG */
>     //public void close() throws IOException {
>     //  debug_printInfo("CLOSE");
>     //    super.close();
>     //}
>     //
>     //private void debug_printInfo(String op) {
>     //  try { throw new Exception(op + " <" + name + ">"); 
>     //  } catch (Exception e) {
>     //    java.io.StringWriter sw = new java.io.StringWriter();
>     //    java.io.PrintWriter pw = new java.io.PrintWriter(sw);
>     //    e.printStackTrace(pw);
>     //    System.out.println(sw.getBuffer().toString());
>     //  }
>     //}
>     /* DEBUG */
>   }
> 
>   Descriptor file = null;
>   boolean isClone;
> 
>   public FSInputStream(File path) throws IOException {
>     file = new Descriptor(path, "r");
>     length = file.length();
>   }
> 
>   /** InputStream methods */
>   protected final void readInternal(byte[] b, int offset, int len)
>        throws IOException {
>     synchronized (file) {
>       long position = getFilePointer();
>       if (position != file.position) {
>         file.seek(position);
>         file.position = position;
>       }
>       int total = 0;
>       do {
>         int i = file.read(b, offset+total, len-total);
>         if (i == -1)
>           throw new IOException("read past EOF");
>         file.position += i;
>         total += i;
>       } while (total < len);
>     }
>   }
> 
>   public final void close() throws IOException {
>     if (!isClone)
>       file.close();
>   }
> 
>   /** Random-access methods */
>   protected final void seekInternal(long position) throws IOException {
>   }
> 
>   protected final void finalize() throws IOException {
>     close();            // close the file
>   }
> 
>   public Object clone() {
>     FSInputStream clone = (FSInputStream)super.clone();
>     clone.isClone = true;
>     return clone;
>   }
>   
>   /** Method used for testing. Returns true if the underlying
>    *  file descriptor is valid.
>    */
>   boolean isFDValid() throws IOException {
>     return file.getFD().valid();
>   }
> }
> 
> 
> final class FSOutputStream extends OutputStream {
>   RandomAccessFile file = null;
> 
>   public FSOutputStream(File path) throws IOException {
>     file = new RandomAccessFile(path, "rw");
>   }
> 
>   /** output methods: */
>   public final void flushBuffer(byte[] b, int size) throws IOException {
>     file.write(b, 0, size);
>   }
>   public final void close() throws IOException {
>     super.close();
>     file.close();
>   }
> 
>   /** Random-access methods */
>   public final void seek(long pos) throws IOException {
>     super.seek(pos);
>     file.seek(pos);
>   }
>   public final long length() throws IOException {
>     return file.length();
>   }
> 
>   protected final void finalize() throws IOException {
>     file.close();          // close the file
>   }
> 
> }
> 
> ===== RODirectory.java ================================================
> 
> ______________________________________________________________________________
> Horoskop, Comics, VIPs, Wetter, Sport und Lotto im WEB.DE Screensaver1.2
> Kostenlos downloaden: http://screensaver.web.de/?mc=021110
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 19:45:13 2003
Return-Path: 
 <lucene-user-return-5866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78153 invoked from network); 6 Nov 2003 19:45:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 19:45:13 -0000
Received: (qmail 64730 invoked by uid 500); 6 Nov 2003 19:44:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64689 invoked by uid 500); 6 Nov 2003 19:44:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64644 invoked from network); 6 Nov 2003 19:44:41 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 6 Nov 2003 19:44:41 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 6 Nov 2003 14:44:45 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id hA6JihY02657
	for <lucene-user@jakarta.apache.org>; Thu, 6 Nov 2003 14:44:44 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: crash in Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 6 Nov 2003 14:44:43 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124110C@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: crash in Lucene
Thread-Index: AcOkne0YrSwZ0W30SGOST8Uongep2wAADesA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

it's the line with the close(). so the remedy then is to make sure that =
it is called only once. what is the recommended way to process two =
folders worth of documents then? do i need to create a new IndexWriter =
object for each folder i process?

-----Original Message-----
From: Dmitry Serebrennikov [mailto:dmitrys@earthlink.net]
Sent: Thursday, November 06, 2003 2:47 PM
To: Lucene Users List
Subject: Re: crash in Lucene


Assuming it's writeLock.release(), an easy explanation would be that=20
close() was called twice on the same IndexWriter. Perhaps the demo has a =

bug that ends up doing this in some cases?

Dmitry.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 19:41:10 2003
Return-Path: 
 <lucene-user-return-5865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76905 invoked from network); 6 Nov 2003 19:41:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 19:41:10 -0000
Received: (qmail 61015 invoked by uid 500); 6 Nov 2003 19:40:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60925 invoked by uid 500); 6 Nov 2003 19:40:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60673 invoked from network); 6 Nov 2003 19:40:48 -0000
Received: from unknown (HELO host-65-125-35-13.larp.gov) (65.125.35.13)
  by daedalus.apache.org with SMTP; 6 Nov 2003 19:40:47 -0000
Received: from earthlink.net ([65.174.70.194])
	by host-65-125-35-13.larp.gov (8.11.6/8.11.6) with ESMTP id hA6IkKB13788
	for <lucene-user@jakarta.apache.org>; Thu, 6 Nov 2003 11:46:20 -0700
Message-ID: <3FAAA538.2020001@earthlink.net>
Date: Thu, 06 Nov 2003 12:47:04 -0700
From: Dmitry Serebrennikov <dmitrys@earthlink.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: crash in Lucene
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Herb,

While I agree with Eric that the demo was not meant for production load, 
that still does not explain the NullPointerException in 
IndexWriter.close... I had a look at the source of the 1.2 final release 
and the line 146 appears to be a call to writeLock.release(). But you 
seem to think that this could be the line before this, which is 
ramDirectory.close(). Could you confirm which one it is, and/or provide 
a stack trace with the line number that you got when you tried against 
the current code line?

Assuming it's writeLock.release(), an easy explanation would be that 
close() was called twice on the same IndexWriter. Perhaps the demo has a 
bug that ends up doing this in some cases?

Dmitry.


>>
>> Subject:
>> RE: crash in Lucene
>> From:
>> "Chong, Herb" <HChong3@bloomberg.com>
>> Date:
>> Tue, 4 Nov 2003 16:04:38 -0500
>> To:
>> "Lucene Users List" <lucene-user@jakarta.apache.org>
>>
>>
>>no change in 1.3RC2. the crash is at the same statement, although the absolute line number has moved.
>>
>>this is the demo IndexFiles application with a change in the main() method to allow specifying more than one file/directory in the parameter list. i also modified the FileWriter class to save the first 300 bytes of each document in an Unindexed field. i used the 1.2 version of the demo application to as my base for these changes. the application is being run with a 1000M JVM size. there are about 120,000 documents averaging about 600 bytes in size.
>>
>>Herb....
>>-----Original Message-----
>>From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>>Sent: Tuesday, November 04, 2003 1:42 PM
>>To: Lucene Users List
>>Subject: Re: crash in Lucene
>>
>>
>>Could you try the latest CVS version or 1.3 RC build and see if the 
>>problem has been resolved?
>>  
>>
>>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov  6 23:51:27 2003
Return-Path: 
 <lucene-user-return-5867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90230 invoked from network); 6 Nov 2003 23:51:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Nov 2003 23:51:27 -0000
Received: (qmail 44580 invoked by uid 500); 6 Nov 2003 23:51:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44553 invoked by uid 500); 6 Nov 2003 23:51:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44540 invoked from network); 6 Nov 2003 23:51:07 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 6 Nov 2003 23:51:07 -0000
Received: (cpmta 5229 invoked from network); 6 Nov 2003 15:51:13 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 6 Nov 2003 15:51:13 -0800
X-Sent: 6 Nov 2003 23:51:13 GMT
Date: Thu, 6 Nov 2003 18:51:23 -0500
Subject: Re: Applet, read-only mode index/code contribution
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <200311061855.hA6ItJQ08594@mailgate5.cinetic.de>
Message-Id: <20CF84F7-10B4-11D8-9334-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 6, 2003, at 01:55  PM, Thomas Fuchs wrote:
> Hi,
>
> I used lucene 1.2/it.unige.csita.lucene.RODirectory inside an applet 
> on CD-ROM. In lucene 1.3 the system property 'disableLuceneLocks' was 
> introduced to make it.unige.csita.lucene.RODirectory or something like 
> that obsolete. But this didn't work - as already mentioned by Jon - 
> because the security manager denies access to system properties. But 
> lucene 1.3 rc2 and it.unige.csita.lucene.RODirectory aren't 
> compatible, so a work-around is still required. I attched a dirty hack 
> based on FSDirectory, called RODirectory.
>
> - Thomas
>

I agree that there should be another mechanism to disable locks than 
with a system property.  Are their arguments against making the 
FSDirectory.DISABLE_LOCKS settable through an API call?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 00:11:35 2003
Return-Path: 
 <lucene-user-return-5868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97813 invoked from network); 7 Nov 2003 00:11:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 00:11:35 -0000
Received: (qmail 72783 invoked by uid 500); 7 Nov 2003 00:11:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72668 invoked by uid 500); 7 Nov 2003 00:11:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72655 invoked from network); 7 Nov 2003 00:11:15 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 7 Nov 2003 00:11:15 -0000
Received: (cpmta 19300 invoked from network); 6 Nov 2003 16:11:22 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 6 Nov 2003 16:11:22 -0800
X-Sent: 7 Nov 2003 00:11:22 GMT
Date: Thu, 6 Nov 2003 19:11:32 -0500
Subject: Re: crash in Lucene
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124110C@ny2528.corp.bloomberg.com>
Message-Id: <F15FDF10-10B6-11D8-9334-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 6, 2003, at 02:44  PM, Chong, Herb wrote:
> it's the line with the close(). so the remedy then is to make sure  
> that it is called only once. what is the recommended way to process  
> two folders worth of documents then? do i need to create a new  
> IndexWriter object for each folder i process?

I've lost track of the details of what you're doing, but if you're  
indexing on two different threads, then that could be a problem:

	http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
msg00350.html

Is the FAQ at jGuru incorrect in this regard?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 00:54:08 2003
Return-Path: 
 <lucene-user-return-5869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12936 invoked from network); 7 Nov 2003 00:54:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 00:54:08 -0000
Received: (qmail 26934 invoked by uid 500); 7 Nov 2003 00:53:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26575 invoked by uid 500); 7 Nov 2003 00:53:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26562 invoked from network); 7 Nov 2003 00:53:47 -0000
Received: from unknown (HELO web11507.mail.yahoo.com) (216.136.172.39)
  by daedalus.apache.org with SMTP; 7 Nov 2003 00:53:47 -0000
Message-ID: <20031107005355.35812.qmail@web11507.mail.yahoo.com>
Received: from [171.75.56.154] by web11507.mail.yahoo.com via HTTP;
 Thu, 06 Nov 2003 16:53:55 PST
Date: Thu, 6 Nov 2003 16:53:55 -0800 (PST)
From: Caroline Jen <jiapei_jen@yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16298.1923.248005.588132@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, let me see if I have got the idea.  For example,
if I want to search the database for articles written
by Elizabeth Castro, we do what is shown below in
Lucene:

Query query = QueryParser.parse("creator:\"Elizabeth
Castro\"",  
"creator",
new StandardAnalyzer());
indexSearcher.search(query);

Nonetheless, both "creator" and the name of the
creator are variables.  We depend on the user to give
us the information and we pass the information to form
a query; probably this way:

    public static final Query getQuery(
            String value,
            String field) throws ParameterException {
        try {
            return QueryParser.parse(value,field,
getAnalyzer());
        }
        catch (ParseException e) {
            throw new ParameterException(e);
        }
    } // end getQuery()

Now, if we want to search the database for all
articles by Elizabeth Castro in the Computer Science
category, we do something like below:

Query query = QueryParser.parse("creator:\"Elizabeth
Castro\" AND category:\"Computer Science\"",  
"creator" AND "category",  // Is this right?
new StandardAnalyzer());
indexSearcher.search(query);

I think I want to put my hand on the idea on how to
pass the information (two pairs of field and its
value) provided by a user to form a query.  Should I
do this:

    public static final Query getQuery(
            String value1,
            String field1,
            String value2,
            String field2) throws ParameterException {
        try {
            return
QueryParser.parse(value1,field1,value2,field2,
getAnalyzer());
        }
        catch (ParseException e) {
            throw new ParameterException(e);
        }
    } // end getQuery()

In the above code snippet, we have

return QueryParser.parse(value1,field1,value2,field2,
getAnalyzer());

How does the Luncene know it is AND instead of OR we
want?
 


--- Morus Walter <morus.walter@tanto-xipolis.de>
wrote:
> Caroline Jen writes:
> 
> > I have a sample program that takes care of the
> search
> > based on "one single pair of property and value"
> in
> > the database.  For example, visitors of the web
> site
> > can retrieve all articles written by Elizabeth
> Castro.
> >  "creator" is the property and "Elizabeth Castro"
> is
> > the value and they constitute one single pair of
> > property and value.  The method signature of the
> > search is:
> > 
> > findByProperty(this,property,value);
> 
> Is it? Which type of lucene object has such a
> method?
> > 
> > What is the method signature in Lucene if I want
> to
> > search the database based on "two pairs of
> property
> > and value"?  For example, I want to retrieve all
> > articles written by Elizabeth Castro in the
> "computer
> > science" category?
> > 
> > Am I on the right track?  Does my question make
> sense?
> > 
> I don't think so.
> 
> The method signature for a search in lucene is (in
> the easiest case)
> hits = search(query)
> where search is a method of a searcher object, and
> query is a query object.
> Basically there are two ways to create a query
> object:
> a) use the query parser
> b) construct it yourself
> 
> Option a) allowes to formulate queries with the
> options described in
>
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html.
> For a single field a query might look like 'some
> term' with the
> field defined as the default field.
> To search other fields than the default field, you
> can use <fieldname>:term.
> To combine subqueries you can use logical operators
> like AND, OR...
> So a query might look like
> creator:Castro AND category:computer
> 
> If you want to construct the query yourself you have
> to look at the
> API docs and the different types of query
> subclasses.
> E.g. you could combine two TermQuery objects with a
> BooleanQuery object.
> 
> HTH
> Morus
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 01:01:20 2003
Return-Path: 
 <lucene-user-return-5870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14789 invoked from network); 7 Nov 2003 01:01:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 01:01:20 -0000
Received: (qmail 33122 invoked by uid 500); 7 Nov 2003 01:01:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32797 invoked by uid 500); 7 Nov 2003 01:01:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32783 invoked from network); 7 Nov 2003 01:00:59 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 7 Nov 2003 01:00:59 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AHuzq-0003Qp-Rr
	for lucene-user@jakarta.apache.org; Fri, 07 Nov 2003 14:01:06 +1300
Message-ID: <3FAAEED2.2030907@cs.waikato.ac.nz>
Date: Fri, 07 Nov 2003 14:01:06 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term counts during indexing
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
 <02ed01c39e7c$c53b5880$02a8a8c0@peter> <3FA07B01.8020300@cs.waikato.ac.nz>
 <039801c39f06$390fc1e0$02a8a8c0@peter>
In-Reply-To: <039801c39f06$390fc1e0$02a8a8c0@peter>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter --

sorry for the delay; I just accidentally saw your reply in the mailing 
list archive -- mustave overlooked it in my inbox :(

Peter Keegan wrote:

>As I understand it, the field text is being tokenized by the analyzer when
>IndexWriter.addDocument is called. At this point, the tokens are indexed
>and/or stored. Would it be possible for 'addDocument' to save and make the
>_actual_ counts of 'tokens stored' and 'tokens indexed' available in either
>the Document or IndexWriter object? I guess I may be turning this into a
>feature request :)
>
>  
>
Lucene uses an inverted index, so the index is based on a mapping from 
"term" instances to the documents that contain them, as opposed to 
"document" instances mapping to a list of terms contained in that 
document (which is a fancy way of saying, "Lucene doesn't store 
documents; filesystems do that").
So in terms of the index representation, Lucene could not simply add a 
"term count" parameter to the entry for a given document, because 
(unless we're talking about a stored field) there is no table in which 
such an entry could exist. You would need to add a totally new data 
structure to the index, which can store document properties for 
un-stored fields. This which sort of defeats the purpose of un-stored 
fields. It sounds wrong to have an un-stored field and store its termcount.

Here's a proposal for a hack you could do: write an Analyzer wrapper 
that counts tokens emitted by the Analyzer's TokenStream's next() 
method, which it is called by IndexWriter.addDocument(Document). When 
TokenStream.next() returns null, you can store the tokenCount that you 
have maintained in a file or database. This is fairly ugly but it has 
the advantage that it will work for for non-stored fields.

I doubt there will be much support for extending Lucene to store field 
properties for unstored fields. Maybe there could be another field type 
called TERMCOUNTED_FIELD? Maybe some of the core coders could comment.

>Also, I can't find this method from the code snippit provided by Gerret (I'm
>using v1.2):
>  
>
>>String[] fieldTerms = doc.getValues(fieldName);
>>    
>>
hmm, it must have been added later then:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Document.html

cheers,
Gerret

>
>
>Thanks,
>Peter
>
>----- Original Message ----- 
>From: "Gerret Apelt" <ga11@cs.waikato.ac.nz>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Wednesday, October 29, 2003 9:44 PM
>Subject: Re: term counts during indexing
>
>
>  
>
>>Peter Keegan wrote:
>>
>>    
>>
>>>Is there a simple and efficient way of determining the number of tokens
>>>added
>>>to a document after adding each field ('Document.add), as a result of the
>>>actions
>>>of the Analyzer, without having to re-parse the field
>>>      
>>>
>>Peter --
>>
>>you can ask the Document instance.
>>
>>Document doc = getDocumentInstanceFromSomewhere();
>>int termCount = 0;
>>Enumertion fields = doc.fields();
>>while (fields.hasMoreElements()) {
>>    Field field = (Field)fields.nextElement();
>>    String fieldName = field.name();
>>    String[] fieldTerms = doc.getValues(fieldName);
>>    termCount += fieldTerms.length;
>>}
>>System.out.println("The fields of the document together contain
>>"+termCount+" terms.");
>>
>>Note that
>>1) I haven't tried to compile this code, so I'm not sure if it works
>>2) this will only work for those fields where field.isStored() == true.
>>If the field isnt stored in the index, then you don't have a choice but
>>to go back to the document.
>>
>>[not sure on the following, so please correct me if in error:] Remember
>>that unStored fields are indexed, so you can query on them, but the
>>field terms themselves are not stored in the index. Therefore you cannot
>>count them by asking Lucene. A Lucene field instance also has no way to
>>reference the source of the terms that are added to it. The field
>>doesn't care where its terms came from. So if field.isStored() == false,
>>then for that particular field Lucene cannot tell you how many terms are
>>in it. You'll have to write your own code that analyzes the original
>>data source in this case.
>>
>>    
>>
>>>Alternatively, is there a way to determine the number of tokens added
>>>      
>>>
>after
>  
>
>>>adding the document to the index ('IndexWriter.addDocument')?
>>>
>>>
>>>      
>>>
>>Whether you want the termCount for a document before or after you add
>>the document to the index doesn't matter, so the answer is "see above".
>>
>>cheers,
>>Gerret
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 01:05:29 2003
Return-Path: 
 <lucene-user-return-5871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16562 invoked from network); 7 Nov 2003 01:05:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 01:05:29 -0000
Received: (qmail 36763 invoked by uid 500); 7 Nov 2003 01:05:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36726 invoked by uid 500); 7 Nov 2003 01:05:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36712 invoked from network); 7 Nov 2003 01:05:08 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 7 Nov 2003 01:05:08 -0000
Received: (cpmta 10130 invoked from network); 6 Nov 2003 17:05:15 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 6 Nov 2003 17:05:15 -0800
X-Sent: 7 Nov 2003 01:05:15 GMT
Date: Thu, 6 Nov 2003 20:05:26 -0500
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031107005355.35812.qmail@web11507.mail.yahoo.com>
Message-Id: <7923DA53-10BE-11D8-9334-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 6, 2003, at 07:53  PM, Caroline Jen wrote:
> Hi, let me see if I have got the idea.  For example,
> if I want to search the database for articles written
> by Elizabeth Castro, we do what is shown below in
> Lucene:

It sounds like you're asking a lot of hypothetical questions without 
actually trying things out with Lucene.  It's quite approachable and 
easy to do some Test Driven Learning with some very simple JUnit test 
cases.   If you're familiar with JUnit, this should be straightforward:

public class SearchingTest extends TestCase {
   private Directory directory;
   private String[] docs = {"I come from nowhere mostly.",
                            "I mostly come from space."};
   private String[] keys = {"http://www.timreynolds.com/biography/",
                            "http://www.timreynolds.com"};

   protected void setUp() throws Exception {
     directory = new RAMDirectory();
     addDocuments(directory);
   }

   private void addDocuments(Directory directory) throws Exception {
     IndexWriter writer = new IndexWriter(directory,
                                          new SimpleAnalyzer(),
                                          true);
     for (int i = 0; i < docs.length; i++) {
       Document doc = new Document();
       doc.add(Field.Text("contents", docs[i]));
       doc.add(Field.Keyword("url", keys[i]));
       writer.addDocument(doc);
     }
     writer.close();
   }

   public void testTerm() throws Exception {
     IndexSearcher searcher = new IndexSearcher(directory);
     Term t = new Term("contents", "space");
     Query query = new TermQuery(t);
     Hits hits = searcher.search(query);
     assertEquals(1, hits.length());

     t = new Term("contents", "i");
     hits = searcher.search(new TermQuery(t));
     assertEquals(2, hits.length());

     searcher.close();
   }
}

Substitute in the QueryParser stuff where the TermQuery is constructed 
and index some documents of your choosing in the docs field.

> Nonetheless, both "creator" and the name of the
> creator are variables.  We depend on the user to give
> us the information and we pass the information to form
> a query; probably this way:

Whether to use QueryParser completely or not is a decision you'll have 
to make, but using it for the entire Query may not be quite what you're 
after.

> I think I want to put my hand on the idea on how to
> pass the information (two pairs of field and its
> value) provided by a user to form a query.  Should I
> do this:
>
>     public static final Query getQuery(
>             String value1,
>             String field1,
>             String value2,
>             String field2) throws ParameterException {
>         try {
>             return
> QueryParser.parse(value1,field1,value2,field2,
> getAnalyzer());
>         }

Well, if you had tried this, you'd realize this is incorrect API usage, 
so no, you shouldn't do this!  :)  (nor could you)

> return QueryParser.parse(value1,field1,value2,field2,
> getAnalyzer());
>
> How does the Luncene know it is AND instead of OR we
> want?

QueryParser has a setOperator method on it to change the default 
operator to AND rather than OR.

Again, please have a go at implementing some examples and come back to 
us with informed questions should you have some.  Trying this stuff 
first hand is the best way to really get a feel for how it works and 
will ensure you're asking the right questions.  Test Driven Learning - 
embrace learning.  It's my new fad.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 08:56:39 2003
Return-Path: 
 <lucene-user-return-5872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93870 invoked from network); 7 Nov 2003 08:56:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 08:56:39 -0000
Received: (qmail 44217 invoked by uid 500); 7 Nov 2003 08:56:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44042 invoked by uid 500); 7 Nov 2003 08:56:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44029 invoked from network); 7 Nov 2003 08:56:09 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 7 Nov 2003 08:56:09 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hA78uKI09887
	for <lucene-user@jakarta.apache.org>; Fri, 7 Nov 2003 02:56:21 -0600
Message-ID: <00a901c3a50d$036b56f0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031107005355.35812.qmail@web11507.mail.yahoo.com>
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Date: Fri, 7 Nov 2003 19:56:16 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Nonetheless, both "creator" and the name of the
> creator are variables.  We depend on the user to give

Of course, but you don't have unlimited fields right? So you know that
"creator" field is the creator of a book. You can provide the user with
complicated UI but internally you can build your own query.

> Query query = QueryParser.parse("creator:\"Elizabeth
> Castro\" AND category:\"Computer Science\"",
> "creator" AND "category",  // Is this right?
> new StandardAnalyzer());
> indexSearcher.search(query);

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/queryParser/QueryParser.html

> How does the Luncene know it is AND instead of OR we
> want?

It doesn't, *you* tell it whether it's AND or OR. Think Google. Only Lucene
does OR by default (or so as I rememebred it).


/victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 09:19:55 2003
Return-Path: 
 <lucene-user-return-5873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15164 invoked from network); 7 Nov 2003 09:19:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 09:19:55 -0000
Received: (qmail 83523 invoked by uid 500); 7 Nov 2003 09:19:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83489 invoked by uid 500); 7 Nov 2003 09:19:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83476 invoked from network); 7 Nov 2003 09:19:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 7 Nov 2003 09:19:24 -0000
Received: (cpmta 15523 invoked from network); 7 Nov 2003 01:19:37 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 7 Nov 2003 01:19:37 -0800
X-Sent: 7 Nov 2003 09:19:37 GMT
Date: Fri, 7 Nov 2003 04:19:48 -0500
Subject: Re: Rephrase My Question - How To Search Database With More Than One
 Pair of Property/Value as Parameters Using Lucene?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00a901c3a50d$036b56f0$ce00a8c0@victor>
Message-Id: <89022D37-1103-11D8-9334-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 7, 2003, at 03:56  AM, Victor Hadianto wrote:
>> Nonetheless, both "creator" and the name of the
>> creator are variables.  We depend on the user to give
>
> Of course, but you don't have unlimited fields right? So you know that
> "creator" field is the creator of a book. You can provide the user with
> complicated UI but internally you can build your own query.
>
>> Query query = QueryParser.parse("creator:\"Elizabeth
>> Castro\" AND category:\"Computer Science\"",
>> "creator" AND "category",  // Is this right?
>> new StandardAnalyzer());
>> indexSearcher.search(query);
>>

I recommend against code generated String's to be QueryParse'd.  There 
are far too many fiddly issues with QueryParser (my java.net article on 
this very subject should be coming today or very very soon).  Use 
Lucene's Query API to construct queries in code - and doing so 
dynamically from a sophisticated search UI would not be that much more 
work yet would avoid several awkward issues in the parsing process.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 09:24:54 2003
Return-Path: 
 <lucene-user-return-5874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21700 invoked from network); 7 Nov 2003 09:24:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 09:24:54 -0000
Received: (qmail 93406 invoked by uid 500); 7 Nov 2003 09:24:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93069 invoked by uid 500); 7 Nov 2003 09:24:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93056 invoked from network); 7 Nov 2003 09:24:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 7 Nov 2003 09:24:24 -0000
Received: (cpmta 267 invoked from network); 7 Nov 2003 01:24:37 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 7 Nov 2003 01:24:37 -0800
X-Sent: 7 Nov 2003 09:24:37 GMT
Date: Fri, 7 Nov 2003 04:24:46 -0500
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: QueryParser Rules
From: Erik Hatcher <erik@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <3A3AECAA-1104-11D8-9334-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My latest article is now online at java.net:

	http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

Lot's of gory details about how QueryParser works and issues to 
consider when using it are discussed.  Feedback (on java.net's site 
preferably) is most welcome!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 11:38:57 2003
Return-Path: 
 <lucene-user-return-5875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10385 invoked from network); 7 Nov 2003 11:38:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 11:38:57 -0000
Received: (qmail 81986 invoked by uid 500); 7 Nov 2003 11:38:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81883 invoked by uid 500); 7 Nov 2003 11:38:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81870 invoked from network); 7 Nov 2003 11:38:51 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 7 Nov 2003 11:38:51 -0000
Message-ID: <20031107113851.45129.qmail@web12701.mail.yahoo.com>
Received: from [194.152.209.104] by web12701.mail.yahoo.com via HTTP;
 Fri, 07 Nov 2003 03:38:51 PST
Date: Fri, 7 Nov 2003 03:38:51 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: crash in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <F15FDF10-10B6-11D8-9334-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Thursday, November 6, 2003, at 02:44  PM, Chong, Herb wrote:
> > it's the line with the close(). so the remedy then is to make sure 
> 
> > that it is called only once. what is the recommended way to process
>  
> > two folders worth of documents then? do i need to create a new  
> > IndexWriter object for each folder i process?
> 
> I've lost track of the details of what you're doing, but if you're  
> indexing on two different threads, then that could be a problem:
> 
> 	http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg00350.html
> 
> Is the FAQ at jGuru incorrect in this rega

Are you referring to:
  http://www.jguru.com/faq/view.jsp?EID=913302

I think the write/write is correct.  It is just important that the same
instance of IndexWriter is used.  That's written right below the
matrix.

Otis


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 13:38:40 2003
Return-Path: 
 <lucene-user-return-5876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68865 invoked from network); 7 Nov 2003 13:38:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 13:38:40 -0000
Received: (qmail 70790 invoked by uid 500); 7 Nov 2003 13:38:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70747 invoked by uid 500); 7 Nov 2003 13:38:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70695 invoked from network); 7 Nov 2003 13:38:24 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 7 Nov 2003 13:38:24 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 7 Nov 2003 08:38:24 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hA7DcMx00184
	for <lucene-user@jakarta.apache.org>; Fri, 7 Nov 2003 08:38:23 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: crash in Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 7 Nov 2003 08:38:22 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241112@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: crash in Lucene
Thread-Index: AcOkxne40QgTDTbESqerc2oOPMD7ngAbacJg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i'm running in a single thread. the demo app is pretty vague on things =
and expects me to read the detailed documentation. not what i like in a =
sample application where someone is supposed to learn from it. taking =
the close() call out of the loop to index multiple directories fixed the =
problem.

Herb...

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, November 06, 2003 7:12 PM
To: Lucene Users List
Subject: Re: crash in Lucene


I've lost track of the details of what you're doing, but if you're =20
indexing on two different threads, then that could be a problem:

	http://www.mail-archive.com/lucene-user@jakarta.apache.org/=20
msg00350.html

Is the FAQ at jGuru incorrect in this regard?

	Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 14:05:59 2003
Return-Path: 
 <lucene-user-return-5877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89969 invoked from network); 7 Nov 2003 14:05:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 14:05:59 -0000
Received: (qmail 30569 invoked by uid 500); 7 Nov 2003 14:05:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30381 invoked by uid 500); 7 Nov 2003 14:05:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30368 invoked from network); 7 Nov 2003 14:05:50 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 7 Nov 2003 14:05:50 -0000
Message-ID: <20031107140551.67776.qmail@web12708.mail.yahoo.com>
Received: from [194.152.209.104] by web12708.mail.yahoo.com via HTTP;
 Fri, 07 Nov 2003 06:05:51 PST
Date: Fri, 7 Nov 2003 06:05:51 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: crash in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241112@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Excellent.
If you have time, please contribute a patch for the terse and vague
documentation, so others don't have to suffer.

Thanks,
Otis

--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> i'm running in a single thread. the demo app is pretty vague on
> things and expects me to read the detailed documentation. not what i
> like in a sample application where someone is supposed to learn from
> it. taking the close() call out of the loop to index multiple
> directories fixed the problem.
> 
> Herb...
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, November 06, 2003 7:12 PM
> To: Lucene Users List
> Subject: Re: crash in Lucene
> 
> 
> I've lost track of the details of what you're doing, but if you're  
> indexing on two different threads, then that could be a problem:
> 
> 	http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg00350.html
> 
> Is the FAQ at jGuru incorrect in this regard?
> 
> 	Erik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 15:24:08 2003
Return-Path: 
 <lucene-user-return-5878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55745 invoked from network); 7 Nov 2003 15:24:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 15:24:08 -0000
Received: (qmail 91676 invoked by uid 500); 7 Nov 2003 15:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91649 invoked by uid 500); 7 Nov 2003 15:23:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91636 invoked from network); 7 Nov 2003 15:23:58 -0000
Received: from unknown (HELO c011.snv.cp.net) (209.228.34.218)
  by daedalus.apache.org with SMTP; 7 Nov 2003 15:23:58 -0000
Received: (cpmta 23943 invoked from network); 7 Nov 2003 07:24:00 -0800
Received: from 68.50.73.199 (HELO medined01)
  by smtp.mtolive.com (209.228.34.218) with SMTP; 7 Nov 2003 07:24:00 -0800
X-Sent: 7 Nov 2003 15:24:00 GMT
Message-ID: <014001c3a543$29a7a3b0$9ea5fea9@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3A3AECAA-1104-11D8-9334-000393A564E6@ehatchersolutions.com>
Subject: Re: QueryParser Rules
Date: Fri, 7 Nov 2003 10:23:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik, thanks for writing such a great article. I haven't read it yet, but I
know that it'll be great!

David Medinets
http://www.codebits.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov  7 17:38:57 2003
Return-Path: 
 <lucene-user-return-5879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29958 invoked from network); 7 Nov 2003 17:38:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Nov 2003 17:38:57 -0000
Received: (qmail 43850 invoked by uid 500); 7 Nov 2003 17:38:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43759 invoked by uid 500); 7 Nov 2003 17:38:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43742 invoked from network); 7 Nov 2003 17:38:44 -0000
Received: from unknown (HELO mxsf17.cluster1.charter.net) (209.225.28.217)
  by daedalus.apache.org with SMTP; 7 Nov 2003 17:38:44 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf17.cluster1.charter.net (8.12.10/8.12.8) with SMTP id hA7HYWkX093129
	for <lucene-user@jakarta.apache.org>; Fri, 7 Nov 2003 12:34:38 -0500 (EST)
	(envelope-from peter.keegan@charter.net)
Message-ID: <004901c3a555$52f07780$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
 <02ed01c39e7c$c53b5880$02a8a8c0@peter> <3FA07B01.8020300@cs.waikato.ac.nz>
 <039801c39f06$390fc1e0$02a8a8c0@peter> <3FAAEED2.2030907@cs.waikato.ac.nz>
Subject: Re: term counts during indexing
Date: Fri, 7 Nov 2003 12:33:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gerret,

Sorry, I didn't mean to suggest changing the index format to save the
counts. But your suggestion of adding a 'term counting' analyzer at the end
of the filter chain makes more sense to me (and now seems so obvious).

Thanks,
Peter

----- Original Message ----- 
From: "Gerret Apelt" <ga11@cs.waikato.ac.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 06, 2003 8:01 PM
Subject: Re: term counts during indexing


> Peter --
>
> sorry for the delay; I just accidentally saw your reply in the mailing
> list archive -- mustave overlooked it in my inbox :(
>
> Peter Keegan wrote:
>
> >As I understand it, the field text is being tokenized by the analyzer
when
> >IndexWriter.addDocument is called. At this point, the tokens are indexed
> >and/or stored. Would it be possible for 'addDocument' to save and make
the
> >_actual_ counts of 'tokens stored' and 'tokens indexed' available in
either
> >the Document or IndexWriter object? I guess I may be turning this into a
> >feature request :)
> >
> >
> >
> Lucene uses an inverted index, so the index is based on a mapping from
> "term" instances to the documents that contain them, as opposed to
> "document" instances mapping to a list of terms contained in that
> document (which is a fancy way of saying, "Lucene doesn't store
> documents; filesystems do that").
> So in terms of the index representation, Lucene could not simply add a
> "term count" parameter to the entry for a given document, because
> (unless we're talking about a stored field) there is no table in which
> such an entry could exist. You would need to add a totally new data
> structure to the index, which can store document properties for
> un-stored fields. This which sort of defeats the purpose of un-stored
> fields. It sounds wrong to have an un-stored field and store its
termcount.
>
> Here's a proposal for a hack you could do: write an Analyzer wrapper
> that counts tokens emitted by the Analyzer's TokenStream's next()
> method, which it is called by IndexWriter.addDocument(Document). When
> TokenStream.next() returns null, you can store the tokenCount that you
> have maintained in a file or database. This is fairly ugly but it has
> the advantage that it will work for for non-stored fields.
>
> I doubt there will be much support for extending Lucene to store field
> properties for unstored fields. Maybe there could be another field type
> called TERMCOUNTED_FIELD? Maybe some of the core coders could comment.
>
> >Also, I can't find this method from the code snippit provided by Gerret
(I'm
> >using v1.2):
> >
> >
> >>String[] fieldTerms = doc.getValues(fieldName);
> >>
> >>
> hmm, it must have been added later then:
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Document.html
>
> cheers,
> Gerret
>
> >
> >
> >Thanks,
> >Peter
> >
> >----- Original Message ----- 
> >From: "Gerret Apelt" <ga11@cs.waikato.ac.nz>
> >To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >Sent: Wednesday, October 29, 2003 9:44 PM
> >Subject: Re: term counts during indexing
> >
> >
> >
> >
> >>Peter Keegan wrote:
> >>
> >>
> >>
> >>>Is there a simple and efficient way of determining the number of tokens
> >>>added
> >>>to a document after adding each field ('Document.add), as a result of
the
> >>>actions
> >>>of the Analyzer, without having to re-parse the field
> >>>
> >>>
> >>Peter --
> >>
> >>you can ask the Document instance.
> >>
> >>Document doc = getDocumentInstanceFromSomewhere();
> >>int termCount = 0;
> >>Enumertion fields = doc.fields();
> >>while (fields.hasMoreElements()) {
> >>    Field field = (Field)fields.nextElement();
> >>    String fieldName = field.name();
> >>    String[] fieldTerms = doc.getValues(fieldName);
> >>    termCount += fieldTerms.length;
> >>}
> >>System.out.println("The fields of the document together contain
> >>"+termCount+" terms.");
> >>
> >>Note that
> >>1) I haven't tried to compile this code, so I'm not sure if it works
> >>2) this will only work for those fields where field.isStored() == true.
> >>If the field isnt stored in the index, then you don't have a choice but
> >>to go back to the document.
> >>
> >>[not sure on the following, so please correct me if in error:] Remember
> >>that unStored fields are indexed, so you can query on them, but the
> >>field terms themselves are not stored in the index. Therefore you cannot
> >>count them by asking Lucene. A Lucene field instance also has no way to
> >>reference the source of the terms that are added to it. The field
> >>doesn't care where its terms came from. So if field.isStored() == false,
> >>then for that particular field Lucene cannot tell you how many terms are
> >>in it. You'll have to write your own code that analyzes the original
> >>data source in this case.
> >>
> >>
> >>
> >>>Alternatively, is there a way to determine the number of tokens added
> >>>
> >>>
> >after
> >
> >
> >>>adding the document to the index ('IndexWriter.addDocument')?
> >>>
> >>>
> >>>
> >>>
> >>Whether you want the termCount for a document before or after you add
> >>the document to the index doesn't matter, so the answer is "see above".
> >>
> >>cheers,
> >>Gerret
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov  9 20:29:43 2003
Return-Path: 
 <lucene-user-return-5880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92708 invoked from network); 9 Nov 2003 20:29:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Nov 2003 20:29:43 -0000
Received: (qmail 75854 invoked by uid 500); 9 Nov 2003 20:29:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75823 invoked by uid 500); 9 Nov 2003 20:29:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75810 invoked from network); 9 Nov 2003 20:29:27 -0000
Received: from unknown (HELO localhost.localdomain) (67.114.20.29)
  by daedalus.apache.org with SMTP; 9 Nov 2003 20:29:27 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hA9KTVxB003890
	for <lucene-user@jakarta.apache.org>; Sun, 9 Nov 2003 12:29:32 -0800
Message-ID: <3FAEA3AB.5080506@newsmonster.org>
Date: Sun, 09 Nov 2003 12:29:31 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Objection to using /tmp for lock files. 
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I first read this changelog entry:

 > 2. Changed file locking to place lock files in
 >    System.getProperty("java.io.tmpdir"), where all users are
 >    permitted to write files.  This way folks can open and correctly
 >    lock indexes which are read-only to them.

I just assumed that this was an optional feature.

I think this is a dangerous change and should be disabled by default (or 
only enabled with lock files can't be used due to read only media).

Regardless... it doesn't break our use of Lucene but it seems like a 
pretty drastic decision.

I think it's a good feature but I just feel it shouldn't be enabled by 
default.

Kevin

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 14:46:29 2003
Return-Path: 
 <lucene-user-return-5883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5484 invoked from network); 10 Nov 2003 14:46:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 14:46:29 -0000
Received: (qmail 96583 invoked by uid 500); 10 Nov 2003 14:46:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96556 invoked by uid 500); 10 Nov 2003 14:46:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96522 invoked from network); 10 Nov 2003 14:46:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 10 Nov 2003 14:46:13 -0000
Received: (cpmta 28724 invoked from network); 10 Nov 2003 06:46:14 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 10 Nov 2003 06:46:14 -0800
X-Sent: 10 Nov 2003 14:46:14 GMT
Date: Mon, 10 Nov 2003 09:17:04 -0500
Subject: Re: crash in Lucene
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241112@ny2528.corp.bloomberg.com>
Message-Id: <8F522DF7-1388-11D8-8F8C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 7, 2003, at 08:38  AM, Chong, Herb wrote:
> i'm running in a single thread. the demo app is pretty vague on things 
> and expects me to read the detailed documentation. not what i like in 
> a sample application where someone is supposed to learn from it. 
> taking the close() call out of the loop to index multiple directories 
> fixed the problem.

Yes, the demo app is not compelling and definitely needs work.  It is 
my hope to get a chance to write a much slicker demo suite as part of 
our book project and of course contribute it back into Lucene's own 
codebase and distributions.  A couple of months ago I solicited input 
from this list on what everyone wanted to have in a demo application 
and I saved those replies.  If there were only more hours in a day..... 
  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 14:26:51 2003
Return-Path: 
 <lucene-user-return-5881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92340 invoked from network); 10 Nov 2003 14:26:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 14:26:51 -0000
Received: (qmail 44037 invoked by uid 500); 10 Nov 2003 14:26:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43978 invoked by uid 500); 10 Nov 2003 14:26:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43964 invoked from network); 10 Nov 2003 14:26:41 -0000
Received: from unknown (HELO scog-ws4.gsa.gov) (159.142.144.59)
  by daedalus.apache.org with SMTP; 10 Nov 2003 14:26:41 -0000
Received: from 159.142.144.55 by scog-ws4.gsa.gov with ESMTP (GSA
 Internet E-Mail System (MMS v5.5.3)); Mon, 10 Nov 2003 09:27:12 -0400
From: brad.hendricks@gsa.gov
Subject: java.io.IOException: Bad file number
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 6.0.1CF1 March 04, 2003
Message-ID: 
 <OFB87C5E1A.DF9C9DD3-ON85256DDA.004F3607-85256DDA.004F548B@gsa.gov>
Sender: brad.hendricks@gsa.gov
Date: Mon, 10 Nov 2003 09:26:29 -0500
X-MIMETrack: Serialize by Router on SCOG-NOTESSMTP1/GSAEXTERNAL(Release
 5.0.8 |June 18, 2001) at 11/10/2003 09:26:32 AM
MIME-Version: 1.0
X-WSS-ID: 13B17FCA84203-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I'm trying to debug a problem with a lucene installation which is getting
"java.io.IOException: Bad file number" occasionally when performing
searches.  More specifically, the exception is coming when we are using a
Reader to extract the "hit" Documents from the index (due to using
getMessage instead of printStackTrace, I can't tell for sure if the
exception is coming from opening the reader, or getting the
document...arrgh!).

I believe this problem is because of our design, which is that we allow
ongoing multiple searches, and every 30 seconds we have a separate program
which performs updates (adding and deleting documents) on the same index
that is being searched.  After a batch of updates are performed we close
and re-open the IndexSearcher, the idea being that it should now be able to
access the new documents.

Is this a situation where we should have some locking in place that has
searches wait while documents are being added/deleted?  This would be easy
enough to implement, but there is a lot of updating to do, and we don't
want to sacrifice the excellent performance of the search by waiting every
30 seconds while updates happen.  We've thought of two basic paths to take:

1.  Implement a locking mechanism, and maybe try to add/delete one document
each time the updating program aquires the lock, instead of a bigger batch.
We think this might keep the search waiting the least amount of time, but
updates will take longer.

2.  Use a scheme with 2 indexes where we always update the one that isn't
being searched in, and switch between the two.  We are not sure if it makes
sense to perform the switch every 30 seconds in this case.

Does anyone have an idea if I am correct about the cause of the Exception,
or any thoughts on the two possible solutions?  We are running jdk 1.4, and
lucene 1.2 on solaris.

Thanks for any help you can give.

Brad Hendricks



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 14:46:19 2003
Return-Path: 
 <lucene-user-return-5882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5401 invoked from network); 10 Nov 2003 14:46:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 14:46:19 -0000
Received: (qmail 95027 invoked by uid 500); 10 Nov 2003 14:45:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94993 invoked by uid 500); 10 Nov 2003 14:45:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94967 invoked from network); 10 Nov 2003 14:45:52 -0000
Received: from unknown (HELO mxsf18.cluster1.charter.net) (209.225.28.218)
  by daedalus.apache.org with SMTP; 10 Nov 2003 14:45:52 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf18.cluster1.charter.net (8.12.10/8.12.8) with SMTP id hAAEi0OR089225
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 09:44:00 -0500 (EST)
	(envelope-from peter.keegan@charter.net)
Message-ID: <01de01c3a798$f8b7d290$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene user's list" <lucene-user@jakarta.apache.org>
Subject: re: multiple tokens from a single input token
Date: Mon, 10 Nov 2003 09:43:14 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01DB_01C3A76F.0FAC62B0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01DB_01C3A76F.0FAC62B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I would appreciate some clarification on how to generate multiple tokens =
from a single input token.

In a previous message: (see: =
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04875.html)=
, Pierrick Brihaye provides the following code:

public final Token next() throws IOException {
while (true) {
String emittedText;=20
int positionIncrement =3D 0;=20
//New token ?
if (receivedText.length() =3D=3D 0) {
receivedToken =3D input.next();=20
if (receivedToken =3D=3D null) return null;
receivedText.append(receivedToken.termText());=20
positionIncrement =3D 1;=20
}
emittedText =3D getNextPart();=20
//Warning : all tokens are emitted with the *same* offset
if (emittedText.length() > 0) {
Token emittedToken =3D new Token(emittedText, =
receivedToken.startOffset(), receivedToken.endOffset()); =
emittedToken.setPositionIncrement(positionIncrement);
return emittedToken;
}=20
}
}
I assume that you would extend the TokenFilter class and override the =
'next' method. But what I don't understand is how you return more than =
one Token (with different settings for 'setpositionIncrement') if the =
'next' method is only called once for each input token.

For example, when my custom filter's 'next()' method receives token 'A' =
from 'DocumentWriter.invertDocument()', it wants to return token 'A' and =
token 'B' at the same postion. How is this done? It seems I can only =
return one token at a time from 'next()'. I think I'm missing something =
obvious :-(

Thanks,
Peter

------=_NextPart_000_01DB_01C3A76F.0FAC62B0--


From MAILER-DAEMON Mon Nov 10 14:48:41 2003
Return-Path: 
 <lucene-user-return-5884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11075 invoked from network); 10 Nov 2003 14:48:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 14:48:41 -0000
Received: (qmail 3899 invoked by uid 500); 10 Nov 2003 14:48:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3844 invoked by uid 500); 10 Nov 2003 14:48:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3742 invoked from network); 10 Nov 2003 14:48:30 -0000
Received: from unknown (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 10 Nov 2003 14:48:30 -0000
Received: from etapestry.com (168-215-193-254.dslindiana.com
 [168.215.193.254]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange
 Internet Mail Service Version 5.5.2650.21)
	id WAWG1P41; Mon, 10 Nov 2003 09:49:49 -0500
Message-ID: <3FAFA53E.4070304@etapestry.com>
Date: Mon, 10 Nov 2003 09:48:30 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: java.io.IOException: Bad file number
References: 
 <OFB87C5E1A.DF9C9DD3-ON85256DDA.004F3607-85256DDA.004F548B@gsa.gov>
In-Reply-To: 
 <OFB87C5E1A.DF9C9DD3-ON85256DDA.004F3607-85256DDA.004F548B@gsa.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think adding extensive locking is necessary.  What you are 
probably experiencing is that you've closed the index before you're done 
using it.  If you aren't careful to close the index only after all 
searches on it have been completed, you'll get an error like this.

Scott

brad.hendricks@gsa.gov wrote:

>Hello,
>
>I'm trying to debug a problem with a lucene installation which is getting
>"java.io.IOException: Bad file number" occasionally when performing
>searches.  More specifically, the exception is coming when we are using a
>Reader to extract the "hit" Documents from the index (due to using
>getMessage instead of printStackTrace, I can't tell for sure if the
>exception is coming from opening the reader, or getting the
>document...arrgh!).
>
>I believe this problem is because of our design, which is that we allow
>ongoing multiple searches, and every 30 seconds we have a separate program
>which performs updates (adding and deleting documents) on the same index
>that is being searched.  After a batch of updates are performed we close
>and re-open the IndexSearcher, the idea being that it should now be able to
>access the new documents.
>
>Is this a situation where we should have some locking in place that has
>searches wait while documents are being added/deleted?  This would be easy
>enough to implement, but there is a lot of updating to do, and we don't
>want to sacrifice the excellent performance of the search by waiting every
>30 seconds while updates happen.  We've thought of two basic paths to take:
>
>1.  Implement a locking mechanism, and maybe try to add/delete one document
>each time the updating program aquires the lock, instead of a bigger batch.
>We think this might keep the search waiting the least amount of time, but
>updates will take longer.
>
>2.  Use a scheme with 2 indexes where we always update the one that isn't
>being searched in, and switch between the two.  We are not sure if it makes
>sense to perform the switch every 30 seconds in this case.
>
>Does anyone have an idea if I am correct about the cause of the Exception,
>or any thoughts on the two possible solutions?  We are running jdk 1.4, and
>lucene 1.2 on solaris.
>
>Thanks for any help you can give.
>
>Brad Hendricks
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

-- 
Always drink upstream from the herd. - Will Rogers



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 15:05:16 2003
Return-Path: 
 <lucene-user-return-5886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23380 invoked from network); 10 Nov 2003 15:05:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 15:05:16 -0000
Received: (qmail 53416 invoked by uid 500); 10 Nov 2003 15:05:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53387 invoked by uid 500); 10 Nov 2003 15:05:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53373 invoked from network); 10 Nov 2003 15:05:06 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 10 Nov 2003 15:05:06 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hAAF3DsV005988
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 16:03:13 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id QAA05754
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 16:03:23 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <WM4FAFF1>; Mon, 10 Nov 2003 16:01:58 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881AF8@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: multiple tokens from a single input token
Date: Mon, 10 Nov 2003 16:01:56 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Peter,

> I would appreciate some clarification on how to generate multiple =
tokens
> from a single input token.

> In a previous message: (see: http://www.mail-archive.com/lucene-
> user@jakarta.apache.org/msg04875.html), Pierrick Brihaye provides the
> following code: [...]

If you read ahead in the same thread you'll find a post by Erik Hatcher =
who
provides an AliasFilter that does exactly extend TokenFilter and might =
just
be what you're looking for.

HTH
Ren=E9 Hackl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 15:01:26 2003
Return-Path: 
 <lucene-user-return-5885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21043 invoked from network); 10 Nov 2003 15:01:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 15:01:26 -0000
Received: (qmail 41200 invoked by uid 500); 10 Nov 2003 15:01:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41174 invoked by uid 500); 10 Nov 2003 15:01:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41156 invoked from network); 10 Nov 2003 15:01:15 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 10 Nov 2003 15:01:15 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA20742
        for <lucene-user@jakarta.apache.org>;
 Mon, 10 Nov 2003 16:03:54 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA20738
        for <lucene-user@jakarta.apache.org>;
 Mon, 10 Nov 2003 16:03:53 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id QAA10581
        for <lucene-user@jakarta.apache.org>;
 Mon, 10 Nov 2003 16:03:33 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <WSHJ8TC7>; Mon, 10 Nov 2003 16:01:58 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA74@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: multiple tokens from a single input token
Date: Mon, 10 Nov 2003 16:01:58 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3A79B.967948EA"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3A79B.967948EA
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

I experienced the same problem, and I used the following solution =
(maybe not
the good one, but it works, and not too slowly).
The problem was to detect synonyms. I used a synonyms file, made up of =
that
kind of lines :
	a b c
	d e f

to define a, b, and c as synonyms, and d, e and f as ohter synonyms.
So, when my filter received a token 'b' for instance, I wanted it to =
return
three tokens, 'a', 'b' and 'c'.
I used a FIFO stack to solve that.
When the filter receives a token, it checks whether the stack is empty =
or
not. If it is, then it returns the received token. If it is not empty, =
then
it returns the poped (i.e. the first which was pushed. It's better to =
use a
FIFO stack to keep a correct order) value from the stack.
When you receive the 'null' token, indicating the end of stream, then =
you
continue returning the poped values from yoour stack until it is empty. =
Then
you return 'null'.

Hope it will help.

Gilles Moyse

-----Message d'origine-----
De : Peter Keegan [mailto:peter.keegan@charter.net]
Envoy=E9 : lundi 10 novembre 2003 15:43
=C0 : Lucene user's list
Objet : re: multiple tokens from a single input token


I would appreciate some clarification on how to generate multiple =
tokens
from a single input token.

In a previous message: (see:
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04875.html=
),
Pierrick Brihaye provides the following code:

public final Token next() throws IOException {
while (true) {
String emittedText;=20
int positionIncrement =3D 0;=20
//New token ?
if (receivedText.length() =3D=3D 0) {
receivedToken =3D input.next();=20
if (receivedToken =3D=3D null) return null;
receivedText.append(receivedToken.termText());=20
positionIncrement =3D 1;=20
}
emittedText =3D getNextPart();=20
//Warning : all tokens are emitted with the *same* offset
if (emittedText.length() > 0) {
Token emittedToken =3D new Token(emittedText, =
receivedToken.startOffset(),
receivedToken.endOffset());
emittedToken.setPositionIncrement(positionIncrement);
return emittedToken;
}=20
}
}
I assume that you would extend the TokenFilter class and override the =
'next'
method. But what I don't understand is how you return more than one =
Token
(with different settings for 'setpositionIncrement') if the 'next' =
method is
only called once for each input token.

For example, when my custom filter's 'next()' method receives token 'A' =
from
'DocumentWriter.invertDocument()', it wants to return token 'A' and =
token
'B' at the same postion. How is this done? It seems I can only return =
one
token at a time from 'next()'. I think I'm missing something obvious =
:-(

Thanks,
Peter

------_=_NextPart_001_01C3A79B.967948EA--

From MAILER-DAEMON Mon Nov 10 15:14:41 2003
Return-Path: 
 <lucene-user-return-5887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29150 invoked from network); 10 Nov 2003 15:14:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 15:14:41 -0000
Received: (qmail 67997 invoked by uid 500); 10 Nov 2003 15:14:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67970 invoked by uid 500); 10 Nov 2003 15:14:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67938 invoked from network); 10 Nov 2003 15:14:31 -0000
Received: from unknown (HELO hermes.culture.fr) (143.126.201.210)
  by daedalus.apache.org with SMTP; 10 Nov 2003 15:14:31 -0000
Received: by mta.culture.fr with id hAAFEXXC015574
 for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 16:14:33 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.10) with ESMTP id
 <T65d2d4b72d8f7ec9dc56c@pasteur.culture.fr> for
 <lucene-user@jakarta.apache.org>;
 Mon, 10 Nov 2003 16:14:12 +0100
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id
 hAAFEVDS010227
  for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 16:14:32 +0100
Message-ID: <3FAFAB68.1030409@culture.gouv.fr>
Date: Mon, 10 Nov 2003 16:14:48 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR;
 rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: fr-fr, fr
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multiple tokens from a single input token
References: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA74@NGMAIL3>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

MOYSE Gilles (Cetelem) a �crit:

> I experienced the same problem, and I used the following solution (maybe not
> the good one, but it works, and not too slowly).
> The problem was to detect synonyms. I used a synonyms file, made up of that
> kind of lines :
> 	a b c
> 	d e f

Mmmh... 1 for 1. The question was deliberatly a 1 to N tokenization. 
Anyway...

> I used a FIFO stack to solve that.

Yes : the "token stack" does the trick. My code was actually a token 
stack but... less beautiful (and more generic) than the code provided 
just a bit later :-)

> When the filter receives a token, it checks whether the stack is empty or
> not. If it is, then it returns the received token. If it is not empty, then
> it returns the poped (i.e. the first which was pushed. It's better to use a
> FIFO stack to keep a correct order) value from the stack.
> When you receive the 'null' token, indicating the end of stream, then you
> continue returning the poped values from yoour stack until it is empty. Then
> you return 'null'.

That's it.

Please do notice that the stack is necessarily declared outside of the 
next() method, i.e. it is an global instance variable. Maybe Peter 
Keegan missed this point ?

Cheers,

-- 
Pierrick Brihaye, informaticien
Service r�gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 15:36:45 2003
Return-Path: 
 <lucene-user-return-5888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44144 invoked from network); 10 Nov 2003 15:36:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 15:36:45 -0000
Received: (qmail 20703 invoked by uid 500); 10 Nov 2003 15:36:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20670 invoked by uid 500); 10 Nov 2003 15:36:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20649 invoked from network); 10 Nov 2003 15:36:34 -0000
Received: from unknown (HELO mxsf29.cluster1.charter.net) (209.225.28.229)
  by daedalus.apache.org with SMTP; 10 Nov 2003 15:36:34 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf29.cluster1.charter.net (8.12.10/8.12.8) with SMTP id hAAFZgxZ097982
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 10:35:43 -0500 (EST)
	(envelope-from peter.keegan@charter.net)
Message-ID: <020601c3a7a0$32096bb0$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA74@NGMAIL3>
 <3FAFAB68.1030409@culture.gouv.fr>
Subject: Re: multiple tokens from a single input token
Date: Mon, 10 Nov 2003 10:34:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the clarification. I thought there might have been a way to do it
without a stack and without keeping any state information. The AliasFilter
should accomplish the task.

Peter

----- Original Message ----- 
From: "Pierrick Brihaye" <pierrick.brihaye@culture.gouv.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, November 10, 2003 10:14 AM
Subject: Re: multiple tokens from a single input token


Hi,

MOYSE Gilles (Cetelem) a �crit:

> I experienced the same problem, and I used the following solution (maybe
not
> the good one, but it works, and not too slowly).
> The problem was to detect synonyms. I used a synonyms file, made up of
that
> kind of lines :
> a b c
> d e f

Mmmh... 1 for 1. The question was deliberatly a 1 to N tokenization.
Anyway...

> I used a FIFO stack to solve that.

Yes : the "token stack" does the trick. My code was actually a token
stack but... less beautiful (and more generic) than the code provided
just a bit later :-)

> When the filter receives a token, it checks whether the stack is empty or
> not. If it is, then it returns the received token. If it is not empty,
then
> it returns the poped (i.e. the first which was pushed. It's better to use
a
> FIFO stack to keep a correct order) value from the stack.
> When you receive the 'null' token, indicating the end of stream, then you
> continue returning the poped values from yoour stack until it is empty.
Then
> you return 'null'.

That's it.

Please do notice that the stack is necessarily declared outside of the
next() method, i.e. it is an global instance variable. Maybe Peter
Keegan missed this point ?

Cheers,

-- 
Pierrick Brihaye, informaticien
Service r�gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 16:55:57 2003
Return-Path: 
 <lucene-user-return-5889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92627 invoked from network); 10 Nov 2003 16:55:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 16:55:57 -0000
Received: (qmail 13228 invoked by uid 500); 10 Nov 2003 16:55:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13202 invoked by uid 500); 10 Nov 2003 16:55:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13188 invoked from network); 10 Nov 2003 16:55:45 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 10 Nov 2003 16:55:45 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Mon, 10 Nov
 2003 10:59:06 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNLTRABP>; Mon, 10 Nov 2003 10:50:04 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DC8@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Missing pdf document title
Date: Mon, 10 Nov 2003 10:55:31 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13B11C501073829-01-01
Content-Type: text/plain;
 charset=utf-8
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm using lucene demo IndexHTML.java with pdfbox-0.6.4 to index pdf files.
It created the index files.  However, the pdf document title was empty when
I did search.  Any idea on why?

Thanks
Oliver






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 10 17:13:38 2003
Return-Path: 
 <lucene-user-return-5890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2654 invoked from network); 10 Nov 2003 17:13:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Nov 2003 17:13:38 -0000
Received: (qmail 43768 invoked by uid 500); 10 Nov 2003 17:13:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43737 invoked by uid 500); 10 Nov 2003 17:13:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43722 invoked from network); 10 Nov 2003 17:13:25 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 10 Nov 2003 17:13:25 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 31CB1230
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 12:13:28 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 04C1C130F; Mon, 10 Nov 2003 12:13:27 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id D6DBC130E
	for <lucene-user@jakarta.apache.org>; Mon, 10 Nov 2003 12:13:27 -0500 (EST)
Date: Mon, 10 Nov 2003 12:13:27 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Missing pdf document title
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DC8@mccexc02.mcc_genesis.behavioral.com>
Message-ID: <Pine.GSO.4.53.0311101209500.23612@fury.csh.rit.edu>
References: 
 <CD6C59E38692CC4294619611087313760C4F4DC8@mccexc02.mcc_genesis.behavioral.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I would try two things.

1)Is PDFBox getting the title from the document?
You can run this example to find out

java org.pdfbox.examples.pdmodel.PrintDocumentMetaData <input-pdf>

2)Is the lucene field getting properly set in the lucene database.  I
would use luke(http://www.getopt.org/luke/) to verify that lucene is
getting the field.

Other than that I would double check your code that gets the "Title" field
correctly.

Ben

On Mon, 10 Nov 2003, Zhou, Oliver wrote:

> Hi,
>
> I'm using lucene demo IndexHTML.java with pdfbox-0.6.4 to index pdf files.
> It created the index files.  However, the pdf document title was empty when
> I did search.  Any idea on why?
>
> Thanks
> Oliver
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 13:40:57 2003
Return-Path: 
 <lucene-user-return-5892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14642 invoked from network); 11 Nov 2003 13:40:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 13:40:57 -0000
Received: (qmail 94342 invoked by uid 500); 11 Nov 2003 13:40:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94206 invoked by uid 500); 11 Nov 2003 13:40:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94016 invoked from network); 11 Nov 2003 13:40:36 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 11 Nov 2003 13:40:36 -0000
Received: from dsl-213-023-066-007.arcor-ip.net ([213.23.66.7]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AJYSE-00054m-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 14:21:10 +0100
Message-ID: <3FB0E6D5.1060208@media-style.com>
Date: Tue, 11 Nov 2003 14:40:37 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <002601c3a86f$11e21010$0400a8c0@betty>
In-Reply-To: <002601c3a86f$11e21010$0400a8c0@betty>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Marc,

I'm working on it. Classification and Clustering as well.
I was planing doing it for nutch.org, but actually some guys there 
breakup some important basic work I already had done, so may be i will 
not contribute it there.
However it will be open source and I can notice you  if something useful 
is ready.
But it will take some weeks. I actually working on radical minimizing of 
feature selection

Cheers
Stefan



marc wrote:

>Hi,
>
>does anyone have any sample code/documentation available for doing document based clustering using lucene?
>
>Thanks,
>Marc
>
>
>  
>

-- 
day time: www.media-style.com
spare time: www.text-mining.org | www.weta-group.net




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 14:07:18 2003
Return-Path: 
 <lucene-user-return-5893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30263 invoked from network); 11 Nov 2003 14:07:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 14:07:18 -0000
Received: (qmail 26876 invoked by uid 500); 11 Nov 2003 14:07:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26850 invoked by uid 500); 11 Nov 2003 14:07:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26837 invoked from network); 11 Nov 2003 14:07:09 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 11 Nov 2003 14:07:09 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hABE76m3024125
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 15:07:06 +0100
Message-ID: <001301c3a85d$165ec3c0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com>
Subject: Re: Document Clustering
Date: Tue, 11 Nov 2003 15:07:05 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I'm working on it. Classification and Clustering as well.

Very interesting... if you get something working, please don't forget to
notify this list :-)

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:05:11 2003
Return-Path: 
 <lucene-user-return-5894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71996 invoked from network); 11 Nov 2003 15:05:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:05:11 -0000
Received: (qmail 26039 invoked by uid 500); 11 Nov 2003 15:05:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25871 invoked by uid 500); 11 Nov 2003 15:05:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25854 invoked from network); 11 Nov 2003 15:05:01 -0000
Received: from unknown (HELO gic-msg-lin-09.genotec.ch) (212.80.184.219)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:05:00 -0000
Received: by gic-msg-lin-09.genotec.ch (Postfix, from userid 1000)
	id 646EF80F0; Tue, 11 Nov 2003 16:05:01 +0100 (CET)
Received: from 80.238.139.246 ([80.238.139.246])
	by webmail.genotec.ch (IMP) with HTTP
	for <marcel@frightanic.com@localhost>; Tue, 11 Nov 2003 16:05:01 +0100
Message-ID: <1068563101.3fb0fa9d4aa4d@webmail.genotec.ch>
Date: Tue, 11 Nov 2003 16:05:01 +0100
From: Marcel =?iso-8859-1?b?U3T2cg==?= <marcel@frightanic.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
In-Reply-To: <001301c3a85d$165ec3c0$c300000a@caliente>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 80.238.139.246
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

As everybody seems to be so exited about it, would someone please be so kind to explain 
what "document based clustering" is?

Regards,
Marcel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:30:16 2003
Return-Path: 
 <lucene-user-return-5895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90912 invoked from network); 11 Nov 2003 15:30:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:30:16 -0000
Received: (qmail 80293 invoked by uid 500); 11 Nov 2003 15:30:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80266 invoked by uid 500); 11 Nov 2003 15:30:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80253 invoked from network); 11 Nov 2003 15:30:05 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:30:05 -0000
Received: from fw.shark (gprs129-196.eurotel.cz [160.218.129.196])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 21A3D304A3
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 16:30:05 +0100 (CET)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.9/8.12.9) with ESMTP id hABFStS8020555
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 16:28:59 +0100 (CET)
Message-ID: <3FB0FF34.7020702@seznam.cz>
Date: Tue, 11 Nov 2003 16:24:36 +0100
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
 <1068563101.3fb0fa9d4aa4d@webmail.genotec.ch>
In-Reply-To: <1068563101.3fb0fa9d4aa4d@webmail.genotec.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Marcel St�r wrote:

>Hi
>
>As everybody seems to be so exited about it, would someone please be so kind to explain 
>what "document based clustering" is?
>  
>

Hi

they are trying to implement what you can see in the right panel here:
http://www.egothor.dundee.ac.uk/egothor/q2c.jsp?q=protein
They may also analyze identical pages (hit #9 and #10) - this could be 
also taken as "clustering" AFAIK.

For instance, Doug wrote some papers about clustering (if I remember it 
correctly) - see his bibliography.

Leo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:41:41 2003
Return-Path: 
 <lucene-user-return-5896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96720 invoked from network); 11 Nov 2003 15:41:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:41:41 -0000
Received: (qmail 98735 invoked by uid 500); 11 Nov 2003 15:41:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98494 invoked by uid 500); 11 Nov 2003 15:41:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98481 invoked from network); 11 Nov 2003 15:41:30 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:41:30 -0000
Message-ID: <20031111154133.27179.qmail@web12702.mail.yahoo.com>
Received: from [194.152.226.202] by web12702.mail.yahoo.com via HTTP;
 Tue, 11 Nov 2003 07:41:33 PST
Date: Tue, 11 Nov 2003 07:41:33 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document Clustering
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FB0FF34.7020702@seznam.cz>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Leo Galambos <Leo.G@seznam.cz> wrote:
> Marcel St�r wrote:
> 
> >Hi
> >
> >As everybody seems to be so exited about it, would someone please be
> so kind to explain 
> >what "document based clustering" is?

AFAIK, "document clustering" consists of detection of documents with
similar content (similar subjects/topics).
 
> Hi
> 
> they are trying to implement what you can see in the right panel
> here:
> http://www.egothor.dundee.ac.uk/egothor/q2c.jsp?q=protein
> They may also analyze identical pages (hit #9 and #10) - this could
> be 
> also taken as "clustering" AFAIK.

Intersting.

> For instance, Doug wrote some papers about clustering (if I remember
> it 
> correctly) - see his bibliography.


How is document clustering different/related to text categorization?

Thanks,
Otis


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:42:08 2003
Return-Path: 
 <lucene-user-return-5897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96914 invoked from network); 11 Nov 2003 15:42:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:42:08 -0000
Received: (qmail 99594 invoked by uid 500); 11 Nov 2003 15:42:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99353 invoked by uid 500); 11 Nov 2003 15:41:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99340 invoked from network); 11 Nov 2003 15:41:58 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.84)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:41:58 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hABFgjfX007675
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 07:42:45 -0800 (PST)
Received: from [10.0.1.5] (adsl-62-167-192-3.adslplus.ch [62.167.192.3])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hABFfwZq014219
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 07:41:59 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <1068563101.3fb0fa9d4aa4d@webmail.genotec.ch>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
 <1068563101.3fb0fa9d4aa4d@webmail.genotec.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <96B9873A-145D-11D8-A1BB-000393760B7E@mac.com>
Content-Transfer-Encoding: quoted-printable
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document Clustering
Date: Tue, 11 Nov 2003 16:42:00 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 11, 2003, at 16:05, Marcel St=F6r wrote:

> As everybody seems to be so exited about it, would someone please be=20=

> so kind to explain
> what "document based clustering" is?

This mostly means finding document which are "similar" in some way(s).=20=

The "similitude" is mostly in the eyes of the beholder. In such a=20
world, a "cluster" would be a pile of document sharing something. As=20
far as Lucene goes, a straightforward way of approaching this could be=20=

to use an entire document content to query an index. Lucene's result=20
set could be construed as a "document cluster". Admittedly, this is=20
ground zero of "document clustering", but here you go anyway :)

Here is an illustration:

"Patterns in Unstructured Data"
Discovery, Aggregation, and Visualization
http://javelina.cet.middlebury.edu/lsa/out/cover_page.htm

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:50:31 2003
Return-Path: 
 <lucene-user-return-5898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 439 invoked from network); 11 Nov 2003 15:50:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:50:31 -0000
Received: (qmail 14327 invoked by uid 500); 11 Nov 2003 15:50:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14295 invoked by uid 500); 11 Nov 2003 15:50:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14268 invoked from network); 11 Nov 2003 15:50:10 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:50:10 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hABFoDT7001040
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 07:50:13 -0800 (PST)
Received: from [10.0.1.5] (adsl-62-167-192-3.adslplus.ch [62.167.192.3])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hABFoBZq017820
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 07:50:12 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031111154133.27179.qmail@web12702.mail.yahoo.com>
References: <20031111154133.27179.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BC69FA1A-145E-11D8-A1BB-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document Clustering
Date: Tue, 11 Nov 2003 16:50:12 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis,

On Nov 11, 2003, at 16:41, Otis Gospodnetic wrote:

> How is document clustering different/related to text categorization?

Not that I'm an expert in any of this, but clustering is a much more 
"holistic" approach than categorization. Usually, categorization is 
understood as a more precise endeavor (e.g. dmoz.org), while clustering 
is much more "fuzzy" and non-deterministic. Both try to achieve the 
same goal though. So perhaps this is just a question of jargon.

I'm confident that the owner of this site could help bring some light 
on the finer point of clustering vs categorization:

http://www.lissus.com/resources/index.htm

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 15:59:19 2003
Return-Path: 
 <lucene-user-return-5899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5011 invoked from network); 11 Nov 2003 15:59:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 15:59:19 -0000
Received: (qmail 42391 invoked by uid 500); 11 Nov 2003 15:59:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42290 invoked by uid 500); 11 Nov 2003 15:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42275 invoked from network); 11 Nov 2003 15:59:06 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 11 Nov 2003 15:59:06 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: Document Clustering
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Date: Tue, 11 Nov 2003 10:58:49 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE427@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Document Clustering
Thread-Index: AcOoa3iViZJLxcJfSW2UhHNR/u9FnAAAMISg
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Categorization typically assigns documents to a node in a pre-defined =
taxonomy.

For clustering, however, the categorization 'structure' is emergent... =
i.e. the clusters (which are analogous to taxonomy nodes) are created =
dynamically based on the content of the documents at hand.


-----Original Message-----
From: petite_abeille [mailto:petite_abeille@mac.com]
Sent: Tuesday, November 11, 2003 10:50 AM
To: Lucene Users List
Subject: Re: Document Clustering


Hi Otis,

On Nov 11, 2003, at 16:41, Otis Gospodnetic wrote:

> How is document clustering different/related to text categorization?

Not that I'm an expert in any of this, but clustering is a much more=20
"holistic" approach than categorization. Usually, categorization is=20
understood as a more precise endeavor (e.g. dmoz.org), while clustering=20
is much more "fuzzy" and non-deterministic. Both try to achieve the=20
same goal though. So perhaps this is just a question of jargon.

I'm confident that the owner of this site could help bring some light=20
on the finer point of clustering vs categorization:

http://www.lissus.com/resources/index.htm

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 16:02:33 2003
Return-Path: 
 <lucene-user-return-5900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7626 invoked from network); 11 Nov 2003 16:02:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 16:02:33 -0000
Received: (qmail 49617 invoked by uid 500); 11 Nov 2003 16:02:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49397 invoked by uid 500); 11 Nov 2003 16:02:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49379 invoked from network); 11 Nov 2003 16:02:22 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 11 Nov 2003 16:02:22 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hABG2OIZ028186
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 08:02:24 -0800 (PST)
Received: from [10.0.1.5] (adsl-62-167-192-3.adslplus.ch [62.167.192.3])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hABG2NZq022899
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 08:02:24 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE629DE427@sgges01.nstein.com>
References: <5C7A32E240A279479DFF44FDF01BBE629DE427@sgges01.nstein.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <70183810-1460-11D8-A1BB-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document Clustering
Date: Tue, 11 Nov 2003 17:02:23 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 11, 2003, at 16:58, Tate Avery wrote:

> Categorization typically assigns documents to a node in a pre-defined 
> taxonomy.
>
> For clustering, however, the categorization 'structure' is emergent... 
> i.e. the clusters (which are analogous to taxonomy nodes) are created 
> dynamically based on the content of the documents at hand.

Another way to look at it is this:

"An attempt to apply the Dewey Decimal system to an orgy." [1]

Without a Dewey Decimal system that is.

Cheers,

PA.

[1] http://www.eod.com/devil/archive/semantic_web.html


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 13:22:17 2003
Return-Path: 
 <lucene-user-return-5891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5968 invoked from network); 11 Nov 2003 13:22:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 13:22:17 -0000
Received: (qmail 70978 invoked by uid 500); 11 Nov 2003 13:22:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70947 invoked by uid 500); 11 Nov 2003 13:22:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70934 invoked from network); 11 Nov 2003 13:22:08 -0000
Received: from unknown (HELO bioseeker.bioinfocg.com) (66.11.182.46)
  by daedalus.apache.org with SMTP; 11 Nov 2003 13:22:08 -0000
Received: from bioseeker.bioinfocg.com (bioseeker.bioinfocg.com [127.0.0.1])
	by localhost (Postfix) with ESMTP id 6CDDAD5C58
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 08:22:09 -0500 (EST)
Received: from betty (unknown [192.168.0.4])
	by bioseeker.bioinfocg.com (Postfix) with SMTP id 6265ED5C57
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 08:22:09 -0500 (EST)
Message-ID: <002601c3a86f$11e21010$0400a8c0@betty>
From: "marc" <marc@bioseeker.bioinfocg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Document Clustering
Date: Tue, 11 Nov 2003 08:15:49 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0023_01C3A82C.03AAF9F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0023_01C3A82C.03AAF9F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

does anyone have any sample code/documentation available for doing =
document based clustering using lucene?

Thanks,
Marc


------=_NextPart_000_0023_01C3A82C.03AAF9F0--


From MAILER-DAEMON Tue Nov 11 16:41:12 2003
Return-Path: 
 <lucene-user-return-5901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25487 invoked from network); 11 Nov 2003 16:41:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 16:41:12 -0000
Received: (qmail 17370 invoked by uid 500); 11 Nov 2003 16:41:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17183 invoked by uid 500); 11 Nov 2003 16:41:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17170 invoked from network); 11 Nov 2003 16:41:00 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 11 Nov 2003 16:41:00 -0000
Received: from dsl-082-082-082-141.arcor-ip.net ([82.82.82.141]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AJbGo-0005XR-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 17:21:34 +0100
Message-ID: <3FB1111F.4090006@media-style.com>
Date: Tue, 11 Nov 2003 17:41:03 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <20031111154133.27179.qmail@web12702.mail.yahoo.com>
In-Reply-To: <20031111154133.27179.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
>How is document clustering different/related to text categorization?

Clustering: try to find own categories and put documents that match in it. 
You group all documents with minimal distance together. 

Classification: you have already categories and samples for it, that help you to match other documents. 
You calculate document distances to the existing categories and put it in the category with smallest distance.

Cheers
Stefan

-- 
day time: www.media-style.com
spare time: www.text-mining.org | www.weta-group.net




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 17:18:43 2003
Return-Path: 
 <lucene-user-return-5902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50105 invoked from network); 11 Nov 2003 17:18:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 17:18:43 -0000
Received: (qmail 80982 invoked by uid 500); 11 Nov 2003 17:18:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80950 invoked by uid 500); 11 Nov 2003 17:18:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80936 invoked from network); 11 Nov 2003 17:18:29 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 11 Nov 2003 17:18:29 -0000
Message-ID: <20031111171833.31602.qmail@web12708.mail.yahoo.com>
Received: from [194.152.226.202] by web12708.mail.yahoo.com via HTTP;
 Tue, 11 Nov 2003 09:18:33 PST
Date: Tue, 11 Nov 2003 09:18:33 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document Clustering
To: Lucene Users List <lucene-user@jakarta.apache.org>, sg@media-style.com
In-Reply-To: <3FB1111F.4090006@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the clarification, Stefan.  I should have known that... :)

Otis

--- Stefan Groschupf <sg@media-style.com> wrote:
> Hi,
> >How is document clustering different/related to text categorization?
> 
> Clustering: try to find own categories and put documents that match
> in it. 
> You group all documents with minimal distance together. 
> 
> Classification: you have already categories and samples for it, that
> help you to match other documents. 
> You calculate document distances to the existing categories and put
> it in the category with smallest distance.
> 
> Cheers
> Stefan
> 
> -- 
> day time: www.media-style.com
> spare time: www.text-mining.org | www.weta-group.net
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 18:02:04 2003
Return-Path: 
 <lucene-user-return-5903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71724 invoked from network); 11 Nov 2003 18:02:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 18:02:04 -0000
Received: (qmail 42392 invoked by uid 500); 11 Nov 2003 18:01:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41980 invoked by uid 500); 11 Nov 2003 18:01:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41966 invoked from network); 11 Nov 2003 18:01:51 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 11 Nov 2003 18:01:51 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.3/Switch-3.1.0) with ESMTP id hABHsA1S019822
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 10:00:32 -0800 (PST)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Tue, 11 Nov 2003 10:02:12 -0800
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 11 Nov 2003 10:01:53 -0800
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Reopen IndexWriter after delete?
Date: Tue, 11 Nov 2003 10:01:53 -0800
Message-Id: 
 <496A2C679221504D8B8AE4B10267E87602E0A016@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reopen IndexWriter after delete?
Thread-Index: AcOj0X3bI3ejyQkBQrWHvDle5IV+egEqYz2A
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 Nov 2003 18:01:54.0121 (UTC)
 FILETIME=[E3B58B90:01C3A87D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

A couple questions...

1).  If I delete a term using an IndexReader, can I use an existing
IndexWriter to write to the index?  Or do I need to close and reopen the
IndexWriter?

2).  Is it safe to call IndexReader.delete(term) while an IndexWriter is
writing?  Or should I be synchronizing these two tasks so only one
occurs at a time?

Any help is appreciated!
-Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 19:05:57 2003
Return-Path: 
 <lucene-user-return-5905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5789 invoked from network); 11 Nov 2003 19:05:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:05:57 -0000
Received: (qmail 45926 invoked by uid 500); 11 Nov 2003 19:05:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45838 invoked by uid 500); 11 Nov 2003 19:05:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45813 invoked from network); 11 Nov 2003 19:05:42 -0000
Received: from unknown (HELO gic-msg-lin-01.genotec.ch) (212.80.184.211)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:05:42 -0000
Received: from gic-msg-lin-01.genotec.ch (localhost [127.0.0.1])
	by gic-msg-lin-01.virge.genotec.ch (Postfix) with ESMTP id D003D1C365
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 20:05:43 +0100 (CET)
Received: from Tatana (adsl-212-41-75-6.solnet.ch [212.41.75.6])
	by gic-msg-lin-01.genotec.ch (Postfix) with ESMTP id 39AB71C399
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 20:05:36 +0100 (CET)
From: =?us-ascii?Q?Marcel_Stor?= <marcel@frightanic.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Document Clustering
Date: Tue, 11 Nov 2003 20:05:30 +0100
Message-ID: <000f01c3a886$c99a1bf0$0401a8c0@Tatana>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <3FB1111F.4090006@media-style.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan Groschupf wrote:
> Hi,
> > How is document clustering different/related to text categorization?
> 
> Clustering: try to find own categories and put documents that match
> in it. You group all documents with minimal distance together.

Would I be correct to say that you have to define a "distance threshold"
parameter in order to define when to build a new category for a certain
group?

> Classification: you have already categories and samples for
> it, that help you to match other documents.
> You calculate document distances to the existing categories
> and put it in the category with smallest distance.

Regards,
Marcel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 19:02:34 2003
Return-Path: 
 <lucene-user-return-5904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4536 invoked from network); 11 Nov 2003 19:02:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:02:34 -0000
Received: (qmail 36926 invoked by uid 500); 11 Nov 2003 19:02:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36874 invoked by uid 500); 11 Nov 2003 19:02:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36816 invoked from network); 11 Nov 2003 19:02:08 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:02:08 -0000
Received: from [24.232.184.114] (helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AJdmF-0000QN-FZ
	for lucene-user@jakarta.apache.org; Tue, 11 Nov 2003 13:02:11 -0600
Message-ID: <001f01c3a887$0d98b9b0$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Index pdf files with your content in lucene.
Date: Tue, 11 Nov 2003 16:07:28 -0300
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_001C_01C3A86D.E7527BB0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001C_01C3A86D.E7527BB0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Classes for index Pdf and word files in lucene.
Ernesto.

----- Original Message -----
From: "Ernesto De Santis" <edesantis@fibertel.com.ar>
To: <opencms-dev@opencms.org>
Sent: Wednesday, October 29, 2003 12:04 PM
Subject: Re: [opencms-dev] Index pdf files with your content in lucene.


Hello all,

Thans very much Stephan for your valuable help.
Attached you will find the PDFDocument, and WordDocument class source code

Ernesto.


----- Original Message -----
From: "Hartmann, Waehrisch & Feykes GmbH" <hartmann@waehrisch-feykes.de>
To: <opencms-dev@opencms.org>
Sent: Tuesday, October 28, 2003 11:10 AM
Subject: Re: [opencms-dev] Index pdf files with your content in lucene.


> Hi Ernesto,
>
> the IndexManager retrieves a list of files of a folder by calling the
method
> getFilesInFolder of CmsObject. This method returns only empty files, i.e.
> with empty content. To get the content of a pdf file you have to reread
the
> file:
> f = cms.readFile(f.getAbsolutePath());
>
> Bye,
> Stephan
>
> Am Montag, 27. Oktober 2003 19:18 schrieben Sie:
>
> > > Hello
> >
> > Thanks for the previous reply.
> >
> > Now, i use
> > - version 1.4 of lucene searche module. (the version attached in this
list)
> > - new version of registry.xml format for module. (like you write me)
> > - the pdf files are stored with the binary type.
> >
> > But i have the next problem:
> > i can�t make a InputStream for the cmsfile content.
> > For this i write this code in de Document method of my class
PDFDocument:
> >
> > -----------------
> >
> > InputStream in = new ByteArrayInputStream(f.getContents()); //f is the
> > parameter CmsFile of the Document method
> >
> > PDFExtractor extractor = new PDFExtractor(); //PDFExtractor is lib i
use.
> > in file system work fine.
> >
> >
> > bodyText = extractor.extractText(in);
> >
> > ----------------
> >
> > Is correct use ByteArrayInputStream for make a InputStream for a
CmsFile?
> >
> > The error ocurr in the third line.
> > In the PDFParcer.
> > the error menssage in tomcat is:
> >
> > java.io.IOException: Error: Header is corrupt ''
> > at PDFParcer.parse
> > at PDFExtractor.extractText
> > at PDFDocument.Document (my class)
> > at.....
> >
> > By, and thanks.
> > Ernesto.
> >
> >
> > ----- Original Message -----
> >   From: Hartmann, Waehrisch & Feykes GmbH
> >   To: opencms-dev@opencms.org
> >   Sent: Friday, October 24, 2003 4:45 AM
> >   Subject: Re: [opencms-dev] Index pdf files with your content in
lucene.
> >
> >
> >   Hello Ernesto,
> >
> >   i assume you are using the unpatched version 1.3 of the search module.
> >   As i mentioned yesterday, the plainDocFactory does only index cmsFiles
of
> > type "plain" but not of type "binary". PDF files are stored as binary. I
> > suggest to use the version i posted yesterday. Then your registry.xml
would
> > have to look like this: ...
> >   <docFactories>
> >   ...
> >      <docFactory type="plain" enabled="true">
> >   ...
> >      </docFactory>
> >      <docFactory type="binary" enabled="true">
> >         <fileType name="pdftext">
> >            <extension>.pdf</extension>
> >
<class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> >         </fileType>
> >      </docFactory>
> >   ...
> >   </docFactories>
> >
> >   Important: The type attribute must match the file types of OpenCms
(also
> > defined in the registry.xml).
> >
> >   Bye,
> >   Stephan
> >
> >     ----- Original Message -----
> >     From: Ernesto De Santis
> >     To: Lucene Users List
> >     Cc: opencms-dev@opencms.org
> >     Sent: Thursday, October 23, 2003 4:16 PM
> >     Subject: [opencms-dev] Index pdf files with your content in lucene.
> >
> >
> >     Hello
> >
> >     I am new in opencms and lucene tecnology.
> >
> >     I won index pdf files, and index de content of this files.
> >
> >     I work in this way:
> >
> >     Make a PDFDocument class like JspDocument class.
> >     use org.textmining.text.extraction.PDFExtractor class, this class
work
> > fine out of vfs.
> >
> >     and write my registry.xml for pdf document, in plainDocFactory tag.
> >
> >                         <fileType name="pdftext">
> >                             <extension>.pdf</extension>
> >                             <!-- This will strip tags before
processing -->
> >
> > <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > </fileType>
> >
> >     my PDFDocument content this code:
> >     I think that the probrem is how take the content from CmsFile?, what
> > InputStream use? PDFExtractor work with extractText(InputStream) method.
> >
> >     public class PDFDocument implements I_DocumentConstants,
> > I_DocumentFactory {
> >
> >     public PDFDocument(){
> >
> >     }
> >
> >
> >     public Document Document(CmsObject cmsobject, CmsFile cmsfile)
> >
> >     throws CmsException
> >
> >     {
> >
> >     return Document(cmsobject, cmsfile, null);
> >
> >     }
> >
> >     public Document Document(CmsObject cmsobject, CmsFile cmsfile,
HashMap
> > hashmap)
> >
> >     throws CmsException
> >
> >     {
> >
> >     Document document=(new BodylessDocument()).Document(cmsobject,
> > cmsfile);
> >
> >
> >     //put de content in the pdf file.
> >
> >     String contenido = new String(cmsfile.getContents());
> >
> >     StringBufferInputStream in = new StringBufferInputStream(contenido);
> >
> >     // ByteArrayInputStream in = new
> > ByteArrayInputStream(contenido.getBytes());
> >
> >
> >     /* try{
> >
> >     FileInputStream in = new FileInputStream (cmsfile.getPath() +
> > cmsfile.getName());
> >
> >     */
> >
> >     PDFExtractor extractor = new PDFExtractor();
> >
> >     String body = extractor.extractText(in);
> >
> >
> >     document.add(Field.Text("body", body));
> >
> >     /* }catch(FileNotFoundException e){
> >
> >     e.toString();
> >
> >     throw new CmsException();
> >
> >     }
> >
> >
> >     */
> >
> >     return (document);
> >
> >     }
> >
> >
> >     thanks
> >     Ernesto
> >     PD: Sorry for my poor english.
> >
> >
> >
> >
> >     ----- Original Message -----
> >     From: "Hartmann, Waehrisch & Feykes GmbH"
> > <hartmann@waehrisch-feykes.de> To: <opencms-dev@opencms.org>
> >     Sent: Wednesday, October 22, 2003 3:50 AM
> >     Subject: Re: [opencms-dev] (no subject)
> >
> >     > Hi Ben,
> >     >
> >     > i think this won't work since the plainDocFactory will only be
used
> >     > for files of type "plain" but not for files of type "binary".
> >     > Recently we have done some additions to the module - by order of
> >     > Lenord, Bauer & Co. GmbH - that could meet your needs. It
introduces
> >     > a more flexible way of defining docFactories that you can add new
> >     > factories without having to recompile the whole module. So other
> >     > modules (like the news) can bring their own docFactory and all you
> >     > have to do is to edit the registry.xml. Here is an example:
> >     >
> >     >             <docFactories>
> >     >                 <docFactory enabled="true" type="plain">
> >     >                     <fileType name="plaintext">
> >     >                         <extension>.txt</extension>
> >     >
> >     > <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> >     >                     </fileType>
> >     >                 </docFactory>
> >     >                 <docFactory enabled="true" type="news">
> >     >
> >     > <class>net.grcomputing.opencms.search.lucene.NewsDocument</class>
> >     >                 </docFactory>
> >     >             </docFactories>
> >     >
> >     > To index binary files all you need to add is this:
> >     >
> >     >            <docFactory enabled="true" type="binary">
> >     >
> >     >
<class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
> >     >            </docFactory>
> >     >
> >     > There should be no need for an extension mapping.
> >     >
> >     > For the interested people:
> >     > For ContentDefinitions (like news) i introduced the following:
> >     >             <contentDefinitions>
> >     >                 <contentDefinition type="news"> <!-- must match
> >     > docFactory type -->
> >     >
> >     >
<class>com.opencms.modules.homepage.news.NewsContentDefinition</class
> >     >>
> >     >
> >     >
<initClass>net.grcomputing.opencms.search.lucene.NewsInitialization</
> >     >initCla ss>
> >     >                     <listMethod name="getNewsList">
> >     >                         <param type="java.lang.Integer">1</param>
> >     >                         <param type="java.lang.String">-1</param>
> >     >                     </listMethod>
> >     >                     <page uri="/news.html?__element=entry">
> >     >                         <param method="getIntId" name="newsid"/>
> >     >                     </page>
> >     >                 </contentDefinition>
> >     >
> >     > In short:
> >     > initClass is optional: For the news the news classes have to be
> >     > loaded to initialize the db pool.
> >     > listMethod: a method of the content definition class that returns
a
> >     > List of elements
> >     > page: the page that can display an entry. Here a jsp that has a
> >     > template element "entry". It also needs the id of the news item.
> >     > getIntId is a method of the content definition class and newsid is
> >     > the url parameter the page needs. A link like
> >     > news.html?__element=entry&newsid=xy
> >     > will be generated.
> >     >
> >     > Best regards,
> >     > Stephan
> >     >
> >     >
> >     > ----- Original Message -----
> >     > From: "Ben Rometsch" <ben@solidstategroup.com>
> >     > To: <opencms-dev@opencms.org>
> >     > Sent: Wednesday, October 22, 2003 6:15 AM
> >     > Subject: [opencms-dev] (no subject)
> >     >
> >     > > Hi Matt,
> >     > >
> >     > > I am not having any joy! I've updated my registry.xml file, with
> >     > > the appropriate section reading:
> >     > >
> >     > > <luceneSearch>
> >     > > <mergeFactor>100000</mergeFactor>
> >     > > <permCheck>true</permCheck>
> >     > > <indexDir>c:\search</indexDir>
> >     > >
> >     > >
<analyzer>org.apache.lucene.analysis.standard.StandardAnalyzer</ana
> >     > >lyzer> <subsearch>true</subsearch>
> >     > > <project>online</project>
> >     > > <docFactories>
> >     > > <pageDocFactory enabled="true">
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.PageDocument</class>
> >     > > </pageDocFactory>
> >     > > <plainDocFactory enabled="true">
> >     > > <fileType name="plaintext">
> >     > > <extension>.txt</extension>
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> >     > > </fileType>
> >     > > <fileType name="taggedtext">
> >     > > <extension>.html</extension>
> >     > > <extension>.htm</extension>
> >     > > <extension>.xml</extension>
> >     > > <!-- This will strip tags before processing
> >     > > -->
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.TaggedPlainDocument</c
> >     > >lass> </fileType>
> >     > >
> >     > > <!-- Index binary documents -->
> >     > > <fileType name="plaindocument">
> >     > > <extension>.doc</extension>
> >     > > <extension>.xls</extension>
> >     > > <extension>.pdf</extension>
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.BodylessDocument</clas
> >     > >s> </fileType>
> >     > >
> >     > > </plainDocFactory>
> >     > > <jspDocFactory enabled="true">
> >     > >
> >     > > <class>net.grcomputing.opencms.search.lucene.JspDocument</class>
> >     > > </jspDocFactory>
> >     > > <xmlTemplateDocFactory enabled="false"/>
> >     > > </docFactories>
> >     > > <directories>
> >     > > <directory location="/release/">
> >     > > <section>Test</section>
> >     > > <subsearch>true</subsearch>
> >     > > </directory>
> >     > > <directory location="/RGLIntranet/">
> >     > > <section>Test2</section>
> >     > > <subsearch>true</subsearch>
> >     > > </directory>
> >     > > </directories>
> >     > > </luceneSearch>
> >     > >
> >     > > Notice the section beginning after the remark "Index binary
> >     > > documents".
> >     > >
> >     > > But I cannot get any hits when searching for document names that
> >     > > are in
> >     >
> >     > the
> >     >
> >     > > VFS. The other (HTML) searches are working ok. Is the "name"
> >     > > property of
> >     >
> >     > the
> >     >
> >     > > fileType tag important? I wasn't sure what to add here...I'm not
> >     > > quite
> >     >
> >     > sure
> >     >
> >     > > how to move forward. Maybe it would be an idea to add some
> >     > > debugging trace to the BodylessDocument class to see what is
going
> >     > > on inside it? I want to make sure my XML is correct first tho!
> >     > >
> >     > > Thanks for the help,
> >     > > Ben
> >     > >
> >     > > On Thu, 2003-10-16 at 22:46, Ben Rometsch wrote:
> >     > > > Hi Matt,
> >     > > >
> >     > > > Thanks for the reply. If I just want to get the document title
to
> >     > > > be included in the Lucene index, looking at the code in the
> >     > > > net.grcomputing.opencms.search.BodylessDocument class it
appears
> >     > > > to
> >     >
> >     > ignore
> >     >
> >     > > > what the CMSObject is, and attempt to index it regardless. Is
> >     > > > this
> >     > >
> >     > > correct?
> >     > >
> >     > >
> >     > > Correct. It will already index the title, but it will not
attempt
> >     > > to index the body.
> >     > >
> >     > > > If this is the case, is it simply a matter of instructing
Lucene
> >     > > > to
> >     >
> >     > index
> >     >
> >     > > > obects other than HTML files in the VFS  (i.e. Documents) ? Or
> >     > > > would I
> >     > >
> >     > > have
> >     > >
> >     > > > to create another class, something like
> >     > > > net.grcomputing.opencms.search.FileDocument and add a new hook
> >     > > > into that class via the registry.xml fragment?  Or does the
> >     > > > BodyLess document
> >     > >
> >     > > provide
> >     > >
> >     > > > this functionality, and it's just a matter of adding a new XML
> >     > > > fragment
> >     >
> >     > to
> >     >
> >     > > > the registry.xml are?
> >     > >
> >     > > Again, you are right -- simply adding the appropriate
configuration
> >     > > to the registry.xml file will suffice. I believe that you will
just
> >     > > need to extend the plainDocument tag set to include extensions
and
> >     > > processors... I _think_ that binary files get handled by the
plain
> >     > > handler.
> >     > >
> >     > > Matt
> >     > >
> >     > > _______________________________________________
> >     > > This mail is send to you from the opencms-dev mailing list
> >     > > To change your list options, or to unsubscribe from the list,
> >     > > please visit
http://mail.opencms.org/mailman/listinfo/opencms-dev
> >     >
> >     > Stephan Hartmann
> >     > Unternehmensberatung W�hrisch & Feykes GmbH
> >     > Gustav-Adolf-Str. 5
> >     > 47057 Duisburg
> >     >
> >     > Tel.: 0203-373070
> >     > Fax: 0203-376766
> >     > E-Mail: hartmann@wfnetz.de
> >     > Internet: www.wfnetz.de
> >     >
> >     > �ber das Internet versandte E-Mails k�nnen unter fremden Namen
> >     > erstellt oder manipuliert werden. Aus diesem Grund enthalten
unsere
> >     > mit E-Mail verschickten Nachrichten grunds�tzlich keine
> >     > rechtsverbindlichen Willenserkl�rungen.
>
> ----------------------------------------
> Content-Type: text/html; charset="iso-8859-1"; name="Anhang: 1"
> Content-Transfer-Encoding: quoted-printable
> Content-Description:
> ----------------------------------------
>
> --
> Stephan Hartmann
>
> W�hrisch & Feykes GmbH
> Gustav-Adolf-Str. 5
> 47057 Duisburg
> Tel. 0203 / 373 070
> Fax 0203 / 376 766
> hartmann@wfnetz.de
>
> ------------------------------------------------------
> Ausschlusserkl�rung (Disclaimer):
> �ber das Internet versandte E-mails k�nnen unter fremden Namen erstellt
oder
> manipuliert werden. Aus diesem Grund enthalten unsere mit E-mail
verschickten
> Nachrichten grunds�tzlich keine rechtsverbindlichen Willenserkl�rungen.
> _______________________________________________
> This mail is send to you from the opencms-dev mailing list
> To change your list options, or to unsubscribe from the list, please visit
> http://mail.opencms.org/mailman/listinfo/opencms-dev



------=_NextPart_000_001C_01C3A86D.E7527BB0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_001C_01C3A86D.E7527BB0--


From MAILER-DAEMON Tue Nov 11 19:27:57 2003
Return-Path: 
 <lucene-user-return-5906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17305 invoked from network); 11 Nov 2003 19:27:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:27:57 -0000
Received: (qmail 93279 invoked by uid 500); 11 Nov 2003 19:27:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93241 invoked by uid 500); 11 Nov 2003 19:27:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93228 invoked from network); 11 Nov 2003 19:27:41 -0000
Received: from unknown (HELO gremlin.ics.uci.edu) (128.195.1.70)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:27:41 -0000
Received: from ics.uci.edu (pv105178.reshsg.uci.edu [128.195.105.178])
	by gremlin.ics.uci.edu (8.12.10/8.12.10) with ESMTP id hABJQILE017171
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 11:26:19 -0800 (PST)
Date: Tue, 11 Nov 2003 11:31:10 -0800
Subject: Re: Document Clustering
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: "Joshua O'Madadhain" <jmadden@ics.uci.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000f01c3a886$c99a1bf0$0401a8c0@Tatana>
Message-Id: <9A95D6F0-147D-11D8-84CA-000A9591BCE8@ics.uci.edu>
X-Mailer: Apple Mail (2.552)
X-ICS-MailScanner: Found to be clean
X-ICS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-119.3, required 5, EMAIL_ATTRIBUTION, IN_REP_TO,
	MIME_EXCESSIVE_QP, QUOTED_EMAIL_TEXT, REPLY_WITH_QUOTES,
	USER_AGENT_APPLEMAIL, USER_IN_WHITELIST)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, Nov 11, 2003, at 11:05 US/Pacific, Marcel Stor wrote:

> Stefan Groschupf wrote:
>> Hi,
>>> How is document clustering different/related to text categorization?
>>
>> Clustering: try to find own categories and put documents that match
>> in it. You group all documents with minimal distance together.
>
> Would I be correct to say that you have to define a "distance 
> threshold"
> parameter in order to define when to build a new category for a certain
> group?

Depends on the type of clustering algorithm.  Some clustering 
algorithms take the number of clusters as a parameter (in this case the 
algorithm may be run several times with different values, to determine 
the best value).  Other types of algorithms, such as hierarchical 
agglomerative clustering algorithms, work more as you suggest.

Regards,

Joshua O'Madadhain

  jmadden@ics.uci.edu...Obscurium Per 
Obscurius...www.ics.uci.edu/~jmadden
   Joshua O'Madadhain: Information Scientist, Musician, 
Philosopher-At-Tall
  It's that moment of dawning comprehension that I live for--Bill 
Watterson
My opinions are too rational and insightful to be those of any 
organization.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 19:31:30 2003
Return-Path: 
 <lucene-user-return-5907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19019 invoked from network); 11 Nov 2003 19:31:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:31:30 -0000
Received: (qmail 99280 invoked by uid 500); 11 Nov 2003 19:31:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99244 invoked by uid 500); 11 Nov 2003 19:31:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99210 invoked from network); 11 Nov 2003 19:31:13 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:31:13 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.3/Switch-3.1.0) with ESMTP id hABJPf2Q022543
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 11:29:55 -0800 (PST)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Tue, 11 Nov 2003 11:31:35 -0800
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 11 Nov 2003 11:31:16 -0800
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Index pdf files with your content in lucene.
Date: Tue, 11 Nov 2003 11:31:16 -0800
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7DB7@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index pdf files with your content in lucene.
Thread-Index: AcOohqtqWvIhph+FSJSI2voGzcyT2gAA4eIg
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Ernesto De Santis" <edesantis@silex-it.com>
X-OriginalArrivalTime: 11 Nov 2003 19:31:16.0996 (UTC)
 FILETIME=[603B5440:01C3A88A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Some of us have corporate firewalls that are stripping out attachments.  =
If possible, put these on a web site somewhere so we can download them.  =
Thanks!

-----Original Message-----
From: Ernesto De Santis [mailto:ernesto.desantis@colaborativa.net]=20
Sent: Tuesday, November 11, 2003 11:07 AM
To: Lucene Users List
Subject: Index pdf files with your content in lucene.

Classes for index Pdf and word files in lucene.
Ernesto.

----- Original Message -----
From: "Ernesto De Santis" <edesantis@fibertel.com.ar>
To: <opencms-dev@opencms.org>
Sent: Wednesday, October 29, 2003 12:04 PM
Subject: Re: [opencms-dev] Index pdf files with your content in lucene.


Hello all,

Thans very much Stephan for your valuable help.
Attached you will find the PDFDocument, and WordDocument class source =
code

Ernesto.


----- Original Message -----
From: "Hartmann, Waehrisch & Feykes GmbH" <hartmann@waehrisch-feykes.de>
To: <opencms-dev@opencms.org>
Sent: Tuesday, October 28, 2003 11:10 AM
Subject: Re: [opencms-dev] Index pdf files with your content in lucene.


> Hi Ernesto,
>
> the IndexManager retrieves a list of files of a folder by calling the
method
> getFilesInFolder of CmsObject. This method returns only empty files, =
i.e.
> with empty content. To get the content of a pdf file you have to =
reread
the
> file:
> f =3D cms.readFile(f.getAbsolutePath());
>
> Bye,
> Stephan
>
> Am Montag, 27. Oktober 2003 19:18 schrieben Sie:
>
> > > Hello
> >
> > Thanks for the previous reply.
> >
> > Now, i use
> > - version 1.4 of lucene searche module. (the version attached in =
this
list)
> > - new version of registry.xml format for module. (like you write me)
> > - the pdf files are stored with the binary type.
> >
> > But i have the next problem:
> > i can=B4t make a InputStream for the cmsfile content.
> > For this i write this code in de Document method of my class
PDFDocument:
> >
> > -----------------
> >
> > InputStream in =3D new ByteArrayInputStream(f.getContents()); //f is =
the
> > parameter CmsFile of the Document method
> >
> > PDFExtractor extractor =3D new PDFExtractor(); //PDFExtractor is lib =
i
use.
> > in file system work fine.
> >
> >
> > bodyText =3D extractor.extractText(in);
> >
> > ----------------
> >
> > Is correct use ByteArrayInputStream for make a InputStream for a
CmsFile?
> >
> > The error ocurr in the third line.
> > In the PDFParcer.
> > the error menssage in tomcat is:
> >
> > java.io.IOException: Error: Header is corrupt ''
> > at PDFParcer.parse
> > at PDFExtractor.extractText
> > at PDFDocument.Document (my class)
> > at.....
> >
> > By, and thanks.
> > Ernesto.
> >
> >
> > ----- Original Message -----
> >   From: Hartmann, Waehrisch & Feykes GmbH
> >   To: opencms-dev@opencms.org
> >   Sent: Friday, October 24, 2003 4:45 AM
> >   Subject: Re: [opencms-dev] Index pdf files with your content in
lucene.
> >
> >
> >   Hello Ernesto,
> >
> >   i assume you are using the unpatched version 1.3 of the search =
module.
> >   As i mentioned yesterday, the plainDocFactory does only index =
cmsFiles
of
> > type "plain" but not of type "binary". PDF files are stored as =
binary. I
> > suggest to use the version i posted yesterday. Then your =
registry.xml
would
> > have to look like this: ...
> >   <docFactories>
> >   ...
> >      <docFactory type=3D"plain" enabled=3D"true">
> >   ...
> >      </docFactory>
> >      <docFactory type=3D"binary" enabled=3D"true">
> >         <fileType name=3D"pdftext">
> >            <extension>.pdf</extension>
> >
<class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> >         </fileType>
> >      </docFactory>
> >   ...
> >   </docFactories>
> >
> >   Important: The type attribute must match the file types of OpenCms
(also
> > defined in the registry.xml).
> >
> >   Bye,
> >   Stephan
> >
> >     ----- Original Message -----
> >     From: Ernesto De Santis
> >     To: Lucene Users List
> >     Cc: opencms-dev@opencms.org
> >     Sent: Thursday, October 23, 2003 4:16 PM
> >     Subject: [opencms-dev] Index pdf files with your content in =
lucene.
> >
> >
> >     Hello
> >
> >     I am new in opencms and lucene tecnology.
> >
> >     I won index pdf files, and index de content of this files.
> >
> >     I work in this way:
> >
> >     Make a PDFDocument class like JspDocument class.
> >     use org.textmining.text.extraction.PDFExtractor class, this =
class
work
> > fine out of vfs.
> >
> >     and write my registry.xml for pdf document, in plainDocFactory =
tag.
> >
> >                         <fileType name=3D"pdftext">
> >                             <extension>.pdf</extension>
> >                             <!-- This will strip tags before
processing -->
> >
> > <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > </fileType>
> >
> >     my PDFDocument content this code:
> >     I think that the probrem is how take the content from CmsFile?, =
what
> > InputStream use? PDFExtractor work with extractText(InputStream) =
method.
> >
> >     public class PDFDocument implements I_DocumentConstants,
> > I_DocumentFactory {
> >
> >     public PDFDocument(){
> >
> >     }
> >
> >
> >     public Document Document(CmsObject cmsobject, CmsFile cmsfile)
> >
> >     throws CmsException
> >
> >     {
> >
> >     return Document(cmsobject, cmsfile, null);
> >
> >     }
> >
> >     public Document Document(CmsObject cmsobject, CmsFile cmsfile,
HashMap
> > hashmap)
> >
> >     throws CmsException
> >
> >     {
> >
> >     Document document=3D(new BodylessDocument()).Document(cmsobject,
> > cmsfile);
> >
> >
> >     //put de content in the pdf file.
> >
> >     String contenido =3D new String(cmsfile.getContents());
> >
> >     StringBufferInputStream in =3D new =
StringBufferInputStream(contenido);
> >
> >     // ByteArrayInputStream in =3D new
> > ByteArrayInputStream(contenido.getBytes());
> >
> >
> >     /* try{
> >
> >     FileInputStream in =3D new FileInputStream (cmsfile.getPath() +
> > cmsfile.getName());
> >
> >     */
> >
> >     PDFExtractor extractor =3D new PDFExtractor();
> >
> >     String body =3D extractor.extractText(in);
> >
> >
> >     document.add(Field.Text("body", body));
> >
> >     /* }catch(FileNotFoundException e){
> >
> >     e.toString();
> >
> >     throw new CmsException();
> >
> >     }
> >
> >
> >     */
> >
> >     return (document);
> >
> >     }
> >
> >
> >     thanks
> >     Ernesto
> >     PD: Sorry for my poor english.
> >
> >
> >
> >
> >     ----- Original Message -----
> >     From: "Hartmann, Waehrisch & Feykes GmbH"
> > <hartmann@waehrisch-feykes.de> To: <opencms-dev@opencms.org>
> >     Sent: Wednesday, October 22, 2003 3:50 AM
> >     Subject: Re: [opencms-dev] (no subject)
> >
> >     > Hi Ben,
> >     >
> >     > i think this won't work since the plainDocFactory will only be
used
> >     > for files of type "plain" but not for files of type "binary".
> >     > Recently we have done some additions to the module - by order =
of
> >     > Lenord, Bauer & Co. GmbH - that could meet your needs. It
introduces
> >     > a more flexible way of defining docFactories that you can add =
new
> >     > factories without having to recompile the whole module. So =
other
> >     > modules (like the news) can bring their own docFactory and all =
you
> >     > have to do is to edit the registry.xml. Here is an example:
> >     >
> >     >             <docFactories>
> >     >                 <docFactory enabled=3D"true" type=3D"plain">
> >     >                     <fileType name=3D"plaintext">
> >     >                         <extension>.txt</extension>
> >     >
> >     > =
<class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> >     >                     </fileType>
> >     >                 </docFactory>
> >     >                 <docFactory enabled=3D"true" type=3D"news">
> >     >
> >     > =
<class>net.grcomputing.opencms.search.lucene.NewsDocument</class>
> >     >                 </docFactory>
> >     >             </docFactories>
> >     >
> >     > To index binary files all you need to add is this:
> >     >
> >     >            <docFactory enabled=3D"true" type=3D"binary">
> >     >
> >     >
<class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
> >     >            </docFactory>
> >     >
> >     > There should be no need for an extension mapping.
> >     >
> >     > For the interested people:
> >     > For ContentDefinitions (like news) i introduced the following:
> >     >             <contentDefinitions>
> >     >                 <contentDefinition type=3D"news"> <!-- must =
match
> >     > docFactory type -->
> >     >
> >     >
<class>com.opencms.modules.homepage.news.NewsContentDefinition</class
> >     >>
> >     >
> >     >
<initClass>net.grcomputing.opencms.search.lucene.NewsInitialization</
> >     >initCla ss>
> >     >                     <listMethod name=3D"getNewsList">
> >     >                         <param =
type=3D"java.lang.Integer">1</param>
> >     >                         <param =
type=3D"java.lang.String">-1</param>
> >     >                     </listMethod>
> >     >                     <page =
uri=3D"/news.html?__element=3Dentry">
> >     >                         <param method=3D"getIntId" =
name=3D"newsid"/>
> >     >                     </page>
> >     >                 </contentDefinition>
> >     >
> >     > In short:
> >     > initClass is optional: For the news the news classes have to =
be
> >     > loaded to initialize the db pool.
> >     > listMethod: a method of the content definition class that =
returns
a
> >     > List of elements
> >     > page: the page that can display an entry. Here a jsp that has =
a
> >     > template element "entry". It also needs the id of the news =
item.
> >     > getIntId is a method of the content definition class and =
newsid is
> >     > the url parameter the page needs. A link like
> >     > news.html?__element=3Dentry&newsid=3Dxy
> >     > will be generated.
> >     >
> >     > Best regards,
> >     > Stephan
> >     >
> >     >
> >     > ----- Original Message -----
> >     > From: "Ben Rometsch" <ben@solidstategroup.com>
> >     > To: <opencms-dev@opencms.org>
> >     > Sent: Wednesday, October 22, 2003 6:15 AM
> >     > Subject: [opencms-dev] (no subject)
> >     >
> >     > > Hi Matt,
> >     > >
> >     > > I am not having any joy! I've updated my registry.xml file, =
with
> >     > > the appropriate section reading:
> >     > >
> >     > > <luceneSearch>
> >     > > <mergeFactor>100000</mergeFactor>
> >     > > <permCheck>true</permCheck>
> >     > > <indexDir>c:\search</indexDir>
> >     > >
> >     > >
<analyzer>org.apache.lucene.analysis.standard.StandardAnalyzer</ana
> >     > >lyzer> <subsearch>true</subsearch>
> >     > > <project>online</project>
> >     > > <docFactories>
> >     > > <pageDocFactory enabled=3D"true">
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.PageDocument</class>
> >     > > </pageDocFactory>
> >     > > <plainDocFactory enabled=3D"true">
> >     > > <fileType name=3D"plaintext">
> >     > > <extension>.txt</extension>
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> >     > > </fileType>
> >     > > <fileType name=3D"taggedtext">
> >     > > <extension>.html</extension>
> >     > > <extension>.htm</extension>
> >     > > <extension>.xml</extension>
> >     > > <!-- This will strip tags before processing
> >     > > -->
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.TaggedPlainDocument</c
> >     > >lass> </fileType>
> >     > >
> >     > > <!-- Index binary documents -->
> >     > > <fileType name=3D"plaindocument">
> >     > > <extension>.doc</extension>
> >     > > <extension>.xls</extension>
> >     > > <extension>.pdf</extension>
> >     > >
> >     > >
<class>net.grcomputing.opencms.search.lucene.BodylessDocument</clas
> >     > >s> </fileType>
> >     > >
> >     > > </plainDocFactory>
> >     > > <jspDocFactory enabled=3D"true">
> >     > >
> >     > > =
<class>net.grcomputing.opencms.search.lucene.JspDocument</class>
> >     > > </jspDocFactory>
> >     > > <xmlTemplateDocFactory enabled=3D"false"/>
> >     > > </docFactories>
> >     > > <directories>
> >     > > <directory location=3D"/release/">
> >     > > <section>Test</section>
> >     > > <subsearch>true</subsearch>
> >     > > </directory>
> >     > > <directory location=3D"/RGLIntranet/">
> >     > > <section>Test2</section>
> >     > > <subsearch>true</subsearch>
> >     > > </directory>
> >     > > </directories>
> >     > > </luceneSearch>
> >     > >
> >     > > Notice the section beginning after the remark "Index binary
> >     > > documents".
> >     > >
> >     > > But I cannot get any hits when searching for document names =
that
> >     > > are in
> >     >
> >     > the
> >     >
> >     > > VFS. The other (HTML) searches are working ok. Is the "name"
> >     > > property of
> >     >
> >     > the
> >     >
> >     > > fileType tag important? I wasn't sure what to add here...I'm =
not
> >     > > quite
> >     >
> >     > sure
> >     >
> >     > > how to move forward. Maybe it would be an idea to add some
> >     > > debugging trace to the BodylessDocument class to see what is
going
> >     > > on inside it? I want to make sure my XML is correct first =
tho!
> >     > >
> >     > > Thanks for the help,
> >     > > Ben
> >     > >
> >     > > On Thu, 2003-10-16 at 22:46, Ben Rometsch wrote:
> >     > > > Hi Matt,
> >     > > >
> >     > > > Thanks for the reply. If I just want to get the document =
title
to
> >     > > > be included in the Lucene index, looking at the code in =
the
> >     > > > net.grcomputing.opencms.search.BodylessDocument class it
appears
> >     > > > to
> >     >
> >     > ignore
> >     >
> >     > > > what the CMSObject is, and attempt to index it regardless. =
Is
> >     > > > this
> >     > >
> >     > > correct?
> >     > >
> >     > >
> >     > > Correct. It will already index the title, but it will not
attempt
> >     > > to index the body.
> >     > >
> >     > > > If this is the case, is it simply a matter of instructing
Lucene
> >     > > > to
> >     >
> >     > index
> >     >
> >     > > > obects other than HTML files in the VFS  (i.e. Documents) =
? Or
> >     > > > would I
> >     > >
> >     > > have
> >     > >
> >     > > > to create another class, something like
> >     > > > net.grcomputing.opencms.search.FileDocument and add a new =
hook
> >     > > > into that class via the registry.xml fragment?  Or does =
the
> >     > > > BodyLess document
> >     > >
> >     > > provide
> >     > >
> >     > > > this functionality, and it's just a matter of adding a new =
XML
> >     > > > fragment
> >     >
> >     > to
> >     >
> >     > > > the registry.xml are?
> >     > >
> >     > > Again, you are right -- simply adding the appropriate
configuration
> >     > > to the registry.xml file will suffice. I believe that you =
will
just
> >     > > need to extend the plainDocument tag set to include =
extensions
and
> >     > > processors... I _think_ that binary files get handled by the
plain
> >     > > handler.
> >     > >
> >     > > Matt
> >     > >
> >     > > _______________________________________________
> >     > > This mail is send to you from the opencms-dev mailing list
> >     > > To change your list options, or to unsubscribe from the =
list,
> >     > > please visit
http://mail.opencms.org/mailman/listinfo/opencms-dev
> >     >
> >     > Stephan Hartmann
> >     > Unternehmensberatung W=E4hrisch & Feykes GmbH
> >     > Gustav-Adolf-Str. 5
> >     > 47057 Duisburg
> >     >
> >     > Tel.: 0203-373070
> >     > Fax: 0203-376766
> >     > E-Mail: hartmann@wfnetz.de
> >     > Internet: www.wfnetz.de
> >     >
> >     > =DCber das Internet versandte E-Mails k=F6nnen unter fremden =
Namen
> >     > erstellt oder manipuliert werden. Aus diesem Grund enthalten
unsere
> >     > mit E-Mail verschickten Nachrichten grunds=E4tzlich keine
> >     > rechtsverbindlichen Willenserkl=E4rungen.
>
> ----------------------------------------
> Content-Type: text/html; charset=3D"iso-8859-1"; name=3D"Anhang: 1"
> Content-Transfer-Encoding: quoted-printable
> Content-Description:
> ----------------------------------------
>
> --
> Stephan Hartmann
>
> W=E4hrisch & Feykes GmbH
> Gustav-Adolf-Str. 5
> 47057 Duisburg
> Tel. 0203 / 373 070
> Fax 0203 / 376 766
> hartmann@wfnetz.de
>
> ------------------------------------------------------
> Ausschlusserkl=E4rung (Disclaimer):
> =DCber das Internet versandte E-mails k=F6nnen unter fremden Namen =
erstellt
oder
> manipuliert werden. Aus diesem Grund enthalten unsere mit E-mail
verschickten
> Nachrichten grunds=E4tzlich keine rechtsverbindlichen =
Willenserkl=E4rungen.
> _______________________________________________
> This mail is send to you from the opencms-dev mailing list
> To change your list options, or to unsubscribe from the list, please =
visit
> http://mail.opencms.org/mailman/listinfo/opencms-dev




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 19:32:03 2003
Return-Path: 
 <lucene-user-return-5908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19196 invoked from network); 11 Nov 2003 19:32:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:32:03 -0000
Received: (qmail 2437 invoked by uid 500); 11 Nov 2003 19:31:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2411 invoked by uid 500); 11 Nov 2003 19:31:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2365 invoked from network); 11 Nov 2003 19:31:47 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:31:47 -0000
Received: from dsl-213-023-061-087.arcor-ip.net ([213.23.61.87]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AJdw5-00061D-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 20:12:21 +0100
Message-ID: <3FB13929.8060705@media-style.com>
Date: Tue, 11 Nov 2003 20:31:53 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <000f01c3a886$c99a1bf0$0401a8c0@Tatana>
In-Reply-To: <000f01c3a886$c99a1bf0$0401a8c0@Tatana>
Content-Type: multipart/alternative;
 boundary="------------030607050201080706040601"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------030607050201080706040601
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit



Marcel Stor wrote:

>Stefan Groschupf wrote:
>  
>
>>Hi,
>>    
>>
>>>How is document clustering different/related to text categorization?
>>>      
>>>
>>Clustering: try to find own categories and put documents that match
>>in it. You group all documents with minimal distance together.
>>    
>>
>
>Would I be correct to say that you have to define a "distance threshold"
>parameter in order to define when to build a new category for a certain
>group?
>  
>
I'm not sure. There are different data mining algorithms that could be used. Depends on this algoritm. I prefer Support vector machines(SVM). There you calculate distances of multi demensional vectors in a multidemensional "room".
One vector represent one document. 

Stefan



--------------030607050201080706040601--



From MAILER-DAEMON Tue Nov 11 19:38:53 2003
Return-Path: 
 <lucene-user-return-5909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22156 invoked from network); 11 Nov 2003 19:38:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 19:38:53 -0000
Received: (qmail 13852 invoked by uid 500); 11 Nov 2003 19:38:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13817 invoked by uid 500); 11 Nov 2003 19:38:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13744 invoked from network); 11 Nov 2003 19:38:26 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 11 Nov 2003 19:38:26 -0000
Received: from smail.uni-koeln.de (xdsl-213-168-110-105.netcologne.de
 [213.168.110.105])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hABJcSBq005427
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 20:38:29 +0100
Message-ID: <3FB13A96.9090108@smail.uni-koeln.de>
Date: Tue, 11 Nov 2003 20:37:58 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: fuzzy searches
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello ,

now that the topic is clustering methods: has there been any effort in 
implementing Latent semantic indexing in Lucene? Google only indicates 
someone else asking this in february.
Is there an overview of the structure of the index of lucene despite of 
the javadoc or any other fast access to understanding what happens 
inside lucene?

regards

thomas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 20:00:32 2003
Return-Path: 
 <lucene-user-return-5910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32385 invoked from network); 11 Nov 2003 20:00:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 20:00:32 -0000
Received: (qmail 72208 invoked by uid 500); 11 Nov 2003 20:00:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72177 invoked by uid 500); 11 Nov 2003 20:00:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72164 invoked from network); 11 Nov 2003 20:00:16 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 11 Nov 2003 20:00:16 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AJegW-0004uD-V0
	for lucene-user@jakarta.apache.org; Wed, 12 Nov 2003 09:00:20 +1300
Message-ID: <3FB13FD4.6070505@cs.waikato.ac.nz>
Date: Wed, 12 Nov 2003 09:00:20 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: fuzzy searches
References: <3FB13A96.9090108@smail.uni-koeln.de>
In-Reply-To: <3FB13A96.9090108@smail.uni-koeln.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Thomas Kr�mer wrote:

>
> Is there an overview of the structure of the index of lucene despite 
> of the javadoc or any other fast access to understanding what happens 
> inside lucene?
>
You mean something like this?:

http://jakarta.apache.org/lucene/docs/fileformats.html

cheers,
Gerret


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 20:03:11 2003
Return-Path: 
 <lucene-user-return-5911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33423 invoked from network); 11 Nov 2003 20:03:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 20:03:11 -0000
Received: (qmail 75272 invoked by uid 500); 11 Nov 2003 20:02:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75240 invoked by uid 500); 11 Nov 2003 20:02:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75226 invoked from network); 11 Nov 2003 20:02:55 -0000
Received: from unknown (HELO jive.servlets.net) (209.162.192.250)
  by daedalus.apache.org with SMTP; 11 Nov 2003 20:02:55 -0000
Received: from jivesoftware.com
 (CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com [24.153.2.131])
	(authenticated bits=0)
	by jive.servlets.net (8.12.8/8.12.8) with ESMTP id hABK2osX020522
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 12:03:00 -0800
Message-ID: <3FB1406A.4070705@jivesoftware.com>
Date: Tue, 11 Nov 2003 15:02:50 -0500
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-ca, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: fuzzy searches
References: <3FB13A96.9090108@smail.uni-koeln.de>
In-Reply-To: <3FB13A96.9090108@smail.uni-koeln.de>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature";
 micalg=sha1; boundary="------------ms020302050604070401000006"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------ms020302050604070401000006
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Thomas Kr�mer wrote:
> now that the topic is clustering methods: has there been any effort in 
> implementing Latent semantic indexing in Lucene? Google only indicates 
> someone else asking this in february.

Just a note the LSI is encumbered by US patents 4,839,853 and 5,301,109. It would be wise to make 
sure that any implementation is either blessed by the patent holders or does not infringe on the 
patents.


Regards,

Bruce Ritchie


--------------ms020302050604070401000006
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIII/TCC
AtkwggJCoAMCAQICAwrLgDANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UE
ChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNv
bmFsIEZyZWVtYWlsIElzc3VpbmcgQ0EwHhcNMDMwOTIzMTkzNjM3WhcNMDQwOTIyMTkzNjM3
WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSUwIwYJKoZIhvcNAQkBFhZi
cnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
ozJPHo8aUH2MrrLnFrmybY38uC8nlm26vBAPgGhSMthJlA0ShY9zAs4qGPyX1fIcANCKw0yP
QDESRRySYPcRYMBnwaeqtIwldTb1GTA6DAvZ/jpkM16DbAId17O86+4NeV7WoR+IguiyEUJq
IqecxdGiJsLi8xNM0rPan91sWTA+30kPvW12IU6MIa4XInPUazLqzZmA3CHoQJ2qorYCUx1c
P3VW2fbWMjpfis67MalWcFuBtThFuq5qsZMBEkFekoKPu2cpmjlKddrGj9+54U1CWBVQMl+9
HSB1/qhl1La8BYRhaZ5UG3c0za9yultXL9k1GxfZYVqDy2iMI5+ejQIDAQABozMwMTAhBgNV
HREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcN
AQEEBQADgYEAEwi3SlYetSCzK5DLkClPMgTOM+P0qrIAFt+ar8uMZwr3xqFOxZlt6/qMHoXA
aOEWhZkHJ2dq8ebxjSdGXQF6/jKB42CEmYXmP6umb/2DBE6bVTy9aksnMnKeSyuqP1HWwlCf
5+Vk811biLueAupunISEh7P0bQXUgVtVVbOtAfIwggLZMIICQqADAgECAgMKy4AwDQYJKoZI
hvcNAQEEBQAwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQ
dHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENB
MB4XDTAzMDkyMzE5MzYzN1oXDTA0MDkyMjE5MzYzN1owSDEfMB0GA1UEAxMWVGhhd3RlIEZy
ZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTCC
ASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMyTx6PGlB9jK6y5xa5sm2N/LgvJ5Zt
urwQD4BoUjLYSZQNEoWPcwLOKhj8l9XyHADQisNMj0AxEkUckmD3EWDAZ8GnqrSMJXU29Rkw
OgwL2f46ZDNeg2wCHdezvOvuDXle1qEfiILoshFCaiKnnMXRoibC4vMTTNKz2p/dbFkwPt9J
D71tdiFOjCGuFyJz1Gsy6s2ZgNwh6ECdqqK2AlMdXD91Vtn21jI6X4rOuzGpVnBbgbU4Rbqu
arGTARJBXpKCj7tnKZo5SnXaxo/fueFNQlgVUDJfvR0gdf6oZdS2vAWEYWmeVBt3NM2vcrpb
Vy/ZNRsX2WFag8tojCOfno0CAwEAAaMzMDEwIQYDVR0RBBowGIEWYnJ1Y2VAaml2ZXNvZnR3
YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUAA4GBABMIt0pWHrUgsyuQy5Ap
TzIEzjPj9KqyABbfmq/LjGcK98ahTsWZbev6jB6FwGjhFoWZBydnavHm8Y0nRl0Bev4ygeNg
hJmF5j+rpm/9gwROm1U8vWpLJzJynksrqj9R1sJQn+flZPNdW4i7ngLqbpyEhIez9G0F1IFb
VVWzrQHyMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0BAQUFADCB0TELMAkGA1UEBhMCWkEx
FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFU
aGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZp
c2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcN
AQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAwMDAwMFoXDTEz
MDcxNjIzNTk1OVowYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5n
IChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5n
IENBMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/
ox7svc31W/Iadr1/DDph8r9RzgHU5VAKMNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2
JCoTzyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wID
AQABo4GUMIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDov
L2NybC50aGF3dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJlZW1haWxDQS5jcmwwCwYDVR0PBAQD
AgEGMCkGA1UdEQQiMCCkHjAcMRowGAYDVQQDExFQcml2YXRlTGFiZWwyLTEzODANBgkqhkiG
9w0BAQUFAAOBgQBIjNFQg+oLLswNo2asZw9/r6y+whehQ5aUnX9MIbj4Nh+qLZ82L8D0HFAg
k3A8/a3hYWLD2ToZfoSxmRsAxRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowgT2Vfldr394fWxghO
rvbqNOUQGls1TXfjViF4gtwhGTXeJLHTHUb/XV9lTzGCAzswggM3AgEBMGkwYjELMAkGA1UE
BhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMT
I1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwCQYFKw4DAhoFAKCC
AacwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMxMTExMjAw
MjUwWjAjBgkqhkiG9w0BCQQxFgQUjDiVhW+OnNKtJnWmOr3Uc488AZIwUgYJKoZIhvcNAQkP
MUUwQzAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4D
AgcwDQYIKoZIhvcNAwICASgweAYJKwYBBAGCNxAEMWswaTBiMQswCQYDVQQGEwJaQTElMCMG
A1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBl
cnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwrLgDB6BgsqhkiG9w0BCRACCzFroGkwYjEL
MAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAq
BgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwDQYJKoZI
hvcNAQEBBQAEggEANApnnKC9KUEa2eaM+Rh+trhbCx2/DbSy55bVv8vVH9HQ7CXkTe/US9n+
tXuCaSbRdDsbplx8SRvgMmtwhOWsfmjmur6YrADBTaRbw5uvpcRWUpZ7nH8z4cX9TMwYcapc
3CXOsvWDRYhG+fgDcyJ8/GkJBeyx0HULfYKDq+aPt1m02HJfN//ebYgW2CH6u5BT0/7fP2+n
vxW24V/IuRhIzDaEHmyLzbJBLaVS5VSOJARqrlJZfBHkti6ODoXwgDyo/g26IkWDM8xrWiIr
WZy+KtmZir3k5mzNOAT/HwcHM104LZBR4ysbKYdXysswrrQ4uQnvRoYh+UZACYjdtSP/tAAA
AAAAAA==
--------------ms020302050604070401000006--


From MAILER-DAEMON Tue Nov 11 20:20:26 2003
Return-Path: 
 <lucene-user-return-5912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49904 invoked from network); 11 Nov 2003 20:20:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 20:20:26 -0000
Received: (qmail 20293 invoked by uid 500); 11 Nov 2003 20:20:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20083 invoked by uid 500); 11 Nov 2003 20:20:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20070 invoked from network); 11 Nov 2003 20:20:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 11 Nov 2003 20:20:11 -0000
Received: (cpmta 25984 invoked from network); 11 Nov 2003 12:20:15 -0800
Received: from 128.143.103.101 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 11 Nov 2003 12:20:15 -0800
X-Sent: 11 Nov 2003 20:20:15 GMT
Date: Tue, 11 Nov 2003 15:20:31 -0500
Subject: Re: fuzzy searches
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3FB13A96.9090108@smail.uni-koeln.de>
Message-Id: <7F713F6D-1484-11D8-B5F9-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 11, 2003, at 02:37  PM, Thomas Kr=E4mer wrote:
> Is there an overview of the structure of the index of lucene despite=20=

> of the javadoc or any other fast access to understanding what happens=20=

> inside lucene?

Here is what is inside a Lucene index: =20
http://jakarta.apache.org/lucene/docs/fileformats.html



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 20:30:56 2003
Return-Path: 
 <lucene-user-return-5913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53509 invoked from network); 11 Nov 2003 20:30:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 20:30:56 -0000
Received: (qmail 36864 invoked by uid 500); 11 Nov 2003 20:30:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36830 invoked by uid 500); 11 Nov 2003 20:30:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36817 invoked from network); 11 Nov 2003 20:30:39 -0000
Received: from unknown (HELO smtp-out.quicknet.nl) (213.73.255.38)
  by daedalus.apache.org with SMTP; 11 Nov 2003 20:30:39 -0000
Received: from vmx10.multikabel.net (vmx10.multikabel.net [212.127.254.136])
 by mta1.priv.quicknet.nl
 (iPlanet Messaging Server 5.2 HotFix 1.21 (built Sep  8 2003))
 with ESMTP id <0HO700BTIFLB1D@mta1.priv.quicknet.nl> for
 lucene-user@jakarta.apache.org; Tue, 11 Nov 2003 21:29:35 +0100 (MET)
Received: from whale (qn-213-73-232-226.quicknet.nl [213.73.232.226])
	by vmx10.multikabel.net (8.12.8/8.12.8) with SMTP id hABKTVPT031030; Tue,
 11 Nov 2003 21:29:31 +0100
Date: Tue, 11 Nov 2003 21:32:25 +0100
From: maurits van wijland <m.vanwijland@quicknet.nl>
Subject: Re: Document Clustering
To: Lucene Users List <lucene-user@jakarta.apache.org>,
 marc@bioseeker.bioinfocg.com
Message-id: <013301c3a892$eb31b1e0$0200a8c0@whale>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-MultiKabel-MailScanner-Information: Please contact helpdesk@quicknet.nl for
 more information
X-MultiKabel-MailScanner: Found to be clean
References: <002601c3a86f$11e21010$0400a8c0@betty>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All and Marc,

There is the carrot project :
http://www.cs.put.poznan.pl/dweiss/carrot/

The carrot system consists of webservices that can easily be fed by a lucene
resultlist. You simply have to create a JSP that creates this XML file and
create a custom process and input component. The input component
for lucene could look like:

<?xml version="1.0" encoding="UTF-8"?>
<service xmlns      =
"http://www.dawidweiss.com/projects/carrot/componentDescriptor" framework  =
"Carrot2">
    <component id               = "carrot2.input.lucene"
               type             = "input"
               serviceURL       = "http://localhost/weblucene/c2.jsp"
               infoURL          = "http://localhost/weblucene/"
    />
</service>

The c2.jsp file simply has to translate a resultlist into an XLM file such
as:
<searchresult>
    <document id="1">
 <title>...</title>
 <weight>1.0</weight>
 <url>http://...</url>
 <summary>sum 1</summary>
 <snippet>snip 2</snippet>
    </document>
    <document id="2">
 <title>...</title>
 <weight>1.0</weight>
 <url>http://...</url>
 <summary>sum 2</summary>
 <snippet>snip 2</snippet>
    </document>
</searchresult>

Feed this into the carrot system, and you will get a nice clustered
result list. The amazing part is of this clustering mechanism is that
the cluster labels are incredible, their great!

Then there is a open source project called Classifier4J that can
be used for classification, the oposite of clustering. These other
open source projects are a great addition to the Lucene system.

I hope this helps...

Marc, what are you building?? Maybe we can help!

Kind regards,

Maurits


----- Original Message ----- 
From: "marc" <marc@bioseeker.bioinfocg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 11, 2003 5:15 PM
Subject: Document Clustering


Hi,

does anyone have any sample code/documentation available for doing document
based clustering using lucene?

Thanks,
Marc



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 20:47:53 2003
Return-Path: 
 <lucene-user-return-5914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60809 invoked from network); 11 Nov 2003 20:47:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 20:47:53 -0000
Received: (qmail 62440 invoked by uid 500); 11 Nov 2003 20:47:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62413 invoked by uid 500); 11 Nov 2003 20:47:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62400 invoked from network); 11 Nov 2003 20:47:37 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 11 Nov 2003 20:47:37 -0000
Received: from dsl-213-023-061-087.arcor-ip.net ([213.23.61.87]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AJf7T-0006Br-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 21:28:11 +0100
Message-ID: <3FB14AED.3090800@media-style.com>
Date: Tue, 11 Nov 2003 21:47:41 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <013301c3a892$eb31b1e0$0200a8c0@whale>
In-Reply-To: <013301c3a892$eb31b1e0$0200a8c0@whale>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

really cool Stuff!!!

maurits van wijland wrote:

>Hi All and Marc,
>
>There is the carrot project :
>http://www.cs.put.poznan.pl/dweiss/carrot/
>
>The carrot system consists of webservices that can easily be fed by a lucene
>resultlist. You simply have to create a JSP that creates this XML file and
>create a custom process and input component. The input component
>for lucene could look like:
>
><?xml version="1.0" encoding="UTF-8"?>
><service xmlns      =
>"http://www.dawidweiss.com/projects/carrot/componentDescriptor" framework  =
>"Carrot2">
>    <component id               = "carrot2.input.lucene"
>               type             = "input"
>               serviceURL       = "http://localhost/weblucene/c2.jsp"
>               infoURL          = "http://localhost/weblucene/"
>    />
></service>
>
>The c2.jsp file simply has to translate a resultlist into an XLM file such
>as:
><searchresult>
>    <document id="1">
> <title>...</title>
> <weight>1.0</weight>
> <url>http://...</url>
> <summary>sum 1</summary>
> <snippet>snip 2</snippet>
>    </document>
>    <document id="2">
> <title>...</title>
> <weight>1.0</weight>
> <url>http://...</url>
> <summary>sum 2</summary>
> <snippet>snip 2</snippet>
>    </document>
></searchresult>
>
>Feed this into the carrot system, and you will get a nice clustered
>result list. The amazing part is of this clustering mechanism is that
>the cluster labels are incredible, their great!
>
>Then there is a open source project called Classifier4J that can
>be used for classification, the oposite of clustering. These other
>open source projects are a great addition to the Lucene system.
>
>I hope this helps...
>
>Marc, what are you building?? Maybe we can help!
>
>Kind regards,
>
>Maurits
>
>
>----- Original Message ----- 
>From: "marc" <marc@bioseeker.bioinfocg.com>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Tuesday, November 11, 2003 5:15 PM
>Subject: Document Clustering
>
>
>Hi,
>
>does anyone have any sample code/documentation available for doing document
>based clustering using lucene?
>
>Thanks,
>Marc
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>

-- 
day time: www.media-style.com
spare time: www.text-mining.org | www.weta-group.net




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 22:46:49 2003
Return-Path: 
 <lucene-user-return-5915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17618 invoked from network); 11 Nov 2003 22:46:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 22:46:49 -0000
Received: (qmail 46222 invoked by uid 500); 11 Nov 2003 22:46:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46195 invoked by uid 500); 11 Nov 2003 22:46:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46182 invoked from network); 11 Nov 2003 22:46:30 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 11 Nov 2003 22:46:30 -0000
Message-ID: <20031111224637.45190.qmail@web12705.mail.yahoo.com>
Received: from [195.29.133.46] by web12705.mail.yahoo.com via HTTP;
 Tue, 11 Nov 2003 14:46:37 PST
Date: Tue, 11 Nov 2003 14:46:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Reopen IndexWriter after delete?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E87602E0A016@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> 1).  If I delete a term using an IndexReader, can I use an existing
> IndexWriter to write to the index?  Or do I need to close and reopen
> the IndexWriter?

No.  You should close IndexWriter first, then open IndexReader, then
call delete, then close IndexReader, and then open a new IndexWriter.

> 2).  Is it safe to call IndexReader.delete(term) while an IndexWriter
> is
> writing?  Or should I be synchronizing these two tasks so only one
> occurs at a time?

No, it is not safe.  You should close the IndexWriter, then delete the
document and close IndexReader, and then get a new IndexWriter and
continue writing.

Incidentally, I just wrote a section about concurrency issues and about
locking in Lucene for the upcoming Lucene book.

Otis


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 22:58:37 2003
Return-Path: 
 <lucene-user-return-5916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23378 invoked from network); 11 Nov 2003 22:58:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 22:58:37 -0000
Received: (qmail 57872 invoked by uid 500); 11 Nov 2003 22:58:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57840 invoked by uid 500); 11 Nov 2003 22:58:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57821 invoked from network); 11 Nov 2003 22:58:18 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 11 Nov 2003 22:58:18 -0000
Message-ID: <20031111225823.69060.qmail@web12706.mail.yahoo.com>
Received: from [195.29.133.46] by web12706.mail.yahoo.com via HTTP;
 Tue, 11 Nov 2003 14:58:23 PST
Date: Tue, 11 Nov 2003 14:58:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Index pdf files with your content in lucene.
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Ernesto De Santis <edesantis@silex-it.com>
In-Reply-To: <001f01c3a887$0d98b9b0$72b8e818@ernesto>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ernesto, it looks like something got stripped.  A ZIP file should make
it to the list.  If not, maybe you can post it somewhere.

Could you also tell us a bit about this code?  Is it better than
existing PDF/Word parsing solutions?  Pure Java?  Uses POI?

Thanks,
Otis


--- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
> Classes for index Pdf and word files in lucene.
> Ernesto.
> 
> ----- Original Message -----
> From: "Ernesto De Santis" <edesantis@fibertel.com.ar>
> To: <opencms-dev@opencms.org>
> Sent: Wednesday, October 29, 2003 12:04 PM
> Subject: Re: [opencms-dev] Index pdf files with your content in
> lucene.
> 
> 
> Hello all,
> 
> Thans very much Stephan for your valuable help.
> Attached you will find the PDFDocument, and WordDocument class source
> code
> 
> Ernesto.
> 
> 
> ----- Original Message -----
> From: "Hartmann, Waehrisch & Feykes GmbH"
> <hartmann@waehrisch-feykes.de>
> To: <opencms-dev@opencms.org>
> Sent: Tuesday, October 28, 2003 11:10 AM
> Subject: Re: [opencms-dev] Index pdf files with your content in
> lucene.
> 
> 
> > Hi Ernesto,
> >
> > the IndexManager retrieves a list of files of a folder by calling
> the
> method
> > getFilesInFolder of CmsObject. This method returns only empty
> files, i.e.
> > with empty content. To get the content of a pdf file you have to
> reread
> the
> > file:
> > f = cms.readFile(f.getAbsolutePath());
> >
> > Bye,
> > Stephan
> >
> > Am Montag, 27. Oktober 2003 19:18 schrieben Sie:
> >
> > > > Hello
> > >
> > > Thanks for the previous reply.
> > >
> > > Now, i use
> > > - version 1.4 of lucene searche module. (the version attached in
> this
> list)
> > > - new version of registry.xml format for module. (like you write
> me)
> > > - the pdf files are stored with the binary type.
> > >
> > > But i have the next problem:
> > > i can�t make a InputStream for the cmsfile content.
> > > For this i write this code in de Document method of my class
> PDFDocument:
> > >
> > > -----------------
> > >
> > > InputStream in = new ByteArrayInputStream(f.getContents()); //f
> is the
> > > parameter CmsFile of the Document method
> > >
> > > PDFExtractor extractor = new PDFExtractor(); //PDFExtractor is
> lib i
> use.
> > > in file system work fine.
> > >
> > >
> > > bodyText = extractor.extractText(in);
> > >
> > > ----------------
> > >
> > > Is correct use ByteArrayInputStream for make a InputStream for a
> CmsFile?
> > >
> > > The error ocurr in the third line.
> > > In the PDFParcer.
> > > the error menssage in tomcat is:
> > >
> > > java.io.IOException: Error: Header is corrupt ''
> > > at PDFParcer.parse
> > > at PDFExtractor.extractText
> > > at PDFDocument.Document (my class)
> > > at.....
> > >
> > > By, and thanks.
> > > Ernesto.
> > >
> > >
> > > ----- Original Message -----
> > >   From: Hartmann, Waehrisch & Feykes GmbH
> > >   To: opencms-dev@opencms.org
> > >   Sent: Friday, October 24, 2003 4:45 AM
> > >   Subject: Re: [opencms-dev] Index pdf files with your content in
> lucene.
> > >
> > >
> > >   Hello Ernesto,
> > >
> > >   i assume you are using the unpatched version 1.3 of the search
> module.
> > >   As i mentioned yesterday, the plainDocFactory does only index
> cmsFiles
> of
> > > type "plain" but not of type "binary". PDF files are stored as
> binary. I
> > > suggest to use the version i posted yesterday. Then your
> registry.xml
> would
> > > have to look like this: ...
> > >   <docFactories>
> > >   ...
> > >      <docFactory type="plain" enabled="true">
> > >   ...
> > >      </docFactory>
> > >      <docFactory type="binary" enabled="true">
> > >         <fileType name="pdftext">
> > >            <extension>.pdf</extension>
> > >
> <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > >         </fileType>
> > >      </docFactory>
> > >   ...
> > >   </docFactories>
> > >
> > >   Important: The type attribute must match the file types of
> OpenCms
> (also
> > > defined in the registry.xml).
> > >
> > >   Bye,
> > >   Stephan
> > >
> > >     ----- Original Message -----
> > >     From: Ernesto De Santis
> > >     To: Lucene Users List
> > >     Cc: opencms-dev@opencms.org
> > >     Sent: Thursday, October 23, 2003 4:16 PM
> > >     Subject: [opencms-dev] Index pdf files with your content in
> lucene.
> > >
> > >
> > >     Hello
> > >
> > >     I am new in opencms and lucene tecnology.
> > >
> > >     I won index pdf files, and index de content of this files.
> > >
> > >     I work in this way:
> > >
> > >     Make a PDFDocument class like JspDocument class.
> > >     use org.textmining.text.extraction.PDFExtractor class, this
> class
> work
> > > fine out of vfs.
> > >
> > >     and write my registry.xml for pdf document, in
> plainDocFactory tag.
> > >
> > >                         <fileType name="pdftext">
> > >                             <extension>.pdf</extension>
> > >                             <!-- This will strip tags before
> processing -->
> > >
> > > <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > > </fileType>
> > >
> > >     my PDFDocument content this code:
> > >     I think that the probrem is how take the content from
> CmsFile?, what
> > > InputStream use? PDFExtractor work with extractText(InputStream)
> method.
> > >
> > >     public class PDFDocument implements I_DocumentConstants,
> > > I_DocumentFactory {
> > >
> > >     public PDFDocument(){
> > >
> > >     }
> > >
> > >
> > >     public Document Document(CmsObject cmsobject, CmsFile
> cmsfile)
> > >
> > >     throws CmsException
> > >
> > >     {
> > >
> > >     return Document(cmsobject, cmsfile, null);
> > >
> > >     }
> > >
> > >     public Document Document(CmsObject cmsobject, CmsFile
> cmsfile,
> HashMap
> > > hashmap)
> > >
> > >     throws CmsException
> > >
> > >     {
> > >
> > >     Document document=(new
> BodylessDocument()).Document(cmsobject,
> > > cmsfile);
> > >
> > >
> > >     //put de content in the pdf file.
> > >
> > >     String contenido = new String(cmsfile.getContents());
> > >
> > >     StringBufferInputStream in = new
> StringBufferInputStream(contenido);
> > >
> > >     // ByteArrayInputStream in = new
> > > ByteArrayInputStream(contenido.getBytes());
> > >
> > >
> > >     /* try{
> > >
> > >     FileInputStream in = new FileInputStream (cmsfile.getPath() +
> > > cmsfile.getName());
> > >
> > >     */
> > >
> > >     PDFExtractor extractor = new PDFExtractor();
> > >
> > >     String body = extractor.extractText(in);
> > >
> > >
> > >     document.add(Field.Text("body", body));
> > >
> > >     /* }catch(FileNotFoundException e){
> > >
> > >     e.toString();
> > >
> > >     throw new CmsException();
> > >
> > >     }
> > >
> > >
> > >     */
> > >
> > >     return (document);
> > >
> > >     }
> > >
> > >
> > >     thanks
> > >     Ernesto
> > >     PD: Sorry for my poor english.
> > >
> > >
> > >
> > >
> > >     ----- Original Message -----
> > >     From: "Hartmann, Waehrisch & Feykes GmbH"
> > > <hartmann@waehrisch-feykes.de> To: <opencms-dev@opencms.org>
> > >     Sent: Wednesday, October 22, 2003 3:50 AM
> > >     Subject: Re: [opencms-dev] (no subject)
> > >
> > >     > Hi Ben,
> > >     >
> > >     > i think this won't work since the plainDocFactory will only
> be
> used
> > >     > for files of type "plain" but not for files of type
> "binary".
> > >     > Recently we have done some additions to the module - by
> order of
> > >     > Lenord, Bauer & Co. GmbH - that could meet your needs. It
> introduces
> > >     > a more flexible way of defining docFactories that you can
> add new
> > >     > factories without having to recompile the whole module. So
> other
> > >     > modules (like the news) can bring their own docFactory and
> all you
> > >     > have to do is to edit the registry.xml. Here is an example:
> > >     >
> > >     >             <docFactories>
> > >     >                 <docFactory enabled="true" type="plain">
> > >     >                     <fileType name="plaintext">
> > >     >                         <extension>.txt</extension>
> > >     >
> > >     >
> <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> > >     >                     </fileType>
> > >     >                 </docFactory>
> > >     >                 <docFactory enabled="true" type="news">
> > >     >
> > >     >
> <class>net.grcomputing.opencms.search.lucene.NewsDocument</class>
> > >     >                 </docFactory>
> > >     >             </docFactories>
> > >     >
> > >     > To index binary files all you need to add is this:
> > >     >
> > >     >            <docFactory enabled="true" type="binary">
> > >     >
> > >     >
> <class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
> > >     >            </docFactory>
> > >     >
> > >     > There should be no need for an extension mapping.
> > >     >
> > >     > For the interested people:
> > >     > For ContentDefinitions (like news) i introduced the
> following:
> > >     >             <contentDefinitions>
> > >     >                 <contentDefinition type="news"> <!-- must
> match
> > >     > docFactory type -->
> > >     >
> > >     >
> <class>com.opencms.modules.homepage.news.NewsContentDefinition</class
> > >     >>
> > >     >
> > >     >
> <initClass>net.grcomputing.opencms.search.lucene.NewsInitialization</
> > >     >initCla ss>
> > >     >                     <listMethod name="getNewsList">
> > >     >                         <param
> type="java.lang.Integer">1</param>
> > >     >                         <param
> type="java.lang.String">-1</param>
> > >     >                     </listMethod>
> > >     >                     <page uri="/news.html?__element=entry">
> > >     >                         <param method="getIntId"
> name="newsid"/>
> > >     >                     </page>
> > >     >                 </contentDefinition>
> > >     >
> > >     > In short:
> > >     > initClass is optional: For the news the news classes have
> to be
> > >     > loaded to initialize the db pool.
> > >     > listMethod: a method of the content definition class that
> returns
> a
> > >     > List of elements
> > >     > page: the page that can display an entry. Here a jsp that
> has a
> > >     > template element "entry". It also needs the id of the news
> item.
> > >     > getIntId is a method of the content definition class and
> newsid is
> > >     > the url parameter the page needs. A link like
> > >     > news.html?__element=entry&newsid=xy
> > >     > will be generated.
> > >     >
> > >     > Best regards,
> > >     > Stephan
> > >     >
> > >     >
> > >     > ----- Original Message -----
> > >     > From: "Ben Rometsch" <ben@solidstategroup.com>
> > >     > To: <opencms-dev@opencms.org>
> > >     > Sent: Wednesday, October 22, 2003 6:15 AM
> > >     > Subject: [opencms-dev] (no subject)
> > >     >
> > >     > > Hi Matt,
> > >     > >
> > >     > > I am not having any joy! I've updated my registry.xml
> file, with
> > >     > > the appropriate section reading:
> > >     > >
> > >     > > <luceneSearch>
> > >     > > <mergeFactor>100000</mergeFactor>
> > >     > > <permCheck>true</permCheck>
> > >     > > <indexDir>c:\search</indexDir>
> > >     > >
> > >     > >
> <analyzer>org.apache.lucene.analysis.standard.StandardAnalyzer</ana
> > >     > >lyzer> <subsearch>true</subsearch>
> > >     > > <project>online</project>
> > >     > > <docFactories>
> > >     > > <pageDocFactory enabled="true">
> > >     > >
> > >     > >
> <class>net.grcomputing.opencms.search.lucene.PageDocument</class>
> > >     > > </pageDocFactory>
> > >     > > <plainDocFactory enabled="true">
> > >     > > <fileType name="plaintext">
> > >     > > <extension>.txt</extension>
> > >     > >
> > >     > >
> <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> > >     > > </fileType>
> > >     > > <fileType name="taggedtext">
> > >     > > <extension>.html</extension>
> > >     > > <extension>.htm</extension>
> > >     > > <extension>.xml</extension>
> > >     > > <!-- This will strip tags before processing
> > >     > > -->
> > >     > >
> > >     > >
> <class>net.grcomputing.opencms.search.lucene.TaggedPlainDocument</c
> > >     > >lass> </fileType>
> > >     > >
> > >     > > <!-- Index binary documents -->
> > >     > > <fileType name="plaindocument">
> > >     > > <extension>.doc</extension>
> > >     > > <extension>.xls</extension>
> > >     > > <extension>.pdf</extension>
> > >     > >
> > >     > >
> <class>net.grcomputing.opencms.search.lucene.BodylessDocument</clas
> > >     > >s> </fileType>
> > >     > >
> > >     > > </plainDocFactory>
> > >     > > <jspDocFactory enabled="true">
> > >     > >
> > >     > >
> <class>net.grcomputing.opencms.search.lucene.JspDocument</class>
> > >     > > </jspDocFactory>
> > >     > > <xmlTemplateDocFactory enabled="false"/>
> > >     > > </docFactories>
> > >     > > <directories>
> > >     > > <directory location="/release/">
> > >     > > <section>Test</section>
> > >     > > <subsearch>true</subsearch>
> > >     > > </directory>
> > >     > > <directory location="/RGLIntranet/">
> > >     > > <section>Test2</section>
> > >     > > <subsearch>true</subsearch>
> > >     > > </directory>
> > >     > > </directories>
> > >     > > </luceneSearch>
> > >     > >
> > >     > > Notice the section beginning after the remark "Index
> binary
> > >     > > documents".
> > >     > >
> > >     > > But I cannot get any hits when searching for document
> names that
> > >     > > are in
> > >     >
> > >     > the
> > >     >
> > >     > > VFS. The other (HTML) searches are working ok. Is the
> "name"
> > >     > > property of
> > >     >
> > >     > the
> > >     >
> > >     > > fileType tag important? I wasn't sure what to add
> here...I'm not
> > >     > > quite
> > >     >
> > >     > sure
> > >     >
> > >     > > how to move forward. Maybe it would be an idea to add
> some
> > >     > > debugging trace to the BodylessDocument class to see what
> is
> going
> > >     > > on inside it? I want to make sure my XML is correct first
> tho!
> > >     > >
> > >     > > Thanks for the help,
> > >     > > Ben
> > >     > >
> > >     > > On Thu, 2003-10-16 at 22:46, Ben Rometsch wrote:
> > >     > > > Hi Matt,
> > >     > > >
> > >     > > > Thanks for the reply. If I just want to get the
> document title
> to
> > >     > > > be included in the Lucene index, looking at the code in
> the
> > >     > > > net.grcomputing.opencms.search.BodylessDocument class
> it
> appears
> > >     > > > to
> > >     >
> > >     > ignore
> > >     >
> > >     > > > what the CMSObject is, and attempt to index it
> regardless. Is
> > >     > > > this
> > >     > >
> > >     > > correct?
> > >     > >
> > >     > >
> > >     > > Correct. It will already index the title, but it will not
> attempt
> > >     > > to index the body.
> > >     > >
> > >     > > > If this is the case, is it simply a matter of
> instructing
> Lucene
> > >     > > > to
> > >     >
> > >     > index
> > >     >
> > >     > > > obects other than HTML files in the VFS  (i.e.
> Documents) ? Or
> > >     > > > would I
> > >     > >
> > >     > > have
> > >     > >
> > >     > > > to create another class, something like
> > >     > > > net.grcomputing.opencms.search.FileDocument and add a
> new hook
> > >     > > > into that class via the registry.xml fragment?  Or does
> the
> > >     > > > BodyLess document
> > >     > >
> > >     > > provide
> > >     > >
> > >     > > > this functionality, and it's just a matter of adding a
> new XML
> > >     > > > fragment
> > >     >
> > >     > to
> > >     >
> > >     > > > the registry.xml are?
> > >     > >
> > >     > > Again, you are right -- simply adding the appropriate
> configuration
> > >     > > to the registry.xml file will suffice. I believe that you
> will
> just
> > >     > > need to extend the plainDocument tag set to include
> extensions
> and
> > >     > > processors... I _think_ that binary files get handled by
> the
> plain
> > >     > > handler.
> > >     > >
> > >     > > Matt
> > >     > >
> > >     > > _______________________________________________
> > >     > > This mail is send to you from the opencms-dev mailing
> list
> > >     > > To change your list options, or to unsubscribe from the
> list,
> > >     > > please visit
> http://mail.opencms.org/mailman/listinfo/opencms-dev
> > >     >
> > >     > Stephan Hartmann
> > >     > Unternehmensberatung W�hrisch & Feykes GmbH
> > >     > Gustav-Adolf-Str. 5
> > >     > 47057 Duisburg
> > >     >
> > >     > Tel.: 0203-373070
> > >     > Fax: 0203-376766
> > >     > E-Mail: hartmann@wfnetz.de
> > >     > Internet: www.wfnetz.de
> > >     >
> > >     > �ber das Internet versandte E-Mails k�nnen unter fremden
> Namen
> > >     > erstellt oder manipuliert werden. Aus diesem Grund
> enthalten
> unsere
> > >     > mit E-Mail verschickten Nachrichten grunds�tzlich keine
> > >     > rechtsverbindlichen Willenserkl�rungen.
> >
> > ----------------------------------------
> > Content-Type: text/html; charset="iso-8859-1"; name="Anhang: 1"
> > Content-Transfer-Encoding: quoted-printable
> > Content-Description:
> > ----------------------------------------
> >
> > --
> > Stephan Hartmann
> >
> > W�hrisch & Feykes GmbH
> > Gustav-Adolf-Str. 5
> > 47057 Duisburg
> > Tel. 0203 / 373 070
> > Fax 0203 / 376 766
> > hartmann@wfnetz.de
> >
> > ------------------------------------------------------
> > Ausschlusserkl�rung (Disclaimer):
> > �ber das Internet versandte E-mails k�nnen unter fremden Namen
> erstellt
> oder
> > manipuliert werden. Aus diesem Grund enthalten unsere mit E-mail
> verschickten
> > Nachrichten grunds�tzlich keine rechtsverbindlichen
> Willenserkl�rungen.
> > _______________________________________________
> > This mail is send to you from the opencms-dev mailing list
> > To change your list options, or to unsubscribe from the list,
> please visit
> > http://mail.opencms.org/mailman/listinfo/opencms-dev
> 
> 
> >
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 11 23:34:24 2003
Return-Path: 
 <lucene-user-return-5917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35396 invoked from network); 11 Nov 2003 23:34:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Nov 2003 23:34:24 -0000
Received: (qmail 91098 invoked by uid 500); 11 Nov 2003 23:34:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91065 invoked by uid 500); 11 Nov 2003 23:34:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91051 invoked from network); 11 Nov 2003 23:34:05 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.47)
  by daedalus.apache.org with SMTP; 11 Nov 2003 23:34:05 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hABNYCYN010436
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 15:34:12 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-39-87.adslplus.ch [62.167.39.87])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hABNY3pa020366
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 15:34:09 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <013301c3a892$eb31b1e0$0200a8c0@whale>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <013301c3a892$eb31b1e0$0200a8c0@whale>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <85371376-149F-11D8-A1BB-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document Clustering
Date: Wed, 12 Nov 2003 00:33:57 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 11, 2003, at 21:32, maurits van wijland wrote:

> There is the carrot project :
> http://www.cs.put.poznan.pl/dweiss/carrot/

"Leo Galambos, author of the Egothor project, constantly supports us 
with fresh ideas and includes Carrot components in his own project!"

http://www.cs.put.poznan.pl/dweiss/carrot/xml/authors.xml?lang=en

Small world :)

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 01:39:06 2003
Return-Path: 
 <lucene-user-return-5918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86808 invoked from network); 12 Nov 2003 01:39:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 01:39:06 -0000
Received: (qmail 14597 invoked by uid 500); 12 Nov 2003 01:38:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14565 invoked by uid 500); 12 Nov 2003 01:38:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14552 invoked from network); 12 Nov 2003 01:38:44 -0000
Received: from unknown (HELO bigdns.bigonthenet.com) (203.120.211.133)
  by daedalus.apache.org with SMTP; 12 Nov 2003 01:38:44 -0000
Received: from smile ([203.120.211.130])
	by bigdns.bigonthenet.com (8.9.3/8.9.3) with SMTP id IAA05534
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 08:30:29 +0800
Message-ID: <002801c3a8be$fb42af90$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
Subject: Re: Document Clustering
Date: Wed, 12 Nov 2003 09:47:20 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I'm also interest it. Kindly CC to me the lastest progress of your
clustering project.

Regards,
AlexAw


----- Original Message ----- 
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 11, 2003 10:07 PM
Subject: Re: Document Clustering


> > I'm working on it. Classification and Clustering as well.
>
> Very interesting... if you get something working, please don't forget to
> notify this list :-)
>
> --
> Eric Jain
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 03:00:36 2003
Return-Path: 
 <lucene-user-return-5920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24518 invoked from network); 12 Nov 2003 03:00:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 03:00:36 -0000
Received: (qmail 6818 invoked by uid 500); 12 Nov 2003 03:00:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6662 invoked by uid 500); 12 Nov 2003 03:00:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6648 invoked from network); 12 Nov 2003 03:00:13 -0000
Received: from unknown (HELO web13903.mail.yahoo.com) (216.136.175.29)
  by daedalus.apache.org with SMTP; 12 Nov 2003 03:00:13 -0000
Message-ID: <20031112030014.86306.qmail@web13903.mail.yahoo.com>
Received: from [24.5.88.236] by web13903.mail.yahoo.com via HTTP;
 Tue, 11 Nov 2003 19:00:14 PST
Date: Tue, 11 Nov 2003 19:00:14 -0800 (PST)
From: Kumar Mettu <mksreddy@yahoo.com>
Subject: Can use Lucene be used for this
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1932349614-1068606014=:85565"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1932349614-1068606014=:85565
Content-Type: text/plain; charset=us-ascii

Hi,
 
  I have a huge data file with 4 gb data. The data in the file never changes. 
 
The format of the file is as follows:
 
Col1,col2,col3,Value
----------------------------
abababc,xyzzzzzza,ccccc,100
ababadx,xyz,adfdfd,101
 
I need to retrieve the value with simple queries on the data like:
select  value where col1 like %ab&, col2 like %aa% and col3 sounds like aaaa;
 
Is Lucene suitable for doing this kind of tasks? I am using DB currently for this. Wondering whether Lucene can be used for this.
 
Thanks,
Kumar.


---------------------------------
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
--0-1932349614-1068606014=:85565--

From MAILER-DAEMON Wed Nov 12 03:23:40 2003
Return-Path: 
 <lucene-user-return-5921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31335 invoked from network); 12 Nov 2003 03:23:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 03:23:40 -0000
Received: (qmail 30090 invoked by uid 500); 12 Nov 2003 03:23:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30011 invoked by uid 500); 12 Nov 2003 03:23:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29983 invoked from network); 12 Nov 2003 03:23:17 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 12 Nov 2003 03:23:17 -0000
Received: (cpmta 15098 invoked from network); 11 Nov 2003 19:23:25 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 11 Nov 2003 19:23:25 -0800
X-Sent: 12 Nov 2003 03:23:25 GMT
Date: Tue, 11 Nov 2003 22:23:41 -0500
Subject: Re: Can use Lucene be used for this
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031112030014.86306.qmail@web13903.mail.yahoo.com>
Message-Id: <9D578A24-14BF-11D8-84DE-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 11, 2003, at 10:00  PM, Kumar Mettu wrote:
> The format of the file is as follows:
>
> Col1,col2,col3,Value
> ----------------------------
> abababc,xyzzzzzza,ccccc,100
> ababadx,xyz,adfdfd,101
>
> I need to retrieve the value with simple queries on the data like:
> select  value where col1 like %ab&, col2 like %aa% and col3 sounds 
> like aaaa;
>
> Is Lucene suitable for doing this kind of tasks? I am using DB 
> currently for this. Wondering whether Lucene can be used for this.

It's not a straightforward use of Lucene to emulate that type of query. 
  The trickiest one is the "sounds like".  The FuzzyQuery in Lucene is 
close, but not quite a "soudns like".  You could use WildcardQuerys for 
the "like" clauses, but they might be better served with more 
sophisticated analysis that puts all combinations ("a", "ab", "aba", 
"abab"....") as terms.

There are certainly tricks that could be played at either indexing 
analysis or query analysis times that could do what you want.  Would it 
be faster than a fast database with that large of a dataset?  I'm not 
sure.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 03:29:16 2003
Return-Path: 
 <lucene-user-return-5922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32840 invoked from network); 12 Nov 2003 03:29:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 03:29:16 -0000
Received: (qmail 34576 invoked by uid 500); 12 Nov 2003 03:28:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34180 invoked by uid 500); 12 Nov 2003 03:28:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34135 invoked from network); 12 Nov 2003 03:28:51 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 12 Nov 2003 03:28:51 -0000
Received: from [24.232.184.114] (helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AJlgg-00072z-DK; Tue, 11 Nov 2003 21:28:58 -0600
Message-ID: <002c01c3a8cd$dac85530$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>,
	"Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031111225823.69060.qmail@web12706.mail.yahoo.com>
Subject: Re: Index pdf files with your content in lucene.
Date: Wed, 12 Nov 2003 00:34:14 -0300
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0029_01C3A8B4.B32A4F60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0029_01C3A8B4.B32A4F60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

try again zipping the files.

after i post the files in the web site.

> Could you also tell us a bit about this code?  Is it better than
> existing PDF/Word parsing solutions?  Pure Java?  Uses POI?

This code use existing parsing solution.
The intent is make a lucene Document for index pdf and word files, with
content.
Is pure java.
Use TextExtraction library.
tm-extractors-0.2.jar
Use POI and PDFBox.

Ernesto
Sorry for my bad English.

>
> Thanks,
> Otis
>
>
> --- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
> > Classes for index Pdf and word files in lucene.
> > Ernesto.
> >
> > ----- Original Message -----
> > From: "Ernesto De Santis" <edesantis@fibertel.com.ar>
> > To: <opencms-dev@opencms.org>
> > Sent: Wednesday, October 29, 2003 12:04 PM
> > Subject: Re: [opencms-dev] Index pdf files with your content in
> > lucene.
> >
> >
> > Hello all,
> >
> > Thans very much Stephan for your valuable help.
> > Attached you will find the PDFDocument, and WordDocument class source
> > code
> >
> > Ernesto.
> >
> >
> > ----- Original Message -----
> > From: "Hartmann, Waehrisch & Feykes GmbH"
> > <hartmann@waehrisch-feykes.de>
> > To: <opencms-dev@opencms.org>
> > Sent: Tuesday, October 28, 2003 11:10 AM
> > Subject: Re: [opencms-dev] Index pdf files with your content in
> > lucene.
> >
> >
> > > Hi Ernesto,
> > >
> > > the IndexManager retrieves a list of files of a folder by calling
> > the
> > method
> > > getFilesInFolder of CmsObject. This method returns only empty
> > files, i.e.
> > > with empty content. To get the content of a pdf file you have to
> > reread
> > the
> > > file:
> > > f = cms.readFile(f.getAbsolutePath());
> > >
> > > Bye,
> > > Stephan
> > >
> > > Am Montag, 27. Oktober 2003 19:18 schrieben Sie:
> > >
> > > > > Hello
> > > >
> > > > Thanks for the previous reply.
> > > >
> > > > Now, i use
> > > > - version 1.4 of lucene searche module. (the version attached in
> > this
> > list)
> > > > - new version of registry.xml format for module. (like you write
> > me)
> > > > - the pdf files are stored with the binary type.
> > > >
> > > > But i have the next problem:
> > > > i can�t make a InputStream for the cmsfile content.
> > > > For this i write this code in de Document method of my class
> > PDFDocument:
> > > >
> > > > -----------------
> > > >
> > > > InputStream in = new ByteArrayInputStream(f.getContents()); //f
> > is the
> > > > parameter CmsFile of the Document method
> > > >
> > > > PDFExtractor extractor = new PDFExtractor(); //PDFExtractor is
> > lib i
> > use.
> > > > in file system work fine.
> > > >
> > > >
> > > > bodyText = extractor.extractText(in);
> > > >
> > > > ----------------
> > > >
> > > > Is correct use ByteArrayInputStream for make a InputStream for a
> > CmsFile?
> > > >
> > > > The error ocurr in the third line.
> > > > In the PDFParcer.
> > > > the error menssage in tomcat is:
> > > >
> > > > java.io.IOException: Error: Header is corrupt ''
> > > > at PDFParcer.parse
> > > > at PDFExtractor.extractText
> > > > at PDFDocument.Document (my class)
> > > > at.....
> > > >
> > > > By, and thanks.
> > > > Ernesto.
> > > >
> > > >
> > > > ----- Original Message -----
> > > >   From: Hartmann, Waehrisch & Feykes GmbH
> > > >   To: opencms-dev@opencms.org
> > > >   Sent: Friday, October 24, 2003 4:45 AM
> > > >   Subject: Re: [opencms-dev] Index pdf files with your content in
> > lucene.
> > > >
> > > >
> > > >   Hello Ernesto,
> > > >
> > > >   i assume you are using the unpatched version 1.3 of the search
> > module.
> > > >   As i mentioned yesterday, the plainDocFactory does only index
> > cmsFiles
> > of
> > > > type "plain" but not of type "binary". PDF files are stored as
> > binary. I
> > > > suggest to use the version i posted yesterday. Then your
> > registry.xml
> > would
> > > > have to look like this: ...
> > > >   <docFactories>
> > > >   ...
> > > >      <docFactory type="plain" enabled="true">
> > > >   ...
> > > >      </docFactory>
> > > >      <docFactory type="binary" enabled="true">
> > > >         <fileType name="pdftext">
> > > >            <extension>.pdf</extension>
> > > >
> > <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > > >         </fileType>
> > > >      </docFactory>
> > > >   ...
> > > >   </docFactories>
> > > >
> > > >   Important: The type attribute must match the file types of
> > OpenCms
> > (also
> > > > defined in the registry.xml).
> > > >
> > > >   Bye,
> > > >   Stephan
> > > >
> > > >     ----- Original Message -----
> > > >     From: Ernesto De Santis
> > > >     To: Lucene Users List
> > > >     Cc: opencms-dev@opencms.org
> > > >     Sent: Thursday, October 23, 2003 4:16 PM
> > > >     Subject: [opencms-dev] Index pdf files with your content in
> > lucene.
> > > >
> > > >
> > > >     Hello
> > > >
> > > >     I am new in opencms and lucene tecnology.
> > > >
> > > >     I won index pdf files, and index de content of this files.
> > > >
> > > >     I work in this way:
> > > >
> > > >     Make a PDFDocument class like JspDocument class.
> > > >     use org.textmining.text.extraction.PDFExtractor class, this
> > class
> > work
> > > > fine out of vfs.
> > > >
> > > >     and write my registry.xml for pdf document, in
> > plainDocFactory tag.
> > > >
> > > >                         <fileType name="pdftext">
> > > >                             <extension>.pdf</extension>
> > > >                             <!-- This will strip tags before
> > processing -->
> > > >
> > > > <class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
> > > > </fileType>
> > > >
> > > >     my PDFDocument content this code:
> > > >     I think that the probrem is how take the content from
> > CmsFile?, what
> > > > InputStream use? PDFExtractor work with extractText(InputStream)
> > method.
> > > >
> > > >     public class PDFDocument implements I_DocumentConstants,
> > > > I_DocumentFactory {
> > > >
> > > >     public PDFDocument(){
> > > >
> > > >     }
> > > >
> > > >
> > > >     public Document Document(CmsObject cmsobject, CmsFile
> > cmsfile)
> > > >
> > > >     throws CmsException
> > > >
> > > >     {
> > > >
> > > >     return Document(cmsobject, cmsfile, null);
> > > >
> > > >     }
> > > >
> > > >     public Document Document(CmsObject cmsobject, CmsFile
> > cmsfile,
> > HashMap
> > > > hashmap)
> > > >
> > > >     throws CmsException
> > > >
> > > >     {
> > > >
> > > >     Document document=(new
> > BodylessDocument()).Document(cmsobject,
> > > > cmsfile);
> > > >
> > > >
> > > >     //put de content in the pdf file.
> > > >
> > > >     String contenido = new String(cmsfile.getContents());
> > > >
> > > >     StringBufferInputStream in = new
> > StringBufferInputStream(contenido);
> > > >
> > > >     // ByteArrayInputStream in = new
> > > > ByteArrayInputStream(contenido.getBytes());
> > > >
> > > >
> > > >     /* try{
> > > >
> > > >     FileInputStream in = new FileInputStream (cmsfile.getPath() +
> > > > cmsfile.getName());
> > > >
> > > >     */
> > > >
> > > >     PDFExtractor extractor = new PDFExtractor();
> > > >
> > > >     String body = extractor.extractText(in);
> > > >
> > > >
> > > >     document.add(Field.Text("body", body));
> > > >
> > > >     /* }catch(FileNotFoundException e){
> > > >
> > > >     e.toString();
> > > >
> > > >     throw new CmsException();
> > > >
> > > >     }
> > > >
> > > >
> > > >     */
> > > >
> > > >     return (document);
> > > >
> > > >     }
> > > >
> > > >
> > > >     thanks
> > > >     Ernesto
> > > >     PD: Sorry for my poor english.
> > > >
> > > >
> > > >
> > > >
> > > >     ----- Original Message -----
> > > >     From: "Hartmann, Waehrisch & Feykes GmbH"
> > > > <hartmann@waehrisch-feykes.de> To: <opencms-dev@opencms.org>
> > > >     Sent: Wednesday, October 22, 2003 3:50 AM
> > > >     Subject: Re: [opencms-dev] (no subject)
> > > >
> > > >     > Hi Ben,
> > > >     >
> > > >     > i think this won't work since the plainDocFactory will only
> > be
> > used
> > > >     > for files of type "plain" but not for files of type
> > "binary".
> > > >     > Recently we have done some additions to the module - by
> > order of
> > > >     > Lenord, Bauer & Co. GmbH - that could meet your needs. It
> > introduces
> > > >     > a more flexible way of defining docFactories that you can
> > add new
> > > >     > factories without having to recompile the whole module. So
> > other
> > > >     > modules (like the news) can bring their own docFactory and
> > all you
> > > >     > have to do is to edit the registry.xml. Here is an example:
> > > >     >
> > > >     >             <docFactories>
> > > >     >                 <docFactory enabled="true" type="plain">
> > > >     >                     <fileType name="plaintext">
> > > >     >                         <extension>.txt</extension>
> > > >     >
> > > >     >
> > <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> > > >     >                     </fileType>
> > > >     >                 </docFactory>
> > > >     >                 <docFactory enabled="true" type="news">
> > > >     >
> > > >     >
> > <class>net.grcomputing.opencms.search.lucene.NewsDocument</class>
> > > >     >                 </docFactory>
> > > >     >             </docFactories>
> > > >     >
> > > >     > To index binary files all you need to add is this:
> > > >     >
> > > >     >            <docFactory enabled="true" type="binary">
> > > >     >
> > > >     >
> > <class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
> > > >     >            </docFactory>
> > > >     >
> > > >     > There should be no need for an extension mapping.
> > > >     >
> > > >     > For the interested people:
> > > >     > For ContentDefinitions (like news) i introduced the
> > following:
> > > >     >             <contentDefinitions>
> > > >     >                 <contentDefinition type="news"> <!-- must
> > match
> > > >     > docFactory type -->
> > > >     >
> > > >     >
> > <class>com.opencms.modules.homepage.news.NewsContentDefinition</class
> > > >     >>
> > > >     >
> > > >     >
> > <initClass>net.grcomputing.opencms.search.lucene.NewsInitialization</
> > > >     >initCla ss>
> > > >     >                     <listMethod name="getNewsList">
> > > >     >                         <param
> > type="java.lang.Integer">1</param>
> > > >     >                         <param
> > type="java.lang.String">-1</param>
> > > >     >                     </listMethod>
> > > >     >                     <page uri="/news.html?__element=entry">
> > > >     >                         <param method="getIntId"
> > name="newsid"/>
> > > >     >                     </page>
> > > >     >                 </contentDefinition>
> > > >     >
> > > >     > In short:
> > > >     > initClass is optional: For the news the news classes have
> > to be
> > > >     > loaded to initialize the db pool.
> > > >     > listMethod: a method of the content definition class that
> > returns
> > a
> > > >     > List of elements
> > > >     > page: the page that can display an entry. Here a jsp that
> > has a
> > > >     > template element "entry". It also needs the id of the news
> > item.
> > > >     > getIntId is a method of the content definition class and
> > newsid is
> > > >     > the url parameter the page needs. A link like
> > > >     > news.html?__element=entry&newsid=xy
> > > >     > will be generated.
> > > >     >
> > > >     > Best regards,
> > > >     > Stephan
> > > >     >
> > > >     >
> > > >     > ----- Original Message -----
> > > >     > From: "Ben Rometsch" <ben@solidstategroup.com>
> > > >     > To: <opencms-dev@opencms.org>
> > > >     > Sent: Wednesday, October 22, 2003 6:15 AM
> > > >     > Subject: [opencms-dev] (no subject)
> > > >     >
> > > >     > > Hi Matt,
> > > >     > >
> > > >     > > I am not having any joy! I've updated my registry.xml
> > file, with
> > > >     > > the appropriate section reading:
> > > >     > >
> > > >     > > <luceneSearch>
> > > >     > > <mergeFactor>100000</mergeFactor>
> > > >     > > <permCheck>true</permCheck>
> > > >     > > <indexDir>c:\search</indexDir>
> > > >     > >
> > > >     > >
> > <analyzer>org.apache.lucene.analysis.standard.StandardAnalyzer</ana
> > > >     > >lyzer> <subsearch>true</subsearch>
> > > >     > > <project>online</project>
> > > >     > > <docFactories>
> > > >     > > <pageDocFactory enabled="true">
> > > >     > >
> > > >     > >
> > <class>net.grcomputing.opencms.search.lucene.PageDocument</class>
> > > >     > > </pageDocFactory>
> > > >     > > <plainDocFactory enabled="true">
> > > >     > > <fileType name="plaintext">
> > > >     > > <extension>.txt</extension>
> > > >     > >
> > > >     > >
> > <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> > > >     > > </fileType>
> > > >     > > <fileType name="taggedtext">
> > > >     > > <extension>.html</extension>
> > > >     > > <extension>.htm</extension>
> > > >     > > <extension>.xml</extension>
> > > >     > > <!-- This will strip tags before processing
> > > >     > > -->
> > > >     > >
> > > >     > >
> > <class>net.grcomputing.opencms.search.lucene.TaggedPlainDocument</c
> > > >     > >lass> </fileType>
> > > >     > >
> > > >     > > <!-- Index binary documents -->
> > > >     > > <fileType name="plaindocument">
> > > >     > > <extension>.doc</extension>
> > > >     > > <extension>.xls</extension>
> > > >     > > <extension>.pdf</extension>
> > > >     > >
> > > >     > >
> > <class>net.grcomputing.opencms.search.lucene.BodylessDocument</clas
> > > >     > >s> </fileType>
> > > >     > >
> > > >     > > </plainDocFactory>
> > > >     > > <jspDocFactory enabled="true">
> > > >     > >
> > > >     > >
> > <class>net.grcomputing.opencms.search.lucene.JspDocument</class>
> > > >     > > </jspDocFactory>
> > > >     > > <xmlTemplateDocFactory enabled="false"/>
> > > >     > > </docFactories>
> > > >     > > <directories>
> > > >     > > <directory location="/release/">
> > > >     > > <section>Test</section>
> > > >     > > <subsearch>true</subsearch>
> > > >     > > </directory>
> > > >     > > <directory location="/RGLIntranet/">
> > > >     > > <section>Test2</section>
> > > >     > > <subsearch>true</subsearch>
> > > >     > > </directory>
> > > >     > > </directories>
> > > >     > > </luceneSearch>
> > > >     > >
> > > >     > > Notice the section beginning after the remark "Index
> > binary
> > > >     > > documents".
> > > >     > >
> > > >     > > But I cannot get any hits when searching for document
> > names that
> > > >     > > are in
> > > >     >
> > > >     > the
> > > >     >
> > > >     > > VFS. The other (HTML) searches are working ok. Is the
> > "name"
> > > >     > > property of
> > > >     >
> > > >     > the
> > > >     >
> > > >     > > fileType tag important? I wasn't sure what to add
> > here...I'm not
> > > >     > > quite
> > > >     >
> > > >     > sure
> > > >     >
> > > >     > > how to move forward. Maybe it would be an idea to add
> > some
> > > >     > > debugging trace to the BodylessDocument class to see what
> > is
> > going
> > > >     > > on inside it? I want to make sure my XML is correct first
> > tho!
> > > >     > >
> > > >     > > Thanks for the help,
> > > >     > > Ben
> > > >     > >
> > > >     > > On Thu, 2003-10-16 at 22:46, Ben Rometsch wrote:
> > > >     > > > Hi Matt,
> > > >     > > >
> > > >     > > > Thanks for the reply. If I just want to get the
> > document title
> > to
> > > >     > > > be included in the Lucene index, looking at the code in
> > the
> > > >     > > > net.grcomputing.opencms.search.BodylessDocument class
> > it
> > appears
> > > >     > > > to
> > > >     >
> > > >     > ignore
> > > >     >
> > > >     > > > what the CMSObject is, and attempt to index it
> > regardless. Is
> > > >     > > > this
> > > >     > >
> > > >     > > correct?
> > > >     > >
> > > >     > >
> > > >     > > Correct. It will already index the title, but it will not
> > attempt
> > > >     > > to index the body.
> > > >     > >
> > > >     > > > If this is the case, is it simply a matter of
> > instructing
> > Lucene
> > > >     > > > to
> > > >     >
> > > >     > index
> > > >     >
> > > >     > > > obects other than HTML files in the VFS  (i.e.
> > Documents) ? Or
> > > >     > > > would I
> > > >     > >
> > > >     > > have
> > > >     > >
> > > >     > > > to create another class, something like
> > > >     > > > net.grcomputing.opencms.search.FileDocument and add a
> > new hook
> > > >     > > > into that class via the registry.xml fragment?  Or does
> > the
> > > >     > > > BodyLess document
> > > >     > >
> > > >     > > provide
> > > >     > >
> > > >     > > > this functionality, and it's just a matter of adding a
> > new XML
> > > >     > > > fragment
> > > >     >
> > > >     > to
> > > >     >
> > > >     > > > the registry.xml are?
> > > >     > >
> > > >     > > Again, you are right -- simply adding the appropriate
> > configuration
> > > >     > > to the registry.xml file will suffice. I believe that you
> > will
> > just
> > > >     > > need to extend the plainDocument tag set to include
> > extensions
> > and
> > > >     > > processors... I _think_ that binary files get handled by
> > the
> > plain
> > > >     > > handler.
> > > >     > >
> > > >     > > Matt
> > > >     > >
> > > >     > > _______________________________________________
> > > >     > > This mail is send to you from the opencms-dev mailing
> > list
> > > >     > > To change your list options, or to unsubscribe from the
> > list,
> > > >     > > please visit
> > http://mail.opencms.org/mailman/listinfo/opencms-dev
> > > >     >
> > > >     > Stephan Hartmann
> > > >     > Unternehmensberatung W�hrisch & Feykes GmbH
> > > >     > Gustav-Adolf-Str. 5
> > > >     > 47057 Duisburg
> > > >     >
> > > >     > Tel.: 0203-373070
> > > >     > Fax: 0203-376766
> > > >     > E-Mail: hartmann@wfnetz.de
> > > >     > Internet: www.wfnetz.de
> > > >     >
> > > >     > �ber das Internet versandte E-Mails k�nnen unter fremden
> > Namen
> > > >     > erstellt oder manipuliert werden. Aus diesem Grund
> > enthalten
> > unsere
> > > >     > mit E-Mail verschickten Nachrichten grunds�tzlich keine
> > > >     > rechtsverbindlichen Willenserkl�rungen.
> > >
> > > ----------------------------------------
> > > Content-Type: text/html; charset="iso-8859-1"; name="Anhang: 1"
> > > Content-Transfer-Encoding: quoted-printable
> > > Content-Description:
> > > ----------------------------------------
> > >
> > > --
> > > Stephan Hartmann
> > >
> > > W�hrisch & Feykes GmbH
> > > Gustav-Adolf-Str. 5
> > > 47057 Duisburg
> > > Tel. 0203 / 373 070
> > > Fax 0203 / 376 766
> > > hartmann@wfnetz.de
> > >
> > > ------------------------------------------------------
> > > Ausschlusserkl�rung (Disclaimer):
> > > �ber das Internet versandte E-mails k�nnen unter fremden Namen
> > erstellt
> > oder
> > > manipuliert werden. Aus diesem Grund enthalten unsere mit E-mail
> > verschickten
> > > Nachrichten grunds�tzlich keine rechtsverbindlichen
> > Willenserkl�rungen.
> > > _______________________________________________
> > > This mail is send to you from the opencms-dev mailing list
> > > To change your list options, or to unsubscribe from the list,
> > please visit
> > > http://mail.opencms.org/mailman/listinfo/opencms-dev
> >
> >
> > >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
>
>
>

------=_NextPart_000_0029_01C3A8B4.B32A4F60
Content-Type: text/plain;
	name="License.txt"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="License.txt"

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The TextMining.Org Software License, Version 1.1
 *
 * Copyright (c) 2002 Ryan Ackley  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by=20
 *        TextMining.Org (http://www.textmining.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The name "TextMining.Org" must not be used to endorse or promote =
products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called =
"TextMining.org",
 *    "TextMining.org extractors", nor may "TextMining.org" appear in =
their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */


------=_NextPart_000_0029_01C3A8B4.B32A4F60
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_0029_01C3A8B4.B32A4F60--


From MAILER-DAEMON Wed Nov 12 02:13:30 2003
Return-Path: 
 <lucene-user-return-5919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99586 invoked from network); 12 Nov 2003 02:13:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 02:13:30 -0000
Received: (qmail 54717 invoked by uid 500); 12 Nov 2003 02:13:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54442 invoked by uid 500); 12 Nov 2003 02:13:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54428 invoked from network); 12 Nov 2003 02:13:08 -0000
Received: from unknown (HELO bioseeker.bioinfocg.com) (66.11.182.46)
  by daedalus.apache.org with SMTP; 12 Nov 2003 02:13:08 -0000
Received: from bioseeker.bioinfocg.com (bioseeker.bioinfocg.com [127.0.0.1])
	by localhost (Postfix) with ESMTP id 7D7B4D5C58
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 21:13:16 -0500 (EST)
Received: from betty (unknown [192.168.0.4])
	by bioseeker.bioinfocg.com (Postfix) with SMTP id 6C57FD5C57
	for <lucene-user@jakarta.apache.org>; Tue, 11 Nov 2003 21:13:16 -0500 (EST)
Message-ID: <003801c3a8da$ca7889e0$0400a8c0@betty>
From: "marc" <marc@bioseeker.bioinfocg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
 <002801c3a8be$fb42af90$0f02a8c0@smile>
Subject: Re: Document Clustering
Date: Tue, 11 Nov 2003 21:06:54 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks everyone for the responses and links to resources..

I was basically thinking of using lucene to generate document vectors, and
writing my custom similarity algorithms for measuring distance.

I could then run this data through k-means or SOM algorithms for calculating
clusters

Does this sound like i'm on the right track...i'm still just in the
*thinking* stage.

Marc


----- Original Message ----- 
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 11, 2003 5:47 PM
Subject: Re: Document Clustering


> Hi!
>
> I'm also interest it. Kindly CC to me the lastest progress of your
> clustering project.
>
> Regards,
> AlexAw
>
>
> ----- Original Message ----- 
> From: "Eric Jain" <Eric.Jain@isb-sib.ch>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, November 11, 2003 10:07 PM
> Subject: Re: Document Clustering
>
>
> > > I'm working on it. Classification and Clustering as well.
> >
> > Very interesting... if you get something working, please don't forget to
> > notify this list :-)
> >
> > --
> > Eric Jain
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 08:25:24 2003
Return-Path: 
 <lucene-user-return-5923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57738 invoked from network); 12 Nov 2003 08:25:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 08:25:24 -0000
Received: (qmail 88924 invoked by uid 500); 12 Nov 2003 08:24:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88897 invoked by uid 500); 12 Nov 2003 08:24:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88884 invoked from network); 12 Nov 2003 08:24:54 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 12 Nov 2003 08:24:54 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 8E52619B717
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 09:25:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hAC8P6lJ023831
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 09:25:06 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hAC8P6S5023827;
	Wed, 12 Nov 2003 09:25:06 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16305.61026.148049.62137@tanto-xipolis.de>
Date: Wed, 12 Nov 2003 09:25:06 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Reopen IndexWriter after delete?
In-Reply-To: <20031111224637.45190.qmail@web12705.mail.yahoo.com>
References: 
 <496A2C679221504D8B8AE4B10267E87602E0A016@gb-sm-cala-xm11.corp.disney.com>
	<20031111224637.45190.qmail@web12705.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic writes:
> 
> No, it is not safe.  You should close the IndexWriter, then delete the
> document and close IndexReader, and then get a new IndexWriter and
> continue writing.
> 
IIRC lucene takes care that you do so.
Locking prevents you from having an open IndexWriter and
modify the index with an IndexReader (and vice verse).

Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 09:03:37 2003
Return-Path: 
 <lucene-user-return-5924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73791 invoked from network); 12 Nov 2003 09:03:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 09:03:37 -0000
Received: (qmail 33702 invoked by uid 500); 12 Nov 2003 09:03:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33671 invoked by uid 500); 12 Nov 2003 09:03:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33658 invoked from network); 12 Nov 2003 09:03:07 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 12 Nov 2003 09:03:07 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hAC93Hm3029565
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 10:03:17 +0100
Message-ID: <00b801c3a8fb$d1ac3f10$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002601c3a86f$11e21010$0400a8c0@betty>
 <3FB0E6D5.1060208@media-style.com> <001301c3a85d$165ec3c0$c300000a@caliente>
 <002801c3a8be$fb42af90$0f02a8c0@smile> <003801c3a8da$ca7889e0$0400a8c0@betty>
Subject: Re: Document Clustering
Date: Wed, 12 Nov 2003 10:03:20 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I was basically thinking of using lucene to generate document
> vectors, and writing my custom similarity algorithms for measuring
> distance.
>
> I could then run this data through k-means or SOM algorithms for
> calculating clusters

First of all, I think it would already be great if there was some
functionality for simply storing document vectors during the indexing
process, so you could later on use

  IndexSearcher.docTerms(int i)

to retrieve a BitSet or an array of floats that are weighted so that
frequent terms have lower values.

One difficulty I see here is that terms don't seem to have any unique
identifiers, guess you'd have to manage those yourself...

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 09:28:12 2003
Return-Path: 
 <lucene-user-return-5925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84876 invoked from network); 12 Nov 2003 09:28:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 09:28:12 -0000
Received: (qmail 69863 invoked by uid 500); 12 Nov 2003 09:27:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69831 invoked by uid 500); 12 Nov 2003 09:27:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69816 invoked from network); 12 Nov 2003 09:27:42 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 12 Nov 2003 09:27:42 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hAC9Rqm3030707
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 10:27:52 +0100
Message-ID: <00e201c3a8ff$40b77e80$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031112030014.86306.qmail@web13903.mail.yahoo.com>
Subject: Re: Can use Lucene be used for this
Date: Wed, 12 Nov 2003 10:27:55 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I need to retrieve the value with simple queries on the data like:

> col1 like %ab&,

What does the ampersand mean?

> col2 like %aa%

Lucene doesn't handle queries where the start of the term is not known
very efficiently.

> and col3 sounds like aaaa;

No experience with this, but you could probably use the Soundex encoder
from http://jakarta.apache.org/commons/codec/ for transforming words
before indexing them (and before searching for them).

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 10:58:43 2003
Return-Path: 
 <lucene-user-return-5926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33467 invoked from network); 12 Nov 2003 10:58:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 10:58:43 -0000
Received: (qmail 88807 invoked by uid 500); 12 Nov 2003 10:58:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88777 invoked by uid 500); 12 Nov 2003 10:58:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88764 invoked from network); 12 Nov 2003 10:58:11 -0000
Received: from unknown (HELO relay3.clb.oleane.net) (213.56.31.23)
  by daedalus.apache.org with SMTP; 12 Nov 2003 10:58:11 -0000
Received: from keyword.fr ([217.167.201.1])
	by relay3.clb.oleane.net with ESMTP id hACAwNbC006910
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 11:58:23 +0100
Received: from 223.223.223.151
          by keyword.fr with SMTP; Wed, 12 Nov 2003 12:03:28 +0100
Received: by mercure.keyword.fr with Internet Mail Service (5.5.2653.19)
	id <W4GTHZK3>; Wed, 12 Nov 2003 11:55:24 +0100
Message-ID: <0AF7AA04641C6746926E99D22580E9B0067506@mercure.keyword.fr>
From: Pascal Nadal <Pascal.Nadal@Keyword.fr>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Wildcard search and HOST tokens
Date: Wed, 12 Nov 2003 11:55:23 +0100
Importance: low
X-Priority: 5
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3A90B.78DBC8F0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3A90B.78DBC8F0
Content-Type: text/plain;
	charset="iso-8859-1"

My lucene indexes contain fields with values like this  www.xxx.yyy.zzz
which are treated as HOST tokens.
My problem is the following : search results never contain documents with
such fields when doing a wildcard query or a fuzzy query. Only searches on
full field values work.
 
example queries: www*  www.* www.xxx* www?xxx?yyy www.yyy.y~ or just yyy
 
I'm using Lucene 1.2 and the StandardAnalyzer. It seems that the '.' is the
problem.
 
Is it a bug ?
 
I wrote a HostFilter class which tokenizes again HOST tokens and it seems to
work fine (full field values or wildcard queries)
 

------_=_NextPart_001_01C3A90B.78DBC8F0--

From MAILER-DAEMON Wed Nov 12 11:43:10 2003
Return-Path: 
 <lucene-user-return-5927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57165 invoked from network); 12 Nov 2003 11:43:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 11:43:10 -0000
Received: (qmail 46691 invoked by uid 500); 12 Nov 2003 11:42:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46644 invoked by uid 500); 12 Nov 2003 11:42:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46592 invoked from network); 12 Nov 2003 11:42:57 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 12 Nov 2003 11:42:57 -0000
Received: (cpmta 21452 invoked from network); 12 Nov 2003 03:42:57 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 12 Nov 2003 03:42:57 -0800
X-Sent: 12 Nov 2003 11:42:57 GMT
Date: Wed, 12 Nov 2003 06:43:09 -0500
Subject: Re: Wildcard search and HOST tokens
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <0AF7AA04641C6746926E99D22580E9B0067506@mercure.keyword.fr>
Message-Id: <6359386D-1505-11D8-9643-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 05:55  AM, Pascal Nadal wrote:
> My lucene indexes contain fields with values like this  www.xxx.yyy.zzz
> which are treated as HOST tokens.
> My problem is the following : search results never contain documents 
> with
> such fields when doing a wildcard query or a fuzzy query. Only 
> searches on
> full field values work.
>
> example queries: www*  www.* www.xxx* www?xxx?yyy www.yyy.y~ or just 
> yyy
>
> I'm using Lucene 1.2 and the StandardAnalyzer. It seems that the '.' 
> is the
> problem.
>
> Is it a bug ?

What does query.toString("<default field>") return?  This generally has 
a lot of clues on what happened in QueryParser.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 12:15:10 2003
Return-Path: 
 <lucene-user-return-5928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69145 invoked from network); 12 Nov 2003 12:15:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 12:15:10 -0000
Received: (qmail 80197 invoked by uid 500); 12 Nov 2003 12:15:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80164 invoked by uid 500); 12 Nov 2003 12:15:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80147 invoked from network); 12 Nov 2003 12:15:04 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 12 Nov 2003 12:15:04 -0000
Message-ID: <20031112121501.18894.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.92] by web12706.mail.yahoo.com via HTTP;
 Wed, 12 Nov 2003 04:15:01 PST
Date: Wed, 12 Nov 2003 04:15:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Reopen IndexWriter after delete?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16305.61026.148049.62137@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Correct.  write.lock is used for that.

Otis

--- Morus Walter <morus.walter@tanto-xipolis.de> wrote:
> Otis Gospodnetic writes:
> > 
> > No, it is not safe.  You should close the IndexWriter, then delete
> the
> > document and close IndexReader, and then get a new IndexWriter and
> > continue writing.
> > 
> IIRC lucene takes care that you do so.
> Locking prevents you from having an open IndexWriter and
> modify the index with an IndexReader (and vice verse).
> 
> Morus
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 12:37:29 2003
Return-Path: 
 <lucene-user-return-5929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77148 invoked from network); 12 Nov 2003 12:37:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 12:37:29 -0000
Received: (qmail 10219 invoked by uid 500); 12 Nov 2003 12:37:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10192 invoked by uid 500); 12 Nov 2003 12:37:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10179 invoked from network); 12 Nov 2003 12:37:22 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 12 Nov 2003 12:37:22 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hACCZQsV005162
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 13:35:26 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id NAA29349
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 13:35:37 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <WM4FASGV>; Wed, 12 Nov 2003 13:34:09 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881AFB@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Can use Lucene be used for this
Date: Wed, 12 Nov 2003 13:34:08 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>> col2 like %aa%

> Lucene doesn't handle queries where the start of the term is not =
known
> very efficiently.

Is it really able to handle them at all? I thought "*foo"-type queries =
were
not supported.

That's because I build two indexes for the purpose of simultaneous left =
and
right truncation. One "normal" index and another special one, which =
takes
tokens and breaks them down, for instance "foobar" would be indexed =
also as
"oobar" and "obar". For a query "*oba*" the left wildcard would cause =
the
special index to be searched for "oba*", not left truncated queries =
would
search the normal index.

The special index is created with maxFieldLength =3D 100000

build-time specialIndex vs. normalIndex: +60%
index size specialIndex vs. normalIndex: +240%
index size specialIndex vs. originalDocSize: +60%

Query execution is still very fast on a 3GB specialIndex.=20

I guess the usability depends on how large your document collection is =
and
what kind of search functionality you need. The drawbacks of this =
approach
are that proximity and phrase searches on the special index are busted. =


Would it make sense to prevent creating the prx-file to reduce index =
size
when not offering that kind of search anyway? Is it possible at all?

Best regards,
Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 13:06:17 2003
Return-Path: 
 <lucene-user-return-5930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91700 invoked from network); 12 Nov 2003 13:06:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 13:06:17 -0000
Received: (qmail 42991 invoked by uid 500); 12 Nov 2003 13:06:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42963 invoked by uid 500); 12 Nov 2003 13:06:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42940 invoked from network); 12 Nov 2003 13:06:09 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 12 Nov 2003 13:06:09 -0000
Received: (qmail 5578 invoked by uid 0); 12 Nov 2003 13:06:09 -0000
Date: Wed, 12 Nov 2003 14:06:09 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Overview to Lucene
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0017441361@gmx.net
X-Authenticated-IP: [193.63.235.44]
Message-ID: <10245.1068642369@www61.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello group,

can somebody give me an overview to Lucene? What high level components does
it include? Particularly I want to asnwer the following questions regarding
available functionalty:

1) Does Lucene provide a Vector Space IR Model (with TF/IDF and Cosine
Similarity)?
2) Does Lucene provide any collaborative filtering algoritms like
correlation / user ranking etc. ?
3) Does Lucene provide a Probabilistic Model?
4) Does Lucene provide anything for indexing XML documents and using XML
document structure for that? Or does it just work on flat text files?

Does anybody know good articles which demonstrate parts of that or give a
good start into Lucene?

Thanks,
Ralf

-- 
NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService

Jetzt kostenlos anmelden unter http://www.gmx.net

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 13:11:17 2003
Return-Path: 
 <lucene-user-return-5931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95662 invoked from network); 12 Nov 2003 13:11:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 13:11:17 -0000
Received: (qmail 55313 invoked by uid 500); 12 Nov 2003 13:11:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55282 invoked by uid 500); 12 Nov 2003 13:11:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55250 invoked from network); 12 Nov 2003 13:11:08 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 12 Nov 2003 13:11:08 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hACDB9vP005799
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 05:11:09 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-125-186.adslplus.ch [62.167.125.186])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hACDB8pa000793
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 05:11:09 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <10245.1068642369@www61.gmx.net>
References: <10245.1068642369@www61.gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <AECA7BF0-1511-11D8-804C-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Overview to Lucene
Date: Wed, 12 Nov 2003 14:11:09 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ralf,

On Nov 12, 2003, at 14:06, ambiesense@gmx.de wrote:

> Does anybody know good articles which demonstrate parts of that or 
> give a
> good start into Lucene?

Otis Gospodnetic's articles are a good starting point:

"Introduction to Text Indexing with Apache Jakarta Lucene"
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html

"Advanced Text Indexing with Lucene"
http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 14:16:28 2003
Return-Path: 
 <lucene-user-return-5932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34442 invoked from network); 12 Nov 2003 14:16:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 14:16:28 -0000
Received: (qmail 64230 invoked by uid 500); 12 Nov 2003 14:16:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64192 invoked by uid 500); 12 Nov 2003 14:16:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64142 invoked from network); 12 Nov 2003 14:16:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 12 Nov 2003 14:16:00 -0000
Received: (cpmta 4244 invoked from network); 12 Nov 2003 06:16:00 -0800
Received: from 128.143.184.35 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 12 Nov 2003 06:16:00 -0800
X-Sent: 12 Nov 2003 14:16:01 GMT
Date: Wed, 12 Nov 2003 09:16:16 -0500
Subject: Re: Can use Lucene be used for this
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AFB@pc.fiz-karlsruhe.de>
Message-Id: <C766FF12-151A-11D8-96EB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 07:34  AM, Hackl, Rene wrote:
>>> col2 like %aa%
>
>> Lucene doesn't handle queries where the start of the term is not known
>> very efficiently.
>
> Is it really able to handle them at all? I thought "*foo"-type queries 
> were
> not supported.

They are not supported by the QueryParser, but an API created 
WildcardQuery supports it.

I certainly do not recommend using prefix-style wildcard queries 
though, knowing what happens under the covers.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 15:46:48 2003
Return-Path: 
 <lucene-user-return-5933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2539 invoked from network); 12 Nov 2003 15:46:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 15:46:48 -0000
Received: (qmail 11150 invoked by uid 500); 12 Nov 2003 15:46:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11098 invoked by uid 500); 12 Nov 2003 15:46:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10874 invoked from network); 12 Nov 2003 15:46:33 -0000
Received: from unknown (HELO relay1.clb.oleane.net) (213.56.31.21)
  by daedalus.apache.org with SMTP; 12 Nov 2003 15:46:33 -0000
Received: from keyword.fr ([217.167.201.1])
	by relay1.clb.oleane.net with ESMTP id hACFkZ38007022
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 16:46:35 +0100
Received: from 223.223.223.151
          by keyword.fr with SMTP; Wed, 12 Nov 2003 16:51:42 +0100
Received: by mercure.keyword.fr with Internet Mail Service (5.5.2653.19)
	id <W4GTHZMD>; Wed, 12 Nov 2003 16:43:38 +0100
Message-ID: <0AF7AA04641C6746926E99D22580E9B006750B@mercure.keyword.fr>
From: Pascal Nadal <Pascal.Nadal@Keyword.fr>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Re: Re: Wildcard search and HOST tokens
Date: Wed, 12 Nov 2003 16:43:35 +0100
Importance: low
X-Priority: 5
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3A933.BB966DD0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3A933.BB966DD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

when I do a query.toString(<my default field>), it prints exactly my =
query.

example: title:FE.MENU*  gives  title:FE.MENU* FE.MENU*  when I search =
in
the default field and the field 'title'.

the HostFilter I wrote (that tokenizes again HOST tokens) works =
wonderfully.

PS: thanks Erik

 -----Message d'origine-----

De : Erik Hatcher [mailto:erik@ehatchersolutions.com]

Envoy=E9 : mercredi 12 novembre 2003 12:43

=C0 : Lucene Users List

Objet : Re: Wildcard search and HOST tokens

=20

On Wednesday, November 12, 2003, at 05:55 AM, Pascal Nadal wrote:

> My lucene indexes contain fields with values like this =
www.xxx.yyy.zzz

> which are treated as HOST tokens.

> My problem is the following : search results never contain documents=20

> with

> such fields when doing a wildcard query or a fuzzy query. Only=20

> searches on

> full field values work.

>

> example queries: www* www.* www.xxx* www?xxx?yyy www.yyy.y~ or just=20

> yyy

>

> I'm using Lucene 1.2 and the StandardAnalyzer. It seems that the '.'=20

> is the

> problem.

>

> Is it a bug ?

What does query.toString("<default field>") return? This generally has=20

a lot of clues on what happened in QueryParser.

Erik


------_=_NextPart_001_01C3A933.BB966DD0--

From MAILER-DAEMON Wed Nov 12 15:53:28 2003
Return-Path: 
 <lucene-user-return-5934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8692 invoked from network); 12 Nov 2003 15:53:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 15:53:28 -0000
Received: (qmail 29335 invoked by uid 500); 12 Nov 2003 15:53:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29310 invoked by uid 500); 12 Nov 2003 15:53:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29295 invoked from network); 12 Nov 2003 15:53:17 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 12 Nov 2003 15:53:17 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA06510
        for <lucene-user@jakarta.apache.org>;
 Wed, 12 Nov 2003 16:55:56 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA06504
        for <lucene-user@jakarta.apache.org>;
 Wed, 12 Nov 2003 16:55:55 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id QAA28916
        for <lucene-user@jakarta.apache.org>;
 Wed, 12 Nov 2003 16:55:34 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <WY1JAA65>; Wed, 12 Nov 2003 16:54:01 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA77@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Boost in Query Parser
Date: Wed, 12 Nov 2003 16:53:56 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3A935.2DCE2C25"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3A935.2DCE2C25
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello.

I've made a Filter which recognizes special words and return them in a
"boosted form", in a QueryParser sense.
For instance, when the filter receives "special_word", it returns
"special_word^3", so as to boost it.
The problem is that the QueryParser understands the boost syntax when =
the
string is given as an argument to the "parse" function, but does not =
get it
when it is generated by a filter in the Analyzer.
So, when my filter transforms "special_word" to "special_filter^3", the
QueryParser does not create a Query object with "special_word" as value =
to
look for and boost to 3, but with "special_word^3" to search and boost =
to 1.
Of course, it does not match anything.

Does anyone knows a solution to that problem ? Do I have to write my =
own
QueryParser from the beginning or do I just have to correct 2 ot 3 =
lines of
the original QueryParser to make it work the I'd like it to work ?

Thanks a lot.

Gilles Moyse.

-----Message d'origine-----
De : Erik Hatcher [mailto:erik@ehatchersolutions.com]
Envoy=E9 : mercredi 12 novembre 2003 15:16
=C0 : Lucene Users List
Objet : Re: Can use Lucene be used for this


On Wednesday, November 12, 2003, at 07:34  AM, Hackl, Rene wrote:
>>> col2 like %aa%
>
>> Lucene doesn't handle queries where the start of the term is not =
known
>> very efficiently.
>
> Is it really able to handle them at all? I thought "*foo"-type =
queries=20
> were
> not supported.

They are not supported by the QueryParser, but an API created=20
WildcardQuery supports it.

I certainly do not recommend using prefix-style wildcard queries=20
though, knowing what happens under the covers.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3A935.2DCE2C25--

From MAILER-DAEMON Wed Nov 12 16:04:19 2003
Return-Path: 
 <lucene-user-return-5935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15534 invoked from network); 12 Nov 2003 16:04:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 16:04:19 -0000
Received: (qmail 53163 invoked by uid 500); 12 Nov 2003 16:04:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53145 invoked by uid 500); 12 Nov 2003 16:04:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53132 invoked from network); 12 Nov 2003 16:04:08 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 12 Nov 2003 16:04:08 -0000
Received: (cpmta 17233 invoked from network); 12 Nov 2003 08:04:09 -0800
Received: from 128.143.184.35 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 12 Nov 2003 08:04:09 -0800
X-Sent: 12 Nov 2003 16:04:09 GMT
Date: Wed, 12 Nov 2003 11:04:25 -0500
Subject: Re: Wildcard search and HOST tokens
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <0AF7AA04641C6746926E99D22580E9B006750B@mercure.keyword.fr>
Message-Id: <E322066A-1529-11D8-96EB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 10:43  AM, Pascal Nadal wrote:
> the HostFilter I wrote (that tokenizes again HOST tokens) works 
> wonderfully.

I wonder if this has been fixed since Lucene 1.2.... could you try the 
latest 1.3RC build available and see if it works without your 
HostFilter?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 16:13:40 2003
Return-Path: 
 <lucene-user-return-5936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23469 invoked from network); 12 Nov 2003 16:13:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 16:13:40 -0000
Received: (qmail 77713 invoked by uid 500); 12 Nov 2003 16:13:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77687 invoked by uid 500); 12 Nov 2003 16:13:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77668 invoked from network); 12 Nov 2003 16:13:28 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 12 Nov 2003 16:13:28 -0000
Received: (cpmta 25547 invoked from network); 12 Nov 2003 08:13:29 -0800
Received: from 128.143.184.35 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 12 Nov 2003 08:13:29 -0800
X-Sent: 12 Nov 2003 16:13:29 GMT
Date: Wed, 12 Nov 2003 11:13:45 -0500
Subject: Re: Boost in Query Parser
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA77@NGMAIL3>
Message-Id: <30D6B4C2-152B-11D8-96EB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 10:53  AM, MOYSE Gilles (Cetelem) 
wrote:
> Hello.
>
> I've made a Filter which recognizes special words and return them in a
> "boosted form", in a QueryParser sense.
> For instance, when the filter receives "special_word", it returns
> "special_word^3", so as to boost it.
> The problem is that the QueryParser understands the boost syntax when 
> the
> string is given as an argument to the "parse" function, but does not 
> get it
> when it is generated by a filter in the Analyzer.
> So, when my filter transforms "special_word" to "special_filter^3", the
> QueryParser does not create a Query object with "special_word" as 
> value to
> look for and boost to 3, but with "special_word^3" to search and boost 
> to 1.
> Of course, it does not match anything.
>
> Does anyone knows a solution to that problem ? Do I have to write my 
> own
> QueryParser from the beginning or do I just have to correct 2 ot 3 
> lines of
> the original QueryParser to make it work the I'd like it to work ?

One idea is to pre-process the string before handing it to QueryParser 
and do a string replacement with the boosting (^3) added appropriately.

Writing your own QueryParser is certainly a possibility.  There is 
nothing really to "correct" with the original QueryParser in this 
regard as it is working by design and there really is no way to feed 
expressions back from the analysis back into the parsing - doesn't 
really seem like a good idea to me.  You can probably get away with 
subclassing QueryParser and overriding getFieldQuery to do what you 
want with the String passed in, and calling setBoost (rather than 
trying to inject "^3").

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 17:37:11 2003
Return-Path: 
 <lucene-user-return-5937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75919 invoked from network); 12 Nov 2003 17:37:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 17:37:11 -0000
Received: (qmail 16285 invoked by uid 500); 12 Nov 2003 17:37:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15970 invoked by uid 500); 12 Nov 2003 17:36:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15955 invoked from network); 12 Nov 2003 17:36:59 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 12 Nov 2003 17:36:59 -0000
Received: from [24.232.184.114] (helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AJyvO-0000me-ME
	for lucene-user@jakarta.apache.org; Wed, 12 Nov 2003 11:37:03 -0600
Message-ID: <00a101c3a944$54c9d6d0$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031111225823.69060.qmail@web12706.mail.yahoo.com>
 <002c01c3a8cd$dac85530$72b8e818@ernesto>
Subject: Re: Index pdf files with your content in lucene.
Date: Wed, 12 Nov 2003 14:42:21 -0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello

well, not work zip the files.

I can send files, if somebody won, to personal email.

And if somebody can post this in a web site, very cool.
I don�t post in a web site.

Ernesto.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 17:57:49 2003
Return-Path: 
 <lucene-user-return-5938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85094 invoked from network); 12 Nov 2003 17:57:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 17:57:49 -0000
Received: (qmail 45292 invoked by uid 500); 12 Nov 2003 17:57:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45084 invoked by uid 500); 12 Nov 2003 17:57:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45070 invoked from network); 12 Nov 2003 17:57:37 -0000
Received: from unknown (HELO hotmail.com) (65.54.247.99)
  by daedalus.apache.org with SMTP; 12 Nov 2003 17:57:37 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 12 Nov 2003 09:57:40 -0800
Received: from 200.36.100.4 by by2fd.bay2.hotmail.msn.com with HTTP;
	Wed, 12 Nov 2003 17:57:40 GMT
X-Originating-IP: [200.36.100.4]
X-Originating-Email: [eohg_76@hotmail.com]
From: "Elsa Hernandez" <eohg_76@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Connection Pooling
Date: Wed, 12 Nov 2003 17:57:40 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY2-F99Af40C7JSF900000411a@hotmail.com>
X-OriginalArrivalTime: 12 Nov 2003 17:57:40.0867 (UTC)
 FILETIME=[772BCD30:01C3A946]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi! Does anyone have the code of a Connection Pooling? I am using JDK 1.3.1.
Thank you!

_________________________________________________________________
The new MSN 8: advanced junk mail protection and 2 months FREE* 
http://join.msn.com/?page=features/junkmail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 18:11:18 2003
Return-Path: 
 <lucene-user-return-5939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91166 invoked from network); 12 Nov 2003 18:11:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 18:11:18 -0000
Received: (qmail 64755 invoked by uid 500); 12 Nov 2003 18:11:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64726 invoked by uid 500); 12 Nov 2003 18:11:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64660 invoked from network); 12 Nov 2003 18:11:01 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 12 Nov 2003 18:11:01 -0000
Received: (qmail 32487 invoked by uid 0); 12 Nov 2003 18:11:04 -0000
Date: Wed, 12 Nov 2003 19:11:04 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Vector Space Model in Lucene?
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0017441361@gmx.net
X-Authenticated-IP: [193.63.235.44]
Message-ID: <23877.1068660664@www47.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

does Lucene implement a Vector Space Model? If yes, does anybody have an
example of how using it?

Cheers,
Ralf

-- 
NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService

Jetzt kostenlos anmelden unter http://www.gmx.net

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 18:12:19 2003
Return-Path: 
 <lucene-user-return-5940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91682 invoked from network); 12 Nov 2003 18:12:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 18:12:19 -0000
Received: (qmail 66977 invoked by uid 500); 12 Nov 2003 18:12:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66953 invoked by uid 500); 12 Nov 2003 18:12:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66939 invoked from network); 12 Nov 2003 18:12:06 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 12 Nov 2003 18:12:06 -0000
Received: (qmail 9015 invoked by uid 0); 12 Nov 2003 18:12:08 -0000
Date: Wed, 12 Nov 2003 19:12:08 +0100 (MET)
From: "Ralf Bierig" <ambiesense@gmx.de>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Latent Semantic Indexing
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0017441361@gmx.net
X-Authenticated-IP: [193.63.235.44]
Message-ID: <29902.1068660728@www47.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does Lucene implement Latent Semantic Indexing? Examples? 

Ralf

-- 
NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService

Jetzt kostenlos anmelden unter http://www.gmx.net

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 20:06:27 2003
Return-Path: 
 <lucene-user-return-5941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51049 invoked from network); 12 Nov 2003 20:06:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 20:06:27 -0000
Received: (qmail 68133 invoked by uid 500); 12 Nov 2003 20:06:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68101 invoked by uid 500); 12 Nov 2003 20:06:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68087 invoked from network); 12 Nov 2003 20:06:12 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 12 Nov 2003 20:06:12 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 2D2A45D22
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 12:06:17 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hACK6H7M009797
	for lucene-user@jakarta.apache.org; Wed, 12 Nov 2003 12:06:17 -0800 (PST)
	(envelope-from dror)
Date: Wed, 12 Nov 2003 12:06:17 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reopen IndexWriter after delete?
Message-ID: <20031112200617.GY94919@rlx11.zapatec.com>
References: 
 <496A2C679221504D8B8AE4B10267E87602E0A016@gb-sm-cala-xm11.corp.disney.com>
 <20031111224637.45190.qmail@web12705.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031111224637.45190.qmail@web12705.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Which begs the question: why do you need to use an IndexReader rather
than an IndexWriter to delete an item?

On Tue, Nov 11, 2003 at 02:46:37PM -0800, Otis Gospodnetic wrote:
> > 1).  If I delete a term using an IndexReader, can I use an existing
> > IndexWriter to write to the index?  Or do I need to close and reopen
> > the IndexWriter?
> 
> No.  You should close IndexWriter first, then open IndexReader, then
> call delete, then close IndexReader, and then open a new IndexWriter.
> 
> > 2).  Is it safe to call IndexReader.delete(term) while an IndexWriter
> > is
> > writing?  Or should I be synchronizing these two tasks so only one
> > occurs at a time?
> 
> No, it is not safe.  You should close the IndexWriter, then delete the
> document and close IndexReader, and then get a new IndexWriter and
> continue writing.
> 
> Incidentally, I just wrote a section about concurrency issues and about
> locking in Lucene for the upcoming Lucene book.
> 
> Otis
> 
> 
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 21:11:49 2003
Return-Path: 
 <lucene-user-return-5942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9147 invoked from network); 12 Nov 2003 21:11:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 21:11:49 -0000
Received: (qmail 78762 invoked by uid 500); 12 Nov 2003 21:11:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78735 invoked by uid 500); 12 Nov 2003 21:11:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78721 invoked from network); 12 Nov 2003 21:11:32 -0000
Received: from unknown (HELO web25006.mail.ukl.yahoo.com) (217.12.10.42)
  by daedalus.apache.org with SMTP; 12 Nov 2003 21:11:32 -0000
Message-ID: <20031112211136.49756.qmail@web25006.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25006.mail.ukl.yahoo.com via HTTP;
 Wed, 12 Nov 2003 21:11:36 GMT
Date: Wed, 12 Nov 2003 21:11:36 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Poor Performance when searching for 500+ terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031112200617.GY94919@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I know this is rare, But I am building an application
that submits searches having 500+ search terms. A
general example would be 

field1:w1 OR field1:w2 OR ... OR field1:w500

For 1 millions documents, the performance is OK if
field1 in each document has less than 50 terms, I can
get result < 1 sec. but if field1 has more than
average 400 terms in each document, the performance
degrades to around 6 secs.

Is there anyway to improve this? 

And my second questions is that my query often comes
with an AND condition with another search word. for
example:

field2:w AND (field1:w1 OR field1:w2, ... field1:w500)

field2:w will only return less than 1000 records out
of 1 millions. then I thought I could use a
StringFilter Object? i.e. search on field2.w first,
thus limit the search for 500 OR only on the field2.w
1000 results. somewhat like a join in database. But I
checked the code and sees that IndexSearcher always
perfomance the 500 disk searches before calling the
filter object? Any suggestions on this?

Also does lucene caches results in memory? I see the
performance tends to get better after a few runs,
especailly on searches on fields having small number
of terms. If so, can I manipulate the cache size
somehow to accommdate fields with large number of
terms. 

Many thanks.


________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 23:41:57 2003
Return-Path: 
 <lucene-user-return-5943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78238 invoked from network); 12 Nov 2003 23:41:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 23:41:57 -0000
Received: (qmail 53336 invoked by uid 500); 12 Nov 2003 23:41:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53291 invoked by uid 500); 12 Nov 2003 23:41:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53229 invoked from network); 12 Nov 2003 23:41:37 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 12 Nov 2003 23:41:37 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Wed, 12 Nov 2003 17:41:40 -0600
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <V3BSV3BP>; Wed, 12 Nov 2003 17:41:39 -0600
Message-Id: <9F4C1F0CB0D4D6119A1D0002B39F80610405C8A0@excsrv55.mayo.edu>
From: "Majerus, John P." <Majerus.John@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Can use Lucene be used for this
Date: Wed, 12 Nov 2003 17:41:29 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,
This has probably been put forth on the list before, but how about the =
following approach for leftmost wildcard searches, at least for single =
term searches?

Reverse the character order of all words after they're stemmed and =
before they're added to a special reverse-character-order index. Any =
time a wildcard was found at the beginning of the search term the =
special index would be engaged. Then a search for "*bar" would be =
converted to a search for "rab*" on the RCO index, and the search would =
find "raboof", and this result would then be unreversed upon display to =
yield: "foobar".=20

Rene's special index could be several times larger in entry count, =
depending on the average length of the contained terms. A =
reverse-character-order index is the same size as its regular =
counterpart.

Cheers,
John
-----Original Message-----
From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
Sent: Wednesday, November 12, 2003 6:34 AM
To: 'Lucene Users List'
Subject: Re: Can use Lucene be used for this


>> col2 like %aa%

> Lucene doesn't handle queries where the start of the term is not =
known
> very efficiently.

Is it really able to handle them at all? I thought "*foo"-type queries =
were
not supported.

That's because I build two indexes for the purpose of simultaneous left =
and
right truncation. One "normal" index and another special one, which =
takes
tokens and breaks them down, for instance "foobar" would be indexed =
also as
"oobar" and "obar". For a query "*oba*" the left wildcard would cause =
the
special index to be searched for "oba*", not left truncated queries =
would
search the normal index.

The special index is created with maxFieldLength =3D 100000

build-time specialIndex vs. normalIndex: +60%
index size specialIndex vs. normalIndex: +240%
index size specialIndex vs. originalDocSize: +60%

Query execution is still very fast on a 3GB specialIndex.=20

I guess the usability depends on how large your document collection is =
and
what kind of search functionality you need. The drawbacks of this =
approach
are that proximity and phrase searches on the special index are busted. =


Would it make sense to prevent creating the prx-file to reduce index =
size
when not offering that kind of search anyway? Is it possible at all?

Best regards,
Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 12 23:59:38 2003
Return-Path: 
 <lucene-user-return-5944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84044 invoked from network); 12 Nov 2003 23:59:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Nov 2003 23:59:38 -0000
Received: (qmail 82794 invoked by uid 500); 12 Nov 2003 23:59:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82558 invoked by uid 500); 12 Nov 2003 23:59:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82545 invoked from network); 12 Nov 2003 23:59:19 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 12 Nov 2003 23:59:19 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.3/Switch-3.1.0) with ESMTP id hACNQQSY022390
	for <lucene-user@jakarta.apache.org>; Wed, 12 Nov 2003 15:58:05 -0800 (PST)
Received: from sm-cala-xc07.swna.wdpr.disney.com
 (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com
 with ESMTP; Wed, 12 Nov 2003 15:57:59 -0800
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 12 Nov 2003 15:57:41 -0800
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reopen IndexWriter after delete?
Date: Wed, 12 Nov 2003 15:57:40 -0800
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7DD1@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reopen IndexWriter after delete?
Thread-Index: AcOpWLA/sBqhsz7vTD6Mzj09+1NwVgAHslAw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 12 Nov 2003 23:57:41.0670 (UTC)
 FILETIME=[C240C460:01C3A978]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree it's a bit of a strange design.

It seems that there should be one class that handles all modifications
of the index.  Usually you'd only have one instance of this so you
wouldn't need to open and close it all the time (I'm basically writing
one of these classes myself to simplify my code.  I'm sure other people
have written a similar class).  There should be another class that is
responsible for searching.  You may have multiple instances of this so
you can have multiple headends searching the index.

The IndexWriter and IndexReader almost do this separation.  It seems
that if the IndexWriter had the delete functionality, instead of the
IndexReader, things would be a lot simplier (from a synchronization
standpoint).  Maybe Otis, Erik or Doug could suggest why this may or may
not be a good idea.

-Reece

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]=20
Sent: Wednesday, November 12, 2003 12:06 PM
To: Lucene Users List
Subject: Re: Reopen IndexWriter after delete?

Which begs the question: why do you need to use an IndexReader rather
than an IndexWriter to delete an item?

On Tue, Nov 11, 2003 at 02:46:37PM -0800, Otis Gospodnetic wrote:
> > 1).  If I delete a term using an IndexReader, can I use an existing
> > IndexWriter to write to the index?  Or do I need to close and reopen
> > the IndexWriter?
>=20
> No.  You should close IndexWriter first, then open IndexReader, then
> call delete, then close IndexReader, and then open a new IndexWriter.
>=20
> > 2).  Is it safe to call IndexReader.delete(term) while an
IndexWriter
> > is
> > writing?  Or should I be synchronizing these two tasks so only one
> > occurs at a time?
>=20
> No, it is not safe.  You should close the IndexWriter, then delete the
> document and close IndexReader, and then get a new IndexWriter and
> continue writing.
>=20
> Incidentally, I just wrote a section about concurrency issues and
about
> locking in Lucene for the upcoming Lucene book.
>=20
> Otis
>=20
>=20
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20

--=20
Dror Matalon
Zapatec Inc=20
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 04:53:19 2003
Return-Path: 
 <lucene-user-return-5945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86531 invoked from network); 13 Nov 2003 04:53:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 04:53:19 -0000
Received: (qmail 52252 invoked by uid 500); 13 Nov 2003 04:52:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52110 invoked by uid 500); 13 Nov 2003 04:52:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52075 invoked from network); 13 Nov 2003 04:52:36 -0000
Received: from unknown (HELO web41613.mail.yahoo.com) (66.218.93.113)
  by daedalus.apache.org with SMTP; 13 Nov 2003 04:52:36 -0000
Message-ID: <20031113045247.67846.qmail@web41613.mail.yahoo.com>
Received: from [4.21.160.2] by web41613.mail.yahoo.com via HTTP;
 Wed, 12 Nov 2003 20:52:47 PST
Date: Wed, 12 Nov 2003 20:52:47 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: QueryParser Rules article (Erik Hatcher)
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I thought Erik's article was great. There was one
unanswered brainbender I had which I was hoping was in
there, but... Maybe you can add this topic to the next
one, Erik? 

Here is my issue: 

When using the QueryParser class, the parse method
will throw a TokenMgrError when there is a syntax
error even as simple as a missing quote at the end of
a phrase query. According to the javadoc, you should
never see this class derived from Error being thrown
(oops?)

I did some searching on the archive for this list, and
turned up some old articles from 2001 in which Brian
Goetz was asking Paul Friedman for an example of a
query like that, so he could fix it. I saw that Paul
posted a sample, but I never saw a response back from
Brian.  Looking in the CHANGES.txt file all the way
back to 1.0 there is no mention of any modification
regarding exceptions or errors. 

Has anyone discovered a good practice for trapping
syntax problems and then returning an informative
message to the user on how to fix their query? I would
be interested in code samples as well if you have any
:)

Thanks a lot! 

-Tom



__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 05:20:16 2003
Return-Path: 
 <lucene-user-return-5946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97343 invoked from network); 13 Nov 2003 05:20:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 05:20:16 -0000
Received: (qmail 74763 invoked by uid 500); 13 Nov 2003 05:19:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74393 invoked by uid 500); 13 Nov 2003 05:19:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74362 invoked from network); 13 Nov 2003 05:19:46 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 13 Nov 2003 05:19:46 -0000
Received: (cpmta 13158 invoked from network); 12 Nov 2003 21:19:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 12 Nov 2003 21:19:56 -0800
X-Sent: 13 Nov 2003 05:19:56 GMT
Date: Thu, 13 Nov 2003 00:20:13 -0500
Subject: Re: QueryParser Rules article (Erik Hatcher)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
Cc: Lucene List <lucene-dev@jakarta.apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
In-Reply-To: <20031113045247.67846.qmail@web41613.mail.yahoo.com>
Message-Id: <0EF5E3D6-1599-11D8-81B8-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 11:52  PM, Tomcat Programmer wrote:
> I thought Erik's article was great. There was one
> unanswered brainbender I had which I was hoping was in
> there, but... Maybe you can add this topic to the next
> one, Erik?

Well, I'm not sure another article on QueryParser is warranted (yet), 
but I'll offer a response here....

> When using the QueryParser class, the parse method
> will throw a TokenMgrError when there is a syntax
> error even as simple as a missing quote at the end of
> a phrase query. According to the javadoc, you should
> never see this class derived from Error being thrown
> (oops?)

You must be using the instance parse method, rather than the static 
one.  The static one does this:

     try {
       QueryParser parser = new QueryParser(field, analyzer);
       return parser.parse(query);
     }
     catch (TokenMgrError tme) {
       throw new ParseException(tme.getMessage());
     }

But the instance parse method is declared to throw a TokenMgrError.

Why is that?   I'd be happy to put that same try/catch in the instance 
parse method, although I want to double check (CC'ing lucene-dev on 
this one).

Any reason not to remove the TokenMgrError exception from the instance 
parse method?

> Has anyone discovered a good practice for trapping
> syntax problems and then returning an informative
> message to the user on how to fix their query? I would
> be interested in code samples as well if you have any
> :)

There is the javascript piece in the sandbox that could help 
pre-parsing expressions for validity.  Otherwise, simply displaying 
acceptable examples of expressions is what I'd do.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 08:26:39 2003
Return-Path: 
 <lucene-user-return-5947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61610 invoked from network); 13 Nov 2003 08:26:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 08:26:39 -0000
Received: (qmail 9155 invoked by uid 500); 13 Nov 2003 08:26:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8927 invoked by uid 500); 13 Nov 2003 08:26:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8903 invoked from network); 13 Nov 2003 08:26:09 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 13 Nov 2003 08:26:09 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hAD8OPsV029295
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 09:24:25 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id JAA15772
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 09:24:36 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <WM4FAXB3>; Thu, 13 Nov 2003 09:23:07 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881AFD@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Can use Lucene be used for this
Date: Thu, 13 Nov 2003 09:22:57 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi John,

Indeed, the RCO index is ok for prefix-style wildcards. But it doesn't =
work
for _simultaneous_ left and right truncation ("*oba*"). I have no idea =
about
how often this kind of search is actually employed, but in this =
particular
context it is really needed (I sketched this before on this list, in =
brief:
documents contain very long strings for chemical substances, users are
interested in certain parts of the string e.g. find all documents that
comprise "*foo*" be it "1-foo-bar" or "rab-oof-13-foonyl-naphthalene"). =


Suggestions on improvements are always welcome! :-)

Best regards,
Ren=E9


-----Urspr=FCngliche Nachricht-----
Von: Majerus, John P. [mailto:Majerus.John@mayo.edu]
Gesendet am: Donnerstag, 13. November 2003 00:41
An: 'Lucene Users List'
Betreff: RE: Can use Lucene be used for this

Hello,
This has probably been put forth on the list before, but how about the
following approach for leftmost wildcard searches, at least for single =
term
searches?

Reverse the character order of all words after they're stemmed and =
before
they're added to a special reverse-character-order index. Any time a
wildcard was found at the beginning of the search term the special =
index
would be engaged. Then a search for "*bar" would be converted to a =
search
for "rab*" on the RCO index, and the search would find "raboof", and =
this
result would then be unreversed upon display to yield: "foobar".=20

Rene's special index could be several times larger in entry count, =
depending
on the average length of the contained terms. A reverse-character-order
index is the same size as its regular counterpart.

Cheers,
John
-----Original Message-----
From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
Sent: Wednesday, November 12, 2003 6:34 AM
To: 'Lucene Users List'
Subject: Re: Can use Lucene be used for this


>> col2 like %aa%

> Lucene doesn't handle queries where the start of the term is not =
known
> very efficiently.

Is it really able to handle them at all? I thought "*foo"-type queries =
were
not supported.

That's because I build two indexes for the purpose of simultaneous left =
and
right truncation. One "normal" index and another special one, which =
takes
tokens and breaks them down, for instance "foobar" would be indexed =
also as
"oobar" and "obar". For a query "*oba*" the left wildcard would cause =
the
special index to be searched for "oba*", not left truncated queries =
would
search the normal index.

The special index is created with maxFieldLength =3D 100000

build-time specialIndex vs. normalIndex: +60%
index size specialIndex vs. normalIndex: +240%
index size specialIndex vs. originalDocSize: +60%

Query execution is still very fast on a 3GB specialIndex.=20

I guess the usability depends on how large your document collection is =
and
what kind of search functionality you need. The drawbacks of this =
approach
are that proximity and phrase searches on the special index are busted. =


Would it make sense to prevent creating the prx-file to reduce index =
size
when not offering that kind of search anyway? Is it possible at all?

Best regards,
Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 08:36:32 2003
Return-Path: 
 <lucene-user-return-5948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67570 invoked from network); 13 Nov 2003 08:36:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 08:36:32 -0000
Received: (qmail 25144 invoked by uid 500); 13 Nov 2003 08:36:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24960 invoked by uid 500); 13 Nov 2003 08:36:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24947 invoked from network); 13 Nov 2003 08:36:03 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 13 Nov 2003 08:36:03 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 9A82C5D23
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 00:36:15 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAD8aFjD010934
	for lucene-user@jakarta.apache.org; Thu, 13 Nov 2003 00:36:15 -0800 (PST)
	(envelope-from dror)
Date: Thu, 13 Nov 2003 00:36:15 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can use Lucene be used for this
Message-ID: <20031113083614.GG94919@rlx11.zapatec.com>
References: <41EA24EC431CD411AA8200008385014F05881AFD@pc.fiz-karlsruhe.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AFD@pc.fiz-karlsruhe.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Nov 13, 2003 at 09:22:57AM +0100, Hackl, Rene wrote:
> Hi John,
> 
> Indeed, the RCO index is ok for prefix-style wildcards. But it doesn't work
> for _simultaneous_ left and right truncation ("*oba*"). I have no idea about
> how often this kind of search is actually employed, but in this particular
> context it is really needed (I sketched this before on this list, in brief:
> documents contain very long strings for chemical substances, users are
> interested in certain parts of the string e.g. find all documents that
> comprise "*foo*" be it "1-foo-bar" or "rab-oof-13-foonyl-naphthalene"). 

If you can figure out how to tell Lucene what the parts of strings are
when you create the index, it should be easy to do this. Otherwise, I
suspect that Lucene might not be the right tool for the job (more
experienced users might care to confirm).

DDJ did have a recent article that mentioned a solution to a similar
problem:

	Full-Text Searching & the Burrows-Wheeler Transform Kendall Willets

	Here's an indexing method that lets you find any character sequence in
	the source text using a structure that can fit the entire source text
	and index into less space than the text alone.

	http://www.ddj.com/articles/2003/0312/

Didn't look at it in depth though.

Regards,

Dror

> 
> Suggestions on improvements are always welcome! :-)
> 
> Best regards,
> Ren�
> 
> 
> -----Urspr�ngliche Nachricht-----
> Von: Majerus, John P. [mailto:Majerus.John@mayo.edu]
> Gesendet am: Donnerstag, 13. November 2003 00:41
> An: 'Lucene Users List'
> Betreff: RE: Can use Lucene be used for this
> 
> Hello,
> This has probably been put forth on the list before, but how about the
> following approach for leftmost wildcard searches, at least for single term
> searches?
> 
> Reverse the character order of all words after they're stemmed and before
> they're added to a special reverse-character-order index. Any time a
> wildcard was found at the beginning of the search term the special index
> would be engaged. Then a search for "*bar" would be converted to a search
> for "rab*" on the RCO index, and the search would find "raboof", and this
> result would then be unreversed upon display to yield: "foobar". 
> 
> Rene's special index could be several times larger in entry count, depending
> on the average length of the contained terms. A reverse-character-order
> index is the same size as its regular counterpart.
> 
> Cheers,
> John
> -----Original Message-----
> From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
> Sent: Wednesday, November 12, 2003 6:34 AM
> To: 'Lucene Users List'
> Subject: Re: Can use Lucene be used for this
> 
> 
> >> col2 like %aa%
> 
> > Lucene doesn't handle queries where the start of the term is not known
> > very efficiently.
> 
> Is it really able to handle them at all? I thought "*foo"-type queries were
> not supported.
> 
> That's because I build two indexes for the purpose of simultaneous left and
> right truncation. One "normal" index and another special one, which takes
> tokens and breaks them down, for instance "foobar" would be indexed also as
> "oobar" and "obar". For a query "*oba*" the left wildcard would cause the
> special index to be searched for "oba*", not left truncated queries would
> search the normal index.
> 
> The special index is created with maxFieldLength = 100000
> 
> build-time specialIndex vs. normalIndex: +60%
> index size specialIndex vs. normalIndex: +240%
> index size specialIndex vs. originalDocSize: +60%
> 
> Query execution is still very fast on a 3GB specialIndex. 
> 
> I guess the usability depends on how large your document collection is and
> what kind of search functionality you need. The drawbacks of this approach
> are that proximity and phrase searches on the special index are busted. 
> 
> Would it make sense to prevent creating the prx-file to reduce index size
> when not offering that kind of search anyway? Is it possible at all?
> 
> Best regards,
> Ren�
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 09:22:15 2003
Return-Path: 
 <lucene-user-return-5949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87715 invoked from network); 13 Nov 2003 09:22:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 09:22:15 -0000
Received: (qmail 5189 invoked by uid 500); 13 Nov 2003 09:21:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4989 invoked by uid 500); 13 Nov 2003 09:21:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4976 invoked from network); 13 Nov 2003 09:21:44 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 13 Nov 2003 09:21:44 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hAD9K1sV000923
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:20:01 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id KAA28858
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:20:12 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <WM4FAXPM>; Thu, 13 Nov 2003 10:18:43 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881AFE@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Can use Lucene be used for this
Date: Thu, 13 Nov 2003 10:18:33 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> If you can figure out how to tell Lucene what the parts of strings =
are
> when you create the index, it should be easy to do this.=20

Well, sometimes different kinds of brackets, hyphens and =
interpunctation
signs=20
would inherently belong to strings, sometimes not. The whole collection =
as
such
is rather heterogeneous and on top of it multilingual, and the app has =
to=20
satisfy different user needs. But ... (continued)

> Otherwise, I
> suspect that Lucene might not be the right tool for the job (more
> experienced users might care to confirm).

...we used Oracle Intermedia for text retrieval until now and the rest =
is
silence... ;-)

> DDJ did have a recent article that mentioned a solution to a similar
> problem:
>=20
>	Full-Text Searching & the Burrows-Wheeler Transform Kendall Willets

Thanks for the pointer!

Best regards,

Ren=E9


> Regards,
>=20
> Dror
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 11:09:28 2003
Return-Path: 
 <lucene-user-return-5950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45676 invoked from network); 13 Nov 2003 11:09:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 11:09:28 -0000
Received: (qmail 89333 invoked by uid 500); 13 Nov 2003 11:08:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88999 invoked by uid 500); 13 Nov 2003 11:08:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88986 invoked from network); 13 Nov 2003 11:08:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 13 Nov 2003 11:08:55 -0000
Received: (cpmta 27033 invoked from network); 13 Nov 2003 03:09:09 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 13 Nov 2003 03:09:09 -0800
X-Sent: 13 Nov 2003 11:09:09 GMT
Date: Thu, 13 Nov 2003 06:09:25 -0500
Subject: Re: Can use Lucene be used for this
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AFD@pc.fiz-karlsruhe.de>
Message-Id: <D750974E-15C9-11D8-A05F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 03:22  AM, Hackl, Rene wrote:
> documents contain very long strings for chemical substances, users are
> interested in certain parts of the string e.g. find all documents that
> comprise "*foo*" be it "1-foo-bar" or "rab-oof-13-foonyl-naphthalene").

So you're saying you want users to be able to search for "of-13" and 
match that second one?  User's really are demanding that?

> Suggestions on improvements are always welcome! :-)

It seems like some very clever tokenization during analysis is what 
you're after.  If you tokenized by dash (yes, you mentioned in the next 
message it is more complex than that, but just for this example let's 
simplify it to that), then the first document would have "1", "foo", 
"bar", and the second would have "rab", "oof", "13", "foonyl", and 
"naphthalene".

A PrefixQuery (not even a WildcardQuery) for "foo" would find both.

Now suppose the users want to search for "oo" and find both documents.  
First, I'd probably argue that this doesn't really make sense given the 
domain.

But, keep in mind that WildcardQuery itself does support "*oo*" and it 
would work as expected (although with the performance caveat if the 
index is huge).  If you want QueryParser to support a leading wildcard 
character, you would have to customize it yourself.

Another, perhaps ridiculous, alternative is to index each sequence of 
characters for each piece as tokens too: "f", "fo", "foo", "foon", 
"foony", "foonyl", "o", "oo", "oon".... and so on.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 11:40:15 2003
Return-Path: 
 <lucene-user-return-5951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63621 invoked from network); 13 Nov 2003 11:40:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 11:40:15 -0000
Received: (qmail 32378 invoked by uid 500); 13 Nov 2003 11:40:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32337 invoked by uid 500); 13 Nov 2003 11:40:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32286 invoked from network); 13 Nov 2003 11:40:07 -0000
Received: from unknown (HELO smtp1.clb.oleane.net) (213.56.31.17)
  by daedalus.apache.org with SMTP; 13 Nov 2003 11:40:07 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp1.clb.oleane.net with ESMTP id hADBe5f0028729
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 12:40:05 +0100
Message-ID: <004e01c3a9db$b1a04af0$690010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031112211136.49756.qmail@web25006.mail.ukl.yahoo.com>
Subject: Re: Poor Performance when searching for 500+ terms
Date: Thu, 13 Nov 2003 12:45:50 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Since there are a lot of Term objects in your Query, your application must
spend a lot of time collecting information about those Terms.

1/ Do you use RAMDirectory? Loading the whole Directory into memory will
increase speed - your index must not be too big though

2/ You are probably not using the QueryParser - so when you are building the
Query you could sort the Term objects inside a BooleanQuery. Sorting the
Terms will reduce jumps on disk. I have no benchmarks for this, but
logically, it should have some positive effect when using FSDirectory. Am I
wrong?

3/ There was a patch submitted by Dmitry Serebrennikov
(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
which reduced garbage collecting by limiting the creation of temporary Term
objects. This patch has not been included in Lucene code (a bug in it?).

Hope it helps.

Julien

----- Original Message -----
From: "Jie Yang" <jyang_work@yahoo.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, November 12, 2003 10:11 PM
Subject: Poor Performance when searching for 500+ terms


> I know this is rare, But I am building an application
> that submits searches having 500+ search terms. A
> general example would be
>
> field1:w1 OR field1:w2 OR ... OR field1:w500
>
> For 1 millions documents, the performance is OK if
> field1 in each document has less than 50 terms, I can
> get result < 1 sec. but if field1 has more than
> average 400 terms in each document, the performance
> degrades to around 6 secs.
>
> Is there anyway to improve this?
>
> And my second questions is that my query often comes
> with an AND condition with another search word. for
> example:
>
> field2:w AND (field1:w1 OR field1:w2, ... field1:w500)
>
> field2:w will only return less than 1000 records out
> of 1 millions. then I thought I could use a
> StringFilter Object? i.e. search on field2.w first,
> thus limit the search for 500 OR only on the field2.w
> 1000 results. somewhat like a join in database. But I
> checked the code and sees that IndexSearcher always
> perfomance the 500 disk searches before calling the
> filter object? Any suggestions on this?
>
> Also does lucene caches results in memory? I see the
> performance tends to get better after a few runs,
> especailly on searches on fields having small number
> of terms. If so, can I manipulate the cache size
> somehow to accommdate fields with large number of
> terms.
>
> Many thanks.
>
>
> ________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 11:47:17 2003
Return-Path: 
 <lucene-user-return-5952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66343 invoked from network); 13 Nov 2003 11:47:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 11:47:17 -0000
Received: (qmail 38535 invoked by uid 500); 13 Nov 2003 11:47:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38504 invoked by uid 500); 13 Nov 2003 11:47:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38490 invoked from network); 13 Nov 2003 11:47:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 13 Nov 2003 11:47:11 -0000
Received: (cpmta 17534 invoked from network); 13 Nov 2003 03:47:11 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 13 Nov 2003 03:47:11 -0800
X-Sent: 13 Nov 2003 11:47:11 GMT
Date: Thu, 13 Nov 2003 06:47:27 -0500
Subject: Re: QueryParser Rules article (Erik Hatcher)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031113045247.67846.qmail@web41613.mail.yahoo.com>
Message-Id: <27A70E05-15CF-11D8-A05F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 12, 2003, at 11:52  PM, Tomcat Programmer wrote:
> When using the QueryParser class, the parse method
> will throw a TokenMgrError when there is a syntax
> error even as simple as a missing quote at the end of
> a phrase query. According to the javadoc, you should
> never see this class derived from Error being thrown
> (oops?)

After looking at it some more, I decided that only ParseException 
should come out of either of the parse methods and committed the 
change.  I'm not sure why TokenMgrError was ever publicly exposed from 
the instance parse method.  If there is a good reason we can change it 
back, but I don't see any reason.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 12:20:21 2003
Return-Path: 
 <lucene-user-return-5953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78665 invoked from network); 13 Nov 2003 12:20:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 12:20:21 -0000
Received: (qmail 88142 invoked by uid 500); 13 Nov 2003 12:20:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88093 invoked by uid 500); 13 Nov 2003 12:20:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88080 invoked from network); 13 Nov 2003 12:20:14 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 13 Nov 2003 12:20:14 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hADCIIsV006843
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 13:18:18 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id NAA13629
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 13:18:29 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <WM4FAY62>; Thu, 13 Nov 2003 13:17:00 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881AFF@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Can use Lucene be used for this
Date: Thu, 13 Nov 2003 13:16:54 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>> documents contain very long strings for chemical substances, users =
are
>> interested in certain parts of the string e.g. find all documents =
that
>> comprise "*foo*" be it "1-foo-bar" or =
"rab-oof-13-foonyl-naphthalene").

> So you're saying you want users to be able to search for "of-13" and=20
> match that second one?  User's really are demanding that?

Yes and yes. Users range from Information Professionals to "naive" end
users.
If there's a string like "N-(t-Butyl)-N-(3,5-dinitrobenzoyl)-nitroxyl" =
users
can be expected to search for "dinitro", "3,5-dinitro", "nitrobenz" =
etc.

There are also sequences of amino acids or DNA that users might want to
match
partially.=20

> But, keep in mind that WildcardQuery itself does support "*oo*" and =
it=20
> would work as expected (although with the performance caveat if the=20
> index is huge).  If you want QueryParser to support a leading =
wildcard=20
> character, you would have to customize it yourself.

That's what I have been pondering about the whole morning and I'm going =
to
give
it a try. As far as I have tested, Lucene carries out these queries far
quicker=20
than your average relational DB text retrieval tool :-)

Thanks a lot for your comments!

Best regards,

Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 13:36:05 2003
Return-Path: 
 <lucene-user-return-5954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21073 invoked from network); 13 Nov 2003 13:36:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 13:36:05 -0000
Received: (qmail 50086 invoked by uid 500); 13 Nov 2003 13:35:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50055 invoked by uid 500); 13 Nov 2003 13:35:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50042 invoked from network); 13 Nov 2003 13:35:58 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 13 Nov 2003 13:35:58 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 13 Nov 2003 08:35:57 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hADDZux02951
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 08:35:57 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Can use Lucene be used for this
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 13 Nov 2003 08:35:56 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124116A@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can use Lucene be used for this
Thread-Index: AcOp4IMNMqSsZ0W3S+C5p634FHZsWgACmbBw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i suggest that you use a special tokenizer that breaks chemical names =
into their constituent parts and index them as if they were words.

Herb....

-----Original Message-----
From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
Sent: Thursday, November 13, 2003 7:17 AM
To: 'Lucene Users List'
Subject: Re: Can use Lucene be used for this

Yes and yes. Users range from Information Professionals to "naive" end
users.
If there's a string like "N-(t-Butyl)-N-(3,5-dinitrobenzoyl)-nitroxyl" =
users
can be expected to search for "dinitro", "3,5-dinitro", "nitrobenz" etc.

There are also sequences of amino acids or DNA that users might want to
match
partially.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 14:10:44 2003
Return-Path: 
 <lucene-user-return-5955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42307 invoked from network); 13 Nov 2003 14:10:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 14:10:44 -0000
Received: (qmail 20573 invoked by uid 500); 13 Nov 2003 14:10:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20544 invoked by uid 500); 13 Nov 2003 14:10:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20530 invoked from network); 13 Nov 2003 14:10:32 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 13 Nov 2003 14:10:32 -0000
Received: from smail.uni-koeln.de (xdsl-213-196-211-137.netcologne.de
 [213.196.211.137])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hADEAQBq012099
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 15:10:31 +0100
Message-ID: <3FB390B0.5010002@smail.uni-koeln.de>
Date: Thu, 13 Nov 2003 15:09:52 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: fuzzy searches
References: <3FB13A96.9090108@smail.uni-koeln.de>
 <3FB1406A.4070705@jivesoftware.com>
In-Reply-To: <3FB1406A.4070705@jivesoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Bruce,

i am not familiar with intelectual property law, but it sounds somewhat 
strange to me, that it is possible to patent an abstract idea of hom 
extracting information from data.

i can understand, that it is forbidden to reuse/modify sourcecode of a 
given implementation of lsi, but why shouldn�t i build my own indexer, 
if able to do so?

btw, do you know the owner of the patent?


thanks a lot


thomas



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 14:18:08 2003
Return-Path: 
 <lucene-user-return-5956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48582 invoked from network); 13 Nov 2003 14:18:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 14:18:08 -0000
Received: (qmail 44393 invoked by uid 500); 13 Nov 2003 14:17:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44327 invoked by uid 500); 13 Nov 2003 14:17:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44258 invoked from network); 13 Nov 2003 14:17:02 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 13 Nov 2003 14:17:02 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hADEH49D024562
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 06:17:04 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-211-220.adslplus.ch [62.167.211.220])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hADEH1pa001419
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 06:17:03 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <3FB390B0.5010002@smail.uni-koeln.de>
References: <3FB13A96.9090108@smail.uni-koeln.de>
 <3FB1406A.4070705@jivesoftware.com> <3FB390B0.5010002@smail.uni-koeln.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <0D930522-15E4-11D8-A8EA-000393760B7E@mac.com>
Content-Transfer-Encoding: quoted-printable
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: fuzzy searches
Date: Thu, 13 Nov 2003 15:17:03 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 13, 2003, at 15:09, Thomas Kr=E4mer wrote:

> i am not familiar with intelectual property law, but it sounds=20
> somewhat strange to me, that it is possible to patent an abstract idea=20=

> of hom extracting information from data.

The process of "Spreading Cream Cheese On Bagels" (C) (R) (TM)  has=20
been patented. The end is near.

patent, noun The notion that you can protect from the future what you=20
stole from the past.

http://www.eod.com/devil/archive/copyright.html

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 14:23:56 2003
Return-Path: 
 <lucene-user-return-5957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57152 invoked from network); 13 Nov 2003 14:23:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 14:23:56 -0000
Received: (qmail 68971 invoked by uid 500); 13 Nov 2003 14:23:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68941 invoked by uid 500); 13 Nov 2003 14:23:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68894 invoked from network); 13 Nov 2003 14:23:34 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 13 Nov 2003 14:23:34 -0000
Received: (cpmta 5 invoked from network); 13 Nov 2003 06:23:35 -0800
Received: from 128.143.103.193 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 13 Nov 2003 06:23:35 -0800
X-Sent: 13 Nov 2003 14:23:35 GMT
Date: Thu, 13 Nov 2003 09:23:52 -0500
Subject: Re: Can use Lucene be used for this
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AFF@pc.fiz-karlsruhe.de>
Message-Id: <0179F380-15E5-11D8-9110-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 07:16  AM, Hackl, Rene wrote:
> Yes and yes. Users range from Information Professionals to "naive" end
> users.
> If there's a string like "N-(t-Butyl)-N-(3,5-dinitrobenzoyl)-nitroxyl" 
> users
> can be expected to search for "dinitro", "3,5-dinitro", "nitrobenz" 
> etc.

Each of the phrases you list here could be extracted by a domain-smart 
tokenizer, I would think.

> There are also sequences of amino acids or DNA that users might want to
> match
> partially.

I find your use-cases extremely interesting.  Please do keep us posted 
if you come up with something clever in this respect.

> That's what I have been pondering about the whole morning and I'm 
> going to
> give
> it a try. As far as I have tested, Lucene carries out these queries far
> quicker
> than your average relational DB text retrieval tool :-)

Cool.  Lucene rocks!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 14:34:42 2003
Return-Path: 
 <lucene-user-return-5958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62784 invoked from network); 13 Nov 2003 14:34:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 14:34:42 -0000
Received: (qmail 97575 invoked by uid 500); 13 Nov 2003 14:34:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97306 invoked by uid 500); 13 Nov 2003 14:34:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97290 invoked from network); 13 Nov 2003 14:34:32 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.83)
  by daedalus.apache.org with SMTP; 13 Nov 2003 14:34:32 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hADEcubo006854
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 06:38:56 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-211-220.adslplus.ch [62.167.211.220])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hADEYWpa007941
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 06:34:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <3FB1406A.4070705@jivesoftware.com>
References: <3FB13A96.9090108@smail.uni-koeln.de>
 <3FB1406A.4070705@jivesoftware.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <809C76F4-15E6-11D8-BFB4-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: fuzzy searches
Date: Thu, 13 Nov 2003 15:34:35 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 11, 2003, at 21:02, Bruce Ritchie wrote:

> Just a note the LSI is encumbered by US patents 4,839,853 and 
> 5,301,109. It would be wise to make sure that any implementation is 
> either blessed by the patent holders or does not infringe on the 
> patents.

Since when did developers turn into armchair IP lawyers? Is it a 
national game?

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 14:35:13 2003
Return-Path: 
 <lucene-user-return-5959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63050 invoked from network); 13 Nov 2003 14:35:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 14:35:13 -0000
Received: (qmail 99075 invoked by uid 500); 13 Nov 2003 14:35:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99044 invoked by uid 500); 13 Nov 2003 14:35:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99025 invoked from network); 13 Nov 2003 14:35:01 -0000
Received: from unknown (HELO web25003.mail.ukl.yahoo.com) (217.12.10.39)
  by daedalus.apache.org with SMTP; 13 Nov 2003 14:35:01 -0000
Message-ID: <20031113143500.47253.qmail@web25003.mail.ukl.yahoo.com>
Received: from [212.161.34.67] by web25003.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 14:35:00 GMT
Date: Thu, 13 Nov 2003 14:35:00 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re:  Poor Performance when searching for 500+ terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FB390B0.5010002@smail.uni-koeln.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Julian

I am not using RAMDirectory due to the large size of
index file. the index generated on hard disc is 1.57G
for 1 million documents, each document has average 500
terms. I am using Field.UnStored(fieldName, terms), so
i beliece I am not storing the documents, just the
index. (is that right?) is there anyway to reduce the
index size created? also What is the maximum size of
data can be stored in RAMDirectory? I suppose I could
get a 10G RAM solaris box, but would that be advisable
say storing 2-3G of index data in memory? Also, what
is the performance boost factor when RAMDirectory
comparing to FSDirectory. Are we taling about > 100%
here?

On your 2nd and 3rd suggestion, I probably run the
latest code that includes the fix by Dmitry
Serebrennikov, the build was checked out from CVS
yesterday. and I used a QueryParser similar to the one
used in the demo code.

Again, I still feel a bit curious and want to find out
does lucene do (or in the future) pre-filter on "AND
join conditions". For example, A AND (B OR C OR D). if
A finds 100 docs out of 1 million, can lucene restrict
the searchs on B,C,D only within the 100 docs found?

Thanks a lot.



 



>Response to: Poor Performance when searching for 500+
>terms (Jie Yang) 

>From: Julien Nioche <Julien.Nioche@lingway.com>
Subject: Poor Performance when searching for 500+
terms
>Date: Thu, 13 Nov 2003 12:45:50 +0100
>Content-Type: text/plain; charset="iso-8859-1"
>
>Hello,
>
>Since there are a lot of Term objects in your Query, 
>your application must
>spend a lot of time collecting information about 
>those Terms.
>
>1/ Do you use RAMDirectory? Loading the whole 
>Directory into memory will
>increase speed - your index must not be too big
though
>
>2/ You are probably not using the QueryParser - so 
>when you are building the
>Query you could sort the Term objects inside a 
>BooleanQuery. Sorting the
>Terms will reduce jumps on disk. I have no benchmarks

>for this, but
>logically, it should have some positive effect when 
>using FSDirectory. Am I wrong?

>3/ There was a patch submitted by Dmitry
Serebrennikov
>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
>which reduced garbage collecting by limiting the 
>creation of temporary Term objects. This patch has 
>not been included in Lucene code (a bug in it?).
>
>Hope it helps.
>
>Julien


________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 15:33:17 2003
Return-Path: 
 <lucene-user-return-5960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10893 invoked from network); 13 Nov 2003 15:33:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 15:33:17 -0000
Received: (qmail 37985 invoked by uid 500); 13 Nov 2003 15:33:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37789 invoked by uid 500); 13 Nov 2003 15:33:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37776 invoked from network); 13 Nov 2003 15:33:02 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 13 Nov 2003 15:33:02 -0000
Message-ID: <20031113153301.88532.qmail@web12702.mail.yahoo.com>
Received: from [194.152.216.174] by web12702.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 07:33:01 PST
Date: Thu, 13 Nov 2003 07:33:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Vector Space Model in Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <23877.1068660664@www47.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene does not implement vector space model.

Otis

--- ambiesense@gmx.de wrote:
> Hi,
> 
> does Lucene implement a Vector Space Model? If yes, does anybody have
> an
> example of how using it?
> 
> Cheers,
> Ralf
> 
> -- 
> NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
> Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService
> 
> Jetzt kostenlos anmelden unter http://www.gmx.net
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 15:33:59 2003
Return-Path: 
 <lucene-user-return-5961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11162 invoked from network); 13 Nov 2003 15:33:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 15:33:59 -0000
Received: (qmail 39439 invoked by uid 500); 13 Nov 2003 15:33:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39407 invoked by uid 500); 13 Nov 2003 15:33:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39391 invoked from network); 13 Nov 2003 15:33:44 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 13 Nov 2003 15:33:44 -0000
Message-ID: <20031113153343.53971.qmail@web12708.mail.yahoo.com>
Received: from [194.152.216.174] by web12708.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 07:33:43 PST
Date: Thu, 13 Nov 2003 07:33:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Latent Semantic Indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <29902.1068660728@www47.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, sorry.

Otis

--- Ralf Bierig <ambiesense@gmx.de> wrote:
> Does Lucene implement Latent Semantic Indexing? Examples? 
> 
> Ralf
> 
> -- 
> NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
> Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService
> 
> Jetzt kostenlos anmelden unter http://www.gmx.net
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 15:35:09 2003
Return-Path: 
 <lucene-user-return-5962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13792 invoked from network); 13 Nov 2003 15:35:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 15:35:09 -0000
Received: (qmail 41140 invoked by uid 500); 13 Nov 2003 15:35:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40896 invoked by uid 500); 13 Nov 2003 15:34:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40883 invoked from network); 13 Nov 2003 15:34:58 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 13 Nov 2003 15:34:58 -0000
Message-ID: <20031113153500.90398.qmail@web12702.mail.yahoo.com>
Received: from [194.152.216.174] by web12702.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 07:35:00 PST
Date: Thu, 13 Nov 2003 07:35:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Reopen IndexWriter after delete?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031112200617.GY94919@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Because Lucene has to first find the segment that the specified
document is in, and this is done via IndexReaders, not IndexWriters.

More about this in the Lucene book.

Otis


--- Dror Matalon <dror@zapatec.com> wrote:
> Which begs the question: why do you need to use an IndexReader rather
> than an IndexWriter to delete an item?
> 
> On Tue, Nov 11, 2003 at 02:46:37PM -0800, Otis Gospodnetic wrote:
> > > 1).  If I delete a term using an IndexReader, can I use an
> existing
> > > IndexWriter to write to the index?  Or do I need to close and
> reopen
> > > the IndexWriter?
> > 
> > No.  You should close IndexWriter first, then open IndexReader,
> then
> > call delete, then close IndexReader, and then open a new
> IndexWriter.
> > 
> > > 2).  Is it safe to call IndexReader.delete(term) while an
> IndexWriter
> > > is
> > > writing?  Or should I be synchronizing these two tasks so only
> one
> > > occurs at a time?
> > 
> > No, it is not safe.  You should close the IndexWriter, then delete
> the
> > document and close IndexReader, and then get a new IndexWriter and
> > continue writing.
> > 
> > Incidentally, I just wrote a section about concurrency issues and
> about
> > locking in Lucene for the upcoming Lucene book.
> > 
> > Otis
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > Protect your identity with Yahoo! Mail AddressGuard
> > http://antispam.yahoo.com/whatsnewfree
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 15:36:45 2003
Return-Path: 
 <lucene-user-return-5963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16636 invoked from network); 13 Nov 2003 15:36:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 15:36:45 -0000
Received: (qmail 43646 invoked by uid 500); 13 Nov 2003 15:36:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43499 invoked by uid 500); 13 Nov 2003 15:36:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43486 invoked from network); 13 Nov 2003 15:36:34 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 13 Nov 2003 15:36:34 -0000
Message-ID: <20031113153634.54481.qmail@web12708.mail.yahoo.com>
Received: from [194.152.216.174] by web12708.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 07:36:34 PST
Date: Thu, 13 Nov 2003 07:36:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Reopen IndexWriter after delete?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7DD1@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest checking the list archive.  Doug has explained the reasons
behind the current design several times.

Otis


--- "Wilton, Reece" <Reece.Wilton@dig.com> wrote:
> I agree it's a bit of a strange design.
> 
> It seems that there should be one class that handles all
> modifications
> of the index.  Usually you'd only have one instance of this so you
> wouldn't need to open and close it all the time (I'm basically
> writing
> one of these classes myself to simplify my code.  I'm sure other
> people
> have written a similar class).  There should be another class that is
> responsible for searching.  You may have multiple instances of this
> so
> you can have multiple headends searching the index.
> 
> The IndexWriter and IndexReader almost do this separation.  It seems
> that if the IndexWriter had the delete functionality, instead of the
> IndexReader, things would be a lot simplier (from a synchronization
> standpoint).  Maybe Otis, Erik or Doug could suggest why this may or
> may
> not be a good idea.
> 
> -Reece
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com] 
> Sent: Wednesday, November 12, 2003 12:06 PM
> To: Lucene Users List
> Subject: Re: Reopen IndexWriter after delete?
> 
> Which begs the question: why do you need to use an IndexReader rather
> than an IndexWriter to delete an item?
> 
> On Tue, Nov 11, 2003 at 02:46:37PM -0800, Otis Gospodnetic wrote:
> > > 1).  If I delete a term using an IndexReader, can I use an
> existing
> > > IndexWriter to write to the index?  Or do I need to close and
> reopen
> > > the IndexWriter?
> > 
> > No.  You should close IndexWriter first, then open IndexReader,
> then
> > call delete, then close IndexReader, and then open a new
> IndexWriter.
> > 
> > > 2).  Is it safe to call IndexReader.delete(term) while an
> IndexWriter
> > > is
> > > writing?  Or should I be synchronizing these two tasks so only
> one
> > > occurs at a time?
> > 
> > No, it is not safe.  You should close the IndexWriter, then delete
> the
> > document and close IndexReader, and then get a new IndexWriter and
> > continue writing.
> > 
> > Incidentally, I just wrote a section about concurrency issues and
> about
> > locking in Lucene for the upcoming Lucene book.
> > 
> > Otis
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > Protect your identity with Yahoo! Mail AddressGuard
> > http://antispam.yahoo.com/whatsnewfree
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 15:49:12 2003
Return-Path: 
 <lucene-user-return-5964-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30575 invoked from network); 13 Nov 2003 15:49:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 15:49:12 -0000
Received: (qmail 65177 invoked by uid 500); 13 Nov 2003 15:49:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64961 invoked by uid 500); 13 Nov 2003 15:49:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64947 invoked from network); 13 Nov 2003 15:49:01 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 13 Nov 2003 15:49:01 -0000
Message-ID: <20031113154904.66835.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.174] by web12706.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 07:49:04 PST
Date: Thu, 13 Nov 2003 07:49:04 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re:  Poor Performance when searching for 500+ terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031113143500.47253.qmail@web25003.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I am not using RAMDirectory due to the large size of
> index file. the index generated on hard disc is 1.57G
> for 1 million documents, each document has average 500
> terms. I am using Field.UnStored(fieldName, terms), so
> i beliece I am not storing the documents, just the
> index. (is that right?) is there anyway to reduce the

Correct.

> index size created? also What is the maximum size of
> data can be stored in RAMDirectory? I suppose I could

Depends on how much RAM you have.

> get a 10G RAM solaris box, but would that be advisable
> say storing 2-3G of index data in memory?

Yes, why not.

> Also, what
> is the performance boost factor when RAMDirectory
> comparing to FSDirectory. Are we taling about > 100%
> here?

I don't know if I can qualify it like that, but one of the Lucene
articles (Resources section on Lucene's site) covers RAMDirectory and
shows performance differences.

> On your 2nd and 3rd suggestion, I probably run the
> latest code that includes the fix by Dmitry
> Serebrennikov, the build was checked out from CVS
> yesterday. and I used a QueryParser similar to the one
> used in the demo code.

Dmitry's code was never included in CVS.  I don't know/remember why.

> Again, I still feel a bit curious and want to find out
> does lucene do (or in the future) pre-filter on "AND
> join conditions". For example, A AND (B OR C OR D). if
> A finds 100 docs out of 1 million, can lucene restrict
> the searchs on B,C,D only within the 100 docs found?

Ah, this was mentioned recently on the list.
I don't remember what the conclusion was, but Erik did remind us of
Lucene's filters which can help in some situations.

Otis


> >Response to: Poor Performance when searching for 500+
> >terms (Jie Yang) 
> 
> >From: Julien Nioche <Julien.Nioche@lingway.com>
> Subject: Poor Performance when searching for 500+
> terms
> >Date: Thu, 13 Nov 2003 12:45:50 +0100
> >Content-Type: text/plain; charset="iso-8859-1"
> >
> >Hello,
> >
> >Since there are a lot of Term objects in your Query, 
> >your application must
> >spend a lot of time collecting information about 
> >those Terms.
> >
> >1/ Do you use RAMDirectory? Loading the whole 
> >Directory into memory will
> >increase speed - your index must not be too big
> though
> >
> >2/ You are probably not using the QueryParser - so 
> >when you are building the
> >Query you could sort the Term objects inside a 
> >BooleanQuery. Sorting the
> >Terms will reduce jumps on disk. I have no benchmarks
> 
> >for this, but
> >logically, it should have some positive effect when 
> >using FSDirectory. Am I wrong?
> 
> >3/ There was a patch submitted by Dmitry
> Serebrennikov
>
>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
> >which reduced garbage collecting by limiting the 
> >creation of temporary Term objects. This patch has 
> >not been included in Lucene code (a bug in it?).
> >
> >Hope it helps.
> >
> >Julien
> 
> 
>
________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 16:01:07 2003
Return-Path: 
 <lucene-user-return-5965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36629 invoked from network); 13 Nov 2003 16:01:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 16:01:07 -0000
Received: (qmail 85679 invoked by uid 500); 13 Nov 2003 16:00:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85637 invoked by uid 500); 13 Nov 2003 16:00:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85495 invoked from network); 13 Nov 2003 16:00:53 -0000
Received: from unknown (HELO web25002.mail.ukl.yahoo.com) (217.12.10.38)
  by daedalus.apache.org with SMTP; 13 Nov 2003 16:00:53 -0000
Message-ID: <20031113160054.56137.qmail@web25002.mail.ukl.yahoo.com>
Received: from [212.161.34.67] by web25002.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 16:00:53 GMT
Date: Thu, 13 Nov 2003 16:00:53 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I had a thought on my earlier post on "Poor
Performance when searching for 500+ terms". 

The problem is on how to improve the performance when
searching for 500+ OR search terms. i.e. enter a
search string of :

W1 OR W2 OR W3 OR ...... OR w500.

I thought I could rewrite the MultiSearcher class so
that it can initiate multiple parallel IndexSearchers
to perform the search.

Solution 1 would be divide the query string of "500 OR
conditions terms" into 25 "20 OR conditions terms",
and then pass them to MultiSearcher, MultiSearcher
then initiate 25 threads to search on a single index
directory.

Solution 2 would be when building an index of 1
million docs, instead of building one single index
containing 1 million docs,
build 10 index directory eaching containing 100K
records. then I pass a single query string of "500 OR
conditions terms" to
MultiSearcher, MultiSearcher then initiate 10 threads
to search for 10 different index directories. 

Has anyone tried something similar, which solution
would be a better one. Also is using multiple threads
on a single directory a good ideal? Are there any
bottlenecks for threads acessing resources, or
I better pass requests into different processes. 

Thanks a lot




 --- Jie Yang <jyang_work@yahoo.co.uk> wrote: > Thanks
Julian
> 
> I am not using RAMDirectory due to the large size of
> index file. the index generated on hard disc is
> 1.57G
> for 1 million documents, each document has average
> 500
> terms. I am using Field.UnStored(fieldName, terms),
> so
> i beliece I am not storing the documents, just the
> index. (is that right?) is there anyway to reduce
> the
> index size created? also What is the maximum size of
> data can be stored in RAMDirectory? I suppose I
> could
> get a 10G RAM solaris box, but would that be
> advisable
> say storing 2-3G of index data in memory? Also, what
> is the performance boost factor when RAMDirectory
> comparing to FSDirectory. Are we taling about > 100%
> here?
> 
> On your 2nd and 3rd suggestion, I probably run the
> latest code that includes the fix by Dmitry
> Serebrennikov, the build was checked out from CVS
> yesterday. and I used a QueryParser similar to the
> one
> used in the demo code.
> 
> Again, I still feel a bit curious and want to find
> out
> does lucene do (or in the future) pre-filter on "AND
> join conditions". For example, A AND (B OR C OR D).
> if
> A finds 100 docs out of 1 million, can lucene
> restrict
> the searchs on B,C,D only within the 100 docs found?
> 
> Thanks a lot.
> 
> 
> 
>  
> 
> 
> 
> >Response to: Poor Performance when searching for
> 500+
> >terms (Jie Yang) 
> 
> >From: Julien Nioche <Julien.Nioche@lingway.com>
> Subject: Poor Performance when searching for 500+
> terms
> >Date: Thu, 13 Nov 2003 12:45:50 +0100
> >Content-Type: text/plain; charset="iso-8859-1"
> >
> >Hello,
> >
> >Since there are a lot of Term objects in your
> Query, 
> >your application must
> >spend a lot of time collecting information about 
> >those Terms.
> >
> >1/ Do you use RAMDirectory? Loading the whole 
> >Directory into memory will
> >increase speed - your index must not be too big
> though
> >
> >2/ You are probably not using the QueryParser - so 
> >when you are building the
> >Query you could sort the Term objects inside a 
> >BooleanQuery. Sorting the
> >Terms will reduce jumps on disk. I have no
> benchmarks
> 
> >for this, but
> >logically, it should have some positive effect when
> 
> >using FSDirectory. Am I wrong?
> 
> >3/ There was a patch submitted by Dmitry
> Serebrennikov
>
>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
> >which reduced garbage collecting by limiting the 
> >creation of temporary Term objects. This patch has 
> >not been included in Lucene code (a bug in it?).
> >
> >Hope it helps.
> >
> >Julien
> 
> 
>
________________________________________________________________________
> Want to chat instantly with your online friends? 
> Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
>  

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 17:17:10 2003
Return-Path: 
 <lucene-user-return-5966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82246 invoked from network); 13 Nov 2003 17:17:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 17:17:10 -0000
Received: (qmail 42568 invoked by uid 500); 13 Nov 2003 17:16:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42425 invoked by uid 500); 13 Nov 2003 17:16:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42366 invoked from network); 13 Nov 2003 17:16:38 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 13 Nov 2003 17:16:38 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc11) with SMTP
          id <2003111317164001100ro6m6e>; Thu, 13 Nov 2003 17:16:41 +0000
Message-ID: <3FB3BC76.8030702@lucene.com>
Date: Thu, 13 Nov 2003 09:16:38 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Two possible solutions on Parallel Searching
References: <20031113160054.56137.qmail@web25002.mail.ukl.yahoo.com>
In-Reply-To: <20031113160054.56137.qmail@web25002.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

First, note that the approaches you describe will only improve 
performance if you have multiple CPUs and/or multiple disks holding the 
indexes.

Second, MultiSearcher is currently implemented to search indexes 
serially, not each in a separate thread.  To implement multi-threaded 
searching one could subclass MultiSearcher with, e.g., ParallelSearcher, 
and override the search() methods with multi-threaded implemenations. 
This would be a great contribution if someone is interested!

The parallel approach I prefer is to maintain a set of indexes, each on 
a separate machine, then use something like a ParallelSearcher of 
RemoteSearchables to search them all.

Doug

Jie Yang wrote:
> I had a thought on my earlier post on "Poor
> Performance when searching for 500+ terms". 
> 
> The problem is on how to improve the performance when
> searching for 500+ OR search terms. i.e. enter a
> search string of :
> 
> W1 OR W2 OR W3 OR ...... OR w500.
> 
> I thought I could rewrite the MultiSearcher class so
> that it can initiate multiple parallel IndexSearchers
> to perform the search.
> 
> Solution 1 would be divide the query string of "500 OR
> conditions terms" into 25 "20 OR conditions terms",
> and then pass them to MultiSearcher, MultiSearcher
> then initiate 25 threads to search on a single index
> directory.
> 
> Solution 2 would be when building an index of 1
> million docs, instead of building one single index
> containing 1 million docs,
> build 10 index directory eaching containing 100K
> records. then I pass a single query string of "500 OR
> conditions terms" to
> MultiSearcher, MultiSearcher then initiate 10 threads
> to search for 10 different index directories. 
> 
> Has anyone tried something similar, which solution
> would be a better one. Also is using multiple threads
> on a single directory a good ideal? Are there any
> bottlenecks for threads acessing resources, or
> I better pass requests into different processes. 
> 
> Thanks a lot
> 
> 
> 
> 
>  --- Jie Yang <jyang_work@yahoo.co.uk> wrote: > Thanks
> Julian
> 
>>I am not using RAMDirectory due to the large size of
>>index file. the index generated on hard disc is
>>1.57G
>>for 1 million documents, each document has average
>>500
>>terms. I am using Field.UnStored(fieldName, terms),
>>so
>>i beliece I am not storing the documents, just the
>>index. (is that right?) is there anyway to reduce
>>the
>>index size created? also What is the maximum size of
>>data can be stored in RAMDirectory? I suppose I
>>could
>>get a 10G RAM solaris box, but would that be
>>advisable
>>say storing 2-3G of index data in memory? Also, what
>>is the performance boost factor when RAMDirectory
>>comparing to FSDirectory. Are we taling about > 100%
>>here?
>>
>>On your 2nd and 3rd suggestion, I probably run the
>>latest code that includes the fix by Dmitry
>>Serebrennikov, the build was checked out from CVS
>>yesterday. and I used a QueryParser similar to the
>>one
>>used in the demo code.
>>
>>Again, I still feel a bit curious and want to find
>>out
>>does lucene do (or in the future) pre-filter on "AND
>>join conditions". For example, A AND (B OR C OR D).
>>if
>>A finds 100 docs out of 1 million, can lucene
>>restrict
>>the searchs on B,C,D only within the 100 docs found?
>>
>>Thanks a lot.
>>
>>
>>
>> 
>>
>>
>>
>>
>>>Response to: Poor Performance when searching for
>>
>>500+
>>
>>>terms (Jie Yang) 
>>
>>>From: Julien Nioche <Julien.Nioche@lingway.com>
>>
>>Subject: Poor Performance when searching for 500+
>>terms
>>
>>>Date: Thu, 13 Nov 2003 12:45:50 +0100
>>>Content-Type: text/plain; charset="iso-8859-1"
>>>
>>>Hello,
>>>
>>>Since there are a lot of Term objects in your
>>
>>Query, 
>>
>>>your application must
>>>spend a lot of time collecting information about 
>>>those Terms.
>>>
>>>1/ Do you use RAMDirectory? Loading the whole 
>>>Directory into memory will
>>>increase speed - your index must not be too big
>>
>>though
>>
>>>2/ You are probably not using the QueryParser - so 
>>>when you are building the
>>>Query you could sort the Term objects inside a 
>>>BooleanQuery. Sorting the
>>>Terms will reduce jumps on disk. I have no
>>
>>benchmarks
>>
>>
>>>for this, but
>>>logically, it should have some positive effect when
>>
>>>using FSDirectory. Am I wrong?
>>
>>>3/ There was a patch submitted by Dmitry
>>
>>Serebrennikov
>>
>>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
>>
>>>which reduced garbage collecting by limiting the 
>>>creation of temporary Term objects. This patch has 
>>>not been included in Lucene code (a bug in it?).
>>>
>>>Hope it helps.
>>>
>>>Julien
>>
>>
>>
> ________________________________________________________________________
> 
>>Want to chat instantly with your online friends? 
>>Get the FREE Yahoo!
>>Messenger http://mail.messenger.yahoo.co.uk
>> 
> 
> 
> ________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 17:36:54 2003
Return-Path: 
 <lucene-user-return-5967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94453 invoked from network); 13 Nov 2003 17:36:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 17:36:54 -0000
Received: (qmail 84675 invoked by uid 500); 13 Nov 2003 17:36:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84653 invoked by uid 500); 13 Nov 2003 17:36:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84639 invoked from network); 13 Nov 2003 17:36:40 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 13 Nov 2003 17:36:40 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc13) with SMTP
          id <2003111317364301600hik16e>; Thu, 13 Nov 2003 17:36:43 +0000
Message-ID: <3FB3C128.30603@lucene.com>
Date: Thu, 13 Nov 2003 09:36:40 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Objection to using /tmp for lock files.
References: <3FAEA3AB.5080506@newsmonster.org>
In-Reply-To: <3FAEA3AB.5080506@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> When I first read this changelog entry:
> 
>  > 2. Changed file locking to place lock files in
>  >    System.getProperty("java.io.tmpdir"), where all users are
>  >    permitted to write files.  This way folks can open and correctly
>  >    lock indexes which are read-only to them.
> 
> I just assumed that this was an optional feature.
> 
> I think this is a dangerous change and should be disabled by default (or 
> only enabled with lock files can't be used due to read only media).

Why is this dangerous?  Are you concerned about malicious users locking 
indexes in a denial of service attack?  If so, perhaps we should have an 
option to change where locks are stored, so that they could be, e.g., 
moved to /var/lock/lucene or somesuch which could have special protections.

Before this patch, folks could not open an index in a read-only manner 
unless they had write access to its directory.  I think that is a larger 
bug and more dangerous, as it means that anyone who can search an index 
can destroy it.

I think it is proper that locks are not stored in the same place as the 
index, as in many cases this is not writable by the searching 
application, and the lock directory should be writable by all who can 
read the index.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 17:58:28 2003
Return-Path: 
 <lucene-user-return-5968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4759 invoked from network); 13 Nov 2003 17:58:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 17:58:28 -0000
Received: (qmail 25644 invoked by uid 500); 13 Nov 2003 17:58:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25614 invoked by uid 500); 13 Nov 2003 17:58:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25601 invoked from network); 13 Nov 2003 17:58:14 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.113)
  by daedalus.apache.org with SMTP; 13 Nov 2003 17:58:14 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 13 Nov 2003 09:58:18 -0800
Received: from 200.214.14.1 by by8fd.bay8.hotmail.msn.com with HTTP;
	Thu, 13 Nov 2003 17:58:17 GMT
X-Originating-IP: [200.214.14.1]
X-Originating-Email: [william_wws@hotmail.com]
From: "William W" <william_wws@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Two possible solutions on Parallel Searching
Date: Thu, 13 Nov 2003 17:58:17 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F113VElaVvJ23G000049d1@hotmail.com>
X-OriginalArrivalTime: 13 Nov 2003 17:58:18.0233 (UTC)
 FILETIME=[B7DB2690:01C3AA0F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks,

If I have two indexes and use the MultiSearcher will it  be faster than only 
one index with all the documents ?
Thanks,
William.

>From: Doug Cutting <cutting@lucene.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: Lucene Users List <lucene-user@jakarta.apache.org>
>Subject: Re: Two possible solutions on Parallel Searching
>Date: Thu, 13 Nov 2003 09:16:38 -0800
>
>First, note that the approaches you describe will only improve performance 
>if you have multiple CPUs and/or multiple disks holding the indexes.
>
>Second, MultiSearcher is currently implemented to search indexes serially, 
>not each in a separate thread.  To implement multi-threaded searching one 
>could subclass MultiSearcher with, e.g., ParallelSearcher, and override the 
>search() methods with multi-threaded implemenations. This would be a great 
>contribution if someone is interested!
>
>The parallel approach I prefer is to maintain a set of indexes, each on a 
>separate machine, then use something like a ParallelSearcher of 
>RemoteSearchables to search them all.
>
>Doug
>
>Jie Yang wrote:
>>I had a thought on my earlier post on "Poor
>>Performance when searching for 500+ terms".
>>
>>The problem is on how to improve the performance when
>>searching for 500+ OR search terms. i.e. enter a
>>search string of :
>>
>>W1 OR W2 OR W3 OR ...... OR w500.
>>
>>I thought I could rewrite the MultiSearcher class so
>>that it can initiate multiple parallel IndexSearchers
>>to perform the search.
>>
>>Solution 1 would be divide the query string of "500 OR
>>conditions terms" into 25 "20 OR conditions terms",
>>and then pass them to MultiSearcher, MultiSearcher
>>then initiate 25 threads to search on a single index
>>directory.
>>
>>Solution 2 would be when building an index of 1
>>million docs, instead of building one single index
>>containing 1 million docs,
>>build 10 index directory eaching containing 100K
>>records. then I pass a single query string of "500 OR
>>conditions terms" to
>>MultiSearcher, MultiSearcher then initiate 10 threads
>>to search for 10 different index directories.
>>
>>Has anyone tried something similar, which solution
>>would be a better one. Also is using multiple threads
>>on a single directory a good ideal? Are there any
>>bottlenecks for threads acessing resources, or
>>I better pass requests into different processes.
>>
>>Thanks a lot
>>
>>
>>
>>
>>  --- Jie Yang <jyang_work@yahoo.co.uk> wrote: > Thanks
>>Julian
>>
>>>I am not using RAMDirectory due to the large size of
>>>index file. the index generated on hard disc is
>>>1.57G
>>>for 1 million documents, each document has average
>>>500
>>>terms. I am using Field.UnStored(fieldName, terms),
>>>so
>>>i beliece I am not storing the documents, just the
>>>index. (is that right?) is there anyway to reduce
>>>the
>>>index size created? also What is the maximum size of
>>>data can be stored in RAMDirectory? I suppose I
>>>could
>>>get a 10G RAM solaris box, but would that be
>>>advisable
>>>say storing 2-3G of index data in memory? Also, what
>>>is the performance boost factor when RAMDirectory
>>>comparing to FSDirectory. Are we taling about > 100%
>>>here?
>>>
>>>On your 2nd and 3rd suggestion, I probably run the
>>>latest code that includes the fix by Dmitry
>>>Serebrennikov, the build was checked out from CVS
>>>yesterday. and I used a QueryParser similar to the
>>>one
>>>used in the demo code.
>>>
>>>Again, I still feel a bit curious and want to find
>>>out
>>>does lucene do (or in the future) pre-filter on "AND
>>>join conditions". For example, A AND (B OR C OR D).
>>>if
>>>A finds 100 docs out of 1 million, can lucene
>>>restrict
>>>the searchs on B,C,D only within the 100 docs found?
>>>
>>>Thanks a lot.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>>Response to: Poor Performance when searching for
>>>
>>>500+
>>>
>>>>terms (Jie Yang)
>>>
>>>>From: Julien Nioche <Julien.Nioche@lingway.com>
>>>
>>>Subject: Poor Performance when searching for 500+
>>>terms
>>>
>>>>Date: Thu, 13 Nov 2003 12:45:50 +0100
>>>>Content-Type: text/plain; charset="iso-8859-1"
>>>>
>>>>Hello,
>>>>
>>>>Since there are a lot of Term objects in your
>>>
>>>Query,
>>>
>>>>your application must
>>>>spend a lot of time collecting information about those Terms.
>>>>
>>>>1/ Do you use RAMDirectory? Loading the whole Directory into memory will
>>>>increase speed - your index must not be too big
>>>
>>>though
>>>
>>>>2/ You are probably not using the QueryParser - so when you are building 
>>>>the
>>>>Query you could sort the Term objects inside a BooleanQuery. Sorting the
>>>>Terms will reduce jumps on disk. I have no
>>>
>>>benchmarks
>>>
>>>
>>>>for this, but
>>>>logically, it should have some positive effect when
>>>
>>>>using FSDirectory. Am I wrong?
>>>
>>>>3/ There was a patch submitted by Dmitry
>>>
>>>Serebrennikov
>>>
>>>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
>>>
>>>>which reduced garbage collecting by limiting the creation of temporary 
>>>>Term objects. This patch has not been included in Lucene code (a bug in 
>>>>it?).
>>>>
>>>>Hope it helps.
>>>>
>>>>Julien
>>>
>>>
>>>
>>________________________________________________________________________
>>
>>>Want to chat instantly with your online friends? Get the FREE Yahoo!
>>>Messenger http://mail.messenger.yahoo.co.uk
>>>
>>
>>
>>________________________________________________________________________
>>Want to chat instantly with your online friends?  Get the FREE Yahoo!
>>Messenger http://mail.messenger.yahoo.co.uk
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
>>From Beethoven to the Rolling Stones, your favorite music is always playing 
on MSN Radio Plus. No ads, no talk. Trial month FREE!  
http://join.msn.com/?page=offers/premiumradio


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 18:01:34 2003
Return-Path: 
 <lucene-user-return-5969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6773 invoked from network); 13 Nov 2003 18:01:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 18:01:34 -0000
Received: (qmail 33142 invoked by uid 500); 13 Nov 2003 18:00:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33099 invoked by uid 500); 13 Nov 2003 18:00:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33048 invoked from network); 13 Nov 2003 18:00:44 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 13 Nov 2003 18:00:44 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id CC4FC5D22
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:00:47 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hADI0lu0011918
	for lucene-user@jakarta.apache.org; Thu, 13 Nov 2003 10:00:47 -0800 (PST)
	(envelope-from dror)
Date: Thu, 13 Nov 2003 10:00:47 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Objection to using /tmp for lock files.
Message-ID: <20031113180047.GK94919@rlx11.zapatec.com>
References: <3FAEA3AB.5080506@newsmonster.org> <3FB3C128.30603@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FB3C128.30603@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


In there a reason why RODirectory shouldn't just be rolled into lucene?

http://www.csita.unige.it/software/free/lucene/

I've been experimenting with it and it seems to work as advertised. It
has the advantage of not requiring *any* write capability in /tmp or
anywhere else.

Regards,

Dror

On Thu, Nov 13, 2003 at 09:36:40AM -0800, Doug Cutting wrote:
> Kevin A. Burton wrote:
> >When I first read this changelog entry:
> >
> > > 2. Changed file locking to place lock files in
> > >    System.getProperty("java.io.tmpdir"), where all users are
> > >    permitted to write files.  This way folks can open and correctly
> > >    lock indexes which are read-only to them.
> >
> >I just assumed that this was an optional feature.
> >
> >I think this is a dangerous change and should be disabled by default (or 
> >only enabled with lock files can't be used due to read only media).
> 
> Why is this dangerous?  Are you concerned about malicious users locking 
> indexes in a denial of service attack?  If so, perhaps we should have an 
> option to change where locks are stored, so that they could be, e.g., 
> moved to /var/lock/lucene or somesuch which could have special protections.
> 
> Before this patch, folks could not open an index in a read-only manner 
> unless they had write access to its directory.  I think that is a larger 
> bug and more dangerous, as it means that anyone who can search an index 
> can destroy it.
> 
> I think it is proper that locks are not stored in the same place as the 
> index, as in many cases this is not writable by the searching 
> application, and the lock directory should be writable by all who can 
> read the index.
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 18:03:42 2003
Return-Path: 
 <lucene-user-return-5970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8478 invoked from network); 13 Nov 2003 18:03:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 18:03:42 -0000
Received: (qmail 39811 invoked by uid 500); 13 Nov 2003 18:03:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39783 invoked by uid 500); 13 Nov 2003 18:03:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39764 invoked from network); 13 Nov 2003 18:03:29 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 13 Nov 2003 18:03:29 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hADI3XT7000536
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:03:33 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-211-220.adslplus.ch [62.167.211.220])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hADI3WZq004158
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:03:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031113180047.GK94919@rlx11.zapatec.com>
References: <3FAEA3AB.5080506@newsmonster.org> <3FB3C128.30603@lucene.com>
 <20031113180047.GK94919@rlx11.zapatec.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B2DF3E3F-1603-11D8-925B-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Objection to using /tmp for lock files.
Date: Thu, 13 Nov 2003 19:03:34 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 13, 2003, at 19:00, Dror Matalon wrote:

> I've been experimenting with it and it seems to work as advertised. It
> has the advantage of not requiring *any* write capability in /tmp or
> anywhere else.

There is a system property to turn off the lock files altogether.

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 18:10:38 2003
Return-Path: 
 <lucene-user-return-5971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12855 invoked from network); 13 Nov 2003 18:10:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 18:10:38 -0000
Received: (qmail 55591 invoked by uid 500); 13 Nov 2003 18:10:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55391 invoked by uid 500); 13 Nov 2003 18:10:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55377 invoked from network); 13 Nov 2003 18:10:24 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 13 Nov 2003 18:10:24 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc12) with SMTP
          id <2003111318102701200s4ggce>; Thu, 13 Nov 2003 18:10:28 +0000
Message-ID: <3FB3C911.2090107@lucene.com>
Date: Thu, 13 Nov 2003 10:10:25 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Two possible solutions on Parallel Searching
References: <BAY8-F113VElaVvJ23G000049d1@hotmail.com>
In-Reply-To: <BAY8-F113VElaVvJ23G000049d1@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

William W wrote:
> If I have two indexes and use the MultiSearcher will it  be faster than 
> only one index with all the documents ?

No, in fact it would be slower.  However it could be faster if (a) 
someone contributes a parallel version of MultiSearcher and (b) you're 
either running on a multiple-CPU machine, or your MultiSearcher is 
composed of RemoteSearchers, each on a different machine.  But, for now, 
the answer is no.

It seems that it may be time for a parallel version of MultiSearcher...

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 18:18:51 2003
Return-Path: 
 <lucene-user-return-5972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16450 invoked from network); 13 Nov 2003 18:18:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 18:18:51 -0000
Received: (qmail 67431 invoked by uid 500); 13 Nov 2003 18:18:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67400 invoked by uid 500); 13 Nov 2003 18:18:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67385 invoked from network); 13 Nov 2003 18:18:38 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 13 Nov 2003 18:18:38 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc12) with SMTP
          id <2003111318184101200s560he>; Thu, 13 Nov 2003 18:18:41 +0000
Message-ID: <3FB3CAFF.5060609@lucene.com>
Date: Thu, 13 Nov 2003 10:18:39 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Objection to using /tmp for lock files.
References: <3FAEA3AB.5080506@newsmonster.org> <3FB3C128.30603@lucene.com>
 <20031113180047.GK94919@rlx11.zapatec.com>
In-Reply-To: <20031113180047.GK94919@rlx11.zapatec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dror Matalon wrote:
> In there a reason why RODirectory shouldn't just be rolled into lucene?
> 
> http://www.csita.unige.it/software/free/lucene/

This just looks like a version of FSDirectory with lock files disabled. 
  I think it would be better to just make it easier to disable lock 
files.  Currently this is only possible through setting a system property.

Should we add a method like the following?

   /** Disables the use of lock files. */
   public static FSDirectory.disableLocks();

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 18:25:26 2003
Return-Path: 
 <lucene-user-return-5973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19597 invoked from network); 13 Nov 2003 18:25:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 18:25:26 -0000
Received: (qmail 82128 invoked by uid 500); 13 Nov 2003 18:25:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81915 invoked by uid 500); 13 Nov 2003 18:25:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81902 invoked from network); 13 Nov 2003 18:25:12 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 13 Nov 2003 18:25:12 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id B50815D22
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 10:25:16 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hADIPGRX011989
	for lucene-user@jakarta.apache.org; Thu, 13 Nov 2003 10:25:16 -0800 (PST)
	(envelope-from dror)
Date: Thu, 13 Nov 2003 10:25:16 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Objection to using /tmp for lock files.
Message-ID: <20031113182516.GL94919@rlx11.zapatec.com>
References: <3FAEA3AB.5080506@newsmonster.org> <3FB3C128.30603@lucene.com>
 <20031113180047.GK94919@rlx11.zapatec.com> <3FB3CAFF.5060609@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FB3CAFF.5060609@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Nov 13, 2003 at 10:18:39AM -0800, Doug Cutting wrote:
> Dror Matalon wrote:
> >In there a reason why RODirectory shouldn't just be rolled into lucene?
> >
> >http://www.csita.unige.it/software/free/lucene/
> 
> This just looks like a version of FSDirectory with lock files disabled. 
>  I think it would be better to just make it easier to disable lock 
> files.  Currently this is only possible through setting a system property.

Since setting system properties requires permissions (they affect the
whole JVM), they're also somewhat problematic. We're, for instance,
running tomcat with a security manager and setting properties requires
changes to the config file.

> 
> Should we add a method like the following?
> 
>   /** Disables the use of lock files. */
>   public static FSDirectory.disableLocks();

That would probably be the preffered method, no pun intended.


Dror

> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:12:59 2003
Return-Path: 
 <lucene-user-return-5974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71804 invoked from network); 13 Nov 2003 20:12:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:12:59 -0000
Received: (qmail 811 invoked by uid 500); 13 Nov 2003 20:12:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 784 invoked by uid 500); 13 Nov 2003 20:12:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 771 invoked from network); 13 Nov 2003 20:12:42 -0000
Received: from unknown (HELO web25004.mail.ukl.yahoo.com) (217.12.10.40)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:12:42 -0000
Message-ID: <20031113201246.98615.qmail@web25004.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25004.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 20:12:46 GMT
Date: Thu, 13 Nov 2003 20:12:46 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FB3BC76.8030702@lucene.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Doug Cutting <cutting@lucene.com> wrote: > First,
note that the approaches you describe will
> only improve 
> performance if you have multiple CPUs and/or
> multiple disks holding the 
> indexes.
> 
> Second, MultiSearcher is currently implemented to
> search indexes 
> serially, not each in a separate thread.  To
> implement multi-threaded 
> searching one could subclass MultiSearcher with,
> e.g., ParallelSearcher, 
> and override the search() methods with
> multi-threaded implemenations. 
> This would be a great contribution if someone is
> interested!

That's the solution I have in mind, since I do not
have multiple machines avaiable to me. Would
multi-threads on a single disk produces any
performance advantage? since i don't see CPU is
utilised 100% normally. In this case, does the
bottleneck happens on the mutli-thread concurrent
process sharing or on the single disk read? if its the
latter, probably, I can get away by putting multiple
indexes on seperate hard disks, but still runs on
single CPU. 

Are you going to have a try on building a
multi-threaded MultiSearcher? if so, what's the
timescale you have in mind? I may have to look into
myself if I don't find out any better solutions on my
500+ terms search problems.   

> 
> The parallel approach I prefer is to maintain a set
> of indexes, each on 
> a separate machine, then use something like a
> ParallelSearcher of 
> RemoteSearchables to search them all.
> 
> Doug
> 
> Jie Yang wrote:
> > I had a thought on my earlier post on "Poor
> > Performance when searching for 500+ terms". 
> > 
> > The problem is on how to improve the performance
> when
> > searching for 500+ OR search terms. i.e. enter a
> > search string of :
> > 
> > W1 OR W2 OR W3 OR ...... OR w500.
> > 
> > I thought I could rewrite the MultiSearcher class
> so
> > that it can initiate multiple parallel
> IndexSearchers
> > to perform the search.
> > 
> > Solution 1 would be divide the query string of
> "500 OR
> > conditions terms" into 25 "20 OR conditions
> terms",
> > and then pass them to MultiSearcher, MultiSearcher
> > then initiate 25 threads to search on a single
> index
> > directory.
> > 
> > Solution 2 would be when building an index of 1
> > million docs, instead of building one single index
> > containing 1 million docs,
> > build 10 index directory eaching containing 100K
> > records. then I pass a single query string of "500
> OR
> > conditions terms" to
> > MultiSearcher, MultiSearcher then initiate 10
> threads
> > to search for 10 different index directories. 
> > 
> > Has anyone tried something similar, which solution
> > would be a better one. Also is using multiple
> threads
> > on a single directory a good ideal? Are there any
> > bottlenecks for threads acessing resources, or
> > I better pass requests into different processes. 
> > 
> > Thanks a lot
> > 
> > 
> > 
> > 
> >  --- Jie Yang <jyang_work@yahoo.co.uk> wrote: >
> Thanks
> > Julian
> > 
> >>I am not using RAMDirectory due to the large size
> of
> >>index file. the index generated on hard disc is
> >>1.57G
> >>for 1 million documents, each document has average
> >>500
> >>terms. I am using Field.UnStored(fieldName,
> terms),
> >>so
> >>i beliece I am not storing the documents, just the
> >>index. (is that right?) is there anyway to reduce
> >>the
> >>index size created? also What is the maximum size
> of
> >>data can be stored in RAMDirectory? I suppose I
> >>could
> >>get a 10G RAM solaris box, but would that be
> >>advisable
> >>say storing 2-3G of index data in memory? Also,
> what
> >>is the performance boost factor when RAMDirectory
> >>comparing to FSDirectory. Are we taling about >
> 100%
> >>here?
> >>
> >>On your 2nd and 3rd suggestion, I probably run the
> >>latest code that includes the fix by Dmitry
> >>Serebrennikov, the build was checked out from CVS
> >>yesterday. and I used a QueryParser similar to the
> >>one
> >>used in the demo code.
> >>
> >>Again, I still feel a bit curious and want to find
> >>out
> >>does lucene do (or in the future) pre-filter on
> "AND
> >>join conditions". For example, A AND (B OR C OR
> D).
> >>if
> >>A finds 100 docs out of 1 million, can lucene
> >>restrict
> >>the searchs on B,C,D only within the 100 docs
> found?
> >>
> >>Thanks a lot.
> >>
> >>
> >>
> >> 
> >>
> >>
> >>
> >>
> >>>Response to: Poor Performance when searching for
> >>
> >>500+
> >>
> >>>terms (Jie Yang) 
> >>
> >>>From: Julien Nioche <Julien.Nioche@lingway.com>
> >>
> >>Subject: Poor Performance when searching for 500+
> >>terms
> >>
> >>>Date: Thu, 13 Nov 2003 12:45:50 +0100
> >>>Content-Type: text/plain; charset="iso-8859-1"
> >>>
> >>>Hello,
> >>>
> >>>Since there are a lot of Term objects in your
> >>
> >>Query, 
> >>
> >>>your application must
> >>>spend a lot of time collecting information about 
> >>>those Terms.
> >>>
> >>>1/ Do you use RAMDirectory? Loading the whole 
> >>>Directory into memory will
> >>>increase speed - your index must not be too big
> >>
> >>though
> >>
> >>>2/ You are probably not using the QueryParser -
> so 
> >>>when you are building the
> >>>Query you could sort the Term objects inside a 
> >>>BooleanQuery. Sorting the
> >>>Terms will reduce jumps on disk. I have no
> >>
> >>benchmarks
> >>
> >>
> >>>for this, but
> >>>logically, it should have some positive effect
> when
> >>
> >>>using FSDirectory. Am I wrong?
> >>
> >>>3/ There was a patch submitted by Dmitry
> >>
> >>Serebrennikov
> >>
>
>>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
> >>
> >>>which reduced garbage collecting by limiting the 
> >>>creation of temporary Term objects. This patch
> has 
> >>>not been included in Lucene code (a bug in it?).
> >>>
> >>>Hope it helps.
> >>>
> >>>Julien
> >>
> >>
> >>
> >
>
________________________________________________________________________
> > 
> >>Want to chat instantly with your online friends? 
> >>Get the FREE Yahoo!
> >>Messenger http://mail.messenger.yahoo.co.uk
> >> 
> 
=== message truncated === 

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:21:00 2003
Return-Path: 
 <lucene-user-return-5975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82067 invoked from network); 13 Nov 2003 20:21:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:21:00 -0000
Received: (qmail 13412 invoked by uid 500); 13 Nov 2003 20:20:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13383 invoked by uid 500); 13 Nov 2003 20:20:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13369 invoked from network); 13 Nov 2003 20:20:44 -0000
Received: from unknown (HELO web25006.mail.ukl.yahoo.com) (217.12.10.42)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:20:44 -0000
Message-ID: <20031113202048.60867.qmail@web25006.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25006.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 20:20:48 GMT
Date: Thu, 13 Nov 2003 20:20:48 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Query Filters on term A in query "A AND (B OR C OR D)"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031113154904.66835.qmail@web12706.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can anyone clarify a bit more ont he issue below? I
don't seems can find out any hints in this list.

Much Thanks..

> > Again, I still feel a bit curious and want to find

> > out does lucene do (or in the future) pre-filter 
> > on "AND join conditions". For example, A AND (B OR

> > C OR D). if A finds 100 docs out of 1 million, can
> > lucene restrict the searchs on B,C,D only within 
> > the 100 docs found? Thus boost performance

> Ah, this was mentioned recently on the list.
> I don't remember what the conclusion was, but 
> Erik did remind us of Lucene's filters which can 
> help in some situations.
> 
> Otis 

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:29:03 2003
Return-Path: 
 <lucene-user-return-5976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85553 invoked from network); 13 Nov 2003 20:29:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:29:03 -0000
Received: (qmail 23733 invoked by uid 500); 13 Nov 2003 20:28:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23429 invoked by uid 500); 13 Nov 2003 20:28:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23007 invoked from network); 13 Nov 2003 20:28:05 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:28:05 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <V69XBXR2>; Thu, 13 Nov 2003 15:28:10 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FE4@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Query Filters on term A in query "A AND (B OR C OR D)"
Date: Thu, 13 Nov 2003 15:28:02 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

To my knowledge the answer is No, lucene performs each query separately and
then performs the joins after it has all the results.  This is actually a
rather serious problem when it comes to searches in large indexes where a
single field is very important but has a very low uniqueness.

For example, if you were searching for a telephone number for a company in a
lucene index of all of the companies in the US and you knew the state, city,
and name, the query would come up being something like:

name:Bob's Discount Furniture AND state:California AND city:San Diego

Now, that query is going to retrieve EVERY Bob's discount furniture, EVERY
company in California, and EVERY city in San Diego and then join them.  That
makes the memory requirements for this query far higher than they really
need to be.

At least, that has been my experience.

-----Original Message-----
From: Jie Yang [mailto:jyang_work@yahoo.co.uk]
Sent: Thursday, November 13, 2003 3:21 PM
To: Lucene Users List
Subject: Query Filters on term A in query "A AND (B OR C OR D)"


Can anyone clarify a bit more ont he issue below? I
don't seems can find out any hints in this list.

Much Thanks..

> > Again, I still feel a bit curious and want to find

> > out does lucene do (or in the future) pre-filter 
> > on "AND join conditions". For example, A AND (B OR

> > C OR D). if A finds 100 docs out of 1 million, can
> > lucene restrict the searchs on B,C,D only within 
> > the 100 docs found? Thus boost performance

> Ah, this was mentioned recently on the list.
> I don't remember what the conclusion was, but 
> Erik did remind us of Lucene's filters which can 
> help in some situations.
> 
> Otis 

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:40:16 2003
Return-Path: 
 <lucene-user-return-5977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91325 invoked from network); 13 Nov 2003 20:40:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:40:16 -0000
Received: (qmail 52298 invoked by uid 500); 13 Nov 2003 20:40:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51948 invoked by uid 500); 13 Nov 2003 20:40:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51928 invoked from network); 13 Nov 2003 20:40:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:40:00 -0000
Received: (cpmta 16511 invoked from network); 13 Nov 2003 12:40:03 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 13 Nov 2003 12:40:03 -0800
X-Sent: 13 Nov 2003 20:40:03 GMT
Date: Thu, 13 Nov 2003 15:40:14 -0500
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FE4@exchange.hq.openratings.com>
Message-Id: <958C7516-1619-11D8-BCEB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 03:28  PM, Dan Quaroni wrote:
> To my knowledge the answer is No, lucene performs each query 
> separately and
> then performs the joins after it has all the results.  This is 
> actually a
> rather serious problem when it comes to searches in large indexes 
> where a
> single field is very important but has a very low uniqueness.
>
> For example, if you were searching for a telephone number for a 
> company in a
> lucene index of all of the companies in the US and you knew the state, 
> city,
> and name, the query would come up being something like:
>
> name:Bob's Discount Furniture AND state:California AND city:San Diego
>
> Now, that query is going to retrieve EVERY Bob's discount furniture, 
> EVERY
> company in California, and EVERY city in San Diego and then join them. 
>  That
> makes the memory requirements for this query far higher than they 
> really
> need to be.

If you know ahead of time that queries of this type would be made, then 
it could be "optimized" by doing the query that has the fewest hits 
first, then using a QueryFilter for successive queries to narrow it to 
the precise criteria.  Granted this doesn't help when the queries can 
be entered free-form via QueryParser.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:42:31 2003
Return-Path: 
 <lucene-user-return-5978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92228 invoked from network); 13 Nov 2003 20:42:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:42:31 -0000
Received: (qmail 57336 invoked by uid 500); 13 Nov 2003 20:42:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57293 invoked by uid 500); 13 Nov 2003 20:42:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57280 invoked from network); 13 Nov 2003 20:42:14 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:42:14 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 13 Nov 2003 15:42:18 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hADKgCO04849
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 15:42:17 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Two possible solutions on Parallel Searching
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 13 Nov 2003 15:42:09 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241172@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Two possible solutions on Parallel Searching
Thread-Index: AcOqIrdCubSQ32IQRImxUn0irZNPgwAA7UmQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

multiple threads on a single disk will likely results in significantly =
slower searching, possibly an order of magnitude or more slowdown =
depending on many factors such as available RAM, etc.

Herb...

-----Original Message-----
From: Jie Yang [mailto:jyang_work@YAHOO.CO.UK]
Sent: Thursday, November 13, 2003 3:13 PM
To: Lucene Users List
Subject: Re: Two possible solutions on Parallel Searching


That's the solution I have in mind, since I do not
have multiple machines avaiable to me. Would
multi-threads on a single disk produces any
performance advantage? since i don't see CPU is
utilised 100% normally. In this case, does the
bottleneck happens on the mutli-thread concurrent
process sharing or on the single disk read? if its the
latter, probably, I can get away by putting multiple
indexes on seperate hard disks, but still runs on
single CPU.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:51:43 2003
Return-Path: 
 <lucene-user-return-5979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96326 invoked from network); 13 Nov 2003 20:51:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:51:43 -0000
Received: (qmail 73213 invoked by uid 500); 13 Nov 2003 20:51:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73099 invoked by uid 500); 13 Nov 2003 20:51:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73086 invoked from network); 13 Nov 2003 20:51:27 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:51:27 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc11) with SMTP
          id <200311132051320110010a0he>; Thu, 13 Nov 2003 20:51:32 +0000
Message-ID: <3FB3EED3.3000409@lucene.com>
Date: Thu, 13 Nov 2003 12:51:31 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
References: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FE4@exchange.hq.openratings.com>
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FE4@exchange.hq.openratings.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dan Quaroni wrote:
> name:Bob's Discount Furniture AND state:California AND city:San Diego
> 
> Now, that query is going to retrieve EVERY Bob's discount furniture, EVERY
> company in California, and EVERY city in San Diego and then join them.  That
> makes the memory requirements for this query far higher than they really
> need to be.

First, it doesn't have to retrieve "every company in California", only 
an integer (the internal document id) representing that company.  Even 
then, these integers are compressed so that each requires about a byte 
of i/o.  So if you have 10,000 companies, then, yes, 10k bytes must be 
processed, but that's actually not much work, much less than, e.g., 
processing a 10,000 datastructures, each representing a company. 
Lucene's datastructures are highly optimized for this.  That's why 
Lucene is faster than an RDBMS for full text searching.

Second, while these must all be processed, they're not all in memory at 
once.  Posting lists are merged, so memory requirements are proportional 
to the number of terms in the query (one buffer per term).  So the issue 
is not memory, but compute time.

So one could potentially optimize some cases: if there are lots of one 
term but only a few of another then in theory you could just enumerate 
postings of lower frequency term, then fetch the document record for 
these and check it for the higher frequency term.  This is what an RDBMS 
does to optimize queries.  In practice, with Lucene, the difference in 
frequency would have to be *very* large in order for this to be faster.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 20:57:27 2003
Return-Path: 
 <lucene-user-return-5980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99233 invoked from network); 13 Nov 2003 20:57:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 20:57:27 -0000
Received: (qmail 81493 invoked by uid 500); 13 Nov 2003 20:57:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81466 invoked by uid 500); 13 Nov 2003 20:57:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81450 invoked from network); 13 Nov 2003 20:57:11 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 13 Nov 2003 20:57:11 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <V69XBXWK>; Thu, 13 Nov 2003 15:57:16 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FE6@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Query Filters on term A in query "A AND (B OR C OR D)"
Date: Thu, 13 Nov 2003 15:57:07 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I guess I was wrong, then...  But I have 262 indexes with a combined 130 or
so million documents and at times the memory usage for a single query
exceeds 1.3 gigs with me only taking the top 25 of the hits.  We pushed the
jvm to 1.6 gigs and it seems to be doing OK, but if it's not the results
from the sub-queries, what's taking up all the memory?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Thursday, November 13, 2003 3:52 PM
To: Lucene Users List
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"

Second, while these must all be processed, they're not all in memory at 
once.  Posting lists are merged, so memory requirements are proportional 
to the number of terms in the query (one buffer per term).  So the issue 
is not memory, but compute time.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:08:07 2003
Return-Path: 
 <lucene-user-return-5981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3598 invoked from network); 13 Nov 2003 21:08:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:08:07 -0000
Received: (qmail 598 invoked by uid 500); 13 Nov 2003 21:07:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 546 invoked by uid 500); 13 Nov 2003 21:07:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 463 invoked from network); 13 Nov 2003 21:07:31 -0000
Received: from unknown (HELO web25003.mail.ukl.yahoo.com) (217.12.10.39)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:07:31 -0000
Message-ID: <20031113210736.19997.qmail@web25003.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25003.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 21:07:36 GMT
Date: Thu, 13 Nov 2003 21:07:36 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <958C7516-1619-11D8-BCEB-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Thursday, November 13, 2003, at 03:28  PM, Dan
> Quaroni wrote:
> > To my knowledge the answer is No, lucene performs
> each query 
> > separately and
> > then performs the joins after it has all the
> results.  This is 
> > actually a
> > rather serious problem when it comes to searches
> in large indexes 
> > where a
> > single field is very important but has a very low
> uniqueness.
> >
> > For example, if you were searching for a telephone
> number for a 
> > company in a
> > lucene index of all of the companies in the US and
> you knew the state, 
> > city,
> > and name, the query would come up being something
> like:
> >
> > name:Bob's Discount Furniture AND state:California
> AND city:San Diego
> >
> > Now, that query is going to retrieve EVERY Bob's
> discount furniture, 
> > EVERY
> > company in California, and EVERY city in San Diego
> and then join them. 
> >  That
> > makes the memory requirements for this query far
> higher than they 
> > really
> > need to be.
> 
> If you know ahead of time that queries of this type
> would be made, then 
> it could be "optimized" by doing the query that has
> the fewest hits 
> first, then using a QueryFilter for successive
> queries to narrow it to 
> the precise criteria.  Granted this doesn't help
> when the queries can 
> be entered free-form via QueryParser.
> 
> 	Erik

Erik, Just to make sure I understand you right, In an
example query:  ZipCode:CA10927 AND Gender:Male 

Sure I know ZipCode returns fewer results, do you mean
I build a filter 

QueryFilter x = new QueryFilter("ZipCode", "CA10927",
..);

Then build the query

Query y = QueryParser.parse("Gender:Male", "Gender",
..);

Then run it

Hit result = searcher.search(y, x);

I tried that, and the performance does not improve.
when I trace down the code, I found searcher object
searches on both ZipCode and Gender for terms
information (expesive) before processing on the
filters.

Am I doing something wrong, or you mean something
else? I would really appriciate if you can post an
example to this list, or send a copy of to my mail
address at jyang_work@yahoo.co.uk.

Kind Regards
 

> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:15:29 2003
Return-Path: 
 <lucene-user-return-5982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6755 invoked from network); 13 Nov 2003 21:15:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:15:29 -0000
Received: (qmail 10137 invoked by uid 500); 13 Nov 2003 21:15:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10107 invoked by uid 500); 13 Nov 2003 21:15:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10093 invoked from network); 13 Nov 2003 21:15:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:15:13 -0000
Received: (cpmta 3195 invoked from network); 13 Nov 2003 13:15:17 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 13 Nov 2003 13:15:17 -0800
X-Sent: 13 Nov 2003 21:15:17 GMT
Date: Thu, 13 Nov 2003 16:15:32 -0500
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031113210736.19997.qmail@web25003.mail.ukl.yahoo.com>
Message-Id: <842BCE17-161E-11D8-BCEB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 04:07  PM, Jie Yang wrote:
> Erik, Just to make sure I understand you right, In an
> example query:  ZipCode:CA10927 AND Gender:Male

Are we talking about that query being entered by the user and you 
handing it just like that to QueryParser?  If so, then QueryFilter 
won't help.

> Sure I know ZipCode returns fewer results, do you mean
> I build a filter
>
> QueryFilter x = new QueryFilter("ZipCode", "CA10927",
> ..);

Well, that is not quite the right API, but something like this:

     Query maleQuery = new TermQuery(new Term("Gender", "Male"));
     Filter filter = new QueryFilter(maleQuery);
     Hits hits = searcher.search(new TermQuery("ZipCode","CA10927"), 
filter);

Keep in mind all that Doug has said on this topic as well.  In this 
case, it probably won't be any faster than a single query, maybe even 
slower.  But if you use the same instance of the filter for future 
searches there will certainly be a benefit.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:24:15 2003
Return-Path: 
 <lucene-user-return-5983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11105 invoked from network); 13 Nov 2003 21:24:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:24:15 -0000
Received: (qmail 22490 invoked by uid 500); 13 Nov 2003 21:23:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22464 invoked by uid 500); 13 Nov 2003 21:23:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22451 invoked from network); 13 Nov 2003 21:23:58 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:23:58 -0000
Message-ID: <20031113212403.69188.qmail@web12702.mail.yahoo.com>
Received: from [195.29.51.233] by web12702.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 13:24:03 PST
Date: Thu, 13 Nov 2003 13:24:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031113201246.98615.qmail@web25004.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Multiple threads against the same index or multiple indices - no
advantage - think about the mechanical parts involved (disk head).

Multiple threads against indices on different disks (not just
paritions!) - yes, that would be faster.

Reading the index from the disk is the bottleneck, not the CPU.
So if you split the index over multiple disks and access them in
parallel, you have a good solution.

When you hit the CPU limit, then you spread this over multiple search
servers then you again hit in parallel.

If each of them has multiple disks, you can search them in parallel.

And so on.... :)

Otis


--- Jie Yang <jyang_work@yahoo.co.uk> wrote:
>  --- Doug Cutting <cutting@lucene.com> wrote: > First,
> note that the approaches you describe will
> > only improve 
> > performance if you have multiple CPUs and/or
> > multiple disks holding the 
> > indexes.
> > 
> > Second, MultiSearcher is currently implemented to
> > search indexes 
> > serially, not each in a separate thread.  To
> > implement multi-threaded 
> > searching one could subclass MultiSearcher with,
> > e.g., ParallelSearcher, 
> > and override the search() methods with
> > multi-threaded implemenations. 
> > This would be a great contribution if someone is
> > interested!
> 
> That's the solution I have in mind, since I do not
> have multiple machines avaiable to me. Would
> multi-threads on a single disk produces any
> performance advantage? since i don't see CPU is
> utilised 100% normally. In this case, does the
> bottleneck happens on the mutli-thread concurrent
> process sharing or on the single disk read? if its the
> latter, probably, I can get away by putting multiple
> indexes on seperate hard disks, but still runs on
> single CPU. 
> 
> Are you going to have a try on building a
> multi-threaded MultiSearcher? if so, what's the
> timescale you have in mind? I may have to look into
> myself if I don't find out any better solutions on my
> 500+ terms search problems.   
> 
> > 
> > The parallel approach I prefer is to maintain a set
> > of indexes, each on 
> > a separate machine, then use something like a
> > ParallelSearcher of 
> > RemoteSearchables to search them all.
> > 
> > Doug
> > 
> > Jie Yang wrote:
> > > I had a thought on my earlier post on "Poor
> > > Performance when searching for 500+ terms". 
> > > 
> > > The problem is on how to improve the performance
> > when
> > > searching for 500+ OR search terms. i.e. enter a
> > > search string of :
> > > 
> > > W1 OR W2 OR W3 OR ...... OR w500.
> > > 
> > > I thought I could rewrite the MultiSearcher class
> > so
> > > that it can initiate multiple parallel
> > IndexSearchers
> > > to perform the search.
> > > 
> > > Solution 1 would be divide the query string of
> > "500 OR
> > > conditions terms" into 25 "20 OR conditions
> > terms",
> > > and then pass them to MultiSearcher, MultiSearcher
> > > then initiate 25 threads to search on a single
> > index
> > > directory.
> > > 
> > > Solution 2 would be when building an index of 1
> > > million docs, instead of building one single index
> > > containing 1 million docs,
> > > build 10 index directory eaching containing 100K
> > > records. then I pass a single query string of "500
> > OR
> > > conditions terms" to
> > > MultiSearcher, MultiSearcher then initiate 10
> > threads
> > > to search for 10 different index directories. 
> > > 
> > > Has anyone tried something similar, which solution
> > > would be a better one. Also is using multiple
> > threads
> > > on a single directory a good ideal? Are there any
> > > bottlenecks for threads acessing resources, or
> > > I better pass requests into different processes. 
> > > 
> > > Thanks a lot
> > > 
> > > 
> > > 
> > > 
> > >  --- Jie Yang <jyang_work@yahoo.co.uk> wrote: >
> > Thanks
> > > Julian
> > > 
> > >>I am not using RAMDirectory due to the large size
> > of
> > >>index file. the index generated on hard disc is
> > >>1.57G
> > >>for 1 million documents, each document has average
> > >>500
> > >>terms. I am using Field.UnStored(fieldName,
> > terms),
> > >>so
> > >>i beliece I am not storing the documents, just the
> > >>index. (is that right?) is there anyway to reduce
> > >>the
> > >>index size created? also What is the maximum size
> > of
> > >>data can be stored in RAMDirectory? I suppose I
> > >>could
> > >>get a 10G RAM solaris box, but would that be
> > >>advisable
> > >>say storing 2-3G of index data in memory? Also,
> > what
> > >>is the performance boost factor when RAMDirectory
> > >>comparing to FSDirectory. Are we taling about >
> > 100%
> > >>here?
> > >>
> > >>On your 2nd and 3rd suggestion, I probably run the
> > >>latest code that includes the fix by Dmitry
> > >>Serebrennikov, the build was checked out from CVS
> > >>yesterday. and I used a QueryParser similar to the
> > >>one
> > >>used in the demo code.
> > >>
> > >>Again, I still feel a bit curious and want to find
> > >>out
> > >>does lucene do (or in the future) pre-filter on
> > "AND
> > >>join conditions". For example, A AND (B OR C OR
> > D).
> > >>if
> > >>A finds 100 docs out of 1 million, can lucene
> > >>restrict
> > >>the searchs on B,C,D only within the 100 docs
> > found?
> > >>
> > >>Thanks a lot.
> > >>
> > >>
> > >>
> > >> 
> > >>
> > >>
> > >>
> > >>
> > >>>Response to: Poor Performance when searching for
> > >>
> > >>500+
> > >>
> > >>>terms (Jie Yang) 
> > >>
> > >>>From: Julien Nioche <Julien.Nioche@lingway.com>
> > >>
> > >>Subject: Poor Performance when searching for 500+
> > >>terms
> > >>
> > >>>Date: Thu, 13 Nov 2003 12:45:50 +0100
> > >>>Content-Type: text/plain; charset="iso-8859-1"
> > >>>
> > >>>Hello,
> > >>>
> > >>>Since there are a lot of Term objects in your
> > >>
> > >>Query, 
> > >>
> > >>>your application must
> > >>>spend a lot of time collecting information about 
> > >>>those Terms.
> > >>>
> > >>>1/ Do you use RAMDirectory? Loading the whole 
> > >>>Directory into memory will
> > >>>increase speed - your index must not be too big
> > >>
> > >>though
> > >>
> > >>>2/ You are probably not using the QueryParser -
> > so 
> > >>>when you are building the
> > >>>Query you could sort the Term objects inside a 
> > >>>BooleanQuery. Sorting the
> > >>>Terms will reduce jumps on disk. I have no
> > >>
> > >>benchmarks
> > >>
> > >>
> > >>>for this, but
> > >>>logically, it should have some positive effect
> > when
> > >>
> > >>>using FSDirectory. Am I wrong?
> > >>
> > >>>3/ There was a patch submitted by Dmitry
> > >>
> > >>Serebrennikov
> > >>
> >
>
>>(http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02762.html)
> > >>
> > >>>which reduced garbage collecting by limiting the 
> > >>>creation of temporary Term objects. This patch
> > has 
> > >>>not been included in Lucene code (a bug in it?).
> > >>>
> > >>>Hope it helps.
> > >>>
> > >>>Julien
> > >>
> > >>
> > >>
> > >
> >
>
________________________________________________________________________
> > > 
> > >>Want to chat instantly with your online friends? 
> > >>Get the FREE Yahoo!
> > >>Messenger http://mail.messenger.yahoo.co.uk
> > >> 
> > 
> === message truncated === 
> 
>
________________________________________________________________________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:25:21 2003
Return-Path: 
 <lucene-user-return-5984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11940 invoked from network); 13 Nov 2003 21:25:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:25:21 -0000
Received: (qmail 27006 invoked by uid 500); 13 Nov 2003 21:25:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26980 invoked by uid 500); 13 Nov 2003 21:25:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26966 invoked from network); 13 Nov 2003 21:25:04 -0000
Received: from unknown (HELO sba03.sba.cj.com) (207.71.241.81)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:25:04 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Query Filters on term A in query "A AND (B OR C OR D)"
Date: Thu, 13 Nov 2003 13:25:10 -0800
Message-ID: <B2671BA904946B44AA2C84B8EC8C785801732B80@sba03.sba.cj.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Filters on term A in query "A AND (B OR C OR D)"
Thread-Index: AcOqK7GJ8qm9pcjeSzGm4hpKDvZJegAAIoww
From: "Ryan Clifton" <rclifton@cj.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How challenging would it be to add something to QueryParser to allow you =
to specify that you want to use filters?

I have a similiar case where I do a search for term1 AND term2 AND =
links:http???www?url?com?dir*

If lucene would use order of operations or in some way do the first two =
searches first, it would reduce the amount of work it has to do by 95%.

Right now it looks like it's doing a full scan of my whole index (8 GB) =
because of the wildcards that I have in the search.  By filtering on teh =
first two terms things would be SO much faster..

don't know if this is possible due to lucene's data structure however..

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, November 13, 2003 1:16 PM
To: Lucene Users List
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"


On Thursday, November 13, 2003, at 04:07  PM, Jie Yang wrote:
> Erik, Just to make sure I understand you right, In an
> example query:  ZipCode:CA10927 AND Gender:Male

Are we talking about that query being entered by the user and you=20
handing it just like that to QueryParser?  If so, then QueryFilter=20
won't help.

> Sure I know ZipCode returns fewer results, do you mean
> I build a filter
>
> QueryFilter x =3D new QueryFilter("ZipCode", "CA10927",
> ..);

Well, that is not quite the right API, but something like this:

     Query maleQuery =3D new TermQuery(new Term("Gender", "Male"));
     Filter filter =3D new QueryFilter(maleQuery);
     Hits hits =3D searcher.search(new TermQuery("ZipCode","CA10927"),=20
filter);

Keep in mind all that Doug has said on this topic as well.  In this=20
case, it probably won't be any faster than a single query, maybe even=20
slower.  But if you use the same instance of the filter for future=20
searches there will certainly be a benefit.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:33:17 2003
Return-Path: 
 <lucene-user-return-5985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16032 invoked from network); 13 Nov 2003 21:33:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:33:17 -0000
Received: (qmail 36356 invoked by uid 500); 13 Nov 2003 21:32:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36326 invoked by uid 500); 13 Nov 2003 21:32:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36285 invoked from network); 13 Nov 2003 21:32:54 -0000
Received: from unknown (HELO web25007.mail.ukl.yahoo.com) (217.12.10.43)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:32:54 -0000
Message-ID: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25007.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 21:32:59 GMT
Date: Thu, 13 Nov 2003 21:32:59 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <842BCE17-161E-11D8-BCEB-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Erik Hatcher <erik@ehatchersolutions.com> wrote: 
> Are we talking about that query being entered by the
> user and you 
> handing it just like that to QueryParser?  If so,
> then QueryFilter 
> won't help.
Well, not quite, User normally enters a search string
A that normally returns 1000 out of 2 millions docs. I
then append A with 500 OR conditions... A AND (B or C
or ... or x500). I am trying to optimse the 500 OR
terms so that it does not do a full 2 millions docs
search but on the 1000 returned. Would this help?
 
> Well, that is not quite the right API, but something
> like this:
> 
>      Query maleQuery = new TermQuery(new
> Term("Gender", "Male"));
>      Filter filter = new QueryFilter(maleQuery);
>      Hits hits = searcher.search(new
> TermQuery("ZipCode","CA10927"), 
> filter);
> 

Mmm, I get the order wrong, will give it a try
tommorrow at work, thanks for posting..
> Keep in mind all that Doug has said on this topic as
> well.  In this 
> case, it probably won't be any faster than a single
> query, maybe even 
> slower.  But if you use the same instance of the
> filter for future 
> searches there will certainly be a benefit.

How long will the filtered doc id be retained in the
memory? can I manually manpulate this filtered doc
ids, say pre-populate a sets of filtered data in
memory and play with memory sizes.

Thanks all folks, you have all been extremely
helpful!!!

> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:34:45 2003
Return-Path: 
 <lucene-user-return-5986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16785 invoked from network); 13 Nov 2003 21:34:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:34:45 -0000
Received: (qmail 38980 invoked by uid 500); 13 Nov 2003 21:34:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38891 invoked by uid 500); 13 Nov 2003 21:34:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38878 invoked from network); 13 Nov 2003 21:34:28 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:34:28 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 13 Nov 2003 16:34:33 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hADLYVx07765
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 16:34:32 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Query Filters on term A in query "A AND (B OR C OR D)"
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 13 Nov 2003 16:34:31 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241173@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Filters on term A in query "A AND (B OR C OR D)"
Thread-Index: AcOqLcXdLFF5N98iTNac5Rfn538ZGQAABS9w
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you're doing TREC-style query expansion using automatic relevance =
feedback?

Herb....

-----Original Message-----
From: Jie Yang [mailto:jyang_work@yahoo.co.uk]
Sent: Thursday, November 13, 2003 4:33 PM
To: Lucene Users List
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"


Well, not quite, User normally enters a search string
A that normally returns 1000 out of 2 millions docs. I
then append A with 500 OR conditions... A AND (B or C
or ... or x500). I am trying to optimse the 500 OR
terms so that it does not do a full 2 millions docs
search but on the 1000 returned. Would this help?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:50:47 2003
Return-Path: 
 <lucene-user-return-5987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25081 invoked from network); 13 Nov 2003 21:50:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:50:47 -0000
Received: (qmail 62571 invoked by uid 500); 13 Nov 2003 21:50:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62432 invoked by uid 500); 13 Nov 2003 21:50:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62419 invoked from network); 13 Nov 2003 21:50:30 -0000
Received: from unknown (HELO web25002.mail.ukl.yahoo.com) (217.12.10.38)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:50:30 -0000
Message-ID: <20031113215035.16720.qmail@web25002.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25002.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 21:50:35 GMT
Date: Thu, 13 Nov 2003 21:50:35 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031113212403.69188.qmail@web12702.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In this case, probably using a single RAMDirectory
would allow me to run parallel searching without worry
about disk access. Well, anyone tried to have a
RAMDirectory of 5G in size?

 --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote: > Multiple threads against the same index or
multiple
> indices - no
> advantage - think about the mechanical parts
> involved (disk head).
> 
> Multiple threads against indices on different disks
> (not just
> paritions!) - yes, that would be faster.
> 
> Reading the index from the disk is the bottleneck,
> not the CPU.
> So if you split the index over multiple disks and
> access them in
> parallel, you have a good solution.
> 
> When you hit the CPU limit, then you spread this
> over multiple search
> servers then you again hit in parallel.
> 
> If each of them has multiple disks, you can search
> them in parallel.
> 
> And so on.... :)
> 
> Otis
> 
> 
> --- Jie Yang <jyang_work@yahoo.co.uk> wrote:
> >  --- Doug Cutting <cutting@lucene.com> wrote: >
> First,
> > note that the approaches you describe will
> > > only improve 
> > > performance if you have multiple CPUs and/or
> > > multiple disks holding the 
> > > indexes.
> > > 
> > > Second, MultiSearcher is currently implemented
> to
> > > search indexes 
> > > serially, not each in a separate thread.  To
> > > implement multi-threaded 
> > > searching one could subclass MultiSearcher with,
> > > e.g., ParallelSearcher, 
> > > and override the search() methods with
> > > multi-threaded implemenations. 
> > > This would be a great contribution if someone is
> > > interested!
> > 
> > That's the solution I have in mind, since I do not
> > have multiple machines avaiable to me. Would
> > multi-threads on a single disk produces any
> > performance advantage? since i don't see CPU is
> > utilised 100% normally. In this case, does the
> > bottleneck happens on the mutli-thread concurrent
> > process sharing or on the single disk read? if its
> the
> > latter, probably, I can get away by putting
> multiple
> > indexes on seperate hard disks, but still runs on
> > single CPU. 
> > 
> > Are you going to have a try on building a
> > multi-threaded MultiSearcher? if so, what's the
> > timescale you have in mind? I may have to look
> into
> > myself if I don't find out any better solutions on
> my
> > 500+ terms search problems.   
> > 
> > > 
> > > The parallel approach I prefer is to maintain a
> set
> > > of indexes, each on 
> > > a separate machine, then use something like a
> > > ParallelSearcher of 
> > > RemoteSearchables to search them all.
> > > 
> > > Doug
> > > 
> > > Jie Yang wrote:
> > > > I had a thought on my earlier post on "Poor
> > > > Performance when searching for 500+ terms". 
> > > > 
> > > > The problem is on how to improve the
> performance
> > > when
> > > > searching for 500+ OR search terms. i.e. enter
> a
> > > > search string of :
> > > > 
> > > > W1 OR W2 OR W3 OR ...... OR w500.
> > > > 
> > > > I thought I could rewrite the MultiSearcher
> class
> > > so
> > > > that it can initiate multiple parallel
> > > IndexSearchers
> > > > to perform the search.
> > > > 
> > > > Solution 1 would be divide the query string of
> > > "500 OR
> > > > conditions terms" into 25 "20 OR conditions
> > > terms",
> > > > and then pass them to MultiSearcher,
> MultiSearcher
> > > > then initiate 25 threads to search on a single
> > > index
> > > > directory.
> > > > 
> > > > Solution 2 would be when building an index of
> 1
> > > > million docs, instead of building one single
> index
> > > > containing 1 million docs,
> > > > build 10 index directory eaching containing
> 100K
> > > > records. then I pass a single query string of
> "500
> > > OR
> > > > conditions terms" to
> > > > MultiSearcher, MultiSearcher then initiate 10
> > > threads
> > > > to search for 10 different index directories. 
> > > > 
> > > > Has anyone tried something similar, which
> solution
> > > > would be a better one. Also is using multiple
> > > threads
> > > > on a single directory a good ideal? Are there
> any
> > > > bottlenecks for threads acessing resources, or
> > > > I better pass requests into different
> processes. 
> > > > 
> > > > Thanks a lot
> > > > 
> > > > 
> > > > 
> > > > 
> > > >  --- Jie Yang <jyang_work@yahoo.co.uk> wrote:
> >
> > > Thanks
> > > > Julian
> > > > 
> > > >>I am not using RAMDirectory due to the large
> size
> > > of
> > > >>index file. the index generated on hard disc
> is
> > > >>1.57G
> > > >>for 1 million documents, each document has
> average
> > > >>500
> > > >>terms. I am using Field.UnStored(fieldName,
> > > terms),
> > > >>so
> > > >>i beliece I am not storing the documents, just
> the
> > > >>index. (is that right?) is there anyway to
> reduce
> > > >>the
> > > >>index size created? also What is the maximum
> size
> > > of
> > > >>data can be stored in RAMDirectory? I suppose
> I
> > > >>could
> > > >>get a 10G RAM solaris box, but would that be
> > > >>advisable
> > > >>say storing 2-3G of index data in memory?
> Also,
> > > what
> > > >>is the performance boost factor when
> RAMDirectory
> > > >>comparing to FSDirectory. Are we taling about
> >
> > > 100%
> > > >>here?
> > > >>
> > > >>On your 2nd and 3rd suggestion, I probably run
> the
> > > >>latest code that includes the fix by Dmitry
> > > >>Serebrennikov, the build was checked out from
> CVS
> > > >>yesterday. and I used a QueryParser similar to
> the
> > > >>one
> > > >>used in the demo code.
> > > >>
> > > >>Again, I still feel a bit curious and want to
> find
> > > >>out
> > > >>does lucene do (or in the future) pre-filter
> on
> > > "AND
> > > >>join conditions". For example, A AND (B OR C
> OR
> > > D).
> > > >>if
> > > >>A finds 100 docs out of 1 million, can lucene
> > > >>restrict
> 
=== message truncated === 

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:51:11 2003
Return-Path: 
 <lucene-user-return-5988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25394 invoked from network); 13 Nov 2003 21:51:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:51:11 -0000
Received: (qmail 63553 invoked by uid 500); 13 Nov 2003 21:50:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63330 invoked by uid 500); 13 Nov 2003 21:50:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63317 invoked from network); 13 Nov 2003 21:50:54 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:50:54 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc12) with SMTP
          id <2003111321510001200s5hi5e>; Thu, 13 Nov 2003 21:51:00 +0000
Message-ID: <3FB3FCC3.3030307@lucene.com>
Date: Thu, 13 Nov 2003 13:50:59 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
References: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
In-Reply-To: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jie Yang wrote:
>  --- Erik Hatcher <erik@ehatchersolutions.com> wrote: 
> Well, not quite, User normally enters a search string
> A that normally returns 1000 out of 2 millions docs. I
> then append A with 500 OR conditions... A AND (B or C
> or ... or x500).

Are you adding the same 500 terms to each query?  Or even a similar set? 
  If so, then filters could help.  If the 500 terms are different for 
each query, then filters probably won't help you.

> How long will the filtered doc id be retained in the
> memory? can I manually manpulate this filtered doc
> ids, say pre-populate a sets of filtered data in
> memory and play with memory sizes.

A filter requires 1 bit per document in the index.  So, if you have 1M 
documents (which is what I recall you have) then each filter will 
require around 125kB.  You could pre-populate them.  Check out QueryFilter.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 21:56:55 2003
Return-Path: 
 <lucene-user-return-5989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29206 invoked from network); 13 Nov 2003 21:56:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 21:56:55 -0000
Received: (qmail 73898 invoked by uid 500); 13 Nov 2003 21:56:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73868 invoked by uid 500); 13 Nov 2003 21:56:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73855 invoked from network); 13 Nov 2003 21:56:37 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 13 Nov 2003 21:56:37 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc12) with SMTP
          id <2003111321564301200sfi39e>; Thu, 13 Nov 2003 21:56:43 +0000
Message-ID: <3FB3FE1A.1090708@lucene.com>
Date: Thu, 13 Nov 2003 13:56:42 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Two possible solutions on Parallel Searching
References: <20031113215035.16720.qmail@web25002.mail.ukl.yahoo.com>
In-Reply-To: <20031113215035.16720.qmail@web25002.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jie Yang wrote:
> In this case, probably using a single RAMDirectory
> would allow me to run parallel searching without worry
> about disk access. Well, anyone tried to have a
> RAMDirectory of 5G in size?

I don't know of a Java implementation which lets you have a heap larger 
than 2GB.  In my experience, things get flakey when the heap is larger 
than 1.5GB.  So RAMDirectory may not work in this case.

Another approach that we've found useful is to, on linux, use a ramfs 
filesystem.  If you've got a 64-bit machine with 6GB of RAM, it should 
be possible to build a 5GB ramfs and put the index there.  That gives 
nearly as good of performance as RAMDirectory.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 22:01:13 2003
Return-Path: 
 <lucene-user-return-5990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30607 invoked from network); 13 Nov 2003 22:01:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 22:01:13 -0000
Received: (qmail 81207 invoked by uid 500); 13 Nov 2003 22:00:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81159 invoked by uid 500); 13 Nov 2003 22:00:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81107 invoked from network); 13 Nov 2003 22:00:48 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 13 Nov 2003 22:00:48 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 13 Nov 2003 17:00:53 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hADM0md17345
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 17:00:51 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Two possible solutions on Parallel Searching
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 13 Nov 2003 17:00:45 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241174@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Two possible solutions on Parallel Searching
Thread-Index: AcOqMRz5h7dMZPTnRcOUmNf6QnDVjAAAGlyw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

the one by NaturalBridge might, but it is not cheap.

Herb...

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Thursday, November 13, 2003 4:57 PM
To: Lucene Users List
Subject: Re: Two possible solutions on Parallel Searching


I don't know of a Java implementation which lets you have a heap larger=20
than 2GB.  In my experience, things get flakey when the heap is larger=20
than 1.5GB.  So RAMDirectory may not work in this case.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 22:08:35 2003
Return-Path: 
 <lucene-user-return-5991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35448 invoked from network); 13 Nov 2003 22:08:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 22:08:35 -0000
Received: (qmail 95594 invoked by uid 500); 13 Nov 2003 22:08:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95548 invoked by uid 500); 13 Nov 2003 22:08:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95494 invoked from network); 13 Nov 2003 22:08:12 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 13 Nov 2003 22:08:12 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hADM8IvP029396
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 14:08:18 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-211-220.adslplus.ch [62.167.211.220])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hADM8GZq008718
	for <lucene-user@jakarta.apache.org>; Thu, 13 Nov 2003 14:08:17 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
References: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E329E1FD-1625-11D8-9601-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
Date: Thu, 13 Nov 2003 23:08:18 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 13, 2003, at 22:32, Jie Yang wrote:

> I am trying to optimse the 500 OR
> terms so that it does not do a full 2 millions docs
> search but on the 1000 returned.

Would it be beneficial to move the first result set into its own 
(transient) index to perform the second part of your query?

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 22:18:57 2003
Return-Path: 
 <lucene-user-return-5992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41987 invoked from network); 13 Nov 2003 22:18:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 22:18:57 -0000
Received: (qmail 10484 invoked by uid 500); 13 Nov 2003 22:18:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10456 invoked by uid 500); 13 Nov 2003 22:18:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10442 invoked from network); 13 Nov 2003 22:18:38 -0000
Received: from unknown (HELO web25003.mail.ukl.yahoo.com) (217.12.10.39)
  by daedalus.apache.org with SMTP; 13 Nov 2003 22:18:38 -0000
Message-ID: <20031113221843.29466.qmail@web25003.mail.ukl.yahoo.com>
Received: from [195.137.102.70] by web25003.mail.ukl.yahoo.com via HTTP;
 Thu, 13 Nov 2003 22:18:43 GMT
Date: Thu, 13 Nov 2003 22:18:43 +0000 (GMT)
From: =?iso-8859-1?q?Jie=20Yang?= <jyang_work@yahoo.co.uk>
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E329E1FD-1625-11D8-9601-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are there ways to build transient indexes in memory in
less than 1 second from the first query results?

 --- petite_abeille <petite_abeille@mac.com> wrote: > 
> On Nov 13, 2003, at 22:32, Jie Yang wrote:
> 
> > I am trying to optimse the 500 OR
> > terms so that it does not do a full 2 millions
> docs
> > search but on the 1000 returned.
> 
> Would it be beneficial to move the first result set
> into its own 
> (transient) index to perform the second part of your
> query?
> 
> PA.
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 13 23:46:24 2003
Return-Path: 
 <lucene-user-return-5993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87155 invoked from network); 13 Nov 2003 23:46:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Nov 2003 23:46:24 -0000
Received: (qmail 48765 invoked by uid 500); 13 Nov 2003 23:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48740 invoked by uid 500); 13 Nov 2003 23:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48727 invoked from network); 13 Nov 2003 23:46:05 -0000
Received: from unknown (HELO web41604.mail.yahoo.com) (66.218.93.104)
  by daedalus.apache.org with SMTP; 13 Nov 2003 23:46:05 -0000
Message-ID: <20031113234612.62210.qmail@web41604.mail.yahoo.com>
Received: from [4.21.160.2] by web41604.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 15:46:12 PST
Date: Thu, 13 Nov 2003 15:46:12 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: Re: QueryParser Rules article (Erik Hatcher)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <27A70E05-15CF-11D8-A05F-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Eric, 

Thanks for the replies, and your consideration on this
problem.  In my case, I use the non-static method
because I want to set some properties (most
importantly the default operator to AND) for the query
parser. Looking at the code snip provided, I guess the
only thing the query parser will do is trap the
TokenMgrError and then throw it as a ParseException. I
think thats a good start, and it will help me for sure
since I am really only using the query parser and so
far have not needed to write anything custom yet to
work with the analyzer or its lexing.

Hopefully the dev group will consider refactoring the
code so that when its doing the lexing it will throw
TokenMgrException's instead of TokenMgrError's. 
Throwing Errors should be reserved for only the most
nasty of conditions. The compiler will force you to
catch or throw Exceptions, but not Errors. Thus, the
developer will never see it coming when their
application comes to a grinding halt. 

In the web apps world, there is already a rich
exception handling system set up by the container. If
an Error is thrown, it will stop a servlet dead in its
tracks and will never get to your exception processing
system.  Early on when using Lucene, I had dealt with
it by wrapping my Lucene code in an envelope to trap
the errors so that it does not cause the servlet to
crash. 

Thank you for your insight! 

-Tom


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Wednesday, November 12, 2003, at 11:52  PM,
> Tomcat Programmer wrote:
> > When using the QueryParser class, the parse method
> > will throw a TokenMgrError when there is a syntax
> > error even as simple as a missing quote at the end
> of
> > a phrase query. According to the javadoc, you
> should
> > never see this class derived from Error being
> thrown
> > (oops?)
> 
> After looking at it some more, I decided that only
> ParseException 
> should come out of either of the parse methods and
> committed the 
> change.  I'm not sure why TokenMgrError was ever
> publicly exposed from 
> the instance parse method.  If there is a good
> reason we can change it 
> back, but I don't see any reason.
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 00:01:38 2003
Return-Path: 
 <lucene-user-return-5994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91882 invoked from network); 14 Nov 2003 00:01:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 00:01:38 -0000
Received: (qmail 64852 invoked by uid 500); 14 Nov 2003 00:01:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64825 invoked by uid 500); 14 Nov 2003 00:01:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64808 invoked from network); 14 Nov 2003 00:01:18 -0000
Received: from unknown (HELO web41613.mail.yahoo.com) (66.218.93.113)
  by daedalus.apache.org with SMTP; 14 Nov 2003 00:01:18 -0000
Message-ID: <20031114000126.84561.qmail@web41613.mail.yahoo.com>
Received: from [4.21.160.2] by web41613.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 16:01:26 PST
Date: Thu, 13 Nov 2003 16:01:26 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: RE: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241174@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I saw an article from IBM somewhere, talking about how
you go about giving options to the JVM to use all the
non-reserved memory segments (on AIX which has
segmented memory) and this would allow more than a 2GB
heap.  The point of that statement is that it sounds
like IBM's JVM can do it. I'm not sure if they charge
for their JVM or not... 

-Tom

--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> the one by NaturalBridge might, but it is not cheap.
> 
> Herb...
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Thursday, November 13, 2003 4:57 PM
> To: Lucene Users List
> Subject: Re: Two possible solutions on Parallel
> Searching
> 
> 
> I don't know of a Java implementation which lets you
> have a heap larger 
> than 2GB.  In my experience, things get flakey when
> the heap is larger 
> than 1.5GB.  So RAMDirectory may not work in this
> case.
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 00:06:25 2003
Return-Path: 
 <lucene-user-return-5995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93347 invoked from network); 14 Nov 2003 00:06:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 00:06:25 -0000
Received: (qmail 67643 invoked by uid 500); 14 Nov 2003 00:06:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67403 invoked by uid 500); 14 Nov 2003 00:06:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67390 invoked from network); 14 Nov 2003 00:06:06 -0000
Received: from unknown (HELO web41608.mail.yahoo.com) (66.218.93.108)
  by daedalus.apache.org with SMTP; 14 Nov 2003 00:06:06 -0000
Message-ID: <20031114000612.9717.qmail@web41608.mail.yahoo.com>
Received: from [4.21.160.2] by web41608.mail.yahoo.com via HTTP;
 Thu, 13 Nov 2003 16:06:12 PST
Date: Thu, 13 Nov 2003 16:06:12 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: RE: Two possible solutions on Parallel Searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031114000126.84561.qmail@web41613.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I did a quick search and it looks like you can pick up
the Java JVM from IBM at no cost. They say it passes
Sun's compatibility tests. They have versions 1.3.1
and 1.4.1 on the site: 

http://www-106.ibm.com/developerworks/java/jdk/

-Tom 

--- Tomcat Programmer <tcprogrammer@yahoo.com> wrote:
> 
> I saw an article from IBM somewhere, talking about
> how
> you go about giving options to the JVM to use all
> the
> non-reserved memory segments (on AIX which has
> segmented memory) and this would allow more than a
> 2GB
> heap.  The point of that statement is that it sounds
> like IBM's JVM can do it. I'm not sure if they
> charge
> for their JVM or not... 
> 
> -Tom
> 
> --- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> > the one by NaturalBridge might, but it is not
> cheap.
> > 
> > Herb...
> > 
> > -----Original Message-----
> > From: Doug Cutting [mailto:cutting@lucene.com]
> > Sent: Thursday, November 13, 2003 4:57 PM
> > To: Lucene Users List
> > Subject: Re: Two possible solutions on Parallel
> > Searching
> > 
> > 
> > I don't know of a Java implementation which lets
> you
> > have a heap larger 
> > than 2GB.  In my experience, things get flakey
> when
> > the heap is larger 
> > than 1.5GB.  So RAMDirectory may not work in this
> > case.
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Protect your identity with Yahoo! Mail AddressGuard
> http://antispam.yahoo.com/whatsnewfree
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 00:42:50 2003
Return-Path: 
 <lucene-user-return-5996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6105 invoked from network); 14 Nov 2003 00:42:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 00:42:50 -0000
Received: (qmail 98472 invoked by uid 500); 14 Nov 2003 00:42:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98439 invoked by uid 500); 14 Nov 2003 00:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98418 invoked from network); 14 Nov 2003 00:42:29 -0000
Received: from unknown (HELO contextmedia.com) (64.65.202.3)
  by daedalus.apache.org with SMTP; 14 Nov 2003 00:42:29 -0000
Received: from jwilkicki ([192.168.1.39]) by contextmedia.com ;
 Thu, 13 Nov 2003 19:42:21 -0500
Received: from 127.0.0.1 ([127.0.0.1])
  by jwilkicki ([192.168.135.73]) with ESMTP (ZOE);
 Thu, 13 Nov 2003 19:42:25 -0500 (EST)
From: "Joseph Wilkicki" <jwilkicki@contextmedia.com>
To: "Lucene User" <lucene-user@jakarta.apache.org>
Subject: Problem with Date Range search
Date: Thu, 13 Nov 2003 19:42:25 -0500
Message-ID: <DHEAILLDKFMMLMHGIMIECEGMDKAA.jwilkicki@contextmedia.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all!

I'm having a problem with searching dates.  I created two documents with the
same date, 08/27/2002, in a lastModified field and then try and search a
range lastModified:[20020827 TO 20020827] (Other, wider ranges, don't seem
to help).  My understanding is that this should return my two documents
because the range is inclusive.  As a related aside, I can't seem to get any
range to work properly at all.  Here is a snippet of code describing what
I'm doing:


	  DateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");

        Date date = formatter.parse("2002-08-27");

        Field field1 =
Field.Keyword("lastModified",DateField.dateToString(date));

        Field field2 =
Field.Keyword("lastModified",DateField.dateToString(date));

        Document doc1 = new Document();

        doc1.add(field1);

        Document doc2 = new Document();
        doc2.add(field2);

        RAMDirectory dir = new RAMDirectory();

        IndexWriter writer = new IndexWriter(dir,new
StandardAnalyzer(),true);

        writer.addDocument(doc1);
        writer.addDocument(doc2);

        writer.close();

        IndexReader reader = IndexReader.open(dir);

        IndexSearcher searcher = new IndexSearcher(reader);

        QueryParser parser = new QueryParser("lastModified",new
StandardAnalyzer());

        Query query = parser.parse("lastModified:[20020827 TO 20020827]");

        System.out.println(searcher.explain(query,1));
        System.out.println(searcher.explain(query,2));

        Hits hits = searcher.search(query);

The explanations read as follows:

NaN = product of:
  0.0 = sum of:
  NaN = coord(0/0)

NaN = product of:
  0.0 = sum of:
  NaN = coord(0/0)


I have checked, and the directory does have 2 documents in it when I search.
I have also echoed the Date objects out and the DateFormat seems to be
parsing the date correctly.  I am using Lucene 1.3 RC1.  Any insight into
what I'm doing wrong here would be great.


Thanks in advance.



----------------------------
Joseph Wilkicki
Software Engineer
Context Media, Inc.
Providence, RI
http://www.contextmedia.com/
----------------------------




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 09:05:31 2003
Return-Path: 
 <lucene-user-return-5997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89019 invoked from network); 14 Nov 2003 09:05:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 09:05:31 -0000
Received: (qmail 3142 invoked by uid 500); 14 Nov 2003 09:05:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2930 invoked by uid 500); 14 Nov 2003 09:05:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2913 invoked from network); 14 Nov 2003 09:05:01 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 14 Nov 2003 09:05:01 -0000
Received: from fw.shark (gprs131-175.eurotel.cz [160.218.131.175])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 2A6E530E4C
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 10:05:11 +0100 (CET)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.9/8.12.9) with ESMTP id hAE943vH009625
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 10:04:08 +0100 (CET)
Message-ID: <3FB49981.4010004@seznam.cz>
Date: Fri, 14 Nov 2003 09:59:45 +0100
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Vector Space Model in Lucene?
References: <20031113153301.88532.qmail@web12702.mail.yahoo.com>
In-Reply-To: <20031113153301.88532.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Really? And what model is used/implemented by Lucene?

THX
Leo


Otis Gospodnetic wrote:

>Lucene does not implement vector space model.
>
>Otis
>
>--- ambiesense@gmx.de wrote:
>  
>
>>Hi,
>>
>>does Lucene implement a Vector Space Model? If yes, does anybody have
>>an
>>example of how using it?
>>
>>Cheers,
>>Ralf
>>
>>-- 
>>NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
>>Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService
>>
>>Jetzt kostenlos anmelden unter http://www.gmx.net
>>
>>+++ GMX - die erste Adresse f�r Mail, Message, More! +++
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>__________________________________
>Do you Yahoo!?
>Protect your identity with Yahoo! Mail AddressGuard
>http://antispam.yahoo.com/whatsnewfree
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 12:56:01 2003
Return-Path: 
 <lucene-user-return-5998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77946 invoked from network); 14 Nov 2003 12:56:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 12:56:01 -0000
Received: (qmail 4057 invoked by uid 500); 14 Nov 2003 12:55:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4033 invoked by uid 500); 14 Nov 2003 12:55:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4020 invoked from network); 14 Nov 2003 12:55:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 14 Nov 2003 12:55:53 -0000
Received: (cpmta 6536 invoked from network); 14 Nov 2003 04:55:53 -0800
Received: from 216.12.13.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 14 Nov 2003 04:55:53 -0800
X-Sent: 14 Nov 2003 12:55:53 GMT
Date: Fri, 14 Nov 2003 07:56:11 -0500
Subject: Re: QueryParser Rules article (Erik Hatcher)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031113234612.62210.qmail@web41604.mail.yahoo.com>
Message-Id: <EC13188E-16A1-11D8-81F1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 06:46  PM, Tomcat Programmer wrote:
> Hopefully the dev group will consider refactoring the
> code so that when its doing the lexing it will throw
> TokenMgrException's instead of TokenMgrError's.
> Throwing Errors should be reserved for only the most
> nasty of conditions. The compiler will force you to
> catch or throw Exceptions, but not Errors. Thus, the
> developer will never see it coming when their
> application comes to a grinding halt.

I'm not sure I understand your request.  With the latest codebase you 
will only ever get a ParseException coming from either of the parse 
methods and you don't have to worry about any other unchecked 
exceptions.

Am I missing something?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 12:59:17 2003
Return-Path: 
 <lucene-user-return-5999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78910 invoked from network); 14 Nov 2003 12:59:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 12:59:17 -0000
Received: (qmail 5561 invoked by uid 500); 14 Nov 2003 12:59:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5529 invoked by uid 500); 14 Nov 2003 12:59:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5516 invoked from network); 14 Nov 2003 12:59:10 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 14 Nov 2003 12:59:10 -0000
Received: (cpmta 4126 invoked from network); 14 Nov 2003 04:59:10 -0800
Received: from 216.12.13.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 14 Nov 2003 04:59:10 -0800
X-Sent: 14 Nov 2003 12:59:10 GMT
Date: Fri, 14 Nov 2003 07:59:27 -0500
Subject: Re: Problem with Date Range search
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <DHEAILLDKFMMLMHGIMIECEGMDKAA.jwilkicki@contextmedia.com>
Message-Id: <6139D8B8-16A2-11D8-81F1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 07:42  PM, Joseph Wilkicki wrote:
> I'm having a problem with searching dates.  I created two documents 
> with the
> same date, 08/27/2002, in a lastModified field and then try and search 
> a
> range lastModified:[20020827 TO 20020827] (Other, wider ranges, don't 
> seem
> to help).  My understanding is that this should return my two documents
> because the range is inclusive.  As a related aside, I can't seem to 
> get any
> range to work properly at all.  Here is a snippet of code describing 
> what
> I'm doing:

Dates require special considerations when dealing with QueryParser.  By 
default, you need to use the short format in the default locale for the 
expressions:

	lastModified:[08/27/2002 TO 08/27/2002]

If you want to deal with other formats, you will need to subclass 
QueryParser and override getRangeQuery and do your own thing there.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 13:19:31 2003
Return-Path: 
 <lucene-user-return-6000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90649 invoked from network); 14 Nov 2003 13:19:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 13:19:31 -0000
Received: (qmail 44138 invoked by uid 500); 14 Nov 2003 13:19:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44100 invoked by uid 500); 14 Nov 2003 13:19:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44041 invoked from network); 14 Nov 2003 13:19:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 14 Nov 2003 13:19:06 -0000
Received: (cpmta 4685 invoked from network); 14 Nov 2003 05:19:03 -0800
Received: from 216.12.13.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 14 Nov 2003 05:19:03 -0800
X-Sent: 14 Nov 2003 13:19:03 GMT
Date: Fri, 14 Nov 2003 08:19:21 -0500
Subject: Re: Query Filters on term A in query "A AND (B OR C OR D)"
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031113213259.1928.qmail@web25007.mail.ukl.yahoo.com>
Message-Id: <2861E14A-16A5-11D8-81F1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 13, 2003, at 04:32  PM, Jie Yang wrote:
> Well, not quite, User normally enters a search string
> A that normally returns 1000 out of 2 millions docs. I
> then append A with 500 OR conditions... A AND (B or C
> or ... or x500). I am trying to optimse the 500 OR
> terms so that it does not do a full 2 millions docs
> search but on the 1000 returned. Would this help?

Give it a try and you tell me if it helps :)

> How long will the filtered doc id be retained in the
> memory? can I manually manpulate this filtered doc
> ids, say pre-populate a sets of filtered data in
> memory and play with memory sizes.

I believe Doug gave the detailed scoop on this.  QueryFilter uses a 
cached BitSet with each bit corresponding to a document.  So the space 
is very minimal, but the benefits could be enormous.  As Doug said, if 
the additional terms you are adding are static a QueryFilter will work 
wonders.  If the terms you add vary for every query then it won't.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 13:35:00 2003
Return-Path: 
 <lucene-user-return-6001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97569 invoked from network); 14 Nov 2003 13:35:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 13:35:00 -0000
Received: (qmail 80492 invoked by uid 500); 14 Nov 2003 13:34:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80410 invoked by uid 500); 14 Nov 2003 13:34:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80332 invoked from network); 14 Nov 2003 13:34:51 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 13:34:51 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 08:34:51 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEDYkx02365
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 08:34:49 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 08:34:45 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241175@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOqjm+ivkxhspVyQMKJ8o3yCC2BsQAJZHow
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

does it matter? vector space is only one of several important ones.

Herb....

-----Original Message-----
From: Leo Galambos [mailto:Leo.G@seznam.cz]
Sent: Friday, November 14, 2003 4:00 AM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?


Really? And what model is used/implemented by Lucene?

THX
Leo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 14:08:03 2003
Return-Path: 
 <lucene-user-return-6002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14802 invoked from network); 14 Nov 2003 14:08:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 14:08:03 -0000
Received: (qmail 78177 invoked by uid 500); 14 Nov 2003 14:07:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78107 invoked by uid 500); 14 Nov 2003 14:07:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78088 invoked from network); 14 Nov 2003 14:07:54 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 14 Nov 2003 14:07:54 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 04F937CF0
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:07:55 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 879677CEB
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:07:52 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Vector Space Model in Lucene?
Date: Fri, 14 Nov 2003 15:07:52 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC015ADC@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOqjm+ivkxhspVyQMKJ8o3yCC2BsQAJZHowAAAQyZA=
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

>>
 vector space is only one of several important ones.
>>

what are these several other important ones?

While Lucene does not give an explicit vector space
representation - you can not efficiently access the vector=20
of one document - the index' basic representation is
a reduction of each document to its terms and=20
frequencies, hence a mapping into a vector space and hence
a vector space model. The relative term weights (TF/IDF) warp the
space and the vectors, but all of Lucene's search operations=20
nevertheless are  operations on a vector space model=20
(ok, maybe phrase  search is a bit different as it=20
requires an extension by position information).

E.g., searching a term means finding all vectors  that have=20
a certain common dimension and ranking means weighting these=20
relatively to their angle in vector space.=20

KK

Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com


-----Urspr=FCngliche Nachricht-----
Von: Chong, Herb [mailto:HChong3@bloomberg.com]=20
Gesendet: Freitag, 14. November 2003 14:35
An: Lucene Users List
Betreff: RE: Vector Space Model in Lucene?


does it matter? vector space is only one of several important ones.

Herb....

-----Original Message-----
From: Leo Galambos [mailto:Leo.G@seznam.cz]
Sent: Friday, November 14, 2003 4:00 AM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?


Really? And what model is used/implemented by Lucene?

THX
Leo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 14:16:06 2003
Return-Path: 
 <lucene-user-return-6003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21183 invoked from network); 14 Nov 2003 14:16:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 14:16:06 -0000
Received: (qmail 5396 invoked by uid 500); 14 Nov 2003 14:15:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5350 invoked by uid 500); 14 Nov 2003 14:15:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5337 invoked from network); 14 Nov 2003 14:15:57 -0000
Received: from unknown (HELO smtp-out3.iol.cz) (194.228.2.91)
  by daedalus.apache.org with SMTP; 14 Nov 2003 14:15:57 -0000
Received: from fw.shark (gprs131-175.eurotel.cz [160.218.131.175])
	by smtp-out3.iol.cz (Internet on Line ESMP server) with ESMTP id 91B6C34DF4
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:15:54 +0100 (CET)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.9/8.12.9) with ESMTP id hAEEEnvH004056
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:14:51 +0100 (CET)
Message-ID: <3FB4E252.8000906@seznam.cz>
Date: Fri, 14 Nov 2003 15:10:26 +0100
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Vector Space Model in Lucene?
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241175@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241175@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The model implies the quality, thus it does matter.

ad "several important models") Are any of them implemented in Lucene?

Chong, Herb wrote:

>does it matter? vector space is only one of several important ones.
>
>Herb....
>
>-----Original Message-----
>From: Leo Galambos [mailto:Leo.G@seznam.cz]
>Sent: Friday, November 14, 2003 4:00 AM
>To: Lucene Users List
>Subject: Re: Vector Space Model in Lucene?
>
>
>Really? And what model is used/implemented by Lucene?
>
>THX
>Leo
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 14:16:15 2003
Return-Path: 
 <lucene-user-return-6004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21278 invoked from network); 14 Nov 2003 14:16:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 14:16:15 -0000
Received: (qmail 6209 invoked by uid 500); 14 Nov 2003 14:16:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6177 invoked by uid 500); 14 Nov 2003 14:16:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6164 invoked from network); 14 Nov 2003 14:16:06 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 14:16:06 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 09:16:06 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEEG0x07105
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 09:16:04 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 09:15:58 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241176@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOquMugazRj6vBMQwCpKGADlp+ckQAAK94g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

there are at least two or three others including pure probabilistic =
ones. most of the ones i designed were probabilistic ones that are not =
vector space but more general. vector space is a special case of a much =
more general probabilistic framework document representation.

Herb....

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Friday, November 14, 2003 9:08 AM
To: Lucene Users List
Subject: AW: Vector Space Model in Lucene?

what are these several other important ones?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 14:17:49 2003
Return-Path: 
 <lucene-user-return-6005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22089 invoked from network); 14 Nov 2003 14:17:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 14:17:49 -0000
Received: (qmail 11028 invoked by uid 500); 14 Nov 2003 14:17:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10960 invoked by uid 500); 14 Nov 2003 14:17:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10888 invoked from network); 14 Nov 2003 14:17:37 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 14 Nov 2003 14:17:37 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 09:17:38 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEEHPd22685
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 09:17:35 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 09:17:14 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241177@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOqueA8Vrxl2F0tQr6mBPmWf1xM2AAABAJA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

to me, vector space implies thinking inside the box.

Herb...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 14:20:06 2003
Return-Path: 
 <lucene-user-return-6006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28035 invoked from network); 14 Nov 2003 14:20:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 14:20:06 -0000
Received: (qmail 18947 invoked by uid 500); 14 Nov 2003 14:19:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18891 invoked by uid 500); 14 Nov 2003 14:19:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18844 invoked from network); 14 Nov 2003 14:19:38 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 14 Nov 2003 14:19:38 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 09:19:38 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEEJTd23502
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 09:19:36 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 09:19:21 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241178@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOquMugazRj6vBMQwCpKGADlp+ckQAAXCZQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

like all vector space models i have come across, Lucene ignores =
interterm correlation.

Herb....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 15:45:49 2003
Return-Path: 
 <lucene-user-return-6007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75742 invoked from network); 14 Nov 2003 15:45:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 15:45:49 -0000
Received: (qmail 89323 invoked by uid 500); 14 Nov 2003 15:45:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89300 invoked by uid 500); 14 Nov 2003 15:45:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89286 invoked from network); 14 Nov 2003 15:45:38 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 14 Nov 2003 15:45:38 -0000
Message-ID: <20031114154541.97662.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.12] by web12703.mail.yahoo.com via HTTP;
 Fri, 14 Nov 2003 07:45:41 PST
Date: Fri, 14 Nov 2003 07:45:41 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QueryParser Rules article (Erik Hatcher)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <EC13188E-16A1-11D8-81F1-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik is referring to the VERY latest version - the CVS :)

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Thursday, November 13, 2003, at 06:46  PM, Tomcat Programmer
> wrote:
> > Hopefully the dev group will consider refactoring the
> > code so that when its doing the lexing it will throw
> > TokenMgrException's instead of TokenMgrError's.
> > Throwing Errors should be reserved for only the most
> > nasty of conditions. The compiler will force you to
> > catch or throw Exceptions, but not Errors. Thus, the
> > developer will never see it coming when their
> > application comes to a grinding halt.
> 
> I'm not sure I understand your request.  With the latest codebase you
> 
> will only ever get a ParseException coming from either of the parse 
> methods and you don't have to worry about any other unchecked 
> exceptions.
> 
> Am I missing something?
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 17:41:55 2003
Return-Path: 
 <lucene-user-return-6008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35021 invoked from network); 14 Nov 2003 17:41:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 17:41:55 -0000
Received: (qmail 26457 invoked by uid 500); 14 Nov 2003 17:41:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26424 invoked by uid 500); 14 Nov 2003 17:41:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26411 invoked from network); 14 Nov 2003 17:41:42 -0000
Received: from unknown (HELO mail3.astercity.net) (212.76.33.55)
  by daedalus.apache.org with SMTP; 14 Nov 2003 17:41:42 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail3.astercity.net (sendmail) with ESMTP id CC3552FE038
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 18:41:44 +0100 (CET)
Message-ID: <3FB5133A.3040409@getopt.org>
Date: Fri, 14 Nov 2003 18:39:06 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Vector Space Model in Lucene?
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241178@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241178@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chong, Herb wrote:

> like all vector space models i have come across, Lucene ignores interterm correlation.
> 
> Herb....

Hmm... Are you perhaps familiar with some open system which doesn't? I'm 
curious because one of my projects (already using Lucene) could benefit 
from such feature. Right now I'm using a bastardized version of Markov 
chains, but it's more of a hack...

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 17:52:32 2003
Return-Path: 
 <lucene-user-return-6009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40041 invoked from network); 14 Nov 2003 17:52:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 17:52:32 -0000
Received: (qmail 42271 invoked by uid 500); 14 Nov 2003 17:52:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42073 invoked by uid 500); 14 Nov 2003 17:52:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42056 invoked from network); 14 Nov 2003 17:52:19 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 17:52:19 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 12:52:22 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEHqGd24001
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:52:20 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 12:52:15 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq1qFZSmOjJb+0RPWmKPW4fnAKAAAAIxhw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i don't know of any open source search engine that incorporates =
interterm correlation. i have been looking into how to do this in Lucene =
and so far, it's not been promising. the indexing engine and file format =
needs to be changed. there are very few search engines that incorporate =
interterm correlation in any mathematically and linguistically rigorous =
manner. i designed a couple, but they were all research experiments.

if you are familiar with the TREC automatic adhoc track? my experiments =
with the TREC-5 to TREC-7 questions produced about 0.05 to 0.10 =
improvement in average precision by proper use of interterm correlation. =
my project at the time was cancelled after TREC-7 and so there haven't =
been any new developments.

Herb....

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]
Sent: Friday, November 14, 2003 12:39 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?

Herb....

Hmm... Are you perhaps familiar with some open system which doesn't? I'm =

curious because one of my projects (already using Lucene) could benefit=20
from such feature. Right now I'm using a bastardized version of Markov=20
chains, but it's more of a hack...

--=20
Best regards,
Andrzej Bialecki

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 18:13:47 2003
Return-Path: 
 <lucene-user-return-6011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47570 invoked from network); 14 Nov 2003 18:13:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 18:13:47 -0000
Received: (qmail 72269 invoked by uid 500); 14 Nov 2003 18:13:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72236 invoked by uid 500); 14 Nov 2003 18:13:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72223 invoked from network); 14 Nov 2003 18:13:34 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 18:13:34 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 13:13:36 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEIDZd28015
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 13:13:35 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 13:13:35 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241187@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq2q020SCK4R2lQaem686Z/kmZUQAACw2A
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

if you didn't have to change the index then you haven't got all the =
factors needed to do it well. terms can't cross sentence boundaries and =
the index doesn't store sentence boundaries.

Herb...

-----Original Message-----
From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
Sent: Friday, November 14, 2003 1:14 PM
To: Lucene Users List
Subject: inter-term correlation [was Re: Vector Space Model in Lucene?]


Incorporating inter-term correlation into Lucene isn't that hard; I've=20
done it.  Nor is it incompatible with the vector-space model.  I'm not=20
happy with the specific correlation metric that I picked, which is why=20
I'm not eager to generally release the code I wrote, but I think that=20
the basic mechanism that I came up with (query expansion via correlated=20
terms, where the added terms were boosted according to the strength of=20
the correlation) is fairly sound.  And I didn't need any changes to=20
Lucene to do this.

You can get some details on the specific mechanism that I used here, if=20
you're interested:

http://www.ics.uci.edu/~jmadden/research/index.html

(and go down to "Fuzzy Term Expansion and Document Reweighting", about=20
halfway down.)

If you decide that my ideas are interesting enough that you want to=20
have a look at my code, let me know, and perhaps we can work something=20
out.

Regards,

Joshua O'Madadhain

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 18:11:09 2003
Return-Path: 
 <lucene-user-return-6010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46697 invoked from network); 14 Nov 2003 18:11:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 18:11:09 -0000
Received: (qmail 67781 invoked by uid 500); 14 Nov 2003 18:10:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67753 invoked by uid 500); 14 Nov 2003 18:10:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67740 invoked from network); 14 Nov 2003 18:10:55 -0000
Received: from unknown (HELO gremlin.ics.uci.edu) (128.195.1.70)
  by daedalus.apache.org with SMTP; 14 Nov 2003 18:10:55 -0000
Received: from ics.uci.edu (pv105178.reshsg.uci.edu [128.195.105.178])
	by gremlin.ics.uci.edu (8.12.10/8.12.10) with ESMTP id hAEI9XLE002325
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 10:09:33 -0800 (PST)
Date: Fri, 14 Nov 2003 10:14:29 -0800
Subject: inter-term correlation [was Re: Vector Space Model in Lucene?]
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: "Joshua O'Madadhain" <jmadden@ics.uci.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
Message-Id: <63585AE0-16CE-11D8-BFA7-000A9591BCE8@ics.uci.edu>
X-Mailer: Apple Mail (2.552)
X-ICS-MailScanner: Found to be clean
X-ICS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-118.2, required 5, DOUBLE_CAPSWORD,
	EMAIL_ATTRIBUTION, IN_REP_TO, MIME_EXCESSIVE_QP, QUOTED_EMAIL_TEXT,
	REPLY_WITH_QUOTES, USER_AGENT_APPLEMAIL, USER_IN_WHITELIST)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Incorporating inter-term correlation into Lucene isn't that hard; I've 
done it.  Nor is it incompatible with the vector-space model.  I'm not 
happy with the specific correlation metric that I picked, which is why 
I'm not eager to generally release the code I wrote, but I think that 
the basic mechanism that I came up with (query expansion via correlated 
terms, where the added terms were boosted according to the strength of 
the correlation) is fairly sound.  And I didn't need any changes to 
Lucene to do this.

You can get some details on the specific mechanism that I used here, if 
you're interested:

http://www.ics.uci.edu/~jmadden/research/index.html

(and go down to "Fuzzy Term Expansion and Document Reweighting", about 
halfway down.)

If you decide that my ideas are interesting enough that you want to 
have a look at my code, let me know, and perhaps we can work something 
out.

Regards,

Joshua O'Madadhain

On Friday, Nov 14, 2003, at 09:52 US/Pacific, Chong, Herb wrote:

> i don't know of any open source search engine that incorporates 
> interterm correlation. i have been looking into how to do this in 
> Lucene and so far, it's not been promising. the indexing engine and 
> file format needs to be changed. there are very few search engines 
> that incorporate interterm correlation in any mathematically and 
> linguistically rigorous manner. i designed a couple, but they were all 
> research experiments.
>
> if you are familiar with the TREC automatic adhoc track? my 
> experiments with the TREC-5 to TREC-7 questions produced about 0.05 to 
> 0.10 improvement in average precision by proper use of interterm 
> correlation. my project at the time was cancelled after TREC-7 and so 
> there haven't been any new developments.
>
  jmadden@ics.uci.edu...Obscurium Per 
Obscurius...www.ics.uci.edu/~jmadden
   Joshua O'Madadhain: Information Scientist, Musician, 
Philosopher-At-Tall
  It's that moment of dawning comprehension that I live for--Bill 
Watterson
My opinions are too rational and insightful to be those of any 
organization.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 18:50:56 2003
Return-Path: 
 <lucene-user-return-6013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65037 invoked from network); 14 Nov 2003 18:50:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 18:50:56 -0000
Received: (qmail 41916 invoked by uid 500); 14 Nov 2003 18:50:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41868 invoked by uid 500); 14 Nov 2003 18:50:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41796 invoked from network); 14 Nov 2003 18:50:39 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 14 Nov 2003 18:50:39 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 13:50:42 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEIofO00355
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 13:50:41 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 13:50:41 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241188@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq3/8hvW3snus5T2Gwj63hGAPD7AAAAmjQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

if you are handling inter correlation properly, then terms can't cross =
sentence boundaries. if you are not paying attention to sentence =
boundaries, then you are not following rules of linguistics.

Herb...

-----Original Message-----
From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
Sent: Friday, November 14, 2003 1:53 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


Not sure what you mean by "terms can't cross sentence boundaries".  If=20
you're only using single-word terms, that's trivially true.  What is it=20
that you're trying to achieve, exactly?  (Your comment makes it sound=20
as though you simultaneously want and don't want sentence boundaries,=20
so I'm confused.)

Joshua

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 18:52:20 2003
Return-Path: 
 <lucene-user-return-6014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65993 invoked from network); 14 Nov 2003 18:52:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 18:52:20 -0000
Received: (qmail 48760 invoked by uid 500); 14 Nov 2003 18:52:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48721 invoked by uid 500); 14 Nov 2003 18:52:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48692 invoked from network); 14 Nov 2003 18:52:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 14 Nov 2003 18:52:00 -0000
Received: (cpmta 18472 invoked from network); 14 Nov 2003 10:52:02 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 14 Nov 2003 10:52:02 -0800
X-Sent: 14 Nov 2003 18:52:02 GMT
Date: Fri, 14 Nov 2003 13:52:20 -0500
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241187@ny2528.corp.bloomberg.com>
Message-Id: <AD351408-16D3-11D8-B477-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 14, 2003, at 01:13  PM, Chong, Herb wrote:
> if you didn't have to change the index then you haven't got all the 
> factors needed to do it well. terms can't cross sentence boundaries 
> and the index doesn't store sentence boundaries.

You mean if you have text like this: "Hello Herb.  Have a nice day!", 
you want to prevent phrase queries for "herb have"?  You could prevent 
sentence boundary crossing with clever use of the token position I 
suspect.  Would that accomplish what you're after?

Could you give a really dumbed down simple example of what you mean by 
inter-term correlation?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 18:49:12 2003
Return-Path: 
 <lucene-user-return-6012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64322 invoked from network); 14 Nov 2003 18:49:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 18:49:12 -0000
Received: (qmail 39680 invoked by uid 500); 14 Nov 2003 18:48:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39653 invoked by uid 500); 14 Nov 2003 18:48:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39640 invoked from network); 14 Nov 2003 18:48:57 -0000
Received: from unknown (HELO gremlin.ics.uci.edu) (128.195.1.70)
  by daedalus.apache.org with SMTP; 14 Nov 2003 18:48:57 -0000
Received: from ics.uci.edu (pv105178.reshsg.uci.edu [128.195.105.178])
	by gremlin.ics.uci.edu (8.12.10/8.12.10) with ESMTP id hAEIlhLE014910
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 10:47:43 -0800 (PST)
Date: Fri, 14 Nov 2003 10:52:39 -0800
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: "Joshua O'Madadhain" <jmadden@ics.uci.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241187@ny2528.corp.bloomberg.com>
Message-Id: <B8483F1C-16D3-11D8-BFA7-000A9591BCE8@ics.uci.edu>
X-Mailer: Apple Mail (2.552)
X-ICS-MailScanner: Found to be clean
X-ICS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-119.3, required 5, EMAIL_ATTRIBUTION, IN_REP_TO,
	MIME_EXCESSIVE_QP, QUOTED_EMAIL_TEXT, REPLY_WITH_QUOTES,
	USER_AGENT_APPLEMAIL, USER_IN_WHITELIST)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not sure what you mean by "terms can't cross sentence boundaries".  If 
you're only using single-word terms, that's trivially true.  What is it 
that you're trying to achieve, exactly?  (Your comment makes it sound 
as though you simultaneously want and don't want sentence boundaries, 
so I'm confused.)

Joshua

On Friday, Nov 14, 2003, at 10:13 US/Pacific, Chong, Herb wrote:

> if you didn't have to change the index then you haven't got all the 
> factors needed to do it well. terms can't cross sentence boundaries 
> and the index doesn't store sentence boundaries.
>
> Herb...
>
> -----Original Message-----
> From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
> Sent: Friday, November 14, 2003 1:14 PM
> To: Lucene Users List
> Subject: inter-term correlation [was Re: Vector Space Model in Lucene?]
>
>
> Incorporating inter-term correlation into Lucene isn't that hard; I've
> done it.  Nor is it incompatible with the vector-space model.  I'm not
> happy with the specific correlation metric that I picked, which is why
> I'm not eager to generally release the code I wrote, but I think that
> the basic mechanism that I came up with (query expansion via correlated
> terms, where the added terms were boosted according to the strength of
> the correlation) is fairly sound.  And I didn't need any changes to
> Lucene to do this.
>
> You can get some details on the specific mechanism that I used here, if
> you're interested:
>
> http://www.ics.uci.edu/~jmadden/research/index.html
>
> (and go down to "Fuzzy Term Expansion and Document Reweighting", about
> halfway down.)
>
> If you decide that my ideas are interesting enough that you want to
> have a look at my code, let me know, and perhaps we can work something
> out.
>
> Regards,
>
> Joshua O'Madadhain
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
  jmadden@ics.uci.edu...Obscurium Per 
Obscurius...www.ics.uci.edu/~jmadden
   Joshua O'Madadhain: Information Scientist, Musician, 
Philosopher-At-Tall
  It's that moment of dawning comprehension that I live for--Bill 
Watterson
My opinions are too rational and insightful to be those of any 
organization.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:02:50 2003
Return-Path: 
 <lucene-user-return-6015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72324 invoked from network); 14 Nov 2003 19:02:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:02:50 -0000
Received: (qmail 75003 invoked by uid 500); 14 Nov 2003 19:02:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74971 invoked by uid 500); 14 Nov 2003 19:02:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74958 invoked from network); 14 Nov 2003 19:02:36 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:02:36 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 14:02:40 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEJ2cO04129
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 14:02:39 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 14:02:37 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240865@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq4HMSQzmbnWuvR6CEqgoVA+TChQAAGYqw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

since i am working now on financial news, here is an example:

capital gains tax

if i just run this query against a million document newswire index, i =
know i am going to get lots of hits. the phrase "capital gains tax" hits =
a lot fewer documents, but is overrestrictive. the fact that the three =
terms occur next to each other in the query means that documents with =
the three terms far apart should not get nearly as much weight in the =
ranking scheme. a sentence ending with two terms "capital gains" =
followed by a sentence starting with the term "tax" should not be a =
highly ranked match. that means you need sentence boundaries in the =
index. the indexing and the query analysis scheme has to understand the =
linguistic concept of a phrase, and phrases do not cross sentence =
boundaries.

Herb....

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, November 14, 2003 1:52 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]

You mean if you have text like this: "Hello Herb.  Have a nice day!",=20
you want to prevent phrase queries for "herb have"?  You could prevent=20
sentence boundary crossing with clever use of the token position I=20
suspect.  Would that accomplish what you're after?

Could you give a really dumbed down simple example of what you mean by=20
inter-term correlation?

	Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:04:36 2003
Return-Path: 
 <lucene-user-return-6016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73341 invoked from network); 14 Nov 2003 19:04:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:04:36 -0000
Received: (qmail 80716 invoked by uid 500); 14 Nov 2003 19:04:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80521 invoked by uid 500); 14 Nov 2003 19:04:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80508 invoked from network); 14 Nov 2003 19:04:22 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.84)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:04:22 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hAEJ5MfX020522
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:05:22 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAEJ4Opa015456
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:04:25 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241188@ny2528.corp.bloomberg.com>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241188@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5E77ADF6-16D5-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 20:04:27 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 19:50, Chong, Herb wrote:

> if you are handling inter correlation properly, then terms can't cross 
> sentence boundaries.

Could you not break down your document along sentences boundary? If you 
manage to figure out what a sentence is, that is.

> if you are not paying attention to sentence boundaries, then you are 
> not following rules of linguistics.

Rules of linguistics? Is there such a thing? :)

PA.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:09:24 2003
Return-Path: 
 <lucene-user-return-6017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76176 invoked from network); 14 Nov 2003 19:09:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:09:24 -0000
Received: (qmail 95611 invoked by uid 500); 14 Nov 2003 19:09:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95580 invoked by uid 500); 14 Nov 2003 19:09:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95567 invoked from network); 14 Nov 2003 19:09:10 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:09:10 -0000
Received: (cpmta 19330 invoked from network); 14 Nov 2003 11:09:14 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 14 Nov 2003 11:09:14 -0800
X-Sent: 14 Nov 2003 19:09:14 GMT
Date: Fri, 14 Nov 2003 14:09:32 -0500
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240865@ny2528.corp.bloomberg.com>
Message-Id: <141A5829-16D6-11D8-B477-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 14, 2003, at 02:02  PM, Chong, Herb wrote:
> if i just run this query against a million document newswire index, i 
> know i am going to get lots of hits. the phrase "capital gains tax" 
> hits a lot fewer documents, but is overrestrictive. the fact that the 
> three terms occur next to each other in the query means that documents 
> with the three terms far apart should not get nearly as much weight in 
> the ranking scheme. a sentence ending with two terms "capital gains" 
> followed by a sentence starting with the term "tax" should not be a 
> highly ranked match. that means you need sentence boundaries in the 
> index. the indexing and the query analysis scheme has to understand 
> the linguistic concept of a phrase, and phrases do not cross sentence 
> boundaries.

With Lucene's analysis process, you can assign a position increment to 
tokens.  The default value is 1, meaning its the next position.  Phrase 
queries default to a slop of 0, meaning they must be in successive 
positions.  When analyzing and you encounter a sentence boundary, you 
could set the position increment of the next word (the first word of 
the next sentence) to a high number (to account for users searching 
with potential slop, or just something greater than one if you never 
use sloppy phrase searches).

Does this get you closer to what you're after?

As for how to weight queries by the distance from terms.... I'll have 
to think on that some, but I suspect something reasonable could be done 
with a custom Similarity or a custom type of Query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:27:53 2003
Return-Path: 
 <lucene-user-return-6018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83999 invoked from network); 14 Nov 2003 19:27:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:27:53 -0000
Received: (qmail 34879 invoked by uid 500); 14 Nov 2003 19:27:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34807 invoked by uid 500); 14 Nov 2003 19:27:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34781 invoked from network); 14 Nov 2003 19:27:38 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:27:38 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 70DF8A941
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:27:43 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAEJRgDs014659
	for lucene-user@jakarta.apache.org; Fri, 14 Nov 2003 11:27:42 -0800 (PST)
	(envelope-from dror)
Date: Fri, 14 Nov 2003 11:27:42 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Vector Space Model in Lucene?
Message-ID: <20031114192742.GX94919@rlx11.zapatec.com>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I might be the only person on the list who's having a hard time
following this discussion. Would one of you wise folks care to point me
to a good "dummies", also known as an executive summary, resource about
the theoretical background of all of this. I understand the basic
premise of collecting the "words" and having pointers to documents and
weights, but beyond that ...

TIA,

Dror

On Fri, Nov 14, 2003 at 12:52:15PM -0500, Chong, Herb wrote:
> i don't know of any open source search engine that incorporates interterm correlation. i have been looking into how to do this in Lucene and so far, it's not been promising. the indexing engine and file format needs to be changed. there are very few search engines that incorporate interterm correlation in any mathematically and linguistically rigorous manner. i designed a couple, but they were all research experiments.
> 
> if you are familiar with the TREC automatic adhoc track? my experiments with the TREC-5 to TREC-7 questions produced about 0.05 to 0.10 improvement in average precision by proper use of interterm correlation. my project at the time was cancelled after TREC-7 and so there haven't been any new developments.
> 
> Herb....
> 
> -----Original Message-----
> From: Andrzej Bialecki [mailto:ab@getopt.org]
> Sent: Friday, November 14, 2003 12:39 PM
> To: Lucene Users List
> Subject: Re: Vector Space Model in Lucene?
> 
> Herb....
> 
> Hmm... Are you perhaps familiar with some open system which doesn't? I'm 
> curious because one of my projects (already using Lucene) could benefit 
> from such feature. Right now I'm using a bastardized version of Markov 
> chains, but it's more of a hack...
> 
> -- 
> Best regards,
> Andrzej Bialecki
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:29:29 2003
Return-Path: 
 <lucene-user-return-6019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84599 invoked from network); 14 Nov 2003 19:29:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:29:29 -0000
Received: (qmail 36771 invoked by uid 500); 14 Nov 2003 19:29:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36738 invoked by uid 500); 14 Nov 2003 19:29:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36704 invoked from network); 14 Nov 2003 19:29:12 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:29:12 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 14:29:16 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEJTFd12490
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 14:29:16 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 14:29:15 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124118B@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq4tChUSok1nzxR46u0aG3P8upwgAAGEIQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

something in the index needs to mark sentence boundaries so that words =
close together in the query and found close together in the text get =
penalized for being separated by a boundary. proximity isn't enough =
because in more complex queries, some of the intermediate words might be =
omitted. in other words, A near B near C works only when A, B, and C =
occur close together and fails when B is omitted, but in English, A or B =
sometimes do get omitted after the first mention of the phrase A B C.

as far as the ranking calculation goes, the distance itself isn't a =
direct factor. put it this way, imagine you have a sliding window on the =
query of some number of terms. suppose you have a 5 term query. an exact =
match of the 5 terms on the window ought to match higher than 4 out of =
5. similarly, matching 4 terms out of 5 with the 5th term nearby but in =
another sentence should not rank as high. 5, BTW, is the magic number =
for English and other languages that use the same rules for multiword =
term composition.

read this - http://trec.nist.gov/pubs/trec10/papers/JuruAtTrec.pdf. read =
the section on Lexical Affinities. also find this paper: Y. Maarek and =
F. Smadja. Full text indexing based on lexical relations: An =
application: Software libraries. In Proceedings of the 12th =
International ACM SIGIR Conference on Research and Development in =
Information Retrieval, pages 198--206, 1989.

Herb....
-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, November 14, 2003 2:10 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


With Lucene's analysis process, you can assign a position increment to=20
tokens.  The default value is 1, meaning its the next position.  Phrase=20
queries default to a slop of 0, meaning they must be in successive=20
positions.  When analyzing and you encounter a sentence boundary, you=20
could set the position increment of the next word (the first word of=20
the next sentence) to a high number (to account for users searching=20
with potential slop, or just something greater than one if you never=20
use sloppy phrase searches).

Does this get you closer to what you're after?

As for how to weight queries by the distance from terms.... I'll have=20
to think on that some, but I suspect something reasonable could be done=20
with a custom Similarity or a custom type of Query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:30:09 2003
Return-Path: 
 <lucene-user-return-6020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84917 invoked from network); 14 Nov 2003 19:30:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:30:09 -0000
Received: (qmail 38667 invoked by uid 500); 14 Nov 2003 19:29:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38636 invoked by uid 500); 14 Nov 2003 19:29:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38623 invoked from network); 14 Nov 2003 19:29:54 -0000
Received: from unknown (HELO tomts13-srv.bellnexxia.net) (209.226.175.34)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:29:54 -0000
Received: from everest.konova.com ([65.95.44.82])
          by tomts13-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031114192958.XTZG1032.tomts13-srv.bellnexxia.net@everest.konova.com>
          for <lucene-user@jakarta.apache.org>;
          Fri, 14 Nov 2003 14:29:58 -0500
Received: from massif (IDENT:root@localhost [127.0.0.1])
	by everest.konova.com (8.11.6/8.11.6) with SMTP id hAEJTrF13094
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 14:29:53 -0500
From: "Philippe Laflamme" <plaflamme@konova.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 14:29:53 -0500
Message-ID: <DNEDJIGLNAJOFEMFBJIJEENECBAA.plaflamme@konova.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <5E77ADF6-16D5-11D8-AC97-000393760B7E@mac.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Rules of linguistics? Is there such a thing? :)

Actually, yes there is. Natural Language Processing (NLP) is a very broad
research subject but a lot has come out of it.

More specifically, Rule-based taggers have become very popular since Eric
Brill published his works on trainable rule-based tagging.

Essentially, it comes to down analysing sentences to determine the role
(noun, verb, etc.) of each words. It's very helpful to extract noun-phrases
such has "cardiovascular disease" or "magnetic resonance imaging" from
documents.

So, yep... you can definitely derive rules to analyse natural language...

I'm sure you already know about all of this... just thought it might be
interesting for some...

Phil

> -----Original Message-----
> From: petite_abeille [mailto:petite_abeille@mac.com]
> Sent: November 14, 2003 14:04
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model in
> Lucene?]
>
>
>
> On Nov 14, 2003, at 19:50, Chong, Herb wrote:
>
> > if you are handling inter correlation properly, then terms can't cross
> > sentence boundaries.
>
> Could you not break down your document along sentences boundary? If you
> manage to figure out what a sentence is, that is.
>
> > if you are not paying attention to sentence boundaries, then you are
> > not following rules of linguistics.
>
> Rules of linguistics? Is there such a thing? :)
>
> PA.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:31:12 2003
Return-Path: 
 <lucene-user-return-6021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85503 invoked from network); 14 Nov 2003 19:31:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:31:12 -0000
Received: (qmail 40547 invoked by uid 500); 14 Nov 2003 19:30:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40504 invoked by uid 500); 14 Nov 2003 19:30:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40467 invoked from network); 14 Nov 2003 19:30:53 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:30:53 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAEJUvvP028891
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:30:58 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAEJUupa025308
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:30:57 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <20031114192742.GX94919@rlx11.zapatec.com>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
 <20031114192742.GX94919@rlx11.zapatec.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <130F971D-16D9-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Vector Space Model in Lucene?
Date: Fri, 14 Nov 2003 20:30:59 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 20:27, Dror Matalon wrote:

> I might be the only person on the list who's having a hard time
> following this discussion.

Nope. I don't understand a word of what those guys are talking about 
either :)

>  Would one of you wise folks care to point me
> to a good "dummies", also known as an executive summary, resource about
> the theoretical background of all of this. I understand the basic
> premise of collecting the "words" and having pointers to documents and
> weights, but beyond that ...

That's good enough :)

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:33:05 2003
Return-Path: 
 <lucene-user-return-6022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86132 invoked from network); 14 Nov 2003 19:33:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:33:05 -0000
Received: (qmail 43694 invoked by uid 500); 14 Nov 2003 19:32:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43663 invoked by uid 500); 14 Nov 2003 19:32:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43589 invoked from network); 14 Nov 2003 19:32:49 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:32:49 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 14:32:52 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEJWnd13049
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 14:32:51 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 14:32:49 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124118C@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq5WaYTc1ODUmRRDin1f9ySZrGHgAAEdIQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

when people type in multiword queries, mostly they are interested in =
phrases in the linguistic sense. phrases don't cross sentence =
boundaries. you need certain features in the index and in the ranking =
algorithm to capture that distinction and rank documents truly having =
that phrase higher than documents that just happen to have the same =
words as the phrase. it also has to accommodate the human tendency to =
leave off words after mentioning the full form of the phrase once.

Herb....

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Friday, November 14, 2003 2:28 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?


Hi,

I might be the only person on the list who's having a hard time
following this discussion. Would one of you wise folks care to point me
to a good "dummies", also known as an executive summary, resource about
the theoretical background of all of this. I understand the basic
premise of collecting the "words" and having pointers to documents and
weights, but beyond that ...

TIA,

Dror

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:36:24 2003
Return-Path: 
 <lucene-user-return-6023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88062 invoked from network); 14 Nov 2003 19:36:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:36:24 -0000
Received: (qmail 49573 invoked by uid 500); 14 Nov 2003 19:36:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49546 invoked by uid 500); 14 Nov 2003 19:36:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49533 invoked from network); 14 Nov 2003 19:36:09 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.83)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:36:09 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hAEJedbo008518
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:40:39 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAEJaCZq000629
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 11:36:13 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <DNEDJIGLNAJOFEMFBJIJEENECBAA.plaflamme@konova.com>
References: <DNEDJIGLNAJOFEMFBJIJEENECBAA.plaflamme@konova.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CFB71088-16D9-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 20:36:15 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 20:29, Philippe Laflamme wrote:

>> Rules of linguistics? Is there such a thing? :)
>
> Actually, yes there is. Natural Language Processing (NLP) is a very 
> broad
> research subject but a lot has come out of it.

A lot of what? "If" statements? :)

> More specifically, Rule-based taggers have become very popular since 
> Eric
> Brill published his works on trainable rule-based tagging.
>
> Essentially, it comes to down analysing sentences to determine the role
> (noun, verb, etc.) of each words. It's very helpful to extract 
> noun-phrases
> such has "cardiovascular disease" or "magnetic resonance imaging" from
> documents.

I would agree with that. But it's easier said than done. And the result 
are never, er, clear cut.

> So, yep... you can definitely derive rules to analyse natural 
> language...

Well... beyond the jargon and the impressive math... this all boils 
down to fuzzy heuristics and judgment calls... but perhaps this is just 
me :)

> I'm sure you already know about all of this...

Not really. I'm more of a dilettante than a "NLP expert".

> just thought it might be
> interesting for some...

Sure. But my take on this, is that pigs will fly before NLP turns into 
a predictable "science" :)

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:48:54 2003
Return-Path: 
 <lucene-user-return-6024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93938 invoked from network); 14 Nov 2003 19:48:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:48:54 -0000
Received: (qmail 65588 invoked by uid 500); 14 Nov 2003 19:48:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65556 invoked by uid 500); 14 Nov 2003 19:48:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65543 invoked from network); 14 Nov 2003 19:48:38 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:48:38 -0000
Received: (cpmta 11311 invoked from network); 14 Nov 2003 11:48:42 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 14 Nov 2003 11:48:42 -0800
X-Sent: 14 Nov 2003 19:48:42 GMT
Date: Fri, 14 Nov 2003 14:48:59 -0500
Subject: Re: Vector Space Model in Lucene?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124118C@ny2528.corp.bloomberg.com>
Message-Id: <9745190A-16DB-11D8-B477-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Friday, November 14, 2003, at 02:32  PM, Chong, Herb wrote:
> when people type in multiword queries, mostly they are interested in 
> phrases in the linguistic sense. phrases don't cross sentence 
> boundaries. you need certain features in the index and in the ranking 
> algorithm to capture that distinction and rank documents truly having 
> that phrase higher than documents that just happen to have the same 
> words as the phrase. it also has to accommodate the human tendency to 
> leave off words after mentioning the full form of the phrase once.
>
> Herb....

In the Lucene-sense of things, sounds like you're after one Document 
per sentence.  You then get your boundaries automatically as well as 
the "distance weighting" through the coord() Similarity function.  At 
least that seems like a close approximation of what Lucene offers.  
Thoughts?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 19:54:40 2003
Return-Path: 
 <lucene-user-return-6025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96728 invoked from network); 14 Nov 2003 19:54:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 19:54:40 -0000
Received: (qmail 74058 invoked by uid 500); 14 Nov 2003 19:54:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73972 invoked by uid 500); 14 Nov 2003 19:54:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73959 invoked from network); 14 Nov 2003 19:54:25 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 19:54:25 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 14:54:30 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEJsTd16322
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 14:54:29 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 14:54:28 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241190@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq6FRGnXYr9R5dSainwlAcT2ry/QAAF15g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

it solves one part of the problem, but there are a lot of sentences in a =
typical document. you'll need to composite a rank of a document from its =
constituent sentences then. there are less drastic ways to solve the =
problem. the other problem is that Lucene doesn't consider the term =
order in the query unless the query is formulated as a phrase. a simple =
bag-of-words query doesn't make use of the ordering of terms that apply =
in a given language.

Herb....

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, November 14, 2003 2:49 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?



In the Lucene-sense of things, sounds like you're after one Document=20
per sentence.  You then get your boundaries automatically as well as=20
the "distance weighting" through the coord() Similarity function.  At=20
least that seems like a close approximation of what Lucene offers. =20
Thoughts?

	Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:07:36 2003
Return-Path: 
 <lucene-user-return-6026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1362 invoked from network); 14 Nov 2003 20:07:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:07:36 -0000
Received: (qmail 82857 invoked by uid 500); 14 Nov 2003 20:07:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82683 invoked by uid 500); 14 Nov 2003 20:07:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82670 invoked from network); 14 Nov 2003 20:07:20 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:07:20 -0000
Received: (cpmta 29208 invoked from network); 14 Nov 2003 12:07:24 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 14 Nov 2003 12:07:24 -0800
X-Sent: 14 Nov 2003 20:07:24 GMT
Date: Fri, 14 Nov 2003 15:07:42 -0500
Subject: Re: Vector Space Model in Lucene?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241190@ny2528.corp.bloomberg.com>
Message-Id: <341C426C-16DE-11D8-B477-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 14, 2003, at 02:54  PM, Chong, Herb wrote:
> it solves one part of the problem, but there are a lot of sentences in 
> a typical document. you'll need to composite a rank of a document from 
> its constituent sentences then. there are less drastic ways to solve 
> the problem. the other problem is that Lucene doesn't consider the 
> term order in the query unless the query is formulated as a phrase. a 
> simple bag-of-words query doesn't make use of the ordering of terms 
> that apply in a given language.

BooleanQuery _could_ take the order of terms into account for weighting 
and scale the weights accordingly, I believe.

I get the feeling you're looking for reasons that Lucene is inadequate. 
  This may be the case for the uses you're speaking of, but there is 
quite a bit of flexibility with Lucene in terms of Analysis, scoring, 
and custom Query implementations that all relate to what you've been 
speaking of.  And, of course, Lucene is a low-level component of which 
a higher level piece could be built around.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:09:37 2003
Return-Path: 
 <lucene-user-return-6027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2110 invoked from network); 14 Nov 2003 20:09:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:09:37 -0000
Received: (qmail 89102 invoked by uid 500); 14 Nov 2003 20:09:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89068 invoked by uid 500); 14 Nov 2003 20:09:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89037 invoked from network); 14 Nov 2003 20:09:21 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:09:21 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Fri, 14 Nov
 2003 14:12:53 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNLT4R28>; Fri, 14 Nov 2003 14:03:44 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DD1@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Index using URL
Date: Fri, 14 Nov 2003 14:09:15 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13ABE8CF1282629-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm using lucene demo IndexHTML.java and pdfbox to index pdf files under a
file directory.  I have a url point to the file directory.  I'd like to
index the files using the URL instead of the file directory.  Any idea how
to make IndexHTML take URL for indexing?

Thanks,
Oliver 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:12:39 2003
Return-Path: 
 <lucene-user-return-6028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3218 invoked from network); 14 Nov 2003 20:12:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:12:39 -0000
Received: (qmail 93043 invoked by uid 500); 14 Nov 2003 20:12:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93012 invoked by uid 500); 14 Nov 2003 20:12:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92999 invoked from network); 14 Nov 2003 20:12:23 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.47)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:12:23 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hAEKCSYN013991
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:12:28 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAEKCPpa009798
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:12:27 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241190@ny2528.corp.bloomberg.com>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241190@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DE64D1D8-16DE-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Vector Space Model in Lucene?
Date: Fri, 14 Nov 2003 21:12:27 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 20:54, Chong, Herb wrote:

> it solves one part of the problem, but there are a lot of sentences in 
> a typical document. you'll need to composite a rank of a document from 
> its constituent sentences then. there are less drastic ways to solve 
> the problem. the other problem is that Lucene doesn't consider the 
> term order in the query unless the query is formulated as a phrase. a 
> simple bag-of-words query doesn't make use of the ordering of terms 
> that apply in a given language.

This all sounds wonderfully exotic, but, from all the different 
esoteric approaches you ever tried, what, if anything, made a concrete 
and noticeable impact on the quality of your search?

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:14:18 2003
Return-Path: 
 <lucene-user-return-6029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3869 invoked from network); 14 Nov 2003 20:14:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:14:18 -0000
Received: (qmail 95832 invoked by uid 500); 14 Nov 2003 20:14:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95806 invoked by uid 500); 14 Nov 2003 20:14:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95793 invoked from network); 14 Nov 2003 20:14:02 -0000
Received: from unknown (HELO tomts13-srv.bellnexxia.net) (209.226.175.34)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:14:02 -0000
Received: from everest.konova.com ([65.95.44.82])
          by tomts13-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031114201406.YHPG1032.tomts13-srv.bellnexxia.net@everest.konova.com>
          for <lucene-user@jakarta.apache.org>;
          Fri, 14 Nov 2003 15:14:06 -0500
Received: from massif (IDENT:root@localhost [127.0.0.1])
	by everest.konova.com (8.11.6/8.11.6) with SMTP id hAEKE0F13975
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:14:00 -0500
From: "Philippe Laflamme" <plaflamme@konova.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 15:14:00 -0500
Message-ID: <DNEDJIGLNAJOFEMFBJIJMENGCBAA.plaflamme@konova.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <CFB71088-16D9-11D8-AC97-000393760B7E@mac.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> >> Rules of linguistics? Is there such a thing? :)
> >
> > Actually, yes there is. Natural Language Processing (NLP) is a very
> > broad
> > research subject but a lot has come out of it.
>
> A lot of what? "If" statements? :)

Yes... just like every software boils down to branching and while loops for
the processor... ;o)

> I would agree with that. But it's easier said than done.

Yes, of course this is very complex. That's why NLP is a very popular field
of research: it's challenging!

> And the result are never, er, clear cut.

You're correct, results are not 100% perfect. But getting 95% is pretty
impressive when you're dealing with a computer software. Don't forget, even
with many years (decades even) of experience with our own language, we
humans still manage to misunderstand certain sentences... can you really
expect a software to be 100% correct all the time?

> Sure. But my take on this, is that pigs will fly before NLP turns into
> a predictable "science" :)

Maybe you're right, technologies derived from NLP may never be perfect. But
it doesn't make them useless. Quite the contrary I think.

I'm not a Lucene expert, but I'm sure it could benefit from using derived
NLP methods for text analysis. Maybe someone out there has some experience
they might want to share with us?

Thanks,
Phil

> -----Original Message-----
> From: petite_abeille [mailto:petite_abeille@mac.com]
> Sent: November 14, 2003 14:36
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model in
> Lucene?]
>
>
>
> On Nov 14, 2003, at 20:29, Philippe Laflamme wrote:
>
> >> Rules of linguistics? Is there such a thing? :)
> >
> > Actually, yes there is. Natural Language Processing (NLP) is a very
> > broad
> > research subject but a lot has come out of it.
>
> A lot of what? "If" statements? :)
>
> > More specifically, Rule-based taggers have become very popular since
> > Eric
> > Brill published his works on trainable rule-based tagging.
> >
> > Essentially, it comes to down analysing sentences to determine the role
> > (noun, verb, etc.) of each words. It's very helpful to extract
> > noun-phrases
> > such has "cardiovascular disease" or "magnetic resonance imaging" from
> > documents.
>
> I would agree with that. But it's easier said than done. And the result
> are never, er, clear cut.
>
> > So, yep... you can definitely derive rules to analyse natural
> > language...
>
> Well... beyond the jargon and the impressive math... this all boils
> down to fuzzy heuristics and judgment calls... but perhaps this is just
> me :)
>
> > I'm sure you already know about all of this...
>
> Not really. I'm more of a dilettante than a "NLP expert".
>
> > just thought it might be
> > interesting for some...
>
> Sure. But my take on this, is that pigs will fly before NLP turns into
> a predictable "science" :)
>
> PA.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:15:12 2003
Return-Path: 
 <lucene-user-return-6030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6444 invoked from network); 14 Nov 2003 20:15:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:15:12 -0000
Received: (qmail 97939 invoked by uid 500); 14 Nov 2003 20:14:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97774 invoked by uid 500); 14 Nov 2003 20:14:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97761 invoked from network); 14 Nov 2003 20:14:56 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:14:56 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc13) with SMTP
          id <2003111420150001600htst5e>; Fri, 14 Nov 2003 20:15:00 +0000
Message-ID: <3FB537C1.8090102@lucene.com>
Date: Fri, 14 Nov 2003 12:14:57 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240865@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240865@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chong, Herb wrote:
> since i am working now on financial news, here is an example:
> 
> capital gains tax
> 
> if i just run this query against a million document newswire index, i know i am going to get lots of hits. the phrase "capital gains tax" hits a lot fewer documents, but is overrestrictive. the fact that the three terms occur next to each other in the query means that documents with the three terms far apart should not get nearly as much weight in the ranking scheme. a sentence ending with two terms "capital gains" followed by a sentence starting with the term "tax" should not be a highly ranked match. that means you need sentence boundaries in the index. the indexing and the query analysis scheme has to understand the linguistic concept of a phrase, and phrases do not cross sentence boundaries.

Have sentence boundaries actually proven to be that userful in this sort 
of thing.  For example, if the text were something like:

   "Such sales would be considered long term capital gains.  Tax on 
these is 20%."

Then penalizing for the sentence boundary wouldn't be valid.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:15:47 2003
Return-Path: 
 <lucene-user-return-6031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6693 invoked from network); 14 Nov 2003 20:15:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:15:47 -0000
Received: (qmail 98781 invoked by uid 500); 14 Nov 2003 20:15:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98756 invoked by uid 500); 14 Nov 2003 20:15:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98740 invoked from network); 14 Nov 2003 20:15:31 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:15:31 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 15:15:36 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEKFZx06151
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:15:35 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 15:15:34 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241192@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq6zkoasOSh7IPQHSog1j93Zwo2QAABDNA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

it has its limitations. that is why i am looking at what it would take =
to solve some of them. parsing documents to recognize sentences and =
storing sentence boundaries in the index would solve the ones that are =
most limiting. superposing interterm correlation on top of Lucene isn't =
very useful because then you have to build a new almost-duplicate index. =
since when people type in more than one word as a query, they almost =
invariably mean phrases, a search engine that doesn't take advantage of =
that isn't making use of fundamental linguistic knowledge. what has to =
be stored isn't much, but implementing it can be.

Herb....

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, November 14, 2003 3:08 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?


I get the feeling you're looking for reasons that Lucene is inadequate.=20
  This may be the case for the uses you're speaking of, but there is=20
quite a bit of flexibility with Lucene in terms of Analysis, scoring,=20
and custom Query implementations that all relate to what you've been=20
speaking of.  And, of course, Lucene is a low-level component of which=20
a higher level piece could be built around.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:17:05 2003
Return-Path: 
 <lucene-user-return-6032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7252 invoked from network); 14 Nov 2003 20:17:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:17:05 -0000
Received: (qmail 468 invoked by uid 500); 14 Nov 2003 20:16:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 336 invoked by uid 500); 14 Nov 2003 20:16:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 323 invoked from network); 14 Nov 2003 20:16:49 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:16:49 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 15:16:53 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEKGpx06609
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:16:52 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 15:16:51 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241193@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq66clfg3p4Vq6QdGloUq/NeLmwwAAG/8w
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

if you know what TREC is, you know what i meant earlier. this isn't =
exotic technology, this is close to 15 year old technology.

Herb....

-----Original Message-----
From: petite_abeille [mailto:petite_abeille@mac.com]
Sent: Friday, November 14, 2003 3:12 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?

This all sounds wonderfully exotic, but, from all the different=20
esoteric approaches you ever tried, what, if anything, made a concrete=20
and noticeable impact on the quality of your search?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:18:41 2003
Return-Path: 
 <lucene-user-return-6033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7747 invoked from network); 14 Nov 2003 20:18:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:18:41 -0000
Received: (qmail 3210 invoked by uid 500); 14 Nov 2003 20:18:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3179 invoked by uid 500); 14 Nov 2003 20:18:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3166 invoked from network); 14 Nov 2003 20:18:25 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:18:25 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 15:18:30 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEKITd20875
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:18:30 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 15:18:28 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241194@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq7AJkrWXNCf9CRZGHd3EGL61OHQAAFDzA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

then i wouldn't have typed capital gains tax. there is psychology of =
query creation too and that is one thing i am taking advantage of.

Herb....

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Friday, November 14, 2003 3:15 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


Have sentence boundaries actually proven to be that userful in this sort =

of thing.  For example, if the text were something like:

   "Such sales would be considered long term capital gains.  Tax on=20
these is 20%."

Then penalizing for the sentence boundary wouldn't be valid.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:20:32 2003
Return-Path: 
 <lucene-user-return-6034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12918 invoked from network); 14 Nov 2003 20:20:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:20:32 -0000
Received: (qmail 5233 invoked by uid 500); 14 Nov 2003 20:20:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4863 invoked by uid 500); 14 Nov 2003 20:20:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4850 invoked from network); 14 Nov 2003 20:20:16 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:20:16 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAEKKMdm026369
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:20:22 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAEKKKpa012571
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:20:21 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241193@ny2528.corp.bloomberg.com>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241193@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FA30D867-16DF-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Vector Space Model in Lucene?
Date: Fri, 14 Nov 2003 21:20:23 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 21:16, Chong, Herb wrote:

> if you know what TREC is, you know what i meant earlier. this isn't 
> exotic technology, this is close to 15 year old technology.

This is not really what I asked. What I would be interested to know is 
what approach you consider to provide the "biggest bang for you bucks"?

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:23:06 2003
Return-Path: 
 <lucene-user-return-6035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13590 invoked from network); 14 Nov 2003 20:23:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:23:06 -0000
Received: (qmail 6772 invoked by uid 500); 14 Nov 2003 20:22:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6743 invoked by uid 500); 14 Nov 2003 20:22:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6730 invoked from network); 14 Nov 2003 20:22:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:22:50 -0000
Received: (cpmta 21457 invoked from network); 14 Nov 2003 12:22:55 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 14 Nov 2003 12:22:55 -0800
X-Sent: 14 Nov 2003 20:22:55 GMT
Date: Fri, 14 Nov 2003 15:23:12 -0500
Subject: Re: Index using URL
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DD1@mccexc02.mcc_genesis.behavioral.com>
Message-Id: <5E95DE28-16E0-11D8-B477-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should write your own code that creates the Document objects with 
the fields you wish, with a Field.Keyword for the URL probably.  Take 
what is useful from IndexHTML.java, but don't use it as-is.  If you're 
speaking of pulling the document from a URL now you're talking of doing 
some HTTP communication, and HttpClient is one clean option for this.

	Erik


On Friday, November 14, 2003, at 03:09  PM, Zhou, Oliver wrote:

> I'm using lucene demo IndexHTML.java and pdfbox to index pdf files 
> under a
> file directory.  I have a url point to the file directory.  I'd like to
> index the files using the URL instead of the file directory.  Any idea 
> how
> to make IndexHTML take URL for indexing?
>
> Thanks,
> Oliver
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:26:30 2003
Return-Path: 
 <lucene-user-return-6036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14831 invoked from network); 14 Nov 2003 20:26:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:26:30 -0000
Received: (qmail 10601 invoked by uid 500); 14 Nov 2003 20:26:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10558 invoked by uid 500); 14 Nov 2003 20:26:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10441 invoked from network); 14 Nov 2003 20:26:10 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:26:10 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 15:26:12 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEKQAd22329
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:26:11 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Vector Space Model in Lucene?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 15:26:10 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241195@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model in Lucene?
Thread-Index: AcOq7Qi1nuacI1kJTTi8Got0V0UziQAAAu6w
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

taking advantage of interterm correlations recognizing linguistic rules =
is an easy to do thing compared to all the other schemes i know. it =
doesn't require genuine NLP, external knowledge bases, and commonsense =
reasoning. it does require smarter document parsers and an extended =
index to implement efficiently.

Herb...

-----Original Message-----
From: petite_abeille [mailto:petite_abeille@mac.com]
Sent: Friday, November 14, 2003 3:20 PM
To: Lucene Users List
Subject: Re: Vector Space Model in Lucene?

This is not really what I asked. What I would be interested to know is=20
what approach you consider to provide the "biggest bang for you bucks"?

PA.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:33:08 2003
Return-Path: 
 <lucene-user-return-6037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17511 invoked from network); 14 Nov 2003 20:33:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:33:08 -0000
Received: (qmail 20344 invoked by uid 500); 14 Nov 2003 20:32:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20271 invoked by uid 500); 14 Nov 2003 20:32:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20258 invoked from network); 14 Nov 2003 20:32:52 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:32:52 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc13) with SMTP
          id <2003111420325601600hju1ce>; Fri, 14 Nov 2003 20:32:57 +0000
Message-ID: <3FB53BF5.5050201@lucene.com>
Date: Fri, 14 Nov 2003 12:32:53 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241194@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241194@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm still confused what the issue here is.  If you're interested in 
stopping exact phrase matching from crossing sentence boundaries, that's 
easy to do with setPositionIncrement().  If you want to score an exact 
phrase match higher than a sloppy phrase match, and in turn score this 
higher than a non-phrasal match, this is all easy to do with Lucene. 
Depending on how much control you need, you could do it with a single 
sloppy phrase query (perhaps with a custom Similarity implementation), 
or perhaps you'd need to combine an OR query of the terms with an exact 
phrase match and with a sloppy phrase match, each with different boosts.

Certainly there are lots of scoring algorithms that one cannot easily 
implement with Lucene.  I'm just not yet clear on what you need to do 
that Lucene cannot support.

Cheers,

Doug

Chong, Herb wrote:
> then i wouldn't have typed capital gains tax. there is psychology of query creation too and that is one thing i am taking advantage of.
> 
> Herb....
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Friday, November 14, 2003 3:15 PM
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
> 
> 
> Have sentence boundaries actually proven to be that userful in this sort 
> of thing.  For example, if the text were something like:
> 
>    "Such sales would be considered long term capital gains.  Tax on 
> these is 20%."
> 
> Then penalizing for the sentence boundary wouldn't be valid.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:39:56 2003
Return-Path: 
 <lucene-user-return-6038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19658 invoked from network); 14 Nov 2003 20:39:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:39:56 -0000
Received: (qmail 25932 invoked by uid 500); 14 Nov 2003 20:39:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25601 invoked by uid 500); 14 Nov 2003 20:39:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25585 invoked from network); 14 Nov 2003 20:39:40 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:39:40 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 14 Nov 2003 15:39:44 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAEKdhx05266
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 15:39:44 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 14 Nov 2003 15:39:42 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241197@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq7oJgHzhCDC57Tpej0xCAhkVqtgAAB8Eg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you're describing ad-hoc solutions to a problem that have an effect, but =
not one that is easily predictable. one can concoct all sorts of =
combinations of the query operators that would have something of the =
effect that i am describing. crossing sentence boundaries, however, =
can't be done without having some sentence boundaries as a reference. on =
top of this, there is a relatively simple concept which, if implemented, =
takes away all the ad-hocness of the solutions and replaces it with a =
something that is both linguistically and mathematically sound and on =
top of which won't materially make the engine core more complicated. =
that concept is that multiword queries are mostly multiword terms and =
they can't cross sentence boundaries according to the rules of English.

Herb....

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Friday, November 14, 2003 3:33 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


Certainly there are lots of scoring algorithms that one cannot easily=20
implement with Lucene.  I'm just not yet clear on what you need to do=20
that Lucene cannot support.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:41:22 2003
Return-Path: 
 <lucene-user-return-6039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20309 invoked from network); 14 Nov 2003 20:41:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:41:22 -0000
Received: (qmail 27819 invoked by uid 500); 14 Nov 2003 20:41:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27792 invoked by uid 500); 14 Nov 2003 20:41:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27777 invoked from network); 14 Nov 2003 20:41:06 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:41:06 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc11) with SMTP
          id <2003111420411001100qvr9ne>; Fri, 14 Nov 2003 20:41:11 +0000
Message-ID: <3FB53DE4.6090108@lucene.com>
Date: Fri, 14 Nov 2003 12:41:08 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Leo Galambos <Leo.G@seznam.cz>
CC: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240865@ny2528.corp.bloomberg.com>
 <3FB537C1.8090102@lucene.com> <3FB53CA6.3020701@seznam.cz>
In-Reply-To: <3FB53CA6.3020701@seznam.cz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Leo Galambos wrote:
> There are other (more trivial) problems as well. One geek from UFAL (our 
> NLP lab) reported, that it was a hard problem to find the boundaries, or 
> rather, to say whether a dot is a dot or something else, i.e. "blah, 
> i.e. blah" "i.b.m." "i.p. pavlov" "3.14" "28.10.2003" etc.
> 
> On the other hand, I would rather like to know the model which is 
> implemented by Lucene. If it is not a vector model, what is it? ;-)

I would call it a vector space model.

The best description of how Lucene scores is:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 20:44:57 2003
Return-Path: 
 <lucene-user-return-6040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22102 invoked from network); 14 Nov 2003 20:44:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 20:44:57 -0000
Received: (qmail 35922 invoked by uid 500); 14 Nov 2003 20:44:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35893 invoked by uid 500); 14 Nov 2003 20:44:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35880 invoked from network); 14 Nov 2003 20:44:40 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.83)
  by daedalus.apache.org with SMTP; 14 Nov 2003 20:44:40 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hAEKnBbo004706
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:49:11 -0800 (PST)
Received: from [10.0.1.6] (adsl-62-167-77-86.adslplus.ch [62.167.77.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAEKicZq023953
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 12:44:42 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <DNEDJIGLNAJOFEMFBJIJMENGCBAA.plaflamme@konova.com>
References: <DNEDJIGLNAJOFEMFBJIJMENGCBAA.plaflamme@konova.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5F073900-16E3-11D8-AC97-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 21:44:41 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 14, 2003, at 21:14, Philippe Laflamme wrote:

>>>> Rules of linguistics? Is there such a thing? :)
>>>
>>> Actually, yes there is. Natural Language Processing (NLP) is a very
>>> broad
>>> research subject but a lot has come out of it.
>>
>> A lot of what? "If" statements? :)
>
> Yes... just like every software boils down to branching and while 
> loops for
> the processor... ;o)

Hehe... ;) But NLP seems to suffer more from heuristics disguised in 
fancy jargon than other fields...

>
>> I would agree with that. But it's easier said than done.
>
> Yes, of course this is very complex. That's why NLP is a very popular 
> field
> of research: it's challenging!

Indeed.

>
>> And the result are never, er, clear cut.
>
> You're correct, results are not 100% perfect. But getting 95% is pretty
> impressive when you're dealing with a computer software. Don't forget, 
> even
> with many years (decades even) of experience with our own language, we
> humans still manage to misunderstand certain sentences... can you 
> really
> expect a software to be 100% correct all the time?

Nope. Therefore my "tongue in cheek" comments...

>
>> Sure. But my take on this, is that pigs will fly before NLP turns into
>> a predictable "science" :)
>
> Maybe you're right, technologies derived from NLP may never be 
> perfect. But
> it doesn't make them useless. Quite the contrary I think.

Perhaps. I'm not saying it's utterly useless as a whole. But... NLP has 
a noted tendency to over promise and under deliver. Plus, it's marred 
with too much jargons.... which is suspicious in and by itself :)

> I'm not a Lucene expert, but I'm sure it could benefit from using 
> derived
> NLP methods for text analysis.

For "hardcore" text analysis, perhaps. But Lucene is an low level 
indexing library. You can build something much more, er, esoteric on 
top of it. But I don't think that the core library would benefit from 
any "bizarre" additions. Plus, the core elements of the library provide 
already more than enough room to play with whatever scheme you may have 
in mind.

> Maybe someone out there has some experience
> they might want to share with us?

Perhaps. But one way or another, and as far as Lucene is concerned, you 
will be better off building something exotic on top of Lucene than 
messing around with its internals.

PA.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 21:42:58 2003
Return-Path: 
 <lucene-user-return-6041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56824 invoked from network); 14 Nov 2003 21:42:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 21:42:58 -0000
Received: (qmail 515 invoked by uid 500); 14 Nov 2003 21:42:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 489 invoked by uid 500); 14 Nov 2003 21:42:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 473 invoked from network); 14 Nov 2003 21:42:40 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 14 Nov 2003 21:42:40 -0000
Received: from dsl-082-082-082-039.arcor-ip.net ([82.82.82.39]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AKlOm-0006uw-00
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 22:22:36 +0100
Message-ID: <3FB54C55.5030205@media-style.com>
Date: Fri, 14 Nov 2003 22:42:45 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: <DNEDJIGLNAJOFEMFBJIJMENGCBAA.plaflamme@konova.com>
 <5F073900-16E3-11D8-AC97-000393760B7E@mac.com>
In-Reply-To: <5F073900-16E3-11D8-AC97-000393760B7E@mac.com>
Content-Type: multipart/alternative;
 boundary="------------000500080008020603050805"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------000500080008020603050805
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

PA,

>  But Lucene is an low level indexing library. 

I'm sure most people here will agree that lucene is much more than a 
_low level_ indexing library.

May be it is just a library, but definitely the *highest level* search 
technology available in the web for free.
You ride roughshod over the hard work of others.

You just talking b******* guy! After 3 days I have around 90 (!!!) 
postings from you in my inbox from lucene and nutch.
All of them are at least a summary of the first 3 entries of a google 
search or just bla bla.

You definitely miss to read the mailing list guidelines.
You can find it here and you should read them carefully!
http://jakarta.apache.org/site/mail.html This could be a useful link for 
you as well: http://www.dtcc.edu/cs/rfc1855.html

Since you don't wish to get personal mails, sorry to you, I have to post 
it here.
I'm sorry to all other as well, since this is normally a harmonic place 
for good IR conversation and the web is a open for everyone.
But this only working with an  etiquette and this guy really miss to 
read it. I'm sure I'm not the only one, that see it like this.

PA, can you do me a personal favour?! Install you a IRC Client and go to 
#rss! There is  a nice "send" aqua button as well.

Thanks!
Stefan


P.S. I'm really really sorry for this mail!!!

PP.S. It is not the first mailing list that PA is spamming see first entry:

http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&safe=off&q=petite_abeille%40mac.com&btnG=Google+Search



--------------000500080008020603050805--



From MAILER-DAEMON Fri Nov 14 22:56:53 2003
Return-Path: 
 <lucene-user-return-6042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91205 invoked from network); 14 Nov 2003 22:56:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 22:56:53 -0000
Received: (qmail 99823 invoked by uid 500); 14 Nov 2003 22:56:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99796 invoked by uid 500); 14 Nov 2003 22:56:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99782 invoked from network); 14 Nov 2003 22:56:32 -0000
Received: from unknown (HELO mail1.astercity.net) (212.76.33.23)
  by daedalus.apache.org with SMTP; 14 Nov 2003 22:56:32 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail1.astercity.net (sendmail) with ESMTP id C51922EA221
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 23:56:37 +0100 (CET)
Message-ID: <3FB55D06.80505@getopt.org>
Date: Fri, 14 Nov 2003 23:53:58 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: <DNEDJIGLNAJOFEMFBJIJEENECBAA.plaflamme@konova.com>
 <CFB71088-16D9-11D8-AC97-000393760B7E@mac.com>
In-Reply-To: <CFB71088-16D9-11D8-AC97-000393760B7E@mac.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well ... Sure, nothing can replace a human mind. But believe it or not, 
there are studies which show that even human experts can significantly 
differ in their opinions on what are key-phrases for a given text. So, 
the results are never clear cut with humans either...

So, in this sense a heuristic tool for sentence splitting and key-phrase 
detection can go long ways. For example, the application I mentioned, 
uses quite a few heuristic rules (+ Markov chains as a heavier 
ammunition :-), and it comes up with the following phrases for your 
email discussion (the text quoted below):

(lang=EN): NLP, trainable rule-based tagging, natural language 
processing, apache, NLP expert

Now, this set of key-phrases does reflect the main noun-phrases in the 
text... which means I have a practical and tangible benefit from NLP. 
QED ;-)

Best regards,
Andrzej

petite_abeille wrote:
> 
> On Nov 14, 2003, at 20:29, Philippe Laflamme wrote:
> 
>>> Rules of linguistics? Is there such a thing? :)
>>
>>
>> Actually, yes there is. Natural Language Processing (NLP) is a very broad
>> research subject but a lot has come out of it.
> 
> 
> A lot of what? "If" statements? :)
> 
>> More specifically, Rule-based taggers have become very popular since Eric
>> Brill published his works on trainable rule-based tagging.
>>
>> Essentially, it comes to down analysing sentences to determine the role
>> (noun, verb, etc.) of each words. It's very helpful to extract 
>> noun-phrases
>> such has "cardiovascular disease" or "magnetic resonance imaging" from
>> documents.
> 
> 
> I would agree with that. But it's easier said than done. And the result 
> are never, er, clear cut.
> 
>> So, yep... you can definitely derive rules to analyse natural language...
> 
> 
> Well... beyond the jargon and the impressive math... this all boils down 
> to fuzzy heuristics and judgment calls... but perhaps this is just me :)
> 
>> I'm sure you already know about all of this...
> 
> 
> Not really. I'm more of a dilettante than a "NLP expert".
> 
>> just thought it might be
>> interesting for some...
> 
> 
> Sure. But my take on this, is that pigs will fly before NLP turns into a 
> predictable "science" :)
> 
> PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 14 23:45:32 2003
Return-Path: 
 <lucene-user-return-6043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8741 invoked from network); 14 Nov 2003 23:45:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Nov 2003 23:45:32 -0000
Received: (qmail 68765 invoked by uid 500); 14 Nov 2003 23:45:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68736 invoked by uid 500); 14 Nov 2003 23:45:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68723 invoked from network); 14 Nov 2003 23:45:12 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 14 Nov 2003 23:45:12 -0000
Message-ID: <20031114234519.51255.qmail@web12705.mail.yahoo.com>
Received: from [195.29.134.83] by web12705.mail.yahoo.com via HTTP;
 Fri, 14 Nov 2003 15:45:19 PST
Date: Fri, 14 Nov 2003 15:45:19 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Contributing to Lucene (was RE: inter-term correlation [was Re:
 Vector Space Model in Lucene?])
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241197@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Herb,

I don't approve of several teasing, mean, etc. emails I saw from a few
people.  This is a serious and polite email. :)

It sounds like you know about NLP and see places where Lucene could be
improved.  Lucene is open source and free, and could benefit from
knowledgeable people like you.  Are you interested in contributing some
computational linguistics smarts, either as improvement of Lucene core
(if improvements are such that they don't make Lucene use more
difficult and its code significantly more complex and harder to
maintain), or as an add-on module, or some kind of an extension, or
even just as application built on top of Lucene, all of which could and
would live outside of Lucene's core?

Otis



--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> you're describing ad-hoc solutions to a problem that have an effect,
> but not one that is easily predictable. one can concoct all sorts of
> combinations of the query operators that would have something of the
> effect that i am describing. crossing sentence boundaries, however,
> can't be done without having some sentence boundaries as a reference.
> on top of this, there is a relatively simple concept which, if
> implemented, takes away all the ad-hocness of the solutions and
> replaces it with a something that is both linguistically and
> mathematically sound and on top of which won't materially make the
> engine core more complicated. that concept is that multiword queries
> are mostly multiword terms and they can't cross sentence boundaries
> according to the rules of English.
> 
> Herb....
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Friday, November 14, 2003 3:33 PM
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model in
> Lucene?]
> 
> 
> Certainly there are lots of scoring algorithms that one cannot easily
> 
> implement with Lucene.  I'm just not yet clear on what you need to do
> 
> that Lucene cannot support.



__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 00:16:27 2003
Return-Path: 
 <lucene-user-return-6044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17962 invoked from network); 15 Nov 2003 00:16:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 00:16:27 -0000
Received: (qmail 4070 invoked by uid 500); 15 Nov 2003 00:16:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3722 invoked by uid 500); 15 Nov 2003 00:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3707 invoked from network); 15 Nov 2003 00:16:07 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 15 Nov 2003 00:16:07 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 6FB8FA947
	for <lucene-user@jakarta.apache.org>; Fri, 14 Nov 2003 16:16:15 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAF0GE64015392
	for lucene-user@jakarta.apache.org; Fri, 14 Nov 2003 16:16:14 -0800 (PST)
	(envelope-from dror)
Date: Fri, 14 Nov 2003 16:16:14 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Slow response time with datefilter
Message-ID: <20031115001614.GF94919@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

We're seeing slow response time when we apply datefilter. A search that
takes 7 msec with no datefilter takes 368 msec when I filter on the last
fifteen days, and 632 msec on the last 30 days.

Initially we saved doing 
document.add(Field.Keyword("dtstamp", dtstamp));

and then change to doing 
document.add(Field.Keyword("dtstamp", DateField.dateToString(dtstamp)));

where dtstamp is a java.util.Date

Either way the results are slow.

We search doing the following:


	days_ago_value = Long.parseLong(days); //could throw NumberFormatException
	days_ago_value = new java.util.Date().getTime() - (days_ago_value * 86400000L);
	hits = indexSearcher.search(query, DateFilter.After("dtstamp", days_ago_value));                        

Not only is the query slow, but it seems to be slower the more results
it returns. 
 

Any suggestions?

TIA,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 01:14:06 2003
Return-Path: 
 <lucene-user-return-6045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30616 invoked from network); 15 Nov 2003 01:14:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 01:14:06 -0000
Received: (qmail 45349 invoked by uid 500); 15 Nov 2003 01:13:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45323 invoked by uid 500); 15 Nov 2003 01:13:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45265 invoked from network); 15 Nov 2003 01:13:44 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 15 Nov 2003 01:13:44 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1AKp0Z-0001Bm-R9
	for lucene-user@jakarta.apache.org; Fri, 14 Nov 2003 18:13:51 -0700
Content-Type: text/plain;
  charset="koi8-r"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 18:14:59 -0700
User-Agent: KMail/1.4.3
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241188@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241188@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200311141814.59589.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 14 November 2003 11:50, Chong, Herb wrote:
> if you are handling inter correlation properly, then terms can't cross
> sentence boundaries. if you are not paying attention to sentence
> boundaries, then you are not following rules of linguistics.

Isn't that quite strict interpretation, however? There are many cases where 
linguistically separate sentences do have strong dependendies; in web world 
simple things like list items may be very closely related. Put another way;
it may not be trivially easy to detect sentence boundaries, nor is it certain 
that what (from language viewpoint) is a boundary really is hard boundary 
from semantic perspective? And are there not varying levels of separation 
(sentences close to each other often are related, back references being 
common), not just one, between sentences?

As to storing boundaries in index; am I naive if I suggested just marker 
tokens that could easily be used to mark boundaries (sentence, paragraph, 
section)? Code that uses that information would obviously need to know 
details of marking used, but would it be infeasible to use such in-band 
information?

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 01:29:21 2003
Return-Path: 
 <lucene-user-return-6046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33327 invoked from network); 15 Nov 2003 01:29:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 01:29:21 -0000
Received: (qmail 52231 invoked by uid 500); 15 Nov 2003 01:29:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52197 invoked by uid 500); 15 Nov 2003 01:29:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52184 invoked from network); 15 Nov 2003 01:29:00 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 15 Nov 2003 01:29:00 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1AKpFM-0007J3-Mv
	for lucene-user@jakarta.apache.org; Fri, 14 Nov 2003 18:29:08 -0700
Content-Type: text/plain;
  charset="koi8-r"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Fri, 14 Nov 2003 18:30:16 -0700
User-Agent: KMail/1.4.3
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241197@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241197@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200311141830.16584.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 14 November 2003 13:39, Chong, Herb wrote:
> you're describing ad-hoc solutions to a problem that have an effect, but
> not one that is easily predictable. one can concoct all sorts of
> combinations of the query operators that would have something of the effect
> that i am describing. crossing sentence boundaries, however, can't be done

Hmmh? You implied that there are some useful distance heuristics (words
5 words apart or more correlate much less), and others have pointed out Lucene 
has many useful components.

Building more complex system from small components is usually considered a 
Good Thing (tm), not an "ad hoc solution". In fact, I would guess most 
experienced people around here start with Lucene defaults, and build their 
own systems gradually customizing more and more of pieces.
It may be there are actual fundamental problems with Lucene, regarding 
approach you'd prefer, but I don't think it makes sense to brush off 
suggestions regarding distance  & fuzzy/sloppy queries by claiming they are 
"just hacks".

> without having some sentence boundaries as a reference. on top of this,
> there is a relatively simple concept which, if implemented, takes away all
> the ad-hocness of the solutions and replaces it with a something that is
> both linguistically and mathematically sound and on top of which won't

Like most people have pointed out, linguistics are nothing of sorts of exact 
science; and comparing it to maths sounds like apples vs. oranges to me.
I'm not even convinced one can use general terms like "linguistically sound"; 
especially as content being indexed and searched on is often mixture of 
natural and programming languages (at least with knowledge bases I work 
with).

Now; if you (or anyone else) could build more advanced query mechanism either 
on top of Lucene fundamentals, or have modified version, THAT would be 
useful. But it's more efficient to first consider suggestions, and especially 
WHAT WORKS as opposed to argue for what appears most elegant a solution.

> materially make the engine core more complicated. that concept is that
> multiword queries are mostly multiword terms and they can't cross sentence
> boundaries according to the rules of English.

Which brings us back to the problem of detecting boundaries. Punctuation can 
help; classifications of words can help; all are inexact "science". Which 
just makes me wonder if just considering token distances might then just be 
plenty good enough.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 02:13:05 2003
Return-Path: 
 <lucene-user-return-6047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43694 invoked from network); 15 Nov 2003 02:13:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 02:13:05 -0000
Received: (qmail 84376 invoked by uid 500); 15 Nov 2003 02:12:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84201 invoked by uid 500); 15 Nov 2003 02:12:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84186 invoked from network); 15 Nov 2003 02:12:42 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 15 Nov 2003 02:12:42 -0000
Received: from dsl-082-082-082-039.arcor-ip.net ([82.82.82.39]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AKpc6-0000ig-00
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 02:52:39 +0100
Message-ID: <3FB58BA3.9000309@media-style.com>
Date: Sat, 15 Nov 2003 03:12:51 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401241197@ny2528.corp.bloomberg.com>
 <200311141830.16584.tatu@hypermall.net>
In-Reply-To: <200311141830.16584.tatu@hypermall.net>
Content-Type: multipart/alternative;
 boundary="------------070202090909010306000602"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------070202090909010306000602
Content-Type: text/plain; charset=KOI8-R; format=flowed
Content-Transfer-Encoding: 7bit

Herb,

>On Friday 14 November 2003 13:39, Chong, Herb wrote:
>  
>
>>you're describing ad-hoc solutions to a problem that have an effect, but
>>not one that is easily predictable. one can concoct all sorts of
>>combinations of the query operators that would have something of the effect
>>that i am describing. crossing sentence boundaries, however, can't be done
>>    
>>
I'm not sure understand you right. You wish to make language based 
queries to a IR system?
If I'm right may be I can help you!
Here is presentation by the MIT that does something similar.
http://mitworld.mit.edu/stream/155/
That is a video > 1h. But the first talk will contain the part is 
interesting for you.
Leslie Pack Kaelbling: MIT Professor, Electrical Engineering and 
Computer Science hold it.
(the sequence with the two guys with a phone is interesting for you).
They just have 2 components around the "nl ir query". It is speech to 
text and text to speech.

What you can do is use a pos tagger (i.e. a maximum entropy model based 
or  Brill tagger if you just have english) and use a data mining 
algorithm for weight your terms.
May be you can use a hidden Markov model for that.

You can build this on top of lucene, shouldn't be that difficult.

But may be I understand you wrong.. ..


Cheers
Stefan


-- 
open technology: www.media-style.com
open source:     www.weta-group.net
open discussion: www.text-mining.org


--------------070202090909010306000602--



From MAILER-DAEMON Sat Nov 15 12:16:09 2003
Return-Path: 
 <lucene-user-return-6048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94304 invoked from network); 15 Nov 2003 12:16:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 12:16:09 -0000
Received: (qmail 2751 invoked by uid 500); 15 Nov 2003 12:16:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2727 invoked by uid 500); 15 Nov 2003 12:16:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2709 invoked from network); 15 Nov 2003 12:16:01 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 15 Nov 2003 12:16:01 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 234A57CF2
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 13:16:01 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 9F0AB7CF0
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 13:15:58 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Sat, 15 Nov 2003 13:15:57 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC015ADD@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOq4i/l5HAHBDflQmWhriAo+JwRnwAixFEA
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>>
Rules of linguistics? Is there such a thing? :)
>>

Yes there are. How can you expect communication (the goal of
the game that natural language is about) to work if the game=20
has no rules?=20

Anyway, Herb is right, sentence boundaries do carry a meaning and the=20
linguistic rule could be phrased as: "Constituents (Concepts) mentioned=20
in one sentence together have a closer relation than those that are =
not."

I was wondering whether we could, while indexing, make a use of this by=20
increasing the position counter by a large number, let's say 1000,=20
whenever we encounter a sentence separator (Note, this is not trivial;=20
not every '.' ends a  sentence etc. etc. etc.). Thus, searching for

"income tax"~100 "tax gain"~100 "income tax gain"~100 income tax gain

would find "income tax gain" as usual, but would boost all texts
where the phrases involved appear within sentence boundaries - I=20
assume that a sentence with 100 words would be pretty unlikely,
but still within the 1000 word separation done by increasing the
position. No linguistics necessary, actually, but it is an application
of a linguistic rule!

>>
Sure. But my take on this, is that pigs will fly before NLP turns into=20
a predictable "science" :)
>>

You mean like physics (new models every 10 years), biology (same),
medicine (er.. cancer research anyone?), chemistry ("the result could be
verified in 8 of 10 experiments..."). What does predictabiltity mean
to you? What sciences beside mathematics do give you 100% certainty?=20

But I guess you are in flame mode anyway now :)

Regards,

Karsten=20


-----Urspr=FCngliche Nachricht-----
Von: petite_abeille [mailto:petite_abeille@mac.com]=20
Gesendet: Freitag, 14. November 2003 20:04
An: Lucene Users List
Betreff: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]



On Nov 14, 2003, at 19:50, Chong, Herb wrote:

> if you are handling inter correlation properly, then terms can't cross
> sentence boundaries.

Could you not break down your document along sentences boundary? If you=20
manage to figure out what a sentence is, that is.

> if you are not paying attention to sentence boundaries, then you are
> not following rules of linguistics.

Rules of linguistics? Is there such a thing? :)

PA.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 15:29:36 2003
Return-Path: 
 <lucene-user-return-6049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48336 invoked from network); 15 Nov 2003 15:29:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 15:29:36 -0000
Received: (qmail 16470 invoked by uid 500); 15 Nov 2003 15:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16440 invoked by uid 500); 15 Nov 2003 15:29:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16426 invoked from network); 15 Nov 2003 15:29:24 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 15 Nov 2003 15:29:24 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP
	id F09627D00; Sat, 15 Nov 2003 16:29:25 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP
	id 9AFAC7CF0; Sat, 15 Nov 2003 16:29:21 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Sentence dependencies (was: inter-term relation)
Date: Sat, 15 Nov 2003 16:29:21 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC015ADE@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sentence dependencies (was: inter-term relation)
Thread-Index: AcOrFc31QJh0ZN4sS5Oo2vzq7QvECQAc5mBg
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<tatu@hypermall.net>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello,

>>
There are many cases where=20
linguistically separate sentences do have strong dependendies; in web =
world=20
simple things like list items may be very closely related. Put another =
way;=20
it may not be trivially easy to detect sentence boundaries, nor is it =
certain=20
that what (from language viewpoint) is a boundary really is hard =
boundary=20
from semantic perspective? And are there not varying levels of =
separation=20
(sentences close to each other often are related, back references being=20
common), not just one, between sentences?
>>

There is a computational linguistic theory that deals with such =
questions,=20
Rhetorical Structure Theory, see http://www.sil.org/~mannb/rst/. =
Basically,=20
each text is seen as a hierarchical structure fromed from on a few =
rhetorical=20
relations. Interestingly, some relations are not too hard to guess once =
your=20
text is semi-structured already (the relation between a paragraph header =
and=20
its paragraph is a rhetorical one for instance, a HTML list is a =
sequence=20
of sentences connected by the list relation and so forth).=20

Applying such theories to Lucene would require quite a lot of work while
analysing the texts, but I doubt whether Lucene could not be convinced =
to work
on such structures and boost the relation of terms more if they appear
within closer RST-structure connections.

Regards,

Karsten

Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com


-----Urspr=FCngliche Nachricht-----
Von: Tatu Saloranta [mailto:tatu@hypermall.net]=20
Gesendet: Samstag, 15. November 2003 02:15
An: Lucene Users List
Betreff: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


On Friday 14 November 2003 11:50, Chong, Herb wrote:
> if you are handling inter correlation properly, then terms can't cross =

> sentence boundaries. if you are not paying attention to sentence=20
> boundaries, then you are not following rules of linguistics.

Isn't that quite strict interpretation, however? There are many cases =
where=20
linguistically separate sentences do have strong dependendies; in web =
world=20
simple things like list items may be very closely related. Put another =
way; it may not be trivially easy to detect sentence boundaries, nor is =
it certain=20
that what (from language viewpoint) is a boundary really is hard =
boundary=20
from semantic perspective? And are there not varying levels of =
separation=20
(sentences close to each other often are related, back references being=20
common), not just one, between sentences?

As to storing boundaries in index; am I naive if I suggested just marker =

tokens that could easily be used to mark boundaries (sentence, =
paragraph,=20
section)? Code that uses that information would obviously need to know=20
details of marking used, but would it be infeasible to use such in-band=20
information?

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 16:30:25 2003
Return-Path: 
 <lucene-user-return-6050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65362 invoked from network); 15 Nov 2003 16:30:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 16:30:25 -0000
Received: (qmail 59368 invoked by uid 500); 15 Nov 2003 16:30:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59335 invoked by uid 500); 15 Nov 2003 16:30:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59322 invoked from network); 15 Nov 2003 16:30:14 -0000
Received: from unknown (HELO IPOfCard1) (64.140.1.226)
  by daedalus.apache.org with SMTP; 15 Nov 2003 16:30:14 -0000
Received: from ehatchersolutions.com ([192.168.2.200])
	by IPOfCard1 (8.11.6/8.8.7) with ESMTP id hAFGKsj28252
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 09:20:54 -0700
Date: Sat, 15 Nov 2003 11:30:36 -0500
Subject: Re: Slow response time with datefilter
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031115001614.GF94919@rlx11.zapatec.com>
Message-Id: <0AC8AEAD-1789-11D8-8D7B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 14, 2003, at 07:16  PM, Dror Matalon wrote:
> We're seeing slow response time when we apply datefilter. A search that
> takes 7 msec with no datefilter takes 368 msec when I filter on the 
> last
> fifteen days, and 632 msec on the last 30 days.
>
> Initially we saved doing
> document.add(Field.Keyword("dtstamp", dtstamp));
>
> and then change to doing
> document.add(Field.Keyword("dtstamp", 
> DateField.dateToString(dtstamp)));
>
> where dtstamp is a java.util.Date

Both of the above lines of code are equivalent.  This is where having 
open-source is handy :)

   public static final Field Keyword(String name, Date value) {
     return new Field(name, DateField.dateToString(value), true, true, 
false);
   }

> We search doing the following:
>
> 	days_ago_value = Long.parseLong(days); //could throw 
> NumberFormatException
> 	days_ago_value = new java.util.Date().getTime() - (days_ago_value * 
> 86400000L);
> 	hits = indexSearcher.search(query, DateFilter.After("dtstamp", 
> days_ago_value));

DateFilter itself is walking all the terms in the range you provide 
before executing the query.  If you have a lot of terms in that range, 
you can see that there is obviously some cycles spinning to do the work 
needed.

> Not only is the query slow, but it seems to be slower the more results
> it returns.
>
>
> Any suggestions?

If this date range is pretty static, you could (in Lucene's CVS 
codebase) wrap the DateFilter with a CachingWrappingFilter.  Or you 
could construct a long-lived instance of an equivalent QueryFilter and 
reuse it across multiple queries.  You would likely see dramatic 
differences using either of these approaches.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 16:39:01 2003
Return-Path: 
 <lucene-user-return-6051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67740 invoked from network); 15 Nov 2003 16:39:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 16:39:01 -0000
Received: (qmail 65625 invoked by uid 500); 15 Nov 2003 16:38:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65597 invoked by uid 500); 15 Nov 2003 16:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65584 invoked from network); 15 Nov 2003 16:38:50 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 15 Nov 2003 16:38:50 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 61A3F7CF2
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 17:38:52 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id CAAFC7CF0
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 17:38:49 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Slow response time with datefilter
Date: Sat, 15 Nov 2003 17:38:49 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC015AE0@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Slow response time with datefilter
Thread-Index: AcOrldI0ByvRSZZPR3GRnUPTmQRzsQAAF5jA
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



> Not only is the query slow, but it seems to be slower the more results =

> it returns.
>
>
> Any suggestions?

>>
If you have a lot of terms in that range,=20
you can see that there is obviously some cycles spinning to do the work=20
needed.
>>

If the number of different date terms causes this effect, why not =
"round"
the date to the nearest or next midnight while indexing. Thus, filtering =

for the last  15 days would require walking over 15-17 different date =
terms.=20
If you don't do this, the number of different terms will be the same as
the number of documents you indexed, explaining the slowing down when =
you=20
have more results.

Regards,

Karsten



-----Urspr=FCngliche Nachricht-----
Von: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Gesendet: Samstag, 15. November 2003 17:31
An: Lucene Users List
Betreff: Re: Slow response time with datefilter


On Friday, November 14, 2003, at 07:16  PM, Dror Matalon wrote:
> We're seeing slow response time when we apply datefilter. A search=20
> that takes 7 msec with no datefilter takes 368 msec when I filter on=20
> the last fifteen days, and 632 msec on the last 30 days.
>
> Initially we saved doing document.add(Field.Keyword("dtstamp",=20
> dtstamp));
>
> and then change to doing document.add(Field.Keyword("dtstamp",
> DateField.dateToString(dtstamp)));
>
> where dtstamp is a java.util.Date

Both of the above lines of code are equivalent.  This is where having=20
open-source is handy :)

   public static final Field Keyword(String name, Date value) {
     return new Field(name, DateField.dateToString(value), true, true,=20
false);
   }

> We search doing the following:
>
> 	days_ago_value =3D Long.parseLong(days); //could throw
> NumberFormatException
> 	days_ago_value =3D new java.util.Date().getTime() - (days_ago_value * =

> 86400000L);
> 	hits =3D indexSearcher.search(query, DateFilter.After("dtstamp",=20
> days_ago_value));

DateFilter itself is walking all the terms in the range you provide=20
before executing the query.  If you have a lot of terms in that range,=20
you can see that there is obviously some cycles spinning to do the work=20
needed.

> Not only is the query slow, but it seems to be slower the more results =

> it returns.
>
>
> Any suggestions?

If this date range is pretty static, you could (in Lucene's CVS=20
codebase) wrap the DateFilter with a CachingWrappingFilter.  Or you=20
could construct a long-lived instance of an equivalent QueryFilter and=20
reuse it across multiple queries.  You would likely see dramatic=20
differences using either of these approaches.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 17:25:36 2003
Return-Path: 
 <lucene-user-return-6052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79092 invoked from network); 15 Nov 2003 17:25:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 17:25:36 -0000
Received: (qmail 233 invoked by uid 500); 15 Nov 2003 17:25:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99971 invoked by uid 500); 15 Nov 2003 17:25:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99956 invoked from network); 15 Nov 2003 17:25:24 -0000
Received: from unknown (HELO IPOfCard1) (64.140.1.226)
  by daedalus.apache.org with SMTP; 15 Nov 2003 17:25:24 -0000
Received: from ehatchersolutions.com ([192.168.2.200])
	by IPOfCard1 (8.11.6/8.8.7) with ESMTP id hAFHG4j29136
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 10:16:04 -0700
Date: Sat, 15 Nov 2003 12:25:47 -0500
Subject: Re: AW: Slow response time with datefilter
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3B48940F2D7712428BD31A041A367DDC015AE0@lrrr>
Message-Id: <BFF853FD-1790-11D8-8D7B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, November 15, 2003, at 11:38  AM, Karsten Konrad wrote:
> If the number of different date terms causes this effect, why not 
> "round"
> the date to the nearest or next midnight while indexing. Thus, 
> filtering
> for the last  15 days would require walking over 15-17 different date 
> terms.
> If you don't do this, the number of different terms will be the same as
> the number of documents you indexed, explaining the slowing down when 
> you
> have more results.

I wholeheartedly concur.  And in fact I don't use the Keyword(String, 
Date) thing at all if I just need to represent a date.  I use YYYYMMDD 
as a String instead.  It's just too fiddly to deal with dates using the 
built-in handling of it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 18:59:48 2003
Return-Path: 
 <lucene-user-return-6053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5964 invoked from network); 15 Nov 2003 18:59:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 18:59:48 -0000
Received: (qmail 61312 invoked by uid 500); 15 Nov 2003 18:59:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61055 invoked by uid 500); 15 Nov 2003 18:59:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61042 invoked from network); 15 Nov 2003 18:59:33 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 15 Nov 2003 18:59:33 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 2F153A941
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 10:59:38 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAFIxbnV017272
	for lucene-user@jakarta.apache.org; Sat, 15 Nov 2003 10:59:37 -0800 (PST)
	(envelope-from dror)
Date: Sat, 15 Nov 2003 10:59:37 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Slow response time with datefilter
Message-ID: <20031115185937.GJ94919@rlx11.zapatec.com>
References: <20031115001614.GF94919@rlx11.zapatec.com>
 <0AC8AEAD-1789-11D8-8D7B-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <0AC8AEAD-1789-11D8-8D7B-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sat, Nov 15, 2003 at 11:30:36AM -0500, Erik Hatcher wrote:
> On Friday, November 14, 2003, at 07:16  PM, Dror Matalon wrote:
> >We're seeing slow response time when we apply datefilter. A search that
> >takes 7 msec with no datefilter takes 368 msec when I filter on the 
> >last
> >fifteen days, and 632 msec on the last 30 days.
> >
> >Initially we saved doing
> >document.add(Field.Keyword("dtstamp", dtstamp));
> >
> >and then change to doing
> >document.add(Field.Keyword("dtstamp", 
> >DateField.dateToString(dtstamp)));
> >
> >where dtstamp is a java.util.Date
> 
> Both of the above lines of code are equivalent.  This is where having 
> open-source is handy :)
> 
>   public static final Field Keyword(String name, Date value) {
>     return new Field(name, DateField.dateToString(value), true, true, 
> false);
>   }
> 
> >We search doing the following:
> >
> >	days_ago_value = Long.parseLong(days); //could throw 
> >NumberFormatException
> >	days_ago_value = new java.util.Date().getTime() - (days_ago_value * 
> >86400000L);
> >	hits = indexSearcher.search(query, DateFilter.After("dtstamp", 
> >days_ago_value));
> 
> DateFilter itself is walking all the terms in the range you provide 
> before executing the query.  If you have a lot of terms in that range, 
> you can see that there is obviously some cycles spinning to do the work 
> needed.

I see. So for large data sets when a small number of items are returned,
it might be cheaper to just fetch the documents and see if they fall in
the date range. 



> 
> >Not only is the query slow, but it seems to be slower the more results
> >it returns.
> >
> >
> >Any suggestions?
> 
> If this date range is pretty static, you could (in Lucene's CVS 
> codebase) wrap the DateFilter with a CachingWrappingFilter.  Or you 
> could construct a long-lived instance of an equivalent QueryFilter and 
> reuse it across multiple queries.  You would likely see dramatic 
> differences using either of these approaches.
> 

I did some timing tests and it looks like time is spent in the actual
query rather than in creating the filter object. This seems to
contradict your suggestion here, or am I misunderstanding how filters
work?


Thanks for the feedback,

Dror


> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 19:03:33 2003
Return-Path: 
 <lucene-user-return-6054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7622 invoked from network); 15 Nov 2003 19:03:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 19:03:33 -0000
Received: (qmail 66005 invoked by uid 500); 15 Nov 2003 19:03:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65975 invoked by uid 500); 15 Nov 2003 19:03:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65927 invoked from network); 15 Nov 2003 19:03:09 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 15 Nov 2003 19:03:09 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 823B65D23
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 11:03:13 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAFJ3D7U017288
	for lucene-user@jakarta.apache.org; Sat, 15 Nov 2003 11:03:13 -0800 (PST)
	(envelope-from dror)
Date: Sat, 15 Nov 2003 11:03:13 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Slow response time with datefilter
Message-ID: <20031115190313.GK94919@rlx11.zapatec.com>
References: <3B48940F2D7712428BD31A041A367DDC015AE0@lrrr>
 <BFF853FD-1790-11D8-8D7B-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <BFF853FD-1790-11D8-8D7B-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

After posting the original email, I started wondering if that's the
issue, the fact that we store timestamp up to the millisecond rather
than a more reasonable granularity. Dates are too high a granularity for
us, but minutes, and possibly hours should work.

I'll report once we've tested some more.

Regards,

Dror

On Sat, Nov 15, 2003 at 12:25:47PM -0500, Erik Hatcher wrote:
> On Saturday, November 15, 2003, at 11:38  AM, Karsten Konrad wrote:
> >If the number of different date terms causes this effect, why not 
> >"round"
> >the date to the nearest or next midnight while indexing. Thus, 
> >filtering
> >for the last  15 days would require walking over 15-17 different date 
> >terms.
> >If you don't do this, the number of different terms will be the same as
> >the number of documents you indexed, explaining the slowing down when 
> >you
> >have more results.
> 
> I wholeheartedly concur.  And in fact I don't use the Keyword(String, 
> Date) thing at all if I just need to represent a date.  I use YYYYMMDD 
> as a String instead.  It's just too fiddly to deal with dates using the 
> built-in handling of it.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 20:46:21 2003
Return-Path: 
 <lucene-user-return-6055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38803 invoked from network); 15 Nov 2003 20:46:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 20:46:21 -0000
Received: (qmail 25790 invoked by uid 500); 15 Nov 2003 20:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25762 invoked by uid 500); 15 Nov 2003 20:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25749 invoked from network); 15 Nov 2003 20:46:04 -0000
Received: from unknown (HELO IPOfCard1) (64.140.1.226)
  by daedalus.apache.org with SMTP; 15 Nov 2003 20:46:04 -0000
Received: from ehatchersolutions.com ([192.168.2.200])
	by IPOfCard1 (8.11.6/8.8.7) with ESMTP id hAFKakj32392
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 13:36:46 -0700
Date: Sat, 15 Nov 2003 13:46:29 -0700
Subject: Re: AW: Slow response time with datefilter
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031115190313.GK94919@rlx11.zapatec.com>
Message-Id: <C9B54D96-17AC-11D8-8DA1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, November 15, 2003, at 12:03  PM, Dror Matalon wrote:
> After posting the original email, I started wondering if that's the
> issue, the fact that we store timestamp up to the millisecond rather
> than a more reasonable granularity. Dates are too high a granularity 
> for
> us, but minutes, and possibly hours should work.

A partial compromise is if you need to keep the millisecond 
granularity, but that is not used for range searching to that degree is 
keep two separate fields... one to contain the precise one, and one 
that is less precise but accommodates searching more reasonably.  Just 
a thought.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 15 20:49:52 2003
Return-Path: 
 <lucene-user-return-6056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39946 invoked from network); 15 Nov 2003 20:49:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Nov 2003 20:49:52 -0000
Received: (qmail 29835 invoked by uid 500); 15 Nov 2003 20:49:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29804 invoked by uid 500); 15 Nov 2003 20:49:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29791 invoked from network); 15 Nov 2003 20:49:36 -0000
Received: from unknown (HELO IPOfCard1) (64.140.1.226)
  by daedalus.apache.org with SMTP; 15 Nov 2003 20:49:36 -0000
Received: from ehatchersolutions.com ([192.168.2.200])
	by IPOfCard1 (8.11.6/8.8.7) with ESMTP id hAFKeIj32452
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 13:40:18 -0700
Date: Sat, 15 Nov 2003 13:50:01 -0700
Subject: Re: Slow response time with datefilter
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031115185937.GJ94919@rlx11.zapatec.com>
Message-Id: <4812595F-17AD-11D8-8DA1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, November 15, 2003, at 11:59  AM, Dror Matalon wrote:
>> If this date range is pretty static, you could (in Lucene's CVS
>> codebase) wrap the DateFilter with a CachingWrappingFilter.  Or you
>> could construct a long-lived instance of an equivalent QueryFilter and
>> reuse it across multiple queries.  You would likely see dramatic
>> differences using either of these approaches.
>>
>
> I did some timing tests and it looks like time is spent in the actual
> query rather than in creating the filter object. This seems to
> contradict your suggestion here, or am I misunderstanding how filters
> work?

Creating the filter object is not expensive... it's when it's used in 
the IndexSearcher.search method (i.e. when the bitset method is called) 
that the expense of term enumeration occurs.  DateFilter does not cache 
it's bitset though, so if you are reusing the same DateFilter over and 
over you will incur that expense every time.  CachingWrappingFilter, 
though, will cache the enumerated bitset and using the same instance 
again will not incur that expense of enumerating terms.

Make sense?  So maybe the timing tests you were doing were timing the 
DateFilter as well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 16 00:39:15 2003
Return-Path: 
 <lucene-user-return-6057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93798 invoked from network); 16 Nov 2003 00:39:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Nov 2003 00:39:15 -0000
Received: (qmail 89256 invoked by uid 500); 16 Nov 2003 00:38:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89168 invoked by uid 500); 16 Nov 2003 00:38:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89109 invoked from network); 16 Nov 2003 00:38:54 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 16 Nov 2003 00:38:54 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 158ACA941
	for <lucene-user@jakarta.apache.org>; Sat, 15 Nov 2003 16:39:02 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAG0d1Wl017709
	for lucene-user@jakarta.apache.org; Sat, 15 Nov 2003 16:39:01 -0800 (PST)
	(envelope-from dror)
Date: Sat, 15 Nov 2003 16:39:01 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Slow response time with datefilter
Message-ID: <20031116003901.GM94919@rlx11.zapatec.com>
References: <20031115185937.GJ94919@rlx11.zapatec.com>
 <4812595F-17AD-11D8-8DA1-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <4812595F-17AD-11D8-8DA1-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sat, Nov 15, 2003 at 01:50:01PM -0700, Erik Hatcher wrote:
> On Saturday, November 15, 2003, at 11:59  AM, Dror Matalon wrote:
> >>If this date range is pretty static, you could (in Lucene's CVS
> >>codebase) wrap the DateFilter with a CachingWrappingFilter.  Or you
> >>could construct a long-lived instance of an equivalent QueryFilter and
> >>reuse it across multiple queries.  You would likely see dramatic
> >>differences using either of these approaches.
> >>
> >
> >I did some timing tests and it looks like time is spent in the actual
> >query rather than in creating the filter object. This seems to
> >contradict your suggestion here, or am I misunderstanding how filters
> >work?
> 
> Creating the filter object is not expensive... it's when it's used in 
> the IndexSearcher.search method (i.e. when the bitset method is called) 
> that the expense of term enumeration occurs.  DateFilter does not cache 
> it's bitset though, so if you are reusing the same DateFilter over and 
> over you will incur that expense every time.  CachingWrappingFilter, 
> though, will cache the enumerated bitset and using the same instance 
> again will not incur that expense of enumerating terms.
> 
> Make sense?  So maybe the timing tests you were doing were timing the 
> DateFilter as well.

Yes, it makes sense now. And caching will help us because we have a
limited number of date ranges that we offer. So we'll cache these using
CachingWrappingFilter and we should get good response time.

Dror

> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 16 06:03:10 2003
Return-Path: 
 <lucene-user-return-6058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30525 invoked from network); 16 Nov 2003 06:03:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Nov 2003 06:03:10 -0000
Received: (qmail 11081 invoked by uid 500); 16 Nov 2003 06:02:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11050 invoked by uid 500); 16 Nov 2003 06:02:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11031 invoked from network); 16 Nov 2003 06:02:43 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 16 Nov 2003 06:02:43 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1ALFzq-0000gb-Br
	for lucene-user@jakarta.apache.org; Sun, 16 Nov 2003 19:02:54 +1300
Message-ID: <3FB7130D.10109@cs.waikato.ac.nz>
Date: Sun, 16 Nov 2003 19:02:53 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: understanding IR topics on this list [was: Re: Vector Space Model
 in Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
 <20031114192742.GX94919@rlx11.zapatec.com>
In-Reply-To: <20031114192742.GX94919@rlx11.zapatec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dror --

I just completed an introductory course in IR. I can recommend the 
textbook we used: "Managing Gigabytes: Compressing and Indexing 
Documents and Images". When I don't understand posts on this list I can 
typically look up the theory in that book, then come back to the list 
and have a better idea of whats going on. "Managing Gigabytes" appears 
to be getting good reviews from most readers, but I can't compare it to 
similar works as I haven't read any.

I've spent some time searching for websites that introduce advanced IR 
topics at a level that is less rigorous than academic papers. But I 
haven't really found anything I can recommend. Suggestions welcome :)

cheers,
Gerret
**
Dror Matalon wrote:

>Hi,
>
>I might be the only person on the list who's having a hard time
>following this discussion. Would one of you wise folks care to point me
>to a good "dummies", also known as an executive summary, resource about
>the theoretical background of all of this. I understand the basic
>premise of collecting the "words" and having pointers to documents and
>weights, but beyond that ...
>
>TIA,
>
>Dror
>
>On Fri, Nov 14, 2003 at 12:52:15PM -0500, Chong, Herb wrote:
>  
>
>>i don't know of any open source search engine that incorporates interterm correlation. i have been looking into how to do this in Lucene and so far, it's not been promising. the indexing engine and file format needs to be changed. there are very few search engines that incorporate interterm correlation in any mathematically and linguistically rigorous manner. i designed a couple, but they were all research experiments.
>>
>>if you are familiar with the TREC automatic adhoc track? my experiments with the TREC-5 to TREC-7 questions produced about 0.05 to 0.10 improvement in average precision by proper use of interterm correlation. my project at the time was cancelled after TREC-7 and so there haven't been any new developments.
>>
>>Herb....
>>
>>-----Original Message-----
>>From: Andrzej Bialecki [mailto:ab@getopt.org]
>>Sent: Friday, November 14, 2003 12:39 PM
>>To: Lucene Users List
>>Subject: Re: Vector Space Model in Lucene?
>>
>>Herb....
>>
>>Hmm... Are you perhaps familiar with some open system which doesn't? I'm 
>>curious because one of my projects (already using Lucene) could benefit 
>>from such feature. Right now I'm using a bastardized version of Markov 
>>chains, but it's more of a hack...
>>
>>-- 
>>Best regards,
>>Andrzej Bialecki
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 16 17:49:23 2003
Return-Path: 
 <lucene-user-return-6059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87809 invoked from network); 16 Nov 2003 17:49:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Nov 2003 17:49:23 -0000
Received: (qmail 34160 invoked by uid 500); 16 Nov 2003 17:49:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34130 invoked by uid 500); 16 Nov 2003 17:49:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34116 invoked from network); 16 Nov 2003 17:49:09 -0000
Received: from unknown (HELO dev2.technohuman.com) (195.149.148.44)
  by daedalus.apache.org with SMTP; 16 Nov 2003 17:49:09 -0000
Received: by dev2.technohuman.com (Postfix, from userid 504)
	id 1F6FE63D21; Sun, 16 Nov 2003 18:48:04 +0100 (CET)
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240864@ny2528.corp.bloomberg.com>
            <20031114192742.GX94919@rlx11.zapatec.com>
            <3FB7130D.10109@cs.waikato.ac.nz>
In-Reply-To: <3FB7130D.10109@cs.waikato.ac.nz>
From: "Magnus Johansson" <magnus@technohuman.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: understanding IR topics on this list [was: Re: Vector Space Model
 in Lucene?]
Date: Sun, 16 Nov 2003 18:48:04 +0100
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <20031116174804.1F6FE63D21@dev2.technohuman.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would also like to recommend "Modern Information Retrieval"
by Ricardo Baeza-Yates 

/magnus 


Gerret Apelt writes: 

> Dror -- 
> 
> I just completed an introductory course in IR. I can recommend the 
> textbook we used: "Managing Gigabytes: Compressing and Indexing Documents 
> and Images". When I don't understand posts on this list I can typically 
> look up the theory in that book, then come back to the list and have a 
> better idea of whats going on. "Managing Gigabytes" appears to be getting 
> good reviews from most readers, but I can't compare it to similar works as 
> I haven't read any. 
> 
> I've spent some time searching for websites that introduce advanced IR 
> topics at a level that is less rigorous than academic papers. But I 
> haven't really found anything I can recommend. Suggestions welcome :) 
> 
> cheers,
> Gerret
> **
> Dror Matalon wrote: 
> 
>> Hi, 
>> 
>> I might be the only person on the list who's having a hard time
>> following this discussion. Would one of you wise folks care to point me
>> to a good "dummies", also known as an executive summary, resource about
>> the theoretical background of all of this. I understand the basic
>> premise of collecting the "words" and having pointers to documents and
>> weights, but beyond that ... 
>> 
>> TIA, 
>> 
>> Dror 
>> 
>> On Fri, Nov 14, 2003 at 12:52:15PM -0500, Chong, Herb wrote:
>>   
>> 
>>> i don't know of any open source search engine that incorporates 
>>> interterm correlation. i have been looking into how to do this in Lucene 
>>> and so far, it's not been promising. the indexing engine and file format 
>>> needs to be changed. there are very few search engines that incorporate 
>>> interterm correlation in any mathematically and linguistically rigorous 
>>> manner. i designed a couple, but they were all research experiments. 
>>> 
>>> if you are familiar with the TREC automatic adhoc track? my experiments 
>>> with the TREC-5 to TREC-7 questions produced about 0.05 to 0.10 
>>> improvement in average precision by proper use of interterm correlation. 
>>> my project at the time was cancelled after TREC-7 and so there haven't 
>>> been any new developments. 
>>> 
>>> Herb.... 
>>> 
>>> -----Original Message-----
>>> From: Andrzej Bialecki [mailto:ab@getopt.org]
>>> Sent: Friday, November 14, 2003 12:39 PM
>>> To: Lucene Users List
>>> Subject: Re: Vector Space Model in Lucene? 
>>> 
>>> Herb.... 
>>> 
>>> Hmm... Are you perhaps familiar with some open system which doesn't? I'm 
>>> curious because one of my projects (already using Lucene) could benefit 
>>> from such feature. Right now I'm using a bastardized version of Markov 
>>> chains, but it's more of a hack... 
>>> 
>>> -- 
>>> Best regards,
>>> Andrzej Bialecki 
>>> 
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
>>> 
>>>     
>>> 
>> 
>>   
>> 
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
> 
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 01:23:32 2003
Return-Path: 
 <lucene-user-return-6060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49982 invoked from network); 17 Nov 2003 01:23:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 01:23:32 -0000
Received: (qmail 72109 invoked by uid 500); 17 Nov 2003 01:23:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71598 invoked by uid 500); 17 Nov 2003 01:23:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71585 invoked from network); 17 Nov 2003 01:23:11 -0000
Received: from unknown (HELO web41612.mail.yahoo.com) (66.218.93.112)
  by daedalus.apache.org with SMTP; 17 Nov 2003 01:23:11 -0000
Message-ID: <20031117012319.10994.qmail@web41612.mail.yahoo.com>
Received: from [24.218.28.17] by web41612.mail.yahoo.com via HTTP;
 Sun, 16 Nov 2003 17:23:19 PST
Date: Sun, 16 Nov 2003 17:23:19 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: Re: QueryParser Rules article (Erik Hatcher)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031114154541.97662.qmail@web12703.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Erik, 

Yes, I understand that now the QueryParser will trap
the errors and convert to exceptions (with the version
in CVS). I was just voicing my opinion regarding
throwing TokenMgrError's in the first place when they
should really be TokenMgrExceptions. 

-Aaron

> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> > 
> > I'm not sure I understand your request.  With the
> > latest codebase you will only ever get a 
> > ParseException coming from either of the parse 
> > methods and you don't have to worry about any
> > other unchecked exceptions.
> > 
> > Am I missing something?
> > 
> > 	Erik
> > 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 04:37:39 2003
Return-Path: 
 <lucene-user-return-6061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27301 invoked from network); 17 Nov 2003 04:37:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 04:37:39 -0000
Received: (qmail 76323 invoked by uid 500); 17 Nov 2003 04:37:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76291 invoked by uid 500); 17 Nov 2003 04:37:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76277 invoked from network); 17 Nov 2003 04:37:15 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 17 Nov 2003 04:37:15 -0000
Received: (cpmta 13158 invoked from network); 16 Nov 2003 20:37:24 -0800
Received: from 65.101.201.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 16 Nov 2003 20:37:24 -0800
X-Sent: 17 Nov 2003 04:37:24 GMT
Date: Sun, 16 Nov 2003 21:37:45 -0700
Subject: Re: QueryParser Rules article (Erik Hatcher)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031117012319.10994.qmail@web41612.mail.yahoo.com>
Message-Id: <CA03732B-18B7-11D8-B38F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, November 16, 2003, at 06:23  PM, Tomcat Programmer wrote:
> Yes, I understand that now the QueryParser will trap
> the errors and convert to exceptions (with the version
> in CVS). I was just voicing my opinion regarding
> throwing TokenMgrError's in the first place when they
> should really be TokenMgrExceptions.

This is a JavaCC thing, not something that was coded into Lucene's 
QueryParser.jj.  Maybe there is some way to control it, but at this 
point we have the external API working as it should for parse at least.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 13:53:36 2003
Return-Path: 
 <lucene-user-return-6062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4759 invoked from network); 17 Nov 2003 13:53:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 13:53:36 -0000
Received: (qmail 25028 invoked by uid 500); 17 Nov 2003 13:53:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24997 invoked by uid 500); 17 Nov 2003 13:53:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24984 invoked from network); 17 Nov 2003 13:53:27 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 13:53:27 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 08:53:26 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHDrPx06864
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 08:53:26 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 08:53:25 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240868@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrApZDAoEwS7hlSz+IjXaDvCjG9wCDoblw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i have a program written in Icon that does basic sentence splitting. =
with about 5 heuristics and one small lookup table, i can get well over =
90% accuracy doing sentence boundary detection on email. for well edited =
English text, like newswires, i can manage closer to 99%. this is all =
that is needed for significantly improving a search engine's performance =
when the query engine respects sentence boundaries. incidentally, the =
GATE Information Extraction framework cites some references that =
indicate that for named entity feature extraction, their system can =
exceed the ability of trained humans to detect and classify named =
entities if only one person does the detection. collaborating humans are =
still better, but no-one has the time in practical applications.

you probably know, since you know about Markov chains, that within =
sentence term correlation, and hence the language model, is different =
than across sentences. linguists have known this for a very long time. =
it isn't hard to put this capability into a search engine, but it =
absolutely breaks down unless there is sentence boundary information =
stored for use at query time.

Herb....

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]
Sent: Friday, November 14, 2003 5:54 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


Well ... Sure, nothing can replace a human mind. But believe it or not,=20
there are studies which show that even human experts can significantly=20
differ in their opinions on what are key-phrases for a given text. So,=20
the results are never clear cut with humans either...

So, in this sense a heuristic tool for sentence splitting and key-phrase =

detection can go long ways. For example, the application I mentioned,=20
uses quite a few heuristic rules (+ Markov chains as a heavier=20
ammunition :-), and it comes up with the following phrases for your=20
email discussion (the text quoted below):

(lang=3DEN): NLP, trainable rule-based tagging, natural language=20
processing, apache, NLP expert

Now, this set of key-phrases does reflect the main noun-phrases in the=20
text... which means I have a practical and tangible benefit from NLP.=20
QED ;-)

Best regards,
Andrzej

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 13:55:44 2003
Return-Path: 
 <lucene-user-return-6063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5998 invoked from network); 17 Nov 2003 13:55:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 13:55:44 -0000
Received: (qmail 27413 invoked by uid 500); 17 Nov 2003 13:55:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27085 invoked by uid 500); 17 Nov 2003 13:55:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27072 invoked from network); 17 Nov 2003 13:55:36 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 17 Nov 2003 13:55:36 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 08:55:37 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHDtax07590
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 08:55:36 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was Re:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 08:55:35 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A3@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was Re:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrCWHcE9AdvEG3TcKTSRw/izuUyQCCOI1g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i am stuck with company policy with respect to open source project =
participation. this is why i am dropping some fairly detailed hints of =
what has to be done instead of doing it myself. this policy may change =
in the next year, but by then, i will have to be working with a solution =
and not just looking for one.

Herb....

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Friday, November 14, 2003 6:45 PM
To: Lucene Users List
Subject: Contributing to Lucene (was RE: inter-term correlation [was Re: =
Vector Space Model in Lucene?])


Hello Herb,

I don't approve of several teasing, mean, etc. emails I saw from a few
people.  This is a serious and polite email. :)

It sounds like you know about NLP and see places where Lucene could be
improved.  Lucene is open source and free, and could benefit from
knowledgeable people like you.  Are you interested in contributing some
computational linguistics smarts, either as improvement of Lucene core
(if improvements are such that they don't make Lucene use more
difficult and its code significantly more complex and harder to
maintain), or as an add-on module, or some kind of an extension, or
even just as application built on top of Lucene, all of which could and
would live outside of Lucene's core?

Otis

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 13:57:08 2003
Return-Path: 
 <lucene-user-return-6064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6892 invoked from network); 17 Nov 2003 13:57:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 13:57:08 -0000
Received: (qmail 31380 invoked by uid 500); 17 Nov 2003 13:57:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31345 invoked by uid 500); 17 Nov 2003 13:57:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31332 invoked from network); 17 Nov 2003 13:57:00 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 17 Nov 2003 13:57:00 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 08:57:00 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHDuxx00059
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 08:57:00 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 08:56:59 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A4@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrFcHhYWZ3haSDQkOFBJks7Oa2MQB/Mhsw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i am not implying rejection of a match across sentence boundaries, i am =
saying that it receives a lower score than a match within a sentence =
boundary.

Herb....

-----Original Message-----
From: Tatu Saloranta [mailto:tatu@hypermall.net]
Sent: Friday, November 14, 2003 8:15 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]

Isn't that quite strict interpretation, however? There are many cases =
where=20
linguistically separate sentences do have strong dependendies; in web =
world=20
simple things like list items may be very closely related. Put another =
way;
it may not be trivially easy to detect sentence boundaries, nor is it =
certain=20
that what (from language viewpoint) is a boundary really is hard =
boundary=20
from semantic perspective? And are there not varying levels of =
separation=20
(sentences close to each other often are related, back references being=20
common), not just one, between sentences?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 13:58:55 2003
Return-Path: 
 <lucene-user-return-6065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8054 invoked from network); 17 Nov 2003 13:58:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 13:58:55 -0000
Received: (qmail 35337 invoked by uid 500); 17 Nov 2003 13:58:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35140 invoked by uid 500); 17 Nov 2003 13:58:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35126 invoked from network); 17 Nov 2003 13:58:47 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 13:58:47 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 08:58:47 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHDwkd01540
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 08:58:47 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 08:58:46 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A5@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrF+ILH3Q1yp4ySHy9fNc7oKp2kgB+tPdg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you cannot layer sentence boundary detection on top of Lucene and post =
process the hit list without effectively building a completely new =
search engine index. if i am going to go to this trouble, there is no =
point to using Lucene at all.

Herb....

-----Original Message-----
From: Tatu Saloranta [mailto:tatu@hypermall.net]
Sent: Friday, November 14, 2003 8:30 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]

Hmmh? You implied that there are some useful distance heuristics (words
5 words apart or more correlate much less), and others have pointed out =
Lucene=20
has many useful components.

Building more complex system from small components is usually considered =
a=20
Good Thing (tm), not an "ad hoc solution". In fact, I would guess most=20
experienced people around here start with Lucene defaults, and build =
their=20
own systems gradually customizing more and more of pieces.
It may be there are actual fundamental problems with Lucene, regarding=20
approach you'd prefer, but I don't think it makes sense to brush off=20
suggestions regarding distance  & fuzzy/sloppy queries by claiming they =
are=20
"just hacks".

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:00:50 2003
Return-Path: 
 <lucene-user-return-6066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9413 invoked from network); 17 Nov 2003 14:00:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:00:50 -0000
Received: (qmail 42404 invoked by uid 500); 17 Nov 2003 14:00:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42369 invoked by uid 500); 17 Nov 2003 14:00:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42352 invoked from network); 17 Nov 2003 14:00:41 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:00:41 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 09:00:40 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHE0dx01237
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 09:00:40 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 09:00:39 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A6@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrHf+IVV+KQYYRTte5ivEz2knkZAB9QBwQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

respecting sentence boundaries and using them to affect a document's =
score in the ranking algorithm requires linguistic knowledge, not NLP =
knowledge. think about it.

Herb....

-----Original Message-----
From: Stefan Groschupf [mailto:sg@media-style.com]
Sent: Friday, November 14, 2003 9:13 PM
To: Lucene Users List
Subject: Re: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


What you can do is use a pos tagger (i.e. a maximum entropy model based=20
or  Brill tagger if you just have english) and use a data mining=20
algorithm for weight your terms.
May be you can use a hidden Markov model for that.

You can build this on top of lucene, shouldn't be that difficult.

But may be I understand you wrong.. ..

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:03:47 2003
Return-Path: 
 <lucene-user-return-6067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11290 invoked from network); 17 Nov 2003 14:03:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:03:47 -0000
Received: (qmail 53287 invoked by uid 500); 17 Nov 2003 14:03:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53262 invoked by uid 500); 17 Nov 2003 14:03:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53249 invoked from network); 17 Nov 2003 14:03:37 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:03:37 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 09:03:38 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHE3ax02112
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 09:03:37 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 09:03:36 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A7@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOrckHhCQZ48XMRSc6SJzXw0xWI7gBoPzVg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

now you're talking. this is one way of doing it. you need to work out a =
heuristic to increment the counter enough that a misrecognized long =
sentence won't trigger this. however, one can argue that a sentence that =
contains 1000 words can't possibly be about one topic.

Herb....

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Saturday, November 15, 2003 7:16 AM
To: Lucene Users List
Subject: AW: inter-term correlation [was Re: Vector Space Model in
Lucene?]

Anyway, Herb is right, sentence boundaries do carry a meaning and the=20
linguistic rule could be phrased as: "Constituents (Concepts) mentioned=20
in one sentence together have a closer relation than those that are =
not."

I was wondering whether we could, while indexing, make a use of this by=20
increasing the position counter by a large number, let's say 1000,=20
whenever we encounter a sentence separator (Note, this is not trivial;=20
not every '.' ends a  sentence etc. etc. etc.). Thus, searching for

"income tax"~100 "tax gain"~100 "income tax gain"~100 income tax gain

would find "income tax gain" as usual, but would boost all texts
where the phrases involved appear within sentence boundaries - I=20
assume that a sentence with 100 words would be pretty unlikely,
but still within the 1000 word separation done by increasing the
position. No linguistics necessary, actually, but it is an application
of a linguistic rule!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:39:17 2003
Return-Path: 
 <lucene-user-return-6068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46824 invoked from network); 17 Nov 2003 14:39:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:39:17 -0000
Received: (qmail 12062 invoked by uid 500); 17 Nov 2003 14:39:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12020 invoked by uid 500); 17 Nov 2003 14:39:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11899 invoked from network); 17 Nov 2003 14:39:05 -0000
Received: from unknown (HELO tomts5-srv.bellnexxia.net) (209.226.175.25)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:39:05 -0000
Received: from everest.konova.com ([65.95.44.82])
          by tomts5-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031117143905.DLNX21460.tomts5-srv.bellnexxia.net@everest.konova.com>
          for <lucene-user@jakarta.apache.org>;
          Mon, 17 Nov 2003 09:39:05 -0500
Received: from massif (IDENT:root@localhost [127.0.0.1])
	by everest.konova.com (8.11.6/8.11.6) with SMTP id hAHEcxF12328
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 09:38:59 -0500
From: "Philippe Laflamme" <plaflamme@konova.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 09:38:59 -0500
Message-ID: <DNEDJIGLNAJOFEMFBJIJEEOCCBAA.plaflamme@konova.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240868@ny2528.corp.bloomberg.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is already an implementation in the Java API for sentence boundary
detection. The BreakIterator in the java.text package has this to say about
sentence splitting:

"Sentence boundary analysis allows selection with correct interpretation of
periods within numbers and abbreviations, and trailing punctuation marks
such as quotation marks and parentheses."
http://java.sun.com/j2se/1.4.1/docs/api/java/text/BreakIterator.html

The whole i18n Java API is based on the ICU framework from IBM:
http://oss.software.ibm.com/icu/index.html
It supports many languages.

I personally do not have any experience with the BreakIterator in Java. Has
anyone used it in any production environment? I'd be very interested to
learn more about it's efficiency.

Regards,
Phil

> -----Original Message-----
> From: Chong, Herb [mailto:HChong3@bloomberg.com]
> Sent: November 17, 2003 08:53
> To: Lucene Users List
> Subject: RE: inter-term correlation [was Re: Vector Space Model
> in Lucene?]
>
>
> i have a program written in Icon that does basic sentence
> splitting. with about 5 heuristics and one small lookup table, i
> can get well over 90% accuracy doing sentence boundary detection
> on email. for well edited English text, like newswires, i can
> manage closer to 99%. this is all that is needed for
> significantly improving a search engine's performance when the
> query engine respects sentence boundaries. incidentally, the GATE
> Information Extraction framework cites some references that
> indicate that for named entity feature extraction, their system
> can exceed the ability of trained humans to detect and classify
> named entities if only one person does the detection.
> collaborating humans are still better, but no-one has the time in
> practical applications.
>
> you probably know, since you know about Markov chains, that
> within sentence term correlation, and hence the language model,
> is different than across sentences. linguists have known this for
> a very long time. it isn't hard to put this capability into a
> search engine, but it absolutely breaks down unless there is
> sentence boundary information stored for use at query time.
>
> Herb....
>
> -----Original Message-----
> From: Andrzej Bialecki [mailto:ab@getopt.org]
> Sent: Friday, November 14, 2003 5:54 PM
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model
> in Lucene?]
>
>
> Well ... Sure, nothing can replace a human mind. But believe it or not,
> there are studies which show that even human experts can significantly
> differ in their opinions on what are key-phrases for a given text. So,
> the results are never clear cut with humans either...
>
> So, in this sense a heuristic tool for sentence splitting and key-phrase
> detection can go long ways. For example, the application I mentioned,
> uses quite a few heuristic rules (+ Markov chains as a heavier
> ammunition :-), and it comes up with the following phrases for your
> email discussion (the text quoted below):
>
> (lang=EN): NLP, trainable rule-based tagging, natural language
> processing, apache, NLP expert
>
> Now, this set of key-phrases does reflect the main noun-phrases in the
> text... which means I have a practical and tangible benefit from NLP.
> QED ;-)
>
> Best regards,
> Andrzej
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:40:37 2003
Return-Path: 
 <lucene-user-return-6069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48077 invoked from network); 17 Nov 2003 14:40:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:40:37 -0000
Received: (qmail 15525 invoked by uid 500); 17 Nov 2003 14:40:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15500 invoked by uid 500); 17 Nov 2003 14:40:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15487 invoked from network); 17 Nov 2003 14:40:28 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:40:28 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 09:40:28 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHEeRx05049
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 09:40:28 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 09:40:27 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A9@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtGJayBDo5PPstRuSzm6DLxQL9CAAABMLA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i don't know what the Java implementation is like but the C++ one is =
very fast.

Herb....

-----Original Message-----
From: Philippe Laflamme [mailto:plaflamme@konova.com]
Sent: Monday, November 17, 2003 9:39 AM
To: Lucene Users List
Subject: RE: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


I personally do not have any experience with the BreakIterator in Java. =
Has
anyone used it in any production environment? I'd be very interested to
learn more about it's efficiency.

Regards,
Phil

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:46:16 2003
Return-Path: 
 <lucene-user-return-6070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51597 invoked from network); 17 Nov 2003 14:46:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:46:16 -0000
Received: (qmail 19366 invoked by uid 500); 17 Nov 2003 14:46:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19271 invoked by uid 500); 17 Nov 2003 14:46:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19257 invoked from network); 17 Nov 2003 14:46:06 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:46:06 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 07E717D71
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 15:46:08 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 7DA507D10
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 15:46:04 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 15:46:04 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC4387E2@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
Thread-Index: AcOtGKB1UW61xhzxTYW9QHdDieKdEwAADECA
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

it actually is quite nice and it can be used in production for such =
things as have been discussed
lately in this group.=20

If you want to play it safe: The iterator breaks at dots after numbers =
(e.g. 15. March), the precision
of the algorithm can be increased if you never break after a number.

The implementation is fast.

Regards,

Karsten

Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com


-----Urspr=FCngliche Nachricht-----
Von: Philippe Laflamme [mailto:plaflamme@konova.com]=20
Gesendet: Montag, 17. November 2003 15:39
An: Lucene Users List
Betreff: RE: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


There is already an implementation in the Java API for sentence boundary =
detection. The BreakIterator in the java.text package has this to say =
about sentence splitting:

"Sentence boundary analysis allows selection with correct interpretation =
of periods within numbers and abbreviations, and trailing punctuation =
marks such as quotation marks and parentheses." =
http://java.sun.com/j2se/1.4.1/docs/api/java/text/BreakIterator.html

The whole i18n Java API is based on the ICU framework from IBM: =
http://oss.software.ibm.com/icu/index.html
It supports many languages.

I personally do not have any experience with the BreakIterator in Java. =
Has anyone used it in any production environment? I'd be very interested =
to learn more about it's efficiency.

Regards,
Phil

> -----Original Message-----
> From: Chong, Herb [mailto:HChong3@bloomberg.com]
> Sent: November 17, 2003 08:53
> To: Lucene Users List
> Subject: RE: inter-term correlation [was Re: Vector Space Model in=20
> Lucene?]
>
>
> i have a program written in Icon that does basic sentence splitting.=20
> with about 5 heuristics and one small lookup table, i can get well=20
> over 90% accuracy doing sentence boundary detection on email. for well =

> edited English text, like newswires, i can manage closer to 99%. this=20
> is all that is needed for significantly improving a search engine's=20
> performance when the query engine respects sentence boundaries.=20
> incidentally, the GATE Information Extraction framework cites some=20
> references that indicate that for named entity feature extraction,=20
> their system can exceed the ability of trained humans to detect and=20
> classify named entities if only one person does the detection.
> collaborating humans are still better, but no-one has the time in
> practical applications.
>
> you probably know, since you know about Markov chains, that within=20
> sentence term correlation, and hence the language model, is different=20
> than across sentences. linguists have known this for a very long time. =

> it isn't hard to put this capability into a search engine, but it=20
> absolutely breaks down unless there is sentence boundary information=20
> stored for use at query time.
>
> Herb....
>
> -----Original Message-----
> From: Andrzej Bialecki [mailto:ab@getopt.org]
> Sent: Friday, November 14, 2003 5:54 PM
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model in=20
> Lucene?]
>
>
> Well ... Sure, nothing can replace a human mind. But believe it or=20
> not, there are studies which show that even human experts can=20
> significantly differ in their opinions on what are key-phrases for a=20
> given text. So, the results are never clear cut with humans either...
>
> So, in this sense a heuristic tool for sentence splitting and=20
> key-phrase detection can go long ways. For example, the application I=20
> mentioned, uses quite a few heuristic rules (+ Markov chains as a=20
> heavier ammunition :-), and it comes up with the following phrases for =

> your email discussion (the text quoted below):
>
> (lang=3DEN): NLP, trainable rule-based tagging, natural language=20
> processing, apache, NLP expert
>
> Now, this set of key-phrases does reflect the main noun-phrases in the =

> text... which means I have a practical and tangible benefit from NLP.=20
> QED ;-)
>
> Best regards,
> Andrzej
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 14:47:40 2003
Return-Path: 
 <lucene-user-return-6071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52887 invoked from network); 17 Nov 2003 14:47:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 14:47:40 -0000
Received: (qmail 22481 invoked by uid 500); 17 Nov 2003 14:47:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22458 invoked by uid 500); 17 Nov 2003 14:47:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22444 invoked from network); 17 Nov 2003 14:47:30 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Nov 2003 14:47:30 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <V69XC209>; Mon, 17 Nov 2003 09:47:31 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FEE@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R
	e: Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 09:47:30 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My only concern with this being integrated into lucene is that it be done in
a way that doesn't make its use mandatory.  Lucene is powerful enough that
it can be used for a lot of cases where NLP doesn't make any sense.  For
example, I think that sentence boundaries would severely screw up the
project I recently did using lucene because there are no sentences, but
there is punctuation.

--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> that concept is that multiword queries
> are mostly multiword terms and they can't cross sentence boundaries
> according to the rules of English.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:01:16 2003
Return-Path: 
 <lucene-user-return-6072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63009 invoked from network); 17 Nov 2003 15:01:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:01:16 -0000
Received: (qmail 34682 invoked by uid 500); 17 Nov 2003 15:00:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34653 invoked by uid 500); 17 Nov 2003 15:00:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34600 invoked from network); 17 Nov 2003 15:00:51 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:00:51 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 10:00:52 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHF0px03429
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 10:00:51 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:00:50 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AA@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtGcH3PgzKykckTCe38fEs/s3PAgAAZV9A
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

show an example document.

Herb....

-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: Monday, November 17, 2003 9:48 AM
To: 'Lucene Users List'
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


My only concern with this being integrated into lucene is that it be =
done in
a way that doesn't make its use mandatory.  Lucene is powerful enough =
that
it can be used for a lot of cases where NLP doesn't make any sense.  For
example, I think that sentence boundaries would severely screw up the
project I recently did using lucene because there are no sentences, but
there is punctuation.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:12:38 2003
Return-Path: 
 <lucene-user-return-6073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70465 invoked from network); 17 Nov 2003 15:12:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:12:38 -0000
Received: (qmail 56105 invoked by uid 500); 17 Nov 2003 15:12:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56030 invoked by uid 500); 17 Nov 2003 15:12:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56017 invoked from network); 17 Nov 2003 15:12:28 -0000
Received: from unknown (HELO out002.verizon.net) (206.46.170.141)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:12:28 -0000
Received: from s0023819896 ([141.149.17.193]) by out002.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20031117151230.PDZE6745.out002.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Mon, 17 Nov 2003 09:12:30 -0600
Message-ID: <000701c3ad1d$3794eeb0$6401a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AA@ny2528.corp.bloomberg.com>
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:12:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Authentication-Info: Submitted using SMTP AUTH at out002.verizon.net from
 [141.149.17.193] at Mon, 17 Nov 2003 09:12:29 -0600
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hope this isn't out of context - but Dan makes a very valid point.
Besides the potential performance slowdown if NLP was always applied to
a users query - there are times that an exact term match is desired
without the "query expansion" that an NLP process normally requires.

Joe

----- Original Message ----- 
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, November 17, 2003 10:00 AM
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


show an example document.

Herb....

-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: Monday, November 17, 2003 9:48 AM
To: 'Lucene Users List'
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


My only concern with this being integrated into lucene is that it be
done in
a way that doesn't make its use mandatory.  Lucene is powerful enough
that
it can be used for a lot of cases where NLP doesn't make any sense.  For
example, I think that sentence boundaries would severely screw up the
project I recently did using lucene because there are no sentences, but
there is punctuation.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:13:42 2003
Return-Path: 
 <lucene-user-return-6074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71182 invoked from network); 17 Nov 2003 15:13:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:13:42 -0000
Received: (qmail 58012 invoked by uid 500); 17 Nov 2003 15:13:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57929 invoked by uid 500); 17 Nov 2003 15:13:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57875 invoked from network); 17 Nov 2003 15:13:16 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:13:16 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 10:13:16 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHFDFO03346
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 10:13:15 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:13:15 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AB@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtHTzNiB/BR7PZQZ+/i5nCXoUrpQAAAiBA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

we're talking 2-3% if this is done right.

Herb...

-----Original Message-----
From: Joe Paulsen [mailto:joseph.paulsen@verizon.net]
Sent: Monday, November 17, 2003 10:12 AM
To: Lucene Users List
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


Hope this isn't out of context - but Dan makes a very valid point.
Besides the potential performance slowdown if NLP was always applied to
a users query - there are times that an exact term match is desired
without the "query expansion" that an NLP process normally requires.

Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:17:47 2003
Return-Path: 
 <lucene-user-return-6075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73601 invoked from network); 17 Nov 2003 15:17:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:17:47 -0000
Received: (qmail 64485 invoked by uid 500); 17 Nov 2003 15:17:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64082 invoked by uid 500); 17 Nov 2003 15:17:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64069 invoked from network); 17 Nov 2003 15:17:37 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:17:37 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 10:17:38 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHFHax00624
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 10:17:37 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:17:36 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AC@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtHTzNiB/BR7PZQZ+/i5nCXoUrpQAAB5Mg
From: "Chong, Herb" <HChong3@Bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

there is nothing i said about NLP. in fact my specific statements =
exclude NLP. the processing i am describing covers a linguistic =
observation and a constraint. a sequence of terms in the query receive a =
higher score when it occurs inside a single sentence than when it =
crosses a sentence boundary. also, there are many situations where NLP =
processing doesn't do any query expansion and reduces the number of =
possible documents that a query can match, thereby speeding up search. =
query expansion is only one way to use NLP, and i am not even interested =
in NLP changes to Lucene.

Herb....

-----Original Message-----
From: Joe Paulsen [mailto:joseph.paulsen@verizon.net]
Sent: Monday, November 17, 2003 10:12 AM
To: Lucene Users List
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


Hope this isn't out of context - but Dan makes a very valid point.
Besides the potential performance slowdown if NLP was always applied to
a users query - there are times that an exact term match is desired
without the "query expansion" that an NLP process normally requires.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:28:45 2003
Return-Path: 
 <lucene-user-return-6077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81924 invoked from network); 17 Nov 2003 15:28:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:28:45 -0000
Received: (qmail 90512 invoked by uid 500); 17 Nov 2003 15:28:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90468 invoked by uid 500); 17 Nov 2003 15:28:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90445 invoked from network); 17 Nov 2003 15:28:29 -0000
Received: from unknown (HELO mail.ampiro.com) (80.252.165.66)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:28:29 -0000
Received: from getopt.org (unknown [192.168.10.57])
	by mail.ampiro.com (Postfix) with ESMTP id 2BB135D10
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 17:01:53 +0100 (CET)
Message-ID: <3FB8E883.6060407@getopt.org>
Date: Mon, 17 Nov 2003 16:25:55 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was R
 e: Vector Space Model in Lucene?])
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AA@ny2528.corp.bloomberg.com>
 <000701c3ad1d$3794eeb0$6401a8c0@s0023819896>
In-Reply-To: <000701c3ad1d$3794eeb0$6401a8c0@s0023819896>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joe Paulsen wrote:

> Hope this isn't out of context - but Dan makes a very valid point.
> Besides the potential performance slowdown if NLP was always applied to
> a users query - there are times that an exact term match is desired
> without the "query expansion" that an NLP process normally requires.

Query expansion can (and I believe should) be done efficiently outside 
the core of search engine. After all, it's a process of changing the 
query according to some expansion/rewriting algorithms, but it is still 
the unchanged search engine that in the end has to answer the new query...

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:27:53 2003
Return-Path: 
 <lucene-user-return-6076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81123 invoked from network); 17 Nov 2003 15:27:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:27:53 -0000
Received: (qmail 83122 invoked by uid 500); 17 Nov 2003 15:27:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83085 invoked by uid 500); 17 Nov 2003 15:27:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83050 invoked from network); 17 Nov 2003 15:27:05 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:27:05 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <V69XCJ19>; Mon, 17 Nov 2003 10:27:06 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67FF0@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R
	 e: Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:27:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not sure I can share a sample, but the specific situation I'm thinking
of is when you have data that doesn't exist within a sentence, for example
the name, address, etc of a company.  Some foreign companies have funky
punctuation within their names and addresses.  

I'd have to see the results to know if the NLP would mess anything up.  If
all it did was weight the results, then perhaps it wouldn't, but it's also
possible that it would.  Basically my concern is that it would mess up the
use of lucene for non-sentence based applications that might contain
punctuation.

On the whole I think adding the NLP to lucene is a good idea because the
vast majority of the applications of lucene would benefit from it.  Making
it optional could be a good way to maintain the current power of lucene and
perhaps also retain the speed depending on the performance of the NLP
functionality and the needs of the user.


-----Original Message-----
From: Chong, Herb [mailto:HChong3@bloomberg.com]
Sent: Monday, November 17, 2003 10:01 AM
To: Lucene Users List
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


show an example document.

Herb....

-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: Monday, November 17, 2003 9:48 AM
To: 'Lucene Users List'
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


My only concern with this being integrated into lucene is that it be done in
a way that doesn't make its use mandatory.  Lucene is powerful enough that
it can be used for a lot of cases where NLP doesn't make any sense.  For
example, I think that sentence boundaries would severely screw up the
project I recently did using lucene because there are no sentences, but
there is punctuation.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:37:52 2003
Return-Path: 
 <lucene-user-return-6078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88986 invoked from network); 17 Nov 2003 15:37:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:37:52 -0000
Received: (qmail 3924 invoked by uid 500); 17 Nov 2003 15:37:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3899 invoked by uid 500); 17 Nov 2003 15:37:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3883 invoked from network); 17 Nov 2003 15:37:42 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:37:42 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 10:37:43 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHFbYO04258
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 10:37:41 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:37:28 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AE@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtH2DVbtP9PORLRbmLoMh9wm5jQgAATZMQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

then sentence detection at indexing time shouldn't see them as =
sentences. no sentence detection is run on the query terms.

Herb...

-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: Monday, November 17, 2003 10:27 AM
To: 'Lucene Users List'
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was
R e: Vector Space Model in Lucene?])


I'm not sure I can share a sample, but the specific situation I'm =
thinking
of is when you have data that doesn't exist within a sentence, for =
example
the name, address, etc of a company.  Some foreign companies have funky
punctuation within their names and addresses. =20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 15:39:35 2003
Return-Path: 
 <lucene-user-return-6079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90236 invoked from network); 17 Nov 2003 15:39:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 15:39:35 -0000
Received: (qmail 7653 invoked by uid 500); 17 Nov 2003 15:39:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7628 invoked by uid 500); 17 Nov 2003 15:39:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7615 invoked from network); 17 Nov 2003 15:39:25 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 15:39:25 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 10:39:27 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHFdQx07214
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 10:39:26 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 10:39:25 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AF@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtH38e+7i6pThFT9yw20S625riAwAAUBiQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

the core of the search engine has to have certain capabilities, however, =
because they are next to impossible to add as a layer on top with any =
efficiency. detecting sentence boundaries outside the core search engine =
is really hard to do without building another search engine index. if i =
have to do that, there is no point in using Lucene.

Herb...

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]
Sent: Monday, November 17, 2003 10:26 AM
To: Lucene Users List
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was =
R e: Vector Space Model in Lucene?])


Query expansion can (and I believe should) be done efficiently outside=20
the core of search engine. After all, it's a process of changing the=20
query according to some expansion/rewriting algorithms, but it is still=20
the unchanged search engine that in the end has to answer the new =
query...

--=20
Best regards,
Andrzej Bialecki

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 16:11:40 2003
Return-Path: 
 <lucene-user-return-6080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15640 invoked from network); 17 Nov 2003 16:11:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 16:11:40 -0000
Received: (qmail 80979 invoked by uid 500); 17 Nov 2003 16:11:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80927 invoked by uid 500); 17 Nov 2003 16:11:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80884 invoked from network); 17 Nov 2003 16:11:26 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 17 Nov 2003 16:11:26 -0000
Message-ID: <20031117160925.15273.qmail@web12706.mail.yahoo.com>
Received: from [194.152.224.224] by web12706.mail.yahoo.com via HTTP;
 Mon, 17 Nov 2003 08:09:25 PST
Date: Mon, 17 Nov 2003 08:09:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AF@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dmitry once contributed a nice beefy patch that added Term Vector
support to Lucene.  While we never integrated the changes (for no good
reason), I do recall that the patch was nice and elegant, because it
allowed one to turn Term Vector support on/off at indexing time.

If turned on, Lucene would collect information about terms and document
that allows building of term vectors.  If turned off, Lucene created
only its normal index files.

If you can provide something like that, I bet a lot of people would be
interested.  I have a feeling this won't get done unless you do it,
though.

Otis


--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> the core of the search engine has to have certain capabilities,
> however, because they are next to impossible to add as a layer on top
> with any efficiency. detecting sentence boundaries outside the core
> search engine is really hard to do without building another search
> engine index. if i have to do that, there is no point in using
> Lucene.
> 
> Herb...
> 
> -----Original Message-----
> From: Andrzej Bialecki [mailto:ab@getopt.org]
> Sent: Monday, November 17, 2003 10:26 AM
> To: Lucene Users List
> Subject: Re: Contributing to Lucene (was RE: inter-term correlation
> [was R e: Vector Space Model in Lucene?])
> 
> 
> Query expansion can (and I believe should) be done efficiently
> outside 
> the core of search engine. After all, it's a process of changing the 
> query according to some expansion/rewriting algorithms, but it is
> still 
> the unchanged search engine that in the end has to answer the new
> query...
> 
> -- 
> Best regards,
> Andrzej Bialecki
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Protect your identity with Yahoo! Mail AddressGuard
http://antispam.yahoo.com/whatsnewfree

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 17:23:19 2003
Return-Path: 
 <lucene-user-return-6081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71692 invoked from network); 17 Nov 2003 17:23:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 17:23:19 -0000
Received: (qmail 64700 invoked by uid 500); 17 Nov 2003 17:23:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64667 invoked by uid 500); 17 Nov 2003 17:23:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64654 invoked from network); 17 Nov 2003 17:23:07 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 17 Nov 2003 17:23:07 -0000
Subject: Which operations change document ids?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 17 Nov 2003 12:22:38 -0500
content-class: urn:content-classes:message
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE4F4@sgges01.nstein.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Filters on term A in query "A AND (B OR C OR D)"
Thread-Index: AcOqMCzsWeL3J4DoQUKk4t7GnSV7dgC/dP+Q
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I am considering using the document id in order to implement a fast =
'join' during relational search.

My first question is:  should I steer clear of this all together?  And =
why?  If not, I need to know which Lucene operations can cause document =
ids to change.

I am assuming that the following can cause potential changes:

	1) Add document
		- since it might trigger a merge

	2) Optimize index
		- since it does trigger a merge

	3) Update document
		- since it is a delete + add

What else could cause a document id to change?  Could delete provoke a =
doc id change?

And, I am assuming that the following DO NOT change the document id:

	1) Query the index


Also, am I missing any others that will or will not cause a document id =
to change? =20

Thank you,

Tate


P.S. It appears (to me) that the SearchBean (in lucene sandbox) sorting =
makes use of the Hits.id(int _n) method.  How does it cope, if at all, =
with changes to the underlying document ids?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 19:50:51 2003
Return-Path: 
 <lucene-user-return-6082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71811 invoked from network); 17 Nov 2003 19:50:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 19:50:51 -0000
Received: (qmail 95314 invoked by uid 500); 17 Nov 2003 19:50:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95286 invoked by uid 500); 17 Nov 2003 19:50:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95273 invoked from network); 17 Nov 2003 19:50:35 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 17 Nov 2003 19:50:35 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc11) with SMTP
          id <2003111719503901100ra4oie>; Mon, 17 Nov 2003 19:50:39 +0000
Message-ID: <3FB9268E.1050103@lucene.com>
Date: Mon, 17 Nov 2003 11:50:38 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Which operations change document ids?
References: <5C7A32E240A279479DFF44FDF01BBE629DE4F4@sgges01.nstein.com>
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE629DE4F4@sgges01.nstein.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tate Avery wrote:
> My first question is:  should I steer clear of this all together?

No, I think this is appropriate.

> If not, I need to know which Lucene operations can cause document ids to change.
> 
> I am assuming that the following can cause potential changes:
> 	1) Add document
> 	2) Optimize index
> 
> What else could cause a document id to change?

Nothing.  And even these can only cause an id to change if there have 
been deletions.

> Could delete provoke a doc id change?

Not when you perform the delete.  Later, when you add to or optimize the 
index, the ids for deleted documents are reclaimed.

> And, I am assuming that the following DO NOT change the document id:
> 
> 	1) Query the index

That is correct.

Document ids never change with an instance of IndexReader.  When you 
open a new index reader you should usually assume that ids have changed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 19:56:22 2003
Return-Path: 
 <lucene-user-return-6083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75978 invoked from network); 17 Nov 2003 19:56:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 19:56:22 -0000
Received: (qmail 1661 invoked by uid 500); 17 Nov 2003 19:56:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1626 invoked by uid 500); 17 Nov 2003 19:56:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1611 invoked from network); 17 Nov 2003 19:56:07 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 17 Nov 2003 19:56:07 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc13) with SMTP
          id <2003111719561101600hup5ne>; Mon, 17 Nov 2003 19:56:11 +0000
Message-ID: <3FB927DA.4070608@lucene.com>
Date: Mon, 17 Nov 2003 11:56:10 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
References: <3B48940F2D7712428BD31A041A367DDC015ADD@lrrr>
In-Reply-To: <3B48940F2D7712428BD31A041A367DDC015ADD@lrrr>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karsten Konrad wrote:
> I was wondering whether we could, while indexing, make a use of this by 
> increasing the position counter by a large number, let's say 1000, 
> whenever we encounter a sentence separator (Note, this is not trivial; 
> not every '.' ends a  sentence etc. etc. etc.). Thus, searching for
> 
> "income tax"~100 "tax gain"~100 "income tax gain"~100 income tax gain
> 
> would find "income tax gain" as usual, but would boost all texts
> where the phrases involved appear within sentence boundaries

This is exactly the sort of approach I was advocating in earlier 
messages.  (Although I think you'd only need to increase the position 
counter by 101 for the first word in each sentence.)  Herb Chong didn't 
seem to think this was appropriate, but I never understood why.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 20:14:18 2003
Return-Path: 
 <lucene-user-return-6084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88826 invoked from network); 17 Nov 2003 20:14:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 20:14:18 -0000
Received: (qmail 26951 invoked by uid 500); 17 Nov 2003 20:13:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26919 invoked by uid 500); 17 Nov 2003 20:13:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26891 invoked from network); 17 Nov 2003 20:13:58 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 20:13:58 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 15:14:01 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHKDxd23346
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 15:14:00 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
Date: Mon, 17 Nov 2003 15:13:59 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411B5@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtRO5B6bBdyjeIQbaFbE+LG3dUDgAAlFEA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

any arbitrary number you pick will be broken by some document someone =
puts into the system.

Herb....

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Monday, November 17, 2003 2:56 PM
To: Lucene Users List
Subject: Re: AW: inter-term correlation [was Re: Vector Space Model in =
Lucene?]

This is exactly the sort of approach I was advocating in earlier=20
messages.  (Although I think you'd only need to increase the position=20
counter by 101 for the first word in each sentence.)  Herb Chong didn't=20
seem to think this was appropriate, but I never understood why.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 20:38:09 2003
Return-Path: 
 <lucene-user-return-6085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11162 invoked from network); 17 Nov 2003 20:38:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 20:38:09 -0000
Received: (qmail 64697 invoked by uid 500); 17 Nov 2003 20:37:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64670 invoked by uid 500); 17 Nov 2003 20:37:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64657 invoked from network); 17 Nov 2003 20:37:52 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 17 Nov 2003 20:37:52 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 17 Nov 2003 15:37:56 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAHKbtO00280
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 15:37:56 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
Date: Mon, 17 Nov 2003 15:37:55 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411B6@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOtRO5B6bBdyjeIQbaFbE+LG3dUDgABapDw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you could use the negative of the actual value.

Herb....

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Monday, November 17, 2003 2:56 PM
To: Lucene Users List
Subject: Re: AW: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


This is exactly the sort of approach I was advocating in earlier=20
messages.  (Although I think you'd only need to increase the position=20
counter by 101 for the first word in each sentence.)  Herb Chong didn't=20
seem to think this was appropriate, but I never understood why.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 21:25:31 2003
Return-Path: 
 <lucene-user-return-6086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54353 invoked from network); 17 Nov 2003 21:25:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 21:25:31 -0000
Received: (qmail 55966 invoked by uid 500); 17 Nov 2003 21:25:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55935 invoked by uid 500); 17 Nov 2003 21:25:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55922 invoked from network); 17 Nov 2003 21:25:12 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 17 Nov 2003 21:25:12 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc12) with SMTP
          id <200311172125170120078bole>; Mon, 17 Nov 2003 21:25:17 +0000
Message-ID: <3FB93CBC.9070406@lucene.com>
Date: Mon, 17 Nov 2003 13:25:16 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: inter-term correlation [was Re: Vector Space Model in
 Lucene?]
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411B5@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411B5@ny2528.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah, I see.  You have an absoulte interpretation.  I am more relative.  I 
think we're talking about a heuristic, not a law.

Matches within a sentence are scored higher than those that are not. 
And the closer matching the terms are, whether within the same sentence 
or not, the greater the score.  Given these two principals, at some 
point, as sentences get longer, a close match across sentence boundaries 
should probably score substantially higher than a very distant match 
within a sentence.  Thus missing some distant yet still within-sentence 
matches in very long sentences probably won't substantially alter the 
ranking.  Is 100 long enough?  Perhaps not.  But 1000 is certainly 
plenty long.

Doug

Chong, Herb wrote:
> any arbitrary number you pick will be broken by some document someone puts into the system.
> 
> Herb....
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Monday, November 17, 2003 2:56 PM
> To: Lucene Users List
> Subject: Re: AW: inter-term correlation [was Re: Vector Space Model in Lucene?]
> 
> This is exactly the sort of approach I was advocating in earlier 
> messages.  (Although I think you'd only need to increase the position 
> counter by 101 for the first word in each sentence.)  Herb Chong didn't 
> seem to think this was appropriate, but I never understood why.
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 22:00:33 2003
Return-Path: 
 <lucene-user-return-6087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92416 invoked from network); 17 Nov 2003 22:00:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 22:00:33 -0000
Received: (qmail 20539 invoked by uid 500); 17 Nov 2003 22:00:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20513 invoked by uid 500); 17 Nov 2003 22:00:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20500 invoked from network); 17 Nov 2003 22:00:15 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 17 Nov 2003 22:00:15 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ALrPw-0000z4-00
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 23:00:20 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1ALr6q-0000kN-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 17 Nov 2003 22:40:36 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ALr6q-0004Cd-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 17 Nov 2003 22:40:36 +0100
From: "Jianshuo Niu" <jniu@wc-group.com>
Subject: javacc2.0
Date: Mon, 17 Nov 2003 16:40:26 -0500
Lines: 8
Message-ID: <pan.2003.11.17.21.40.25.519256@wc-group.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Pan/0.13.3 (That cat's something I can't explain)
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Brain:

>>From the list I found that you have the javacc2.0. Would you please send
the package to me. I could not find it any where else.

Thanks

Jianshuo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 22:15:02 2003
Return-Path: 
 <lucene-user-return-6088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3646 invoked from network); 17 Nov 2003 22:15:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 22:15:02 -0000
Received: (qmail 43080 invoked by uid 500); 17 Nov 2003 22:14:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43054 invoked by uid 500); 17 Nov 2003 22:14:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43039 invoked from network); 17 Nov 2003 22:14:44 -0000
Received: from unknown (HELO anchor-post-37.mail.demon.net) (194.217.242.87)
  by daedalus.apache.org with SMTP; 17 Nov 2003 22:14:44 -0000
Received: from project76.demon.co.uk ([80.177.119.242] helo=jubilee)
	by anchor-post-37.mail.demon.net with smtp (Exim 3.35 #1)
	id 1ALrdx-000Hgz-0b
	for lucene-user@jakarta.apache.org; Mon, 17 Nov 2003 22:14:49 +0000
From: "Jamie Stallwood" <jubilee@project76.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Which operations change document ids?
Date: Mon, 17 Nov 2003 22:14:48 -0000
Message-ID: <EJECKFIHLFGAHHKKFBCCMEONCOAA.jubilee@project76.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3FB9268E.1050103@lucene.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Disposition-Notification-To: "Jamie Stallwood" <jubilee@project76.co.uk>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you create two parallel indices (to use different parsing methods for
instance), and always add and delete documents in parallel, will the
document ID's always correspond in both indices? And could optimization
destroy any such invariance?



-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: 17 November 2003 19:51
To: Lucene Users List
Subject: Re: Which operations change document ids?

Tate Avery wrote:
> My first question is:  should I steer clear of this all together?

No, I think this is appropriate.

> If not, I need to know which Lucene operations can cause document ids to
change.
>
> I am assuming that the following can cause potential changes:
>       1) Add document
>       2) Optimize index
>
> What else could cause a document id to change?

Nothing.  And even these can only cause an id to change if there have
been deletions.

> Could delete provoke a doc id change?

Not when you perform the delete.  Later, when you add to or optimize the
index, the ids for deleted documents are reclaimed.

> And, I am assuming that the following DO NOT change the document id:
>
>       1) Query the index

That is correct.

Document ids never change with an instance of IndexReader.  When you
open a new index reader you should usually assume that ids have changed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 23:07:42 2003
Return-Path: 
 <lucene-user-return-6089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36340 invoked from network); 17 Nov 2003 23:07:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 23:07:42 -0000
Received: (qmail 30707 invoked by uid 500); 17 Nov 2003 23:07:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30673 invoked by uid 500); 17 Nov 2003 23:07:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30660 invoked from network); 17 Nov 2003 23:07:23 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 17 Nov 2003 23:07:23 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by comcast.net (sccrmhc11) with SMTP
          id <2003111723072901100slmc8e>; Mon, 17 Nov 2003 23:07:30 +0000
Message-ID: <3FB954B0.70901@lucene.com>
Date: Mon, 17 Nov 2003 15:07:28 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Which operations change document ids?
References: <EJECKFIHLFGAHHKKFBCCMEONCOAA.jubilee@project76.co.uk>
In-Reply-To: <EJECKFIHLFGAHHKKFBCCMEONCOAA.jubilee@project76.co.uk>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If they're optimized at different times then the document ids could get 
out of sync, as the optimized version will have deleted documents 
removed, while the un-optimized one won't.

Also, for add/delete to keep document ids in sync you need to also be 
sure to use the same mergeFactor.

Doug

Jamie Stallwood wrote:
> If you create two parallel indices (to use different parsing methods for
> instance), and always add and delete documents in parallel, will the
> document ID's always correspond in both indices? And could optimization
> destroy any such invariance?
> 
> 
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: 17 November 2003 19:51
> To: Lucene Users List
> Subject: Re: Which operations change document ids?
> 
> Tate Avery wrote:
> 
>>My first question is:  should I steer clear of this all together?
> 
> 
> No, I think this is appropriate.
> 
> 
>>If not, I need to know which Lucene operations can cause document ids to
> 
> change.
> 
>>I am assuming that the following can cause potential changes:
>>      1) Add document
>>      2) Optimize index
>>
>>What else could cause a document id to change?
> 
> 
> Nothing.  And even these can only cause an id to change if there have
> been deletions.
> 
> 
>>Could delete provoke a doc id change?
> 
> 
> Not when you perform the delete.  Later, when you add to or optimize the
> index, the ids for deleted documents are reclaimed.
> 
> 
>>And, I am assuming that the following DO NOT change the document id:
>>
>>      1) Query the index
> 
> 
> That is correct.
> 
> Document ids never change with an instance of IndexReader.  When you
> open a new index reader you should usually assume that ids have changed.
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 17 23:28:50 2003
Return-Path: 
 <lucene-user-return-6090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49962 invoked from network); 17 Nov 2003 23:28:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Nov 2003 23:28:50 -0000
Received: (qmail 76515 invoked by uid 500); 17 Nov 2003 23:28:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76481 invoked by uid 500); 17 Nov 2003 23:28:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76468 invoked from network); 17 Nov 2003 23:28:28 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 17 Nov 2003 23:28:28 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id C509A5D22
	for <lucene-user@jakarta.apache.org>; Mon, 17 Nov 2003 15:28:35 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAHNSZZO022112
	for lucene-user@jakarta.apache.org; Mon, 17 Nov 2003 15:28:35 -0800 (PST)
	(envelope-from dror)
Date: Mon, 17 Nov 2003 15:28:35 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Slow response time with datefilter
Message-ID: <20031117232835.GR94919@rlx11.zapatec.com>
References: <3B48940F2D7712428BD31A041A367DDC015AE0@lrrr>
 <BFF853FD-1790-11D8-8D7B-000393A564E6@ehatchersolutions.com>
 <20031115190313.GK94919@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031115190313.GK94919@rlx11.zapatec.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

So we've implemented both suggestions and it made a big difference.
You can see a Beta sample at

http://www.fastbuzz.com/search/index.jsp

We have around 7,000,000 items in the index.

What we did:
1. Instead of using msec granularity, we're using hour granularity for
date searches. This reduced search times from tens of seconds to 2-5
seconds. No ideal, but ...
2. We cache the results. So if you're looking for items in the last 15
days and then do a "next" it'll save the filter using
CachingWrapperFilter and reuse it, resulting in much faster times the
second time.
This reduces the times from the above 2-5 secons to 0.2 - 0.8 msecs.

One of the challenges though is that since the index is updated in real
time, we can't cache for very long. We'll probably have to set up a
mechanism to "seed" the cache before the "new" index becomes available.

Regards,

Dror



On Sat, Nov 15, 2003 at 11:03:13AM -0800, Dror Matalon wrote:
> After posting the original email, I started wondering if that's the
> issue, the fact that we store timestamp up to the millisecond rather
> than a more reasonable granularity. Dates are too high a granularity for
> us, but minutes, and possibly hours should work.
> 
> I'll report once we've tested some more.
> 
> Regards,
> 
> Dror
> 
> On Sat, Nov 15, 2003 at 12:25:47PM -0500, Erik Hatcher wrote:
> > On Saturday, November 15, 2003, at 11:38  AM, Karsten Konrad wrote:
> > >If the number of different date terms causes this effect, why not 
> > >"round"
> > >the date to the nearest or next midnight while indexing. Thus, 
> > >filtering
> > >for the last  15 days would require walking over 15-17 different date 
> > >terms.
> > >If you don't do this, the number of different terms will be the same as
> > >the number of documents you indexed, explaining the slowing down when 
> > >you
> > >have more results.
> > 
> > I wholeheartedly concur.  And in fact I don't use the Keyword(String, 
> > Date) thing at all if I just need to represent a date.  I use YYYYMMDD 
> > as a String instead.  It's just too fiddly to deal with dates using the 
> > built-in handling of it.
> > 
> > 	Erik
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 02:58:42 2003
Return-Path: 
 <lucene-user-return-6091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81656 invoked from network); 18 Nov 2003 02:58:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 02:58:42 -0000
Received: (qmail 97942 invoked by uid 500); 18 Nov 2003 02:58:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97911 invoked by uid 500); 18 Nov 2003 02:58:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97896 invoked from network); 18 Nov 2003 02:58:19 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 18 Nov 2003 02:58:19 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1ALw4S-0002mz-R8
	for lucene-user@jakarta.apache.org; Mon, 17 Nov 2003 19:58:28 -0700
Content-Type: text/plain;
  charset="koi8-r"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Mon, 17 Nov 2003 19:59:46 -0700
User-Agent: KMail/1.4.3
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A9@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411A9@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200311171959.46397.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 17 November 2003 07:40, Chong, Herb wrote:
> i don't know what the Java implementation is like but the C++ one is very
> fast.
...
>> I personally do not have any experience with the BreakIterator in Java. Has
>> anyone used it in any production environment? I'd be very interested to
>> learn more about it's efficiency.

Even if that implementation wasn't fast (which it should be), it should be 
fairly easy to implement it to be pretty much as efficient as any of basic 
tokenizers; ie. not much slower than full scanning speed over text data and 
token creation overhead.

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 03:12:51 2003
Return-Path: 
 <lucene-user-return-6092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88850 invoked from network); 18 Nov 2003 03:12:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 03:12:51 -0000
Received: (qmail 6879 invoked by uid 500); 18 Nov 2003 03:12:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6851 invoked by uid 500); 18 Nov 2003 03:12:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6834 invoked from network); 18 Nov 2003 03:12:28 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 18 Nov 2003 03:12:28 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1ALwI9-0007SG-To
	for lucene-user@jakarta.apache.org; Mon, 17 Nov 2003 20:12:38 -0700
Content-Type: text/plain;
  charset="koi8-r"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Contributing to Lucene (was RE: inter-term correlation [was R e:
 Vector Space Model in Lucene?])
Date: Mon, 17 Nov 2003 20:13:55 -0700
User-Agent: KMail/1.4.3
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AF@ny2528.corp.bloomberg.com>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411AF@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200311172013.55536.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 17 November 2003 08:39, Chong, Herb wrote:
> the core of the search engine has to have certain capabilities, however,
> because they are next to impossible to add as a layer on top with any
> efficiency. detecting sentence boundaries outside the core search engine is
> really hard to do without building another search engine index. if i have
> to do that, there is no point in using Lucene.

It's also good to know what exactly constitutes core; I would assume that 
analyzer implementations are not part per se, as long as core knows how
to use analyzers. But as long as index structure has some way to store 
information needed (perhaps by using existing property of distances between 
tokens, which allows both overlapping tokens and gaps, like someone 
suggested?), core need not know specifics of how analyzers determine 
structural (sentence etc) boundaries.

To me this seems like one of many issues where it's possible to retain 
distinction between Lucene kernel (lean mean core) and more specialized 
functionality; highlighting was another one.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 14:46:12 2003
Return-Path: 
 <lucene-user-return-6093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71611 invoked from network); 18 Nov 2003 14:46:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 14:46:12 -0000
Received: (qmail 87445 invoked by uid 500); 18 Nov 2003 14:46:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87408 invoked by uid 500); 18 Nov 2003 14:46:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87395 invoked from network); 18 Nov 2003 14:46:02 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 18 Nov 2003 14:46:02 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AM77D-00014X-00
	for <lucene-user@jakarta.apache.org>; Tue, 18 Nov 2003 15:46:03 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AM77C-00014N-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 18 Nov 2003 15:46:02 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AM77C-0006hN-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 18 Nov 2003 15:46:02 +0100
From: "Jianshuo Niu" <jniu@wc-group.com>
Subject: Re: javacc2.0
Date: Tue, 18 Nov 2003 09:45:51 -0500
Lines: 21
Message-ID: <pan.2003.11.18.14.45.51.308526@wc-group.com>
References: <pan.2003.11.17.21.40.25.519256@wc-group.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Pan/0.13.3 (That cat's something I can't explain)
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi! There:

Anyone else can help me to get javacc2.0?

Thanks

Jianshuo



On Mon, 17 Nov 2003 16:40:26 -0500, Jianshuo Niu wrote:

> Dear Brain:
> 
> From the list I found that you have the javacc2.0. Would you please send
> the package to me. I could not find it any where else.
> 
> Thanks
> 
> Jianshuo



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 14:53:39 2003
Return-Path: 
 <lucene-user-return-6094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75021 invoked from network); 18 Nov 2003 14:53:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 14:53:39 -0000
Received: (qmail 6622 invoked by uid 500); 18 Nov 2003 14:53:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6547 invoked by uid 500); 18 Nov 2003 14:53:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6500 invoked from network); 18 Nov 2003 14:53:26 -0000
Received: from unknown (HELO tomts20-srv.bellnexxia.net) (209.226.175.74)
  by daedalus.apache.org with SMTP; 18 Nov 2003 14:53:26 -0000
Received: from everest.konova.com ([65.95.44.82])
          by tomts20-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031118145327.UZSJ22704.tomts20-srv.bellnexxia.net@everest.konova.com>
          for <lucene-user@jakarta.apache.org>;
          Tue, 18 Nov 2003 09:53:27 -0500
Received: from massif (IDENT:root@localhost [127.0.0.1])
	by everest.konova.com (8.11.6/8.11.6) with SMTP id hAIErLF03195
	for <lucene-user@jakarta.apache.org>; Tue, 18 Nov 2003 09:53:21 -0500
From: "Philippe Laflamme" <plaflamme@konova.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Tue, 18 Nov 2003 09:53:21 -0500
Message-ID: <DNEDJIGLNAJOFEMFBJIJGEOMCBAA.plaflamme@konova.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200311171959.46397.tatu@hypermall.net>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Even if that implementation wasn't fast (which it should be), it
> should be
> fairly easy to implement it to be pretty much as efficient as any
> of basic
> tokenizers; ie. not much slower than full scanning speed over
> text data and
> token creation overhead.

In terms of speed I would tend to agree with you.

My question regarding efficiency was directed more towards the quality of
the results it provides. Is the BreakIterator breaking on correct sentence
boundaries or is it being confused by dots at the end of acronyms and such.

Karsten was mentioning that it's results are of higher quality when you
prevent it from breaking after a number. Are there any other tips you can
provide?

Has anybody tested the implementation to estimate its precision?

Regards,
Phil

> -----Original Message-----
> From: Tatu Saloranta [mailto:tatu@hypermall.net]
> Sent: November 17, 2003 22:00
> To: Lucene Users List
> Subject: Re: inter-term correlation [was Re: Vector Space Model
> in Lucene?]
>
>
> On Monday 17 November 2003 07:40, Chong, Herb wrote:
> > i don't know what the Java implementation is like but the C++
> one is very
> > fast.
> ...
> >> I personally do not have any experience with the BreakIterator
> in Java. Has
> >> anyone used it in any production environment? I'd be very interested to
> >> learn more about it's efficiency.
>
> Even if that implementation wasn't fast (which it should be), it
> should be
> fairly easy to implement it to be pretty much as efficient as any
> of basic
> tokenizers; ie. not much slower than full scanning speed over
> text data and
> token creation overhead.
>
> -+ Tatu +-
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 14:55:30 2003
Return-Path: 
 <lucene-user-return-6095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76162 invoked from network); 18 Nov 2003 14:55:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 14:55:30 -0000
Received: (qmail 10393 invoked by uid 500); 18 Nov 2003 14:55:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10304 invoked by uid 500); 18 Nov 2003 14:55:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10190 invoked from network); 18 Nov 2003 14:55:19 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 18 Nov 2003 14:55:19 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Tue, 18 Nov 2003 09:55:20 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hAIEtIx04316
	for <lucene-user@jakarta.apache.org>; Tue, 18 Nov 2003 09:55:19 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: inter-term correlation [was Re: Vector Space Model in Lucene?]
Date: Tue, 18 Nov 2003 09:55:17 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012411C6@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: inter-term correlation [was Re: Vector Space Model in Lucene?]
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOt48CTzI1eriMXShW4PjarP36uIQAABq+A
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i haven't tested, but i know that it is not too hard to change the =
tables that specify the break decisions.

Herb....

-----Original Message-----
From: Philippe Laflamme [mailto:plaflamme@konova.com]
Sent: Tuesday, November 18, 2003 9:53 AM
To: Lucene Users List
Subject: RE: inter-term correlation [was Re: Vector Space Model in =
Lucene?]


In terms of speed I would tend to agree with you.

My question regarding efficiency was directed more towards the quality =
of
the results it provides. Is the BreakIterator breaking on correct =
sentence
boundaries or is it being confused by dots at the end of acronyms and =
such.

Karsten was mentioning that it's results are of higher quality when you
prevent it from breaking after a number. Are there any other tips you =
can
provide?

Has anybody tested the implementation to estimate its precision?

Regards,
Phil

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 20:49:38 2003
Return-Path: 
 <lucene-user-return-6096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73586 invoked from network); 18 Nov 2003 20:49:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 20:49:38 -0000
Received: (qmail 3559 invoked by uid 500); 18 Nov 2003 20:49:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3534 invoked by uid 500); 18 Nov 2003 20:49:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3521 invoked from network); 18 Nov 2003 20:49:22 -0000
Received: from unknown (HELO scog-ws3.gsa.gov) (159.142.144.58)
  by daedalus.apache.org with SMTP; 18 Nov 2003 20:49:22 -0000
Received: from 159.142.144.55 by scog-ws3.gsa.gov with ESMTP (GSA
 Internet E-Mail System (MMS v5.5.3)); Tue, 18 Nov 2003 15:49:18 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Which operations change document ids?
Message-ID: 
 <OF85256DE2.00725FE9-ON85256DE2.00725FE9-85256DE2.00725FEB@gsa.gov>
From: brad.hendricks@gsa.gov
Date: Tue, 18 Nov 2003 15:49:16 -0500
X-MIMETrack: Serialize by Router on SCOG-NOTESSMTP1/GSAEXTERNAL(Release
 5.0.8 |June 18, 2001) at 11/18/2003 03:49:18 PM
MIME-Version: 1.0
X-WSS-ID: 13A45A44404722-02-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Return Receipt
                                                                           
    Your      RE: Which operations change document ids?                    
    document                                                               
    :                                                                      
                                                                           
    was       Brad Hendricks/CONTRACTOR/FIE/CO/GSA/GOV                     
    received                                                               
    by:                                                                    
                                                                           
    at:       11/18/2003 03:49:16 PM                                       
                                                                           






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 21:33:04 2003
Return-Path: 
 <lucene-user-return-6097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92335 invoked from network); 18 Nov 2003 21:33:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 21:33:04 -0000
Received: (qmail 73785 invoked by uid 500); 18 Nov 2003 21:32:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73746 invoked by uid 500); 18 Nov 2003 21:32:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73674 invoked from network); 18 Nov 2003 21:32:38 -0000
Received: from unknown (HELO ams.org) (130.44.1.6)
  by daedalus.apache.org with SMTP; 18 Nov 2003 21:32:38 -0000
Received: from ams.org (dnp.ams.org [130.44.10.126])
	by ams.org (8.12.9/8.12.9) with ESMTP id hAILWg1H025203
	for <lucene-user@jakarta.apache.org>; Tue, 18 Nov 2003 16:32:42 -0500 (EST)
Message-ID: <3FBA8FD6.8080303@ams.org>
Date: Tue, 18 Nov 2003 16:32:06 -0500
From: Dan Pelton <dnp@ams.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4;
 MultiZilla v1.5.0.3g) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Illegal seek error
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 1.0 (http://www.roaringpenguin.com/mimedefang/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Occasionally I get an "Illegal seek" error while loading a document into lucene.
I am new to lucene so I am not sure what to look for. Does any one have an idea of 
what may cause this error. Can lucene handle multiple user inserting documents at
the same time or do I need to implement a locking mechanism?

I am using lucene-1.3-rc1 with java 1.4.2 on SunOS 5.8.

Thanks,
Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 21:41:34 2003
Return-Path: 
 <lucene-user-return-6098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95573 invoked from network); 18 Nov 2003 21:41:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 21:41:34 -0000
Received: (qmail 85166 invoked by uid 500); 18 Nov 2003 21:41:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85135 invoked by uid 500); 18 Nov 2003 21:41:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85122 invoked from network); 18 Nov 2003 21:41:17 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 18 Nov 2003 21:41:17 -0000
Received: (cpmta 23848 invoked from network); 18 Nov 2003 13:41:22 -0800
Received: from 128.143.59.191 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 18 Nov 2003 13:41:22 -0800
X-Sent: 18 Nov 2003 21:41:22 GMT
Date: Tue, 18 Nov 2003 16:41:45 -0500
Subject: Re: Illegal seek error
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FBA8FD6.8080303@ams.org>
Message-Id: <01B31898-1A10-11D8-9F57-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 18, 2003, at 04:32  PM, Dan Pelton wrote:
> Occasionally I get an "Illegal seek" error while loading a document 
> into lucene.
> I am new to lucene so I am not sure what to look for. Does any one 
> have an idea of what may cause this error. Can lucene handle multiple 
> user inserting documents at
> the same time or do I need to implement a locking mechanism?

No, unless they are using the same *exact instance* of IndexWriter.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 18 21:42:50 2003
Return-Path: 
 <lucene-user-return-6099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96136 invoked from network); 18 Nov 2003 21:42:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Nov 2003 21:42:50 -0000
Received: (qmail 88886 invoked by uid 500); 18 Nov 2003 21:42:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88855 invoked by uid 500); 18 Nov 2003 21:42:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88842 invoked from network); 18 Nov 2003 21:42:32 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 18 Nov 2003 21:42:32 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 08DB1A941
	for <lucene-user@jakarta.apache.org>; Tue, 18 Nov 2003 13:42:38 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAILgcoH024241
	for lucene-user@jakarta.apache.org; Tue, 18 Nov 2003 13:42:38 -0800 (PST)
	(envelope-from dror)
Date: Tue, 18 Nov 2003 13:42:38 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Illegal seek error
Message-ID: <20031118214238.GZ94919@rlx11.zapatec.com>
References: <3FBA8FD6.8080303@ams.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FBA8FD6.8080303@ams.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Someone might know off the top of their head, but it's always a good
idea to include a full stack trace so that we see where's the error
coming from.

Regards,

Dror

On Tue, Nov 18, 2003 at 04:32:06PM -0500, Dan Pelton wrote:
> Hi,
> 
> Occasionally I get an "Illegal seek" error while loading a document into 
> lucene.
> I am new to lucene so I am not sure what to look for. Does any one have an 
> idea of what may cause this error. Can lucene handle multiple user 
> inserting documents at
> the same time or do I need to implement a locking mechanism?
> 
> I am using lucene-1.3-rc1 with java 1.4.2 on SunOS 5.8.
> 
> Thanks,
> Dan
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 14:29:27 2003
Return-Path: 
 <lucene-user-return-6100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45480 invoked from network); 19 Nov 2003 14:29:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 14:29:27 -0000
Received: (qmail 31286 invoked by uid 500); 19 Nov 2003 14:29:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30926 invoked by uid 500); 19 Nov 2003 14:29:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30913 invoked from network); 19 Nov 2003 14:29:18 -0000
Received: from unknown (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
  by daedalus.apache.org with SMTP; 19 Nov 2003 14:29:18 -0000
Received: from cis.strath.ac.uk (IDENT:www@smtphost.cis.strath.ac.uk
 [130.159.196.96])
	by ramsay.cis.strath.ac.uk (8.12.10/8.12.10) with SMTP id hAJETFxZ016201
	for <lucene-user@jakarta.apache.org>; Wed, 19 Nov 2003 14:29:15 GMT
Message-Id: <200311191429.hAJETFxZ016201@ramsay.cis.strath.ac.uk>
Date: Wed, 19 Nov 2003 14:29:14 -0000
To: <lucene-user@jakarta.apache.org>
Subject: Ask something about lucene
From: <Shengli.Wu@cis.strath.ac.uk>
X-Mailer: TWIG 2.7.3
X-Client-IP: 193.61.148.4
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted), SpamAssassin (score=1.1,
	required 6, NO_REAL_NAME 1.15)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Deal all,

I am a new comer into this lucene e-mail list. I am doing research on 
distributed information retrieval so I would like to have a few different 
systems. I run the simple demo of lucene, it does not seem to statisfy all 
my requirements.

I hope for those documents in the result, there is a score for each of them 
to indicate the possible relevance of the document to the given query.

some other questions are: does the index include any statistics of the 
collection? For example, how many documents in the collection have been 
indexed? what is the frequency of a particular term? 

Generally speaking, I would like to have a system that can run queries as in 
TREC conference. If lucene does not work like that, then is it possible 
forme to make lucene to become such a system with modest efforts? Or anyone 
has done something on that?

Especially, to those of you have inside understanging of lucene, please help 
me. Thanks a lot.

Shengli

 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 14:34:57 2003
Return-Path: 
 <lucene-user-return-6101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48492 invoked from network); 19 Nov 2003 14:34:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 14:34:57 -0000
Received: (qmail 43576 invoked by uid 500); 19 Nov 2003 14:34:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43533 invoked by uid 500); 19 Nov 2003 14:34:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43489 invoked from network); 19 Nov 2003 14:34:27 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 19 Nov 2003 14:34:27 -0000
content-class: urn:content-classes:message
Subject: RE: Ask something about lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 19 Nov 2003 09:33:53 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE538@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Ask something about lucene
Thread-Index: AcOuqXDTRbLVCOxhTwqFGpewuR6uLQAAE7lw
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have a look at the API

http://jakarta.apache.org/lucene/docs/api/

For example, the Hits object has a score
	see: org.apache.lucene.search.Hits  (score)

And the IndexReader allows you to get num docs in the index and term =
data, etc.
	see: org.apache.lucene.index.IndexReader   (numDocs, docFreq)


Tate


-----Original Message-----
From: Shengli.Wu@cis.strath.ac.uk [mailto:Shengli.Wu@cis.strath.ac.uk]
Sent: Wednesday, November 19, 2003 9:29 AM
To: lucene-user@jakarta.apache.org
Subject: Ask something about lucene



Deal all,

I am a new comer into this lucene e-mail list. I am doing research on=20
distributed information retrieval so I would like to have a few =
different=20
systems. I run the simple demo of lucene, it does not seem to statisfy =
all=20
my requirements.

I hope for those documents in the result, there is a score for each of =
them=20
to indicate the possible relevance of the document to the given query.

some other questions are: does the index include any statistics of the=20
collection? For example, how many documents in the collection have been=20
indexed? what is the frequency of a particular term?=20

Generally speaking, I would like to have a system that can run queries =
as in=20
TREC conference. If lucene does not work like that, then is it possible=20
forme to make lucene to become such a system with modest efforts? Or =
anyone=20
has done something on that?

Especially, to those of you have inside understanging of lucene, please =
help=20
me. Thanks a lot.

Shengli

=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 14:44:59 2003
Return-Path: 
 <lucene-user-return-6102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56336 invoked from network); 19 Nov 2003 14:44:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 14:44:59 -0000
Received: (qmail 67014 invoked by uid 500); 19 Nov 2003 14:44:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66988 invoked by uid 500); 19 Nov 2003 14:44:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66927 invoked from network); 19 Nov 2003 14:44:40 -0000
Received: from unknown (HELO web25208.mail.ukl.yahoo.com) (217.12.10.68)
  by daedalus.apache.org with SMTP; 19 Nov 2003 14:44:40 -0000
Message-ID: <20031119144240.45955.qmail@web25208.mail.ukl.yahoo.com>
Received: from [212.126.153.102] by web25208.mail.ukl.yahoo.com via HTTP;
 Wed, 19 Nov 2003 14:42:40 GMT
Date: Wed, 19 Nov 2003 14:42:40 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Document ID's and duplicates
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi folks,

I've got a feeling the answer to this has either been posted on here
recently, or is on the site somewhere - but i can't find it. Apologies
if i'm going over old ground.

What is the best way force documents to be only indexed once?

Is it a case of having a field with a unique value for the document and
searching the index for that field before adding?

If that is the way to do it, would it be a good idea to add an
additional field type which would take care of this behind the scenes?
Many people move to lucene after discovering the downfalls of text
searching in Databases (like me), and would love a "primary key" type
field.

Regards,
jt

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 14:56:25 2003
Return-Path: 
 <lucene-user-return-6103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63248 invoked from network); 19 Nov 2003 14:56:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 14:56:25 -0000
Received: (qmail 94187 invoked by uid 500); 19 Nov 2003 14:56:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94002 invoked by uid 500); 19 Nov 2003 14:56:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93989 invoked from network); 19 Nov 2003 14:56:15 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 19 Nov 2003 14:56:15 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA18357
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 15:58:53 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA18353
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 15:58:53 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id PAA26139
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 15:58:37 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <W0K3PBGP>; Wed, 19 Nov 2003 15:56:58 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA87@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Document ID's and duplicates
Date: Wed, 19 Nov 2003 15:56:54 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3AEAC.7D1C636A"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3AEAC.7D1C636A
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

You just have to add a field in your document object before adding it =
to the
index.
The field should be of "keyword" type. You can use a code of that kind =
:

	IndexWriter writer =3D new IndexWriter("path_to_your_index",
your_analyzer_object);=09

	Document doc =3D new Document();
	doc.add(Field.keyword("id"), (String)pkey); // add an "id" field
containig the "pkey" value (received from the db for instance)
	// you can add other fields here

	writer.addDocument(doc).
	writer.optimize();
	writer.close();

Gilles.
-----Message d'origine-----
De : jt oob [mailto:jt2oob@yahoo.co.uk]
Envoy=E9 : mercredi 19 novembre 2003 15:43
=C0 : Lucene-Users-List
Objet : Document ID's and duplicates


Hi folks,

I've got a feeling the answer to this has either been posted on here
recently, or is on the site somewhere - but i can't find it. Apologies
if i'm going over old ground.

What is the best way force documents to be only indexed once?

Is it a case of having a field with a unique value for the document and
searching the index for that field before adding?

If that is the way to do it, would it be a good idea to add an
additional field type which would take care of this behind the scenes?
Many people move to lucene after discovering the downfalls of text
searching in Databases (like me), and would love a "primary key" type
field.

Regards,
jt

________________________________________________________________________=

Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3AEAC.7D1C636A--

From MAILER-DAEMON Wed Nov 19 17:17:03 2003
Return-Path: 
 <lucene-user-return-6104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32558 invoked from network); 19 Nov 2003 17:17:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 17:17:03 -0000
Received: (qmail 49781 invoked by uid 500); 19 Nov 2003 17:16:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49752 invoked by uid 500); 19 Nov 2003 17:16:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49739 invoked from network); 19 Nov 2003 17:16:48 -0000
Received: from unknown (HELO XSERVE.devx.com) (64.160.58.51)
  by daedalus.apache.org with SMTP; 19 Nov 2003 17:16:48 -0000
x-mimeole: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Document ID's and duplicates
Date: Wed, 19 Nov 2003 09:14:29 -0800
Message-ID: <5F0615639112B341B17A6FC2D24C37480A0EF9@XSERVE.devx.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Document ID's and duplicates
Thread-Index: AcOurPdc3iMjkJWyRvmomn7fiXIsIgAE+TFg
From: "Don Kaiser" <dkaiser@devx.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you do this will the old version of the document be replaced by the =
new one?

-don

> -----Original Message-----
> From: MOYSE Gilles (Cetelem) [mailto:gilles.moyse@cetelem.fr]
> Sent: Wednesday, November 19, 2003 6:57 AM
> To: 'Lucene Users List'
> Subject: RE: Document ID's and duplicates
>=20
>=20
> Hi.
>=20
> You just have to add a field in your document object before=20
> adding it to the
> index.
> The field should be of "keyword" type. You can use a code of=20
> that kind :
>=20
> 	IndexWriter writer =3D new IndexWriter("path_to_your_index",
> your_analyzer_object);=09
>=20
> 	Document doc =3D new Document();
> 	doc.add(Field.keyword("id"), (String)pkey); // add an "id" field
> containig the "pkey" value (received from the db for instance)
> 	// you can add other fields here
>=20
> 	writer.addDocument(doc).
> 	writer.optimize();
> 	writer.close();
>=20
> Gilles.
> -----Message d'origine-----
> De : jt oob [mailto:jt2oob@yahoo.co.uk]
> Envoy=E9 : mercredi 19 novembre 2003 15:43
> =C0 : Lucene-Users-List
> Objet : Document ID's and duplicates
>=20
>=20
> Hi folks,
>=20
> I've got a feeling the answer to this has either been posted on here
> recently, or is on the site somewhere - but i can't find it. Apologies
> if i'm going over old ground.
>=20
> What is the best way force documents to be only indexed once?
>=20
> Is it a case of having a field with a unique value for the=20
> document and
> searching the index for that field before adding?
>=20
> If that is the way to do it, would it be a good idea to add an
> additional field type which would take care of this behind the scenes?
> Many people move to lucene after discovering the downfalls of text
> searching in Databases (like me), and would love a "primary key" type
> field.
>=20
> Regards,
> jt
>=20
> ______________________________________________________________
> __________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 17:19:37 2003
Return-Path: 
 <lucene-user-return-6105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34010 invoked from network); 19 Nov 2003 17:19:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 17:19:37 -0000
Received: (qmail 55705 invoked by uid 500); 19 Nov 2003 17:19:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55676 invoked by uid 500); 19 Nov 2003 17:19:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55663 invoked from network); 19 Nov 2003 17:19:22 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 19 Nov 2003 17:19:22 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAJHJQdm007252
	for <lucene-user@jakarta.apache.org>; Wed, 19 Nov 2003 09:19:26 -0800 (PST)
Received: from [10.0.1.30] (adsl-62-167-54-25.adslplus.ch [62.167.54.25])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAJHJOxO014224
	for <lucene-user@jakarta.apache.org>; Wed, 19 Nov 2003 09:19:25 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <5F0615639112B341B17A6FC2D24C37480A0EF9@XSERVE.devx.com>
References: <5F0615639112B341B17A6FC2D24C37480A0EF9@XSERVE.devx.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <88C12A1C-1AB4-11D8-B926-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Document ID's and duplicates
Date: Wed, 19 Nov 2003 18:19:29 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 19, 2003, at 18:14, Don Kaiser wrote:

> If you do this will the old version of the document be replaced by the 
> new one?

No. They will coexist. In Lucene, an update implies a delete/insert 
sequence.

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 19 17:37:21 2003
Return-Path: 
 <lucene-user-return-6106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42242 invoked from network); 19 Nov 2003 17:37:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Nov 2003 17:37:21 -0000
Received: (qmail 91388 invoked by uid 500); 19 Nov 2003 17:37:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91301 invoked by uid 500); 19 Nov 2003 17:37:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91288 invoked from network); 19 Nov 2003 17:37:08 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 19 Nov 2003 17:37:08 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id SAA21353
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 18:39:48 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id SAA21349
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 18:39:47 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id SAA17596
        for <lucene-user@jakarta.apache.org>;
 Wed, 19 Nov 2003 18:39:31 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <W0K3PFB9>; Wed, 19 Nov 2003 18:37:53 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA88@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Document ID's and duplicates
Date: Wed, 19 Nov 2003 18:37:52 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3AEC3.DB9B1609"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3AEC3.DB9B1609
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

If you want to replace a possibly existant document, you've got to

- check whether it exists or not
	let's assume your Lucene's primary key field is called "id"
	First, open an IndexReader
		IndexReader ir =3D IndexReader.open("your_index_path");

	Then, check the TermEnum associated with the value of the primary
key you're looking for (let's assume it s called "pkey") :
		TermDocs terms =3D ir.termDocs(new
org.apache.lucene.index.Term(LUCENE_FIELD_ID, pkey));

	if your keys are really primaries, the enumeration will be void or
contain one element.
So :
	if (terms.next()) //terms is not empty =3D> the pkey has been found =
=3D>
the document already exists =3D> we'll have to delete it before adding =
it
		ir.delete(terms.doc()); // delete the current document in
the TermDocs enumeration

	// Here, you perform the normal addition	=09


Gilles
=09

-----Message d'origine-----
De : Don Kaiser [mailto:dkaiser@devx.com]
Envoy=E9 : mercredi 19 novembre 2003 18:14
=C0 : Lucene Users List
Objet : RE: Document ID's and duplicates


If you do this will the old version of the document be replaced by the =
new
one?

-don

> -----Original Message-----
> From: MOYSE Gilles (Cetelem) [mailto:gilles.moyse@cetelem.fr]
> Sent: Wednesday, November 19, 2003 6:57 AM
> To: 'Lucene Users List'
> Subject: RE: Document ID's and duplicates
>=20
>=20
> Hi.
>=20
> You just have to add a field in your document object before=20
> adding it to the
> index.
> The field should be of "keyword" type. You can use a code of=20
> that kind :
>=20
> 	IndexWriter writer =3D new IndexWriter("path_to_your_index",
> your_analyzer_object);=09
>=20
> 	Document doc =3D new Document();
> 	doc.add(Field.keyword("id"), (String)pkey); // add an "id" field
> containig the "pkey" value (received from the db for instance)
> 	// you can add other fields here
>=20
> 	writer.addDocument(doc).
> 	writer.optimize();
> 	writer.close();
>=20
> Gilles.
> -----Message d'origine-----
> De : jt oob [mailto:jt2oob@yahoo.co.uk]
> Envoy=E9 : mercredi 19 novembre 2003 15:43
> =C0 : Lucene-Users-List
> Objet : Document ID's and duplicates
>=20
>=20
> Hi folks,
>=20
> I've got a feeling the answer to this has either been posted on here
> recently, or is on the site somewhere - but i can't find it. =
Apologies
> if i'm going over old ground.
>=20
> What is the best way force documents to be only indexed once?
>=20
> Is it a case of having a field with a unique value for the=20
> document and
> searching the index for that field before adding?
>=20
> If that is the way to do it, would it be a good idea to add an
> additional field type which would take care of this behind the =
scenes?
> Many people move to lucene after discovering the downfalls of text
> searching in Databases (like me), and would love a "primary key" type
> field.
>=20
> Regards,
> jt
>=20
> ______________________________________________________________
> __________
> Want to chat instantly with your online friends?  Get the FREE Yahoo!
> Messenger http://mail.messenger.yahoo.co.uk
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3AEC3.DB9B1609--

From MAILER-DAEMON Thu Nov 20 12:09:42 2003
Return-Path: 
 <lucene-user-return-6107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59216 invoked from network); 20 Nov 2003 12:09:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 12:09:42 -0000
Received: (qmail 61696 invoked by uid 500); 20 Nov 2003 12:09:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61527 invoked by uid 500); 20 Nov 2003 12:09:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61514 invoked from network); 20 Nov 2003 12:09:36 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 20 Nov 2003 12:09:36 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAKC9aIZ022942
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 04:09:36 -0800 (PST)
Received: from [10.0.1.30] (adsl-62-167-65-83.adslplus.ch [62.167.65.83])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAKC9YxO000448
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 04:09:35 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
Content-Transfer-Encoding: 7bit
Message-Id: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: petite_abeille <petite_abeille@mac.com>
Subject: moving documents from one index to another?
Date: Thu, 20 Nov 2003 13:09:40 +0100
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I'm trying to move a Document from one Index to another, without 
necessarily reindexing it...

The Document is composed of one Field.Keyword and a bunch of 
Field.UnStored.

Reading such a Document from one index and then adding it to another 
one doesn't seems to have the expected effect though.

Assuming that 'aReader' and 'aWriter' works on different indices:

aDocument = aReader.document( index );

aWriter.addDocument( aDocument );

The Document added to the second index doesn't seem to preserve its 
informations...

What gives? Should I do that at a lower level? Does it make sense in 
the first place to try to move a "raw" Lucene's Document between 
indices?

TIA.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 12:45:38 2003
Return-Path: 
 <lucene-user-return-6108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76775 invoked from network); 20 Nov 2003 12:45:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 12:45:38 -0000
Received: (qmail 10243 invoked by uid 500); 20 Nov 2003 12:45:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10219 invoked by uid 500); 20 Nov 2003 12:45:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10205 invoked from network); 20 Nov 2003 12:45:31 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 20 Nov 2003 12:45:31 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hAKCjSVp025789
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 13:45:28 +0100
Message-ID: <000b01c3af64$3189a300$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 13:45:35 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I'm trying to move a Document from one Index to another, without
> necessarily reindexing it...

If the document contains unstored fields, the only way to reconstruct
the document is by iterating through all terms in the index and picking
out those that reference the document. This is likely to be to
inefficient for any practical purposes...

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 13:08:11 2003
Return-Path: 
 <lucene-user-return-6109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88523 invoked from network); 20 Nov 2003 13:08:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 13:08:11 -0000
Received: (qmail 37068 invoked by uid 500); 20 Nov 2003 13:08:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37040 invoked by uid 500); 20 Nov 2003 13:08:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37013 invoked from network); 20 Nov 2003 13:08:03 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.84)
  by daedalus.apache.org with SMTP; 20 Nov 2003 13:08:03 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id hAKD84Ea006908
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:08:04 -0800 (PST)
Received: from [10.0.1.30] (adsl-62-167-123-90.adslplus.ch [62.167.123.90])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAKD82xO015473
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:08:03 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <000b01c3af64$3189a300$c300000a@caliente>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 14:08:08 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 20, 2003, at 13:45, Eric Jain wrote:

> If the document contains unstored fields, the only way to reconstruct
> the document is by iterating through all terms in the index and picking
> out those that reference the document.

Hmmm... how would you do that? Something along the lines of 
aReader.terms() and then for each Term use aReader.termDocs() to try to 
figure out which document it belongs to? Something else altogether? How 
do you move the doc/terms to the other index then?

>  This is likely to be to
> inefficient for any practical purposes...

That's ok :)

Alternatively, would it be possible to use FieldsReader/FieldsWriter or 
such to move the raw data from one index to the other without ill side 
effects?

TIA.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 13:13:55 2003
Return-Path: 
 <lucene-user-return-6110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93605 invoked from network); 20 Nov 2003 13:13:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 13:13:55 -0000
Received: (qmail 45521 invoked by uid 500); 20 Nov 2003 13:13:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45496 invoked by uid 500); 20 Nov 2003 13:13:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45475 invoked from network); 20 Nov 2003 13:13:46 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 20 Nov 2003 13:13:46 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hAKDDgVp027068
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 14:13:42 +0100
Message-ID: <000f01c3af68$23661ca0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
 <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 14:13:50 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Hmmm... how would you do that? Something along the lines of
> aReader.terms() and then for each Term use aReader.termDocs() to try
> to figure out which document it belongs to? Something else
> altogether? How do you move the doc/terms to the other index then?

That's what I had in mind, but maybe there is better way. Once all terms
are collected, they can be reassembled into a new document that that can
then be indexed again.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 13:25:47 2003
Return-Path: 
 <lucene-user-return-6111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3564 invoked from network); 20 Nov 2003 13:25:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 13:25:47 -0000
Received: (qmail 78239 invoked by uid 500); 20 Nov 2003 13:25:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78204 invoked by uid 500); 20 Nov 2003 13:25:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78189 invoked from network); 20 Nov 2003 13:25:38 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.97)
  by daedalus.apache.org with SMTP; 20 Nov 2003 13:25:38 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAKDPdpd004738
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:25:39 -0800 (PST)
Received: from [10.0.1.33] (adsl-62-167-123-90.adslplus.ch [62.167.123.90])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAKDPcPd018395
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:25:39 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <000f01c3af68$23661ca0$c300000a@caliente>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
 <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
 <000f01c3af68$23661ca0$c300000a@caliente>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0B1CE728-1B5D-11D8-A953-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 14:25:43 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 20, 2003, at 14:13, Eric Jain wrote:

> That's what I had in mind, but maybe there is better way. Once all 
> terms
> are collected, they can be reassembled into a new document that that 
> can
> then be indexed again.

I see. Assuming I have the relevant terms for a given document, how 
would a build a new document based on those terms? Something like 
adding each term's field and text to the new document? What would a 
term's text hold for an unstored field?

TIA.

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 13:34:27 2003
Return-Path: 
 <lucene-user-return-6112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8634 invoked from network); 20 Nov 2003 13:34:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 13:34:27 -0000
Received: (qmail 94352 invoked by uid 500); 20 Nov 2003 13:34:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94325 invoked by uid 500); 20 Nov 2003 13:34:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94312 invoked from network); 20 Nov 2003 13:34:18 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 20 Nov 2003 13:34:18 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hAKDYGVp028197
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 14:34:16 +0100
Message-ID: <00b801c3af6b$02b23220$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
 <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
 <000f01c3af68$23661ca0$c300000a@caliente>
 <0B1CE728-1B5D-11D8-A953-000393760B7E@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 14:34:23 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I see. Assuming I have the relevant terms for a given document, how
> would a build a new document based on those terms? Something like
> adding each term's field and text to the new document?

Yes.

> What would a term's text hold for an unstored field?

I believe a term always contains it's own text. (It must be somewhere,
after all...) Documents on the other hand may or may not contain the
original text, depending on whether a field is stored or not.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 13:51:32 2003
Return-Path: 
 <lucene-user-return-6113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21033 invoked from network); 20 Nov 2003 13:51:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 13:51:32 -0000
Received: (qmail 34727 invoked by uid 500); 20 Nov 2003 13:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34692 invoked by uid 500); 20 Nov 2003 13:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34675 invoked from network); 20 Nov 2003 13:51:24 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 20 Nov 2003 13:51:24 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAKDpPJT019242
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:51:25 -0800 (PST)
Received: from [10.0.1.33] (adsl-62-167-123-90.adslplus.ch [62.167.123.90])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id hAKDpNxO028742
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 05:51:24 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <00b801c3af6b$02b23220$c300000a@caliente>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
 <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
 <000f01c3af68$23661ca0$c300000a@caliente>
 <0B1CE728-1B5D-11D8-A953-000393760B7E@mac.com>
 <00b801c3af6b$02b23220$c300000a@caliente>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A3B9090C-1B60-11D8-A953-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 14:51:28 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 20, 2003, at 14:34, Eric Jain wrote:

> I believe a term always contains it's own text. (It must be somewhere,
> after all...) Documents on the other hand may or may not contain the
> original text, depending on whether a field is stored or not.

This seems to be the case: the term's text hold the correct value.

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 20 14:54:05 2003
Return-Path: 
 <lucene-user-return-6114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74036 invoked from network); 20 Nov 2003 14:54:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Nov 2003 14:54:05 -0000
Received: (qmail 60891 invoked by uid 500); 20 Nov 2003 14:53:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60864 invoked by uid 500); 20 Nov 2003 14:53:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60851 invoked from network); 20 Nov 2003 14:53:55 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 20 Nov 2003 14:53:55 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hAKErv9D005781
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 06:53:57 -0800 (PST)
Received: from [10.0.1.35] (adsl-62-167-123-90.adslplus.ch [62.167.123.90])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hAKErtPd019300
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 06:53:56 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <00b801c3af6b$02b23220$c300000a@caliente>
References: <6B1A54E4-1B52-11D8-9C15-000393760B7E@mac.com>
 <000b01c3af64$3189a300$c300000a@caliente>
 <95D01B32-1B5A-11D8-BBF7-000393760B7E@mac.com>
 <000f01c3af68$23661ca0$c300000a@caliente>
 <0B1CE728-1B5D-11D8-A953-000393760B7E@mac.com>
 <00b801c3af6b$02b23220$c300000a@caliente>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <60FBE034-1B69-11D8-A953-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: moving documents from one index to another?
Date: Thu, 20 Nov 2003 15:54:02 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Nov 20, 2003, at 14:34, Eric Jain wrote:

>> I see. Assuming I have the relevant terms for a given document, how
>> would a build a new document based on those terms? Something like
>> adding each term's field and text to the new document?
>
> Yes.

Ok. Retrieving the term for a document turns out to be pretty 
straightforward, but building a new document turns out to be slightly 
more convoluted than expected... I basically need to know which kind of 
field to create (Stored, Indexed, Tokenized), but this information 
doesn't seem to be available in the document I'm trying to clone. I 
thought I could use the original Document's getField() method to 
retrieve this information, but aside from the Keyword field, none of 
the other fields are available... where can I get this info at this 
stage?

Here is the problematic method for cloning a document:

	private Document cloneDocumentWithTerms(final Document aDocument, 
final Collection someTerms)
	{
		if ( aDocument != null )
		{
			if ( someTerms != null )
			{
				Document	anotherDocument = new Document();
				
				anotherDocument.setBoost( aDocument.getBoost() );
				
				 for ( Iterator anIterator = someTerms.iterator(); 
anIterator.hasNext(); )
				 {
					Term    aTerm = (Term) anIterator.next();
					String  aKey = aTerm.field();
					String  aValue = aTerm.text();
					Field   aField = aDocument.getField( aKey );
					boolean isStored = aField.isStored();
					boolean isIndexed = aField.isIndexed();
					boolean isTokenized = aField.isTokenized();
					Field   anotherField = new Field( aKey, aValue, isStored, 
isIndexed, isTokenized );
					
					anotherField.setBoost( aField.getBoost() );
					
					anotherDocument.add( anotherField );
				 }
				
				 return anotherDocument;
			}

			throw new IllegalArgumentException( "Index.cloneDocumentWithTerms: 
null terms." );
		}

		throw new IllegalArgumentException( "Index.cloneDocumentWithTerms: 
null document." );
	}

The problem is that aDocument.getField( aKey ) returns null most of the 
time. What gives?

TIA.

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 00:07:34 2003
Return-Path: 
 <lucene-user-return-6115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71389 invoked from network); 21 Nov 2003 00:07:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 00:07:34 -0000
Received: (qmail 31128 invoked by uid 500); 21 Nov 2003 00:07:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31095 invoked by uid 500); 21 Nov 2003 00:07:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31077 invoked from network); 21 Nov 2003 00:07:15 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.65)
  by daedalus.apache.org with SMTP; 21 Nov 2003 00:07:15 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 20 Nov 2003 16:07:22 -0800
Received: from 63.204.205.222 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 21 Nov 2003 00:07:22 GMT
X-Originating-IP: [63.204.205.222]
X-Originating-Email: [tamputampu@hotmail.com]
From: "sam s" <tamputampu@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 00:07:22 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F65Ur3CrJRxKZM0000087a@hotmail.com>
X-OriginalArrivalTime: 21 Nov 2003 00:07:22.0624 (UTC)
 FILETIME=[6FD55000:01C3AFC3]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am thinking to give spell check functionality to the search. I am trying 
to achieve two things to complement search.

1. Spell check where dictionary will be composed of all text I am creating 
search index. This looks simple with some spell check implementation.

2. The problem I am facing is how do I suggest right suggestion to a wrong 
word accompanied with other word. For example when user enters search term 
�inted� spell check returns suggestions inter, intel and intek. Now problem 
is when user searches �inted motherboard� how do I decide that user is 
searching for �intel motherboard�? Where there are some items contain text 
�intel motherboard�. How do I make context-based suggestions? Does anybody 
any simple algorithm for this.
I know this is not related to lucene but thought may get some help from 
community. Suggestions are appreciated.

Thanks in advance,
Sam

_________________________________________________________________
Tired of spam? Get advanced junk mail protection with MSN 8. 
http://join.msn.com/?page=features/junkmail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 00:35:27 2003
Return-Path: 
 <lucene-user-return-6116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85684 invoked from network); 21 Nov 2003 00:35:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 00:35:27 -0000
Received: (qmail 50628 invoked by uid 500); 21 Nov 2003 00:35:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50280 invoked by uid 500); 21 Nov 2003 00:35:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50265 invoked from network); 21 Nov 2003 00:35:05 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.47)
  by daedalus.apache.org with SMTP; 21 Nov 2003 00:35:05 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 20 Nov 2003 16:35:13 -0800
Received: from 63.204.205.222 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 21 Nov 2003 00:35:13 GMT
X-Originating-IP: [63.204.205.222]
X-Originating-Email: [tamputampu@hotmail.com]
From: "sam s" <tamputampu@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 00:35:13 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F47oMFYsDSzhxR0000097e@hotmail.com>
X-OriginalArrivalTime: 21 Nov 2003 00:35:13.0624 (UTC)
 FILETIME=[53D3AD80:01C3AFC7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I actually thought of using search for right combination of suggestions but 
I feared of performance degrade. I'll look at levenshtein.

Thanks

>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
>Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
>To: 'sam s ' <tamputampu@hotmail.com>
>Subject: RE: Context-based suggestions with spell check
>Date: Thu, 20 Nov 2003 19:22:51 -0500
>
>  I would also suggest 'intend' as a possible correction.
>
>There are a decent number of algorithms out there for distance between to
>words.  Check out levenshtein for that.
>
>In terms of context based corrections, you could do a search for the word
>combined with the word in front of it and the word behind it.
>
>"I just bought an inted motherboard"
>
>Then you do a search for "an inter", "an intel", etc and "inter
>motherboard", "intel motherboard", etc and count the number of hits you get
>for each one and rank your suggestions accordingly.
>
>
>-----Original Message-----
>From: sam s
>To: lucene-user@jakarta.apache.org
>Sent: 11/20/03 7:07 PM
>Subject: Context-based suggestions with spell check
>
>Hi,
>
>I am thinking to give spell check functionality to the search. I am
>trying
>to achieve two things to complement search.
>
>1. Spell check where dictionary will be composed of all text I am
>creating
>search index. This looks simple with some spell check implementation.
>
>2. The problem I am facing is how do I suggest right suggestion to a
>wrong
>word accompanied with other word. For example when user enters search
>term
>'inted' spell check returns suggestions inter, intel and intek. Now
>problem
>is when user searches 'inted motherboard' how do I decide that user is
>searching for 'intel motherboard'? Where there are some items contain
>text
>'intel motherboard'. How do I make context-based suggestions? Does
>anybody
>any simple algorithm for this.
>I know this is not related to lucene but thought may get some help from
>community. Suggestions are appreciated.
>
>Thanks in advance,
>Sam
>
>_________________________________________________________________
>Tired of spam? Get advanced junk mail protection with MSN 8.
>http://join.msn.com/?page=features/junkmail
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
http://join.msn.com/?page=features/featuredemail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 01:15:07 2003
Return-Path: 
 <lucene-user-return-6117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 935 invoked from network); 21 Nov 2003 01:15:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 01:15:07 -0000
Received: (qmail 83152 invoked by uid 500); 21 Nov 2003 01:14:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83054 invoked by uid 500); 21 Nov 2003 01:14:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83040 invoked from network); 21 Nov 2003 01:14:46 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.80)
  by daedalus.apache.org with SMTP; 21 Nov 2003 01:14:46 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 20 Nov 2003 17:14:54 -0800
Received: from 63.204.205.222 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 21 Nov 2003 01:14:53 GMT
X-Originating-IP: [63.204.205.222]
X-Originating-Email: [tamputampu@hotmail.com]
From: "sam s" <tamputampu@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 01:14:53 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F80y4MoSn03t3Z00000aef@hotmail.com>
X-OriginalArrivalTime: 21 Nov 2003 01:14:54.0039 (UTC)
 FILETIME=[DEAA2E70:01C3AFCC]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Levenshtein is again word based like spell check. I found Jazzy quite handy 
to some level for spell check. I am not worrying much about the spell check 
part. What I want to do is show user right spell check suggestion (when 
spell check returns multiple suggestions) based on other words he/she 
entered for the search.
Once again going to same example
User enters: inted motherboard
spell check returns 3 suggestions for inted
inter
intel
intek

In this situation since I have both words intel and motherboard in one 
document of my search collection I should able to show user something like
Did you mean: intel motherboard?

One simplest way to achieve this is do search 3 times for all three 
suggestions with word motherboard and show user suggestion for which search 
got more hits. Problem with this is number of iterations involved. If there 
are suggestions on two words user entered, there will be all kinds of 
combinations and those many iterations. So I dont want to go this way.

I haven't studied in detail how lucene does indexing and search on it. I 
don't know whether that will help.

Has anybody come across this problem? Or I must be missing something..

Again, I apologize if you guys think this is not right post for lucene user 
list.

Thanks,
Abhay


>From: "sam s" <tamputampu@hotmail.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: lucene-user@jakarta.apache.org
>Subject: RE: Context-based suggestions with spell check
>Date: Fri, 21 Nov 2003 00:35:13 +0000
>
>I actually thought of using search for right combination of suggestions but 
>I feared of performance degrade. I'll look at levenshtein.
>
>Thanks
>
>>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
>>Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
>>To: 'sam s ' <tamputampu@hotmail.com>
>>Subject: RE: Context-based suggestions with spell check
>>Date: Thu, 20 Nov 2003 19:22:51 -0500
>>
>>  I would also suggest 'intend' as a possible correction.
>>
>>There are a decent number of algorithms out there for distance between to
>>words.  Check out levenshtein for that.
>>
>>In terms of context based corrections, you could do a search for the word
>>combined with the word in front of it and the word behind it.
>>
>>"I just bought an inted motherboard"
>>
>>Then you do a search for "an inter", "an intel", etc and "inter
>>motherboard", "intel motherboard", etc and count the number of hits you 
>>get
>>for each one and rank your suggestions accordingly.
>>
>>
>>-----Original Message-----
>>From: sam s
>>To: lucene-user@jakarta.apache.org
>>Sent: 11/20/03 7:07 PM
>>Subject: Context-based suggestions with spell check
>>
>>Hi,
>>
>>I am thinking to give spell check functionality to the search. I am
>>trying
>>to achieve two things to complement search.
>>
>>1. Spell check where dictionary will be composed of all text I am
>>creating
>>search index. This looks simple with some spell check implementation.
>>
>>2. The problem I am facing is how do I suggest right suggestion to a
>>wrong
>>word accompanied with other word. For example when user enters search
>>term
>>'inted' spell check returns suggestions inter, intel and intek. Now
>>problem
>>is when user searches 'inted motherboard' how do I decide that user is
>>searching for 'intel motherboard'? Where there are some items contain
>>text
>>'intel motherboard'. How do I make context-based suggestions? Does
>>anybody
>>any simple algorithm for this.
>>I know this is not related to lucene but thought may get some help from
>>community. Suggestions are appreciated.
>>
>>Thanks in advance,
>>Sam
>>
>>_________________________________________________________________
>>Tired of spam? Get advanced junk mail protection with MSN 8.
>>http://join.msn.com/?page=features/junkmail
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>_________________________________________________________________
>Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
>http://join.msn.com/?page=features/featuredemail
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
http://join.msn.com/?page=features/junkmail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 01:33:20 2003
Return-Path: 
 <lucene-user-return-6118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7274 invoked from network); 21 Nov 2003 01:33:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 01:33:20 -0000
Received: (qmail 96771 invoked by uid 500); 21 Nov 2003 01:32:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96740 invoked by uid 500); 21 Nov 2003 01:32:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96727 invoked from network); 21 Nov 2003 01:32:59 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 21 Nov 2003 01:32:59 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id BC35B5D22
	for <lucene-user@jakarta.apache.org>; Thu, 20 Nov 2003 17:33:07 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAL1X7Yd029217
	for lucene-user@jakarta.apache.org; Thu, 20 Nov 2003 17:33:07 -0800 (PST)
	(envelope-from dror)
Date: Thu, 20 Nov 2003 17:33:07 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Context-based suggestions with spell check
Message-ID: <20031121013307.GS94919@rlx11.zapatec.com>
References: <BAY1-F80y4MoSn03t3Z00000aef@hotmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <BAY1-F80y4MoSn03t3Z00000aef@hotmail.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think that you're missing something. It's a hard problem, and
I'm not even convinced that doing several iterations will be as useful
as it sounds. 

I would guess, and a little experiment I just did seems to confirm it,
that google collects stats on searches rather than on the documents to
ask you "did you mean xxx." They of course have a few more searches to
built on than we do :-), to make it a useful tool.


By the way, as long as you just fetch the number of hits per search, and
don't actually fetch any data, the searches should be very fast, so
doing the search three times is not big deal.

Regards,

Dror

On Fri, Nov 21, 2003 at 01:14:53AM +0000, sam s wrote:
> Levenshtein is again word based like spell check. I found Jazzy quite handy 
> to some level for spell check. I am not worrying much about the spell check 
> part. What I want to do is show user right spell check suggestion (when 
> spell check returns multiple suggestions) based on other words he/she 
> entered for the search.
> Once again going to same example
> User enters: inted motherboard
> spell check returns 3 suggestions for inted
> inter
> intel
> intek
> 
> In this situation since I have both words intel and motherboard in one 
> document of my search collection I should able to show user something like
> Did you mean: intel motherboard?
> 
> One simplest way to achieve this is do search 3 times for all three 
> suggestions with word motherboard and show user suggestion for which search 
> got more hits. Problem with this is number of iterations involved. If there 
> are suggestions on two words user entered, there will be all kinds of 
> combinations and those many iterations. So I dont want to go this way.
> 
> I haven't studied in detail how lucene does indexing and search on it. I 
> don't know whether that will help.
> 
> Has anybody come across this problem? Or I must be missing something..
> 
> Again, I apologize if you guys think this is not right post for lucene user 
> list.
> 
> Thanks,
> Abhay
> 
> 
> >From: "sam s" <tamputampu@hotmail.com>
> >Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >To: lucene-user@jakarta.apache.org
> >Subject: RE: Context-based suggestions with spell check
> >Date: Fri, 21 Nov 2003 00:35:13 +0000
> >
> >I actually thought of using search for right combination of suggestions 
> >but I feared of performance degrade. I'll look at levenshtein.
> >
> >Thanks
> >
> >>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
> >>Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
> >>To: 'sam s ' <tamputampu@hotmail.com>
> >>Subject: RE: Context-based suggestions with spell check
> >>Date: Thu, 20 Nov 2003 19:22:51 -0500
> >>
> >> I would also suggest 'intend' as a possible correction.
> >>
> >>There are a decent number of algorithms out there for distance between to
> >>words.  Check out levenshtein for that.
> >>
> >>In terms of context based corrections, you could do a search for the word
> >>combined with the word in front of it and the word behind it.
> >>
> >>"I just bought an inted motherboard"
> >>
> >>Then you do a search for "an inter", "an intel", etc and "inter
> >>motherboard", "intel motherboard", etc and count the number of hits you 
> >>get
> >>for each one and rank your suggestions accordingly.
> >>
> >>
> >>-----Original Message-----
> >>From: sam s
> >>To: lucene-user@jakarta.apache.org
> >>Sent: 11/20/03 7:07 PM
> >>Subject: Context-based suggestions with spell check
> >>
> >>Hi,
> >>
> >>I am thinking to give spell check functionality to the search. I am
> >>trying
> >>to achieve two things to complement search.
> >>
> >>1. Spell check where dictionary will be composed of all text I am
> >>creating
> >>search index. This looks simple with some spell check implementation.
> >>
> >>2. The problem I am facing is how do I suggest right suggestion to a
> >>wrong
> >>word accompanied with other word. For example when user enters search
> >>term
> >>'inted' spell check returns suggestions inter, intel and intek. Now
> >>problem
> >>is when user searches 'inted motherboard' how do I decide that user is
> >>searching for 'intel motherboard'? Where there are some items contain
> >>text
> >>'intel motherboard'. How do I make context-based suggestions? Does
> >>anybody
> >>any simple algorithm for this.
> >>I know this is not related to lucene but thought may get some help from
> >>community. Suggestions are appreciated.
> >>
> >>Thanks in advance,
> >>Sam
> >>
> >>_________________________________________________________________
> >>Tired of spam? Get advanced junk mail protection with MSN 8.
> >>http://join.msn.com/?page=features/junkmail
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >_________________________________________________________________
> >Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
> >http://join.msn.com/?page=features/featuredemail
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> _________________________________________________________________
> STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
> http://join.msn.com/?page=features/junkmail
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 03:37:57 2003
Return-Path: 
 <lucene-user-return-6119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59832 invoked from network); 21 Nov 2003 03:37:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 03:37:57 -0000
Received: (qmail 75268 invoked by uid 500); 21 Nov 2003 03:37:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75236 invoked by uid 500); 21 Nov 2003 03:37:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75220 invoked from network); 21 Nov 2003 03:37:33 -0000
Received: from unknown (HELO smtp.hispeed.ch) (62.2.95.247)
  by daedalus.apache.org with SMTP; 21 Nov 2003 03:37:33 -0000
Received: from webmover.ch (dclient80-218-159-190.hispeed.ch [80.218.159.190])
	by smtp.hispeed.ch (8.12.6/8.12.6/tornado-1.0) with ESMTP id hAL3beJm016100
	for <lucene-user@jakarta.apache.org>; Fri, 21 Nov 2003 04:37:40 +0100
Message-ID: <3FBD88E7.50702@webmover.ch>
Date: Fri, 21 Nov 2003 04:39:19 +0100
From: Christoph Meier <christoph.meier@webmover.ch>
Reply-To: christoph.meier@webmover.ch
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: When is the right time to close() a Searcher?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

it look's like a cannot close a org.apache.lucene.search.Searcher
before iterating over the Hits
(for most of you this is obvious?)

however, if i do not close the Searcher, everything is fine (concerning 
the search an its results) but some ressources cannot be released as i 
read here in this mailing list.
(in "Lucene is not closing connections to index files")

i'll try to shortly explain what i did, and one of you may be can tell 
me when to close the Searcher (or what i completly did wrong)


I have a class "TestService" (preparing XML for some kind of response).

TestService calls the singleton CmsSearch for to query an Index.

//-------------------------------------------------------------
extract of Class CmsSearch (Exception-Handling not shown)
//-------------------------------------------------------------
public Hits searchCmsPages(String theQueryStr) throws BasicException {
   Searcher searcher = new IndexSearcher(getCmsPages_INDEX_location());
   Query query = QueryParser.parse(theQueryStr,             		 
TEXT_CONTENTS, getCmsPagesSearchAnalyzer());
   Hits hits = searcher.search(query);
   // searcher.close(); // (1)
   return hits;
}
//-------------------------------------------------------------


//-------------------------------------------------------------
extract of Class TestService (Exception-Handling not shown)
//-------------------------------------------------------------

String queryStr = (String) theRequest.getParameter("query");
if (queryStr == null || queryStr.length() == 0) {
aResponse.put("NO_QUERY_INPUT", "keine Suchparameter");
   return aResponse;
}else{
   Hits hits = null;
   BasicException searchEx = null;
   try{
     hits = search.searchCmsPages(queryStr);
   }catch(BasicException bex){
     searchEx = bex;
   }
   if (searchEx == null && hits!=null){
     Document luceneDoc = null;
       for (int i = 0; i < hits.length(); i++) {
         try {
           luceneDoc = hits.doc(i); // (2)
           // fetching some fields out of the luceneDoc ...	
         } catch (IOException e2) {
           searchEx = e2;
           break;
         }
       }
     }
   }
//---------

when i close the searcher (see Extract CmsSearch(1) above ), mostly 
everytime when getting a Lucene-Doc from Hits (2) an IOException is 
thrown: java.io.IOException: Bad file descriptor

Hm... is it NOT possible, to close the Searcher before iterating over 
the Hits?
Should i close the searcher after iterating?
Or would it make sense to keep a Searcher for a specific Index in a 
static Variable without closing it all the time?

thanks anyway,
greez,
christoph meier


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 10:46:07 2003
Return-Path: 
 <lucene-user-return-6120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34343 invoked from network); 21 Nov 2003 10:46:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 10:46:07 -0000
Received: (qmail 43056 invoked by uid 500); 21 Nov 2003 10:45:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43025 invoked by uid 500); 21 Nov 2003 10:45:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43012 invoked from network); 21 Nov 2003 10:45:35 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 21 Nov 2003 10:45:35 -0000
Message-ID: <20031121104549.56860.qmail@web12702.mail.yahoo.com>
Received: from [194.152.216.55] by web12702.mail.yahoo.com via HTTP;
 Fri, 21 Nov 2003 02:45:49 PST
Date: Fri, 21 Nov 2003 02:45:49 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: When is the right time to close() a Searcher?
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  christoph.meier@webmover.ch
In-Reply-To: <3FBD88E7.50702@webmover.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are going to be searching the same index, just keep that
instance of IndexSearcher around, and close it only when you no longer
need it, or when you detect that the index changed (e.g. docs
added/deleted), at which point you will want to close the old
IndexSearcher (or just throw it away and let the GC deal with it), and
get a new one.

This may actually exist as a FAQ, and if not, it's been addressed in
the past, so the list archives will have more information.

Otis

--- Christoph Meier <christoph.meier@webmover.ch> wrote:
> Hi
> 
> it look's like a cannot close a org.apache.lucene.search.Searcher
> before iterating over the Hits
> (for most of you this is obvious?)
> 
> however, if i do not close the Searcher, everything is fine
> (concerning 
> the search an its results) but some ressources cannot be released as
> i 
> read here in this mailing list.
> (in "Lucene is not closing connections to index files")
> 
> i'll try to shortly explain what i did, and one of you may be can
> tell 
> me when to close the Searcher (or what i completly did wrong)
> 
> 
> I have a class "TestService" (preparing XML for some kind of
> response).
> 
> TestService calls the singleton CmsSearch for to query an Index.
> 
> //-------------------------------------------------------------
> extract of Class CmsSearch (Exception-Handling not shown)
> //-------------------------------------------------------------
> public Hits searchCmsPages(String theQueryStr) throws BasicException
> {
>    Searcher searcher = new
> IndexSearcher(getCmsPages_INDEX_location());
>    Query query = QueryParser.parse(theQueryStr,             		 
> TEXT_CONTENTS, getCmsPagesSearchAnalyzer());
>    Hits hits = searcher.search(query);
>    // searcher.close(); // (1)
>    return hits;
> }
> //-------------------------------------------------------------
> 
> 
> //-------------------------------------------------------------
> extract of Class TestService (Exception-Handling not shown)
> //-------------------------------------------------------------
> 
> String queryStr = (String) theRequest.getParameter("query");
> if (queryStr == null || queryStr.length() == 0) {
> aResponse.put("NO_QUERY_INPUT", "keine Suchparameter");
>    return aResponse;
> }else{
>    Hits hits = null;
>    BasicException searchEx = null;
>    try{
>      hits = search.searchCmsPages(queryStr);
>    }catch(BasicException bex){
>      searchEx = bex;
>    }
>    if (searchEx == null && hits!=null){
>      Document luceneDoc = null;
>        for (int i = 0; i < hits.length(); i++) {
>          try {
>            luceneDoc = hits.doc(i); // (2)
>            // fetching some fields out of the luceneDoc ...	
>          } catch (IOException e2) {
>            searchEx = e2;
>            break;
>          }
>        }
>      }
>    }
> //---------
> 
> when i close the searcher (see Extract CmsSearch(1) above ), mostly 
> everytime when getting a Lucene-Doc from Hits (2) an IOException is 
> thrown: java.io.IOException: Bad file descriptor
> 
> Hm... is it NOT possible, to close the Searcher before iterating over
> 
> the Hits?
> Should i close the searcher after iterating?
> Or would it make sense to keep a Searcher for a specific Index in a 
> static Variable without closing it all the time?
> 
> thanks anyway,
> greez,
> christoph meier
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 13:39:16 2003
Return-Path: 
 <lucene-user-return-6121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8577 invoked from network); 21 Nov 2003 13:39:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 13:39:16 -0000
Received: (qmail 82105 invoked by uid 500); 21 Nov 2003 13:39:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81966 invoked by uid 500); 21 Nov 2003 13:39:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81953 invoked from network); 21 Nov 2003 13:39:08 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 21 Nov 2003 13:39:08 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 21 Nov 2003 08:39:08 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hALDd5x02214
	for <lucene-user@jakarta.apache.org>; Fri, 21 Nov 2003 08:39:07 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 08:39:05 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124120D@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Context-based suggestions with spell check
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOvxAxOL1MFM3pyQCC7ENWfBNUMWQAcI0Ag
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

for best results, you want to suggest from the dictionary if indexed =
terms in the collection. if the index has been created with named =
entities (not impossible but hard in the current Lucene system) you can =
get it pretty exact.

Herb...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 14:45:23 2003
Return-Path: 
 <lucene-user-return-6122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43902 invoked from network); 21 Nov 2003 14:45:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 14:45:23 -0000
Received: (qmail 95988 invoked by uid 500); 21 Nov 2003 14:45:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95798 invoked by uid 500); 21 Nov 2003 14:45:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95784 invoked from network); 21 Nov 2003 14:45:13 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 21 Nov 2003 14:45:13 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <V69XDBPM>; Fri, 21 Nov 2003 09:45:14 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C68011@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 09:45:13 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There are some important questions to ask before you discount performing all
of those searches.  What are your performance requirements?  How big is your
index?  How are you deploying it?

-----Original Message-----
From: sam s [mailto:tamputampu@hotmail.com]
Sent: Thursday, November 20, 2003 8:15 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Context-based suggestions with spell check


Levenshtein is again word based like spell check. I found Jazzy quite handy 
to some level for spell check. I am not worrying much about the spell check 
part. What I want to do is show user right spell check suggestion (when 
spell check returns multiple suggestions) based on other words he/she 
entered for the search.
Once again going to same example
User enters: inted motherboard
spell check returns 3 suggestions for inted
inter
intel
intek

In this situation since I have both words intel and motherboard in one 
document of my search collection I should able to show user something like
Did you mean: intel motherboard?

One simplest way to achieve this is do search 3 times for all three 
suggestions with word motherboard and show user suggestion for which search 
got more hits. Problem with this is number of iterations involved. If there 
are suggestions on two words user entered, there will be all kinds of 
combinations and those many iterations. So I dont want to go this way.

I haven't studied in detail how lucene does indexing and search on it. I 
don't know whether that will help.

Has anybody come across this problem? Or I must be missing something..

Again, I apologize if you guys think this is not right post for lucene user 
list.

Thanks,
Abhay


>From: "sam s" <tamputampu@hotmail.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: lucene-user@jakarta.apache.org
>Subject: RE: Context-based suggestions with spell check
>Date: Fri, 21 Nov 2003 00:35:13 +0000
>
>I actually thought of using search for right combination of suggestions but

>I feared of performance degrade. I'll look at levenshtein.
>
>Thanks
>
>>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
>>Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
>>To: 'sam s ' <tamputampu@hotmail.com>
>>Subject: RE: Context-based suggestions with spell check
>>Date: Thu, 20 Nov 2003 19:22:51 -0500
>>
>>  I would also suggest 'intend' as a possible correction.
>>
>>There are a decent number of algorithms out there for distance between to
>>words.  Check out levenshtein for that.
>>
>>In terms of context based corrections, you could do a search for the word
>>combined with the word in front of it and the word behind it.
>>
>>"I just bought an inted motherboard"
>>
>>Then you do a search for "an inter", "an intel", etc and "inter
>>motherboard", "intel motherboard", etc and count the number of hits you 
>>get
>>for each one and rank your suggestions accordingly.
>>
>>
>>-----Original Message-----
>>From: sam s
>>To: lucene-user@jakarta.apache.org
>>Sent: 11/20/03 7:07 PM
>>Subject: Context-based suggestions with spell check
>>
>>Hi,
>>
>>I am thinking to give spell check functionality to the search. I am
>>trying
>>to achieve two things to complement search.
>>
>>1. Spell check where dictionary will be composed of all text I am
>>creating
>>search index. This looks simple with some spell check implementation.
>>
>>2. The problem I am facing is how do I suggest right suggestion to a
>>wrong
>>word accompanied with other word. For example when user enters search
>>term
>>'inted' spell check returns suggestions inter, intel and intek. Now
>>problem
>>is when user searches 'inted motherboard' how do I decide that user is
>>searching for 'intel motherboard'? Where there are some items contain
>>text
>>'intel motherboard'. How do I make context-based suggestions? Does
>>anybody
>>any simple algorithm for this.
>>I know this is not related to lucene but thought may get some help from
>>community. Suggestions are appreciated.
>>
>>Thanks in advance,
>>Sam
>>
>>_________________________________________________________________
>>Tired of spam? Get advanced junk mail protection with MSN 8.
>>http://join.msn.com/?page=features/junkmail
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>_________________________________________________________________
>Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
>http://join.msn.com/?page=features/featuredemail
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
http://join.msn.com/?page=features/junkmail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 19:59:05 2003
Return-Path: 
 <lucene-user-return-6123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86295 invoked from network); 21 Nov 2003 19:59:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 19:59:05 -0000
Received: (qmail 34641 invoked by uid 500); 21 Nov 2003 19:58:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34604 invoked by uid 500); 21 Nov 2003 19:58:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34589 invoked from network); 21 Nov 2003 19:58:49 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.154)
  by daedalus.apache.org with SMTP; 21 Nov 2003 19:58:49 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 21 Nov 2003 11:58:54 -0800
Received: from 63.204.205.222 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 21 Nov 2003 19:58:54 GMT
X-Originating-IP: [63.204.205.222]
X-Originating-Email: [tamputampu@hotmail.com]
From: "sam s" <tamputampu@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: Context-based suggestions with spell check
Date: Fri, 21 Nov 2003 19:58:54 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F154J2NX1bR1Oh00003515@hotmail.com>
X-OriginalArrivalTime: 21 Nov 2003 19:58:54.0637 (UTC)
 FILETIME=[E464C5D0:01C3B069]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You are right, just for search it won�t take much time. I have relatively 
small index.

Almost all documents change daily. So one way I am thinking of updating 
index is creating new index set in a temp directory by other process. When 
time comes to update index then renaming in-use dir to archive dir and 
renaming temp dir to in-use dir. I am not sure whether this is a good idea, 
what do you say?

I have overall 70000 docs with around 20 fields where 3 fields contain more 
text. I have indexed and tokenized 11 fields. Average size of data I put in 
a document is 2 kb.

Thanks

>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
>Subject: RE: Context-based suggestions with spell check
>Date: Fri, 21 Nov 2003 09:45:13 -0500
>
>There are some important questions to ask before you discount performing 
>all
>of those searches.  What are your performance requirements?  How big is 
>your
>index?  How are you deploying it?
>
>-----Original Message-----
>From: sam s [mailto:tamputampu@hotmail.com]
>Sent: Thursday, November 20, 2003 8:15 PM
>To: lucene-user@jakarta.apache.org
>Subject: RE: Context-based suggestions with spell check
>
>
>Levenshtein is again word based like spell check. I found Jazzy quite handy
>to some level for spell check. I am not worrying much about the spell check
>part. What I want to do is show user right spell check suggestion (when
>spell check returns multiple suggestions) based on other words he/she
>entered for the search.
>Once again going to same example
>User enters: inted motherboard
>spell check returns 3 suggestions for inted
>inter
>intel
>intek
>
>In this situation since I have both words intel and motherboard in one
>document of my search collection I should able to show user something like
>Did you mean: intel motherboard?
>
>One simplest way to achieve this is do search 3 times for all three
>suggestions with word motherboard and show user suggestion for which search
>got more hits. Problem with this is number of iterations involved. If there
>are suggestions on two words user entered, there will be all kinds of
>combinations and those many iterations. So I dont want to go this way.
>
>I haven't studied in detail how lucene does indexing and search on it. I
>don't know whether that will help.
>
>Has anybody come across this problem? Or I must be missing something..
>
>Again, I apologize if you guys think this is not right post for lucene user
>list.
>
>Thanks,
>Abhay
>
>
> >From: "sam s" <tamputampu@hotmail.com>
> >Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >To: lucene-user@jakarta.apache.org
> >Subject: RE: Context-based suggestions with spell check
> >Date: Fri, 21 Nov 2003 00:35:13 +0000
> >
> >I actually thought of using search for right combination of suggestions 
>but
>
> >I feared of performance degrade. I'll look at levenshtein.
> >
> >Thanks
> >
> >>From: Dan Quaroni <dquaroni@OPENRATINGS.com>
> >>Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
> >>To: 'sam s ' <tamputampu@hotmail.com>
> >>Subject: RE: Context-based suggestions with spell check
> >>Date: Thu, 20 Nov 2003 19:22:51 -0500
> >>
> >>  I would also suggest 'intend' as a possible correction.
> >>
> >>There are a decent number of algorithms out there for distance between 
>to
> >>words.  Check out levenshtein for that.
> >>
> >>In terms of context based corrections, you could do a search for the 
>word
> >>combined with the word in front of it and the word behind it.
> >>
> >>"I just bought an inted motherboard"
> >>
> >>Then you do a search for "an inter", "an intel", etc and "inter
> >>motherboard", "intel motherboard", etc and count the number of hits you
> >>get
> >>for each one and rank your suggestions accordingly.
> >>
> >>
> >>-----Original Message-----
> >>From: sam s
> >>To: lucene-user@jakarta.apache.org
> >>Sent: 11/20/03 7:07 PM
> >>Subject: Context-based suggestions with spell check
> >>
> >>Hi,
> >>
> >>I am thinking to give spell check functionality to the search. I am
> >>trying
> >>to achieve two things to complement search.
> >>
> >>1. Spell check where dictionary will be composed of all text I am
> >>creating
> >>search index. This looks simple with some spell check implementation.
> >>
> >>2. The problem I am facing is how do I suggest right suggestion to a
> >>wrong
> >>word accompanied with other word. For example when user enters search
> >>term
> >>'inted' spell check returns suggestions inter, intel and intek. Now
> >>problem
> >>is when user searches 'inted motherboard' how do I decide that user is
> >>searching for 'intel motherboard'? Where there are some items contain
> >>text
> >>'intel motherboard'. How do I make context-based suggestions? Does
> >>anybody
> >>any simple algorithm for this.
> >>I know this is not related to lucene but thought may get some help from
> >>community. Suggestions are appreciated.
> >>
> >>Thanks in advance,
> >>Sam
> >>
> >>_________________________________________________________________
> >>Tired of spam? Get advanced junk mail protection with MSN 8.
> >>http://join.msn.com/?page=features/junkmail
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >_________________________________________________________________
> >Add photos to your e-mail with MSN 8. Get 2 months FREE*.
> >http://join.msn.com/?page=features/featuredemail
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>_________________________________________________________________
>STOP MORE SPAM with the new MSN 8 and get 2 months FREE*
>http://join.msn.com/?page=features/junkmail
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
http://join.msn.com/?page=features/featuredemail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 22:35:22 2003
Return-Path: 
 <lucene-user-return-6124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56750 invoked from network); 21 Nov 2003 22:35:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 22:35:22 -0000
Received: (qmail 94461 invoked by uid 500); 21 Nov 2003 22:35:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94433 invoked by uid 500); 21 Nov 2003 22:35:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94420 invoked from network); 21 Nov 2003 22:35:03 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 21 Nov 2003 22:35:03 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ANJrp-000424-00
	for <lucene-user@jakarta.apache.org>; Fri, 21 Nov 2003 23:35:09 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1ANJro-00041w-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 21 Nov 2003 23:35:08 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ANJrn-0000Zh-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 21 Nov 2003 23:35:07 +0100
From: "Jianshuo Niu" <jniu@wc-group.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Fri, 21 Nov 2003 17:34:56 -0500
Lines: 104
Message-ID: <pan.2003.11.21.22.34.56.371948@wc-group.com>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Pan/0.13.3 (That cat's something I can't explain)
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Victor:
�
I read� your post on lucene bug list. However, I try the change you
suggested, but it just changed "t-shirts" to "shirt".

I downloaded lucene1.3-rc1 source, changed the above line in
QueryParser.jj, and recompiled the source. After the change, the query I
got is: 

+(name:shirt)

before the change, the query was:

-(name:shirt)

I have the following two questions:

1. Did I get the results it supposes to be?
2. in your post, you mentioned only one line change: <#_TERM_CHAR: (
<_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
is this only line needs to change?
�

�

Thank you for time and help


Jianshuo


On Wed, 15 Oct 2003 10:51:28 +1000, Victor Hadianto wrote:

> Path: main.gmane.org!not-for-mail
> From: "Victor Hadianto" <vichad@hadianto.net>
> Newsgroups: gmane.comp.jakarta.lucene.user
> Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> Date: Wed, 15 Oct 2003 10:51:28 +1000
> Lines: 14
> Approved: news@gmane.org
> Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
> References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
> Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> NNTP-Posting-Host: deer.gmane.org
> X-Trace: sea.gmane.org 1066179098 25516 80.91.224.253 (15 Oct 2003 00:51:38
> 	GMT)
> X-Complaints-To: usenet@sea.gmane.org
> NNTP-Posting-Date: Wed, 15 Oct 2003 00:51:38 +0000 (UTC)
> Original-X-From:
> 	lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org Wed
> 	Oct 15 02:51:36 2003
> Return-path:
> 	<lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org>
> Original-Received: from daedalus.apache.org ([208.185.179.12]
> 	helo=mail.apache.org)
> 	by deer.gmane.org with smtp (Exim 3.35 #1 (Debian))
> 	id 1A9Zt1-0004Hs-00
> 	for <jak-lucene-user@gmane.org>; Wed, 15 Oct 2003 02:51:36 +0200
> Original-Received: (qmail 46864 invoked by uid 500); 15 Oct 2003 00:51:23
> 	-0000
> Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
> Precedence: bulk
> List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
> List-Help: <mailto:lucene-user-help@jakarta.apache.org>
> List-Post: <mailto:lucene-user@jakarta.apache.org>
> List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
> Delivered-To: mailing list lucene-user@jakarta.apache.org
> Original-Received: (qmail 46822 invoked from network); 15 Oct 2003 00:51:23
> 	-0000
> Original-Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99) 
> 	by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
> Original-Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au
> 	[203.51.7.52])
> 	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
> 	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
> Original-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> X-Priority: 3
> X-MSMail-Priority: Normal
> X-Mailer: Microsoft Outlook Express 6.00.2800.1158
> X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
> X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
> Xref: main.gmane.org gmane.comp.jakarta.lucene.user:4555
> X-Report-Spam: http://spam.gmane.org/gmane.comp.jakarta.lucene.user:4555
> MIME-Version: 1.0
> Content-Type: text/plain; charset=iso-8859-1
> Content-Transfer-Encoding: 7bit
> 
> 
>> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
>> > I believe this is the same problem that I had the other day. If you
>> > search
>> > the mailing list for "t-shirt" you should get some threads discussing
>> > this
>> > problem.
>>
>> Haha!  Better search for "shirt", not "t-shirt" :))
> 
> If the QueryParser implemented the solution that I suggested then "t-shirt"
> will get you the correct hits :)
> 
> 
> /vh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 21 23:56:55 2003
Return-Path: 
 <lucene-user-return-6125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88381 invoked from network); 21 Nov 2003 23:56:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Nov 2003 23:56:55 -0000
Received: (qmail 87144 invoked by uid 500); 21 Nov 2003 23:56:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87118 invoked by uid 500); 21 Nov 2003 23:56:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87105 invoked from network); 21 Nov 2003 23:56:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 21 Nov 2003 23:56:36 -0000
Received: (cpmta 11629 invoked from network); 21 Nov 2003 15:56:43 -0800
Received: from 24.126.42.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 21 Nov 2003 15:56:43 -0800
X-Sent: 21 Nov 2003 23:56:43 GMT
Date: Fri, 21 Nov 2003 15:57:09 -0800
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <pan.2003.11.21.22.34.56.371948@wc-group.com>
Message-Id: <6B3C240A-1C7E-11D8-94E7-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, November 21, 2003, at 02:34  PM, Jianshuo Niu wrote:
> I read=A0 your post on lucene bug list. However, I try the change you
> suggested, but it just changed "t-shirts" to "shirt".

What Analyzer are you using?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 22 16:22:57 2003
Return-Path: 
 <lucene-user-return-6126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27208 invoked from network); 22 Nov 2003 16:22:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Nov 2003 16:22:57 -0000
Received: (qmail 69588 invoked by uid 500); 22 Nov 2003 16:22:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69562 invoked by uid 500); 22 Nov 2003 16:22:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69549 invoked from network); 22 Nov 2003 16:22:45 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 22 Nov 2003 16:22:45 -0000
Received: from HP29375324311 (58alpha637.singnet.com.sg [165.21.210.135])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAMGMg20032385
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 00:22:46 +0800
Message-Id: <200311221622.hAMGMg20032385@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene refresh index function (incremental indexing).
Date: Sun, 23 Nov 2003 00:22:40 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0008_01C3B157.E84EDF20"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcOxFNlxF1XwGYiOQtqfX3NB0m9lqg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0008_01C3B157.E84EDF20
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

I am new here. 

May I know how to refresh indexes in Lucene immediately after new documents have
been added without re-compiling again to reindex the documents in that
particular directory?

Thanks. 

------=_NextPart_000_0008_01C3B157.E84EDF20--



From MAILER-DAEMON Sat Nov 22 20:44:28 2003
Return-Path: 
 <lucene-user-return-6127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98889 invoked from network); 22 Nov 2003 20:44:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Nov 2003 20:44:28 -0000
Received: (qmail 77738 invoked by uid 500); 22 Nov 2003 20:44:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77704 invoked by uid 500); 22 Nov 2003 20:44:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77690 invoked from network); 22 Nov 2003 20:44:11 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 22 Nov 2003 20:44:11 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 83F1BA941
	for <lucene-user@jakarta.apache.org>; Sat, 22 Nov 2003 12:44:17 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAMKiGQs033775
	for lucene-user@jakarta.apache.org; Sat, 22 Nov 2003 12:44:16 -0800 (PST)
	(envelope-from dror)
Date: Sat, 22 Nov 2003 12:44:16 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene refresh index function (incremental indexing).
Message-ID: <20031122204416.GB30893@rlx11.zapatec.com>
References: <200311221622.hAMGMg20032385@smtp21.singnet.com.sg>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200311221622.hAMGMg20032385@smtp21.singnet.com.sg>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

It's not clear what you mean when you say "refresh indexes"  or
"re-compiling." If you're adding new documents just use the add()
method. If you are replacing documents, you need to first delete the
old ones and then add them again. Look at the mailing list archive for
this, since it's been discussed several times.


On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> Hi,
> 
> I am new here. 
> 
> May I know how to refresh indexes in Lucene immediately after new documents have
> been added without re-compiling again to reindex the documents in that
> particular directory?
> 
> Thanks. 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 23 02:34:03 2003
Return-Path: 
 <lucene-user-return-6128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87593 invoked from network); 23 Nov 2003 02:34:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Nov 2003 02:34:03 -0000
Received: (qmail 76530 invoked by uid 500); 23 Nov 2003 02:33:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76498 invoked by uid 500); 23 Nov 2003 02:33:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76485 invoked from network); 23 Nov 2003 02:33:40 -0000
Received: from unknown (HELO server1070.gisol.com) (216.240.136.190)
  by daedalus.apache.org with SMTP; 23 Nov 2003 02:33:40 -0000
Received: from h0080c8146f54.ne.client2.attbi.com ([24.128.49.92] helo=Laptop)
	by server1070.gisol.com with esmtp (Exim 4.24)
	id 1ANk4H-0007Tj-9c
	for lucene-user@jakarta.apache.org; Sat, 22 Nov 2003 18:33:45 -0800
From: "Dion Almaer" <dion@almaer.com>
To: <lucene-user@jakarta.apache.org>
Subject: Dates and others
Date: Sat, 22 Nov 2003 21:33:44 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcOxajaYpx4NyXctSPOfCbGztOThFA==
Message-Id: <E1ANk4H-0007Tj-9c@server1070.gisol.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - server1070.gisol.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - almaer.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi guys -

First off I want to just give the Lucene project credit for producing an API like this.  Truly great
stuff.

I was just wondering if anyone could share some wisdom on a couple of issues:

1. The power of dates:
  
   I am fairly happy with the results of queries on my index.  The only issue I have is that at the
moment the date of the content isn't considered (since lucene doesn't know about it).  Is there a
good way in which the date of the content could be used to help with the scoring?  So more recent
content shows up higher in the stack.  I have a date keyword field, but it isn't part of the query
itself.  Are there any patterns to help with this?

2. +field:foo and the QueryParser:

   I ran into some problems where using +field:foo was giving strange results.  When I changed the
queries to "... AND field:foo" everything was fine.
   Am I missing something there?

3. I have some fields suck as title, owner, etc as well as the content blob which I index and use as
the default search field.  Is there an easy way to extend the QueryParser to merge it with a
MultiTermQuery which can also search this meta data and give them certain weights?  Or, if you go
down this path do you have to leave the QueryParser behind and build your own queries?  Any best
practices would be great.

Sorry for bugging the list.

Cheers,

Dion



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 23 03:49:57 2003
Return-Path: 
 <lucene-user-return-6129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1637 invoked from network); 23 Nov 2003 03:49:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Nov 2003 03:49:57 -0000
Received: (qmail 10878 invoked by uid 500); 23 Nov 2003 03:49:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10845 invoked by uid 500); 23 Nov 2003 03:49:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10832 invoked from network); 23 Nov 2003 03:49:33 -0000
Received: from unknown (HELO smtp15.singnet.com.sg) (165.21.6.35)
  by daedalus.apache.org with SMTP; 23 Nov 2003 03:49:33 -0000
Received: from HP29375324311 (58alpha602.singnet.com.sg [165.21.210.100])
	by smtp15.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAN3nP8D026479
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 11:49:37 +0800
Message-Id: <200311230349.hAN3nP8D026479@smtp15.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Sun, 23 Nov 2003 11:49:19 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <20031122204416.GB30893@rlx11.zapatec.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOxOWkJNR0vRzCBT++lORVNZdswfAAOyMgg
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I delete the old ones and add them again manually. But how do I reindex the
documents automatically without doing it manually? 

Please advise. 

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com] 
Sent: Sunday, November 23, 2003 4:44 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Hi,

It's not clear what you mean when you say "refresh indexes"  or "re-compiling."
If you're adding new documents just use the add() method. If you are replacing
documents, you need to first delete the old ones and then add them again. Look
at the mailing list archive for this, since it's been discussed several times.


On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> Hi,
> 
> I am new here. 
> 
> May I know how to refresh indexes in Lucene immediately after new 
> documents have been added without re-compiling again to reindex the 
> documents in that particular directory?
> 
> Thanks. 

--
Dror Matalon
Zapatec Inc
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 23 10:03:18 2003
Return-Path: 
 <lucene-user-return-6130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73697 invoked from network); 23 Nov 2003 10:03:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Nov 2003 10:03:18 -0000
Received: (qmail 53609 invoked by uid 500); 23 Nov 2003 10:02:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53580 invoked by uid 500); 23 Nov 2003 10:02:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53567 invoked from network); 23 Nov 2003 10:02:47 -0000
Received: from unknown (HELO smtpzilla2.xs4all.nl) (194.109.127.138)
  by daedalus.apache.org with SMTP; 23 Nov 2003 10:02:47 -0000
Received: from k7l (porta.xs4all.nl [80.127.24.69])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id hANA2x2N060790
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 11:02:59 +0100 (CET)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Dates and others
Date: Sun, 23 Nov 2003 11:02:59 -0800
User-Agent: KMail/1.4.3
References: <E1ANk4H-0007Tj-9c@server1070.gisol.com>
In-Reply-To: <E1ANk4H-0007Tj-9c@server1070.gisol.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200311231102.59309.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 22 November 2003 18:33, Dion Almaer wrote:
=2E..
>
> 1. The power of dates:
>
>    I am fairly happy with the results of queries on my index.  The only
> issue I have is that at the moment the date of the content isn't consid=
ered
> (since lucene doesn't know about it).  Is there a good way in which the
> date of the content could be used to help with the scoring?  So more re=
cent
> content shows up higher in the stack.  I have a date keyword field, but=
 it
> isn't part of the query itself.  Are there any patterns to help with th=
is?

You can use the Lucene date field, or use a keyword field eg. in yyyymmdd
format. However, Lucene's scoring is not based on the value of
a matching term, it's based on term frequencies in documents, on
the number of documents in the index containing the term, and
on the distance between terms (for proximity queries.)
You cannot make the document score depend directly on the value of=20
a (date) field in the document.
Btw, how big would you want the date influence to be in the score?

Sorting results by date has been discussed in the past,  see the archives=
=2E
You lose the document scores in this case.

> 2. +field:foo and the QueryParser:
>
>    I ran into some problems where using +field:foo was giving strange
> results.  When I changed the queries to "... AND field:foo" everything =
was
> fine.
>    Am I missing something there?

Which version of Lucene are you using? There have been
some fixes in the query parser of Lucene 1.2, but I don't know=20
precisely which.

> 3. I have some fields suck as title, owner, etc as well as the content =
blob
> which I index and use as the default search field.  Is there an easy wa=
y to
> extend the QueryParser to merge it with a MultiTermQuery which can also
> search this meta data and give them certain weights?  Or, if you go dow=
n

You can provide field weights at document indexing time (norms) and use a
MultiTermQuery for searching multiple fields. At query time you can
again use field weights.
I don't know how the scoring of the MultiTermQuery is done,
it might use the max. score over the fields of a document, or combine the
scores in the fields of a document.

> this path do you have to leave the QueryParser behind and build your ow=
n
> queries?  Any best practices would be great.

You have some options:
- create the MultiTermQuery from the query text, or
- index the default search field as a single field, eg. by concatenation,=
 and
evt. by inserting empty tokens in between to avoid proximity matches.
This has also been discussed recently, see eg. the discussion on
indexing of sentences.

Searching mutliple fields is normally a little slower than searching a
concatenated field. The actual difference depends on you data, so
you might experiment a bit. You might eg. index all fields
seperately, and also index a default concatenated field.

Kind regards,
Ype Kingma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 04:32:12 2003
Return-Path: 
 <lucene-user-return-6136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86944 invoked from network); 24 Nov 2003 04:32:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:32:12 -0000
Received: (qmail 6791 invoked by uid 500); 24 Nov 2003 04:31:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6759 invoked by uid 500); 24 Nov 2003 04:31:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6746 invoked from network); 24 Nov 2003 04:31:48 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:31:48 -0000
Received: (cpmta 2558 invoked from network); 23 Nov 2003 20:31:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 23 Nov 2003 20:31:56 -0800
X-Sent: 24 Nov 2003 04:31:56 GMT
Date: Sun, 23 Nov 2003 12:51:30 -0800
Subject: Re: Dates and others
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <E1ANk4H-0007Tj-9c@server1070.gisol.com>
Message-Id: <D0D0A52D-1DF6-11D8-BD93-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, November 22, 2003, at 06:33  PM, Dion Almaer wrote:
> 3. I have some fields suck as title, owner, etc as well as the content 
> blob which I index and use as
> the default search field.  Is there an easy way to extend the 
> QueryParser to merge it with a
> MultiTermQuery which can also search this meta data and give them 
> certain weights?  Or, if you go
> down this path do you have to leave the QueryParser behind and build 
> your own queries?  Any best
> practices would be great.

And Ype said:
You can provide field weights at document indexing time (norms) and use 
a
MultiTermQuery for searching multiple fields. At query time you can
again use field weights.
I don't know how the scoring of the MultiTermQuery is done,
it might use the max. score over the fields of a document, or combine 
the
scores in the fields of a document.
---- end Ype's reply cut and paste

I'm a little confused with this question and Ype's reply.  
MultiTermQuery is an abstract base class under Query, which is the 
parent for WildcardQuery and FuzzyQuery.

What I think you're after is using MultiFieldQueryParser, but you want 
to weight the fields differently.  You can add the boosts at indexing 
time using Field.setBoost.  Unfortunately at the moment 
MultiFieldQueryParser is not very extensible - there are some open 
issues with its subclassability but subclassing MFQP and overriding 
getFieldQuery will do the trick when the subclassing issues are 
resolved allowing you to boost at query time.

Making an educated guess at what you're doing with Lucene, Dion, I'd 
venture to say that boosting at indexing time is sufficient for your 
needs.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 23 23:32:02 2003
Return-Path: 
 <lucene-user-return-6131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99646 invoked from network); 23 Nov 2003 23:32:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Nov 2003 23:32:02 -0000
Received: (qmail 92804 invoked by uid 500); 23 Nov 2003 23:31:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92769 invoked by uid 500); 23 Nov 2003 23:31:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92755 invoked from network); 23 Nov 2003 23:31:43 -0000
Received: from unknown (HELO meteorology.ho.bom.gov.au) (134.178.8.99)
  by daedalus.apache.org with SMTP; 23 Nov 2003 23:31:43 -0000
Received: from MAGELLAN (magellan.bom.gov.au [134.178.8.177])
	by meteorology.ho.bom.gov.au (8.9.3+Sun/8.9.3) with SMTP id KAA26086
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 10:27:32 +1100 (EST)
Reply-To: <j.lubkowski@BoM.GOV.AU>
From: "Justyna Lubkowski" <j.lubkowski@BoM.GOV.AU>
To: <lucene-user@jakarta.apache.org>
Subject: lucene web demo problems
Date: Mon, 24 Nov 2003 10:31:36 +1100
Message-ID: <000801c3b219$f08b1880$b108b286@bom.gov.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've run into trouble while trying to get the lucene demo working, included
below is an error I'm getting.  I think I've followed the instructions set
out at http://jakarta.apache.org/lucene/docs/demo4.html

The package org.apache.lucene.analysis  has been placed in
tomcat/webapps/search/luceneweb/web/WEB-INF/classes/org/apache/lucene/analys
is

org.apache.jasper.JasperException: Unable to compile class for JSP An error
occurred at line: 36 in the jsp file: /web/results.jsp Generated servlet
error: [javac] Compiling 1 source file [javac]
/web/jakarta-tomcat-4.1.27/work/bomEng/localhost/jsp_search_luceneweb/web/re
sults_jsp.java:11: package org.apache.lucene.analysis does not exist [javac]
import org.apache.lucene.analysis.Analyzer; [javac]

Any ideas on where I'm going wrong would be appreciated.

Many thanks -

Justyna.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 23 23:34:01 2003
Return-Path: 
 <lucene-user-return-6132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99966 invoked from network); 23 Nov 2003 23:34:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Nov 2003 23:34:01 -0000
Received: (qmail 94329 invoked by uid 500); 23 Nov 2003 23:33:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94302 invoked by uid 500); 23 Nov 2003 23:33:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94289 invoked from network); 23 Nov 2003 23:33:42 -0000
Received: from unknown (HELO server1070.gisol.com) (216.240.136.190)
  by daedalus.apache.org with SMTP; 23 Nov 2003 23:33:42 -0000
Received: from h0080c8146f54.ne.client2.attbi.com ([24.128.49.92] helo=Laptop)
	by server1070.gisol.com with esmtp (Exim 4.24)
	id 1AO3jd-0002dG-SD
	for lucene-user@jakarta.apache.org; Sun, 23 Nov 2003 15:33:45 -0800
From: "Dion Almaer" <dion@almaer.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Dates and others
Date: Sun, 23 Nov 2003 18:33:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <200311231102.59309.ykingma@xs4all.nl>
Thread-Index: AcOxqPuVtnA+K0JvT9S/0K5nBctDTQAcIvWw
Message-Id: <E1AO3jd-0002dG-SD@server1070.gisol.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - server1070.gisol.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - almaer.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for responding Ype.

> -----Original Message-----
> From: Ype Kingma [mailto:ykingma@xs4all.nl] 
> Sent: Sunday, November 23, 2003 2:03 PM
> To: Lucene Users List
> Subject: Re: Dates and others
> 
> On Saturday 22 November 2003 18:33, Dion Almaer wrote:
> ...
> >
> > 1. The power of dates:
> >
> >    I am fairly happy with the results of queries on my index.  The 
> > only issue I have is that at the moment the date of the 
> content isn't 
> > considered (since lucene doesn't know about it).  Is there 
> a good way 
> > in which the date of the content could be used to help with the 
> > scoring?  So more recent content shows up higher in the 
> stack.  I have 
> > a date keyword field, but it isn't part of the query 
> itself.  Are there any patterns to help with this?
> 
> You can use the Lucene date field, or use a keyword field eg. 
> in yyyymmdd format. However, Lucene's scoring is not based on 
> the value of a matching term, it's based on term frequencies 
> in documents, on the number of documents in the index 
> containing the term, and on the distance between terms (for 
> proximity queries.) You cannot make the document score depend 
> directly on the value of a (date) field in the document.
> Btw, how big would you want the date influence to be in the score?
> 
> Sorting results by date has been discussed in the past,  see 
> the archives.
> You lose the document scores in this case.


Yeah this is tough.  I don't want to sort by date as then something that was a really low score but
was recent would show up at the top.
I think I will stick with giving the user the ability to say "between Jan 1 2003 and ..." instead.

This leads me to another issue actually.  On certain range queries I get exceptions:

Query: modifieddate:[1/1/03 TO 12/31/03]

org.apache.lucene.search.BooleanQuery$TooManyClauses
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
        at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
        at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:137)
        at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:188)
        at org.apache.lucene.search.Query.weight(Query.java:120)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
        at org.apache.lucene.search.Hits.<init>(Hits.java:80)
        at org.apache.lucene.search.Searcher.search(Searcher.java:71)
        at org.apache.lucene.search.Searcher.search(Searcher.java:65)
        at com.portal.util.search.IndexSearch.search(Unknown Source)
        at com.portal.util.search.IndexSearch.main(Unknown Source)

Has anyone run into this problem?


> > 2. +field:foo and the QueryParser:
> >
> >    I ran into some problems where using +field:foo was 
> giving strange 
> > results.  When I changed the queries to "... AND field:foo" 
> everything 
> > was fine.
> >    Am I missing something there?
> 
> Which version of Lucene are you using? There have been some 
> fixes in the query parser of Lucene 1.2, but I don't know 
> precisely which.


I am using 1.3 RC 2.  The AND workaround is fine... just caught me
by surprise.


> > 3. I have some fields suck as title, owner, etc as well as 
> the content 
> > blob which I index and use as the default search field.  Is 
> there an 
> > easy way to extend the QueryParser to merge it with a 
> MultiTermQuery 
> > which can also search this meta data and give them certain 
> weights?  
> > Or, if you go down
> 
> You can provide field weights at document indexing time 
> (norms) and use a MultiTermQuery for searching multiple 
> fields. At query time you can again use field weights.
> I don't know how the scoring of the MultiTermQuery is done, 
> it might use the max. score over the fields of a document, or 
> combine the scores in the fields of a document.


Yeah I will play with this.  For now adding the title to the main body does seem to work pretty
well,
so it may be good enough!

 
> > this path do you have to leave the QueryParser behind and 
> build your 
> > own queries?  Any best practices would be great.
> 
> You have some options:
> - create the MultiTermQuery from the query text, or
> - index the default search field as a single field, eg. by 
> concatenation, and evt. by inserting empty tokens in between 
> to avoid proximity matches.
> This has also been discussed recently, see eg. the discussion 
> on indexing of sentences.
> 
> Searching mutliple fields is normally a little slower than 
> searching a concatenated field. The actual difference depends 
> on you data, so you might experiment a bit. You might eg. 
> index all fields seperately, and also index a default 
> concatenated field.
> 
> Kind regards,
> Ype Kingma


Thanks a lot for the great ideas.

Dion


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 00:15:55 2003
Return-Path: 
 <lucene-user-return-6133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8305 invoked from network); 24 Nov 2003 00:15:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 00:15:55 -0000
Received: (qmail 20184 invoked by uid 500); 24 Nov 2003 00:15:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20159 invoked by uid 500); 24 Nov 2003 00:15:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20145 invoked from network); 24 Nov 2003 00:15:35 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 00:15:35 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAO0Ffn13392
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 18:15:42 -0600
Message-ID: <002c01c3b220$18c2c0e0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
 <pan.2003.11.21.22.34.56.371948@wc-group.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Mon, 24 Nov 2003 11:15:38 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

You missed another change in the file, if you follow that thread I later
attached a patch that changes another file (standard tokenizer). Hangon let
me try to find the patch for you.

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=764036

You also need to change standard tokenizer.

Hope this help.

/victor

----- Original Message ----- 
From: "Jianshuo Niu" <jniu@wc-group.com>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, November 22, 2003 9:34 AM
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?


> Dear Victor:
>
> I read your post on lucene bug list. However, I try the change you
> suggested, but it just changed "t-shirts" to "shirt".
>
> I downloaded lucene1.3-rc1 source, changed the above line in
> QueryParser.jj, and recompiled the source. After the change, the query I
> got is:
>
> +(name:shirt)
>
> before the change, the query was:
>
> -(name:shirt)
>
> I have the following two questions:
>
> 1. Did I get the results it supposes to be?
> 2. in your post, you mentioned only one line change: <#_TERM_CHAR: (
> <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> is this only line needs to change?
>
>
>
>
> Thank you for time and help
>
>
> Jianshuo
>
>
> On Wed, 15 Oct 2003 10:51:28 +1000, Victor Hadianto wrote:
>
> > Path: main.gmane.org!not-for-mail
> > From: "Victor Hadianto" <vichad@hadianto.net>
> > Newsgroups: gmane.comp.jakarta.lucene.user
> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> > Date: Wed, 15 Oct 2003 10:51:28 +1000
> > Lines: 14
> > Approved: news@gmane.org
> > Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
> > References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
> > Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > NNTP-Posting-Host: deer.gmane.org
> > X-Trace: sea.gmane.org 1066179098 25516 80.91.224.253 (15 Oct 2003
00:51:38
> > GMT)
> > X-Complaints-To: usenet@sea.gmane.org
> > NNTP-Posting-Date: Wed, 15 Oct 2003 00:51:38 +0000 (UTC)
> > Original-X-From:
> > lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org
Wed
> > Oct 15 02:51:36 2003
> > Return-path:
> > <lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org>
> > Original-Received: from daedalus.apache.org ([208.185.179.12]
> > helo=mail.apache.org)
> > by deer.gmane.org with smtp (Exim 3.35 #1 (Debian))
> > id 1A9Zt1-0004Hs-00
> > for <jak-lucene-user@gmane.org>; Wed, 15 Oct 2003 02:51:36 +0200
> > Original-Received: (qmail 46864 invoked by uid 500); 15 Oct 2003
00:51:23
> > -0000
> > Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
> > Precedence: bulk
> > List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
> > List-Help: <mailto:lucene-user-help@jakarta.apache.org>
> > List-Post: <mailto:lucene-user@jakarta.apache.org>
> > List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
> > Delivered-To: mailing list lucene-user@jakarta.apache.org
> > Original-Received: (qmail 46822 invoked from network); 15 Oct 2003
00:51:23
> > -0000
> > Original-Received: from unknown (HELO avalon.siteprotect.com)
(64.26.0.99)
> > by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
> > Original-Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au
> > [203.51.7.52])
> > by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
> > for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
> > Original-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > X-Priority: 3
> > X-MSMail-Priority: Normal
> > X-Mailer: Microsoft Outlook Express 6.00.2800.1158
> > X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
> > X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
> > Xref: main.gmane.org gmane.comp.jakarta.lucene.user:4555
> > X-Report-Spam: http://spam.gmane.org/gmane.comp.jakarta.lucene.user:4555
> > MIME-Version: 1.0
> > Content-Type: text/plain; charset=iso-8859-1
> > Content-Transfer-Encoding: 7bit
> >
> >
> >> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
> >> > I believe this is the same problem that I had the other day. If you
> >> > search
> >> > the mailing list for "t-shirt" you should get some threads discussing
> >> > this
> >> > problem.
> >>
> >> Haha!  Better search for "shirt", not "t-shirt" :))
> >
> > If the QueryParser implemented the solution that I suggested then
"t-shirt"
> > will get you the correct hits :)
> >
> >
> > /vh
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 02:39:07 2003
Return-Path: 
 <lucene-user-return-6134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50178 invoked from network); 24 Nov 2003 02:39:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 02:39:07 -0000
Received: (qmail 18735 invoked by uid 500); 24 Nov 2003 02:38:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18703 invoked by uid 500); 24 Nov 2003 02:38:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18684 invoked from network); 24 Nov 2003 02:38:44 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 24 Nov 2003 02:38:44 -0000
Received: from HP29375324311 ([155.69.58.214])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAO2cRsw006613
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 10:38:49 +0800
Message-Id: <200311240238.hAO2cRsw006613@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: Lucene version 1.3.
Date: Mon, 24 Nov 2003 10:38:22 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3B277.25ED0AD0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyM+oQ1Jp0PEPmThiCYFdX15jcqg==
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3B277.25ED0AD0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi,

Anyone knows when the full version of Lucene version 1.3 will be released? 

Please advise.

Thanks.

------=_NextPart_000_0000_01C3B277.25ED0AD0--


From MAILER-DAEMON Mon Nov 24 04:05:49 2003
Return-Path: 
 <lucene-user-return-6135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79500 invoked from network); 24 Nov 2003 04:05:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:05:49 -0000
Received: (qmail 95328 invoked by uid 500); 24 Nov 2003 04:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95301 invoked by uid 500); 24 Nov 2003 04:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95288 invoked from network); 24 Nov 2003 04:05:25 -0000
Received: from unknown (HELO localhost.localdomain) (66.93.132.237)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:05:25 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hAO45ZgU013725
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 20:05:35 -0800
Message-ID: <3FC1838E.9000600@newsmonster.org>
Date: Sun, 23 Nov 2003 20:05:34 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Objection to using /tmp for lock files.
References: <3FAEA3AB.5080506@newsmonster.org> <3FB3C128.30603@lucene.com>
In-Reply-To: <3FB3C128.30603@lucene.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> When I first read this changelog entry:
>>
>>  > 2. Changed file locking to place lock files in
>>  >    System.getProperty("java.io.tmpdir"), where all users are
>>  >    permitted to write files.  This way folks can open and correctly
>>  >    lock indexes which are read-only to them.
>>
>> I just assumed that this was an optional feature.
>>
>> I think this is a dangerous change and should be disabled by default 
>> (or only enabled with lock files can't be used due to read only media).
>
>
> Why is this dangerous?  Are you concerned about malicious users 
> locking indexes in a denial of service attack?  If so, perhaps we 
> should have an option to change where locks are stored, so that they 
> could be, e.g., moved to /var/lock/lucene or somesuch which could have 
> special protections.
>
> Before this patch, folks could not open an index in a read-only manner 
> unless they had write access to its directory.  I think that is a 
> larger bug and more dangerous, as it means that anyone who can search 
> an index can destroy it.
>
> I think it is proper that locks are not stored in the same place as 
> the index, as in many cases this is not writable by the searching 
> application, and the lock directory should be writable by all who can 
> read the index.

On machines with multiple users /tmp files this could potentially be 
used to DOS a machine.  It isn't a HUGE issue but is one regardless.

My major issue was to change behavior. I'm sure a lot of existing code 
depends on the current locking mechanism.

Since this is only for a RARE occasion (read only indexes) my suggestion 
is to keep the indexes where they were and have people enable this when 
they want readonly indexes.

Kevin

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 04:36:17 2003
Return-Path: 
 <lucene-user-return-6137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88021 invoked from network); 24 Nov 2003 04:36:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:36:17 -0000
Received: (qmail 9608 invoked by uid 500); 24 Nov 2003 04:35:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9579 invoked by uid 500); 24 Nov 2003 04:35:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9565 invoked from network); 24 Nov 2003 04:35:52 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:35:52 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAO4a1529846
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 22:36:01 -0600
Message-ID: <00e701c3b244$767c1730$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200311230349.hAN3nP8D026479@smtp15.singnet.com.sg>
Subject: Re: Lucene refresh index function (incremental indexing).
Date: Mon, 24 Nov 2003 15:35:58 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I delete the old ones and add them again manually. But how do I reindex
the
> documents automatically without doing it manually?

You don't need to reindex the documents again. Lucene does incremental
indexing. Just add your document to the index and that's it. You need to
create a new IndexSearcher to reflect the new changes into the your search
result.

/victor


>
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Sunday, November 23, 2003 4:44 AM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Hi,
>
> It's not clear what you mean when you say "refresh indexes"  or
"re-compiling."
> If you're adding new documents just use the add() method. If you are
replacing
> documents, you need to first delete the old ones and then add them again.
Look
> at the mailing list archive for this, since it's been discussed several
times.
>
>
> On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> > Hi,
> >
> > I am new here.
> >
> > May I know how to refresh indexes in Lucene immediately after new
> > documents have been added without re-compiling again to reindex the
> > documents in that particular directory?
> >
> > Thanks.
>
> --
> Dror Matalon
> Zapatec Inc
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 04:40:28 2003
Return-Path: 
 <lucene-user-return-6138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89083 invoked from network); 24 Nov 2003 04:40:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:40:28 -0000
Received: (qmail 11627 invoked by uid 500); 24 Nov 2003 04:40:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11593 invoked by uid 500); 24 Nov 2003 04:40:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11578 invoked from network); 24 Nov 2003 04:40:04 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:40:04 -0000
Received: (cpmta 9554 invoked from network); 23 Nov 2003 20:40:13 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 23 Nov 2003 20:40:13 -0800
X-Sent: 24 Nov 2003 04:40:13 GMT
Date: Sun, 23 Nov 2003 20:40:43 -0800
Subject: Re: Dates and others
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <E1AO3jd-0002dG-SD@server1070.gisol.com>
Message-Id: <5D01F5F2-1E38-11D8-938B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, November 23, 2003, at 03:33  PM, Dion Almaer wrote:
> This leads me to another issue actually.  On certain range queries I 
> get exceptions:
>
> Query: modifieddate:[1/1/03 TO 12/31/03]
>
> org.apache.lucene.search.BooleanQuery$TooManyClauses

I'm guessing you're using Field.Keyword(String, Date) for modifieddate? 
  The date field stuff in Lucene is really a timestamp, and doing a 
range query enumerates all the terms for that field in that ranging 
making a big ol' boolean OR query of all the individual ones.  Since 
you want this to be just a date, use Field.Keyword(String, "YYYYMMDD") 
instead.  But.... you'll want to subclass QueryParser and override 
getRangeQuery to do the right date format parsing from "MM/DD/YYYY" 
into "YYYYMMDD" rather than the internal Date representation Lucene 
uses for "date" fields.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 04:42:55 2003
Return-Path: 
 <lucene-user-return-6139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89653 invoked from network); 24 Nov 2003 04:42:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:42:55 -0000
Received: (qmail 16224 invoked by uid 500); 24 Nov 2003 04:42:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15896 invoked by uid 500); 24 Nov 2003 04:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15882 invoked from network); 24 Nov 2003 04:42:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:42:30 -0000
Received: (cpmta 9581 invoked from network); 23 Nov 2003 20:42:40 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 23 Nov 2003 20:42:40 -0800
X-Sent: 24 Nov 2003 04:42:40 GMT
Date: Sun, 23 Nov 2003 20:43:10 -0800
Subject: Re: Dates and others
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <E1AO3jd-0002dG-SD@server1070.gisol.com>
Message-Id: <B4783DDA-1E38-11D8-938B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, November 23, 2003, at 03:33  PM, Dion Almaer wrote:
>>> 2. +field:foo and the QueryParser:
>>>
>>>    I ran into some problems where using +field:foo was
>> giving strange
>>> results.  When I changed the queries to "... AND field:foo"
>> everything
>>> was fine.
>>>    Am I missing something there?
>>
>> Which version of Lucene are you using? There have been some
>> fixes in the query parser of Lucene 1.2, but I don't know
>> precisely which.
>
>
> I am using 1.3 RC 2.  The AND workaround is fine... just caught me
> by surprise.

If you run into the strange results again, try doing a 
Query.toString("field") to see what QueryParser thought of the query 
expression.  I'd be curious to know more about this issue.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 04:45:57 2003
Return-Path: 
 <lucene-user-return-6140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90063 invoked from network); 24 Nov 2003 04:45:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 04:45:57 -0000
Received: (qmail 17262 invoked by uid 500); 24 Nov 2003 04:45:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17231 invoked by uid 500); 24 Nov 2003 04:45:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17218 invoked from network); 24 Nov 2003 04:45:32 -0000
Received: from unknown (HELO smtp18.singnet.com.sg) (165.21.6.38)
  by daedalus.apache.org with SMTP; 24 Nov 2003 04:45:32 -0000
Received: from HP29375324311 ([155.69.58.38])
	by smtp18.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAO4jZwb012847
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 12:45:38 +0800
Message-Id: <200311240445.hAO4jZwb012847@smtp18.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Mon, 24 Nov 2003 12:45:27 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <00e701c3b244$767c1730$ce00a8c0@victor>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyRHqL3jAlr/HXTiaVkjCuBPhPKAAAOmwg
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Thanks for your reply.

What if I add a new document into the directory that I have compiled using the
following command: java org.apache.lucene.demo.IndexHTML -create -index
{index-dir} ..

Will it automatically reindex like I did manually to reflect the new document
being added in that particular directory?

Please advise.

-----Original Message-----
From: Victor Hadianto [mailto:vichad@hadianto.net] 
Sent: Monday, November 24, 2003 12:36 PM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

> I delete the old ones and add them again manually. But how do I 
> reindex
the
> documents automatically without doing it manually?

You don't need to reindex the documents again. Lucene does incremental indexing.
Just add your document to the index and that's it. You need to create a new
IndexSearcher to reflect the new changes into the your search result.

/victor


>
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Sunday, November 23, 2003 4:44 AM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Hi,
>
> It's not clear what you mean when you say "refresh indexes"  or
"re-compiling."
> If you're adding new documents just use the add() method. If you are
replacing
> documents, you need to first delete the old ones and then add them again.
Look
> at the mailing list archive for this, since it's been discussed 
> several
times.
>
>
> On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> > Hi,
> >
> > I am new here.
> >
> > May I know how to refresh indexes in Lucene immediately after new 
> > documents have been added without re-compiling again to reindex the 
> > documents in that particular directory?
> >
> > Thanks.
>
> --
> Dror Matalon
> Zapatec Inc
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 05:06:55 2003
Return-Path: 
 <lucene-user-return-6141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96425 invoked from network); 24 Nov 2003 05:06:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 05:06:55 -0000
Received: (qmail 31112 invoked by uid 500); 24 Nov 2003 05:06:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31086 invoked by uid 500); 24 Nov 2003 05:06:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31064 invoked from network); 24 Nov 2003 05:06:29 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 05:06:29 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAO56cP02939
	for <lucene-user@jakarta.apache.org>; Sun, 23 Nov 2003 23:06:39 -0600
Message-ID: <011301c3b248$be17b500$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200311240445.hAO4jZwb012847@smtp18.singnet.com.sg>
Subject: Re: Lucene refresh index function (incremental indexing).
Date: Mon, 24 Nov 2003 16:06:36 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah .. ic,

But you don't need to do that even if you can do it. Lucene does incremental
indexing. So you would create a new program to add your document manually
using IndexWriter, not blatting the index and doing it again.

Seems like you just trying out Lucene, I suggest having a look in the source
code of IndexHTML and you will see that there is no magic there, it just
traverse the directory and index the HTML file one by one using IndexWriter.

BTW you don't compile directory using Lucene .. :)

/victor

----- Original Message ----- 
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, November 24, 2003 3:45 PM
Subject: RE: Lucene refresh index function (incremental indexing).


> Hi,
>
> Thanks for your reply.
>
> What if I add a new document into the directory that I have compiled using
the
> following command: java org.apache.lucene.demo.IndexHTML -create -index
> {index-dir} ..
>
> Will it automatically reindex like I did manually to reflect the new
document
> being added in that particular directory?
>
> Please advise.
>
> -----Original Message-----
> From: Victor Hadianto [mailto:vichad@hadianto.net]
> Sent: Monday, November 24, 2003 12:36 PM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> > I delete the old ones and add them again manually. But how do I
> > reindex
> the
> > documents automatically without doing it manually?
>
> You don't need to reindex the documents again. Lucene does incremental
indexing.
> Just add your document to the index and that's it. You need to create a
new
> IndexSearcher to reflect the new changes into the your search result.
>
> /victor
>
>
> >
> > -----Original Message-----
> > From: Dror Matalon [mailto:dror@zapatec.com]
> > Sent: Sunday, November 23, 2003 4:44 AM
> > To: Lucene Users List
> > Subject: Re: Lucene refresh index function (incremental indexing).
> >
> > Hi,
> >
> > It's not clear what you mean when you say "refresh indexes"  or
> "re-compiling."
> > If you're adding new documents just use the add() method. If you are
> replacing
> > documents, you need to first delete the old ones and then add them
again.
> Look
> > at the mailing list archive for this, since it's been discussed
> > several
> times.
> >
> >
> > On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> > > Hi,
> > >
> > > I am new here.
> > >
> > > May I know how to refresh indexes in Lucene immediately after new
> > > documents have been added without re-compiling again to reindex the
> > > documents in that particular directory?
> > >
> > > Thanks.
> >
> > --
> > Dror Matalon
> > Zapatec Inc
> > 1700 MLK Way
> > Berkeley, CA 94709
> > http://www.fastbuzz.com
> > http://www.zapatec.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 08:07:06 2003
Return-Path: 
 <lucene-user-return-6142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52304 invoked from network); 24 Nov 2003 08:07:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 08:07:06 -0000
Received: (qmail 89146 invoked by uid 500); 24 Nov 2003 08:06:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89119 invoked by uid 500); 24 Nov 2003 08:06:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89097 invoked from network); 24 Nov 2003 08:06:37 -0000
Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.184)
  by daedalus.apache.org with SMTP; 24 Nov 2003 08:06:37 -0000
Received: from [212.227.126.162] (helo=mrelayng.kundenserver.de)
	by moutng8.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AOBk9-00024w-00
	for lucene-user@jakarta.apache.org; Mon, 24 Nov 2003 09:06:49 +0100
Received: from [212.144.83.211] (helo=puck.wire.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1AOBk8-0006Gm-00
	for lucene-user@jakarta.apache.org; Mon, 24 Nov 2003 09:06:48 +0100
From: Holger Klawitter <lists@klawitter.de>
To: lucene-user@jakarta.apache.org
Subject: Re: lucene web demo problems
Date: Mon, 24 Nov 2003 08:36:07 +0100
User-Agent: KMail/1.5.3
References: <000801c3b219$f08b1880$b108b286@bom.gov.au>
In-Reply-To: <000801c3b219$f08b1880$b108b286@bom.gov.au>
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200311240836.12474.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de
 auth:c3f09bf0911098d231c83d2978ee4594
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

> org.apache.jasper.JasperException: Unable to compile class for JSP An err=
or
> occurred at line: 36 in the jsp file: /web/results.jsp Generated servlet
> error: [javac] Compiling 1 source file [javac]
> /web/jakarta-tomcat-4.1.27/work/bomEng/localhost/jsp_search_luceneweb/web=
/r
>e sults_jsp.java:11: package org.apache.lucene.analysis does not exist
> [javac] import org.apache.lucene.analysis.Analyzer; [javac]
>
> Any ideas on where I'm going wrong would be appreciated.

* Is the directory (and the class file) readable for the user under which=20
tomcat is running?

* By the way, you can put the while .jar file into WEB-INF/lib - that way y=
ou=20
don't have to transfer class files one-by-one.

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
info@klawitter.de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQE/wbTs1Xdt0HKSwgYRApH2AJ4wP4xaoEDp1DpgvEluJJizQKz/QACaA9Lw
icZrdARXjHh5goiztj1WJOc=3D
=3DDgX9
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 08:33:36 2003
Return-Path: 
 <lucene-user-return-6143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77472 invoked from network); 24 Nov 2003 08:33:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 08:33:36 -0000
Received: (qmail 13985 invoked by uid 500); 24 Nov 2003 08:33:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13955 invoked by uid 500); 24 Nov 2003 08:33:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13942 invoked from network); 24 Nov 2003 08:33:07 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 24 Nov 2003 08:33:07 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 49BEF5D23
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 00:33:20 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAO8XKXl037068
	for lucene-user@jakarta.apache.org; Mon, 24 Nov 2003 00:33:20 -0800 (PST)
	(envelope-from dror)
Date: Mon, 24 Nov 2003 00:33:20 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: StandardAnalyzer defaults to OR on query
Message-ID: <20031124083319.GV30893@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

>>From 
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

	The OR operator is the default conjunction operator. This means that
	if there is no Boolean operator between two terms, the OR operator is
		used.

So "foo bar" is equivalent to "foo OR bar" and will probably return more
hits than just plain "foo" .

On the other hand when I go to google and type "foo" i get 4 million
hits, and if I type "foo bar" I get around 1 million hits, which seems
to indicate that it's equivalent to "foo AND bar" . That's my experience
of using google that the more keywords you add, the more specific the
query is, the less documents we get.

Personally, I don't mind too much, I can add the "AND" when I need them
and Lucene does return the documents that match both terms first. But
I'm worried that it'll confuse some users who are used to the google
approach.


Regards,

Dror



-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 08:37:22 2003
Return-Path: 
 <lucene-user-return-6144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79932 invoked from network); 24 Nov 2003 08:37:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 08:37:22 -0000
Received: (qmail 18105 invoked by uid 500); 24 Nov 2003 08:36:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18073 invoked by uid 500); 24 Nov 2003 08:36:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18060 invoked from network); 24 Nov 2003 08:36:52 -0000
Received: from unknown (HELO smtp15.singnet.com.sg) (165.21.6.35)
  by daedalus.apache.org with SMTP; 24 Nov 2003 08:36:52 -0000
Received: from HP29375324311 ([155.69.58.177])
	by smtp15.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAO8avwe021896
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 16:37:03 +0800
Message-Id: <200311240837.hAO8avwe021896@smtp15.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Mon, 24 Nov 2003 16:36:55 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <011301c3b248$be17b500$ce00a8c0@victor>
Thread-Index: AcOySMZA7q1KYxKPQlioPE2CgamqLAAG/oog
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you elaborate on "you don't compile directory using Lucene"? 

These are the steps I took:

1) I compile all the files in a particular directory using the command: 
java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
, putting all the indexed files in c:\\index.
2) Everytime, I added an additional file in that directory. I need to
reindex/recompile that directory to generate the indexes again. As the directory
gets larger, the indexing takes a longer time.

My question is how do I generate the indexes automatically everytime a new
document is added in that directory without me recompiling everytime manually? 

How does Lucene detect new documents to be added to the indexes?

I saw the codes but the indexes are only generated for that directory only after
I use the command mentioned above.

Is there a code or built in function that allows Lucene to detect and build the
indexes on its own?

-----Original Message-----
From: Victor Hadianto [mailto:vichad@hadianto.net] 
Sent: Monday, November 24, 2003 1:07 PM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Ah .. ic,

But you don't need to do that even if you can do it. Lucene does incremental
indexing. So you would create a new program to add your document manually using
IndexWriter, not blatting the index and doing it again.

Seems like you just trying out Lucene, I suggest having a look in the source
code of IndexHTML and you will see that there is no magic there, it just
traverse the directory and index the HTML file one by one using IndexWriter.

BTW you don't compile directory using Lucene .. :)

/victor

----- Original Message -----
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, November 24, 2003 3:45 PM
Subject: RE: Lucene refresh index function (incremental indexing).


> Hi,
>
> Thanks for your reply.
>
> What if I add a new document into the directory that I have compiled using
the
> following command: java org.apache.lucene.demo.IndexHTML -create -index
> {index-dir} ..
>
> Will it automatically reindex like I did manually to reflect the new
document
> being added in that particular directory?
>
> Please advise.
>
> -----Original Message-----
> From: Victor Hadianto [mailto:vichad@hadianto.net]
> Sent: Monday, November 24, 2003 12:36 PM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> > I delete the old ones and add them again manually. But how do I
> > reindex
> the
> > documents automatically without doing it manually?
>
> You don't need to reindex the documents again. Lucene does incremental
indexing.
> Just add your document to the index and that's it. You need to create a
new
> IndexSearcher to reflect the new changes into the your search result.
>
> /victor
>
>
> >
> > -----Original Message-----
> > From: Dror Matalon [mailto:dror@zapatec.com]
> > Sent: Sunday, November 23, 2003 4:44 AM
> > To: Lucene Users List
> > Subject: Re: Lucene refresh index function (incremental indexing).
> >
> > Hi,
> >
> > It's not clear what you mean when you say "refresh indexes"  or
> "re-compiling."
> > If you're adding new documents just use the add() method. If you are
> replacing
> > documents, you need to first delete the old ones and then add them
again.
> Look
> > at the mailing list archive for this, since it's been discussed
> > several
> times.
> >
> >
> > On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> > > Hi,
> > >
> > > I am new here.
> > >
> > > May I know how to refresh indexes in Lucene immediately after new
> > > documents have been added without re-compiling again to reindex the
> > > documents in that particular directory?
> > >
> > > Thanks.
> >
> > --
> > Dror Matalon
> > Zapatec Inc
> > 1700 MLK Way
> > Berkeley, CA 94709
> > http://www.fastbuzz.com
> > http://www.zapatec.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 09:13:44 2003
Return-Path: 
 <lucene-user-return-6145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95107 invoked from network); 24 Nov 2003 09:13:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 09:13:44 -0000
Received: (qmail 54852 invoked by uid 500); 24 Nov 2003 09:13:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54811 invoked by uid 500); 24 Nov 2003 09:13:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54797 invoked from network); 24 Nov 2003 09:13:14 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 09:13:14 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAO9DLp25813;
	Mon, 24 Nov 2003 03:13:22 -0600
Message-ID: <014e01c3b26b$35760e40$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <chentun@singnet.com.sg>
References: <200311240837.hAO8avwe021896@smtp15.singnet.com.sg>
Subject: Re: Lucene refresh index function (incremental indexing).
Date: Mon, 24 Nov 2003 20:13:19 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> 1) I compile all the files in a particular directory using the command:
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to
> reindex/recompile that directory to generate the indexes again. As the
directory
> gets larger, the indexing takes a longer time.
>
> My question is how do I generate the indexes automatically everytime a new
> document is added in that directory without me recompiling everytime
manually?

You can't, unless you write your own application that monitor the directory
for a new document added. This application then will just index that new
document withouth reindexing the entire document set.

If you do incremental indexing, the indexing does take longer as the
document base grows, but you shouldn't really have this problem until your
index size reached hundreds of megabytes.


victor


>
> -----Original Message-----
> From: Victor Hadianto [mailto:vichad@hadianto.net]
> Sent: Monday, November 24, 2003 1:07 PM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Ah .. ic,
>
> But you don't need to do that even if you can do it. Lucene does
incremental
> indexing. So you would create a new program to add your document manually
using
> IndexWriter, not blatting the index and doing it again.
>
> Seems like you just trying out Lucene, I suggest having a look in the
source
> code of IndexHTML and you will see that there is no magic there, it just
> traverse the directory and index the HTML file one by one using
IndexWriter.
>
> BTW you don't compile directory using Lucene .. :)
>
> /victor
>
> ----- Original Message -----
> From: "Tun Lin" <chentun@singnet.com.sg>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Monday, November 24, 2003 3:45 PM
> Subject: RE: Lucene refresh index function (incremental indexing).
>
>
> > Hi,
> >
> > Thanks for your reply.
> >
> > What if I add a new document into the directory that I have compiled
using
> the
> > following command: java org.apache.lucene.demo.IndexHTML -create -index
> > {index-dir} ..
> >
> > Will it automatically reindex like I did manually to reflect the new
> document
> > being added in that particular directory?
> >
> > Please advise.
> >
> > -----Original Message-----
> > From: Victor Hadianto [mailto:vichad@hadianto.net]
> > Sent: Monday, November 24, 2003 12:36 PM
> > To: Lucene Users List
> > Subject: Re: Lucene refresh index function (incremental indexing).
> >
> > > I delete the old ones and add them again manually. But how do I
> > > reindex
> > the
> > > documents automatically without doing it manually?
> >
> > You don't need to reindex the documents again. Lucene does incremental
> indexing.
> > Just add your document to the index and that's it. You need to create a
> new
> > IndexSearcher to reflect the new changes into the your search result.
> >
> > /victor
> >
> >
> > >
> > > -----Original Message-----
> > > From: Dror Matalon [mailto:dror@zapatec.com]
> > > Sent: Sunday, November 23, 2003 4:44 AM
> > > To: Lucene Users List
> > > Subject: Re: Lucene refresh index function (incremental indexing).
> > >
> > > Hi,
> > >
> > > It's not clear what you mean when you say "refresh indexes"  or
> > "re-compiling."
> > > If you're adding new documents just use the add() method. If you are
> > replacing
> > > documents, you need to first delete the old ones and then add them
> again.
> > Look
> > > at the mailing list archive for this, since it's been discussed
> > > several
> > times.
> > >
> > >
> > > On Sun, Nov 23, 2003 at 12:22:40AM +0800, Tun Lin wrote:
> > > > Hi,
> > > >
> > > > I am new here.
> > > >
> > > > May I know how to refresh indexes in Lucene immediately after new
> > > > documents have been added without re-compiling again to reindex the
> > > > documents in that particular directory?
> > > >
> > > > Thanks.
> > >
> > > --
> > > Dror Matalon
> > > Zapatec Inc
> > > 1700 MLK Way
> > > Berkeley, CA 94709
> > > http://www.fastbuzz.com
> > > http://www.zapatec.com
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 09:14:33 2003
Return-Path: 
 <lucene-user-return-6146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95496 invoked from network); 24 Nov 2003 09:14:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 09:14:33 -0000
Received: (qmail 57966 invoked by uid 500); 24 Nov 2003 09:14:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57939 invoked by uid 500); 24 Nov 2003 09:14:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57914 invoked from network); 24 Nov 2003 09:14:03 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 09:14:03 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAO9EEp26051
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 03:14:15 -0600
Message-ID: <015901c3b26b$54ca8870$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031124083319.GV30893@rlx11.zapatec.com>
Subject: Re: StandardAnalyzer defaults to OR on query
Date: Mon, 24 Nov 2003 20:14:12 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is an attribute in QueryParser that will let you set AND as the
default operator.

victor

----- Original Message ----- 
From: "Dror Matalon" <dror@zapatec.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, November 24, 2003 7:33 PM
Subject: StandardAnalyzer defaults to OR on query


> Hi,
>
> >From
> http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
>
> The OR operator is the default conjunction operator. This means that
> if there is no Boolean operator between two terms, the OR operator is
> used.
>
> So "foo bar" is equivalent to "foo OR bar" and will probably return more
> hits than just plain "foo" .
>
> On the other hand when I go to google and type "foo" i get 4 million
> hits, and if I type "foo bar" I get around 1 million hits, which seems
> to indicate that it's equivalent to "foo AND bar" . That's my experience
> of using google that the more keywords you add, the more specific the
> query is, the less documents we get.
>
> Personally, I don't mind too much, I can add the "AND" when I need them
> and Lucene does return the documents that match both terms first. But
> I'm worried that it'll confuse some users who are used to the google
> approach.
>
>
> Regards,
>
> Dror
>
>
>
> -- 
> Dror Matalon
> Zapatec Inc
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 10:55:18 2003
Return-Path: 
 <lucene-user-return-6147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38850 invoked from network); 24 Nov 2003 10:55:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 10:55:18 -0000
Received: (qmail 92220 invoked by uid 500); 24 Nov 2003 10:54:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92190 invoked by uid 500); 24 Nov 2003 10:54:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92171 invoked from network); 24 Nov 2003 10:54:46 -0000
Received: from unknown (HELO mail2.astercity.net) (212.76.33.39)
  by daedalus.apache.org with SMTP; 24 Nov 2003 10:54:46 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail2.astercity.net (sendmail) with ESMTP id A6A67246058
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 11:54:59 +0100 (CET)
Message-ID: <3FC1E2DE.7060800@getopt.org>
Date: Mon, 24 Nov 2003 11:52:14 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Fields with same name but different boosts
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I have the following problem: in my application I'm trying to store set 
of keywords and their weights. Since the number of keywords is variable 
(and can be as high as 40) I decided to use a single field to store it. 
In other words, I want to use a single field with multiple values to 
store a keyword histogram of the document.

Now, I'm wondering how do I encode the weight of keywords... If I do the 
following:

Field f = Field.Keyword("kw", "value1");
f.setBoost(10.0);
doc.add(f);
f = Field.Keyword("kw", "value2");
f.setBoost(20.0);
doc.add(f);

Now the question is: what is the boost value for the fields when I 
search? Is it equivalent to "value1^10.0 value2^20.0" (which is my 
intention), or rather "value1^20.0 value2^20.0"?

If the latter, do you have any suggestions how to achieve the original 
effect?

Thanks in advance!

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 11:03:20 2003
Return-Path: 
 <lucene-user-return-6148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41911 invoked from network); 24 Nov 2003 11:03:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 11:03:20 -0000
Received: (qmail 98382 invoked by uid 500); 24 Nov 2003 11:02:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98187 invoked by uid 500); 24 Nov 2003 11:02:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98152 invoked from network); 24 Nov 2003 11:02:47 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 24 Nov 2003 11:02:47 -0000
Message-ID: <20031124110301.78808.qmail@web12708.mail.yahoo.com>
Received: from [194.152.226.31] by web12708.mail.yahoo.com via HTTP;
 Mon, 24 Nov 2003 03:03:01 PST
Date: Mon, 24 Nov 2003 03:03:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene version 1.3.
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
In-Reply-To: <200311240238.hAO2cRsw006613@smtp21.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry, no firm date.  However, 1.3 RC2 is pretty solid, so I suggest
you just use that until 1.3 final is out.

Otis

--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> Anyone knows when the full version of Lucene version 1.3 will be
> released? 
> 
> Please advise.
> 
> Thanks.
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 14:07:32 2003
Return-Path: 
 <lucene-user-return-6149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53762 invoked from network); 24 Nov 2003 14:07:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 14:07:32 -0000
Received: (qmail 70661 invoked by uid 500); 24 Nov 2003 14:07:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70635 invoked by uid 500); 24 Nov 2003 14:07:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70621 invoked from network); 24 Nov 2003 14:07:22 -0000
Received: from unknown (HELO server1070.gisol.com) (216.240.136.190)
  by daedalus.apache.org with SMTP; 24 Nov 2003 14:07:22 -0000
Received: from h0080c8146f54.ne.client2.attbi.com ([24.128.49.92] helo=Laptop)
	by server1070.gisol.com with esmtp (Exim 4.24)
	id 1AOHN4-0001dc-5a
	for lucene-user@jakarta.apache.org; Mon, 24 Nov 2003 06:07:22 -0800
From: "Dion Almaer" <dion@almaer.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Dates and others
Date: Mon, 24 Nov 2003 09:07:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <5D01F5F2-1E38-11D8-938B-000393A564E6@ehatchersolutions.com>
Thread-Index: AcOyRQtiNl3TPhKrRlaWA3E1pvZHxAATwVSg
Message-Id: <E1AOHN4-0001dc-5a@server1070.gisol.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - server1070.gisol.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - almaer.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik -

Spot on. I should have listened to your advice from the talk and just used YYYYMMDD :)

Everything works nicely now that I do the conversion.

Thanks for the great ideas.

Dion 

> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> Sent: Sunday, November 23, 2003 11:41 PM
> To: Lucene Users List
> Subject: Re: Dates and others
> 
> On Sunday, November 23, 2003, at 03:33  PM, Dion Almaer wrote:
> > This leads me to another issue actually.  On certain range 
> queries I 
> > get exceptions:
> >
> > Query: modifieddate:[1/1/03 TO 12/31/03]
> >
> > org.apache.lucene.search.BooleanQuery$TooManyClauses
> 
> I'm guessing you're using Field.Keyword(String, Date) for 
> modifieddate? 
>   The date field stuff in Lucene is really a timestamp, and 
> doing a range query enumerates all the terms for that field 
> in that ranging making a big ol' boolean OR query of all the 
> individual ones.  Since you want this to be just a date, use 
> Field.Keyword(String, "YYYYMMDD") instead.  But.... you'll 
> want to subclass QueryParser and override getRangeQuery to do 
> the right date format parsing from "MM/DD/YYYY" 
> into "YYYYMMDD" rather than the internal Date representation 
> Lucene uses for "date" fields.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 17:23:19 2003
Return-Path: 
 <lucene-user-return-6150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91355 invoked from network); 24 Nov 2003 17:23:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 17:23:19 -0000
Received: (qmail 76905 invoked by uid 500); 24 Nov 2003 17:22:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76867 invoked by uid 500); 24 Nov 2003 17:22:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76788 invoked from network); 24 Nov 2003 17:22:49 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 24 Nov 2003 17:22:49 -0000
Received: (qmail 5032 invoked by uid 0); 24 Nov 2003 17:22:51 -0000
Received: from 193.63.235.44 by www4.gmx.net with HTTP;
	Mon, 24 Nov 2003 18:22:51 +0100 (MET)
Date: Mon, 24 Nov 2003 18:22:51 +0100 (MET)
From: "Ralf B " <ambiesense@gmx.de>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Similarity class
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <28699.1069694571@www4.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am a very beginner of Lucene und started to look into some articles and
the API documentation. I know the theories behind Information Retrieval and
want to find out about Lucene. I think it is the best Java API IR package
available nowadays.

One question:

The similarity class is abstract. Are there default implementations like in
other parts of this API (Analysers for example) available and how can I use
it i.e. to calculate weights? Are there some default implementations hidden in
other classes (i.e. in Hits) to calculate the term weighting. Does somebody
have some code which demonstrates the usage?

Kind Regards,
Ralf

-- 
GMX Weihnachts-Special: Seychellen-Traumreise zu gewinnen!

Rentier entlaufen. Finden Sie Rudolph! Als Belohnung winken
tolle Preise. http://www.gmx.net/de/cgi/specialmail/

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 17:28:25 2003
Return-Path: 
 <lucene-user-return-6151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94999 invoked from network); 24 Nov 2003 17:28:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 17:28:25 -0000
Received: (qmail 90265 invoked by uid 500); 24 Nov 2003 17:28:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90180 invoked by uid 500); 24 Nov 2003 17:28:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90167 invoked from network); 24 Nov 2003 17:28:13 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 Nov 2003 17:28:13 -0000
Message-ID: <20031124172815.40618.qmail@web12707.mail.yahoo.com>
Received: from [194.152.226.31] by web12707.mail.yahoo.com via HTTP;
 Mon, 24 Nov 2003 09:28:15 PST
Date: Mon, 24 Nov 2003 09:28:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Similarity class
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <28699.1069694571@www4.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It sounds like you missed this:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/DefaultSimilarity.html

You can write your own implementations and use it during indexing and
searching.

Otis

--- Ralf B  <ambiesense@gmx.de> wrote:
> Hi,
> 
> I am a very beginner of Lucene und started to look into some articles
> and
> the API documentation. I know the theories behind Information
> Retrieval and
> want to find out about Lucene. I think it is the best Java API IR
> package
> available nowadays.
> 
> One question:
> 
> The similarity class is abstract. Are there default implementations
> like in
> other parts of this API (Analysers for example) available and how can
> I use
> it i.e. to calculate weights? Are there some default implementations
> hidden in
> other classes (i.e. in Hits) to calculate the term weighting. Does
> somebody
> have some code which demonstrates the usage?
> 
> Kind Regards,
> Ralf
> 
> -- 
> GMX Weihnachts-Special: Seychellen-Traumreise zu gewinnen!
> 
> Rentier entlaufen. Finden Sie Rudolph! Als Belohnung winken
> tolle Preise. http://www.gmx.net/de/cgi/specialmail/
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 17:57:40 2003
Return-Path: 
 <lucene-user-return-6152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10348 invoked from network); 24 Nov 2003 17:57:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 17:57:40 -0000
Received: (qmail 77106 invoked by uid 500); 24 Nov 2003 17:57:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77079 invoked by uid 500); 24 Nov 2003 17:57:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77066 invoked from network); 24 Nov 2003 17:57:27 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 24 Nov 2003 17:57:27 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOHvRfw009162
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 09:57:27 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOHvQbI009159
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 09:57:26 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Mon, 24 Nov
 2003 09:57:26 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <574bb562c3.562c3574bb@lbl.gov>
Date: Mon, 24 Nov 2003 09:57:26 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: 1.2 javadoc
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a url that will take me to the javadocs for Lucene 1.2, rather than 1.3-rc2?

thanks,
--David


----- Original Message -----
From: Dion Almaer <dion@almaer.com>
Date: Monday, November 24, 2003 6:07 am
Subject: RE: Dates and others

> Erik -
> 
> Spot on. I should have listened to your advice from the talk and 
> just used YYYYMMDD :)
> 
> Everything works nicely now that I do the conversion.
> 
> Thanks for the great ideas.
> 
> Dion 
> 
> > -----Original Message-----
> > From: Erik Hatcher [erik@ehatchersolutions.com] 
> > Sent: Sunday, November 23, 2003 11:41 PM
> > To: Lucene Users List
> > Subject: Re: Dates and others
> > 
> > On Sunday, November 23, 2003, at 03:33  PM, Dion Almaer wrote:
> > > This leads me to another issue actually.  On certain range 
> > queries I 
> > > get exceptions:
> > >
> > > Query: modifieddate:[1/1/03 TO 12/31/03]
> > >
> > > org.apache.lucene.search.BooleanQuery$TooManyClauses
> > 
> > I'm guessing you're using Field.Keyword(String, Date) for 
> > modifieddate? 
> >   The date field stuff in Lucene is really a timestamp, and 
> > doing a range query enumerates all the terms for that field 
> > in that ranging making a big ol' boolean OR query of all the 
> > individual ones.  Since you want this to be just a date, use 
> > Field.Keyword(String, "YYYYMMDD") instead.  But.... you'll 
> > want to subclass QueryParser and override getRangeQuery to do 
> > the right date format parsing from "MM/DD/YYYY" 
> > into "YYYYMMDD" rather than the internal Date representation 
> > Lucene uses for "date" fields.
> > 
> > 	Erik
> > 
> > 
> > ------------------------------------------------------------------
> ---
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> 
> 
> --------------------------------------------------------------------
> -
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 18:12:25 2003
Return-Path: 
 <lucene-user-return-6153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17136 invoked from network); 24 Nov 2003 18:12:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 18:12:25 -0000
Received: (qmail 13700 invoked by uid 500); 24 Nov 2003 18:12:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13669 invoked by uid 500); 24 Nov 2003 18:12:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13647 invoked from network); 24 Nov 2003 18:12:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 24 Nov 2003 18:12:11 -0000
Received: (cpmta 6778 invoked from network); 24 Nov 2003 10:12:14 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 24 Nov 2003 10:12:14 -0800
X-Sent: 24 Nov 2003 18:12:14 GMT
Date: Mon, 24 Nov 2003 13:12:11 -0500
Subject: Re: 1.2 javadoc
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <574bb562c3.562c3574bb@lbl.gov>
Message-Id: <B97B7B96-1EA9-11D8-BFD1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, November 24, 2003, at 12:57  PM, DMGoodstein@lbl.gov wrote:
> Is there a url that will take me to the javadocs for Lucene 1.2, 
> rather than 1.3-rc2?

No, but the 1.2 binary distribution ships with the javadocs, I believe. 
  And, of course, they would be easy to generate from the 1.2 source 
distribution.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 18:22:09 2003
Return-Path: 
 <lucene-user-return-6154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21786 invoked from network); 24 Nov 2003 18:22:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 18:22:09 -0000
Received: (qmail 30903 invoked by uid 500); 24 Nov 2003 18:21:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30877 invoked by uid 500); 24 Nov 2003 18:21:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30864 invoked from network); 24 Nov 2003 18:21:54 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 24 Nov 2003 18:21:54 -0000
Received: (cpmta 17211 invoked from network); 24 Nov 2003 10:21:57 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 24 Nov 2003 10:21:57 -0800
X-Sent: 24 Nov 2003 18:21:57 GMT
Date: Mon, 24 Nov 2003 13:21:09 -0500
Subject: Re: Similarity class
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <28699.1069694571@www4.gmx.net>
Message-Id: <F9E50512-1EAA-11D8-BFD1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, November 24, 2003, at 12:22  PM, Ralf B wrote:
> One question:
>
> The similarity class is abstract. Are there default implementations 
> like in
> other parts of this API (Analysers for example) available and how can 
> I use
> it i.e. to calculate weights? Are there some default implementations 
> hidden in
> other classes (i.e. in Hits) to calculate the term weighting. Does 
> somebody
> have some code which demonstrates the usage?

Well, nothing is "hidden" when you have a nice IDE :))

In IntelliJ, I did this:

- Ctrl-n, typed "simi" followed by return, which took me to 
Similarity.java
- Ctrl-h

Two subclasses appeared: DefaultSimilarity, and 
TestSimilarity.SimpleSimilarity.

So there are two subclasses within Lucene's codebase, one used for 
testing.  To see it's usage, have a look at TestSimilarity.  The test 
cases are a great place to look for "documentation".

As for weighting - the scoring process uses weighting based on the type 
of query - look at the Query class and its subclasses to see those 
details.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 19:03:40 2003
Return-Path: 
 <lucene-user-return-6155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44153 invoked from network); 24 Nov 2003 19:03:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 19:03:40 -0000
Received: (qmail 7591 invoked by uid 500); 24 Nov 2003 19:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7562 invoked by uid 500); 24 Nov 2003 19:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7545 invoked from network); 24 Nov 2003 19:03:26 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 24 Nov 2003 19:03:26 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAOJ3Te05402
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 14:03:30 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOV00701E9TPJ@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 24 Nov 2003 14:03:29 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOV002DPE9T66@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 24 Nov 2003 14:03:29 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Mon,
 24 Nov 2003 14:03:28 -0500
Date: Mon, 24 Nov 2003 14:03:28 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Score
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E665@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Similarity class
Thread-Index: AcOysUmhouFf3ffYT+KcLU3iDv9O9QADCnMQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 24 Nov 2003 19:03:28.0932 (UTC)
 FILETIME=[A55BB640:01C3B2BD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm using the Multi Field Search to search all the fields of my
documents during the search. 

When it returns results the scores are numerically low - .06, .17, etc.
I would think if I searched for "Dog" and there was a doc with "Dog" in
the title and several times in the contents of a document that it would
receive a score more like 1.0 or close to it.

Is there a way that I can tweak the score?

I tried using Boost but that did absolutely nothing.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 19:04:05 2003
Return-Path: 
 <lucene-user-return-6156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44526 invoked from network); 24 Nov 2003 19:04:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 19:04:05 -0000
Received: (qmail 9094 invoked by uid 500); 24 Nov 2003 19:03:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9061 invoked by uid 500); 24 Nov 2003 19:03:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9047 invoked from network); 24 Nov 2003 19:03:51 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 24 Nov 2003 19:03:51 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 5A3D65D24
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 11:03:55 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAOJ3s3m038173
	for lucene-user@jakarta.apache.org; Mon, 24 Nov 2003 11:03:54 -0800 (PST)
	(envelope-from dror)
Date: Mon, 24 Nov 2003 11:03:54 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: StandardAnalyzer defaults to OR on query
Message-ID: <20031124190354.GW30893@rlx11.zapatec.com>
References: <20031124083319.GV30893@rlx11.zapatec.com>
 <015901c3b26b$54ca8870$ce00a8c0@victor>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <015901c3b26b$54ca8870$ce00a8c0@victor>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I see

setOperator(DEFAULT_OPERATOR_AND);

Maybe the docs should be changed not to say
"The only method that clients should need to call is parse()."

Thanks for the pointer,

Dror

On Mon, Nov 24, 2003 at 08:14:12PM +1100, Victor Hadianto wrote:
> There is an attribute in QueryParser that will let you set AND as the
> default operator.
> 
> victor
> 
> ----- Original Message ----- 
> From: "Dror Matalon" <dror@zapatec.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, November 24, 2003 7:33 PM
> Subject: StandardAnalyzer defaults to OR on query
> 
> 
> > Hi,
> >
> > >From
> > http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
> >
> > The OR operator is the default conjunction operator. This means that
> > if there is no Boolean operator between two terms, the OR operator is
> > used.
> >
> > So "foo bar" is equivalent to "foo OR bar" and will probably return more
> > hits than just plain "foo" .
> >
> > On the other hand when I go to google and type "foo" i get 4 million
> > hits, and if I type "foo bar" I get around 1 million hits, which seems
> > to indicate that it's equivalent to "foo AND bar" . That's my experience
> > of using google that the more keywords you add, the more specific the
> > query is, the less documents we get.
> >
> > Personally, I don't mind too much, I can add the "AND" when I need them
> > and Lucene does return the documents that match both terms first. But
> > I'm worried that it'll confuse some users who are used to the google
> > approach.
> >
> >
> > Regards,
> >
> > Dror
> >
> >
> >
> > -- 
> > Dror Matalon
> > Zapatec Inc
> > 1700 MLK Way
> > Berkeley, CA 94709
> > http://www.fastbuzz.com
> > http://www.zapatec.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 20:04:34 2003
Return-Path: 
 <lucene-user-return-6158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78326 invoked from network); 24 Nov 2003 20:04:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 20:04:34 -0000
Received: (qmail 14839 invoked by uid 500); 24 Nov 2003 20:04:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14818 invoked by uid 500); 24 Nov 2003 20:04:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14805 invoked from network); 24 Nov 2003 20:04:18 -0000
Received: from unknown (HELO sideshow.mainstreamdata.com) (209.63.42.31)
  by daedalus.apache.org with SMTP; 24 Nov 2003 20:04:18 -0000
Received: by sideshow.mainstreamdata.com with Internet Mail Service
 (5.5.2657.72)
	id <WNK61PD5>; Mon, 24 Nov 2003 13:04:22 -0700
Message-ID: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF780360@sideshow.mainstreamdata.com>
From: Scott Smith <SSmith@MainstreamData.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>,
	"'chentun@singnet.com.sg'" <chentun@singnet.com.sg>
Subject: RE: Lucene version 1.3.
Date: Mon, 24 Nov 2003 13:04:19 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you had to be production in January, would you be using 1.3RC2 or 1.2?

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Monday, November 24, 2003 4:03 AM
To: Lucene Users List; chentun@singnet.com.sg
Subject: Re: Lucene version 1.3.


Sorry, no firm date.  However, 1.3 RC2 is pretty solid, so I suggest you
just use that until 1.3 final is out.

Otis

--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> Anyone knows when the full version of Lucene version 1.3 will be 
> released?
> 
> Please advise.
> 
> Thanks.
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 20:25:17 2003
Return-Path: 
 <lucene-user-return-6159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96806 invoked from network); 24 Nov 2003 20:25:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 20:25:17 -0000
Received: (qmail 56007 invoked by uid 500); 24 Nov 2003 20:25:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55981 invoked by uid 500); 24 Nov 2003 20:25:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55955 invoked from network); 24 Nov 2003 20:25:00 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 24 Nov 2003 20:25:00 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AONGa-0008Mt-9M
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 09:25:04 +1300
Message-ID: <3FC26920.4040503@cs.waikato.ac.nz>
Date: Tue, 25 Nov 2003 09:25:04 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Score
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E665@EMSS04M14.us.lmco.com>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E665@EMSS04M14.us.lmco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tracey --

it would help if you could give more detail on the types of documents, 
fields and analyzers you're using. Also what do you mean by "Multi Field 
Search"? I presume you're using the MultiFieldQueryParser to have query 
terms in a user-submitted query be searched for in each field in your index.

If I am understanding your problem, then it might be the same one I had 
a few weeks ago -- highly relevant matches would not receive a high 
ranking. (This paragraph will apply to you only if you use more than 
just one Analyzer for the set of your fields). I had six fields in my 
index, most of which were populated with a standard analyzer. I used 
self-made Analyzers for two of the fields. This turned out to be my 
problem when using MultiFieldQueryParser: I told my 
MultiFieldQueryParser instance to use only the standard analyzer. 
Instead I discovered that I needed to make use of 
org.apache.lucene.analysis.PerFieldAnalyzerWrapper and feed that to the 
MultiFieldQueryParser. Unless you do this, your problem is whats 
described here: 
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.indexing&toc=faq#q15.

Most likely, if your scoring is off, you're "doing something wrong" in 
the way you use the Lucene API -- at least, thats what I've discovered 
to be the case when my ranking is off.

If you're interested in the nitty-gritty of how scoring is done, check 
this FAQ entry:
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq#q31

cheers,
Gerret

Pleasant, Tracy wrote:

>Hi,
>
>I'm using the Multi Field Search to search all the fields of my
>documents during the search. 
>
>When it returns results the scores are numerically low - .06, .17, etc.
>I would think if I searched for "Dog" and there was a doc with "Dog" in
>the title and several times in the contents of a document that it would
>receive a score more like 1.0 or close to it.
>
>Is there a way that I can tweak the score?
>
>I tried using Boost but that did absolutely nothing.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 20:29:59 2003
Return-Path: 
 <lucene-user-return-6160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99837 invoked from network); 24 Nov 2003 20:29:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 20:29:59 -0000
Received: (qmail 65415 invoked by uid 500); 24 Nov 2003 20:29:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65318 invoked by uid 500); 24 Nov 2003 20:29:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65297 invoked from network); 24 Nov 2003 20:29:43 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 24 Nov 2003 20:29:43 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AONL9-0000k2-00
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 21:29:47 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AONL8-0000ju-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 24 Nov 2003 21:29:46 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AONL8-0002sT-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 24 Nov 2003 21:29:46 +0100
From: "Jianshuo Niu" <jniu@wc-group.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Mon, 24 Nov 2003 15:29:34 -0500
Lines: 150
Message-ID: <pan.2003.11.24.20.29.31.573321@wc-group.com>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
 <pan.2003.11.21.22.34.56.371948@wc-group.com>
 <002c01c3b220$18c2c0e0$ce00a8c0@victor>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Pan/0.13.3 (That cat's something I can't explain)
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Victor:

I applied the changed based on the patch. Also, I got t-shirt in the search query. 
I rebuilt the search index using the modified lucene-1.3-rc2.jar and did the search by the modified jar as well. 
The search field was specified as indexed, tokenized and stored.
When I do the search, I did not get any results. I also tried to use the modified jar to create search query and did the search on the index files which was built by original lucene-1.3-rc2.jar. It did not get search results as well. Could you tell me which part I did wrong?

Thanks

Jianshuo

On Mon, 24 Nov 2003 11:15:38 +1100, Victor Hadianto wrote:

> Hi,
> 
> You missed another change in the file, if you follow that thread I later
> attached a patch that changes another file (standard tokenizer). Hangon let
> me try to find the patch for you.
> 
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=764036
> 
> You also need to change standard tokenizer.
> 
> Hope this help.
> 
> /victor
> 
> ----- Original Message ----- 
> From: "Jianshuo Niu" <jniu@wc-group.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Saturday, November 22, 2003 9:34 AM
> Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> 
> 
>> Dear Victor:
>>
>> I read your post on lucene bug list. However, I try the change you
>> suggested, but it just changed "t-shirts" to "shirt".
>>
>> I downloaded lucene1.3-rc1 source, changed the above line in
>> QueryParser.jj, and recompiled the source. After the change, the query I
>> got is:
>>
>> +(name:shirt)
>>
>> before the change, the query was:
>>
>> -(name:shirt)
>>
>> I have the following two questions:
>>
>> 1. Did I get the results it supposes to be?
>> 2. in your post, you mentioned only one line change: <#_TERM_CHAR: (
>> <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
>> is this only line needs to change?
>>
>>
>>
>>
>> Thank you for time and help
>>
>>
>> Jianshuo
>>
>>
>> On Wed, 15 Oct 2003 10:51:28 +1000, Victor Hadianto wrote:
>>
>> > Path: main.gmane.org!not-for-mail
>> > From: "Victor Hadianto" <vichad@hadianto.net>
>> > Newsgroups: gmane.comp.jakarta.lucene.user
>> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
>> > Date: Wed, 15 Oct 2003 10:51:28 +1000
>> > Lines: 14
>> > Approved: news@gmane.org
>> > Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
>> > References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
>> > Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> > NNTP-Posting-Host: deer.gmane.org
>> > X-Trace: sea.gmane.org 1066179098 25516 80.91.224.253 (15 Oct 2003
> 00:51:38
>> > GMT)
>> > X-Complaints-To: usenet@sea.gmane.org
>> > NNTP-Posting-Date: Wed, 15 Oct 2003 00:51:38 +0000 (UTC)
>> > Original-X-From:
>> > lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org
> Wed
>> > Oct 15 02:51:36 2003
>> > Return-path:
>> > <lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org>
>> > Original-Received: from daedalus.apache.org ([208.185.179.12]
>> > helo=mail.apache.org)
>> > by deer.gmane.org with smtp (Exim 3.35 #1 (Debian))
>> > id 1A9Zt1-0004Hs-00
>> > for <jak-lucene-user@gmane.org>; Wed, 15 Oct 2003 02:51:36 +0200
>> > Original-Received: (qmail 46864 invoked by uid 500); 15 Oct 2003
> 00:51:23
>> > -0000
>> > Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
>> > Precedence: bulk
>> > List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> > List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
>> > List-Help: <mailto:lucene-user-help@jakarta.apache.org>
>> > List-Post: <mailto:lucene-user@jakarta.apache.org>
>> > List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
>> > Delivered-To: mailing list lucene-user@jakarta.apache.org
>> > Original-Received: (qmail 46822 invoked from network); 15 Oct 2003
> 00:51:23
>> > -0000
>> > Original-Received: from unknown (HELO avalon.siteprotect.com)
> (64.26.0.99)
>> > by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
>> > Original-Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au
>> > [203.51.7.52])
>> > by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
>> > for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
>> > Original-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> > X-Priority: 3
>> > X-MSMail-Priority: Normal
>> > X-Mailer: Microsoft Outlook Express 6.00.2800.1158
>> > X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
>> > X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
>> > Xref: main.gmane.org gmane.comp.jakarta.lucene.user:4555
>> > X-Report-Spam: http://spam.gmane.org/gmane.comp.jakarta.lucene.user:4555
>> > MIME-Version: 1.0
>> > Content-Type: text/plain; charset=iso-8859-1
>> > Content-Transfer-Encoding: 7bit
>> >
>> >
>> >> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
>> >> > I believe this is the same problem that I had the other day. If you
>> >> > search
>> >> > the mailing list for "t-shirt" you should get some threads discussing
>> >> > this
>> >> > problem.
>> >>
>> >> Haha!  Better search for "shirt", not "t-shirt" :))
>> >
>> > If the QueryParser implemented the solution that I suggested then
> "t-shirt"
>> > will get you the correct hits :)
>> >
>> >
>> > /vh
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 20:43:13 2003
Return-Path: 
 <lucene-user-return-6161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9478 invoked from network); 24 Nov 2003 20:43:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 20:43:13 -0000
Received: (qmail 93264 invoked by uid 500); 24 Nov 2003 20:42:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93150 invoked by uid 500); 24 Nov 2003 20:42:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93136 invoked from network); 24 Nov 2003 20:42:57 -0000
Received: from unknown (HELO mail-2.tiscali.it) (195.130.225.148)
  by daedalus.apache.org with SMTP; 24 Nov 2003 20:42:57 -0000
Received: from ARIEL (217.133.146.214) by mail-2.tiscali.it (6.7.019)
        id 3FBCA559004C2F16 for lucene-user@jakarta.apache.org;
 Mon, 24 Nov 2003 21:43:02 +0100
Message-ID: <005f01c3b2cb$8ebf9010$2b00a8c0@ARIEL>
From: "Francesco Bellomi" <fbellomi@libero.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF780360@sideshow.mainstreamdata.com>
Subject: Re: Lucene version 1.3.
Date: Mon, 24 Nov 2003 21:43:02 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm using 1.3RC2 in production right now.

Francesco

Scott Smith <SSmith@MainstreamData.com> wrote:
> If you had to be production in January, would you be using 1.3RC2 or
> 1.2? 
> 

-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 21:01:34 2003
Return-Path: 
 <lucene-user-return-6162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22249 invoked from network); 24 Nov 2003 21:01:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 21:01:34 -0000
Received: (qmail 30752 invoked by uid 500); 24 Nov 2003 21:01:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30719 invoked by uid 500); 24 Nov 2003 21:01:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30551 invoked from network); 24 Nov 2003 21:01:15 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 24 Nov 2003 21:01:15 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with SMTP
          id <2003112421012001500q2o9ve>; Mon, 24 Nov 2003 21:01:20 +0000
Message-ID: <3FC2719B.7070701@lucene.com>
Date: Mon, 24 Nov 2003 13:01:15 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene refresh index function (incremental indexing).
References: <200311240837.hAO8avwe021896@smtp15.singnet.com.sg>
In-Reply-To: <200311240837.hAO8avwe021896@smtp15.singnet.com.sg>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to
> reindex/recompile that directory to generate the indexes again. As the directory
> gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a new
> document is added in that directory without me recompiling everytime manually? 

To update, try removing the '-create' from the command line.  The demo 
code supports incremental updates.  It will re-scan the directory and 
figure out which files have changed, what new files have appeared and 
which previously existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 21:13:06 2003
Return-Path: 
 <lucene-user-return-6163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29733 invoked from network); 24 Nov 2003 21:13:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 21:13:06 -0000
Received: (qmail 55210 invoked by uid 500); 24 Nov 2003 21:12:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55023 invoked by uid 500); 24 Nov 2003 21:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55010 invoked from network); 24 Nov 2003 21:12:50 -0000
Received: from unknown (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by daedalus.apache.org with SMTP; 24 Nov 2003 21:12:50 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc13) with SMTP
          id <2003112421125501500q2aaae>; Mon, 24 Nov 2003 21:12:55 +0000
Message-ID: <3FC27452.70101@lucene.com>
Date: Mon, 24 Nov 2003 13:12:50 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Fields with same name but different boosts
References: <3FC1E2DE.7060800@getopt.org>
In-Reply-To: <3FC1E2DE.7060800@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> Now, I'm wondering how do I encode the weight of keywords... If I do the 
> following:
> 
> Field f = Field.Keyword("kw", "value1");
> f.setBoost(10.0);
> doc.add(f);
> f = Field.Keyword("kw", "value2");
> f.setBoost(20.0);
> doc.add(f);
> 
> Now the question is: what is the boost value for the fields when I 
> search? Is it equivalent to "value1^10.0 value2^20.0" (which is my 
> intention), or rather "value1^20.0 value2^20.0"?

I think the boost will be 200.0.  Boosts are multiplicative.

> If the latter, do you have any suggestions how to achieve the original 
> effect?

The only way to do this is to repeat occurences of each word.

So you might:

   for (int i = 0; i < 10; i++) {
     doc.add(new Field("kw", "value1", false, true, false);
   }

   for (int i = 0; i < 20; i++) {
     doc.add(new Field("kw", "value1", false, true, false);
   }

You might also consider using a custom Similarity implementation so that 
you can control the interpretation of these frequencies.  For example, 
you might, instead of 10 and 20, be able to just use 1 and 2 and then, 
in your Similarity.tf() implementation, turn this into whatever value 
you want used in the scoring.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 21:31:02 2003
Return-Path: 
 <lucene-user-return-6164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41432 invoked from network); 24 Nov 2003 21:31:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 21:31:02 -0000
Received: (qmail 82630 invoked by uid 500); 24 Nov 2003 21:30:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82606 invoked by uid 500); 24 Nov 2003 21:30:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82580 invoked from network); 24 Nov 2003 21:30:45 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 24 Nov 2003 21:30:45 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOLUmfw000931
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 13:30:49 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOLUmbI000928
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 13:30:48 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Mon, 24 Nov
 2003 13:30:48 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <576ce5c024.5c024576ce@lbl.gov>
Date: Mon, 24 Nov 2003 13:30:48 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: permissions or lock problem?
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm having difficulty creating an IndexSearcher from an FSDirectory in 1.3-rc2.  The code is as follows (log.writeToLog is a convenience method):

log.writeToLog(Log.DEBUG,"directory path ="+hitPath);
File f = new File(hitPath);
log.writeToLog(Log.DEBUG,"file exists = "+String.valueOf(f.exists()));

IndexSearcher t = new IndexSearcher(FSDirectory.getDirectory(f,false));

the output is:
[2003-11-24 13:23:09] [--ERROR--] Error building multisearcher
java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createNewFile(File.java:827)
	at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
	at org.apache.lucene.store.Lock.obtain(Lock.java:92)
	at org.apache.lucene.store.Lock$With.run(Lock.java:147)
	at org.apache.lucene.index.IndexReader.open(IndexReader.java:110)
	at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:80)
	at jgi.util.search.LuceneSearch.<init>(LuceneSearch.java:110)


Since file.exists() is returning true, the No Such file or directory error is a bit surprising...is something getting mangled on its way from FSDirectory.getDirectory to java.io.UnixFileSystem.createFileExclusively?

thx,
--David





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 21:54:34 2003
Return-Path: 
 <lucene-user-return-6165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55361 invoked from network); 24 Nov 2003 21:54:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 21:54:34 -0000
Received: (qmail 32326 invoked by uid 500); 24 Nov 2003 21:54:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32277 invoked by uid 500); 24 Nov 2003 21:54:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32237 invoked from network); 24 Nov 2003 21:54:14 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 24 Nov 2003 21:54:14 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOLsHfw006501
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 13:54:18 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hAOLsHbI006498
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 13:54:17 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Mon, 24 Nov
 2003 13:54:17 -0800
To: lucene-user@jakarta.apache.org
Message-ID: <588145ad8e.5ad8e58814@lbl.gov>
Date: Mon, 24 Nov 2003 13:54:17 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: Re: permissions or lock problem?
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

resolved...it was the new feature that writes locks to java.io.tmpdir, which in my servlet engine was interpreted as $CATALINA_HOME/temp, which didn't exist.

--D


----- Original Message -----
From: <DMGoodstein@lbl.gov>
Date: Monday, November 24, 2003 1:30 pm
Subject: permissions or lock problem?

> I'm having difficulty creating an IndexSearcher from an FSDirectory 
> in 1.3-rc2.  The code is as follows (log.writeToLog is a 
> convenience method):
> 
> log.writeToLog(Log.DEBUG,"directory path ="+hitPath);
> File f = new File(hitPath);
> log.writeToLog(Log.DEBUG,"file exists = "+String.valueOf(f.exists()));
> 
> IndexSearcher t = new 
> IndexSearcher(FSDirectory.getDirectory(f,false));
> the output is:
> [2003-11-24 13:23:09] [--ERROR--] Error building multisearcher
> java.io.IOException: No such file or directory
> 	at java.io.UnixFileSystem.createFileExclusively(Native Method)
> 	at java.io.File.createNewFile(File.java:827)
> 	at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
> 	at org.apache.lucene.store.Lock.obtain(Lock.java:92)
> 	at org.apache.lucene.store.Lock$With.run(Lock.java:147)
> 	at org.apache.lucene.index.IndexReader.open(IndexReader.java:110)
> 	at 
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:80)	at jgi.util.search.LuceneSearch.<init>(LuceneSearch.java:110)
> 
> 
> Since file.exists() is returning true, the No Such file or 
> directory error is a bit surprising...is something getting mangled 
> on its way from FSDirectory.getDirectory to 
> java.io.UnixFileSystem.createFileExclusively?
> thx,
> --David
> 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 22:24:39 2003
Return-Path: 
 <lucene-user-return-6166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72256 invoked from network); 24 Nov 2003 22:24:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 22:24:39 -0000
Received: (qmail 2035 invoked by uid 500); 24 Nov 2003 22:24:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2011 invoked by uid 500); 24 Nov 2003 22:24:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1997 invoked from network); 24 Nov 2003 22:24:20 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 24 Nov 2003 22:24:20 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAOMOPe18649
	for <lucene-user@jakarta.apache.org>; Mon, 24 Nov 2003 16:24:26 -0600
Message-ID: <01c301c3b2d9$b8015bd0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
 <pan.2003.11.21.22.34.56.371948@wc-group.com>
 <002c01c3b220$18c2c0e0$ce00a8c0@victor>
 <pan.2003.11.24.20.29.31.573321@wc-group.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Tue, 25 Nov 2003 09:24:23 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Odd ...

This is working fine for us. You have to use the patched Lucene to both
build and do the search and to make sure to use the same analyser. Failing
that, email me the code that you use to build/search the index and I'll have
a look.

HTH,

victor

----- Original Message ----- 
From: "Jianshuo Niu" <jniu@wc-group.com>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 25, 2003 7:29 AM
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?


> Dear Victor:
>
> I applied the changed based on the patch. Also, I got t-shirt in the
search query.
> I rebuilt the search index using the modified lucene-1.3-rc2.jar and did
the search by the modified jar as well.
> The search field was specified as indexed, tokenized and stored.
> When I do the search, I did not get any results. I also tried to use the
modified jar to create search query and did the search on the index files
which was built by original lucene-1.3-rc2.jar. It did not get search
results as well. Could you tell me which part I did wrong?
>
> Thanks
>
> Jianshuo
>
> On Mon, 24 Nov 2003 11:15:38 +1100, Victor Hadianto wrote:
>
> > Hi,
> >
> > You missed another change in the file, if you follow that thread I later
> > attached a patch that changes another file (standard tokenizer). Hangon
let
> > me try to find the patch for you.
> >
> >
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=764036
> >
> > You also need to change standard tokenizer.
> >
> > Hope this help.
> >
> > /victor
> >
> > ----- Original Message ----- 
> > From: "Jianshuo Niu" <jniu@wc-group.com>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Saturday, November 22, 2003 9:34 AM
> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> >
> >
> >> Dear Victor:
> >>
> >> I read your post on lucene bug list. However, I try the change you
> >> suggested, but it just changed "t-shirts" to "shirt".
> >>
> >> I downloaded lucene1.3-rc1 source, changed the above line in
> >> QueryParser.jj, and recompiled the source. After the change, the query
I
> >> got is:
> >>
> >> +(name:shirt)
> >>
> >> before the change, the query was:
> >>
> >> -(name:shirt)
> >>
> >> I have the following two questions:
> >>
> >> 1. Did I get the results it supposes to be?
> >> 2. in your post, you mentioned only one line change: <#_TERM_CHAR: (
> >> <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> >> is this only line needs to change?
> >>
> >>
> >>
> >>
> >> Thank you for time and help
> >>
> >>
> >> Jianshuo
> >>
> >>
> >> On Wed, 15 Oct 2003 10:51:28 +1000, Victor Hadianto wrote:
> >>
> >> > Path: main.gmane.org!not-for-mail
> >> > From: "Victor Hadianto" <vichad@hadianto.net>
> >> > Newsgroups: gmane.comp.jakarta.lucene.user
> >> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> >> > Date: Wed, 15 Oct 2003 10:51:28 +1000
> >> > Lines: 14
> >> > Approved: news@gmane.org
> >> > Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
> >> > References:
<6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
> >> > Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >> > NNTP-Posting-Host: deer.gmane.org
> >> > X-Trace: sea.gmane.org 1066179098 25516 80.91.224.253 (15 Oct 2003
> > 00:51:38
> >> > GMT)
> >> > X-Complaints-To: usenet@sea.gmane.org
> >> > NNTP-Posting-Date: Wed, 15 Oct 2003 00:51:38 +0000 (UTC)
> >> > Original-X-From:
> >> >
lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org
> > Wed
> >> > Oct 15 02:51:36 2003
> >> > Return-path:
> >> >
<lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org>
> >> > Original-Received: from daedalus.apache.org ([208.185.179.12]
> >> > helo=mail.apache.org)
> >> > by deer.gmane.org with smtp (Exim 3.35 #1 (Debian))
> >> > id 1A9Zt1-0004Hs-00
> >> > for <jak-lucene-user@gmane.org>; Wed, 15 Oct 2003 02:51:36 +0200
> >> > Original-Received: (qmail 46864 invoked by uid 500); 15 Oct 2003
> > 00:51:23
> >> > -0000
> >> > Mailing-List: contact lucene-user-help@jakarta.apache.org; run by
ezmlm
> >> > Precedence: bulk
> >> > List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> >> > List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
> >> > List-Help: <mailto:lucene-user-help@jakarta.apache.org>
> >> > List-Post: <mailto:lucene-user@jakarta.apache.org>
> >> > List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
> >> > Delivered-To: mailing list lucene-user@jakarta.apache.org
> >> > Original-Received: (qmail 46822 invoked from network); 15 Oct 2003
> > 00:51:23
> >> > -0000
> >> > Original-Received: from unknown (HELO avalon.siteprotect.com)
> > (64.26.0.99)
> >> > by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
> >> > Original-Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au
> >> > [203.51.7.52])
> >> > by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
> >> > for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
> >> > Original-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >> > X-Priority: 3
> >> > X-MSMail-Priority: Normal
> >> > X-Mailer: Microsoft Outlook Express 6.00.2800.1158
> >> > X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
> >> > X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
> >> > Xref: main.gmane.org gmane.comp.jakarta.lucene.user:4555
> >> > X-Report-Spam:
http://spam.gmane.org/gmane.comp.jakarta.lucene.user:4555
> >> > MIME-Version: 1.0
> >> > Content-Type: text/plain; charset=iso-8859-1
> >> > Content-Transfer-Encoding: 7bit
> >> >
> >> >
> >> >> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
> >> >> > I believe this is the same problem that I had the other day. If
you
> >> >> > search
> >> >> > the mailing list for "t-shirt" you should get some threads
discussing
> >> >> > this
> >> >> > problem.
> >> >>
> >> >> Haha!  Better search for "shirt", not "t-shirt" :))
> >> >
> >> > If the QueryParser implemented the solution that I suggested then
> > "t-shirt"
> >> > will get you the correct hits :)
> >> >
> >> >
> >> > /vh
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 23:34:50 2003
Return-Path: 
 <lucene-user-return-6167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9467 invoked from network); 24 Nov 2003 23:34:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 23:34:50 -0000
Received: (qmail 1893 invoked by uid 500); 24 Nov 2003 23:34:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1805 invoked by uid 500); 24 Nov 2003 23:34:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1792 invoked from network); 24 Nov 2003 23:34:29 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 24 Nov 2003 23:34:29 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AOQDz-0002mX-00
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 00:34:35 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AOQDy-0002mP-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 25 Nov 2003 00:34:34 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AOQDy-0006Xp-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 25 Nov 2003 00:34:34 +0100
From: "Jianshuo Niu" <jniu@wc-group.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Mon, 24 Nov 2003 18:34:21 -0500
Lines: 199
Message-ID: <pan.2003.11.24.23.34.19.306816@wc-group.com>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
 <pan.2003.11.21.22.34.56.371948@wc-group.com>
 <002c01c3b220$18c2c0e0$ce00a8c0@victor>
 <pan.2003.11.24.20.29.31.573321@wc-group.com>
 <01c301c3b2d9$b8015bd0$ce00a8c0@victor>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Pan/0.13.3 (That cat's something I can't explain)
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Victor:

Finally, I got search results. I made a mistake to create index files.

Thanks  a lot

Jianshuo

On Tue, 25 Nov 2003 09:24:23 +1100, Victor Hadianto wrote:

> Odd ...
> 
> This is working fine for us. You have to use the patched Lucene to both
> build and do the search and to make sure to use the same analyser. Failing
> that, email me the code that you use to build/search the index and I'll have
> a look.
> 
> HTH,
> 
> victor
> 
> ----- Original Message ----- 
> From: "Jianshuo Niu" <jniu@wc-group.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, November 25, 2003 7:29 AM
> Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
> 
> 
>> Dear Victor:
>>
>> I applied the changed based on the patch. Also, I got t-shirt in the
> search query.
>> I rebuilt the search index using the modified lucene-1.3-rc2.jar and did
> the search by the modified jar as well.
>> The search field was specified as indexed, tokenized and stored.
>> When I do the search, I did not get any results. I also tried to use the
> modified jar to create search query and did the search on the index files
> which was built by original lucene-1.3-rc2.jar. It did not get search
> results as well. Could you tell me which part I did wrong?
>>
>> Thanks
>>
>> Jianshuo
>>
>> On Mon, 24 Nov 2003 11:15:38 +1100, Victor Hadianto wrote:
>>
>> > Hi,
>> >
>> > You missed another change in the file, if you follow that thread I later
>> > attached a patch that changes another file (standard tokenizer). Hangon
> let
>> > me try to find the patch for you.
>> >
>> >
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=764036
>> >
>> > You also need to change standard tokenizer.
>> >
>> > Hope this help.
>> >
>> > /victor
>> >
>> > ----- Original Message ----- 
>> > From: "Jianshuo Niu" <jniu@wc-group.com>
>> > To: <lucene-user@jakarta.apache.org>
>> > Sent: Saturday, November 22, 2003 9:34 AM
>> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
>> >
>> >
>> >> Dear Victor:
>> >>
>> >> I read your post on lucene bug list. However, I try the change you
>> >> suggested, but it just changed "t-shirts" to "shirt".
>> >>
>> >> I downloaded lucene1.3-rc1 source, changed the above line in
>> >> QueryParser.jj, and recompiled the source. After the change, the query
> I
>> >> got is:
>> >>
>> >> +(name:shirt)
>> >>
>> >> before the change, the query was:
>> >>
>> >> -(name:shirt)
>> >>
>> >> I have the following two questions:
>> >>
>> >> 1. Did I get the results it supposes to be?
>> >> 2. in your post, you mentioned only one line change: <#_TERM_CHAR: (
>> >> <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
>> >> is this only line needs to change?
>> >>
>> >>
>> >>
>> >>
>> >> Thank you for time and help
>> >>
>> >>
>> >> Jianshuo
>> >>
>> >>
>> >> On Wed, 15 Oct 2003 10:51:28 +1000, Victor Hadianto wrote:
>> >>
>> >> > Path: main.gmane.org!not-for-mail
>> >> > From: "Victor Hadianto" <vichad@hadianto.net>
>> >> > Newsgroups: gmane.comp.jakarta.lucene.user
>> >> > Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
>> >> > Date: Wed, 15 Oct 2003 10:51:28 +1000
>> >> > Lines: 14
>> >> > Approved: news@gmane.org
>> >> > Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
>> >> > References:
> <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
>> >> > Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> >> > NNTP-Posting-Host: deer.gmane.org
>> >> > X-Trace: sea.gmane.org 1066179098 25516 80.91.224.253 (15 Oct 2003
>> > 00:51:38
>> >> > GMT)
>> >> > X-Complaints-To: usenet@sea.gmane.org
>> >> > NNTP-Posting-Date: Wed, 15 Oct 2003 00:51:38 +0000 (UTC)
>> >> > Original-X-From:
>> >> >
> lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org
>> > Wed
>> >> > Oct 15 02:51:36 2003
>> >> > Return-path:
>> >> >
> <lucene-user-return-5664-jak-lucene-user=m.gmane.org@jakarta.apache.org>
>> >> > Original-Received: from daedalus.apache.org ([208.185.179.12]
>> >> > helo=mail.apache.org)
>> >> > by deer.gmane.org with smtp (Exim 3.35 #1 (Debian))
>> >> > id 1A9Zt1-0004Hs-00
>> >> > for <jak-lucene-user@gmane.org>; Wed, 15 Oct 2003 02:51:36 +0200
>> >> > Original-Received: (qmail 46864 invoked by uid 500); 15 Oct 2003
>> > 00:51:23
>> >> > -0000
>> >> > Mailing-List: contact lucene-user-help@jakarta.apache.org; run by
> ezmlm
>> >> > Precedence: bulk
>> >> > List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> >> > List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
>> >> > List-Help: <mailto:lucene-user-help@jakarta.apache.org>
>> >> > List-Post: <mailto:lucene-user@jakarta.apache.org>
>> >> > List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
>> >> > Delivered-To: mailing list lucene-user@jakarta.apache.org
>> >> > Original-Received: (qmail 46822 invoked from network); 15 Oct 2003
>> > 00:51:23
>> >> > -0000
>> >> > Original-Received: from unknown (HELO avalon.siteprotect.com)
>> > (64.26.0.99)
>> >> > by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
>> >> > Original-Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au
>> >> > [203.51.7.52])
>> >> > by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
>> >> > for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
>> >> > Original-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> >> > X-Priority: 3
>> >> > X-MSMail-Priority: Normal
>> >> > X-Mailer: Microsoft Outlook Express 6.00.2800.1158
>> >> > X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
>> >> > X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
>> >> > Xref: main.gmane.org gmane.comp.jakarta.lucene.user:4555
>> >> > X-Report-Spam:
> http://spam.gmane.org/gmane.comp.jakarta.lucene.user:4555
>> >> > MIME-Version: 1.0
>> >> > Content-Type: text/plain; charset=iso-8859-1
>> >> > Content-Transfer-Encoding: 7bit
>> >> >
>> >> >
>> >> >> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
>> >> >> > I believe this is the same problem that I had the other day. If
> you
>> >> >> > search
>> >> >> > the mailing list for "t-shirt" you should get some threads
> discussing
>> >> >> > this
>> >> >> > problem.
>> >> >>
>> >> >> Haha!  Better search for "shirt", not "t-shirt" :))
>> >> >
>> >> > If the QueryParser implemented the solution that I suggested then
>> > "t-shirt"
>> >> > will get you the correct hits :)
>> >> >
>> >> >
>> >> > /vh
>> >>
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 02:48:22 2003
Return-Path: 
 <lucene-user-return-6168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3894 invoked from network); 25 Nov 2003 02:48:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 02:48:22 -0000
Received: (qmail 30793 invoked by uid 500); 25 Nov 2003 02:48:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30729 invoked by uid 500); 25 Nov 2003 02:47:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30715 invoked from network); 25 Nov 2003 02:47:59 -0000
Received: from unknown (HELO smtp22.singnet.com.sg) (165.21.101.202)
  by daedalus.apache.org with SMTP; 25 Nov 2003 02:47:59 -0000
Received: from HP29375324311 (hs03146.singnet.com.sg [165.21.196.60])
	by smtp22.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAP2m1AJ032679
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:48:06 +0800
Message-Id: <200311250248.hAP2m1AJ032679@smtp22.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene version 1.3.
Date: Tue, 25 Nov 2003 10:48:01 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF780360@sideshow.mainstreamdata.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyxirthh004XP+ROKWrjykhWqJHQAOFb0g
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am now using 1.3RC2.

-----Original Message-----
From: Scott Smith [mailto:SSmith@MainstreamData.com] 
Sent: Tuesday, November 25, 2003 4:04 AM
To: 'Lucene Users List'; 'chentun@singnet.com.sg'
Subject: RE: Lucene version 1.3.

If you had to be production in January, would you be using 1.3RC2 or 1.2?

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, November 24, 2003 4:03 AM
To: Lucene Users List; chentun@singnet.com.sg
Subject: Re: Lucene version 1.3.


Sorry, no firm date.  However, 1.3 RC2 is pretty solid, so I suggest you
just use that until 1.3 final is out.

Otis

--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> Anyone knows when the full version of Lucene version 1.3 will be 
> released?
> 
> Please advise.
> 
> Thanks.
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 03:01:30 2003
Return-Path: 
 <lucene-user-return-6169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7744 invoked from network); 25 Nov 2003 03:01:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 03:01:30 -0000
Received: (qmail 38481 invoked by uid 500); 25 Nov 2003 03:01:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38453 invoked by uid 500); 25 Nov 2003 03:01:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38440 invoked from network); 25 Nov 2003 03:01:07 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 25 Nov 2003 03:01:07 -0000
Received: from HP29375324311 ([155.69.58.34])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAP31ArL018801
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:01:14 +0800
Message-Id: <200311250301.hAP31ArL018801@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Tue, 25 Nov 2003 11:01:10 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <3FC2719B.7070701@lucene.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyziDPGhiHLat+THiZKJYjHL95HgAMjxCw
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 
Will the final version 1.3 include an application that does the incremental
updates automatically?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com] 
Sent: Tuesday, November 25, 2003 5:01 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to 
> reindex/recompile that directory to generate the indexes again. As the 
> directory gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a 
> new document is added in that directory without me recompiling everytime
manually?

To update, try removing the '-create' from the command line.  The demo code
supports incremental updates.  It will re-scan the directory and figure out
which files have changed, what new files have appeared and which previously
existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 04:07:46 2003
Return-Path: 
 <lucene-user-return-6170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28835 invoked from network); 25 Nov 2003 04:07:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 04:07:46 -0000
Received: (qmail 94736 invoked by uid 500); 25 Nov 2003 04:07:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94701 invoked by uid 500); 25 Nov 2003 04:07:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94680 invoked from network); 25 Nov 2003 04:07:21 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 25 Nov 2003 04:07:21 -0000
Received: from HP29375324311 (hs10161.singnet.com.sg [165.21.202.74])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAP47PiD017909
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:07:29 +0800
Message-Id: <200311250407.hAP47PiD017909@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Tue, 25 Nov 2003 12:07:24 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <3FC2719B.7070701@lucene.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyziDPGhiHLat+THiZKJYjHL95HgAOtfhw
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does it support indexing the contents of pdf files? I have found one project
called PDFBox that can be integrated with Lucene to search inside of the pdf
files. Currently, Lucene can only search for the pdf filename. I tried with
PDFBox and I got the following message when I typed the command: java
org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 

log4j:WARN No appenders could be found for logger (org.pdfbox.pdfparser.PDFParse
r).
log4j:WARN Please initialize the log4j system properly.

Can anyone advise?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com] 
Sent: Tuesday, November 25, 2003 5:01 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to 
> reindex/recompile that directory to generate the indexes again. As the 
> directory gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a 
> new document is added in that directory without me recompiling everytime
manually?

To update, try removing the '-create' from the command line.  The demo code
supports incremental updates.  It will re-scan the directory and figure out
which files have changed, what new files have appeared and which previously
existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Nov 24 19:11:45 2003
Return-Path: 
 <lucene-user-return-6157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48155 invoked from network); 24 Nov 2003 19:11:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Nov 2003 19:11:45 -0000
Received: (qmail 22114 invoked by uid 500); 24 Nov 2003 19:11:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22089 invoked by uid 500); 24 Nov 2003 19:11:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22076 invoked from network); 24 Nov 2003 19:11:31 -0000
Received: from unknown (HELO smtpzilla2.xs4all.nl) (194.109.127.138)
  by daedalus.apache.org with SMTP; 24 Nov 2003 19:11:31 -0000
Received: from k7l (porta.xs4all.nl [80.127.24.69])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id hAOJBWlx040494;
	Mon, 24 Nov 2003 20:11:32 +0100 (CET)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Dates and others
Date: Mon, 24 Nov 2003 20:11:33 -0800
User-Agent: KMail/1.4.3
References: <D0D0A52D-1DF6-11D8-BD93-000393A564E6@ehatchersolutions.com>
In-Reply-To: <D0D0A52D-1DF6-11D8-BD93-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200311242011.33213.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

On Sunday 23 November 2003 12:51, Erik Hatcher wrote:
> On Saturday, November 22, 2003, at 06:33  PM, Dion Almaer wrote:
> > 3. I have some fields suck as title, owner, etc as well as the conten=
t
> > blob which I index and use as
> > the default search field.  Is there an easy way to extend the
> > QueryParser to merge it with a
> > MultiTermQuery which can also search this meta data and give them
> > certain weights?  Or, if you go
> > down this path do you have to leave the QueryParser behind and build
> > your own queries?  Any best
> > practices would be great.
>
> And Ype said:
> You can provide field weights at document indexing time (norms) and use
> a
> MultiTermQuery for searching multiple fields. At query time you can
> again use field weights.
> I don't know how the scoring of the MultiTermQuery is done,
> it might use the max. score over the fields of a document, or combine
> the
> scores in the fields of a document.
> ---- end Ype's reply cut and paste
>
> I'm a little confused with this question and Ype's reply.
> MultiTermQuery is an abstract base class under Query, which is the
> parent for WildcardQuery and FuzzyQuery.
>
> What I think you're after is using MultiFieldQueryParser, but you want

Thanks for the correction,

> to weight the fields differently.  You can add the boosts at indexing
> time using Field.setBoost.  Unfortunately at the moment

and thanks for explaining how to provide field weights.

Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 11:08:34 2003
Return-Path: 
 <lucene-user-return-6171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19060 invoked from network); 25 Nov 2003 11:08:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 11:08:34 -0000
Received: (qmail 73872 invoked by uid 500); 25 Nov 2003 11:08:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73659 invoked by uid 500); 25 Nov 2003 11:08:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73643 invoked from network); 25 Nov 2003 11:08:00 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 25 Nov 2003 11:08:00 -0000
Message-ID: <20031125110814.78224.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.193] by web12703.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 03:08:14 PST
Date: Tue, 25 Nov 2003 03:08:14 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Lucene version 1.3.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF780360@sideshow.mainstreamdata.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

1.3RC2.

Otis

--- Scott Smith <SSmith@MainstreamData.com> wrote:
> If you had to be production in January, would you be using 1.3RC2 or
> 1.2?
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Monday, November 24, 2003 4:03 AM
> To: Lucene Users List; chentun@singnet.com.sg
> Subject: Re: Lucene version 1.3.
> 
> 
> Sorry, no firm date.  However, 1.3 RC2 is pretty solid, so I suggest
> you
> just use that until 1.3 final is out.
> 
> Otis
> 
> --- Tun Lin <chentun@singnet.com.sg> wrote:
> > Hi,
> > 
> > Anyone knows when the full version of Lucene version 1.3 will be 
> > released?
> > 
> > Please advise.
> > 
> > Thanks.
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Free Pop-Up Blocker - Get it now
> http://companion.yahoo.com/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 11:35:14 2003
Return-Path: 
 <lucene-user-return-6172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30860 invoked from network); 25 Nov 2003 11:35:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 11:35:14 -0000
Received: (qmail 5915 invoked by uid 500); 25 Nov 2003 11:35:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5632 invoked by uid 500); 25 Nov 2003 11:35:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5611 invoked from network); 25 Nov 2003 11:35:09 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 25 Nov 2003 11:35:09 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Tue, 25 Nov 2003 05:35:34 -0500
Message-ID: <009201c3b349$19794bb0$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Tokenizing text custom way
Date: Tue, 25 Nov 2003 12:41:39 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008F_01C3B351.78C69930"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_008F_01C3B351.78C69930
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi. I need to tokenize text while indexing but I don't want space to be =
delimiter. Delimiter should be my custom character (for example comma). =
I understand that I would probably need to implement my own analyzer, =
but could someone help me where to start. Is there any other way to do =
this without writing custom analyzer?

This is what I want to achieve.
If I have some text that will be indexed like following:

man, people, time out, sun

and if I enter 'time' as a search word, I don't want to get "time out" =
in results. I need exact keyword matching. I would achieve this if I =
tokenize "time out" as one token while idexing.

Maybe someone had similar problem? If someone knows how to handle this, =
please help me.

Dragan Jotanovic


------=_NextPart_000_008F_01C3B351.78C69930--



From MAILER-DAEMON Tue Nov 25 11:45:41 2003
Return-Path: 
 <lucene-user-return-6173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34795 invoked from network); 25 Nov 2003 11:45:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 11:45:41 -0000
Received: (qmail 17957 invoked by uid 500); 25 Nov 2003 11:45:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17928 invoked by uid 500); 25 Nov 2003 11:45:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17901 invoked from network); 25 Nov 2003 11:45:35 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 25 Nov 2003 11:45:35 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hAPBhUsV008134
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:43:30 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id MAA22459
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:43:42 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <XJPADDLA>; Tue, 25 Nov 2003 12:45:34 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881B0F@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Tokenizing text custom way
Date: Tue, 25 Nov 2003 12:45:34 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Dragan,

> and if I enter 'time' as a search word, I don't want to get "time =
out" in
> results. I need exact keyword matching. I would achieve this if I =
tokenize
> "time out" as one token while idexing.

> Maybe someone had similar problem? If someone knows how to handle =
this,
> please help me.

I've had the same problem. On some fields, I do employ a "NonTokenizer" =
now,
which looks similar to the other tokenizers except for:

protected boolean isTokenChar(char c)=20
  {
    return true;
  }

So "time out" would be one token.

HTH

Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 11:59:55 2003
Return-Path: 
 <lucene-user-return-6174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41396 invoked from network); 25 Nov 2003 11:59:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 11:59:55 -0000
Received: (qmail 47517 invoked by uid 500); 25 Nov 2003 11:59:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47321 invoked by uid 500); 25 Nov 2003 11:59:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47308 invoked from network); 25 Nov 2003 11:59:49 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 25 Nov 2003 11:59:49 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Tue, 25 Nov 2003 06:00:13 -0500
Message-ID: <00b401c3b34c$8b7f0670$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41EA24EC431CD411AA8200008385014F05881B0F@pc.fiz-karlsruhe.de>
Subject: Re: Tokenizing text custom way
Date: Tue, 25 Nov 2003 13:06:19 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Rene,

> I've had the same problem. On some fields, I do
> employ a "NonTokenizer" now,
> which looks similar to the other tokenizers except for:

> protected boolean isTokenChar(char c)
>  {
>    return true;
>  }

> So "time out" would be one token.

This is OK solution in case that I have only "time out" in a field, but I
will have dozens of words in one field of a document. Like I said in
previous letter, I would have "man, people, time out, sun" and all those
words would be in one letter and all should be "searchable" (I need to
tokenize them like "man" "people" "time out" "sun").

Your solution isn't doing tokenizing, right?

Dragan Jotanovic





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 12:26:17 2003
Return-Path: 
 <lucene-user-return-6175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51644 invoked from network); 25 Nov 2003 12:26:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 12:26:17 -0000
Received: (qmail 90642 invoked by uid 500); 25 Nov 2003 12:26:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90450 invoked by uid 500); 25 Nov 2003 12:26:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90437 invoked from network); 25 Nov 2003 12:26:10 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 25 Nov 2003 12:26:10 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hAPCO5sV009375
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 13:24:05 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id NAA00835
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 13:24:17 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <XJPADDTN>; Tue, 25 Nov 2003 13:26:09 +0100
Message-ID: <41EA24EC431CD411AA8200008385014F05881B11@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re: Tokenizing text custom way
Date: Tue, 25 Nov 2003 13:26:08 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Your solution isn't doing tokenizing, right?

You're absolutely right, I misunderstood.

Now, instead of return true, I'd maybe put something like

return !Character.toString(c).equals(",");

and then cut off surrounding spaces like "man, people, time out,..."
--> "man" " people" " time out"
--> "man" "people" "time out"

I haven't tested this though. Keep us posted when you find=20
something that works. :-)

Best regards,

Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 15:39:45 2003
Return-Path: 
 <lucene-user-return-6176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93793 invoked from network); 25 Nov 2003 15:39:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 15:39:45 -0000
Received: (qmail 15054 invoked by uid 500); 25 Nov 2003 15:37:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15030 invoked by uid 500); 25 Nov 2003 15:37:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15016 invoked from network); 25 Nov 2003 15:37:52 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 25 Nov 2003 15:37:52 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Tue, 25 Nov
 2003 09:41:28 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNLT75A0>; Tue, 25 Nov 2003 09:31:59 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DE4@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'chentun@singnet.com.sg'" <chentun@singnet.com.sg>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Tue, 25 Nov 2003 09:37:39 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13DDA7A2247824-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene doesn't have pdf parser.  In order to index pdf files you have to add
one by your self.  PDFBox is a good choice.  You may just ignore the warning
for log4j or you can add log4j in your classpath.

Oliver


-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Monday, November 24, 2003 10:07 PM
To: 'Lucene Users List'
Subject: RE: Lucene refresh index function (incremental indexing).


Does it support indexing the contents of pdf files? I have found one project
called PDFBox that can be integrated with Lucene to search inside of the pdf
files. Currently, Lucene can only search for the pdf filename. I tried with
PDFBox and I got the following message when I typed the command: java
org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 

log4j:WARN No appenders could be found for logger
(org.pdfbox.pdfparser.PDFParse
r).
log4j:WARN Please initialize the log4j system properly.

Can anyone advise?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com] 
Sent: Tuesday, November 25, 2003 5:01 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to 
> reindex/recompile that directory to generate the indexes again. As the 
> directory gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a 
> new document is added in that directory without me recompiling everytime
manually?

To update, try removing the '-create' from the command line.  The demo code
supports incremental updates.  It will re-scan the directory and figure out
which files have changed, what new files have appeared and which previously
existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 15:43:32 2003
Return-Path: 
 <lucene-user-return-6177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96209 invoked from network); 25 Nov 2003 15:43:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 15:43:32 -0000
Received: (qmail 22173 invoked by uid 500); 25 Nov 2003 15:42:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22146 invoked by uid 500); 25 Nov 2003 15:42:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22114 invoked from network); 25 Nov 2003 15:42:17 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 15:42:17 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPFgAD27039;
	Tue, 25 Nov 2003 10:42:12 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOW00E01ZM6X9@lmco.com>; Tue,
 25 Nov 2003 10:42:06 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOW003R8ZM6AZ@lmco.com>;
 Tue, 25 Nov 2003 10:42:06 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 10:42:05 -0500
Date: Tue, 25 Nov 2003 10:42:04 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Lucene refresh index function (incremental indexing).
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E78@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Lucene refresh index function (incremental indexing).
Thread-Index: AcOyziDPGhiHLat+THiZKJYjHL95HgAOtfhwABgWvuA=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 15:42:05.0957 (UTC)
 FILETIME=[ADC1CB50:01C3B36A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was able to get PDFBox to work with my JSP webpages. 

I think you will have to in a way write your own code to do the PDF
files (while still calling the Lucene functions)

         doc = LucenePDFDocument.getDocument(file);
    

-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Monday, November 24, 2003 11:07 PM
To: 'Lucene Users List'
Subject: RE: Lucene refresh index function (incremental indexing).


Does it support indexing the contents of pdf files? I have found one
project
called PDFBox that can be integrated with Lucene to search inside of the
pdf
files. Currently, Lucene can only search for the pdf filename. I tried
with
PDFBox and I got the following message when I typed the command: java
org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 

log4j:WARN No appenders could be found for logger
(org.pdfbox.pdfparser.PDFParse
r).
log4j:WARN Please initialize the log4j system properly.

Can anyone advise?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com] 
Sent: Tuesday, November 25, 2003 5:01 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the
command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to 
> reindex/recompile that directory to generate the indexes again. As the

> directory gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a

> new document is added in that directory without me recompiling
everytime
manually?

To update, try removing the '-create' from the command line.  The demo
code
supports incremental updates.  It will re-scan the directory and figure
out
which files have changed, what new files have appeared and which
previously
existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 15:47:22 2003
Return-Path: 
 <lucene-user-return-6178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97670 invoked from network); 25 Nov 2003 15:47:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 15:47:22 -0000
Received: (qmail 27189 invoked by uid 500); 25 Nov 2003 15:45:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27157 invoked by uid 500); 25 Nov 2003 15:45:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27123 invoked from network); 25 Nov 2003 15:45:04 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 25 Nov 2003 15:45:04 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 4BEB43AF
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:45:06 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 1B21B133E; Tue, 25 Nov 2003 10:45:05 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id ED3BF1339
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:45:05 -0500 (EST)
Date: Tue, 25 Nov 2003 10:45:05 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DE4@mccexc02.mcc_genesis.behavioral.com>
Message-ID: <Pine.GSO.4.53.0311251043160.22394@fury.csh.rit.edu>
References: 
 <CD6C59E38692CC4294619611087313760C4F4DE4@mccexc02.mcc_genesis.behavioral.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Yes, just add the log4j configuration.  The easiest way to do that is as a
system parameter like this

java -Dlog4j.configuration=log4j.xml org.apache.lucene.demo.IndexHTML
-create -index c:\\index ..

Where log4j.xml is the path to your log4j config, PDFBox has an example
one you can use.

Ben
http://www.pdfbox.org

On Tue, 25 Nov 2003, Zhou, Oliver wrote:

> Lucene doesn't have pdf parser.  In order to index pdf files you have to add
> one by your self.  PDFBox is a good choice.  You may just ignore the warning
> for log4j or you can add log4j in your classpath.
>
> Oliver
>
>
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: Monday, November 24, 2003 10:07 PM
> To: 'Lucene Users List'
> Subject: RE: Lucene refresh index function (incremental indexing).
>
>
> Does it support indexing the contents of pdf files? I have found one project
> called PDFBox that can be integrated with Lucene to search inside of the pdf
> files. Currently, Lucene can only search for the pdf filename. I tried with
> PDFBox and I got the following message when I typed the command: java
> org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
>
> log4j:WARN No appenders could be found for logger
> (org.pdfbox.pdfparser.PDFParse
> r).
> log4j:WARN Please initialize the log4j system properly.
>
> Can anyone advise?
>
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Tuesday, November 25, 2003 5:01 AM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Tun Lin wrote:
> > These are the steps I took:
> >
> > 1) I compile all the files in a particular directory using the command:
> > java org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> > , putting all the indexed files in c:\\index.
> > 2) Everytime, I added an additional file in that directory. I need to
> > reindex/recompile that directory to generate the indexes again. As the
> > directory gets larger, the indexing takes a longer time.
> >
> > My question is how do I generate the indexes automatically everytime a
> > new document is added in that directory without me recompiling everytime
> manually?
>
> To update, try removing the '-create' from the command line.  The demo code
> supports incremental updates.  It will re-scan the directory and figure out
> which files have changed, what new files have appeared and which previously
> existing files have been removed.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 15:53:58 2003
Return-Path: 
 <lucene-user-return-6179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 855 invoked from network); 25 Nov 2003 15:53:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 15:53:58 -0000
Received: (qmail 36708 invoked by uid 500); 25 Nov 2003 15:49:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36679 invoked by uid 500); 25 Nov 2003 15:49:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36653 invoked from network); 25 Nov 2003 15:49:38 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 25 Nov 2003 15:49:38 -0000
Received: (qmail 4333 invoked by uid 0); 25 Nov 2003 15:49:38 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Tue, 25 Nov 2003 16:49:39 +0100 (MET)
Date: Tue, 25 Nov 2003 16:49:39 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Collaborative Filtering API
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <31220.1069775379@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello togehter,

I am asking this group because I think people here might know about this
since it is a similar approach. 

Is there a Java based API which assist developers of collaborative filtering
in their programs. With this I mean software, which does use user ratings
between items and provide ways (algorithsm, methods) to find users with similar
interests for prediction generation. Finding a API like Lucene would be
dream for me but any pointer to other API's (also in other programming lanuages)
to see and learn from would be appreciated.

Kind Regards

-- 
GMX Weihnachts-Special: Seychellen-Traumreise zu gewinnen!

Rentier entlaufen. Finden Sie Rudolph! Als Belohnung winken
tolle Preise. http://www.gmx.net/de/cgi/specialmail/

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 15:58:01 2003
Return-Path: 
 <lucene-user-return-6180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3123 invoked from network); 25 Nov 2003 15:58:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 15:58:01 -0000
Received: (qmail 50382 invoked by uid 500); 25 Nov 2003 15:57:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50356 invoked by uid 500); 25 Nov 2003 15:57:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50342 invoked from network); 25 Nov 2003 15:57:06 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 15:57:06 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPFuqD05600
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:56:54 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00M0108H9E@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 10:55:29 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX003MP08HH4@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 10:55:29 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 10:55:29 -0500
Date: Tue, 25 Nov 2003 10:55:28 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Score
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E689@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Score
Thread-Index: AcOyyROSHolQb0yCR1iRnhpLYYeQqgAos1qw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 15:55:29.0546 (UTC)
 FILETIME=[8CBBBEA0:01C3B36C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for your input. 
I am using the standard analyzer for everything. I haven't created my
own analyzer yet.

The documents I am using: 

Plain text
PDF Documents

(I have two indexes) 

When I create my index: 
       IndexWriter writer = new IndexWriter(index_name, new
StandardAnalyzer(),true);

When I search:
    Analyzer analyzer = new StandardAnalyzer();
    query = MultiFieldQueryParser.parse(queryString, fields, analyzer); 
    (where query String is the term to search and fields is the array of
fields)

When searching it does the one index then it does the other. 


When you say you use different analyzers for different fields in your
index, how would you accomplish that? When I create the index it has a
parameter for analyzer.. unless you create different indexes , how do
you use two different ones? 



-----Original Message-----
From: Gerret Apelt [mailto:ga11@cs.waikato.ac.nz]
Sent: Monday, November 24, 2003 3:25 PM
To: Lucene Users List
Subject: Re: Score


Tracey --

it would help if you could give more detail on the types of documents, 
fields and analyzers you're using. Also what do you mean by "Multi Field

Search"? I presume you're using the MultiFieldQueryParser to have query 
terms in a user-submitted query be searched for in each field in your
index.

If I am understanding your problem, then it might be the same one I had 
a few weeks ago -- highly relevant matches would not receive a high 
ranking. (This paragraph will apply to you only if you use more than 
just one Analyzer for the set of your fields). I had six fields in my 
index, most of which were populated with a standard analyzer. I used 
self-made Analyzers for two of the fields. This turned out to be my 
problem when using MultiFieldQueryParser: I told my 
MultiFieldQueryParser instance to use only the standard analyzer. 
Instead I discovered that I needed to make use of 
org.apache.lucene.analysis.PerFieldAnalyzerWrapper and feed that to the 
MultiFieldQueryParser. Unless you do this, your problem is whats 
described here: 
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.in
dexing&toc=faq#q15.

Most likely, if your scoring is off, you're "doing something wrong" in 
the way you use the Lucene API -- at least, thats what I've discovered 
to be the case when my ranking is off.

If you're interested in the nitty-gritty of how scoring is done, check 
this FAQ entry:
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.se
arch&toc=faq#q31

cheers,
Gerret

Pleasant, Tracy wrote:

>Hi,
>
>I'm using the Multi Field Search to search all the fields of my
>documents during the search. 
>
>When it returns results the scores are numerically low - .06, .17, etc.
>I would think if I searched for "Dog" and there was a doc with "Dog" in
>the title and several times in the contents of a document that it would
>receive a score more like 1.0 or close to it.
>
>Is there a way that I can tweak the score?
>
>I tried using Boost but that did absolutely nothing.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:04:27 2003
Return-Path: 
 <lucene-user-return-6181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6610 invoked from network); 25 Nov 2003 16:04:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:04:27 -0000
Received: (qmail 60643 invoked by uid 500); 25 Nov 2003 16:03:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60616 invoked by uid 500); 25 Nov 2003 16:03:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60591 invoked from network); 25 Nov 2003 16:03:18 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:03:18 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Tue, 25 Nov
 2003 10:06:54 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNLT7584>; Tue, 25 Nov 2003 09:57:25 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DE5@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Tue, 25 Nov 2003 10:03:03 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13DDA194249541-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do have other problems with PDFBox-0.6.4.  For one, it has annoying debug
information at very low level parsing process.  The other, I got infinite
loop while indexing pdf files although they say the infinite loop bug has
been fixed in their release notes.  Anybody knows what's going on?

Thanks,
Oliver

 

-----Original Message-----
From: Ben Litchfield [mailto:ben@csh.rit.edu]
Sent: Tuesday, November 25, 2003 9:45 AM
To: Lucene Users List
Subject: RE: Lucene refresh index function (incremental indexing).



Yes, just add the log4j configuration.  The easiest way to do that is as a
system parameter like this

java -Dlog4j.configuration=log4j.xml org.apache.lucene.demo.IndexHTML
-create -index c:\\index ..

Where log4j.xml is the path to your log4j config, PDFBox has an example
one you can use.

Ben
http://www.pdfbox.org

On Tue, 25 Nov 2003, Zhou, Oliver wrote:

> Lucene doesn't have pdf parser.  In order to index pdf files you have to
add
> one by your self.  PDFBox is a good choice.  You may just ignore the
warning
> for log4j or you can add log4j in your classpath.
>
> Oliver
>
>
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: Monday, November 24, 2003 10:07 PM
> To: 'Lucene Users List'
> Subject: RE: Lucene refresh index function (incremental indexing).
>
>
> Does it support indexing the contents of pdf files? I have found one
project
> called PDFBox that can be integrated with Lucene to search inside of the
pdf
> files. Currently, Lucene can only search for the pdf filename. I tried
with
> PDFBox and I got the following message when I typed the command: java
> org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
>
> log4j:WARN No appenders could be found for logger
> (org.pdfbox.pdfparser.PDFParse
> r).
> log4j:WARN Please initialize the log4j system properly.
>
> Can anyone advise?
>
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Tuesday, November 25, 2003 5:01 AM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Tun Lin wrote:
> > These are the steps I took:
> >
> > 1) I compile all the files in a particular directory using the command:
> > java org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> > , putting all the indexed files in c:\\index.
> > 2) Everytime, I added an additional file in that directory. I need to
> > reindex/recompile that directory to generate the indexes again. As the
> > directory gets larger, the indexing takes a longer time.
> >
> > My question is how do I generate the indexes automatically everytime a
> > new document is added in that directory without me recompiling everytime
> manually?
>
> To update, try removing the '-create' from the command line.  The demo
code
> supports incremental updates.  It will re-scan the directory and figure
out
> which files have changed, what new files have appeared and which
previously
> existing files have been removed.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:05:55 2003
Return-Path: 
 <lucene-user-return-6182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7521 invoked from network); 25 Nov 2003 16:05:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:05:55 -0000
Received: (qmail 64527 invoked by uid 500); 25 Nov 2003 16:05:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64494 invoked by uid 500); 25 Nov 2003 16:05:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64477 invoked from network); 25 Nov 2003 16:05:12 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:05:12 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPG5DD12818
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:05:13 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX002010NBBC@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:04:23 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001230N9E6@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:04:23 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 11:04:13 -0500
Date: Tue, 25 Nov 2003 11:04:13 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Tokenizing text custom way
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E68B@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Tokenizing text custom way
Thread-Index: AcOzSDTAXgmkzJJvScO02RXKjFJzjwAJSKVQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 16:04:13.0677 (UTC)
 FILETIME=[C523C9D0:01C3B36D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not exactly and answer to the question but I haven't yet used the Token classes/functionality that came with Lucene. Can someone give me an idea of how and why one may use this?

 

-----Original Message-----
From: Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
Sent: Tuesday, November 25, 2003 6:42 AM
To: Lucene Users List
Subject: Tokenizing text custom way


Hi. I need to tokenize text while indexing but I don't want space to be delimiter. Delimiter should be my custom character (for example comma). I understand that I would probably need to implement my own analyzer, but could someone help me where to start. Is there any other way to do this without writing custom analyzer?

This is what I want to achieve.
If I have some text that will be indexed like following:

man, people, time out, sun

and if I enter 'time' as a search word, I don't want to get "time out" in results. I need exact keyword matching. I would achieve this if I tokenize "time out" as one token while idexing.

Maybe someone had similar problem? If someone knows how to handle this, please help me.

Dragan Jotanovic


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:12:57 2003
Return-Path: 
 <lucene-user-return-6184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10549 invoked from network); 25 Nov 2003 16:12:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:12:57 -0000
Received: (qmail 68625 invoked by uid 500); 25 Nov 2003 16:07:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68594 invoked by uid 500); 25 Nov 2003 16:07:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68573 invoked from network); 25 Nov 2003 16:07:22 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:07:22 -0000
Received: (qmail 28791 invoked by uid 0); 25 Nov 2003 16:07:24 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Tue, 25 Nov 2003 17:07:24 +0100 (MET)
Date: Tue, 25 Nov 2003 17:07:24 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: XML support in Lucene
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <27383.1069776444@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello group,

does Lucene offer an effective and flexible way to treat XML files. I know
that as soon as an InputStream is provided Lucene can basically index (evtl.
after clearning) everything. How is it with XML files?

If there is a way is it possbile to have one big XML file with many
individual parts in it. This should be considered as docuemnts and the repeative XML
tags as fields.

Here an example:

<MySMSList>
  <SMS>
    <From>Tim</From>
    <Content>How are you? Tom</Content>
  </SMS>
  <SMS>
     <From>Linda</From>
    <Content>bla bla bla</Content>
  <SMS>
</MySMSList>


Does somebody has already developed classes which go though this XML file,
create TWO documents with the fields "From" and "Content" and fill in the text
between the tags ? The Indexing business should then be the same since it is
abstract against the Document object. The same for the search process. The
search process however could be optimised with stuctural information (i.e.
only search in "Content")...

Cheers,
Ralph

-- 
NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService

Jetzt kostenlos anmelden unter http://www.gmx.net

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:12:32 2003
Return-Path: 
 <lucene-user-return-6183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10373 invoked from network); 25 Nov 2003 16:12:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:12:32 -0000
Received: (qmail 68553 invoked by uid 500); 25 Nov 2003 16:07:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68521 invoked by uid 500); 25 Nov 2003 16:07:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68471 invoked from network); 25 Nov 2003 16:07:21 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:07:20 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Tue, 25 Nov 2003 10:07:47 -0500
Message-ID: <00f901c3b36f$20f78520$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Eliminating duplicate result
Date: Tue, 25 Nov 2003 17:13:53 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00F6_01C3B377.80496680"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F6_01C3B377.80496680
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

What is the easyest way to eliminate duplicate documents if one is doing =
two searches on the same index?

Have anybody done something similar?


------=_NextPart_000_00F6_01C3B377.80496680--



From MAILER-DAEMON Tue Nov 25 16:22:59 2003
Return-Path: 
 <lucene-user-return-6185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16261 invoked from network); 25 Nov 2003 16:22:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:22:59 -0000
Received: (qmail 87336 invoked by uid 500); 25 Nov 2003 16:16:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87311 invoked by uid 500); 25 Nov 2003 16:16:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87293 invoked from network); 25 Nov 2003 16:16:43 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:16:43 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPGGZD25396
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:16:36 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00901163Q7@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:15:39 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001DF1632L@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:15:39 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 11:15:38 -0500
Date: Tue, 25 Nov 2003 11:15:38 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: XML support in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E68C@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: XML support in Lucene
Thread-Index: AcOzbxpED1r1eRA/TgGMZicO0JgvKgAAD12A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 16:15:38.0999 (UTC)
 FILETIME=[5D9FA070:01C3B36F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This may help you: 

http://www.jguru.com/faq/view.jsp?EID=1074235



-----Original Message-----
From: ambiesense@gmx.de [mailto:ambiesense@gmx.de]
Sent: Tuesday, November 25, 2003 11:07 AM
To: lucene-user@jakarta.apache.org
Subject: XML support in Lucene


Hello group,

does Lucene offer an effective and flexible way to treat XML files. I
know
that as soon as an InputStream is provided Lucene can basically index
(evtl.
after clearning) everything. How is it with XML files?

If there is a way is it possbile to have one big XML file with many
individual parts in it. This should be considered as docuemnts and the
repeative XML
tags as fields.

Here an example:

<MySMSList>
  <SMS>
    <From>Tim</From>
    <Content>How are you? Tom</Content>
  </SMS>
  <SMS>
     <From>Linda</From>
    <Content>bla bla bla</Content>
  <SMS>
</MySMSList>


Does somebody has already developed classes which go though this XML
file,
create TWO documents with the fields "From" and "Content" and fill in
the text
between the tags ? The Indexing business should then be the same since
it is
abstract against the Document object. The same for the search process.
The
search process however could be optimised with stuctural information
(i.e.
only search in "Content")...

Cheers,
Ralph

-- 
NEU FUR ALLE - GMX MediaCenter - fur Fotos, Musik, Dateien...
Fotoalbum, File Sharing, MMS, Multimedia-Gru?, GMX FotoService

Jetzt kostenlos anmelden unter http://www.gmx.net

+++ GMX - die erste Adresse fur Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:24:05 2003
Return-Path: 
 <lucene-user-return-6186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16708 invoked from network); 25 Nov 2003 16:24:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:24:05 -0000
Received: (qmail 87885 invoked by uid 500); 25 Nov 2003 16:16:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87854 invoked by uid 500); 25 Nov 2003 16:16:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87833 invoked from network); 25 Nov 2003 16:16:58 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:16:58 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPGGvD18657
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:16:57 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00A0116Z0O@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:16:11 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX002GU16Z20@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:16:11 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 11:16:10 -0500
Date: Tue, 25 Nov 2003 11:16:10 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Eliminating duplicate result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E68D@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Eliminating duplicate result
Thread-Index: AcOzbuazdV0FnyQ0Tu68kY81zW6hiAAAIsVg
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 16:16:10.0968 (UTC)
 FILETIME=[70ADB580:01C3B36F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When you are doing two searches are you searching for two different terms?

-----Original Message-----
From: Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
Sent: Tuesday, November 25, 2003 11:14 AM
To: Lucene Users List
Subject: Eliminating duplicate result


What is the easyest way to eliminate duplicate documents if one is doing two searches on the same index?

Have anybody done something similar?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:24:16 2003
Return-Path: 
 <lucene-user-return-6187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16893 invoked from network); 25 Nov 2003 16:24:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:24:16 -0000
Received: (qmail 89981 invoked by uid 500); 25 Nov 2003 16:18:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89950 invoked by uid 500); 25 Nov 2003 16:18:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89933 invoked from network); 25 Nov 2003 16:18:16 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:18:16 -0000
Message-ID: <20031125161819.55051.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.193] by web12703.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 08:18:19 PST
Date: Tue, 25 Nov 2003 08:18:19 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: XML support in Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <27383.1069776444@www5.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Check out the Resources page on Lucene's site.  Look for a link to the 
article about Lucene and Digester.  You can also look at Lucene's
Sandbox for some ideas.

Otis

--- ambiesense@gmx.de wrote:
> Hello group,
> 
> does Lucene offer an effective and flexible way to treat XML files. I
> know
> that as soon as an InputStream is provided Lucene can basically index
> (evtl.
> after clearning) everything. How is it with XML files?
> 
> If there is a way is it possbile to have one big XML file with many
> individual parts in it. This should be considered as docuemnts and
> the repeative XML
> tags as fields.
> 
> Here an example:
> 
> <MySMSList>
>   <SMS>
>     <From>Tim</From>
>     <Content>How are you? Tom</Content>
>   </SMS>
>   <SMS>
>      <From>Linda</From>
>     <Content>bla bla bla</Content>
>   <SMS>
> </MySMSList>
> 
> 
> Does somebody has already developed classes which go though this XML
> file,
> create TWO documents with the fields "From" and "Content" and fill in
> the text
> between the tags ? The Indexing business should then be the same
> since it is
> abstract against the Document object. The same for the search
> process. The
> search process however could be optimised with stuctural information
> (i.e.
> only search in "Content")...
> 
> Cheers,
> Ralph
> 
> -- 
> NEU F�R ALLE - GMX MediaCenter - f�r Fotos, Musik, Dateien...
> Fotoalbum, File Sharing, MMS, Multimedia-Gru�, GMX FotoService
> 
> Jetzt kostenlos anmelden unter http://www.gmx.net
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:31:24 2003
Return-Path: 
 <lucene-user-return-6188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20046 invoked from network); 25 Nov 2003 16:31:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:31:24 -0000
Received: (qmail 1948 invoked by uid 500); 25 Nov 2003 16:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1919 invoked by uid 500); 25 Nov 2003 16:24:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1896 invoked from network); 25 Nov 2003 16:24:37 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:24:37 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPGOdD26004
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:24:39 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00E011KGZZ@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:24:16 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001PR1KG2V@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:24:16 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 11:24:16 -0500
Date: Tue, 25 Nov 2003 11:24:15 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Lucene refresh index function (incremental indexing).
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E68F@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Lucene refresh index function (incremental indexing).
Thread-Index: AcOzcG7xN89C95DNQtKonglwaRJZWAAACBxQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 16:24:16.0146 (UTC)
 FILETIME=[91DDFF20:01C3B370]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I vaguely remmeber I had a problem back when I used 0.6.2. I reverted back and used 0.6.1 instead. I haven't had any problems.


-----Original Message-----
From: Zhou, Oliver [mailto:Oliver.Zhou@cignabehavioral.com]
Sent: Tuesday, November 25, 2003 11:03 AM
To: 'Lucene Users List'
Subject: RE: Lucene refresh index function (incremental indexing).


I do have other problems with PDFBox-0.6.4.  For one, it has annoying debug
information at very low level parsing process.  The other, I got infinite
loop while indexing pdf files although they say the infinite loop bug has
been fixed in their release notes.  Anybody knows what's going on?

Thanks,
Oliver

 

-----Original Message-----
From: Ben Litchfield [mailto:ben@csh.rit.edu]
Sent: Tuesday, November 25, 2003 9:45 AM
To: Lucene Users List
Subject: RE: Lucene refresh index function (incremental indexing).



Yes, just add the log4j configuration.  The easiest way to do that is as a
system parameter like this

java -Dlog4j.configuration=log4j.xml org.apache.lucene.demo.IndexHTML
-create -index c:\\index ..

Where log4j.xml is the path to your log4j config, PDFBox has an example
one you can use.

Ben
http://www.pdfbox.org

On Tue, 25 Nov 2003, Zhou, Oliver wrote:

> Lucene doesn't have pdf parser.  In order to index pdf files you have to
add
> one by your self.  PDFBox is a good choice.  You may just ignore the
warning
> for log4j or you can add log4j in your classpath.
>
> Oliver
>
>
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: Monday, November 24, 2003 10:07 PM
> To: 'Lucene Users List'
> Subject: RE: Lucene refresh index function (incremental indexing).
>
>
> Does it support indexing the contents of pdf files? I have found one
project
> called PDFBox that can be integrated with Lucene to search inside of the
pdf
> files. Currently, Lucene can only search for the pdf filename. I tried
with
> PDFBox and I got the following message when I typed the command: java
> org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
>
> log4j:WARN No appenders could be found for logger
> (org.pdfbox.pdfparser.PDFParse
> r).
> log4j:WARN Please initialize the log4j system properly.
>
> Can anyone advise?
>
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Tuesday, November 25, 2003 5:01 AM
> To: Lucene Users List
> Subject: Re: Lucene refresh index function (incremental indexing).
>
> Tun Lin wrote:
> > These are the steps I took:
> >
> > 1) I compile all the files in a particular directory using the command:
> > java org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> > , putting all the indexed files in c:\\index.
> > 2) Everytime, I added an additional file in that directory. I need to
> > reindex/recompile that directory to generate the indexes again. As the
> > directory gets larger, the indexing takes a longer time.
> >
> > My question is how do I generate the indexes automatically everytime a
> > new document is added in that directory without me recompiling everytime
> manually?
>
> To update, try removing the '-create' from the command line.  The demo
code
> supports incremental updates.  It will re-scan the directory and figure
out
> which files have changed, what new files have appeared and which
previously
> existing files have been removed.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:36:05 2003
Return-Path: 
 <lucene-user-return-6189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22693 invoked from network); 25 Nov 2003 16:36:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:36:05 -0000
Received: (qmail 11510 invoked by uid 500); 25 Nov 2003 16:30:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11479 invoked by uid 500); 25 Nov 2003 16:30:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11454 invoked from network); 25 Nov 2003 16:30:09 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:30:09 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1AOg4p-00081v-Nf
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 10:30:11 -0600
Message-Id: <6.0.0.22.0.20031125112647.021066a0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 25 Nov 2003 11:30:09 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Collaborative Filtering API
In-Reply-To: <31220.1069775379@www5.gmx.net>
References: <31220.1069775379@www5.gmx.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should check out the work of Jon Herlocker at Oregon State 
(http://eecs.oregonstate.edu/iis/).  They have written a CF engine that has 
been on my to-do list to check out for a few months (sounds good on 
"paper").  If you get the chance to play with it, I'd be curious to hear 
your feedback.  Having a CF engine in the open source domain would be a 
great thing.

-Mike

At 10:49 AM 11/25/2003, you wrote:
>Hello togehter,
>
>I am asking this group because I think people here might know about this
>since it is a similar approach.
>
>Is there a Java based API which assist developers of collaborative filtering
>in their programs. With this I mean software, which does use user ratings
>between items and provide ways (algorithsm, methods) to find users with 
>similar
>interests for prediction generation. Finding a API like Lucene would be
>dream for me but any pointer to other API's (also in other programming 
>lanuages)
>to see and learn from would be appreciated.
>
>Kind Regards



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:48:07 2003
Return-Path: 
 <lucene-user-return-6190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29520 invoked from network); 25 Nov 2003 16:48:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:48:07 -0000
Received: (qmail 32378 invoked by uid 500); 25 Nov 2003 16:42:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32355 invoked by uid 500); 25 Nov 2003 16:42:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32327 invoked from network); 25 Nov 2003 16:42:23 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:42:23 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPGgOD11970
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:42:25 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX003012EMIF@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:42:22 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001102EM8K@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 11:42:22 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 11:42:22 -0500
Date: Tue, 25 Nov 2003 11:42:21 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Searching different types of words
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E691@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Collaborative Filtering API
Thread-Index: AcOzci3aF2SF5YxwQK6+erwYSfv1mQAAMjFg
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 16:42:22.0488 (UTC)
 FILETIME=[1960A180:01C3B373]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I search for "like" I would want the search to return documents
containing "like", "liked", "likes", etc.. variations of the word.

Is there a way to tell Lucene to do this? 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 16:51:15 2003
Return-Path: 
 <lucene-user-return-6191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31371 invoked from network); 25 Nov 2003 16:51:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 16:51:15 -0000
Received: (qmail 40376 invoked by uid 500); 25 Nov 2003 16:47:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40341 invoked by uid 500); 25 Nov 2003 16:47:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40278 invoked from network); 25 Nov 2003 16:47:33 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:47:33 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id RAA20274
        for <lucene-user@jakarta.apache.org>;
 Tue, 25 Nov 2003 17:50:11 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id RAA20270
        for <lucene-user@jakarta.apache.org>;
 Tue, 25 Nov 2003 17:50:10 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id RAA27142
        for <lucene-user@jakarta.apache.org>;
 Tue, 25 Nov 2003 17:50:01 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <XNX3SFTV>; Tue, 25 Nov 2003 17:48:18 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA9F@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Tokenizing text custom way
Date: Tue, 25 Nov 2003 17:48:16 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3B373.EC97B1E2"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3B373.EC97B1E2
Content-Type: text/plain;
	charset="iso-8859-1"

Hi.

You should define expressions.
To define expressions, you first have to define an expression file.
An expression file contains one expressions per line.
For instance :
	time_out
	expert_system
	...
You can use any character to specify the "expression link". Here, I use the
underscore (_).

Then, you have to build an expression loader. You can store expressions in
recursives HashMap.
Such HashMap must be built so that HashMap.get("word1") = HashMap, and
(HashMap.get("word1")).get("word2") = null, if you want to code the
expression "word1_word2".
In other words 'HashMap.get("a_word")' returns a hashMap containing all the
successors of the word 'a_word'.

So, if your expression file looks like that :
	time_out
	expert_system
	expert_in_information

you'll have to build a loader which returns a HashMap H so that :
	H.keySet() = {"time", "expert"}
	((HashMap)H.get("time")).keySet = {"out"}
	((HashMap)H.get("time")).get("out") = null // null indicates the end
of the expression
	((HashMap)H.get("expert")).keySet = {"system", "in"}
	((HashMap)H.get("expert")).get("system") = null
	((HashMap)((HashMap)H.get("expert")).get("in")).keySet() =
{"information"}
	((HashMap)((HashMap)H.get("expert")).get("in")).get("information") =
null

These recursives HashMaps code the following tree :
	time - out - null
	system --- expert - null
		  |- in - information- null

Such an expression loader may be designed this way :

	public static HashMap getExpressionMap( File wordfile ) {
		HashMap result = new HashMap();
		
		try 
		{
			String line = null;
			LineNumberReader in = new LineNumberReader(new
FileReader(wordfile));
			HashMap hashToAdd = null;
			
			while ((line = in.readLine()) != null)
			{
				if (line.startsWith(FILE_COMMENT_CHARACTER))
					continue;

				if (line.trim().length() == 0)
					continue;

				StringTokenizer stok = new
StringTokenizer(line, " \t_");
				String curTok = "";
				HashMap currentHash = result;
				
				// Test wether the expression contains 2 at
least words or not
				if (stok.countTokens() < 2)
				{
					System.err.println("Warning : '" +
line + "' in file '" + wordfile.getAbsolutePath() + "' line " +
in.getLineNumber() +
						" is not an expression.\n\tA
valid expression contains at least 2 words.");
					continue;
				}
				
				while (stok.hasMoreTokens())
				{
					curTok = stok.nextToken();
					if
(curTok.startsWith(FILE_COMMENT_CHARACTER)) // if comment at the end of the
line, break
						break;
					if (stok.hasMoreTokens())
						hashToAdd = new HashMap(6);
					else
						hashToAdd = (HashMap)null;
						
					if
(!(currentHash.containsKey(curTok)))
						currentHash.put(curTok,
hashToAdd);
						
					currentHash =
(HashMap)currentHash.get(curTok);
				}
			}
			return result;
		}
		// On error, use an empty table
		catch ( Exception e ) 
		{
			System.err.println("While processing '" +
wordfile.getAbsolutePath() + "' : " + e.getMessage());
			e.printStackTrace();
			return new HashMap();
		}
	}


Then, you must build a filter with 2 FIFO stacks : one is the expression
stack, the other is the default stack.
Then, you define a 'curMap' variable, initially pointing onto the HashMap
returned by the ExpressionFileLoader.

When you receive a token, you check wether it is null or not;
	If it is, you check if the standard stack is null or not.
		If it is not, you pop a token from the default stack and you
return it.
		If it is, you return null
	If it is not (the token is not null), you check whether it is
contained in the HashMap or not (curMap.containsKey(token)).
		If it is not contained and you were building an expression,
you pop all the terms in the expression stack to push them in the default
stack (so as not to loose information)
		If it is not contained and the default stack is empty, you
return the token.
		If it is not conatined and the default stack is not empty,
you return the poped token from the default stack and you push the current
token.
	If the token is contained in the curMap, then the token MAY be the
first element of an expression.
		You push the token in the expression stack, and you dive
into the next level in your expression tree (curMap = curMap.get("token"))
		If the next level (now, curMap), is null, then you have
completed your expression. You can pop all the tokens from the expresion
stack to concatenate them, separated by underscores, and push the resulting
String as a token on the default heap (so as to keep the correct tokens
oreder in the token stream)
		You also set a flag "I'm in an expression" (expr_falg)


With this short algorithm, you will build expressions, i.e., if an
expression is detected, it will be returned as such, and if it is not, it
will return the tokens, unmodified, in their orginal order.

Hope this will help.

Gilles Moyse

-----Message d'origine-----
De : Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
Envoy� : mardi 25 novembre 2003 12:42
� : Lucene Users List
Objet : Tokenizing text custom way


Hi. I need to tokenize text while indexing but I don't want space to be
delimiter. Delimiter should be my custom character (for example comma). I
understand that I would probably need to implement my own analyzer, but
could someone help me where to start. Is there any other way to do this
without writing custom analyzer?

This is what I want to achieve.
If I have some text that will be indexed like following:

man, people, time out, sun

and if I enter 'time' as a search word, I don't want to get "time out" in
results. I need exact keyword matching. I would achieve this if I tokenize
"time out" as one token while idexing.

Maybe someone had similar problem? If someone knows how to handle this,
please help me.

Dragan Jotanovic


------_=_NextPart_001_01C3B373.EC97B1E2--

From MAILER-DAEMON Tue Nov 25 17:08:25 2003
Return-Path: 
 <lucene-user-return-6192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39574 invoked from network); 25 Nov 2003 17:08:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:08:25 -0000
Received: (qmail 60620 invoked by uid 500); 25 Nov 2003 16:58:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60586 invoked by uid 500); 25 Nov 2003 16:58:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60565 invoked from network); 25 Nov 2003 16:58:05 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 25 Nov 2003 16:58:05 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 2A7161ED
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:58:08 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id F1C89133D; Tue, 25 Nov 2003 11:58:07 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id E40691339
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 11:58:07 -0500 (EST)
Date: Tue, 25 Nov 2003 11:58:07 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DE5@mccexc02.mcc_genesis.behavioral.com>
Message-ID: <Pine.GSO.4.53.0311251156110.25041@fury.csh.rit.edu>
References: 
 <CD6C59E38692CC4294619611087313760C4F4DE5@mccexc02.mcc_genesis.behavioral.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Logging uses log4j and can be configured.  If you are having issues with
specific PDFs then you can post a bug on the sourceforge site or mail me
the PDFs directly and I will look at them.

Ben
http://www.pdfbox.org


On Tue, 25 Nov 2003, Zhou, Oliver wrote:

> I do have other problems with PDFBox-0.6.4.  For one, it has annoying debug
> information at very low level parsing process.  The other, I got infinite
> loop while indexing pdf files although they say the infinite loop bug has
> been fixed in their release notes.  Anybody knows what's going on?
>
> Thanks,
> Oliver
>
>
>
> -----Original Message-----
> From: Ben Litchfield [mailto:ben@csh.rit.edu]
> Sent: Tuesday, November 25, 2003 9:45 AM
> To: Lucene Users List
> Subject: RE: Lucene refresh index function (incremental indexing).
>
>
>
> Yes, just add the log4j configuration.  The easiest way to do that is as a
> system parameter like this
>
> java -Dlog4j.configuration=log4j.xml org.apache.lucene.demo.IndexHTML
> -create -index c:\\index ..
>
> Where log4j.xml is the path to your log4j config, PDFBox has an example
> one you can use.
>
> Ben
> http://www.pdfbox.org
>
> On Tue, 25 Nov 2003, Zhou, Oliver wrote:
>
> > Lucene doesn't have pdf parser.  In order to index pdf files you have to
> add
> > one by your self.  PDFBox is a good choice.  You may just ignore the
> warning
> > for log4j or you can add log4j in your classpath.
> >
> > Oliver
> >
> >
> > -----Original Message-----
> > From: Tun Lin [mailto:chentun@singnet.com.sg]
> > Sent: Monday, November 24, 2003 10:07 PM
> > To: 'Lucene Users List'
> > Subject: RE: Lucene refresh index function (incremental indexing).
> >
> >
> > Does it support indexing the contents of pdf files? I have found one
> project
> > called PDFBox that can be integrated with Lucene to search inside of the
> pdf
> > files. Currently, Lucene can only search for the pdf filename. I tried
> with
> > PDFBox and I got the following message when I typed the command: java
> > org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> >
> > log4j:WARN No appenders could be found for logger
> > (org.pdfbox.pdfparser.PDFParse
> > r).
> > log4j:WARN Please initialize the log4j system properly.
> >
> > Can anyone advise?
> >
> > -----Original Message-----
> > From: Doug Cutting [mailto:cutting@lucene.com]
> > Sent: Tuesday, November 25, 2003 5:01 AM
> > To: Lucene Users List
> > Subject: Re: Lucene refresh index function (incremental indexing).
> >
> > Tun Lin wrote:
> > > These are the steps I took:
> > >
> > > 1) I compile all the files in a particular directory using the command:
> > > java org.apache.lucene.demo.IndexHTML -create -index c:\\index ..
> > > , putting all the indexed files in c:\\index.
> > > 2) Everytime, I added an additional file in that directory. I need to
> > > reindex/recompile that directory to generate the indexes again. As the
> > > directory gets larger, the indexing takes a longer time.
> > >
> > > My question is how do I generate the indexes automatically everytime a
> > > new document is added in that directory without me recompiling everytime
> > manually?
> >
> > To update, try removing the '-create' from the command line.  The demo
> code
> > supports incremental updates.  It will re-scan the directory and figure
> out
> > which files have changed, what new files have appeared and which
> previously
> > existing files have been removed.
> >
> > Doug
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:09:32 2003
Return-Path: 
 <lucene-user-return-6193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40094 invoked from network); 25 Nov 2003 17:09:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:09:32 -0000
Received: (qmail 64147 invoked by uid 500); 25 Nov 2003 17:00:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64122 invoked by uid 500); 25 Nov 2003 17:00:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64102 invoked from network); 25 Nov 2003 17:00:02 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:00:02 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPH03D18468
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:00:04 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00E01382GC@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:00:02 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX005H1382XG@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:00:02 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:00:02 -0500
Date: Tue, 25 Nov 2003 12:00:01 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Search Question
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E694@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Tokenizing text custom way
Thread-Index: AcOzdIdRDWV3JQd9StS84jpdX6hPFgAANk1g
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:00:02.0564 (UTC)
 FILETIME=[913B6440:01C3B375]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


 If I have words within a document like 
 
 red_car
 
 If I search for 'red' would it return documents containing 'red_car'? 

 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:20:45 2003
Return-Path: 
 <lucene-user-return-6194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47502 invoked from network); 25 Nov 2003 17:20:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:20:45 -0000
Received: (qmail 86037 invoked by uid 500); 25 Nov 2003 17:12:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86008 invoked by uid 500); 25 Nov 2003 17:12:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85986 invoked from network); 25 Nov 2003 17:12:42 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:12:42 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPHCeD26554
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:12:41 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00L013R0QW@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:11:24 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001933R0CS@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:11:24 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:11:23 -0500
Date: Tue, 25 Nov 2003 12:11:23 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Search Question - not returning desired results
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E7A@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Tokenizing text custom way
Thread-Index: AcOzdIdRDWV3JQd9StS84jpdX6hPFgAAZ2HA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:11:23.0870 (UTC)
 FILETIME=[27526FE0:01C3B377]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


The documents I have index contain information regarding file names also.

For instance 'return_results.pl' or something like that may be in the document fields.

I am not understanding Lucene's way of searching:

1. If I search for 'return_results', the search does not return anything
2. If I search for 'results' or 'return', the search does not return anything
3. If I search for 'results.pl', the search does return the document containg 'return_results.pl' 
4. If I search for 'results~', the search does return the document containg 'return_results.pl' 
5. If I search for 'return_results~', the search does not return anything

What is going on? 

I want it to return the document in all of the situations.

I also don't want to have to use '~' all the time.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:25:20 2003
Return-Path: 
 <lucene-user-return-6195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50175 invoked from network); 25 Nov 2003 17:25:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:25:20 -0000
Received: (qmail 94540 invoked by uid 500); 25 Nov 2003 17:18:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94497 invoked by uid 500); 25 Nov 2003 17:18:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94434 invoked from network); 25 Nov 2003 17:18:09 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:18:09 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPHIAD29155
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:18:10 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX0020141LBS@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:17:45 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001CQ41KGK@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:17:44 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:17:42 -0500
Date: Tue, 25 Nov 2003 12:17:41 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Hits Highlighting
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E696@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Lucene refresh index function (incremental indexing).
Thread-Index: AcOzds2DI/rVTVzrS76bsWJ6LEWMlQAAR/vw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:17:42.0531 (UTC)
 FILETIME=[09058530:01C3B378]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


 Are there any  hits highlighting functions? 

 I have a simple one, but it gets complicated with searching multiple
words, having tokens, etc.


 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:25:26 2003
Return-Path: 
 <lucene-user-return-6196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50275 invoked from network); 25 Nov 2003 17:25:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:25:26 -0000
Received: (qmail 94969 invoked by uid 500); 25 Nov 2003 17:18:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94944 invoked by uid 500); 25 Nov 2003 17:18:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94916 invoked from network); 25 Nov 2003 17:18:26 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:18:26 -0000
Received: (qmail 19035 invoked by uid 0); 25 Nov 2003 17:18:29 -0000
Received: from 193.63.235.44 by www5.gmx.net with HTTP;
	Tue, 25 Nov 2003 18:18:29 +0100 (MET)
Date: Tue, 25 Nov 2003 18:18:29 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <6.0.0.22.0.20031125112647.021066a0@mail.visionstudio.com>
Subject: Re: Collaborative Filtering API
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <32452.1069780709@www5.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Mike,

I had a quick look over the javadoc and it looks promising, as you said. Did
Jon Herlocker worked on GroupLens? I know GroupLens was quite a pioneer work
in the early days of collaborative systems...

Cheers
Ralph

> You should check out the work of Jon Herlocker at Oregon State 
> (http://eecs.oregonstate.edu/iis/).  They have written a CF engine that
> has 
> been on my to-do list to check out for a few months (sounds good on 
> "paper").  If you get the chance to play with it, I'd be curious to hear 
> your feedback.  Having a CF engine in the open source domain would be a 
> great thing.
> 
> -Mike
> 
> At 10:49 AM 11/25/2003, you wrote:
> >Hello togehter,
> >
> >I am asking this group because I think people here might know about this
> >since it is a similar approach.
> >
> >Is there a Java based API which assist developers of collaborative
> filtering
> >in their programs. With this I mean software, which does use user ratings
> >between items and provide ways (algorithsm, methods) to find users with 
> >similar
> >interests for prediction generation. Finding a API like Lucene would be
> >dream for me but any pointer to other API's (also in other programming 
> >lanuages)
> >to see and learn from would be appreciated.
> >
> >Kind Regards
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
GMX Weihnachts-Special: Seychellen-Traumreise zu gewinnen!

Rentier entlaufen. Finden Sie Rudolph! Als Belohnung winken
tolle Preise. http://www.gmx.net/de/cgi/specialmail/

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:28:21 2003
Return-Path: 
 <lucene-user-return-6197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51457 invoked from network); 25 Nov 2003 17:28:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:28:21 -0000
Received: (qmail 1683 invoked by uid 500); 25 Nov 2003 17:22:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1655 invoked by uid 500); 25 Nov 2003 17:22:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1634 invoked from network); 25 Nov 2003 17:22:23 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:22:23 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 2B9DD5D23
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 09:22:27 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPHMRH2040605
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 09:22:27 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 09:22:27 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Question
Message-ID: <20031125172227.GT30893@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E694@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E694@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, but if you use the standard analyzer searching "red*" will return
documents with "read_car"

On Tue, Nov 25, 2003 at 12:00:01PM -0500, Pleasant, Tracy wrote:
> 
>  If I have words within a document like 
>  
>  red_car
>  
>  If I search for 'red' would it return documents containing 'red_car'? 
> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:32:46 2003
Return-Path: 
 <lucene-user-return-6198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53660 invoked from network); 25 Nov 2003 17:32:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:32:46 -0000
Received: (qmail 10162 invoked by uid 500); 25 Nov 2003 17:28:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10136 invoked by uid 500); 25 Nov 2003 17:28:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10122 invoked from network); 25 Nov 2003 17:28:38 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:28:38 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 43E2F5D23
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 09:28:42 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPHSggE040612
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 09:28:42 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 09:28:42 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Hits Highlighting
Message-ID: <20031125172842.GU30893@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E696@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E696@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

The lucene home page has a lot of resources, including the FAQs,
articles, javadocs and contributions. 

For instance, there's a query hilighter in the contributions page. 



On Tue, Nov 25, 2003 at 12:17:41PM -0500, Pleasant, Tracy wrote:
> 
>  Are there any  hits highlighting functions? 
> 
>  I have a simple one, but it gets complicated with searching multiple
> words, having tokens, etc.
> 
> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:34:57 2003
Return-Path: 
 <lucene-user-return-6199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54838 invoked from network); 25 Nov 2003 17:34:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:34:57 -0000
Received: (qmail 13777 invoked by uid 500); 25 Nov 2003 17:31:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13752 invoked by uid 500); 25 Nov 2003 17:31:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13732 invoked from network); 25 Nov 2003 17:31:20 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:31:20 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPHVGD04022
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:31:18 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX009014NFTR@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:30:51 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001NV4NFGK@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:30:51 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:30:51 -0500
Date: Tue, 25 Nov 2003 12:30:50 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Search Question
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E697@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Search Question
Thread-Index: AcOzeXmZENECarsVQSGghVoKEZPDIAAAE6UA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:30:51.0228 (UTC)
 FILETIME=[DF1F21C0:01C3B379]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 How come if I search for 'red_car*' it returns nothing.

 I am using standard analyzer, too. 

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Tuesday, November 25, 2003 12:22 PM
To: Lucene Users List
Subject: Re: Search Question


No, but if you use the standard analyzer searching "red*" will return
documents with "read_car"

On Tue, Nov 25, 2003 at 12:00:01PM -0500, Pleasant, Tracy wrote:
> 
>  If I have words within a document like 
>  
>  red_car
>  
>  If I search for 'red' would it return documents containing 'red_car'?

> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:37:45 2003
Return-Path: 
 <lucene-user-return-6200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55830 invoked from network); 25 Nov 2003 17:37:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:37:45 -0000
Received: (qmail 16189 invoked by uid 500); 25 Nov 2003 17:33:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16165 invoked by uid 500); 25 Nov 2003 17:33:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16146 invoked from network); 25 Nov 2003 17:32:59 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:32:59 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPHWqD05382
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:32:55 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00A014QPPQ@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:32:49 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001HL4Q9AN@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:32:49 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:32:46 -0500
Date: Tue, 25 Nov 2003 12:32:46 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Search Question
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E698@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Search Question
Thread-Index: AcOzeXmZENECarsVQSGghVoKEZPDIAAAKi0Q
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:32:46.0761 (UTC)
 FILETIME=[23FC1190:01C3B37A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also searching 'red_*' returns nothing, also.





-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Tuesday, November 25, 2003 12:22 PM
To: Lucene Users List
Subject: Re: Search Question


No, but if you use the standard analyzer searching "red*" will return
documents with "read_car"

On Tue, Nov 25, 2003 at 12:00:01PM -0500, Pleasant, Tracy wrote:
> 
>  If I have words within a document like 
>  
>  red_car
>  
>  If I search for 'red' would it return documents containing 'red_car'?

> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:40:11 2003
Return-Path: 
 <lucene-user-return-6201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57212 invoked from network); 25 Nov 2003 17:40:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:40:11 -0000
Received: (qmail 19756 invoked by uid 500); 25 Nov 2003 17:35:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19716 invoked by uid 500); 25 Nov 2003 17:35:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19700 invoked from network); 25 Nov 2003 17:35:36 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:35:36 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAPHZcD06699
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 12:35:38 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOX00C014VDIO@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:35:37 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOX001ZT4VD0E@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 25 Nov 2003 12:35:37 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 25 Nov 2003 12:35:37 -0500
Date: Tue, 25 Nov 2003 12:35:36 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Hits Highlighting
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E699@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Hits Highlighting
Thread-Index: AcOzejCme+VG5YBUS+qL6oFYYfL1dQAABKGg
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Nov 2003 17:35:37.0466 (UTC)
 FILETIME=[89BB95A0:01C3B37A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have seen that one, but it doesn't include the source code, only the
jar with classes.

I need something to actually highlight - like if you took a yellow
marker and highlighted,not doing it in bold.  

 

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Tuesday, November 25, 2003 12:29 PM
To: Lucene Users List
Subject: Re: Hits Highlighting


Hi,

The lucene home page has a lot of resources, including the FAQs,
articles, javadocs and contributions. 

For instance, there's a query hilighter in the contributions page. 



On Tue, Nov 25, 2003 at 12:17:41PM -0500, Pleasant, Tracy wrote:
> 
>  Are there any  hits highlighting functions? 
> 
>  I have a simple one, but it gets complicated with searching multiple
> words, having tokens, etc.
> 
> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:43:18 2003
Return-Path: 
 <lucene-user-return-6202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58481 invoked from network); 25 Nov 2003 17:43:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:43:18 -0000
Received: (qmail 24278 invoked by uid 500); 25 Nov 2003 17:38:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24252 invoked by uid 500); 25 Nov 2003 17:38:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24232 invoked from network); 25 Nov 2003 17:38:38 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:38:38 -0000
Message-ID: <20031125173718.77304.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.193] by web12703.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 09:37:18 PST
Date: Tue, 25 Nov 2003 09:37:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search Question - not returning desired results
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E7A@EMSS04M14.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You have to look at Analyzers.
Figure out which one you are using and why, and see if you should be
using a different one or even write your own.
Some of the Analyzers break input on certain tokens (e.g. . or _ or
...), which sounds like the problem is here.

I think Erik's java.net article about Lucene may explain some of these
things.
You could also look at Lucene's unit tests to understand Analyzers
better.

Otis


--- "Pleasant, Tracy" <tracy.pleasant@lmco.com> wrote:
> 
> The documents I have index contain information regarding file names
> also.
> 
> For instance 'return_results.pl' or something like that may be in the
> document fields.
> 
> I am not understanding Lucene's way of searching:
> 
> 1. If I search for 'return_results', the search does not return
> anything
> 2. If I search for 'results' or 'return', the search does not return
> anything
> 3. If I search for 'results.pl', the search does return the document
> containg 'return_results.pl' 
> 4. If I search for 'results~', the search does return the document
> containg 'return_results.pl' 
> 5. If I search for 'return_results~', the search does not return
> anything
> 
> What is going on? 
> 
> I want it to return the document in all of the situations.
> 
> I also don't want to have to use '~' all the time.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:46:01 2003
Return-Path: 
 <lucene-user-return-6203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59549 invoked from network); 25 Nov 2003 17:46:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:46:01 -0000
Received: (qmail 26992 invoked by uid 500); 25 Nov 2003 17:40:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26967 invoked by uid 500); 25 Nov 2003 17:40:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26940 invoked from network); 25 Nov 2003 17:40:25 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:40:25 -0000
Message-ID: <20031125173931.77649.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.193] by web12703.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 09:39:31 PST
Date: Tue, 25 Nov 2003 09:39:31 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Search Question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E698@EMSS04M14.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Because '_' wa sprobably removed from your input before it was indexed.

I suggest reading up on Analyzers and Tokenizers.

Otis

--- "Pleasant, Tracy" <tracy.pleasant@lmco.com> wrote:
> Also searching 'red_*' returns nothing, also.
> 
> 
> 
> 
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Tuesday, November 25, 2003 12:22 PM
> To: Lucene Users List
> Subject: Re: Search Question
> 
> 
> No, but if you use the standard analyzer searching "red*" will return
> documents with "read_car"
> 
> On Tue, Nov 25, 2003 at 12:00:01PM -0500, Pleasant, Tracy wrote:
> > 
> >  If I have words within a document like 
> >  
> >  red_car
> >  
> >  If I search for 'red' would it return documents containing
> 'red_car'?
> 
> > 
> >  
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:49:13 2003
Return-Path: 
 <lucene-user-return-6204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60810 invoked from network); 25 Nov 2003 17:49:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:49:13 -0000
Received: (qmail 30404 invoked by uid 500); 25 Nov 2003 17:42:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30368 invoked by uid 500); 25 Nov 2003 17:42:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30351 invoked from network); 25 Nov 2003 17:42:16 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:42:16 -0000
Message-ID: <20031125174220.58355.qmail@web12707.mail.yahoo.com>
Received: from [194.152.226.193] by web12707.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 09:42:20 PST
Date: Tue, 25 Nov 2003 09:42:20 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searching different types of words
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E691@EMSS04M14.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes.
For this particular example, PorterStemFilter will do the job.
For more complex things (e.g. a search for car returning car, auto,
automobile, vehicle) you'll need to add thesaurus-like capability to
your indexer.  This can be done by writing a custom Analyzer.

It sounds like you have a lot of questions, but have not read much
Lucene documentation. :)

Otis


--- "Pleasant, Tracy" <tracy.pleasant@lmco.com> wrote:
> If I search for "like" I would want the search to return documents
> containing "like", "liked", "likes", etc.. variations of the word.
> 
> Is there a way to tell Lucene to do this? 



__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:51:28 2003
Return-Path: 
 <lucene-user-return-6205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61466 invoked from network); 25 Nov 2003 17:51:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:51:28 -0000
Received: (qmail 32537 invoked by uid 500); 25 Nov 2003 17:43:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32508 invoked by uid 500); 25 Nov 2003 17:43:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32491 invoked from network); 25 Nov 2003 17:43:35 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:43:35 -0000
Message-ID: <20031125174335.4460.qmail@web12704.mail.yahoo.com>
Received: from [194.152.226.193] by web12704.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 09:43:35 PST
Date: Tue, 25 Nov 2003 09:43:35 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Hits Highlighting
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E699@EMSS04M14.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There are several Lucene highlighting solutions for Lucene out there.
I know of two that include source code, and I think at least one of
them is on the Contributions page.
There are some threads that talk about this issue, too.

Otis

--- "Pleasant, Tracy" <tracy.pleasant@lmco.com> wrote:
> I have seen that one, but it doesn't include the source code, only
> the
> jar with classes.
> 
> I need something to actually highlight - like if you took a yellow
> marker and highlighted,not doing it in bold.  
> 
>  
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Tuesday, November 25, 2003 12:29 PM
> To: Lucene Users List
> Subject: Re: Hits Highlighting
> 
> 
> Hi,
> 
> The lucene home page has a lot of resources, including the FAQs,
> articles, javadocs and contributions. 
> 
> For instance, there's a query hilighter in the contributions page. 
> 
> 
> 
> On Tue, Nov 25, 2003 at 12:17:41PM -0500, Pleasant, Tracy wrote:
> > 
> >  Are there any  hits highlighting functions? 
> > 
> >  I have a simple one, but it gets complicated with searching
> multiple
> > words, having tokens, etc.
> > 
> > 
> >  
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:53:30 2003
Return-Path: 
 <lucene-user-return-6206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62058 invoked from network); 25 Nov 2003 17:53:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:53:30 -0000
Received: (qmail 35310 invoked by uid 500); 25 Nov 2003 17:45:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35283 invoked by uid 500); 25 Nov 2003 17:45:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35241 invoked from network); 25 Nov 2003 17:45:11 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:45:11 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id DB5565D24
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 09:45:14 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPHjF6V040645
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 09:45:15 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 09:45:14 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Question
Message-ID: <20031125174514.GW30893@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E697@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E697@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Nov 25, 2003 at 12:30:50PM -0500, Pleasant, Tracy wrote:
>  How come if I search for 'red_car*' it returns nothing.

Looks like lucene interprets '_' as a stop word. So 'red_car' is
actually "red car" with the double quotes. I'm not sure why it does
that.

> 
>  I am using standard analyzer, too. 
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Tuesday, November 25, 2003 12:22 PM
> To: Lucene Users List
> Subject: Re: Search Question
> 
> 
> No, but if you use the standard analyzer searching "red*" will return
> documents with "read_car"

I meant red_car in here.

> 
> On Tue, Nov 25, 2003 at 12:00:01PM -0500, Pleasant, Tracy wrote:
> > 
> >  If I have words within a document like 
> >  
> >  red_car
> >  
> >  If I search for 'red' would it return documents containing 'red_car'?
> 
> > 
> >  
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 17:59:43 2003
Return-Path: 
 <lucene-user-return-6207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64820 invoked from network); 25 Nov 2003 17:59:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 17:59:43 -0000
Received: (qmail 48032 invoked by uid 500); 25 Nov 2003 17:52:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47986 invoked by uid 500); 25 Nov 2003 17:52:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47967 invoked from network); 25 Nov 2003 17:52:15 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 25 Nov 2003 17:52:15 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 0E8245D22
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 09:52:19 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPHqJ8o040656
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 09:52:19 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 09:52:19 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Hits Highlighting
Message-ID: <20031125175219.GX30893@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E699@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E699@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can always try:

http://www.google.com/search?q=lucene+highlight&sourceid=mozilla-search&start=0&start=0&ie=utf-8&oe=utf-8

Which leads to various things including

http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02893.html

which includes an example at 

http://www.oscom.org/search/go?publication-id=all&queryString=Lenya&fields=all&find=Search

As far as making it look yellog rather than bold, you'll need to
customize the code to generate the right HTML.

Regards,

Dror

On Tue, Nov 25, 2003 at 12:35:36PM -0500, Pleasant, Tracy wrote:
> I have seen that one, but it doesn't include the source code, only the
> jar with classes.
> 
> I need something to actually highlight - like if you took a yellow
> marker and highlighted,not doing it in bold.  
> 
>  
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Tuesday, November 25, 2003 12:29 PM
> To: Lucene Users List
> Subject: Re: Hits Highlighting
> 
> 
> Hi,
> 
> The lucene home page has a lot of resources, including the FAQs,
> articles, javadocs and contributions. 
> 
> For instance, there's a query hilighter in the contributions page. 
> 
> 
> 
> On Tue, Nov 25, 2003 at 12:17:41PM -0500, Pleasant, Tracy wrote:
> > 
> >  Are there any  hits highlighting functions? 
> > 
> >  I have a simple one, but it gets complicated with searching multiple
> > words, having tokens, etc.
> > 
> > 
> >  
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 18:32:58 2003
Return-Path: 
 <lucene-user-return-6208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79291 invoked from network); 25 Nov 2003 18:32:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 18:32:58 -0000
Received: (qmail 96961 invoked by uid 500); 25 Nov 2003 18:18:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96933 invoked by uid 500); 25 Nov 2003 18:18:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96875 invoked from network); 25 Nov 2003 18:18:17 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 25 Nov 2003 18:18:17 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1AOhlV-0002E1-Cx
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 12:18:21 -0600
Message-Id: <6.0.0.22.0.20031125131556.020f0a70@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 25 Nov 2003 13:18:19 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Collaborative Filtering API
In-Reply-To: <32452.1069780709@www5.gmx.net>
References: <6.0.0.22.0.20031125112647.021066a0@mail.visionstudio.com>
 <32452.1069780709@www5.gmx.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, he was the lead Ph.D. student on the GroupLens project at Minnesota.

-Mike

At 12:18 PM 11/25/2003, you wrote:
>Hello Mike,
>
>I had a quick look over the javadoc and it looks promising, as you said. Did
>Jon Herlocker worked on GroupLens? I know GroupLens was quite a pioneer work
>in the early days of collaborative systems...
>
>Cheers
>Ralph
>
> > You should check out the work of Jon Herlocker at Oregon State
> > (http://eecs.oregonstate.edu/iis/).  They have written a CF engine that
> > has
> > been on my to-do list to check out for a few months (sounds good on
> > "paper").  If you get the chance to play with it, I'd be curious to hear
> > your feedback.  Having a CF engine in the open source domain would be a
> > great thing.
> >
> >



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 18:39:47 2003
Return-Path: 
 <lucene-user-return-6209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82389 invoked from network); 25 Nov 2003 18:39:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 18:39:47 -0000
Received: (qmail 6473 invoked by uid 500); 25 Nov 2003 18:23:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6445 invoked by uid 500); 25 Nov 2003 18:23:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6422 invoked from network); 25 Nov 2003 18:23:39 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 25 Nov 2003 18:23:39 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 25DAF5D22
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:23:43 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPINgar040699
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 10:23:42 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 10:23:42 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Wildcard searches and BooleanQuery$TooManyClauses
Message-ID: <20031125182342.GY30893@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


This was raised in 

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04696.html

and not really answered.


If I do 

+(contents:luc* description:luc*)

Things work fine. However if I do 
+(contents:car* description:car*)

I get the following exception


org.apache.lucene.search.BooleanQuery$TooManyClauses
&lt;/pre&gt;
&lt;h4&gt;------------start of original exception stack
trace-------&lt;/h4&gt;
&lt;pre&gt;
org.apache.lucene.search.BooleanQuery$TooManyClauses
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
	at org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:85)
	at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
	at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:189)
	at org.apache.lucene.search.Query.weight(Query.java:120)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
	at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
	at org.apache.lucene.search.Hits.&amp;lt;init&amp;gt; (Hits.java:80)
	at org.apache.lucene.search.Searcher.search(Searcher.java:71)
	at org.apache.lucene.search.Searcher.search(Searcher.java:65)
	at com.fastbuzz.search.Results.fetchResults(Results.java:134)
	at com.fastbuzz.search.Results.&amp;lt;init&amp;gt; (Results.java:
  ...


My guess is that wild cards are rewriten as a bunch of BooleanQuery(s)
so that car* is actually
car
cars
carma
...

Since I have more than 1024 terms in my index that start with car, I get
this exception. 

What are the performence reprecussions to increasing maxClauseCount from
1024 to something large, say 64K?


Regards,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 18:43:22 2003
Return-Path: 
 <lucene-user-return-6210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84923 invoked from network); 25 Nov 2003 18:43:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 18:43:22 -0000
Received: (qmail 10082 invoked by uid 500); 25 Nov 2003 18:25:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10052 invoked by uid 500); 25 Nov 2003 18:25:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10033 invoked from network); 25 Nov 2003 18:25:32 -0000
Received: from unknown (HELO ptb-relay02.plus.net) (212.159.14.213)
  by daedalus.apache.org with SMTP; 25 Nov 2003 18:25:32 -0000
Received: from [81.174.157.55] (helo=joseph)
	by ptb-relay02.plus.net with smtp (Exim 4.24; FreeBSD 4.9)
	id 1AOhsW-0009WY-DY
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 18:25:36 +0000
Message-ID: <68a201c3b381$51a05140$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031125174220.58355.qmail@web12707.mail.yahoo.com>
Subject: Re: Searching different types of words
Date: Tue, 25 Nov 2003 18:24:09 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I'd recommend Kstem over Porter, it performs much better on English let
alone when you get to other languages. You can get the source code for
Kstem.jar at teh following website:

http://ciir.cs.umass.edu/downloads/

Pete

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 25, 2003 5:42 PM
Subject: Re: Searching different types of words


> Yes.
> For this particular example, PorterStemFilter will do the job.
> For more complex things (e.g. a search for car returning car, auto,
> automobile, vehicle) you'll need to add thesaurus-like capability to
> your indexer.  This can be done by writing a custom Analyzer.
>
> It sounds like you have a lot of questions, but have not read much
> Lucene documentation. :)
>
> Otis
>
>
> --- "Pleasant, Tracy" <tracy.pleasant@lmco.com> wrote:
> > If I search for "like" I would want the search to return documents
> > containing "like", "liked", "likes", etc.. variations of the word.
> >
> > Is there a way to tell Lucene to do this?
>
>
>
> __________________________________
> Do you Yahoo!?
> Free Pop-Up Blocker - Get it now
> http://companion.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 19:02:16 2003
Return-Path: 
 <lucene-user-return-6211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93280 invoked from network); 25 Nov 2003 19:02:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 19:02:16 -0000
Received: (qmail 40764 invoked by uid 500); 25 Nov 2003 18:43:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40745 invoked by uid 500); 25 Nov 2003 18:43:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40726 invoked from network); 25 Nov 2003 18:43:40 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 25 Nov 2003 18:43:40 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 301D8A941
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 10:43:41 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAPIheSi040725
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 10:43:40 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 10:43:40 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene command line tool
Message-ID: <20031125184340.GZ30893@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I looked around the archives and didn't see anything about this subject.
Is there a Lucene command line tool that lets you look at an index, run
queries, and look at different metrics?

Something similar to Luke http://www.getopt.org/luke/, except that it'd
run on the command line, have a history, etc.

Regards,

Dror


-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 19:08:41 2003
Return-Path: 
 <lucene-user-return-6212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96283 invoked from network); 25 Nov 2003 19:08:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 19:08:41 -0000
Received: (qmail 53155 invoked by uid 500); 25 Nov 2003 18:50:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53131 invoked by uid 500); 25 Nov 2003 18:50:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53100 invoked from network); 25 Nov 2003 18:50:48 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 25 Nov 2003 18:50:48 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AOiGy-00042F-FS
	for lucene-user@jakarta.apache.org; Wed, 26 Nov 2003 07:50:52 +1300
Message-ID: <3FC3A48C.1060807@cs.waikato.ac.nz>
Date: Wed, 26 Nov 2003 07:50:52 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Score
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E689@EMSS04M14.us.lmco.com>
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E689@EMSS04M14.us.lmco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Pleasant, Tracy wrote:

>I tried using Boost but that did absolutely nothing.
>
>The documents I am using: 
>Plain text
>PDF Documents
>(I have two indexes) 
>  
>
I'm not sure what's causing your scores to be off -- unless, of course, 
your scores just look wrong to you but they're in fact just what you 
should be getting :)
One bug in my code was that for an unrelated reason, terms in one field 
would never be matched. But since other fields contained the same term, 
the document was still being reported as a hit -- with a 
lower-than-expected score. Maybe you want to double check that the 
content of each field is getting tokenized properly.. when you have a 
term t in the title field that is unique to a particular document (i.e. 
not contained in any of the other fields of that document) do you still 
get a hit on the document when searching for t?Boost factors don't help 
of course if there's no hit in the first place.

>When you say you use different analyzers for different fields in your
>index, how would you accomplish that? When I create the index it has a
>parameter for analyzer.. unless you create different indexes , how do
>you use two different ones? 
>  
>
Use PerFieldAnalyzerWrapper:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/PerFieldAnalyzerWrapper.html

cheers
Gerret

>
>
>-----Original Message-----
>From: Gerret Apelt [mailto:ga11@cs.waikato.ac.nz]
>Sent: Monday, November 24, 2003 3:25 PM
>To: Lucene Users List
>Subject: Re: Score
>
>
>Tracey --
>
>it would help if you could give more detail on the types of documents, 
>fields and analyzers you're using. Also what do you mean by "Multi Field
>
>Search"? I presume you're using the MultiFieldQueryParser to have query 
>terms in a user-submitted query be searched for in each field in your
>index.
>
>If I am understanding your problem, then it might be the same one I had 
>a few weeks ago -- highly relevant matches would not receive a high 
>ranking. (This paragraph will apply to you only if you use more than 
>just one Analyzer for the set of your fields). I had six fields in my 
>index, most of which were populated with a standard analyzer. I used 
>self-made Analyzers for two of the fields. This turned out to be my 
>problem when using MultiFieldQueryParser: I told my 
>MultiFieldQueryParser instance to use only the standard analyzer. 
>Instead I discovered that I needed to make use of 
>org.apache.lucene.analysis.PerFieldAnalyzerWrapper and feed that to the 
>MultiFieldQueryParser. Unless you do this, your problem is whats 
>described here: 
>http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.in
>dexing&toc=faq#q15.
>
>Most likely, if your scoring is off, you're "doing something wrong" in 
>the way you use the Lucene API -- at least, thats what I've discovered 
>to be the case when my ranking is off.
>
>If you're interested in the nitty-gritty of how scoring is done, check 
>this FAQ entry:
>http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.se
>arch&toc=faq#q31
>
>cheers,
>Gerret
>
>Pleasant, Tracy wrote:
>
>  
>
>>Hi,
>>
>>I'm using the Multi Field Search to search all the fields of my
>>documents during the search. 
>>
>>When it returns results the scores are numerically low - .06, .17, etc.
>>I would think if I searched for "Dog" and there was a doc with "Dog" in
>>the title and several times in the contents of a document that it would
>>receive a score more like 1.0 or close to it.
>>
>>Is there a way that I can tweak the score?
>>
>>I tried using Boost but that did absolutely nothing.
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> 
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 21:29:53 2003
Return-Path: 
 <lucene-user-return-6213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59923 invoked from network); 25 Nov 2003 21:29:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 21:29:53 -0000
Received: (qmail 85855 invoked by uid 500); 25 Nov 2003 21:15:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85816 invoked by uid 500); 25 Nov 2003 21:15:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85799 invoked from network); 25 Nov 2003 21:15:18 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 25 Nov 2003 21:15:18 -0000
Message-ID: <20031125211523.15692.qmail@web12707.mail.yahoo.com>
Received: from [195.29.140.2] by web12707.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 13:15:23 PST
Date: Tue, 25 Nov 2003 13:15:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wildcard searches and BooleanQuery$TooManyClauses
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031125182342.GY30893@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Correct.
As for side-effect, well, things will be slower, obviously :)
Increase the limit, perform a search, and see if it's still
sufficiently fast...that's what I would do. :)

Otis

--- Dror Matalon <dror@zapatec.com> wrote:
> 
> This was raised in 
> 
>
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04696.html
> 
> and not really answered.
> 
> 
> If I do 
> 
> +(contents:luc* description:luc*)
> 
> Things work fine. However if I do 
> +(contents:car* description:car*)
> 
> I get the following exception
> 
> 
> org.apache.lucene.search.BooleanQuery$TooManyClauses
> &lt;/pre&gt;
> &lt;h4&gt;------------start of original exception stack
> trace-------&lt;/h4&gt;
> &lt;pre&gt;
> org.apache.lucene.search.BooleanQuery$TooManyClauses
> 	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
> 	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
> 	at org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:85)
> 	at
> org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:240)
> 	at
>
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:189)
> 	at org.apache.lucene.search.Query.weight(Query.java:120)
> 	at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
> 	at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)
> 	at org.apache.lucene.search.Hits.&amp;lt;init&amp;gt; (Hits.java:80)
> 	at org.apache.lucene.search.Searcher.search(Searcher.java:71)
> 	at org.apache.lucene.search.Searcher.search(Searcher.java:65)
> 	at com.fastbuzz.search.Results.fetchResults(Results.java:134)
> 	at com.fastbuzz.search.Results.&amp;lt;init&amp;gt; (Results.java:
>   ...
> 
> 
> My guess is that wild cards are rewriten as a bunch of
> BooleanQuery(s)
> so that car* is actually
> car
> cars
> carma
> ...
> 
> Since I have more than 1024 terms in my index that start with car, I
> get
> this exception. 
> 
> What are the performence reprecussions to increasing maxClauseCount
> from
> 1024 to something large, say 64K?
> 
> 
> Regards,
> 
> Dror
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 22:12:43 2003
Return-Path: 
 <lucene-user-return-6214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81621 invoked from network); 25 Nov 2003 22:12:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 22:12:43 -0000
Received: (qmail 51553 invoked by uid 500); 25 Nov 2003 21:54:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51511 invoked by uid 500); 25 Nov 2003 21:54:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51471 invoked from network); 25 Nov 2003 21:54:14 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 25 Nov 2003 21:54:14 -0000
Message-ID: <20031125215417.92127.qmail@web12705.mail.yahoo.com>
Received: from [195.29.138.187] by web12705.mail.yahoo.com via HTTP;
 Tue, 25 Nov 2003 13:54:17 PST
Date: Tue, 25 Nov 2003 13:54:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene command line tool
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031125184340.GZ30893@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hm, I don't know of any such tools.  It would be nice to have something
like that.  If you find such a tool, or write it yourself, let us know
about the URL, so we can include on the Lucene's site.

Otis

--- Dror Matalon <dror@zapatec.com> wrote:
> Hi,
> 
> I looked around the archives and didn't see anything about this
> subject.
> Is there a Lucene command line tool that lets you look at an index,
> run
> queries, and look at different metrics?
> 
> Something similar to Luke http://www.getopt.org/luke/, except that
> it'd
> run on the command line, have a history, etc.
> 
> Regards,
> 
> Dror
> 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 22:37:08 2003
Return-Path: 
 <lucene-user-return-6215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93937 invoked from network); 25 Nov 2003 22:37:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 22:37:08 -0000
Received: (qmail 93915 invoked by uid 500); 25 Nov 2003 22:21:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93856 invoked by uid 500); 25 Nov 2003 22:21:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93826 invoked from network); 25 Nov 2003 22:21:05 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 25 Nov 2003 22:21:05 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with SMTP
          id <2003112522211101100nus9ie>; Tue, 25 Nov 2003 22:21:11 +0000
Message-ID: <3FC3D5D5.6080605@lucene.com>
Date: Tue, 25 Nov 2003 14:21:09 -0800
From: Doug Cutting <cutting@lucene.com>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Developers List <lucene-dev@jakarta.apache.org>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Subject: new release: 1.3 RC3
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A new Lucene release is available.

It can be downloaded from:

   http://cvs.apache.org/dist/jakarta/lucene/v1.3-rc3/

Release notes are at:

 
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.58

Enjoy!

Doug



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Nov 25 22:49:16 2003
Return-Path: 
 <lucene-user-return-6216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98434 invoked from network); 25 Nov 2003 22:49:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Nov 2003 22:49:16 -0000
Received: (qmail 12685 invoked by uid 500); 25 Nov 2003 22:33:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12647 invoked by uid 500); 25 Nov 2003 22:33:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12626 invoked from network); 25 Nov 2003 22:33:19 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 25 Nov 2003 22:33:19 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AOlkL-0001kK-Hb
	for lucene-user@jakarta.apache.org; Wed, 26 Nov 2003 11:33:25 +1300
Message-ID: <3FC3D8B5.4000100@cs.waikato.ac.nz>
Date: Wed, 26 Nov 2003 11:33:25 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: bad link in mailing list archive?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I load

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=2648

there are three replies listed at the bottom of the page, one by Otis 
Gospodnetic. The subject of his reply is "Concurency in Lucene".

When I click on Otis' reply, my browser loads a post with a different 
subject; "Problems compiling the java source codes of lucene search engine".

Just a heads up -- seems like something funky's going on :)

cheers,
Gerret


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 03:39:08 2003
Return-Path: 
 <lucene-user-return-6218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5720 invoked from network); 26 Nov 2003 03:39:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 03:39:08 -0000
Received: (qmail 31022 invoked by uid 500); 26 Nov 2003 03:38:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30894 invoked by uid 500); 26 Nov 2003 03:38:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30881 invoked from network); 26 Nov 2003 03:38:23 -0000
Received: from unknown (HELO smtp22.singnet.com.sg) (165.21.101.202)
  by daedalus.apache.org with SMTP; 26 Nov 2003 03:38:23 -0000
Received: from HP29375324311 ([155.69.58.3])
	by smtp22.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAQ3cN68003954;
	Wed, 26 Nov 2003 11:38:30 +0800
Message-Id: <200311260338.hAQ3cN68003954@smtp22.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Pleasant, Tracy'" <tracy.pleasant@lmco.com>,
        "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Wed, 26 Nov 2003 11:38:22 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOyziDPGhiHLat+THiZKJYjHL95HgAOtfhwABgWvuAAGTzZQA==
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E78@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I integrate with PDFBox, I cannot update, delete or change the filename
anymore. If I did any of the above, I will get a message: Lock obtain timed out.

Anyone can help? 

-----Original Message-----
From: Pleasant, Tracy [mailto:tracy.pleasant@lmco.com] 
Sent: Tuesday, November 25, 2003 11:42 PM
To: Lucene Users List; chentun@singnet.com.sg
Subject: RE: Lucene refresh index function (incremental indexing).

I was able to get PDFBox to work with my JSP webpages. 

I think you will have to in a way write your own code to do the PDF files (while
still calling the Lucene functions)

         doc = LucenePDFDocument.getDocument(file);
    

-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Monday, November 24, 2003 11:07 PM
To: 'Lucene Users List'
Subject: RE: Lucene refresh index function (incremental indexing).


Does it support indexing the contents of pdf files? I have found one project
called PDFBox that can be integrated with Lucene to search inside of the pdf
files. Currently, Lucene can only search for the pdf filename. I tried with
PDFBox and I got the following message when I typed the command: java
org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 

log4j:WARN No appenders could be found for logger (org.pdfbox.pdfparser.PDFParse
r).
log4j:WARN Please initialize the log4j system properly.

Can anyone advise?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Tuesday, November 25, 2003 5:01 AM
To: Lucene Users List
Subject: Re: Lucene refresh index function (incremental indexing).

Tun Lin wrote:
> These are the steps I took:
> 
> 1) I compile all the files in a particular directory using the
command: 
> java org.apache.lucene.demo.IndexHTML -create -index c:\\index .. 
> , putting all the indexed files in c:\\index.
> 2) Everytime, I added an additional file in that directory. I need to 
> reindex/recompile that directory to generate the indexes again. As the

> directory gets larger, the indexing takes a longer time.
> 
> My question is how do I generate the indexes automatically everytime a

> new document is added in that directory without me recompiling
everytime
manually?

To update, try removing the '-create' from the command line.  The demo code
supports incremental updates.  It will re-scan the directory and figure out
which files have changed, what new files have appeared and which previously
existing files have been removed.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 00:53:06 2003
Return-Path: 
 <lucene-user-return-6217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40845 invoked from network); 26 Nov 2003 00:53:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 00:53:06 -0000
Received: (qmail 91152 invoked by uid 500); 26 Nov 2003 00:52:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91122 invoked by uid 500); 26 Nov 2003 00:52:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91107 invoked from network); 26 Nov 2003 00:52:43 -0000
Received: from unknown (HELO bioseeker.bioinfocg.com) (66.11.182.46)
  by daedalus.apache.org with SMTP; 26 Nov 2003 00:52:43 -0000
Received: from bioseeker.bioinfocg.com (bioseeker.bioinfocg.com [127.0.0.1])
	by localhost (Postfix) with ESMTP id 415A0D5C94
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 19:52:50 -0500 (EST)
Received: from betty (unknown [192.168.0.4])
	by bioseeker.bioinfocg.com (Postfix) with SMTP id 324E3D5C54
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 19:52:50 -0500 (EST)
Message-ID: <001201c3b3cf$ce08a0e0$0400a8c0@betty>
From: "marc" <marc@bioseeker.bioinfocg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: unexpected results from query
Date: Tue, 25 Nov 2003 19:45:59 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000F_01C3B38C.BFC9E9A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C3B38C.BFC9E9A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

assume a field has the following text

"Adenylate kinase (mitochondrial GTP:AMP phosphotransferase) "

the following searches all return this document

AMP
&AMP
&AMP;

can someone explain this to me..i figured that only the first query =
would be successful

Thanks,
Marc

------=_NextPart_000_000F_01C3B38C.BFC9E9A0--


From MAILER-DAEMON Wed Nov 26 05:14:43 2003
Return-Path: 
 <lucene-user-return-6219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34621 invoked from network); 26 Nov 2003 05:14:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 05:14:43 -0000
Received: (qmail 88682 invoked by uid 500); 26 Nov 2003 05:14:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88481 invoked by uid 500); 26 Nov 2003 05:14:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88468 invoked from network); 26 Nov 2003 05:14:17 -0000
Received: from unknown (HELO smtp24.singnet.com.sg) (165.21.101.204)
  by daedalus.apache.org with SMTP; 26 Nov 2003 05:14:17 -0000
Received: from HP29375324311 ([155.69.58.200])
	by smtp24.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAQ5ELsm026128
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 13:14:26 +0800
Message-Id: <200311260514.hAQ5ELsm026128@smtp24.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: Chinese input.
Date: Wed, 26 Nov 2003 13:14:21 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01C3B41F.35008C00"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOz3CX2ogaCYyMBRtOYnCE4clNClQ==
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0015_01C3B41F.35008C00
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

May I know how do I analyse Chinese input from Chinese text in Lucene?

Do I use Analyser function in Lucene? If yes, how to go about using it?

------=_NextPart_000_0015_01C3B41F.35008C00--



From MAILER-DAEMON Wed Nov 26 06:06:29 2003
Return-Path: 
 <lucene-user-return-6220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49584 invoked from network); 26 Nov 2003 06:06:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 06:06:29 -0000
Received: (qmail 27714 invoked by uid 500); 26 Nov 2003 06:04:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27686 invoked by uid 500); 26 Nov 2003 06:04:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27662 invoked from network); 26 Nov 2003 06:04:40 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 26 Nov 2003 06:04:40 -0000
Received: from HP29375324311 ([155.69.58.239])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAQ64gte014753
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 14:04:50 +0800
Message-Id: <200311260604.hAQ64gte014753@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: log4j.properties
Date: Wed, 26 Nov 2003 14:04:41 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3B426.3D2AFC10"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcOz4y4qesTRvI+xQcOstM9zqaX6lQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3B426.3D2AFC10
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I have created the following "log4j.properties" and put it in your classpath but
it still has that error. Anyone can help?

log4j.rootCategory=stdout

log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d %c - %m%n


------=_NextPart_000_0000_01C3B426.3D2AFC10--



From MAILER-DAEMON Wed Nov 26 06:13:26 2003
Return-Path: 
 <lucene-user-return-6221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51034 invoked from network); 26 Nov 2003 06:13:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 06:13:26 -0000
Received: (qmail 38092 invoked by uid 500); 26 Nov 2003 06:12:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38064 invoked by uid 500); 26 Nov 2003 06:12:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38033 invoked from network); 26 Nov 2003 06:12:06 -0000
Received: from unknown (HELO meteorology.ho.bom.gov.au) (134.178.8.99)
  by daedalus.apache.org with SMTP; 26 Nov 2003 06:12:06 -0000
Received: from MAGELLAN (magellan.bom.gov.au [134.178.8.177])
	by meteorology.ho.bom.gov.au (8.9.3+Sun/8.9.3) with SMTP id RAA13270
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 17:08:09 +1100 (EST)
Reply-To: <j.lubkowski@BoM.GOV.AU>
From: "Justyna Lubkowski" <j.lubkowski@BoM.GOV.AU>
To: <lucene-user@jakarta.apache.org>
Subject: Advice needed on Indexing
Date: Wed, 26 Nov 2003 17:12:14 +1100
Message-ID: <001b01c3b3e4$3d54f840$b108b286@bom.gov.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm new to Lucene and have just started to familiarise myself with the API.

I'm trying the web demo out, running IndexHTML.

I'm wondering if it is possible to include the protocol and host as part of
the path which is put into the index.  What is the simplest way to approach
this?

At the moment my results display the url as
"/web/htdocs/test/apple/grannysmith/"
I need to display something like
"http://www.mysite.com/test/apple/grannysmith"

Any advice on how to move in the right direction would be appreciated.

Thanks - Justyna.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 06:24:41 2003
Return-Path: 
 <lucene-user-return-6222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53621 invoked from network); 26 Nov 2003 06:24:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 06:24:41 -0000
Received: (qmail 47425 invoked by uid 500); 26 Nov 2003 06:24:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47392 invoked by uid 500); 26 Nov 2003 06:24:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47379 invoked from network); 26 Nov 2003 06:24:15 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 26 Nov 2003 06:24:15 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id A953A5D22
	for <lucene-user@jakarta.apache.org>; Tue, 25 Nov 2003 22:24:26 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hAQ6OQbE041950
	for lucene-user@jakarta.apache.org; Tue, 25 Nov 2003 22:24:26 -0800 (PST)
	(envelope-from dror)
Date: Tue, 25 Nov 2003 22:24:26 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Advice needed on Indexing
Message-ID: <20031126062426.GH30893@rlx11.zapatec.com>
References: <001b01c3b3e4$3d54f840$b108b286@bom.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <001b01c3b3e4$3d54f840$b108b286@bom.gov.au>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, Nov 26, 2003 at 05:12:14PM +1100, Justyna Lubkowski wrote:
> Hi,
> 
> I'm new to Lucene and have just started to familiarise myself with the API.
> 
> I'm trying the web demo out, running IndexHTML.
> 
> I'm wondering if it is possible to include the protocol and host as part of
> the path which is put into the index.  What is the simplest way to approach
> this?
> 
> At the moment my results display the url as
> "/web/htdocs/test/apple/grannysmith/"
> I need to display something like
> "http://www.mysite.com/test/apple/grannysmith"

This is more of a java/JSP than a Lucene question. 
Looking at the JSP code I see that it does
 String url = doc.get("url");
You then can do
server = request.getServerName() 
to get the name of the server you're running on.
And then just use standard string manipulations to create the path.

You can also, when you create the index have go to /web/htdocs and index
from there. That way doc.get("url") will not include /web/htdocs in the
path.

Regards,

Dror

> 
> Any advice on how to move in the right direction would be appreciated.
> 
> Thanks - Justyna.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 06:46:11 2003
Return-Path: 
 <lucene-user-return-6223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58399 invoked from network); 26 Nov 2003 06:46:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 06:46:11 -0000
Received: (qmail 62880 invoked by uid 500); 26 Nov 2003 06:45:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62860 invoked by uid 500); 26 Nov 2003 06:45:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62835 invoked from network); 26 Nov 2003 06:45:12 -0000
Received: from unknown (HELO meteorology.ho.bom.gov.au) (134.178.8.99)
  by daedalus.apache.org with SMTP; 26 Nov 2003 06:45:12 -0000
Received: from MAGELLAN (magellan.bom.gov.au [134.178.8.177])
	by meteorology.ho.bom.gov.au (8.9.3+Sun/8.9.3) with SMTP id RAA14426
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 17:41:15 +1100 (EST)
Reply-To: <j.lubkowski@BoM.GOV.AU>
From: "Justyna Lubkowski" <j.lubkowski@BoM.GOV.AU>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Advice needed on Indexing
Date: Wed, 26 Nov 2003 17:45:19 +1100
Message-ID: <001e01c3b3e8$dce2edf0$b108b286@bom.gov.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <20031126062426.GH30893@rlx11.zapatec.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks...easy, I know how to do it that way.

I've thought a bit more about why the protocol and host are not added into
the index as part of the path and I think I understand why.  I hope I
understand it correctly.


-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Wednesday, 26 November 2003 5:24 PM
To: Lucene Users List
Subject: Re: Advice needed on Indexing


On Wed, Nov 26, 2003 at 05:12:14PM +1100, Justyna Lubkowski wrote:
> Hi,
>
> I'm new to Lucene and have just started to familiarise myself with the
API.
>
> I'm trying the web demo out, running IndexHTML.
>
> I'm wondering if it is possible to include the protocol and host as part
of
> the path which is put into the index.  What is the simplest way to
approach
> this?
>
> At the moment my results display the url as
> "/web/htdocs/test/apple/grannysmith/"
> I need to display something like
> "http://www.mysite.com/test/apple/grannysmith"

This is more of a java/JSP than a Lucene question.
Looking at the JSP code I see that it does
 String url = doc.get("url");
You then can do
server = request.getServerName()
to get the name of the server you're running on.
And then just use standard string manipulations to create the path.

You can also, when you create the index have go to /web/htdocs and index
from there. That way doc.get("url") will not include /web/htdocs in the
path.

Regards,

Dror

>
> Any advice on how to move in the right direction would be appreciated.
>
> Thanks - Justyna.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

--
Dror Matalon
Zapatec Inc
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 08:13:11 2003
Return-Path: 
 <lucene-user-return-6224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89407 invoked from network); 26 Nov 2003 08:13:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 08:13:11 -0000
Received: (qmail 48128 invoked by uid 500); 26 Nov 2003 08:12:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48096 invoked by uid 500); 26 Nov 2003 08:12:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48083 invoked from network); 26 Nov 2003 08:12:42 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 26 Nov 2003 08:12:42 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Wed, 26 Nov 2003 02:13:19 -0500
Message-ID: <002001c3b3f6$05401b80$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E68D@EMSS04M14.us.lmco.com>
Subject: Re: Eliminating duplicate result
Date: Wed, 26 Nov 2003 09:19:28 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> When you are doing two searches are you searching for two different terms?
> 

No, I am searching for the same term.






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 09:18:30 2003
Return-Path: 
 <lucene-user-return-6225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25183 invoked from network); 26 Nov 2003 09:18:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 09:18:30 -0000
Received: (qmail 17037 invoked by uid 500); 26 Nov 2003 09:18:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17010 invoked by uid 500); 26 Nov 2003 09:18:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16997 invoked from network); 26 Nov 2003 09:18:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 26 Nov 2003 09:18:00 -0000
Received: (cpmta 10366 invoked from network); 26 Nov 2003 01:18:13 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 26 Nov 2003 01:18:13 -0800
X-Sent: 26 Nov 2003 09:18:13 GMT
Date: Wed, 26 Nov 2003 04:18:08 -0500
Subject: Re: unexpected results from query
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <001201c3b3cf$ce08a0e0$0400a8c0@betty>
Message-Id: <734F1056-1FF1-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 25, 2003, at 10:45  PM, marc wrote:
> Hi,
>
> assume a field has the following text
>
> "Adenylate kinase (mitochondrial GTP:AMP phosphotransferase) "
>
> the following searches all return this document
>
> AMP
> &AMP
> &AMP;
>
> can someone explain this to me..i figured that only the first query 
> would be successful

This depends on the Analyzer you're using.  I'm assuming you're using 
the QueryParser and an analyzer that rips off special characters - so 
essentially the TermQuery underneath is always for AMP.

Have a look at my first java.net article which shows the analysis 
process.  Run your sample text through the code provided there to see 
the effect first-hand.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 09:19:20 2003
Return-Path: 
 <lucene-user-return-6226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25451 invoked from network); 26 Nov 2003 09:19:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 09:19:20 -0000
Received: (qmail 18270 invoked by uid 500); 26 Nov 2003 09:18:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18052 invoked by uid 500); 26 Nov 2003 09:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18039 invoked from network); 26 Nov 2003 09:18:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 26 Nov 2003 09:18:50 -0000
Received: (cpmta 24712 invoked from network); 26 Nov 2003 01:19:02 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 26 Nov 2003 01:19:02 -0800
X-Sent: 26 Nov 2003 09:19:02 GMT
Date: Wed, 26 Nov 2003 04:19:01 -0500
Subject: Re: log4j.properties
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <200311260604.hAQ64gte014753@smtp21.singnet.com.sg>
Message-Id: <92E1F9A8-1FF1-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What does this have to do with Lucene?


On Wednesday, November 26, 2003, at 01:04  AM, Tun Lin wrote:

> I have created the following "log4j.properties" and put it in your 
> classpath but
> it still has that error. Anyone can help?
>
> log4j.rootCategory=stdout
>
> log4j.appender.stdout=org.apache.log4j.ConsoleAppender
> log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
> log4j.appender.stdout.layout.ConversionPattern=%d %c - %m%n
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 09:41:22 2003
Return-Path: 
 <lucene-user-return-6227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36438 invoked from network); 26 Nov 2003 09:41:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 09:41:22 -0000
Received: (qmail 49130 invoked by uid 500); 26 Nov 2003 09:40:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49094 invoked by uid 500); 26 Nov 2003 09:40:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49067 invoked from network); 26 Nov 2003 09:40:41 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 26 Nov 2003 09:40:41 -0000
Received: (cpmta 18161 invoked from network); 26 Nov 2003 01:40:53 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 26 Nov 2003 01:40:53 -0800
X-Sent: 26 Nov 2003 09:40:53 GMT
Date: Wed, 26 Nov 2003 04:40:52 -0500
Subject: Re: Tokenizing text custom way
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA9F@NGMAIL3>
Message-Id: <9FF6360E-1FF4-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

woah.... that seems like an awfully complex answer to the question of=20
how to tokenize at a comma rather than a space!  %-)


On Tuesday, November 25, 2003, at 11:48  AM, MOYSE Gilles (Cetelem)=20
wrote:

> Hi.
>
> You should define expressions.
> To define expressions, you first have to define an expression file.
> An expression file contains one expressions per line.
> For instance :
> 	time_out
> 	expert_system
> 	...
> You can use any character to specify the "expression link". Here, I=20
> use the
> underscore (_).
>
> Then, you have to build an expression loader. You can store=20
> expressions in
> recursives HashMap.
> Such HashMap must be built so that HashMap.get("word1") =3D HashMap, =
and
> (HashMap.get("word1")).get("word2") =3D null, if you want to code the
> expression "word1_word2".
> In other words 'HashMap.get("a_word")' returns a hashMap containing=20
> all the
> successors of the word 'a_word'.
>
> So, if your expression file looks like that :
> 	time_out
> 	expert_system
> 	expert_in_information
>
> you'll have to build a loader which returns a HashMap H so that :
> 	H.keySet() =3D {"time", "expert"}
> 	((HashMap)H.get("time")).keySet =3D {"out"}
> 	((HashMap)H.get("time")).get("out") =3D null // null indicates =
the end
> of the expression
> 	((HashMap)H.get("expert")).keySet =3D {"system", "in"}
> 	((HashMap)H.get("expert")).get("system") =3D null
> 	((HashMap)((HashMap)H.get("expert")).get("in")).keySet() =3D
> {"information"}
> 	=
((HashMap)((HashMap)H.get("expert")).get("in")).get("information") =3D
> null
>
> These recursives HashMaps code the following tree :
> 	time - out - null
> 	system --- expert - null
> 		  |- in - information- null
>
> Such an expression loader may be designed this way :
>
> 	public static HashMap getExpressionMap( File wordfile ) {
> 		HashMap result =3D new HashMap();
> 	=09
> 		try
> 		{
> 			String line =3D null;
> 			LineNumberReader in =3D new LineNumberReader(new
> FileReader(wordfile));
> 			HashMap hashToAdd =3D null;
> 		=09
> 			while ((line =3D in.readLine()) !=3D null)
> 			{
> 				if =
(line.startsWith(FILE_COMMENT_CHARACTER))
> 					continue;
>
> 				if (line.trim().length() =3D=3D 0)
> 					continue;
>
> 				StringTokenizer stok =3D new
> StringTokenizer(line, " \t_");
> 				String curTok =3D "";
> 				HashMap currentHash =3D result;
> 			=09
> 				// Test wether the expression contains 2 =
at
> least words or not
> 				if (stok.countTokens() < 2)
> 				{
> 					System.err.println("Warning : '" =
+
> line + "' in file '" + wordfile.getAbsolutePath() + "' line " +
> in.getLineNumber() +
> 						" is not an =
expression.\n\tA
> valid expression contains at least 2 words.");
> 					continue;
> 				}
> 			=09
> 				while (stok.hasMoreTokens())
> 				{
> 					curTok =3D stok.nextToken();
> 					if
> (curTok.startsWith(FILE_COMMENT_CHARACTER)) // if comment at the end=20=

> of the
> line, break
> 						break;
> 					if (stok.hasMoreTokens())
> 						hashToAdd =3D new =
HashMap(6);
> 					else
> 						hashToAdd =3D =
(HashMap)null;
> 					=09
> 					if
> (!(currentHash.containsKey(curTok)))
> 						currentHash.put(curTok,
> hashToAdd);
> 					=09
> 					currentHash =3D
> (HashMap)currentHash.get(curTok);
> 				}
> 			}
> 			return result;
> 		}
> 		// On error, use an empty table
> 		catch ( Exception e )
> 		{
> 			System.err.println("While processing '" +
> wordfile.getAbsolutePath() + "' : " + e.getMessage());
> 			e.printStackTrace();
> 			return new HashMap();
> 		}
> 	}
>
>
> Then, you must build a filter with 2 FIFO stacks : one is the=20
> expression
> stack, the other is the default stack.
> Then, you define a 'curMap' variable, initially pointing onto the=20
> HashMap
> returned by the ExpressionFileLoader.
>
> When you receive a token, you check wether it is null or not;
> 	If it is, you check if the standard stack is null or not.
> 		If it is not, you pop a token from the default stack and =
you
> return it.
> 		If it is, you return null
> 	If it is not (the token is not null), you check whether it is
> contained in the HashMap or not (curMap.containsKey(token)).
> 		If it is not contained and you were building an =
expression,
> you pop all the terms in the expression stack to push them in the=20
> default
> stack (so as not to loose information)
> 		If it is not contained and the default stack is empty, =
you
> return the token.
> 		If it is not conatined and the default stack is not =
empty,
> you return the poped token from the default stack and you push the=20
> current
> token.
> 	If the token is contained in the curMap, then the token MAY be =
the
> first element of an expression.
> 		You push the token in the expression stack, and you dive
> into the next level in your expression tree (curMap =3D=20
> curMap.get("token"))
> 		If the next level (now, curMap), is null, then you have
> completed your expression. You can pop all the tokens from the=20
> expresion
> stack to concatenate them, separated by underscores, and push the=20
> resulting
> String as a token on the default heap (so as to keep the correct =
tokens
> oreder in the token stream)
> 		You also set a flag "I'm in an expression" (expr_falg)
>
>
> With this short algorithm, you will build expressions, i.e., if an
> expression is detected, it will be returned as such, and if it is not,=20=

> it
> will return the tokens, unmodified, in their orginal order.
>
> Hope this will help.
>
> Gilles Moyse
>
> -----Message d'origine-----
> De : Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
> Envoy=E9 : mardi 25 novembre 2003 12:42
> =C0 : Lucene Users List
> Objet : Tokenizing text custom way
>
>
> Hi. I need to tokenize text while indexing but I don't want space to =
be
> delimiter. Delimiter should be my custom character (for example=20
> comma). I
> understand that I would probably need to implement my own analyzer, =
but
> could someone help me where to start. Is there any other way to do =
this
> without writing custom analyzer?
>
> This is what I want to achieve.
> If I have some text that will be indexed like following:
>
> man, people, time out, sun
>
> and if I enter 'time' as a search word, I don't want to get "time out"=20=

> in
> results. I need exact keyword matching. I would achieve this if I=20
> tokenize
> "time out" as one token while idexing.
>
> Maybe someone had similar problem? If someone knows how to handle =
this,
> please help me.
>
> Dragan Jotanovic
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 09:51:17 2003
Return-Path: 
 <lucene-user-return-6228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41293 invoked from network); 26 Nov 2003 09:51:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 09:51:17 -0000
Received: (qmail 65911 invoked by uid 500); 26 Nov 2003 09:50:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65882 invoked by uid 500); 26 Nov 2003 09:50:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65869 invoked from network); 26 Nov 2003 09:50:46 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 26 Nov 2003 09:50:46 -0000
Received: (cpmta 19663 invoked from network); 26 Nov 2003 01:50:59 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 26 Nov 2003 01:50:59 -0800
X-Sent: 26 Nov 2003 09:50:59 GMT
Date: Wed, 26 Nov 2003 04:50:56 -0500
Subject: Re: Tokenizing text custom way
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <009201c3b349$19794bb0$1601a8c0@deki>
Message-Id: <080FDF7C-1FF6-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 25, 2003, at 06:41  AM, Dragan Jotanovic wrote:
> Hi. I need to tokenize text while indexing but I don't want space to 
> be delimiter. Delimiter should be my custom character (for example 
> comma). I understand that I would probably need to implement my own 
> analyzer, but could someone help me where to start. Is there any other 
> way to do this without writing custom analyzer?

You will need to write a custom analyzer.  Don't worry, though.... it's 
quite straightforward.  You will also need to write a Tokenizer, but 
Lucene helps you a lot here.  Lucene's LetterTokenizer is simply this:

public class LetterTokenizer extends CharTokenizer {
   /** Construct a new LetterTokenizer. */
   public LetterTokenizer(Reader in) {
     super(in);
   }

   /** Collects only characters which satisfy
    * {@link Character#isLetter(char)}.*/
   protected boolean isTokenChar(char c) {
     return Character.isLetter(c);
   }
}

You could change the isTokenChar method in your custom CommaTokenizer 
to only return true if the character is not a ','.  And you might want 
to implement the normalize method to lowercase (look at 
LowerCaseTokenizer).

My advice is for you to check out Lucene's source code in the 
TokenStream hierarchy (ctrl-H in IntelliJ is quite nice! :).  
CharTokenizer seems a good starting point for you.  Then have a look at 
SimpleAnalyzer:

public final class SimpleAnalyzer extends Analyzer {
   public TokenStream tokenStream(String fieldName, Reader reader) {
     return new LowerCaseTokenizer(reader);
   }
}

Just create your own CommaAnalyzer that uses your CommaTokenizer 
similar to this.  Have a look at my java.net article and try the sample 
code provided there to observe the analysis process in greater detail 
so you can check that you get what you expect.

> and if I enter 'time' as a search word, I don't want to get "time out" 
> in results. I need exact keyword matching. I would achieve this if I 
> tokenize "time out" as one token while idexing.

It will be a little trickier on the query part if you're using 
QueryParser - you will need to double-quote "time out" for it to work, 
I believe - but don't worry about this until you get the analysis phase 
worked out and then we can revisit the QueryParser issue then.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 09:58:03 2003
Return-Path: 
 <lucene-user-return-6229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44231 invoked from network); 26 Nov 2003 09:58:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 09:58:03 -0000
Received: (qmail 75149 invoked by uid 500); 26 Nov 2003 09:57:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75122 invoked by uid 500); 26 Nov 2003 09:57:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75109 invoked from network); 26 Nov 2003 09:57:32 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 26 Nov 2003 09:57:32 -0000
Received: (cpmta 16510 invoked from network); 26 Nov 2003 01:57:45 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Nov 2003 01:57:45 -0800
X-Sent: 26 Nov 2003 09:57:45 GMT
Date: Wed, 26 Nov 2003 04:57:43 -0500
Subject: Re: Search Question - not returning desired results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E7A@EMSS04M14.us.lmco.com>
Message-Id: <FA9085BA-1FF6-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, November 25, 2003, at 12:11  PM, Pleasant, Tracy wrote:
>
> The documents I have index contain information regarding file names 
> also.
>
> For instance 'return_results.pl' or something like that may be in the 
> document fields.
>
> I am not understanding Lucene's way of searching:
>
> 1. If I search for 'return_results', the search does not return 
> anything
> 2. If I search for 'results' or 'return', the search does not return 
> anything
> 3. If I search for 'results.pl', the search does return the document 
> containg 'return_results.pl'
> 4. If I search for 'results~', the search does return the document 
> containg 'return_results.pl'
> 5. If I search for 'return_results~', the search does not return 
> anything
>
> What is going on?
>
> I want it to return the document in all of the situations.
>
> I also don't want to have to use '~' all the time.

We sure do have a recurring theme lately :)  Analysis!

Please refer to my article at java.net:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Look at the AnalysisDemo code.  Copy it over and try it out on the text 
you're using and the Analyzer you're using.  The bracketed text that 
comes out are the "tokens" that you can search on.  It is very very 
important to understand this process and to really know what terms come 
out of text you hand it - otherwise it is a mystery why some things can 
be found and some things cannot despite your expectations to the 
contrary.

A follow-up to the Analysis is querying - and QueryParser has it's own 
set of quirks and caveats related to how things are tokenized/analyzed. 
  And, I've got just the follow-up article for you handy...

	http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

If you digest both of these articles (analysis one first please) then I 
think a lot of questions that get asked on this list will be implicitly 
answered.  Understanding analysis is key.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 11:05:56 2003
Return-Path: 
 <lucene-user-return-6230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73980 invoked from network); 26 Nov 2003 11:05:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 11:05:56 -0000
Received: (qmail 60182 invoked by uid 500); 26 Nov 2003 11:05:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60159 invoked by uid 500); 26 Nov 2003 11:05:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60146 invoked from network); 26 Nov 2003 11:05:23 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 26 Nov 2003 11:05:23 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Wed, 26 Nov 2003 05:06:01 -0500
Message-ID: <013601c3b40e$2592b7e0$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <080FDF7C-1FF6-11D8-91B3-000393A564E6@ehatchersolutions.com>
Subject: Re: Tokenizing text custom way
Date: Wed, 26 Nov 2003 12:12:11 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> You will need to write a custom analyzer.  Don't worry, though.... it's
> quite straightforward.  You will also need to write a Tokenizer, but
> Lucene helps you a lot here.

Wouldn't I achieve the same result if I index "time out" like "time_out",
using StandardAnalyzer and later if I search for "time out" (inside quotes)
I should get proper result, but if I search for "time" I shouldn't get
result. Is this right?




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 11:42:19 2003
Return-Path: 
 <lucene-user-return-6231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89012 invoked from network); 26 Nov 2003 11:42:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 11:42:19 -0000
Received: (qmail 901 invoked by uid 500); 26 Nov 2003 11:42:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 634 invoked by uid 500); 26 Nov 2003 11:42:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 621 invoked from network); 26 Nov 2003 11:42:14 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 26 Nov 2003 11:42:14 -0000
Message-ID: <20031126114213.56729.qmail@web12701.mail.yahoo.com>
Received: from [194.152.226.225] by web12701.mail.yahoo.com via HTTP;
 Wed, 26 Nov 2003 03:42:13 PST
Date: Wed, 26 Nov 2003 03:42:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Chinese input.
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
In-Reply-To: <200311260514.hAQ5ELsm026128@smtp24.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe this will help?

  http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23545

Otis

--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> May I know how do I analyse Chinese input from Chinese text in
> Lucene?
> 
> Do I use Analyser function in Lucene? If yes, how to go about using
> it?
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 12:04:00 2003
Return-Path: 
 <lucene-user-return-6232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97840 invoked from network); 26 Nov 2003 12:04:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 12:04:00 -0000
Received: (qmail 30283 invoked by uid 500); 26 Nov 2003 12:03:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30051 invoked by uid 500); 26 Nov 2003 12:03:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30037 invoked from network); 26 Nov 2003 12:03:54 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 26 Nov 2003 12:03:54 -0000
Received: (cpmta 366 invoked from network); 26 Nov 2003 04:03:53 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 26 Nov 2003 04:03:53 -0800
X-Sent: 26 Nov 2003 12:03:53 GMT
Date: Wed, 26 Nov 2003 07:03:52 -0500
Subject: Re: Tokenizing text custom way
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <013601c3b40e$2592b7e0$1601a8c0@deki>
Message-Id: <99EDC566-2008-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 26, 2003, at 06:12  AM, Dragan Jotanovic wrote:
>> You will need to write a custom analyzer.  Don't worry, though.... 
>> it's
>> quite straightforward.  You will also need to write a Tokenizer, but
>> Lucene helps you a lot here.
>
> Wouldn't I achieve the same result if I index "time out" like 
> "time_out",
> using StandardAnalyzer and later if I search for "time out" (inside 
> quotes)
> I should get proper result, but if I search for "time" I shouldn't get
> result. Is this right?

I'm confused on what you are planning doing.  Are you going to replace 
all spaces with an underscore before handing it to the analyzer?  
StandardAnalyzer will still split at the underscores though.

If you have special tokenization needs, why try to hack it somehow 
rather than address it cleanly in the way Lucene was designed to work?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 12:17:37 2003
Return-Path: 
 <lucene-user-return-6233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3132 invoked from network); 26 Nov 2003 12:17:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 12:17:37 -0000
Received: (qmail 43679 invoked by uid 500); 26 Nov 2003 12:17:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43652 invoked by uid 500); 26 Nov 2003 12:17:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43639 invoked from network); 26 Nov 2003 12:17:31 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 26 Nov 2003 12:17:31 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id NAA25437
        for <lucene-user@jakarta.apache.org>;
 Wed, 26 Nov 2003 13:20:04 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id NAA25430
        for <lucene-user@jakarta.apache.org>;
 Wed, 26 Nov 2003 13:20:03 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id NAA27680
        for <lucene-user@jakarta.apache.org>;
 Wed, 26 Nov 2003 13:19:55 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <XNX3SQV7>; Wed, 26 Nov 2003 13:18:13 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBAA0@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Tokenizing text custom way
Date: Wed, 26 Nov 2003 13:18:10 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3B417.0CD3A3F0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3B417.0CD3A3F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Do you want to define expressions, i.e. a set of terms that must be
intpreted as a whole ?
For instance, when the Analyzer catchs "time" followed by "out" it =
returns
"time_out" ?


-----Message d'origine-----
De : Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
Envoy=E9 : mercredi 26 novembre 2003 12:12
=C0 : Lucene Users List
Objet : Re: Tokenizing text custom way


> You will need to write a custom analyzer.  Don't worry, though.... =
it's
> quite straightforward.  You will also need to write a Tokenizer, but
> Lucene helps you a lot here.

Wouldn't I achieve the same result if I index "time out" like =
"time_out",
using StandardAnalyzer and later if I search for "time out" (inside =
quotes)
I should get proper result, but if I search for "time" I shouldn't get
result. Is this right?




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3B417.0CD3A3F0--

From MAILER-DAEMON Wed Nov 26 14:51:03 2003
Return-Path: 
 <lucene-user-return-6234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92124 invoked from network); 26 Nov 2003 14:51:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 14:51:03 -0000
Received: (qmail 81185 invoked by uid 500); 26 Nov 2003 14:50:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81136 invoked by uid 500); 26 Nov 2003 14:50:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81029 invoked from network); 26 Nov 2003 14:50:49 -0000
Received: from unknown (HELO precieuse.cirano.qc.ca) (207.162.57.25)
  by daedalus.apache.org with SMTP; 26 Nov 2003 14:50:49 -0000
Received: from savinien.cirano.qc.ca (savinien.cirano.qc.ca [207.162.57.133])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id hAQEoPc28983;
	Wed, 26 Nov 2003 09:50:25 -0500
Received: from localhost (vauchers@localhost)
	by savinien.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id hAQEoKO14588;
	Wed, 26 Nov 2003 09:50:20 -0500
Date: Wed, 26 Nov 2003 09:50:20 -0500 (EST)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   <chentun@singnet.com.sg>
Subject: Re: log4j.properties
In-Reply-To: <200311260604.hAQ64gte014753@smtp21.singnet.com.sg>
Message-ID: <Pine.LNX.4.44.0311260949390.14580-100000@savinien.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As I've said previously, it's a log4j problem and not a lucene probleme, 
you should post there.

sv

On Wed, 26 Nov 2003, Tun Lin wrote:

> I have created the following "log4j.properties" and put it in your classpath but
> it still has that error. Anyone can help?
> 
> log4j.rootCategory=stdout
> 
> log4j.appender.stdout=org.apache.log4j.ConsoleAppender
> log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
> log4j.appender.stdout.layout.ConversionPattern=%d %c - %m%n
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 15:06:11 2003
Return-Path: 
 <lucene-user-return-6235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3090 invoked from network); 26 Nov 2003 15:06:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 15:06:11 -0000
Received: (qmail 8268 invoked by uid 500); 26 Nov 2003 15:06:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8239 invoked by uid 500); 26 Nov 2003 15:06:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8222 invoked from network); 26 Nov 2003 15:06:01 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 26 Nov 2003 15:06:01 -0000
Received: from HP29375324311 (tns02437.singnet.com.sg [165.21.189.227])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hAQF5xuQ004067
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 23:06:00 +0800
Message-Id: <200311261506.hAQF5xuQ004067@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: log4j.properties
Date: Wed, 26 Nov 2003 23:05:54 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <92E1F9A8-1FF1-11D8-91B3-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcOz/quvs2xMy8rMQy+wOfVUs15S8gAL561w
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have integrated Lucene and PDFBox and tried the following command to index
files 

java -Dlog4j.configuration=log4j.xml org.pdfbox.searchengine.lucene.IndexFiles
-create -index c:\\index .. 

But I have the following error message:
log4j:WARN No appenders could be found for logger (org.pdfbox.pdfparser.PDFParse
r).
log4j:WARN Please initialize the log4j system properly.

Anyone can help?

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, November 26, 2003 5:19 PM
To: Lucene Users List
Subject: Re: log4j.properties

What does this have to do with Lucene?


On Wednesday, November 26, 2003, at 01:04  AM, Tun Lin wrote:

> I have created the following "log4j.properties" and put it in your 
> classpath but it still has that error. Anyone can help?
>
> log4j.rootCategory=stdout
>
> log4j.appender.stdout=org.apache.log4j.ConsoleAppender
> log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
> log4j.appender.stdout.layout.ConversionPattern=%d %c - %m%n
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 15:54:47 2003
Return-Path: 
 <lucene-user-return-6236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30646 invoked from network); 26 Nov 2003 15:54:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 15:54:47 -0000
Received: (qmail 9664 invoked by uid 500); 26 Nov 2003 15:54:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9251 invoked by uid 500); 26 Nov 2003 15:54:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9238 invoked from network); 26 Nov 2003 15:54:36 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 26 Nov 2003 15:54:36 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAQFsbU04363
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 10:54:37 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOY00501UV0ZU@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 10:54:36 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOY00M8MUV0LR@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 10:54:36 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Wed,
 26 Nov 2003 10:54:36 -0500
Date: Wed, 26 Nov 2003 10:54:36 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Search Question - not returning desired results
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B1@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Search Question - not returning desired results
Thread-Index: AcO0A8HCObUQ7+hTStqE/vcP30U8uwAMZMlA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 26 Nov 2003 15:54:36.0497 (UTC)
 FILETIME=[9786DC10:01C3B435]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks this helps a lot :)

 



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, November 26, 2003 4:58 AM
To: Lucene Users List
Subject: Re: Search Question - not returning desired results


On Tuesday, November 25, 2003, at 12:11  PM, Pleasant, Tracy wrote:
>
> The documents I have index contain information regarding file names 
> also.
>
> For instance 'return_results.pl' or something like that may be in the 
> document fields.
>
> I am not understanding Lucene's way of searching:
>
> 1. If I search for 'return_results', the search does not return 
> anything
> 2. If I search for 'results' or 'return', the search does not return 
> anything
> 3. If I search for 'results.pl', the search does return the document 
> containg 'return_results.pl'
> 4. If I search for 'results~', the search does return the document 
> containg 'return_results.pl'
> 5. If I search for 'return_results~', the search does not return 
> anything
>
> What is going on?
>
> I want it to return the document in all of the situations.
>
> I also don't want to have to use '~' all the time.

We sure do have a recurring theme lately :)  Analysis!

Please refer to my article at java.net:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Look at the AnalysisDemo code.  Copy it over and try it out on the text 
you're using and the Analyzer you're using.  The bracketed text that 
comes out are the "tokens" that you can search on.  It is very very 
important to understand this process and to really know what terms come 
out of text you hand it - otherwise it is a mystery why some things can 
be found and some things cannot despite your expectations to the 
contrary.

A follow-up to the Analysis is querying - and QueryParser has it's own 
set of quirks and caveats related to how things are tokenized/analyzed. 
  And, I've got just the follow-up article for you handy...

	
http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

If you digest both of these articles (analysis one first please) then I 
think a lot of questions that get asked on this list will be implicitly 
answered.  Understanding analysis is key.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 16:08:56 2003
Return-Path: 
 <lucene-user-return-6237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39820 invoked from network); 26 Nov 2003 16:08:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 16:08:56 -0000
Received: (qmail 44135 invoked by uid 500); 26 Nov 2003 16:08:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43961 invoked by uid 500); 26 Nov 2003 16:08:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43897 invoked from network); 26 Nov 2003 16:08:41 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 26 Nov 2003 16:08:41 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAQG8fU09771
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 11:08:41 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOY00C01VIHWL@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:08:41 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOY00KUKVIHVT@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:08:41 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Wed,
 26 Nov 2003 11:08:40 -0500
Date: Wed, 26 Nov 2003 11:08:40 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Search Question - not returning desired results
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B2@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Search Question - not returning desired results
Thread-Index: AcO0A8HCObUQ7+hTStqE/vcP30U8uwAMwkwQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 26 Nov 2003 16:08:40.0805 (UTC)
 FILETIME=[8EC60950:01C3B437]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It seems like what I should we using is something more like a
SimpleAnalyzer or StopAnalyzer.

I've changed my code and the query to use SimpleAnalyzer.

But now i have another question.

Let's say I have 'return_results.pl' in the document in one of the
fields. 

When I search for return_res* or return_res~ it won't return the
document.

But searching for any of these does return the document:
1. 'return_results'
2. 'results' or 'return'
3. 'results.pl'
4. 'results~'
5. 'return_results~'


I guess I have to read more about the '*' and '~'?

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, November 26, 2003 4:58 AM
To: Lucene Users List
Subject: Re: Search Question - not returning desired results


On Tuesday, November 25, 2003, at 12:11  PM, Pleasant, Tracy wrote:
>
> The documents I have index contain information regarding file names 
> also.
>
> For instance 'return_results.pl' or something like that may be in the 
> document fields.
>
> I am not understanding Lucene's way of searching:
>
> 1. If I search for 'return_results', the search does not return 
> anything
> 2. If I search for 'results' or 'return', the search does not return 
> anything
> 3. If I search for 'results.pl', the search does return the document 
> containg 'return_results.pl'
> 4. If I search for 'results~', the search does return the document 
> containg 'return_results.pl'
> 5. If I search for 'return_results~', the search does not return 
> anything
>
> What is going on?
>
> I want it to return the document in all of the situations.
>
> I also don't want to have to use '~' all the time.

We sure do have a recurring theme lately :)  Analysis!

Please refer to my article at java.net:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Look at the AnalysisDemo code.  Copy it over and try it out on the text 
you're using and the Analyzer you're using.  The bracketed text that 
comes out are the "tokens" that you can search on.  It is very very 
important to understand this process and to really know what terms come 
out of text you hand it - otherwise it is a mystery why some things can 
be found and some things cannot despite your expectations to the 
contrary.

A follow-up to the Analysis is querying - and QueryParser has it's own 
set of quirks and caveats related to how things are tokenized/analyzed. 
  And, I've got just the follow-up article for you handy...

	
http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

If you digest both of these articles (analysis one first please) then I 
think a lot of questions that get asked on this list will be implicitly 
answered.  Understanding analysis is key.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 16:33:45 2003
Return-Path: 
 <lucene-user-return-6238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54780 invoked from network); 26 Nov 2003 16:33:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 16:33:45 -0000
Received: (qmail 2176 invoked by uid 500); 26 Nov 2003 16:33:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2146 invoked by uid 500); 26 Nov 2003 16:33:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2120 invoked from network); 26 Nov 2003 16:33:33 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 26 Nov 2003 16:33:33 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAQGXYU03809
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 11:33:34 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOY00201WNYOW@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:33:34 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOY0097BWNY4W@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:33:34 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Wed,
 26 Nov 2003 11:33:33 -0500
Date: Wed, 26 Nov 2003 11:33:33 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Search Question - not returning desired results
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B4@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Search Question - not returning desired results
Thread-Index: AcO0A8HCObUQ7+hTStqE/vcP30U8uwANsQag
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 26 Nov 2003 16:33:33.0934 (UTC)
 FILETIME=[08BF70E0:01C3B43B]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I think there may be a typo in the website.

When I run the AnalyzerDemo :

Analzying "xy&z corporation - xyz@example.com"
        org.apache.lucene.analysis.standard.StandardAnalyzer:
                [xy&z] [corporation] [xyz@example.com] 

Your website says:

    org.apache.lucene.analysis.standard.StandardAnalyzer:
        [xy&z] [corporation] [xyz@example] [com] 

When I run it it keeps the entire email 'xyz@example.com
but according to your website it separates the 'xyz@example' from the
'com'

Is there a difference between the versions of Lucene? I'm using 1.3rc2.

Plus I think what I want is a StandardAnalyzer with a little tweaking.
The simple one was fine until I realized that it doesn't do numbers,
which I need as part of my search since numbers is important for what
I'm doing. The Standard does numbers but I need it to be a little
different of course. Thanks for the site.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, November 26, 2003 4:58 AM
To: Lucene Users List
Subject: Re: Search Question - not returning desired results


On Tuesday, November 25, 2003, at 12:11  PM, Pleasant, Tracy wrote:
>
> The documents I have index contain information regarding file names 
> also.
>
> For instance 'return_results.pl' or something like that may be in the 
> document fields.
>
> I am not understanding Lucene's way of searching:
>
> 1. If I search for 'return_results', the search does not return 
> anything
> 2. If I search for 'results' or 'return', the search does not return 
> anything
> 3. If I search for 'results.pl', the search does return the document 
> containg 'return_results.pl'
> 4. If I search for 'results~', the search does return the document 
> containg 'return_results.pl'
> 5. If I search for 'return_results~', the search does not return 
> anything
>
> What is going on?
>
> I want it to return the document in all of the situations.
>
> I also don't want to have to use '~' all the time.

We sure do have a recurring theme lately :)  Analysis!

Please refer to my article at java.net:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Look at the AnalysisDemo code.  Copy it over and try it out on the text 
you're using and the Analyzer you're using.  The bracketed text that 
comes out are the "tokens" that you can search on.  It is very very 
important to understand this process and to really know what terms come 
out of text you hand it - otherwise it is a mystery why some things can 
be found and some things cannot despite your expectations to the 
contrary.

A follow-up to the Analysis is querying - and QueryParser has it's own 
set of quirks and caveats related to how things are tokenized/analyzed. 
  And, I've got just the follow-up article for you handy...

	
http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

If you digest both of these articles (analysis one first please) then I 
think a lot of questions that get asked on this list will be implicitly 
answered.  Understanding analysis is key.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 16:38:42 2003
Return-Path: 
 <lucene-user-return-6239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58221 invoked from network); 26 Nov 2003 16:38:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 16:38:42 -0000
Received: (qmail 13620 invoked by uid 500); 26 Nov 2003 16:38:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13523 invoked by uid 500); 26 Nov 2003 16:38:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13510 invoked from network); 26 Nov 2003 16:38:31 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 26 Nov 2003 16:38:31 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hAQGcTU04588
	for <lucene-user@jakarta.apache.org>; Wed, 26 Nov 2003 11:38:30 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HOY00501WW5HN@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:38:29 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HOY00A4DWW5V9@lmco.com> for lucene-user@jakarta.apache.org;
 Wed, 26 Nov 2003 11:38:29 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Wed,
 26 Nov 2003 11:38:29 -0500
Date: Wed, 26 Nov 2003 11:38:29 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Eliminating duplicate result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B5@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: Eliminating duplicate result
Thread-Index: AcOz9TrgO93iaKHCROawzIis/eQkywARjt9A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 26 Nov 2003 16:38:29.0375 (UTC)
 FILETIME=[B8D828F0:01C3B43B]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You are searching for the same term and you are searching the same index twice, it will return the same results... 

I don't get what you are asking.


-----Original Message-----
From: Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]
Sent: Wednesday, November 26, 2003 3:19 AM
To: Lucene Users List
Subject: Re: Eliminating duplicate result


> When you are doing two searches are you searching for two different terms?
> 

No, I am searching for the same term.


What is the easyest way to eliminate duplicate documents if one is doing two searches on the same index?

Have anybody done something similar?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 16:45:45 2003
Return-Path: 
 <lucene-user-return-6240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62932 invoked from network); 26 Nov 2003 16:45:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 16:45:45 -0000
Received: (qmail 37095 invoked by uid 500); 26 Nov 2003 16:45:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37059 invoked by uid 500); 26 Nov 2003 16:45:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36994 invoked from network); 26 Nov 2003 16:45:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 26 Nov 2003 16:45:12 -0000
Received: (cpmta 4312 invoked from network); 26 Nov 2003 08:45:14 -0800
Received: from 128.143.184.25 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 26 Nov 2003 08:45:14 -0800
X-Sent: 26 Nov 2003 16:45:14 GMT
Date: Wed, 26 Nov 2003 11:45:03 -0500
Subject: Re: Search Question - not returning desired results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B4@EMSS04M14.us.lmco.com>
Message-Id: <E23EB760-202F-11D8-98ED-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 26, 2003, at 11:33  AM, Pleasant, Tracy wrote:
> Your website says:
>
>     org.apache.lucene.analysis.standard.StandardAnalyzer:
>         [xy&z] [corporation] [xyz@example] [com]
>
> When I run it it keeps the entire email 'xyz@example.com
> but according to your website it separates the 'xyz@example' from the
> 'com'
>
> Is there a difference between the versions of Lucene? I'm using 1.3rc2.

Yes, I fixed the bug in the StandardTokenizer that caused e-mail 
addresses to get split, but fixed it after the article was written.  
Good eye!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 16:46:11 2003
Return-Path: 
 <lucene-user-return-6241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63351 invoked from network); 26 Nov 2003 16:46:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 16:46:11 -0000
Received: (qmail 40703 invoked by uid 500); 26 Nov 2003 16:45:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40675 invoked by uid 500); 26 Nov 2003 16:45:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40650 invoked from network); 26 Nov 2003 16:45:58 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 26 Nov 2003 16:45:58 -0000
Received: (cpmta 7130 invoked from network); 26 Nov 2003 08:45:59 -0800
Received: from 128.143.184.25 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 26 Nov 2003 08:45:59 -0800
X-Sent: 26 Nov 2003 16:45:59 GMT
Date: Wed, 26 Nov 2003 11:45:58 -0500
Subject: Re: Search Question - not returning desired results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B2@EMSS04M14.us.lmco.com>
Message-Id: <02C3FB70-2030-11D8-98ED-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 26, 2003, at 11:08  AM, Pleasant, Tracy wrote:
> But now i have another question.
>
> Let's say I have 'return_results.pl' in the document in one of the
> fields.
>
> When I search for return_res* or return_res~ it won't return the
> document.
>
> But searching for any of these does return the document:
> 1. 'return_results'
> 2. 'results' or 'return'
> 3. 'results.pl'
> 4. 'results~'
> 5. 'return_results~'
>
>
> I guess I have to read more about the '*' and '~'?

What does my AnalysisDemo tell you about all of the text you're feeding 
in here?  :))  The answer lies therein!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 17:07:56 2003
Return-Path: 
 <lucene-user-return-6242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76741 invoked from network); 26 Nov 2003 17:07:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 17:07:56 -0000
Received: (qmail 78745 invoked by uid 500); 26 Nov 2003 17:07:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78715 invoked by uid 500); 26 Nov 2003 17:07:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78702 invoked from network); 26 Nov 2003 17:07:44 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 26 Nov 2003 17:07:44 -0000
Received: (cpmta 23268 invoked from network); 26 Nov 2003 09:07:47 -0800
Received: from 128.143.184.25 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 26 Nov 2003 09:07:47 -0800
X-Sent: 26 Nov 2003 17:07:47 GMT
Date: Wed, 26 Nov 2003 12:07:44 -0500
Subject: Re: Search Question - not returning desired results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6B2@EMSS04M14.us.lmco.com>
Message-Id: <0D3E2E7A-2033-11D8-98ED-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, November 26, 2003, at 11:08  AM, Pleasant, Tracy wrote:
> But now i have another question.
>
> Let's say I have 'return_results.pl' in the document in one of the
> fields.

Actually there is a little bit more to it than understanding the 
analysis phase, and you were right in saying you need to understand '*' 
and '~' as well.

More below...

> When I search for return_res* or return_res~ it won't return the
> document.

this is searching for all terms that start with "return_res", and 
during analysis you split this into "return" and "res", so no terms 
match.  Same goes for the fuzzy query with ~.

> But searching for any of these does return the document:
> 1. 'return_results'
> 2. 'results' or 'return'
> 3. 'results.pl'
> 4. 'results~'
> 5. 'return_results~'

in all of these cases, you're searching for terms that got split by the 
analyzer on indexing (and during QueryParser analysis for 
"return_results", "results.pl").

Tricky stuff, eh?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Nov 26 20:34:38 2003
Return-Path: 
 <lucene-user-return-6243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14591 invoked from network); 26 Nov 2003 20:34:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Nov 2003 20:34:38 -0000
Received: (qmail 28994 invoked by uid 500); 26 Nov 2003 20:34:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28804 invoked by uid 500); 26 Nov 2003 20:34:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28781 invoked from network); 26 Nov 2003 20:34:22 -0000
Received: from unknown (HELO darksleep.com) (192.204.202.251)
  by daedalus.apache.org with SMTP; 26 Nov 2003 20:34:22 -0000
Received: by darksleep.com (Postfix, from userid 1009)
	id E187B3CD58; Wed, 26 Nov 2003 15:34:27 -0500 (EST)
Date: Wed, 26 Nov 2003 15:34:27 -0500
From: "Steven J. Owens" <puffmail@darksleep.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Collaborative Filtering API
Message-ID: <20031126203427.GC304@darksleep.com>
Reply-To: puff@darksleep.com
References: <6.0.0.22.0.20031125112647.021066a0@mail.visionstudio.com>
 <32452.1069780709@www5.gmx.net>
 <6.0.0.22.0.20031125131556.020f0a70@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <6.0.0.22.0.20031125131556.020f0a70@mail.visionstudio.com>
User-Agent: Mutt/1.4i
Sender: Steven J.Owens <puffmail@darksleep.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Nov 25, 2003 at 01:18:19PM -0500, Michael Giles wrote:
> Yes, he was the lead Ph.D. student on the GroupLens project at Minnesota.

     I've actually worked on a system that bundled GroupLens.  I think
it was Vignette StoryServer.  The Vignette docs were incredibly dense
with MarketingNewSpeak, so I could never quite figure out what they
said GroupLens actually *did* (not at a web-capable terminal right
now, or I'd just google it).

     Collaborative filtering in general is a topic I'm interested in,
and is why I first got into Lucene.  I wanted and still want to build
a collaborative filtering search engine for mailing lists and the
like.

     I do remember that FireFly's engine was supposed to graph all of
the users' ratings on a topic in an N-dimensional space, and then find
users "close" to the same user in that N-dimensional space, and
suggest topics that they'd liked, but that the current user hadn't
rated.

     I'm interested in more of a "free market" sort of approach than
in statistical analysis; I want to build a system that helps usrs
express their opinions, then nurture an emerging consensus.  My
experience has been that systems that systems/technologies that try to
facilitate the way users already do things, instead of replacing them
with new ways of doing things, tend to work better.

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - Me at http://darksleep.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 01:24:49 2003
Return-Path: 
 <lucene-user-return-6244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78184 invoked from network); 27 Nov 2003 01:24:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 01:24:49 -0000
Received: (qmail 80571 invoked by uid 500); 27 Nov 2003 01:24:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80373 invoked by uid 500); 27 Nov 2003 01:24:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80356 invoked from network); 27 Nov 2003 01:24:28 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 27 Nov 2003 01:24:28 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id hAR1OYu16558;
	Wed, 26 Nov 2003 19:24:34 -0600
Message-ID: <003401c3b485$37c89c50$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <chentun@singnet.com.sg>
References: <200311261506.hAQF5xuQ004067@smtp23.singnet.com.sg>
Subject: Re: log4j.properties
Date: Thu, 27 Nov 2003 12:24:31 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> java -Dlog4j.configuration=log4j.xml
org.pdfbox.searchengine.lucene.IndexFiles
> -create -index c:\\index ..

Hmm try to create log4j.xml instead of log4j.properties as specified in the
command line parameter.



----- Original Message ----- 
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 27, 2003 2:05 AM
Subject: RE: log4j.properties


> I have integrated Lucene and PDFBox and tried the following command to
index
> files
>
> java -Dlog4j.configuration=log4j.xml
org.pdfbox.searchengine.lucene.IndexFiles
> -create -index c:\\index ..
>
> But I have the following error message:
> log4j:WARN No appenders could be found for logger
(org.pdfbox.pdfparser.PDFParse
> r).
> log4j:WARN Please initialize the log4j system properly.
>
> Anyone can help?
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, November 26, 2003 5:19 PM
> To: Lucene Users List
> Subject: Re: log4j.properties
>
> What does this have to do with Lucene?
>
>
> On Wednesday, November 26, 2003, at 01:04  AM, Tun Lin wrote:
>
> > I have created the following "log4j.properties" and put it in your
> > classpath but it still has that error. Anyone can help?
> >
> > log4j.rootCategory=stdout
> >
> > log4j.appender.stdout=org.apache.log4j.ConsoleAppender
> > log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
> > log4j.appender.stdout.layout.ConversionPattern=%d %c - %m%n
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 03:20:08 2003
Return-Path: 
 <lucene-user-return-6245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44264 invoked from network); 27 Nov 2003 03:20:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 03:20:08 -0000
Received: (qmail 39033 invoked by uid 500); 27 Nov 2003 03:19:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39000 invoked by uid 500); 27 Nov 2003 03:19:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38987 invoked from network); 27 Nov 2003 03:19:44 -0000
Received: from unknown (HELO server1070.gisol.com) (216.240.136.190)
  by daedalus.apache.org with SMTP; 27 Nov 2003 03:19:44 -0000
Received: from h0080c8146f54.ne.client2.attbi.com ([24.128.49.92] helo=Laptop)
	by server1070.gisol.com with esmtp (Exim 4.24)
	id 1APCh4-0006zg-RD
	for lucene-user@jakarta.apache.org; Wed, 26 Nov 2003 19:19:50 -0800
From: "Dion Almaer" <dion@almaer.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Dates and others
Date: Wed, 26 Nov 2003 22:19:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <D0D0A52D-1DF6-11D8-BD93-000393A564E6@ehatchersolutions.com>
Thread-Index: AcOyQ+O+fqw9ugoaTgS6GTd6s6c1HQCUIaZA
Message-Id: <E1APCh4-0006zg-RD@server1070.gisol.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - server1070.gisol.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - almaer.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi guys -

So I am getting happier with search, and just pushed the lucene version live at:

http://www.theserverside.com (on the leftbar) and:
http://www.theserverside.com/home/search/index.jsp

The only real item that I still want to tweak more is getting recent results higher in the list.

I was wondering if something like this could work (or if there is a better solution)

At index time, I have the date of the content.  I could do some math where the higher the date
(based on the time_t version or whatever) the more of a setBoost(metric). Or, for every month in the
past, create a larger negative number to setBoost()... or something like that.

Would something like this make sense?

Dion


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> Sent: Sunday, November 23, 2003 3:52 PM
> To: Lucene Users List
> Subject: Re: Dates and others
> 
> On Saturday, November 22, 2003, at 06:33  PM, Dion Almaer wrote:
> > 3. I have some fields suck as title, owner, etc as well as 
> the content 
> > blob which I index and use as the default search field.  Is 
> there an 
> > easy way to extend the QueryParser to merge it with a 
> MultiTermQuery 
> > which can also search this meta data and give them certain 
> weights?  
> > Or, if you go down this path do you have to leave the QueryParser 
> > behind and build your own queries?  Any best practices 
> would be great.
> 
> And Ype said:
> You can provide field weights at document indexing time 
> (norms) and use a MultiTermQuery for searching multiple 
> fields. At query time you can again use field weights.
> I don't know how the scoring of the MultiTermQuery is done, 
> it might use the max. score over the fields of a document, or 
> combine the scores in the fields of a document.
> ---- end Ype's reply cut and paste
> 
> I'm a little confused with this question and Ype's reply.  
> MultiTermQuery is an abstract base class under Query, which 
> is the parent for WildcardQuery and FuzzyQuery.
> 
> What I think you're after is using MultiFieldQueryParser, but 
> you want to weight the fields differently.  You can add the 
> boosts at indexing time using Field.setBoost.  Unfortunately 
> at the moment MultiFieldQueryParser is not very extensible - 
> there are some open issues with its subclassability but 
> subclassing MFQP and overriding getFieldQuery will do the 
> trick when the subclassing issues are resolved allowing you 
> to boost at query time.
> 
> Making an educated guess at what you're doing with Lucene, 
> Dion, I'd venture to say that boosting at indexing time is 
> sufficient for your needs.
> 
> 	Erik
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 08:37:19 2003
Return-Path: 
 <lucene-user-return-6246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15987 invoked from network); 27 Nov 2003 08:37:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 08:37:19 -0000
Received: (qmail 78012 invoked by uid 500); 27 Nov 2003 08:36:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77980 invoked by uid 500); 27 Nov 2003 08:36:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77967 invoked from network); 27 Nov 2003 08:36:48 -0000
Received: from unknown (HELO satan.os.pl) (213.227.69.60)
  by daedalus.apache.org with SMTP; 27 Nov 2003 08:36:48 -0000
Received: (qmail 32485 invoked from network); 27 Nov 2003 08:43:33 -0000
Received: from unknown (HELO os.pl) (194.153.170.254)
  by satan.os.pl with SMTP; 27 Nov 2003 08:43:32 -0000
Message-ID: <3FC5B7A6.8020903@os.pl>
Date: Thu, 27 Nov 2003 09:36:54 +0100
From: Michal S <michal.s@os.pl>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5b) Gecko/20030827
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: indexing/searching a website
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp) on
	satan.os.pl
X-Spam-Status: No, hits=-3.0 required=7.5 tests=AWL,BAYES_00,
	UNWANTED_LANGUAGE_BODY autolearn=ham version=2.60
X-Spam-Level: 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Group Members,

I have looked in archives for a simple tutorial which could guide me 
throught process of integrating Lucene with a website based on Struts.
The website uses tiles, the content of the tiles is kept in multiple jsp 
files.

I have read several Marco's posts which seem to be close to my problem. 
However, my experience in Lucene is limited to indexing static html file 
repository, so I need some kind of tutorial.

Also, i didn't find get anything like this from google.
Any help appreciated.

All the best,
Michal


___________________________________
Najlepsze bo darmowe - konta e-mail
www.free.os.pl


-- SUPER LOGOSY I DZWONKI DO TWOJEJ KOM�RKI --
	   www.logo-dzwonki.pl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 10:37:08 2003
Return-Path: 
 <lucene-user-return-6247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81399 invoked from network); 27 Nov 2003 10:37:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 10:37:08 -0000
Received: (qmail 37954 invoked by uid 500); 27 Nov 2003 10:36:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37657 invoked by uid 500); 27 Nov 2003 10:36:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37644 invoked from network); 27 Nov 2003 10:36:37 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 27 Nov 2003 10:36:37 -0000
Received: (cpmta 26175 invoked from network); 27 Nov 2003 02:36:50 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 27 Nov 2003 02:36:50 -0800
X-Sent: 27 Nov 2003 10:36:50 GMT
Date: Thu, 27 Nov 2003 05:36:48 -0500
Subject: Re: indexing/searching a website
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FC5B7A6.8020903@os.pl>
Message-Id: <9AFD619C-20C5-11D8-8C5C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, November 27, 2003, at 03:36  AM, Michal S wrote:
> Dear Group Members,
> I have looked in archives for a simple tutorial which could guide me 
> throught process of integrating Lucene with a website based on Struts.
> The website uses tiles, the content of the tiles is kept in multiple 
> jsp files.
>
> I have read several Marco's posts which seem to be close to my 
> problem. However, my experience in Lucene is limited to indexing 
> static html file repository, so I need some kind of tutorial.

You have a lot of options.  If you want to index the content directly 
from the JSP's, look at the demo that ships with Lucene.  You will 
likely have to implement a little bit of parsing to filter out 
taglibs/directives and get just the unadorned content.

Another option is to deploy your site and crawl it from the outside 
(have a look at Nutch at sourceforge - or write your own using 
HttpClient and some HTML parsing for hyperlinks).

Lucene is not restricted in what it can index.  If you can get text out 
of it, Lucene can index it.

I would argue that content within the JSP is a bad thing given that you 
want to index it - perhaps it makes more sense to put the content 
somewhere easier to get at like a database?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 10:52:13 2003
Return-Path: 
 <lucene-user-return-6248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90265 invoked from network); 27 Nov 2003 10:52:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 10:52:13 -0000
Received: (qmail 57470 invoked by uid 500); 27 Nov 2003 10:51:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57435 invoked by uid 500); 27 Nov 2003 10:51:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57406 invoked from network); 27 Nov 2003 10:51:39 -0000
Received: from unknown (HELO satan.os.pl) (213.227.69.60)
  by daedalus.apache.org with SMTP; 27 Nov 2003 10:51:39 -0000
Received: (qmail 15572 invoked from network); 27 Nov 2003 10:58:29 -0000
Received: from unknown (HELO os.pl) (194.153.170.254)
  by satan.os.pl with SMTP; 27 Nov 2003 10:58:29 -0000
Message-ID: <3FC5D746.5080702@os.pl>
Date: Thu, 27 Nov 2003 11:51:50 +0100
From: Michal S <michal.s@os.pl>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5b) Gecko/20030827
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing/searching a website
References: <9AFD619C-20C5-11D8-8C5C-000393A564E6@ehatchersolutions.com>
In-Reply-To: <9AFD619C-20C5-11D8-8C5C-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp) on
	satan.os.pl
X-Spam-Status: No, hits=-2.7 required=7.5 tests=AWL,BAYES_00,
	UNWANTED_LANGUAGE_BODY autolearn=ham version=2.60
X-Spam-Level: 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> Another option is to deploy your site and crawl it from the outside 
> (have a look at Nutch at sourceforge - or write your own using 
> HttpClient and some HTML parsing for hyperlinks).

I realize that it will be necessary to write or use existing html 
parser. I know that i need But i don't know how the whole framework 
would look like (how to translate pages on webserwer to Lucene 
documents, how to index them, how to search them).

The example on the Lucene home page is very simple and doesn't give me 
much answers.


> I would argue that content within the JSP is a bad thing given that you 
> want to index it - perhaps it makes more sense to put the content 
> somewhere easier to get at like a database?

You are absolutely right. But my client wants to edit the content as 
easy as possible (via notepad or other text editor). If the content were 
in database, it would be necessery to provide my client with some kind 
of application which could let him update the content. The budget of the 
project is strongly limited so i can't afford to allocate more 
developers to build content editor.

Thanks for the reply.
Michal.



___________________________________
Najlepsze bo darmowe - konta e-mail
www.free.os.pl


-- SUPER LOGOSY I DZWONKI DO TWOJEJ KOM�RKI --
	   www.logo-dzwonki.pl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 10:55:31 2003
Return-Path: 
 <lucene-user-return-6249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92064 invoked from network); 27 Nov 2003 10:55:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 10:55:31 -0000
Received: (qmail 61010 invoked by uid 500); 27 Nov 2003 10:55:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60766 invoked by uid 500); 27 Nov 2003 10:54:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60753 invoked from network); 27 Nov 2003 10:54:59 -0000
Received: from unknown (HELO dougal.magus.co.uk) (193.130.109.2)
  by daedalus.apache.org with SMTP; 27 Nov 2003 10:54:59 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing/searching a website
Date: Thu, 27 Nov 2003 10:53:48 -0000
Message-ID: <51194813DA293D4CA3FC4AD392F8D993B27887@dougal.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing/searching a website
Thread-Index: AcO01FFdoGihqGauQ9GI39qCeOHaqwAACNcw
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would advise you to use the excellent articles listed here. =20

http://jakarta.apache.org/lucene/docs/resources.html

Some good examples and by the end of it you should have a good =
understanding of the major
classes and their use.

-----Original Message-----
From: Michal S [mailto:michal.s@os.pl]
Sent: 27 November 2003 10:52
To: Lucene Users List
Subject: Re: indexing/searching a website



> Another option is to deploy your site and crawl it from the outside=20
> (have a look at Nutch at sourceforge - or write your own using=20
> HttpClient and some HTML parsing for hyperlinks).

I realize that it will be necessary to write or use existing html=20
parser. I know that i need But i don't know how the whole framework=20
would look like (how to translate pages on webserwer to Lucene=20
documents, how to index them, how to search them).

The example on the Lucene home page is very simple and doesn't give me=20
much answers.


> I would argue that content within the JSP is a bad thing given that =
you=20
> want to index it - perhaps it makes more sense to put the content=20
> somewhere easier to get at like a database?

You are absolutely right. But my client wants to edit the content as=20
easy as possible (via notepad or other text editor). If the content were =

in database, it would be necessery to provide my client with some kind=20
of application which could let him update the content. The budget of the =

project is strongly limited so i can't afford to allocate more=20
developers to build content editor.

Thanks for the reply.
Michal.



___________________________________
Najlepsze bo darmowe - konta e-mail
www.free.os.pl


-- SUPER LOGOSY I DZWONKI DO TWOJEJ KOM=D3RKI --
	   www.logo-dzwonki.pl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 11:32:45 2003
Return-Path: 
 <lucene-user-return-6250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18455 invoked from network); 27 Nov 2003 11:32:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 11:32:45 -0000
Received: (qmail 25725 invoked by uid 500); 27 Nov 2003 11:32:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25419 invoked by uid 500); 27 Nov 2003 11:32:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25401 invoked from network); 27 Nov 2003 11:32:39 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 27 Nov 2003 11:32:39 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APKNy-0002s0-00
	for <lucene-user@jakarta.apache.org>; Thu, 27 Nov 2003 12:32:38 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1APKNt-0002rr-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Thu, 27 Nov 2003 12:32:33 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APKNt-00008o-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Thu, 27 Nov 2003 12:32:33 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: New Lucene-powered Website
Date: Thu, 27 Nov 2003 12:29:53 +0100
Lines: 41
Message-ID: <bq4nch$h1$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

we (DENIC) are the world's second largest domain registry (.de-zone has 
almost 6.9 million domains) and are using Lucene to index and search our 
website in a high-traffic scenario. Most of our web pages are available 
in English in addition to our native language German. If you want to try 
our Lucene-based search engine, please start here:

http://www.denic.de/en/special/index.jsp

Use the input field on the page to search our website. Don't use the 
input field at the top right, that is only for searching domains in our 
domain database, it has nothing to do with Lucene.

The indexes for German and English are seperate, so you should find only 
English pages from that page.

A somewhat interesting feature is the summarizer, on the results page 
you'll get a short summary of the page. These are not hand-written 
blurbs, rather they are generated automatically from the HTML pages at 
indexing time. I'd be especially interested in improvement suggestions 
in this area.

Naturally, the automatically generated texts don't have the same quality 
as hand-written ones. But they're better than nothing and in my eyes 
more useful than Google-style excerpts. How many times has it happened 
to you that the Google excerpt doesn't really tell you anything, because 
it's totally out of context? Summaries tell you what the whole page is 
about, irregardless of the context within which your search terms may 
appear. After reading the summary you should (hopefully) be able to 
decide whether the page contains the info you're looking for. Comments 
welcome!

We're using the snowball stemmers/analyzers for German and English, 
custom stopword lists and the HTML parser from the Sourceforge 
htmlparser project. Apart from that it's vanilla Lucene.

cheers,

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 12:59:19 2003
Return-Path: 
 <lucene-user-return-6251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69476 invoked from network); 27 Nov 2003 12:59:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 12:59:19 -0000
Received: (qmail 40632 invoked by uid 500); 27 Nov 2003 12:59:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40607 invoked by uid 500); 27 Nov 2003 12:59:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40594 invoked from network); 27 Nov 2003 12:59:12 -0000
Received: from unknown (HELO imf25aec.mail.bellsouth.net) (205.152.59.73)
  by daedalus.apache.org with SMTP; 27 Nov 2003 12:59:12 -0000
Received: from muleworkrt ([68.19.37.83]) by imf25aec.mail.bellsouth.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with SMTP
          id <20031127125912.POWV1936.imf25aec.mail.bellsouth.net@muleworkrt>
          for <lucene-user@jakarta.apache.org>;
          Thu, 27 Nov 2003 07:59:12 -0500
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: indexing/searching a website
Date: Thu, 27 Nov 2003 08:00:09 -0500
Message-ID: <OCEBJBKGJIBAILNJEGCKMEBDFPAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3FC5B7A6.8020903@os.pl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Check out http://www.searchblox.com/ . 
It's based on Lucene and extremely easy to use and set up.
It basically crawls your website and creates the index.
Search results are in XML and you can transform it using the
XSL style sheet shipped with it or create your own.

robert

> -----Original Message-----
> From: Michal S [mailto:michal.s@os.pl]
> Sent: Thursday, November 27, 2003 3:37 AM
> To: lucene-user@jakarta.apache.org
> Subject: indexing/searching a website
> 
> 
> Dear Group Members,
> 
> I have looked in archives for a simple tutorial which could guide me 
> throught process of integrating Lucene with a website based on Struts.
> The website uses tiles, the content of the tiles is kept in multiple jsp 
> files.
> 
> I have read several Marco's posts which seem to be close to my problem. 
> However, my experience in Lucene is limited to indexing static html file 
> repository, so I need some kind of tutorial.
> 
> Also, i didn't find get anything like this from google.
> Any help appreciated.
> 
> All the best,
> Michal
> 
> 
> ___________________________________
> Najlepsze bo darmowe - konta e-mail
> www.free.os.pl
> 
> 
> -- SUPER LOGOSY I DZWONKI DO TWOJEJ KOMSRKI --
> 	   www.logo-dzwonki.pl
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Nov 27 22:59:27 2003
Return-Path: 
 <lucene-user-return-6252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85965 invoked from network); 27 Nov 2003 22:59:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 27 Nov 2003 22:59:27 -0000
Received: (qmail 10127 invoked by uid 500); 27 Nov 2003 22:59:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10096 invoked by uid 500); 27 Nov 2003 22:59:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10083 invoked from network); 27 Nov 2003 22:59:08 -0000
Received: from unknown (HELO hotmail.com) (65.54.247.121)
  by daedalus.apache.org with SMTP; 27 Nov 2003 22:59:08 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 27 Nov 2003 14:59:15 -0800
Received: from 212.235.71.128 by by2fd.bay2.hotmail.msn.com with HTTP;
	Thu, 27 Nov 2003 22:59:15 GMT
X-Originating-IP: [212.235.71.128]
X-Originating-Email: [zonsh@hotmail.com]
From: "david zonsheine" <zonsh@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Index key value maps
Date: Thu, 27 Nov 2003 22:59:15 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY2-F121qporufdDh00000295a@hotmail.com>
X-OriginalArrivalTime: 27 Nov 2003 22:59:15.0469 (UTC)
 FILETIME=[149733D0:01C3B53A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All,

I have read the Lucene ducumetation and faq carfully and want to try and 
find an answer from the pros.

As a a part of my application I need to search a term over 1,000,000 
descriptions in 1,000,000 files.

Each document name is a key for a data base search.

I try to find out if indexing and search over 1,000,000 files that contain 
1,000,000 * 1 sentence is

reasonable and if not, if there is a way to by pass the problem.

I am trying to find a way to search over a huge key value map of terms.

Thank you very much,

David Zonsheine

Enigma Software

_________________________________________________________________
MSN 8 helps eliminate e-mail viruses. Get 2 months FREE*. 
http://join.msn.com/?page=features/virus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 07:48:56 2003
Return-Path: 
 <lucene-user-return-6253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6747 invoked from network); 28 Nov 2003 07:48:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 07:48:56 -0000
Received: (qmail 35094 invoked by uid 500); 28 Nov 2003 07:48:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35067 invoked by uid 500); 28 Nov 2003 07:48:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35054 invoked from network); 28 Nov 2003 07:48:26 -0000
Received: from unknown (HELO satan.os.pl) (213.227.69.60)
  by daedalus.apache.org with SMTP; 28 Nov 2003 07:48:26 -0000
Received: (qmail 28873 invoked from network); 28 Nov 2003 07:55:18 -0000
Received: from unknown (HELO os.pl) (194.153.170.254)
  by satan.os.pl with SMTP; 28 Nov 2003 07:55:18 -0000
Message-ID: <3FC6FDCE.5070300@os.pl>
Date: Fri, 28 Nov 2003 08:48:30 +0100
From: Michal S <michal.s@os.pl>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5b) Gecko/20030827
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing/searching a website
References: <OCEBJBKGJIBAILNJEGCKMEBDFPAA.rtaylor@newatlanta.com>
In-Reply-To: <OCEBJBKGJIBAILNJEGCKMEBDFPAA.rtaylor@newatlanta.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp) on
	satan.os.pl
X-Spam-Status: No, hits=-2.5 required=15.0 tests=AWL,BAYES_00,
	UNWANTED_LANGUAGE_BODY autolearn=ham version=2.60
X-Spam-Level: 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Robert Taylor wrote:
> Check out http://www.searchblox.com/ . 
> It's based on Lucene and extremely easy to use and set up.
> It basically crawls your website and creates the index.
> Search results are in XML and you can transform it using the
> XSL style sheet shipped with it or create your own.

Great app, but doesn't support language of my content.
Thanks,

Michal



___________________________________
Najlepsze bo darmowe - konta e-mail
www.free.os.pl


-- SUPER LOGOSY I DZWONKI DO TWOJEJ KOM�RKI --
	   www.logo-dzwonki.pl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 08:26:27 2003
Return-Path: 
 <lucene-user-return-6254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33496 invoked from network); 28 Nov 2003 08:26:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 08:26:27 -0000
Received: (qmail 88145 invoked by uid 500); 28 Nov 2003 08:25:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88122 invoked by uid 500); 28 Nov 2003 08:25:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88105 invoked from network); 28 Nov 2003 08:25:57 -0000
Received: from unknown (HELO mail.byteaction.de) (212.223.69.193)
  by daedalus.apache.org with SMTP; 28 Nov 2003 08:25:57 -0000
Received: (qmail 11106 invoked from network); 28 Nov 2003 08:26:08 -0000
Received: from unknown (HELO akmalbyteaction) (217.231.70.202)
  by mail.byteaction.de with SMTP; 28 Nov 2003 08:26:08 -0000
Message-ID: <001801c3b589$4805c2f0$0205a8c0@akmalbyteaction>
From: "Akmal Sarhan" <as@byteaction.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <bq4nch$h1$1@sea.gmane.org>
Subject: Re: New Lucene-powered Website
Date: Fri, 28 Nov 2003 09:26:11 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

nice and fast ;-)

would be interesting though to know how you implemented the "summarizer".

regards
Akmal
----- Original Message ----- 
From: "Ulrich Mayring" <ulim@denic.de>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, November 27, 2003 12:29 PM
Subject: New Lucene-powered Website


> Hello,
> 
> we (DENIC) are the world's second largest domain registry (.de-zone has 
> almost 6.9 million domains) and are using Lucene to index and search our 
> website in a high-traffic scenario. Most of our web pages are available 
> in English in addition to our native language German. If you want to try 
> our Lucene-based search engine, please start here:
> 
> http://www.denic.de/en/special/index.jsp
> 
> Use the input field on the page to search our website. Don't use the 
> input field at the top right, that is only for searching domains in our 
> domain database, it has nothing to do with Lucene.
> 
> The indexes for German and English are seperate, so you should find only 
> English pages from that page.
> 
> A somewhat interesting feature is the summarizer, on the results page 
> you'll get a short summary of the page. These are not hand-written 
> blurbs, rather they are generated automatically from the HTML pages at 
> indexing time. I'd be especially interested in improvement suggestions 
> in this area.
> 
> Naturally, the automatically generated texts don't have the same quality 
> as hand-written ones. But they're better than nothing and in my eyes 
> more useful than Google-style excerpts. How many times has it happened 
> to you that the Google excerpt doesn't really tell you anything, because 
> it's totally out of context? Summaries tell you what the whole page is 
> about, irregardless of the context within which your search terms may 
> appear. After reading the summary you should (hopefully) be able to 
> decide whether the page contains the info you're looking for. Comments 
> welcome!
> 
> We're using the snowball stemmers/analyzers for German and English, 
> custom stopword lists and the HTML parser from the Sourceforge 
> htmlparser project. Apart from that it's vanilla Lucene.
> 
> cheers,
> 
> Ulrich
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 09:24:12 2003
Return-Path: 
 <lucene-user-return-6255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71787 invoked from network); 28 Nov 2003 09:24:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 09:24:12 -0000
Received: (qmail 57890 invoked by uid 500); 28 Nov 2003 09:23:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57794 invoked by uid 500); 28 Nov 2003 09:23:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57767 invoked from network); 28 Nov 2003 09:23:42 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 28 Nov 2003 09:23:42 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APeqx-0007FM-00
	for <lucene-user@jakarta.apache.org>; Fri, 28 Nov 2003 10:23:55 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1APeqw-0007FD-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 28 Nov 2003 10:23:54 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APeqw-0003tP-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 28 Nov 2003 10:23:54 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: New Lucene-powered Website
Date: Fri, 28 Nov 2003 10:21:11 +0100
Lines: 39
Message-ID: <bq7479$ejm$1@sea.gmane.org>
References: <bq4nch$h1$1@sea.gmane.org>
 <001801c3b589$4805c2f0$0205a8c0@akmalbyteaction>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <001801c3b589$4805c2f0$0205a8c0@akmalbyteaction>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Akmal Sarhan wrote:
> nice and fast ;-)
> 
> would be interesting though to know how you implemented the "summarizer".

Basically, the algorithm is statistics-based. It selects a configurable 
number of sentences from the text (in our case three) and, in case the 
sentences are too long, it cuts off after a configurable number of 
characters (in our case 350).

So the sentences you read are real sentences from the text, therefore I 
don't have to worry about syntax and can concentrate on semantics. The 
trick is to find sentences that are especially relevant to the query. 
There are a number of heuristics that can be employed, like the number 
of times the search terms appear or their position within the sentences.

Apart from that I've found that quality increases significantly, when 
the text is "cleaned up" before summarising. That involves identifying 
"real" sentences, so your summary doesn't start with "Home News Contact 
Sitemap" or somesuch. There's a lot of text on a web page, which is not 
content and therefore detrimental to the summariser (and I'm not even 
speaking about tags).

Also, highly structured documents are a problem (for example, search for 
"dissolution" on our website). Headlines are usually very important 
sentences that should score higher than regular sentences, but they are 
not easy to identify as sentences, because they don't end with a full-stop.

This "clean-up work" is actually trickier than the summarising itself 
and it is usually very domain-specific. That's the reason why I haven't 
proposed to contribute the summariser to Lucene, because the clean-up 
code is not generic. The summariser itself is just one class with 300 
lines, but without prior clean-up the quality of its summaries is 
insufficient.

cheers,

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 11:33:07 2003
Return-Path: 
 <lucene-user-return-6256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31470 invoked from network); 28 Nov 2003 11:33:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 11:33:07 -0000
Received: (qmail 11664 invoked by uid 500); 28 Nov 2003 11:33:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11629 invoked by uid 500); 28 Nov 2003 11:33:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11607 invoked from network); 28 Nov 2003 11:33:01 -0000
Received: from unknown (HELO highway61.com) (64.191.37.65)
  by daedalus.apache.org with SMTP; 28 Nov 2003 11:33:01 -0000
Received: (qmail 4220 invoked from network); 29 Nov 2003 01:32:57 -0000
Received: from unknown (HELO highway00) (211.53.202.134)
  by highway61.com with SMTP; 29 Nov 2003 01:32:57 -0000
From: "Dr. John Takacs" <takacsj@highway61.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: New Lucene-powered Website
Date: Fri, 28 Nov 2003 20:30:12 +0900
Message-ID: <AAELILHIJEDLLHMAKONIEEICEOAA.takacsj@highway61.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <bq4nch$h1$1@sea.gmane.org>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ulrich,

Well done!

I too would love to know how you implemented the summarizer.  If you are
unable to provide the details, would you be able to steer a person in the
right direction?  I've experimented with a few applications that will do it,
some my own, some found via searches, but none are as clear cut and
professional as yours (i.e. most were simply grabbing the first 200 or so
characters of a page....etc etc).

Regards,

John

-----Original Message-----
From: news [mailto:news@sea.gmane.org]On Behalf Of Ulrich Mayring
Sent: Thursday, November 27, 2003 8:30 PM
To: lucene-user@jakarta.apache.org
Subject: New Lucene-powered Website


Hello,

we (DENIC) are the world's second largest domain registry (.de-zone has
almost 6.9 million domains) and are using Lucene to index and search our
website in a high-traffic scenario. Most of our web pages are available
in English in addition to our native language German. If you want to try
our Lucene-based search engine, please start here:

http://www.denic.de/en/special/index.jsp

Use the input field on the page to search our website. Don't use the
input field at the top right, that is only for searching domains in our
domain database, it has nothing to do with Lucene.

The indexes for German and English are seperate, so you should find only
English pages from that page.

A somewhat interesting feature is the summarizer, on the results page
you'll get a short summary of the page. These are not hand-written
blurbs, rather they are generated automatically from the HTML pages at
indexing time. I'd be especially interested in improvement suggestions
in this area.

Naturally, the automatically generated texts don't have the same quality
as hand-written ones. But they're better than nothing and in my eyes
more useful than Google-style excerpts. How many times has it happened
to you that the Google excerpt doesn't really tell you anything, because
it's totally out of context? Summaries tell you what the whole page is
about, irregardless of the context within which your search terms may
appear. After reading the summary you should (hopefully) be able to
decide whether the page contains the info you're looking for. Comments
welcome!

We're using the snowball stemmers/analyzers for German and English,
custom stopword lists and the HTML parser from the Sourceforge
htmlparser project. Apart from that it's vanilla Lucene.

cheers,

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 11:38:28 2003
Return-Path: 
 <lucene-user-return-6257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32725 invoked from network); 28 Nov 2003 11:38:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 11:38:28 -0000
Received: (qmail 13479 invoked by uid 500); 28 Nov 2003 11:38:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13447 invoked by uid 500); 28 Nov 2003 11:38:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13434 invoked from network); 28 Nov 2003 11:38:22 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 28 Nov 2003 11:38:22 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id hASBaFsV005198
	for <lucene-user@jakarta.apache.org>; Fri, 28 Nov 2003 12:36:15 +0100 (MET)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id MAA01021
	for <lucene-user@jakarta.apache.org>; Fri, 28 Nov 2003 12:36:28 +0100 (MET)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <XX73QA31>; Fri, 28 Nov 2003 12:38:22 +0100
Received: from fiz-karlsruhe.de (pc100-137.fiz-karlsruhe.de [141.66.100.137])
 by pc.fiz-karlsruhe.de with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id XX73QA3D; Fri, 28 Nov 2003 12:38:18 +0100
From: Lutz Horn <lutz.horn@FIZ-Karlsruhe.DE>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <3FC732B3.1030705@fiz-karlsruhe.de>
Date: Fri, 28 Nov 2003 12:34:11 +0100
Organization: FIZ Karlsruhe
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20031013 Thunderbird/0.3
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: Re: New Lucene-powered Website
References: <bq4nch$h1$1@sea.gmane.org>
In-Reply-To: <bq4nch$h1$1@sea.gmane.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Ulrich Mayring wrote:
> we (DENIC) are the world's second largest domain registry (.de-zone has 
> almost 6.9 million domains) and are using Lucene to index and search our 
> website in a high-traffic scenario.

Could you please tell us how large the ammount of indexed documents is?

Regards
Lutz
-- 
no sig

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 13:35:25 2003
Return-Path: 
 <lucene-user-return-6258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77928 invoked from network); 28 Nov 2003 13:35:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 13:35:25 -0000
Received: (qmail 66015 invoked by uid 500); 28 Nov 2003 13:35:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65991 invoked by uid 500); 28 Nov 2003 13:35:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65978 invoked from network); 28 Nov 2003 13:35:17 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 28 Nov 2003 13:35:17 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APimE-00025M-00
	for <lucene-user@jakarta.apache.org>; Fri, 28 Nov 2003 14:35:18 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1APimC-00025E-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 28 Nov 2003 14:35:16 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1APimC-0002SE-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 28 Nov 2003 14:35:16 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: New Lucene-powered Website
Date: Fri, 28 Nov 2003 14:32:34 +0100
Lines: 18
Message-ID: <bq7iuk$96t$1@sea.gmane.org>
References: <bq4nch$h1$1@sea.gmane.org> <3FC732B3.1030705@fiz-karlsruhe.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <3FC732B3.1030705@fiz-karlsruhe.de>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lutz Horn wrote:
> 
> Could you please tell us how large the ammount of indexed documents is?

Not very large, but growing daily ;-)

At this point 289 German and 272 English documents (some are not 
translated yet). There are many more files on our website, but only 
these were deemed to contain useful content for the search engine. For 
example our homepage, sitemap and password-protected pages are not 
indexed at all.

The Indexer takes 79 seconds for a full index run on the production 
machine and 36 seconds on the dev machine (identical hardware, but no 
load). We don't bother with incremental indexing, Lucene is pretty fast :)

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 14:27:40 2003
Return-Path: 
 <lucene-user-return-6259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6730 invoked from network); 28 Nov 2003 14:27:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 14:27:40 -0000
Received: (qmail 9569 invoked by uid 500); 28 Nov 2003 14:27:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9308 invoked by uid 500); 28 Nov 2003 14:27:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9294 invoked from network); 28 Nov 2003 14:27:32 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 28 Nov 2003 14:27:32 -0000
Received: from HP29375324311 ([155.69.58.85])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hASERJ1R031414;
	Fri, 28 Nov 2003 22:27:23 +0800
Message-Id: <200311281427.hASERJ1R031414@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Daniel Naber'" <daniel.naber@intrafind.de>,
        "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene refresh index function (incremental indexing).
Date: Fri, 28 Nov 2003 22:27:15 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200311261239.06467.daniel.naber@intrafind.de>
Thread-Index: AcO0EevMoicWpB/+TdyRDt2VF/v3LABqNzRA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have deleted one of the text files I indexed and did the following command:

java -Dlog4j.configuration=file:///c:/jarfiles/log4j.properties
-Dlog4j.debug=true org.pdfbox.searchengine.lucene.IndexFiles -index c:\\index ..
root=..
java.io.IOException: Lock obtain timed out
        at org.apache.lucene.store.Lock.obtain(Lock.java:97)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
        at org.pdfbox.searchengine.lucene.IndexFiles.index(IndexFiles.java:158)
        at org.pdfbox.searchengine.lucene.IndexFiles.main(IndexFiles.java:141)

I used the IndexFiles.java in PDFBox and I got the error msg mentioned above but
if I used the IndexFiles in Lucene, it is working fine.

Anyone can help?

-----Original Message-----
From: Daniel Naber [mailto:daniel.naber@intrafind.de] 
Sent: Wednesday, November 26, 2003 7:39 PM
To: Tun Lin
Subject: Re: Lucene refresh index function (incremental indexing).

Am Mittwoch, 26. November 2003 04:38 schrieb Tun Lin:

> When I integrate with PDFBox, I cannot update, delete or change the 
> filename anymore. If I did any of the above, I will get a message: 
> Lock obtain timed out.

I think you have to make sure that IndexReader and IndexWriter are not open at
the same time, as they will block each other.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 15:59:19 2003
Return-Path: 
 <lucene-user-return-6260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45041 invoked from network); 28 Nov 2003 15:59:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 15:59:19 -0000
Received: (qmail 6712 invoked by uid 500); 28 Nov 2003 15:59:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6420 invoked by uid 500); 28 Nov 2003 15:59:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6407 invoked from network); 28 Nov 2003 15:59:08 -0000
Received: from unknown (HELO smtp24.singnet.com.sg) (165.21.101.204)
  by daedalus.apache.org with SMTP; 28 Nov 2003 15:59:08 -0000
Received: from HP29375324311 (tns03029.singnet.com.sg [165.21.191.99])
	by smtp24.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hASFx1BJ003156
	for <lucene-user@jakarta.apache.org>; Fri, 28 Nov 2003 23:59:08 +0800
Message-Id: <200311281559.hASFx1BJ003156@smtp24.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: FileDocument.java
Date: Fri, 28 Nov 2003 23:58:59 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3B60B.980CB150"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcO1yGs46PKlWrysSg+ZnC/vkt2S3A==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3B60B.980CB150
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64

SGkgTHVjZW5lIGV4cGVydHMsDQpDYW4geW91IGhlbHAgb24gdGhpcz8NCkkgaGF2ZSBpbmNsdWRl
ZCB0aGUgZm9sbG93aW5nIGNvZGUgaW4gRmlsZURvY3VtZW50IHRvIHByaW50IG91dCB0aGUgc3Vt
bWFyeSBidXQNCkkgaGF2ZSBmdW5ueSBvdXRwdXQgbGlrZToNClRoZSByZXN1bHQgYWZ0ZXIgc2Vh
cmNoaW5nLCB0aGUgc3VtbWFyeSBpcyBkaXNwbGF5ZWQgYXMgYmVsb3c6DQrQzxHgobEa4T4D/v8N
CgYBVRBXAf7///9U////////////////////////////////////////////////////////////
////////////////////////////////DQr/////////////////////////////////////////
/////////////////////////////////////////////////////////////////w0K////////
////////////////////////////////////////////////////////////////////////////
//////////////////////8NCv//////////////////////////////////////////////////
////////////////////////////////////////////////////////DQr/////////////////
////////////////////////////////////////////////////////////////////////////
/////////////w0K//////////////////////////////////////////////////////8NCkZp
bGVJbnB1dFN0cmVhbSBpcyA9IG5ldyBGaWxlSW5wdXRTdHJlYW0oZik7DQogICAgdHJ5DQoJew0K
ICAgIFJlYWRlciByZWFkZXIgPSBuZXcgQnVmZmVyZWRSZWFkZXIobmV3IElucHV0U3RyZWFtUmVh
ZGVyKGlzKSk7DQogICAgY2hhciBbXSBidWYgPSBuZXcgY2hhcls1MTJdOw0KCXJlYWRlci5yZWFk
KGJ1Zik7DQoJCQkJCQ0KCVN0cmluZyBhID0gbmV3IFN0cmluZyhidWYsIDAsIDUxMCk7DQogICAg
ZG9jLmFkZChGaWVsZC5UZXh0KCJjb250ZW50cyIsIHJlYWRlcikpOw0KICAgIGRvYy5hZGQoRmll
bGQuVW5JbmRleGVkKCJzdW1tYXJ5IiwgYSApICk7Ly8gcmV0dXJuIHRoZSBkb2N1bWVudA0KICAg
IH1jYXRjaCAoSU9FeGNlcHRpb24gZSkNCgl7DQoJCWUucHJpbnRTdGFja1RyYWNlKCk7DQoJfQ0K
DQoNCg0K

------=_NextPart_000_0000_01C3B60B.980CB150--



From MAILER-DAEMON Fri Nov 28 18:45:46 2003
Return-Path: 
 <lucene-user-return-6261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4846 invoked from network); 28 Nov 2003 18:45:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 18:45:46 -0000
Received: (qmail 85230 invoked by uid 500); 28 Nov 2003 18:45:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84933 invoked by uid 500); 28 Nov 2003 18:45:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84919 invoked from network); 28 Nov 2003 18:45:31 -0000
Received: from unknown (HELO mailgw2a.lmco.com) (192.91.147.7)
  by daedalus.apache.org with SMTP; 28 Nov 2003 18:45:31 -0000
Received: from emss04g01.ems.lmco.com (emss04g01.ems.lmco.com [166.17.13.122])
	by mailgw2a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hASIjXp30226;
	Fri, 28 Nov 2003 13:45:33 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HP200401ROUEG@lmco.com>; Fri,
 28 Nov 2003 13:36:30 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HP2000Q3ROUXS@lmco.com>;
 Fri, 28 Nov 2003 13:36:30 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 28 Nov 2003 13:36:30 -0500
Date: Fri, 28 Nov 2003 13:36:29 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: FileDocument.java
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E6D0@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Thread-Topic: FileDocument.java
Thread-Index: AcO1yGs46PKlWrysSg+ZnC/vkt2S3AAFdf3g
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 28 Nov 2003 18:36:30.0018 (UTC)
 FILETIME=[8A100A20:01C3B5DE]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you give some info in the file type and how you are printing the =
results.=20

Does the contents display correctly?

-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Friday, November 28, 2003 10:59 AM
To: Lucene user list
Subject: FileDocument.java


Hi Lucene experts,
Can you help on this?
I have included the following code in FileDocument to print out the =
summary but
I have funny output like:
The result after searching, the summary is displayed as below:
=D0=CF=11=E0=A1=B1=1A=E1>=03=FE=FF
=06=01U=10W=01=FE=FF=FF=FFT=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=
=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF=FF
FileInputStream is =3D new FileInputStream(f);
    try
	{
    Reader reader =3D new BufferedReader(new InputStreamReader(is));
    char [] buf =3D new char[512];
	reader.read(buf);
				=09
	String a =3D new String(buf, 0, 510);
    doc.add(Field.Text("contents", reader));
    doc.add(Field.UnIndexed("summary", a ) );// return the document
    }catch (IOException e)
	{
		e.printStackTrace();
	}




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Nov 28 22:33:26 2003
Return-Path: 
 <lucene-user-return-6262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72619 invoked from network); 28 Nov 2003 22:33:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Nov 2003 22:33:26 -0000
Received: (qmail 65139 invoked by uid 500); 28 Nov 2003 22:33:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65109 invoked by uid 500); 28 Nov 2003 22:33:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65090 invoked from network); 28 Nov 2003 22:33:08 -0000
Received: from unknown (HELO tomts22-srv.bellnexxia.net) (209.226.175.184)
  by daedalus.apache.org with SMTP; 28 Nov 2003 22:33:08 -0000
Received: from everest.konova.com ([65.95.44.82])
          by tomts22-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031128223312.KWJF8632.tomts22-srv.bellnexxia.net@everest.konova.com>;
          Fri, 28 Nov 2003 17:33:12 -0500
Received: from massif (IDENT:root@localhost [127.0.0.1])
	by everest.konova.com (8.11.6/8.11.6) with SMTP id hASMX6F27526;
	Fri, 28 Nov 2003 17:33:06 -0500
From: "Philippe Laflamme" <plaflamme@konova.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <chentun@singnet.com.sg>
Subject: RE: FileDocument.java  -- Out of scope for Lucene Users list --
Date: Fri, 28 Nov 2003 17:33:06 -0500
Message-ID: <DNEDJIGLNAJOFEMFBJIJKEEKCCAA.plaflamme@konova.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <200311281559.hASFx1BJ003156@smtp24.singnet.com.sg>
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A few pointers that might help you out, but this is totally of topic for the
Lucene Users list. This is a Java related problem, if you're new to Java,
please look to other mailing lists for some help...

...
1 Reader reader = new BufferedReader(new InputStreamReader(is));
2 char [] buf = new char[512];
3 reader.read(buf);
4
5 String a = new String(buf, 0, 510);
...

Line 1: if you know the character set of the file you are reading, you
should provide it to the InputStreamReader constructor, otherwise, it will
use the VM's default character set. This might not be what you want if
you're reading foreign language documents.

Line 3 and 5: you should get the number of characters read on line 3 and
provide this value on line 5 when constructing your String. Otherwise,
you'll be using whatever garbage is present in your character buffer to
construct your String object.

For example, if the read() method actually read 10 characters, your string
will contain 500 bogus characters that might look like what you're seing
now...

Like I said, this is totally out of scope for the Lucene Users list. I think
you should look somewhere else for further assistance with this problem.

Regards,
Phil

> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: November 28, 2003 10:59
> To: Lucene user list
> Subject: FileDocument.java
>
>
> Hi Lucene experts,
> Can you help on this?
> I have included the following code in FileDocument to print out
> the summary but
> I have funny output like:
> The result after searching, the summary is displayed as below:
> ��ࡱ�>��
> UW����T�������������������������������������������������������
> ��������������
> ������������������������������������������������������������������
> ��������������
> ������������������������������������������������������������������
> ��������������
> ������������������������������������������������������������������
> ��������������
> ������������������������������������������������������������������
> ��������������
> �����������������������������������������
> FileInputStream is = new FileInputStream(f);
>     try
> 	{
>     Reader reader = new BufferedReader(new InputStreamReader(is));
>     char [] buf = new char[512];
> 	reader.read(buf);
>
> 	String a = new String(buf, 0, 510);
>     doc.add(Field.Text("contents", reader));
>     doc.add(Field.UnIndexed("summary", a ) );// return the document
>     }catch (IOException e)
> 	{
> 		e.printStackTrace();
> 	}
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 29 15:54:51 2003
Return-Path: 
 <lucene-user-return-6263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87763 invoked from network); 29 Nov 2003 15:54:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Nov 2003 15:54:51 -0000
Received: (qmail 93419 invoked by uid 500); 29 Nov 2003 15:54:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93392 invoked by uid 500); 29 Nov 2003 15:54:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93378 invoked from network); 29 Nov 2003 15:54:40 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 29 Nov 2003 15:54:40 -0000
Received: (qmail 30702 invoked by uid 0); 29 Nov 2003 15:54:38 -0000
Received: from 193.63.235.44 by www53.gmx.net with HTTP;
	Sat, 29 Nov 2003 16:54:39 +0100 (MET)
Date: Sat, 29 Nov 2003 16:54:39 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Example VSM 
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <13667.1070121279@www53.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

regarding the discussion about Vector Space model (VSM) can somebody provide
an example of how to use lucene's (hidden) VSM? Maybe somebody has already
created an example or know a good tutorial who refer to this. The tutorials I
know do not cover that...

Kind Regards
Ralph

-- 
HoHoHo! Seid Ihr auch alle sch�n brav gewesen?

GMX Weihnachts-Special: Die 1. Adresse f�r Weihnachts-
m�nner und -frauen! http://www.gmx.net/de/cgi/specialmail

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Nov 29 23:37:41 2003
Return-Path: 
 <lucene-user-return-6264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11378 invoked from network); 29 Nov 2003 23:37:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Nov 2003 23:37:41 -0000
Received: (qmail 29105 invoked by uid 500); 29 Nov 2003 23:37:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28721 invoked by uid 500); 29 Nov 2003 23:37:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28708 invoked from network); 29 Nov 2003 23:37:22 -0000
Received: from unknown (HELO web11506.mail.yahoo.com) (216.136.172.38)
  by daedalus.apache.org with SMTP; 29 Nov 2003 23:37:22 -0000
Message-ID: <20031129233729.34051.qmail@web11506.mail.yahoo.com>
Received: from [80.138.191.177] by web11506.mail.yahoo.com via HTTP;
 Sat, 29 Nov 2003 15:37:29 PST
Date: Sat, 29 Nov 2003 15:37:29 -0800 (PST)
From: Kent Gibson <kentgibson@yahoo.com>
Subject: raw hit count
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear All,

All I would like to know is how many times a query was
found in a particular document. I have no problems
getting the score from hits.score(). hits.length is
the number of times in total that the query was found,
however I want the the number of times the query was
found on a document by document basis. is this
possible? The only idea I have is to rerun the search,
but I can't even see how to run a search on only one
document! 

thanks any help would be grand

kent


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 01:03:59 2003
Return-Path: 
 <lucene-user-return-6265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28716 invoked from network); 30 Nov 2003 01:03:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 01:03:59 -0000
Received: (qmail 79458 invoked by uid 500); 30 Nov 2003 01:03:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79195 invoked by uid 500); 30 Nov 2003 01:03:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79182 invoked from network); 30 Nov 2003 01:03:39 -0000
Received: from unknown (HELO mtiwmhc11.worldnet.att.net) (204.127.131.115)
  by daedalus.apache.org with SMTP; 30 Nov 2003 01:03:39 -0000
Received: from dymhp (ool-4350967b.dyn.optonline.net[67.80.150.123])
          by worldnet.att.net (mtiwmhc11) with SMTP
          id <2003113001034311100r632ke>
          (Authid: dym@worldnet.att.net);
          Sun, 30 Nov 2003 01:03:43 +0000
Message-ID: <002801c3b6dd$cb60c410$6401a8c0@dymhp>
From: "Dmitri Mamrukov" <dym@att.net>
To: <lucene-user@jakarta.apache.org>
Subject: Finding similar files with Lucene
Date: Sat, 29 Nov 2003 20:03:19 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'd like to hear some comments and guidance about this.

My project's requirements are summarized below:

1. The application takes as input the name of a directory (which will
contain some files) and the name of a file and returns the 2 files that are
most similar to it using the TF-IDF scoring mechanism.
2. Now suppose that the files being compared are in HTML. Do the same as
above given the additional condition: a term between <tag> and </tag> would
count twice as much as usually.

I chose Lucene as a toolkit of my choice. I'm outlining my approach of
solving the problem:

1. For the preprocessing part, I index the document directory (the one
containing files to be indexed). This is a straightforward operation: text
files are fully read and indexed; HTML files are parsed for data which is
subsequently indexed.
2. For the searching part, I read the query file (in the case with HTML
files, data parsing is done first) through TokenStream (which does some
token clean-up) and construct a (potentially long) query string which is
passed to QueryParser to get a Query object. Subsequently, I get search hits
if any. For enhancing specific terms, I use the Lucene boost factor syntax.

   // Gets tokens to construct a query string (without repetitive terms).
   public static HashSet getTokens(Reader reader, Analyzer analyzer) throws
IOException
   {
      HashSet tokens = new HashSet();
      TokenStream stream = analyzer.tokenStream(null, reader);
      Token token = null;
      while ((token = stream.next()) != null)
      {
         String t = token.termText();
         if (!tokens.contains(t))
         {
            tokens.add(t);
         }
      }
      return tokens;
   }


NOTE: I'm aware about using the same analyzer for both indexing and
searching phases.

I'd like to know if this approach is sufficient. I'm concerned about using
QueryParser because the query parser is designed for human-entered text, not
for program-generated text. Is there any way to construct a Query object
other than directly using QueryParser to satisfy the project requirements?

So far my application has behaved well (albeit with somewhat high CPU usage)
for long files.

Thanks in advance,
Dmitri


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 01:20:11 2003
Return-Path: 
 <lucene-user-return-6266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31783 invoked from network); 30 Nov 2003 01:20:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 01:20:11 -0000
Received: (qmail 84814 invoked by uid 500); 30 Nov 2003 01:19:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84783 invoked by uid 500); 30 Nov 2003 01:19:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84768 invoked from network); 30 Nov 2003 01:19:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 30 Nov 2003 01:19:50 -0000
Received: (cpmta 18828 invoked from network); 29 Nov 2003 17:19:58 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 29 Nov 2003 17:19:58 -0800
X-Sent: 30 Nov 2003 01:19:58 GMT
Date: Sat, 29 Nov 2003 20:20:01 -0500
Subject: Re: raw hit count
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031129233729.34051.qmail@web11506.mail.yahoo.com>
Message-Id: <51F29578-22D3-11D8-96AB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I enjoy at least attempting to answer questions here, even if I'm half  
wrong, so by all means correct me if I misspeak....

On Saturday, November 29, 2003, at 06:37  PM, Kent Gibson wrote:
> All I would like to know is how many times a query was
> found in a particular document. I have no problems
> getting the score from hits.score(). hits.length is
> the number of times in total that the query was found,
> however I want the the number of times the query was
> found on a document by document basis. is this
> possible?

The 'coord' factor used in computing the score is exactly this.  See  
the javadoc for it:

	http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
Similarity.html#coord(int,%20int)

You could implement a custom Similarity to capture the "overlap" or  
adjust the the factor depending on what you're trying to accomplish.

>  The only idea I have is to rerun the search,
> but I can't even see how to run a search on only one
> document!

You could always rerun a search with a Filter with only one bit enabled  
and see if zero or one document is returned - that would be quite  
trivial and fast.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 13:57:04 2003
Return-Path: 
 <lucene-user-return-6268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86471 invoked from network); 30 Nov 2003 13:57:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 13:57:04 -0000
Received: (qmail 90056 invoked by uid 500); 30 Nov 2003 13:56:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90019 invoked by uid 500); 30 Nov 2003 13:56:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89994 invoked from network); 30 Nov 2003 13:56:53 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.91)
  by daedalus.apache.org with SMTP; 30 Nov 2003 13:56:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 30 Nov 2003 05:56:54 -0800
Received: from 219.142.136.175 by bay9-dav34.bay9.hotmail.com with DAV;
	Sun, 30 Nov 2003 13:56:54 +0000
X-Originating-IP: [219.142.136.175]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>,
	"Lucene Users List" <lucene-user@jakarta.apache.org>
References: <AAELILHIJEDLLHMAKONIEEICEOAA.takacsj@highway61.com>
Subject: WebLucene 0.3 release:support CJK, use sax based indexing,
 docID based result sorting and xml format output with highlighting support.
Date: Sun, 30 Nov 2003 21:57:18 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV345g3s0JSPr00005424@hotmail.com>
X-OriginalArrivalTime: 30 Nov 2003 13:56:54.0614 (UTC)
 FILETIME=[CFF80760:01C3B749]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

aHR0cDovL3NvdXJjZWZvcmdlLm5ldC9wcm9qZWN0cy93ZWJsdWNlbmUvDQoNCldlYkx1Y2VuZTog
DQpMdWNlbmUgc2VhcmNoIGVuZ2luZSBYTUwgaW50ZXJmYWNlLCBwcm92aWRlZCBzYXggYmFzZWQg
aW5kZXhpbmcsIGluZGV4aW5nIHNlcXVlbmNlIGJhc2VkIHJlc3VsdCBzb3J0aW5nIGFuZCB4bWwg
b3V0cHV0IHdpdGggaGlnaGxpZ2h0IHN1cHBvcnQuVGhlIENKS1Rva2VuaXplciBzdXBwb3J0IENo
aW5lc2UgSmFwYW5lc2UgYW5kIEtvcmVhbiB3aXRoIFdlc3RlbiBsYW5ndWFnZSBzaW11bHRhbmVv
dXNseS4NCg0KVGhlIGtleSBmZWF0dXJlczoNCjEgVGhlIGJpLWdyYW0gYmFzZWQgQ0pLIHN1cHBv
cnQ6IG9yZy9hcGFjaGUvbHVjZW5lL2FuYWx5c2lzL2Nqay9DSktUb2tlbml6ZXINCg0KMiBkb2NJ
RCBiYXNlZCByZXN1bHQgc29ydGluZzogb3JnL2FwYWNoZS9sdWNlbmUvc2VhcmNoL0luZGV4T3Jk
ZXJTZWFyY2hlcg0KDQozIHhtbCBvdXRwdXQ6IGNvbS9jaGVkb25nL3dlYmx1Y2VuZS9zZWFyY2gv
RE9NU2VhcmNoZXINCg0KNCBzYXggYmFzZWQgaW5kZXhpbmc6IGNvbS9jaGVkb25nL3dlYmx1Y2Vu
ZS9pbmRleC9TQVhJbmRleGVyDQoNCjUgdG9rZW4gYmFzZWQgaGlnaGxpZ2h0ZXI6IA0KICAgIHJl
dmVyc2UgU3RvcFRva2VuemllcjoNCiAgICBvcmcvYXBhY2hlL2x1Y2VuZS9hbmx5c2lzL0hpZ2hs
aWdodEFuYWx5emVyLmphdmENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhpZ2hsaWdo
dEZpbHRlci5qYXZhDQogICAgd2l0aCBhYnN0cmFjdDoNCiAgICBjb20vY2hlZG9uZy93ZWJsdWNl
bmUvc2VhcmNoL1dlYmx1Y2VuZUhpZ2hsaWdodGVyDQoNCjYgQSBzaW1wbGlmaWVkIHF1ZXJ5IHBh
cnNlcjoNCiAgICBnb29nbGUgbGlrZSBzeW50YXggd2l0aCB0ZXJtIGxpbWl0DQogICAgb3JnL2Fw
YWNoZS9sdWNlbmUvcXVlcnlQYXJzZXIvU2ltcGxlUXVlcnlQYXJzZXINCiAgICBtb2RpZmllZCBm
cm9tIGVhcmx5IHZlcnNpb24gb2YgTHVjZW5lIDopDQoNClJlZ2FyZHMNCg0KQ2hlLCBEb25n


From MAILER-DAEMON Sun Nov 30 16:14:05 2003
Return-Path: 
 <lucene-user-return-6269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41746 invoked from network); 30 Nov 2003 16:14:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 16:14:05 -0000
Received: (qmail 92501 invoked by uid 500); 30 Nov 2003 16:13:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92474 invoked by uid 500); 30 Nov 2003 16:13:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92461 invoked from network); 30 Nov 2003 16:13:54 -0000
Received: from unknown (HELO web11507.mail.yahoo.com) (216.136.172.39)
  by daedalus.apache.org with SMTP; 30 Nov 2003 16:13:54 -0000
Message-ID: <20031130161356.83379.qmail@web11507.mail.yahoo.com>
Received: from [80.138.189.113] by web11507.mail.yahoo.com via HTTP;
 Sun, 30 Nov 2003 08:13:56 PST
Date: Sun, 30 Nov 2003 08:13:56 -0800 (PST)
From: Kent Gibson <kentgibson@yahoo.com>
Subject: Re: raw hit count
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200311301317.34741.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the help guys, but unfortunately I am still
stuck. Let me reiterate what I would like to do and
then explain what I have tried.

I would like to know that in document x the query y
appeared n times. 

For example:

query = "Bank" : Bank found in doc number 1, 3 tims

Understandbly this is a bit tricky when query y is
composed of more than one word, but for the moment I
would be satisified if I knew how many times query y
appeared in its entirety.

However in the end it would be great if I could get a
result as follows: 
query = "Hells Bells"; Hells found in doc number 2, 3
times and Bells Found 0 times 

as per Erik's idea I tried with the BitSet as follows:

QueryFilter qf = new QueryFilter(query);
IndexReader ir = IndexReader.open(indexPath);
Searcher searcher2 = new IndexSearcher(ir);

// get the bit set for the query
BitSet bits = qf.bits(ir);
last = bits.nextSetBit(offset);
offset = last + 1;

System.out.println("First bit is: " + last);	
System.out.println("Bits " + bits.toString());
		
// clear all the bits
bits.clear();
System.out.println("Bits after " + bits.toString());
bits.set(last);
		
/* just to see the effect */	
BitSet bits2 = qf.bits(ir);
System.out.println("Bits now " + bits2.toString());
		
Hits hits2 = searcher2.search(query,qf);
/* this value is always one /*
  */	
System.out.println("raw hits : " + hits2.length());

However I always get a result of 1, which I suppose is
has to do with this overlap thingy.

As per Ype's idea I tried to implement a Similarity
object, but two things I believe are wrong, a) I am
doing something fundamentally wrong with the maths b)
I get a sneaky idea this is the wrong way around this.

Is there not a simple way to just get some word
statistics out of a file?

Once again thanks for the inputs and I look forward to
a long fight.

public float lengthNorm(String fieldName, int
numTerms)
{
return (float) 1.0 ;
}

/** Implemented as <code>sqrt(freq)</code>. */
public float tf(float freq)
{
return (float) (freq);
}

/** Implemented as <code>log(numDocs/(docFreq+1)) +
1</code>. */
public float idf(int docFreq, int numDocs)
{
return (float)1.0;

}
--- Ype Kingma <ykingma@xs4all.nl> wrote:
> Kent, Erik,
> 
> On Saturday 29 November 2003 17:20, Erik Hatcher
> wrote:
> > I enjoy at least attempting to answer questions
> here, even if I'm half
> > wrong, so by all means correct me if I
> misspeak....
> 
> Me too, :)
> 
> > On Saturday, November 29, 2003, at 06:37  PM, Kent
> Gibson wrote:
> > > All I would like to know is how many times a
> query was
> > > found in a particular document. I have no
> problems
> > > getting the score from hits.score(). hits.length
> is
> > > the number of times in total that the query was
> found,
> > > however I want the the number of times the query
> was
> > > found on a document by document basis. is this
> > > possible?
> 
> Could you be a bit more precise on what you mean
> by 'the number of times the query was found'? For a
> single
> query term, it is straightforward, but what about
> eg. a query for three
> optional terms?
> 
> >
> > The 'coord' factor used in computing the score is
> exactly this.  See
> > the javadoc for it:
> >
> > 
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/
> > Similarity.html#coord(int,%20int)
> 
> AFAIK, this overlap is the number of terms the
> document and the query
> have in common.
> For a query consisting of a single term, the overlap
> is always one,
> and the number of times the query occurs in a
> document is the term frequency
> in the document.
> 
> > You could implement a custom Similarity to capture
> the "overlap" or
> > adjust the the factor depending on what you're
> trying to accomplish.
> >
> > >  The only idea I have is to rerun the search,
> > > but I can't even see how to run a search on only
> one
> > > document!
> >
> > You could always rerun a search with a Filter with
> only one bit enabled
> > and see if zero or one document is returned - that
> would be quite
> > trivial and fast.
> 
> You could also implement a Similarity that ignores
> the total number
> of terms in the searched document field, see
> lengthNorm() in
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html
> As lengthNorm() is applied at indexing time, you
> will have to reindex
> for this to work for you.
> At query time you can then use a tf() implementation
> that is linear, instead
> of the default square root in DefaultSimilarity, and
> a constant idf(),
> instead of the default log of the inverse document
> frequency.
> You should then get a document score that is
> proportional
> to the number of query terms in the document.
> 
> Kind regards,
> Ype
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 16:24:14 2003
Return-Path: 
 <lucene-user-return-6270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43890 invoked from network); 30 Nov 2003 16:24:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 16:24:14 -0000
Received: (qmail 97495 invoked by uid 500); 30 Nov 2003 16:24:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97469 invoked by uid 500); 30 Nov 2003 16:24:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97455 invoked from network); 30 Nov 2003 16:24:03 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 30 Nov 2003 16:24:03 -0000
Received: (cpmta 17524 invoked from network); 30 Nov 2003 08:24:06 -0800
Received: from 128.143.184.66 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 30 Nov 2003 08:24:06 -0800
X-Sent: 30 Nov 2003 16:24:06 GMT
Date: Sun, 30 Nov 2003 11:24:09 -0500
Subject: Re: raw hit count
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031130161356.83379.qmail@web11507.mail.yahoo.com>
Message-Id: <A07959DA-2351-11D8-B1EA-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, November 30, 2003, at 11:13  AM, Kent Gibson wrote:
> as per Erik's idea I tried with the BitSet as follows:
>
> QueryFilter qf = new QueryFilter(query);
> IndexReader ir = IndexReader.open(indexPath);
> Searcher searcher2 = new IndexSearcher(ir);
>
> // get the bit set for the query
> BitSet bits = qf.bits(ir);

I did not mean to imply for you to call the bits method in this manner. 
  In fact, you should not call it - the IndexSearcher calls it under the 
covers.  I was implying that you could write your own Filter subclass 
that lit up a single-bit corresponding to the document you're 
interested in.

> However I always get a result of 1, which I suppose is
> has to do with this overlap thingy.

No, not related with respect to a filter - two different concepts.

> Is there not a simple way to just get some word
> statistics out of a file?

Look at the Lucene index format (from Lucene's main web page).  Term 
frequencies are part of the statistics gathered, of course.  You can 
get at the values there using IndexReader.  This may be a lot 
lower-level than you desire, but what Lucene stores is there for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 17:55:20 2003
Return-Path: 
 <lucene-user-return-6271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63261 invoked from network); 30 Nov 2003 17:55:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 17:55:20 -0000
Received: (qmail 48113 invoked by uid 500); 30 Nov 2003 17:55:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47864 invoked by uid 500); 30 Nov 2003 17:55:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47851 invoked from network); 30 Nov 2003 17:55:07 -0000
Received: from unknown (HELO web11506.mail.yahoo.com) (216.136.172.38)
  by daedalus.apache.org with SMTP; 30 Nov 2003 17:55:07 -0000
Message-ID: <20031130175511.57392.qmail@web11506.mail.yahoo.com>
Received: from [80.138.189.113] by web11506.mail.yahoo.com via HTTP;
 Sun, 30 Nov 2003 09:55:11 PST
Date: Sun, 30 Nov 2003 09:55:11 -0800 (PST)
From: Kent Gibson <kentgibson@yahoo.com>
Subject: Re: raw hit count
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <A07959DA-2351-11D8-B1EA-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks a mil erik, I tried to make my own filter class
with a modified bit method as per below:
if (doc == interestingDoc)
{
bits.set(doc); // set bit for hit		
}

but this baby continues to always return 1!

so then I looked at indexreader, like you said and
ended up with something like this, its probably a
messy way of doing it, but I am happy.

Term term = new Term("body", "mercedes");
IndexReader ir = IndexReader.open(indexPath);
TermDocs termdocs = ir.termDocs(term);

int id = hits.id(i);

while (termdocs.next())
{
	if (termdocs.doc() == id)
	{
		System.out.println(
"Document number "
	+ termdocs.doc()
	+ " Freq: "
	+ termdocs.freq());
	}

}

it only works for single words, but I reckon I just
send split up the query and then make multiple scans. 

cheers

kent

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Sunday, November 30, 2003, at 11:13  AM, Kent
> Gibson wrote:
> > as per Erik's idea I tried with the BitSet as
> follows:
> >
> > QueryFilter qf = new QueryFilter(query);
> > IndexReader ir = IndexReader.open(indexPath);
> > Searcher searcher2 = new IndexSearcher(ir);
> >
> > // get the bit set for the query
> > BitSet bits = qf.bits(ir);
> 
> I did not mean to imply for you to call the bits
> method in this manner. 
>   In fact, you should not call it - the
> IndexSearcher calls it under the 
> covers.  I was implying that you could write your
> own Filter subclass 
> that lit up a single-bit corresponding to the
> document you're 
> interested in.
> 
> > However I always get a result of 1, which I
> suppose is
> > has to do with this overlap thingy.
> 
> No, not related with respect to a filter - two
> different concepts.
> 
> > Is there not a simple way to just get some word
> > statistics out of a file?
> 
> Look at the Lucene index format (from Lucene's main
> web page).  Term 
> frequencies are part of the statistics gathered, of
> course.  You can 
> get at the values there using IndexReader.  This may
> be a lot 
> lower-level than you desire, but what Lucene stores
> is there for you.
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Nov 30 12:17:36 2003
Return-Path: 
 <lucene-user-return-6267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60288 invoked from network); 30 Nov 2003 12:17:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Nov 2003 12:17:36 -0000
Received: (qmail 37513 invoked by uid 500); 30 Nov 2003 12:17:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37489 invoked by uid 500); 30 Nov 2003 12:17:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37476 invoked from network); 30 Nov 2003 12:17:29 -0000
Received: from unknown (HELO smtpzilla3.xs4all.nl) (194.109.127.139)
  by daedalus.apache.org with SMTP; 30 Nov 2003 12:17:29 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla3.xs4all.nl (8.12.9/8.12.9) with ESMTP id hAUCHSZd071576
	for <lucene-user@jakarta.apache.org>; Sun, 30 Nov 2003 13:17:29 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: raw hit count
Date: Sun, 30 Nov 2003 13:17:34 -0800
User-Agent: KMail/1.5.4
References: <51F29578-22D3-11D8-96AB-000393A564E6@ehatchersolutions.com>
In-Reply-To: <51F29578-22D3-11D8-96AB-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200311301317.34741.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kent, Erik,

On Saturday 29 November 2003 17:20, Erik Hatcher wrote:
> I enjoy at least attempting to answer questions here, even if I'm half
> wrong, so by all means correct me if I misspeak....

Me too, :)

> On Saturday, November 29, 2003, at 06:37  PM, Kent Gibson wrote:
> > All I would like to know is how many times a query was
> > found in a particular document. I have no problems
> > getting the score from hits.score(). hits.length is
> > the number of times in total that the query was found,
> > however I want the the number of times the query was
> > found on a document by document basis. is this
> > possible?

Could you be a bit more precise on what you mean
by 'the number of times the query was found'? For a single
query term, it is straightforward, but what about eg. a query for three
optional terms?

>
> The 'coord' factor used in computing the score is exactly this.  See
> the javadoc for it:
>
> 	http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/
> Similarity.html#coord(int,%20int)

AFAIK, this overlap is the number of terms the document and the query
have in common.
For a query consisting of a single term, the overlap is always one,
and the number of times the query occurs in a document is the term frequency
in the document.

> You could implement a custom Similarity to capture the "overlap" or
> adjust the the factor depending on what you're trying to accomplish.
>
> >  The only idea I have is to rerun the search,
> > but I can't even see how to run a search on only one
> > document!
>
> You could always rerun a search with a Filter with only one bit enabled
> and see if zero or one document is returned - that would be quite
> trivial and fast.

You could also implement a Similarity that ignores the total number
of terms in the searched document field, see lengthNorm() in
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html
As lengthNorm() is applied at indexing time, you will have to reindex
for this to work for you.
At query time you can then use a tf() implementation that is linear, instead
of the default square root in DefaultSimilarity, and a constant idf(),
instead of the default log of the inverse document frequency.
You should then get a document score that is proportional
to the number of query terms in the document.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


