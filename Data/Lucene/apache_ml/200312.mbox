From MAILER-DAEMON Mon Dec  1 03:35:29 2003
Return-Path: 
 <lucene-user-return-6272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34133 invoked from network); 1 Dec 2003 03:35:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 03:35:29 -0000
Received: (qmail 65985 invoked by uid 500); 1 Dec 2003 03:35:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65783 invoked by uid 500); 1 Dec 2003 03:35:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65751 invoked from network); 1 Dec 2003 03:35:01 -0000
Received: from unknown (HELO smtp15.singnet.com.sg) (165.21.6.35)
  by daedalus.apache.org with SMTP; 1 Dec 2003 03:35:01 -0000
Received: from HP29375324311 ([155.69.58.4])
	by smtp15.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB13YvTQ026921;
	Mon, 1 Dec 2003 11:35:03 +0800
Message-Id: <200312010335.hB13YvTQ026921@smtp15.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Developers List'" <lucene-dev@jakarta.apache.org>,
        "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: WebLucene 0.3 release:support CJK, use sax based indexing,
 docID based result sorting and xml format output with highlighting support.
Date: Mon, 1 Dec 2003 11:34:54 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <BAY9-DAV345g3s0JSPr00005424@hotmail.com>
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcO3SdT3WjZFU3kuSECbkxMN4ooeLAAcj73g
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Do you have the install.txt for windows XP setup of the WebLucene? It seems that
the install.txt is only for UNIX setup.

Thanks.  

-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com] 
Sent: Sunday, November 30, 2003 9:57 PM
To: Lucene Developers List; Lucene Users List
Subject: WebLucene 0.3 release:support CJK, use sax based indexing, docID based
result sorting and xml format output with highlighting support.

http://sourceforge.net/projects/weblucene/

WebLucene: 
Lucene search engine XML interface, provided sax based indexing, indexing
sequence based result sorting and xml output with highlight support.The
CJKTokenizer support Chinese Japanese and Korean with Westen language
simultaneously.

The key features:
1 The bi-gram based CJK support: org/apache/lucene/analysis/cjk/CJKTokenizer

2 docID based result sorting: org/apache/lucene/search/IndexOrderSearcher

3 xml output: com/chedong/weblucene/search/DOMSearcher

4 sax based indexing: com/chedong/weblucene/index/SAXIndexer

5 token based highlighter: 
    reverse StopTokenzier:
    org/apache/lucene/anlysis/HighlightAnalyzer.java
                              HighlightFilter.java
    with abstract:
    com/chedong/weblucene/search/WebluceneHighlighter

6 A simplified query parser:
    google like syntax with term limit
    org/apache/lucene/queryParser/SimpleQueryParser
    modified from early version of Lucene :)

Regards

Che, Dong



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 08:21:29 2003
Return-Path: 
 <lucene-user-return-6273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42206 invoked from network); 1 Dec 2003 08:21:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 08:21:29 -0000
Received: (qmail 58472 invoked by uid 500); 1 Dec 2003 08:21:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58443 invoked by uid 500); 1 Dec 2003 08:21:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58421 invoked from network); 1 Dec 2003 08:20:59 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.119)
  by daedalus.apache.org with SMTP; 1 Dec 2003 08:20:59 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 1 Dec 2003 00:21:12 -0800
Received: from 219.238.185.157 by bay9-dav15.bay9.hotmail.com with DAV;
	Mon, 01 Dec 2003 08:21:11 +0000
X-Originating-IP: [219.238.185.157]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<chentun@singnet.com.sg>
References: <200312010335.hB13YvTQ026921@smtp15.singnet.com.sg>
Subject: Re: WebLucene 0.3 release:support CJK, use sax based indexing,
 docID based result sorting and xml format output with highlighting support.
Date: Mon, 1 Dec 2003 16:21:25 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV15o12JfokwG00005a0c@hotmail.com>
X-OriginalArrivalTime: 01 Dec 2003 08:21:12.0232 (UTC)
 FILETIME=[14963280:01C3B7E4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

YnVpbGQuLnByb3BlcnRpZXMuZGVmYXVsdCANCg0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiMgV2ViTHVjZW5lICBCVUlMRCAgUFJP
UEVSVElFUw0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0NCmpzZGtfamFyPS91c3IvbG9jYWwvcmVzaW4vbGliL2pzZGsyMy5qYXINCg0K
IyBIb21lIGRpcmVjdG9yeSBvZiBKYXZhQ0MNCmphdmFjYy5ob21lID0gL3Vzci9qYXZhL2phdmFj
Yy9iaW4NCg0KIyBtb2RpZnkgZm9sbG93aW5nIG9uIFdpbmRvd3MNCiMganNka19qYXI9YzpcXHJl
c2luXFxsaWJcXGpzZGsyMy5qYXINCiMgamF2YWNjLmhvbWUgPSBjOlxcamF2YVxcamF2YWNjXFxi
aW4NCg0KDQpqYXZhY2MuemlwLmRpciA9ICR7amF2YWNjLmhvbWV9L2xpYg0KamF2YWNjLnppcCA9
ICR7amF2YWNjLnppcC5kaXJ9L0phdmFDQy56aXANCg0KQ2hlLCBEb25nDQotLS0tLSBPcmlnaW5h
bCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIlR1biBMaW4iIDxjaGVudHVuQHNpbmduZXQuY29tLnNn
Pg0KVG86ICInTHVjZW5lIERldmVsb3BlcnMgTGlzdCciIDxsdWNlbmUtZGV2QGpha2FydGEuYXBh
Y2hlLm9yZz47ICInTHVjZW5lIFVzZXJzIExpc3QnIiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFj
aGUub3JnPg0KU2VudDogTW9uZGF5LCBEZWNlbWJlciAwMSwgMjAwMyAxMTozNCBBTQ0KU3ViamVj
dDogUkU6IFdlYkx1Y2VuZSAwLjMgcmVsZWFzZTpzdXBwb3J0IENKSywgdXNlIHNheCBiYXNlZCBp
bmRleGluZywgZG9jSUQgYmFzZWQgcmVzdWx0IHNvcnRpbmcgYW5kIHhtbCBmb3JtYXQgb3V0cHV0
IHdpdGggaGlnaGxpZ2h0aW5nIHN1cHBvcnQuDQoNCg0KPiBIaSwNCj4gDQo+IERvIHlvdSBoYXZl
IHRoZSBpbnN0YWxsLnR4dCBmb3Igd2luZG93cyBYUCBzZXR1cCBvZiB0aGUgV2ViTHVjZW5lPyBJ
dCBzZWVtcyB0aGF0DQo+IHRoZSBpbnN0YWxsLnR4dCBpcyBvbmx5IGZvciBVTklYIHNldHVwLg0K
PiANCj4gVGhhbmtzLiAgDQo+IA0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9t
OiBDaGUgRG9uZyBbbWFpbHRvOmNoZWRvbmdAaG90bWFpbC5jb21dIA0KPiBTZW50OiBTdW5kYXks
IE5vdmVtYmVyIDMwLCAyMDAzIDk6NTcgUE0NCj4gVG86IEx1Y2VuZSBEZXZlbG9wZXJzIExpc3Q7
IEx1Y2VuZSBVc2VycyBMaXN0DQo+IFN1YmplY3Q6IFdlYkx1Y2VuZSAwLjMgcmVsZWFzZTpzdXBw
b3J0IENKSywgdXNlIHNheCBiYXNlZCBpbmRleGluZywgZG9jSUQgYmFzZWQNCj4gcmVzdWx0IHNv
cnRpbmcgYW5kIHhtbCBmb3JtYXQgb3V0cHV0IHdpdGggaGlnaGxpZ2h0aW5nIHN1cHBvcnQuDQo+
IA0KPiBodHRwOi8vc291cmNlZm9yZ2UubmV0L3Byb2plY3RzL3dlYmx1Y2VuZS8NCj4gDQo+IFdl
Ykx1Y2VuZTogDQo+IEx1Y2VuZSBzZWFyY2ggZW5naW5lIFhNTCBpbnRlcmZhY2UsIHByb3ZpZGVk
IHNheCBiYXNlZCBpbmRleGluZywgaW5kZXhpbmcNCj4gc2VxdWVuY2UgYmFzZWQgcmVzdWx0IHNv
cnRpbmcgYW5kIHhtbCBvdXRwdXQgd2l0aCBoaWdobGlnaHQgc3VwcG9ydC5UaGUNCj4gQ0pLVG9r
ZW5pemVyIHN1cHBvcnQgQ2hpbmVzZSBKYXBhbmVzZSBhbmQgS29yZWFuIHdpdGggV2VzdGVuIGxh
bmd1YWdlDQo+IHNpbXVsdGFuZW91c2x5Lg0KPiANCj4gVGhlIGtleSBmZWF0dXJlczoNCj4gMSBU
aGUgYmktZ3JhbSBiYXNlZCBDSksgc3VwcG9ydDogb3JnL2FwYWNoZS9sdWNlbmUvYW5hbHlzaXMv
Y2prL0NKS1Rva2VuaXplcg0KPiANCj4gMiBkb2NJRCBiYXNlZCByZXN1bHQgc29ydGluZzogb3Jn
L2FwYWNoZS9sdWNlbmUvc2VhcmNoL0luZGV4T3JkZXJTZWFyY2hlcg0KPiANCj4gMyB4bWwgb3V0
cHV0OiBjb20vY2hlZG9uZy93ZWJsdWNlbmUvc2VhcmNoL0RPTVNlYXJjaGVyDQo+IA0KPiA0IHNh
eCBiYXNlZCBpbmRleGluZzogY29tL2NoZWRvbmcvd2VibHVjZW5lL2luZGV4L1NBWEluZGV4ZXIN
Cj4gDQo+IDUgdG9rZW4gYmFzZWQgaGlnaGxpZ2h0ZXI6IA0KPiAgICAgcmV2ZXJzZSBTdG9wVG9r
ZW56aWVyOg0KPiAgICAgb3JnL2FwYWNoZS9sdWNlbmUvYW5seXNpcy9IaWdobGlnaHRBbmFseXpl
ci5qYXZhDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhpZ2hsaWdodEZpbHRlci5q
YXZhDQo+ICAgICB3aXRoIGFic3RyYWN0Og0KPiAgICAgY29tL2NoZWRvbmcvd2VibHVjZW5lL3Nl
YXJjaC9XZWJsdWNlbmVIaWdobGlnaHRlcg0KPiANCj4gNiBBIHNpbXBsaWZpZWQgcXVlcnkgcGFy
c2VyOg0KPiAgICAgZ29vZ2xlIGxpa2Ugc3ludGF4IHdpdGggdGVybSBsaW1pdA0KPiAgICAgb3Jn
L2FwYWNoZS9sdWNlbmUvcXVlcnlQYXJzZXIvU2ltcGxlUXVlcnlQYXJzZXINCj4gICAgIG1vZGlm
aWVkIGZyb20gZWFybHkgdmVyc2lvbiBvZiBMdWNlbmUgOikNCj4gDQo+IFJlZ2FyZHMNCj4gDQo+
IENoZSwgRG9uZw0KPiANCj4gDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUs
IGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+IEZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5h
cGFjaGUub3JnDQo+IA0KPiA=


From MAILER-DAEMON Mon Dec  1 12:11:12 2003
Return-Path: 
 <lucene-user-return-6274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54833 invoked from network); 1 Dec 2003 12:11:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 12:11:12 -0000
Received: (qmail 1176 invoked by uid 500); 1 Dec 2003 12:11:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1141 invoked by uid 500); 1 Dec 2003 12:11:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1127 invoked from network); 1 Dec 2003 12:11:05 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 1 Dec 2003 12:11:05 -0000
Received: (qmail 23079 invoked by uid 0); 1 Dec 2003 12:11:04 -0000
Received: from 193.63.235.44 by www27.gmx.net with HTTP;
	Mon, 1 Dec 2003 13:11:04 +0100 (MET)
Date: Mon, 1 Dec 2003 13:11:04 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Real Boolean Model in Lucene?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <6205.1070280664@www27.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is it possible to use a real boolean model in lucene for searching. When one
is using the Queryparser with a boolean query (i.e. "dog AND horse") one
does get a list of documents from the Hits object. However these documents have
a ranking (score).

My Question: Does Lucene use TF/IDF for getting this? (which would mean it
does not use the boolean model for the boolean query...)

How can one use a boolean model search, where the outcome are all score=1 ?
Example?

Cheers,
Ralph

-- 
Neu bei GMX: Preissenkung f�r MMS-Versand und FreeMMS!

Ideal f�r alle, die gerne MMS verschicken:
25 FreeMMS/Monat mit GMX TopMail.
http://www.gmx.net/de/cgi/produktemail

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 13:00:36 2003
Return-Path: 
 <lucene-user-return-6275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74346 invoked from network); 1 Dec 2003 13:00:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 13:00:36 -0000
Received: (qmail 50022 invoked by uid 500); 1 Dec 2003 13:00:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49620 invoked by uid 500); 1 Dec 2003 13:00:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49587 invoked from network); 1 Dec 2003 13:00:27 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 1 Dec 2003 13:00:27 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 8E6407D0A
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 14:00:27 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 0145F7D1E
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 14:00:21 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Real Boolean Model in Lucene?
Date: Mon, 1 Dec 2003 14:00:21 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC438811@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Real Boolean Model in Lucene?
Thread-Index: AcO4BEH/4dgNgAlvT7in/r8B5UHmEgAABEXQ
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

>>
My Question: Does Lucene use TF/IDF for getting this? (which would mean =
it does not use the boolean model for the boolean query...)
>>

Lucene indeed uses TF/IDF with length normalization for fields and =
documents.=20

However, Lucene is "downward compatible" to the Boolean Model where
documents are represented as 0/1-vectors in Vector Space. Ranking just=20
adds weights to the elements of the result set, so the underlying=20
interpretation of a query result can be still that of a=20
Propositional/Boolean model. If a document appears in the result,=20
its tokens valuate the query (which actually is a propositional=20
formula formed over words and phrases) to true. The representation
of documents is more complex in Lucene than required for the Boolean
Model, and as a result, Lucene can efficiently handle phrases and=20
proximity searches, but these seem to be compatible extensions -
if you can do it in the Boolean Model, you can do it in Lucene :)

One place where Lucene is not 100% compatible with a basic Boolean Model =
is that=20
full negation is a bit tricky - you can not simply ask for all documents =
that=20
do not contain a certain term unless you also have some term that =
appears in all=20
documents. Not a great deal, really.=20

If TF/IDF weighting is a problem to you, the Similarity interface =
implementation allows you=20
to remove all references to length normalization and document =
frequencies.

Regards,

Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com



-----Urspr=FCngliche Nachricht-----
Von: ambiesense@gmx.de [mailto:ambiesense@gmx.de]=20
Gesendet: Montag, 1. Dezember 2003 13:11
An: lucene-user@jakarta.apache.org
Betreff: Real Boolean Model in Lucene?


Hi,

is it possible to use a real boolean model in lucene for searching. When =
one is using the Queryparser with a boolean query (i.e. "dog AND horse") =
one does get a list of documents from the Hits object. However these =
documents have a ranking (score).

My Question: Does Lucene use TF/IDF for getting this? (which would mean =
it does not use the boolean model for the boolean query...)

How can one use a boolean model search, where the outcome are all =
score=3D1 ? Example?

Cheers,
Ralph

--=20
Neu bei GMX: Preissenkung f=FCr MMS-Versand und FreeMMS!

Ideal f=FCr alle, die gerne MMS verschicken:
25 FreeMMS/Monat mit GMX TopMail. http://www.gmx.net/de/cgi/produktemail

+++ GMX - die erste Adresse f=FCr Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 13:27:44 2003
Return-Path: 
 <lucene-user-return-6276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87309 invoked from network); 1 Dec 2003 13:27:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 13:27:44 -0000
Received: (qmail 76568 invoked by uid 500); 1 Dec 2003 13:27:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76536 invoked by uid 500); 1 Dec 2003 13:27:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76523 invoked from network); 1 Dec 2003 13:27:36 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 1 Dec 2003 13:27:36 -0000
Received: (qmail 31402 invoked by uid 0); 1 Dec 2003 13:27:35 -0000
Received: from 193.63.235.44 by www27.gmx.net with HTTP;
	Mon, 1 Dec 2003 14:27:35 +0100 (MET)
Date: Mon, 1 Dec 2003 14:27:35 +0100 (MET)
From: "Ralf B " <ambiesense@gmx.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <3B48940F2D7712428BD31A041A367DDC438811@lrrr>
Subject: Re: AW: Real Boolean Model in Lucene?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <17747.1070285255@www27.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Karsten,

I want to thank you for your qualified answer as well as your answer from
the 14th of November, where you agreed with me that Lucene is basically a VSM
implementation. Sometimes it is difficult to make the link between the clear
theory and its implementation.

According to your description, Lucene basically maps the boolean query into
the vector space and measures the cosine similarity towards other documents
in the vector space. If I understood you correctly you mean if a document is
found by Lucene based on a boolean query it is relevant (boolean true). If it
is not returned, if was boolean false. The score sits on top of it and can be
used for ranking. If I would like to use true boolean model I would
therefore just need to ignore the score of the Hits document. Did I understand
correctly?

I aggree that nobody really want to do that. My question intended to find
out more about the implemented theory within Lucene.

Cheers,
Ralph


> 
> Hi,
> 
> >>
> My Question: Does Lucene use TF/IDF for getting this? (which would mean 
> it does not use the boolean model for the boolean query...)
> >>
> 
> Lucene indeed uses TF/IDF with length normalization for fields and 
> documents. 
> 
> However, Lucene is "downward compatible" to the Boolean Model where
> documents are represented as 0/1-vectors in Vector Space. Ranking just 
> adds weights to the elements of the result set, so the underlying 
> interpretation of a query result can be still that of a 
> Propositional/Boolean model. If a document appears in the result, 
> its tokens valuate the query (which actually is a propositional 
> formula formed over words and phrases) to true. The representation
> of documents is more complex in Lucene than required for the Boolean
> Model, and as a result, Lucene can efficiently handle phrases and 
> proximity searches, but these seem to be compatible extensions -
> if you can do it in the Boolean Model, you can do it in Lucene :)
> 
> One place where Lucene is not 100% compatible with a basic Boolean Model 
> is that 
> full negation is a bit tricky - you can not simply ask for all documents 
> that 
> do not contain a certain term unless you also have some term that 
> appears in all 
> documents. Not a great deal, really. 
> 
> If TF/IDF weighting is a problem to you, the Similarity interface 
> implementation allows you 
> to remove all references to length normalization and document 
> frequencies.
> 
> Regards,
> 
> Mit freundlichen Gr��en aus Saarbr�cken
> 
> --
> 
> Dr.-Ing. Karsten Konrad
> Head of Artificial Intelligence Lab
> 
> XtraMind Technologies GmbH
> Stuhlsatzenhausweg 3
> D-66123 Saarbr�cken
> Phone: +49 (681) 3025113
> Fax: +49 (681) 3025109
> konrad@xtramind.com
> www.xtramind.com
> 
> 
> 
> -----Urspr�ngliche Nachricht-----
> Von: ambiesense@gmx.de [mailto:ambiesense@gmx.de] 
> Gesendet: Montag, 1. Dezember 2003 13:11
> An: lucene-user@jakarta.apache.org
> Betreff: Real Boolean Model in Lucene?
> 
> 
> Hi,
> 
> is it possible to use a real boolean model in lucene for searching. When 
> one is using the Queryparser with a boolean query (i.e. "dog AND horse") 
> one does get a list of documents from the Hits object. However these 
> documents have a ranking (score).
> 
> My Question: Does Lucene use TF/IDF for getting this? (which would mean 
> it does not use the boolean model for the boolean query...)
> 
> How can one use a boolean model search, where the outcome are all 
> score=1 ? Example?
> 
> Cheers,
> Ralph
> 
> -- 
> Neu bei GMX: Preissenkung f�r MMS-Versand und FreeMMS!
> 
> Ideal f�r alle, die gerne MMS verschicken:
> 25 FreeMMS/Monat mit GMX TopMail. http://www.gmx.net/de/cgi/produktemail
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
HoHoHo! Seid Ihr auch alle sch�n brav gewesen?

GMX Weihnachts-Special: Die 1. Adresse f�r Weihnachts-
m�nner und -frauen! http://www.gmx.net/de/cgi/specialmail

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 13:38:27 2003
Return-Path: 
 <lucene-user-return-6277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92987 invoked from network); 1 Dec 2003 13:38:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 13:38:27 -0000
Received: (qmail 86282 invoked by uid 500); 1 Dec 2003 13:38:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86258 invoked by uid 500); 1 Dec 2003 13:38:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86245 invoked from network); 1 Dec 2003 13:38:19 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 1 Dec 2003 13:38:19 -0000
Received: (qmail 27701 invoked by uid 0); 1 Dec 2003 13:38:19 -0000
Received: from 193.63.235.44 by www41.gmx.net with HTTP;
	Mon, 1 Dec 2003 14:38:19 +0100 (MET)
Date: Mon, 1 Dec 2003 14:38:19 +0100 (MET)
From: "Ralph   " <ambiesense@gmx.de>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: How to change similarity measure...
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <4997.1070285899@www41.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

does somebody has an example of how to use another similarity class
implementation for searching? Assuming I have implemented MySimilarity

class MySimilarity implements Similarity{ ....

how do I have to plug it in to acutally use it for a search in a way that I
have to program as least as possible :-) ?

Kind Regards,
Ralph

-- 
HoHoHo! Seid Ihr auch alle sch�n brav gewesen?

GMX Weihnachts-Special: Die 1. Adresse f�r Weihnachts-
m�nner und -frauen! http://www.gmx.net/de/cgi/specialmail

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 13:42:40 2003
Return-Path: 
 <lucene-user-return-6278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95199 invoked from network); 1 Dec 2003 13:42:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 13:42:40 -0000
Received: (qmail 93626 invoked by uid 500); 1 Dec 2003 13:42:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93596 invoked by uid 500); 1 Dec 2003 13:42:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93582 invoked from network); 1 Dec 2003 13:42:32 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 1 Dec 2003 13:42:32 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 1 Dec 2003 08:42:32 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB1DgVx04039
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 08:42:32 -0500 (EST)
Subject: RE: New Lucene-powered Website
Date: Mon, 1 Dec 2003 08:42:32 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124126F@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: New Lucene-powered Website
content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcO1mAN3aJbqt11kRRWp7DnvvsczgQCeL05g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

can you share a description of the heuristics you used to clean up the =
text? i am facing the same problem right now handling email. i'm not =
interested in the rules you use as much as the tools you use to =
implement the rules.

Herb....

-----Original Message-----
From: Ulrich Mayring [mailto:ulim@denic.de]
Sent: Friday, November 28, 2003 4:21 AM
To: lucene-user@jakarta.apache.org
Subject: Re: New Lucene-powered Website

This "clean-up work" is actually trickier than the summarising itself=20
and it is usually very domain-specific. That's the reason why I haven't=20
proposed to contribute the summariser to Lucene, because the clean-up=20
code is not generic. The summariser itself is just one class with 300=20
lines, but without prior clean-up the quality of its summaries is=20
insufficient.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 14:16:25 2003
Return-Path: 
 <lucene-user-return-6279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16795 invoked from network); 1 Dec 2003 14:16:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 14:16:25 -0000
Received: (qmail 48372 invoked by uid 500); 1 Dec 2003 14:16:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48344 invoked by uid 500); 1 Dec 2003 14:16:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48329 invoked from network); 1 Dec 2003 14:16:16 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 1 Dec 2003 14:16:16 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AQoqX-0000ro-00
	for <lucene-user@jakarta.apache.org>; Mon, 01 Dec 2003 15:16:17 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AQoqW-0000rg-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 01 Dec 2003 15:16:16 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AQoqW-0008Ay-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 01 Dec 2003 15:16:16 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: New Lucene-powered Website
Date: Mon, 01 Dec 2003 15:13:27 +0100
Lines: 14
Message-ID: <bqfifg$um6$1@sea.gmane.org>
References: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124126F@ny2528.corp.bloomberg.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124126F@ny2528.corp.bloomberg.com>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chong, Herb wrote:
> can you share a description of the heuristics you used to clean up the text? i am facing the same problem right now handling email. i'm not interested in the rules you use as much as the tools you use to implement the rules.

The tools... well, Java ;-)

The search engine is a custom Java application, which uses Lucene. The 
heuristics are not very general at this point, they are tailored to our 
domain. So what you are hinting at (a generic rules description language 
to customize to the local domain) seems appropriate. Our rules are 
things like "anything within <h1>...</h1> is an important sentence and 
we add a full-stop at the end".

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 14:19:21 2003
Return-Path: 
 <lucene-user-return-6280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20520 invoked from network); 1 Dec 2003 14:19:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 14:19:21 -0000
Received: (qmail 52574 invoked by uid 500); 1 Dec 2003 14:19:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52541 invoked by uid 500); 1 Dec 2003 14:19:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52496 invoked from network); 1 Dec 2003 14:19:12 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 1 Dec 2003 14:19:12 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 37ACA7EF7
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 15:19:13 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id CF8097DED
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 15:19:08 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: AW: Real Boolean Model in Lucene?
Date: Mon, 1 Dec 2003 15:19:08 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC438812@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: Real Boolean Model in Lucene?
Thread-Index: AcO4DvYmy4uSzzk/QDOzjRmhwMBf/AAALyZg
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello Ralf,

>>
According to your description, Lucene basically maps the boolean query =
into the vector space and measures the cosine similarity towards other =
documents in the vector space. If I understood you correctly you mean if =
a document is found by Lucene based on a boolean query it is relevant =
(boolean true). If it is not returned, if was boolean false. The score =
sits on top of it and can be used for ranking. If I would like to use =
true boolean model I would therefore just need to ignore the score of =
the Hits document. Did I understand correctly?
>>

Yes, I think that this is indeed pretty close to some theoretical =
foundation: The Boolean Model=20
explains which documents fit to a query, while some appropriate (Lucene =
is good!) similarity=20
function in vector space yields the ranking.

Now hell would be the place for me where I would have to prove that =
Lucene's ranking is=20
exactly equivalent to some transformation of vector space and then using =
the *cosine* for the=20
ranking. Can't be really, as Lucene sometimes returns results > 1.0 and =
only some ruthless
normalisation keeps it within 0.0 to 1.0. In other words, there still =
are some rough corners
in Lucene where a good theorist could find some work.

Could  we leave this topic aside until some suicid.. err, I mean =
enthusiastic fellow
tries to work out a really good theory?

Regards,

Karsten





-----Urspr=FCngliche Nachricht-----
Von: Ralf B [mailto:ambiesense@gmx.de]=20
Gesendet: Montag, 1. Dezember 2003 14:28
An: Lucene Users List
Betreff: Re: AW: Real Boolean Model in Lucene?


Hi Karsten,

I want to thank you for your qualified answer as well as your answer =
from the 14th of November, where you agreed with me that Lucene is =
basically a VSM implementation. Sometimes it is difficult to make the =
link between the clear theory and its implementation.

According to your description, Lucene basically maps the boolean query =
into the vector space and measures the cosine similarity towards other =
documents in the vector space. If I understood you correctly you mean if =
a document is found by Lucene based on a boolean query it is relevant =
(boolean true). If it is not returned, if was boolean false. The score =
sits on top of it and can be used for ranking. If I would like to use =
true boolean model I would therefore just need to ignore the score of =
the Hits document. Did I understand correctly?

I aggree that nobody really want to do that. My question intended to =
find out more about the implemented theory within Lucene.

Cheers,
Ralph


>=20
> Hi,
>=20
> >>
> My Question: Does Lucene use TF/IDF for getting this? (which would=20
> mean
> it does not use the boolean model for the boolean query...)
> >>
>=20
> Lucene indeed uses TF/IDF with length normalization for fields and
> documents.=20
>=20
> However, Lucene is "downward compatible" to the Boolean Model where=20
> documents are represented as 0/1-vectors in Vector Space. Ranking just =

> adds weights to the elements of the result set, so the underlying=20
> interpretation of a query result can be still that of a=20
> Propositional/Boolean model. If a document appears in the result, its=20
> tokens valuate the query (which actually is a propositional formula=20
> formed over words and phrases) to true. The representation of=20
> documents is more complex in Lucene than required for the Boolean=20
> Model, and as a result, Lucene can efficiently handle phrases and=20
> proximity searches, but these seem to be compatible extensions - if=20
> you can do it in the Boolean Model, you can do it in Lucene :)
>=20
> One place where Lucene is not 100% compatible with a basic Boolean=20
> Model
> is that=20
> full negation is a bit tricky - you can not simply ask for all =
documents=20
> that=20
> do not contain a certain term unless you also have some term that=20
> appears in all=20
> documents. Not a great deal, really.=20
>=20
> If TF/IDF weighting is a problem to you, the Similarity interface
> implementation allows you=20
> to remove all references to length normalization and document=20
> frequencies.
>=20
> Regards,
>=20
> Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken
>=20
> --
>=20
> Dr.-Ing. Karsten Konrad
> Head of Artificial Intelligence Lab
>=20
> XtraMind Technologies GmbH
> Stuhlsatzenhausweg 3
> D-66123 Saarbr=FCcken
> Phone: +49 (681) 3025113
> Fax: +49 (681) 3025109
> konrad@xtramind.com
> www.xtramind.com
>=20
>=20
>=20
> -----Urspr=FCngliche Nachricht-----
> Von: ambiesense@gmx.de [mailto:ambiesense@gmx.de]
> Gesendet: Montag, 1. Dezember 2003 13:11
> An: lucene-user@jakarta.apache.org
> Betreff: Real Boolean Model in Lucene?
>=20
>=20
> Hi,
>=20
> is it possible to use a real boolean model in lucene for searching.=20
> When
> one is using the Queryparser with a boolean query (i.e. "dog AND =
horse")=20
> one does get a list of documents from the Hits object. However these=20
> documents have a ranking (score).
>=20
> My Question: Does Lucene use TF/IDF for getting this? (which would=20
> mean
> it does not use the boolean model for the boolean query...)
>=20
> How can one use a boolean model search, where the outcome are all
> score=3D1 ? Example?
>=20
> Cheers,
> Ralph
>=20
> --
> Neu bei GMX: Preissenkung f=FCr MMS-Versand und FreeMMS!
>=20
> Ideal f=FCr alle, die gerne MMS verschicken:
> 25 FreeMMS/Monat mit GMX TopMail.=20
> http://www.gmx.net/de/cgi/produktemail
>=20
> +++ GMX - die erste Adresse f=FCr Mail, Message, More! +++
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20

--=20
HoHoHo! Seid Ihr auch alle sch=F6n brav gewesen?

GMX Weihnachts-Special: Die 1. Adresse f=FCr Weihnachts-
m=E4nner und -frauen! http://www.gmx.net/de/cgi/specialmail

+++ GMX - die erste Adresse f=FCr Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 15:32:58 2003
Return-Path: 
 <lucene-user-return-6281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73995 invoked from network); 1 Dec 2003 15:32:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 15:32:58 -0000
Received: (qmail 41908 invoked by uid 500); 1 Dec 2003 15:32:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41846 invoked by uid 500); 1 Dec 2003 15:32:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41832 invoked from network); 1 Dec 2003 15:32:47 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 1 Dec 2003 15:32:47 -0000
Received: (qmail 2082 invoked by uid 0); 1 Dec 2003 15:32:49 -0000
Received: from 193.63.235.44 by www48.gmx.net with HTTP;
	Mon, 1 Dec 2003 16:32:49 +0100 (MET)
Date: Mon, 1 Dec 2003 16:32:49 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <3B48940F2D7712428BD31A041A367DDC438812@lrrr>
Subject: Re: AW: AW: Real Boolean Model in Lucene?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <26493.1070292769@www48.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Karsten,

that is fine for me. Implementation cannot 100 % be matched to some theory
as the ISO OSI model has perfectly shown. :-) Thats ok for me and I want to
thank you again for the clarification I gained from this conversation.

Cheers

> 
> Hello Ralf,
> 
> >>
> According to your description, Lucene basically maps the boolean query 
> into the vector space and measures the cosine similarity towards other 
> documents in the vector space. If I understood you correctly you mean if 
> a document is found by Lucene based on a boolean query it is relevant 
> (boolean true). If it is not returned, if was boolean false. The score 
> sits on top of it and can be used for ranking. If I would like to use 
> true boolean model I would therefore just need to ignore the score of 
> the Hits document. Did I understand correctly?
> >>
> 
> Yes, I think that this is indeed pretty close to some theoretical 
> foundation: The Boolean Model 
> explains which documents fit to a query, while some appropriate (Lucene 
> is good!) similarity 
> function in vector space yields the ranking.
> 
> Now hell would be the place for me where I would have to prove that 
> Lucene's ranking is 
> exactly equivalent to some transformation of vector space and then using 
> the *cosine* for the 
> ranking. Can't be really, as Lucene sometimes returns results > 1.0 and 
> only some ruthless
> normalisation keeps it within 0.0 to 1.0. In other words, there still 
> are some rough corners
> in Lucene where a good theorist could find some work.
> 
> Could  we leave this topic aside until some suicid.. err, I mean 
> enthusiastic fellow
> tries to work out a really good theory?
> 
> Regards,
> 
> Karsten
> 
> 
> 
> 
> 
> -----Urspr�ngliche Nachricht-----
> Von: Ralf B [mailto:ambiesense@gmx.de] 
> Gesendet: Montag, 1. Dezember 2003 14:28
> An: Lucene Users List
> Betreff: Re: AW: Real Boolean Model in Lucene?
> 
> 
> Hi Karsten,
> 
> I want to thank you for your qualified answer as well as your answer 
> >from the 14th of November, where you agreed with me that Lucene is 
> basically a VSM implementation. Sometimes it is difficult to make the 
> link between the clear theory and its implementation.
> 
> According to your description, Lucene basically maps the boolean query 
> into the vector space and measures the cosine similarity towards other 
> documents in the vector space. If I understood you correctly you mean if 
> a document is found by Lucene based on a boolean query it is relevant 
> (boolean true). If it is not returned, if was boolean false. The score 
> sits on top of it and can be used for ranking. If I would like to use 
> true boolean model I would therefore just need to ignore the score of 
> the Hits document. Did I understand correctly?
> 
> I aggree that nobody really want to do that. My question intended to 
> find out more about the implemented theory within Lucene.
> 
> Cheers,
> Ralph
> 
> 
> > 
> > Hi,
> > 
> > >>
> > My Question: Does Lucene use TF/IDF for getting this? (which would 
> > mean
> > it does not use the boolean model for the boolean query...)
> > >>
> > 
> > Lucene indeed uses TF/IDF with length normalization for fields and
> > documents. 
> > 
> > However, Lucene is "downward compatible" to the Boolean Model where 
> > documents are represented as 0/1-vectors in Vector Space. Ranking just 
> 
> > adds weights to the elements of the result set, so the underlying 
> > interpretation of a query result can be still that of a 
> > Propositional/Boolean model. If a document appears in the result, its 
> > tokens valuate the query (which actually is a propositional formula 
> > formed over words and phrases) to true. The representation of 
> > documents is more complex in Lucene than required for the Boolean 
> > Model, and as a result, Lucene can efficiently handle phrases and 
> > proximity searches, but these seem to be compatible extensions - if 
> > you can do it in the Boolean Model, you can do it in Lucene :)
> > 
> > One place where Lucene is not 100% compatible with a basic Boolean 
> > Model
> > is that 
> > full negation is a bit tricky - you can not simply ask for all 
> documents 
> > that 
> > do not contain a certain term unless you also have some term that 
> > appears in all 
> > documents. Not a great deal, really. 
> > 
> > If TF/IDF weighting is a problem to you, the Similarity interface
> > implementation allows you 
> > to remove all references to length normalization and document 
> > frequencies.
> > 
> > Regards,
> > 
> > Mit freundlichen Gr��en aus Saarbr�cken
> > 
> > --
> > 
> > Dr.-Ing. Karsten Konrad
> > Head of Artificial Intelligence Lab
> > 
> > XtraMind Technologies GmbH
> > Stuhlsatzenhausweg 3
> > D-66123 Saarbr�cken
> > Phone: +49 (681) 3025113
> > Fax: +49 (681) 3025109
> > konrad@xtramind.com
> > www.xtramind.com
> > 
> > 
> > 
> > -----Urspr�ngliche Nachricht-----
> > Von: ambiesense@gmx.de [mailto:ambiesense@gmx.de]
> > Gesendet: Montag, 1. Dezember 2003 13:11
> > An: lucene-user@jakarta.apache.org
> > Betreff: Real Boolean Model in Lucene?
> > 
> > 
> > Hi,
> > 
> > is it possible to use a real boolean model in lucene for searching. 
> > When
> > one is using the Queryparser with a boolean query (i.e. "dog AND 
> horse") 
> > one does get a list of documents from the Hits object. However these 
> > documents have a ranking (score).
> > 
> > My Question: Does Lucene use TF/IDF for getting this? (which would 
> > mean
> > it does not use the boolean model for the boolean query...)
> > 
> > How can one use a boolean model search, where the outcome are all
> > score=1 ? Example?
> > 
> > Cheers,
> > Ralph
> > 
> > --
> > Neu bei GMX: Preissenkung f�r MMS-Versand und FreeMMS!
> > 
> > Ideal f�r alle, die gerne MMS verschicken:
> > 25 FreeMMS/Monat mit GMX TopMail. 
> > http://www.gmx.net/de/cgi/produktemail
> > 
> > +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> HoHoHo! Seid Ihr auch alle sch�n brav gewesen?
> 
> GMX Weihnachts-Special: Die 1. Adresse f�r Weihnachts-
> m�nner und -frauen! http://www.gmx.net/de/cgi/specialmail
> 
> +++ GMX - die erste Adresse f�r Mail, Message, More! +++
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
HoHoHo! Seid Ihr auch alle sch�n brav gewesen?

GMX Weihnachts-Special: Die 1. Adresse f�r Weihnachts-
m�nner und -frauen! http://www.gmx.net/de/cgi/specialmail

+++ GMX - die erste Adresse f�r Mail, Message, More! +++


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 15:45:37 2003
Return-Path: 
 <lucene-user-return-6282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80052 invoked from network); 1 Dec 2003 15:45:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 15:45:37 -0000
Received: (qmail 68596 invoked by uid 500); 1 Dec 2003 15:44:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68547 invoked by uid 500); 1 Dec 2003 15:44:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68353 invoked from network); 1 Dec 2003 15:44:54 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 1 Dec 2003 15:44:54 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id PAA02769
	for <lucene-user@jakarta.apache.org>; Mon, 01 Dec 2003 15:44:51 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003120115445118162
 for <lucene-user@jakarta.apache.org>; Mon, 01 Dec 2003 15:44:51 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDJ8PSF>; Mon, 1 Dec 2003 15:40:04 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E7@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Help with Searching indexes from a web app (Lucene 1.3 rc2)
Date: Mon, 1 Dec 2003 15:40:03 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Hi folks.
> 
> I'm new to Lucene so this may be an obvious questions, but I am having
> problems with Lucene 1.3-rc2. I've got a bit of code which looks something
> like this....
> 
> public static void getSearchResults(String searchString, String indexDir)
> {
>     try
>     {
>         Searcher searcher = new IndexSearcher(indexDir);
>         .....
>         etc...
>         .....
>     }
>     catch (Exception ex)
>     {
>     }
> }
> 
> I'm calling it to from a web application (servlet) running in tomcat in
> conjunction with struts and velocity. If I use the Lucene 1.2 binary
> release, it all works fine and I get the search results ok. However, when
> I replace the 1.2 jar file with the 1.3-rc2 jat file,  (leaving all of my
> code exactly the same) it stops working, and I get a path not found
> exception being thrown. 
> 
> I've narrowed it down to the IndexReader.open(final Directory directory)
> method. Even if I pass a valid Directory object into this (created by
> FSDirectory), it just seems to throw the exception, (even though I know
> the directory object is not null etc). The bizarre thing is that this
> problem only seems to occur when I run it from the web application. If I
> invoke the same code from the command line, it works ok, (even though I'm
> using the same string for the index dir).
> 
> Anyone got any ideas? (I want to use 1.3 because I want to exploit some of
> the newer features). Does running from within a web application do
> something strange with the paths, even though the strings I'm using are
> fully qualified?
> 
> Thanks for your help,
> 
> Iain Young
> http://www.microfocus.com
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 15:56:02 2003
Return-Path: 
 <lucene-user-return-6283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85699 invoked from network); 1 Dec 2003 15:56:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 15:56:02 -0000
Received: (qmail 93741 invoked by uid 500); 1 Dec 2003 15:55:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93714 invoked by uid 500); 1 Dec 2003 15:55:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93701 invoked from network); 1 Dec 2003 15:55:51 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 1 Dec 2003 15:55:51 -0000
Received: from HP29375324311 (hs0872.singnet.com.sg [165.21.200.74])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB1Ftjm4018088;
	Mon, 1 Dec 2003 23:55:49 +0800
Message-Id: <200312011555.hB1Ftjm4018088@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Che Dong'" <chedong@hotmail.com>,
        "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: WebLucene 0.3 release:support CJK, use sax based indexing,
 docID based result sorting and xml format output with highlighting support.
Date: Mon, 1 Dec 2003 23:55:37 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcO35bDp9XWWSGRWSE6QhmQTEdZWLAAPYa4g
In-Reply-To: <BAY9-DAV15o12JfokwG00005a0c@hotmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Che Dong,

The install.txt that you have in the package, the part on preparing the
environment, can you include the setup for windows because I think what you
wrote in install.txt is for UNIX setup? I still cannot get my system working.
Please help.

Thanks. 

-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com] 
Sent: Monday, December 01, 2003 4:21 PM
To: Lucene Users List; chentun@singnet.com.sg
Subject: Re: WebLucene 0.3 release:support CJK, use sax based indexing, docID
based result sorting and xml format output with highlighting support.

build..properties.default 

# ---------------------------------------------------------
# WebLucene  BUILD  PROPERTIES
# ---------------------------------------------------------
jsdk_jar=/usr/local/resin/lib/jsdk23.jar

# Home directory of JavaCC
javacc.home = /usr/java/javacc/bin

# modify following on Windows
# jsdk_jar=c:\\resin\\lib\\jsdk23.jar
# javacc.home = c:\\java\\javacc\\bin


javacc.zip.dir = ${javacc.home}/lib
javacc.zip = ${javacc.zip.dir}/JavaCC.zip

Che, Dong
----- Original Message -----
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Developers List'" <lucene-dev@jakarta.apache.org>; "'Lucene Users
List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 01, 2003 11:34 AM
Subject: RE: WebLucene 0.3 release:support CJK, use sax based indexing, docID
based result sorting and xml format output with highlighting support.


> Hi,
> 
> Do you have the install.txt for windows XP setup of the WebLucene? It seems
that
> the install.txt is only for UNIX setup.
> 
> Thanks.  
> 
> -----Original Message-----
> From: Che Dong [mailto:chedong@hotmail.com] 
> Sent: Sunday, November 30, 2003 9:57 PM
> To: Lucene Developers List; Lucene Users List
> Subject: WebLucene 0.3 release:support CJK, use sax based indexing, docID
based
> result sorting and xml format output with highlighting support.
> 
> http://sourceforge.net/projects/weblucene/
> 
> WebLucene: 
> Lucene search engine XML interface, provided sax based indexing, indexing
> sequence based result sorting and xml output with highlight support.The
> CJKTokenizer support Chinese Japanese and Korean with Westen language
> simultaneously.
> 
> The key features:
> 1 The bi-gram based CJK support: org/apache/lucene/analysis/cjk/CJKTokenizer
> 
> 2 docID based result sorting: org/apache/lucene/search/IndexOrderSearcher
> 
> 3 xml output: com/chedong/weblucene/search/DOMSearcher
> 
> 4 sax based indexing: com/chedong/weblucene/index/SAXIndexer
> 
> 5 token based highlighter: 
>     reverse StopTokenzier:
>     org/apache/lucene/anlysis/HighlightAnalyzer.java
>                               HighlightFilter.java
>     with abstract:
>     com/chedong/weblucene/search/WebluceneHighlighter
> 
> 6 A simplified query parser:
>     google like syntax with term limit
>     org/apache/lucene/queryParser/SimpleQueryParser
>     modified from early version of Lucene :)
> 
> Regards
> 
> Che, Dong
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 16:26:08 2003
Return-Path: 
 <lucene-user-return-6284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 198 invoked from network); 1 Dec 2003 16:26:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 16:26:08 -0000
Received: (qmail 54474 invoked by uid 500); 1 Dec 2003 16:25:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54305 invoked by uid 500); 1 Dec 2003 16:25:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54273 invoked from network); 1 Dec 2003 16:25:55 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 1 Dec 2003 16:25:55 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id QAA04505
	for <lucene-user@jakarta.apache.org>; Mon, 01 Dec 2003 16:25:53 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003120116255219083
 for <lucene-user@jakarta.apache.org>; Mon, 01 Dec 2003 16:25:52 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDJ8Q22>; Mon, 1 Dec 2003 16:21:05 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E8@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Help with Searching indexes from a web app (Lucene 1.3 rc2)
Date: Mon, 1 Dec 2003 16:21:04 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Note, that I've just tried the example webapp supplied with Lucene, and I
appear to be having exactly the same problem with that. The 1.2 version
works ok, but the 1.3 version is displaying a path not found error.

Are there any known incompatibilities with certain versions of Tomcat (I'm
currently using version 4.0.3)

Thanks,
Iain

-----Original Message-----
From: Iain Young [mailto:Iain.Young@microfocus.com]
Sent: 01 December 2003 15:40
To: 'lucene-user@jakarta.apache.org'
Subject: Help with Searching indexes from a web app (Lucene 1.3 rc2)


> Hi folks.
> 
> I'm new to Lucene so this may be an obvious questions, but I am having
> problems with Lucene 1.3-rc2. I've got a bit of code which looks something
> like this....
> 
> public static void getSearchResults(String searchString, String indexDir)
> {
>     try
>     {
>         Searcher searcher = new IndexSearcher(indexDir);
>         .....
>         etc...
>         .....
>     }
>     catch (Exception ex)
>     {
>     }
> }
> 
> I'm calling it to from a web application (servlet) running in tomcat in
> conjunction with struts and velocity. If I use the Lucene 1.2 binary
> release, it all works fine and I get the search results ok. However, when
> I replace the 1.2 jar file with the 1.3-rc2 jat file,  (leaving all of my
> code exactly the same) it stops working, and I get a path not found
> exception being thrown. 
> 
> I've narrowed it down to the IndexReader.open(final Directory directory)
> method. Even if I pass a valid Directory object into this (created by
> FSDirectory), it just seems to throw the exception, (even though I know
> the directory object is not null etc). The bizarre thing is that this
> problem only seems to occur when I run it from the web application. If I
> invoke the same code from the command line, it works ok, (even though I'm
> using the same string for the index dir).
> 
> Anyone got any ideas? (I want to use 1.3 because I want to exploit some of
> the newer features). Does running from within a web application do
> something strange with the paths, even though the strings I'm using are
> fully qualified?
> 
> Thanks for your help,
> 
> Iain Young
> http://www.microfocus.com
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 18:10:54 2003
Return-Path: 
 <lucene-user-return-6285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60585 invoked from network); 1 Dec 2003 18:10:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 18:10:54 -0000
Received: (qmail 46450 invoked by uid 500); 1 Dec 2003 18:10:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46422 invoked by uid 500); 1 Dec 2003 18:10:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46409 invoked from network); 1 Dec 2003 18:10:40 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 1 Dec 2003 18:10:40 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with SMTP
          id <2003120118104301200i67sle>; Mon, 1 Dec 2003 18:10:43 +0000
Message-ID: <3FCB8422.4090900@lucene.com>
Date: Mon, 01 Dec 2003 10:10:42 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Dates and others
References: <E1APCh4-0006zg-RD@server1070.gisol.com>
In-Reply-To: <E1APCh4-0006zg-RD@server1070.gisol.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dion Almaer wrote:
> The only real item that I still want to tweak more is getting recent results higher in the list.
> 
> I was wondering if something like this could work (or if there is a better solution)
> 
> At index time, I have the date of the content.  I could do some math where the higher the date
> (based on the time_t version or whatever) the more of a setBoost(metric). Or, for every month in the
> past, create a larger negative number to setBoost()... or something like that.
> 
> Would something like this make sense?

The problem with this approach is that eventually you'll exhaust the 
range of the boost.  So this will only work if you re-index things from 
scratch periodically, with a boost of something like 1/days-ago.

If you're adding documents to the index in date order, then you could 
use a HitCollector which adjusts scores according to the document 
number, since document numbers increase as you add to the index.

If you're not adding things in date order, then you can, when you open 
the index, build an array mapping document numbers to integer dates. 
Then your hit collector can use this to either boost or sort hits by date.

Or you could add a "month" or "week" field to documents, then add it as 
a clause to your queries with a boost.  Then documents matching the most 
recent week(s) and/or month(s) would get the boost.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 18:19:03 2003
Return-Path: 
 <lucene-user-return-6286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63239 invoked from network); 1 Dec 2003 18:19:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 18:19:03 -0000
Received: (qmail 60342 invoked by uid 500); 1 Dec 2003 18:18:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60295 invoked by uid 500); 1 Dec 2003 18:18:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60223 invoked from network); 1 Dec 2003 18:18:48 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 1 Dec 2003 18:18:48 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 1 Dec 2003 13:18:50 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB1IInx02144
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 13:18:50 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Dates and others
Date: Mon, 1 Dec 2003 13:18:49 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E40124086F@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Dates and others
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcO4NngIkvw0HjYZRimnL8kW7MUG2gAAD5Mg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

ad hoc techniques run into lots of trouble because the requirement on =
Lucene isn't well specified. is a document with one of the search terms =
that is a week newer enough to move it ahead of a document that has all =
of the search terms? the boost mechanism is a way to move documents =
around in the ranking list, but it clearly is a way to reweight the =
importance of the query terms and not to impose external constraints =
that properly should be handled outside the search engine.

Herb...

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Monday, December 01, 2003 1:11 PM
To: Lucene Users List
Subject: Re: Dates and others

The problem with this approach is that eventually you'll exhaust the=20
range of the boost.  So this will only work if you re-index things from=20
scratch periodically, with a boost of something like 1/days-ago.

If you're adding documents to the index in date order, then you could=20
use a HitCollector which adjusts scores according to the document=20
number, since document numbers increase as you add to the index.

If you're not adding things in date order, then you can, when you open=20
the index, build an array mapping document numbers to integer dates.=20
Then your hit collector can use this to either boost or sort hits by =
date.

Or you could add a "month" or "week" field to documents, then add it as=20
a clause to your queries with a boost.  Then documents matching the most =

recent week(s) and/or month(s) would get the boost.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 18:27:50 2003
Return-Path: 
 <lucene-user-return-6287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66832 invoked from network); 1 Dec 2003 18:27:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 18:27:50 -0000
Received: (qmail 70639 invoked by uid 500); 1 Dec 2003 18:27:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70608 invoked by uid 500); 1 Dec 2003 18:27:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70595 invoked from network); 1 Dec 2003 18:27:37 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 1 Dec 2003 18:27:37 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 8F8585D22
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 10:27:41 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB1IRfBK053365
	for lucene-user@jakarta.apache.org; Mon, 1 Dec 2003 10:27:41 -0800 (PST)
	(envelope-from dror)
Date: Mon, 1 Dec 2003 10:27:41 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Help with Searching indexes from a web app (Lucene 1.3 rc2)
Message-ID: <20031201182741.GP30893@rlx11.zapatec.com>
References: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E8@nwb-corpmail.microfocus.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E8@nwb-corpmail.microfocus.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please, always include the full exception when reporting a problem.

As for your problem, I would guess that it has to do with where Lucene
puts its temp files. I think that something changed between 1.2 and 1.3
and on Unix it started using /tmp instead of the index directory for the
tmp files. So somehow from your webapp you don't have permissions to
write /tmp. Are you running a security manager, by any chance?

Regards,

Dror

On Mon, Dec 01, 2003 at 04:21:04PM -0000, Iain Young wrote:
> Note, that I've just tried the example webapp supplied with Lucene, and I
> appear to be having exactly the same problem with that. The 1.2 version
> works ok, but the 1.3 version is displaying a path not found error.
> 
> Are there any known incompatibilities with certain versions of Tomcat (I'm
> currently using version 4.0.3)
> 
> Thanks,
> Iain
> 
> -----Original Message-----
> From: Iain Young [mailto:Iain.Young@microfocus.com]
> Sent: 01 December 2003 15:40
> To: 'lucene-user@jakarta.apache.org'
> Subject: Help with Searching indexes from a web app (Lucene 1.3 rc2)
> 
> 
> > Hi folks.
> > 
> > I'm new to Lucene so this may be an obvious questions, but I am having
> > problems with Lucene 1.3-rc2. I've got a bit of code which looks something
> > like this....
> > 
> > public static void getSearchResults(String searchString, String indexDir)
> > {
> >     try
> >     {
> >         Searcher searcher = new IndexSearcher(indexDir);
> >         .....
> >         etc...
> >         .....
> >     }
> >     catch (Exception ex)
> >     {
> >     }
> > }
> > 
> > I'm calling it to from a web application (servlet) running in tomcat in
> > conjunction with struts and velocity. If I use the Lucene 1.2 binary
> > release, it all works fine and I get the search results ok. However, when
> > I replace the 1.2 jar file with the 1.3-rc2 jat file,  (leaving all of my
> > code exactly the same) it stops working, and I get a path not found
> > exception being thrown. 
> > 
> > I've narrowed it down to the IndexReader.open(final Directory directory)
> > method. Even if I pass a valid Directory object into this (created by
> > FSDirectory), it just seems to throw the exception, (even though I know
> > the directory object is not null etc). The bizarre thing is that this
> > problem only seems to occur when I run it from the web application. If I
> > invoke the same code from the command line, it works ok, (even though I'm
> > using the same string for the index dir).
> > 
> > Anyone got any ideas? (I want to use 1.3 because I want to exploit some of
> > the newer features). Does running from within a web application do
> > something strange with the paths, even though the strings I'm using are
> > fully qualified?
> > 
> > Thanks for your help,
> > 
> > Iain Young
> > http://www.microfocus.com
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________
> 
> ________________________________________________________________________
> This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> ________________________________________________________________________
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 20:29:40 2003
Return-Path: 
 <lucene-user-return-6290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32244 invoked from network); 1 Dec 2003 20:29:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 20:29:40 -0000
Received: (qmail 11261 invoked by uid 500); 1 Dec 2003 20:27:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11231 invoked by uid 500); 1 Dec 2003 20:27:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11186 invoked from network); 1 Dec 2003 20:27:22 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 1 Dec 2003 20:27:22 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with SMTP
          id <20031201202727016002kjife>; Mon, 1 Dec 2003 20:27:27 +0000
Message-ID: <3FCBA42D.5030702@lucene.com>
Date: Mon, 01 Dec 2003 12:27:25 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: AW: Real Boolean Model in Lucene?
References: <3B48940F2D7712428BD31A041A367DDC438812@lrrr>
In-Reply-To: <3B48940F2D7712428BD31A041A367DDC438812@lrrr>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karsten Konrad wrote:
> Now hell would be the place for me where I would have to prove that Lucene's ranking is 
> exactly equivalent to some transformation of vector space and then using the *cosine* for the 
> ranking. Can't be really, as Lucene sometimes returns results > 1.0 and only some ruthless
> normalisation keeps it within 0.0 to 1.0. In other words, there still are some rough corners
> in Lucene where a good theorist could find some work.

One problem with computing the theoretically correct normalization is 
that it changes each time the index is modified, and must be recomputed 
for every document.  This is because it includes IDFs, and, when the 
index changes, IDFs change.  That's when you normalize tf/idf vectors to 
the unit sphere, i.e., norm=sqrt(sum_t(weight(t)^2)).

But research has also shown that this mathematically correct 
normalization is not the best, e.g. Singhal et. al.'s work on pivoted 
normalization:

   http://citeseer.ist.psu.edu/singhal96pivoted.html

More generally, this shows that information retreival is not a 
theoretical field, but rather a heuristic one.  (Although someone may 
flame me for saying that...)  The vector space model is just a useful 
analogy, not a verifiable theory of document meaning.  It suggests some 
formulae which can be improved through inspiration and experimentation.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 21:39:25 2003
Return-Path: 
 <lucene-user-return-6291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60342 invoked from network); 1 Dec 2003 21:39:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 21:39:25 -0000
Received: (qmail 26192 invoked by uid 500); 1 Dec 2003 21:38:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26159 invoked by uid 500); 1 Dec 2003 21:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26115 invoked from network); 1 Dec 2003 21:38:49 -0000
Received: from unknown (HELO localhost.localdomain) (12.43.53.195)
  by daedalus.apache.org with SMTP; 1 Dec 2003 21:38:49 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hB1LcmLr005272
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 13:38:50 -0800
Message-ID: <3FCBB4E8.7080309@newsmonster.org>
Date: Mon, 01 Dec 2003 13:38:48 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: disable locks on read only indexes (performance improvement?)
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Would there be any performance improvement in query throughput and 
latency if locking were disabled for readonly indexes?

It doesnt' seem like it makes sense to worry about locking if you know 
for SURE that the index will NEVER be updated again. 

I'm noticing this problem now.  We are running a live indexer which does 
a commit every N documents (right now 100,000) and then swaps the new 
index into the system live.  This index is never again updated and we 
use a multisearcher.  We then do index merges after a while into new 
indexes to keep performance high and reduce the number of indexes.

I would assume that removing this lock could increase performance 
especially to allow multiple concurrent searches on the same data.

Kevin

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 21:58:34 2003
Return-Path: 
 <lucene-user-return-6292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68876 invoked from network); 1 Dec 2003 21:58:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 21:58:34 -0000
Received: (qmail 54353 invoked by uid 500); 1 Dec 2003 21:58:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54318 invoked by uid 500); 1 Dec 2003 21:58:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54304 invoked from network); 1 Dec 2003 21:58:17 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 1 Dec 2003 21:58:17 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id A92295D22
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 13:58:23 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB1LwNeA053588
	for lucene-user@jakarta.apache.org; Mon, 1 Dec 2003 13:58:23 -0800 (PST)
	(envelope-from dror)
Date: Mon, 1 Dec 2003 13:58:23 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
Message-ID: <20031201215823.GR30893@rlx11.zapatec.com>
References: <3FCBB4E8.7080309@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FCBB4E8.7080309@newsmonster.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, Dec 01, 2003 at 01:38:48PM -0800, Kevin A. Burton wrote:
> Would there be any performance improvement in query throughput and 
> latency if locking were disabled for readonly indexes?
> 
> It doesnt' seem like it makes sense to worry about locking if you know 
> for SURE that the index will NEVER be updated again. 
> 
> I'm noticing this problem now.  We are running a live indexer which does 
> a commit every N documents (right now 100,000) and then swaps the new 
> index into the system live.  This index is never again updated and we 
> use a multisearcher.  We then do index merges after a while into new 
> indexes to keep performance high and reduce the number of indexes.

Sounds quite familiar. One question though, when you say "swaps" the new
index, what do you mean? It's one area where locking might matter. If
you just use a multisearcher and add the new index I'm guessing that it
should work fine.

> 
> I would assume that removing this lock could increase performance 
> especially to allow multiple concurrent searches on the same data.

There was talk about providing that in an upcoming version. Until then
you can try RODirectory:
	http://www.csita.unige.it/software/free/lucene/


Regards,

Dror

> 
> Kevin
> 
> -- 
>    NewsMonster - http://www.newsmonster.org/
> 
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM - sfburtonator,  Web - http://www.peerfear.org/
> GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 22:11:08 2003
Return-Path: 
 <lucene-user-return-6293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75624 invoked from network); 1 Dec 2003 22:11:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:11:08 -0000
Received: (qmail 76455 invoked by uid 500); 1 Dec 2003 22:10:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76369 invoked by uid 500); 1 Dec 2003 22:10:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76355 invoked from network); 1 Dec 2003 22:10:50 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:10:50 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with SMTP
          id <2003120122105601600shbl6e>; Mon, 1 Dec 2003 22:10:56 +0000
Message-ID: <3FCBBC6F.4000306@lucene.com>
Date: Mon, 01 Dec 2003 14:10:55 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
References: <3FCBB4E8.7080309@newsmonster.org>
In-Reply-To: <3FCBB4E8.7080309@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Would there be any performance improvement in query throughput and 
> latency if locking were disabled for readonly indexes?

The locks are only consulted when opening a new IndexReader.  I doubt 
very much that you're doing this often enough for this to be significant.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 22:13:39 2003
Return-Path: 
 <lucene-user-return-6294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76427 invoked from network); 1 Dec 2003 22:13:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:13:39 -0000
Received: (qmail 78711 invoked by uid 500); 1 Dec 2003 22:13:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78363 invoked by uid 500); 1 Dec 2003 22:13:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78350 invoked from network); 1 Dec 2003 22:13:22 -0000
Received: from unknown (HELO server1070.gisol.com) (216.240.136.190)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:13:22 -0000
Received: from c-24-118-197-101.mn.client2.attbi.com ([24.118.197.101]
 helo=Laptop)
	by server1070.gisol.com with esmtp (Exim 4.24)
	id 1AQwIG-0006sL-PU
	for lucene-user@jakarta.apache.org; Mon, 01 Dec 2003 14:13:24 -0800
From: "Dion Almaer" <dion@almaer.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Dates and others
Date: Mon, 1 Dec 2003 17:13:24 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcO4Nm/NlutocXmYQCOiVzlq2s8qzAAIDVeQ
In-Reply-To: <3FCB8422.4090900@lucene.com>
Message-Id: <E1AQwIG-0006sL-PU@server1070.gisol.com>
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - server1070.gisol.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - almaer.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 

> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com] 
> Sent: Monday, December 01, 2003 1:11 PM
> To: Lucene Users List
> Subject: Re: Dates and others
> 
> Dion Almaer wrote:
> > The only real item that I still want to tweak more is 
> getting recent results higher in the list.
> > 
> > I was wondering if something like this could work (or if there is a 
> > better solution)
> > 
> > At index time, I have the date of the content.  I could do 
> some math 
> > where the higher the date (based on the time_t version or whatever) 
> > the more of a setBoost(metric). Or, for every month in the 
> past, create a larger negative number to setBoost()... or 
> something like that.
> > 
> > Would something like this make sense?
> 
> The problem with this approach is that eventually you'll 
> exhaust the range of the boost.  So this will only work if 
> you re-index things from scratch periodically, with a boost 
> of something like 1/days-ago.
> 
> If you're adding documents to the index in date order, then 
> you could use a HitCollector which adjusts scores according 
> to the document number, since document numbers increase as 
> you add to the index.
> 
> If you're not adding things in date order, then you can, when 
> you open the index, build an array mapping document numbers 
> to integer dates. 
> Then your hit collector can use this to either boost or sort 
> hits by date.
> 
> Or you could add a "month" or "week" field to documents, then 
> add it as a clause to your queries with a boost.  Then 
> documents matching the most recent week(s) and/or month(s) 
> would get the boost.
> 
> Doug

Interesting.  I implemented an approach which boosted based on the number of months in the past, and
after tweaking the boost amounts, it seems to do the job. I do a fresh reindex every night (since
the indexing process takes no time at all... unlike our old search solution!)

I read content for the index from different sources. Sometimes the source gives me documents loosely
in date order, but not all of them. So, it seems that one of the other approaches should be taken
(adding a month/week field etc).  I should look more into the HitCollector and see how it can help
me.

The other issue I have is that I would like to prioritize the title field.  At the moment I am lazy
and add the title to the body (contents = title + body) which seems to be OK... however sometimes
something that mentions the search term in the title should appear higher up in the pecking order.

I am using the QueryParser (subclassed to disallow wildcards etc) to do the dirty work for me.
Should I get away from this and manage the queries myself (and run a Multi against the title field
as well as the contents?

Thanks for the great feedback,

Dion


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 22:28:06 2003
Return-Path: 
 <lucene-user-return-6295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82898 invoked from network); 1 Dec 2003 22:28:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:28:06 -0000
Received: (qmail 97703 invoked by uid 500); 1 Dec 2003 22:27:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97616 invoked by uid 500); 1 Dec 2003 22:27:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97591 invoked from network); 1 Dec 2003 22:27:48 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:27:48 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with SMTP
          id <2003120122275301100no675e>; Mon, 1 Dec 2003 22:27:54 +0000
Message-ID: <3FCBC068.8040600@lucene.com>
Date: Mon, 01 Dec 2003 14:27:52 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Dates and others
References: <E1AQwIG-0006sL-PU@server1070.gisol.com>
In-Reply-To: <E1AQwIG-0006sL-PU@server1070.gisol.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dion Almaer wrote:
> Interesting.  I implemented an approach which boosted based on the number of months in the past, and
> after tweaking the boost amounts, it seems to do the job. I do a fresh reindex every night (since
> the indexing process takes no time at all... unlike our old search solution!)

If you're reindexing every night, then document boosting should work 
well.  The other approaches I mentioned would only be required if you 
can't afford to re-index frequently.

> I read content for the index from different sources. Sometimes the source gives me documents loosely
> in date order, but not all of them. So, it seems that one of the other approaches should be taken
> (adding a month/week field etc).  I should look more into the HitCollector and see how it can help
> me.

I wouldn't bother to pursue these approaches.  Document boosting should 
work well for you, since you're reindexing.

> The other issue I have is that I would like to prioritize the title field.  At the moment I am lazy
> and add the title to the body (contents = title + body) which seems to be OK... however sometimes
> something that mentions the search term in the title should appear higher up in the pecking order.
> 
> I am using the QueryParser (subclassed to disallow wildcards etc) to do the dirty work for me.
> Should I get away from this and manage the queries myself (and run a Multi against the title field
> as well as the contents?

A separate title field will solve this for you.  You can, as you 
suggest, boost title clauses at query time.  Alternately, you could 
boost title fields at index time, although that's less flexible.

Note that if you put titles in a separate field and search both the 
title and the body field then title matches will tend to be naturally 
boosted, since titles tend to be shorter than bodies and hence are less 
normalized.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 22:30:29 2003
Return-Path: 
 <lucene-user-return-6296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84428 invoked from network); 1 Dec 2003 22:30:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:30:29 -0000
Received: (qmail 5921 invoked by uid 500); 1 Dec 2003 22:30:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5886 invoked by uid 500); 1 Dec 2003 22:30:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5873 invoked from network); 1 Dec 2003 22:30:11 -0000
Received: from unknown (HELO localhost.localdomain) (12.43.53.195)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:30:11 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hB1MUHLr006349
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 14:30:17 -0800
Message-ID: <3FCBC0F9.9060601@newsmonster.org>
Date: Mon, 01 Dec 2003 14:30:17 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
References: <3FCBB4E8.7080309@newsmonster.org>
 <20031201215823.GR30893@rlx11.zapatec.com>
In-Reply-To: <20031201215823.GR30893@rlx11.zapatec.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/alternative;
 boundary="------------050002000705030007050508"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------050002000705030007050508
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Dror Matalon wrote:

>On Mon, Dec 01, 2003 at 01:38:48PM -0800, Kevin A. Burton wrote:
>  
>
>>Would there be any performance improvement in query throughput and 
>>latency if locking were disabled for readonly indexes?
>>
>>It doesnt' seem like it makes sense to worry about locking if you know 
>>for SURE that the index will NEVER be updated again. 
>>
>>I'm noticing this problem now.  We are running a live indexer which does 
>>a commit every N documents (right now 100,000) and then swaps the new 
>>index into the system live.  This index is never again updated and we 
>>use a multisearcher.  We then do index merges after a while into new 
>>indexes to keep performance high and reduce the number of indexes.
>>    
>>
>
>Sounds quite familiar. One question though, when you say "swaps" the new
>index, what do you mean? It's one area where locking might matter. If
>you just use a multisearcher and add the new index I'm guessing that it
>should work fine.
>
It's a safe operation.. It does a directory rename and then is added to 
the multi-searcher. It's sychronized.. and 100% safe ;)

>>I would assume that removing this lock could increase performance 
>>especially to allow multiple concurrent searches on the same data.
>>    
>>
>
>There was talk about providing that in an upcoming version. Until then
>you can try RODirectory:
>	http://www.csita.unige.it/software/free/lucene/
>  
>
Cool.. thanks.

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------050002000705030007050508--


From MAILER-DAEMON Mon Dec  1 22:40:47 2003
Return-Path: 
 <lucene-user-return-6297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89453 invoked from network); 1 Dec 2003 22:40:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:40:47 -0000
Received: (qmail 16549 invoked by uid 500); 1 Dec 2003 22:40:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16519 invoked by uid 500); 1 Dec 2003 22:40:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16506 invoked from network); 1 Dec 2003 22:40:29 -0000
Received: from unknown (HELO localhost.localdomain) (12.43.53.195)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:40:29 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id hB1MeaLr006611
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 14:40:36 -0800
Message-ID: <3FCBC364.2080100@newsmonster.org>
Date: Mon, 01 Dec 2003 14:40:36 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
References: <3FCBB4E8.7080309@newsmonster.org>
 <20031201215823.GR30893@rlx11.zapatec.com>
In-Reply-To: <20031201215823.GR30893@rlx11.zapatec.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/alternative;
 boundary="------------030307020606010305030508"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------030307020606010305030508
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Dror Matalon wrote:

>>I would assume that removing this lock could increase performance 
>>especially to allow multiple concurrent searches on the same data.
>>    
>>
>
>There was talk about providing that in an upcoming version. Until then
>you can try RODirectory:
>	http://www.csita.unige.it/software/free/lucene/
>  
>
Looking at the source of FSDirectory it seem easy enough to add a 
property to disable indexes. 

This way if you wanted to search a directory and you new it was 100% 
necessary to search it readonly you could go ahead and do it without 
having to write lock files. 

I will write some unit tests to see what the performance is here.  It 
should be trivial to create an index of a few hundred megs and then run 
about 200k queries across it with 30 threads or so... then disable locks 
and see what the total time spent was...

If it's substantial I think it makes sense to make this contribution :)

Kevin

-- 
    NewsMonster - http://www.newsmonster.org/

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------030307020606010305030508--


From MAILER-DAEMON Mon Dec  1 22:53:02 2003
Return-Path: 
 <lucene-user-return-6298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93828 invoked from network); 1 Dec 2003 22:53:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:53:02 -0000
Received: (qmail 35474 invoked by uid 500); 1 Dec 2003 22:52:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35446 invoked by uid 500); 1 Dec 2003 22:52:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35424 invoked from network); 1 Dec 2003 22:52:43 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:52:43 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id C635C5D22
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 14:52:50 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB1Mqowr053655
	for lucene-user@jakarta.apache.org; Mon, 1 Dec 2003 14:52:50 -0800 (PST)
	(envelope-from dror)
Date: Mon, 1 Dec 2003 14:52:50 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
Message-ID: <20031201225250.GT30893@rlx11.zapatec.com>
References: <3FCBB4E8.7080309@newsmonster.org>
 <20031201215823.GR30893@rlx11.zapatec.com> <3FCBC364.2080100@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FCBC364.2080100@newsmonster.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Let us know what you find out. I would guess that the gains are not
going to be that spectacular. Creating and deleting files should be
"cheap" operations in a modern OS. Mainly when you compare these to the
costs of openning a new index and populating various caches.
But let us know what you find.

Regards,

Dror

On Mon, Dec 01, 2003 at 02:40:36PM -0800, Kevin A. Burton wrote:
> Dror Matalon wrote:
> 
> >>I would assume that removing this lock could increase performance 
> >>especially to allow multiple concurrent searches on the same data.
> >>   
> >>
> >
> >There was talk about providing that in an upcoming version. Until then
> >you can try RODirectory:
> >	http://www.csita.unige.it/software/free/lucene/
> > 
> >
> Looking at the source of FSDirectory it seem easy enough to add a 
> property to disable indexes. 
> 
> This way if you wanted to search a directory and you new it was 100% 
> necessary to search it readonly you could go ahead and do it without 
> having to write lock files. 
> 
> I will write some unit tests to see what the performance is here.  It 
> should be trivial to create an index of a few hundred megs and then run 
> about 200k queries across it with 30 threads or so... then disable locks 
> and see what the total time spent was...
> 
> If it's substantial I think it makes sense to make this contribution :)
> 
> Kevin
> 
> -- 
>    NewsMonster - http://www.newsmonster.org/
> 
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM - sfburtonator,  Web - http://www.peerfear.org/
> GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 22:57:57 2003
Return-Path: 
 <lucene-user-return-6299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95499 invoked from network); 1 Dec 2003 22:57:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 22:57:57 -0000
Received: (qmail 42188 invoked by uid 500); 1 Dec 2003 22:57:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41993 invoked by uid 500); 1 Dec 2003 22:57:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41980 invoked from network); 1 Dec 2003 22:57:39 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 1 Dec 2003 22:57:39 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id F15705D22
	for <lucene-user@jakarta.apache.org>; Mon,  1 Dec 2003 14:57:45 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB1Mvjjq053664
	for lucene-user@jakarta.apache.org; Mon, 1 Dec 2003 14:57:45 -0800 (PST)
	(envelope-from dror)
Date: Mon, 1 Dec 2003 14:57:45 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: disable locks on read only indexes (performance improvement?)
Message-ID: <20031201225745.GU30893@rlx11.zapatec.com>
References: <3FCBB4E8.7080309@newsmonster.org> <3FCBBC6F.4000306@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FCBBC6F.4000306@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So, the lock is set, the segments file is opened, all the files in the
segments file are opened and then the lock is released? Is that correct?
And we're relying on the OS to keep the file handles around even if the
files are deleted under us? If so, I'm impressed that this is portable.

Dror

On Mon, Dec 01, 2003 at 02:10:55PM -0800, Doug Cutting wrote:
> Kevin A. Burton wrote:
> >Would there be any performance improvement in query throughput and 
> >latency if locking were disabled for readonly indexes?
> 
> The locks are only consulted when opening a new IndexReader.  I doubt 
> very much that you're doing this often enough for this to be significant.
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 23:31:03 2003
Return-Path: 
 <lucene-user-return-6300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9205 invoked from network); 1 Dec 2003 23:31:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 23:31:03 -0000
Received: (qmail 73419 invoked by uid 500); 1 Dec 2003 23:30:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73392 invoked by uid 500); 1 Dec 2003 23:30:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73379 invoked from network); 1 Dec 2003 23:30:44 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 1 Dec 2003 23:30:44 -0000
Received: (cpmta 7144 invoked from network); 1 Dec 2003 15:30:51 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 1 Dec 2003 15:30:51 -0800
X-Sent: 1 Dec 2003 23:30:51 GMT
Date: Mon, 1 Dec 2003 18:30:58 -0500
Subject: Re: Help with Searching indexes from a web app (Lucene 1.3 rc2)
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E8@nwb-corpmail.microfocus.com>
Message-Id: <6A8409F5-2456-11D8-8240-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, reindex with the new API as well.  There are likely  
incompatibilities in the index format.


On Monday, December 1, 2003, at 11:21  AM, Iain Young wrote:

> Note, that I've just tried the example webapp supplied with Lucene,  
> and I
> appear to be having exactly the same problem with that. The 1.2 version
> works ok, but the 1.3 version is displaying a path not found error.
>
> Are there any known incompatibilities with certain versions of Tomcat  
> (I'm
> currently using version 4.0.3)
>
> Thanks,
> Iain
>
> -----Original Message-----
> From: Iain Young [mailto:Iain.Young@microfocus.com]
> Sent: 01 December 2003 15:40
> To: 'lucene-user@jakarta.apache.org'
> Subject: Help with Searching indexes from a web app (Lucene 1.3 rc2)
>
>
>> Hi folks.
>>
>> I'm new to Lucene so this may be an obvious questions, but I am having
>> problems with Lucene 1.3-rc2. I've got a bit of code which looks  
>> something
>> like this....
>>
>> public static void getSearchResults(String searchString, String  
>> indexDir)
>> {
>>     try
>>     {
>>         Searcher searcher = new IndexSearcher(indexDir);
>>         .....
>>         etc...
>>         .....
>>     }
>>     catch (Exception ex)
>>     {
>>     }
>> }
>>
>> I'm calling it to from a web application (servlet) running in tomcat  
>> in
>> conjunction with struts and velocity. If I use the Lucene 1.2 binary
>> release, it all works fine and I get the search results ok. However,  
>> when
>> I replace the 1.2 jar file with the 1.3-rc2 jat file,  (leaving all  
>> of my
>> code exactly the same) it stops working, and I get a path not found
>> exception being thrown.
>>
>> I've narrowed it down to the IndexReader.open(final Directory  
>> directory)
>> method. Even if I pass a valid Directory object into this (created by
>> FSDirectory), it just seems to throw the exception, (even though I  
>> know
>> the directory object is not null etc). The bizarre thing is that this
>> problem only seems to occur when I run it from the web application.  
>> If I
>> invoke the same code from the command line, it works ok, (even though  
>> I'm
>> using the same string for the index dir).
>>
>> Anyone got any ideas? (I want to use 1.3 because I want to exploit  
>> some of
>> the newer features). Does running from within a web application do
>> something strange with the paths, even though the strings I'm using  
>> are
>> fully qualified?
>>
>> Thanks for your help,
>>
>> Iain Young
>> http://www.microfocus.com
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> _______________________________________________________________________ 
> _
> This e-mail has been scanned for viruses by MCI's Internet Managed  
> Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> _______________________________________________________________________ 
> _
>
> _______________________________________________________________________ 
> _
> This e-mail has been scanned for viruses by MCI's Internet Managed  
> Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> _______________________________________________________________________ 
> _
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 18:33:19 2003
Return-Path: 
 <lucene-user-return-6288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69235 invoked from network); 1 Dec 2003 18:33:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 18:33:19 -0000
Received: (qmail 84262 invoked by uid 500); 1 Dec 2003 18:33:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84214 invoked by uid 500); 1 Dec 2003 18:33:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84143 invoked from network); 1 Dec 2003 18:32:59 -0000
Received: from unknown (HELO smtpzilla2.xs4all.nl) (194.109.127.138)
  by daedalus.apache.org with SMTP; 1 Dec 2003 18:32:59 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id hB1IX2Kf096660
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 19:33:02 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Real Boolean Model in Lucene?
Date: Mon, 1 Dec 2003 19:33:16 -0800
User-Agent: KMail/1.5.4
References: <6205.1070280664@www27.gmx.net>
In-Reply-To: <6205.1070280664@www27.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312011933.16886.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ralph,

On Monday 01 December 2003 04:11, ambiesense@gmx.de wrote:
> Hi,
>
> is it possible to use a real boolean model in lucene for searching. When
> one is using the Queryparser with a boolean query (i.e. "dog AND horse")
> one does get a list of documents from the Hits object. However these
> documents have a ranking (score).
>
> My Question: Does Lucene use TF/IDF for getting this? (which would mean it
> does not use the boolean model for the boolean query...)
>
> How can one use a boolean model search, where the outcome are all score=1 ?
> Example?

You can use the low level scoring API, which simply enumerates all boolean
hits. It also gives you the score, but you can just ignore that if you want.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searcher.html
Use the search() method with a HitCollector, and provide you own HitCollector.

When you do this avoid retrieving documents during the search, retrieve docs
afterwards. Retrieving docs during search would cause unwanted disk head seeks
from the terms index to the stored fields and back.
It is also preferable to retrieve docs in the order that you collect them, ie. independent
of the score.
Even so, retrieving  documents normally takes more time than collecting them.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  1 18:45:33 2003
Return-Path: 
 <lucene-user-return-6289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75824 invoked from network); 1 Dec 2003 18:45:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 1 Dec 2003 18:45:33 -0000
Received: (qmail 670 invoked by uid 500); 1 Dec 2003 18:45:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 392 invoked by uid 500); 1 Dec 2003 18:45:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 377 invoked from network); 1 Dec 2003 18:45:20 -0000
Received: from unknown (HELO smtpzilla5.xs4all.nl) (194.109.127.141)
  by daedalus.apache.org with SMTP; 1 Dec 2003 18:45:20 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla5.xs4all.nl (8.12.9/8.12.9) with ESMTP id hB1IjNZv045014
	for <lucene-user@jakarta.apache.org>; Mon, 1 Dec 2003 19:45:23 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: How to change similarity measure...
Date: Mon, 1 Dec 2003 19:45:37 -0800
User-Agent: KMail/1.5.4
References: <4997.1070285899@www41.gmx.net>
In-Reply-To: <4997.1070285899@www41.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312011945.37490.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 01 December 2003 05:38, Ralph wrote:
> Hi,
>
> does somebody has an example of how to use another similarity class
> implementation for searching? Assuming I have implemented MySimilarity
>
> class MySimilarity implements Similarity{ ....
>
> how do I have to plug it in to acutally use it for a search in a way that I
> have to program as least as possible :-) ?

Try inheriting from DefaultSimilarity.

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 04:54:31 2003
Return-Path: 
 <lucene-user-return-6301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30035 invoked from network); 2 Dec 2003 04:54:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 04:54:31 -0000
Received: (qmail 40735 invoked by uid 500); 2 Dec 2003 04:54:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40709 invoked by uid 500); 2 Dec 2003 04:54:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40693 invoked from network); 2 Dec 2003 04:54:06 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 2 Dec 2003 04:54:06 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1AR2YC-0005tf-P2
	for lucene-user@jakarta.apache.org; Mon, 01 Dec 2003 21:54:16 -0700
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Dates and others
Date: Mon, 1 Dec 2003 21:55:56 -0700
User-Agent: KMail/1.4.3
References: <E1AQwIG-0006sL-PU@server1070.gisol.com>
In-Reply-To: <E1AQwIG-0006sL-PU@server1070.gisol.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200312012155.56694.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 01 December 2003 15:13, Dion Almaer wrote:
...
> Interesting.  I implemented an approach which boosted based on the number
> of months in the past, and after tweaking the boost amounts, it seems to do
> the job. I do a fresh reindex every night (since the indexing process takes
> no time at all... unlike our old search solution!)

This sounds interesting, as I have been thinking of what's the best way
to boost newer documents. Can you share some of your experience regarding 
boost values that seemed to make sense? In my case, CMS I'm working on stores 
support documentation for software/hardware, meaning that content is highly 
time-sensitive (ie. documents "decay" pretty quickly).

Since the system is already doing both incremental reindexing, and nightly 
full reindexing (latter to make sure that even if temporarily some changed 
content was not [fully] reindexed, it eventually gets indexed properly), I 
can fairly easily add boosting I think.

On a related note, it would also be nice if there was a way to start 
categorizing general "hot topics" for Lucene developers; it seems like there 
are about half a dozen areas where there's lots of interest for improvements 
(most of them related to ranking). If so, perhaps there could be more 
specific discussion groups, and also perhaps web pages summarizing some of 
discussions, consensus achieved, even if there's no code to show for it?

-+ Tatu +-

>
> I read content for the index from different sources. Sometimes the source
> gives me documents loosely in date order, but not all of them. So, it seems
> that one of the other approaches should be taken (adding a month/week field
> etc).  I should look more into the HitCollector and see how it can help me.
>
> The other issue I have is that I would like to prioritize the title field. 
> At the moment I am lazy and add the title to the body (contents = title +
> body) which seems to be OK... however sometimes something that mentions the
> search term in the title should appear higher up in the pecking order.
>
> I am using the QueryParser (subclassed to disallow wildcards etc) to do the
> dirty work for me. Should I get away from this and manage the queries
> myself (and run a Multi against the title field as well as the contents?
>
> Thanks for the great feedback,
>
> Dion
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 09:50:14 2003
Return-Path: 
 <lucene-user-return-6302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17033 invoked from network); 2 Dec 2003 09:50:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 09:50:14 -0000
Received: (qmail 5225 invoked by uid 500); 2 Dec 2003 09:49:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5047 invoked by uid 500); 2 Dec 2003 09:49:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5034 invoked from network); 2 Dec 2003 09:49:53 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 2 Dec 2003 09:49:53 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id JAA05175
	for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 09:50:01 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003120209500000784
 for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 09:50:00 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDJ850L>; Tue, 2 Dec 2003 09:45:13 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019E9@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Help with Searching indexes from a web app (Lucene 1.3 rc2)
Date: Tue, 2 Dec 2003 09:45:10 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, I've fixed the problem. 

I've upgraded tomcat to version 4.1.29 and it's all working again now,
(using exactly the same tomcat configuration etc as before). Seems as though
there is a compatibility problem of some sort with tomcat 4.0.3.

I am using the basic tomcat security on the webapp, but I wouldn't have
expected this to cause the problem, especially seeing as when I upgraded
tomcat to 4.1.29 the problem went away, (using the same security model).
Also, if it was a security problem, I'd had expected it to have trouble when
creating the indexes, not just when searching them.

At least it's working now....

Thanks,
Iain

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: 01 December 2003 23:31
To: Lucene Users List
Subject: Re: Help with Searching indexes from a web app (Lucene 1.3 rc2)


Also, reindex with the new API as well.  There are likely  
incompatibilities in the index format.


On Monday, December 1, 2003, at 11:21  AM, Iain Young wrote:

> Note, that I've just tried the example webapp supplied with Lucene,  
> and I
> appear to be having exactly the same problem with that. The 1.2 version
> works ok, but the 1.3 version is displaying a path not found error.
>
> Are there any known incompatibilities with certain versions of Tomcat  
> (I'm
> currently using version 4.0.3)
>
> Thanks,
> Iain
>
> -----Original Message-----
> From: Iain Young [mailto:Iain.Young@microfocus.com]
> Sent: 01 December 2003 15:40
> To: 'lucene-user@jakarta.apache.org'
> Subject: Help with Searching indexes from a web app (Lucene 1.3 rc2)
>
>
>> Hi folks.
>>
>> I'm new to Lucene so this may be an obvious questions, but I am having
>> problems with Lucene 1.3-rc2. I've got a bit of code which looks  
>> something
>> like this....
>>
>> public static void getSearchResults(String searchString, String  
>> indexDir)
>> {
>>     try
>>     {
>>         Searcher searcher = new IndexSearcher(indexDir);
>>         .....
>>         etc...
>>         .....
>>     }
>>     catch (Exception ex)
>>     {
>>     }
>> }
>>
>> I'm calling it to from a web application (servlet) running in tomcat  
>> in
>> conjunction with struts and velocity. If I use the Lucene 1.2 binary
>> release, it all works fine and I get the search results ok. However,  
>> when
>> I replace the 1.2 jar file with the 1.3-rc2 jat file,  (leaving all  
>> of my
>> code exactly the same) it stops working, and I get a path not found
>> exception being thrown.
>>
>> I've narrowed it down to the IndexReader.open(final Directory  
>> directory)
>> method. Even if I pass a valid Directory object into this (created by
>> FSDirectory), it just seems to throw the exception, (even though I  
>> know
>> the directory object is not null etc). The bizarre thing is that this
>> problem only seems to occur when I run it from the web application.  
>> If I
>> invoke the same code from the command line, it works ok, (even though  
>> I'm
>> using the same string for the index dir).
>>
>> Anyone got any ideas? (I want to use 1.3 because I want to exploit  
>> some of
>> the newer features). Does running from within a web application do
>> something strange with the paths, even though the strings I'm using  
>> are
>> fully qualified?
>>
>> Thanks for your help,
>>
>> Iain Young
>> http://www.microfocus.com
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> _______________________________________________________________________ 
> _
> This e-mail has been scanned for viruses by MCI's Internet Managed  
> Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> _______________________________________________________________________ 
> _
>
> _______________________________________________________________________ 
> _
> This e-mail has been scanned for viruses by MCI's Internet Managed  
> Scanning
> Services - powered by MessageLabs. For further information visit
> http://www.mci.com
> _______________________________________________________________________ 
> _
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 11:35:56 2003
Return-Path: 
 <lucene-user-return-6303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68624 invoked from network); 2 Dec 2003 11:35:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 11:35:56 -0000
Received: (qmail 15177 invoked by uid 500); 2 Dec 2003 11:35:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15065 invoked by uid 500); 2 Dec 2003 11:35:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15052 invoked from network); 2 Dec 2003 11:35:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 2 Dec 2003 11:35:50 -0000
Received: (cpmta 3545 invoked from network); 2 Dec 2003 03:35:49 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 2 Dec 2003 03:35:49 -0800
X-Sent: 2 Dec 2003 11:35:49 GMT
Date: Tue, 2 Dec 2003 06:35:57 -0500
Subject: Re: Dates and others
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <200312012155.56694.tatu@hypermall.net>
Message-Id: <B22F8264-24BB-11D8-9A63-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, December 1, 2003, at 11:55  PM, Tatu Saloranta wrote:
> On a related note, it would also be nice if there was a way to start
> categorizing general "hot topics" for Lucene developers; it seems like 
> there
> are about half a dozen areas where there's lots of interest for 
> improvements
> (most of them related to ranking). If so, perhaps there could be more
> specific discussion groups, and also perhaps web pages summarizing 
> some of
> discussions, consensus achieved, even if there's no code to show for 
> it?

I agree.

Sounds like the perfect solution is a wiki!  Just happens we have one:

	http://nagoya.apache.org/wiki/apachewiki.cgi?LuceneProjectPages

Have at it!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 12:21:31 2003
Return-Path: 
 <lucene-user-return-6304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85524 invoked from network); 2 Dec 2003 12:21:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 12:21:31 -0000
Received: (qmail 82660 invoked by uid 500); 2 Dec 2003 12:21:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82629 invoked by uid 500); 2 Dec 2003 12:21:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82616 invoked from network); 2 Dec 2003 12:21:25 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 2 Dec 2003 12:21:25 -0000
Message-ID: <20031202122125.23786.qmail@web12708.mail.yahoo.com>
Received: from [194.152.216.171] by web12708.mail.yahoo.com via HTTP;
 Tue, 02 Dec 2003 04:21:25 PST
Date: Tue, 2 Dec 2003 04:21:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: disable locks on read only indexes (performance improvement?)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031201225745.GU30893@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Dror Matalon <dror@zapatec.com> wrote:
> So, the lock is set, the segments file is opened, all the files in
> the
> segments file are opened and then the lock is released? Is that
> correct?

Yes.
See IndexReader.

> And we're relying on the OS to keep the file handles around even if
> the
> files are deleted under us?

Si.

Otis


> On Mon, Dec 01, 2003 at 02:10:55PM -0800, Doug Cutting wrote:
> > Kevin A. Burton wrote:
> > >Would there be any performance improvement in query throughput and
> 
> > >latency if locking were disabled for readonly indexes?
> > 
> > The locks are only consulted when opening a new IndexReader.  I
> doubt 
> > very much that you're doing this often enough for this to be
> significant.
> > 
> > Doug
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 12:34:49 2003
Return-Path: 
 <lucene-user-return-6305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90375 invoked from network); 2 Dec 2003 12:34:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 12:34:49 -0000
Received: (qmail 97162 invoked by uid 500); 2 Dec 2003 12:34:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97122 invoked by uid 500); 2 Dec 2003 12:34:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97084 invoked from network); 2 Dec 2003 12:34:38 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 2 Dec 2003 12:34:38 -0000
Message-ID: <20031202123439.20520.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.171] by web12706.mail.yahoo.com via HTTP;
 Tue, 02 Dec 2003 04:34:39 PST
Date: Tue, 2 Dec 2003 04:34:39 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: New Lucene-powered Website
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <bq4nch$h1$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Could you add a Lucene logo somewhere on your search results, as noted
here:
http://jakarta.apache.org/lucene/docs/powered.html ?

Thanks!
Otis


--- Ulrich Mayring <ulim@denic.de> wrote:
> Hello,
> 
> we (DENIC) are the world's second largest domain registry (.de-zone
> has 
> almost 6.9 million domains) and are using Lucene to index and search
> our 
> website in a high-traffic scenario. Most of our web pages are
> available 
> in English in addition to our native language German. If you want to
> try 
> our Lucene-based search engine, please start here:
> 
> http://www.denic.de/en/special/index.jsp
> 
> Use the input field on the page to search our website. Don't use the 
> input field at the top right, that is only for searching domains in
> our 
> domain database, it has nothing to do with Lucene.
> 
> The indexes for German and English are seperate, so you should find
> only 
> English pages from that page.
> 
> A somewhat interesting feature is the summarizer, on the results page
> 
> you'll get a short summary of the page. These are not hand-written 
> blurbs, rather they are generated automatically from the HTML pages
> at 
> indexing time. I'd be especially interested in improvement
> suggestions 
> in this area.
> 
> Naturally, the automatically generated texts don't have the same
> quality 
> as hand-written ones. But they're better than nothing and in my eyes 
> more useful than Google-style excerpts. How many times has it
> happened 
> to you that the Google excerpt doesn't really tell you anything,
> because 
> it's totally out of context? Summaries tell you what the whole page
> is 
> about, irregardless of the context within which your search terms may
> 
> appear. After reading the summary you should (hopefully) be able to 
> decide whether the page contains the info you're looking for.
> Comments 
> welcome!
> 
> We're using the snowball stemmers/analyzers for German and English, 
> custom stopword lists and the HTML parser from the Sourceforge 
> htmlparser project. Apart from that it's vanilla Lucene.
> 
> cheers,
> 
> Ulrich
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 12:43:43 2003
Return-Path: 
 <lucene-user-return-6306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94027 invoked from network); 2 Dec 2003 12:43:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 12:43:43 -0000
Received: (qmail 8596 invoked by uid 500); 2 Dec 2003 12:43:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8354 invoked by uid 500); 2 Dec 2003 12:43:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8341 invoked from network); 2 Dec 2003 12:43:36 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 2 Dec 2003 12:43:36 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AR9sO-0007PF-00
	for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 13:43:36 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AR9sM-0007P5-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 02 Dec 2003 13:43:34 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AR9sM-0000WR-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Tue, 02 Dec 2003 13:43:34 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: New Lucene-powered Website
Date: Tue, 02 Dec 2003 13:40:42 +0100
Lines: 9
Message-ID: <bqi1dm$1og$1@sea.gmane.org>
References: <bq4nch$h1$1@sea.gmane.org>
 <20031202123439.20520.qmail@web12706.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <20031202123439.20520.qmail@web12706.mail.yahoo.com>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> Could you add a Lucene logo somewhere on your search results, as noted
> here:
> http://jakarta.apache.org/lucene/docs/powered.html ?

Will suggest that to the powers that be :)

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 12:44:24 2003
Return-Path: 
 <lucene-user-return-6307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94388 invoked from network); 2 Dec 2003 12:44:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 12:44:24 -0000
Received: (qmail 11539 invoked by uid 500); 2 Dec 2003 12:44:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11513 invoked by uid 500); 2 Dec 2003 12:44:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11500 invoked from network); 2 Dec 2003 12:44:17 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 2 Dec 2003 12:44:17 -0000
Message-ID: <20031202124417.56448.qmail@web12701.mail.yahoo.com>
Received: from [194.152.216.171] by web12701.mail.yahoo.com via HTTP;
 Tue, 02 Dec 2003 04:44:17 PST
Date: Tue, 2 Dec 2003 04:44:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: New Lucene-powered Website
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <bqi1dm$1og$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok, let us know if you can add it.

Otis

--- Ulrich Mayring <ulim@denic.de> wrote:
> Otis Gospodnetic wrote:
> > Could you add a Lucene logo somewhere on your search results, as
> noted
> > here:
> > http://jakarta.apache.org/lucene/docs/powered.html ?
> 
> Will suggest that to the powers that be :)
> 
> Ulrich
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 12:57:58 2003
Return-Path: 
 <lucene-user-return-6308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99455 invoked from network); 2 Dec 2003 12:57:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 12:57:58 -0000
Received: (qmail 24539 invoked by uid 500); 2 Dec 2003 12:57:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24473 invoked by uid 500); 2 Dec 2003 12:57:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24460 invoked from network); 2 Dec 2003 12:57:51 -0000
Received: from unknown (HELO smtp21.singnet.com.sg) (165.21.101.201)
  by daedalus.apache.org with SMTP; 2 Dec 2003 12:57:51 -0000
Received: from HP29375324311 (tns02749.singnet.com.sg [165.21.190.179])
	by smtp21.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB2CviEj018419
	for <lucene-user@jakarta.apache.org>; Tue, 2 Dec 2003 20:57:50 +0800
Message-Id: <200312021257.hB2CviEj018419@smtp21.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: New Lucene-powered Website
Date: Tue, 2 Dec 2003 20:57:42 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <20031202123439.20520.qmail@web12706.mail.yahoo.com>
Thread-Index: AcO40LN0BMArE05kQViwAl6qQ+3UrQAApkEg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am very keen on using the New luceneweb. Has anyone managed to run luceneweb
successfully on Windows? 

The instructions in luceneweb seems to support unix more than windows. 

Anyone has the install instructions for windows to run luceneweb? I cannot even
see the first page when I start tomcat though I have the weblucene in the
webapps directory.

Can anyone help? Please.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Tuesday, December 02, 2003 8:35 PM
To: Lucene Users List
Subject: Re: New Lucene-powered Website

Could you add a Lucene logo somewhere on your search results, as noted
here:
http://jakarta.apache.org/lucene/docs/powered.html ?

Thanks!
Otis


--- Ulrich Mayring <ulim@denic.de> wrote:
> Hello,
> 
> we (DENIC) are the world's second largest domain registry (.de-zone 
> has almost 6.9 million domains) and are using Lucene to index and 
> search our website in a high-traffic scenario. Most of our web pages 
> are available in English in addition to our native language German. If 
> you want to try our Lucene-based search engine, please start here:
> 
> http://www.denic.de/en/special/index.jsp
> 
> Use the input field on the page to search our website. Don't use the 
> input field at the top right, that is only for searching domains in 
> our domain database, it has nothing to do with Lucene.
> 
> The indexes for German and English are seperate, so you should find 
> only English pages from that page.
> 
> A somewhat interesting feature is the summarizer, on the results page
> 
> you'll get a short summary of the page. These are not hand-written 
> blurbs, rather they are generated automatically from the HTML pages at 
> indexing time. I'd be especially interested in improvement suggestions 
> in this area.
> 
> Naturally, the automatically generated texts don't have the same 
> quality as hand-written ones. But they're better than nothing and in 
> my eyes more useful than Google-style excerpts. How many times has it 
> happened to you that the Google excerpt doesn't really tell you 
> anything, because it's totally out of context? Summaries tell you what 
> the whole page is about, irregardless of the context within which your 
> search terms may
> 
> appear. After reading the summary you should (hopefully) be able to 
> decide whether the page contains the info you're looking for.
> Comments
> welcome!
> 
> We're using the snowball stemmers/analyzers for German and English, 
> custom stopword lists and the HTML parser from the Sourceforge 
> htmlparser project. Apart from that it's vanilla Lucene.
> 
> cheers,
> 
> Ulrich
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 13:53:48 2003
Return-Path: 
 <lucene-user-return-6309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39135 invoked from network); 2 Dec 2003 13:53:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 13:53:48 -0000
Received: (qmail 28213 invoked by uid 500); 2 Dec 2003 13:52:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28186 invoked by uid 500); 2 Dec 2003 13:52:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28147 invoked from network); 2 Dec 2003 13:52:28 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 2 Dec 2003 13:52:28 -0000
Received: (cpmta 20117 invoked from network); 2 Dec 2003 05:52:29 -0800
Received: from 128.143.135.232 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 2 Dec 2003 05:52:29 -0800
X-Sent: 2 Dec 2003 13:52:29 GMT
Date: Tue, 2 Dec 2003 08:52:34 -0500
Subject: Re: New Lucene-powered Website
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031202123439.20520.qmail@web12706.mail.yahoo.com>
Message-Id: <C7E4A45E-24CE-11D8-A2D6-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, December 2, 2003, at 07:34  AM, Otis Gospodnetic wrote:
> Could you add a Lucene logo somewhere on your search results, as noted
> here:
> http://jakarta.apache.org/lucene/docs/powered.html ?

I thought we were going to loosen up the requirement to have the logo 
on a search results page?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 13:55:08 2003
Return-Path: 
 <lucene-user-return-6310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40044 invoked from network); 2 Dec 2003 13:55:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 13:55:08 -0000
Received: (qmail 40699 invoked by uid 500); 2 Dec 2003 13:54:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40672 invoked by uid 500); 2 Dec 2003 13:54:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40653 invoked from network); 2 Dec 2003 13:54:58 -0000
Received: from unknown (HELO web25204.mail.ukl.yahoo.com) (217.12.10.64)
  by daedalus.apache.org with SMTP; 2 Dec 2003 13:54:58 -0000
Message-ID: <20031202135458.73205.qmail@web25204.mail.ukl.yahoo.com>
Received: from [212.126.153.189] by web25204.mail.ukl.yahoo.com via HTTP;
 Tue, 02 Dec 2003 13:54:58 GMT
Date: Tue, 2 Dec 2003 13:54:58 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Ways to search indexes
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have just indexed a lot of news (nntp) postings.
I now have an index for each topic (a topic can have many newsgroups)

The index sizes are:

2.6G Current Affairs
2.4G Celebs
119M Recreation
3.0M Tech - Mac
2.4G Tech - Windows
936M Tech - Linux
702M Tech - Other
 96M Tech - Consoles

This is still only early stages so i haven't yet done any parsing, just
treating each doc as plain text.

Originally I was merging all these indexes together, but this is now
not feasible with new additions being made to each index as new
postings arrive.
I optimize each index at midnight.

What is the best way to allow users to query either just one index, or
the whole lot?

My prototype was making a system call from and running my java program
to print all the results to the screen. I know this isn't the best way
to do it :-)

I guess I need to write a server and periodically re-open the indexes
to see any changes?

Thank you for any help!

jt

________________________________________________________________________
Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
http://www.yahoo.co.uk/robbiewilliams

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 14:26:31 2003
Return-Path: 
 <lucene-user-return-6311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66749 invoked from network); 2 Dec 2003 14:26:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 14:26:31 -0000
Received: (qmail 46773 invoked by uid 500); 2 Dec 2003 14:26:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46599 invoked by uid 500); 2 Dec 2003 14:26:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46586 invoked from network); 2 Dec 2003 14:26:22 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 2 Dec 2003 14:26:22 -0000
Message-ID: <20031202142623.77676.qmail@web12701.mail.yahoo.com>
Received: from [194.152.216.171] by web12701.mail.yahoo.com via HTTP;
 Tue, 02 Dec 2003 06:26:23 PST
Date: Tue, 2 Dec 2003 06:26:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: New Lucene-powered Website
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <C7E4A45E-24CE-11D8-A2D6-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was discussion about it, yes.  I don't think we ever reached any
conclusions, and the powered.html still says 'include the logo'.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Tuesday, December 2, 2003, at 07:34  AM, Otis Gospodnetic wrote:
> > Could you add a Lucene logo somewhere on your search results, as
> noted
> > here:
> > http://jakarta.apache.org/lucene/docs/powered.html ?
> 
> I thought we were going to loosen up the requirement to have the logo
> 
> on a search results page?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 14:34:02 2003
Return-Path: 
 <lucene-user-return-6312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72240 invoked from network); 2 Dec 2003 14:34:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 14:34:02 -0000
Received: (qmail 66683 invoked by uid 500); 2 Dec 2003 14:33:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66653 invoked by uid 500); 2 Dec 2003 14:33:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66640 invoked from network); 2 Dec 2003 14:33:53 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 2 Dec 2003 14:33:53 -0000
content-class: urn:content-classes:message
Subject: RE: New Lucene-powered Website
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Date: Tue, 2 Dec 2003 09:32:53 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE69D@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: New Lucene-powered Website
Thread-Index: AcO44CBBtBcRp/o3QZy2U29QDV3P0wAAFYbA
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

This is the first time that I noticed this.

Is the 'powered by Lucene' a legal requirement?  Or just a suggestion?
Does it apply to any system embedding Lucene (web pages, applications, =
etc)?
That is not covered in the Apache Software License, I believe.

Just curious...

Tate



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, December 02, 2003 9:26 AM
To: Lucene Users List
Subject: Re: New Lucene-powered Website


There was discussion about it, yes.  I don't think we ever reached any
conclusions, and the powered.html still says 'include the logo'.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Tuesday, December 2, 2003, at 07:34  AM, Otis Gospodnetic wrote:
> > Could you add a Lucene logo somewhere on your search results, as
> noted
> > here:
> > http://jakarta.apache.org/lucene/docs/powered.html ?
>=20
> I thought we were going to loosen up the requirement to have the logo
>=20
> on a search results page?
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 14:42:13 2003
Return-Path: 
 <lucene-user-return-6313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76176 invoked from network); 2 Dec 2003 14:42:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 14:42:13 -0000
Received: (qmail 78724 invoked by uid 500); 2 Dec 2003 14:42:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78657 invoked by uid 500); 2 Dec 2003 14:42:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78628 invoked from network); 2 Dec 2003 14:42:00 -0000
Received: from unknown (HELO anchor-post-30.mail.demon.net) (194.217.242.88)
  by daedalus.apache.org with SMTP; 2 Dec 2003 14:42:00 -0000
Received: from selvaraj.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-30.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1ARBiz-000ONk-0U; Tue, 02 Dec 2003 14:42:01 +0000
Message-ID: <3FCCA4B4.7090306@searchblox.com>
Date: Tue, 02 Dec 2003 14:41:56 +0000
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>,
 lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SearchBlox is a J2EE search component that enables you to add search 
functionality to your applications, intranets or portals in a matter of 
minutes. SearchBlox uses Lucene Search API and features integrated HTTP 
and File System crawlers, support for different document formats, 
support for indexing and searching content in 15 languages and 
customizable search results, all controlled from a browser-based Admin 
Console.


Main features in this update:
=============================
- Asian language support. SearchBlox now supports Japanese, Chinese 
Simplified, Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any 
Servlet 2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides 
are available for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

	
The SearchBlox FREE Edition is available free of charge and can index up 
to 1000 HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:01:57 2003
Return-Path: 
 <lucene-user-return-6314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86279 invoked from network); 2 Dec 2003 15:01:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:01:57 -0000
Received: (qmail 14015 invoked by uid 500); 2 Dec 2003 15:01:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13988 invoked by uid 500); 2 Dec 2003 15:01:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13973 invoked from network); 2 Dec 2003 15:01:48 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:01:48 -0000
Received: from smail.uni-koeln.de (xdsl-195-14-204-187.netcologne.de
 [195.14.204.187])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hB2F1lBq006595
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 2 Dec 2003 16:01:48 +0100
Message-ID: <3FCCA91D.60300@smail.uni-koeln.de>
Date: Tue, 02 Dec 2003 16:00:45 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: export term-dokument-matrix
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,


i am currently working on my thesis in information processing in the 
humanities.

i am developping an extension for lucene, that integrates the user�s 
query history into the retrieval process.

i want to implement a neural network, that adapts to the users 
information need.
first, the application performs a full-text search on a metadata corpus.

q1: how can i modify the format of lucenes output, for example, adding 
the ranking value.

the user then selects the apparently most interesting documents (by it 
dc metadata). this second user-input should be used to adapt the neural 
network weights.

q2: is it possible to
	a:  reuse / generate a lucene term-document-matrix and
	b:  initialize the synapses of a nn with that matrix
	c:  does lucene provide any interface at that level of the 			 
information extraction process



until now, i am not entirely decided which neural network api i should 
use. joone, at a first glance, seems to be quite user friendly but 
integrate it into one�s own applications doesn�t, so that a more 
"customizeable" solution is needed.


thank you for any hint!


thomas kr�mer
university of cologne, germany




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:10:01 2003
Return-Path: 
 <lucene-user-return-6315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89858 invoked from network); 2 Dec 2003 15:10:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:10:01 -0000
Received: (qmail 32371 invoked by uid 500); 2 Dec 2003 15:09:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32343 invoked by uid 500); 2 Dec 2003 15:09:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32329 invoked from network); 2 Dec 2003 15:09:51 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:09:51 -0000
Received: (cpmta 21229 invoked from network); 2 Dec 2003 07:09:50 -0800
Received: from 128.143.135.232 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 2 Dec 2003 07:09:50 -0800
X-Sent: 2 Dec 2003 15:09:50 GMT
Date: Tue, 2 Dec 2003 10:09:57 -0500
Subject: Re: New Lucene-powered Website
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE629DE69D@sgges01.nstein.com>
Message-Id: <97430E30-24D9-11D8-A2D6-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Tuesday, December 2, 2003, at 09:32  AM, Tate Avery wrote:
> Hello,
>
> This is the first time that I noticed this.
>
> Is the 'powered by Lucene' a legal requirement?  Or just a suggestion?
> Does it apply to any system embedding Lucene (web pages, applications, 
> etc)?
> That is not covered in the Apache Software License, I believe.

It's only a (loose) "requirement" in order to be listed on the "powered 
by" page, that is all.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:18:29 2003
Return-Path: 
 <lucene-user-return-6316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93577 invoked from network); 2 Dec 2003 15:18:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:18:29 -0000
Received: (qmail 50553 invoked by uid 500); 2 Dec 2003 15:16:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50443 invoked by uid 500); 2 Dec 2003 15:16:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50348 invoked from network); 2 Dec 2003 15:16:44 -0000
Received: from unknown (HELO smtp22.singnet.com.sg) (165.21.101.202)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:16:44 -0000
Received: from HP29375324311 (hs05190.singnet.com.sg [165.21.198.15])
	by smtp22.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB2FGUsL015764;
	Tue, 2 Dec 2003 23:16:43 +0800
Message-Id: <200312021516.hB2FGUsL015764@smtp22.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
        <lucene-dev@jakarta.apache.org>
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
Date: Tue, 2 Dec 2003 23:16:27 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <3FCCA4B4.7090306@searchblox.com>
Thread-Index: AcO44+VD1FoP7kFZTqe/GRNhkT6bngAAy6Mg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wow. Bravo. This is a fantasic search component. Thank you for providing this
information. :-)

Three cheers! 

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com] 
Sent: Tuesday, December 02, 2003 10:42 PM
To: Lucene Users List; lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released

SearchBlox is a J2EE search component that enables you to add search
functionality to your applications, intranets or portals in a matter of minutes.
SearchBlox uses Lucene Search API and features integrated HTTP and File System
crawlers, support for different document formats, support for indexing and
searching content in 15 languages and customizable search results, all
controlled from a browser-based Admin Console.


Main features in this update:
=============================
- Asian language support. SearchBlox now supports Japanese, Chinese Simplified,
Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any Servlet
2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are available
for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

	
The SearchBlox FREE Edition is available free of charge and can index up to 1000
HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:43:08 2003
Return-Path: 
 <lucene-user-return-6317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7120 invoked from network); 2 Dec 2003 15:43:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:43:08 -0000
Received: (qmail 3210 invoked by uid 500); 2 Dec 2003 15:43:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3139 invoked by uid 500); 2 Dec 2003 15:43:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3042 invoked from network); 2 Dec 2003 15:43:00 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:43:00 -0000
Received: from HP29375324311 (hs05190.singnet.com.sg [165.21.198.15])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB2FgnAs030546;
	Tue, 2 Dec 2003 23:43:00 +0800
Message-Id: <200312021543.hB2FgnAs030546@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
        <lucene-dev@jakarta.apache.org>
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
Date: Tue, 2 Dec 2003 23:42:45 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <3FCCA4B4.7090306@searchblox.com>
Thread-Index: AcO44+VD1FoP7kFZTqe/GRNhkT6bngABog+Q
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Just a feedback.

SearchBlox can only search for html files. Will Searchblox support pdf, xml and
word documents in future? It will be perfect if it can support all document
types mentioned above.

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com] 
Sent: Tuesday, December 02, 2003 10:42 PM
To: Lucene Users List; lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released

SearchBlox is a J2EE search component that enables you to add search
functionality to your applications, intranets or portals in a matter of minutes.
SearchBlox uses Lucene Search API and features integrated HTTP and File System
crawlers, support for different document formats, support for indexing and
searching content in 15 languages and customizable search results, all
controlled from a browser-based Admin Console.


Main features in this update:
=============================
- Asian language support. SearchBlox now supports Japanese, Chinese Simplified,
Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any Servlet
2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are available
for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

	
The SearchBlox FREE Edition is available free of charge and can index up to 1000
HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:45:48 2003
Return-Path: 
 <lucene-user-return-6318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8574 invoked from network); 2 Dec 2003 15:45:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:45:48 -0000
Received: (qmail 6762 invoked by uid 500); 2 Dec 2003 15:45:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6660 invoked by uid 500); 2 Dec 2003 15:45:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6647 invoked from network); 2 Dec 2003 15:45:38 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:45:38 -0000
content-class: urn:content-classes:message
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Date: Tue, 2 Dec 2003 10:44:39 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE6A3@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SearchBlox J2EE Search Component Version 1.1 released
Thread-Index: AcO44+VD1FoP7kFZTqe/GRNhkT6bngABog+QAAAttCA=
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


If you buy it, apparently:
	http://www.searchblox.com/buy.html



-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Tuesday, December 02, 2003 10:43 AM
To: 'Lucene Users List'; lucene-dev@jakarta.apache.org
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released


Hi,

Just a feedback.

SearchBlox can only search for html files. Will Searchblox support pdf, =
xml and
word documents in future? It will be perfect if it can support all =
document
types mentioned above.

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com]=20
Sent: Tuesday, December 02, 2003 10:42 PM
To: Lucene Users List; lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released

SearchBlox is a J2EE search component that enables you to add search
functionality to your applications, intranets or portals in a matter of =
minutes.
SearchBlox uses Lucene Search API and features integrated HTTP and File =
System
crawlers, support for different document formats, support for indexing =
and
searching content in 15 languages and customizable search results, all
controlled from a browser-based Admin Console.


Main features in this update:
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
- Asian language support. SearchBlox now supports Japanese, Chinese =
Simplified,
Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any =
Servlet
2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are =
available
for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

=09
The SearchBlox FREE Edition is available free of charge and can index up =
to 1000
HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 15:59:40 2003
Return-Path: 
 <lucene-user-return-6319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16347 invoked from network); 2 Dec 2003 15:59:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 15:59:40 -0000
Received: (qmail 29003 invoked by uid 500); 2 Dec 2003 15:59:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28964 invoked by uid 500); 2 Dec 2003 15:59:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28891 invoked from network); 2 Dec 2003 15:59:28 -0000
Received: from unknown (HELO smtp24.singnet.com.sg) (165.21.101.204)
  by daedalus.apache.org with SMTP; 2 Dec 2003 15:59:28 -0000
Received: from HP29375324311 (hs05190.singnet.com.sg [165.21.198.15])
	by smtp24.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB2FxLQQ017570
	for <lucene-user@jakarta.apache.org>; Tue, 2 Dec 2003 23:59:28 +0800
Message-Id: <200312021559.hB2FxLQQ017570@smtp24.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
Date: Tue, 2 Dec 2003 23:59:18 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE629DE6A3@sgges01.nstein.com>
Thread-Index: AcO44+VD1FoP7kFZTqe/GRNhkT6bngABog+QAAAttCAAAIJDoA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does it support xml?  

-----Original Message-----
From: Tate Avery [mailto:tate.avery@nstein.com] 
Sent: Tuesday, December 02, 2003 11:45 PM
To: Lucene Users List
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released


If you buy it, apparently:
	http://www.searchblox.com/buy.html



-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Tuesday, December 02, 2003 10:43 AM
To: 'Lucene Users List'; lucene-dev@jakarta.apache.org
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released


Hi,

Just a feedback.

SearchBlox can only search for html files. Will Searchblox support pdf, xml and
word documents in future? It will be perfect if it can support all document
types mentioned above.

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com]
Sent: Tuesday, December 02, 2003 10:42 PM
To: Lucene Users List; lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released

SearchBlox is a J2EE search component that enables you to add search
functionality to your applications, intranets or portals in a matter of minutes.
SearchBlox uses Lucene Search API and features integrated HTTP and File System
crawlers, support for different document formats, support for indexing and
searching content in 15 languages and customizable search results, all
controlled from a browser-based Admin Console.


Main features in this update:
=============================
- Asian language support. SearchBlox now supports Japanese, Chinese Simplified,
Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any Servlet
2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are available
for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

	
The SearchBlox FREE Edition is available free of charge and can index up to 1000
HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 16:06:10 2003
Return-Path: 
 <lucene-user-return-6320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20437 invoked from network); 2 Dec 2003 16:06:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 16:06:10 -0000
Received: (qmail 37250 invoked by uid 500); 2 Dec 2003 16:06:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37121 invoked by uid 500); 2 Dec 2003 16:05:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37108 invoked from network); 2 Dec 2003 16:05:59 -0000
Received: from unknown (HELO smtpout.landmarkinfo.co.uk) (212.104.137.245)
  by daedalus.apache.org with SMTP; 2 Dec 2003 16:05:59 -0000
Received: from exmx02.corp.edrlandmark.net (exmx02.landmarkinfo.co.uk
 [192.168.2.234])
	by smtpout.landmarkinfo.co.uk (8.12.7/8.12.7) with ESMTP id hB2G1IGj026934
	for <lucene-user@jakarta.apache.org>; Tue, 2 Dec 2003 16:01:18 GMT
Received: from exmx01.corp.edrlandmark.net ([192.168.2.233]) by
 exmx02.corp.edrlandmark.net with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 2 Dec 2003 16:06:04 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
Date: Tue, 2 Dec 2003 16:06:04 -0000
Message-ID: 
 <506246B014AF4141BE5368F343E56A6802C1C8@exmx01.corp.edrlandmark.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SearchBlox J2EE Search Component Version 1.1 released
Thread-Index: AcO44+VD1FoP7kFZTqe/GRNhkT6bngABog+QAAAttCAAALb+kA==
From: "Ben Keeping" <Ben.Keeping@landmark-information.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 Dec 2003 16:06:04.0798 (UTC)
 FILETIME=[3043C1E0:01C3B8EE]
X-MailScanner-Information: Scanned By Landmark Information Group Please
 contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 8)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I am seriously impressed with that - very smooth looking, and easy to use .=
...

.... its a shame its quite pricey ...

-----Original Message-----
From: Tate Avery [mailto:tate.avery@nstein.com]
Sent: 02 December 2003 15:45
To: Lucene Users List
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released



If you buy it, apparently:
	http://www.searchblox.com/buy.html



-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg]
Sent: Tuesday, December 02, 2003 10:43 AM
To: 'Lucene Users List'; lucene-dev@jakarta.apache.org
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released


Hi,

Just a feedback.

SearchBlox can only search for html files. Will Searchblox support pdf, xml=
 and
word documents in future? It will be perfect if it can support all document
types mentioned above.

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com]=20
Sent: Tuesday, December 02, 2003 10:42 PM
To: Lucene Users List; lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.1 released

SearchBlox is a J2EE search component that enables you to add search
functionality to your applications, intranets or portals in a matter of min=
utes.
SearchBlox uses Lucene Search API and features integrated HTTP and File Sys=
tem
crawlers, support for different document formats, support for indexing and
searching content in 15 languages and customizable search results, all
controlled from a browser-based Admin Console.


Main features in this update:
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
- Asian language support. SearchBlox now supports Japanese, Chinese Simplif=
ied,
Chinese Traditional and Korean language content.
- Performance enhancements to search
- Improved Hit Highlighting

SearchBlox is available as a Web Archive (WAR) and is deployable on any Ser=
vlet
2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are availab=
le
for the following servers:

JBoss - http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html

=09
The SearchBlox FREE Edition is available free of charge and can index up to=
 1000
HTML documents.

The software can be downloaded from http://www.searchblox.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
This e-mail and any attachments may be confidential and/or legally
privileged. If you have received this e-mail and you are not a named
addressee, please inform Landmark Information Group on 01392 441700
and then delete the e-mail from your system. If you are not a named
addressee you must not use, disclose, distribute, copy, print or rely=20
on this e-mail. This email and any attachments have been scanned for
viruses and to the best of our knowledge are clean. To ensure=20
regulatory compliance and for the protection of our clients and=20
business, we may monitor and read e-mails sent to and from our=20
servers.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 16:35:53 2003
Return-Path: 
 <lucene-user-return-6321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35378 invoked from network); 2 Dec 2003 16:35:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 16:35:53 -0000
Received: (qmail 87071 invoked by uid 500); 2 Dec 2003 16:35:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87044 invoked by uid 500); 2 Dec 2003 16:35:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87031 invoked from network); 2 Dec 2003 16:35:40 -0000
Received: from unknown (HELO anchor-post-30.mail.demon.net) (194.217.242.88)
  by daedalus.apache.org with SMTP; 2 Dec 2003 16:35:40 -0000
Received: from selvaraj.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-30.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1ARDV0-000LFB-0U
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 16:35:42 +0000
Message-ID: <3FCCBF59.4040001@searchblox.com>
Date: Tue, 02 Dec 2003 16:35:37 +0000
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SearchBlox J2EE Search Component Version 1.1 released
References: <200312021559.hB2FxLQQ017570@smtp24.singnet.com.sg>
In-Reply-To: <200312021559.hB2FxLQQ017570@smtp24.singnet.com.sg>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No.

The formats supported by SearchBlox given here :

	http://www.searchblox.com/faqs/question.php?qstId=5


Tun Lin wrote:

> Hi,
> 
> Does it support xml?  
> 
> -----Original Message-----
> From: Tate Avery [mailto:tate.avery@nstein.com] 
> Sent: Tuesday, December 02, 2003 11:45 PM
> To: Lucene Users List
> Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
> 
> 
> If you buy it, apparently:
> 	http://www.searchblox.com/buy.html
> 
> 
> 
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: Tuesday, December 02, 2003 10:43 AM
> To: 'Lucene Users List'; lucene-dev@jakarta.apache.org
> Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
> 
> 
> Hi,
> 
> Just a feedback.
> 
> SearchBlox can only search for html files. Will Searchblox support pdf, xml and
> word documents in future? It will be perfect if it can support all document
> types mentioned above.
> 
> -----Original Message-----
> From: Robert Selvaraj [mailto:rselvaraj@searchblox.com]
> Sent: Tuesday, December 02, 2003 10:42 PM
> To: Lucene Users List; lucene-dev@jakarta.apache.org
> Subject: SearchBlox J2EE Search Component Version 1.1 released
> 
> SearchBlox is a J2EE search component that enables you to add search
> functionality to your applications, intranets or portals in a matter of minutes.
> SearchBlox uses Lucene Search API and features integrated HTTP and File System
> crawlers, support for different document formats, support for indexing and
> searching content in 15 languages and customizable search results, all
> controlled from a browser-based Admin Console.
> 
> 
> Main features in this update:
> =============================
> - Asian language support. SearchBlox now supports Japanese, Chinese Simplified,
> Chinese Traditional and Korean language content.
> - Performance enhancements to search
> - Improved Hit Highlighting
> 
> SearchBlox is available as a Web Archive (WAR) and is deployable on any Servlet
> 2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are available
> for the following servers:
> 
> JBoss - http://www.searchblox.com/gettingstarted_jboss.html
> Jetty - http://www.searchblox.com/gettingstarted_jetty.html
> JRun - http://www.searchblox.com/gettingstarted_jrun.html
> Pramati - http://www.searchblox.com/gettingstarted_pramati.html
> Resin - http://www.searchblox.com/gettingstarted_resin.html
> Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
> Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
> Websphere - http://www.searchblox.com/gettingstarted_websphere.html
> 
> 	
> The SearchBlox FREE Edition is available free of charge and can index up to 1000
> HTML documents.
> 
> The software can be downloaded from http://www.searchblox.com
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 16:51:35 2003
Return-Path: 
 <lucene-user-return-6322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47042 invoked from network); 2 Dec 2003 16:51:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 16:51:35 -0000
Received: (qmail 22198 invoked by uid 500); 2 Dec 2003 16:51:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22170 invoked by uid 500); 2 Dec 2003 16:51:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22157 invoked from network); 2 Dec 2003 16:51:22 -0000
Received: from unknown (HELO smtp24.singnet.com.sg) (165.21.101.204)
  by daedalus.apache.org with SMTP; 2 Dec 2003 16:51:22 -0000
Received: from HP29375324311 ([155.69.58.36])
	by smtp24.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB2GpHQQ006075
	for <lucene-user@jakarta.apache.org>; Wed, 3 Dec 2003 00:51:23 +0800
Message-Id: <200312021651.hB2GpHQQ006075@smtp24.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
Date: Wed, 3 Dec 2003 00:51:15 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <3FCCBF59.4040001@searchblox.com>
Thread-Index: AcO48ltOi76qUpAARn+PAL4m16GqAwAAhMyw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anyone knows a search engine that supports xml formats? 

-----Original Message-----
From: Robert Selvaraj [mailto:rselvaraj@searchblox.com] 
Sent: Wednesday, December 03, 2003 12:36 AM
To: Lucene Users List
Subject: Re: SearchBlox J2EE Search Component Version 1.1 released

No.

The formats supported by SearchBlox given here :

	http://www.searchblox.com/faqs/question.php?qstId=5


Tun Lin wrote:

> Hi,
> 
> Does it support xml?  
> 
> -----Original Message-----
> From: Tate Avery [mailto:tate.avery@nstein.com]
> Sent: Tuesday, December 02, 2003 11:45 PM
> To: Lucene Users List
> Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
> 
> 
> If you buy it, apparently:
> 	http://www.searchblox.com/buy.html
> 
> 
> 
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg]
> Sent: Tuesday, December 02, 2003 10:43 AM
> To: 'Lucene Users List'; lucene-dev@jakarta.apache.org
> Subject: RE: SearchBlox J2EE Search Component Version 1.1 released
> 
> 
> Hi,
> 
> Just a feedback.
> 
> SearchBlox can only search for html files. Will Searchblox support 
> pdf, xml and word documents in future? It will be perfect if it can 
> support all document types mentioned above.
> 
> -----Original Message-----
> From: Robert Selvaraj [mailto:rselvaraj@searchblox.com]
> Sent: Tuesday, December 02, 2003 10:42 PM
> To: Lucene Users List; lucene-dev@jakarta.apache.org
> Subject: SearchBlox J2EE Search Component Version 1.1 released
> 
> SearchBlox is a J2EE search component that enables you to add search 
> functionality to your applications, intranets or portals in a matter of
minutes.
> SearchBlox uses Lucene Search API and features integrated HTTP and 
> File System crawlers, support for different document formats, support 
> for indexing and searching content in 15 languages and customizable 
> search results, all controlled from a browser-based Admin Console.
> 
> 
> Main features in this update:
> =============================
> - Asian language support. SearchBlox now supports Japanese, Chinese 
> Simplified, Chinese Traditional and Korean language content.
> - Performance enhancements to search
> - Improved Hit Highlighting
> 
> SearchBlox is available as a Web Archive (WAR) and is deployable on 
> any Servlet 2.3/JSP 1.2 compliant server. SearchBlox Getting-Started 
> Guides are available for the following servers:
> 
> JBoss - http://www.searchblox.com/gettingstarted_jboss.html
> Jetty - http://www.searchblox.com/gettingstarted_jetty.html
> JRun - http://www.searchblox.com/gettingstarted_jrun.html
> Pramati - http://www.searchblox.com/gettingstarted_pramati.html
> Resin - http://www.searchblox.com/gettingstarted_resin.html
> Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
> Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
> Websphere - http://www.searchblox.com/gettingstarted_websphere.html
> 
> 	
> The SearchBlox FREE Edition is available free of charge and can index 
> up to 1000 HTML documents.
> 
> The software can be downloaded from http://www.searchblox.com
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:06:28 2003
Return-Path: 
 <lucene-user-return-6325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57241 invoked from network); 2 Dec 2003 17:06:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:06:28 -0000
Received: (qmail 61357 invoked by uid 500); 2 Dec 2003 17:06:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61317 invoked by uid 500); 2 Dec 2003 17:06:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61090 invoked from network); 2 Dec 2003 17:06:06 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:06:06 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id RAA20924
	for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 17:06:04 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003120217060408318
 for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 17:06:04 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDJ9A0L>; Tue, 2 Dec 2003 17:01:15 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019EB@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "Lucene mailing list (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Searching for -
Date: Tue, 2 Dec 2003 17:01:14 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi folks, another newbie question for you.

I'm using Lucene to index huges chunks of source code, (cobol, jcl, c, java,
text documents etc). In some of these languages (such as cobol) it is valid
to have a variable name of DISP-NAME for example. The problem I have is that
when you enter this search string into the lucene query engine, it reads the
- character as a "NOT" modifier rather than as part of the word, and so I'm
getting incorrect results, (it basically does a search for DISP NOT NAME).

Anyone any ideas as to how to get around this (can you 'escape' the modifier
characters so that Lucene doesn't interpret them as such for example)?

Thanks,
Iain Young
http://www.microfocus.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:03:27 2003
Return-Path: 
 <lucene-user-return-6324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55381 invoked from network); 2 Dec 2003 17:03:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:03:27 -0000
Received: (qmail 55164 invoked by uid 500); 2 Dec 2003 17:03:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55132 invoked by uid 500); 2 Dec 2003 17:03:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55118 invoked from network); 2 Dec 2003 17:03:14 -0000
Received: from unknown (HELO sun13.bham.ac.uk) (147.188.128.145)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:03:14 -0000
Received: from [147.188.128.127] (helo=bham.ac.uk)
	by sun13.bham.ac.uk with esmtp (Exim 4.10)
	id 1ARDvg-0001eO-00
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:03:16 +0000
Received: from emily.cs.bham.ac.uk ([147.188.192.10])
	by bham.ac.uk with esmtp (Exim 4.24)
	id 1ARDvg-0004fX-Qw
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:03:16 +0000
Received: from preston.cs.bham.ac.uk
	by emily.cs.bham.ac.uk (Exim 3.11 #1) with esmtp id 1ARDuz-0005s7-00
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:02:33 +0000
Date: Tue, 2 Dec 2003 17:03:16 +0000 (GMT)
From: Jing Su <J.Su@cs.bham.ac.uk>
To: lucene-user@jakarta.apache.org
Subject: How to get query terms? How to print out explanation?
Message-ID: <Pine.GSO.4.56.0312021702290.28769@preston.cs.bham.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

How can I get terms from a query?
How can I print out the explanation along with the similarity calculation?

Thanks.

Jing

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:00:57 2003
Return-Path: 
 <lucene-user-return-6323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53414 invoked from network); 2 Dec 2003 17:00:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:00:57 -0000
Received: (qmail 47420 invoked by uid 500); 2 Dec 2003 17:00:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47393 invoked by uid 500); 2 Dec 2003 17:00:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47367 invoked from network); 2 Dec 2003 17:00:43 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:00:43 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB2Gg0l01848
	for <lucene-user@jakarta.apache.org>; Tue, 2 Dec 2003 17:42:00 +0100
Message-ID: <3FCCC5E1.4050808@media-style.com>
Date: Tue, 02 Dec 2003 18:03:29 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SearchBlox J2EE Search Component Version 1.1 released
References: <200312021651.hB2GpHQQ006075@smtp24.singnet.com.sg>
In-Reply-To: <200312021651.hB2GpHQQ006075@smtp24.singnet.com.sg>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tun Lin wrote:

>Anyone knows a search engine that supports xml formats? 
>  
>

http://jakarta.apache.org/lucene/docs/lucene-sandbox/
see  SAX/ DOM XML demo.



-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:12:34 2003
Return-Path: 
 <lucene-user-return-6326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61437 invoked from network); 2 Dec 2003 17:12:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:12:34 -0000
Received: (qmail 71264 invoked by uid 500); 2 Dec 2003 17:12:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71103 invoked by uid 500); 2 Dec 2003 17:12:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71090 invoked from network); 2 Dec 2003 17:12:22 -0000
Received: from unknown (HELO sun13.bham.ac.uk) (147.188.128.145)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:12:22 -0000
Received: from [147.188.128.127] (helo=bham.ac.uk)
	by sun13.bham.ac.uk with esmtp (Exim 4.10)
	id 1ARE4X-0001yx-00
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:12:25 +0000
Received: from emily.cs.bham.ac.uk ([147.188.192.10])
	by bham.ac.uk with esmtp (Exim 4.24)
	id 1ARE4X-0001Yh-9b
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:12:25 +0000
Received: from preston.cs.bham.ac.uk
	by emily.cs.bham.ac.uk (Exim 3.11 #1) with esmtp id 1ARE3q-0005yZ-00
	for lucene-user@jakarta.apache.org; Tue, 02 Dec 2003 17:11:42 +0000
Date: Tue, 2 Dec 2003 17:12:25 +0000 (GMT)
From: Jing Su <J.Su@cs.bham.ac.uk>
To: lucene-user@jakarta.apache.org
Subject: Document Similarity
Message-ID: <Pine.GSO.4.56.0312021706280.28769@preston.cs.bham.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

I have read some posts in user/developer archives about Lucene-based
document similarity comparison. In summary there are two approaches are
mentioned:

1 - Construct document to a query;
2 - Calculate each document to be a vector, then rank accoring to their
distance (cosine).

Do they produce same ranking results? Is there any other way to do so?
I guess the 2nd approach will be more precise but slow.

Thanks.

Jing

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:21:02 2003
Return-Path: 
 <lucene-user-return-6328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65903 invoked from network); 2 Dec 2003 17:21:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:21:02 -0000
Received: (qmail 84821 invoked by uid 500); 2 Dec 2003 17:20:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84747 invoked by uid 500); 2 Dec 2003 17:20:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84733 invoked from network); 2 Dec 2003 17:20:49 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:20:49 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id RAA21541
	for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 17:20:48 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003120217204808705
 for <lucene-user@jakarta.apache.org>; Tue, 02 Dec 2003 17:20:48 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDJ9BJC>; Tue, 2 Dec 2003 17:15:59 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019EC@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching for -
Date: Tue, 2 Dec 2003 17:15:59 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Dmitri :-)

-----Original Message-----
From: Dmitri Mamrukov [mailto:dym@att.net]
Sent: 02 December 2003 17:18
To: Lucene Users List
Subject: Re: Searching for -


Hi Iain,

There was a discussion about Dash Confusion in QueryParser (search for
"t-shirt" - with quota symbols! - or Dash Confusion). They suggested to
escape such words by putting quota symbols around them. For instance, ask
your application "DISP-NAME" instead of DISP-NAME.

Dmitri

----- Original Message ----- 
From: "Iain Young" <Iain.Young@microfocus.com>
To: "Lucene mailing list (E-mail)" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 02, 2003 12:01 PM
Subject: Searching for -


> Hi folks, another newbie question for you.
>
> I'm using Lucene to index huges chunks of source code, (cobol, jcl, c,
java,
> text documents etc). In some of these languages (such as cobol) it is
valid
> to have a variable name of DISP-NAME for example. The problem I have is
that
> when you enter this search string into the lucene query engine, it reads
the
> - character as a "NOT" modifier rather than as part of the word, and so
I'm
> getting incorrect results, (it basically does a search for DISP NOT NAME).
>
> Anyone any ideas as to how to get around this (can you 'escape' the
modifier
> characters so that Lucene doesn't interpret them as such for example)?
>
> Thanks,
> Iain Young
> http://www.microfocus.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:18:59 2003
Return-Path: 
 <lucene-user-return-6327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64978 invoked from network); 2 Dec 2003 17:18:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:18:59 -0000
Received: (qmail 81326 invoked by uid 500); 2 Dec 2003 17:18:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81300 invoked by uid 500); 2 Dec 2003 17:18:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81287 invoked from network); 2 Dec 2003 17:18:47 -0000
Received: from unknown (HELO mtiwmhc13.worldnet.att.net) (204.127.131.117)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:18:47 -0000
Received: from dymhp (ool-4350967b.dyn.optonline.net[67.80.150.123])
          by worldnet.att.net (mtiwmhc13) with SMTP
          id <200312021718501130043j8ie>
          (Authid: dym@worldnet.att.net);
          Tue, 2 Dec 2003 17:18:50 +0000
Message-ID: <009f01c3b8f8$5a5eac60$6401a8c0@dymhp>
From: "Dmitri Mamrukov" <dym@att.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C032019EB@nwb-corpmail.microfocus.com>
Subject: Re: Searching for -
Date: Tue, 2 Dec 2003 12:18:24 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Iain,

There was a discussion about Dash Confusion in QueryParser (search for
"t-shirt" - with quota symbols! - or Dash Confusion). They suggested to
escape such words by putting quota symbols around them. For instance, ask
your application "DISP-NAME" instead of DISP-NAME.

Dmitri

----- Original Message ----- 
From: "Iain Young" <Iain.Young@microfocus.com>
To: "Lucene mailing list (E-mail)" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 02, 2003 12:01 PM
Subject: Searching for -


> Hi folks, another newbie question for you.
>
> I'm using Lucene to index huges chunks of source code, (cobol, jcl, c,
java,
> text documents etc). In some of these languages (such as cobol) it is
valid
> to have a variable name of DISP-NAME for example. The problem I have is
that
> when you enter this search string into the lucene query engine, it reads
the
> - character as a "NOT" modifier rather than as part of the word, and so
I'm
> getting incorrect results, (it basically does a search for DISP NOT NAME).
>
> Anyone any ideas as to how to get around this (can you 'escape' the
modifier
> characters so that Lucene doesn't interpret them as such for example)?
>
> Thanks,
> Iain Young
> http://www.microfocus.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 17:38:42 2003
Return-Path: 
 <lucene-user-return-6329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79295 invoked from network); 2 Dec 2003 17:38:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 17:38:42 -0000
Received: (qmail 31736 invoked by uid 500); 2 Dec 2003 17:38:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31697 invoked by uid 500); 2 Dec 2003 17:38:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31670 invoked from network); 2 Dec 2003 17:38:14 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 2 Dec 2003 17:38:14 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with SMTP
          id <2003120217381701600rfvpbe>; Tue, 2 Dec 2003 17:38:17 +0000
Message-ID: <3FCCCE06.5020000@lucene.com>
Date: Tue, 02 Dec 2003 09:38:14 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: New Lucene-powered Website
References: <20031202142623.77676.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20031202142623.77676.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> There was discussion about it, yes.  I don't think we ever reached any
> conclusions, and the powered.html still says 'include the logo'.

Actually, I think we decided to scrap the requirement, but then we never 
updated the web site.  Here's the message I found:

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=731098

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  2 23:38:23 2003
Return-Path: 
 <lucene-user-return-6330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76536 invoked from network); 2 Dec 2003 23:38:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Dec 2003 23:38:23 -0000
Received: (qmail 22330 invoked by uid 500); 2 Dec 2003 23:38:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22097 invoked by uid 500); 2 Dec 2003 23:38:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22083 invoked from network); 2 Dec 2003 23:38:04 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 2 Dec 2003 23:38:04 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 3C6D1A941
	for <lucene-user@jakarta.apache.org>; Tue,  2 Dec 2003 15:38:11 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB2NcBcG055627
	for lucene-user@jakarta.apache.org; Tue, 2 Dec 2003 15:38:11 -0800 (PST)
	(envelope-from dror)
Date: Tue, 2 Dec 2003 15:38:11 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
Subject: Re: Ways to search indexes
Message-ID: <20031202233811.GG34796@rlx11.zapatec.com>
References: <20031202135458.73205.qmail@web25204.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031202135458.73205.qmail@web25204.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Dec 02, 2003 at 01:54:58PM +0000, jt oob wrote:
> Hi,
> 
> I have just indexed a lot of news (nntp) postings.
> I now have an index for each topic (a topic can have many newsgroups)
> 
> The index sizes are:
> 
> 2.6G Current Affairs
> 2.4G Celebs
> 119M Recreation
> 3.0M Tech - Mac
> 2.4G Tech - Windows
> 936M Tech - Linux
> 702M Tech - Other
>  96M Tech - Consoles

Around 15 gigs. How many days of news?

> 
> This is still only early stages so i haven't yet done any parsing, just
> treating each doc as plain text.
> 
> Originally I was merging all these indexes together, but this is now
> not feasible with new additions being made to each index as new
> postings arrive.
> I optimize each index at midnight.
> 
> What is the best way to allow users to query either just one index, or
> the whole lot?

Probably, create a IndexSearcher for each index and then use a
MultiSearcher to search them all together. It'll probably use quite a
bit of memory.

> 
> My prototype was making a system call from and running my java program
> to print all the results to the screen. I know this isn't the best way
> to do it :-)
> 
> I guess I need to write a server and periodically re-open the indexes
> to see any changes?
> 
> Thank you for any help!
> 
> jt
> 
> ________________________________________________________________________
> Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
> http://www.yahoo.co.uk/robbiewilliams
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 01:33:51 2003
Return-Path: 
 <lucene-user-return-6331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18307 invoked from network); 3 Dec 2003 01:33:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 01:33:51 -0000
Received: (qmail 43042 invoked by uid 500); 3 Dec 2003 01:33:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42934 invoked by uid 500); 3 Dec 2003 01:33:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42921 invoked from network); 3 Dec 2003 01:33:30 -0000
Received: from unknown (HELO hotmail.com) (207.68.162.202)
  by daedalus.apache.org with SMTP; 3 Dec 2003 01:33:30 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 2 Dec 2003 17:33:38 -0800
Received: from 219.238.185.146 by sea1-dav67.sea1.hotmail.com with DAV;
	Wed, 03 Dec 2003 01:33:38 +0000
X-Originating-IP: [219.238.185.146]
X-Originating-Email: [lvkrnewer@hotmail.com]
X-Sender: lvkrnewer@hotmail.com
From: "lhelper" <lvkrnewer@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<chentun@singnet.com.sg>
References: <200312021257.hB2CviEj018419@smtp21.singnet.com.sg>
Subject: Re: New Lucene-powered Website (TO Tun Lin)
Date: Wed, 3 Dec 2003 09:29:27 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Sea1-DAV67GTuAyHsjC00000fa3@hotmail.com>
X-OriginalArrivalTime: 03 Dec 2003 01:33:38.0703 (UTC)
 FILETIME=[79F949F0:01C3B93D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

PiBBbnlvbmUgaGFzIHRoZSBpbnN0YWxsIGluc3RydWN0aW9ucyBmb3Igd2luZG93cyB0byBydW4g
bHVjZW5ld2ViPyBJIGNhbm5vdCBldmVuDQo+IHNlZSB0aGUgZmlyc3QgcGFnZSB3aGVuIEkgc3Rh
cnQgdG9tY2F0IHRob3VnaCBJIGhhdmUgdGhlIHdlYmx1Y2VuZSBpbiB0aGUNCj4gd2ViYXBwcyBk
aXJlY3RvcnkuDQo+IA0KPiBDYW4gYW55b25lIGhlbHA/IFBsZWFzZS4NCj4gDQppdCdzIGEgYnVn
IHdpdGggdGhlIHRhciBiYWxsIG9mIHdlYmx1Y2VuZSwgd2UnbGwgZml4IHRoZSBidWcgYXNhcCwg
YW5kIHNvbWUgbGl0dGxlIGluZGV4IHdpbGwgYmUgYWRkZWQgaW50byB0aGUgdGFyIGJhbGwuDQpw
bGVhc2UgYmUgcGF0aWVudCENCg0KR29vZCBMdWNrIQ==


From MAILER-DAEMON Wed Dec  3 01:42:32 2003
Return-Path: 
 <lucene-user-return-6332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21005 invoked from network); 3 Dec 2003 01:42:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 01:42:32 -0000
Received: (qmail 49030 invoked by uid 500); 3 Dec 2003 01:42:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48961 invoked by uid 500); 3 Dec 2003 01:42:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48931 invoked from network); 3 Dec 2003 01:42:06 -0000
Received: from unknown (HELO smtp18.singnet.com.sg) (165.21.6.38)
  by daedalus.apache.org with SMTP; 3 Dec 2003 01:42:06 -0000
Received: from HP29375324311 ([155.69.58.92])
	by smtp18.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB31g5tH012376;
	Wed, 3 Dec 2003 09:42:09 +0800
Message-Id: <200312030142.hB31g5tH012376@smtp18.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>,
        "'Lucene Developers List'" <lucene-dev@jakarta.apache.org>
Subject: Translation.
Date: Wed, 3 Dec 2003 09:42:02 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C3B981.B4EE1F10"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcO5PqXTaLMOixY4R7avPz4K/nWFbg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C3B981.B4EE1F10
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

Can anyone translate this text for me? I cannot understand the instructions.
Please help!

Thanks.

===========
 ____________
|            |
| LUCY 1.1   |   readme.txt    Ultimo aggiornamento: 18/03/2003
|____________|





STRUTTURA


Lucy 1.1	-> Lucene 1.2
		-> HTMLParser 1.2
		-> PdfBox 0.5.6
		-> wvWare 0.7.2-3
		-> xlhtml 0.4.9
		-> antiword 0.33
		-> Xpdf 2.01 
		-> Snowball 0.1
		-> NGramJ 01.12.11
		-> it.corila.lucy	-> IndexAll.java
					-> SearchIndex.java
					-> HTMLDocument.java
					-> PDFDocument.java
					-> ExternalParser.java
					-> ItalianStemFilter.java
					-> EnglishStemFilter.java
					-> ApostropheFilter.java
					-> IndexAnalyzer.java
					-> SearchAnalyzer.java
					-> LanguageCategorizer
					-> NgramjCategorizer.java





DESCRIZIONE

Lucy e' in grado di indicizzare tutti i files con estensione txt, html, pdf,
doc, ppt, xls contenuti in una cartella base e nelle sue sottocartelle. Consente
ricerche da linea di comando DOS oppure mediante interfaccia web. Gestisce testi
in Italiano e Inglese con procedure di elaborazione lessicale specifiche.





SISTEMI OPERATIVI SUPPORTATI

Windows 98 / Windows 2000 / Windows XP





REQUISITI DI SISTEMA

Nessuno tranne i permessi necessari alla scrittura di files su una cartella del
sistema
Per utilizzare il modulo di ricerca con interfaccia web e' necessario disporre
di Apache Tomcat, versione 3 o 4.




INSTALLAZIONE

Lanciare la procedura automatica di installazione Lucy1.1.exe, oppure
scompattare
il file Lucy1.1.zip in una cartella (NB: il percorso non deve contenere spazi).
L'applicazione utilizza di default una propria java virtual machine. E'
possibile utilizzarne un'altra gia' installata nel sistema modificando il valore
della variabile MYJAVAPATH nel file jvm.bat
In questo caso la cartella jre puo' essere eliminata per ridurre l'occupazione
di spazio su disco di circa 40 MBytes.




CONFIGURAZIONE

Modificare i valori delle variabili contenute nel file properties.txt, nella
cartella base dell'applicazione:


lucy.path: cartella in cui si e' installata l'applicazione 

log.files.dir: cartella in cui verranno creati i files di log

del.temp.files: eliminazione dei files temporanei alla fine dell'indicizzazione
(yes/no)

doc.parser: parser da utilizzare per i files .doc (antiword/wvware)

pdf.parser: parser da utilizzare per i files .pdf (xpdf/pdfbox)

index.dir: cartella in cui verranno memorizzati gli indici

index.name: nome dell'indice che deve essere creato

indexing.folder: cartella che deve essere indicizzata


IMPORTANTE: tutti i percorsi devono essere indicati utilizzando come separatori
di directory due barre rovesciate (\\) anziche' una barra singola




MODALITA' DI UTILIZZO

I tre files batch nella cartella base dell'applicazione sono attivabili
direttamente da Windows con doppio click.

indicizza.bat					       crea un indice

aggiorna.bat					       modifica un indice

cerca.bat					       effettua ricerche su un
indice

Tutti i parametri necessari (nome e localizzazione dell'indice, percorso della
cartella da indicizzare) vanno specificati a priori nel file properties.txt


E' possibile in alternativa utilizzare le procedure da riga di comando dos,
sempre con la modifica preventiva del file properties.txt
In questo caso inoltre, mediante la sintassi:

cerca percorso-indice

si possono effettuare ricerche su altri indici creati in precedenza, senza
modificare il file properties.txt




NOTE SULL'UTILIZZO DEI PARSERS

I valori di default impostati per i parsers sono quelli consigliati per la prima
esecuzione dell'indicizzazione. In un secondo momento e' possibile modificarli
ai valori alternativi e procedere a un aggiornamento dell'indice. In questo modo
i documenti che non sono stati indicizzati per errori di parsing vengono
processati anche dai due parsers alternativi.

Qualora il processo di parsing portasse ad errori di sistema che costringessero
a interrompere il processo di indicizzazione, l'utente potra' riprendere
l'indicizzazione da dove si e' interrotta utilizzando la procedura di
aggiornamento, avendo cura di rimuovere - prima di lanciarla - il file
write.lock dalla cartella che contiene i file dell'indice.





UTILIZZO COME WEB APPLICATION PER RICERCHE TESTUALI

Se nel sistema e' installato il motore per servlet e jsp Apache Tomcat, e'
possibile effettuare le ricerche sugli indici tramite un'interfaccia web. Se e'
presente anche una web server application le ricerche possono avvenire da un
browser remoto connesso a internet. La procedura di configurazione e' la
seguente:


- copiare il file lucyweb.war nella sottocartella webapps di Tomcat 


- far partire Tomcat mediante la procedura di startup, in modo che il file war
venga scompattato


- nel file configuration.jsp della cartella webapps\lucyweb cosi' ottenuta,
devono essere impostate tre variabili:

  1) indexLocation deve puntare alla cartella in cui e' contenuto l'indice sul
quale si vogliono compiere le ricerche

  2) siteIP deve contenere l'ip della macchina di pubblicazione dei documenti

  3) serverRoot deve essere uguale al percorso su disco della cartella di
pubblicazione del web server

  Nel caso non si disponga di un web server e quindi si effettuino le ricerche
con interafaccia web solo in locale, le ultime due variabili devono essere
lasciate vuote ("")


- per accedere localmente alla pagina delle ricerche digitare nella barra
indirizzi del browser l'url 
  
  http://localhost:8080/lucyweb 

  Per l'accesso da browser remoto usare l'indirizzo ip del server seguito dal
percorso della cartella lucyweb.



La sintassi ammessa per le query e' consultabile in una pagina di help on line.



NOTA: l'indice non potra' essere eliminato se prima non viene eseguito lo
shutdown di Tomcat. Potra' pero' essere aggiornato in contemporanea a processi
di ricerca.

==============


------=_NextPart_000_0007_01C3B981.B4EE1F10--



From MAILER-DAEMON Wed Dec  3 01:47:51 2003
Return-Path: 
 <lucene-user-return-6333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22954 invoked from network); 3 Dec 2003 01:47:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 01:47:51 -0000
Received: (qmail 53492 invoked by uid 500); 3 Dec 2003 01:47:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53457 invoked by uid 500); 3 Dec 2003 01:47:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53373 invoked from network); 3 Dec 2003 01:47:20 -0000
Received: from unknown (HELO smtp18.singnet.com.sg) (165.21.6.38)
  by daedalus.apache.org with SMTP; 3 Dec 2003 01:47:20 -0000
Received: from HP29375324311 ([155.69.58.92])
	by smtp18.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB31lNtH018307
	for <lucene-user@jakarta.apache.org>; Wed, 3 Dec 2003 09:47:27 +0800
Message-Id: <200312030147.hB31lNtH018307@smtp18.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: New Lucene-powered Website (TO Tun Lin)
Date: Wed, 3 Dec 2003 09:47:20 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <Sea1-DAV67GTuAyHsjC00000fa3@hotmail.com>
Thread-Index: AcO5Pmy96lvsPxzfQ96zN46mKh9pHAAAE9UA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

It's ok. Take your time. :-) 

-----Original Message-----
From: lhelper [mailto:lvkrnewer@hotmail.com] 
Sent: Wednesday, December 03, 2003 9:29 AM
To: Lucene Users List; chentun@singnet.com.sg
Subject: Re: New Lucene-powered Website (TO Tun Lin)

> Anyone has the install instructions for windows to run luceneweb? I 
> cannot even see the first page when I start tomcat though I have the 
> weblucene in the webapps directory.
> 
> Can anyone help? Please.
> 
it's a bug with the tar ball of weblucene, we'll fix the bug asap, and some
little index will be added into the tar ball.
please be patient!

Good Luck!



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 11:50:37 2003
Return-Path: 
 <lucene-user-return-6334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84504 invoked from network); 3 Dec 2003 11:50:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 11:50:37 -0000
Received: (qmail 85121 invoked by uid 500); 3 Dec 2003 11:50:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84991 invoked by uid 500); 3 Dec 2003 11:49:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84962 invoked from network); 3 Dec 2003 11:49:59 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 3 Dec 2003 11:49:59 -0000
Message-ID: <20031203114959.91725.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.136] by web12702.mail.yahoo.com via HTTP;
 Wed, 03 Dec 2003 03:49:59 PST
Date: Wed, 3 Dec 2003 03:49:59 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Translation.
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
In-Reply-To: <200312030142.hB31g5tH012376@smtp18.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Uh, I get to do this dirty job. :(

Lucene-user and lucene-dev are not the appropriate fora for questions
such as this one.
Please ask the original author of the text for help, or use an online
translation service, such as the one at http://babelfish.av.com

Also, for questions about Lucene usage, problems, help, etc. please
email _only_ lucene-user mailing list.  The lucene-dev mailing list is
used by developers of Lucene, and not developers who are using Lucene.

Thanks,
Otis


--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> Can anyone translate this text for me? I cannot understand the
> instructions.
> Please help!
> 
> Thanks.
> 
> ===========
>  ____________
> |            |
> | LUCY 1.1   |   readme.txt    Ultimo aggiornamento: 18/03/2003
> |____________|
> 
> 
> 
> 
> 
> STRUTTURA
> 
> 
> Lucy 1.1	-> Lucene 1.2
> 		-> HTMLParser 1.2
> 		-> PdfBox 0.5.6
> 		-> wvWare 0.7.2-3
> 		-> xlhtml 0.4.9
> 		-> antiword 0.33
> 		-> Xpdf 2.01 
> 		-> Snowball 0.1
> 		-> NGramJ 01.12.11
> 		-> it.corila.lucy	-> IndexAll.java
> 					-> SearchIndex.java
> 					-> HTMLDocument.java
> 					-> PDFDocument.java
> 					-> ExternalParser.java
> 					-> ItalianStemFilter.java
> 					-> EnglishStemFilter.java
> 					-> ApostropheFilter.java
> 					-> IndexAnalyzer.java
> 					-> SearchAnalyzer.java
> 					-> LanguageCategorizer
> 					-> NgramjCategorizer.java
> 
> 
> 
> 
> 
> DESCRIZIONE
> 
> Lucy e' in grado di indicizzare tutti i files con estensione txt,
> html, pdf,
> doc, ppt, xls contenuti in una cartella base e nelle sue
> sottocartelle. Consente
> ricerche da linea di comando DOS oppure mediante interfaccia web.
> Gestisce testi
> in Italiano e Inglese con procedure di elaborazione lessicale
> specifiche.
> 
> 
> 
> 
> 
> SISTEMI OPERATIVI SUPPORTATI
> 
> Windows 98 / Windows 2000 / Windows XP
> 
> 
> 
> 
> 
> REQUISITI DI SISTEMA
> 
> Nessuno tranne i permessi necessari alla scrittura di files su una
> cartella del
> sistema
> Per utilizzare il modulo di ricerca con interfaccia web e' necessario
> disporre
> di Apache Tomcat, versione 3 o 4.
> 
> 
> 
> 
> INSTALLAZIONE
> 
> Lanciare la procedura automatica di installazione Lucy1.1.exe, oppure
> scompattare
> il file Lucy1.1.zip in una cartella (NB: il percorso non deve
> contenere spazi).
> L'applicazione utilizza di default una propria java virtual machine.
> E'
> possibile utilizzarne un'altra gia' installata nel sistema
> modificando il valore
> della variabile MYJAVAPATH nel file jvm.bat
> In questo caso la cartella jre puo' essere eliminata per ridurre
> l'occupazione
> di spazio su disco di circa 40 MBytes.
> 
> 
> 
> 
> CONFIGURAZIONE
> 
> Modificare i valori delle variabili contenute nel file
> properties.txt, nella
> cartella base dell'applicazione:
> 
> 
> lucy.path: cartella in cui si e' installata l'applicazione 
> 
> log.files.dir: cartella in cui verranno creati i files di log
> 
> del.temp.files: eliminazione dei files temporanei alla fine
> dell'indicizzazione
> (yes/no)
> 
> doc.parser: parser da utilizzare per i files .doc (antiword/wvware)
> 
> pdf.parser: parser da utilizzare per i files .pdf (xpdf/pdfbox)
> 
> index.dir: cartella in cui verranno memorizzati gli indici
> 
> index.name: nome dell'indice che deve essere creato
> 
> indexing.folder: cartella che deve essere indicizzata
> 
> 
> IMPORTANTE: tutti i percorsi devono essere indicati utilizzando come
> separatori
> di directory due barre rovesciate (\\) anziche' una barra singola
> 
> 
> 
> 
> MODALITA' DI UTILIZZO
> 
> I tre files batch nella cartella base dell'applicazione sono
> attivabili
> direttamente da Windows con doppio click.
> 
> indicizza.bat					       crea un indice
> 
> aggiorna.bat					       modifica un indice
> 
> cerca.bat					       effettua ricerche su un
> indice
> 
> Tutti i parametri necessari (nome e localizzazione dell'indice,
> percorso della
> cartella da indicizzare) vanno specificati a priori nel file
> properties.txt
> 
> 
> E' possibile in alternativa utilizzare le procedure da riga di
> comando dos,
> sempre con la modifica preventiva del file properties.txt
> In questo caso inoltre, mediante la sintassi:
> 
> cerca percorso-indice
> 
> si possono effettuare ricerche su altri indici creati in precedenza,
> senza
> modificare il file properties.txt
> 
> 
> 
> 
> NOTE SULL'UTILIZZO DEI PARSERS
> 
> I valori di default impostati per i parsers sono quelli consigliati
> per la prima
> esecuzione dell'indicizzazione. In un secondo momento e' possibile
> modificarli
> ai valori alternativi e procedere a un aggiornamento dell'indice. In
> questo modo
> i documenti che non sono stati indicizzati per errori di parsing
> vengono
> processati anche dai due parsers alternativi.
> 
> Qualora il processo di parsing portasse ad errori di sistema che
> costringessero
> a interrompere il processo di indicizzazione, l'utente potra'
> riprendere
> l'indicizzazione da dove si e' interrotta utilizzando la procedura di
> aggiornamento, avendo cura di rimuovere - prima di lanciarla - il
> file
> write.lock dalla cartella che contiene i file dell'indice.
> 
> 
> 
> 
> 
> UTILIZZO COME WEB APPLICATION PER RICERCHE TESTUALI
> 
> Se nel sistema e' installato il motore per servlet e jsp Apache
> Tomcat, e'
> possibile effettuare le ricerche sugli indici tramite un'interfaccia
> web. Se e'
> presente anche una web server application le ricerche possono
> avvenire da un
> browser remoto connesso a internet. La procedura di configurazione e'
> la
> seguente:
> 
> 
> - copiare il file lucyweb.war nella sottocartella webapps di Tomcat 
> 
> 
> - far partire Tomcat mediante la procedura di startup, in modo che il
> file war
> venga scompattato
> 
> 
> - nel file configuration.jsp della cartella webapps\lucyweb cosi'
> ottenuta,
> devono essere impostate tre variabili:
> 
>   1) indexLocation deve puntare alla cartella in cui e' contenuto
> l'indice sul
> quale si vogliono compiere le ricerche
> 
>   2) siteIP deve contenere l'ip della macchina di pubblicazione dei
> documenti
> 
>   3) serverRoot deve essere uguale al percorso su disco della
> cartella di
> pubblicazione del web server
> 
>   Nel caso non si disponga di un web server e quindi si effettuino le
> ricerche
> con interafaccia web solo in locale, le ultime due variabili devono
> essere
> lasciate vuote ("")
> 
> 
> - per accedere localmente alla pagina delle ricerche digitare nella
> barra
> indirizzi del browser l'url 
>   
>   http://localhost:8080/lucyweb 
> 
>   Per l'accesso da browser remoto usare l'indirizzo ip del server
> seguito dal
> percorso della cartella lucyweb.
> 
> 
> 
> La sintassi ammessa per le query e' consultabile in una pagina di
> help on line.
> 
> 
> 
> NOTA: l'indice non potra' essere eliminato se prima non viene
> eseguito lo
> shutdown di Tomcat. Potra' pero' essere aggiornato in contemporanea a
> processi
> di ricerca.
> 
> ==============
> 
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 11:55:02 2003
Return-Path: 
 <lucene-user-return-6335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86827 invoked from network); 3 Dec 2003 11:55:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 11:55:02 -0000
Received: (qmail 93256 invoked by uid 500); 3 Dec 2003 11:54:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93224 invoked by uid 500); 3 Dec 2003 11:54:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93202 invoked from network); 3 Dec 2003 11:54:43 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 3 Dec 2003 11:54:43 -0000
Received: (qmail 23773 invoked by uid 0); 3 Dec 2003 11:54:42 -0000
Received: from 193.63.235.44 by www34.gmx.net with HTTP;
	Wed, 3 Dec 2003 12:54:41 +0100 (MET)
Date: Wed, 3 Dec 2003 12:54:41 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Query reformulation (Relevance Feedback) in Lucene?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <9319.1070452481@www34.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Group of Lucene users,

query reformulation is understood as a effective way to improve retrieval
power significantly. The theory teaches us that it consists of two basic steps:

a) Query expansion (with new terms)
b) Reweighting of the terms in the expanded query

User relevance feedback is the most popular reformulation strategy to
perform query reformulation because it is user centered. 

Does Lucene generally support this approach? Especially I am wondering if
...

1) there are classes which directly support query expansion OR
2) I would need to do some programming on top of more generic parts? 

I do not know about 1). All I know about 2) is what I think could work with
no evidence if it actually does :-) I think Query expansion with new terms is
easy and would just need to create a new QueryParser object with existing
terms plus the top n (most frequent terms) of the (in the user point of view)
relevant documents. Then I would have a extended query (a). However I do not
know how can I reweight this terms? When I formulate the Query I do not
actually know about there weights since it is done internally. Does anybody have
any idea? Did anybody try to solve this and has some examples which he/she
would like to provide?

Cheers,
Ralf

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 13:40:43 2003
Return-Path: 
 <lucene-user-return-6336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55877 invoked from network); 3 Dec 2003 13:40:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 13:40:43 -0000
Received: (qmail 66780 invoked by uid 500); 3 Dec 2003 13:40:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66749 invoked by uid 500); 3 Dec 2003 13:40:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66734 invoked from network); 3 Dec 2003 13:40:23 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 3 Dec 2003 13:40:23 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Wed, 3 Dec 2003 08:40:22 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB3DeLx07953
	for <lucene-user@jakarta.apache.org>; Wed, 3 Dec 2003 08:40:22 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Query reformulation (Relevance Feedback) in Lucene?
Date: Wed, 3 Dec 2003 08:40:21 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240873@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query reformulation (Relevance Feedback) in Lucene?
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcO5lEQPtipqsrfCSMK2UEwRMcTKFgADdJJQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

there is no direct support in Lucene for this. there are several =
strategies for automatic query expansion and most of them rely on either =
extensive domain-specific analysis of the top N documents on the =
assumption that the search engine performs well enough to guarantee that =
the top N documents are all relevant, or that there is a special =
domain-specific corpus of "good documents" where the initial search is =
against these picked documents and their terms mined to augment the =
initial query before resubmitting to the original corpus. all of these =
things are things you have to do yourself.  term reweighting happens by =
using term boost. how much you boost by is an open question.

Herb...

-----Original Message-----
From: ambiesense@gmx.de [mailto:ambiesense@gmx.de]
Sent: Wednesday, December 03, 2003 6:55 AM
To: lucene-user@jakarta.apache.org
Subject: Query reformulation (Relevance Feedback) in Lucene?


Hello Group of Lucene users,

query reformulation is understood as a effective way to improve =
retrieval
power significantly. The theory teaches us that it consists of two basic =
steps:

a) Query expansion (with new terms)
b) Reweighting of the terms in the expanded query

User relevance feedback is the most popular reformulation strategy to
perform query reformulation because it is user centered.=20

Does Lucene generally support this approach? Especially I am wondering =
if
...

1) there are classes which directly support query expansion OR
2) I would need to do some programming on top of more generic parts?=20

I do not know about 1). All I know about 2) is what I think could work =
with
no evidence if it actually does :-) I think Query expansion with new =
terms is
easy and would just need to create a new QueryParser object with =
existing
terms plus the top n (most frequent terms) of the (in the user point of =
view)
relevant documents. Then I would have a extended query (a). However I do =
not
know how can I reweight this terms? When I formulate the Query I do not
actually know about there weights since it is done internally. Does =
anybody have
any idea? Did anybody try to solve this and has some examples which =
he/she
would like to provide?

Cheers,
Ralf

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 14:13:07 2003
Return-Path: 
 <lucene-user-return-6337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75256 invoked from network); 3 Dec 2003 14:13:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 14:13:07 -0000
Received: (qmail 44946 invoked by uid 500); 3 Dec 2003 14:12:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44916 invoked by uid 500); 3 Dec 2003 14:12:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44874 invoked from network); 3 Dec 2003 14:12:45 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 3 Dec 2003 14:12:45 -0000
Received: (qmail 10750 invoked by uid 0); 3 Dec 2003 14:12:45 -0000
Received: from 193.63.235.44 by www34.gmx.net with HTTP;
	Wed, 3 Dec 2003 15:12:45 +0100 (MET)
Date: Wed, 3 Dec 2003 15:12:45 +0100 (MET)
From: ambiesense@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Probabilistic Model in Lucene - possible?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <6917.1070460765@www34.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello group,

from the very inspiring conversations with Karsten I know that Lucene is
based on a Vector Space Model. I am just wondering if it would be possible to
turn this into a probabilistic Model approach. Of course I do know that I
cannot change the underlying indexing and searching principles. However it would
be possible to change the index term weight to eigther 1.0 (relevant) or 0.0
(non-relevant). For the similarity I would need to implement another
similarity algorithm.

I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible. If yes, how much
effort would need to go into that? I am sure there are many other issues which
I have not considered...

Kind Regards,
Ralf


-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 14:36:43 2003
Return-Path: 
 <lucene-user-return-6338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95086 invoked from network); 3 Dec 2003 14:36:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 14:36:43 -0000
Received: (qmail 84459 invoked by uid 500); 3 Dec 2003 14:36:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84401 invoked by uid 500); 3 Dec 2003 14:36:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84344 invoked from network); 3 Dec 2003 14:36:02 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 3 Dec 2003 14:36:02 -0000
Received: (qmail 31624 invoked by uid 0); 3 Dec 2003 14:36:02 -0000
Received: from 193.63.235.44 by www34.gmx.net with HTTP;
	Wed, 3 Dec 2003 15:36:02 +0100 (MET)
Date: Wed, 3 Dec 2003 15:36:02 +0100 (MET)
From: "Ralph   " <ambiesense@gmx.de>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Hits - how many documents?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <9357.1070462162@www34.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is there a maximum of documents Hits provide or is it unlimited (means
limited to heap size of VM)? If there is a maximimum, what is the number?

Ralf

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 14:49:18 2003
Return-Path: 
 <lucene-user-return-6339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1951 invoked from network); 3 Dec 2003 14:49:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 14:49:18 -0000
Received: (qmail 16733 invoked by uid 500); 3 Dec 2003 14:48:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16692 invoked by uid 500); 3 Dec 2003 14:48:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16647 invoked from network); 3 Dec 2003 14:48:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Dec 2003 14:48:31 -0000
Received: (cpmta 24935 invoked from network); 3 Dec 2003 06:48:32 -0800
Received: from 128.143.135.224 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 3 Dec 2003 06:48:32 -0800
X-Sent: 3 Dec 2003 14:48:32 GMT
Date: Wed, 3 Dec 2003 09:48:39 -0500
Subject: Re: Hits - how many documents?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <9357.1070462162@www34.gmx.net>
Message-Id: <C7E96F6E-259F-11D8-A40E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, December 3, 2003, at 09:36  AM, Ralph wrote:
> is there a maximum of documents Hits provide or is it unlimited (means
> limited to heap size of VM)? If there is a maximimum, what is the 
> number?

Hits represents all documents that matched the query (and optionally 
filtered).

But, Hits does not *contain* the documents - it points to them so that 
its memory footprint is quite small.  (there is some slight caching of 
up to 200 documents)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 14:49:34 2003
Return-Path: 
 <lucene-user-return-6340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2256 invoked from network); 3 Dec 2003 14:49:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 14:49:34 -0000
Received: (qmail 20059 invoked by uid 500); 3 Dec 2003 14:49:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20033 invoked by uid 500); 3 Dec 2003 14:49:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20020 invoked from network); 3 Dec 2003 14:49:11 -0000
Received: from unknown (HELO web25203.mail.ukl.yahoo.com) (217.12.10.63)
  by daedalus.apache.org with SMTP; 3 Dec 2003 14:49:11 -0000
Message-ID: <20031203144912.82260.qmail@web25203.mail.ukl.yahoo.com>
Received: from [212.126.153.200] by web25203.mail.ukl.yahoo.com via HTTP;
 Wed, 03 Dec 2003 14:49:12 GMT
Date: Wed, 3 Dec 2003 14:49:12 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Re: Ways to search indexes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031202233811.GG34796@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Dror Matalon <dror@zapatec.com> wrote: > On Tue, Dec 02, 2003 at
01:54:58PM +0000, jt oob wrote:
> > Hi,
> > 
> > I have just indexed a lot of news (nntp) postings.
> > I now have an index for each topic (a topic can have many
> newsgroups)
> > 
> > The index sizes are:
> > 
> > 2.6G Current Affairs
> > 2.4G Celebs
> > 119M Recreation
> > 3.0M Tech - Mac
> > 2.4G Tech - Windows
> > 936M Tech - Linux
> > 702M Tech - Other
> >  96M Tech - Consoles
> 
> Around 15 gigs. How many days of news?

Not sure how many days, but it's around 5 million postings.

________________________________________________________________________
Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
http://www.yahoo.co.uk/robbiewilliams

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 15:17:10 2003
Return-Path: 
 <lucene-user-return-6341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17133 invoked from network); 3 Dec 2003 15:17:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 15:17:10 -0000
Received: (qmail 83052 invoked by uid 500); 3 Dec 2003 15:16:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82996 invoked by uid 500); 3 Dec 2003 15:16:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82908 invoked from network); 3 Dec 2003 15:16:37 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 3 Dec 2003 15:16:37 -0000
Received: (qmail 17429 invoked by uid 0); 3 Dec 2003 15:16:38 -0000
Received: from 193.63.235.44 by www34.gmx.net with HTTP;
	Wed, 3 Dec 2003 16:16:38 +0100 (MET)
Date: Wed, 3 Dec 2003 16:16:38 +0100 (MET)
From: "Ralph   " <ambiesense@gmx.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <C7E96F6E-259F-11D8-A40E-000393A564E6@ehatchersolutions.com>
Subject: Re: Hits - how many documents?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <6845.1070464598@www34.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does this mean Hits points to ALL documents and the last one might have a
score of 0.0 ? If it does not contain all documents, where is the treshhold
then? Or based on which condition it stops pointing to certain documents?

Ralf

> On Wednesday, December 3, 2003, at 09:36  AM, Ralph wrote:
> > is there a maximum of documents Hits provide or is it unlimited (means
> > limited to heap size of VM)? If there is a maximimum, what is the 
> > number?
> 
> Hits represents all documents that matched the query (and optionally 
> filtered).
> 
> But, Hits does not *contain* the documents - it points to them so that 
> its memory footprint is quite small.  (there is some slight caching of 
> up to 200 documents)
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 15:32:21 2003
Return-Path: 
 <lucene-user-return-6342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27028 invoked from network); 3 Dec 2003 15:32:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 15:32:21 -0000
Received: (qmail 19682 invoked by uid 500); 3 Dec 2003 15:32:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19459 invoked by uid 500); 3 Dec 2003 15:31:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19446 invoked from network); 3 Dec 2003 15:31:58 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Dec 2003 15:31:58 -0000
Received: (cpmta 12259 invoked from network); 3 Dec 2003 07:32:00 -0800
Received: from 128.143.135.224 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 3 Dec 2003 07:32:00 -0800
X-Sent: 3 Dec 2003 15:32:00 GMT
Date: Wed, 3 Dec 2003 10:32:06 -0500
Subject: Re: Hits - how many documents?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <6845.1070464598@www34.gmx.net>
Message-Id: <DA3251E3-25A5-11D8-A40E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, December 3, 2003, at 10:16  AM, Ralph wrote:
> Does this mean Hits points to ALL documents and the last one might 
> have a
> score of 0.0 ? If it does not contain all documents, where is the 
> treshhold
> then? Or based on which condition it stops pointing to certain 
> documents?

I'm a bit confused by what you're asking.  Hits points to all documents 
that matched the query.  A score > 0.0 is needed.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 16:27:07 2003
Return-Path: 
 <lucene-user-return-6343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62146 invoked from network); 3 Dec 2003 16:27:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 16:27:07 -0000
Received: (qmail 37100 invoked by uid 500); 3 Dec 2003 16:26:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37070 invoked by uid 500); 3 Dec 2003 16:26:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37047 invoked from network); 3 Dec 2003 16:26:43 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 3 Dec 2003 16:26:43 -0000
Received: (qmail 5771 invoked by uid 0); 3 Dec 2003 16:26:45 -0000
Received: from 193.63.235.44 by www34.gmx.net with HTTP;
	Wed, 3 Dec 2003 17:26:44 +0100 (MET)
Date: Wed, 3 Dec 2003 17:26:44 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <DA3251E3-25A5-11D8-A40E-000393A564E6@ehatchersolutions.com>
Subject: Re: Hits - how many documents?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <20595.1070468804@www34.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That was actually the answer. Originally I thought Hits provide a reference
to all documents. However it seem logical that documents with 0.0 should not
be contained.

Thank you,
Ralf

> I'm a bit confused by what you're asking.  Hits points to all documents 
> that matched the query.  A score > 0.0 is needed.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 17:14:56 2003
Return-Path: 
 <lucene-user-return-6344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98948 invoked from network); 3 Dec 2003 17:14:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 17:14:56 -0000
Received: (qmail 48479 invoked by uid 500); 3 Dec 2003 17:14:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48446 invoked by uid 500); 3 Dec 2003 17:14:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48432 invoked from network); 3 Dec 2003 17:14:32 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 3 Dec 2003 17:14:32 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Wed, 03 Dec
 2003 11:18:20 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNL4DBV9>; Wed, 3 Dec 2003 11:08:36 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DF1@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: What about Spindle
Date: Wed, 3 Dec 2003 11:14:23 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13D0C556636672-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What about Spindle? Has anybody used it to crawle a jsp based web site? Do I
need to intall listlib.jar to do so? 

I got error message "Jsp Translate:Unable to find setter method for
attribue:class" when I tried to run listlib-example.jsp in wsad.

Thanks,
Oliver


 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 17:24:57 2003
Return-Path: 
 <lucene-user-return-6345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5784 invoked from network); 3 Dec 2003 17:24:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 17:24:57 -0000
Received: (qmail 72410 invoked by uid 500); 3 Dec 2003 17:24:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72372 invoked by uid 500); 3 Dec 2003 17:24:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72325 invoked from network); 3 Dec 2003 17:24:30 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 3 Dec 2003 17:24:30 -0000
Message-ID: <20031203172433.94564.qmail@web12707.mail.yahoo.com>
Received: from [194.152.209.136] by web12707.mail.yahoo.com via HTTP;
 Wed, 03 Dec 2003 09:24:33 PST
Date: Wed, 3 Dec 2003 09:24:33 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: What about Spindle
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DF1@mccexc02.mcc_genesis.behavioral.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should ask Spindle author(s).  The error doesn't look like
something that is related to Lucene, really.

Otis

--- "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com> wrote:
> What about Spindle? Has anybody used it to crawle a jsp based web
> site? Do I
> need to intall listlib.jar to do so? 
> 
> I got error message "Jsp Translate:Unable to find setter method for
> attribue:class" when I tried to run listlib-example.jsp in wsad.
> 
> Thanks,
> Oliver
> 
> 
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 17:51:55 2003
Return-Path: 
 <lucene-user-return-6346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25781 invoked from network); 3 Dec 2003 17:51:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 17:51:55 -0000
Received: (qmail 39257 invoked by uid 500); 3 Dec 2003 17:51:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39230 invoked by uid 500); 3 Dec 2003 17:51:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39217 invoked from network); 3 Dec 2003 17:51:30 -0000
Received: from unknown (HELO cbhmnepwsec1.mcc-care.com) (209.98.183.90)
  by daedalus.apache.org with SMTP; 3 Dec 2003 17:51:30 -0000
Received: from 209.98.183.130 by cbhmnepwsec1.mcc-care.com with ESMTP (
 Welcome to CIGNA Behavioral SMTP Gateway (MMS v5.5.3)); Wed, 03 Dec
 2003 11:55:18 -0500
Received: by exchange.mcc-care.com with Internet Mail Service (
 5.5.2653.19) id <TNL4DC01>; Wed, 3 Dec 2003 11:45:33 -0600
Message-ID: 
 <CD6C59E38692CC4294619611087313760C4F4DF2@mccexc02.mcc_genesis.behavioral.com>
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: What about Spindle
Date: Wed, 3 Dec 2003 11:51:18 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
X-WSS-ID: 13D0FC0C639034-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think it is common task to index a jsp based web site.  A lot of poeple
ask how to do so on this mailing list.  However, Lucene does not have a
ready to use web crawler.  My question is that has anybody used Spindle to
index a jsp based web site or is there any other tools out there.

Thanks,
Oliver



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Wednesday, December 03, 2003 11:25 AM
To: Lucene Users List
Subject: Re: What about Spindle


You should ask Spindle author(s).  The error doesn't look like
something that is related to Lucene, really.

Otis

--- "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com> wrote:
> What about Spindle? Has anybody used it to crawle a jsp based web
> site? Do I
> need to intall listlib.jar to do so? 
> 
> I got error message "Jsp Translate:Unable to find setter method for
> attribue:class" when I tried to run listlib-example.jsp in wsad.
> 
> Thanks,
> Oliver
> 
> 
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 18:19:12 2003
Return-Path: 
 <lucene-user-return-6347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41258 invoked from network); 3 Dec 2003 18:19:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 18:19:12 -0000
Received: (qmail 22156 invoked by uid 500); 3 Dec 2003 18:18:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22118 invoked by uid 500); 3 Dec 2003 18:18:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22037 invoked from network); 3 Dec 2003 18:18:26 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 3 Dec 2003 18:18:26 -0000
Received: from fw.shark (gprs193-211.eurotel.cz [160.218.193.211])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 4CCCB30270
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 19:18:27 +0100 (CET)
Received: from seznam.cz (0-253.shark [192.168.0.253])
	by fw.shark (8.12.9/8.12.9) with ESMTP id hB3IGPmo015831
	for <lucene-user@jakarta.apache.org>; Wed, 3 Dec 2003 19:16:27 +0100 (CET)
Message-ID: <3FCE28E7.5070507@seznam.cz>
Date: Wed, 03 Dec 2003 19:18:15 +0100
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: What about Spindle
References: 
 <CD6C59E38692CC4294619611087313760C4F4DF2@mccexc02.mcc_genesis.behavioral.com>
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DF2@mccexc02.mcc_genesis.behavioral.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can try Capek (needs JDK1.4, because it uses NIO). It can crawl 
whatever you like.

API:
http://www.egothor.org/api/robot/

Console - demo (*.dundee.ac.uk):
http://www.egothor.org/egothor/index.jsp?q=http%3A%2F%2Fwww.compbio.dundee.ac.uk%2F

Leo

Zhou, Oliver wrote:

>I think it is common task to index a jsp based web site.  A lot of poeple
>ask how to do so on this mailing list.  However, Lucene does not have a
>ready to use web crawler.  My question is that has anybody used Spindle to
>index a jsp based web site or is there any other tools out there.
>
>Thanks,
>Oliver
>
>
>
>-----Original Message-----
>From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>Sent: Wednesday, December 03, 2003 11:25 AM
>To: Lucene Users List
>Subject: Re: What about Spindle
>
>
>You should ask Spindle author(s).  The error doesn't look like
>something that is related to Lucene, really.
>
>Otis
>
>--- "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com> wrote:
>  
>
>>What about Spindle? Has anybody used it to crawle a jsp based web
>>site? Do I
>>need to intall listlib.jar to do so? 
>>
>>I got error message "Jsp Translate:Unable to find setter method for
>>attribue:class" when I tried to run listlib-example.jsp in wsad.
>>
>>Thanks,
>>Oliver
>>
>>
>> 
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>__________________________________
>Do you Yahoo!?
>Free Pop-Up Blocker - Get it now
>http://companion.yahoo.com/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 19:45:54 2003
Return-Path: 
 <lucene-user-return-6348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89701 invoked from network); 3 Dec 2003 19:45:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 19:45:54 -0000
Received: (qmail 80673 invoked by uid 500); 3 Dec 2003 19:45:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80644 invoked by uid 500); 3 Dec 2003 19:45:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80631 invoked from network); 3 Dec 2003 19:45:26 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 3 Dec 2003 19:45:26 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id CF53D5D22
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 11:45:31 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB3JjVkw057184
	for lucene-user@jakarta.apache.org; Wed, 3 Dec 2003 11:45:31 -0800 (PST)
	(envelope-from dror)
Date: Wed, 3 Dec 2003 11:45:31 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Ways to search indexes
Message-ID: <20031203194531.GT34796@rlx11.zapatec.com>
References: <20031202233811.GG34796@rlx11.zapatec.com>
 <20031203144912.82260.qmail@web25203.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031203144912.82260.qmail@web25203.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, Dec 03, 2003 at 02:49:12PM +0000, jt oob wrote:
>  --- Dror Matalon <dror@zapatec.com> wrote: > On Tue, Dec 02, 2003 at
> 01:54:58PM +0000, jt oob wrote:
> > > Hi,
> > > 
> > > I have just indexed a lot of news (nntp) postings.
> > > I now have an index for each topic (a topic can have many
> > newsgroups)
> > > 
> > > The index sizes are:
> > > 
> > > 2.6G Current Affairs
> > > 2.4G Celebs
> > > 119M Recreation
> > > 3.0M Tech - Mac
> > > 2.4G Tech - Windows
> > > 936M Tech - Linux
> > > 702M Tech - Other
> > >  96M Tech - Consoles
> > 
> > Around 15 gigs. How many days of news?
> 
> Not sure how many days, but it's around 5 million postings.

So each posting is roughly 3K. More than I would have thought, but not
too surprising. 
The main reason I asked about how many days, is to get the sense of
growth. 15 Gig is a big index, but to understand the performance
repercussions the rate of growth is equally important. I suspect that by
the time you hit 100 gigs, you'll have one of the biggest indexes around
and you'll have to throw quite heavy hardware or distribute the load to 
get reasonable performance.

> 
> ________________________________________________________________________
> Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
> http://www.yahoo.co.uk/robbiewilliams
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 20:48:52 2003
Return-Path: 
 <lucene-user-return-6349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27693 invoked from network); 3 Dec 2003 20:48:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 20:48:52 -0000
Received: (qmail 84887 invoked by uid 500); 3 Dec 2003 20:48:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84859 invoked by uid 500); 3 Dec 2003 20:48:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84846 invoked from network); 3 Dec 2003 20:48:23 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 3 Dec 2003 20:48:23 -0000
Message-ID: <20031203204829.79330.qmail@web12701.mail.yahoo.com>
Received: from [195.29.50.164] by web12701.mail.yahoo.com via HTTP;
 Wed, 03 Dec 2003 12:48:29 PST
Date: Wed, 3 Dec 2003 12:48:29 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: What about Spindle
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <CD6C59E38692CC4294619611087313760C4F4DF2@mccexc02.mcc_genesis.behavioral.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is LARM, there is Nutch, there is Egothor (doesn't use Lucene),
etc.

Otis

--- "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com> wrote:
> I think it is common task to index a jsp based web site.  A lot of
> poeple
> ask how to do so on this mailing list.  However, Lucene does not have
> a
> ready to use web crawler.  My question is that has anybody used
> Spindle to
> index a jsp based web site or is there any other tools out there.
> 
> Thanks,
> Oliver
> 
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Wednesday, December 03, 2003 11:25 AM
> To: Lucene Users List
> Subject: Re: What about Spindle
> 
> 
> You should ask Spindle author(s).  The error doesn't look like
> something that is related to Lucene, really.
> 
> Otis
> 
> --- "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com> wrote:
> > What about Spindle? Has anybody used it to crawle a jsp based web
> > site? Do I
> > need to intall listlib.jar to do so? 
> > 
> > I got error message "Jsp Translate:Unable to find setter method for
> > attribue:class" when I tried to run listlib-example.jsp in wsad.
> > 
> > Thanks,
> > Oliver
> > 
> > 
> >  
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Free Pop-Up Blocker - Get it now
> http://companion.yahoo.com/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 21:51:25 2003
Return-Path: 
 <lucene-user-return-6350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59251 invoked from network); 3 Dec 2003 21:51:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 21:51:25 -0000
Received: (qmail 2976 invoked by uid 500); 3 Dec 2003 21:50:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2949 invoked by uid 500); 3 Dec 2003 21:50:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2936 invoked from network); 3 Dec 2003 21:50:55 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 3 Dec 2003 21:50:55 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 04C987D19
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 22:51:01 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 69B517D14
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 22:50:58 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Probabilistic Model in Lucene - possible?
Date: Wed, 3 Dec 2003 22:50:58 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC438817@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO5p5VjJeuQYFL1SCWfsk+fH/9YkwAPjDiA
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

>>
I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible.
>>

Sorry, I have no idea about how to use a probabilistic approach with=20
Lucene, but if anyone does so, I would like to know, too.=20

I am currently puzzled by a related question: I would like to know
if there are any approaches to get a confidence value for relevance=20
rather than a ranking. I.e., it would be nice to have a ranking=20
weight whose value has some kind of semantics such that we could=20
compare results from different queries. Can probabilistic approches=20
do anything like this?=20

Any help appreciated,

Karsten



-----Urspr=FCngliche Nachricht-----
Von: ambiesense@gmx.de [mailto:ambiesense@gmx.de]=20
Gesendet: Mittwoch, 3. Dezember 2003 15:13
An: lucene-user@jakarta.apache.org
Betreff: Probabilistic Model in Lucene - possible?


Hello group,

from the very inspiring conversations with Karsten I know that Lucene is =
based on a Vector Space Model. I am just wondering if it would be =
possible to turn this into a probabilistic Model approach. Of course I =
do know that I cannot change the underlying indexing and searching =
principles. However it would be possible to change the index term weight =
to eigther 1.0 (relevant) or 0.0 (non-relevant). For the similarity I =
would need to implement another similarity algorithm.

I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible. If yes, =
how much effort would need to go into that? I am sure there are many =
other issues which I have not considered...

Kind Regards,
Ralf


--=20
+++ GMX - die erste Adresse f=FCr Mail, Message, More +++
Neu: Preissenkung f=FCr MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 22:01:19 2003
Return-Path: 
 <lucene-user-return-6351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63370 invoked from network); 3 Dec 2003 22:01:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 22:01:19 -0000
Received: (qmail 17054 invoked by uid 500); 3 Dec 2003 22:00:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16904 invoked by uid 500); 3 Dec 2003 22:00:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16878 invoked from network); 3 Dec 2003 22:00:49 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 3 Dec 2003 22:00:49 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Wed, 3 Dec 2003 17:00:55 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB3M0sO06946
	for <lucene-user@jakarta.apache.org>; Wed, 3 Dec 2003 17:00:54 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Probabilistic Model in Lucene - possible?
Date: Wed, 3 Dec 2003 17:00:53 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240875@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO555FxSVQN8RhjQNS3azaojfzJYQAAEB0g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i think i am missing the original question, but by most accepted =
definitions, the tf/idf model in Lucene is a probabilistic model. it's =
got strange normalizations though that doesn't allow comparisons of rank =
values across queries.

it isn't terribly hard to make a normalized probabilistic model that =
allows comparing of document scores across queries and assign a meaning =
to the score. i've done it. however, that means abandoning idf and =
keeping actual term frequencies for each document and document size. =
once you normalize this way, you can intermingle document scores from =
different queries and different corpora and make statements about the =
absolute value of the score. it also leads directly into the discussion =
we had earlier about interterm correlations and how to handle them =
properly since the full interterm probabilistic model has as a special =
case the traditional tf/idf model. interjecting Boolean conditions and =
boost makes the model much more complicated.

Herb....

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Wednesday, December 03, 2003 4:51 PM
To: Lucene Users List
Subject: AW: Probabilistic Model in Lucene - possible?

>>
I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible.
>>

Sorry, I have no idea about how to use a probabilistic approach with=20
Lucene, but if anyone does so, I would like to know, too.=20

I am currently puzzled by a related question: I would like to know
if there are any approaches to get a confidence value for relevance=20
rather than a ranking. I.e., it would be nice to have a ranking=20
weight whose value has some kind of semantics such that we could=20
compare results from different queries. Can probabilistic approches=20
do anything like this?=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 22:24:59 2003
Return-Path: 
 <lucene-user-return-6352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73169 invoked from network); 3 Dec 2003 22:24:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 22:24:59 -0000
Received: (qmail 40449 invoked by uid 500); 3 Dec 2003 22:24:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40406 invoked by uid 500); 3 Dec 2003 22:24:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40353 invoked from network); 3 Dec 2003 22:24:06 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 3 Dec 2003 22:24:06 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id CCA667D19
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 23:24:11 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 63DF87D14
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 23:24:09 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Document Similarity
Date: Wed, 3 Dec 2003 23:24:09 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC438818@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Document Similarity
Thread-Index: AcO494Tzrl0gnKwrR0KBcsmCP3AJXgA8ONHA
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

>> Do they produce same ranking results?=20

No; Lucene's operations on query weight and length normalization is not
equivalent to a vanilla cosine in vector space.

>> I guess the 2nd approach will be more precise but slow.

Query similarity=20
will indeed  be faster, but may actually not be worse. A straightforward =

cosine  without IDF weighting of terms (as Lucene does) will almost =
certainly=20
be less precise if you have documents of different length - word
occurence probabilities in texts of different lengths vary greatly,
and the cosine of independent longer texts will often be greater than=20
those that actually have the same topic, but are short, just because=20
of randomly found non-content words.

If, on the other hand, you choose the right TF/IDF weighting  of=20
terms, the cosine in this warped vector space could be (a)=20
equivalent to the one Lucene does - requires some work to do so, or=20
(b) might even get better on average.

However, the last time I counted, there where about 250 different=20
TF/IDF formulas around in IR publications, machine learning,
computational linguistics and so on. Performance depends on domain
and language.=20

But if I was you, I just would start playing and have fun with
the stuff...

Karsten


-----Urspr=FCngliche Nachricht-----
Von: Jing Su [mailto:J.Su@cs.bham.ac.uk]=20
Gesendet: Dienstag, 2. Dezember 2003 18:12
An: lucene-user@jakarta.apache.org
Betreff: Document Similarity



Hi,

I have read some posts in user/developer archives about Lucene-based =
document similarity comparison. In summary there are two approaches are
mentioned:

1 - Construct document to a query;
2 - Calculate each document to be a vector, then rank accoring to their =
distance (cosine).

Do they produce same ranking results? Is there any other way to do so? I =
guess the 2nd approach will be more precise but slow.

Thanks.

Jing

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec  3 23:06:14 2003
Return-Path: 
 <lucene-user-return-6353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93356 invoked from network); 3 Dec 2003 23:06:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Dec 2003 23:06:14 -0000
Received: (qmail 21305 invoked by uid 500); 3 Dec 2003 23:05:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21179 invoked by uid 500); 3 Dec 2003 23:05:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21163 invoked from network); 3 Dec 2003 23:05:43 -0000
Received: from unknown (HELO rediffmail.com) (202.54.124.145)
  by daedalus.apache.org with SMTP; 3 Dec 2003 23:05:43 -0000
Received: (qmail 27710 invoked by uid 510); 3 Dec 2003 23:04:15 -0000
Date: 3 Dec 2003 23:04:15 -0000
Message-ID: <20031203230415.27709.qmail@webmail30.rediffmail.com>
Received: from unknown (199.68.77.225) by rediffmail.com via HTTP;
 03 dec 2003 23:04:15 -0000
MIME-Version: 1.0
From: "uma mahesh rao" <umamahesh78@rediffmail.com>
Reply-To: "uma mahesh rao" <umamahesh78@rediffmail.com>
To: lucene-user@jakarta.apache.org
Subject: summary
Content-type: multipart/alternative;
	boundary="Next_1070492655---0-202.54.124.145-27707"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1070492655---0-202.54.124.145-27707
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi=0A=0AIn lucene demo the summary that is displayed is having text that co=
ntained inside html tag (like margin, top , left and so) .=0A=0Aso how to d=
isplay  actually in the page which is related to the page description.=0A=
=0Aur help is appreciated =0A=0A=0Athanking you=0A=0Amahesh
--Next_1070492655---0-202.54.124.145-27707--


From MAILER-DAEMON Thu Dec  4 00:26:20 2003
Return-Path: 
 <lucene-user-return-6354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29297 invoked from network); 4 Dec 2003 00:26:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 00:26:20 -0000
Received: (qmail 24896 invoked by uid 500); 4 Dec 2003 00:25:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24855 invoked by uid 500); 4 Dec 2003 00:25:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24824 invoked from network); 4 Dec 2003 00:25:25 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 4 Dec 2003 00:25:25 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 1ARhJF-0002cR-I7
	for lucene-user@jakarta.apache.org; Wed, 03 Dec 2003 17:25:33 -0700
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: SearchBlox J2EE Search Component Version 1.1 released
Date: Wed, 3 Dec 2003 17:27:18 -0700
User-Agent: KMail/1.4.3
References: <200312021651.hB2GpHQQ006075@smtp24.singnet.com.sg>
In-Reply-To: <200312021651.hB2GpHQQ006075@smtp24.singnet.com.sg>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200312031727.18501.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 02 December 2003 09:51, Tun Lin wrote:
> Anyone knows a search engine that supports xml formats?

There's no way to generally "support xml formats", as xml is just a 
meta-language. However, building specific search engines using Lucene core it 
should be reasonably straight-forward to implement more accurate 
xml-structure-aware tokenization for specific xml applications like DocBook 
or other domain-specific apps.
So, if any search engine advertises "indexing xml content", one better read 
the fine print to learn what they really claim.

It might be interesting to create a Lucene plug-in that, given a specification 
of how sub trees under specific elements, would tokenize and index content 
into separate fields. Plus implementation shouldn't be very difficult -- just 
use standard XML parser (SAX, DOM) -- and then match xpaths, feed that to 
analyzer and then add to index. This could also be used for HTML 
(pre-filtering with JTidy or similar first to get to xml-compliant HTML).
I wouldn't be surprised if someone on list has already done this?

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 01:52:25 2003
Return-Path: 
 <lucene-user-return-6355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60293 invoked from network); 4 Dec 2003 01:52:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 01:52:25 -0000
Received: (qmail 15221 invoked by uid 500); 4 Dec 2003 01:51:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15190 invoked by uid 500); 4 Dec 2003 01:51:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15177 invoked from network); 4 Dec 2003 01:51:51 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 4 Dec 2003 01:51:51 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 43BA65D22
	for <lucene-user@jakarta.apache.org>; Wed,  3 Dec 2003 17:52:00 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB41pxJp057710
	for lucene-user@jakarta.apache.org; Wed, 3 Dec 2003 17:51:59 -0800 (PST)
	(envelope-from dror)
Date: Wed, 3 Dec 2003 17:51:59 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: NPE when using explain
Message-ID: <20031204015159.GZ34796@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

I'm trying to use IndexSearcher.explain(Query query, int doc) and am
getting a NPE. If I remove the "explain" the search works fine.
I poked a little at the TermQuery.java code, but I can't really tell
what's causing the exception.

This is with 1.3rc3


Exception in thread "main" java.lang.NullPointerException at
org.apache.lucene.search.TermQuery$TermWeight.explain(TermQuery.java:142) at
org.apache.lucene.search.BooleanQuery$BooleanWeight.explain(BooleanQuery.java:186) at
org.apache.lucene.search.IndexSearcher.explain(IndexSearcher.java:196)
at LuceneCli.search(LuceneCli.java:78)
at LuceneLine.handleCommand(LuceneLine.java:188)
at LuceneLine.<init>(LuceneLine.java:117)
at LuceneLine.main(LuceneLine.java:136)

The area of the code that caused this.

    Hits hits = initSearch(queryString);
    System.out.println(hits.length() + " total matching documents");

    final int HITS_PER_PAGE = 10;
    message ("--------------------------------------");
    for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) {
      int end = Math.min(hits.length(), start + HITS_PER_PAGE);
      for (int ii = start; ii < end; ii++) {
        Document doc = hits.doc(ii);
        message ("---------------- " + ii + " score:" + hits.score(ii) + "---------------------");
        if (explain) {
          Explanation exp = searcher.explain(query, ii);
          message("Explanation:" + exp.toString());
        }
        printHit(doc);
      }


Regards,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 09:41:55 2003
Return-Path: 
 <lucene-user-return-6356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52934 invoked from network); 4 Dec 2003 09:41:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 09:41:55 -0000
Received: (qmail 90397 invoked by uid 500); 4 Dec 2003 09:41:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90221 invoked by uid 500); 4 Dec 2003 09:41:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90208 invoked from network); 4 Dec 2003 09:41:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 4 Dec 2003 09:41:12 -0000
Received: (cpmta 13995 invoked from network); 4 Dec 2003 01:41:25 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 4 Dec 2003 01:41:25 -0800
X-Sent: 4 Dec 2003 09:41:25 GMT
Date: Thu, 4 Dec 2003 04:41:33 -0500
Subject: Re: NPE when using explain
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031204015159.GZ34796@rlx11.zapatec.com>
Message-Id: <0B80F52F-263E-11D8-AA01-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, December 3, 2003, at 08:51  PM, Dror Matalon wrote:
>     Hits hits = initSearch(queryString);

Does initSearch close the IndexSearcher?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 10:10:13 2003
Return-Path: 
 <lucene-user-return-6357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68030 invoked from network); 4 Dec 2003 10:10:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 10:10:13 -0000
Received: (qmail 38308 invoked by uid 500); 4 Dec 2003 10:09:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38276 invoked by uid 500); 4 Dec 2003 10:09:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38173 invoked from network); 4 Dec 2003 10:09:12 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 4 Dec 2003 10:09:12 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 5C7EE7EFD
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 11:09:25 +0100 (MET)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 4694E7F18
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 11:09:13 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Probabilistic Model in Lucene - possible?
Date: Thu, 4 Dec 2003 11:09:13 +0100
Message-ID: <3B48940F2D7712428BD31A041A367DDC43881A@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO555FxSVQN8RhjQNS3azaojfzJYQAAEB0gABivKfA=
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Herb,

thank you for your insights.

>>
but by most accepted definitions, the tf/idf model in Lucene is a =
probabilistic model.=20
>>

Can you send some pointers to help me understand that? Are all =
TF/IDF-variants=20
probabilistic models? If so, what makes any model a non-probabilistic =
one?=20
If you claim that TF/IDF is probabilistic, then the plain cosine (an =
extreme=20
form of TF/IDF, with IDF for all terms being considered constant) of VSM =
would
also be a probabilistic model.

>>
it's got strange normalizations though that doesn't allow comparisons of =
rank values across queries.
>>

Lucene's internal ranking sometimes returns values > 1.0, these are then =
normalized to 1.0,
adjusting other rankings accordingly. While I have nothing to say =
against this - it's a hack,
but useful - it makes comparing the rank values across queries really =
difficult. It's like
using different scales whenever you measure something different, and =
then you do not tell
anyone about it.=20

>>
it isn't terribly hard to make a normalized probabilistic model that =
allows comparing of document scores across queries and assign a meaning =
to the score. i've done it.
>>

Stop bragging, send us your Similarity implementation :)

Regards,

Karsten


-----Urspr=FCngliche Nachricht-----
Von: Chong, Herb [mailto:HChong3@bloomberg.com]=20
Gesendet: Mittwoch, 3. Dezember 2003 23:01
An: Lucene Users List
Betreff: RE: Probabilistic Model in Lucene - possible?


i think i am missing the original question, but by most accepted =
definitions, the tf/idf model in Lucene is a probabilistic model. it's =
got strange normalizations though that doesn't allow comparisons of rank =
values across queries.

it isn't terribly hard to make a normalized probabilistic model that =
allows comparing of document scores across queries and assign a meaning =
to the score. i've done it. however, that means abandoning idf and =
keeping actual term frequencies for each document and document size. =
once you normalize this way, you can intermingle document scores from =
different queries and different corpora and make statements about the =
absolute value of the score. it also leads directly into the discussion =
we had earlier about interterm correlations and how to handle them =
properly since the full interterm probabilistic model has as a special =
case the traditional tf/idf model. interjecting Boolean conditions and =
boost makes the model much more complicated.

Herb....

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Wednesday, December 03, 2003 4:51 PM
To: Lucene Users List
Subject: AW: Probabilistic Model in Lucene - possible?

>>
I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible.
>>

Sorry, I have no idea about how to use a probabilistic approach with=20
Lucene, but if anyone does so, I would like to know, too.=20

I am currently puzzled by a related question: I would like to know if =
there are any approaches to get a confidence value for relevance=20
rather than a ranking. I.e., it would be nice to have a ranking=20
weight whose value has some kind of semantics such that we could=20
compare results from different queries. Can probabilistic approches=20
do anything like this?=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 10:10:51 2003
Return-Path: 
 <lucene-user-return-6358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68508 invoked from network); 4 Dec 2003 10:10:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 10:10:51 -0000
Received: (qmail 41773 invoked by uid 500); 4 Dec 2003 10:10:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41747 invoked by uid 500); 4 Dec 2003 10:10:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41703 invoked from network); 4 Dec 2003 10:10:02 -0000
Received: from unknown (HELO c011.snv.cp.net) (209.228.34.214)
  by daedalus.apache.org with SMTP; 4 Dec 2003 10:10:02 -0000
Received: (cpmta 1088 invoked from network); 4 Dec 2003 02:10:14 -0800
Received: from 68.50.73.199 (HELO medined01)
  by smtp.mtolive.com (209.228.34.214) with SMTP; 4 Dec 2003 02:10:14 -0800
X-Sent: 4 Dec 2003 10:10:14 GMT
Message-ID: <014d01c3ba4f$16727b50$9ea5fea9@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <0B80F52F-263E-11D8-AA01-000393A564E6@ehatchersolutions.com>
Subject: Re: NPE when using explain
Date: Thu, 4 Dec 2003 05:12:13 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric.. It's nearly 5am... Get some sleep!

David Medinets
http://www.codebits.com

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 04, 2003 4:41 AM
Subject: Re: NPE when using explain


> On Wednesday, December 3, 2003, at 08:51  PM, Dror Matalon wrote:
> >     Hits hits = initSearch(queryString);
> 
> Does initSearch close the IndexSearcher?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 10:27:37 2003
Return-Path: 
 <lucene-user-return-6359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78411 invoked from network); 4 Dec 2003 10:27:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 10:27:37 -0000
Received: (qmail 60640 invoked by uid 500); 4 Dec 2003 10:26:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60613 invoked by uid 500); 4 Dec 2003 10:26:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60599 invoked from network); 4 Dec 2003 10:26:53 -0000
Received: from unknown (HELO smtp13.singnet.com.sg) (165.21.6.33)
  by daedalus.apache.org with SMTP; 4 Dec 2003 10:26:53 -0000
Received: from HP29375324311 ([155.69.58.70])
	by smtp13.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB4AR1gT025183
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 18:27:05 +0800
Message-Id: <200312041027.hB4AR1gT025183@smtp13.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: XMLIndexingDemo.
Date: Thu, 4 Dec 2003 18:26:58 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0006_01C3BA94.34B79B00"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcO6USXWqbbal4JDQh6IgfUAIvdEdA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0006_01C3BA94.34B79B00
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

I have tried the XMLIndexingDemo. It only supports indexing one xml file at a
time and delete the old one. Also, I customerInfo tag can have only 1 <name>. Is
there an open source that supports 1 customerInfo tag with many <name>? 

------=_NextPart_000_0006_01C3BA94.34B79B00--



From MAILER-DAEMON Thu Dec  4 10:29:54 2003
Return-Path: 
 <lucene-user-return-6360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79061 invoked from network); 4 Dec 2003 10:29:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 10:29:54 -0000
Received: (qmail 62058 invoked by uid 500); 4 Dec 2003 10:29:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62026 invoked by uid 500); 4 Dec 2003 10:29:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62010 invoked from network); 4 Dec 2003 10:29:11 -0000
Received: from unknown (HELO smtp17.singnet.com.sg) (165.21.6.37)
  by daedalus.apache.org with SMTP; 4 Dec 2003 10:29:11 -0000
Received: from HP29375324311 ([155.69.58.70])
	by smtp17.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hB4ATIOc028807;
	Thu, 4 Dec 2003 18:29:22 +0800
Message-Id: <200312041029.hB4ATIOc028807@smtp17.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
        <chentun@singnet.com.sg>
Subject: RE: XMLIndexingDemo.
Date: Thu, 4 Dec 2003 18:29:15 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200312041027.hB4AR1gT025183@smtp13.singnet.com.sg>
Thread-Index: AcO6USXWqbbal4JDQh6IgfUAIvdEdAAAEG2w
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Or supports all xml files in that particular directory? 

-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg] 
Sent: Thursday, December 04, 2003 6:27 PM
To: Lucene user list
Subject: XMLIndexingDemo.

Hi,

I have tried the XMLIndexingDemo. It only supports indexing one xml file at a
time and delete the old one. Also, I customerInfo tag can have only 1 <name>. Is
there an open source that supports 1 customerInfo tag with many <name>? 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 10:47:10 2003
Return-Path: 
 <lucene-user-return-6361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86494 invoked from network); 4 Dec 2003 10:47:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 10:47:10 -0000
Received: (qmail 85903 invoked by uid 500); 4 Dec 2003 10:46:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85865 invoked by uid 500); 4 Dec 2003 10:46:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85852 invoked from network); 4 Dec 2003 10:46:25 -0000
Received: from unknown (HELO smtp.kelkoo.net) (194.98.147.102)
  by daedalus.apache.org with SMTP; 4 Dec 2003 10:46:25 -0000
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id hB4AkWr1017809
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 11:46:32 +0100
Message-ID: <3FCF107E.4040604@kelkoo.net>
Date: Thu, 04 Dec 2003 11:46:22 +0100
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.2) Gecko/20030716
X-Accept-Language: fr, French/France, fr-FR, Frenc
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NPE when using explain
References: <20031204015159.GZ34796@rlx11.zapatec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL,
 from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has
 authenticated securely.]
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think you have some documents which don't contain all the fields.
Something like:
docA : field1=valueA1 ; field2=valueA2; field3=valueA3;
docB : field1=valueB1 ; field3=valueB3;

docB will generate a NPE when the 'explain' will treat it because of the 
missing 'field2'
I think it's a little bug that can happen when the index is not 
'consistent' (ie all documents have the same fields).
Check your index to see if it's the case. Note that even if only 1 
document contains a field 'toto', this field is added to the list of the 
index fields.

Franck


Dror Matalon wrote:
> Hi,
> 
> I'm trying to use IndexSearcher.explain(Query query, int doc) and am
> getting a NPE. If I remove the "explain" the search works fine.
> I poked a little at the TermQuery.java code, but I can't really tell
> what's causing the exception.
> 
> This is with 1.3rc3
> 
> 
> Exception in thread "main" java.lang.NullPointerException at
> org.apache.lucene.search.TermQuery$TermWeight.explain(TermQuery.java:142) at
> org.apache.lucene.search.BooleanQuery$BooleanWeight.explain(BooleanQuery.java:186) at
> org.apache.lucene.search.IndexSearcher.explain(IndexSearcher.java:196)
> at LuceneCli.search(LuceneCli.java:78)
> at LuceneLine.handleCommand(LuceneLine.java:188)
> at LuceneLine.<init>(LuceneLine.java:117)
> at LuceneLine.main(LuceneLine.java:136)
> 
> The area of the code that caused this.
> 
>     Hits hits = initSearch(queryString);
>     System.out.println(hits.length() + " total matching documents");
> 
>     final int HITS_PER_PAGE = 10;
>     message ("--------------------------------------");
>     for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) {
>       int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>       for (int ii = start; ii < end; ii++) {
>         Document doc = hits.doc(ii);
>         message ("---------------- " + ii + " score:" + hits.score(ii) + "---------------------");
>         if (explain) {
>           Explanation exp = searcher.explain(query, ii);
>           message("Explanation:" + exp.toString());
>         }
>         printHit(doc);
>       }
> 
> 
> Regards,
> 
> Dror
> 



-- 
Franck Brisbart
R&D
http://www.kelkoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 11:05:17 2003
Return-Path: 
 <lucene-user-return-6362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96164 invoked from network); 4 Dec 2003 11:05:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 11:05:17 -0000
Received: (qmail 17017 invoked by uid 500); 4 Dec 2003 11:04:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16995 invoked by uid 500); 4 Dec 2003 11:04:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16981 invoked from network); 4 Dec 2003 11:04:30 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 4 Dec 2003 11:04:30 -0000
Message-ID: <20031204110444.19139.qmail@web12708.mail.yahoo.com>
Received: from [194.152.216.22] by web12708.mail.yahoo.com via HTTP;
 Thu, 04 Dec 2003 03:04:44 PST
Date: Thu, 4 Dec 2003 03:04:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: XMLIndexingDemo.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200312041029.hB4ATIOc028807@smtp17.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tun,

There is nothing that 'comes out of the box' and works on whatever XML
file you give it.  However, there are tools that you can use to parse
any kind of XML file and prepare it for indexing.
Look at the Resource section of Lucene's site, there is a link to an
article that describes how to parse XML with Digester and then index
and search it with Lucene.
It will require you to do some custom java programming, though.

Otis


--- Tun Lin <chentun@singnet.com.sg> wrote:
> Or supports all xml files in that particular directory? 
> 
> -----Original Message-----
> From: Tun Lin [mailto:chentun@singnet.com.sg] 
> Sent: Thursday, December 04, 2003 6:27 PM
> To: Lucene user list
> Subject: XMLIndexingDemo.
> 
> Hi,
> 
> I have tried the XMLIndexingDemo. It only supports indexing one xml
> file at a
> time and delete the old one. Also, I customerInfo tag can have only 1
> <name>. Is
> there an open source that supports 1 customerInfo tag with many
> <name>? 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 11:32:15 2003
Return-Path: 
 <lucene-user-return-6363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9894 invoked from network); 4 Dec 2003 11:32:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 11:32:15 -0000
Received: (qmail 56166 invoked by uid 500); 4 Dec 2003 11:32:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56102 invoked by uid 500); 4 Dec 2003 11:32:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55808 invoked from network); 4 Dec 2003 11:32:07 -0000
Received: from unknown (HELO nextgen.net.mt) (80.77.193.90)
  by daedalus.apache.org with SMTP; 4 Dec 2003 11:32:07 -0000
Date: Thu,  4 Dec 2003 12:32:05 +0100
Message-Id: <200312041232.AA272629836@nextgen.net.mt>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Aaron Galea" <agale@nextgen.net.mt>
Reply-To: <agale@nextgen.net.mt>
To: <lucene-user@jakarta.apache.org>
Subject: Indexing
X-Mailer: <IMail v7.07>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi 

I am indexing a document but for a strange reason the word "Mayo" is never indexed. The thing is that in this large document this term appears only once. However if i remove all text from this document and leave only the paragraph that contains "Mayo", this word will get indexed. I can't see anything wrong with my code and now I am wondering whether there is an option in lucene that if a term has a low occurance it will get ignored. Is this is so?

regards 
Aaron 




________________________________________________________________
Sent through the WebMail system at nextgen.net.mt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 11:35:03 2003
Return-Path: 
 <lucene-user-return-6364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11427 invoked from network); 4 Dec 2003 11:35:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 11:35:03 -0000
Received: (qmail 63174 invoked by uid 500); 4 Dec 2003 11:34:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63129 invoked by uid 500); 4 Dec 2003 11:34:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63067 invoked from network); 4 Dec 2003 11:34:46 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 4 Dec 2003 11:34:46 -0000
Message-ID: <20031204113446.4787.qmail@web12707.mail.yahoo.com>
Received: from [194.152.216.22] by web12707.mail.yahoo.com via HTTP;
 Thu, 04 Dec 2003 03:34:46 PST
Date: Thu, 4 Dec 2003 03:34:46 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>, agale@nextgen.net.mt
In-Reply-To: <200312041232.AA272629836@nextgen.net.mt>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#maxFieldLength
?

Otis

--- Aaron Galea <agale@nextgen.net.mt> wrote:
> Hi 
> 
> I am indexing a document but for a strange reason the word "Mayo" is
> never indexed. The thing is that in this large document this term
> appears only once. However if i remove all text from this document
> and leave only the paragraph that contains "Mayo", this word will get
> indexed. I can't see anything wrong with my code and now I am
> wondering whether there is an option in lucene that if a term has a
> low occurance it will get ignored. Is this is so?
> 
> regards 
> Aaron 
> 
> 
> 
> 
> ________________________________________________________________
> Sent through the WebMail system at nextgen.net.mt
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Free Pop-Up Blocker - Get it now
http://companion.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 11:45:19 2003
Return-Path: 
 <lucene-user-return-6365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17839 invoked from network); 4 Dec 2003 11:45:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 11:45:19 -0000
Received: (qmail 79272 invoked by uid 500); 4 Dec 2003 11:45:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79135 invoked by uid 500); 4 Dec 2003 11:45:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79122 invoked from network); 4 Dec 2003 11:45:13 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 4 Dec 2003 11:45:13 -0000
Received: (qmail 32407 invoked by uid 0); 4 Dec 2003 11:45:11 -0000
Received: from 193.63.235.44 by www40.gmx.net with HTTP;
	Thu, 4 Dec 2003 12:45:12 +0100 (MET)
Date: Thu, 4 Dec 2003 12:45:12 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <3B48940F2D7712428BD31A041A367DDC43881A@lrrr>
Subject: Re: AW: Probabilistic Model in Lucene - possible?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <2582.1070538312@www40.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Karsten and Herb,

I would like to join Karsten in the club of sightly confused people
regarding what probabilistic and what vector space model is... :-)  I consistered
TF/IDF and cosine similarity so far as something which belongs to the VSM. The
standard similarity formula for probabilistic model also looks different from
TF/IDF...

Clarification would be appreciated. 

Cheers,
Ralf


> 
> Hi Herb,
> 
> thank you for your insights.
> 
> >>
> but by most accepted definitions, the tf/idf model in Lucene is a 
> probabilistic model. 
> >>
> 
> Can you send some pointers to help me understand that? Are all 
> TF/IDF-variants 
> probabilistic models? If so, what makes any model a non-probabilistic 
> one? 
> If you claim that TF/IDF is probabilistic, then the plain cosine (an 
> extreme 
> form of TF/IDF, with IDF for all terms being considered constant) of VSM 
> would
> also be a probabilistic model.
> 
> >>
> it's got strange normalizations though that doesn't allow comparisons of 
> rank values across queries.
> >>
> 
> Lucene's internal ranking sometimes returns values > 1.0, these are then 
> normalized to 1.0,
> adjusting other rankings accordingly. While I have nothing to say 
> against this - it's a hack,
> but useful - it makes comparing the rank values across queries really 
> difficult. It's like
> using different scales whenever you measure something different, and 
> then you do not tell
> anyone about it. 
> 
> >>
> it isn't terribly hard to make a normalized probabilistic model that 
> allows comparing of document scores across queries and assign a meaning 
> to the score. i've done it.
> >>
> 
> Stop bragging, send us your Similarity implementation :)
> 
> Regards,
> 
> Karsten
> 
> 
> -----Urspr�ngliche Nachricht-----
> Von: Chong, Herb [mailto:HChong3@bloomberg.com] 
> Gesendet: Mittwoch, 3. Dezember 2003 23:01
> An: Lucene Users List
> Betreff: RE: Probabilistic Model in Lucene - possible?
> 
> 
> i think i am missing the original question, but by most accepted 
> definitions, the tf/idf model in Lucene is a probabilistic model. it's 
> got strange normalizations though that doesn't allow comparisons of rank 
> values across queries.
> 
> it isn't terribly hard to make a normalized probabilistic model that 
> allows comparing of document scores across queries and assign a meaning 
> to the score. i've done it. however, that means abandoning idf and 
> keeping actual term frequencies for each document and document size. 
> once you normalize this way, you can intermingle document scores from 
> different queries and different corpora and make statements about the 
> absolute value of the score. it also leads directly into the discussion 
> we had earlier about interterm correlations and how to handle them 
> properly since the full interterm probabilistic model has as a special 
> case the traditional tf/idf model. interjecting Boolean conditions and 
> boost makes the model much more complicated.
> 
> Herb....
> 
> -----Original Message-----
> From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> Sent: Wednesday, December 03, 2003 4:51 PM
> To: Lucene Users List
> Subject: AW: Probabilistic Model in Lucene - possible?
> 
> >>
> I would highly appreciate it if the experts here (especially Karsten or
> Chong) look at my idea and tell me if this would be possible.
> >>
> 
> Sorry, I have no idea about how to use a probabilistic approach with 
> Lucene, but if anyone does so, I would like to know, too. 
> 
> I am currently puzzled by a related question: I would like to know if 
> there are any approaches to get a confidence value for relevance 
> rather than a ranking. I.e., it would be nice to have a ranking 
> weight whose value has some kind of semantics such that we could 
> compare results from different queries. Can probabilistic approches 
> do anything like this? 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 12:00:38 2003
Return-Path: 
 <lucene-user-return-6366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39780 invoked from network); 4 Dec 2003 12:00:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 12:00:38 -0000
Received: (qmail 98721 invoked by uid 500); 4 Dec 2003 12:00:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98685 invoked by uid 500); 4 Dec 2003 12:00:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98541 invoked from network); 4 Dec 2003 12:00:22 -0000
Received: from unknown (HELO nextgen.net.mt) (80.77.193.90)
  by daedalus.apache.org with SMTP; 4 Dec 2003 12:00:22 -0000
Date: Thu,  4 Dec 2003 13:00:14 +0100
Message-Id: <200312041300.AA254869574@nextgen.net.mt>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Aaron Galea" <agale@nextgen.net.mt>
Reply-To: <agale@nextgen.net.mt>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
    <agale@nextgen.net.mt>,
    "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Indexing
X-Mailer: <IMail v7.07>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks that was it!

---------- Original Message ----------------------------------
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Date:  Thu, 4 Dec 2003 03:34:46 -0800 (PST)

>Maybe
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#maxFieldLength
>?
>
>Otis
>
>--- Aaron Galea <agale@nextgen.net.mt> wrote:
>> Hi 
>> 
>> I am indexing a document but for a strange reason the word "Mayo" is
>> never indexed. The thing is that in this large document this term
>> appears only once. However if i remove all text from this document
>> and leave only the paragraph that contains "Mayo", this word will get
>> indexed. I can't see anything wrong with my code and now I am
>> wondering whether there is an option in lucene that if a term has a
>> low occurance it will get ignored. Is this is so?
>> 
>> regards 
>> Aaron 
>> 
>> 
>> 
>> 
>> ________________________________________________________________
>> Sent through the WebMail system at nextgen.net.mt
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>
>
>__________________________________
>Do you Yahoo!?
>Free Pop-Up Blocker - Get it now
>http://companion.yahoo.com/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---
>[This E-mail was scanned for spam and viruses by NextGen.net.]
>
>
 




________________________________________________________________
Sent through the WebMail system at nextgen.net.mt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 13:53:23 2003
Return-Path: 
 <lucene-user-return-6367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26815 invoked from network); 4 Dec 2003 13:53:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 13:53:23 -0000
Received: (qmail 86348 invoked by uid 500); 4 Dec 2003 13:53:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86311 invoked by uid 500); 4 Dec 2003 13:53:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86239 invoked from network); 4 Dec 2003 13:53:04 -0000
Received: from unknown (HELO mh1pdmz3a.bloomberg.com) (208.22.56.37)
  by daedalus.apache.org with SMTP; 4 Dec 2003 13:53:04 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 4 Dec 2003 08:53:04 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB4Dr2O01340
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 08:53:04 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Probabilistic Model in Lucene - possible?
Date: Thu, 4 Dec 2003 08:53:01 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240876@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO6TsKDzPNpPnKnRA2FQRZs1VstKQAHW3+g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

not all tf/idf variants are probabilistic models, but a great many are =
if the term weights are probabilities. if we just take straight, =
unmodified Term Frequency in a document, Inverse Document Frequency in =
the corpus, and the Term Frequency in the query as 1, you are in fact =
comparing the statistical properties of the query against the =
statistical properties of the query. they are probabilities you are =
comparing. i can't think of many papers that come right out and say it, =
but if you look at an individual term weight and can interpret it as a =
genuine probability, the vector space model based on the weights is a =
probabilistic model. the derivation is relatively straight forward to =
show it, if you have the right general model to start with. once you =
start throwing in ad hoc normalizations, then things get out of whack =
and it's not longer a probabilistic model.

the implementations that i have done are with a former company and that =
means secret and protected by various intellectual property rights. =
however, i can sketch here the general approach one has to take and an =
outline of the derivation that unifies probabilistic models with vector =
space models and at the same time incorporate pairwise interterm =
correlation. in fact, the pairwise interterm correlations are a =
fundamental assumption. once you do all this, you can show that the =
traditional vector space model is a special case of a pairwise interterm =
correlation model. for those that are interested in advanced matrix =
algebra and some basic statistics, it should be very interesting. if =
only i had a published paper, i would post it. unfortunately, what i =
have is very obtuse because it's protected. the only paper that started =
out was submitted to SIGIR but rejected by all but one referee. that one =
thought this was a tremendous unification of the two methods, but =
academic journals being what they are, when 4 out of 5 referees can't =
understand the paper, it doesn't get published. i may brush it off and =
enlarge into a much longer paper for the Journal of IR, but once again, =
unless you are comfortable with probability theory and matrix theory, =
you are not going to follow it.

so, who is game for a tutorial on the derivation?

Herb...

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Thursday, December 04, 2003 5:09 AM
To: Lucene Users List
Subject: AW: Probabilistic Model in Lucene - possible?



Hi Herb,

thank you for your insights.

>>
but by most accepted definitions, the tf/idf model in Lucene is a =
probabilistic model.=20
>>

Can you send some pointers to help me understand that? Are all =
TF/IDF-variants=20
probabilistic models? If so, what makes any model a non-probabilistic =
one?=20
If you claim that TF/IDF is probabilistic, then the plain cosine (an =
extreme=20
form of TF/IDF, with IDF for all terms being considered constant) of VSM =
would
also be a probabilistic model.

>>
it's got strange normalizations though that doesn't allow comparisons of =
rank values across queries.
>>

Lucene's internal ranking sometimes returns values > 1.0, these are then =
normalized to 1.0,
adjusting other rankings accordingly. While I have nothing to say =
against this - it's a hack,
but useful - it makes comparing the rank values across queries really =
difficult. It's like
using different scales whenever you measure something different, and =
then you do not tell
anyone about it.=20

>>
it isn't terribly hard to make a normalized probabilistic model that =
allows comparing of document scores across queries and assign a meaning =
to the score. i've done it.
>>

Stop bragging, send us your Similarity implementation :)

Regards,

Karsten


-----Urspr=FCngliche Nachricht-----
Von: Chong, Herb [mailto:HChong3@bloomberg.com]=20
Gesendet: Mittwoch, 3. Dezember 2003 23:01
An: Lucene Users List
Betreff: RE: Probabilistic Model in Lucene - possible?


i think i am missing the original question, but by most accepted =
definitions, the tf/idf model in Lucene is a probabilistic model. it's =
got strange normalizations though that doesn't allow comparisons of rank =
values across queries.

it isn't terribly hard to make a normalized probabilistic model that =
allows comparing of document scores across queries and assign a meaning =
to the score. i've done it. however, that means abandoning idf and =
keeping actual term frequencies for each document and document size. =
once you normalize this way, you can intermingle document scores from =
different queries and different corpora and make statements about the =
absolute value of the score. it also leads directly into the discussion =
we had earlier about interterm correlations and how to handle them =
properly since the full interterm probabilistic model has as a special =
case the traditional tf/idf model. interjecting Boolean conditions and =
boost makes the model much more complicated.

Herb....

-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
Sent: Wednesday, December 03, 2003 4:51 PM
To: Lucene Users List
Subject: AW: Probabilistic Model in Lucene - possible?

>>
I would highly appreciate it if the experts here (especially Karsten or
Chong) look at my idea and tell me if this would be possible.
>>

Sorry, I have no idea about how to use a probabilistic approach with=20
Lucene, but if anyone does so, I would like to know, too.=20

I am currently puzzled by a related question: I would like to know if =
there are any approaches to get a confidence value for relevance=20
rather than a ranking. I.e., it would be nice to have a ranking=20
weight whose value has some kind of semantics such that we could=20
compare results from different queries. Can probabilistic approches=20
do anything like this?=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 13:57:26 2003
Return-Path: 
 <lucene-user-return-6368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28824 invoked from network); 4 Dec 2003 13:57:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 13:57:26 -0000
Received: (qmail 932 invoked by uid 500); 4 Dec 2003 13:57:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 902 invoked by uid 500); 4 Dec 2003 13:57:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 889 invoked from network); 4 Dec 2003 13:57:17 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 4 Dec 2003 13:57:17 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 4 Dec 2003 08:57:18 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB4DvGx00912
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 08:57:17 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Probabilistic Model in Lucene - possible?
Date: Thu, 4 Dec 2003 08:57:16 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3AE0@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO6bgH9f4x4M6e+SmmlMId/NplbwwAACL3w
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

oh, i forgot to mention, the interterm correlation model has been tested =
on TREC and deliver up to 0.10 improved precision at 0 recall. however, =
i used a single pass search engine without automatic relevance feedback =
and no linguistic analysis of the documents or queries, so i suffered in =
overall performance. the submission i made did perform the best of the =
single pass methods though, and middle of the pack in the multipass =
ones.

Herb...

-----Original Message-----
From: Chong, Herb [mailto:HCHONG3@bloomberg.net]
Sent: Thursday, December 04, 2003 8:53 AM
To: Lucene Users List
Subject: RE: Probabilistic Model in Lucene - possible?

the implementations that i have done are with a former company and that =
means secret and protected by various intellectual property rights. =
however, i can sketch here the general approach one has to take and an =
outline of the derivation that unifies probabilistic models with vector =
space models and at the same time incorporate pairwise interterm =
correlation. in fact, the pairwise interterm correlations are a =
fundamental assumption. once you do all this, you can show that the =
traditional vector space model is a special case of a pairwise interterm =
correlation model. for those that are interested in advanced matrix =
algebra and some basic statistics, it should be very interesting. if =
only i had a published paper, i would post it. unfortunately, what i =
have is very obtuse because it's protected. the only paper that started =
out was submitted to SIGIR but rejected by all but one referee. that one =
thought this was a tremendous unification of the two methods, but =
academic journals being what they are, when 4 out of 5 referees can't =
understand the paper, it doesn't get published. i may brush it off and =
enlarge into a much longer paper for the Journal of IR, but once again, =
unless you are comfortable with probability theory and matrix theory, =
you are not going to follow it.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 14:59:31 2003
Return-Path: 
 <lucene-user-return-6369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73429 invoked from network); 4 Dec 2003 14:59:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 14:59:31 -0000
Received: (qmail 77747 invoked by uid 500); 4 Dec 2003 14:59:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77722 invoked by uid 500); 4 Dec 2003 14:59:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77709 invoked from network); 4 Dec 2003 14:59:21 -0000
Received: from unknown (HELO web25201.mail.ukl.yahoo.com) (217.12.10.61)
  by daedalus.apache.org with SMTP; 4 Dec 2003 14:59:21 -0000
Message-ID: <20031204145922.80268.qmail@web25201.mail.ukl.yahoo.com>
Received: from [212.126.153.163] by web25201.mail.ukl.yahoo.com via HTTP;
 Thu, 04 Dec 2003 14:59:22 GMT
Date: Thu, 4 Dec 2003 14:59:22 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Re: Ways to search indexes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031203194531.GT34796@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Dror Matalon <dror@zapatec.com> wrote: > On Wed, Dec 03, 2003 at
02:49:12PM +0000, jt oob wrote:

> > > Around 15 gigs. How many days of news?
> > 
> > Not sure how many days, but it's around 5 million postings.
> 
> So each posting is roughly 3K. More than I would have thought, but
> not
> too surprising. 
> The main reason I asked about how many days, is to get the sense of
> growth. 15 Gig is a big index, but to understand the performance
> repercussions the rate of growth is equally important. I suspect that
> by
> the time you hit 100 gigs, you'll have one of the biggest indexes
> around
> and you'll have to throw quite heavy hardware or distribute the load
> to 
> get reasonable performance.

As I mentioned earlier, I am just treating each posting as plain text
at the moment. I expect smaller indexes once I separate out header
fields and body. The most common terms in the index are the standard
news headers "From", "Date" etc. I'm not sure how much bloat they add,
but it must be siginificant - not sure how many people would get any
useful info from searching for "From" anyway!
Next generation will hopefully have many of the common header fields
pulled out into document fields.

The multisearcher is working perfectly :-)

My only concern is that some badly formed encoded attachments in some
news postings escape my attachement remover as they are invalid. What
sort of negative impact will long random character strings have on the indexes?

________________________________________________________________________
Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
http://www.yahoo.co.uk/robbiewilliams

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 15:04:00 2003
Return-Path: 
 <lucene-user-return-6370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76402 invoked from network); 4 Dec 2003 15:04:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 15:04:00 -0000
Received: (qmail 89782 invoked by uid 500); 4 Dec 2003 15:03:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89757 invoked by uid 500); 4 Dec 2003 15:03:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89737 invoked from network); 4 Dec 2003 15:03:51 -0000
Received: from unknown (HELO web25208.mail.ukl.yahoo.com) (217.12.10.68)
  by daedalus.apache.org with SMTP; 4 Dec 2003 15:03:51 -0000
Message-ID: <20031204150352.84076.qmail@web25208.mail.ukl.yahoo.com>
Received: from [212.126.153.106] by web25208.mail.ukl.yahoo.com via HTTP;
 Thu, 04 Dec 2003 15:03:52 GMT
Date: Thu, 4 Dec 2003 15:03:52 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Testing for Optimization
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a way to tell if an index is currently optimized?

I couldn't find a method in the API to check. Is there a way of telling
if an index has been altered since it was last optimized by looking at
the files (maybe modified times) in the index directory?

Thanks,

jt

________________________________________________________________________
Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
http://www.yahoo.co.uk/robbiewilliams

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 15:16:57 2003
Return-Path: 
 <lucene-user-return-6371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84399 invoked from network); 4 Dec 2003 15:16:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 15:16:57 -0000
Received: (qmail 22586 invoked by uid 500); 4 Dec 2003 15:16:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22550 invoked by uid 500); 4 Dec 2003 15:16:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22488 invoked from network); 4 Dec 2003 15:16:26 -0000
Received: from unknown (HELO p15105029.pureserver.info) (217.160.131.136)
  by daedalus.apache.org with SMTP; 4 Dec 2003 15:16:26 -0000
Received: (qmail 21960 invoked by uid 89); 4 Dec 2003 16:16:27 +0100
Received: from unknown (HELO max.osuatech.local) (max%osua.de@212.9.251.158)
  by 0 with SMTP; 4 Dec 2003 16:16:27 +0100
Date: Thu, 4 Dec 2003 17:16:27 +0200
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <49283633243.20031204171627@osua.de>
To: lucene-user@jakarta.apache.org
Subject: DateFilter or RangeQuery
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello lucene-users.

What is the better way to filter search results by date (which is one
of the indexed fields):

  - use RangeQuery against date field as a required part of boolean  query;
  - use DateFilter

  First approach seems to be problematic since I have to extremely
  increase maxClauseCount of BooleanQuery and run again extra memory
  usage.
  

Max


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 16:14:34 2003
Return-Path: 
 <lucene-user-return-6372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22339 invoked from network); 4 Dec 2003 16:14:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 16:14:34 -0000
Received: (qmail 53301 invoked by uid 500); 4 Dec 2003 16:14:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53272 invoked by uid 500); 4 Dec 2003 16:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53252 invoked from network); 4 Dec 2003 16:14:22 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 4 Dec 2003 16:14:22 -0000
Received: (cpmta 3843 invoked from network); 4 Dec 2003 08:14:21 -0800
Received: from 128.143.171.233 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 4 Dec 2003 08:14:21 -0800
X-Sent: 4 Dec 2003 16:14:21 GMT
Date: Thu, 4 Dec 2003 11:14:29 -0500
Subject: Re: DateFilter or RangeQuery
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <49283633243.20031204171627@osua.de>
Message-Id: <F02F5273-2674-11D8-8B25-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Thursday, December 4, 2003, at 10:16  AM, Maxim Patramanskij wrote:
> What is the better way to filter search results by date (which is one
> of the indexed fields):
>
>   - use RangeQuery against date field as a required part of boolean  
> query;
>   - use DateFilter
>
>   First approach seems to be problematic since I have to extremely
>   increase maxClauseCount of BooleanQuery and run again extra memory
>   usage.

DateFilter will be the better option if you do use the same date range 
filter repeatedly - just keep the instance around and re-use it.

A more general question, though, is are you truly just representing 
dates? (and not timestamps)  If so, how many different dates are in the 
index?

If you are just using dates, I recommend using "YYYYMMDD" formatted 
Field.Keyword(String, String) fields.  Don't use java.util.Date.  
You'll get far fewer terms if you are just representing dates, and 
RangeQuery might become a more viable option for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 16:34:24 2003
Return-Path: 
 <lucene-user-return-6373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31567 invoked from network); 4 Dec 2003 16:34:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 16:34:24 -0000
Received: (qmail 92677 invoked by uid 500); 4 Dec 2003 16:34:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92645 invoked by uid 500); 4 Dec 2003 16:34:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92630 invoked from network); 4 Dec 2003 16:34:12 -0000
Received: from unknown (HELO p15105029.pureserver.info) (217.160.131.136)
  by daedalus.apache.org with SMTP; 4 Dec 2003 16:34:12 -0000
Received: (qmail 23119 invoked by uid 89); 4 Dec 2003 17:34:13 +0100
Received: from unknown (HELO max.osuatech.local) (max%osua.de@212.9.251.158)
  by 0 with SMTP; 4 Dec 2003 17:34:13 +0100
Date: Thu, 4 Dec 2003 18:34:11 +0200
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <62288298170.20031204183411@osua.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: DateFilter or RangeQuery
In-Reply-To: <F02F5273-2674-11D8-8B25-000393A564E6@ehatchersolutions.com>
References: <F02F5273-2674-11D8-8B25-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,  thanx a lot for your suggestion.

Dates currently used in the following way:

doc.add(Field.Keyword(FIELD_KEYWORD_MODIFIED, DateField.timeToString(docEnum.getLastModified())));

where is docEnum.getLastModified() is a file.lastModified()(i.e.
timestamp).

An index can contain up to 10000, so up to 10000 timestamps are
possible(and boolean query, thus, can contain that much
clauses...wow!).

Yeah, it does not really needed to store timestamps and
thus I can really use your suggestion about "YYYYMMDD" date format,
cause I don't need more precise file dates.

Max.

EH> On Thursday, December 4, 2003, at 10:16  AM, Maxim Patramanskij wrote:
>> What is the better way to filter search results by date (which is one
>> of the indexed fields):
>>
>>   - use RangeQuery against date field as a required part of boolean  
>> query;
>>   - use DateFilter
>>
>>   First approach seems to be problematic since I have to extremely
>>   increase maxClauseCount of BooleanQuery and run again extra memory
>>   usage.

EH> DateFilter will be the better option if you do use the same date range 
EH> filter repeatedly - just keep the instance around and re-use it.

EH> A more general question, though, is are you truly just representing 
EH> dates? (and not timestamps)  If so, how many different dates are in the 
EH> index?

EH> If you are just using dates, I recommend using "YYYYMMDD" formatted 
EH> Field.Keyword(String, String) fields.  Don't use java.util.Date.  
EH> You'll get far fewer terms if you are just representing dates, and 
EH> RangeQuery might become a more viable option for you.

EH>         Erik


EH> ---------------------------------------------------------------------
EH> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
EH> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 17:36:53 2003
Return-Path: 
 <lucene-user-return-6374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67764 invoked from network); 4 Dec 2003 17:36:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 17:36:53 -0000
Received: (qmail 3583 invoked by uid 500); 4 Dec 2003 17:36:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3552 invoked by uid 500); 4 Dec 2003 17:36:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3539 invoked from network); 4 Dec 2003 17:36:40 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 4 Dec 2003 17:36:40 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 7A1F55D22
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 09:36:44 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4HaiWf058947
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 09:36:44 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 09:36:44 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NPE when using explain
Message-ID: <20031204173644.GC34796@rlx11.zapatec.com>
References: <20031204015159.GZ34796@rlx11.zapatec.com>
 <0B80F52F-263E-11D8-AA01-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <0B80F52F-263E-11D8-AA01-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Dec 04, 2003 at 04:41:33AM -0500, Erik Hatcher wrote:
> On Wednesday, December 3, 2003, at 08:51  PM, Dror Matalon wrote:
> >    Hits hits = initSearch(queryString);

No, it doesn't. Here's the code. Also, as I mentioned, if I take the
explain out and just do a search it works fine.

 private Hits initSearch(String queryString) throws IOException,
 ParseException {

	 searcher = new IndexSearcher(indexName);
	 Analyzer analyzer = new StandardAnalyzer();
	 getFieldInfo();

	 BufferedReader in = new BufferedReader(new InputStreamReader(System.in));

	 MultiFieldQueryParser parser = new MultiFieldQueryParser(queryString, analyzer);

	 int arraySize = fields.size();
	 fieldsArray = new String[arraySize];
	 for (int ii = 0; ii < arraySize;
			 ii++) {
		 fieldsArray[ii] = (String)
			 fields.get(ii);
	 }
	 query = parser.parse(queryString, fieldsArray, analyzer);
	 System.out.println("Searching
			 for: " +
			 query.toString());
	 Hits hits =
		 searcher.search(query);
	 return
		 (hits);

 }


> 
> Does initSearch close the IndexSearcher?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 18:11:31 2003
Return-Path: 
 <lucene-user-return-6375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9425 invoked from network); 4 Dec 2003 18:11:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 18:11:31 -0000
Received: (qmail 85759 invoked by uid 500); 4 Dec 2003 18:11:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85725 invoked by uid 500); 4 Dec 2003 18:11:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85711 invoked from network); 4 Dec 2003 18:11:18 -0000
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by daedalus.apache.org with SMTP; 4 Dec 2003 18:11:18 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc12) with SMTP
          id <2003120418111801400bd86ge>; Thu, 4 Dec 2003 18:11:18 +0000
Message-ID: <3FCF78C5.6080803@lucene.com>
Date: Thu, 04 Dec 2003 10:11:17 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NPE when using explain
References: <20031204015159.GZ34796@rlx11.zapatec.com>
In-Reply-To: <20031204015159.GZ34796@rlx11.zapatec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This looks like a bug.  I think your query contains a term in a field 
that is not indexed, and hence has no norm value.  Perhaps (as Brisbart 
Franck) suggests, it is indexed in some documents, but not in others. 
But, in a single IndexReader, if it is indexed in any document, it 
should have a norm value for all documents.  Are you using a 
MultiSearcher?  I can see how this would happen with a MultiSearcher, 
where different fields exist in the different indexes, and the query 
contains a term which is only in one of the indexes.

Try applying the following patch and tell me if it helps.

--- TermQuery.java.~1.7.~       2003-01-15 11:25:04.000000000 -0800
+++ TermQuery.java      2003-12-04 10:07:46.000000000 -0800
@@ -139,7 +139,10 @@
        fieldExpl.addDetail(idfExpl);

        Explanation fieldNormExpl = new Explanation();
- 
fieldNormExpl.setValue(Similarity.decodeNorm(reader.norms(field)[doc]));
+      byte[] fieldNorms = reader.norms(field);
+      float fieldNorm =
+        fieldNorms!=null ? Similarity.decodeNorm(fieldNorms[doc]) : 0.0f;
+      fieldNormExpl.setValue(fieldNorm);
        fieldNormExpl.setDescription("fieldNorm(field="+field+", 
doc="+doc+")");
        fieldExpl.addDetail(fieldNormExpl);

Thanks,

Doug



Dror Matalon wrote:
> Hi,
> 
> I'm trying to use IndexSearcher.explain(Query query, int doc) and am
> getting a NPE. If I remove the "explain" the search works fine.
> I poked a little at the TermQuery.java code, but I can't really tell
> what's causing the exception.
> 
> This is with 1.3rc3
> 
> 
> Exception in thread "main" java.lang.NullPointerException at
> org.apache.lucene.search.TermQuery$TermWeight.explain(TermQuery.java:142) at
> org.apache.lucene.search.BooleanQuery$BooleanWeight.explain(BooleanQuery.java:186) at
> org.apache.lucene.search.IndexSearcher.explain(IndexSearcher.java:196)
> at LuceneCli.search(LuceneCli.java:78)
> at LuceneLine.handleCommand(LuceneLine.java:188)
> at LuceneLine.<init>(LuceneLine.java:117)
> at LuceneLine.main(LuceneLine.java:136)
> 
> The area of the code that caused this.
> 
>     Hits hits = initSearch(queryString);
>     System.out.println(hits.length() + " total matching documents");
> 
>     final int HITS_PER_PAGE = 10;
>     message ("--------------------------------------");
>     for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) {
>       int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>       for (int ii = start; ii < end; ii++) {
>         Document doc = hits.doc(ii);
>         message ("---------------- " + ii + " score:" + hits.score(ii) + "---------------------");
>         if (explain) {
>           Explanation exp = searcher.explain(query, ii);
>           message("Explanation:" + exp.toString());
>         }
>         printHit(doc);
>       }
> 
> 
> Regards,
> 
> Dror
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 19:27:27 2003
Return-Path: 
 <lucene-user-return-6376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44563 invoked from network); 4 Dec 2003 19:27:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 19:27:27 -0000
Received: (qmail 42367 invoked by uid 500); 4 Dec 2003 19:27:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42306 invoked by uid 500); 4 Dec 2003 19:27:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42293 invoked from network); 4 Dec 2003 19:27:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 4 Dec 2003 19:27:13 -0000
Received: (cpmta 13026 invoked from network); 4 Dec 2003 11:27:17 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 4 Dec 2003 11:27:17 -0800
X-Sent: 4 Dec 2003 19:27:17 GMT
Date: Thu, 4 Dec 2003 14:27:23 -0500
Mime-Version: 1.0 (Apple Message framework v553)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Searching XML
From: Erik Hatcher <erik@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <E3113DEA-268F-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here's to all those that inquire about searching XML with Lucene:

	http://www.tbray.org/ongoing/When/200x/2003/11/30/SearchXML

:))


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 19:46:48 2003
Return-Path: 
 <lucene-user-return-6377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53302 invoked from network); 4 Dec 2003 19:46:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 19:46:48 -0000
Received: (qmail 76852 invoked by uid 500); 4 Dec 2003 19:46:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76817 invoked by uid 500); 4 Dec 2003 19:46:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76804 invoked from network); 4 Dec 2003 19:46:33 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Dec 2003 19:46:33 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 737FAA941
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 11:46:38 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4Jkchk059101
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 11:46:38 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 11:46:37 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NPE when using explain
Message-ID: <20031204194637.GE34796@rlx11.zapatec.com>
References: <20031204015159.GZ34796@rlx11.zapatec.com>
 <3FCF78C5.6080803@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FCF78C5.6080803@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem was that my query included non-indexed items. Worked fine in
searching but the explain barfed on it. This term is in all documents,
and it generated an exception in every query on the first items
(although I didn't try to many), so I'm quite sure it's the indexing
issue.

Of course, now that I got explain to work I need to figure out what the
following means :-)
-------------
Explanation:0.0 = product of:
  0.0 = sum of:
	0.0 = coord(0/5)
-------------

Let me know if you still want me to test the patch.

Regards,

Dror


On Thu, Dec 04, 2003 at 10:11:17AM -0800, Doug Cutting wrote:
> This looks like a bug.  I think your query contains a term in a field 
> that is not indexed, and hence has no norm value.  Perhaps (as Brisbart 
> Franck) suggests, it is indexed in some documents, but not in others. 
> But, in a single IndexReader, if it is indexed in any document, it 
> should have a norm value for all documents.  Are you using a 
> MultiSearcher?  I can see how this would happen with a MultiSearcher, 
> where different fields exist in the different indexes, and the query 
> contains a term which is only in one of the indexes.
> 
> Try applying the following patch and tell me if it helps.
> 
> --- TermQuery.java.~1.7.~       2003-01-15 11:25:04.000000000 -0800
> +++ TermQuery.java      2003-12-04 10:07:46.000000000 -0800
> @@ -139,7 +139,10 @@
>        fieldExpl.addDetail(idfExpl);
> 
>        Explanation fieldNormExpl = new Explanation();
> - 
> fieldNormExpl.setValue(Similarity.decodeNorm(reader.norms(field)[doc]));
> +      byte[] fieldNorms = reader.norms(field);
> +      float fieldNorm =
> +        fieldNorms!=null ? Similarity.decodeNorm(fieldNorms[doc]) : 0.0f;
> +      fieldNormExpl.setValue(fieldNorm);
>        fieldNormExpl.setDescription("fieldNorm(field="+field+", 
> doc="+doc+")");
>        fieldExpl.addDetail(fieldNormExpl);
> 
> Thanks,
> 
> Doug
> 
> 
> 
> Dror Matalon wrote:
> >Hi,
> >
> >I'm trying to use IndexSearcher.explain(Query query, int doc) and am
> >getting a NPE. If I remove the "explain" the search works fine.
> >I poked a little at the TermQuery.java code, but I can't really tell
> >what's causing the exception.
> >
> >This is with 1.3rc3
> >
> >
> >Exception in thread "main" java.lang.NullPointerException at
> >org.apache.lucene.search.TermQuery$TermWeight.explain(TermQuery.java:142) 
> >at
> >org.apache.lucene.search.BooleanQuery$BooleanWeight.explain(BooleanQuery.java:186) at
> >org.apache.lucene.search.IndexSearcher.explain(IndexSearcher.java:196)
> >at LuceneCli.search(LuceneCli.java:78)
> >at LuceneLine.handleCommand(LuceneLine.java:188)
> >at LuceneLine.<init>(LuceneLine.java:117)
> >at LuceneLine.main(LuceneLine.java:136)
> >
> >The area of the code that caused this.
> >
> >    Hits hits = initSearch(queryString);
> >    System.out.println(hits.length() + " total matching documents");
> >
> >    final int HITS_PER_PAGE = 10;
> >    message ("--------------------------------------");
> >    for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) {
> >      int end = Math.min(hits.length(), start + HITS_PER_PAGE);
> >      for (int ii = start; ii < end; ii++) {
> >        Document doc = hits.doc(ii);
> >        message ("---------------- " + ii + " score:" + hits.score(ii) + 
> >        "---------------------");
> >        if (explain) {
> >          Explanation exp = searcher.explain(query, ii);
> >          message("Explanation:" + exp.toString());
> >        }
> >        printHit(doc);
> >      }
> >
> >
> >Regards,
> >
> >Dror
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 19:54:58 2003
Return-Path: 
 <lucene-user-return-6378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57327 invoked from network); 4 Dec 2003 19:54:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 19:54:58 -0000
Received: (qmail 93266 invoked by uid 500); 4 Dec 2003 19:54:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93236 invoked by uid 500); 4 Dec 2003 19:54:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93223 invoked from network); 4 Dec 2003 19:54:42 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 4 Dec 2003 19:54:42 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id CCF225D22
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 11:54:47 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4JslZQ059109
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 11:54:47 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 11:54:47 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Ways to search indexes
Message-ID: <20031204195447.GF34796@rlx11.zapatec.com>
References: <20031203194531.GT34796@rlx11.zapatec.com>
 <20031204145922.80268.qmail@web25201.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031204145922.80268.qmail@web25201.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Dec 04, 2003 at 02:59:22PM +0000, jt oob wrote:
>  --- Dror Matalon <dror@zapatec.com> wrote: > On Wed, Dec 03, 2003 at
> 02:49:12PM +0000, jt oob wrote:
> 
> > > > Around 15 gigs. How many days of news?
> > > 
> > > Not sure how many days, but it's around 5 million postings.
> > 
> > So each posting is roughly 3K. More than I would have thought, but
> > not
> > too surprising. 
> > The main reason I asked about how many days, is to get the sense of
> > growth. 15 Gig is a big index, but to understand the performance
> > repercussions the rate of growth is equally important. I suspect that
> > by
> > the time you hit 100 gigs, you'll have one of the biggest indexes
> > around
> > and you'll have to throw quite heavy hardware or distribute the load
> > to 
> > get reasonable performance.
> 
> As I mentioned earlier, I am just treating each posting as plain text
> at the moment. I expect smaller indexes once I separate out header
> fields and body. The most common terms in the index are the standard
> news headers "From", "Date" etc. I'm not sure how much bloat they add,
> but it must be siginificant - not sure how many people would get any
> useful info from searching for "From" anyway!
> Next generation will hopefully have many of the common header fields
> pulled out into document fields.
> 
> The multisearcher is working perfectly :-)

Glad to hear.

> 
> My only concern is that some badly formed encoded attachments in some
> news postings escape my attachement remover as they are invalid. What
> sort of negative impact will long random character strings have on the indexes?

>>From my reading of the code, it looks like this is where the max size of
a token is defined:
  private static final int MAX_WORD_LEN = 255;

So, strings over 255 char length are not going to be indexed.

> 
> ________________________________________________________________________
> Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
> http://www.yahoo.co.uk/robbiewilliams
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 19:57:42 2003
Return-Path: 
 <lucene-user-return-6380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58304 invoked from network); 4 Dec 2003 19:57:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 19:57:42 -0000
Received: (qmail 1737 invoked by uid 500); 4 Dec 2003 19:57:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1688 invoked by uid 500); 4 Dec 2003 19:57:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1653 invoked from network); 4 Dec 2003 19:57:24 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Dec 2003 19:57:24 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 50A8FA941
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 11:57:30 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4JvTIW059116
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 11:57:29 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 11:57:29 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Testing for Optimization
Message-ID: <20031204195729.GG34796@rlx11.zapatec.com>
References: <20031204150352.84076.qmail@web25208.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031204150352.84076.qmail@web25208.mail.ukl.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe that indexes that are optimized have only one segment. So in
theory you could check and see that you only have one file with a
".fdt", ".fdx", etc. 

I'm not clear how reliable this method is. 

On Thu, Dec 04, 2003 at 03:03:52PM +0000, jt oob wrote:
> Is there a way to tell if an index is currently optimized?
> 
> I couldn't find a method in the API to check. Is there a way of telling
> if an index has been altered since it was last optimized by looking at
> the files (maybe modified times) in the index directory?
> 
> Thanks,
> 
> jt
> 
> ________________________________________________________________________
> Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
> http://www.yahoo.co.uk/robbiewilliams
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 19:57:36 2003
Return-Path: 
 <lucene-user-return-6379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58238 invoked from network); 4 Dec 2003 19:57:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 19:57:36 -0000
Received: (qmail 1209 invoked by uid 500); 4 Dec 2003 19:57:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1182 invoked by uid 500); 4 Dec 2003 19:57:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1169 invoked from network); 4 Dec 2003 19:57:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 4 Dec 2003 19:57:21 -0000
Received: (cpmta 13403 invoked from network); 4 Dec 2003 11:57:24 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 4 Dec 2003 11:57:24 -0800
X-Sent: 4 Dec 2003 19:57:24 GMT
Date: Thu, 4 Dec 2003 14:57:32 -0500
Subject: Re: NPE when using explain
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031204194637.GE34796@rlx11.zapatec.com>
Message-Id: <190C54E3-2694-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, December 4, 2003, at 02:46  PM, Dror Matalon wrote:
> Of course, now that I got explain to work I need to figure out what the
> following means :-)
> -------------
> Explanation:0.0 = product of:
>   0.0 = sum of:
> 	0.0 = coord(0/5)
> -------------

It means you have a bug in your code :))

You're using 'ii' as a document id... but its only your loop variable 
(position within Hits).  Pass Hits.id(ii) to explain instead.

	Erik


>>    for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) 
>> {
>>      int end = Math.min(hits.length(), start + HITS_PER_PAGE);
>>      for (int ii = start; ii < end; ii++) {
>>        Document doc = hits.doc(ii);
>>        message ("---------------- " + ii + " score:" + hits.score(ii) 
>> +
>>        "---------------------");
>>        if (explain) {
>>          Explanation exp = searcher.explain(query, ii);
>>          message("Explanation:" + exp.toString());
>>        }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 20:07:46 2003
Return-Path: 
 <lucene-user-return-6381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62644 invoked from network); 4 Dec 2003 20:07:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 20:07:46 -0000
Received: (qmail 17986 invoked by uid 500); 4 Dec 2003 20:07:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17959 invoked by uid 500); 4 Dec 2003 20:07:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17910 invoked from network); 4 Dec 2003 20:07:19 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Dec 2003 20:07:19 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 14542A941
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 12:07:25 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4K7Ocn059134
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 12:07:24 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 12:07:24 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NPE when using explain
Message-ID: <20031204200724.GH34796@rlx11.zapatec.com>
References: <20031204194637.GE34796@rlx11.zapatec.com>
 <190C54E3-2694-11D8-8DAC-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <190C54E3-2694-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Oops. That makes much more sense.

---------------- 0 score:0.08118483---------------------
Explanation:0.107055776 = product of:
  0.53527886 = weight(description:foo in 17664), product of:
    0.4120305 = queryWeight(description:foo), product of:
      10.392995 = idf(docFreq=2)
      0.03964502 = queryNorm
    1.2991244 = fieldWeight(description:foo in 17664), product of:
      1.0 = tf(termFreq(description:foo)=1)
      10.392995 = idf(docFreq=2)
      0.125 = fieldNorm(field=description, doc=17664)
  0.2 = coord(1/5)


By the way, all these fun things are going to be part of the CLI that
I've been playing with.

Anyone interested in helping test?

Regards,

Dror

On Thu, Dec 04, 2003 at 02:57:32PM -0500, Erik Hatcher wrote:
> On Thursday, December 4, 2003, at 02:46  PM, Dror Matalon wrote:
> >Of course, now that I got explain to work I need to figure out what the
> >following means :-)
> >-------------
> >Explanation:0.0 = product of:
> >  0.0 = sum of:
> >	0.0 = coord(0/5)
> >-------------
> 
> It means you have a bug in your code :))
> 
> You're using 'ii' as a document id... but its only your loop variable 
> (position within Hits).  Pass Hits.id(ii) to explain instead.
> 
> 	Erik
> 
> 
> >>   for (int start = 0; start < hits.length(); start += HITS_PER_PAGE) 
> >>{
> >>     int end = Math.min(hits.length(), start + HITS_PER_PAGE);
> >>     for (int ii = start; ii < end; ii++) {
> >>       Document doc = hits.doc(ii);
> >>       message ("---------------- " + ii + " score:" + hits.score(ii) 
> >>+
> >>       "---------------------");
> >>       if (explain) {
> >>         Explanation exp = searcher.explain(query, ii);
> >>         message("Explanation:" + exp.toString());
> >>       }
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 20:23:51 2003
Return-Path: 
 <lucene-user-return-6382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80313 invoked from network); 4 Dec 2003 20:23:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 20:23:51 -0000
Received: (qmail 66163 invoked by uid 500); 4 Dec 2003 20:23:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66140 invoked by uid 500); 4 Dec 2003 20:23:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66126 invoked from network); 4 Dec 2003 20:23:35 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 4 Dec 2003 20:23:35 -0000
Received: (cpmta 24956 invoked from network); 4 Dec 2003 12:23:37 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 4 Dec 2003 12:23:37 -0800
X-Sent: 4 Dec 2003 20:23:37 GMT
Date: Thu, 4 Dec 2003 15:23:45 -0500
Subject: Re: NPE when using explain
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031204200724.GH34796@rlx11.zapatec.com>
Message-Id: <C26AF3BA-2697-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, December 4, 2003, at 03:07  PM, Dror Matalon wrote:
> By the way, all these fun things are going to be part of the CLI that
> I've been playing with.
>
> Anyone interested in helping test?

Of course!  Is it something you plan on donating to the Lucene project? 
  LUKE and Limo and your CLI would all make for nice additions.  I would 
even think a CLI tool would be something worth distributing with Lucene 
(as a separate JAR).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 20:32:20 2003
Return-Path: 
 <lucene-user-return-6383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97432 invoked from network); 4 Dec 2003 20:32:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 20:32:20 -0000
Received: (qmail 94380 invoked by uid 500); 4 Dec 2003 20:31:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94231 invoked by uid 500); 4 Dec 2003 20:31:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94205 invoked from network); 4 Dec 2003 20:31:35 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 4 Dec 2003 20:31:35 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id D816C5D23
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 12:31:40 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4KVeXL059224
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 12:31:40 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 12:31:40 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene CLI
Message-ID: <20031204203140.GI34796@rlx11.zapatec.com>
References: <20031204200724.GH34796@rlx11.zapatec.com>
 <C26AF3BA-2697-11D8-8DAC-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <C26AF3BA-2697-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Great,

I'm working on it in my "spare time" so it's not moving as fast as it
could, but I suspect that's true about most of the developers.

What I got:

o Uses standard readline commands so all the usual things like ^P, ^N,
tab completion, etc work as expcted.  BUT to support this part you'll
need an external shared library since you can't do this in java.

o The following help command displays the current supported commands:

lucli> help
count: Return the number of hits for a search. Exaple count foo
explain: Explanation that describes how the document scored against
query. SLOW
help: Display help about commands. Type help command for specific help
about a certain command.
index: Choose a different lucene index
info: Display info about the current Lucene Index. Example:info
optimize: Optimzie the current index
quit: Quit/exit the program
search: Search the current index. Example: search foo
terms: Show the first 100 terms in this index. Supply a field name to
only show terms in a specific field.
tokens: Does a search and shows the top 10 tokens for each document.
Verbose!
lucli>

o Here's an example of a search:

lucli> search dror
Searching for: contents:dror item:dror dtstamp:dror description:dror
link:dror channel:dror
2 total matching documents
--------------------------------------
---------------- 0 score:0.20296207---------------------
contents:Re: YES: You CAN respond to the WHOLE LIST
item:45
dtstamp:9/24/03
description:Thanks for the clarification Dror.
David
... whole group and to the specific se
link:http://groups.yahoo.com/group/albanyschools/message/1003
channel:88
---------------- 1 score:0.050740518---------------------
contents: Fastbuzz  news  service
item:76
dtstamp:11/3/03
description:

 <p>FASTBUZZ  --  I  use  Zapatec's  <a
 <B>href=http://www.bloki.com>Bloki</a></B> for  the  engine  behind  my
 <cite>Media  Studies  Revision  Wiki</cite>  and  I  like  the
 ancillary  services  on  offer  <B>there.<p>Bloki</B> have  deployed
 <a  href=http://www.fastbuzz.com>Fastbuzz</a>  as  a  way  to  track
 changes  to  newsfeeds,  blogs,  forums,  and  anything  with  a  URL.
 You  can  use  Fastbuzz  to:<ul><li>See  the  latest  headlines  from
 the  New  York  Times    (they  have  a  subscription  key).<li>Track
 blogs  as  they  update.<li>Get  alert  when  people  post  to
 <B>Bloki</B> forums.<li>See  the  latest  job  offerings  on  Craig's
 List.<li>Monitor  breaking  news  on  <a
 href=http://www.electricnews.net>Electric  News</a>.<li>Hear  the
 other  side  of  the  story  through  the  eyes  of  <a
 href=http://backseatdrivers.blogspot.com>Backseat
 Drivers</a>.</li></ul>To  set  things  up,  you  subscribe  and
 organize  your  lists  as  Web  channels  with  <a
 href=http://fastbuzz.com>Fastbuzz</a>.  Choose  e-mail  delivery  like
 me  and  they  deliver  straight  to  your  mobile  phone  several
 times  each  day.<p>There  is  no  software  to  download  because
 everything  runs  on  the  server  side.  <font  size=1><HR><a
 <B>href=http://www.bloki.com>Dror</B> Matalon</a>  --  <B>"Bloki</B>
 updates"<br>x_ref1256</font></p>


 link:http://irish.typepad.com/irisheyes/2003/10/fastbuzz_news_s.html
 channel:87
#################################################
 lucli>




On Thu, Dec 04, 2003 at 03:23:45PM -0500, Erik Hatcher wrote:
> On Thursday, December 4, 2003, at 03:07  PM, Dror Matalon wrote:
> >By the way, all these fun things are going to be part of the CLI that
> >I've been playing with.
> >
> >Anyone interested in helping test?
> 
> Of course!  Is it something you plan on donating to the Lucene project? 
>  LUKE and Limo and your CLI would all make for nice additions.  I would 
> even think a CLI tool would be something worth distributing with Lucene 
> (as a separate JAR).
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 20:33:07 2003
Return-Path: 
 <lucene-user-return-6384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97853 invoked from network); 4 Dec 2003 20:33:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 20:33:07 -0000
Received: (qmail 351 invoked by uid 500); 4 Dec 2003 20:32:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 324 invoked by uid 500); 4 Dec 2003 20:32:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 311 invoked from network); 4 Dec 2003 20:32:46 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 4 Dec 2003 20:32:46 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id DE69DA941
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 12:32:51 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB4KWp28059234
	for lucene-user@jakarta.apache.org; Thu, 4 Dec 2003 12:32:51 -0800 (PST)
	(envelope-from dror)
Date: Thu, 4 Dec 2003 12:32:51 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene CLI
Message-ID: <20031204203251.GJ34796@rlx11.zapatec.com>
References: <20031204200724.GH34796@rlx11.zapatec.com>
 <C26AF3BA-2697-11D8-8DAC-000393A564E6@ehatchersolutions.com>
 <20031204203140.GI34796@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20031204203140.GI34796@rlx11.zapatec.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Forgot to mention. Yes, I'm planning on donating it to the Lucene
project.

Regards,

Dror

On Thu, Dec 04, 2003 at 12:31:40PM -0800, Dror Matalon wrote:
> Great,
> 
> I'm working on it in my "spare time" so it's not moving as fast as it
> could, but I suspect that's true about most of the developers.
> 
> What I got:
> 
> o Uses standard readline commands so all the usual things like ^P, ^N,
> tab completion, etc work as expcted.  BUT to support this part you'll
> need an external shared library since you can't do this in java.
> 
> o The following help command displays the current supported commands:
> 
> lucli> help
> count: Return the number of hits for a search. Exaple count foo
> explain: Explanation that describes how the document scored against
> query. SLOW
> help: Display help about commands. Type help command for specific help
> about a certain command.
> index: Choose a different lucene index
> info: Display info about the current Lucene Index. Example:info
> optimize: Optimzie the current index
> quit: Quit/exit the program
> search: Search the current index. Example: search foo
> terms: Show the first 100 terms in this index. Supply a field name to
> only show terms in a specific field.
> tokens: Does a search and shows the top 10 tokens for each document.
> Verbose!
> lucli>
> 
> o Here's an example of a search:
> 
> lucli> search dror
> Searching for: contents:dror item:dror dtstamp:dror description:dror
> link:dror channel:dror
> 2 total matching documents
> --------------------------------------
> ---------------- 0 score:0.20296207---------------------
> contents:Re: YES: You CAN respond to the WHOLE LIST
> item:45
> dtstamp:9/24/03
> description:Thanks for the clarification Dror.
> David
> ... whole group and to the specific se
> link:http://groups.yahoo.com/group/albanyschools/message/1003
> channel:88
> ---------------- 1 score:0.050740518---------------------
> contents: Fastbuzz  news  service
> item:76
> dtstamp:11/3/03
> description:
> 
>  <p>FASTBUZZ  --  I  use  Zapatec's  <a
>  <B>href=http://www.bloki.com>Bloki</a></B> for  the  engine  behind  my
>  <cite>Media  Studies  Revision  Wiki</cite>  and  I  like  the
>  ancillary  services  on  offer  <B>there.<p>Bloki</B> have  deployed
>  <a  href=http://www.fastbuzz.com>Fastbuzz</a>  as  a  way  to  track
>  changes  to  newsfeeds,  blogs,  forums,  and  anything  with  a  URL.
>  You  can  use  Fastbuzz  to:<ul><li>See  the  latest  headlines  from
>  the  New  York  Times    (they  have  a  subscription  key).<li>Track
>  blogs  as  they  update.<li>Get  alert  when  people  post  to
>  <B>Bloki</B> forums.<li>See  the  latest  job  offerings  on  Craig's
>  List.<li>Monitor  breaking  news  on  <a
>  href=http://www.electricnews.net>Electric  News</a>.<li>Hear  the
>  other  side  of  the  story  through  the  eyes  of  <a
>  href=http://backseatdrivers.blogspot.com>Backseat
>  Drivers</a>.</li></ul>To  set  things  up,  you  subscribe  and
>  organize  your  lists  as  Web  channels  with  <a
>  href=http://fastbuzz.com>Fastbuzz</a>.  Choose  e-mail  delivery  like
>  me  and  they  deliver  straight  to  your  mobile  phone  several
>  times  each  day.<p>There  is  no  software  to  download  because
>  everything  runs  on  the  server  side.  <font  size=1><HR><a
>  <B>href=http://www.bloki.com>Dror</B> Matalon</a>  --  <B>"Bloki</B>
>  updates"<br>x_ref1256</font></p>
> 
> 
>  link:http://irish.typepad.com/irisheyes/2003/10/fastbuzz_news_s.html
>  channel:87
> #################################################
>  lucli>
> 
> 
> 
> 
> On Thu, Dec 04, 2003 at 03:23:45PM -0500, Erik Hatcher wrote:
> > On Thursday, December 4, 2003, at 03:07  PM, Dror Matalon wrote:
> > >By the way, all these fun things are going to be part of the CLI that
> > >I've been playing with.
> > >
> > >Anyone interested in helping test?
> > 
> > Of course!  Is it something you plan on donating to the Lucene project? 
> >  LUKE and Limo and your CLI would all make for nice additions.  I would 
> > even think a CLI tool would be something worth distributing with Lucene 
> > (as a separate JAR).
> > 
> > 	Erik
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 21:53:12 2003
Return-Path: 
 <lucene-user-return-6385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44228 invoked from network); 4 Dec 2003 21:53:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 21:53:12 -0000
Received: (qmail 40576 invoked by uid 500); 4 Dec 2003 21:52:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40353 invoked by uid 500); 4 Dec 2003 21:52:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40340 invoked from network); 4 Dec 2003 21:52:54 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 4 Dec 2003 21:52:54 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB4Lqxf25935
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 16:53:00 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPE001014SBHO@lmco.com> for lucene-user@jakarta.apache.org;
 Thu, 04 Dec 2003 16:52:59 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPE00FJF4SBUA@lmco.com> for lucene-user@jakarta.apache.org;
 Thu, 04 Dec 2003 16:52:59 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Thu,
 04 Dec 2003 16:52:59 -0500
Date: Thu, 04 Dec 2003 16:52:59 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E81@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: NPE when using explain
Thread-Index: AcO6pttQwoAsH1a9RvWLpaxrtIbjqgACZU1A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 04 Dec 2003 21:52:59.0607 (UTC)
 FILETIME=[FBAF0E70:01C3BAB0]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 I am indexing a group of items and one field , id, is unique.  When the
user clicks on a results I want just that one result to show.  

 I index and search using SimpleAnalyzer.

 
 Query query_es = QueryParser.parse(query, "id", new SimpleAnalyzer());
  
 It should return only one result but returns 200.
  
 
 
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 21:58:55 2003
Return-Path: 
 <lucene-user-return-6386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46342 invoked from network); 4 Dec 2003 21:58:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 21:58:55 -0000
Received: (qmail 48463 invoked by uid 500); 4 Dec 2003 21:58:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48428 invoked by uid 500); 4 Dec 2003 21:58:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48413 invoked from network); 4 Dec 2003 21:58:37 -0000
Received: from unknown (HELO tango.casebank.com) (209.167.138.140)
  by daedalus.apache.org with SMTP; 4 Dec 2003 21:58:37 -0000
Received: from aatamer ([172.17.232.22]) by tango.casebank.com with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Thu, 4 Dec 2003 16:58:43 -0500
From: "Allen Atamer" <aatamer@casebank.com>
To: <lucene-user@jakarta.apache.org>
Subject: implementing a TokenFilter for aliases
Date: Thu, 4 Dec 2003 17:00:42 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3BA88.26C59F30"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcO6qFsNSvBcZs3lTVSU/rQ9juLbXQ==
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <TANGOCYZvN4U781HieY000014f2@tango.casebank.com>
X-OriginalArrivalTime: 04 Dec 2003 21:58:43.0171 (UTC)
 FILETIME=[C876C330:01C3BAB1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3BA88.26C59F30
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

The FAQ describes implementing a TokenFilter for applying aliases. I have a
trouble accomplishing this.
 
This is the code that I have so far for the next Method within AliasFilter.
After reading some posts, I also got the idea to call
setPositionIncrement(). Neither way works, because when I search for the
alias, no search results come back.
 
Thank you for your help,
 
Allen Atamer
 
----
 
  public Token next() throws java.io.IOException {
    Token token = tokenStream.next();
 
    if (aliasMap == null || token == null) {
      return token;
    }
 
    TermData t = (TermData)aliasMap.get(token.termText());
 
    if (t == null) {
      return token;
    }
 
    String tokenText = AliasManager.replaceIgnoreCase(
        token.termText(), t.getTerm(), t.getTeach());
 
    int increment = tokenText.length() - token.termText().length();
    if (increment > 0) {
      token.setPositionIncrement(increment);
    }
 
    return new Token(tokenText, token.startOffset(), token.endOffset());
  }
 
 
 
 
 

------=_NextPart_000_0000_01C3BA88.26C59F30--


From MAILER-DAEMON Thu Dec  4 22:01:51 2003
Return-Path: 
 <lucene-user-return-6387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47457 invoked from network); 4 Dec 2003 22:01:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 22:01:51 -0000
Received: (qmail 52667 invoked by uid 500); 4 Dec 2003 22:01:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52628 invoked by uid 500); 4 Dec 2003 22:01:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52575 invoked from network); 4 Dec 2003 22:01:25 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 4 Dec 2003 22:01:25 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB4M1Vf07327
	for <lucene-user@jakarta.apache.org>; Thu, 4 Dec 2003 17:01:31 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPE0060156IJW@lmco.com> for lucene-user@jakarta.apache.org;
 Thu, 04 Dec 2003 17:01:30 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPE00LR356IN0@lmco.com> for lucene-user@jakarta.apache.org;
 Thu, 04 Dec 2003 17:01:30 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Thu,
 04 Dec 2003 17:01:30 -0500
Date: Thu, 04 Dec 2003 17:01:30 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E77F@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: NPE when using explain
Thread-Index: AcO6pttQwoAsH1a9RvWLpaxrtIbjqgACZU1AAABp3LA=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 04 Dec 2003 22:01:30.0820 (UTC)
 FILETIME=[2C63F840:01C3BAB2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok I realized teh Simple Analyzer does not index numbers, so I switched
back to Standard.

-----Original Message-----
From: Pleasant, Tracy 
Sent: Thursday, December 04, 2003 4:53 PM
To: Lucene Users List
Subject: Returning one result


 I am indexing a group of items and one field , id, is unique.  When the
user clicks on a results I want just that one result to show.  

 I index and search using SimpleAnalyzer.

 
 Query query_es = QueryParser.parse(query, "id", new SimpleAnalyzer());
  
 It should return only one result but returns 200.
  
 
 
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 22:49:33 2003
Return-Path: 
 <lucene-user-return-6388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68154 invoked from network); 4 Dec 2003 22:49:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 22:49:33 -0000
Received: (qmail 21111 invoked by uid 500); 4 Dec 2003 22:49:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20964 invoked by uid 500); 4 Dec 2003 22:49:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20944 invoked from network); 4 Dec 2003 22:49:14 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 4 Dec 2003 22:49:14 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 4 Dec 2003 16:49:14 -0600
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <V3BW01ZS>; Thu, 4 Dec 2003 16:49:13 -0600
Message-Id: <818623B5FD23D51193200002B32C07610D897BBD@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Query creation
Date: Thu, 4 Dec 2003 16:49:04 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is it possible to create a query that would find a match in a document if and only if the query (a one word query) matched with the first word in the field I am searching?

Or do I have to rebuild my indexes, with a field that only contains the first word?

Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 22:52:37 2003
Return-Path: 
 <lucene-user-return-6389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69149 invoked from network); 4 Dec 2003 22:52:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 22:52:37 -0000
Received: (qmail 26490 invoked by uid 500); 4 Dec 2003 22:52:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26427 invoked by uid 500); 4 Dec 2003 22:52:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26404 invoked from network); 4 Dec 2003 22:52:19 -0000
Received: from unknown (HELO mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 4 Dec 2003 22:52:19 -0000
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 7ADE0118199
	for <lucene-user@jakarta.apache.org>; Thu,  4 Dec 2003 18:49:41 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Query creation
Date: Thu, 4 Dec 2003 17:52:26 -0500
Message-ID: <010801c3bab9$49ba7b60$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <818623B5FD23D51193200002B32C07610D897BBD@excsrv44.mayo.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You'll need to apply some kind of filter or add another field to the index
which contains only the first word (Yes you'll need to rebuild the index in
this case)

-----Original Message-----
From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu] 
Sent: Thursday, December 04, 2003 5:49 PM
To: 'Lucene Users List'
Subject: Query creation


Is it possible to create a query that would find a match in a document if
and only if the query (a one word query) matched with the first word in the
field I am searching?

Or do I have to rebuild my indexes, with a field that only contains the
first word?

Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 23:17:48 2003
Return-Path: 
 <lucene-user-return-6390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79799 invoked from network); 4 Dec 2003 23:17:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 23:17:48 -0000
Received: (qmail 64417 invoked by uid 500); 4 Dec 2003 23:17:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64390 invoked by uid 500); 4 Dec 2003 23:17:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64377 invoked from network); 4 Dec 2003 23:17:29 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 4 Dec 2003 23:17:29 -0000
Received: (cpmta 28649 invoked from network); 4 Dec 2003 15:17:35 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 4 Dec 2003 15:17:35 -0800
X-Sent: 4 Dec 2003 23:17:35 GMT
Date: Thu, 4 Dec 2003 18:17:43 -0500
Subject: Re: Returning one result
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E77F@EMSS04M14.us.lmco.com>
Message-Id: <10266DB6-26B0-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You really should use a TermQuery in this case anyway, rather than 
using QueryParser.  You wouldn't have to worry about the analyzer at 
that point anyway (and I assume you're using Field.Keyword during 
indexing).

	Erik


On Thursday, December 4, 2003, at 05:01  PM, Pleasant, Tracy wrote:

> Ok I realized teh Simple Analyzer does not index numbers, so I switched
> back to Standard.
>
> -----Original Message-----
> From: Pleasant, Tracy
> Sent: Thursday, December 04, 2003 4:53 PM
> To: Lucene Users List
> Subject: Returning one result
>
>
>  I am indexing a group of items and one field , id, is unique.  When 
> the
> user clicks on a results I want just that one result to show.
>
>  I index and search using SimpleAnalyzer.
>
>
>  Query query_es = QueryParser.parse(query, "id", new SimpleAnalyzer());
>
>  It should return only one result but returns 200.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec  4 23:22:35 2003
Return-Path: 
 <lucene-user-return-6391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83259 invoked from network); 4 Dec 2003 23:22:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Dec 2003 23:22:35 -0000
Received: (qmail 76836 invoked by uid 500); 4 Dec 2003 23:22:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76798 invoked by uid 500); 4 Dec 2003 23:22:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76728 invoked from network); 4 Dec 2003 23:22:09 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 4 Dec 2003 23:22:09 -0000
Received: (cpmta 16328 invoked from network); 4 Dec 2003 15:22:15 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 4 Dec 2003 15:22:15 -0800
X-Sent: 4 Dec 2003 23:22:15 GMT
Date: Thu, 4 Dec 2003 18:22:24 -0500
Subject: Re: implementing a TokenFilter for aliases
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <TANGOCYZvN4U781HieY000014f2@tango.casebank.com>
Message-Id: <B7B4B065-26B0-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, December 4, 2003, at 05:00  PM, Allen Atamer wrote:
> This is the code that I have so far for the next Method within 
> AliasFilter.
> After reading some posts, I also got the idea to call
> setPositionIncrement(). Neither way works, because when I search for 
> the
> alias, no search results come back.

Rather than trying to analyze your code, rather I'm providing you with 
a utility class that you can use to see what the analysis process is 
doing.

Use the displayTokensWithPositions method using your analyzer on text 
you're having issues with and let us know the results.

	Erik


package lia.analysis;

import org.apache.lucene.analysis.TokenStream;
import org.apache.lucene.analysis.Token;
import org.apache.lucene.analysis.Analyzer;
import java.io.StringReader;
import java.io.IOException;
import java.util.ArrayList;

public class AnalyzerUtils {
   public static Token[] tokensFromAnalysis
                (Analyzer analyzer, String text) throws IOException {
     TokenStream stream =
            analyzer.tokenStream("contents", new StringReader(text));
     ArrayList tokenList = new ArrayList();
     while (true) {
       Token token = stream.next();
       if (token == null) break;

       tokenList.add(token);
     }

     return (Token[]) tokenList.toArray(new Token[0]);
   }

   public static void displayTokens
                (Analyzer analyzer, String text) throws IOException {
     Token[] tokens = tokensFromAnalysis(analyzer, text);

     for (int i = 0; i < tokens.length; i++) {
       Token token = tokens[i];

       System.out.print("[" + token.termText() + "] ");
     }
   }

   public static void displayTokensWithPositions
                (Analyzer analyzer, String text) throws IOException {
     Token[] tokens = tokensFromAnalysis(analyzer, text);

     int position = 0;

     for (int i = 0; i < tokens.length; i++) {
       Token token = tokens[i];

       int increment = token.getPositionIncrement();

       if (increment > 0) {
         position = position + increment;
         System.out.println();
         System.out.print(position + ": ");
       }

       System.out.print("[" + token.termText() + "] ");
     }
   }

}


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 08:45:59 2003
Return-Path: 
 <lucene-user-return-6392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46783 invoked from network); 5 Dec 2003 08:45:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 08:45:59 -0000
Received: (qmail 11283 invoked by uid 500); 5 Dec 2003 08:45:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11247 invoked by uid 500); 5 Dec 2003 08:45:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11234 invoked from network); 5 Dec 2003 08:45:29 -0000
Received: from unknown (HELO rhenium.btinternet.com) (194.73.73.93)
  by daedalus.apache.org with SMTP; 5 Dec 2003 08:45:29 -0000
Received: from host81-129-16-222.in-addr.btopenworld.com ([81.129.16.222]
 helo=p800xp)
	by rhenium.btinternet.com with esmtp (Exim 3.22 #25)
	id 1ASBam-0007b1-00
	for lucene-user@jakarta.apache.org; Fri, 05 Dec 2003 08:45:40 +0000
Reply-To: <adam.saltiel@btinternet.com>
From: "Adam Saltiel" <adam.saltiel@btinternet.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Probabilistic Model in Lucene - possible?
Date: Fri, 5 Dec 2003 08:45:37 -0000
Message-ID: <031501c3bb0c$283ace10$0200a8c0@p800xp>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-reply-to: 
 <33D5BBBB077CAD47AA4F225359F4A5E401240876@ny2528.corp.bloomberg.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Herb,
Any one game ... ?
No takers? I would be very interested, but maybe beyond what can be
posted in a mail list. I'd be equally interested in any references you
may have.
As we are on this subject how does LSI and the similar CNG (context
network graph) fit into the model used by lucene. Could lucene be
massaged to implement different mathematical models of search and
retrieval, if so how modular are the core functions?

Adam Saltiel


> -----Original Message-----
> From: Chong, Herb [mailto:HChong3@bloomberg.com]
> Sent: Thursday, December 04, 2003 1:53 PM
> To: Lucene Users List
> Subject: RE: Probabilistic Model in Lucene - possible?
>
> not all tf/idf variants are probabilistic models, but a great many are
if
> the term weights are probabilities. if we just take straight,
unmodified
> Term Frequency in a document, Inverse Document Frequency in the
corpus,
> and the Term Frequency in the query as 1, you are in fact comparing
the
> statistical properties of the query against the statistical properties
of
> the query. they are probabilities you are comparing. i can't think of
many
> papers that come right out and say it, but if you look at an
individual
> term weight and can interpret it as a genuine probability, the vector
> space model based on the weights is a probabilistic model. the
derivation
> is relatively straight forward to show it, if you have the right
general
> model to start with. once you start throwing in ad hoc normalizations,
> then things get out of whack and it's not longer a probabilistic
model.
>
> the implementations that i have done are with a former company and
that
> means secret and protected by various intellectual property rights.
> however, i can sketch here the general approach one has to take and an
> outline of the derivation that unifies probabilistic models with
vector
> space models and at the same time incorporate pairwise interterm
> correlation. in fact, the pairwise interterm correlations are a
> fundamental assumption. once you do all this, you can show that the
> traditional vector space model is a special case of a pairwise
interterm
> correlation model. for those that are interested in advanced matrix
> algebra and some basic statistics, it should be very interesting. if
only
> i had a published paper, i would post it. unfortunately, what i have
is
> very obtuse because it's protected. the only paper that started out
was
> submitted to SIGIR but rejected by all but one referee. that one
thought
> this was a tremendous unification of the two methods, but academic
> journals being what they are, when 4 out of 5 referees can't
understand
> the paper, it doesn't get published. i may brush it off and enlarge
into a
> much longer paper for the Journal of IR, but once again, unless you
are
> comfortable with probability theory and matrix theory, you are not
going
> to follow it.
>
> so, who is game for a tutorial on the derivation?
>
> Herb...
>
> -----Original Message-----
> From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> Sent: Thursday, December 04, 2003 5:09 AM
> To: Lucene Users List
> Subject: AW: Probabilistic Model in Lucene - possible?
>
>
>
> Hi Herb,
>
> thank you for your insights.
>
> >>
> but by most accepted definitions, the tf/idf model in Lucene is a
> probabilistic model.
> >>
>
> Can you send some pointers to help me understand that? Are all TF/IDF-
> variants
> probabilistic models? If so, what makes any model a non-probabilistic
one?
> If you claim that TF/IDF is probabilistic, then the plain cosine (an
> extreme
> form of TF/IDF, with IDF for all terms being considered constant) of
VSM
> would
> also be a probabilistic model.
>
> >>
> it's got strange normalizations though that doesn't allow comparisons
of
> rank values across queries.
> >>
>
> Lucene's internal ranking sometimes returns values > 1.0, these are
then
> normalized to 1.0,
> adjusting other rankings accordingly. While I have nothing to say
against
> this - it's a hack,
> but useful - it makes comparing the rank values across queries really
> difficult. It's like
> using different scales whenever you measure something different, and
then
> you do not tell
> anyone about it.
>
> >>
> it isn't terribly hard to make a normalized probabilistic model that
> allows comparing of document scores across queries and assign a
meaning to
> the score. i've done it.
> >>
>
> Stop bragging, send us your Similarity implementation :)
>
> Regards,
>
> Karsten
>
>
> -----Urspr�ngliche Nachricht-----
> Von: Chong, Herb [mailto:HChong3@bloomberg.com]
> Gesendet: Mittwoch, 3. Dezember 2003 23:01
> An: Lucene Users List
> Betreff: RE: Probabilistic Model in Lucene - possible?
>
>
> i think i am missing the original question, but by most accepted
> definitions, the tf/idf model in Lucene is a probabilistic model. it's
got
> strange normalizations though that doesn't allow comparisons of rank
> values across queries.
>
> it isn't terribly hard to make a normalized probabilistic model that
> allows comparing of document scores across queries and assign a
meaning to
> the score. i've done it. however, that means abandoning idf and
keeping
> actual term frequencies for each document and document size. once you
> normalize this way, you can intermingle document scores from different
> queries and different corpora and make statements about the absolute
value
> of the score. it also leads directly into the discussion we had
earlier
> about interterm correlations and how to handle them properly since the
> full interterm probabilistic model has as a special case the
traditional
> tf/idf model. interjecting Boolean conditions and boost makes the
model
> much more complicated.
>
> Herb....
>
> -----Original Message-----
> From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> Sent: Wednesday, December 03, 2003 4:51 PM
> To: Lucene Users List
> Subject: AW: Probabilistic Model in Lucene - possible?
>
> >>
> I would highly appreciate it if the experts here (especially Karsten
or
> Chong) look at my idea and tell me if this would be possible.
> >>
>
> Sorry, I have no idea about how to use a probabilistic approach with
> Lucene, but if anyone does so, I would like to know, too.
>
> I am currently puzzled by a related question: I would like to know if
> there are any approaches to get a confidence value for relevance
> rather than a ranking. I.e., it would be nice to have a ranking
> weight whose value has some kind of semantics such that we could
> compare results from different queries. Can probabilistic approches
> do anything like this?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 11:41:53 2003
Return-Path: 
 <lucene-user-return-6393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26349 invoked from network); 5 Dec 2003 11:41:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 11:41:53 -0000
Received: (qmail 50423 invoked by uid 500); 5 Dec 2003 11:41:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50390 invoked by uid 500); 5 Dec 2003 11:41:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50371 invoked from network); 5 Dec 2003 11:41:46 -0000
Received: from unknown (HELO web25201.mail.ukl.yahoo.com) (217.12.10.61)
  by daedalus.apache.org with SMTP; 5 Dec 2003 11:41:46 -0000
Message-ID: <20031205114144.10693.qmail@web25201.mail.ukl.yahoo.com>
Received: from [212.126.153.239] by web25201.mail.ukl.yahoo.com via HTTP;
 Fri, 05 Dec 2003 11:41:44 GMT
Date: Fri, 5 Dec 2003 11:41:44 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: Re: Testing for Optimization
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031204195729.GG34796@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Dror Matalon <dror@zapatec.com> wrote: > I believe that indexes
that are optimized have only one segment. So
> in
> theory you could check and see that you only have one file with a
> ".fdt", ".fdx", etc. 

If run `cat/index_dir/segements` on an optimized index there is only 
only string in there. It matches up with prefix of files in the index
directory.

If i run the same on an un-optimized index dir then i get back several
strings.

There are more files in the optimized index dir than just the ones with
the prefix listed in the segments file.
Have i corrupted my indexes?
Can I safely delete those files which do not have the prefix listed in
the segments file?

Thanks,
jt

________________________________________________________________________
Download Yahoo! Messenger now for a chance to win Live At Knebworth DVDs
http://www.yahoo.co.uk/robbiewilliams

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 11:55:08 2003
Return-Path: 
 <lucene-user-return-6394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32187 invoked from network); 5 Dec 2003 11:55:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 11:55:08 -0000
Received: (qmail 77348 invoked by uid 500); 5 Dec 2003 11:55:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77321 invoked by uid 500); 5 Dec 2003 11:55:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77300 invoked from network); 5 Dec 2003 11:55:00 -0000
Received: from unknown (HELO master.hyd.deshaw.com) (149.77.160.1)
  by daedalus.apache.org with SMTP; 5 Dec 2003 11:55:00 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id hB5Bsvtw001372
 for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 17:24:58 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <W00FPTHL>; Fri, 5 Dec 2003 17:24:57 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178B01C0114D@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Range Query
Date: Fri, 5 Dec 2003 17:24:57 +0530 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
When I do range query like id:[0* to 9*] the result set exclude documents
having id 0, 90 ... i.e boundary values are excluded.
Is it expected or am I going wrong some where.
thanks,
vikas. 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 13:24:56 2003
Return-Path: 
 <lucene-user-return-6395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79729 invoked from network); 5 Dec 2003 13:24:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 13:24:56 -0000
Received: (qmail 88353 invoked by uid 500); 5 Dec 2003 13:24:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88323 invoked by uid 500); 5 Dec 2003 13:24:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88298 invoked from network); 5 Dec 2003 13:24:47 -0000
Received: from unknown (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
  by daedalus.apache.org with SMTP; 5 Dec 2003 13:24:47 -0000
Received: from cis.strath.ac.uk (IDENT:www@smtphost.cis.strath.ac.uk
 [130.159.196.96])
	by ramsay.cis.strath.ac.uk (8.12.10/8.12.10) with SMTP id hB5DO99p003438;
	Fri, 5 Dec 2003 13:24:09 GMT
Message-Id: <200312051324.hB5DO99p003438@ramsay.cis.strath.ac.uk>
Date: Fri, 5 Dec 2003 13:24:08 -0000
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        <adam.saltiel@btinternet.com>
Subject: RE: Probabilistic Model in Lucene - possible?
From: <Shengli.Wu@cis.strath.ac.uk>
X-Mailer: TWIG 2.7.3
In-Reply-To: <031501c3bb0c$283ace10$0200a8c0@p800xp>
X-Client-IP: 193.61.148.4
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam, SpamAssassin (score=-2.3, required 6,
	BAYES_20 -2.60, IN_REP_TO -0.37, NO_REAL_NAME 1.15,
	QUOTED_EMAIL_TEXT -0.38)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Deal all,

I am interested in implement a probabilistic model in Lucene as well.
I checked the book titled "model information retrieval" authored by Ricardo 
Baeza-Yates and Berthier Ribeiro-Neto, it seems to me that the 
implementation is not very complicated when we use Lucene's IndexReader 
class, almost all the parameters needed are there: the total number of 
document in the index (collection), the number of documents having a 
particular term, that is it. Probably we need to find out a satisfied method
of defining the weights of terms in the documents as well as in the query.

Cheers,

Shengli



Adam Saltiel <adam.saltiel@btinternet.com> said:

> Herb,
> Any one game ... ?
> No takers? I would be very interested, but maybe beyond what can be
> posted in a mail list. I'd be equally interested in any references you
> may have.
> As we are on this subject how does LSI and the similar CNG (context
> network graph) fit into the model used by lucene. Could lucene be
> massaged to implement different mathematical models of search and
> retrieval, if so how modular are the core functions?
> 
> Adam Saltiel
> 
> 
> > -----Original Message-----
> > From: Chong, Herb [mailto:HChong3@bloomberg.com]
> > Sent: Thursday, December 04, 2003 1:53 PM
> > To: Lucene Users List
> > Subject: RE: Probabilistic Model in Lucene - possible?
> >
> > not all tf/idf variants are probabilistic models, but a great many are
> if
> > the term weights are probabilities. if we just take straight,
> unmodified
> > Term Frequency in a document, Inverse Document Frequency in the
> corpus,
> > and the Term Frequency in the query as 1, you are in fact comparing
> the
> > statistical properties of the query against the statistical properties
> of
> > the query. they are probabilities you are comparing. i can't think of
> many
> > papers that come right out and say it, but if you look at an
> individual
> > term weight and can interpret it as a genuine probability, the vector
> > space model based on the weights is a probabilistic model. the
> derivation
> > is relatively straight forward to show it, if you have the right
> general
> > model to start with. once you start throwing in ad hoc normalizations,
> > then things get out of whack and it's not longer a probabilistic
> model.
> >
> > the implementations that i have done are with a former company and
> that
> > means secret and protected by various intellectual property rights.
> > however, i can sketch here the general approach one has to take and an
> > outline of the derivation that unifies probabilistic models with
> vector
> > space models and at the same time incorporate pairwise interterm
> > correlation. in fact, the pairwise interterm correlations are a
> > fundamental assumption. once you do all this, you can show that the
> > traditional vector space model is a special case of a pairwise
> interterm
> > correlation model. for those that are interested in advanced matrix
> > algebra and some basic statistics, it should be very interesting. if
> only
> > i had a published paper, i would post it. unfortunately, what i have
> is
> > very obtuse because it's protected. the only paper that started out
> was
> > submitted to SIGIR but rejected by all but one referee. that one
> thought
> > this was a tremendous unification of the two methods, but academic
> > journals being what they are, when 4 out of 5 referees can't
> understand
> > the paper, it doesn't get published. i may brush it off and enlarge
> into a
> > much longer paper for the Journal of IR, but once again, unless you
> are
> > comfortable with probability theory and matrix theory, you are not
> going
> > to follow it.
> >
> > so, who is game for a tutorial on the derivation?
> >
> > Herb...
> >
> > -----Original Message-----
> > From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> > Sent: Thursday, December 04, 2003 5:09 AM
> > To: Lucene Users List
> > Subject: AW: Probabilistic Model in Lucene - possible?
> >
> >
> >
> > Hi Herb,
> >
> > thank you for your insights.
> >
> > >>
> > but by most accepted definitions, the tf/idf model in Lucene is a
> > probabilistic model.
> > >>
> >
> > Can you send some pointers to help me understand that? Are all TF/IDF-
> > variants
> > probabilistic models? If so, what makes any model a non-probabilistic
> one?
> > If you claim that TF/IDF is probabilistic, then the plain cosine (an
> > extreme
> > form of TF/IDF, with IDF for all terms being considered constant) of
> VSM
> > would
> > also be a probabilistic model.
> >
> > >>
> > it's got strange normalizations though that doesn't allow comparisons
> of
> > rank values across queries.
> > >>
> >
> > Lucene's internal ranking sometimes returns values > 1.0, these are
> then
> > normalized to 1.0,
> > adjusting other rankings accordingly. While I have nothing to say
> against
> > this - it's a hack,
> > but useful - it makes comparing the rank values across queries really
> > difficult. It's like
> > using different scales whenever you measure something different, and
> then
> > you do not tell
> > anyone about it.
> >
> > >>
> > it isn't terribly hard to make a normalized probabilistic model that
> > allows comparing of document scores across queries and assign a
> meaning to
> > the score. i've done it.
> > >>
> >
> > Stop bragging, send us your Similarity implementation :)
> >
> > Regards,
> >
> > Karsten
> >
> >
> > -----Urspr�ngliche Nachricht-----
> > Von: Chong, Herb [mailto:HChong3@bloomberg.com]
> > Gesendet: Mittwoch, 3. Dezember 2003 23:01
> > An: Lucene Users List
> > Betreff: RE: Probabilistic Model in Lucene - possible?
> >
> >
> > i think i am missing the original question, but by most accepted
> > definitions, the tf/idf model in Lucene is a probabilistic model. it's
> got
> > strange normalizations though that doesn't allow comparisons of rank
> > values across queries.
> >
> > it isn't terribly hard to make a normalized probabilistic model that
> > allows comparing of document scores across queries and assign a
> meaning to
> > the score. i've done it. however, that means abandoning idf and
> keeping
> > actual term frequencies for each document and document size. once you
> > normalize this way, you can intermingle document scores from different
> > queries and different corpora and make statements about the absolute
> value
> > of the score. it also leads directly into the discussion we had
> earlier
> > about interterm correlations and how to handle them properly since the
> > full interterm probabilistic model has as a special case the
> traditional
> > tf/idf model. interjecting Boolean conditions and boost makes the
> model
> > much more complicated.
> >
> > Herb....
> >
> > -----Original Message-----
> > From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> > Sent: Wednesday, December 03, 2003 4:51 PM
> > To: Lucene Users List
> > Subject: AW: Probabilistic Model in Lucene - possible?
> >
> > >>
> > I would highly appreciate it if the experts here (especially Karsten
> or
> > Chong) look at my idea and tell me if this would be possible.
> > >>
> >
> > Sorry, I have no idea about how to use a probabilistic approach with
> > Lucene, but if anyone does so, I would like to know, too.
> >
> > I am currently puzzled by a related question: I would like to know if
> > there are any approaches to get a confidence value for relevance
> > rather than a ranking. I.e., it would be nice to have a ranking
> > weight whose value has some kind of semantics such that we could
> > compare results from different queries. Can probabilistic approches
> > do anything like this?
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



-- 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 13:33:18 2003
Return-Path: 
 <lucene-user-return-6396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84004 invoked from network); 5 Dec 2003 13:33:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 13:33:18 -0000
Received: (qmail 6160 invoked by uid 500); 5 Dec 2003 13:33:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6127 invoked by uid 500); 5 Dec 2003 13:33:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6114 invoked from network); 5 Dec 2003 13:33:11 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 5 Dec 2003 13:33:11 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 5 Dec 2003 08:33:11 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB5DXAx07484
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 08:33:10 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Probabilistic Model in Lucene - possible?
Date: Fri, 5 Dec 2003 08:33:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3B00@ny2528.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Topic: Probabilistic Model in Lucene - possible?
Thread-Index: AcO7DDFo/zNooEZ7QJyk48e9DNbyqgAJ/D/g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

anyone interested, contact me offline. whoever contacts me by the end of =
next week, i'll email an outline of the derivation and we can discuss it =
in private emails. i guarantee, you will learn something interesting =
about search engines.

Herb....

-----Original Message-----
From: Adam Saltiel [mailto:adam.saltiel@btinternet.com]
Sent: Friday, December 05, 2003 3:46 AM
To: 'Lucene Users List'
Subject: RE: Probabilistic Model in Lucene - possible?


Herb,
Any one game ... ?
No takers? I would be very interested, but maybe beyond what can be
posted in a mail list. I'd be equally interested in any references you
may have.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 14:12:40 2003
Return-Path: 
 <lucene-user-return-6397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7327 invoked from network); 5 Dec 2003 14:12:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 14:12:40 -0000
Received: (qmail 76531 invoked by uid 500); 5 Dec 2003 14:12:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76497 invoked by uid 500); 5 Dec 2003 14:12:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76484 invoked from network); 5 Dec 2003 14:12:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Dec 2003 14:12:31 -0000
Received: (cpmta 18793 invoked from network); 5 Dec 2003 06:12:32 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Dec 2003 06:12:32 -0800
X-Sent: 5 Dec 2003 14:12:32 GMT
Date: Fri, 5 Dec 2003 09:12:41 -0500
Subject: Re: Range Query
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <21559A0D4CF8D511B51100065B38178B01C0114D@mshyd2.hyd.deshaw.com>
Message-Id: <168C4EDC-272D-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 06:54  AM, Ramrakhiani, Vikas wrote:
> Hi,
> When I do range query like id:[0* to 9*] the result set exclude 
> documents
> having id 0, 90 ... i.e boundary values are excluded.
> Is it expected or am I going wrong some where.

It is expected.  You're thinking that wildcards work on range queries.  
They do not.  You are literally starting the range at "0*", which is 
greater than "0" lexicograhically.  If you are doing number ranges, 
though, you probably want to do some padding with leading zeros so all 
numbers have the same string size.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 14:48:55 2003
Return-Path: 
 <lucene-user-return-6398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34929 invoked from network); 5 Dec 2003 14:48:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 14:48:55 -0000
Received: (qmail 59175 invoked by uid 500); 5 Dec 2003 14:48:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59142 invoked by uid 500); 5 Dec 2003 14:48:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59129 invoked from network); 5 Dec 2003 14:48:45 -0000
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by daedalus.apache.org with SMTP; 5 Dec 2003 14:48:45 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Fri, 05 Dec 2003 09:48:47 -0500
Message-Id: <sfd0547f.033@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Fri, 05 Dec 2003 09:48:36 -0500
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Index and Field.Text
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have seen the example SAX based XML processing in the Lucene sandbox =
(thanks to the authors for contributing!) and have successfully adapted =
this approach for my application.  The one thing that does not sit well =
with me is the fact that I am using the method Field.Text(String, String) =
instead of the Field.Text(String, Reader) version, which means I am =
storing the contents in the index.

Some questions:

1. Should I care?  What is the cost of storing the contents of these files =
versus using the Reader based method.  Presumably, the index size is going =
to be larger, but will it adversaly effect search time?  If yes, how much =
so (relatively speaking)?

2. If storing the content is going to adversaly effect searching, has =
anyone written an XMLReader that extends java.io.Reader.  I guess it would =
need to take in the name of the tag(s) that you want the reader to =
retrieve and then extend all of the java.io.Reader results to return =
values based on just the tag values that I am interested in.  Has anyone =
taken this approach?  If not, does it at least seem like a valid approach?

Thanks for your help!

-Grant Ingersoll



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 14:53:35 2003
Return-Path: 
 <lucene-user-return-6399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37583 invoked from network); 5 Dec 2003 14:53:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 14:53:35 -0000
Received: (qmail 73601 invoked by uid 500); 5 Dec 2003 14:53:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73573 invoked by uid 500); 5 Dec 2003 14:53:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73560 invoked from network); 5 Dec 2003 14:53:26 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 5 Dec 2003 14:53:26 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 5 Dec 2003 09:53:27 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB5ErPx01958
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 09:53:26 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Index and Field.Text
Date: Fri, 5 Dec 2003 09:53:25 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3B05@ny2528.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Topic: Index and Field.Text
Thread-Index: AcO7PvfSnmr1abeoQrybVuVelXIHrQAAHc9g
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you are storing the same information both ways. the string gets analyzed =
and discarded, just like with the Reader.

Herb...

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@SYR.EDU]
Sent: Friday, December 05, 2003 9:49 AM
To: lucene-user@jakarta.apache.org
Subject: Index and Field.Text


Hi,

I have seen the example SAX based XML processing in the Lucene sandbox =
(thanks to the authors for contributing!) and have successfully adapted =
this approach for my application.  The one thing that does not sit well =
with me is the fact that I am using the method Field.Text(String, =
String) instead of the Field.Text(String, Reader) version, which means I =
am storing the contents in the index.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:22:34 2003
Return-Path: 
 <lucene-user-return-6400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57530 invoked from network); 5 Dec 2003 15:22:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:22:34 -0000
Received: (qmail 33125 invoked by uid 500); 5 Dec 2003 15:22:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33097 invoked by uid 500); 5 Dec 2003 15:22:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33083 invoked from network); 5 Dec 2003 15:22:24 -0000
Received: from unknown (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:22:24 -0000
Received: from cis.strath.ac.uk (IDENT:www@smtphost.cis.strath.ac.uk
 [130.159.196.96])
	by ramsay.cis.strath.ac.uk (8.12.10/8.12.10) with SMTP id hB5FMN9p021096
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 15:22:23 GMT
Message-Id: <200312051522.hB5FMN9p021096@ramsay.cis.strath.ac.uk>
Date: Fri, 5 Dec 2003 15:22:22 -0000
To: <lucene-user@jakarta.apache.org>
Subject: class definition used in Lucene
From: <Shengli.Wu@cis.strath.ac.uk>
X-Mailer: TWIG 2.7.3
X-Client-IP: 193.61.148.4
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam, SpamAssassin (score=1.1, required 6,
	NO_REAL_NAME 1.15)
X-CIS-MailScanner-SpamScore: s
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


hi, 

I have problems for understanding some classes definitions in Lucene
(see the end of this e-mail for the source code).

A class "FilterIndexReader" is defined at 1. 
Then "FilterTermDocs" is defined as a nested static class at 2.
 
At 3, 

public FilterTermDocs(TermDocs in) 

is a constructor. What I am not understand are as follows: 

1. Now that FilterTermDocs is a static class, then why it has a constructor 
at 3?

2. Why we can use (TermDocs in) for the constructor at 3? Here "TermDocs" is 
an interface, does that mean "in" is an object of "TermDocs"?
Thanks in advance for your help!

Best,

Shengli


1 public class FilterIndexReader extends IndexReader {

  /** Base class for filtering {@link TermDocs} implementations. */
2  public static class FilterTermDocs implements TermDocs {3    protected
   TermDocs in;

3  public FilterTermDocs(TermDocs in) { this.in = in; }
...............




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:23:00 2003
Return-Path: 
 <lucene-user-return-6401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57947 invoked from network); 5 Dec 2003 15:23:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:23:00 -0000
Received: (qmail 35753 invoked by uid 500); 5 Dec 2003 15:22:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35727 invoked by uid 500); 5 Dec 2003 15:22:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35697 invoked from network); 5 Dec 2003 15:22:49 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:22:49 -0000
Received: (cpmta 18697 invoked from network); 5 Dec 2003 07:22:50 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Dec 2003 07:22:50 -0800
X-Sent: 5 Dec 2003 15:22:50 GMT
Date: Fri, 5 Dec 2003 10:22:58 -0500
Subject: Re: Index and Field.Text
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <sfd0547f.033@gwia201.syr.edu>
Message-Id: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 09:48  AM, Grant Ingersoll wrote:
> I have seen the example SAX based XML processing in the Lucene sandbox 
> (thanks to the authors for contributing!) and have successfully 
> adapted this approach for my application.  The one thing that does not 
> sit well with me is the fact that I am using the method 
> Field.Text(String, String) instead of the Field.Text(String, Reader) 
> version, which means I am storing the contents in the index.

So use Field.UnStored(String, String) then.  It is the same as 
Field.Text(String, Reader).

The static "factory" methods on Field are merely for convenience.  You 
can control all the flags yourself using the constructor:

	public Field(String name, String string,
	       boolean store, boolean index, boolean token)

> 2. If storing the content is going to adversaly effect searching, has 
> anyone written an XMLReader that extends java.io.Reader.

You could always use a StringReader wrapper :))

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:31:48 2003
Return-Path: 
 <lucene-user-return-6402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63344 invoked from network); 5 Dec 2003 15:31:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:31:48 -0000
Received: (qmail 65758 invoked by uid 500); 5 Dec 2003 15:31:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65731 invoked by uid 500); 5 Dec 2003 15:31:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65718 invoked from network); 5 Dec 2003 15:31:38 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:31:38 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5FVdq01752
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 10:31:40 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00501HSRGF@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:31:39 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF00E6XHSR18@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:31:39 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 10:31:39 -0500
Date: Fri, 05 Dec 2003 10:31:39 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E783@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO6vNR7LGmckNYuRkyqGnb6tHk6mwAh/Zzw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 15:31:39.0603 (UTC)
 FILETIME=[E08D4230:01C3BB44]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok thanks, but still I can't use the Simple analyzer since it won't even
index that whole thing. I 'll give TermQuery a try. Thanks.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 04, 2003 6:18 PM
To: Lucene Users List
Subject: Re: Returning one result


You really should use a TermQuery in this case anyway, rather than 
using QueryParser.  You wouldn't have to worry about the analyzer at 
that point anyway (and I assume you're using Field.Keyword during 
indexing).

	Erik


On Thursday, December 4, 2003, at 05:01  PM, Pleasant, Tracy wrote:

> Ok I realized teh Simple Analyzer does not index numbers, so I
switched
> back to Standard.
>
> -----Original Message-----
> From: Pleasant, Tracy
> Sent: Thursday, December 04, 2003 4:53 PM
> To: Lucene Users List
> Subject: Returning one result
>
>
>  I am indexing a group of items and one field , id, is unique.  When 
> the
> user clicks on a results I want just that one result to show.
>
>  I index and search using SimpleAnalyzer.
>
>
>  Query query_es = QueryParser.parse(query, "id", new
SimpleAnalyzer());
>
>  It should return only one result but returns 200.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:33:14 2003
Return-Path: 
 <lucene-user-return-6403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64041 invoked from network); 5 Dec 2003 15:33:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:33:14 -0000
Received: (qmail 70456 invoked by uid 500); 5 Dec 2003 15:32:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70405 invoked by uid 500); 5 Dec 2003 15:32:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70354 invoked from network); 5 Dec 2003 15:32:56 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:32:56 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5FWwq28417
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 10:32:58 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00601HUYA7@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:32:58 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF00FT6HUYOL@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:32:58 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 10:32:58 -0500
Date: Fri, 05 Dec 2003 10:32:57 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E784@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO6vNR7LGmckNYuRkyqGnb6tHk6mwAiCKVQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 15:32:58.0105 (UTC)
 FILETIME=[0F57B690:01C3BB45]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Actually Erik, no I'm using Field.Text
When I used Field.Keyword and tried to get the word for return with
search results it would not display correctly... 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 04, 2003 6:18 PM
To: Lucene Users List
Subject: Re: Returning one result


You really should use a TermQuery in this case anyway, rather than 
using QueryParser.  You wouldn't have to worry about the analyzer at 
that point anyway (and I assume you're using Field.Keyword during 
indexing).

	Erik


On Thursday, December 4, 2003, at 05:01  PM, Pleasant, Tracy wrote:

> Ok I realized teh Simple Analyzer does not index numbers, so I
switched
> back to Standard.
>
> -----Original Message-----
> From: Pleasant, Tracy
> Sent: Thursday, December 04, 2003 4:53 PM
> To: Lucene Users List
> Subject: Returning one result
>
>
>  I am indexing a group of items and one field , id, is unique.  When 
> the
> user clicks on a results I want just that one result to show.
>
>  I index and search using SimpleAnalyzer.
>
>
>  Query query_es = QueryParser.parse(query, "id", new
SimpleAnalyzer());
>
>  It should return only one result but returns 200.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:41:43 2003
Return-Path: 
 <lucene-user-return-6404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68138 invoked from network); 5 Dec 2003 15:41:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:41:43 -0000
Received: (qmail 88889 invoked by uid 500); 5 Dec 2003 15:41:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88862 invoked by uid 500); 5 Dec 2003 15:41:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88849 invoked from network); 5 Dec 2003 15:41:32 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:41:32 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5FfYq31613
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 10:41:34 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00B01I9AGM@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:41:34 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF00DK5I9AJ9@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 10:41:34 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 10:41:34 -0500
Date: Fri, 05 Dec 2003 10:41:18 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E82@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO6vNR7LGmckNYuRkyqGnb6tHk6mwAiKvag
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 15:41:34.0458 (UTC)
 FILETIME=[431CEDA0:01C3BB46]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe I should have been more clear.

static Field Keyword(String name, String value) 
          Constructs a String-valued Field that is not tokenized, but is
indexed and stored. 

I need to have it tokenized because people will search for that also and
it needs to be searchable. 

Should I have two fields - one as a keyword and one as text? 


How would I do that when I want to return search results..

Right now, in the results page it will have something like
<a href="display_record.jsp?id=AR334">Record AR334</a> 

Then in display_record.jsp:
     Searcher searcher = new IndexSearcher("index");
     String term = request.getParameter("id");

     Query query = QueryParser.parse(term, "id", new
StandardAnalyzer());

     Hits hits  = searcher.search(query);

Would it have to be something like:
     TermQuery query = ???

or 
     Query query = QueryParser.Term("id");

? ? ? 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, December 04, 2003 6:18 PM
To: Lucene Users List
Subject: Re: Returning one result


You really should use a TermQuery in this case anyway, rather than 
using QueryParser.  You wouldn't have to worry about the analyzer at 
that point anyway (and I assume you're using Field.Keyword during 
indexing).

	Erik


On Thursday, December 4, 2003, at 05:01  PM, Pleasant, Tracy wrote:

> Ok I realized teh Simple Analyzer does not index numbers, so I
switched
> back to Standard.
>
> -----Original Message-----
> From: Pleasant, Tracy
> Sent: Thursday, December 04, 2003 4:53 PM
> To: Lucene Users List
> Subject: Returning one result
>
>
>  I am indexing a group of items and one field , id, is unique.  When 
> the
> user clicks on a results I want just that one result to show.
>
>  I index and search using SimpleAnalyzer.
>
>
>  Query query_es = QueryParser.parse(query, "id", new
SimpleAnalyzer());
>
>  It should return only one result but returns 200.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 15:43:49 2003
Return-Path: 
 <lucene-user-return-6405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69681 invoked from network); 5 Dec 2003 15:43:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 15:43:49 -0000
Received: (qmail 93265 invoked by uid 500); 5 Dec 2003 15:43:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93236 invoked by uid 500); 5 Dec 2003 15:43:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93223 invoked from network); 5 Dec 2003 15:43:38 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 5 Dec 2003 15:43:38 -0000
Received: (cpmta 13500 invoked from network); 5 Dec 2003 07:43:40 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 5 Dec 2003 07:43:40 -0800
X-Sent: 5 Dec 2003 15:43:40 GMT
Date: Fri, 5 Dec 2003 10:43:49 -0500
Subject: Re: Returning one result
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E783@EMSS04M14.us.lmco.com>
Message-Id: <D1F0CC23-2739-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 10:31  AM, Pleasant, Tracy wrote:
> Ok thanks, but still I can't use the Simple analyzer since it won't 
> even
> index that whole thing. I 'll give TermQuery a try. Thanks.


Yes, certainly the analyzer is important for "analyzed" fields, but it 
is not used for Field.Keyword.  Please provide more details on the 
issue you encountered using Field.Keyword.



>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, December 04, 2003 6:18 PM
> To: Lucene Users List
> Subject: Re: Returning one result
>
>
> You really should use a TermQuery in this case anyway, rather than
> using QueryParser.  You wouldn't have to worry about the analyzer at
> that point anyway (and I assume you're using Field.Keyword during
> indexing).
>
> 	Erik
>
>
> On Thursday, December 4, 2003, at 05:01  PM, Pleasant, Tracy wrote:
>
>> Ok I realized teh Simple Analyzer does not index numbers, so I
> switched
>> back to Standard.
>>
>> -----Original Message-----
>> From: Pleasant, Tracy
>> Sent: Thursday, December 04, 2003 4:53 PM
>> To: Lucene Users List
>> Subject: Returning one result
>>
>>
>>  I am indexing a group of items and one field , id, is unique.  When
>> the
>> user clicks on a results I want just that one result to show.
>>
>>  I index and search using SimpleAnalyzer.
>>
>>
>>  Query query_es = QueryParser.parse(query, "id", new
> SimpleAnalyzer());
>>
>>  It should return only one result but returns 200.
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 16:02:08 2003
Return-Path: 
 <lucene-user-return-6406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83453 invoked from network); 5 Dec 2003 16:02:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 16:02:08 -0000
Received: (qmail 50035 invoked by uid 500); 5 Dec 2003 16:01:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50008 invoked by uid 500); 5 Dec 2003 16:01:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49995 invoked from network); 5 Dec 2003 16:01:57 -0000
Received: from unknown (HELO mail3.gmhwh.org) (198.31.239.197)
  by daedalus.apache.org with SMTP; 5 Dec 2003 16:01:57 -0000
Received: from 192.168.8.246 by mail3.gmhwh.org with ESMTP (<SMTP Relay>
 (MMS v5.5.3)); Fri, 05 Dec 2003 09:03:06 -0600
Received: from WH-INET-MTA by wh-inet.gmhwh.org with Novell_GroupWise;
 Fri, 05 Dec 2003 09:01:47 -0700
Message-ID: <sfd0497b.086@wh-inet.gmhwh.org>
X-Mailer: Novell GroupWise Internet Agent 6.0.2
Date: Fri, 05 Dec 2003 09:01:38 -0700
From: "Kenneth Campbell" <campbellkr@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: Lucene 1.2  "Hit Highlighting"
MIME-Version: 1.0
X-WSS-ID: 13CE73B02245706-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can someone point me in the right direction with regards to "Hit Highlighti=
ng"

I have seen what Mark Harwood has done and I like it, however I am using =
lucene 1.2. Are there a compatibility issues.=20

If no any suggestions about implementation would be helpful.

If yes are there any suggestions for "Hit Highlighting" with lucene 1.2.


Thanks=20

Ken C.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 16:32:22 2003
Return-Path: 
 <lucene-user-return-6408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2641 invoked from network); 5 Dec 2003 16:32:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 16:32:22 -0000
Received: (qmail 12913 invoked by uid 500); 5 Dec 2003 16:32:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12879 invoked by uid 500); 5 Dec 2003 16:32:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12866 invoked from network); 5 Dec 2003 16:32:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 5 Dec 2003 16:32:11 -0000
Received: (cpmta 25966 invoked from network); 5 Dec 2003 08:32:14 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 5 Dec 2003 08:32:14 -0800
X-Sent: 5 Dec 2003 16:32:14 GMT
Date: Fri, 5 Dec 2003 11:32:22 -0500
Subject: Re: Returning one result
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E82@EMSS04M14.us.lmco.com>
Message-Id: <9A4ACB0C-2740-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 10:41  AM, Pleasant, Tracy wrote:
> Maybe I should have been more clear.
>
> static Field Keyword(String name, String value)
>           Constructs a String-valued Field that is not tokenized, but 
> is
> indexed and stored.
>
> I need to have it tokenized because people will search for that also 
> and
> it needs to be searchable.

Search for *what* also?  Tokenized means that it is broken into pieces 
which will be separate terms.  For example: "see spot" is tokenized 
into "see" and "spot", and searching for either of those terms will 
match.

Just try it and see, please!  :)

> Should I have two fields - one as a keyword and one as text?

Depends on what you're doing... but an "id" field to me indicates 
Field.Keyword to me, only.

> How would I do that when I want to return search results..
>
>      Searcher searcher = new IndexSearcher("index");
>      String term = request.getParameter("id");

>      Query query = QueryParser.parse(term, "id", new
> StandardAnalyzer());
>
>      Hits hits  = searcher.search(query);
>
> Would it have to be something like:
>      TermQuery query = ???

Yes.  TermQuery query = new TermQuery(new Term("id", term));

Use searcher.search exactly as you did before.  Just don't use 
QueryParser to construct a query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 16:31:40 2003
Return-Path: 
 <lucene-user-return-6407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2247 invoked from network); 5 Dec 2003 16:31:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 16:31:40 -0000
Received: (qmail 11740 invoked by uid 500); 5 Dec 2003 16:31:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11439 invoked by uid 500); 5 Dec 2003 16:31:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11414 invoked from network); 5 Dec 2003 16:31:22 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 5 Dec 2003 16:31:22 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1ASIrK-0003Y8-Ik
	for lucene-user@jakarta.apache.org; Fri, 05 Dec 2003 09:31:18 -0700
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Index and Field.Text
Date: Fri, 5 Dec 2003 09:32:58 -0700
User-Agent: KMail/1.4.3
References: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200312050932.58322.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 05 December 2003 08:22, Erik Hatcher wrote:
> On Friday, December 5, 2003, at 09:48  AM, Grant Ingersoll wrote:
...
> > Field.Text(String, String) instead of the Field.Text(String, Reader)
> > version, which means I am storing the contents in the index.
>
> So use Field.UnStored(String, String) then.  It is the same as
> Field.Text(String, Reader).
>
> The static "factory" methods on Field are merely for convenience.  You
> can control all the flags yourself using the constructor:

I think it's almost a bug that they act differently, although having same 
method name. I don't think method should be called Text() if it behaves like 
UnStored()? Additionally, implementation for non-public constructor relies on 
default values for isIndexed, isStored and isTokenized; it probably should 
take those from static method for clarity?

Also, shouldn't there be at least 3 methods that take Readers; one for 
Text-like handling, another for UnStored, and last for UnIndexed. It's 
probably ok not to have one for keywords. For other types, though, it's often 
more convenient to just pass in Reader.
(internally difference between passing in a Reader or String is not huge, as 
String will be accessed via StringReader).

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 16:57:40 2003
Return-Path: 
 <lucene-user-return-6409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15541 invoked from network); 5 Dec 2003 16:57:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 16:57:40 -0000
Received: (qmail 74363 invoked by uid 500); 5 Dec 2003 16:57:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74333 invoked by uid 500); 5 Dec 2003 16:57:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74320 invoked from network); 5 Dec 2003 16:57:28 -0000
Received: from unknown (HELO tango.casebank.com) (209.167.138.140)
  by daedalus.apache.org with SMTP; 5 Dec 2003 16:57:28 -0000
Received: from aatamer ([172.17.232.22]) by tango.casebank.com with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Fri, 5 Dec 2003 11:57:31 -0500
From: "Allen Atamer" <aatamer@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: implementing a TokenFilter for aliases
Date: Fri, 5 Dec 2003 11:59:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <B7B4B065-26B0-11D8-8DAC-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcO6vXm1cItSoKhyTZGJlEtfBnnAFwAkybvA
Message-ID: <TANGOtJiRq1yUTwFu2O0000157a@tango.casebank.com>
X-OriginalArrivalTime: 05 Dec 2003 16:57:31.0640 (UTC)
 FILETIME=[DF67B780:01C3BB50]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Below are the results of a debug run on the piece of text that I want
aliased. The token "spitline" must be recognized as "splitline" i.e. when I
do a search for "splitline", this record will come up.

1: [173] , start:1, end:2
1: [missing] , start:1, end:6
2: [hardware] , start:9, end:7
3: [for] , start:18, end:2
4: [bypass] , start:22, end:5
5: [spitline] , start:29, end:37

I also added extra debug info after the token text, which are the
startOffset, and the endOffset. Lucene has the first token "173" only
stored, it is not indexed. The remaining terms are tokenized, indexed and
stored. Does this make a difference?

Allen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 17:22:53 2003
Return-Path: 
 <lucene-user-return-6410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26919 invoked from network); 5 Dec 2003 17:22:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 17:22:53 -0000
Received: (qmail 21313 invoked by uid 500); 5 Dec 2003 17:22:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21277 invoked by uid 500); 5 Dec 2003 17:22:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21249 invoked from network); 5 Dec 2003 17:22:20 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 5 Dec 2003 17:22:20 -0000
Received: (cpmta 17296 invoked from network); 5 Dec 2003 09:22:22 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 5 Dec 2003 09:22:22 -0800
X-Sent: 5 Dec 2003 17:22:22 GMT
Date: Fri, 5 Dec 2003 12:22:32 -0500
Subject: Re: implementing a TokenFilter for aliases
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <TANGOtJiRq1yUTwFu2O0000157a@tango.casebank.com>
Message-Id: <9C195496-2747-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 11:59  AM, Allen Atamer wrote:
> Below are the results of a debug run on the piece of text that I want
> aliased. The token "spitline" must be recognized as "splitline" i.e. 
> when I
> do a search for "splitline", this record will come up.
>
> 1: [173] , start:1, end:2
> 1: [missing] , start:1, end:6
> 2: [hardware] , start:9, end:7
> 3: [for] , start:18, end:2
> 4: [bypass] , start:22, end:5
> 5: [spitline] , start:29, end:37
>
> I also added extra debug info after the token text, which are the
> startOffset, and the endOffset. Lucene has the first token "173" only
> stored, it is not indexed. The remaining terms are tokenized, indexed 
> and
> stored. Does this make a difference?

I don't understand what you mean by "173" - is that output from a 
different string being analyzed?

Well, it's obvious from this output that you cannot find "spitline" 
when "splitline" is used in a search.  Your analyzer isn't working as 
you expect, I'm guessing.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 17:45:45 2003
Return-Path: 
 <lucene-user-return-6411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41587 invoked from network); 5 Dec 2003 17:45:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 17:45:45 -0000
Received: (qmail 78272 invoked by uid 500); 5 Dec 2003 17:45:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78241 invoked by uid 500); 5 Dec 2003 17:45:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78228 invoked from network); 5 Dec 2003 17:45:32 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 5 Dec 2003 17:45:32 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with SMTP
          id <2003120517453601300mt8cge>; Fri, 5 Dec 2003 17:45:36 +0000
Message-ID: <3FD0C43D.9030303@lucene.com>
Date: Fri, 05 Dec 2003 09:45:33 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Index and Field.Text
References: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
 <200312050932.58322.tatu@hypermall.net>
In-Reply-To: <200312050932.58322.tatu@hypermall.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tatu Saloranta wrote:
> Also, shouldn't there be at least 3 methods that take Readers; one for 
> Text-like handling, another for UnStored, and last for UnIndexed.

How do you store the contents of a Reader?  You'd have to double-buffer 
it, first reading it into a String to store, and then tokenizing the 
StringReader.  A key feature of Reader values is that they're streamed: 
the entire value is never in RAM.  Storing a Reader value would remove 
that advantage.  The current API makes this explicit: when you want 
something streamed, you pass in a Reader, when you're willing to have 
the entire value in memory, pass in a String.

Yes, it is a bit confusing that Text(String, String) stores its value, 
while Text(String, Reader) does not, but it is at least well documented. 
  And we cannot change it: that would break too many applications.  But 
we can put this on the list for Lucene 2.0 cleanups.

When I first wrote these static methods I meant for them to be 
constructor-like.  I wanted to have multiple Field(String, String) 
constructors, but that's not possible, so I used capitalized static 
methods instead.  I've never seen anyone else do this (capitalize any 
method but a real constructor) so I guess I didn't start a fad!  This 
should someday too be cleaned up.  Lucene was the first Java program 
that I ever wrote, and thus its style is in places non-standard.  Sorry.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:06:13 2003
Return-Path: 
 <lucene-user-return-6412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54227 invoked from network); 5 Dec 2003 18:06:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:06:13 -0000
Received: (qmail 32258 invoked by uid 500); 5 Dec 2003 18:06:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32195 invoked by uid 500); 5 Dec 2003 18:06:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31956 invoked from network); 5 Dec 2003 18:05:58 -0000
Received: from unknown (HELO fep21-app.kolumbus.fi) (193.229.0.48)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:05:58 -0000
Received: from eamon ([80.186.151.221]) by fep21-app.kolumbus.fi with SMTP
          id <20031205180600.UNJK27281.fep21-app.kolumbus.fi@eamon>
          for <lucene-user@jakarta.apache.org>;
          Fri, 5 Dec 2003 20:06:00 +0200
Message-ID: <002301c3bb5a$70051d60$dd97ba50@eamon>
From: "Mike Hogan" <me@mikehogan.net>
To: <lucene-user@jakarta.apache.org>
Subject: How would you delete an entry that was indexed like this
Date: Fri, 5 Dec 2003 20:05:59 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

If I index a document like this:

IndexWriter writer = createWriter();
Document document = new Document();
document.add(Field.Text(ID_FIELD_NAME, componentId));
document.add(Field.Text(CONTENTS_FIELD_NAME, componentDescription));
writer.addDocument(document);
writer.optimize();
writer.close();

What code must I execute to later delete the document (I tried following the
docs and whats done in the code and test cases.  I saw Terms being used to
ID the document to delete.  But I am not clear what value to put in the
Term, as I do not know how Terms relate to Fields).

Many thanks,
Mike.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:18:30 2003
Return-Path: 
 <lucene-user-return-6413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59715 invoked from network); 5 Dec 2003 18:18:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:18:30 -0000
Received: (qmail 59559 invoked by uid 500); 5 Dec 2003 18:18:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59531 invoked by uid 500); 5 Dec 2003 18:18:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59507 invoked from network); 5 Dec 2003 18:18:13 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:18:13 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with SMTP
          id <2003120518181701300mne0he>; Fri, 5 Dec 2003 18:18:17 +0000
Message-ID: <3FD0CBE6.5050903@lucene.com>
Date: Fri, 05 Dec 2003 10:18:14 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Testing for Optimization
References: <20031205114144.10693.qmail@web25201.mail.ukl.yahoo.com>
In-Reply-To: <20031205114144.10693.qmail@web25201.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

jt oob wrote:
> Can I safely delete those files which do not have the prefix listed in
> the segments file?

Have a look at the index file format documentation:

   http://jakarta.apache.org/lucene/docs/fileformats.html

The only file besides segments that should exist is the "deleteable" 
file, and the files named in the "deleteable" file.  These are files 
which couldn't be deleted, typically on Win32, where you can't delete an 
open file.  Lucene will try to delete them again later, but it shouldn't 
hurt for you to delete them first.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:25:34 2003
Return-Path: 
 <lucene-user-return-6414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64085 invoked from network); 5 Dec 2003 18:25:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:25:34 -0000
Received: (qmail 71792 invoked by uid 500); 5 Dec 2003 18:25:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71764 invoked by uid 500); 5 Dec 2003 18:25:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71747 invoked from network); 5 Dec 2003 18:25:20 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:25:20 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5IPOI17479
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 13:25:24 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00801PUC2A@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 13:25:24 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF003V9PUCOT@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 13:25:24 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 13:25:23 -0500
Date: Fri, 05 Dec 2003 13:25:23 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E78F@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7TYHo1ZsaxDwuT8eqtVOnOdUlowADybtQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 18:25:23.0991 (UTC)
 FILETIME=[25F8A270:01C3BB5D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What I meant is.

Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
order for it to be searchable then it would have to be indexed and not a
keyword.

So after using
TermQuery query = new TermQuery(new Term("id", term));

How would I return the other fields in the document?

For instance to display a record it would get the record with the id #
and then display the title, contents, etc.




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, December 05, 2003 11:32 AM
To: Lucene Users List
Subject: Re: Returning one result


On Friday, December 5, 2003, at 10:41  AM, Pleasant, Tracy wrote:
> Maybe I should have been more clear.
>
> static Field Keyword(String name, String value)
>           Constructs a String-valued Field that is not tokenized, but 
> is
> indexed and stored.
>
> I need to have it tokenized because people will search for that also 
> and
> it needs to be searchable.

Search for *what* also?  Tokenized means that it is broken into pieces 
which will be separate terms.  For example: "see spot" is tokenized 
into "see" and "spot", and searching for either of those terms will 
match.

Just try it and see, please!  :)

> Should I have two fields - one as a keyword and one as text?

Depends on what you're doing... but an "id" field to me indicates 
Field.Keyword to me, only.

> How would I do that when I want to return search results..
>
>      Searcher searcher = new IndexSearcher("index");
>      String term = request.getParameter("id");

>      Query query = QueryParser.parse(term, "id", new
> StandardAnalyzer());
>
>      Hits hits  = searcher.search(query);
>
> Would it have to be something like:
>      TermQuery query = ???

Yes.  TermQuery query = new TermQuery(new Term("id", term));

Use searcher.search exactly as you did before.  Just don't use 
QueryParser to construct a query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:38:29 2003
Return-Path: 
 <lucene-user-return-6415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72424 invoked from network); 5 Dec 2003 18:38:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:38:29 -0000
Received: (qmail 602 invoked by uid 500); 5 Dec 2003 18:38:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 562 invoked by uid 500); 5 Dec 2003 18:38:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 540 invoked from network); 5 Dec 2003 18:38:15 -0000
Received: from unknown (HELO tango.casebank.com) (209.167.138.140)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:38:15 -0000
Received: from aatamer ([172.17.232.22]) by tango.casebank.com with Microsoft
 SMTPSVC(5.0.2195.6713);
	 Fri, 5 Dec 2003 13:38:20 -0500
From: "Allen Atamer" <aatamer@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: implementing a TokenFilter for aliases
Date: Fri, 5 Dec 2003 13:40:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <9C195496-2747-11D8-804F-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcO7VGc5e3d1sXvjTneVx7crlvl/SwACYKiA
Message-ID: <TANGOueD0WeOnFl0Yld0000158c@tango.casebank.com>
X-OriginalArrivalTime: 05 Dec 2003 18:38:20.0312 (UTC)
 FILETIME=[F4B1D180:01C3BB5E]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

173 is the ID field from a database (which we use as a primary key). For
Lucene's purpose, it only stores the field, and does not index it.

The place where I put the print statements is before the actual filtering.
The goal of the AliasFilter is to replace spitline. The debug line is in the
Tokenizer, and the filters are run afterwards so I am not sure what is
happening inside lucene.

I can't put the util line into the analyzer after the AliasFilter is run
because it will call recursively into tokenStream() and cause a stack
overflow. I will try to work on seeing what is happening after aliasfilter
is run

Allen


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: December 5, 2003 12:23 PM
> To: Lucene Users List
> Subject: Re: implementing a TokenFilter for aliases
> 
> On Friday, December 5, 2003, at 11:59  AM, Allen Atamer wrote:
> > Below are the results of a debug run on the piece of text that I want
> > aliased. The token "spitline" must be recognized as "splitline" i.e.
> > when I
> > do a search for "splitline", this record will come up.
> >
> > 1: [173] , start:1, end:2
> > 1: [missing] , start:1, end:6
> > 2: [hardware] , start:9, end:7
> > 3: [for] , start:18, end:2
> > 4: [bypass] , start:22, end:5
> > 5: [spitline] , start:29, end:37
> >
> > I also added extra debug info after the token text, which are the
> > startOffset, and the endOffset. Lucene has the first token "173" only
> > stored, it is not indexed. The remaining terms are tokenized, indexed
> > and
> > stored. Does this make a difference?
> 
> I don't understand what you mean by "173" - is that output from a
> different string being analyzed?
> 
> Well, it's obvious from this output that you cannot find "spitline"
> when "splitline" is used in a search.  Your analyzer isn't working as
> you expect, I'm guessing.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:45:42 2003
Return-Path: 
 <lucene-user-return-6416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77800 invoked from network); 5 Dec 2003 18:45:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:45:42 -0000
Received: (qmail 8953 invoked by uid 500); 5 Dec 2003 18:45:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8749 invoked by uid 500); 5 Dec 2003 18:45:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8736 invoked from network); 5 Dec 2003 18:45:28 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:45:28 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5IjWI15630
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 13:45:32 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00J01QRVDR@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 13:45:31 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF00JA5QRVTS@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 13:45:31 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 13:45:31 -0500
Date: Fri, 05 Dec 2003 13:45:31 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E790@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7TYHo1ZsaxDwuT8eqtVOnOdUlowADybtQAAC03VA=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 18:45:31.0811 (UTC)
 FILETIME=[F5E35730:01C3BB5F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also what I am indexing is not a bunch of separate documents - or then
it would be easy to simply have a field called "url" and then the link
would go directly do that document. 

However, there is a text URL with many records
During indexing, a function parses each record and puts each into a
document with appropriate fields. 

When I go to display a particular Document (Lucene Document) I just
query the index for that unique ID rather than go through and parse
through the URL with all the records. 

Wouldn't querying the index for that unique ID be better than going
through that entire page and parsing through it - there is more room for
error that way.  

It's a long story why there isn't a database but it can't be done (don't
ask ... long story). 

-----Original Message-----
From: Pleasant, Tracy 
Sent: Friday, December 05, 2003 1:25 PM
To: Lucene Users List
Subject: RE: Returning one result


What I meant is.

Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
order for it to be searchable then it would have to be indexed and not a
keyword.

So after using
TermQuery query = new TermQuery(new Term("id", term));

How would I return the other fields in the document?

For instance to display a record it would get the record with the id #
and then display the title, contents, etc.




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, December 05, 2003 11:32 AM
To: Lucene Users List
Subject: Re: Returning one result


On Friday, December 5, 2003, at 10:41  AM, Pleasant, Tracy wrote:
> Maybe I should have been more clear.
>
> static Field Keyword(String name, String value)
>           Constructs a String-valued Field that is not tokenized, but 
> is
> indexed and stored.
>
> I need to have it tokenized because people will search for that also 
> and
> it needs to be searchable.

Search for *what* also?  Tokenized means that it is broken into pieces 
which will be separate terms.  For example: "see spot" is tokenized 
into "see" and "spot", and searching for either of those terms will 
match.

Just try it and see, please!  :)

> Should I have two fields - one as a keyword and one as text?

Depends on what you're doing... but an "id" field to me indicates 
Field.Keyword to me, only.

> How would I do that when I want to return search results..
>
>      Searcher searcher = new IndexSearcher("index");
>      String term = request.getParameter("id");

>      Query query = QueryParser.parse(term, "id", new
> StandardAnalyzer());
>
>      Hits hits  = searcher.search(query);
>
> Would it have to be something like:
>      TermQuery query = ???

Yes.  TermQuery query = new TermQuery(new Term("id", term));

Use searcher.search exactly as you did before.  Just don't use 
QueryParser to construct a query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:47:53 2003
Return-Path: 
 <lucene-user-return-6417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79619 invoked from network); 5 Dec 2003 18:47:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:47:53 -0000
Received: (qmail 13385 invoked by uid 500); 5 Dec 2003 18:47:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13359 invoked by uid 500); 5 Dec 2003 18:47:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13346 invoked from network); 5 Dec 2003 18:47:39 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:47:39 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc11) with SMTP
          id <2003120518474301300m8tire>; Fri, 5 Dec 2003 18:47:43 +0000
Message-ID: <3FD0D2CC.5060409@lucene.com>
Date: Fri, 05 Dec 2003 10:47:40 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: implementing a TokenFilter for aliases
References: <TANGOCYZvN4U781HieY000014f2@tango.casebank.com>
In-Reply-To: <TANGOCYZvN4U781HieY000014f2@tango.casebank.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Position increments are for relative token positions.  A position 
increment of zero means that a token is logically at the same position 
as the previous token.  A position increment of one means that a token 
immediately follows the preceding token in the stream, it's the next 
token to the right (in a left-to-right language).  A position increment 
of two means that it is two tokens past the previous token, that there's 
a "phantom" token between them, inhibiting exact phrase matches.

You're setting the position increment to things based on the number of 
characters in the token's text.  That makes no sense.  Token positions 
are not character positions.  I think what you want to do is use a 
positionIncrement of zero, so the tokens lie at the same position.

Doug

Allen Atamer wrote:
> The FAQ describes implementing a TokenFilter for applying aliases. I have a
> trouble accomplishing this.
>  
> This is the code that I have so far for the next Method within AliasFilter.
> After reading some posts, I also got the idea to call
> setPositionIncrement(). Neither way works, because when I search for the
> alias, no search results come back.
>  
> Thank you for your help,
>  
> Allen Atamer
>  
> ----
>  
>   public Token next() throws java.io.IOException {
>     Token token = tokenStream.next();
>  
>     if (aliasMap == null || token == null) {
>       return token;
>     }
>  
>     TermData t = (TermData)aliasMap.get(token.termText());
>  
>     if (t == null) {
>       return token;
>     }
>  
>     String tokenText = AliasManager.replaceIgnoreCase(
>         token.termText(), t.getTerm(), t.getTeach());
>  
>     int increment = tokenText.length() - token.termText().length();
>     if (increment > 0) {
>       token.setPositionIncrement(increment);
>     }
>  
>     return new Token(tokenText, token.startOffset(), token.endOffset());
>   }
>  
>  
>  
>  
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 18:48:59 2003
Return-Path: 
 <lucene-user-return-6418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80681 invoked from network); 5 Dec 2003 18:48:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 18:48:59 -0000
Received: (qmail 17238 invoked by uid 500); 5 Dec 2003 18:48:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17201 invoked by uid 500); 5 Dec 2003 18:48:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17142 invoked from network); 5 Dec 2003 18:48:31 -0000
Received: from unknown (HELO mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 5 Dec 2003 18:48:31 -0000
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 35905118199
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 14:45:43 -0500 (EST)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: How would you delete an entry that was indexed like this
Date: Fri, 5 Dec 2003 13:48:31 -0500
Message-ID: <000801c3bb60$64400e80$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-reply-to: <002301c3bb5a$70051d60$dd97ba50@eamon>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is kind of a problem, in order to delete documents using terms you =
need
to have a keyword field which contain a unique value, otherwise you =
might
ending deleting more then you want.

-----Original Message-----
From: Mike Hogan [mailto:me@mikehogan.net]=20
Sent: Friday, December 05, 2003 1:06 PM
To: lucene-user@jakarta.apache.org
Subject: How would you delete an entry that was indexed like this


Hi,

If I index a document like this:

IndexWriter writer =3D createWriter();
Document document =3D new Document(); =
document.add(Field.Text(ID_FIELD_NAME,
componentId)); document.add(Field.Text(CONTENTS_FIELD_NAME,
componentDescription)); writer.addDocument(document); writer.optimize();
writer.close();

What code must I execute to later delete the document (I tried following =
the
docs and whats done in the code and test cases.  I saw Terms being used =
to
ID the document to delete.  But I am not clear what value to put in the
Term, as I do not know how Terms relate to Fields).

Many thanks,
Mike.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 19:13:03 2003
Return-Path: 
 <lucene-user-return-6419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3180 invoked from network); 5 Dec 2003 19:13:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 19:13:03 -0000
Received: (qmail 61429 invoked by uid 500); 5 Dec 2003 19:12:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61298 invoked by uid 500); 5 Dec 2003 19:12:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61285 invoked from network); 5 Dec 2003 19:12:49 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Dec 2003 19:12:49 -0000
Received: (cpmta 13203 invoked from network); 5 Dec 2003 11:12:53 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Dec 2003 11:12:53 -0800
X-Sent: 5 Dec 2003 19:12:53 GMT
Date: Fri, 5 Dec 2003 14:13:02 -0500
Subject: Re: Returning one result
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E78F@EMSS04M14.us.lmco.com>
Message-Id: <0C3D9B28-2757-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
> order for it to be searchable then it would have to be indexed and not 
> a
> keyword.

*arg* - we're having a serious communication issue here.  My advice to 
you is to actually write some simple tests (test-driven learning using 
JUnit is a wonderful way to experiement with Lucene, especially thanks 
to the RAMDirectory).  Please refer to my articles at java.net as well 
as the other great Lucene articles out there.

Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
javadocs say this for this method:

   /** Constructs a String-valued Field that is not tokenized, but is 
 >>>indexed<<<
     and stored.  Useful for non-text fields, e.g. date or url.  */

[I added the emphasis there]


> So after using
> TermQuery query = new TermQuery(new Term("id", term));
>
> How would I return the other fields in the document?
>
> For instance to display a record it would get the record with the id #
> and then display the title, contents, etc.

Umm.... you'd use *exactly* the same way as if you had used 
QueryParser.  QueryParser would create a TermQuery for you, in fact, 
except it would analyze your text first, which is what you want to 
avoid, right?

Hits.doc(n) gives you back a Document.  And then 
Document.get("fieldName") gives you back the fields (as long as you >>> 
stored <<< them in the index too).

Again, please attempt some of these things in code.  It is a trivial 
matter to index and search using RAMDirectory and experiment with 
TermQuery, QueryParser, Analyzers, etc.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 19:14:35 2003
Return-Path: 
 <lucene-user-return-6420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4317 invoked from network); 5 Dec 2003 19:14:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 19:14:35 -0000
Received: (qmail 65111 invoked by uid 500); 5 Dec 2003 19:14:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64994 invoked by uid 500); 5 Dec 2003 19:14:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64981 invoked from network); 5 Dec 2003 19:14:21 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 5 Dec 2003 19:14:21 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 2EF32A941
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 11:14:26 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5JEPTP061817
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 11:14:25 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 11:14:25 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205191425.GB61794@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E78F@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E78F@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Dec 05, 2003 at 01:25:23PM -0500, Pleasant, Tracy wrote:
> What I meant is.
> 
> Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
> order for it to be searchable then it would have to be indexed and not a
> keyword.

No. You should store it as a keyword. 

>>From the javadocs:
Keyword(String name, String value)
          Constructs a String-valued Field that is not tokenized, but is
					indexed and stored.


> 
> So after using
> TermQuery query = new TermQuery(new Term("id", term));
> 
> How would I return the other fields in the document?
> 
> For instance to display a record it would get the record with the id #
> and then display the title, contents, etc.
> 
> 
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 05, 2003 11:32 AM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Friday, December 5, 2003, at 10:41  AM, Pleasant, Tracy wrote:
> > Maybe I should have been more clear.
> >
> > static Field Keyword(String name, String value)
> >           Constructs a String-valued Field that is not tokenized, but 
> > is
> > indexed and stored.
> >
> > I need to have it tokenized because people will search for that also 
> > and
> > it needs to be searchable.
> 
> Search for *what* also?  Tokenized means that it is broken into pieces 
> which will be separate terms.  For example: "see spot" is tokenized 
> into "see" and "spot", and searching for either of those terms will 
> match.
> 
> Just try it and see, please!  :)
> 
> > Should I have two fields - one as a keyword and one as text?
> 
> Depends on what you're doing... but an "id" field to me indicates 
> Field.Keyword to me, only.
> 
> > How would I do that when I want to return search results..
> >
> >      Searcher searcher = new IndexSearcher("index");
> >      String term = request.getParameter("id");
> 
> >      Query query = QueryParser.parse(term, "id", new
> > StandardAnalyzer());
> >
> >      Hits hits  = searcher.search(query);
> >
> > Would it have to be something like:
> >      TermQuery query = ???
> 
> Yes.  TermQuery query = new TermQuery(new Term("id", term));
> 
> Use searcher.search exactly as you did before.  Just don't use 
> QueryParser to construct a query.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 19:45:46 2003
Return-Path: 
 <lucene-user-return-6421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18521 invoked from network); 5 Dec 2003 19:45:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 19:45:46 -0000
Received: (qmail 11584 invoked by uid 500); 5 Dec 2003 19:45:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11376 invoked by uid 500); 5 Dec 2003 19:45:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11362 invoked from network); 5 Dec 2003 19:45:31 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 19:45:31 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5JjZI09609
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 14:45:35 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00601TJZFN@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 14:45:35 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF0070JTJZEY@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 14:45:35 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 14:45:35 -0500
Date: Fri, 05 Dec 2003 14:45:34 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E794@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7ZAzUZF8j6zNTRA+nGf1np30UzAAA989A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 19:45:35.0146 (UTC)
 FILETIME=[59A4A0A0:01C3BB68]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe we are having some communication issues. 

At any rate, I did index it as a KEYWORD and when displaying used the
TermQuery.

The only problem with this though is by storing the ID (i.e. AR345) as a
Keyword, if I search for AR345 no results are returned when I use the
MultiFieldQueryParser .

*sigh* *arg*



-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, December 05, 2003 2:13 PM
To: Lucene Users List
Subject: Re: Returning one result


On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
> order for it to be searchable then it would have to be indexed and not

> a
> keyword.

*arg* - we're having a serious communication issue here.  My advice to 
you is to actually write some simple tests (test-driven learning using 
JUnit is a wonderful way to experiement with Lucene, especially thanks 
to the RAMDirectory).  Please refer to my articles at java.net as well 
as the other great Lucene articles out there.

Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
javadocs say this for this method:

   /** Constructs a String-valued Field that is not tokenized, but is 
 >>>indexed<<<
     and stored.  Useful for non-text fields, e.g. date or url.  */

[I added the emphasis there]


> So after using
> TermQuery query = new TermQuery(new Term("id", term));
>
> How would I return the other fields in the document?
>
> For instance to display a record it would get the record with the id #
> and then display the title, contents, etc.

Umm.... you'd use *exactly* the same way as if you had used 
QueryParser.  QueryParser would create a TermQuery for you, in fact, 
except it would analyze your text first, which is what you want to 
avoid, right?

Hits.doc(n) gives you back a Document.  And then 
Document.get("fieldName") gives you back the fields (as long as you >>> 
stored <<< them in the index too).

Again, please attempt some of these things in code.  It is a trivial 
matter to index and search using RAMDirectory and experiment with 
TermQuery, QueryParser, Analyzers, etc.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 19:56:17 2003
Return-Path: 
 <lucene-user-return-6422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23535 invoked from network); 5 Dec 2003 19:56:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 19:56:17 -0000
Received: (qmail 36980 invoked by uid 500); 5 Dec 2003 19:55:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35991 invoked by uid 500); 5 Dec 2003 19:55:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34874 invoked from network); 5 Dec 2003 19:55:34 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 19:55:34 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5JtcI10662
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 14:55:38 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00B01U0QWE@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 14:55:38 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF006BHU0QZA@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 14:55:38 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 14:55:38 -0500
Date: Fri, 05 Dec 2003 14:55:38 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E795@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7ZCJ+UDFyDizzRSayrtbCNgjmNAABTwhQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 19:55:38.0595 (UTC)
 FILETIME=[C153A330:01C3BB69]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, but using it as a Keyword, it will not get returned with my
search results when I use MultiFieldQueryParser.

If I could I would use just parse(query) but that is not a static
method, only parse(query,field,analyzer) is... So when I do that and use
an analyzer, the keyword field isn't searched.



-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Friday, December 05, 2003 2:14 PM
To: Lucene Users List
Subject: Re: Returning one result


On Fri, Dec 05, 2003 at 01:25:23PM -0500, Pleasant, Tracy wrote:
> What I meant is.
> 
> Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
> order for it to be searchable then it would have to be indexed and not
a
> keyword.

No. You should store it as a keyword. 

>>From the javadocs:
Keyword(String name, String value)
          Constructs a String-valued Field that is not tokenized, but is
					indexed and stored.


> 
> So after using
> TermQuery query = new TermQuery(new Term("id", term));
> 
> How would I return the other fields in the document?
> 
> For instance to display a record it would get the record with the id #
> and then display the title, contents, etc.
> 
> 
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 05, 2003 11:32 AM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Friday, December 5, 2003, at 10:41  AM, Pleasant, Tracy wrote:
> > Maybe I should have been more clear.
> >
> > static Field Keyword(String name, String value)
> >           Constructs a String-valued Field that is not tokenized,
but 
> > is
> > indexed and stored.
> >
> > I need to have it tokenized because people will search for that also

> > and
> > it needs to be searchable.
> 
> Search for *what* also?  Tokenized means that it is broken into pieces

> which will be separate terms.  For example: "see spot" is tokenized 
> into "see" and "spot", and searching for either of those terms will 
> match.
> 
> Just try it and see, please!  :)
> 
> > Should I have two fields - one as a keyword and one as text?
> 
> Depends on what you're doing... but an "id" field to me indicates 
> Field.Keyword to me, only.
> 
> > How would I do that when I want to return search results..
> >
> >      Searcher searcher = new IndexSearcher("index");
> >      String term = request.getParameter("id");
> 
> >      Query query = QueryParser.parse(term, "id", new
> > StandardAnalyzer());
> >
> >      Hits hits  = searcher.search(query);
> >
> > Would it have to be something like:
> >      TermQuery query = ???
> 
> Yes.  TermQuery query = new TermQuery(new Term("id", term));
> 
> Use searcher.search exactly as you did before.  Just don't use 
> QueryParser to construct a query.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:06:06 2003
Return-Path: 
 <lucene-user-return-6423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30012 invoked from network); 5 Dec 2003 20:06:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:06:06 -0000
Received: (qmail 62582 invoked by uid 500); 5 Dec 2003 20:05:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62483 invoked by uid 500); 5 Dec 2003 20:05:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62470 invoked from network); 5 Dec 2003 20:05:51 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:05:51 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 1A7DE5D22
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 12:05:56 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5K5ttO061921
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 12:05:55 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 12:05:55 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205200555.GE61794@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E794@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E794@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Dec 05, 2003 at 02:45:34PM -0500, Pleasant, Tracy wrote:
> Maybe we are having some communication issues. 
> 
> At any rate, I did index it as a KEYWORD and when displaying used the
> TermQuery.
> 
> The only problem with this though is by storing the ID (i.e. AR345) as a
> Keyword, if I search for AR345 no results are returned when I use the
> MultiFieldQueryParser .
> 
> *sigh* *arg*

OK. 

Go to http://www.fastbuzz.com/search/index.jsp and type "lucene" without
the quotes  and hit search. You get results from different channels/rss
feeds.

Now type "lucene channel:11183" without the quotes and hit search. You
get results only from Java-Channel. 

We're inserting the field channel as a keyword, and it does what I
understand you want to use AR345.

I would guess that in MultiFieldQueryParser you are not doing an add()
of the field for AR345 which is why the search fails. 

Regards,

Dror


> 
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 05, 2003 2:13 PM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> > Say ID is Ar3453 .. well the user may want to search for Ar3453, so in
> > order for it to be searchable then it would have to be indexed and not
> 
> > a
> > keyword.
> 
> *arg* - we're having a serious communication issue here.  My advice to 
> you is to actually write some simple tests (test-driven learning using 
> JUnit is a wonderful way to experiement with Lucene, especially thanks 
> to the RAMDirectory).  Please refer to my articles at java.net as well 
> as the other great Lucene articles out there.
> 
> Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
> javadocs say this for this method:
> 
>    /** Constructs a String-valued Field that is not tokenized, but is 
>  >>>indexed<<<
>      and stored.  Useful for non-text fields, e.g. date or url.  */
> 
> [I added the emphasis there]
> 
> 
> > So after using
> > TermQuery query = new TermQuery(new Term("id", term));
> >
> > How would I return the other fields in the document?
> >
> > For instance to display a record it would get the record with the id #
> > and then display the title, contents, etc.
> 
> Umm.... you'd use *exactly* the same way as if you had used 
> QueryParser.  QueryParser would create a TermQuery for you, in fact, 
> except it would analyze your text first, which is what you want to 
> avoid, right?
> 
> Hits.doc(n) gives you back a Document.  And then 
> Document.get("fieldName") gives you back the fields (as long as you >>> 
> stored <<< them in the index too).
> 
> Again, please attempt some of these things in code.  It is a trivial 
> matter to index and search using RAMDirectory and experiment with 
> TermQuery, QueryParser, Analyzers, etc.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:14:20 2003
Return-Path: 
 <lucene-user-return-6424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33846 invoked from network); 5 Dec 2003 20:14:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:14:20 -0000
Received: (qmail 71897 invoked by uid 500); 5 Dec 2003 20:14:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71873 invoked by uid 500); 5 Dec 2003 20:14:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71853 invoked from network); 5 Dec 2003 20:14:05 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:14:05 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5KE8I22445
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 15:14:08 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00L01UVKWU@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 15:14:08 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF006R1UVKZA@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 15:14:08 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 15:14:08 -0500
Date: Fri, 05 Dec 2003 15:14:08 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7a4r93SM32SrDRrO84z3GQrRaEgAABWaQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 20:14:08.0413 (UTC)
 FILETIME=[56D46CD0:01C3BB6C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What do you mean 'add' in MultiFieldQueryParser?  I am using all the
fields 

When I index it does 

 add (Field.Keyword(..,..))


But I don't want the user to have to type ID:<ID NUMBER> It would be
nice to just type ID Number. On your site if you just put: 11183 in the
search box there are no results. 

well, right now I'll just do it as text and query that field for the id
# to display the document.  It can't hurt, right? :)  Unless the Keyword
is a better way



-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Friday, December 05, 2003 3:06 PM
To: Lucene Users List
Subject: Re: Returning one result


On Fri, Dec 05, 2003 at 02:45:34PM -0500, Pleasant, Tracy wrote:
> Maybe we are having some communication issues. 
> 
> At any rate, I did index it as a KEYWORD and when displaying used the
> TermQuery.
> 
> The only problem with this though is by storing the ID (i.e. AR345) as
a
> Keyword, if I search for AR345 no results are returned when I use the
> MultiFieldQueryParser .
> 
> *sigh* *arg*

OK. 

Go to http://www.fastbuzz.com/search/index.jsp and type "lucene" without
the quotes  and hit search. You get results from different channels/rss
feeds.

Now type "lucene channel:11183" without the quotes and hit search. You
get results only from Java-Channel. 

We're inserting the field channel as a keyword, and it does what I
understand you want to use AR345.

I would guess that in MultiFieldQueryParser you are not doing an add()
of the field for AR345 which is why the search fails. 

Regards,

Dror


> 
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 05, 2003 2:13 PM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> > Say ID is Ar3453 .. well the user may want to search for Ar3453, so
in
> > order for it to be searchable then it would have to be indexed and
not
> 
> > a
> > keyword.
> 
> *arg* - we're having a serious communication issue here.  My advice to

> you is to actually write some simple tests (test-driven learning using

> JUnit is a wonderful way to experiement with Lucene, especially thanks

> to the RAMDirectory).  Please refer to my articles at java.net as well

> as the other great Lucene articles out there.
> 
> Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
> javadocs say this for this method:
> 
>    /** Constructs a String-valued Field that is not tokenized, but is 
>  >>>indexed<<<
>      and stored.  Useful for non-text fields, e.g. date or url.  */
> 
> [I added the emphasis there]
> 
> 
> > So after using
> > TermQuery query = new TermQuery(new Term("id", term));
> >
> > How would I return the other fields in the document?
> >
> > For instance to display a record it would get the record with the id
#
> > and then display the title, contents, etc.
> 
> Umm.... you'd use *exactly* the same way as if you had used 
> QueryParser.  QueryParser would create a TermQuery for you, in fact, 
> except it would analyze your text first, which is what you want to 
> avoid, right?
> 
> Hits.doc(n) gives you back a Document.  And then 
> Document.get("fieldName") gives you back the fields (as long as you
>>> 
> stored <<< them in the index too).
> 
> Again, please attempt some of these things in code.  It is a trivial 
> matter to index and search using RAMDirectory and experiment with 
> TermQuery, QueryParser, Analyzers, etc.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:31:23 2003
Return-Path: 
 <lucene-user-return-6425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49226 invoked from network); 5 Dec 2003 20:31:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:31:23 -0000
Received: (qmail 91543 invoked by uid 500); 5 Dec 2003 20:31:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91343 invoked by uid 500); 5 Dec 2003 20:31:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91330 invoked from network); 5 Dec 2003 20:31:07 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:31:07 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1ASMbY-0004PX-LM
	for lucene-user@jakarta.apache.org; Fri, 05 Dec 2003 14:31:12 -0600
Message-Id: <6.0.0.22.0.20031205152724.039b72b0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Fri, 05 Dec 2003 15:31:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: RE: Returning one result
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.c
 om>
References: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tracy,

I believe what Dror was referring to was the call to 
MultiFieldQueryParser.parse(). The second argument to that call is a 
String[] of field names on which to execute the query.  If the field that 
contains "AR345" isn't listed in that array, you will not get any results.

-Mike

At 03:14 PM 12/5/2003, you wrote:
>What do you mean 'add' in MultiFieldQueryParser?  I am using all the
>fields
>
>When I index it does
>
>  add (Field.Keyword(..,..))
>
>
>But I don't want the user to have to type ID:<ID NUMBER> It would be
>nice to just type ID Number. On your site if you just put: 11183 in the
>search box there are no results.
>
>well, right now I'll just do it as text and query that field for the id
># to display the document.  It can't hurt, right? :)  Unless the Keyword
>is a better way
>
>
>
>-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:32:11 2003
Return-Path: 
 <lucene-user-return-6426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49598 invoked from network); 5 Dec 2003 20:32:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:32:11 -0000
Received: (qmail 92747 invoked by uid 500); 5 Dec 2003 20:31:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92662 invoked by uid 500); 5 Dec 2003 20:31:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92648 invoked from network); 5 Dec 2003 20:31:56 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:31:56 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 8D1C25D22
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 12:32:01 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5KW1LA062010
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 12:32:01 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 12:32:01 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205203201.GF61794@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Fri, Dec 05, 2003 at 03:14:08PM -0500, Pleasant, Tracy wrote:
> What do you mean 'add' in MultiFieldQueryParser?  I am using all the
> fields 

Sorry, that was wrong. What I meant to say is are you adding the field
to the array of fields that need to be searched? 

You need to use a MultiFieldQueryParser and pass it the array of fields
that you want searched.

Dror

> 
> When I index it does 
> 
>  add (Field.Keyword(..,..))
> 
> 
> But I don't want the user to have to type ID:<ID NUMBER> It would be
> nice to just type ID Number. On your site if you just put: 11183 in the
> search box there are no results. 
> 
> well, right now I'll just do it as text and query that field for the id
> # to display the document.  It can't hurt, right? :)  Unless the Keyword
> is a better way
> 
> 
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Friday, December 05, 2003 3:06 PM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Fri, Dec 05, 2003 at 02:45:34PM -0500, Pleasant, Tracy wrote:
> > Maybe we are having some communication issues. 
> > 
> > At any rate, I did index it as a KEYWORD and when displaying used the
> > TermQuery.
> > 
> > The only problem with this though is by storing the ID (i.e. AR345) as
> a
> > Keyword, if I search for AR345 no results are returned when I use the
> > MultiFieldQueryParser .
> > 
> > *sigh* *arg*
> 
> OK. 
> 
> Go to http://www.fastbuzz.com/search/index.jsp and type "lucene" without
> the quotes  and hit search. You get results from different channels/rss
> feeds.
> 
> Now type "lucene channel:11183" without the quotes and hit search. You
> get results only from Java-Channel. 
> 
> We're inserting the field channel as a keyword, and it does what I
> understand you want to use AR345.
> 
> I would guess that in MultiFieldQueryParser you are not doing an add()
> of the field for AR345 which is why the search fails. 
> 
> Regards,
> 
> Dror
> 
> 
> > 
> > 
> > 
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Friday, December 05, 2003 2:13 PM
> > To: Lucene Users List
> > Subject: Re: Returning one result
> > 
> > 
> > On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> > > Say ID is Ar3453 .. well the user may want to search for Ar3453, so
> in
> > > order for it to be searchable then it would have to be indexed and
> not
> > 
> > > a
> > > keyword.
> > 
> > *arg* - we're having a serious communication issue here.  My advice to
> 
> > you is to actually write some simple tests (test-driven learning using
> 
> > JUnit is a wonderful way to experiement with Lucene, especially thanks
> 
> > to the RAMDirectory).  Please refer to my articles at java.net as well
> 
> > as the other great Lucene articles out there.
> > 
> > Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
> > javadocs say this for this method:
> > 
> >    /** Constructs a String-valued Field that is not tokenized, but is 
> >  >>>indexed<<<
> >      and stored.  Useful for non-text fields, e.g. date or url.  */
> > 
> > [I added the emphasis there]
> > 
> > 
> > > So after using
> > > TermQuery query = new TermQuery(new Term("id", term));
> > >
> > > How would I return the other fields in the document?
> > >
> > > For instance to display a record it would get the record with the id
> #
> > > and then display the title, contents, etc.
> > 
> > Umm.... you'd use *exactly* the same way as if you had used 
> > QueryParser.  QueryParser would create a TermQuery for you, in fact, 
> > except it would analyze your text first, which is what you want to 
> > avoid, right?
> > 
> > Hits.doc(n) gives you back a Document.  And then 
> > Document.get("fieldName") gives you back the fields (as long as you
> >>> 
> > stored <<< them in the index too).
> > 
> > Again, please attempt some of these things in code.  It is a trivial 
> > matter to index and search using RAMDirectory and experiment with 
> > TermQuery, QueryParser, Analyzers, etc.
> > 
> > 	Erik
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:33:33 2003
Return-Path: 
 <lucene-user-return-6427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50054 invoked from network); 5 Dec 2003 20:33:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:33:33 -0000
Received: (qmail 94015 invoked by uid 500); 5 Dec 2003 20:33:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93984 invoked by uid 500); 5 Dec 2003 20:33:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93970 invoked from network); 5 Dec 2003 20:33:18 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:33:18 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 91D095D22
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 12:33:23 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5KXNvh062018
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 12:33:23 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 12:33:23 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205203323.GG61794@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B3E7E83@EMSS04M14.us.lmco.com>
 <6.0.0.22.0.20031205152724.039b72b0@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <6.0.0.22.0.20031205152724.039b72b0@mail.visionstudio.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Mike,

Boy, I said it so badly and yet you understood :-).

Dror

On Fri, Dec 05, 2003 at 03:31:15PM -0500, Michael Giles wrote:
> Tracy,
> 
> I believe what Dror was referring to was the call to 
> MultiFieldQueryParser.parse(). The second argument to that call is a 
> String[] of field names on which to execute the query.  If the field that 
> contains "AR345" isn't listed in that array, you will not get any results.
> 
> -Mike
> 
> At 03:14 PM 12/5/2003, you wrote:
> >What do you mean 'add' in MultiFieldQueryParser?  I am using all the
> >fields
> >
> >When I index it does
> >
> > add (Field.Keyword(..,..))
> >
> >
> >But I don't want the user to have to type ID:<ID NUMBER> It would be
> >nice to just type ID Number. On your site if you just put: 11183 in the
> >search box there are no results.
> >
> >well, right now I'll just do it as text and query that field for the id
> ># to display the document.  It can't hurt, right? :)  Unless the Keyword
> >is a better way
> >
> >
> >
> >-
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:34:50 2003
Return-Path: 
 <lucene-user-return-6428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50719 invoked from network); 5 Dec 2003 20:34:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:34:50 -0000
Received: (qmail 95138 invoked by uid 500); 5 Dec 2003 20:34:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95112 invoked by uid 500); 5 Dec 2003 20:34:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95098 invoked from network); 5 Dec 2003 20:34:34 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:34:34 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB5KYdI06414
	for <lucene-user@jakarta.apache.org>; Fri, 5 Dec 2003 15:34:39 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPF00901VTRMI@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 15:34:39 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPF00H1DVTRL8@lmco.com> for lucene-user@jakarta.apache.org;
 Fri, 05 Dec 2003 15:34:39 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Fri,
 05 Dec 2003 15:34:39 -0500
Date: Fri, 05 Dec 2003 15:34:38 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Returning one result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E7A1@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Returning one result
Thread-Index: AcO7bxrUZWj0M2KkRXuNgEfoIvuzzgAAApQw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Dec 2003 20:34:39.0171 (UTC)
 FILETIME=[346B3130:01C3BB6F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes it is in the list of arrays that I want searched.

-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]
Sent: Friday, December 05, 2003 3:32 PM
To: Lucene Users List
Subject: Re: Returning one result



On Fri, Dec 05, 2003 at 03:14:08PM -0500, Pleasant, Tracy wrote:
> What do you mean 'add' in MultiFieldQueryParser?  I am using all the
> fields 

Sorry, that was wrong. What I meant to say is are you adding the field
to the array of fields that need to be searched? 

You need to use a MultiFieldQueryParser and pass it the array of fields
that you want searched.

Dror

> 
> When I index it does 
> 
>  add (Field.Keyword(..,..))
> 
> 
> But I don't want the user to have to type ID:<ID NUMBER> It would be
> nice to just type ID Number. On your site if you just put: 11183 in
the
> search box there are no results. 
> 
> well, right now I'll just do it as text and query that field for the
id
> # to display the document.  It can't hurt, right? :)  Unless the
Keyword
> is a better way
> 
> 
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Friday, December 05, 2003 3:06 PM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> On Fri, Dec 05, 2003 at 02:45:34PM -0500, Pleasant, Tracy wrote:
> > Maybe we are having some communication issues. 
> > 
> > At any rate, I did index it as a KEYWORD and when displaying used
the
> > TermQuery.
> > 
> > The only problem with this though is by storing the ID (i.e. AR345)
as
> a
> > Keyword, if I search for AR345 no results are returned when I use
the
> > MultiFieldQueryParser .
> > 
> > *sigh* *arg*
> 
> OK. 
> 
> Go to http://www.fastbuzz.com/search/index.jsp and type "lucene"
without
> the quotes  and hit search. You get results from different
channels/rss
> feeds.
> 
> Now type "lucene channel:11183" without the quotes and hit search. You
> get results only from Java-Channel. 
> 
> We're inserting the field channel as a keyword, and it does what I
> understand you want to use AR345.
> 
> I would guess that in MultiFieldQueryParser you are not doing an add()
> of the field for AR345 which is why the search fails. 
> 
> Regards,
> 
> Dror
> 
> 
> > 
> > 
> > 
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Friday, December 05, 2003 2:13 PM
> > To: Lucene Users List
> > Subject: Re: Returning one result
> > 
> > 
> > On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> > > Say ID is Ar3453 .. well the user may want to search for Ar3453,
so
> in
> > > order for it to be searchable then it would have to be indexed and
> not
> > 
> > > a
> > > keyword.
> > 
> > *arg* - we're having a serious communication issue here.  My advice
to
> 
> > you is to actually write some simple tests (test-driven learning
using
> 
> > JUnit is a wonderful way to experiement with Lucene, especially
thanks
> 
> > to the RAMDirectory).  Please refer to my articles at java.net as
well
> 
> > as the other great Lucene articles out there.
> > 
> > Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
> > javadocs say this for this method:
> > 
> >    /** Constructs a String-valued Field that is not tokenized, but
is 
> >  >>>indexed<<<
> >      and stored.  Useful for non-text fields, e.g. date or url.  */
> > 
> > [I added the emphasis there]
> > 
> > 
> > > So after using
> > > TermQuery query = new TermQuery(new Term("id", term));
> > >
> > > How would I return the other fields in the document?
> > >
> > > For instance to display a record it would get the record with the
id
> #
> > > and then display the title, contents, etc.
> > 
> > Umm.... you'd use *exactly* the same way as if you had used 
> > QueryParser.  QueryParser would create a TermQuery for you, in fact,

> > except it would analyze your text first, which is what you want to 
> > avoid, right?
> > 
> > Hits.doc(n) gives you back a Document.  And then 
> > Document.get("fieldName") gives you back the fields (as long as you
> >>> 
> > stored <<< them in the index too).
> > 
> > Again, please attempt some of these things in code.  It is a trivial

> > matter to index and search using RAMDirectory and experiment with 
> > TermQuery, QueryParser, Analyzers, etc.
> > 
> > 	Erik
> > 
> > 
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 20:38:10 2003
Return-Path: 
 <lucene-user-return-6429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51959 invoked from network); 5 Dec 2003 20:38:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 20:38:10 -0000
Received: (qmail 97969 invoked by uid 500); 5 Dec 2003 20:37:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97936 invoked by uid 500); 5 Dec 2003 20:37:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97922 invoked from network); 5 Dec 2003 20:37:54 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 5 Dec 2003 20:37:54 -0000
Received: (qmail 13912 invoked by uid 0); 5 Dec 2003 20:37:57 -0000
Received: from 193.63.235.44 by www55.gmx.net with HTTP;
	Fri, 5 Dec 2003 21:37:57 +0100 (MET)
Date: Fri, 5 Dec 2003 21:37:57 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <200312051324.hB5DO99p003438@ramsay.cis.strath.ac.uk>
Subject: RE: Probabilistic Model in Lucene - possible?
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <29890.1070656677@www55.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I guess you mean "Modern Information Retrieval" ... I would be a little bit
careful since this book has theoretical glasses on. It might look more
difficult than expected. However I would like to discuss this further. How could it
be archived to get the values your are writing about? Any first ideas?

Cheers,
Ralf

> Deal all,
> 
> I am interested in implement a probabilistic model in Lucene as well.
> I checked the book titled "model information retrieval" authored by
> Ricardo 
> Baeza-Yates and Berthier Ribeiro-Neto, it seems to me that the 
> implementation is not very complicated when we use Lucene's IndexReader 
> class, almost all the parameters needed are there: the total number of 
> document in the index (collection), the number of documents having a 
> particular term, that is it. Probably we need to find out a satisfied
> method
> of defining the weights of terms in the documents as well as in the query.
> 
> Cheers,
> 
> Shengli
> 
> 
> 
> Adam Saltiel <adam.saltiel@btinternet.com> said:
> 
> > Herb,
> > Any one game ... ?
> > No takers? I would be very interested, but maybe beyond what can be
> > posted in a mail list. I'd be equally interested in any references you
> > may have.
> > As we are on this subject how does LSI and the similar CNG (context
> > network graph) fit into the model used by lucene. Could lucene be
> > massaged to implement different mathematical models of search and
> > retrieval, if so how modular are the core functions?
> > 
> > Adam Saltiel
> > 
> > 
> > > -----Original Message-----
> > > From: Chong, Herb [mailto:HChong3@bloomberg.com]
> > > Sent: Thursday, December 04, 2003 1:53 PM
> > > To: Lucene Users List
> > > Subject: RE: Probabilistic Model in Lucene - possible?
> > >
> > > not all tf/idf variants are probabilistic models, but a great many are
> > if
> > > the term weights are probabilities. if we just take straight,
> > unmodified
> > > Term Frequency in a document, Inverse Document Frequency in the
> > corpus,
> > > and the Term Frequency in the query as 1, you are in fact comparing
> > the
> > > statistical properties of the query against the statistical properties
> > of
> > > the query. they are probabilities you are comparing. i can't think of
> > many
> > > papers that come right out and say it, but if you look at an
> > individual
> > > term weight and can interpret it as a genuine probability, the vector
> > > space model based on the weights is a probabilistic model. the
> > derivation
> > > is relatively straight forward to show it, if you have the right
> > general
> > > model to start with. once you start throwing in ad hoc normalizations,
> > > then things get out of whack and it's not longer a probabilistic
> > model.
> > >
> > > the implementations that i have done are with a former company and
> > that
> > > means secret and protected by various intellectual property rights.
> > > however, i can sketch here the general approach one has to take and an
> > > outline of the derivation that unifies probabilistic models with
> > vector
> > > space models and at the same time incorporate pairwise interterm
> > > correlation. in fact, the pairwise interterm correlations are a
> > > fundamental assumption. once you do all this, you can show that the
> > > traditional vector space model is a special case of a pairwise
> > interterm
> > > correlation model. for those that are interested in advanced matrix
> > > algebra and some basic statistics, it should be very interesting. if
> > only
> > > i had a published paper, i would post it. unfortunately, what i have
> > is
> > > very obtuse because it's protected. the only paper that started out
> > was
> > > submitted to SIGIR but rejected by all but one referee. that one
> > thought
> > > this was a tremendous unification of the two methods, but academic
> > > journals being what they are, when 4 out of 5 referees can't
> > understand
> > > the paper, it doesn't get published. i may brush it off and enlarge
> > into a
> > > much longer paper for the Journal of IR, but once again, unless you
> > are
> > > comfortable with probability theory and matrix theory, you are not
> > going
> > > to follow it.
> > >
> > > so, who is game for a tutorial on the derivation?
> > >
> > > Herb...
> > >
> > > -----Original Message-----
> > > From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> > > Sent: Thursday, December 04, 2003 5:09 AM
> > > To: Lucene Users List
> > > Subject: AW: Probabilistic Model in Lucene - possible?
> > >
> > >
> > >
> > > Hi Herb,
> > >
> > > thank you for your insights.
> > >
> > > >>
> > > but by most accepted definitions, the tf/idf model in Lucene is a
> > > probabilistic model.
> > > >>
> > >
> > > Can you send some pointers to help me understand that? Are all TF/IDF-
> > > variants
> > > probabilistic models? If so, what makes any model a non-probabilistic
> > one?
> > > If you claim that TF/IDF is probabilistic, then the plain cosine (an
> > > extreme
> > > form of TF/IDF, with IDF for all terms being considered constant) of
> > VSM
> > > would
> > > also be a probabilistic model.
> > >
> > > >>
> > > it's got strange normalizations though that doesn't allow comparisons
> > of
> > > rank values across queries.
> > > >>
> > >
> > > Lucene's internal ranking sometimes returns values > 1.0, these are
> > then
> > > normalized to 1.0,
> > > adjusting other rankings accordingly. While I have nothing to say
> > against
> > > this - it's a hack,
> > > but useful - it makes comparing the rank values across queries really
> > > difficult. It's like
> > > using different scales whenever you measure something different, and
> > then
> > > you do not tell
> > > anyone about it.
> > >
> > > >>
> > > it isn't terribly hard to make a normalized probabilistic model that
> > > allows comparing of document scores across queries and assign a
> > meaning to
> > > the score. i've done it.
> > > >>
> > >
> > > Stop bragging, send us your Similarity implementation :)
> > >
> > > Regards,
> > >
> > > Karsten
> > >
> > >
> > > -----Urspr�ngliche Nachricht-----
> > > Von: Chong, Herb [mailto:HChong3@bloomberg.com]
> > > Gesendet: Mittwoch, 3. Dezember 2003 23:01
> > > An: Lucene Users List
> > > Betreff: RE: Probabilistic Model in Lucene - possible?
> > >
> > >
> > > i think i am missing the original question, but by most accepted
> > > definitions, the tf/idf model in Lucene is a probabilistic model. it's
> > got
> > > strange normalizations though that doesn't allow comparisons of rank
> > > values across queries.
> > >
> > > it isn't terribly hard to make a normalized probabilistic model that
> > > allows comparing of document scores across queries and assign a
> > meaning to
> > > the score. i've done it. however, that means abandoning idf and
> > keeping
> > > actual term frequencies for each document and document size. once you
> > > normalize this way, you can intermingle document scores from different
> > > queries and different corpora and make statements about the absolute
> > value
> > > of the score. it also leads directly into the discussion we had
> > earlier
> > > about interterm correlations and how to handle them properly since the
> > > full interterm probabilistic model has as a special case the
> > traditional
> > > tf/idf model. interjecting Boolean conditions and boost makes the
> > model
> > > much more complicated.
> > >
> > > Herb....
> > >
> > > -----Original Message-----
> > > From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]
> > > Sent: Wednesday, December 03, 2003 4:51 PM
> > > To: Lucene Users List
> > > Subject: AW: Probabilistic Model in Lucene - possible?
> > >
> > > >>
> > > I would highly appreciate it if the experts here (especially Karsten
> > or
> > > Chong) look at my idea and tell me if this would be possible.
> > > >>
> > >
> > > Sorry, I have no idea about how to use a probabilistic approach with
> > > Lucene, but if anyone does so, I would like to know, too.
> > >
> > > I am currently puzzled by a related question: I would like to know if
> > > there are any approaches to get a confidence value for relevance
> > > rather than a ranking. I.e., it would be nice to have a ranking
> > > weight whose value has some kind of semantics such that we could
> > > compare results from different queries. Can probabilistic approches
> > > do anything like this?
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> 
> -- 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 21:28:27 2003
Return-Path: 
 <lucene-user-return-6430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68851 invoked from network); 5 Dec 2003 21:28:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 21:28:27 -0000
Received: (qmail 55115 invoked by uid 500); 5 Dec 2003 21:28:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54961 invoked by uid 500); 5 Dec 2003 21:28:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54948 invoked from network); 5 Dec 2003 21:28:09 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 5 Dec 2003 21:28:09 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id D1B54A941
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 13:28:15 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5LSFCC062206
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 13:28:15 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 13:28:15 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205212815.GJ61794@rlx11.zapatec.com>
References: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E7A1@EMSS04M14.us.lmco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E7A1@EMSS04M14.us.lmco.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Then I'm out of ideas.  The next thing is for you to post your search
code so we can see why it's not searching the field.

On Fri, Dec 05, 2003 at 03:34:38PM -0500, Pleasant, Tracy wrote:
> Yes it is in the list of arrays that I want searched.
> 
> -----Original Message-----
> From: Dror Matalon [mailto:dror@zapatec.com]
> Sent: Friday, December 05, 2003 3:32 PM
> To: Lucene Users List
> Subject: Re: Returning one result
> 
> 
> 
> On Fri, Dec 05, 2003 at 03:14:08PM -0500, Pleasant, Tracy wrote:
> > What do you mean 'add' in MultiFieldQueryParser?  I am using all the
> > fields 
> 
> Sorry, that was wrong. What I meant to say is are you adding the field
> to the array of fields that need to be searched? 
> 
> You need to use a MultiFieldQueryParser and pass it the array of fields
> that you want searched.
> 
> Dror
> 
> > 
> > When I index it does 
> > 
> >  add (Field.Keyword(..,..))
> > 
> > 
> > But I don't want the user to have to type ID:<ID NUMBER> It would be
> > nice to just type ID Number. On your site if you just put: 11183 in
> the
> > search box there are no results. 
> > 
> > well, right now I'll just do it as text and query that field for the
> id
> > # to display the document.  It can't hurt, right? :)  Unless the
> Keyword
> > is a better way
> > 
> > 
> > 
> > -----Original Message-----
> > From: Dror Matalon [mailto:dror@zapatec.com]
> > Sent: Friday, December 05, 2003 3:06 PM
> > To: Lucene Users List
> > Subject: Re: Returning one result
> > 
> > 
> > On Fri, Dec 05, 2003 at 02:45:34PM -0500, Pleasant, Tracy wrote:
> > > Maybe we are having some communication issues. 
> > > 
> > > At any rate, I did index it as a KEYWORD and when displaying used
> the
> > > TermQuery.
> > > 
> > > The only problem with this though is by storing the ID (i.e. AR345)
> as
> > a
> > > Keyword, if I search for AR345 no results are returned when I use
> the
> > > MultiFieldQueryParser .
> > > 
> > > *sigh* *arg*
> > 
> > OK. 
> > 
> > Go to http://www.fastbuzz.com/search/index.jsp and type "lucene"
> without
> > the quotes  and hit search. You get results from different
> channels/rss
> > feeds.
> > 
> > Now type "lucene channel:11183" without the quotes and hit search. You
> > get results only from Java-Channel. 
> > 
> > We're inserting the field channel as a keyword, and it does what I
> > understand you want to use AR345.
> > 
> > I would guess that in MultiFieldQueryParser you are not doing an add()
> > of the field for AR345 which is why the search fails. 
> > 
> > Regards,
> > 
> > Dror
> > 
> > 
> > > 
> > > 
> > > 
> > > -----Original Message-----
> > > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > > Sent: Friday, December 05, 2003 2:13 PM
> > > To: Lucene Users List
> > > Subject: Re: Returning one result
> > > 
> > > 
> > > On Friday, December 5, 2003, at 01:25  PM, Pleasant, Tracy wrote:
> > > > Say ID is Ar3453 .. well the user may want to search for Ar3453,
> so
> > in
> > > > order for it to be searchable then it would have to be indexed and
> > not
> > > 
> > > > a
> > > > keyword.
> > > 
> > > *arg* - we're having a serious communication issue here.  My advice
> to
> > 
> > > you is to actually write some simple tests (test-driven learning
> using
> > 
> > > JUnit is a wonderful way to experiement with Lucene, especially
> thanks
> > 
> > > to the RAMDirectory).  Please refer to my articles at java.net as
> well
> > 
> > > as the other great Lucene articles out there.
> > > 
> > > Let me try again.... a Field.Keyword *IS* indexed!  Even Lucene's 
> > > javadocs say this for this method:
> > > 
> > >    /** Constructs a String-valued Field that is not tokenized, but
> is 
> > >  >>>indexed<<<
> > >      and stored.  Useful for non-text fields, e.g. date or url.  */
> > > 
> > > [I added the emphasis there]
> > > 
> > > 
> > > > So after using
> > > > TermQuery query = new TermQuery(new Term("id", term));
> > > >
> > > > How would I return the other fields in the document?
> > > >
> > > > For instance to display a record it would get the record with the
> id
> > #
> > > > and then display the title, contents, etc.
> > > 
> > > Umm.... you'd use *exactly* the same way as if you had used 
> > > QueryParser.  QueryParser would create a TermQuery for you, in fact,
> 
> > > except it would analyze your text first, which is what you want to 
> > > avoid, right?
> > > 
> > > Hits.doc(n) gives you back a Document.  And then 
> > > Document.get("fieldName") gives you back the fields (as long as you
> > >>> 
> > > stored <<< them in the index too).
> > > 
> > > Again, please attempt some of these things in code.  It is a trivial
> 
> > > matter to index and search using RAMDirectory and experiment with 
> > > TermQuery, QueryParser, Analyzers, etc.
> > > 
> > > 	Erik
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > > 
> > 
> > -- 
> > Dror Matalon
> > Zapatec Inc 
> > 1700 MLK Way
> > Berkeley, CA 94709
> > http://www.fastbuzz.com
> > http://www.zapatec.com
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 22:28:57 2003
Return-Path: 
 <lucene-user-return-6431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92579 invoked from network); 5 Dec 2003 22:28:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 22:28:57 -0000
Received: (qmail 44883 invoked by uid 500); 5 Dec 2003 22:28:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44643 invoked by uid 500); 5 Dec 2003 22:28:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44630 invoked from network); 5 Dec 2003 22:28:39 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 5 Dec 2003 22:28:39 -0000
Received: (cpmta 16743 invoked from network); 5 Dec 2003 14:28:45 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 5 Dec 2003 14:28:45 -0800
X-Sent: 5 Dec 2003 22:28:45 GMT
Date: Fri, 5 Dec 2003 17:28:54 -0500
Subject: Re: Returning one result
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031205212815.GJ61794@rlx11.zapatec.com>
Message-Id: <68BA1F08-2772-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 5, 2003, at 04:28  PM, Dror Matalon wrote:
> Then I'm out of ideas.  The next thing is for you to post your search
> code so we can see why it's not searching the field.

Giving up so easily, Dror?!  :))

The problem is, when using any type of QueryParser with a Keyword 
field, you have to then be careful about analysis.  My guess is that at 
query parsing time, that the analyzer is stripping numbers or in some 
mangling the "id".

Look back in the e-mail archives for my AnalyzerUtils, run a string 
containing just a sample id through it using the analyzer you are using 
in your real code and see what comes out.

Again, Tracy, please read the articles at java.net on Lucene - and 
there is one on QueryParser too.  You are definitely having a learning 
curve situation here and aren't quite in the zone of Lucene 
understanding yet, that is why folks here are getting frustrated with 
your questions.  We are hanging in there with you though and will get 
you through this.  I'll give you some pointers here - in the latest 
Lucene 1.3 versions, there is a PerFieldAnalyzerWrapper that might come 
in handy here - otherwise you might consider using a different analyzer.

A good first pass is to experiment with the WhitespaceAnalyzer and be 
sure to phrase your test queries with the same case you indexed with.  
I believe you'll find that it will work.  If it works then, you will 
have a very good clue that the analyzer is the problem.  At that point, 
go and read those java.net articles I wrote, especially the first one 
having to do with analyzers.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 22:45:36 2003
Return-Path: 
 <lucene-user-return-6432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98235 invoked from network); 5 Dec 2003 22:45:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 22:45:36 -0000
Received: (qmail 60041 invoked by uid 500); 5 Dec 2003 22:45:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59756 invoked by uid 500); 5 Dec 2003 22:45:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59735 invoked from network); 5 Dec 2003 22:45:17 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 5 Dec 2003 22:45:17 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id A4A345D22
	for <lucene-user@jakarta.apache.org>; Fri,  5 Dec 2003 14:45:24 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB5MjOvB062337
	for lucene-user@jakarta.apache.org; Fri, 5 Dec 2003 14:45:24 -0800 (PST)
	(envelope-from dror)
Date: Fri, 5 Dec 2003 14:45:24 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Returning one result
Message-ID: <20031205224524.GO61794@rlx11.zapatec.com>
References: <20031205212815.GJ61794@rlx11.zapatec.com>
 <68BA1F08-2772-11D8-804F-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <68BA1F08-2772-11D8-804F-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Dec 05, 2003 at 05:28:54PM -0500, Erik Hatcher wrote:
> On Friday, December 5, 2003, at 04:28  PM, Dror Matalon wrote:
> >Then I'm out of ideas.  The next thing is for you to post your search
> >code so we can see why it's not searching the field.
> 
> Giving up so easily, Dror?!  :))

You're right :-). What I should have said instead is:
Please show the output of query.toString()
which will tell us what the query really is.

But in the end, your approach is much better. Get the education from
these excellent articles, check out the javadocs, and things should fall
into place.

Dror

> 
> The problem is, when using any type of QueryParser with a Keyword 
> field, you have to then be careful about analysis.  My guess is that at 
> query parsing time, that the analyzer is stripping numbers or in some 
> mangling the "id".
> 
> Look back in the e-mail archives for my AnalyzerUtils, run a string 
> containing just a sample id through it using the analyzer you are using 
> in your real code and see what comes out.
> 
> Again, Tracy, please read the articles at java.net on Lucene - and 
> there is one on QueryParser too.  You are definitely having a learning 
> curve situation here and aren't quite in the zone of Lucene 
> understanding yet, that is why folks here are getting frustrated with 
> your questions.  We are hanging in there with you though and will get 
> you through this.  I'll give you some pointers here - in the latest 
> Lucene 1.3 versions, there is a PerFieldAnalyzerWrapper that might come 
> in handy here - otherwise you might consider using a different analyzer.
> 
> A good first pass is to experiment with the WhitespaceAnalyzer and be 
> sure to phrase your test queries with the same case you indexed with.  
> I believe you'll find that it will work.  If it works then, you will 
> have a very good clue that the analyzer is the problem.  At that point, 
> go and read those java.net articles I wrote, especially the first one 
> having to do with analyzers.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec  5 22:48:23 2003
Return-Path: 
 <lucene-user-return-6433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99674 invoked from network); 5 Dec 2003 22:48:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Dec 2003 22:48:23 -0000
Received: (qmail 64608 invoked by uid 500); 5 Dec 2003 22:48:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64578 invoked by uid 500); 5 Dec 2003 22:48:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64553 invoked from network); 5 Dec 2003 22:48:05 -0000
Received: from unknown (HELO nextgen.net.mt) (80.77.193.90)
  by daedalus.apache.org with SMTP; 5 Dec 2003 22:48:05 -0000
Date: Fri,  5 Dec 2003 23:48:10 +0100
Message-Id: <200312052348.AA257556518@nextgen.net.mt>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Aaron Galea" <agale@nextgen.net.mt>
Reply-To: <agale@nextgen.net.mt>
To: <lucene-user@jakarta.apache.org>
Subject: write.lock
X-Mailer: <IMail v7.07>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I am starting to get an error about a write.lock in lucene when creating an index in an empty directory. It used to work fine before but now it started to occur and as far as I know I didn't touch anything. Printing out the stack trace from the excpetion thrown I get the following :

java.io.IOException: couldn't delete write.lock
        at org.apache.lucene.store.FSDirectory.create(Unknown Source)
        at org.apache.lucene.store.FSDirectory.getDirectory(Unknown Source)
        at org.apache.lucene.store.FSDirectory.getDirectory(Unknown Source)
        at org.apache.lucene.index.IndexWriter.<init>(Unknown Source)
        at qa.answerextraction.AnswerExtractionImpl.processDocument(Unknown Source)
        at qa.answerextraction.AnswerExtractionServerPOA._invoke(Unknown Source)        at org.jacorb.poa.RequestProcessor.invokeOperation(Unknown Source)
        at org.jacorb.poa.RequestProcessor.process(Unknown Source)
        at org.jacorb.poa.RequestProcessor.run(Unknown Source)

The code creating this problem is:

                IndexWriter writer;

                try {
                    writer = new IndexWriter(indexLocation, sa,false);
                } catch (java.io.IOException e) {                    
                    writer = new IndexWriter(indexLocation, sa,true);
                }

This problem only happens when indexing the very first file. After that it works fine. All that seems it needs in the directory is a "segments" file. 

Could anyone explain to me the problem or what I am doing wrong in it?

regards 
Aaron 




________________________________________________________________
Sent through the WebMail system at nextgen.net.mt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  6 00:46:26 2003
Return-Path: 
 <lucene-user-return-6434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46810 invoked from network); 6 Dec 2003 00:46:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Dec 2003 00:46:26 -0000
Received: (qmail 38967 invoked by uid 500); 6 Dec 2003 00:46:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38934 invoked by uid 500); 6 Dec 2003 00:46:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38917 invoked from network); 6 Dec 2003 00:46:06 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 6 Dec 2003 00:46:06 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 1ASQaM-0001Im-KK
	for lucene-user@jakarta.apache.org; Fri, 05 Dec 2003 17:46:14 -0700
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Index and Field.Text
Date: Fri, 5 Dec 2003 17:48:06 -0700
User-Agent: KMail/1.4.3
References: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
 <200312050932.58322.tatu@hypermall.net> <3FD0C43D.9030303@lucene.com>
In-Reply-To: <3FD0C43D.9030303@lucene.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200312051748.06135.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 05 December 2003 10:45, Doug Cutting wrote:
> Tatu Saloranta wrote:
> > Also, shouldn't there be at least 3 methods that take Readers; one for
> > Text-like handling, another for UnStored, and last for UnIndexed.
>
> How do you store the contents of a Reader?  You'd have to double-buffer
> it, first reading it into a String to store, and then tokenizing the
> StringReader.  A key feature of Reader values is that they're streamed:

Not really, you can pass Reader to tokenizer, which then reads and tokenizes 
directly (I think that's the way code also works). This because internally 
String is read using StringReader, so passing a String looks more like a 
convenience feature?

> the entire value is never in RAM.  Storing a Reader value would remove
> that advantage.  The current API makes this explicit: when you want
> something streamed, you pass in a Reader, when you're willing to have
> the entire value in memory, pass in a String.

I guess for things that are both tokenized and stored, passing a Reader can't 
really help a lot; if one wants to reduce mem usage, text needs to be read 
twice, or analyzer needs to help in writing output; or, text needs to be read 
in-memory much like what happens now. It'd simplify application code a bit, 
but wouldn't do much more.

So.... I guess I need to downgrade my suggestion to require just 2 
Reader-taking factory methods? :-)
I still think that index-only and store-only version would both make sense. In 
latter case, storing could be done in fully streaming fashion; in former 
tokenization can be done?

> Yes, it is a bit confusing that Text(String, String) stores its value,
> while Text(String, Reader) does not, but it is at least well documented.
>   And we cannot change it: that would break too many applications.  But
> we can put this on the list for Lucene 2.0 cleanups.

Yes, I understand that. It'd not be reasonable to do such a change. But how 
about adding more intuitive factory method (UnStored(String, Reader))?

> When I first wrote these static methods I meant for them to be
> constructor-like.  I wanted to have multiple Field(String, String)
> constructors, but that's not possible, so I used capitalized static
> methods instead.  I've never seen anyone else do this (capitalize any
> method but a real constructor) so I guess I didn't start a fad!  This

:-)

> should someday too be cleaned up.  Lucene was the first Java program
> that I ever wrote, and thus its style is in places non-standard.  Sorry.

Best standards are created by people doing things others use, follow or 
imitate... so it was worth a try! :-)

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec  6 20:15:53 2003
Return-Path: 
 <lucene-user-return-6435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36016 invoked from network); 6 Dec 2003 20:15:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Dec 2003 20:15:53 -0000
Received: (qmail 77801 invoked by uid 500); 6 Dec 2003 20:15:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77766 invoked by uid 500); 6 Dec 2003 20:15:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77753 invoked from network); 6 Dec 2003 20:15:37 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 6 Dec 2003 20:15:37 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id hB6KFgWQ024732
	for <lucene-user@jakarta.apache.org>; Sat, 6 Dec 2003 12:15:42 -0800 (PST)
Received: from [10.0.1.5] (adsl-62-167-57-161.adslplus.ch [62.167.57.161] (may
 be forged))
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id hB6KFeaN004759
	for <lucene-user@jakarta.apache.org>; Sat, 6 Dec 2003 12:15:41 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-Id: <FF4D6BFE-2828-11D8-A817-000393760B7E@mac.com>
Content-Type: multipart/signed; micalg=sha1; boundary=Apple-Mail-3-92758629;
 protocol="application/pkcs7-signature"
From: petite_abeille <petite_abeille@mac.com>
Subject: [OT] Digital Format-Specific Validation  
Date: Sat, 6 Dec 2003 21:15:55 +0100
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-3-92758629
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

http://hul.harvard.edu/jhove/

Might be of interest to some :)

Cheers,

PA.
--Apple-Mail-3-92758629
Content-Transfer-Encoding: base64
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Disposition: attachment;
	filename=smime.p7s

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGIDCCAtkw
ggJCoAMCAQICAwr/6jANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDMxMDI1MTczNTQxWhcNMDQxMDI0MTczNTQxWjBIMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSUwIwYJKoZIhvcNAQkBFhZwZXRpdGVfYWJlaWxsZUBt
YWMuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtgic+2A7DHQiDo++UfUwsd3I
6PIW91RAYmU6a5ef6g/RVbIY+FcqY8wAVOSEFhNDLIH3/BigIi1MouZy70yQ9Xte3BmnLTFHjnG3
fpLAHjLIxGirK1id0GwPsbUQN29nJuLr3eeb9F1pjFA/icq02RiBbemG3I3noL8VPnl58IKUC5+9
IDaxEHjf9oVxDNuhnOcLmr7ZKKNaOIMCrh8DDCFUy2/rLrlqdlsMxYSqsVHJjimwlM3cLxRmpAf0
LkndLwdZs1PioBlPRYZqWiPq7hHnKSNGtGvj2i/HVRLohvYT14YpBg0dnqPoeTs0UccX+Byd8nb/
mJKrRq9PHQ2E5QIDAQABozMwMTAhBgNVHREEGjAYgRZwZXRpdGVfYWJlaWxsZUBtYWMuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAwEhrU0UBiyR4cf76ym0kTab5j0Il3GVmdqSN
tUcZ0iKNO+oCCIsEVNTsNTom2zSQAogq1npGmxGDYkqX1E67d8JvoE8gpbO+E8njQAqU0f0DOTvL
4jeyYXoKmdmhqg80Fl4qTpYmE4nKelOxbBfUuerWgGNXMP4ClXQw5e+GZlswggM/MIICqKADAgEC
AgENMA0GCSqGSIb3DQEBBQUAMIHRMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBl
MRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQL
Ex9DZXJ0aWZpY2F0aW9uIFNlcnZpY2VzIERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29u
YWwgRnJlZW1haWwgQ0ExKzApBgkqhkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5j
b20wHhcNMDMwNzE3MDAwMDAwWhcNMTMwNzE2MjM1OTU5WjBiMQswCQYDVQQGEwJaQTElMCMGA1UE
ChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFs
IEZyZWVtYWlsIElzc3VpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMSmPFVzVftO
ucqZWh5owHUEcJ3f6f+jHuy9zfVb8hp2vX8MOmHyv1HOAdTlUAow1wJjWiyJFXCO3cnwK4Vaqj9x
VsuvPAsH5/EfkTYkKhPPK9Xzgnc9A74r/rsYPge/QIACZNenprufZdHFKlSFD0gEf6e20TxhBEAe
ZBlyYLf7AgMBAAGjgZQwgZEwEgYDVR0TAQH/BAgwBgEB/wIBADBDBgNVHR8EPDA6MDigNqA0hjJo
dHRwOi8vY3JsLnRoYXd0ZS5jb20vVGhhd3RlUGVyc29uYWxGcmVlbWFpbENBLmNybDALBgNVHQ8E
BAMCAQYwKQYDVR0RBCIwIKQeMBwxGjAYBgNVBAMTEVByaXZhdGVMYWJlbDItMTM4MA0GCSqGSIb3
DQEBBQUAA4GBAEiM0VCD6gsuzA2jZqxnD3+vrL7CF6FDlpSdf0whuPg2H6otnzYvwPQcUCCTcDz9
reFhYsPZOhl+hLGZGwDFGguCdJ4lUJRix9sncVcljd2pnDmOjCBPZV+V2vf3h9bGCE6u9uo05RAa
WzVNd+NWIXiC3CEZNd4ksdMdRv9dX2VPMYIC5zCCAuMCAQEwaTBiMQswCQYDVQQGEwJaQTElMCMG
A1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNv
bmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwr/6jAJBgUrDgMCGgUAoIIBUzAYBgkqhkiG9w0BCQMx
CwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wMzEyMDYyMDE1NTVaMCMGCSqGSIb3DQEJBDEW
BBRqabunE4mPdKVYow8Iw+iNikQikTB4BgkrBgEEAYI3EAQxazBpMGIxCzAJBgNVBAYTAlpBMSUw
IwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVy
c29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDCv/qMHoGCyqGSIb3DQEJEAILMWugaTBiMQswCQYD
VQQGEwJaQTElMCMGA1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMj
VGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwr/6jANBgkqhkiG9w0BAQEFAASC
AQAyhm6CJrXqwtkQRrOLDfS08gzYX+SWBI1NZlAdS8uDJeOqT9T+NiLale+jadbvWuDjQLLtEeTt
MX6yYMtO54sPTNVuZSS//Qs1v8faEqqUb0VuGVDK1pTxGJ35K6rArpSirS7t1Ja8xmmzx9Szj55Z
+1eYP3mx9ApVtN4b7mwlXt2Ej0xW6J1f9WCIfHQUnqDly4glHSF5Vqw+DHuox835dBYKPzrmZ8yF
WWvtUQQfKwY6xxAHSYAouGySNb4OTy6PU+t1B6T654qHXgJl1VDkaNczj/M4NE/x7mjyHOD/Yuj2
cFOyjRCbb08NUtflHIzWmG459EwHg+QXVC2iIzv8AAAAAAAA

--Apple-Mail-3-92758629--


From MAILER-DAEMON Sun Dec  7 22:09:36 2003
Return-Path: 
 <lucene-user-return-6436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97079 invoked from network); 7 Dec 2003 22:09:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Dec 2003 22:09:36 -0000
Received: (qmail 57039 invoked by uid 500); 7 Dec 2003 22:09:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56968 invoked by uid 500); 7 Dec 2003 22:09:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56955 invoked from network); 7 Dec 2003 22:09:18 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 7 Dec 2003 22:09:18 -0000
Received: from dell ([194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id
 hB7M9NCb027013
	for <lucene-user@jakarta.apache.org>; Sun, 7 Dec 2003 22:09:23 GMT
Date: Sun, 7 Dec 2003 22:09:23 GMT
Message-Id: <200312072209.hB7M9NCb027013@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: RE: Lucene 1.2 "Hit Highlighting"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ken,
I've just had a look at the compatibility issues of my Highlighter package and Lucene 1.2.
It looks like the following Lucene methods are not present in this version: 
  BooleanQuery.getClauses();
  PhraseQuery.getTerms()
  TermQuery.getTerm() and 
  PriorityQueue.insert()
However, if you can find a way to get the terms out of your query object using 1.2 apis you can 
call the "TextHighlighter"class to do the highlighting work. You will need to uncomment the code that provides an
alternative to using the new PriorityQueue.insert().

Hope this helps
Mark Harwood


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  7 23:16:19 2003
Return-Path: 
 <lucene-user-return-6437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13692 invoked from network); 7 Dec 2003 23:16:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Dec 2003 23:16:19 -0000
Received: (qmail 99473 invoked by uid 500); 7 Dec 2003 23:16:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99347 invoked by uid 500); 7 Dec 2003 23:16:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99334 invoked from network); 7 Dec 2003 23:16:00 -0000
Received: from unknown (HELO mail.motile.net) (203.32.115.2)
  by daedalus.apache.org with SMTP; 7 Dec 2003 23:16:00 -0000
Received: (qmail 4993 invoked by uid 1008); 7 Dec 2003 23:16:06 -0000
Received: from unknown (HELO iapetus) (esmond.pitt@motile.net@203.32.113.2)
  by 0 with SMTP; 7 Dec 2003 23:16:06 -0000
Message-ID: <007a01c3bd18$431d6310$34fafc0a@iapetus>
From: "Esmond Pitt" <esmond.pitt@motile.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E867BD10-2736-11D8-804F-000393A564E6@ehatchersolutions.com>
 <200312050932.58322.tatu@hypermall.net> <3FD0C43D.9030303@lucene.com>
 <200312051748.06135.tatu@hypermall.net>
Subject: FSDIrectory.create doesn't tolerate subdirectories
Date: Mon, 8 Dec 2003 10:17:19 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When creating an index, FSDirectory assumes that the directory has no
subdirectories. If a non-empty subdirectory is present, FSDirectory.create
fails to delete it and throws an IOException. As the subdirectory is not a
Lucene index file (although in my case it is a Lucene sub-index), the method
actually has no business attempting to delete it at all. Can this behaviour
please be changed so that it doesn't attempt to delete subdirectories in an
index location at all?

Applies to 1.3RC3.

EJP



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec  7 23:47:22 2003
Return-Path: 
 <lucene-user-return-6438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22991 invoked from network); 7 Dec 2003 23:47:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Dec 2003 23:47:22 -0000
Received: (qmail 17211 invoked by uid 500); 7 Dec 2003 23:47:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17178 invoked by uid 500); 7 Dec 2003 23:47:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17165 invoked from network); 7 Dec 2003 23:47:03 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 7 Dec 2003 23:47:03 -0000
Received: (cpmta 4841 invoked from network); 7 Dec 2003 15:47:10 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 7 Dec 2003 15:47:10 -0800
X-Sent: 7 Dec 2003 23:47:10 GMT
Date: Sun, 7 Dec 2003 18:47:07 -0500
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <007a01c3bd18$431d6310$34fafc0a@iapetus>
Message-Id: <AABC33E4-290F-11D8-A553-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Sunday, December 7, 2003, at 06:17  PM, Esmond Pitt wrote:
> When creating an index, FSDirectory assumes that the directory has no
> subdirectories. If a non-empty subdirectory is present, 
> FSDirectory.create
> fails to delete it and throws an IOException. As the subdirectory is 
> not a
> Lucene index file (although in my case it is a Lucene sub-index), the 
> method
> actually has no business attempting to delete it at all. Can this 
> behaviour
> please be changed so that it doesn't attempt to delete subdirectories 
> in an
> index location at all?

This seems like an almost reasonable request, and easy enough to 
implement in FSDirectory.create.  Lucene has no business deleting other 
files in that directory that it doesn't use either, although that would 
be a bit more difficult to implement I think.

But really, it seems that users of Lucene should view the index 
directory as a black box and think of it as a single entity that Lucene 
manages by itself.  Why do you need to put things into that directory?  
If you want to create multiple indexes, then I'd recommend you create a 
parent directory to hold them in which the outside world to your 
application should view as a single entity that should not be touched 
either.

This is why the terminology in Lucene is FS*Directory* - let Lucene own 
it I say.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 01:20:39 2003
Return-Path: 
 <lucene-user-return-6439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46923 invoked from network); 8 Dec 2003 01:20:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 01:20:39 -0000
Received: (qmail 65176 invoked by uid 500); 8 Dec 2003 01:20:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65145 invoked by uid 500); 8 Dec 2003 01:20:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65131 invoked from network); 8 Dec 2003 01:20:17 -0000
Received: from unknown (HELO mail.motile.net) (203.32.115.2)
  by daedalus.apache.org with SMTP; 8 Dec 2003 01:20:17 -0000
Received: (qmail 9495 invoked by uid 1008); 8 Dec 2003 01:20:24 -0000
Received: from unknown (HELO iapetus) (esmond.pitt@motile.net@203.32.113.2)
  by 0 with SMTP; 8 Dec 2003 01:20:24 -0000
Message-ID: <00d601c3bd29$9fe13070$34fafc0a@iapetus>
From: "Esmond Pitt" <esmond.pitt@motile.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <AABC33E4-290F-11D8-A553-000393A564E6@ehatchersolutions.com>
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
Date: Mon, 8 Dec 2003 12:21:36 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik

I'm not clear whether this is a 'yes' or a 'no'. For application reasons I
would like to use a directory structure for indexes that mirrors the
collection structure of the site, so that there is a master index for the
whole site and subindexes in subdirectories for each virtual site (and so on
recursively while I am building subsubindexes for later consolidation).

I can't see any reason why Lucene should adopt a policy of preventing me
from doing this & of forcing me into something more complicated. Especially
when in reality this policy is merely a bug  & very easily fixable.

EJP
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, December 08, 2003 10:47 AM
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories


>
> On Sunday, December 7, 2003, at 06:17  PM, Esmond Pitt wrote:
> > When creating an index, FSDirectory assumes that the directory has no
> > subdirectories. If a non-empty subdirectory is present,
> > FSDirectory.create
> > fails to delete it and throws an IOException. As the subdirectory is
> > not a
> > Lucene index file (although in my case it is a Lucene sub-index), the
> > method
> > actually has no business attempting to delete it at all. Can this
> > behaviour
> > please be changed so that it doesn't attempt to delete subdirectories
> > in an
> > index location at all?
>
> This seems like an almost reasonable request, and easy enough to
> implement in FSDirectory.create.  Lucene has no business deleting other
> files in that directory that it doesn't use either, although that would
> be a bit more difficult to implement I think.
>
> But really, it seems that users of Lucene should view the index
> directory as a black box and think of it as a single entity that Lucene
> manages by itself.  Why do you need to put things into that directory?
> If you want to create multiple indexes, then I'd recommend you create a
> parent directory to hold them in which the outside world to your
> application should view as a single entity that should not be touched
> either.
>
> This is why the terminology in Lucene is FS*Directory* - let Lucene own
> it I say.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 02:12:08 2003
Return-Path: 
 <lucene-user-return-6440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60232 invoked from network); 8 Dec 2003 02:12:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 02:12:08 -0000
Received: (qmail 213 invoked by uid 500); 8 Dec 2003 02:11:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 179 invoked by uid 500); 8 Dec 2003 02:11:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 156 invoked from network); 8 Dec 2003 02:11:47 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 8 Dec 2003 02:11:47 -0000
Received: (cpmta 16022 invoked from network); 7 Dec 2003 18:11:55 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 7 Dec 2003 18:11:55 -0800
X-Sent: 8 Dec 2003 02:11:55 GMT
Date: Sun, 7 Dec 2003 21:11:53 -0500
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00d601c3bd29$9fe13070$34fafc0a@iapetus>
Message-Id: <E40B179D-2923-11D8-A553-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday, December 7, 2003, at 08:21  PM, Esmond Pitt wrote:
> I'm not clear whether this is a 'yes' or a 'no'.

I think other committers would need to weigh in on it.  I'm fine with 
making a change to check isDirectory as well and not deleting them 
since Lucene (currently) does not work with sub-directories.  But I'm 
only one vote.

>  For application reasons I
> would like to use a directory structure for indexes that mirrors the
> collection structure of the site, so that there is a master index for 
> the
> whole site and subindexes in subdirectories for each virtual site (and 
> so on
> recursively while I am building subsubindexes for later consolidation).

Certainly seems reasonable.  But I could also argue that you are 
abusing Lucene a little since Lucene *owns* the directory, not you 
directly.

> I can't see any reason why Lucene should adopt a policy of preventing 
> me
> from doing this & of forcing me into something more complicated. 
> Especially
> when in reality this policy is merely a bug  & very easily fixable.

Careful now.  Given the above argument, it is not a bug.  Lucene views 
the directory as an index.  I doubt very seriously if there is anything 
documented within Lucene that says that directory can be used for other 
purposes.

I'm on the fence here.  I don't view it as a "bug" in that it is 
behavior against the design.  It is working as designed, is my guess.  
But I also agree with you that it would be nice if Lucene was kind 
enough to allow you to work within that directory in areas it is not 
(currently) concerned with.  But, what about the future.... should 
Lucene reserve the right to own that directory to make subdirectories 
for a future use?

It is not a black and white area here, I don't think.

Feel free to formally file a bug report though - that is the official 
way to make an issue known to the committers.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 02:50:46 2003
Return-Path: 
 <lucene-user-return-6441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78699 invoked from network); 8 Dec 2003 02:50:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 02:50:46 -0000
Received: (qmail 34412 invoked by uid 500); 8 Dec 2003 02:50:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34381 invoked by uid 500); 8 Dec 2003 02:50:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34368 invoked from network); 8 Dec 2003 02:50:23 -0000
Received: from unknown (HELO web40514.mail.yahoo.com) (66.218.78.131)
  by daedalus.apache.org with SMTP; 8 Dec 2003 02:50:23 -0000
Message-ID: <20031208025032.48818.qmail@web40514.mail.yahoo.com>
Received: from [202.161.131.168] by web40514.mail.yahoo.com via HTTP;
 Sun, 07 Dec 2003 18:50:32 PST
Date: Sun, 7 Dec 2003 18:50:32 -0800 (PST)
From: Fitrio Pakana <firoux@yahoo.com>
Subject: OR query return fewer result than AND query
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm replying to Martin's e-mail that excerpted below
since I just join the mailing list and have no idea
hoe to reply to old e-mails.

I have similar problems with him, which is query using
multiple terms, and to make things worse, the hits
returned is quite absurd. The score of hits using 'OR'
(any words) query is lower than if using 'AND' (all
words) query, thus the number of result is fewer for
'OR' query, which I think is not a correct behaviour
for a search engine. Does anybody experience the same
problem? or any explainations/ideas?


Thanks, _Rio

=========================
Subject: multi query with boost AND multiple terms
From: Martin.Rademacher@prg.co.nz
<Martin.Rademacher@prg.co.nz>
Date: Thu, 6 Mar 2003 11:23:32 +1300
Content-Type: text/plain; charset="us-ascii"

Hi there,

I am trying to do a search on multiple terms inclusive
using boosting. I 
extended the MultiFieldQueryParser like this:

 public static org.apache.lucene.search.Query
parse(String query, String[] 
fields, float[] boost,
        Analyzer analyzer)
        throws ParseException
    {
        BooleanQuery bQuery = new BooleanQuery();
        for (int i = 0; i < fields.length; i++)
        {
            org.apache.lucene.search.Query q =
parse(query, fields[i], 
analyzer);
            q.setBoost(boost[i]);
            bQuery.add(q, false, false);
        }
        return bQuery;
    }

It works fine for single term i.e searching for 'dvd'
results in:

name:dvd^6.0 shortDescription:dvd^4.0
longDescription:dvd^2.0

But, if I have multiple term like 'dvd player' I get:

(name:dvd name:player) (mfName:dvd mfName:player)
(shortDescription:dvd 
shortDescription:player) (longDescription:dvd
longDescription:player) 

Any ideas?

Cheers, Martin



__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 08:40:14 2003
Return-Path: 
 <lucene-user-return-6442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89405 invoked from network); 8 Dec 2003 08:40:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 08:40:14 -0000
Received: (qmail 95130 invoked by uid 500); 8 Dec 2003 08:39:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95076 invoked by uid 500); 8 Dec 2003 08:39:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95026 invoked from network); 8 Dec 2003 08:39:44 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 8 Dec 2003 08:39:44 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 637D319B73D
	for <lucene-user@jakarta.apache.org>; Mon,  8 Dec 2003 09:39:56 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hB88dulJ026776
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 09:39:56 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hB88duoW026772;
	Mon, 8 Dec 2003 09:39:56 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16340.14555.932417.719748@tanto-xipolis.de>
Date: Mon, 8 Dec 2003 09:39:55 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
In-Reply-To: <E40B179D-2923-11D8-A553-000393A564E6@ehatchersolutions.com>
References: <00d601c3bd29$9fe13070$34fafc0a@iapetus>
	<E40B179D-2923-11D8-A553-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher writes:
> On Sunday, December 7, 2003, at 08:21  PM, Esmond Pitt wrote:
> > I'm not clear whether this is a 'yes' or a 'no'.
> 
> I think other committers would need to weigh in on it.  I'm fine with 
> making a change to check isDirectory as well and not deleting them 
> since Lucene (currently) does not work with sub-directories.  But I'm 
> only one vote.
> 
How do you grant, that a subdirectory does not (and will never) have the
same name as a file of the lucene index?
This may be unlikely, but if it happens, it will be a serious problem
if lucene cannot write a file, because there is some directory.

> >  For application reasons I
> > would like to use a directory structure for indexes that mirrors the
> > collection structure of the site, so that there is a master index for 
> > the
> > whole site and subindexes in subdirectories for each virtual site (and 
> > so on
> > recursively while I am building subsubindexes for later consolidation).
> 
You can still have your structure by adding a lucene-index dir at each
node.
So if your site has
/root/foo
/root/foo/bar
the index for documents in /root/foo goes to /indices/foo/lucene-index
and for /root/foo/bar to /indices/foo/bar/lucene-index.
I don't see why this is more complicated.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 08:47:13 2003
Return-Path: 
 <lucene-user-return-6443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91978 invoked from network); 8 Dec 2003 08:47:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 08:47:13 -0000
Received: (qmail 1306 invoked by uid 500); 8 Dec 2003 08:46:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1277 invoked by uid 500); 8 Dec 2003 08:46:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1258 invoked from network); 8 Dec 2003 08:46:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 8 Dec 2003 08:46:43 -0000
Received: (cpmta 26919 invoked from network); 8 Dec 2003 00:46:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 8 Dec 2003 00:46:56 -0800
X-Sent: 8 Dec 2003 08:46:56 GMT
Date: Mon, 8 Dec 2003 03:46:54 -0500
Subject: Re: OR query return fewer result than AND query
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031208025032.48818.qmail@web40514.mail.yahoo.com>
Message-Id: <12D850A2-295B-11D8-989B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Sunday, December 7, 2003, at 09:50  PM, Fitrio Pakana wrote:
> I have similar problems with him, which is query using
> multiple terms, and to make things worse, the hits
> returned is quite absurd. The score of hits using 'OR'
> (any words) query is lower than if using 'AND' (all
> words) query, thus the number of result is fewer for
> 'OR' query, which I think is not a correct behaviour
> for a search engine. Does anybody experience the same
> problem? or any explainations/ideas?

please provide us with a self-contained succinct example of this issue 
if you could.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 11:45:15 2003
Return-Path: 
 <lucene-user-return-6444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86578 invoked from network); 8 Dec 2003 11:45:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 11:45:15 -0000
Received: (qmail 43680 invoked by uid 500); 8 Dec 2003 11:45:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43654 invoked by uid 500); 8 Dec 2003 11:45:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43641 invoked from network); 8 Dec 2003 11:45:08 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 8 Dec 2003 11:45:08 -0000
Message-ID: <20031208114508.74990.qmail@web12707.mail.yahoo.com>
Received: from [194.152.224.72] by web12707.mail.yahoo.com via HTTP;
 Mon, 08 Dec 2003 03:45:08 PST
Date: Mon, 8 Dec 2003 03:45:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00d601c3bd29$9fe13070$34fafc0a@iapetus>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am against making the suggested Lucene modification.
Lucene index structure may change in the future.  It is possible that
one day Lucene developers will need to use a hierarchy of directories
to implement some feature.

Therefore, Lucene users should be discouraged from creating
sub-directories under the Lucene index directory, and Lucene should
'reserve the right' to change the index structure in the future.

Otis

 

--- Esmond Pitt <esmond.pitt@motile.net> wrote:
> Erik
> 
> I'm not clear whether this is a 'yes' or a 'no'. For application
> reasons I
> would like to use a directory structure for indexes that mirrors the
> collection structure of the site, so that there is a master index for
> the
> whole site and subindexes in subdirectories for each virtual site
> (and so on
> recursively while I am building subsubindexes for later
> consolidation).
> 
> I can't see any reason why Lucene should adopt a policy of preventing
> me
> from doing this & of forcing me into something more complicated.
> Especially
> when in reality this policy is merely a bug  & very easily fixable.
> 
> EJP
> ----- Original Message ----- 
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, December 08, 2003 10:47 AM
> Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
> 
> 
> >
> > On Sunday, December 7, 2003, at 06:17  PM, Esmond Pitt wrote:
> > > When creating an index, FSDirectory assumes that the directory
> has no
> > > subdirectories. If a non-empty subdirectory is present,
> > > FSDirectory.create
> > > fails to delete it and throws an IOException. As the subdirectory
> is
> > > not a
> > > Lucene index file (although in my case it is a Lucene sub-index),
> the
> > > method
> > > actually has no business attempting to delete it at all. Can this
> > > behaviour
> > > please be changed so that it doesn't attempt to delete
> subdirectories
> > > in an
> > > index location at all?
> >
> > This seems like an almost reasonable request, and easy enough to
> > implement in FSDirectory.create.  Lucene has no business deleting
> other
> > files in that directory that it doesn't use either, although that
> would
> > be a bit more difficult to implement I think.
> >
> > But really, it seems that users of Lucene should view the index
> > directory as a black box and think of it as a single entity that
> Lucene
> > manages by itself.  Why do you need to put things into that
> directory?
> > If you want to create multiple indexes, then I'd recommend you
> create a
> > parent directory to hold them in which the outside world to your
> > application should view as a single entity that should not be
> touched
> > either.
> >
> > This is why the terminology in Lucene is FS*Directory* - let Lucene
> own
> > it I say.
> >
> > Erik
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 15:51:32 2003
Return-Path: 
 <lucene-user-return-6445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36757 invoked from network); 8 Dec 2003 15:51:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 15:51:32 -0000
Received: (qmail 49008 invoked by uid 500); 8 Dec 2003 15:51:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48980 invoked by uid 500); 8 Dec 2003 15:51:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48966 invoked from network); 8 Dec 2003 15:51:20 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 15:51:20 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8FVjl14074
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 16:31:46 +0100
Message-ID: <3FD49EA6.2070900@media-style.com>
Date: Mon, 08 Dec 2003 16:54:14 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: term vector (Damian patch)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

is Damian patch in the cvs or latest lucene release.
Allow this patch to recieve a term vector of  a document?

Thanks!

Stefan

-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:14:45 2003
Return-Path: 
 <lucene-user-return-6446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50129 invoked from network); 8 Dec 2003 16:14:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:14:45 -0000
Received: (qmail 91865 invoked by uid 500); 8 Dec 2003 16:14:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91839 invoked by uid 500); 8 Dec 2003 16:14:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91826 invoked from network); 8 Dec 2003 16:14:34 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:14:34 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 8 Dec 2003 11:14:36 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB8GEUO05912
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 11:14:34 -0500 (EST)
content-class: urn:content-classes:message
Subject: Unindexed fields
Date: Mon, 8 Dec 2003 11:13:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3B21@ny2528.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-TNEF-Correlator: 
Thread-Topic: OR query return fewer result than AND query
Thread-Index: AcO9Z90siZmRXPLxQzOcICZfy8PWlwAPi78A
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

is there a limit to the size of an UnIndexed field? i changed my code to =
increase the maximum string size per document from 300 bytes to 10,000 =
and although the index run completes without errors, i never find any =
documents while searching.

Herb....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:23:47 2003
Return-Path: 
 <lucene-user-return-6447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54703 invoked from network); 8 Dec 2003 16:23:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:23:47 -0000
Received: (qmail 7790 invoked by uid 500); 8 Dec 2003 16:23:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7703 invoked by uid 500); 8 Dec 2003 16:23:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7690 invoked from network); 8 Dec 2003 16:23:36 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:23:36 -0000
Message-ID: <20031208162338.18421.qmail@web12705.mail.yahoo.com>
Received: from [194.152.224.72] by web12705.mail.yahoo.com via HTTP;
 Mon, 08 Dec 2003 08:23:38 PST
Date: Mon, 8 Dec 2003 08:23:38 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: term vector (Damian patch)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD49EA6.2070900@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan, which patch are you referring to?

I looked at the following, but did not find it:
http://nagoya.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&email1=&emailtype1=substring&emailassigned_to1=1&email2=&emailtype2=substring&emailreporter2=1&bugidtype=include&bug_id=&changedin=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&product=Lucene&short_desc=%5BPATCH%5D&short_desc_type=allwordssubstr&long_desc=&long_desc_type=allwordssubstr&bug_file_loc=&bug_file_loc_type=allwordssubstr&keywords=&keywords_type=anywords&field0-0-0=noop&type0-0-0=noop&value0-0-0=&cmdtype=doit&order=%27Importance%27

Otis

--- Stefan Groschupf <sg@media-style.com> wrote:
> Hi there,
> 
> is Damian patch in the cvs or latest lucene release.
> Allow this patch to recieve a term vector of  a document?
> 
> Thanks!
> 
> Stefan
> 
> -- 
> open technology:  www.media-style.com
> open source:      www.weta-group.net
> open discussion:  www.text-mining.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:28:37 2003
Return-Path: 
 <lucene-user-return-6448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57263 invoked from network); 8 Dec 2003 16:28:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:28:37 -0000
Received: (qmail 14292 invoked by uid 500); 8 Dec 2003 16:28:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14208 invoked by uid 500); 8 Dec 2003 16:28:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14195 invoked from network); 8 Dec 2003 16:28:26 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:28:26 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hB8GSRd06101
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 11:28:27 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPL00E014FF6V@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 08 Dec 2003 11:28:27 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPL002FB4FFCD@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 08 Dec 2003 11:28:27 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Mon,
 08 Dec 2003 11:28:27 -0500
Date: Mon, 08 Dec 2003 11:28:26 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Unindexed fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E7C5@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: OR query return fewer result than AND query
Thread-Index: AcO9Z90siZmRXPLxQzOcICZfy8PWlwAPi78AAACINyA=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 08 Dec 2003 16:28:27.0442 (UTC)
 FILETIME=[4F057920:01C3BDA8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you don't index something then it's not going to be searched.


-----Original Message-----
From: Chong, Herb [mailto:HChong3@bloomberg.com]
Sent: Monday, December 08, 2003 11:14 AM
To: Lucene Users List
Subject: Unindexed fields


is there a limit to the size of an UnIndexed field? i changed my code to increase the maximum string size per document from 300 bytes to 10,000 and although the index run completes without errors, i never find any documents while searching.

Herb....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:34:40 2003
Return-Path: 
 <lucene-user-return-6450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60606 invoked from network); 8 Dec 2003 16:34:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:34:40 -0000
Received: (qmail 24246 invoked by uid 500); 8 Dec 2003 16:34:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24221 invoked by uid 500); 8 Dec 2003 16:34:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24208 invoked from network); 8 Dec 2003 16:34:29 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:34:29 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 8 Dec 2003 11:34:30 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hB8GYTx02744
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 11:34:30 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Unindexed fields
Date: Mon, 8 Dec 2003 11:34:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3B24@ny2528.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
X-MS-TNEF-Correlator: 
Thread-Topic: Unindexed fields
Thread-Index: AcO9qHn94hI9k6uNTHOb+871hVAN/AAAJ6ZQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

my indexed fields haven't changed.

Herb...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:31:46 2003
Return-Path: 
 <lucene-user-return-6449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58826 invoked from network); 8 Dec 2003 16:31:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:31:46 -0000
Received: (qmail 19145 invoked by uid 500); 8 Dec 2003 16:31:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19112 invoked by uid 500); 8 Dec 2003 16:31:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19092 invoked from network); 8 Dec 2003 16:31:35 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:31:35 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8GC1l14441
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 17:12:01 +0100
Message-ID: <3FD4A81C.3090807@media-style.com>
Date: Mon, 08 Dec 2003 17:34:36 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term vector (Damian patch)
References: <20031208162338.18421.qmail@web12705.mail.yahoo.com>
In-Reply-To: <20031208162338.18421.qmail@web12705.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,


based on this discussion:
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg03350.html

Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 16:40:54 2003
Return-Path: 
 <lucene-user-return-6451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63557 invoked from network); 8 Dec 2003 16:40:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 16:40:54 -0000
Received: (qmail 28623 invoked by uid 500); 8 Dec 2003 16:40:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28573 invoked by uid 500); 8 Dec 2003 16:40:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28196 invoked from network); 8 Dec 2003 16:40:32 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 16:40:32 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8GKvl14554
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 17:20:57 +0100
Message-ID: <3FD4AA34.8010906@media-style.com>
Date: Mon, 08 Dec 2003 17:43:32 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Document Similarity
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jing,

do you work on the task of document similarity?
I see nobody was answering your question.

To create a query out of an document would be very easy, but would it 
provide well results?
Document term vectors would provide more possibilities to use different 
data mining algorithms for clustering or classification.

Stefan


-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 17:23:53 2003
Return-Path: 
 <lucene-user-return-6452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85375 invoked from network); 8 Dec 2003 17:23:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 17:23:53 -0000
Received: (qmail 24147 invoked by uid 500); 8 Dec 2003 17:23:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24117 invoked by uid 500); 8 Dec 2003 17:23:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24104 invoked from network); 8 Dec 2003 17:23:40 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 8 Dec 2003 17:23:40 -0000
Message-ID: <20031208172339.50791.qmail@web12703.mail.yahoo.com>
Received: from [194.152.224.72] by web12703.mail.yahoo.com via HTTP;
 Mon, 08 Dec 2003 09:23:39 PST
Date: Mon, 8 Dec 2003 09:23:39 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: term vector (Damian patch)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD4A81C.3090807@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think this never resulted in a patch.  A few days after that thread
another person expressed interest in implementing the same thing, but I
am not sure what the status of that idea is now.

Otis


--- Stefan Groschupf <sg@media-style.com> wrote:
> Otis,
> 
> 
> based on this discussion:
>
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg03350.html
> 
> Stefan
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 17:39:19 2003
Return-Path: 
 <lucene-user-return-6453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92142 invoked from network); 8 Dec 2003 17:39:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 17:39:19 -0000
Received: (qmail 57829 invoked by uid 500); 8 Dec 2003 17:39:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57659 invoked by uid 500); 8 Dec 2003 17:39:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57637 invoked from network); 8 Dec 2003 17:39:03 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 17:39:03 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8HJOl15027
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 18:19:24 +0100
Message-ID: <3FD4B7E2.2050703@media-style.com>
Date: Mon, 08 Dec 2003 18:41:54 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term vector or document vector
References: <20031208172339.50791.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20031208172339.50791.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just to be sure since there was a lot of dicussion in the lists.
There is actually no solution available to get a term vector for a 
document or a TF/IDF feature vector for a document, isn't it?

Some one had work on such things?
Some wish to work on such things?

Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 17:43:58 2003
Return-Path: 
 <lucene-user-return-6454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94504 invoked from network); 8 Dec 2003 17:43:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 17:43:58 -0000
Received: (qmail 68695 invoked by uid 500); 8 Dec 2003 17:43:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68472 invoked by uid 500); 8 Dec 2003 17:43:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68456 invoked from network); 8 Dec 2003 17:43:45 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 8 Dec 2003 17:43:45 -0000
Message-ID: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.72] by web12701.mail.yahoo.com via HTTP;
 Mon, 08 Dec 2003 09:43:34 PST
Date: Mon, 8 Dec 2003 09:43:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: term vector or document vector
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD4B7E2.2050703@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Stefan Groschupf <sg@media-style.com> wrote:
> Just to be sure since there was a lot of dicussion in the lists.
> There is actually no solution available to get a term vector for a 
> document or a TF/IDF feature vector for a document, isn't it?

Correct :(

> Some one had work on such things?

Dmitry.

> Some wish to work on such things?

A few people have asked, a few people have expressed interest.

Otis


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 17:53:49 2003
Return-Path: 
 <lucene-user-return-6456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98842 invoked from network); 8 Dec 2003 17:53:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 17:53:49 -0000
Received: (qmail 97119 invoked by uid 500); 8 Dec 2003 17:53:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97092 invoked by uid 500); 8 Dec 2003 17:53:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97078 invoked from network); 8 Dec 2003 17:53:35 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 8 Dec 2003 17:53:35 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with SMTP
          id <2003120817533801100qr8ale>; Mon, 8 Dec 2003 17:53:38 +0000
Message-ID: <3FD4BA98.9030902@lucene.com>
Date: Mon, 08 Dec 2003 09:53:28 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
References: <20031208114508.74990.qmail@web12707.mail.yahoo.com>
In-Reply-To: <20031208114508.74990.qmail@web12707.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree.  One should provide Lucene with a unique path in the 
filesystem, one that is not intended to be used for any other purpose. 
All access to that path should be through Lucene's API.  The fact that 
Lucene decides to create a directory there rather than a single file is 
an implementation detail.

This is an interesting case to consider.  If Lucene created a single 
file at the provided path which stored the entire index, would one then 
be entitled to complain that one cannot make subdirectories of this file 
for other purposes?  Clearly not.  Someday we may in fact wish to 
implement Lucene that way.

Doug

Otis Gospodnetic wrote:
> I am against making the suggested Lucene modification.
> Lucene index structure may change in the future.  It is possible that
> one day Lucene developers will need to use a hierarchy of directories
> to implement some feature.
> 
> Therefore, Lucene users should be discouraged from creating
> sub-directories under the Lucene index directory, and Lucene should
> 'reserve the right' to change the index structure in the future.
> 
> Otis
> 
>  
> 
> --- Esmond Pitt <esmond.pitt@motile.net> wrote:
> 
>>Erik
>>
>>I'm not clear whether this is a 'yes' or a 'no'. For application
>>reasons I
>>would like to use a directory structure for indexes that mirrors the
>>collection structure of the site, so that there is a master index for
>>the
>>whole site and subindexes in subdirectories for each virtual site
>>(and so on
>>recursively while I am building subsubindexes for later
>>consolidation).
>>
>>I can't see any reason why Lucene should adopt a policy of preventing
>>me
>>from doing this & of forcing me into something more complicated.
>>Especially
>>when in reality this policy is merely a bug  & very easily fixable.
>>
>>EJP
>>----- Original Message ----- 
>>From: "Erik Hatcher" <erik@ehatchersolutions.com>
>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>Sent: Monday, December 08, 2003 10:47 AM
>>Subject: Re: FSDIrectory.create doesn't tolerate subdirectories
>>
>>
>>
>>>On Sunday, December 7, 2003, at 06:17  PM, Esmond Pitt wrote:
>>>
>>>>When creating an index, FSDirectory assumes that the directory
>>
>>has no
>>
>>>>subdirectories. If a non-empty subdirectory is present,
>>>>FSDirectory.create
>>>>fails to delete it and throws an IOException. As the subdirectory
>>
>>is
>>
>>>>not a
>>>>Lucene index file (although in my case it is a Lucene sub-index),
>>
>>the
>>
>>>>method
>>>>actually has no business attempting to delete it at all. Can this
>>>>behaviour
>>>>please be changed so that it doesn't attempt to delete
>>
>>subdirectories
>>
>>>>in an
>>>>index location at all?
>>>
>>>This seems like an almost reasonable request, and easy enough to
>>>implement in FSDirectory.create.  Lucene has no business deleting
>>
>>other
>>
>>>files in that directory that it doesn't use either, although that
>>
>>would
>>
>>>be a bit more difficult to implement I think.
>>>
>>>But really, it seems that users of Lucene should view the index
>>>directory as a black box and think of it as a single entity that
>>
>>Lucene
>>
>>>manages by itself.  Why do you need to put things into that
>>
>>directory?
>>
>>>If you want to create multiple indexes, then I'd recommend you
>>
>>create a
>>
>>>parent directory to hold them in which the outside world to your
>>>application should view as a single entity that should not be
>>
>>touched
>>
>>>either.
>>>
>>>This is why the terminology in Lucene is FS*Directory* - let Lucene
>>
>>own
>>
>>>it I say.
>>>
>>>Erik
>>>
>>>
>>>
>>
>>---------------------------------------------------------------------
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>
>>lucene-user-help@jakarta.apache.org
>>
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> New Yahoo! Photos - easier uploading and sharing.
> http://photos.yahoo.com/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 17:53:23 2003
Return-Path: 
 <lucene-user-return-6455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98644 invoked from network); 8 Dec 2003 17:53:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 17:53:23 -0000
Received: (qmail 96192 invoked by uid 500); 8 Dec 2003 17:53:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96160 invoked by uid 500); 8 Dec 2003 17:53:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96105 invoked from network); 8 Dec 2003 17:53:06 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 17:53:06 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8HXLl15164
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 18:33:21 +0100
Message-ID: <3FD4BB22.2050204@media-style.com>
Date: Mon, 08 Dec 2003 18:55:46 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term vector or document vector
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>
>
>A few people have asked, a few people have expressed interest.
>  
>

I have to do some work for nutch but since I need the feature vector 
stuff for an commercial project I will try to implement it.
Someone wish to join me??? ;)

Stefan



-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 18:12:59 2003
Return-Path: 
 <lucene-user-return-6457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10187 invoked from network); 8 Dec 2003 18:12:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 18:12:59 -0000
Received: (qmail 29014 invoked by uid 500); 8 Dec 2003 18:12:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28722 invoked by uid 500); 8 Dec 2003 18:12:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28686 invoked from network); 8 Dec 2003 18:12:46 -0000
Received: from unknown (HELO salix.caltha.pl) (212.87.7.182)
  by daedalus.apache.org with SMTP; 8 Dec 2003 18:12:46 -0000
Received: from [62.121.110.244] (244-mo3-7.acn.waw.pl [::ffff:62.121.110.244])
  (AUTH: LOGIN zwierzem, )
  by salix.caltha.pl with esmtp; Mon, 08 Dec 2003 19:12:49 +0100
Subject: Re: term vector or document vector
From: Damian Gajda <dgajda@caltha.pl>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD4BB22.2050204@media-style.com>
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
	 <3FD4BB22.2050204@media-style.com>
Organization: Caltha Sp. j.
Message-Id: <1070907266.3050.25.camel@localhost.localdomain>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Mon, 08 Dec 2003 19:14:26 +0100
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I have to do some work for nutch but since I need the feature vector 
> stuff for an commercial project I will try to implement it.
> Someone wish to join me??? ;)
> 
> Stefan

Hello I already have some experience with Dmitry's implementation.
Feel free to contact me.

-- 
Damian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 18:18:45 2003
Return-Path: 
 <lucene-user-return-6458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12596 invoked from network); 8 Dec 2003 18:18:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 18:18:45 -0000
Received: (qmail 45060 invoked by uid 500); 8 Dec 2003 18:18:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45032 invoked by uid 500); 8 Dec 2003 18:18:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45015 invoked from network); 8 Dec 2003 18:18:29 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 18:18:29 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8Hwpl15345
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 18:58:51 +0100
Message-ID: <3FD4C119.7000202@media-style.com>
Date: Mon, 08 Dec 2003 19:21:13 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term vector or document vector
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
	 <3FD4BB22.2050204@media-style.com>
 <1070907266.3050.25.camel@localhost.localdomain>
In-Reply-To: <1070907266.3050.25.camel@localhost.localdomain>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Damian Gajda wrote:

>Hello I already have some experience with Dmitry's implementation.
>
Can you point me to Dmitry's code,so that i can take a look, i just had 
read about it

>Feel free to contact me.
>  
>
I will do! ;)
Thanks!

Stefan


-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 18:35:32 2003
Return-Path: 
 <lucene-user-return-6459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20965 invoked from network); 8 Dec 2003 18:35:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 18:35:32 -0000
Received: (qmail 79559 invoked by uid 500); 8 Dec 2003 18:35:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79436 invoked by uid 500); 8 Dec 2003 18:34:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79342 invoked from network); 8 Dec 2003 18:34:59 -0000
Received: from unknown (HELO salix.caltha.pl) (212.87.7.182)
  by daedalus.apache.org with SMTP; 8 Dec 2003 18:34:59 -0000
Received: from [62.121.110.244] (244-mo3-7.acn.waw.pl [::ffff:62.121.110.244])
  (AUTH: LOGIN zwierzem, )
  by salix.caltha.pl with esmtp; Mon, 08 Dec 2003 19:35:00 +0100
Subject: Re: term vector or document vector
From: Damian Gajda <dgajda@caltha.pl>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD4C119.7000202@media-style.com>
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
	 <3FD4BB22.2050204@media-style.com>
	 <1070907266.3050.25.camel@localhost.localdomain>
	 <3FD4C119.7000202@media-style.com>
Content-Type: text/plain; charset=iso-8859-2
Organization: Caltha Sp. j.
Message-Id: <1070908601.3050.50.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Mon, 08 Dec 2003 19:36:41 +0100
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

W li�cie z pon, 08-12-2003, godz. 19:21, Stefan Groschupf pisze: 
> Damian Gajda wrote:
> 
> >Hello I already have some experience with Dmitry's implementation.
> >
> Can you point me to Dmitry's code,so that i can take a look, i just had 
> read about it


Here some links for Your consideration:
http://issues.apache.org/bugzilla/show_bug.cgi?id=18927
And links from the bug page:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=114748
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=114861
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=114862
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=433778

Dmitry's code works with Lucene 1.2 altough not really - one class needs
some hand fixing aftery applying those patches.

-- 
Damian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 19:00:07 2003
Return-Path: 
 <lucene-user-return-6460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32759 invoked from network); 8 Dec 2003 19:00:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 19:00:07 -0000
Received: (qmail 41559 invoked by uid 500); 8 Dec 2003 18:59:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41527 invoked by uid 500); 8 Dec 2003 18:59:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41514 invoked from network); 8 Dec 2003 18:59:53 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 8 Dec 2003 18:59:53 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hB8Ixtqc014088
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 10:59:56 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hB8IxtOW014085
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 10:59:55 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Mon, 08 Dec
 2003 10:59:55 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <d0ec7cf4b8.cf4b8d0ec7@lbl.gov>
Date: Mon, 08 Dec 2003 10:59:55 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: Using lucene highlighter over multiSearcher
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a straightforward way to use the
highlighting class with a multisearcher?  It seems
awkward at the moment, as one is required to rewrite
queries with an IndexReader, and there is not an
equivalent aggregating class (i.e., there is no
MultiReader class and I don't want to have to add
all my disparate indexes into a single IndexWriter
and write out a new, aggregated index).

--David Goodstein



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 19:18:18 2003
Return-Path: 
 <lucene-user-return-6461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41632 invoked from network); 8 Dec 2003 19:18:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 19:18:18 -0000
Received: (qmail 88858 invoked by uid 500); 8 Dec 2003 19:18:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88826 invoked by uid 500); 8 Dec 2003 19:18:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88810 invoked from network); 8 Dec 2003 19:18:02 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 8 Dec 2003 19:18:02 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB8IwTl15877
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 19:58:29 +0100
Message-ID: <3FD4CF12.6090304@media-style.com>
Date: Mon, 08 Dec 2003 20:20:50 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: boosting & StandardAnalyzer 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I notice something really strange.

I just tried the "document to query" thing with term frequencies and 
term bosting based on the term frequence.
The code itself take may be 3 minutes, but i spend around 2 hours to 
search a nullpointer exception i got in this line.

    query = QueryParser.parse(searchStringBuffer.toString(), 
IFieldNames.INSTANCE_VALUE, new StandardAnalyser());

I figure out this happen until my search string contains. "will"^13
I replace the StandardAnalyzer with a own Implementation of the Analyzer 
that just do nothing and now it works.
Look like the StandardAnalyser has problem until stop word removal, when 
term bosting is used.

Is that a bug or just a mistake by myself?

Stefan




       

-- 
open technology:  www.media-style.com
open source:      www.weta-group.net
open discussion:  www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 20:08:34 2003
Return-Path: 
 <lucene-user-return-6462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64624 invoked from network); 8 Dec 2003 20:08:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 20:08:34 -0000
Received: (qmail 82898 invoked by uid 500); 8 Dec 2003 20:07:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82864 invoked by uid 500); 8 Dec 2003 20:07:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82815 invoked from network); 8 Dec 2003 20:07:56 -0000
Received: from unknown (HELO salix.caltha.pl) (212.87.7.182)
  by daedalus.apache.org with SMTP; 8 Dec 2003 20:07:56 -0000
Received: from [62.121.110.244] (244-mo3-7.acn.waw.pl [::ffff:62.121.110.244])
  (AUTH: LOGIN zwierzem, )
  by salix.caltha.pl with esmtp; Mon, 08 Dec 2003 21:07:59 +0100
Subject: Re: term vector or document vector
From: Damian Gajda <dgajda@caltha.pl>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FD4C119.7000202@media-style.com>
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
	 <3FD4BB22.2050204@media-style.com>
	 <1070907266.3050.25.camel@localhost.localdomain>
	 <3FD4C119.7000202@media-style.com>
Organization: Caltha Sp. j.
Message-Id: <1070914177.3050.146.camel@localhost.localdomain>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.4.5 (1.4.5-7) 
Date: Mon, 08 Dec 2003 21:09:38 +0100
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

BTW. i may send You the partly working Lucene with Dmitrys code patched
in.

-- 
Damian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 20:15:13 2003
Return-Path: 
 <lucene-user-return-6463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67934 invoked from network); 8 Dec 2003 20:15:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 20:15:13 -0000
Received: (qmail 3675 invoked by uid 500); 8 Dec 2003 20:14:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3621 invoked by uid 500); 8 Dec 2003 20:14:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3604 invoked from network); 8 Dec 2003 20:14:56 -0000
Received: from unknown (HELO smtpzilla1.xs4all.nl) (194.109.127.137)
  by daedalus.apache.org with SMTP; 8 Dec 2003 20:14:56 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla1.xs4all.nl (8.12.9/8.12.9) with ESMTP id hB8KEwmd063817
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 21:14:59 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: boosting & StandardAnalyzer, stop words
Date: Mon, 8 Dec 2003 21:16:10 +0100
User-Agent: KMail/1.5.4
References: <3FD4CF12.6090304@media-style.com>
In-Reply-To: <3FD4CF12.6090304@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312082116.10855.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan,

It's a bug, and there is a fix for this in the latest CVS
near the end of the QueryParser.jj file:

      // avoid boosting null queries, such as those caused by stop words
      if (q != null) {
        q.setBoost(f);
      }

Kind regards,
Ype


On Monday 08 December 2003 20:20, Stefan Groschupf wrote:
> Hi,
>
> I notice something really strange.
>
> I just tried the "document to query" thing with term frequencies and
> term bosting based on the term frequence.
> The code itself take may be 3 minutes, but i spend around 2 hours to
> search a nullpointer exception i got in this line.
>
>     query = QueryParser.parse(searchStringBuffer.toString(),
> IFieldNames.INSTANCE_VALUE, new StandardAnalyser());
>
> I figure out this happen until my search string contains. "will"^13
> I replace the StandardAnalyzer with a own Implementation of the Analyzer
> that just do nothing and now it works.
> Look like the StandardAnalyser has problem until stop word removal, when
> term bosting is used.
>
> Is that a bug or just a mistake by myself?
>
> Stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 20:38:40 2003
Return-Path: 
 <lucene-user-return-6464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86673 invoked from network); 8 Dec 2003 20:38:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 20:38:40 -0000
Received: (qmail 56612 invoked by uid 500); 8 Dec 2003 20:38:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56574 invoked by uid 500); 8 Dec 2003 20:38:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56528 invoked from network); 8 Dec 2003 20:38:03 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 8 Dec 2003 20:38:03 -0000
Message-ID: <20031208203809.19600.qmail@web12706.mail.yahoo.com>
Received: from [195.29.139.128] by web12706.mail.yahoo.com via HTTP;
 Mon, 08 Dec 2003 12:38:09 PST
Date: Mon, 8 Dec 2003 12:38:09 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: term vector or document vector
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1070914177.3050.146.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nice.
Please send the cvs diff, as I mentioned in that thread where you sent
inlined diffs.

Thanks,
Otis

--- Damian Gajda <dgajda@caltha.pl> wrote:
> BTW. i may send You the partly working Lucene with Dmitrys code
> patched
> in.
> 
> -- 
> Damian
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 22:48:06 2003
Return-Path: 
 <lucene-user-return-6465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44862 invoked from network); 8 Dec 2003 22:48:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 22:48:06 -0000
Received: (qmail 17039 invoked by uid 500); 8 Dec 2003 22:47:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17003 invoked by uid 500); 8 Dec 2003 22:47:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16990 invoked from network); 8 Dec 2003 22:47:48 -0000
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by daedalus.apache.org with SMTP; 8 Dec 2003 22:47:48 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hB8Mlqqc011673
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 14:47:52 -0800 (PST)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id hB8MlqOW011670
	for <lucene-user@jakarta.apache.org>; Mon, 8 Dec 2003 14:47:52 -0800 (PST)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Mon, 08 Dec
 2003 14:47:52 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <d8e35d625f.d625fd8e35@lbl.gov>
Date: Mon, 08 Dec 2003 14:47:52 -0800
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: TooManyBooleanClauses exception
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I generate a query using QueryParser and a
standard analyzer, in some cases I'm getting a
TooManyBooleanClauses exception, e.g.:

[2003-12-08 14:39:23] [  debug1 ]  query is +glucose
-kog* always:1
[2003-12-08 14:39:23] [--ERROR--] Exception in
searchAnnotations:
org.apache.lucene.search.BooleanQuery$TooManyClauses
        at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)


 Is there a way to reset the maximum number of
boolean clauses for a non-boolean query, or to at
least access the boolean sub queries and modify them?

thx,
-_David Goodstein


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 22:53:55 2003
Return-Path: 
 <lucene-user-return-6466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46398 invoked from network); 8 Dec 2003 22:53:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 22:53:55 -0000
Received: (qmail 27367 invoked by uid 500); 8 Dec 2003 22:53:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27301 invoked by uid 500); 8 Dec 2003 22:53:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27288 invoked from network); 8 Dec 2003 22:53:37 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 8 Dec 2003 22:53:37 -0000
Received: from dsl-213-023-066-162.arcor-ip.net ([213.23.66.162]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1ATUEy-0004Ir-00
	for <lucene-user@jakarta.apache.org>; Mon, 08 Dec 2003 23:52:32 +0100
Message-ID: <3FD500F6.5050802@media-style.com>
Date: Mon, 08 Dec 2003 23:53:42 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term vector or document vector
References: <20031208174334.91335.qmail@web12701.mail.yahoo.com>
	 <3FD4BB22.2050204@media-style.com>
	 <1070907266.3050.25.camel@localhost.localdomain>
	 <3FD4C119.7000202@media-style.com>
 <1070914177.3050.146.camel@localhost.localdomain>
In-Reply-To: <1070914177.3050.146.camel@localhost.localdomain>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Damian Gajda wrote:

>BTW. i may send You the partly working Lucene with Dmitrys code patched
>in.
>
>  
>

Yeah that would be very helpful.

Thanks!


-- 
open technology: http://www.media-style.com
open source:     http://www.weta-group.net
open discussion: http://www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec  8 23:07:34 2003
Return-Path: 
 <lucene-user-return-6467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52083 invoked from network); 8 Dec 2003 23:07:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Dec 2003 23:07:34 -0000
Received: (qmail 46911 invoked by uid 500); 8 Dec 2003 23:07:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46877 invoked by uid 500); 8 Dec 2003 23:07:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46827 invoked from network); 8 Dec 2003 23:07:14 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 8 Dec 2003 23:07:14 -0000
Received: (cpmta 2125 invoked from network); 8 Dec 2003 15:07:20 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 8 Dec 2003 15:07:20 -0800
X-Sent: 8 Dec 2003 23:07:20 GMT
Date: Mon, 8 Dec 2003 18:07:18 -0500
Subject: Re: TooManyBooleanClauses exception
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <d8e35d625f.d625fd8e35@lbl.gov>
Message-Id: <457702A0-29D3-11D8-8998-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, December 8, 2003, at 05:47  PM, DMGoodstein@lbl.gov wrote:
> If I generate a query using QueryParser and a
> standard analyzer, in some cases I'm getting a
> TooManyBooleanClauses exception, e.g.:
>
> [2003-12-08 14:39:23] [  debug1 ]  query is +glucose
> -kog* always:1
> [2003-12-08 14:39:23] [--ERROR--] Exception in
> searchAnnotations:
> org.apache.lucene.search.BooleanQuery$TooManyClauses
>         at
> org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)

I'm guessing you're getting this exception from an IndexSearcher.search 
rather than a QueryParser.parse, right?

>  Is there a way to reset the maximum number of
> boolean clauses for a non-boolean query, or to at
> least access the boolean sub queries and modify them?

You can call BooleanQuery.setMaxClauseCount(n).  The default is 1024.   
I'm not sure what you mean by reseting it for non-boolean query, since 
that restriction only applies to boolean queries.  What is happening is 
the the wildcard kog* is expanding to all terms that begin with "kog" - 
you must have quite a lot of those, huh?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  9 09:58:11 2003
Return-Path: 
 <lucene-user-return-6468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12619 invoked from network); 9 Dec 2003 09:58:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Dec 2003 09:58:11 -0000
Received: (qmail 94174 invoked by uid 500); 9 Dec 2003 09:57:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94132 invoked by uid 500); 9 Dec 2003 09:57:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94024 invoked from network); 9 Dec 2003 09:57:39 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 9 Dec 2003 09:57:39 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 DA33A19B731
	for <lucene-user@jakarta.apache.org>; Tue,  9 Dec 2003 10:57:51 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hB99vplJ002280
	for <lucene-user@jakarta.apache.org>; Tue, 9 Dec 2003 10:57:51 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hB99vpc0002276;
	Tue, 9 Dec 2003 10:57:51 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16341.40095.227348.301566@tanto-xipolis.de>
Date: Tue, 9 Dec 2003 10:57:51 +0100
To: lucene-user@jakarta.apache.org
Subject: Query Parser AND / OR
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm having problems understanding query parsers handling of AND and OR
if there's more than one operator.

E.g.
a OR b AND c 
gives the same number of hits as
b AND c
(only scores are different)

and 
a AND b OR c AND d
seems to be equivalent to
a AND b AND C AND d

which doesn't seem logical to me.

I'd expect to have AND higher precedence than OR (as a logical AND / OR in 
C or Java) so that a OR b AND c would be equivalent to a OR (b AND c)
and a AND b OR c AND d equivalent to (a AND b) OR (c AND d)


When I look at the query parsers sources, I find, that -- unless paranthesis
are used -- all these terms are added to one boolean query, and the
AND operator makes the term left and right of it required (unless there
are NOT operators making them prohibited).
So 
a OR b AND c gives one boolean query where  b and c are required, whereas
a is not.
a AND b OR c AND d produces a boolean query where a, b, c and d are required,
which is indeed the same as a AND b AND c AND d.


Should this be considered a bug?

greetings
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  9 11:36:33 2003
Return-Path: 
 <lucene-user-return-6469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63946 invoked from network); 9 Dec 2003 11:36:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Dec 2003 11:36:33 -0000
Received: (qmail 39277 invoked by uid 500); 9 Dec 2003 11:36:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39153 invoked by uid 500); 9 Dec 2003 11:36:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38983 invoked from network); 9 Dec 2003 11:36:09 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 9 Dec 2003 11:36:09 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id hB9BG7l25199
	for <lucene-user@jakarta.apache.org>; Tue, 9 Dec 2003 12:16:07 +0100
Message-ID: <3FD5B43C.3060003@media-style.com>
Date: Tue, 09 Dec 2003 12:38:36 +0100
From: Stefan Groschupf <sg@media-style.com>
Organization: media style
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: boosting & StandardAnalyzer, stop words
References: <3FD4CF12.6090304@media-style.com>
 <200312082116.10855.ykingma@xs4all.nl>
In-Reply-To: <200312082116.10855.ykingma@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ype,

>It's a bug, and there is a fix for this in the latest CVS
>near the end of the QueryParser.jj file:
>
>      // avoid boosting null queries, such as those caused by stop words
>      if (q != null) {
>        q.setBoost(f);
>      }
>  
>
I had checked out the latest sources from public cvs. The posted code 
lines abouve are on the QueryParser.jj but this does not fix the problem. ;/
What could it be?

*java.lang.NullPointerException
    at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
    at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

*
Stefan




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  9 16:57:19 2003
Return-Path: 
 <lucene-user-return-6470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60403 invoked from network); 9 Dec 2003 16:57:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Dec 2003 16:57:19 -0000
Received: (qmail 48310 invoked by uid 500); 9 Dec 2003 16:57:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48282 invoked by uid 500); 9 Dec 2003 16:57:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48268 invoked from network); 9 Dec 2003 16:57:06 -0000
Received: from unknown (HELO smtpzilla5.xs4all.nl) (194.109.127.141)
  by daedalus.apache.org with SMTP; 9 Dec 2003 16:57:06 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla5.xs4all.nl (8.12.9/8.12.9) with ESMTP id hB9Gv81i093533
	for <lucene-user@jakarta.apache.org>; Tue, 9 Dec 2003 17:57:08 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: boosting & StandardAnalyzer, stop words
Date: Tue, 9 Dec 2003 17:58:28 +0100
User-Agent: KMail/1.5.4
References: <3FD4CF12.6090304@media-style.com>
 <200312082116.10855.ykingma@xs4all.nl> <3FD5B43C.3060003@media-style.com>
In-Reply-To: <3FD5B43C.3060003@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312091758.29034.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan,

I didn't provide the patch, I just remembered the code from
a recent reading.

I took another look whether there are more such cases
in the Term() method, but I couldn't find anything clear
in the .jj file. The generated .java file didn't help much either.

Could you provide a line number with the exception?
There are some attribute references that might cause
this.
Or perhaps someone else can give a better hint.

Kind regards,
Ype



On Tuesday 09 December 2003 12:38, Stefan Groschupf wrote:
> Ype,
>
> >It's a bug, and there is a fix for this in the latest CVS
> >near the end of the QueryParser.jj file:
> >
> >      // avoid boosting null queries, such as those caused by stop words
> >      if (q != null) {
> >        q.setBoost(f);
> >      }
>
> I had checked out the latest sources from public cvs. The posted code
> lines abouve are on the QueryParser.jj but this does not fix the problem.
> ;/ What could it be?
>
> *java.lang.NullPointerException
>     at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
>     at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
>
> *
> Stefan
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  9 18:49:45 2003
Return-Path: 
 <lucene-user-return-6471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20773 invoked from network); 9 Dec 2003 18:49:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Dec 2003 18:49:45 -0000
Received: (qmail 67892 invoked by uid 500); 9 Dec 2003 18:49:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67866 invoked by uid 500); 9 Dec 2003 18:49:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67853 invoked from network); 9 Dec 2003 18:49:31 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 9 Dec 2003 18:49:31 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id BEFB55D22
	for <lucene-user@jakarta.apache.org>; Tue,  9 Dec 2003 10:49:35 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hB9InZsB069695
	for lucene-user@jakarta.apache.org; Tue, 9 Dec 2003 10:49:35 -0800 (PST)
	(envelope-from dror)
Date: Tue, 9 Dec 2003 10:49:35 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031209184935.GD61794@rlx11.zapatec.com>
References: <16341.40095.227348.301566@tanto-xipolis.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <16341.40095.227348.301566@tanto-xipolis.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Dec 09, 2003 at 10:57:51AM +0100, Morus Walter wrote:
> Hi,
> 
> I'm having problems understanding query parsers handling of AND and OR
> if there's more than one operator.
> 
> E.g.
> a OR b AND c 
> gives the same number of hits as
> b AND c
> (only scores are different)

This would make sense if all the document that have a also have both B
and C in them.

> 
> and 
> a AND b OR c AND d
> seems to be equivalent to
> a AND b AND C AND d
> 

That's not what I get. 
http://www.fastbuzz.com/search/results.jsp?query=dean+AND+kerry+AND+clark+AND+gephardt&days=
returns 479 items
but
http://www.fastbuzz.com/search/results.jsp?query=dean+AND+kerry+OR+clark+AND+gephardt&days=
returns 564 items which indicates that the OR does make a difference.
As expcted, you end up getting more items with the OR.

Regards,

Dror

> which doesn't seem logical to me.
> 
> I'd expect to have AND higher precedence than OR (as a logical AND / OR in 
> C or Java) so that a OR b AND c would be equivalent to a OR (b AND c)
> and a AND b OR c AND d equivalent to (a AND b) OR (c AND d)
> 
> 
> When I look at the query parsers sources, I find, that -- unless paranthesis
> are used -- all these terms are added to one boolean query, and the
> AND operator makes the term left and right of it required (unless there
> are NOT operators making them prohibited).
> So 
> a OR b AND c gives one boolean query where  b and c are required, whereas
> a is not.
> a AND b OR c AND d produces a boolean query where a, b, c and d are required,
> which is indeed the same as a AND b AND c AND d.
> 
> 
> Should this be considered a bug?
> 
> greetings
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec  9 19:15:21 2003
Return-Path: 
 <lucene-user-return-6472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34197 invoked from network); 9 Dec 2003 19:15:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Dec 2003 19:15:21 -0000
Received: (qmail 11274 invoked by uid 500); 9 Dec 2003 19:15:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11247 invoked by uid 500); 9 Dec 2003 19:15:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11229 invoked from network); 9 Dec 2003 19:15:06 -0000
Received: from unknown (HELO smtpzilla5.xs4all.nl) (194.109.127.141)
  by daedalus.apache.org with SMTP; 9 Dec 2003 19:15:06 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtpzilla5.xs4all.nl (8.12.9/8.12.9) with ESMTP id hB9JF9Mb066646
	for <lucene-user@jakarta.apache.org>; Tue, 9 Dec 2003 20:15:10 +0100 (CET)
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: boosting & StandardAnalyzer, stop words
Date: Tue, 9 Dec 2003 20:16:32 +0100
User-Agent: KMail/1.5.4
References: <3FD4CF12.6090304@media-style.com>
 <3FD5B43C.3060003@media-style.com> <200312091758.29034.ykingma@xs4all.nl>
In-Reply-To: <200312091758.29034.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312092016.32594.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 09 December 2003 17:58, Ype Kingma wrote:
> Stefan,
>
> I didn't provide the patch, I just remembered the code from
> a recent reading.
>
> I took another look whether there are more such cases
> in the Term() method, but I couldn't find anything clear
> in the .jj file. The generated .java file didn't help much either.

I meant to say that I couldn't anything that clearly points
to a possible NullPointerException.
The .jj file itself is quite understandable.

Perhaps we'd better continue this on lucene-dev.

Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 09:01:05 2003
Return-Path: 
 <lucene-user-return-6473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99912 invoked from network); 10 Dec 2003 09:01:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 09:01:05 -0000
Received: (qmail 57053 invoked by uid 500); 10 Dec 2003 09:00:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56715 invoked by uid 500); 10 Dec 2003 09:00:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56695 invoked from network); 10 Dec 2003 09:00:34 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 10 Dec 2003 09:00:34 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 744FB19B719
	for <lucene-user@jakarta.apache.org>; Wed, 10 Dec 2003 10:00:45 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hBA90ilJ011031
	for <lucene-user@jakarta.apache.org>; Wed, 10 Dec 2003 10:00:44 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hBA90hhx011027;
	Wed, 10 Dec 2003 10:00:43 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16342.57531.451224.255995@tanto-xipolis.de>
Date: Wed, 10 Dec 2003 10:00:43 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
In-Reply-To: <20031209184935.GD61794@rlx11.zapatec.com>
References: <16341.40095.227348.301566@tanto-xipolis.de>
	<20031209184935.GD61794@rlx11.zapatec.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Dror,

thanks for your answer.
> > 
> > I'm having problems understanding query parsers handling of AND and OR
> > if there's more than one operator.
> > 
> > E.g.
> > a OR b AND c 
> > gives the same number of hits as
> > b AND c
> > (only scores are different)
> 
> This would make sense if all the document that have a also have both B
> and C in them.
> 
Then the query should be equivalent to (a OR b) AND c.
But it isn't. For specific a, b and c I get 766 hits for a OR b AND c
and 1086 for (a OR b) AND c.

> > 
> > and 
> > a AND b OR c AND d
> > seems to be equivalent to
> > a AND b AND C AND d
> > 
> 
> That's not what I get. 
> http://www.fastbuzz.com/search/results.jsp?query=dean+AND+kerry+AND+clark+AND+gephardt&days=
> returns 479 items
> but
> http://www.fastbuzz.com/search/results.jsp?query=dean+AND+kerry+OR+clark+AND+gephardt&days=
> returns 564 items which indicates that the OR does make a difference.
> As expcted, you end up getting more items with the OR.
> 
Hmm. I was sloppy not specifying the lucene version.
My tests were on 1.2.
But I reindex a part of my documents using 1.3rc3 and find the same.
What version does fastbuzz use?

I wrote s small test programm indexing all documents consisting of
one or zero occurences of a, b, c and d (ignoring order, so without
the empty document, that's just 15 docs) and performing some queries
on it.
Programm see below, this is what I get:

a OR b AND c -> a +b +c
      4 documents found
        a b c
        a b c d
        b c
        b c d
(a OR b) AND c -> +(a b) +c
      6 documents found
        a b c
        a b c d
        a c
        b c
        a c d
        b c d
a OR (b AND c) -> a (+b +c)
      10 documents found
        a b c
        a b c d
        b c
        a
        b c d
        a b
        a c
        a d
        a b d
        a c d
b AND c -> +b +c
      4 documents found
        b c
        a b c
        b c d
        a b c d
a AND b OR c AND d -> +a +b +c +d
      1 documents found
        a b c d
(a AND b) OR (c AND d) -> (+a +b) (+c +d)
      7 documents found
        a b c d
        a b
        c d
        a b c
        a b d
        a c d
        b c d
a AND (b OR c) AND d -> +a +(b c) +d
      3 documents found
        a b c d
        a b d
        a c d
((a AND b) OR c) AND d -> +((+a +b) c) +d
      5 documents found
        a b c d
        a b d
        c d
        a c d
        b c d
a AND (b OR (c AND d)) -> +a +(b (+c +d))
      5 documents found
        a b c d
        a c d
        a b
        a b c
        a b d
a AND b AND c AND d -> +a +b +c +d
      1 documents found
        a b c d

Using 1.3rc3, 1.3rc2 or 1.3rc1; I get the same results with a slightly 
different order for 1.2.

So I still get the same for 
a OR b AND c  and  b AND c
and
a AND b OR c AND d  and  a AND b AND c AND d
(note, that the result of the toString method of the query is equal in
both cases) 
but different results for any operator grouping, I can think of.
So to me, the question remains, what does AND and OR mean, if they are
combined in one expression?
I can understand all the query results where AND and OR queries are
explicitly grouped by paranthesis, and the results are, what I expect.
But the rules for combined AND and OR aren't what I would expect.

greetings
	Morus

PS: the test program:
      
import org.apache.lucene.document.*;
import org.apache.lucene.analysis.*;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.*;
import org.apache.lucene.store.*;
import org.apache.lucene.search.*;
import org.apache.lucene.queryParser.QueryParser;

class LuceneTest 
{
    static String[] docs = {
	"a", "b", "c", "d", 
	"a b", "a c", "a d", "b c", "b d", "c d", 
	"a b c", "a b d", "a c d", "b c d", 
	"a b c d"
    };

    static String[] queries = {
	"a OR b AND c",
	"(a OR b) AND c",
	"a OR (b AND c)",
	"b AND c",
	"a AND b OR c AND d",
	"(a AND b) OR (c AND d)",
	"a AND (b OR c) AND d",
	"((a AND b) OR c) AND d",
	"a AND (b OR (c AND d))",
	"a AND b AND c AND d"
    };

    public static void main(String argv[]) throws Exception {
	Directory dir = new RAMDirectory();
	String[] stop = {};
	Analyzer analyzer = new StandardAnalyzer(stop);
	
	IndexWriter writer = new IndexWriter(dir, analyzer, true);

	for ( int i=0; i < docs.length; i++ ) {
	    Document doc = new Document();
	    doc.add(Field.Text("text", docs[i]));
	    writer.addDocument(doc);
	}
	writer.close();

	Searcher searcher = new IndexSearcher(dir);
	for ( int i=0; i < queries.length; i++ ) {
	    Query query = QueryParser.parse(queries[i], "text", analyzer);
	    System.out.println(queries[i] + " -> " + query.toString("text"));
	    Hits hits = searcher.search(query);
	    System.out.println("      " + hits.length() + " documents found");
	    for ( int j=0; j < hits.length(); j++ ) {
		Document doc = hits.doc(j);
		System.out.println("\t"+doc.get("text"));
	    }
	}
    }
}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 10:59:50 2003
Return-Path: 
 <lucene-user-return-6474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55987 invoked from network); 10 Dec 2003 10:59:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 10:59:50 -0000
Received: (qmail 95531 invoked by uid 500); 10 Dec 2003 10:59:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95332 invoked by uid 500); 10 Dec 2003 10:59:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95318 invoked from network); 10 Dec 2003 10:59:17 -0000
Received: from unknown (HELO imag.imag.fr) (129.88.30.1)
  by daedalus.apache.org with SMTP; 10 Dec 2003 10:59:17 -0000
Received: from orage.imag.fr (orage.imag.fr [152.77.201.1])
	by imag.imag.fr (8.12.10/8.12.10) with ESMTP id hBAAxNlC025565
	for <lucene-user@jakarta.apache.org>; Wed, 10 Dec 2003 11:59:24 +0100 (CET)
Received: from batica1.imag.fr (batica1.imag.fr [152.77.200.163])
	by orage.imag.fr (8.12.10+Sun/8.11.3/ImagV2) with ESMTP id hBAAxNuB003173
	for <lucene-user@jakarta.apache.org>; Wed, 10 Dec 2003 11:59:23 +0100 (CET)
Message-Id: <5.0.2.1.2.20031210115739.02afa820@mail-timc.imag.fr>
X-Sender: gdiallo@mail-timc.imag.fr
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Wed, 10 Dec 2003 12:00:19 +0100
To: lucene-user@jakarta.apache.org
From: Gayo Diallo <gayo.diallo@imag.fr>
Subject: Query expansion
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-IMAG-MailScanner: Found to be clean
X-IMAG-MailScanner-Information: Please contact the ISP for more information
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Everybody,

I wish to use an hierarchy of concept provided by an Ontology to refine
or expand my query answer with Lucene.
May I Know If someone have tryed it yet ?

Thanks,
Gayo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 11:51:32 2003
Return-Path: 
 <lucene-user-return-6475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88524 invoked from network); 10 Dec 2003 11:51:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 11:51:32 -0000
Received: (qmail 78789 invoked by uid 500); 10 Dec 2003 11:51:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78737 invoked by uid 500); 10 Dec 2003 11:51:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78721 invoked from network); 10 Dec 2003 11:51:25 -0000
Received: from unknown (HELO firewall.avik.biz) (213.227.239.10)
  by daedalus.apache.org with SMTP; 10 Dec 2003 11:51:25 -0000
Received: (qmail 8788 invoked from network); 10 Dec 2003 11:55:56 -0000
Received: from unknown (HELO galaxy.avik.biz) (192.168.1.31)
  by 192.168.1.254 with SMTP; 10 Dec 2003 11:55:56 -0000
Date: Wed, 10 Dec 2003 13:43:42 +0200
From: Igor Semenko <is@avik.biz>
X-Mailer: The Bat! (v1.53d)
Reply-To: "is@avik" <is@avik.biz>
X-Priority: 3 (Normal)
Message-ID: <78186179468.20031210134342@avik.biz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Rebuild index?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

We use lucene to search menus, there are around 10000 items in
index and sometimes I see error like this:
(/tmp/index-menu is index directory)
java.io.FileNotFoundException: /tmp/index-menu/_6q2.prx (No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
        at org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:389)
        at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:418)
        at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:291)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:132)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:103)
        at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:119)
        at org.apache.lucene.store.Lock$With.run(Lock.java:148)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:110)
        ...

When I just rebuild the index the problem is gone.
Could someone hint what can be the reason of such a strange behavior?

-- 
Thanks,
Igor Semenko,
http://www.webfood.us


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 12:46:31 2003
Return-Path: 
 <lucene-user-return-6476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14496 invoked from network); 10 Dec 2003 12:46:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 12:46:31 -0000
Received: (qmail 69446 invoked by uid 500); 10 Dec 2003 12:46:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69400 invoked by uid 500); 10 Dec 2003 12:46:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69311 invoked from network); 10 Dec 2003 12:46:07 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 10 Dec 2003 12:46:07 -0000
Received: (qmail 13709 invoked by uid 0); 10 Dec 2003 12:46:06 -0000
Received: from 193.63.235.44 by www16.gmx.net with HTTP;
	Wed, 10 Dec 2003 13:46:06 +0100 (MET)
Date: Wed, 10 Dec 2003 13:46:06 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <5.0.2.1.2.20031210115739.02afa820@mail-timc.imag.fr>
Subject: Re: Query expansion
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <14151.1071060366@www16.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

expanding a query is basically done by generating a new one an reusing the
existing terms plus the selected one from your ontology/taxonomy. There has
been discussion here before and you should search the archive for that.
Extracting and using the right bit from your ontology is basically a task for your
programm logic and highly depends on your reasoning and choice.

Cheers,
Ralf 


> Hi Everybody,
> 
> I wish to use an hierarchy of concept provided by an Ontology to refine
> or expand my query answer with Lucene.
> May I Know If someone have tryed it yet ?
> 
> Thanks,
> Gayo
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 13:33:19 2003
Return-Path: 
 <lucene-user-return-6477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38401 invoked from network); 10 Dec 2003 13:33:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 13:33:19 -0000
Received: (qmail 38145 invoked by uid 500); 10 Dec 2003 13:33:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38111 invoked by uid 500); 10 Dec 2003 13:33:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38016 invoked from network); 10 Dec 2003 13:33:00 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 10 Dec 2003 13:33:00 -0000
Received: (qmail 28126 invoked by uid 0); 10 Dec 2003 13:33:00 -0000
Received: from 193.63.235.44 by www52.gmx.net with HTTP;
	Wed, 10 Dec 2003 14:33:00 +0100 (MET)
Date: Wed, 10 Dec 2003 14:33:00 +0100 (MET)
From: "Ralph   " <ambiesense@gmx.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <5.0.2.1.2.20031210115739.02afa820@mail-timc.imag.fr>
Subject: Re: Query expansion
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <11089.1071063180@www52.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How do you model/store your taxonomies/ontologies regarding your
datastructure ? Do you use Java datastructures or RDF? 

Cheers,
Ralf

> Hi Everybody,
> 
> I wish to use an hierarchy of concept provided by an Ontology to refine
> or expand my query answer with Lucene.
> May I Know If someone have tryed it yet ?
> 
> Thanks,
> Gayo
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 15:26:41 2003
Return-Path: 
 <lucene-user-return-6479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17297 invoked from network); 10 Dec 2003 15:26:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 15:26:41 -0000
Received: (qmail 398 invoked by uid 500); 10 Dec 2003 15:26:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 363 invoked by uid 500); 10 Dec 2003 15:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 321 invoked from network); 10 Dec 2003 15:26:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 10 Dec 2003 15:26:30 -0000
Received: (cpmta 24223 invoked from network); 10 Dec 2003 07:26:32 -0800
Received: from 128.143.103.117 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 10 Dec 2003 07:26:32 -0800
X-Sent: 10 Dec 2003 15:26:32 GMT
Date: Wed, 10 Dec 2003 10:26:31 -0500
Subject: Re: Good and performance and fuzzy search 
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031210150607.08BDF13E20EA@ehatchersolutions.com>
Message-Id: <3B041771-2B25-11D8-B002-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, December 10, 2003, at 04:07  PM, julien gerard wrote:
> I'm attempting to optimize a fuzzy search on a big index with 
> ~4.400.000 Documents ( lucene's meanning ) in 600.000 sub-categories 
> (Simple Text.Keyword type a field ).
>
> My purpose is to limit the amount of documents on wich the fuzzy 
> search with levenhstein disance is performed ( an user cannot search 
> on the 600.000 sub-categories but on 1 to 3 max )
>
> the classics lucenes ways to do that are not adapted to my case :
> - multiple indexes : having 600.000 indexes is a nightmare for 
> maintenance.
> - QueryFilter is not adapted because it's the fuzzy search which is in 
> The QueryFilter and the number of different request is too important, 
> so I cannot reuse the same.
> - The BooleanQuery with 'AND' parameter is also not adapted because 
> the two search are executed and after the results are merged.
>

QueryFilter would do the trick if you instead used the query you handed 
to it to be the one to single out a "sub-category".  It would limit the 
documents searched to just the sub-category, and the fuzzy search would 
be done using IndexSearcher.search, only handing it the filter then as 
well.

Will this scheme work for you?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 15:07:33 2003
Return-Path: 
 <lucene-user-return-6478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4348 invoked from network); 10 Dec 2003 15:07:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 15:07:33 -0000
Received: (qmail 53070 invoked by uid 500); 10 Dec 2003 15:07:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53037 invoked by uid 500); 10 Dec 2003 15:07:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53017 invoked from network); 10 Dec 2003 15:07:22 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.120)
  by daedalus.apache.org with SMTP; 10 Dec 2003 15:07:22 -0000
Received: (qmail 8275 invoked by uid 0); 10 Dec 2003 15:07:23 -0000
Received: from unknown (HELO noos.fr) ([212.198.2.180])
          (envelope-sender <j.gerard@noos.fr>)
          by 212.198.2.120 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 10 Dec 2003 15:07:23 -0000
MIME-Version: 1.0
X-Mailer: NOOSwebmail v2
Date: Wed, 10 Dec 03 16:07:23
To: lucene-user@jakarta.apache.org
Reply-to: j.gerard@noos.fr
From: "julien gerard"<j.gerard@noos.fr>
Subject: Good and performance and fuzzy search 
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm attempting to optimize a fuzzy search on a big index with ~4.400.000 Documents ( lucene's meanning ) in 600.000 sub-categories (Simple Text.Keyword type a field ).

My purpose is to limit the amount of documents on wich the fuzzy search with levenhstein disance is performed ( an user cannot search on the 600.000 sub-categories but on 1 to 3 max )

the classics lucenes ways to do that are not adapted to my case :
- multiple indexes : having 600.000 indexes is a nightmare for maintenance.
- QueryFilter is not adapted because it's the fuzzy search which is in The QueryFilter and the number of different request is too important, so I cannot reuse the same.
- The BooleanQuery with 'AND' parameter is also not adapted because the two search are executed and after the results are merged.

So ( Ahhhhh!!! ) my first question is :
is there any way to do fuzzy search on a subset of the index that I've not seen yet?

Is this solution does not exist? Which solution could I implemented to perform this kind of search? 
I could implemented a FuzzyFilter but I'll need to access to each document, wich is time consuming. 

I know that solution cost a lot of memory usage, which has already been discuted on this list, but in my case this way is the only I can see to decrease the execution time.

regards,
Julien.

PS. : Sorry for my poor english.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 16:30:39 2003
Return-Path: 
 <lucene-user-return-6481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59756 invoked from network); 10 Dec 2003 16:30:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 16:30:39 -0000
Received: (qmail 77645 invoked by uid 500); 10 Dec 2003 16:30:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77617 invoked by uid 500); 10 Dec 2003 16:30:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77551 invoked from network); 10 Dec 2003 16:30:26 -0000
Received: from unknown (HELO anchor-post-32.mail.demon.net) (194.217.242.90)
  by daedalus.apache.org with SMTP; 10 Dec 2003 16:30:26 -0000
Received: from project76.demon.co.uk ([80.177.119.242] helo=jubilee)
	by anchor-post-32.mail.demon.net with smtp (Exim 3.35 #1)
	id 1AU7EK-0005Ww-0W
	for lucene-user@jakarta.apache.org; Wed, 10 Dec 2003 16:30:28 +0000
From: "Jamie Stallwood" <jubilee@project76.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query Parser AND / OR
Date: Wed, 10 Dec 2003 16:30:28 -0000
Message-ID: <EJECKFIHLFGAHHKKFBCCAEIGCPAA.jubilee@project76.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <16342.57531.451224.255995@tanto-xipolis.de>
Importance: Normal
Disposition-Notification-To: "Jamie Stallwood" <jubilee@project76.co.uk>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What Morus is saying is right, an expression without parenthesis, when
interpreted, assumes terms on either side of an AND clause are compulsory
terms, and any terms on either side of an OR clause are optional. However,
if you combine AND and OR in an expression, the optional terms have no
effect because the others are compulsory.

What needs to be done is that the query parse should process any query
string that has AND, and "put brackets" round it first. As it stands it is
no use, as the OR does not work in the way you would think. AND should be
given implicit priority.


-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto-xipolis.de]
Sent: 10 December 2003 09:01
To: Lucene Users List
Subject: Re: Query Parser AND / OR

Hi Dror,

thanks for your answer.
> >
> > I'm having problems understanding query parsers handling of AND and OR
> > if there's more than one operator.
> >
> > E.g.
> > a OR b AND c
> > gives the same number of hits as
> > b AND c
> > (only scores are different)
>
> This would make sense if all the document that have a also have both B
> and C in them.
>
Then the query should be equivalent to (a OR b) AND c.
But it isn't. For specific a, b and c I get 766 hits for a OR b AND c
and 1086 for (a OR b) AND c.

> >
> > and
> > a AND b OR c AND d
> > seems to be equivalent to
> > a AND b AND C AND d
> >
>

a OR b AND c -> a +b +c
      4 documents found
        a b c
        a b c d
        b c
        b c d
(a OR b) AND c -> +(a b) +c
      6 documents found




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 16:54:25 2003
Return-Path: 
 <lucene-user-return-6482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76134 invoked from network); 10 Dec 2003 16:54:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 16:54:25 -0000
Received: (qmail 47558 invoked by uid 500); 10 Dec 2003 16:54:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47531 invoked by uid 500); 10 Dec 2003 16:54:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47517 invoked from network); 10 Dec 2003 16:54:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 10 Dec 2003 16:54:13 -0000
Received: (cpmta 13818 invoked from network); 10 Dec 2003 08:54:15 -0800
Received: from 128.143.103.117 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 10 Dec 2003 08:54:15 -0800
X-Sent: 10 Dec 2003 16:54:15 GMT
Date: Wed, 10 Dec 2003 11:54:14 -0500
Subject: Re: Good and performance and fuzzy search 
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031210162648.3D4E213E20EA@ehatchersolutions.com>
Message-Id: <7C6D8C15-2B31-11D8-B002-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, December 10, 2003, at 05:27  PM, julien gerard wrote:
> But in this case the fuzzy is performed on the overall index? The 
> QueryFilter do his job after ?
> I'm not sure to understand the QueryFilter meaning?
>
> But I test the QueryFilter also this way and the time to doing this 
> search it's the same.
>
> The fuzzy is time consuming, this is normal, so I'm searching a 
> solution to having less term to compare with fuzzy algorithm.
>
> I'm checking the FuzzyTermEnum class and searching how to redifine 
> this to implement a FuzzySubsetTermEnum with constructor :
> FuzzySubsetTermEnum(IndexReader reader, Term term, Term subset)
>
> For retrieving only the term which also

You've got quite a tough task ahead of you I think.  You originally 
said you wanted to limit documents, which is what a Filter does.  But a 
FuzzyQuery still needs to go over all the terms, otherwise how would it 
know if there was a match or not before even considering the documents.

It'll be interesting to see what solution you come up with.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 16:28:15 2003
Return-Path: 
 <lucene-user-return-6480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58280 invoked from network); 10 Dec 2003 16:28:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 16:28:15 -0000
Received: (qmail 68678 invoked by uid 500); 10 Dec 2003 16:27:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68639 invoked by uid 500); 10 Dec 2003 16:27:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68531 invoked from network); 10 Dec 2003 16:27:56 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.116)
  by daedalus.apache.org with SMTP; 10 Dec 2003 16:27:56 -0000
Received: (qmail 9980 invoked by uid 0); 10 Dec 2003 16:27:58 -0000
Received: from unknown (HELO noos.fr) ([212.198.2.136])
          (envelope-sender <j.gerard@noos.fr>)
          by 212.198.2.116 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 10 Dec 2003 16:27:58 -0000
MIME-Version: 1.0
X-Mailer: NOOSwebmail v2
Date: Wed, 10 Dec 03 17:27:58
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: j.gerard@noos.fr
From: "julien gerard"<j.gerard@noos.fr>
Subject: Re: Good and performance and fuzzy search 
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

But in this case the fuzzy is performed on the overall index? The QueryFilter do his job after ?
I'm not sure to understand the QueryFilter meaning?

But I test the QueryFilter also this way and the time to doing this search it's the same.

The fuzzy is time consuming, this is normal, so I'm searching a solution to having less term to compare with fuzzy algorithm. 

I'm checking the FuzzyTermEnum class and searching how to redifine this to implement a FuzzySubsetTermEnum with constructor : 
FuzzySubsetTermEnum(IndexReader reader, Term term, Term subset)

For retrieving only the term which also 

Erik Hatcher wrote :

>>
>>QueryFilter would do the trick if you instead used the
>>query you handed 
>>to it to be the one to single out a "sub-category".  It
>>would limit the 
>>documents searched to just the sub-category, and the
>>fuzzy search would 
>>be done using IndexSearcher.search, only handing it the
>>filter then as 
>>well.
>>
>>Will this scheme work for you?
>>
>>	Erik
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 17:13:04 2003
Return-Path: 
 <lucene-user-return-6483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87850 invoked from network); 10 Dec 2003 17:13:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 17:13:04 -0000
Received: (qmail 94540 invoked by uid 500); 10 Dec 2003 17:12:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94495 invoked by uid 500); 10 Dec 2003 17:12:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94443 invoked from network); 10 Dec 2003 17:12:41 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.120)
  by daedalus.apache.org with SMTP; 10 Dec 2003 17:12:41 -0000
Received: (qmail 4385 invoked by uid 0); 10 Dec 2003 17:12:43 -0000
Received: from unknown (HELO noos.fr) ([212.198.2.165])
          (envelope-sender <j.gerard@noos.fr>)
          by 212.198.2.120 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 10 Dec 2003 17:12:43 -0000
MIME-Version: 1.0
X-Mailer: NOOSwebmail v2
Date: Wed, 10 Dec 03 18:12:43
To: Lucene Users List <lucene-user@jakarta.apache.org>,
 Erik Hatcher <erik@ehatchersolutions.com>
Reply-to: j.gerard@noos.fr
From: "julien gerard"<j.gerard@noos.fr>
Subject: Re: Good and performance and fuzzy search 
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Erik Hatcher <erik@ehatchersolutions.com>:

>>
>>You've got quite a tough task ahead of you I think.  You
>>originally 
>>said you wanted to limit documents, which is what a
>>Filter does.  But a 

Ok, I need to have again some english teaching so.

>>FuzzyQuery still needs to go over all the terms,
>>otherwise how would it 
>>know if there was a match or not before even considering
>>the documents.
>>

I don't know, I didn't searched deeply in the code to know the behaviour and the meaning of all classes, but apparently I need to do... 

>>It'll be interesting to see what solution you come up
>>with.
>>
>>	Erik

me to :)

Julien.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 10 21:46:30 2003
Return-Path: 
 <lucene-user-return-6484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45071 invoked from network); 10 Dec 2003 21:46:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Dec 2003 21:46:30 -0000
Received: (qmail 49612 invoked by uid 500); 10 Dec 2003 21:46:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49582 invoked by uid 500); 10 Dec 2003 21:46:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49569 invoked from network); 10 Dec 2003 21:46:13 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 10 Dec 2003 21:46:13 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 9776EA946
	for <lucene-user@jakarta.apache.org>; Wed, 10 Dec 2003 13:46:19 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBALkJh1072132
	for lucene-user@jakarta.apache.org; Wed, 10 Dec 2003 13:46:19 -0800 (PST)
	(envelope-from dror)
Date: Wed, 10 Dec 2003 13:46:19 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Rebuild index?
Message-ID: <20031210214619.GD61794@rlx11.zapatec.com>
References: <78186179468.20031210134342@avik.biz>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <78186179468.20031210134342@avik.biz>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


What version are you running?

Something removed one of the files that Lucene needs while it was using
the index.

Could there have been something running in the background and cleaning
/tmp?


On Wed, Dec 10, 2003 at 01:43:42PM +0200, Igor Semenko wrote:
> Hello,
> 
> We use lucene to search menus, there are around 10000 items in
> index and sometimes I see error like this:
> (/tmp/index-menu is index directory)
> java.io.FileNotFoundException: /tmp/index-menu/_6q2.prx (No such file or directory)
>         at java.io.RandomAccessFile.open(Native Method)
>         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>         at org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:389)
>         at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:418)
>         at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:291)
>         at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:132)
>         at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:103)
>         at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:119)
>         at org.apache.lucene.store.Lock$With.run(Lock.java:148)
>         at org.apache.lucene.index.IndexReader.open(IndexReader.java:110)
>         ...
> 
> When I just rebuild the index the problem is gone.
> Could someone hint what can be the reason of such a strange behavior?
> 
> -- 
> Thanks,
> Igor Semenko,
> http://www.webfood.us
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 00:26:40 2003
Return-Path: 
 <lucene-user-return-6485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16216 invoked from network); 11 Dec 2003 00:26:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 00:26:40 -0000
Received: (qmail 78039 invoked by uid 500); 11 Dec 2003 00:26:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77850 invoked by uid 500); 11 Dec 2003 00:26:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77836 invoked from network); 11 Dec 2003 00:26:20 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 11 Dec 2003 00:26:20 -0000
Received: from dsl-213-023-065-195.arcor-ip.net ([213.23.65.195]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AUEdE-0001cQ-00
	for <lucene-user@jakarta.apache.org>; Thu, 11 Dec 2003 01:24:40 +0100
Message-ID: <3FD7B9A7.6020608@media-style.com>
Date: Thu, 11 Dec 2003 01:26:15 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: boosting & StandardAnalyzer, stop words
References: <3FD4CF12.6090304@media-style.com>
 <3FD5B43C.3060003@media-style.com> <200312091758.29034.ykingma@xs4all.nl>
 <200312092016.32594.ykingma@xs4all.nl>
In-Reply-To: <200312092016.32594.ykingma@xs4all.nl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>Perhaps we'd better continue this on lucene-dev.
>  
>
Ok, i will subscribe this list and request again. 
Thanks!
Stefan
-- 
open technology: http://www.media-style.com
open source:     http://www.weta-group.net
open discussion: http://www.text-mining.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 08:05:53 2003
Return-Path: 
 <lucene-user-return-6486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79374 invoked from network); 11 Dec 2003 08:05:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 08:05:53 -0000
Received: (qmail 35992 invoked by uid 500); 11 Dec 2003 08:05:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35966 invoked by uid 500); 11 Dec 2003 08:05:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35942 invoked from network); 11 Dec 2003 08:05:23 -0000
Received: from unknown (HELO firewall.avik.biz) (213.227.239.10)
  by daedalus.apache.org with SMTP; 11 Dec 2003 08:05:23 -0000
Received: (qmail 20734 invoked from network); 11 Dec 2003 08:10:16 -0000
Received: from unknown (HELO galaxy.avik.biz) (192.168.1.31)
  by 192.168.1.254 with SMTP; 11 Dec 2003 08:10:16 -0000
Date: Thu, 11 Dec 2003 09:57:56 +0200
From: Igor Semenko <is@avik.biz>
X-Mailer: The Bat! (v1.53d)
Reply-To: Igor Semenko <igor@semenko.com>
X-Priority: 3 (Normal)
Message-ID: <61259034312.20031211095756@semenko.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: Rebuild index?
In-Reply-To: <20031210214619.GD61794@rlx11.zapatec.com>
References: <78186179468.20031210134342@avik.biz>
 <20031210214619.GD61794@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


We are running lucene-1.3-rc2,
I doubt that some process could delete files and I'm sure
the server had not been restarted. I'll have to check whether
there are files in index directory when the problem appear again.


Thanks,
Igor Semenko,
http://www.webfood.us

DM> What version are you running?

DM> Something removed one of the files that Lucene needs while it was using
DM> the index.

DM> Could there have been something running in the background and cleaning
DM> /tmp?


DM> On Wed, Dec 10, 2003 at 01:43:42PM +0200, Igor Semenko wrote:
>> Hello,
>> 
>> We use lucene to search menus, there are around 10000 items in
>> index and sometimes I see error like this:
>> (/tmp/index-menu is index directory)
>> java.io.FileNotFoundException: /tmp/index-menu/_6q2.prx (No such file or directory)
>>         at java.io.RandomAccessFile.open(Native Method)
>>         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>>         at org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:389)
>>         at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:418)
>>         at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:291)
>>         at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:132)
>>         at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:103)
>>         at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:119)
>>         at org.apache.lucene.store.Lock$With.run(Lock.java:148)
>>         at org.apache.lucene.index.IndexReader.open(IndexReader.java:110)
>>         ...
>> 
>> When I just rebuild the index the problem is gone.
>> Could someone hint what can be the reason of such a strange behavior?
>> 
>> -- 
>> Thanks,
>> Igor Semenko,
>> http://www.webfood.us
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 




-- 
Best regards,
 Igor                            mailto:is@avik.biz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 11:53:18 2003
Return-Path: 
 <lucene-user-return-6487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9491 invoked from network); 11 Dec 2003 11:53:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 11:53:18 -0000
Received: (qmail 71720 invoked by uid 500); 11 Dec 2003 11:53:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71641 invoked by uid 500); 11 Dec 2003 11:53:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71627 invoked from network); 11 Dec 2003 11:53:11 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 11 Dec 2003 11:53:11 -0000
Message-ID: <20031211115311.95127.qmail@web12705.mail.yahoo.com>
Received: from [194.152.226.244] by web12705.mail.yahoo.com via HTTP;
 Thu, 11 Dec 2003 03:53:11 PST
Date: Thu, 11 Dec 2003 03:53:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: write.lock
To: Lucene Users List <lucene-user@jakarta.apache.org>, agale@nextgen.net.mt
In-Reply-To: <200312052348.AA257556518@nextgen.net.mt>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think there was a follow-up to this.

Aaron, please provide a listing of the directory that you are using in
IndexWriter constructor.  Is it empty?  What are permissions on it?
When the exception occurs, a file called write.lock should remain in
the directory.  Can you ls -al that file?  Is this Lucene 1.3*?

Maybe you solved the problem already.  This is unlikely a Lucene bug.

Otis



--- Aaron Galea <agale@nextgen.net.mt> wrote:
> Hi
> 
> I am starting to get an error about a write.lock in lucene when
> creating an index in an empty directory. It used to work fine before
> but now it started to occur and as far as I know I didn't touch
> anything. Printing out the stack trace from the excpetion thrown I
> get the following :
> 
> java.io.IOException: couldn't delete write.lock
>         at org.apache.lucene.store.FSDirectory.create(Unknown Source)
>         at org.apache.lucene.store.FSDirectory.getDirectory(Unknown
> Source)
>         at org.apache.lucene.store.FSDirectory.getDirectory(Unknown
> Source)
>         at org.apache.lucene.index.IndexWriter.<init>(Unknown Source)
>         at
> qa.answerextraction.AnswerExtractionImpl.processDocument(Unknown
> Source)
>         at
> qa.answerextraction.AnswerExtractionServerPOA._invoke(Unknown Source)
>        at org.jacorb.poa.RequestProcessor.invokeOperation(Unknown
> Source)
>         at org.jacorb.poa.RequestProcessor.process(Unknown Source)
>         at org.jacorb.poa.RequestProcessor.run(Unknown Source)
> 
> The code creating this problem is:
> 
>                 IndexWriter writer;
> 
>                 try {
>                     writer = new IndexWriter(indexLocation,
> sa,false);
>                 } catch (java.io.IOException e) {                    
>                     writer = new IndexWriter(indexLocation, sa,true);
>                 }
> 
> This problem only happens when indexing the very first file. After
> that it works fine. All that seems it needs in the directory is a
> "segments" file. 
> 
> Could anyone explain to me the problem or what I am doing wrong in
> it?
> 
> regards 
> Aaron 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 11:56:17 2003
Return-Path: 
 <lucene-user-return-6488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10952 invoked from network); 11 Dec 2003 11:56:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 11:56:17 -0000
Received: (qmail 79570 invoked by uid 500); 11 Dec 2003 11:56:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79370 invoked by uid 500); 11 Dec 2003 11:56:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79357 invoked from network); 11 Dec 2003 11:56:11 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 11 Dec 2003 11:56:11 -0000
Message-ID: <20031211115611.8399.qmail@web12702.mail.yahoo.com>
Received: from [194.152.226.244] by web12702.mail.yahoo.com via HTTP;
 Thu, 11 Dec 2003 03:56:11 PST
Date: Thu, 11 Dec 2003 03:56:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Unindexed fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <33D5BBBB077CAD47AA4F225359F4A5E404EB3B21@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't fully understand what you mean by increasing the maximum string
size.  Are you referring to the length of terms in the field, so now
your field can contain terms whose text/string value can have the
size/length of 10,000 bytes?

If that is so, I believe there is an internal (to Lucene) maximal term
length limit, which could be changed.

Otis


--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> is there a limit to the size of an UnIndexed field? i changed my code
> to increase the maximum string size per document from 300 bytes to
> 10,000 and although the index run completes without errors, i never
> find any documents while searching.
> 
> Herb....
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 12:08:12 2003
Return-Path: 
 <lucene-user-return-6489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16880 invoked from network); 11 Dec 2003 12:08:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 12:08:12 -0000
Received: (qmail 93946 invoked by uid 500); 11 Dec 2003 12:08:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93753 invoked by uid 500); 11 Dec 2003 12:08:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93739 invoked from network); 11 Dec 2003 12:08:05 -0000
Received: from unknown (HELO valletta.mt.anvil.com) (80.77.197.238)
  by daedalus.apache.org with SMTP; 11 Dec 2003 12:08:05 -0000
Received: from nextgen.net.mt (mdina.mt.anvil.com [192.168.1.4])
	by valletta.mt.anvil.com (Postfix) with ESMTP
	id C845D72C2E4; Thu, 11 Dec 2003 13:08:41 +0100 (CET)
Message-ID: <3FD85F68.5090404@nextgen.net.mt>
Date: Thu, 11 Dec 2003 13:13:28 +0100
From: Aaron Galea <agale@nextgen.net.mt>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: write.lock
References: <20031211115311.95127.qmail@web12705.mail.yahoo.com>
In-Reply-To: <20031211115311.95127.qmail@web12705.mail.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------050702030402030203060600"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------050702030402030203060600
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi Otis,

I am not at home to provide the information requested about the file and 
lucene but will get back about it this evening. The directory will be 
completely empty and I have all access rights on it as I am able to do 
ls- la on the file. However I did solve this by deleting the lock file 
myself. Whenever IndexerCreator fails to find index before creating the 
index I delete the locks.

Regards
Aaron

Otis Gospodnetic wrote:

>I don't think there was a follow-up to this.
>
>Aaron, please provide a listing of the directory that you are using in
>IndexWriter constructor.  Is it empty?  What are permissions on it?
>When the exception occurs, a file called write.lock should remain in
>the directory.  Can you ls -al that file?  Is this Lucene 1.3*?
>
>Maybe you solved the problem already.  This is unlikely a Lucene bug.
>
>Otis
>
>
>
>--- Aaron Galea <agale@nextgen.net.mt> wrote:
>  
>
>>Hi
>>
>>I am starting to get an error about a write.lock in lucene when
>>creating an index in an empty directory. It used to work fine before
>>but now it started to occur and as far as I know I didn't touch
>>anything. Printing out the stack trace from the excpetion thrown I
>>get the following :
>>
>>java.io.IOException: couldn't delete write.lock
>>        at org.apache.lucene.store.FSDirectory.create(Unknown Source)
>>        at org.apache.lucene.store.FSDirectory.getDirectory(Unknown
>>Source)
>>        at org.apache.lucene.store.FSDirectory.getDirectory(Unknown
>>Source)
>>        at org.apache.lucene.index.IndexWriter.<init>(Unknown Source)
>>        at
>>qa.answerextraction.AnswerExtractionImpl.processDocument(Unknown
>>Source)
>>        at
>>qa.answerextraction.AnswerExtractionServerPOA._invoke(Unknown Source)
>>       at org.jacorb.poa.RequestProcessor.invokeOperation(Unknown
>>Source)
>>        at org.jacorb.poa.RequestProcessor.process(Unknown Source)
>>        at org.jacorb.poa.RequestProcessor.run(Unknown Source)
>>
>>The code creating this problem is:
>>
>>                IndexWriter writer;
>>
>>                try {
>>                    writer = new IndexWriter(indexLocation,
>>sa,false);
>>                } catch (java.io.IOException e) {                    
>>                    writer = new IndexWriter(indexLocation, sa,true);
>>                }
>>
>>This problem only happens when indexing the very first file. After
>>that it works fine. All that seems it needs in the directory is a
>>"segments" file. 
>>
>>Could anyone explain to me the problem or what I am doing wrong in
>>it?
>>
>>regards 
>>Aaron 
>>    
>>
>
>
>__________________________________
>Do you Yahoo!?
>New Yahoo! Photos - easier uploading and sharing.
>http://photos.yahoo.com/
>---
>[This E-mail was scanned for spam and viruses by NextGen.net.]
>
>
>
>  
>


--------------050702030402030203060600--


From MAILER-DAEMON Thu Dec 11 20:51:38 2003
Return-Path: 
 <lucene-user-return-6490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67101 invoked from network); 11 Dec 2003 20:51:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 20:51:38 -0000
Received: (qmail 46057 invoked by uid 500); 11 Dec 2003 20:51:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46006 invoked by uid 500); 11 Dec 2003 20:51:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45959 invoked from network); 11 Dec 2003 20:51:14 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 11 Dec 2003 20:51:14 -0000
Received: from ns2.bloomberg.com (ns2.bloomberg.com [160.43.8.240]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 11 Dec 2003 15:51:18 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns2.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hBBKpHt02557
	for <lucene-user@jakarta.apache.org>; Thu, 11 Dec 2003 15:51:18 -0500 (EST)
Received: from ny2526.corp.bloomberg.com ([172.20.73.28]) by
 ny2528.corp.bloomberg.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 11 Dec 2003 15:51:16 -0500
content-class: urn:content-classes:message
Subject: RE: Unindexed fields
Date: Thu, 11 Dec 2003 15:51:17 -0500
Message-Id: <3B530EF12E388B408ECC3162BA8C00F405CB8E@ny2526.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Unindexed fields
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Thread-Index: AcO/3cqscKQ3dXWoQciwi3AtUbjbmgASlhDA
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 Dec 2003 20:51:16.0691 (UTC)
 FILETIME=[85772A30:01C3C028]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i had an UnIndexed field which was 300 bytes. i changed it to 10,000 =
bytes. i also had a Text field which contains the actual text to be =
indexed. the index created with a single 300 byte UnIndexed field worked =
and i was able to search and find documents. after changing the =
UnIndexed field to 10,000 bytes and creating a new index with the same =
documents, running the same queries produced 0 hits no matter what i =
used as the query.

Herb....

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Thursday, December 11, 2003 6:56 AM
To: Lucene Users List
Subject: Re: Unindexed fields


I don't fully understand what you mean by increasing the maximum string
size.  Are you referring to the length of terms in the field, so now
your field can contain terms whose text/string value can have the
size/length of 10,000 bytes?

If that is so, I believe there is an internal (to Lucene) maximal term
length limit, which could be changed.

Otis

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 20:59:44 2003
Return-Path: 
 <lucene-user-return-6491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71258 invoked from network); 11 Dec 2003 20:59:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 20:59:44 -0000
Received: (qmail 62447 invoked by uid 500); 11 Dec 2003 20:59:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62261 invoked by uid 500); 11 Dec 2003 20:59:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62248 invoked from network); 11 Dec 2003 20:59:27 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 11 Dec 2003 20:59:27 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with SMTP
          id <2003121120593101600fs0vge>; Thu, 11 Dec 2003 20:59:32 +0000
Message-ID: <3FD8DAA3.8000508@lucene.com>
Date: Thu, 11 Dec 2003 12:59:15 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Unindexed fields
References: <3B530EF12E388B408ECC3162BA8C00F405CB8E@ny2526.corp.bloomberg.com>
In-Reply-To: 
 <3B530EF12E388B408ECC3162BA8C00F405CB8E@ny2526.corp.bloomberg.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stored fields should be able to hold values with up to Integer.MAX_VALUE 
characters, as should an indexed term.  Can you please provide a 
complete, self-contained test case?

Doug

Chong, Herb wrote:
> i had an UnIndexed field which was 300 bytes. i changed it to 10,000 bytes. i also had a Text field which contains the actual text to be indexed. the index created with a single 300 byte UnIndexed field worked and i was able to search and find documents. after changing the UnIndexed field to 10,000 bytes and creating a new index with the same documents, running the same queries produced 0 hits no matter what i used as the query.
> 
> Herb....
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Thursday, December 11, 2003 6:56 AM
> To: Lucene Users List
> Subject: Re: Unindexed fields
> 
> 
> I don't fully understand what you mean by increasing the maximum string
> size.  Are you referring to the length of terms in the field, so now
> your field can contain terms whose text/string value can have the
> size/length of 10,000 bytes?
> 
> If that is so, I believe there is an internal (to Lucene) maximal term
> length limit, which could be changed.
> 
> Otis
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 21:02:47 2003
Return-Path: 
 <lucene-user-return-6493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72929 invoked from network); 11 Dec 2003 21:02:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 21:02:47 -0000
Received: (qmail 72048 invoked by uid 500); 11 Dec 2003 21:02:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71916 invoked by uid 500); 11 Dec 2003 21:02:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71821 invoked from network); 11 Dec 2003 21:02:17 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 11 Dec 2003 21:02:17 -0000
Received: from smail.uni-koeln.de (xdsl-195-14-206-142.netcologne.de
 [195.14.206.142])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBBL2Ih5013858
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 11 Dec 2003 22:02:20 +0100
Message-ID: <3FD8DB08.6020302@smail.uni-koeln.de>
Date: Thu, 11 Dec 2003 22:00:56 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: build a case insensitive index
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Lucene Users

i need a document term matrix to initialize a neural network, that i 
want to use to integrate user feedback in the retrieval process.

until now, i am using a slightly modified class of the IndexHTML example.

how can i create an index of all the terms in a collection without 
"term" and "Term" being indexed twice?

in the example, a standard analyzer is used, and in the documentation it 
sais :


Filters StandardTokenizer with StandardFilter, LowerCaseFilter and 
StopFilter.

So, why do i get double entries for terms in upper- and lower case writing?


Regards.

Thomas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 21:02:11 2003
Return-Path: 
 <lucene-user-return-6492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72664 invoked from network); 11 Dec 2003 21:02:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 21:02:11 -0000
Received: (qmail 70812 invoked by uid 500); 11 Dec 2003 21:01:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70784 invoked by uid 500); 11 Dec 2003 21:01:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70771 invoked from network); 11 Dec 2003 21:01:54 -0000
Received: from unknown (HELO mh1dmz1.bloomberg.com) (199.172.169.36)
  by daedalus.apache.org with SMTP; 11 Dec 2003 21:01:54 -0000
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by
 mh1dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 11 Dec 2003 16:01:59 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id hBBL1wO00611
	for <lucene-user@jakarta.apache.org>; Thu, 11 Dec 2003 16:01:59 -0500 (EST)
Received: from ny2526.corp.bloomberg.com ([172.20.73.28]) by
 ny2528.corp.bloomberg.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 11 Dec 2003 16:01:57 -0500
content-class: urn:content-classes:message
Subject: RE: Unindexed fields
Date: Thu, 11 Dec 2003 16:01:58 -0500
Message-Id: <3B530EF12E388B408ECC3162BA8C00F405CB90@ny2526.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Unindexed fields
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Thread-Index: AcPAKbViHA8uRLrkR8O9TpKawQ/1YQAAC6RQ
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 Dec 2003 21:01:58.0050 (UTC)
 FILETIME=[03BEC820:01C3C02A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i would like to, but the documents contain confidential content. i don't =
know if i can reproduce the problem with another set of documents.

Herb....

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Thursday, December 11, 2003 3:59 PM
To: Lucene Users List
Subject: Re: Unindexed fields


Stored fields should be able to hold values with up to Integer.MAX_VALUE =

characters, as should an indexed term.  Can you please provide a=20
complete, self-contained test case?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 22:10:03 2003
Return-Path: 
 <lucene-user-return-6494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1732 invoked from network); 11 Dec 2003 22:10:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 22:10:03 -0000
Received: (qmail 83439 invoked by uid 500); 11 Dec 2003 22:09:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83337 invoked by uid 500); 11 Dec 2003 22:09:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83324 invoked from network); 11 Dec 2003 22:09:45 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 11 Dec 2003 22:09:45 -0000
Message-ID: <20031211220952.39117.qmail@web12708.mail.yahoo.com>
Received: from [195.29.48.7] by web12708.mail.yahoo.com via HTTP;
 Thu, 11 Dec 2003 14:09:52 PST
Date: Thu, 11 Dec 2003 14:09:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Unindexed fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <3B530EF12E388B408ECC3162BA8C00F405CB90@ny2526.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please try.  I find this (the originally described problem) hard to
believe. :)

Otis

--- "Chong, Herb" <HChong3@bloomberg.com> wrote:
> i would like to, but the documents contain confidential content. i
> don't know if i can reproduce the problem with another set of
> documents.
> 
> Herb....
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Thursday, December 11, 2003 3:59 PM
> To: Lucene Users List
> Subject: Re: Unindexed fields
> 
> 
> Stored fields should be able to hold values with up to
> Integer.MAX_VALUE 
> characters, as should an indexed term.  Can you please provide a 
> complete, self-contained test case?
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 11 23:50:02 2003
Return-Path: 
 <lucene-user-return-6495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43069 invoked from network); 11 Dec 2003 23:50:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Dec 2003 23:50:02 -0000
Received: (qmail 34279 invoked by uid 500); 11 Dec 2003 23:49:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34065 invoked by uid 500); 11 Dec 2003 23:49:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34052 invoked from network); 11 Dec 2003 23:49:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 11 Dec 2003 23:49:42 -0000
Received: (cpmta 22449 invoked from network); 11 Dec 2003 15:49:49 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 11 Dec 2003 15:49:49 -0800
X-Sent: 11 Dec 2003 23:49:49 GMT
Date: Thu, 11 Dec 2003 18:49:48 -0500
Subject: Re: build a case insensitive index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3FD8DB08.6020302@smail.uni-koeln.de>
Message-Id: <B4B6B05C-2C34-11D8-AE35-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Thursday, December 11, 2003, at 04:00  PM, Thomas Kr=E4mer wrote:
> how can i create an index of all the terms in a collection without=20
> "term" and "Term" being indexed twice?
>
> in the example, a standard analyzer is used, and in the documentation=20=

> it sais :
>
>
> Filters StandardTokenizer with StandardFilter, LowerCaseFilter and=20
> StopFilter.
>
> So, why do i get double entries for terms in upper- and lower case=20
> writing?

Could you provide us some code that shows how you are indexing, and=20
also how you are seeing the indexed terms?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 09:25:13 2003
Return-Path: 
 <lucene-user-return-6496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85607 invoked from network); 12 Dec 2003 09:25:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 09:25:13 -0000
Received: (qmail 61192 invoked by uid 500); 12 Dec 2003 09:24:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61058 invoked by uid 500); 12 Dec 2003 09:24:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60965 invoked from network); 12 Dec 2003 09:24:40 -0000
Received: from unknown (HELO smtp14.singnet.com.sg) (165.21.6.24)
  by daedalus.apache.org with SMTP; 12 Dec 2003 09:24:40 -0000
Received: from HP29375324311 ([155.69.58.210])
	by smtp14.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hBC9OkM5002108
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 17:24:51 +0800
Message-Id: <200312120924.hBC9OkM5002108@smtp14.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: Chinese input.
Date: Fri, 12 Dec 2003 17:24:46 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3C0D4.D77B2F00"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcPAkcgBH7xqM/pWTPedEida23OJGw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3C0D4.D77B2F00
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

Has anyone tried Chinese input text on Lucene for searching?

Hope to hear from someone soon. :-)


------=_NextPart_000_0000_01C3C0D4.D77B2F00--



From MAILER-DAEMON Fri Dec 12 13:30:45 2003
Return-Path: 
 <lucene-user-return-6497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9940 invoked from network); 12 Dec 2003 13:30:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 13:30:45 -0000
Received: (qmail 66511 invoked by uid 500); 12 Dec 2003 13:30:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66466 invoked by uid 500); 12 Dec 2003 13:30:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66379 invoked from network); 12 Dec 2003 13:30:18 -0000
Received: from unknown (HELO mailserv.certifyonline.com) (207.179.177.195)
  by daedalus.apache.org with SMTP; 12 Dec 2003 13:30:18 -0000
Received: from shannon (colfire.certifyonline.com [207.179.177.193])
	by mailserv.certifyonline.com (8.11.6/8.11.6) with ESMTP id hBCDUEH05734
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 09:30:14 -0400
From: "Shannon March" <smarch@certifyonline.com>
To: <lucene-user@jakarta.apache.org>
Subject: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 09:30:09 -0400
Message-ID: <000301c3c0b4$131c8bb0$9900a8c0@shannon>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01C3C092.8C0AEBB0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.7, required 5,
	BAYES_00 -4.90, HTML_70_80 0.10, HTML_MESSAGE 0.10)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0004_01C3C092.8C0AEBB0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi
 
Has anyone tried to implement a counter using Lucene.
 
We currently have a search implemented, searching multiple indexes and
returning the results in a Vector of hits objects.  In order to get our
total number of hits for a count of the total results we are cycling
through our vector, and for each of the hits objects we are using the
length() method to get a total.
 
However the total number we receive is not accurate.  For example in a
search which returns 52 results, we are getting approx 55 or 56 results.
For searches with higher results, the size of the error increases, but
it would not be double for the a search with approx 100 results.
 
Does anyone have any ideas?  We're using Lucene 1.3.
 
 
Thanks for your help;
 
 
Shannon

------=_NextPart_000_0004_01C3C092.8C0AEBB0--


From MAILER-DAEMON Fri Dec 12 13:45:11 2003
Return-Path: 
 <lucene-user-return-6499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20190 invoked from network); 12 Dec 2003 13:45:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 13:45:11 -0000
Received: (qmail 93255 invoked by uid 500); 12 Dec 2003 13:44:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93216 invoked by uid 500); 12 Dec 2003 13:44:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93166 invoked from network); 12 Dec 2003 13:44:56 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 12 Dec 2003 13:44:56 -0000
Received: (cpmta 27648 invoked from network); 12 Dec 2003 05:44:57 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 12 Dec 2003 05:44:57 -0800
X-Sent: 12 Dec 2003 13:44:57 GMT
Date: Fri, 12 Dec 2003 08:44:57 -0500
Subject: Re: Has anyone tried to implement a counter?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000301c3c0b4$131c8bb0$9900a8c0@shannon>
Message-Id: <5FA8AD8A-2CA9-11D8-971C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Shannon,  I'm not following what the issue is here.  Any chance you 
could show us some (succinct) code that illustrates things clearer?

	Erik


On Friday, December 12, 2003, at 08:30  AM, Shannon March wrote:

> Hi
>
> Has anyone tried to implement a counter using Lucene.
>
> We currently have a search implemented, searching multiple indexes and
> returning the results in a Vector of hits objects.  In order to get our
> total number of hits for a count of the total results we are cycling
> through our vector, and for each of the hits objects we are using the
> length() method to get a total.
>
> However the total number we receive is not accurate.  For example in a
> search which returns 52 results, we are getting approx 55 or 56 
> results.
> For searches with higher results, the size of the error increases, but
> it would not be double for the a search with approx 100 results.
>
> Does anyone have any ideas?  We're using Lucene 1.3.
>
>
> Thanks for your help;
>
>
> Shannon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 13:40:37 2003
Return-Path: 
 <lucene-user-return-6498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16389 invoked from network); 12 Dec 2003 13:40:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 13:40:37 -0000
Received: (qmail 81850 invoked by uid 500); 12 Dec 2003 13:40:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81825 invoked by uid 500); 12 Dec 2003 13:40:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81810 invoked from network); 12 Dec 2003 13:40:29 -0000
Received: from unknown (HELO mail.eastech.ca) (24.138.31.110)
  by daedalus.apache.org with SMTP; 12 Dec 2003 13:40:29 -0000
Received: from Spooler by mail.eastech.ca (Mercury/32 v3.30) ID MO0075E8;
    12 Dec 03 09:57:36 -0400
Received: from spooler by mail.eastech.ca (Mercury/32 v3.30);
 12 Dec 03 09:56:30 -0400
Received: from PENNEYK (192.168.10.77) by mail.eastech.ca (Mercury/32 v3.30)
 with ESMTP ID MG0075E7;
   12 Dec 03 09:56:26 -0400
Message-ID: <002c01c3c0b6$42cb33a0$4d0aa8c0@PENNEYK>
From: "Karl Penney" <karl.penney@eastech.ca>
To: <lucene-user@jakarta.apache.org>
Subject: How to get list of unique field values for a subset of documents
Date: Fri, 12 Dec 2003 09:45:53 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0029_01C3C094.BB8711F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0029_01C3C094.BB8711F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm looking for a fast way (execution wise) to get a list of unique =
values for a field called "partno" for all documents which have a given =
value for a field called "type".  This is for adding values to a =
drop-down list.

What I have done so far is to build a list of document numbers for each =
value of the "type" field (using TermEnum and TermDocs).  I then use =
TermEnum to get a list of values for the "partno" field.  This returns =
values for all of the documents, so for each "partno" value I use =
TermDocs to get a list of document numbers for the "partno" and then =
cross check this list against the document list for "type".  If at least =
one of the "partno" documents is in the "type" list then I know that the =
"partno" value is valid for that "type" value.

This works ok, but is not as fast as I would like it to be.  Any ideas =
on how to improve it?

Here is some sample code:

// build list of document numbers for each value of the type field
TermEnum te =3D reader.terms(new Term("type", ""));
typeMap =3D new HashMap();
while (te.term() !=3D null && "type".equals(te.term().field())) {
  String type =3D te.term().text();
  TermDocs docs =3D reader.termDocs(new Term("type", type));
  ArrayList typelist =3D new ArrayList();
  while (docs.next()) {
    String docnum =3D String.valueOf(docs.doc());
    typelist.add(docnum);
  }
  typeMap.put(type, doclist);
  te.next();=20
}

// add partno values to dropdown for type-1
ArrayList doclist =3D (ArrayList)typeMap.get("type-1");
if (doclist !=3D null) {
    // get unique for values for the partno field from the index
    TermEnum te =3D reader.terms(new Term("partno", ""));
    while (te.term() !=3D null && "partno".equals(te.term().field())) {
        String value =3D te.term().text();
        // check that at least one document with the "partno" value is =
in the list for type-1
        TermDocs docs =3D reader.termDocs(new Term("partno", value));
        while (docs.next()) {
            String docnum =3D String.valueOf(docs.doc());
            if (doclist.contains(docnum)) {
                // add value to drop down
                cbo.add(value.toUpperCase());
                break;
            }
        }
        te.next();           =20
    }
}



------=_NextPart_000_0029_01C3C094.BB8711F0--


From MAILER-DAEMON Fri Dec 12 15:14:07 2003
Return-Path: 
 <lucene-user-return-6500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74659 invoked from network); 12 Dec 2003 15:14:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 15:14:07 -0000
Received: (qmail 497 invoked by uid 500); 12 Dec 2003 15:13:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 437 invoked by uid 500); 12 Dec 2003 15:13:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 423 invoked from network); 12 Dec 2003 15:13:57 -0000
Received: from unknown (HELO mailserv.certifyonline.com) (207.179.177.195)
  by daedalus.apache.org with SMTP; 12 Dec 2003 15:13:57 -0000
Received: from shannon (colfire.certifyonline.com [207.179.177.193])
	by mailserv.certifyonline.com (8.11.6/8.11.6) with ESMTP id hBCFDtH14363
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 11:13:55 -0400
From: "Shannon March" <smarch@certifyonline.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 11:13:49 -0400
Message-ID: <000e01c3c0c2$8f3528c0$9900a8c0@shannon>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <5FA8AD8A-2CA9-11D8-971C-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.9, required 5,
	BAYES_00 -4.90)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, thanks for replying.

For example

I run a search, and when I use the length() method in the hits object to
display the total number of hits/results I get a result of 52.  However
when I display the contents of the hits object to a page, I am getting
57 or 58 results on the page.  5 or 6 more results than is shown from
the length() method in the hits object.



Shannon

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Friday, December 12, 2003 9:45 AM
To: Lucene Users List
Subject: Re: Has anyone tried to implement a counter?

Shannon,  I'm not following what the issue is here.  Any chance you 
could show us some (succinct) code that illustrates things clearer?

	Erik


On Friday, December 12, 2003, at 08:30  AM, Shannon March wrote:

> Hi
>
> Has anyone tried to implement a counter using Lucene.
>
> We currently have a search implemented, searching multiple indexes and
> returning the results in a Vector of hits objects.  In order to get
our
> total number of hits for a count of the total results we are cycling
> through our vector, and for each of the hits objects we are using the
> length() method to get a total.
>
> However the total number we receive is not accurate.  For example in a
> search which returns 52 results, we are getting approx 55 or 56 
> results.
> For searches with higher results, the size of the error increases, but
> it would not be double for the a search with approx 100 results.
>
> Does anyone have any ideas?  We're using Lucene 1.3.
>
>
> Thanks for your help;
>
>
> Shannon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 15:40:18 2003
Return-Path: 
 <lucene-user-return-6501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90227 invoked from network); 12 Dec 2003 15:40:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 15:40:18 -0000
Received: (qmail 77439 invoked by uid 500); 12 Dec 2003 15:40:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77413 invoked by uid 500); 12 Dec 2003 15:40:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77400 invoked from network); 12 Dec 2003 15:40:08 -0000
Received: from unknown (HELO c011.snv.cp.net) (209.228.34.214)
  by daedalus.apache.org with SMTP; 12 Dec 2003 15:40:08 -0000
Received: (cpmta 17193 invoked from network); 12 Dec 2003 07:40:09 -0800
Received: from 68.50.73.199 (HELO medined01)
  by smtp.mtolive.com (209.228.34.214) with SMTP; 12 Dec 2003 07:40:09 -0800
X-Sent: 12 Dec 2003 15:40:09 GMT
Message-ID: <005701c3c0c6$37942860$9ea5fea9@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000e01c3c0c2$8f3528c0$9900a8c0@shannon>
Subject: Re: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 10:40:05 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> 57 or 58 results on the page.  5 or 6 more results than is shown from
> the length() method in the hits object.

Could you be seeing deleted documents?

David Medinets
http://www.codebits.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 15:45:50 2003
Return-Path: 
 <lucene-user-return-6502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93407 invoked from network); 12 Dec 2003 15:45:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 15:45:50 -0000
Received: (qmail 84478 invoked by uid 500); 12 Dec 2003 15:45:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84451 invoked by uid 500); 12 Dec 2003 15:45:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84438 invoked from network); 12 Dec 2003 15:45:39 -0000
Received: from unknown (HELO mailserv.certifyonline.com) (207.179.177.195)
  by daedalus.apache.org with SMTP; 12 Dec 2003 15:45:39 -0000
Received: from shannon (colfire.certifyonline.com [207.179.177.193])
	by mailserv.certifyonline.com (8.11.6/8.11.6) with ESMTP id hBCFjYH16950
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 11:45:35 -0400
From: "Shannon March" <smarch@certifyonline.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 11:45:29 -0400
Message-ID: <000f01c3c0c6$fb7c70c0$9900a8c0@shannon>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <005701c3c0c6$37942860$9ea5fea9@medined01>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.9, required 5,
	BAYES_00 -4.90)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think it's deleted documents.

I have just created a fresh index of some html files (java api, linux
howto,etc...) for testing purposes.  


----Original Message-----
From: David Medinets [mailto:medined@mtolive.com] 
Sent: Friday, December 12, 2003 11:40 AM
To: Lucene Users List
Subject: Re: Has anyone tried to implement a counter?

> 57 or 58 results on the page.  5 or 6 more results than is shown from
> the length() method in the hits object.

Could you be seeing deleted documents?

David Medinets
http://www.codebits.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 15:51:03 2003
Return-Path: 
 <lucene-user-return-6503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96470 invoked from network); 12 Dec 2003 15:51:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 15:51:03 -0000
Received: (qmail 3544 invoked by uid 500); 12 Dec 2003 15:50:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3516 invoked by uid 500); 12 Dec 2003 15:50:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3499 invoked from network); 12 Dec 2003 15:50:52 -0000
Received: from unknown (HELO mailserv.certifyonline.com) (207.179.177.195)
  by daedalus.apache.org with SMTP; 12 Dec 2003 15:50:52 -0000
Received: from shannon (colfire.certifyonline.com [207.179.177.193])
	by mailserv.certifyonline.com (8.11.6/8.11.6) with ESMTP id hBCFolH17396
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 11:50:47 -0400
From: "Shannon March" <smarch@certifyonline.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 11:50:42 -0400
Message-ID: <001001c3c0c7$b5959590$9900a8c0@shannon>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <005701c3c0c6$37942860$9ea5fea9@medined01>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.9, required 5,
	BAYES_00 -4.90)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just to clarify what I'm trying to do, I'm trying to get something that
looks like the following on the top of each page:

Displaying results 1 to 10 of 50.



Shannon

-----Original Message-----
From: David Medinets [mailto:medined@mtolive.com] 
Sent: Friday, December 12, 2003 11:40 AM
To: Lucene Users List
Subject: Re: Has anyone tried to implement a counter?

> 57 or 58 results on the page.  5 or 6 more results than is shown from
> the length() method in the hits object.

Could you be seeing deleted documents?

David Medinets
http://www.codebits.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 15:56:33 2003
Return-Path: 
 <lucene-user-return-6504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 218 invoked from network); 12 Dec 2003 15:56:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 15:56:33 -0000
Received: (qmail 20837 invoked by uid 500); 12 Dec 2003 15:56:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20793 invoked by uid 500); 12 Dec 2003 15:56:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20749 invoked from network); 12 Dec 2003 15:56:19 -0000
Received: from unknown (HELO mhro1.mayo.edu) (129.176.212.21)
  by daedalus.apache.org with SMTP; 12 Dec 2003 15:56:19 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 12 Dec 2003 09:56:18 -0600
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <V3BY4147>; Fri, 12 Dec 2003 09:56:17 -0600
Message-Id: <818623B5FD23D51193200002B32C07610D897C03@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: build a case insensitive index
Date: Fri, 12 Dec 2003 09:56:07 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe that if you enter an identical document twice, when you =
search, you will get it back twice.  If you don't want duplicate =
results, I think you will need to keep a hashset of the terms you have =
already indexed, and not add the document of the lowercase values are =
equal (or something along those lines)

Dan

-----Original Message-----
From: Thomas Kr=E4mer [mailto:kraemert@smail.uni-koeln.de]=20
Sent: Thursday, December 11, 2003 3:01 PM
To: Lucene Users List
Subject: build a case insensitive index


Hello Lucene Users

i need a document term matrix to initialize a neural network, that i=20
want to use to integrate user feedback in the retrieval process.

until now, i am using a slightly modified class of the IndexHTML =
example.

how can i create an index of all the terms in a collection without=20
"term" and "Term" being indexed twice?

in the example, a standard analyzer is used, and in the documentation =
it=20
sais :


Filters StandardTokenizer with StandardFilter, LowerCaseFilter and=20
StopFilter.

So, why do i get double entries for terms in upper- and lower case =
writing?


Regards.

Thomas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 16:36:14 2003
Return-Path: 
 <lucene-user-return-6505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26622 invoked from network); 12 Dec 2003 16:36:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 16:36:14 -0000
Received: (qmail 97857 invoked by uid 500); 12 Dec 2003 16:36:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97829 invoked by uid 500); 12 Dec 2003 16:36:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97816 invoked from network); 12 Dec 2003 16:36:02 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 12 Dec 2003 16:36:02 -0000
Received: (cpmta 28864 invoked from network); 12 Dec 2003 08:36:04 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 12 Dec 2003 08:36:04 -0800
X-Sent: 12 Dec 2003 16:36:04 GMT
Date: Fri, 12 Dec 2003 11:36:04 -0500
Subject: Re: Has anyone tried to implement a counter?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000e01c3c0c2$8f3528c0$9900a8c0@shannon>
Message-Id: <479D23E9-2CC1-11D8-971C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

again, how 'bout some code?!  :)



On Friday, December 12, 2003, at 10:13  AM, Shannon March wrote:

> Hi, thanks for replying.
>
> For example
>
> I run a search, and when I use the length() method in the hits object 
> to
> display the total number of hits/results I get a result of 52.  However
> when I display the contents of the hits object to a page, I am getting
> 57 or 58 results on the page.  5 or 6 more results than is shown from
> the length() method in the hits object.
>
>
>
> Shannon
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 12, 2003 9:45 AM
> To: Lucene Users List
> Subject: Re: Has anyone tried to implement a counter?
>
> Shannon,  I'm not following what the issue is here.  Any chance you
> could show us some (succinct) code that illustrates things clearer?
>
> 	Erik
>
>
> On Friday, December 12, 2003, at 08:30  AM, Shannon March wrote:
>
>> Hi
>>
>> Has anyone tried to implement a counter using Lucene.
>>
>> We currently have a search implemented, searching multiple indexes and
>> returning the results in a Vector of hits objects.  In order to get
> our
>> total number of hits for a count of the total results we are cycling
>> through our vector, and for each of the hits objects we are using the
>> length() method to get a total.
>>
>> However the total number we receive is not accurate.  For example in a
>> search which returns 52 results, we are getting approx 55 or 56
>> results.
>> For searches with higher results, the size of the error increases, but
>> it would not be double for the a search with approx 100 results.
>>
>> Does anyone have any ideas?  We're using Lucene 1.3.
>>
>>
>> Thanks for your help;
>>
>>
>> Shannon
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 17:05:20 2003
Return-Path: 
 <lucene-user-return-6506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42227 invoked from network); 12 Dec 2003 17:05:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 17:05:20 -0000
Received: (qmail 55931 invoked by uid 500); 12 Dec 2003 17:05:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55904 invoked by uid 500); 12 Dec 2003 17:05:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55891 invoked from network); 12 Dec 2003 17:05:08 -0000
Received: from unknown (HELO mailserv.certifyonline.com) (207.179.177.195)
  by daedalus.apache.org with SMTP; 12 Dec 2003 17:05:08 -0000
Received: from shannon (colfire.certifyonline.com [207.179.177.193])
	by mailserv.certifyonline.com (8.11.6/8.11.6) with ESMTP id hBCH56H23657
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 13:05:06 -0400
From: "Shannon March" <smarch@certifyonline.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Has anyone tried to implement a counter?
Date: Fri, 12 Dec 2003 13:05:02 -0400
Message-ID: <001101c3c0d2$17d5f970$9900a8c0@shannon>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <479D23E9-2CC1-11D8-971C-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.9, required 5,
	BAYES_00 -4.90)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I found my problem, it was caused by the display logic in my display
jsp.  

Thanks for all your replies though.



Shannon

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Friday, December 12, 2003 12:36 PM
To: Lucene Users List
Subject: Re: Has anyone tried to implement a counter?

again, how 'bout some code?!  :)



On Friday, December 12, 2003, at 10:13  AM, Shannon March wrote:

> Hi, thanks for replying.
>
> For example
>
> I run a search, and when I use the length() method in the hits object 
> to
> display the total number of hits/results I get a result of 52.
However
> when I display the contents of the hits object to a page, I am getting
> 57 or 58 results on the page.  5 or 6 more results than is shown from
> the length() method in the hits object.
>
>
>
> Shannon
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, December 12, 2003 9:45 AM
> To: Lucene Users List
> Subject: Re: Has anyone tried to implement a counter?
>
> Shannon,  I'm not following what the issue is here.  Any chance you
> could show us some (succinct) code that illustrates things clearer?
>
> 	Erik
>
>
> On Friday, December 12, 2003, at 08:30  AM, Shannon March wrote:
>
>> Hi
>>
>> Has anyone tried to implement a counter using Lucene.
>>
>> We currently have a search implemented, searching multiple indexes
and
>> returning the results in a Vector of hits objects.  In order to get
> our
>> total number of hits for a count of the total results we are cycling
>> through our vector, and for each of the hits objects we are using the
>> length() method to get a total.
>>
>> However the total number we receive is not accurate.  For example in
a
>> search which returns 52 results, we are getting approx 55 or 56
>> results.
>> For searches with higher results, the size of the error increases,
but
>> it would not be double for the a search with approx 100 results.
>>
>> Does anyone have any ideas?  We're using Lucene 1.3.
>>
>>
>> Thanks for your help;
>>
>>
>> Shannon
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 17:08:30 2003
Return-Path: 
 <lucene-user-return-6507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43952 invoked from network); 12 Dec 2003 17:08:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 17:08:30 -0000
Received: (qmail 66875 invoked by uid 500); 12 Dec 2003 17:08:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66845 invoked by uid 500); 12 Dec 2003 17:08:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66832 invoked from network); 12 Dec 2003 17:08:17 -0000
Received: from unknown (HELO sideshow.mainstreamdata.com) (209.63.42.31)
  by daedalus.apache.org with SMTP; 12 Dec 2003 17:08:17 -0000
Received: by sideshow.mainstreamdata.com with Internet Mail Service
 (5.5.2657.72)
	id <WNK6F5YZ>; Fri, 12 Dec 2003 10:08:20 -0700
Message-ID: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF780694@sideshow.mainstreamdata.com>
From: Scott Smith <SSmith@MainstreamData.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Chinese input.
Date: Fri, 12 Dec 2003 10:08:19 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'd go look at weblucene (http://www.chedong.com/tech/weblucene.html)

-----Original Message-----
From: Tun Lin [mailto:chentun@singnet.com.sg] 
Sent: Friday, December 12, 2003 2:25 AM
To: Lucene user list
Subject: Chinese input.


Hi,

Has anyone tried Chinese input text on Lucene for searching?

Hope to hear from someone soon. :-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 18:17:56 2003
Return-Path: 
 <lucene-user-return-6508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73296 invoked from network); 12 Dec 2003 18:17:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 18:17:56 -0000
Received: (qmail 89030 invoked by uid 500); 12 Dec 2003 18:17:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89002 invoked by uid 500); 12 Dec 2003 18:17:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88989 invoked from network); 12 Dec 2003 18:17:43 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 12 Dec 2003 18:17:43 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 4038F5D22
	for <lucene-user@jakarta.apache.org>; Fri, 12 Dec 2003 10:17:47 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBCIHlFd075768
	for lucene-user@jakarta.apache.org; Fri, 12 Dec 2003 10:17:47 -0800 (PST)
	(envelope-from dror)
Date: Fri, 12 Dec 2003 10:17:47 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to get list of unique field values for a subset of documents
Message-ID: <20031212181747.GF61794@rlx11.zapatec.com>
References: <002c01c3c0b6$42cb33a0$4d0aa8c0@PENNEYK>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <002c01c3c0b6$42cb33a0$4d0aa8c0@PENNEYK>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Some details about number of documents, size of documents, hardware
used and what you consider fast would help answering, but my gut
feeling is that this problem would work faster on a database
than using full text search.

On Fri, Dec 12, 2003 at 09:45:53AM -0400, Karl Penney wrote:
> I'm looking for a fast way (execution wise) to get a list of unique values for a field called "partno" for all documents which have a given value for a field called "type".  This is for adding values to a drop-down list.
> 
> What I have done so far is to build a list of document numbers for each value of the "type" field (using TermEnum and TermDocs).  I then use TermEnum to get a list of values for the "partno" field.  This returns values for all of the documents, so for each "partno" value I use TermDocs to get a list of document numbers for the "partno" and then cross check this list against the document list for "type".  If at least one of the "partno" documents is in the "type" list then I know that the "partno" value is valid for that "type" value.
> 
> This works ok, but is not as fast as I would like it to be.  Any ideas on how to improve it?
> 
> Here is some sample code:
> 
> // build list of document numbers for each value of the type field
> TermEnum te = reader.terms(new Term("type", ""));
> typeMap = new HashMap();
> while (te.term() != null && "type".equals(te.term().field())) {
>   String type = te.term().text();
>   TermDocs docs = reader.termDocs(new Term("type", type));
>   ArrayList typelist = new ArrayList();
>   while (docs.next()) {
>     String docnum = String.valueOf(docs.doc());
>     typelist.add(docnum);
>   }
>   typeMap.put(type, doclist);
>   te.next(); 
> }
> 
> // add partno values to dropdown for type-1
> ArrayList doclist = (ArrayList)typeMap.get("type-1");
> if (doclist != null) {
>     // get unique for values for the partno field from the index
>     TermEnum te = reader.terms(new Term("partno", ""));
>     while (te.term() != null && "partno".equals(te.term().field())) {
>         String value = te.term().text();
>         // check that at least one document with the "partno" value is in the list for type-1
>         TermDocs docs = reader.termDocs(new Term("partno", value));
>         while (docs.next()) {
>             String docnum = String.valueOf(docs.doc());
>             if (doclist.contains(docnum)) {
>                 // add value to drop down
>                 cbo.add(value.toUpperCase());
>                 break;
>             }
>         }
>         te.next();            
>     }
> }
> 
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 21:12:39 2003
Return-Path: 
 <lucene-user-return-6509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58093 invoked from network); 12 Dec 2003 21:12:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 21:12:39 -0000
Received: (qmail 6141 invoked by uid 500); 12 Dec 2003 21:12:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6109 invoked by uid 500); 12 Dec 2003 21:12:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6096 invoked from network); 12 Dec 2003 21:12:22 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 12 Dec 2003 21:12:22 -0000
Received: from ol114-184.fibertel.com.ar ([24.232.184.114] helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AUuaC-0006AD-Uj
	for lucene-user@jakarta.apache.org; Fri, 12 Dec 2003 15:12:21 -0600
Message-ID: <015301c3c0f5$92423980$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: syntax of queries.
Date: Fri, 12 Dec 2003 18:19:03 -0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0150_01C3C0DC.6BFD8220"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0150_01C3C0DC.6BFD8220
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I not undertanding the syntax of queries.
I search with this string:

title: (importar) ^5.0 OR title: (arquivos)=20

return 6 hits.

and with this:=20

title: (arquivos) OR title: (importar) ^5.0=20

27 hits.

why?
in the first, I think that work like AND, but, why? :-(

Regards, Ernesto.

------=_NextPart_000_0150_01C3C0DC.6BFD8220--


From MAILER-DAEMON Fri Dec 12 21:25:31 2003
Return-Path: 
 <lucene-user-return-6510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62397 invoked from network); 12 Dec 2003 21:25:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 21:25:31 -0000
Received: (qmail 20417 invoked by uid 500); 12 Dec 2003 21:25:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20369 invoked by uid 500); 12 Dec 2003 21:25:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20309 invoked from network); 12 Dec 2003 21:25:12 -0000
Received: from unknown (HELO sideshow.mainstreamdata.com) (209.63.42.31)
  by daedalus.apache.org with SMTP; 12 Dec 2003 21:25:12 -0000
Received: by sideshow.mainstreamdata.com with Internet Mail Service
 (5.5.2657.72)
	id <WNK6F6H8>; Fri, 12 Dec 2003 14:25:17 -0700
Message-ID: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF7806A2@sideshow.mainstreamdata.com>
From: Scott Smith <SSmith@MainstreamData.com>
To: "'Lucene User List (lucene-user@jakarta.apache.org)'"
	 <lucene-user@jakarta.apache.org>
Subject: Lucene Art
Date: Fri, 12 Dec 2003 14:25:16 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not having a problem.  The question is whether I picked a reasonable set
of parameters for what I'm doing.

I have an application which receives messages.  Each message averages around
4k bytes and I get, on average, 0-10 every minute.  So my application simply
wakes up once each minute, opens an IndexWriter, creates Docs for each
message, adds them to the index, and then closes the index writer.  Once per
day I optimize the index.  The access to the index is via webpages (so
multiple simultaneous accesses can occur and I don't want too much latency
between a message arriving and it's availability in the index).  Based on
posts I saw in the user archives, I set the mergeFactor to 10 (which I think
is the default anyway).  I probably get 10-20 MB's per day and I'll want to
index 60 day's of messages (so 600MB to 1.2GB of messages).

Does this sound like a reasonable approach?  Any parameters I should change?
Any others I should be setting?  So far it is working fine, but I haven't
had enough messages to see how things perform when the index gets large and
I am new to using Lucene.  Wondered what people with more experience with
Lucene thought.  I'm using 1.3RC3 if it matters.

Scott 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 21:48:21 2003
Return-Path: 
 <lucene-user-return-6511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70694 invoked from network); 12 Dec 2003 21:48:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 21:48:21 -0000
Received: (qmail 55737 invoked by uid 500); 12 Dec 2003 21:47:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55708 invoked by uid 500); 12 Dec 2003 21:47:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55657 invoked from network); 12 Dec 2003 21:47:56 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 12 Dec 2003 21:47:56 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc13) with SMTP
          id <2003121221475901600rp1gpe>; Fri, 12 Dec 2003 21:48:00 +0000
Message-ID: <3FDA377D.3010805@lucene.com>
Date: Fri, 12 Dec 2003 13:47:41 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Art
References: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF7806A2@sideshow.mainstreamdata.com>
In-Reply-To: 
 <039AE64F5C9D7C44A0FE1AD71DD835CF7806A2@sideshow.mainstreamdata.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Your setup sounds good to me.

Scott Smith wrote:
> I'm not having a problem.  The question is whether I picked a reasonable set
> of parameters for what I'm doing.
> 
> I have an application which receives messages.  Each message averages around
> 4k bytes and I get, on average, 0-10 every minute.  So my application simply
> wakes up once each minute, opens an IndexWriter, creates Docs for each
> message, adds them to the index, and then closes the index writer.  Once per
> day I optimize the index.  The access to the index is via webpages (so
> multiple simultaneous accesses can occur and I don't want too much latency
> between a message arriving and it's availability in the index).  Based on
> posts I saw in the user archives, I set the mergeFactor to 10 (which I think
> is the default anyway).  I probably get 10-20 MB's per day and I'll want to
> index 60 day's of messages (so 600MB to 1.2GB of messages).
> 
> Does this sound like a reasonable approach?  Any parameters I should change?
> Any others I should be setting?  So far it is working fine, but I haven't
> had enough messages to see how things perform when the index gets large and
> I am new to using Lucene.  Wondered what people with more experience with
> Lucene thought.  I'm using 1.3RC3 if it matters.
> 
> Scott 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 22:18:37 2003
Return-Path: 
 <lucene-user-return-6512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80928 invoked from network); 12 Dec 2003 22:18:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 22:18:37 -0000
Received: (qmail 93619 invoked by uid 500); 12 Dec 2003 22:18:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93593 invoked by uid 500); 12 Dec 2003 22:18:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93579 invoked from network); 12 Dec 2003 22:18:20 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 12 Dec 2003 22:18:20 -0000
Message-ID: <20031212221826.31192.qmail@web12705.mail.yahoo.com>
Received: from [195.29.51.47] by web12705.mail.yahoo.com via HTTP;
 Fri, 12 Dec 2003 14:18:26 PST
Date: Fri, 12 Dec 2003 14:18:26 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: syntax of queries.
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Ernesto De Santis <edesantis@silex-it.com>
In-Reply-To: <015301c3c0f5$92423980$72b8e818@ernesto>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe it's the spaces after title:?
Try title:importar ... instead.

Maybe it's the spaces before ^5.0?
Try title:importar^5 instead

You shouldn't need the parentheses in this case either, I believe.

See Query Synax page on Lucene's site.

Otis


--- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
> Hello
> 
> I not undertanding the syntax of queries.
> I search with this string:
> 
> title: (importar) ^5.0 OR title: (arquivos) 
> 
> return 6 hits.
> 
> and with this: 
> 
> title: (arquivos) OR title: (importar) ^5.0 
> 
> 27 hits.
> 
> why?
> in the first, I think that work like AND, but, why? :-(
> 
> Regards, Ernesto.
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 12 22:57:07 2003
Return-Path: 
 <lucene-user-return-6513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95008 invoked from network); 12 Dec 2003 22:57:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 12 Dec 2003 22:57:07 -0000
Received: (qmail 59718 invoked by uid 500); 12 Dec 2003 22:56:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59688 invoked by uid 500); 12 Dec 2003 22:56:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59675 invoked from network); 12 Dec 2003 22:56:48 -0000
Received: from unknown (HELO tdsupport.ksc.nasa.gov) (163.205.16.2)
  by daedalus.apache.org with SMTP; 12 Dec 2003 22:56:48 -0000
Received: from tdryan (tdryan.ksc.nasa.gov [163.205.143.13])
	by tdsupport.ksc.nasa.gov (8.11.6/8.11.6) with SMTP id hBCMam724598;
	Fri, 12 Dec 2003 17:36:49 -0500
Message-ID: <000701c3c103$7e40e270$0d8fcda3@tdryan>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>,
   "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <CD6C59E38692CC4294619611087313760C4F4DF9@mccexc02.mcc_genesis.behavioral.com>
Subject: Re: textmining: document title
Date: Fri, 12 Dec 2003 17:58:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Check out jakarta POI (http://jakarta.apache.org/poi ) particularly the HPSF
API. It allows you to extract metadata like Title, Author, etc. from OLE
documents.

-Ryan

----- Original Message ----- 
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: <sackley@cfl.rr.com>
Sent: Friday, December 12, 2003 5:26 PM
Subject: textmining: document title


> Ryan,
>
> I'm using textmining and lucene to index word documents but don't know how
> to get word document title.  Your advice on this matter is appreciated.
>
> Thanks,
> Oliver Zhou
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 13 03:32:17 2003
Return-Path: 
 <lucene-user-return-6514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79223 invoked from network); 13 Dec 2003 03:32:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 03:32:17 -0000
Received: (qmail 68129 invoked by uid 500); 13 Dec 2003 03:31:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67888 invoked by uid 500); 13 Dec 2003 03:31:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67875 invoked from network); 13 Dec 2003 03:31:53 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 13 Dec 2003 03:31:53 -0000
Received: from ol114-184.fibertel.com.ar ([24.232.184.114] helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AV0Ve-0002Tk-IV
	for lucene-user@jakarta.apache.org; Fri, 12 Dec 2003 21:32:02 -0600
Message-ID: <006c01c3c12a$9c4aa270$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031212221826.31192.qmail@web12705.mail.yahoo.com>
Subject: Re: syntax of queries.
Date: Sat, 13 Dec 2003 00:38:43 -0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Otis, I don�t resolve my problem.

I see the Query sintaxis page, and the FAQ�s search section.
I proof too many alternatives:

body:(imprimir teclado) title:base = 451 hits

body:(imprimir teclado)^5.1 title:base = 248 hits (* under 451)

body:(imprimir teclado^5.1) title:base = 451 hits - first document:
3287.html

body:(imprimir^5.1 teclado) title:base = 451 hits - first document:
1545.html

conclusion:
I think that the boost is only applicable for one word. not to parenthesys,
and not to field.

I wanna make the boost applicable to field.
For me, is more important a hit in title that in body, for example.

In the FAQ�s search secction:

Clause      ::=  [ Modifier ] [ FieldName ':' ] BasicClause  [ Boost ]
BasicClause ::= ( Term | Phrase | | PrefixQuery '(' Query ')'

then, in my example BasicClause=(imprimir teclado) and Boost ^5.1.
but not work.

Regards, Ernesto.

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>; "Ernesto De
Santis" <edesantis@silex-it.com>
Sent: Friday, December 12, 2003 7:18 PM
Subject: Re: syntax of queries.


> Maybe it's the spaces after title:?
> Try title:importar ... instead.
>
> Maybe it's the spaces before ^5.0?
> Try title:importar^5 instead
>
> You shouldn't need the parentheses in this case either, I believe.
>
> See Query Synax page on Lucene's site.
>
> Otis
>
>
> --- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
> > Hello
> >
> > I not undertanding the syntax of queries.
> > I search with this string:
> >
> > title: (importar) ^5.0 OR title: (arquivos)
> >
> > return 6 hits.
> >
> > and with this:
> >
> > title: (arquivos) OR title: (importar) ^5.0
> >
> > 27 hits.
> >
> > why?
> > in the first, I think that work like AND, but, why? :-(
> >
> > Regards, Ernesto.
> >
>
>
> __________________________________
> Do you Yahoo!?
> New Yahoo! Photos - easier uploading and sharing.
> http://photos.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 13 07:07:46 2003
Return-Path: 
 <lucene-user-return-6515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18352 invoked from network); 13 Dec 2003 07:07:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 07:07:46 -0000
Received: (qmail 65576 invoked by uid 500); 13 Dec 2003 07:07:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65544 invoked by uid 500); 13 Dec 2003 07:07:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65531 invoked from network); 13 Dec 2003 07:07:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 13 Dec 2003 07:07:19 -0000
Received: (cpmta 19262 invoked from network); 12 Dec 2003 23:07:30 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 12 Dec 2003 23:07:30 -0800
X-Sent: 13 Dec 2003 07:07:30 GMT
Date: Sat, 13 Dec 2003 02:07:27 -0500
Subject: Re: syntax of queries.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <006c01c3c12a$9c4aa270$72b8e818@ernesto>
Message-Id: <02967FFB-2D3B-11D8-A2A1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try out the toString("fieldName") trick on your Query instances and=20
pair them up with what you have below - this will be quite insightful=20
for the issue - i promise!  :)

Look at my QueryParser article and search for "toString" on that page:
	=
<http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html>

On Friday, December 12, 2003, at 10:38  PM, Ernesto De Santis wrote:

> Thanks Otis, I don=B4t resolve my problem.
>
> I see the Query sintaxis page, and the FAQ=B4s search section.
> I proof too many alternatives:
>
> body:(imprimir teclado) title:base =3D 451 hits
>
> body:(imprimir teclado)^5.1 title:base =3D 248 hits (* under 451)
>
> body:(imprimir teclado^5.1) title:base =3D 451 hits - first document:
> 3287.html
>
> body:(imprimir^5.1 teclado) title:base =3D 451 hits - first document:
> 1545.html
>
> conclusion:
> I think that the boost is only applicable for one word. not to=20
> parenthesys,
> and not to field.
>
> I wanna make the boost applicable to field.
> For me, is more important a hit in title that in body, for example.
>
> In the FAQ=B4s search secction:
>
> Clause      ::=3D  [ Modifier ] [ FieldName ':' ] BasicClause  [ Boost =
]
> BasicClause ::=3D ( Term | Phrase | | PrefixQuery '(' Query ')'
>
> then, in my example BasicClause=3D(imprimir teclado) and Boost ^5.1.
> but not work.
>
> Regards, Ernesto.
>
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>; "Ernesto De
> Santis" <edesantis@silex-it.com>
> Sent: Friday, December 12, 2003 7:18 PM
> Subject: Re: syntax of queries.
>
>
>> Maybe it's the spaces after title:?
>> Try title:importar ... instead.
>>
>> Maybe it's the spaces before ^5.0?
>> Try title:importar^5 instead
>>
>> You shouldn't need the parentheses in this case either, I believe.
>>
>> See Query Synax page on Lucene's site.
>>
>> Otis
>>
>>
>> --- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
>>> Hello
>>>
>>> I not undertanding the syntax of queries.
>>> I search with this string:
>>>
>>> title: (importar) ^5.0 OR title: (arquivos)
>>>
>>> return 6 hits.
>>>
>>> and with this:
>>>
>>> title: (arquivos) OR title: (importar) ^5.0
>>>
>>> 27 hits.
>>>
>>> why?
>>> in the first, I think that work like AND, but, why? :-(
>>>
>>> Regards, Ernesto.
>>>
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> New Yahoo! Photos - easier uploading and sharing.
>> http://photos.yahoo.com/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 13 16:20:55 2003
Return-Path: 
 <lucene-user-return-6516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64161 invoked from network); 13 Dec 2003 16:20:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 16:20:55 -0000
Received: (qmail 45173 invoked by uid 500); 13 Dec 2003 16:20:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45075 invoked by uid 500); 13 Dec 2003 16:20:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45056 invoked from network); 13 Dec 2003 16:20:43 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 13 Dec 2003 16:20:43 -0000
Received: from HP29375324311 (hs11195.singnet.com.sg [165.21.203.63])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hBDGKbev001819
	for <lucene-user@jakarta.apache.org>; Sun, 14 Dec 2003 00:20:45 +0800
Message-Id: <200312131620.hBDGKbev001819@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: Web Lucene Question.
Date: Sun, 14 Dec 2003 00:20:35 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3C1D8.18BD4620"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcPBlQlTeoijFST2Rp2W3IZyug2W1g==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3C1D8.18BD4620
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

I have tried to type the following at Windows command line at weblucene
directory:

ant build

Everything seems to work fine except the following error:

java.lang.InstantiationException: org.apache.tools.ant.Main
        at java.lang.Class.newInstance0(Class.java:293)
        at java.lang.Class.newInstance(Class.java:261)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:214)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)

I have set the necessary classpath but still the error mentioned above.

Can anyone help?

------=_NextPart_000_0000_01C3C1D8.18BD4620--



From MAILER-DAEMON Sat Dec 13 16:42:04 2003
Return-Path: 
 <lucene-user-return-6517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70281 invoked from network); 13 Dec 2003 16:42:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 16:42:04 -0000
Received: (qmail 70130 invoked by uid 500); 13 Dec 2003 16:41:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69924 invoked by uid 500); 13 Dec 2003 16:41:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69906 invoked from network); 13 Dec 2003 16:41:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 13 Dec 2003 16:41:53 -0000
Received: (cpmta 16693 invoked from network); 13 Dec 2003 08:41:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 13 Dec 2003 08:41:56 -0800
X-Sent: 13 Dec 2003 16:41:56 GMT
Date: Sat, 13 Dec 2003 11:41:53 -0500
Subject: Re: Web Lucene Question.
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <200312131620.hBDGKbev001819@smtp23.singnet.com.sg>
Message-Id: <418E02CF-2D8B-11D8-BED8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, December 13, 2003, at 11:20  AM, Tun Lin wrote:
> Hi,
>
> I have tried to type the following at Windows command line at weblucene
> directory:
>
> ant build
>
> Everything seems to work fine except the following error:

Everything works fine but it fails miserably?!  :)

>
> java.lang.InstantiationException: org.apache.tools.ant.Main

This says Ant did not even launch.  I'm not sure which "weblucene" you 
mean here - the built-in demo?

My guess is your Ant installation has issues.  What does "ant -version" 
tell you?  How about "ant -diagnostics"?  And finally "ant -projecthelp 
-verbose"

	Erik - aka Mr. Ant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 13 16:47:07 2003
Return-Path: 
 <lucene-user-return-6518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71393 invoked from network); 13 Dec 2003 16:47:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 16:47:07 -0000
Received: (qmail 73224 invoked by uid 500); 13 Dec 2003 16:46:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73107 invoked by uid 500); 13 Dec 2003 16:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73089 invoked from network); 13 Dec 2003 16:46:55 -0000
Received: from unknown (HELO smtp23.singnet.com.sg) (165.21.101.203)
  by daedalus.apache.org with SMTP; 13 Dec 2003 16:46:55 -0000
Received: from HP29375324311 (hs11195.singnet.com.sg [165.21.203.63])
	by smtp23.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hBDGkgev023351
	for <lucene-user@jakarta.apache.org>; Sun, 14 Dec 2003 00:46:52 +0800
Message-Id: <200312131646.hBDGkgev023351@smtp23.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Web Lucene Question.
Date: Sun, 14 Dec 2003 00:46:38 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <418E02CF-2D8B-11D8-BED8-000393A564E6@ehatchersolutions.com>
Thread-Index: AcPBmAzGz4D1JFfdS+OnfnGX62q82AAAHQIg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using the beta version.

When I typed the command:
ant -version

I have the following:
Apache Ant version 1.6beta3 compiled on December 5 2003

I am downloading the previous to be if there is improvements? 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Sunday, December 14, 2003 12:42 AM
To: Lucene Users List
Subject: Re: Web Lucene Question.

On Saturday, December 13, 2003, at 11:20  AM, Tun Lin wrote:
> Hi,
>
> I have tried to type the following at Windows command line at 
> weblucene
> directory:
>
> ant build
>
> Everything seems to work fine except the following error:

Everything works fine but it fails miserably?!  :)

>
> java.lang.InstantiationException: org.apache.tools.ant.Main

This says Ant did not even launch.  I'm not sure which "weblucene" you mean here
- the built-in demo?

My guess is your Ant installation has issues.  What does "ant -version" 
tell you?  How about "ant -diagnostics"?  And finally "ant -projecthelp
-verbose"

	Erik - aka Mr. Ant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 13 18:09:51 2003
Return-Path: 
 <lucene-user-return-6519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93153 invoked from network); 13 Dec 2003 18:09:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Dec 2003 18:09:51 -0000
Received: (qmail 40535 invoked by uid 500); 13 Dec 2003 18:09:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40497 invoked by uid 500); 13 Dec 2003 18:09:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40481 invoked from network); 13 Dec 2003 18:09:38 -0000
Received: from unknown (HELO smtp14.singnet.com.sg) (165.21.6.24)
  by daedalus.apache.org with SMTP; 13 Dec 2003 18:09:38 -0000
Received: from HP29375324311 ([155.69.58.28])
	by smtp14.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hBDI9XML028788
	for <lucene-user@jakarta.apache.org>; Sun, 14 Dec 2003 02:09:39 +0800
Message-Id: <200312131809.hBDI9XML028788@smtp14.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "Lucene user list" <lucene-user@jakarta.apache.org>
Subject: Web Lucene classes.
Date: Sun, 14 Dec 2003 02:09:32 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C3C1E7.5103B730"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcPBpEFj50L8MZRFQVmGpAd5kReClA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3C1E7.5103B730
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

When I downloaded the web lucene source classes and all, I did not see the
classes directory at all as instructed in install.txt. 

Anyone knows how to get the whole package of classes for web lucene as in a jar
file?

When I type the command:
Java IndexRunner

I get the following message:
Exception in thread "main" java.lang.NoClassDefFoundError: IndexRunner

I have set the classpath for Web Lucene as in the path to the class files but it
still does not work.

Please advise.


------=_NextPart_000_0000_01C3C1E7.5103B730--



From MAILER-DAEMON Sun Dec 14 00:11:57 2003
Return-Path: 
 <lucene-user-return-6520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87240 invoked from network); 14 Dec 2003 00:11:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Dec 2003 00:11:57 -0000
Received: (qmail 77011 invoked by uid 500); 14 Dec 2003 00:11:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76976 invoked by uid 500); 14 Dec 2003 00:11:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76963 invoked from network); 14 Dec 2003 00:11:37 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 14 Dec 2003 00:11:37 -0000
Message-ID: <20031214001145.63281.qmail@web12704.mail.yahoo.com>
Received: from [195.29.48.13] by web12704.mail.yahoo.com via HTTP;
 Sat, 13 Dec 2003 16:11:45 PST
Date: Sat, 13 Dec 2003 16:11:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Web Lucene classes.
To: Lucene Users List <lucene-user@jakarta.apache.org>, chentun@singnet.com.sg
In-Reply-To: <200312131809.hBDI9XML028788@smtp14.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tun Lin,

WebLucene is a different project, so you should really use its mailing
lists.  I doubt subscribers to the Lucene mailing list will be able to
help you as much as the WebLucene author and other WebLucene users.

Otis


--- Tun Lin <chentun@singnet.com.sg> wrote:
> Hi,
> 
> When I downloaded the web lucene source classes and all, I did not
> see the
> classes directory at all as instructed in install.txt. 
> 
> Anyone knows how to get the whole package of classes for web lucene
> as in a jar
> file?
> 
> When I type the command:
> Java IndexRunner
> 
> I get the following message:
> Exception in thread "main" java.lang.NoClassDefFoundError:
> IndexRunner
> 
> I have set the classpath for Web Lucene as in the path to the class
> files but it
> still does not work.
> 
> Please advise.
> 
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 12:09:54 2003
Return-Path: 
 <lucene-user-return-6521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12564 invoked from network); 15 Dec 2003 12:09:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 12:09:54 -0000
Received: (qmail 1961 invoked by uid 500); 15 Dec 2003 12:09:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1844 invoked by uid 500); 15 Dec 2003 12:09:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1697 invoked from network); 15 Dec 2003 12:09:44 -0000
Received: from unknown (HELO mxout.t-online.net) (195.243.113.239)
  by daedalus.apache.org with SMTP; 15 Dec 2003 12:09:44 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C3C304.52A9567D"
Subject: Problems deleting documents from the index (Lock obtain timed out)
Date: Mon, 15 Dec 2003 13:09:43 +0100
Message-ID: <08E5708CB5CDCF468B4B848BFA0A5402040C55@QEO00201.de.t-online.corp>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Problems deleting documents from the index (Lock obtain timed
 out)
Thread-Index: AcPDBFKylLw2CP9gS1C0Vl6w7Pam2w==
From: "Hohwiller, Joerg" <j.hohwiller@t-online.net>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 15 Dec 2003 12:09:42.0779 (UTC)
 FILETIME=[527E24B0:01C3C304]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3C304.52A9567D
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi there,

I just subscribed to this list and have a little Problem:

I am using lucene for incremental indexing (yes, I read the FAQ! dont =
try to convince me to rebuild the index periodically from scratch :) ).

Now the problem seems to be that lucene is not able to perform index =
modifications=20
and parallel search requests.=20
After my simple approaches failed, I finnaly implemented the recomended =
way to have an index that is modified and create a copy of that index =
for searches. I do all this with proper Thread synchronization (at least =
I hope so).=20
Before I copy the index, I do close the index-writer and index-reader =
working=20
on that index, then copy and reopen the index-writer and -reader on the =
new copy. Next I close the index-searcher and reopen it on the index =
that has been copied before.

Now my problem is that when I receive a delete event and want to remove =
a document from the index by a special field (in my case the URI), I get =
a IOException with the message "Lock obtain timed out".

I tried lucene 1.3-rc1, 1.3-rc2 and 1.3-rc3 all with the same result.

Any suggestions would be very welcome :)

Thank you so far
  J=F6rg Hohwiller

BTW: I attatched the relevant source code (but removed imports, etc. so =
that it does not contain any confidential information). Maybe this =
answers the first of your questions.


------_=_NextPart_001_01C3C304.52A9567D
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C3C304.52A9567D--

From MAILER-DAEMON Mon Dec 15 13:37:33 2003
Return-Path: 
 <lucene-user-return-6522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54755 invoked from network); 15 Dec 2003 13:37:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 13:37:33 -0000
Received: (qmail 4850 invoked by uid 500); 15 Dec 2003 13:37:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4825 invoked by uid 500); 15 Dec 2003 13:37:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4810 invoked from network); 15 Dec 2003 13:37:25 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 15 Dec 2003 13:37:25 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HPXV4600.90A for
          <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 14:36:06 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Summarization; sentence-level and document-level filters.
Date: Mon, 15 Dec 2003 14:37:14 +0100
Message-ID: <008d01c3c310$8d4ccea0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20031214001145.63281.qmail@web12704.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

where is the best place to plug in customised document-level and
sentence-level analysis features into Lucene's index analyzer and filter
architecture? Is there any "precedence case" ?

My technical problem:

I'd like to include a summarization feature into my system, which should (1)
best make use of the architecture already there in Lucene, namely the
Analyzer, and (2) should be able to trigger summarization on a per-document
basis while requiring sentence-level information, such as full-stops and
commas. To preserve this "punctuation", a special Tokenizer can be used that
outputs such landmarks as tokens instead of filtering them out. The actual
SummaryFilter then filters out the punctuation for its successors in the
Analyzer's filter chain.

The other, more complex thing is the document-level information: As Lucene's
architecture uses a filter concept that does not know about the document the
tokens are generated from (which is good abstraction), a document-specific
operation like summarization is a bit of an awkward thing. On the other
hand, I'd like to have the existing filter structure in place for
preprocessing of the input, because my raw texts are generated by PDFBox and
the like, and a lot of unwanted chars need to be filtered out prior to
summarization, with a filter which accepts tokens accoding to a pass and
reject pattern.)

One thing I came up with was to have a Summary object in the SummaryFilter
that can be accessed from the top-level of the indexing process and can be
read out after the Document is created, using a summarization trigger
command. However, as inversion of term lists is done only after calling
IndexWriter.add(Document), the summarization trigger would need to be called
by addDocument(), which would require an extension of Lucene at a deeper
level.

Any idea how to solve this second problem?

Thanks and regards,

Gregor



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 13:58:13 2003
Return-Path: 
 <lucene-user-return-6523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64277 invoked from network); 15 Dec 2003 13:58:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 13:58:13 -0000
Received: (qmail 39086 invoked by uid 500); 15 Dec 2003 13:58:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39026 invoked by uid 500); 15 Dec 2003 13:58:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39013 invoked from network); 15 Dec 2003 13:58:05 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 15 Dec 2003 13:58:05 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hBFDw5M31436
	for <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 08:58:05 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HPX00301W4TAT@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 15 Dec 2003 08:58:05 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HPX002E7W4S0Q@lmco.com> for lucene-user@jakarta.apache.org;
 Mon, 15 Dec 2003 08:58:05 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Mon,
 15 Dec 2003 08:58:05 -0500
Date: Mon, 15 Dec 2003 08:58:04 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: Word Documents
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E865@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Thread-Topic: textmining: document title
Thread-Index: AcPBA4mKiLHZpMyuQ42iKloJM9czvACD8c/A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 15 Dec 2003 13:58:05.0067 (UTC)
 FILETIME=[76288DB0:01C3C313]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As a spinoff, I was wondering if anyone has been happy with indexing and searching Word docs. What about reading the contents? Any problems?


-----Original Message-----
From: Ryan Ackley [mailto:sackley@cfl.rr.com]
Sent: Friday, December 12, 2003 5:59 PM
To: Zhou, Oliver; Lucene Users List
Subject: Re: textmining: document title


Check out jakarta POI (http://jakarta.apache.org/poi ) particularly the HPSF
API. It allows you to extract metadata like Title, Author, etc. from OLE
documents.

-Ryan

----- Original Message ----- 
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: <sackley@cfl.rr.com>
Sent: Friday, December 12, 2003 5:26 PM
Subject: textmining: document title


> Ryan,
>
> I'm using textmining and lucene to index word documents but don't know how
> to get word document title.  Your advice on this matter is appreciated.
>
> Thanks,
> Oliver Zhou
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 14:04:32 2003
Return-Path: 
 <lucene-user-return-6524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67989 invoked from network); 15 Dec 2003 14:04:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:04:32 -0000
Received: (qmail 52154 invoked by uid 500); 15 Dec 2003 14:04:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52118 invoked by uid 500); 15 Dec 2003 14:04:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52087 invoked from network); 15 Dec 2003 14:04:23 -0000
Received: from unknown (HELO smtp.aaisp.net.uk) (217.169.20.17)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:04:23 -0000
Received: from fluffy.torchboxapps.com ([81.187.40.70]
 helo=fluffy.internal.torchbox.com)
	by smtp.aaisp.net.uk with esmtp (Exim 4.22)
	id 1AVtKg-0004a1-UC
	for lucene-user@jakarta.apache.org; Mon, 15 Dec 2003 14:04:23 +0000
Received: from grenache.internal.torchbox.com ([192.168.1.81])
	by fluffy.internal.torchbox.com with esmtp (TLSv1:EDH-RSA-DES-CBC3-SHA:168)
	(Exim 4.24)
	id 1AVtKd-0007MG-7z
	for lucene-user@jakarta.apache.org; Mon, 15 Dec 2003 14:04:19 +0000
Date: Mon, 15 Dec 2003 14:04:06 +0000 (GMT)
From: Nick Burch <nick@torchbox.com>
X-X-Sender: nick@localhost.localdomain
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Word Documents
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E865@EMSS04M14.us.lmco.com>
Message-ID: <Pine.LNX.4.44.0312151400490.1567-100000@localhost.localdomain>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Score: -104.7 (---------------------------------------------------)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 15 Dec 2003, Pleasant, Tracy wrote:
> As a spinoff, I was wondering if anyone has been happy with indexing and
> searching Word docs. What about reading the contents? Any problems?

In the scratchpad of POI is src/org/hdf/extractor, which has all the code 
you need to pull out the text of a word document. I use this and some 
simple HPSF code (to extract the document meta data) with Lucene, and it 
works great

Nick


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 14:19:58 2003
Return-Path: 
 <lucene-user-return-6525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82619 invoked from network); 15 Dec 2003 14:19:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:19:58 -0000
Received: (qmail 76236 invoked by uid 500); 15 Dec 2003 14:19:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76094 invoked by uid 500); 15 Dec 2003 14:19:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76081 invoked from network); 15 Dec 2003 14:19:49 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:19:49 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HPXX2V00.V00 for
          <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 15:18:31 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Word Documents
Date: Mon, 15 Dec 2003 15:19:39 +0100
Message-ID: <008f01c3c316$7a39efe0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0090_01C3C31E.DBFE57E0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E865@EMSS04M14.us.lmco.com>
X-MS-TNEF-Correlator: 000000003F8BCE229923EC49B23D7042D4ED10E544147F00
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0090_01C3C31E.DBFE57E0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi,

we had some problems using the POI Word filter. In one document set,
everything would work fine, in another more than 50% documents refused to
work with it (does not index). I am not an OLE2 pro and cannot see any
apparent difference in the documents between the different sets. The version
used was Word 97 in almost all the docs. For the moment, I switched to a
native converter (that does not process metadata and must be run using
Runtime.exec(), though) until I have time to revisit the problem.

I do not want to disrecommend the POI-filters, it's a very cool idea. Please
do try your particular document set with it. For a quick test, you can use
the Docco personal search tool by Peter Becker and colleagues (available
from SourceForge). It has a current version of POI included as a plugin and
Lucene running as indexing backend. So you don't have to write code to get
answers...

Cheers, gregor

-----Original Message-----
From: Pleasant, Tracy [mailto:tracy.pleasant@lmco.com]
Sent: Monday, December 15, 2003 2:58 PM
To: Lucene Users List
Subject: Word Documents


As a spinoff, I was wondering if anyone has been happy with indexing and
searching Word docs. What about reading the contents? Any problems?


-----Original Message-----
From: Ryan Ackley [mailto:sackley@cfl.rr.com]
Sent: Friday, December 12, 2003 5:59 PM
To: Zhou, Oliver; Lucene Users List
Subject: Re: textmining: document title


Check out jakarta POI (http://jakarta.apache.org/poi ) particularly the HPSF
API. It allows you to extract metadata like Title, Author, etc. from OLE
documents.

-Ryan

----- Original Message ----- 
From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
To: <sackley@cfl.rr.com>
Sent: Friday, December 12, 2003 5:26 PM
Subject: textmining: document title


> Ryan,
>
> I'm using textmining and lucene to index word documents but don't know how
> to get word document title.  Your advice on this matter is appreciated.
>
> Thanks,
> Oliver Zhou
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------=_NextPart_000_0090_01C3C31E.DBFE57E0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_0090_01C3C31E.DBFE57E0--


From MAILER-DAEMON Mon Dec 15 14:33:38 2003
Return-Path: 
 <lucene-user-return-6526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88984 invoked from network); 15 Dec 2003 14:33:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:33:38 -0000
Received: (qmail 95674 invoked by uid 500); 15 Dec 2003 14:33:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95641 invoked by uid 500); 15 Dec 2003 14:33:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95622 invoked from network); 15 Dec 2003 14:33:29 -0000
Received: from unknown (HELO tdsupport.ksc.nasa.gov) (163.205.16.2)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:33:29 -0000
Received: from tdryan (tdryan.ksc.nasa.gov [163.205.143.13])
	by tdsupport.ksc.nasa.gov (8.11.6/8.11.6) with SMTP id hBFECf706873;
	Mon, 15 Dec 2003 09:12:42 -0500
Message-ID: <003201c3c318$ab2843c0$0d8fcda3@tdryan>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <heinrich@igd.fhg.de>
References: <008f01c3c316$7a39efe0$49098c92@pcara>
Subject: Re: Word Documents
Date: Mon, 15 Dec 2003 09:35:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have written a library located at http://textmining.org that will extract
text from Word documents. I am the author of the Word library in POI btw.
This is just a lightweight version because I got sick of everyone asking how
to extract text from a Word document. If it doesn't work its because the
document is *not* from Word 97 or later or the file was fast-saved.
Everytime somebody has problems they send me their files and they turn out
to be RTF or Word 95 documents. You can check the format by opening the file
in Word then going to Save As. The format of the document will be in the
"Save as Type" dropdown. At least in my version of Word it does.

-Ryan

----- Original Message ----- 
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 15, 2003 9:19 AM
Subject: RE: Word Documents


> Hi,
>
> we had some problems using the POI Word filter. In one document set,
> everything would work fine, in another more than 50% documents refused to
> work with it (does not index). I am not an OLE2 pro and cannot see any
> apparent difference in the documents between the different sets. The
version
> used was Word 97 in almost all the docs. For the moment, I switched to a
> native converter (that does not process metadata and must be run using
> Runtime.exec(), though) until I have time to revisit the problem.
>
> I do not want to disrecommend the POI-filters, it's a very cool idea.
Please
> do try your particular document set with it. For a quick test, you can use
> the Docco personal search tool by Peter Becker and colleagues (available
> from SourceForge). It has a current version of POI included as a plugin
and
> Lucene running as indexing backend. So you don't have to write code to get
> answers...
>
> Cheers, gregor
>
> -----Original Message-----
> From: Pleasant, Tracy [mailto:tracy.pleasant@lmco.com]
> Sent: Monday, December 15, 2003 2:58 PM
> To: Lucene Users List
> Subject: Word Documents
>
>
> As a spinoff, I was wondering if anyone has been happy with indexing and
> searching Word docs. What about reading the contents? Any problems?
>
>
> -----Original Message-----
> From: Ryan Ackley [mailto:sackley@cfl.rr.com]
> Sent: Friday, December 12, 2003 5:59 PM
> To: Zhou, Oliver; Lucene Users List
> Subject: Re: textmining: document title
>
>
> Check out jakarta POI (http://jakarta.apache.org/poi ) particularly the
HPSF
> API. It allows you to extract metadata like Title, Author, etc. from OLE
> documents.
>
> -Ryan
>
> ----- Original Message ----- 
> From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
> To: <sackley@cfl.rr.com>
> Sent: Friday, December 12, 2003 5:26 PM
> Subject: textmining: document title
>
>
> > Ryan,
> >
> > I'm using textmining and lucene to index word documents but don't know
how
> > to get word document title.  Your advice on this matter is appreciated.
> >
> > Thanks,
> > Oliver Zhou
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 14:36:07 2003
Return-Path: 
 <lucene-user-return-6527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90156 invoked from network); 15 Dec 2003 14:36:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:36:07 -0000
Received: (qmail 2445 invoked by uid 500); 15 Dec 2003 14:35:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2417 invoked by uid 500); 15 Dec 2003 14:35:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2351 invoked from network); 15 Dec 2003 14:35:57 -0000
Received: from unknown (HELO frontend1.aha.ru) (195.2.83.141)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:35:57 -0000
Received: from [195.2.83.133] (HELO backend3.aha.ru)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 245985014; Mon, 15 Dec 2003 17:35:57 +0300
Received: from [193.233.79.253] (account fckdp@ok.ru)
  by backend3.aha.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 76937862; Mon, 15 Dec 2003 17:35:57 +0300
From: Pasha Bizhan <fckdp@ok.ru>
Subject: Re: Word Documents
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
 <heinrich@igd.fhg.de>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Mon, 15 Dec 2003 17:35:57 +0300
Message-ID: <web-76937862@backend3.aha.ru>
In-Reply-To: <008f01c3c316$7a39efe0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

> "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de> wrote:
>
>we had some problems using the POI Word filter. In one 
>document set,
>everything would work fine, in another more than 50% 
>documents refused to
>work with it (does not index). 

Btw, the word document may be saved in two modes - fast 
save mode  and full save mode. It's different file format. 
The fast save mode file format is very strange and hard 
for text extraction. 

May be your files saved in fast save mode.You can try to 
save it in full save mode. It's only idea.

Pasha 
http://sf.net/projects/lucenedotnet

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 14:48:02 2003
Return-Path: 
 <lucene-user-return-6528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96357 invoked from network); 15 Dec 2003 14:48:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:48:02 -0000
Received: (qmail 22292 invoked by uid 500); 15 Dec 2003 14:47:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22259 invoked by uid 500); 15 Dec 2003 14:47:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22244 invoked from network); 15 Dec 2003 14:47:52 -0000
Received: from unknown (HELO mxout.t-online.net) (195.243.113.239)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:47:52 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Word Documents
Date: Mon, 15 Dec 2003 15:47:52 +0100
Message-ID: <08E5708CB5CDCF468B4B848BFA0A540205BC85@QEO00201.de.t-online.corp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Word Documents
Thread-Index: AcPBA4mKiLHZpMyuQ42iKloJM9czvACD8c/AAAGb2ZA=
From: "Hohwiller, Joerg" <j.hohwiller@t-online.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 15 Dec 2003 14:47:52.0404 (UTC)
 FILETIME=[6AC00140:01C3C31A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

also a little comment from me about the toppic.

I am using OpenOffice what produces the best HTML results for me.

If you only want to index the documents this might be overhead except
you have no other idea how to waste the performance of your machine.

In case someone is interested: You can start OpenOffice as=20
server (e.g. soffice -headless "-accept=3Dsocket,port=3D8100;urp;") and =
then
use the Java Uno Binding API to access that OpenOffice server.

Regards=20
  J=F6rg

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 14:49:02 2003
Return-Path: 
 <lucene-user-return-6529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96860 invoked from network); 15 Dec 2003 14:49:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 14:49:02 -0000
Received: (qmail 23461 invoked by uid 500); 15 Dec 2003 14:48:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23402 invoked by uid 500); 15 Dec 2003 14:48:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23388 invoked from network); 15 Dec 2003 14:48:52 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 15 Dec 2003 14:48:52 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HPXYEC00.N0N; Mon,
          15 Dec 2003 15:47:00 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	 "'Ryan Ackley'" <sackley@apache.org>
Subject: RE: Word Documents
Date: Mon, 15 Dec 2003 15:48:08 +0100
Message-ID: <009c01c3c31a$750a9660$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <003201c3c318$ab2843c0$0d8fcda3@tdryan>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

that's great info. In fact, I didn't check for fast-saving, yet. So I'll
probably go ahead an have a try later...

Good luck for POI,

Gregor



-----Original Message-----
From: Ryan Ackley [mailto:sackley@cfl.rr.com]
Sent: Monday, December 15, 2003 3:35 PM
To: Lucene Users List; heinrich@igd.fhg.de
Subject: Re: Word Documents


I have written a library located at http://textmining.org that will extract
text from Word documents. I am the author of the Word library in POI btw.
This is just a lightweight version because I got sick of everyone asking how
to extract text from a Word document. If it doesn't work its because the
document is *not* from Word 97 or later or the file was fast-saved.
Everytime somebody has problems they send me their files and they turn out
to be RTF or Word 95 documents. You can check the format by opening the file
in Word then going to Save As. The format of the document will be in the
"Save as Type" dropdown. At least in my version of Word it does.

-Ryan

----- Original Message -----
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 15, 2003 9:19 AM
Subject: RE: Word Documents


> Hi,
>
> we had some problems using the POI Word filter. In one document set,
> everything would work fine, in another more than 50% documents refused to
> work with it (does not index). I am not an OLE2 pro and cannot see any
> apparent difference in the documents between the different sets. The
version
> used was Word 97 in almost all the docs. For the moment, I switched to a
> native converter (that does not process metadata and must be run using
> Runtime.exec(), though) until I have time to revisit the problem.
>
> I do not want to disrecommend the POI-filters, it's a very cool idea.
Please
> do try your particular document set with it. For a quick test, you can use
> the Docco personal search tool by Peter Becker and colleagues (available
> from SourceForge). It has a current version of POI included as a plugin
and
> Lucene running as indexing backend. So you don't have to write code to get
> answers...
>
> Cheers, gregor
>
> -----Original Message-----
> From: Pleasant, Tracy [mailto:tracy.pleasant@lmco.com]
> Sent: Monday, December 15, 2003 2:58 PM
> To: Lucene Users List
> Subject: Word Documents
>
>
> As a spinoff, I was wondering if anyone has been happy with indexing and
> searching Word docs. What about reading the contents? Any problems?
>
>
> -----Original Message-----
> From: Ryan Ackley [mailto:sackley@cfl.rr.com]
> Sent: Friday, December 12, 2003 5:59 PM
> To: Zhou, Oliver; Lucene Users List
> Subject: Re: textmining: document title
>
>
> Check out jakarta POI (http://jakarta.apache.org/poi ) particularly the
HPSF
> API. It allows you to extract metadata like Title, Author, etc. from OLE
> documents.
>
> -Ryan
>
> ----- Original Message -----
> From: "Zhou, Oliver" <Oliver.Zhou@cignabehavioral.com>
> To: <sackley@cfl.rr.com>
> Sent: Friday, December 12, 2003 5:26 PM
> Subject: textmining: document title
>
>
> > Ryan,
> >
> > I'm using textmining and lucene to index word documents but don't know
how
> > to get word document title.  Your advice on this matter is appreciated.
> >
> > Thanks,
> > Oliver Zhou
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 17:18:29 2003
Return-Path: 
 <lucene-user-return-6530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84600 invoked from network); 15 Dec 2003 17:18:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 17:18:29 -0000
Received: (qmail 90891 invoked by uid 500); 15 Dec 2003 17:18:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90763 invoked by uid 500); 15 Dec 2003 17:18:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90746 invoked from network); 15 Dec 2003 17:18:16 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 15 Dec 2003 17:18:16 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id RAA13218
	for <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 17:18:12 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121517181229831
 for <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 17:18:12 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1BJK>; Mon, 15 Dec 2003 17:13:06 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A29@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "Lucene mailing list (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Disabling modifiers?
Date: Mon, 15 Dec 2003 17:12:55 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A quick question. Is there any way to disable the - and + modifiers in the
QueryParser? I'm trying to use Lucene to provide indexing of COBOL source
code, and allow me to highlight matches when the code is displayed. In COBOL
you can have variable names such as DISP-NAME and WS-DATE-1 for example.
Unfortunately the query parser interprets the - signs as modifiers and so
the query does not do what is required. 

I've had a bit of success by putting quotes around the offending names, (as
suggested on this list), but the results are still less than satisfactory,
(it removes the "NOT" from the query, but still treats DISP and NAME as two
separate words rather than one word and so the results are not quite
correct).

Any ideas, or am I going to have to try and write my own query parser?

Thanks,
Iain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 18:00:39 2003
Return-Path: 
 <lucene-user-return-6531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6259 invoked from network); 15 Dec 2003 18:00:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 18:00:39 -0000
Received: (qmail 57776 invoked by uid 500); 15 Dec 2003 18:00:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57744 invoked by uid 500); 15 Dec 2003 18:00:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57731 invoked from network); 15 Dec 2003 18:00:27 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 15 Dec 2003 18:00:27 -0000
Received: (cpmta 16781 invoked from network); 15 Dec 2003 10:00:30 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 15 Dec 2003 10:00:30 -0800
X-Sent: 15 Dec 2003 18:00:30 GMT
Date: Mon, 15 Dec 2003 13:00:27 -0500
Subject: Re: Disabling modifiers?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A29@nwb-corpmail.microfocus.com>
Message-Id: <9089893E-2F28-11D8-AE11-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, December 15, 2003, at 12:12  PM, Iain Young wrote:
> A quick question. Is there any way to disable the - and + modifiers in 
> the
> QueryParser?

Not currently.

> I've had a bit of success by putting quotes around the offending 
> names, (as
> suggested on this list), but the results are still less than 
> satisfactory,
> (it removes the "NOT" from the query, but still treats DISP and NAME 
> as two
> separate words rather than one word and so the results are not quite
> correct).

Treating them as two separate words when quoted is indicative of your 
analyzer not being sufficient for your domain.  What Analyzer are you 
using?  Do you have knowledge of what it is tokenizing text into?

> Any ideas, or am I going to have to try and write my own query parser?

This is an open issue in Lucene.  You and the community would be better 
served if you were able to fix the existing QueryParser and submit the 
fix back to us.  Is it possible someone has already done this and it is 
pending in Bugzilla?  (I haven't checked, searching Bugzilla with 
Safari doesn't work *sigh* - so it is a pain for me to do).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 20:34:35 2003
Return-Path: 
 <lucene-user-return-6534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89664 invoked from network); 15 Dec 2003 20:34:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 20:34:35 -0000
Received: (qmail 90101 invoked by uid 500); 15 Dec 2003 20:34:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90068 invoked by uid 500); 15 Dec 2003 20:34:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89985 invoked from network); 15 Dec 2003 20:34:17 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 15 Dec 2003 20:34:17 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HPY8RL00.U0I for
          <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 19:30:57 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Mon, 15 Dec 2003 19:32:04 +0100
Message-ID: <000501c3c339$be0d7110$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A29@nwb-corpmail.microfocus.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you don't want to fiddle with the JavaCC source of QueryParser.jj, you
could work with a regular expression that works in front of the actual query
parser. I just did something similar because I input Lucene's query strings
into a latent semantic analysis algorithm and remove words with + and ?
wildcards, boosting modifiers as well as NOT and - clauses and groupings.
Such as:

    /**
     *  exclude words that have these modifiers
     */
    public final String excludeWildcards = "\\w+\\+|\\w+\\?";
    /**
     *  remove these operators
     */
    public final String removeOperators = "AND|OR|UND|ODER|&&|\\|\\|";
    /**
     *  remove these modifiers
     */
    public final String removeModifiers = "~[0-9\\.]*|~|\\^[0-9\\.]*|\\*";
    /**
     *  exclude phrases that have these modifiers
     */
    public final String excludeNot = "(NOT |\\-) *\\w+|(NOT|\\-)
*\\([^\\)]+\\)|(NOT |\\-) *\\\"[^\\\"]+\\\"";

    /**
     * remove any groupings
     */
    public final String removeGrouping = "[\\\"\\(\\)]";

You then create Pattern objects from the strings using Pattern.compile() and
can use and re-use the compiled patterns.

excludeWildcardsPattern = Pattern.compile(excludeWildcards);

lsaQ = excludeWildcardsPattern.matcher(q).replaceAll("");

This works fine for me. However, this 20 minutes approach does not recognise
nested parentheses with NOT or -, i.e.,
the term <tt>"NOT ((a OR b) AND (c OR d))"</tt> will result in the removal
of <tt>"NOT ((a OR b"</tt> and <tt>"c d"</tt> will still be in the output
query.

Best regards,

Gregor

-----Original Message-----
From: Iain Young [mailto:Iain.Young@microfocus.com]
Sent: Monday, December 15, 2003 6:13 PM
To: Lucene mailing list (E-mail)
Subject: Disabling modifiers?


A quick question. Is there any way to disable the - and + modifiers in the
QueryParser? I'm trying to use Lucene to provide indexing of COBOL source
code, and allow me to highlight matches when the code is displayed. In COBOL
you can have variable names such as DISP-NAME and WS-DATE-1 for example.
Unfortunately the query parser interprets the - signs as modifiers and so
the query does not do what is required.

I've had a bit of success by putting quotes around the offending names, (as
suggested on this list), but the results are still less than satisfactory,
(it removes the "NOT" from the query, but still treats DISP and NAME as two
separate words rather than one word and so the results are not quite
correct).

Any ideas, or am I going to have to try and write my own query parser?

Thanks,
Iain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 19:17:14 2003
Return-Path: 
 <lucene-user-return-6533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45472 invoked from network); 15 Dec 2003 19:17:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 19:17:14 -0000
Received: (qmail 83292 invoked by uid 500); 15 Dec 2003 19:17:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83149 invoked by uid 500); 15 Dec 2003 19:17:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83097 invoked from network); 15 Dec 2003 19:16:59 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 15 Dec 2003 19:16:59 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HPY96Q00.H0T for
          <lucene-user@jakarta.apache.org>; Mon, 15 Dec 2003 19:40:02 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Summarization; sentence-level and document-level filters.
Date: Mon, 15 Dec 2003 19:41:10 +0100
Message-ID: <000601c3c33b$02af5e40$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is there any possibility to do sentence-level or document level analysis
with the current Analysis/TokenStream architecture? Or where else is the
best place to plug in customised document-level and sentence-level analysis
features? Is there any "precedence case" ?

My technical problem:

I'd like to include a summarization feature into my system, which should (1)
best make use of the architecture already there in Lucene, and (2) should be
able to trigger summarization on a per-document basis while requiring
sentence-level information, such as full-stops and commas. To preserve this
"punctuation", a special Tokenizer can be used that outputs such landmarks
as tokens instead of filtering them out. The actual SummaryFilter then
filters out the punctuation for its successors in the Analyzer's filter
chain.

The other, more complex thing is the document-level information: As Lucene's
architecture uses a filter concept that does not know about the document the
tokens are generated from (which is good abstraction), a document-specific
operation like summarization is a bit of an awkward thing with this (and
originally not intended, I guess). On the other hand, I'd like to have the
existing filter structure in place for preprocessing of the input, because
my raw texts are generated by converters from other formats that output
unwanted chars (from figures, pagenumbers, etc.), which are filtered out
anyway by my custom Analyzer.

Any idea how to solve this second problem? Is there any support for such
document / sentence structure analysis planned?

Thanks and regards,

Gregor



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 15 19:05:13 2003
Return-Path: 
 <lucene-user-return-6532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40451 invoked from network); 15 Dec 2003 19:05:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Dec 2003 19:05:13 -0000
Received: (qmail 55415 invoked by uid 500); 15 Dec 2003 19:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55389 invoked by uid 500); 15 Dec 2003 19:04:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55325 invoked from network); 15 Dec 2003 19:04:50 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 15 Dec 2003 19:04:50 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30693) id <0HPY04U01AC5P8@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 15 Dec 2003 19:04:54 +0000 (GMT)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30693)
 with SMTP id <0HPY04LGAAC5D4@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 15 Dec 2003 19:04:53 +0000 (GMT)
Date: Mon, 15 Dec 2003 19:05:02 +0000
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: field boosting best practise
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <036501c3c33e$57cf7bf0$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <9089893E-2F28-11D8-AE11-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,
i was wondering what's the best approach to take when boosting the value of
a particular field.

i'm searching over a document's title, url and contents fields and i want to
try giving certain fields a boost at times to see if it improves my results.
so for instance if i want to give the title field more weight i can use
Field.setBoost() to do this.

my question is, say for example i want to give the title field twice as much
weight as the url and contents fields.  do i set the boost value of title to
be 2.0 or should i set the boost value of the url and contents fields to be
0.25 and the boost value of the title field to be 0.5 (thereby having all
boost values adding up to 1 so all the socres are normalised with respect to
the title field's boost).

i just find the messages in the archives a little confusing regarding this,
i can't see which approach is best, or if either is best.

any help appreciated.
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 00:06:44 2003
Return-Path: 
 <lucene-user-return-6535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77999 invoked from network); 16 Dec 2003 00:06:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 00:06:44 -0000
Received: (qmail 19671 invoked by uid 500); 16 Dec 2003 00:06:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19643 invoked by uid 500); 16 Dec 2003 00:06:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19580 invoked from network); 16 Dec 2003 00:06:21 -0000
Received: from unknown (HELO mail2.multikabel.nl) (80.242.224.35)
  by daedalus.apache.org with SMTP; 16 Dec 2003 00:06:21 -0000
Received: from whale (80-242-226-122.multikabel.nl [80.242.226.122])
	by mail2.multikabel.nl (8.9.3/8.9.3/Debian 8.9.3-21) with SMTP id BAA25600;
	Tue, 16 Dec 2003 01:06:27 +0100
X-Authentication-Warning: mail2.multikabel.nl: Host
 80-242-226-122.multikabel.nl [80.242.226.122] claimed to be whale
Message-ID: <047401c3c368$beff8de0$5a01a8c0@whale>
From: "maurits van wijland" <m.vanwijland@quicknet.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        <heinrich@igd.fhg.de>
References: <000601c3c33b$02af5e40$49098c92@pcara>
Subject: Re: Summarization; sentence-level and document-level filters.
Date: Tue, 16 Dec 2003 01:08:33 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Gregor,

Sofar as I know there is no summarizer in the plans. And maybe I can help
you along the way. Have a look
at Classifier4J project on Sourceforge.

http://classifier4j.sourceforge.net/

It has a small documetn summarizer besides a bayes classifier.It might speed
up your coding.

On the level of lucene, I have no idea. My gut feeling says that a summary
should be build before the
text is tokenized! The tokenizer can ofcourse be used when analysing a
document, but hooking into
the lucene indexing is a bad idea I think.

Someone else has any ideas?

regards,

Maurits




----- Original Message ----- 
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 15, 2003 7:41 PM
Subject: Summarization; sentence-level and document-level filters.


> Hi,
>
> is there any possibility to do sentence-level or document level analysis
> with the current Analysis/TokenStream architecture? Or where else is the
> best place to plug in customised document-level and sentence-level
analysis
> features? Is there any "precedence case" ?
>
> My technical problem:
>
> I'd like to include a summarization feature into my system, which should
(1)
> best make use of the architecture already there in Lucene, and (2) should
be
> able to trigger summarization on a per-document basis while requiring
> sentence-level information, such as full-stops and commas. To preserve
this
> "punctuation", a special Tokenizer can be used that outputs such landmarks
> as tokens instead of filtering them out. The actual SummaryFilter then
> filters out the punctuation for its successors in the Analyzer's filter
> chain.
>
> The other, more complex thing is the document-level information: As
Lucene's
> architecture uses a filter concept that does not know about the document
the
> tokens are generated from (which is good abstraction), a document-specific
> operation like summarization is a bit of an awkward thing with this (and
> originally not intended, I guess). On the other hand, I'd like to have the
> existing filter structure in place for preprocessing of the input, because
> my raw texts are generated by converters from other formats that output
> unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> anyway by my custom Analyzer.
>
> Any idea how to solve this second problem? Is there any support for such
> document / sentence structure analysis planned?
>
> Thanks and regards,
>
> Gregor
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 10:37:33 2003
Return-Path: 
 <lucene-user-return-6536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33175 invoked from network); 16 Dec 2003 10:37:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 10:37:33 -0000
Received: (qmail 32345 invoked by uid 500); 16 Dec 2003 10:37:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32316 invoked by uid 500); 16 Dec 2003 10:37:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32301 invoked from network); 16 Dec 2003 10:37:00 -0000
Received: from unknown (HELO mxout.t-online.net) (195.243.113.239)
  by daedalus.apache.org with SMTP; 16 Dec 2003 10:37:00 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Lock obtain timed out
Date: Tue, 16 Dec 2003 11:37:12 +0100
Message-ID: <08E5708CB5CDCF468B4B848BFA0A540205BC86@QEO00201.de.t-online.corp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lock obtain timed out
Thread-Index: AcPDwJGH9a0d/uxlSAC21fka+CzuDg==
From: "Hohwiller, Joerg" <j.hohwiller@t-online.net>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 16 Dec 2003 10:37:14.0240 (UTC)
 FILETIME=[91B80800:01C3C3C0]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

I have not yet got any response about my problem.

While debugging into the depth of lucene (really hard to read deep =
insde) I=20
discovered that it is possible to disable the Locks using a System =
property.

When I start my application with -DdisableLuceneLocks=3Dtrue,=20
I do not get the error anymore.

I just wonder if this is legal and wont cause other trouble???
As far as I could understand the source, a proper thread=20
synchronization is done using locks on Java Objects and
the index-store locks seem to be required only if multiple=20
lucenes (in different VMs) work on the same index.
In my situation there is only one Java-VM running and only one
lucene is working on one index.=20

Am I safe disabling the locking???
Can anybody tell me where to get documentation about the Locking
strategy (I still would like to know why I have that problem) ???

Or does anybody know where to get an official example of how to
handle concurrent index modification and searches?

Tank you so much
  J=F6rg

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 10:44:20 2003
Return-Path: 
 <lucene-user-return-6537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36663 invoked from network); 16 Dec 2003 10:44:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 10:44:20 -0000
Received: (qmail 40017 invoked by uid 500); 16 Dec 2003 10:43:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39767 invoked by uid 500); 16 Dec 2003 10:43:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39754 invoked from network); 16 Dec 2003 10:43:48 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 16 Dec 2003 10:43:48 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id LAA27406
        for <lucene-user@jakarta.apache.org>;
 Tue, 16 Dec 2003 11:46:32 +0100 (MET)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id LAA27392
        for <lucene-user@jakarta.apache.org>;
 Tue, 16 Dec 2003 11:46:32 +0100 (MET)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id LAA29720
        for <lucene-user@jakarta.apache.org>;
 Tue, 16 Dec 2003 11:46:41 +0100 (MET)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <Y597ZF0M>; Tue, 16 Dec 2003 11:44:46 +0100
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBACE@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lock obtain timed out
Date: Tue, 16 Dec 2003 11:44:42 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3C3C1.6CB86607"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3C3C1.6CB86607
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

I obtained this exception when I had more than one thread trying to =
create
an IndexWriter.
I solved it by placing the code using the IndexWriter in a synchronized
method.

Hope it will help,

Gilles.

-----Message d'origine-----
De : Hohwiller, Joerg [mailto:j.hohwiller@t-online.net]
Envoy=E9 : mardi 16 d=E9cembre 2003 11:37
=C0 : lucene-user@jakarta.apache.org
Objet : Lock obtain timed out


Hi there,

I have not yet got any response about my problem.

While debugging into the depth of lucene (really hard to read deep =
insde) I=20
discovered that it is possible to disable the Locks using a System =
property.

When I start my application with -DdisableLuceneLocks=3Dtrue,=20
I do not get the error anymore.

I just wonder if this is legal and wont cause other trouble???
As far as I could understand the source, a proper thread=20
synchronization is done using locks on Java Objects and
the index-store locks seem to be required only if multiple=20
lucenes (in different VMs) work on the same index.
In my situation there is only one Java-VM running and only one
lucene is working on one index.=20

Am I safe disabling the locking???
Can anybody tell me where to get documentation about the Locking
strategy (I still would like to know why I have that problem) ???

Or does anybody know where to get an official example of how to
handle concurrent index modification and searches?

Tank you so much
  J=F6rg

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3C3C1.6CB86607--

From MAILER-DAEMON Tue Dec 16 10:51:44 2003
Return-Path: 
 <lucene-user-return-6538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41380 invoked from network); 16 Dec 2003 10:51:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 10:51:44 -0000
Received: (qmail 46040 invoked by uid 500); 16 Dec 2003 10:51:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46008 invoked by uid 500); 16 Dec 2003 10:51:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45995 invoked from network); 16 Dec 2003 10:51:12 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 10:51:12 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id KAA13612
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 10:51:20 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121610512011726
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 10:51:20 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1MF7>; Tue, 16 Dec 2003 10:46:13 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A2D@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 10:46:03 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Treating them as two separate words when quoted is indicative of your 
> analyzer not being sufficient for your domain.  What Analyzer are you 
> using?  Do you have knowledge of what it is tokenizing text into?

I have created a custom analyzer (CobolAnalyzer) which contains some custom
stop words for the language, but it's using the StandardTokenizer and
StandardFilters. I'll have a look and see if I can see what it's actually
tokenizing the text into...

> Any ideas, or am I going to have to try and write my own query parser?

Well, if I manage to get something working, I'll let you know :-)

Thanks,
Iain

*****************************************
*  Micro Focus Developer Forum 2004     *
*  3 days that will make a difference   *
*  www.microfocus.com/devforum          *
*****************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 10:53:34 2003
Return-Path: 
 <lucene-user-return-6539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42533 invoked from network); 16 Dec 2003 10:53:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 10:53:34 -0000
Received: (qmail 49802 invoked by uid 500); 16 Dec 2003 10:53:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49775 invoked by uid 500); 16 Dec 2003 10:53:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49754 invoked from network); 16 Dec 2003 10:53:02 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 10:53:02 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id KAA13684
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 10:53:10 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121610531011761
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 10:53:10 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1MG0>; Tue, 16 Dec 2003 10:48:03 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A2E@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 10:48:00 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Gregor, I'll give it a try...

Iain

*****************************************
*  Micro Focus Developer Forum 2004     *
*  3 days that will make a difference   *
*  www.microfocus.com/devforum          *
*****************************************

-----Original Message-----
From: Gregor Heinrich [mailto:heinrich@igd.fhg.de]
Sent: 15 December 2003 18:32
To: 'Lucene Users List'
Subject: RE: Disabling modifiers?


If you don't want to fiddle with the JavaCC source of QueryParser.jj, you
could work with a regular expression that works in front of the actual query
parser. I just did something similar because I input Lucene's query strings
into a latent semantic analysis algorithm and remove words with + and ?
wildcards, boosting modifiers as well as NOT and - clauses and groupings.
Such as:

    /**
     *  exclude words that have these modifiers
     */
    public final String excludeWildcards = "\\w+\\+|\\w+\\?";
    /**
     *  remove these operators
     */
    public final String removeOperators = "AND|OR|UND|ODER|&&|\\|\\|";
    /**
     *  remove these modifiers
     */
    public final String removeModifiers = "~[0-9\\.]*|~|\\^[0-9\\.]*|\\*";
    /**
     *  exclude phrases that have these modifiers
     */
    public final String excludeNot = "(NOT |\\-) *\\w+|(NOT|\\-)
*\\([^\\)]+\\)|(NOT |\\-) *\\\"[^\\\"]+\\\"";

    /**
     * remove any groupings
     */
    public final String removeGrouping = "[\\\"\\(\\)]";

You then create Pattern objects from the strings using Pattern.compile() and
can use and re-use the compiled patterns.

excludeWildcardsPattern = Pattern.compile(excludeWildcards);

lsaQ = excludeWildcardsPattern.matcher(q).replaceAll("");

This works fine for me. However, this 20 minutes approach does not recognise
nested parentheses with NOT or -, i.e.,
the term <tt>"NOT ((a OR b) AND (c OR d))"</tt> will result in the removal
of <tt>"NOT ((a OR b"</tt> and <tt>"c d"</tt> will still be in the output
query.

Best regards,

Gregor

-----Original Message-----
From: Iain Young [mailto:Iain.Young@microfocus.com]
Sent: Monday, December 15, 2003 6:13 PM
To: Lucene mailing list (E-mail)
Subject: Disabling modifiers?


A quick question. Is there any way to disable the - and + modifiers in the
QueryParser? I'm trying to use Lucene to provide indexing of COBOL source
code, and allow me to highlight matches when the code is displayed. In COBOL
you can have variable names such as DISP-NAME and WS-DATE-1 for example.
Unfortunately the query parser interprets the - signs as modifiers and so
the query does not do what is required.

I've had a bit of success by putting quotes around the offending names, (as
suggested on this list), but the results are still less than satisfactory,
(it removes the "NOT" from the query, but still treats DISP and NAME as two
separate words rather than one word and so the results are not quite
correct).

Any ideas, or am I going to have to try and write my own query parser?

Thanks,
Iain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 11:08:06 2003
Return-Path: 
 <lucene-user-return-6540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51147 invoked from network); 16 Dec 2003 11:08:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 11:08:06 -0000
Received: (qmail 62528 invoked by uid 500); 16 Dec 2003 11:07:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62497 invoked by uid 500); 16 Dec 2003 11:07:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62483 invoked from network); 16 Dec 2003 11:07:31 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 16 Dec 2003 11:07:31 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 9500919B723
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 12:07:45 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hBGB7jlJ003524
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 12:07:45 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hBGB7iNd003520;
	Tue, 16 Dec 2003 12:07:44 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16350.59264.526532.289797@tanto-xipolis.de>
Date: Tue, 16 Dec 2003 12:07:44 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lock obtain timed out
In-Reply-To: 
 <08E5708CB5CDCF468B4B848BFA0A540205BC86@QEO00201.de.t-online.corp>
References: <08E5708CB5CDCF468B4B848BFA0A540205BC86@QEO00201.de.t-online.corp>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hohwiller, Joerg writes:
> 
> Am I safe disabling the locking???

No.

> Can anybody tell me where to get documentation about the Locking
> strategy (I still would like to know why I have that problem) ???
> 
I guess -- but given your input I really have to guess; the source you
wanted to attach didn't make it to the list -- your problem is, that
you cannot have a writing (deleting) IndexReader and an IndexWriter open
at the same time.
There can only be one instance that writes to an index at one time.

Disabling locking disables the checks, but then you have to take care
yourself. So in practice disabling locking is useful for readonly access
to static indices only.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 11:36:16 2003
Return-Path: 
 <lucene-user-return-6541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64901 invoked from network); 16 Dec 2003 11:36:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 11:36:16 -0000
Received: (qmail 85844 invoked by uid 500); 16 Dec 2003 11:36:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85807 invoked by uid 500); 16 Dec 2003 11:36:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85793 invoked from network); 16 Dec 2003 11:36:10 -0000
Received: from unknown (HELO dougal.magus.co.uk) (193.130.109.2)
  by daedalus.apache.org with SMTP; 16 Dec 2003 11:36:10 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lock obtain timed out
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Tue, 16 Dec 2003 11:34:16 -0000
Message-ID: <51194813DA293D4CA3FC4AD392F8D99305B0F32E@mailhost.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lock obtain timed out
Thread-Index: AcPDxVeSS1mKotXBRdm7UEfTprBPOwAAfk0Q
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does this mean if you can insure that only one IndexWriter and/or =
IndexReader(Doing deletion) are never open at the same time (eg using =
database instead of lucene's locking), there will be no problem with =
removing locking?   If you do not use an IndexReader to do deletion can =
you open and close it at anytime?

David
-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto-xipolis.de]
Sent: 16 December 2003 11:08
To: Lucene Users List
Subject: Re: Lock obtain timed out


Hohwiller, Joerg writes:
>=20
> Am I safe disabling the locking???

No.

> Can anybody tell me where to get documentation about the Locking
> strategy (I still would like to know why I have that problem) ???
>=20
I guess -- but given your input I really have to guess; the source you
wanted to attach didn't make it to the list -- your problem is, that
you cannot have a writing (deleting) IndexReader and an IndexWriter open
at the same time.
There can only be one instance that writes to an index at one time.

Disabling locking disables the checks, but then you have to take care
yourself. So in practice disabling locking is useful for readonly access
to static indices only.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 11:52:08 2003
Return-Path: 
 <lucene-user-return-6542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72254 invoked from network); 16 Dec 2003 11:52:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 11:52:08 -0000
Received: (qmail 97810 invoked by uid 500); 16 Dec 2003 11:52:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97773 invoked by uid 500); 16 Dec 2003 11:52:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97752 invoked from network); 16 Dec 2003 11:52:01 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 11:52:01 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id LAA15973
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 11:51:56 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121611515613031
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 11:51:56 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1NPW>; Tue, 16 Dec 2003 11:46:48 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A2F@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 11:46:43 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think it is a problem with the indexing. I've found another example...

WS-CA-PP00-PROCESS-YYMM

I've looked at the index, and it has been tokenized into 3 words...

WS
CA-PP00-PROCESS
YYMM

Looks as though I might have to use a custom tokenizer as well as an
analyzer then, but any ideas as to why the standard tokenizer would have
split the variable up like this (i.e. why didn't it split the middle bit,
only the word off either end)? The only thing I can think of is that there
are several other variables in the source beginning with WS- or ending with
-YYMM, so could the tokenizer have seen this and be doing something clever
with them?

Thanks,
Iain

*****************************************
*  Micro Focus Developer Forum 2004     *
*  3 days that will make a difference   *
*  www.microfocus.com/devforum          *
*****************************************



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 12:28:34 2003
Return-Path: 
 <lucene-user-return-6543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87738 invoked from network); 16 Dec 2003 12:28:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 12:28:34 -0000
Received: (qmail 43676 invoked by uid 500); 16 Dec 2003 12:28:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43645 invoked by uid 500); 16 Dec 2003 12:28:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43632 invoked from network); 16 Dec 2003 12:28:28 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 16 Dec 2003 12:28:28 -0000
Received: (cpmta 24718 invoked from network); 16 Dec 2003 04:28:28 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 16 Dec 2003 04:28:28 -0800
X-Sent: 16 Dec 2003 12:28:28 GMT
Date: Tue, 16 Dec 2003 07:28:26 -0500
Subject: Re: Disabling modifiers?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A2D@nwb-corpmail.microfocus.com>
Message-Id: <58BDB148-2FC3-11D8-9DF3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, December 16, 2003, at 05:46  AM, Iain Young wrote:
>> Treating them as two separate words when quoted is indicative of your
>> analyzer not being sufficient for your domain.  What Analyzer are you
>> using?  Do you have knowledge of what it is tokenizing text into?
>
> I have created a custom analyzer (CobolAnalyzer) which contains some 
> custom
> stop words for the language, but it's using the StandardTokenizer and
> StandardFilters. I'll have a look and see if I can see what it's 
> actually
> tokenizing the text into...

Look at my article at java.net and try out the AnalyzerDemo code using 
some sample text and your custom analyzer:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

One of the things I plan to do with an enhanced Lucene demo to ship 
with Lucene's binary distributions is integrate in this type of 
"analyzing the analyzer" feature.  It is the root of a lot of questions 
about Lucene.  You can really only search for what you index, and you 
only index what the Analyzer creates, so understanding it is key to a 
lot.

And yes, if you are using StandardTokenizer, you are probably not 
tokenizing COBOL quite like you expect.  Is there a COBOL parser you 
could tap into that could give you the tokens you want?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 12:31:23 2003
Return-Path: 
 <lucene-user-return-6544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88796 invoked from network); 16 Dec 2003 12:31:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 12:31:23 -0000
Received: (qmail 45849 invoked by uid 500); 16 Dec 2003 12:31:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45812 invoked by uid 500); 16 Dec 2003 12:31:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45771 invoked from network); 16 Dec 2003 12:31:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 16 Dec 2003 12:31:11 -0000
Received: (cpmta 22809 invoked from network); 16 Dec 2003 04:31:11 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 16 Dec 2003 04:31:11 -0800
X-Sent: 16 Dec 2003 12:31:11 GMT
Date: Tue, 16 Dec 2003 07:31:09 -0500
Subject: Re: Disabling modifiers?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <58BDB148-2FC3-11D8-9DF3-000393A564E6@ehatchersolutions.com>
Message-Id: <B9D6E604-2FC3-11D8-9DF3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, December 16, 2003, at 07:28  AM, Erik Hatcher wrote:
> And yes, if you are using StandardTokenizer, you are probably not 
> tokenizing COBOL quite like you expect.  Is there a COBOL parser you 
> could tap into that could give you the tokens you want?

Ummm..... nevermind that last question... I just realized where you 
work!  :)

So, my recommendation would be to tap into some parser for the COBOL 
language that you have handy and have it feed your Analyzer 
appropriately.  Or, use something very very simple like the 
WhitespaceAnalyzer as a first try.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 12:37:11 2003
Return-Path: 
 <lucene-user-return-6545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90915 invoked from network); 16 Dec 2003 12:37:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 12:37:11 -0000
Received: (qmail 52795 invoked by uid 500); 16 Dec 2003 12:37:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52762 invoked by uid 500); 16 Dec 2003 12:37:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52747 invoked from network); 16 Dec 2003 12:37:04 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 12:37:04 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id MAA17579
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 12:36:59 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121612365913878
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 12:36:59 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK13G4>; Tue, 16 Dec 2003 12:31:51 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A32@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 12:31:49 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

<grin> Yes we have got one or two parsers floating around somewhere or other
;)

Unfortunately, I'm unlikely to be able to tap into these before next version
of the product I'm working on (can't say too much because of the nda etc),
and so for now I'm having to make do with a basic text search. I'll give the
whitespace analyzer a try and see if I get any better results.

Thanks,
Iain

*****************************************
*  Micro Focus Developer Forum 2004     *
*  3 days that will make a difference   *
*  www.microfocus.com/devforum          *
*****************************************

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: 16 December 2003 12:31
To: Lucene Users List
Subject: Re: Disabling modifiers?


On Tuesday, December 16, 2003, at 07:28  AM, Erik Hatcher wrote:
> And yes, if you are using StandardTokenizer, you are probably not 
> tokenizing COBOL quite like you expect.  Is there a COBOL parser you 
> could tap into that could give you the tokens you want?

Ummm..... nevermind that last question... I just realized where you 
work!  :)

So, my recommendation would be to tap into some parser for the COBOL 
language that you have handy and have it feed your Analyzer 
appropriately.  Or, use something very very simple like the 
WhitespaceAnalyzer as a first try.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 13:50:43 2003
Return-Path: 
 <lucene-user-return-6546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25499 invoked from network); 16 Dec 2003 13:50:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 13:50:43 -0000
Received: (qmail 42926 invoked by uid 500); 16 Dec 2003 13:50:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42865 invoked by uid 500); 16 Dec 2003 13:50:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42851 invoked from network); 16 Dec 2003 13:50:32 -0000
Received: from unknown (HELO mxout.t-online.net) (195.243.113.239)
  by daedalus.apache.org with SMTP; 16 Dec 2003 13:50:32 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lock obtain timed out
Date: Tue, 16 Dec 2003 14:50:31 +0100
Message-ID: <08E5708CB5CDCF468B4B848BFA0A540205BC87@QEO00201.de.t-online.corp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RE: Lock obtain timed out
Thread-Index: AcPD25IjlhklJ3ZSR3idn9W2ul0/5Q==
From: "Hohwiller, Joerg" <j.hohwiller@t-online.net>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 16 Dec 2003 13:50:32.0806 (UTC)
 FILETIME=[9300C060:01C3C3DB]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

thanks for your resonse guys!

For the answers I got the info that I must not have an IndexWriter
and an IndexReader open at the same time that both want to modify
the index - even sequentially.

What I have is the following:

1 Thread is working out events such as resource (file or folder)
  was added/removed/deleted/etc. All index modifications are
  synchronized against a write-lock object.

1 Thread does "index switching" what means that he synchronizes on
  the write lock and then closes modifying index-reader and =
index-writer.
  Next it copies that index completely and reopens the index-reader and
  -writer on the copied index.
  Then he syncs on the read lock and closes the index searcher and
  reopens it on the index that was previously copied.

N Threads that perform search requestes but sync against the read-lock.

Since I can garantee that there is only one thread working out the
change events sequentially, the index-writer and index-reader will never
do any concurrent modifications.

This time I will attatch my source as text in this mail to get sure.
For those who do not know avalon/exalibur: It is a framework that
will be the only one calling the configure/start/stop methods.
No one can access the instance until it is properly created, configured
and started so synchronization is not neccessary in the start method.

Thanks again
  J=F6rg
----
/**
 * This is the implementation of the ISearchManager using lucene as =
underlying
 * search engine.<br/>
 * Everything would be so simple if lucene was thread-safe for =
concurrently
 * modifying and searching on the same index, but it is not. <br/>
 * My first idea was to have a single index that is continiusly modified =
and a
 * background thread that continuosly closes and reopens the index =
searcher.
 * This should bring most recent search results but it did not work =
proberly
 * with lucene.<br/> =20
 * My strategy now is to have multiple indexes and to cycle over all of =
them
 * in a backround thread copying the most recent one to the next (least =
recent)
 * one. Index modifications are always performed on the most recent =
index,=20
 * while searching is always performed on the second recent (copy of =
the) index.
 * This stategy results in less acutal (but still very acceptable) =
actuality
 * of search results. Further it produces a lot more disk space overhead =
but
 * with the advantage of having backups of the index.<br/>
 * Because the search must filter the search results the user does not =
have=20
 * read access on, it can also filter the results that do not exist =
anymore
 * without further costs. =20
 *=20
 * @author Joerg Hohwiller (jhohwill)
 */
public class SearchManager
    extends AbstractManager
    implements
        ISearchManager,
        IDataEventListener,
        Startable,
        Serviceable,
        Disposable,
        Configurable,
        Runnable,
        ThreadSafe {

    /**=20
     * A background thread is switching/updating the index used for =
indexing
     * and/or searching. The thread sleeps an amount of this constant in =

     * milliseconds until the next switch is done.<br/>
     * The shorter the delay, the more actual the search results but =
also the
     * more preformance overhead is produced.<br/>
     * Be aware that the delay does not determine the index switching =
frequency
     * because after a sleep of the delay, the index is copied and the =
switched.
     * This required time for this operation does depend on the size of =
the
     * index. This also means that the bigger the index, the less acutal =
are
     * the search results.<br/>=20
     * A value of 60 seconds (60 * 1000L) should be OK.=20
     */
    private static final long INDEX_SWITCH_DELAY =3D 30 * 1000L;

    /** the URI field name */
    public static final String FIELD_URI =3D "uri";

    /** the title field name */
    public static final String FIELD_TITLE =3D "dc_title";

    /** the text field name */
    public static final String FIELD_TEXT =3D "text";

    /** the read action */
    private static final String READ_ACTION_URI =3D "/actions/read";

    /** the name of the configuration tag for the index settings */
    private static final String CONFIGURATION_TAG_INDEXER =3D "indexer";

    /** the name of the configuration attribute for the index path */
    private static final String CONFIGURATION_ATTRIBUTE_INDEX_PATH =3D =
"index-path";

    /** the user used to access resources for indexing (global read =
access) */
    private static final String SEARCH_INDEX_USER =3D "indexer";

    /** the maximum number of search hits */
    private static final int MAX_SEARCH_HITS =3D 100;

    /** the default analyzer used for the search index */
    private static final Analyzer ANALYZER =3D new StandardAnalyzer();

    /**=20
     * the number of indexes used, must be at least 3:
     * <ul>
     *   <li>one for writing/updating</li>
     *   <li>one for read/search</li>
     *   <li>one temporary where the index is copied to</li>
     * </ul>
     * All further indexes will act as extra backups of the index but =
will
     * also waste more disk space.=20
     */
    private static final int INDEX_COUNT =3D 3;

    /** the descriptor manager used for searching, restricted to query =
method!!! */
    private IDescriptorManager searchDescriptorManager;

    /** the descriptor manager used for indexing */
    private IDescriptorManager indexDescriptorManager;

    /** the read lock object used to synchronize read access (search =
queries) */
    private Object readLock;

    /** the write lock object used to synchronize write access (index =
modification) */
    private Object writeLock;

    /** the event manager */
    private IDataEventManager eventManager;

    /** the writer used to add documents to the index */
    private IndexWriter indexWriter;

    /** the reader used to remove documents from the index */
    private IndexReader indexReader;

    /** the index searcher */
    private Searcher searcher;

    /** the path where the indexes is stored */
    private String indexPath;

    /** the index directories */
    private File[] indexDirectories;

    /** the array-index in the indexDir for the currently used write =
index */
    private int indexPosition;

    /** this flag is set to <code>true</code> if the background thread =
should stop */
    private boolean done;

    /** the background thread that updates the indexes for search */
    private Thread backgroundThread;

    /** the factory to gets search parsers by mimetype */
    private SearchParserFactory parserFactory;

    /**
     * The constructor.
     */
    public SearchManager() {
        super();
        this.indexWriter =3D null;
        this.indexReader =3D null;
        this.indexPath =3D null;
        this.done =3D false;
        this.backgroundThread =3D null;
        this.parserFactory =3D new SearchParserFactory();
        this.readLock =3D new Object();
        this.writeLock =3D new Object();
    }
   =20
    /**
     * This method adds a resource to the search index.
     *=20
     * @param resourceUri is the URI of the resource to be added to the =
index.
     * @param htmlPath is the path to the rendered html version of the=20
     *         resource or <code>null</code> if the document has not =
(maybe only
     *         yet) been rendered to html.
     */
    public void addResource(String resourceUri, String htmlPath) {
        try {
            //create a lucene document...
            Document document =3D new Document();

            //add the URI as field to that document (used as ID of the =
document)
            document.add(Field.Keyword(FIELD_URI, resourceUri));

            //set the default title
            String title =3D FileUtil.basename(resourceUri);

            //determine the mimetype by extension
            String mimetype =3D null;
            if (htmlPath =3D=3D null) {
                mimetype =3D DmsUtil.getMimetype(resourceUri);
            } else {
                mimetype =3D DmsUtil.MIMETYPE_HTML;
            }

            ISearchParser parser =3D =
this.parserFactory.getParser(mimetype);
            if (parser !=3D null) {
                InputStream contentStream =3D null;
                try {
                    if (htmlPath =3D=3D null) {
                        contentStream =3D
                            =
this.indexDescriptorManager.getResourceContent(resourceUri);
                    } else {
                        contentStream =3D new FileInputStream(htmlPath);
                    }
                    String newTitle =3D parser.parse(document, =
contentStream);
                    if (newTitle !=3D null) {
                        title =3D newTitle;
                    }
                } catch (SearchParserException e1) {
                    getLogger().debug(e1.getMessage());
                } catch (Throwable t) {
                    getLogger().debug(t.getMessage());
                } finally {
                    if (contentStream !=3D null) {
                        contentStream.close();
                    }
                }
            }

            Enumeration metaDataList =3D =
this.indexDescriptorManager.getMetaData(resourceUri);
            while (metaDataList.hasMoreElements()) {
                IMetaData metaData =3D (IMetaData) =
metaDataList.nextElement();
                Object value =3D metaData.getValue();
                String text =3D null;
                String key =3D (metaData.getNamespace() + "_" + =
metaData.getName()).toLowerCase();
                //do not add empty meta fields...
                if (value !=3D null) {
                    text =3D String.valueOf(value);
                    if (text.length() =3D=3D 0) {
                        text =3D null;
                    }
                }
                if (text !=3D null) {
                    if (FIELD_TITLE.equals(key)) {
                        title =3D text;
                    } else {
                        document.add(Field.Text(key, text));
                    }
                }
            }
            document.add(Field.Text(FIELD_TITLE, title));

            synchronized (this.writeLock) {
                this.indexWriter.addDocument(document);
            }
        } catch (IOException e) {
            throw new DmsServiceException("Search index error!", e);
        } catch (ResourceNotExistsException e) {
            throw new DmsServiceException("Search index error!", e);
        } catch (AccessException e) {
            throw new DmsServiceException("Search index error!", e);
        }
    }

    /**
     * This method removes a resource from the search index.
     *=20
     * @param resourceUri is the URI of the resource to delete from the =
index.
     */
    public void removeResource(String resourceUri) {
        try {
            synchronized (this.writeLock) {
                this.indexReader.delete(new Term(FIELD_URI, =
resourceUri));
            }
        } catch (IOException e) {
            throw new DmsServiceException("Search index error!", e);
        }
    }

    /**
     * This method updates (reindexes) a resource in the search index.
     *=20
     * @param resourceUri is the resource to update in the index.
     */
    public void updateResource(String resourceUri) {
        //keep it simple so far...
        removeResource(resourceUri);
        addResource(resourceUri, null);
    }

    /**
     * This method moves/renames a resource in the index.
     *=20
     * @param sourceUri is the old URI of the resource that has moved.
     * @param targetUri is the new URI of the resource that has moved.
     */
    public void moveResource(String sourceUri, String targetUri) {
        removeResource(sourceUri);
        addResource(targetUri, null);
    }

    /**
     * This method moves/renames a resource in the index.
     *=20
     * @param sourceUri is the old URI of the resource that has moved.
     * @param targetUri is the new URI of the resource that has moved.
     */
    public void copyResource(String sourceUri, String targetUri) {
        addResource(targetUri, null);
    }

    /**
     * @see org.apache.avalon.framework.activity.Startable#start()
     */
    public void start() throws Exception {
        boolean createFreshIndex =3D true;

        //create all index directories and determine the most recent one =
if
        //one exists...
        this.indexPosition =3D 0;
        long latestModified =3D 0;
        this.indexDirectories =3D new File[INDEX_COUNT];
        for (int i =3D 0; i < INDEX_COUNT; i++) {
            this.indexDirectories[i] =3D new File(this.indexPath, =
"index" + i);
            if (this.indexDirectories[i].isDirectory()) {
                long lastModified =3D =
this.indexDirectories[i].lastModified();
                if (lastModified > latestModified) {
                    //this is currently the most recent index.
                    this.indexPosition =3D i;
                    latestModified =3D lastModified;
                }
                createFreshIndex =3D false;
            } else {
                this.indexDirectories[i].mkdirs();
            }
        }

        //TODO: this is only for testing!!!
        createFreshIndex =3D true;

        int startIndexPosition =3D this.indexPosition;
        boolean recoverWriteIndex =3D !createFreshIndex;
        while (recoverWriteIndex) {
            try {
                this.indexWriter =3D
                    new =
IndexWriter(this.indexDirectories[this.indexPosition], ANALYZER, false);
                this.indexWriter.maxFieldLength =3D 1000000;
                this.indexWriter.optimize();
                this.indexReader =3D =
IndexReader.open(this.indexDirectories[this.indexPosition]);
                recoverWriteIndex =3D false;
            } catch (Throwable t) {
                //the index could not be recovered...
                getLogger().warn(
                    "The index ("
                        + =
this.indexDirectories[this.indexPosition].getName()
                        + ") is broken!");
                //now we cycle backwards, because we want to have the =
most recent=20
                //index that is valid.
                this.indexPosition--;
                if (this.indexPosition < 0) {
                    this.indexPosition =3D INDEX_COUNT - 1;
                }
                if (startIndexPosition =3D=3D this.indexPosition) {
                    //oh,oh all indexes are broken
                    getLogger().fatalError(
                        "All indexes are borken, search engine is in big =
trouble!");
                    break;
                }
            }
        }
        if (!createFreshIndex) {
            if (recoverWriteIndex) {
                //all indexes are broken, we actually have to rebuild =
the index=20
                //from scratch!
                //There is only one problem - this is not implemented
                createFreshIndex =3D true;
                //TODO implement fallback index rebuild               =20

                //} else {
                //okay this is the regular case: the write index is =
recovered,=20
                //now we have to build a read index...

            }
        }
        if (createFreshIndex) {
            //maybe this is the first start of the DMS, we create a =
fresh index.
            try {
                this.indexWriter =3D
                    new =
IndexWriter(this.indexDirectories[this.indexPosition], ANALYZER, true);
                this.indexWriter.maxFieldLength =3D 1000000;
                this.indexReader =3D =
IndexReader.open(this.indexDirectories[this.indexPosition]);
            } catch (Throwable t) {
                getLogger().fatalError("No (fresh) search index could be =
created!", t);
                throw new DmsServiceException("Search engine could not =
startup!", t);
            }
        }
        //now we have a working write index, next we have to create a =
copy to
        //use as read index...
        int readIndexPosition =3D this.indexPosition - 1;
        if (readIndexPosition < 0) {
            readIndexPosition =3D INDEX_COUNT - 1;
        }
        FileUtil.copy(
            this.indexDirectories[this.indexPosition],
            this.indexDirectories[readIndexPosition],
            true);
        //since we just copied the index, we assume that everyting goes =
right here...
        this.searcher =3D
            new =
IndexSearcher(IndexReader.open(this.indexDirectories[readIndexPosition]))=
;

        //now lets go...
        this.eventManager.addChangeListener(this);
        this.backgroundThread =3D new Thread(this, "Index Switcher");
        this.backgroundThread.start();
    }

    /**
     * @see org.apache.avalon.framework.activity.Startable#stop()
     */
    public void stop() throws Exception {
        this.eventManager.removeChangeListener(this);
        this.done =3D true;
        this.backgroundThread.interrupt();
        this.backgroundThread =3D null;
        synchronized (this.writeLock) {
            this.indexReader.close();
            this.indexWriter.optimize();
            this.indexWriter.close();
        }
        synchronized (this.readLock) {
            this.searcher.close();
        }
    }

    /**
     * @see =
org.apache.avalon.framework.configuration.Configurable#configure(org.apac=
he.avalon.framework.configuration.Configuration)
     */
    public void configure(Configuration configuration) throws =
ConfigurationException {
        Configuration settings =3D =
configuration.getChild(CONFIGURATION_TAG_INDEXER);
        this.indexPath =3D =
settings.getAttribute(CONFIGURATION_ATTRIBUTE_INDEX_PATH);
    }

    public Enumeration query(DmsSession session, String query) throws =
IllegalQueryException {
        try {
            query =3D query.toLowerCase();
            Query parsedQuery =3D QueryParser.parse(query, FIELD_TEXT, =
ANALYZER);

            Hits hitList =3D null;
            synchronized (this.readLock) {
                hitList =3D this.searcher.search(parsedQuery);
            }
            //maybe the rest has to be synchronized, too...

            int len =3D Math.min(MAX_SEARCH_HITS, hitList.length());
            if (len =3D=3D 0) {
                return EmptyEnumeration.getInstance();
            }
            this.searchDescriptorManager.setSession(session);
            Vector result =3D new Vector(len);

            //necessary to expand search terms:
            //parsedQuery =3D parsedQuery.rewrite(getIndexReader());
            QueryHighlightExtractor highlighter =3D
                new QueryHighlightExtractor(parsedQuery, ANALYZER, =
"<b>", "</b>");
            for (int i =3D 0; i < len; i++) {
                String uri =3D "unknown";
                try {
                    Document doc =3D hitList.doc(i);
                    uri =3D doc.get(FIELD_URI);
                    if (uri =3D=3D null) {
                        getLogger().debug("found document with =
uri=3Dnull!");
                    } else {
                        String title =3D doc.get(FIELD_TITLE);
                        if =
(this.searchDescriptorManager.checkPermission(uri, READ_ACTION_URI)) {
                            String text =3D doc.get(FIELD_TEXT);
                            String highlightedText =3D "";
                                //highlighter.getBestFragments(text, 80, =
3, "...") + "...";
                            ISearchResult hit =3D
                                new SearchResult(uri, hitList.score(i), =
title, highlightedText);
                            result.add(hit);
                        }
                    }
                } catch (ResourceNotExistsException e1) {
                    getLogger().info("Search found illegal uri (" + uri =
+ ")!");
                } catch (DmsServiceException e) {
                    getLogger().warn("Problems with uri (" + uri + ")!", =
e);
                } catch (IOException e) {
                    getLogger().warn("Problems with index", e);
                }
            }
            return result.elements();
        } catch (ParseException e) {
            throw new IllegalQueryException("Illegal query (" + query + =
")!", e);
        } catch (IOException e) {
            throw new DmsServiceException("Search index error!", e);
        }
    }

    public void dataChanged(DataEvent event) {
        if (event.getDataType() =3D=3D IResource.DATA_TYPE) {
            if (event.isAddEvent()) {
                addResource(event.getSourceUri(), null);
            } else if (event.isRenderEvent()) {
                String mimetype =3D (String) =
event.getParameter(DataEvent.KEY_RENDER_MIMETYPE);
                if (DmsUtil.MIMETYPE_HTML.equals(mimetype)) {
                    String filepath =3D (String) =
event.getParameter(DataEvent.KEY_RENDER_FILEPATH);
                    addResource(event.getSourceUri(), filepath);
                }
            } else if (event.isModifyEvent() || =
event.isMetadataModifyEvent()) {
                updateResource(event.getSourceUri());
            } else if (event.isRemoveEvent()) {
                removeResource(event.getSourceUri());
            } else if (event.isRenameEvent()) {
                moveResource(event.getSourceUri(), =
event.getTargetUri());
            } else if (event.isCopyEvent()) {
                copyResource(event.getSourceUri(), =
event.getTargetUri());
            }
        }
    }

    /**
     * @see =
org.apache.avalon.framework.service.Serviceable#service(org.apache.avalon=
.framework.service.ServiceManager)
     */
    public void service(ServiceManager manager) throws ServiceException =
{
        super.service(manager);
        //the descriptor manager must only be used in the query method,
        //because its session is concurrently modified.
        this.searchDescriptorManager =3D
            (IDescriptorManager) =
getServiceManager().lookup(IDescriptorManager.ROLE);
        //for the indexing this descriptor manager is used that holds a =
fixed
        //session with an index-specific user that has appropriate =
rights.
        this.indexDescriptorManager =3D
            (IDescriptorManager) =
getServiceManager().lookup(IDescriptorManager.ROLE);
        =
this.indexDescriptorManager.setSession(DmsSession.createSession(SEARCH_IN=
DEX_USER));

        //register ourself as event listener...
        this.eventManager =3D (IDataEventManager) =
getServiceManager().lookup(IDataEventManager.ROLE);
    }

    /**
     * @see org.apache.avalon.framework.activity.Disposable#dispose()
     */
    public void dispose() {
        //this.eventManager.removeChangeListener(this);
        getServiceManager().release(this.eventManager);
        getServiceManager().release(this.searchDescriptorManager);
        this.searchDescriptorManager =3D null;
        getServiceManager().release(this.indexDescriptorManager);
        this.searchDescriptorManager =3D null;
    }

    /**
     * @see java.lang.Runnable#run()
     */
    public void run() {
        while (!this.done) {
            DmsUtil.doSleep(INDEX_SWITCH_DELAY);
            try {
                int oldIndexPosition =3D this.indexPosition;
                synchronized (this.writeLock) {
                    this.indexWriter.optimize();
                    this.indexWriter.close();
                    this.indexReader.close();
                    this.indexPosition++;
                    if (this.indexPosition >=3D INDEX_COUNT) {
                        this.indexPosition =3D 0;
                    }
                    =
FileUtil.delete(this.indexDirectories[this.indexPosition]);
                    FileUtil.copy(
                        this.indexDirectories[oldIndexPosition],
                        this.indexDirectories[this.indexPosition],
                        true);
                    this.indexWriter =3D
                        new IndexWriter(
                            this.indexDirectories[this.indexPosition],
                            ANALYZER,
                            false);
                    this.indexReader =3D =
IndexReader.open(this.indexDirectories[this.indexPosition]);
                }
                synchronized (this.readLock) {
                    this.searcher.close();
                    this.searcher =3D
                        new IndexSearcher(
                            =
IndexReader.open(this.indexDirectories[oldIndexPosition]));
                }
            } catch (IOException e) {
                getLogger().fatalError("Index Switching failed - search =
engine in trouble!", e);
            }
        }
    }

}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 13:57:56 2003
Return-Path: 
 <lucene-user-return-6548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28460 invoked from network); 16 Dec 2003 13:57:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 13:57:56 -0000
Received: (qmail 50286 invoked by uid 500); 16 Dec 2003 13:57:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50060 invoked by uid 500); 16 Dec 2003 13:57:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50046 invoked from network); 16 Dec 2003 13:57:47 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 13:57:47 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id NAA20502
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 13:57:43 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121613574215237
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 13:57:42 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1PKZ>; Tue, 16 Dec 2003 13:52:35 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A35@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 13:52:34 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Karl. 

-----Original Message-----
From: Karl Penney [mailto:karl.penney@eastech.ca]
Sent: 16 December 2003 13:58
To: Lucene Users List
Subject: Re: Disabling modifiers?


One of the token patterns defined by the StandardTokenizer.jj is this:
<NUM: (<ALPHANUM> <P> <HAS_DIGIT>

| <HAS_DIGIT> <P> <ALPHANUM>

| <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+

| <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+

| <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+

| <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+

)

So basically if you have some sequences of characters separated by a "-"
character, sequences that contain a digit will be combined with sequences
which are adjacent to it to form a single token.  That explains why the WS
and YYMM sequences got separated out.  You can alter this behavior this with
some simple changes to StandardTokenizer.jj.

----- Original Message -----
From: "Iain Young" <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 16, 2003 7:46 AM
Subject: RE: Disabling modifiers?


> I think it is a problem with the indexing. I've found another example...
>
> WS-CA-PP00-PROCESS-YYMM
>
> I've looked at the index, and it has been tokenized into 3 words...
>
> WS
> CA-PP00-PROCESS
> YYMM
>
> Looks as though I might have to use a custom tokenizer as well as an
> analyzer then, but any ideas as to why the standard tokenizer would have
> split the variable up like this (i.e. why didn't it split the middle bit,
> only the word off either end)? The only thing I can think of is that there
> are several other variables in the source beginning with WS- or ending
with
> -YYMM, so could the tokenizer have seen this and be doing something clever
> with them?
>
> Thanks,
> Iain
>
> *****************************************
> *  Micro Focus Developer Forum 2004     *
> *  3 days that will make a difference   *
> *  www.microfocus.com/devforum          *
> *****************************************
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 13:53:21 2003
Return-Path: 
 <lucene-user-return-6547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26683 invoked from network); 16 Dec 2003 13:53:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 13:53:21 -0000
Received: (qmail 45199 invoked by uid 500); 16 Dec 2003 13:53:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45050 invoked by uid 500); 16 Dec 2003 13:53:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44908 invoked from network); 16 Dec 2003 13:53:09 -0000
Received: from unknown (HELO mail.eastech.ca) (24.138.31.110)
  by daedalus.apache.org with SMTP; 16 Dec 2003 13:53:09 -0000
Received: from Spooler by mail.eastech.ca (Mercury/32 v3.30) ID MO007A68;
    16 Dec 03 10:10:53 -0400
Received: from spooler by mail.eastech.ca (Mercury/32 v3.30);
 16 Dec 03 10:09:36 -0400
Received: from PENNEYK (192.168.10.77) by mail.eastech.ca (Mercury/32 v3.30)
 with ESMTP ID MG007A67;
   16 Dec 03 10:09:33 -0400
Message-ID: <006001c3c3dc$af727080$4d0aa8c0@PENNEYK>
From: "Karl Penney" <karl.penney@eastech.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A2F@nwb-corpmail.microfocus.com>
Subject: Re: Disabling modifiers?
Date: Tue, 16 Dec 2003 09:58:28 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

One of the token patterns defined by the StandardTokenizer.jj is this:
<NUM: (<ALPHANUM> <P> <HAS_DIGIT>

| <HAS_DIGIT> <P> <ALPHANUM>

| <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+

| <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+

| <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+

| <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+

)

So basically if you have some sequences of characters separated by a "-"
character, sequences that contain a digit will be combined with sequences
which are adjacent to it to form a single token.  That explains why the WS
and YYMM sequences got separated out.  You can alter this behavior this with
some simple changes to StandardTokenizer.jj.

----- Original Message -----
From: "Iain Young" <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 16, 2003 7:46 AM
Subject: RE: Disabling modifiers?


> I think it is a problem with the indexing. I've found another example...
>
> WS-CA-PP00-PROCESS-YYMM
>
> I've looked at the index, and it has been tokenized into 3 words...
>
> WS
> CA-PP00-PROCESS
> YYMM
>
> Looks as though I might have to use a custom tokenizer as well as an
> analyzer then, but any ideas as to why the standard tokenizer would have
> split the variable up like this (i.e. why didn't it split the middle bit,
> only the word off either end)? The only thing I can think of is that there
> are several other variables in the source beginning with WS- or ending
with
> -YYMM, so could the tokenizer have seen this and be doing something clever
> with them?
>
> Thanks,
> Iain
>
> *****************************************
> *  Micro Focus Developer Forum 2004     *
> *  3 days that will make a difference   *
> *  www.microfocus.com/devforum          *
> *****************************************
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 14:17:07 2003
Return-Path: 
 <lucene-user-return-6549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40917 invoked from network); 16 Dec 2003 14:17:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 14:17:07 -0000
Received: (qmail 86083 invoked by uid 500); 16 Dec 2003 14:16:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86044 invoked by uid 500); 16 Dec 2003 14:16:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85976 invoked from network); 16 Dec 2003 14:16:49 -0000
Received: from unknown (HELO wgateout.microfocus.com) (193.129.81.248)
  by daedalus.apache.org with SMTP; 16 Dec 2003 14:16:49 -0000
Received: from wgateout.microfocus.com (wgateout.microfocus.com
 [10.120.11.247])
	by wgateout.microfocus.com (Build 101 8.9.3/NT-8.9.3) with SMTP id OAA21114
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 14:16:44 GMT
Received: from nwb-corpmail.microfocus.com ([10.120.11.221])
 by wgateout.microfocus.com (SAVSMTP 3.1.0.29) with SMTP id
 M2003121614164415561
 for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 14:16:44 GMT
Received: by nwb-corpmail.microfocus.com with Internet Mail Service
 (5.5.2653.19)
	id <XXDK1PSM>; Tue, 16 Dec 2003 14:11:37 -0000
Message-ID: 
 <5DC9DA3ED5A9B64086C7612AAEE3487C03201A36@nwb-corpmail.microfocus.com>
From: Iain Young <Iain.Young@microfocus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Disabling modifiers?
Date: Tue, 16 Dec 2003 14:11:28 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The WhitespaceTokenizer fixed the problem, so that'll do as a stop gap until
I can figure out how to write our own COBOL tokenizer.

Thanks for the help,
Iain

*****************************************
*  Micro Focus Developer Forum 2004     *
*  3 days that will make a difference   *
*  www.microfocus.com/devforum          *
*****************************************

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: 16 December 2003 12:31
To: Lucene Users List
Subject: Re: Disabling modifiers?


On Tuesday, December 16, 2003, at 07:28  AM, Erik Hatcher wrote:
> And yes, if you are using StandardTokenizer, you are probably not 
> tokenizing COBOL quite like you expect.  Is there a COBOL parser you 
> could tap into that could give you the tokens you want?

Ummm..... nevermind that last question... I just realized where you 
work!  :)

So, my recommendation would be to tap into some parser for the COBOL 
language that you have handy and have it feed your Analyzer 
appropriately.  Or, use something very very simple like the 
WhitespaceAnalyzer as a first try.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


________________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com
________________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 15:20:55 2003
Return-Path: 
 <lucene-user-return-6550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81319 invoked from network); 16 Dec 2003 15:20:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 15:20:55 -0000
Received: (qmail 77506 invoked by uid 500); 16 Dec 2003 15:20:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77476 invoked by uid 500); 16 Dec 2003 15:20:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77463 invoked from network); 16 Dec 2003 15:20:45 -0000
Received: from unknown (HELO mz3.forethought.net) (216.241.36.14)
  by daedalus.apache.org with SMTP; 16 Dec 2003 15:20:45 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz3.forethought.net with esmtp (Exim 4.14)
	id 1AWH0B-0006FQ-KK
	for lucene-user@jakarta.apache.org; Tue, 16 Dec 2003 08:20:47 -0700
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lock obtain timed out
Date: Tue, 16 Dec 2003 08:23:17 -0700
User-Agent: KMail/1.5
References: <08E5708CB5CDCF468B4B848BFA0A540205BC86@QEO00201.de.t-online.corp>
In-Reply-To: 
 <08E5708CB5CDCF468B4B848BFA0A540205BC86@QEO00201.de.t-online.corp>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200312160823.17436.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 16 December 2003 03:37, Hohwiller, Joerg wrote:
> Hi there,
>
> I have not yet got any response about my problem.
>
> While debugging into the depth of lucene (really hard to read deep insde) I
> discovered that it is possible to disable the Locks using a System
> property.
...
> Am I safe disabling the locking???
> Can anybody tell me where to get documentation about the Locking
> strategy (I still would like to know why I have that problem) ???
>
> Or does anybody know where to get an official example of how to
> handle concurrent index modification and searches?

One problem I have seen, and am still trying to solve, is that if my web app
is terminated (running from console during development, ctrl+c on unix),
sometimes it seems "commit.lock" file is left. Now problem is that apparently 
method that seems like it tries to check if there is a lock (and subsequently 
asking it to be removed via API) doesn't consider that to be "the" lock 
(sorry for not having details, writing this from home without source). So 
I'll probably see if disabling locks would get rid of this lock file (as I 
never have multiple writers, or even writer and reader, working on same 
index... I just always make full file copy of index before doing incremental 
updates), or physically delete commit.lock if necessary when starting the 
app.

The problem I describe above happens fairly infrequently, but that's actually 
what makes it worse... our QA people (in different continent) have been 
bitten by a bit couple of times. :-/

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 17:33:05 2003
Return-Path: 
 <lucene-user-return-6551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57141 invoked from network); 16 Dec 2003 17:33:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 17:33:05 -0000
Received: (qmail 42152 invoked by uid 500); 16 Dec 2003 17:32:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42126 invoked by uid 500); 16 Dec 2003 17:32:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42112 invoked from network); 16 Dec 2003 17:32:52 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.110)
  by daedalus.apache.org with SMTP; 16 Dec 2003 17:32:52 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 16 Dec 2003 09:32:56 -0800
Received: from 219.142.137.128 by bay9-dav6.bay9.hotmail.com with DAV;
	Tue, 16 Dec 2003 17:32:55 +0000
X-Originating-IP: [219.142.137.128]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: WebLucene 0.4 released: added full featured demo(dump data php
 scripts and demo data in Chinese)
Date: Wed, 17 Dec 2003 01:33:55 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV6LFMPiIHW4Y0000bb7d@hotmail.com>
X-OriginalArrivalTime: 16 Dec 2003 17:32:56.0050 (UTC)
 FILETIME=[A4323520:01C3C3FA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

aHR0cDovL3NvdXJjZWZvcmdlLm5ldC9wcm9qZWN0cy93ZWJsdWNlbmUvDQoNCldlYkx1Y2VuZTog
DQpMdWNlbmUgc2VhcmNoIGVuZ2luZSBYTUwgaW50ZXJmYWNlLCBwcm92aWRlZCBzYXggYmFzZWQg
aW5kZXhpbmcsIGluZGV4aW5nIHNlcXVlbmNlIGJhc2VkIHJlc3VsdCBzb3J0aW5nIGFuZCB4bWwg
b3V0cHV0IHdpdGggaGlnaGxpZ2h0IHN1cHBvcnQuIA0KDQpUaGUga2V5IGZlYXR1cmVzOg0KMSBU
aGUgYmktZ3JhbSBiYXNlZCBDSksgc3VwcG9ydDogb3JnL2FwYWNoZS9sdWNlbmUvYW5hbHlzaXMv
Y2prL0NKS1Rva2VuaXplciwgVGhlIENKS1Rva2VuaXplciBzdXBwb3J0IENoaW5lc2UgSmFwYW5l
c2UgYW5kIEtvcmVhbiB3aXRoIFdlc3RlbiBsYW5ndWFnZSBzaW11bHRhbmVvdXNseS4NCg0KMiBE
b2NJRCBiYXNlZCByZXN1bHQgc29ydGluZzogb3JnL2FwYWNoZS9sdWNlbmUvc2VhcmNoL0luZGV4
T3JkZXJTZWFyY2hlcg0KDQozIHhtbCBvdXRwdXQ6IGNvbS9jaGVkb25nL3dlYmx1Y2VuZS9zZWFy
Y2gvRE9NU2VhcmNoZXINCg0KNCBzYXggYmFzZWQgaW5kZXhpbmc6IGNvbS9jaGVkb25nL3dlYmx1
Y2VuZS9pbmRleC9TQVhJbmRleGVyDQoNCjUgdG9rZW4gYmFzZWQgaGlnaGxpZ2h0ZXI6IA0KICAg
IHJldmVyc2UgU3RvcFRva2VuemllcjoNCiAgICBvcmcvYXBhY2hlL2x1Y2VuZS9hbmx5c2lzL0hp
Z2hsaWdodEFuYWx5emVyLmphdmENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhpZ2hs
aWdodEZpbHRlci5qYXZhDQogICAgd2l0aCBhYnN0cmFjdDoNCiAgICBjb20vY2hlZG9uZy93ZWJs
dWNlbmUvc2VhcmNoL1dlYmx1Y2VuZUhpZ2hsaWdodGVyDQoNCjYgQSBzaW1wbGlmaWVkIHF1ZXJ5
IHBhcnNlcjoNCiAgICBnb29nbGUgbGlrZSBzeW50YXggd2l0aCB0ZXJtIGxpbWl0DQogICAgb3Jn
L2FwYWNoZS9sdWNlbmUvcXVlcnlQYXJzZXIvU2ltcGxlUXVlcnlQYXJzZXINCiAgICBtb2RpZmll
ZCBmcm9tIGVhcmx5IHZlcnNpb24gb2YgTHVjZW5lIDopDQoNCjcgQWRkIGZ1bGwgZmVhdHVyZWQg
ZGVtbyAoaW5jbHVkaW5nIGR1bXAgc2NyaXB0IGFuZCBzYW1wbGUgZGF0YSkgcnVucyBvbjogaHR0
cDovL3d3dy5ibG9jaGluYS5jb20vd2VibHVjZW5lLw0KDQpSZWdhcmRzDQoNCg0KQ2hlIERvbmcN
Cmh0dHA6Ly93d3cuY2hlZG9uZy5jb20vdGVjaC93ZWJsdWNlbmUuaHRtbA0K


From MAILER-DAEMON Tue Dec 16 17:38:42 2003
Return-Path: 
 <lucene-user-return-6552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59393 invoked from network); 16 Dec 2003 17:38:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 17:38:42 -0000
Received: (qmail 48025 invoked by uid 500); 16 Dec 2003 17:38:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47999 invoked by uid 500); 16 Dec 2003 17:38:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47986 invoked from network); 16 Dec 2003 17:38:23 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 16 Dec 2003 17:38:23 -0000
Received: from smail.uni-koeln.de (xdsl-213-196-212-7.netcologne.de
 [213.196.212.7])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBGHcIN6020308
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 18:38:20 +0100
Message-ID: <3FDF42B4.2060401@smail.uni-koeln.de>
Date: Tue, 16 Dec 2003 18:36:52 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: build a case insensitive index
References: <B4B6B05C-2C34-11D8-AE35-000393A564E6@ehatchersolutions.com>
In-Reply-To: <B4B6B05C-2C34-11D8-AE35-000393A564E6@ehatchersolutions.com>
Content-Type: multipart/mixed;
 boundary="------------020805090207040301030107"
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------020805090207040301030107
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hello,

Sorry for the delayed answer.

i attached you the code that i use to build a term document matrix.

i am rather surprised, because in the documentation it sais, that a 
LowerCaseFilter is included.

Thanks for your patience.

Thomas

--------------020805090207040301030107
Content-Type: application/x-java-vm;
 name="IndexHT.java"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="IndexHT.java"

cGFja2FnZSBtYWc7CgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBUaGUgQXBhY2hlIFNvZnR3YXJl
IExpY2Vuc2UsIFZlcnNpb24gMS4xCiAqCiAqIENvcHlyaWdodCAoYykgMjAwMSBUaGUgQXBh
Y2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uICBBbGwgcmlnaHRzCiAqIHJlc2VydmVkLgogKgog
KiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3
aXRoIG9yIHdpdGhvdXQKICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVk
IHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zCiAqIGFyZSBtZXQ6CiAqCiAqIDEuIFJl
ZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29w
eXJpZ2h0CiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBm
b2xsb3dpbmcgZGlzY2xhaW1lci4KICoKICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFy
eSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQKICogICAgbm90aWNl
LCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVy
IGluCiAqICAgIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJv
dmlkZWQgd2l0aCB0aGUKICogICAgZGlzdHJpYnV0aW9uLgogKgogKiAzLiBUaGUgZW5kLXVz
ZXIgZG9jdW1lbnRhdGlvbiBpbmNsdWRlZCB3aXRoIHRoZSByZWRpc3RyaWJ1dGlvbiwKICog
ICAgaWYgYW55LCBtdXN0IGluY2x1ZGUgdGhlIGZvbGxvd2luZyBhY2tub3dsZWRnbWVudDoK
ICogICAgICAgIlRoaXMgcHJvZHVjdCBpbmNsdWRlcyBzb2Z0d2FyZSBkZXZlbG9wZWQgYnkg
dGhlCiAqICAgICAgICBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoaHR0cDovL3d3dy5h
cGFjaGUub3JnLykuIgogKiAgICBBbHRlcm5hdGVseSwgdGhpcyBhY2tub3dsZWRnbWVudCBt
YXkgYXBwZWFyIGluIHRoZSBzb2Z0d2FyZSBpdHNlbGYsCiAqICAgIGlmIGFuZCB3aGVyZXZl
ciBzdWNoIHRoaXJkLXBhcnR5IGFja25vd2xlZGdtZW50cyBub3JtYWxseSBhcHBlYXIuCiAq
CiAqIDQuIFRoZSBuYW1lcyAiQXBhY2hlIiBhbmQgIkFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0
aW9uIiBhbmQKICogICAgIkFwYWNoZSBMdWNlbmUiIG11c3Qgbm90IGJlIHVzZWQgdG8gZW5k
b3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzCiAqICAgIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3
YXJlIHdpdGhvdXQgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLiBGb3IKICogICAgd3JpdHRl
biBwZXJtaXNzaW9uLCBwbGVhc2UgY29udGFjdCBhcGFjaGVAYXBhY2hlLm9yZy4KICoKICog
NS4gUHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbWF5IG5vdCBiZSBjYWxs
ZWQgIkFwYWNoZSIsCiAqICAgICJBcGFjaGUgTHVjZW5lIiwgbm9yIG1heSAiQXBhY2hlIiBh
cHBlYXIgaW4gdGhlaXIgbmFtZSwgd2l0aG91dAogKiAgICBwcmlvciB3cml0dGVuIHBlcm1p
c3Npb24gb2YgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLgogKgogKiBUSElTIFNP
RlRXQVJFIElTIFBST1ZJREVEIGBgQVMgSVMnJyBBTkQgQU5ZIEVYUFJFU1NFRCBPUiBJTVBM
SUVECiAqIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUg
SU1QTElFRCBXQVJSQU5USUVTCiAqIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBG
T1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFCiAqIERJU0NMQUlNRUQuICBJTiBOTyBFVkVO
VCBTSEFMTCBUSEUgQVBBQ0hFIFNPRlRXQVJFIEZPVU5EQVRJT04gT1IKICogSVRTIENPTlRS
SUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFM
LAogKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5D
TFVESU5HLCBCVVQgTk9UCiAqIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRV
VEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YKICogVVNFLCBEQVRBLCBPUiBQUk9GSVRT
OyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORAogKiBPTiBB
TlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJ
QUJJTElUWSwKICogT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNF
KSBBUklTSU5HIElOIEFOWSBXQVkgT1VUCiAqIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FS
RSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRgogKiBTVUNIIERBTUFH
RS4KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KICoKICogVGhpcyBzb2Z0d2FyZSBjb25zaXN0cyBvZiB2
b2x1bnRhcnkgY29udHJpYnV0aW9ucyBtYWRlIGJ5IG1hbnkKICogaW5kaXZpZHVhbHMgb24g
YmVoYWxmIG9mIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi4gIEZvciBtb3JlCiAq
IGluZm9ybWF0aW9uIG9uIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiwgcGxlYXNl
IHNlZQogKiA8aHR0cDovL3d3dy5hcGFjaGUub3JnLz4uCiAqLwoKaW1wb3J0IG9yZy5hcGFj
aGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXI7CmltcG9ydCBv
cmcuYXBhY2hlLmx1Y2VuZS5pbmRleC4qOwppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9j
dW1lbnQuRG9jdW1lbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS51dGlsLkFycmF5czsK
aW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRlbW8uKjsKaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLmRlbW8uaHRtbC5IVE1MUGFyc2VyOwppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5h
bHlzaXMuZGUuKjsKCmltcG9ydCBqYXZhLmlvLkZpbGU7CmltcG9ydCBqYXZhLnV0aWwuRGF0
ZTsKCnB1YmxpYyBjbGFzcyBJbmRleEhUIHsKICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGRl
bGV0aW5nID0gZmFsc2U7IC8vIHRydWUgZHVyaW5nIGRlbGV0aW9uIHBhc3MKICBwcml2YXRl
IHN0YXRpYyBJbmRleFJlYWRlciByZWFkZXI7IC8vIGV4aXN0aW5nIGluZGV4CiAgcHJpdmF0
ZSBzdGF0aWMgSW5kZXhXcml0ZXIgd3JpdGVyOyAvLyBuZXcgaW5kZXggYmVpbmcgYnVpbHQK
ICBwcml2YXRlIHN0YXRpYyBUZXJtRW51bSB1aWRJdGVyOyAvLyBkb2N1bWVudCBpZCBpdGVy
YXRvcgogIHN0YXRpYyBNYWluRnJhbWUgZmF0aGVyOwoKICBwdWJsaWMgSW5kZXhIVChTdHJp
bmdbXSBhcmd2LCBNYWluRnJhbWUgZmZhdGhlcikgewogICAgdHJ5IHsKICAgICAgdGhpcy5m
YXRoZXIgPSBmZmF0aGVyOwogICAgICBTdHJpbmcgaW5kZXggPSAiaW5kZXgiOwogICAgICBi
b29sZWFuIGNyZWF0ZSA9IGZhbHNlOwogICAgICBGaWxlIHJvb3QgPSBudWxsOwoKICAgICAg
U3RyaW5nIHVzYWdlID0gIkluZGV4SFRNTCBbLWNyZWF0ZV0gWy1pbmRleCA8aW5kZXg+XSA8
cm9vdF9kaXJlY3Rvcnk+IjsKCiAgICAgIGlmIChhcmd2Lmxlbmd0aCA9PSAwKSB7CiAgICAg
ICAgZmF0aGVyLnByZXAuc2V0SW5kZXhUVGV4dCgiXG5Vc2FnZTogIiArIHVzYWdlKTsKICAg
ICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJndi5s
ZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcmd2W2ldLmVxdWFscygiLWluZGV4IikpIHsg
Ly8gcGFyc2UgLWluZGV4IG9wdGlvbgogICAgICAgICAgaW5kZXggPSBhcmd2WysraV07CiAg
ICAgICAgfQogICAgICAgIGVsc2UgaWYgKGFyZ3ZbaV0uZXF1YWxzKCItY3JlYXRlIikpIHsg
Ly8gcGFyc2UgLWNyZWF0ZSBvcHRpb24KICAgICAgICAgIGNyZWF0ZSA9IHRydWU7CiAgICAg
ICAgfQogICAgICAgIGVsc2UgaWYgKGkgIT0gYXJndi5sZW5ndGggLSAxKSB7CiAgICAgICAg
ICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJcblVzYWdlOiAiICsgdXNhZ2UpOwogICAg
ICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgICByb290ID0g
bmV3IEZpbGUoYXJndltpXSk7CiAgICAgIH0KCiAgICAgIERhdGUgc3RhcnQgPSBuZXcgRGF0
ZSgpOwoKICAgICAgaWYgKCFjcmVhdGUpIHsgLy8gZGVsZXRlIHN0YWxlIGRvY3MKICAgICAg
ICBkZWxldGluZyA9IHRydWU7CiAgICAgICAgaW5kZXhEb2NzKHJvb3QsIGluZGV4LCBjcmVh
dGUpOwogICAgICB9CgogICAgICBTdGFuZGFyZEFuYWx5emVyIGFuID0gbmV3IFN0YW5kYXJk
QW5hbHl6ZXIoKTsKICAgICAgd3JpdGVyID0gbmV3IEluZGV4V3JpdGVyKGluZGV4LCBhbiwg
Y3JlYXRlKTsKCiAgICAgIHdyaXRlci5tYXhGaWVsZExlbmd0aCA9IDEwMDAwMDA7CgogICAg
ICBpbmRleERvY3Mocm9vdCwgaW5kZXgsIGNyZWF0ZSk7IC8vIGFkZCBuZXcgZG9jcwoKICAg
ICAgZmF0aGVyLnByZXAuc2V0SW5kZXhUVGV4dCgiXG5PcHRpbWl6aW5nIGluZGV4Li4uIik7
CiAgICAgIHdyaXRlci5vcHRpbWl6ZSgpOwogICAgICB3cml0ZXIuY2xvc2UoKTsKCiAgICAg
IERhdGUgZW5kID0gbmV3IERhdGUoKTsKICAgICAgZmF0aGVyLnByZXAuc2V0SW5kZXhUVGV4
dCgiXG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZsb2F0KCAoZW5kLmdl
dFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkgLyAxMDAwZikuCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHRvU3RyaW5nKCkpOwogICAgICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0
KCIgdG90YWwgc2Vjb25kcyIpOwoKICAgIH0KICAgIGNhdGNoIChFeGNlcHRpb24gZSkgewog
ICAgICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJcbiBjYXVnaHQgYSAiICsgZS5nZXRD
bGFzcygpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIlxuIHdpdGggbWVzc2FnZTog
IiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgIH0KICB9CgogIC8qIFdhbGsgZGlyZWN0b3J5IGhp
ZXJhcmNoeSBpbiB1aWQgb3JkZXIsIHdoaWxlIGtlZXBpbmcgdWlkIGl0ZXJhdG9yIGZyb20K
ICAgICAgIC8qIGV4aXN0aW5nIGluZGV4IGluIHN5bmMuICBNaXNtYXRjaGVzIGluZGljYXRl
IG9uZSBvZjogKGEpIG9sZCBkb2N1bWVudHMgdG8KICAgICAgLyogYmUgZGVsZXRlZDsgKGIp
IHVuY2hhbmdlZCBkb2N1bWVudHMsIHRvIGJlIGxlZnQgYWxvbmU7IG9yIChjKSBuZXcKICAg
ICAgIC8qIGRvY3VtZW50cywgdG8gYmUgaW5kZXhlZC4KICAgICAgKi8KCiAgICAgcHJpdmF0
ZSBzdGF0aWMgdm9pZCBpbmRleERvY3MoRmlsZSBmaWxlLCBTdHJpbmcgaW5kZXgsIGJvb2xl
YW4gY3JlYXRlKSB0aHJvd3MKICAgICAgICAgRXhjZXB0aW9uIHsKICAgICAgIGlmICghY3Jl
YXRlKSB7IC8vIGluY3JlbWVudGFsbHkgdXBkYXRlCgogICAgICAgICByZWFkZXIgPSBJbmRl
eFJlYWRlci5vcGVuKGluZGV4KTsgLy8gb3BlbiBleGlzdGluZyBpbmRleAogICAgICAgICB1
aWRJdGVyID0gcmVhZGVyLnRlcm1zKG5ldyBUZXJtKCJ1aWQiLCAiIikpOyAvLyBpbml0IHVp
ZCBpdGVyYXRvcgoKICAgICAgICAgaW5kZXhEb2NzKGZpbGUpOwoKICAgICAgICAgaWYgKGRl
bGV0aW5nKSB7IC8vIGRlbGV0ZSByZXN0IG9mIHN0YWxlIGRvY3MKICAgICAgICAgICB3aGls
ZSAodWlkSXRlci50ZXJtKCkgIT0gbnVsbCAmJiB1aWRJdGVyLnRlcm0oKS5maWVsZCgpID09
ICJ1aWQiKSB7CiAgICAgICAgICAgICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJcbmRl
bGV0aW5nICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFRNTERvY3Vt
ZW50LnVpZDJ1cmwodWlkSXRlci50ZXJtKCkudGV4dCgpKSk7CiAgICAgICAgICAgICByZWFk
ZXIuZGVsZXRlKHVpZEl0ZXIudGVybSgpKTsKICAgICAgICAgICAgIHVpZEl0ZXIubmV4dCgp
OwogICAgICAgICAgIH0KICAgICAgICAgICBkZWxldGluZyA9IGZhbHNlOwogICAgICAgICB9
CgogICAgICAgICB1aWRJdGVyLmNsb3NlKCk7IC8vIGNsb3NlIHVpZCBpdGVyYXRvcgogICAg
ICAgICByZWFkZXIuY2xvc2UoKTsgLy8gY2xvc2UgZXhpc3RpbmcgaW5kZXgKCiAgICAgICB9
CiAgICAgICBlbHNlIC8vIGRvbid0IGhhdmUgZXhpc2l0aW5nCiAgICAgICAgIGluZGV4RG9j
cyhmaWxlKTsKICAgICB9CgogIHByaXZhdGUgc3RhdGljIHZvaWQgaW5kZXhEb2NzKEZpbGUg
ZmlsZSkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICBpZiAoZmlsZS5pc0RpcmVjdG9yeSgpKSB7
IC8vIGlmIGEgZGlyZWN0b3J5CiAgICAgIFN0cmluZ1tdIGZpbGVzID0gZmlsZS5saXN0KCk7
IC8vIGxpc3QgaXRzIGZpbGVzCiAgICAgIEFycmF5cy5zb3J0KGZpbGVzKTsgLy8gc29ydCB0
aGUgZmlsZXMKICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykg
Ly8gcmVjdXJzaXZlbHkgaW5kZXggdGhlbQogICAgICAgIGluZGV4RG9jcyhuZXcgRmlsZShm
aWxlLCBmaWxlc1tpXSkpOwoKICAgIH0KICAgIGVsc2UgaWYgKGZpbGUuZ2V0UGF0aCgpLmVu
ZHNXaXRoKCIuaHRtbCIpIHx8IC8vIGluZGV4IC5odG1sIGZpbGVzCiAgICAgICAgICAgICBm
aWxlLmdldFBhdGgoKS5lbmRzV2l0aCgiLmh0bSIpIHx8IC8vIGluZGV4IC5odG0gZmlsZXMK
ICAgICAgICAgICAgIGZpbGUuZ2V0UGF0aCgpLmVuZHNXaXRoKCIueG1sIikgfHwgLy8gaW5k
ZXggLnhtbCBmaWxlcwogICAgICAgICAgICAgZmlsZS5nZXRQYXRoKCkuZW5kc1dpdGgoIi50
eHQiKSkgeyAvLyBpbmRleCAudHh0IGZpbGVzCgogICAgICBpZiAodWlkSXRlciAhPSBudWxs
KSB7CiAgICAgICAgU3RyaW5nIHVpZCA9IEhUTUxEb2N1bWVudC51aWQoZmlsZSk7IC8vIGNv
bnN0cnVjdCB1aWQgZm9yIGRvYwoKICAgICAgICB3aGlsZSAodWlkSXRlci50ZXJtKCkgIT0g
bnVsbCAmJiB1aWRJdGVyLnRlcm0oKS5maWVsZCgpID09ICJ1aWQiICYmCiAgICAgICAgICAg
ICAgIHVpZEl0ZXIudGVybSgpLnRleHQoKS5jb21wYXJlVG8odWlkKSA8IDApIHsKICAgICAg
ICAgIGlmIChkZWxldGluZykgeyAvLyBkZWxldGUgc3RhbGUgZG9jcwogICAgICAgICAgICBm
YXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJcbmRlbGV0aW5nICIgKwogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBIVE1MRG9jdW1lbnQudWlkMnVybCh1aWRJdGVyLnRlcm0o
KS50ZXh0KCkpKTsKICAgICAgICAgICAgcmVhZGVyLmRlbGV0ZSh1aWRJdGVyLnRlcm0oKSk7
CiAgICAgICAgICB9CiAgICAgICAgICB1aWRJdGVyLm5leHQoKTsKICAgICAgICB9CiAgICAg
ICAgaWYgKHVpZEl0ZXIudGVybSgpICE9IG51bGwgJiYgdWlkSXRlci50ZXJtKCkuZmllbGQo
KSA9PSAidWlkIiAmJgogICAgICAgICAgICB1aWRJdGVyLnRlcm0oKS50ZXh0KCkuY29tcGFy
ZVRvKHVpZCkgPT0gMCkgewogICAgICAgICAgdWlkSXRlci5uZXh0KCk7IC8vIGtlZXAgbWF0
Y2hpbmcgZG9jcwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICghZGVsZXRpbmcpIHsgLy8g
YWRkIG5ldyBkb2NzCiAgICAgICAgICBEb2N1bWVudCBkb2MgPSBIVE1MRG9jdW1lbnQuRG9j
dW1lbnQoZmlsZSk7CiAgICAgICAgICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJhZGRp
bmcgIiArIGRvYy5nZXQoInVybCIpKyJcbiIpOwogICAgICAgICAgd3JpdGVyLmFkZERvY3Vt
ZW50KGRvYyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UgeyAvLyBjcmVhdGluZyBh
IG5ldyBpbmRleAogICAgICAgIERvY3VtZW50IGRvYyA9IEhUTUxEb2N1bWVudC5Eb2N1bWVu
dChmaWxlKTsKICAgICAgICBmYXRoZXIucHJlcC5zZXRJbmRleFRUZXh0KCJhZGRpbmcgIiAr
IGRvYy5nZXQoInVybCIpKyJcbiIpOwogICAgICAgIHdyaXRlci5hZGREb2N1bWVudChkb2Mp
OyAvLyBhZGQgZG9jcyB1bmNvbmRpdGlvbmFsbHkKICAgICAgfQogICAgfQogIH0KfQo=
--------------020805090207040301030107
Content-Type: application/x-java-vm;
 name="MakeMatrix.java"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="MakeMatrix.java"

cGFja2FnZSBtYWc7CgovKioKICogPHA+VGl0bGU6IEFnaUxpYiBzZWFyY2h0b29sPC9wPgog
KiA8cD5EZXNjcmlwdGlvbjogTWFnaXN0ZXJhcmJlaXQ8L3A+CiAqIDxwPkNvcHlyaWdodDog
Q29weXJpZ2h0IChjKSAyMDAzPC9wPgogKiA8cD5Db21wYW55OiA8L3A+CiAqIEBhdXRob3Ig
VGhvbWFzIEty5G1lcgogKiBAdmVyc2lvbiAxLjAKICovCgppbXBvcnQgb3JnLmFwYWNoZS5s
dWNlbmUuaW5kZXguKjsKaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4UmVh
ZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuKjsKaW1wb3J0IGphdmEuaW8u
KjsKaW1wb3J0IG9yZy5qb29uZS5lbmdpbmUuTWF0cml4OwppbXBvcnQgamF2YXguc3dpbmcu
SlRleHRBcmVhOwppbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsKCnB1YmxpYyBjbGFzcyBN
YWtlTWF0cml4IHsKICBJbmRleFJlYWRlciByZWFkZXI7CiAgLy9uIG9mIGRvY3MgY29udGFp
bmluZyB0ZXJtCiAgbG9uZyB0ZXJtSW5OZG9jcyA9IDA7CiAgLy90ZiB+IG5vbi1ub3JtYWxp
emVkIChpZSBhYnNvbHV0ZSkgdGVybSBmcmVxIGluIChPTkUpIGRvYwogIGRvdWJsZSB0ZXJt
RG9jRnJlcSA9IDBmOwogIC8vbWF4IHRmIG9mIHRlcm0gaW4gY29sbCwgbmVlZGVkIGZvciBk
aW0uLXJlZHVjdGlvbgogIGRvdWJsZSB0ZXJtRG9jRnJlcU1heDsKICAvL2lkZiB+IGxvZyAo
bkFsbERvY3MvZG9jcyBjb250YWluaW5nIHRlcm0pCiAgZG91YmxlIHRlcm1JZGYgPSAwZjsK
ICAvL3RmKmlkZgogIGRvdWJsZSB3ZWlnaHQgPSAwZjsKICAvL3RmKmlkZi8obWF4IG9mIGEg
dGVybSBpbiBhbnkgb2YgdGhlIGRvY3MgaW4gY29sbCkqbG9nKGRvY3MgaW4gY29sbCkKICBk
b3VibGUgcmVkd2VpZ2h0ID0gMGY7CgogIFRlcm1FbnVtIHRlcm1zOwogIFRlcm1Eb2NzIGRv
Y3M7CiAgTWF0cml4IG07CgogIC8vZm9yIGZhc3RlciBhY2Nlc3Mgb24gdGVybSBudW1iZXIK
ICBIYXNodGFibGUgaHQ7CgogIC8venVtIGb8bGxlbiBkZXIgbWF0cml4CgogIGludCBuT2ZU
ZXJtc1Jvd3M7CiAgaW50IG5PZkNvbHNEb2NzIDsKICBpbnQgcm93VGVybUNvdW50ID0wOwog
IGRvdWJsZVtdW10gd2VpZ2h0c0Fyb3dBdGVybSA7CiAgZG91YmxlW11bXSB3ZWlnaHRzQXJv
d0Fkb2M7CgogIHB1YmxpYyBNYWtlTWF0cml4KCkgewogICAgbSA9IG5ldyBNYXRyaXgoKTsK
ICAgIC8vbHVjZW5lIGluZGV4IGV4dHJhaGllcmVuCiAgICBnZXRUZklkZk1hdHJpeCgiIik7
CiAgfQoKICAvKioKICAgKgogICAqIEByZXR1cm4gdGhlIGhhc2h0YWJsZSBjb250YWluaW5n
IHRoZSBsdWNlbiBpbmRleCBudW1iZXJzIChrZXkpIGFuZAogICAqIGhlIGNvcnJlc3BpbmRp
bmcgd29yZCAodmFsdWUpCiAgICovCiAgcHVibGljIEhhc2h0YWJsZSBnZXRXb3JkcygpIHsK
ICAgIHJldHVybiBodDsKICB9CgogIHB1YmxpYyBNYXRyaXggZ2V0TWF0cml4KCkgewoKICAg
IC8vTWF0cml4IGJlbGVnZW4KICAgIE1hdHJpeCBtbW0gPSBuZXcgTWF0cml4KCk7CiAgICBt
bW0uc2V0TV9yb3dzKHRoaXMubk9mVGVybXNSb3dzKTsKICAgIG1tbS5zZXRNX2NvbHModGhp
cy5uT2ZDb2xzRG9jcyk7CiAgICBtbW0uc2V0VmFsdWUod2VpZ2h0c0Fyb3dBdGVybSk7CiAg
ICByZXR1cm4gbW1tOwogIH0KCgogIC8qKgogICAqIGNlbnRyYWwgbWV0aG9kIGluIHRoZSBp
bmRleGluZy9zZXR0aW5nLXVwLXByb2Nlc3MKICAgKiBjb252ZXJ0cyBhIGx1Y2VuZSBpbmRl
eCBpbnRvIGEgam9vbmUtcmVhZGFibGUgbWF0cml4IHdpdGgKICAgKiBhcyBtYW55IHJvd3Mg
YXMgdGVybXMgaW4gdGhlIGluZGV4IGFuZAogICAqIGFzIG1hbnkgY29sdW1ucyBhcyBkb2N1
bWVudHMgaW4gdGhlIGNvbGxlY3Rpb24KICAgKiBAcGFyYW0gaW5kZXhkaXIgbG9jYXRpb24g
b2YgbHVjZW5lIGluZGV4CiAgICogQHJldHVybiBhIG1hdHJpeCBhY2NvcmRpbmcgdG8gaW5k
ZXgKICAgKi8KCiAgcHVibGljIHZvaWQgZ2V0VGZJZGZNYXRyaXgoU3RyaW5nIGluZGV4ZGly
KSB7CiAgICBpbnQgaHRwdXR0ZWQgPSAwOwogICAgdHJ5IHsKICAgICAgLy9mYXN0dGVzdCBG
U0RpcmVjdG9yeSBkaXIgPSBGU0RpcmVjdG9yeS5nZXREaXJlY3RvcnkobWFnLlByZXBhcmVJ
bmRleGluZ1AuaW5kZXhMb2MsIGZhbHNlKTsKICAgICAgLy9mYXN0dGVzdCBGU0RpcmVjdG9y
eSBkaXIgPSBGU0RpcmVjdG9yeS5nZXREaXJlY3RvcnkoaW5kZXhkaXIsIGZhbHNlKTsKICAg
ICAgRlNEaXJlY3RvcnkgZGlyID0gRlNEaXJlY3RvcnkuZ2V0RGlyZWN0b3J5KCIvaG9tZS90
b20vbXdkL3Rlc3RpbmRleCIsIGZhbHNlKTsKCiAgICAgIHJlYWRlciA9IEluZGV4UmVhZGVy
Lm9wZW4oZGlyKTsKICAgICAgbk9mQ29sc0RvY3MgPSByZWFkZXIubnVtRG9jcygpOwogICAg
ICB0ZXJtcyA9IHJlYWRlci50ZXJtcygpOyAvLyBhbGxlIHRlcm1zIGF1cyBkZW0gaW5kZXgK
CiAgICAgIC8vbmVlZCB0aGUgdG90YWwgbnVtYmVyIG9mIHRlcm1zIGluIGNvbGxlY3Rpb24K
ICAgICAgd2hpbGUgKHRlcm1zLm5leHQoKSkgewogICAgICAgIG5PZlRlcm1zUm93cysrOwog
ICAgICB9CgoKICAgICAgd2VpZ2h0c0Fyb3dBdGVybSA9IG5ldyBkb3VibGVbbk9mVGVybXNS
b3dzXVtuT2ZDb2xzRG9jc107CiAgICAgIHdlaWdodHNBcm93QWRvYyA9IG5ldyBkb3VibGVb
bk9mQ29sc0RvY3NdW25PZlRlcm1zUm93c107CgogICAgICAvL3ByZXZlbnQgcmVoYXNoCiAg
ICAgIGh0ID0gbmV3IEhhc2h0YWJsZSggKGludCkgKG5PZlRlcm1zUm93cyAqIDEuMjUpKTsK
ICAgICAgCiAgICAgIC8vcmVzZXQgcmVhZGVyCiAgICAgIHRlcm1zID0gcmVhZGVyLnRlcm1z
KCk7CiAgICAgIEpUZXh0QXJlYSB0YSA9IE1hdHJpeEluamVjdG9yLmdldERpc3BsYXkoKTsK
CiAgICAgIC8vbG9vcCBvdmVyIGFsbCB0ZXJtcyBpbiBjb2xsZWN0aW9uCiAgICAgIHdoaWxl
ICh0ZXJtcy5uZXh0KCkpIHsKICAgICAgICBodC5wdXQodGVybXMudGVybSgpLnRleHQoKSwg
bmV3IEludGVnZXIocm93VGVybUNvdW50KSk7CgogICAgICAgIGh0cHV0dGVkKys7CgogICAg
ICAgIHRlcm1Eb2NGcmVxTWF4ID0gMGY7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJc
blxuQ3VycmVudCB0ZXJtIChuby4iICsgcm93VGVybUNvdW50ICsgIikgIiArCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHRlcm1zLnRlcm0oKS50ZXh0KCkpOwoKICAgICAgICBkb2Nz
ID0gcmVhZGVyLnRlcm1Eb2NzKHRlcm1zLnRlcm0oKSk7CgogICAgICAgIC8vY29tcHV0ZSBt
YXggaWYgCiAgICAgICAgd2hpbGUgKGRvY3MubmV4dCgpKSB7CiAgICAgICAgICB0ZXJtRG9j
RnJlcU1heCA9IE1hdGgubWF4KHRlcm1Eb2NGcmVxTWF4LCBkb2NzLmZyZXEoKSk7CiAgICAg
ICAgfQogICAgICAgIGRvY3MgPSByZWFkZXIudGVybURvY3ModGVybXMudGVybSgpKTsKCiAg
ICAgICAgLy9uRG9jcyB+IG4gb2YgZG9jcyB0aGF0IGNvbnRhaW4gdGVybQogICAgICAgIHRl
cm1Jbk5kb2NzID0gcmVhZGVyLmRvY0ZyZXEodGVybXMudGVybSgpKTsKICAgICAgICAvL1N5
c3RlbS5vdXQucHJpbnRsbigiXHRvY2N1cnMgaW4gIiArIHRlcm1Jbk5kb2NzICsgIiBkb2Nz
IG9mIHRoZSBjb2xsLiIpOwoKICAgICAgICAvL3NraXAgdGVybSB0aGF0IG9jY3VyIGluIGFs
bCBkb2NzCiAgICAgICAgaWYgKG5PZkNvbHNEb2NzID09IHRlcm1Jbk5kb2NzICYmIG5PZlRl
cm1zUm93cyAhPSAwKSB7CiAgICAgICAgICAvL3NpbXBseSBjb3VudCBhbmQgY29udGludWUK
ICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiXG50ZXJtIDoiICsgdGVybXMudGVybSgp
LnRleHQoKSArICIgaXMgdXNlbGVzcy4iKTsKICAgICAgICAgIHRhLmFwcGVuZCgiXG50ZXJt
IDoiICsgdGVybXMudGVybSgpLnRleHQoKSArICIgaXMgdXNlbGVzcy4iKTsKICAgICAgICB9
CiAgICAgICAgZWxzZSB7CgogICAgICAgICAgLy9pZGYKICAgICAgICAgIC8vZGVmaW5lZCBh
cyBsb2codG90YWwgbnVtYmVyIG9mIGRvY3MgaW4gY29sbCAvIG51bWJlciBvZiBkb2NzIGNv
bnRhaW5pbmcgdGVybSkKICAgICAgICAgIHRlcm1JZGYgPSAoZG91YmxlKSBNYXRoLmxvZygg
KGRvdWJsZSkgcmVhZGVyLm51bURvY3MoKSAvCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgKGRvdWJsZSkgdGVybUluTmRvY3MpIC8KICAgICAgICAgICAgICAoZG91
YmxlKSBNYXRoLmxvZygyZCk7CiAgICAgICAgICAKICAgICAgICAgIC8vbG9vcCBvdmVyIGFs
bCBkb2NzIGNvbnRhaW5pbmcgdGhlIHRlcm0KICAgICAgICAgIHdoaWxlIChkb2NzLm5leHQo
KSkgewoKICAgICAgICAgICAgLy9TeXN0ZW0ub3V0LnByaW50bG4oIlxuXHR3aXRoaW4gZG9j
IG5yICIgKyBkb2NzLmRvYygpICsgIiwgaXQgb2NjdXJlZCIpOwoKICAgICAgICAgICAgLy90
ZgogICAgICAgICAgICB0ZXJtRG9jRnJlcSA9IGRvY3MuZnJlcSgpOwoJICAgIAogICAgICAg
ICAgICAvL3Nob3VsZCB3ZSBub3JtYWxpemUgaGVyZT8KICAgICAgICAgICAgLy9TeXN0ZW0u
b3V0LnByaW50bG4oIlx0KFRGIGFicyk6ICIgKyB0ZXJtRG9jRnJlcSArICIgdGltZXMuIik7
CgogICAgICAgICAgICAvL2NsZWFudXAKICAgICAgICAgICAgd2VpZ2h0ID0gMDsKICAgICAg
ICAgICAgcmVkd2VpZ2h0ID0gMDsKCiAgICAgICAgICAgIC8vc3RhbmRhcmQgdGZpZGYKICAg
ICAgICAgICAgd2VpZ2h0ID0gKHRlcm1Eb2NGcmVxICogdGVybUlkZik7CgogICAgICAgICAg
ICAvL3RmaWRmIGRpbWVuc2lvbiByZWR1Y2UgYWNjb3JkaW5nIHRvIFN5dSBldCBhbC4gMTk5
NiA6IDE0OAogICAgICAgICAgICAvL2luY29ycG9yYXRpbmcgbHNpIGludG8gYSBuZXVyYWwg
bmV0d29yayBtb2RlbCBmb3IgaXIsIGFjbQogICAgICAgICAgICByZWR3ZWlnaHQgPSAod2Vp
Z2h0KSAvCiAgICAgICAgICAgICAgICAoIChkb3VibGUpIHRlcm1Eb2NGcmVxTWF4ICogKGRv
dWJsZSkgTWF0aC5sb2cobk9mQ29sc0RvY3MpKTsKCiAgICAgICAgICAgIFN5c3RlbS5vdXQu
cHJpbnRsbigiXG4iICsgcm93VGVybUNvdW50ICsgIi4gdGVybSBpbiAiICsgZG9jcy5kb2Mo
KSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLiBkb2N1bWVudCA6U3RhbmRh
cmQgdGYtaWRmIDogIiArIHdlaWdodCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiLFx0cmVkdWNlZCA6ICIgKyByZWR3ZWlnaHQpOwogICAgICAgICAgICB0YS5hcHBlbmQo
IlxuIiArIHJvd1Rlcm1Db3VudCArICIuIHRlcm0gaW4gIiArIGRvY3MuZG9jKCkgKwogICAg
ICAgICAgICAgICAgICAgICAgIi4gZG9jdW1lbnQgOlN0YW5kYXJkIHRmLWlkZiA6ICIgKyB3
ZWlnaHQpOwogICAgICAgICAgICB3ZWlnaHRzQXJvd0F0ZXJtW3Jvd1Rlcm1Db3VudF1bZG9j
cy5kb2MoKV0gPSB3ZWlnaHQ7CgogICAgICAgICAgICAvL1N5c3RlbS5vdXQucHJpbnRsbigi
XHRSZWR1Y2VkIHRmLWlkZiA6ICIgKyByZWR3ZWlnaHQpOwoKICAgICAgICAgIH0KCiAgICAg
ICAgfQoKICAgICAgICByb3dUZXJtQ291bnQrKzsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50
bG4oIlxuXHRNYXggb2NjdXJzIG9mIHRlcm0gaW4gb25lIGRvYyA6ICIgKwogICAgICAgICAg
ICAgICAgICAgICAgICAgICB0ZXJtRG9jRnJlcU1heCk7CiAgICAgIH0KICAgICAgcm93VGVy
bUNvdW50ID0gMDsKCiAgICAgIC8vaW50ZXJuZW1hdHJpeCB1bSA5MLAgZHJlaGVuCiAgICAg
IGZvciAoaW50IHogPSAwOyB6IDwgd2VpZ2h0c0Fyb3dBdGVybS5sZW5ndGg7IHorKykgewog
ICAgICAgIGRvdWJsZVtdIGR1bSA9IHdlaWdodHNBcm93QXRlcm1bel07CiAgICAgICAgZm9y
IChpbnQgeCA9IDA7IHggPCBkdW0ubGVuZ3RoOyB4KyspIHsKICAgICAgICAgIHdlaWdodHNB
cm93QWRvY1t4XVt6XSA9IGR1bVt4XTsKICAgICAgICB9CgogICAgICB9CgogICAgfQogICAg
Y2F0Y2ggKElPRXhjZXB0aW9uIGV4KSB7CiAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihleC50
b1N0cmluZygpKTsKICAgIH0KICAgIGNhdGNoIChOdWxsUG9pbnRlckV4Y2VwdGlvbiBleCkg
ewogICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZXgudG9TdHJpbmcoKSArICJcbk5vIGluZGV4
ZGlyIHNwZWNpZmllZC4iKTsKICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7CiAgICB9CiAg
ICBjYXRjaCAoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGFleCkgewogICAgICBT
eXN0ZW0ub3V0LnByaW50bG4oYWV4LnRvU3RyaW5nKCkpOwogICAgICBhZXgucHJpbnRTdGFj
a1RyYWNlKCk7CiAgICB9CiAgICBmaW5hbGx5IHsKICAgICAgU3lzdGVtLm91dC5wcmludGxu
KCJcbmluIGhhc2g6IiArIGh0cHV0dGVkKTsKICAgIH0KCiAgfQoKfQo=
--------------020805090207040301030107
Content-Type: text/plain;
 name="output.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="output.txt"


Current term (no.0) 1.0

term :1.0 is useless.

	Max occurs of term in one doc : 1.0


Current term (no.1) 1992-06-06

1. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.2) 1997-07-10

2. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.3) 1997-09-10

3. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.4) 1998-04-01

4. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.5) 1998-04-17

5. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.6) 1998-11-27

6. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.7) 1999-04-03

7. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.8) ability

8. term in 1. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.9) about

9. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.10) access

10. term in 2. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.0829796712298924

10. term in 3. document :Standard tf-idf : 4.03677461028802,	reduced : 0.4148983561494621

10. term in 4. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.0829796712298924

10. term in 6. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.0829796712298924

	Max occurs of term in one doc : 5.0


Current term (no.11) adaptive

11. term in 2. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.12) addresses

12. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.13) adept

13. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.14) advent

14. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.15) aggressively

15. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.16) ago

16. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.17) also

17. term in 2. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

17. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.18) amtrak

18. term in 5. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.19) an

19. term in 1. document :Standard tf-idf : 1.6147098441152081,	reduced : 0.414898356149462

19. term in 2. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

19. term in 4. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

19. term in 5. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

	Max occurs of term in one doc : 2.0


Current term (no.20) another

20. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.21) any

21. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.22) appointments

22. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.23) around

23. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.24) artemia

24. term in 5. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.25) article

25. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.26) assist

26. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.27) assistance

27. term in 6. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.28) audio

28. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.29) authentication

29. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.30) authorization

30. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.31) automated

31. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.32) based

32. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.33) becoming

33. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.34) behooves

34. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.35) being

35. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.36) benefit

36. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.37) better

37. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.38) bring

38. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.39) can

39. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.40) career

40. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.41) catalogs

41. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.42) center

42. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.43) change

43. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.44) cil

44. term in 0. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

44. term in 1. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

44. term in 2. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

44. term in 3. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

44. term in 5. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

44. term in 6. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

	Max occurs of term in one doc : 1.0


Current term (no.45) collections

45. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.46) column

46. term in 1. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

46. term in 2. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.4643983492596064

	Max occurs of term in one doc : 2.0


Current term (no.47) commercial

47. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.48) computer

48. term in 2. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

48. term in 5. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.49) computers

49. term in 0. document :Standard tf-idf : 0.44478484267289603,	reduced : 0.11428709668039581

49. term in 1. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.05714354834019791

49. term in 2. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.05714354834019791

49. term in 3. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.05714354834019791

49. term in 5. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.05714354834019791

49. term in 6. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.05714354834019791

	Max occurs of term in one doc : 2.0


Current term (no.50) concept

50. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.51) confused

51. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.52) consequently

52. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.53) considerably

53. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.54) control

54. term in 3. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.55) costs

55. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.56) create

56. term in 1. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.57) creating

57. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.58) creation

58. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.59) customizable

59. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.60) d

60. term in 4. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.61) d.shtml

61. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.62) day

62. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.63) definition

63. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.64) depending

64. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.65) describes

65. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.4643983492596064

65. term in 6. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 2.0


Current term (no.66) design

66. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.67) dig

67. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.68) disabled

68. term in 2. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.69) disseminating

69. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.70) distributed

term :distributed is useless.

	Max occurs of term in one doc : 1.0


Current term (no.71) dwindled

71. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.72) e

72. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.73) electronic

73. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

73. term in 6. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.74) else

74. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.75) embrace

75. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.76) empowers

76. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.77) en

term :en is useless.

	Max occurs of term in one doc : 1.0


Current term (no.78) encoding

term :encoding is useless.

	Max occurs of term in one doc : 1.0


Current term (no.79) end

79. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.80) enforce

80. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.81) enhancement

81. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.82) equal

82. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.83) eric

term :eric is useless.

	Max occurs of term in one doc : 1.0


Current term (no.84) especially

84. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.85) evaluating

85. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.86) even

86. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.87) ever

87. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.88) everybody

88. term in 2. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.89) examples

89. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.90) expect

90. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.91) experienced

91. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.92) expert

92. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

92. term in 6. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.93) fact

93. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.94) features

94. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.95) few

95. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.96) fiction

96. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.97) filtering

97. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.98) five

98. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.99) focused

99. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.100) form

100. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.101) free

101. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

101. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.102) freewais

102. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.103) frequently

103. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.104) friendly

104. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.105) from

105. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.106) future

106. term in 0. document :Standard tf-idf : 1.6147098441152081,	reduced : 0.414898356149462

106. term in 2. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

106. term in 5. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

106. term in 6. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

	Max occurs of term in one doc : 2.0


Current term (no.107) gateways

107. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.108) globally

108. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.109) gnu

term :gnu is useless.

	Max occurs of term in one doc : 1.0


Current term (no.110) good

110. term in 4. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.111) had

111. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.112) harvest

112. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.113) has

113. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

113. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.114) have

114. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.115) he

115. term in 4. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.116) hinderance

116. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.117) his

117. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.118) how

118. term in 2. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

118. term in 6. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.119) ht

119. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.120) html

term :html is useless.

	Max occurs of term in one doc : 1.0


Current term (no.121) http

term :http is useless.

	Max occurs of term in one doc : 1.0


Current term (no.122) i

122. term in 5. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.123) i'm

123. term in 3. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.124) i've

124. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.125) implement

125. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.126) improving

126. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.127) inc

term :inc is useless.

	Max occurs of term in one doc : 1.0


Current term (no.128) include

128. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.129) index

129. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.130) index.shtml

130. term in 0. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

130. term in 1. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

130. term in 2. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

130. term in 3. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

130. term in 5. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

130. term in 6. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.11428709668039581

	Max occurs of term in one doc : 1.0


Current term (no.131) indexes

131. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.132) indexing

132. term in 1. document :Standard tf-idf : 19.651484454403228,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 7.0


Current term (no.133) infomotions

term :infomotions is useless.

	Max occurs of term in one doc : 1.0


Current term (no.134) infomotions.com

term :infomotions.com is useless.

	Max occurs of term in one doc : 1.0


Current term (no.135) information

term :information is useless.

	Max occurs of term in one doc : 6.0


Current term (no.136) informing

136. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.137) institutions

137. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.138) integral

138. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.139) integrating

139. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.140) interactive

140. term in 6. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.141) interesting

141. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.142) internet

142. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.143) its

143. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.144) knowledge

144. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.145) land

145. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.146) lease

term :lease is useless.

	Max occurs of term in one doc : 1.0


Current term (no.147) let

147. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.148) librarian

148. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

148. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.149) librarians

149. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

149. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.150) librarianship

150. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.4643983492596064

150. term in 5. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 2.0


Current term (no.151) libraries

151. term in 0. document :Standard tf-idf : 0.6671772640093441,	reduced : 0.11428709668039583

151. term in 1. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.03809569889346527

151. term in 2. document :Standard tf-idf : 0.44478484267289603,	reduced : 0.07619139778693054

151. term in 3. document :Standard tf-idf : 0.44478484267289603,	reduced : 0.07619139778693054

151. term in 5. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.03809569889346527

151. term in 6. document :Standard tf-idf : 0.22239242133644802,	reduced : 0.03809569889346527

	Max occurs of term in one doc : 3.0


Current term (no.152) library

152. term in 1. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

152. term in 2. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

152. term in 5. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

	Max occurs of term in one doc : 1.0


Current term (no.153) license

term :license is useless.

	Max occurs of term in one doc : 1.0


Current term (no.154) life

154. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.155) like

155. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.156) limitations

156. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.157) longer

157. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.158) majority

158. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.159) make

159. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.160) many

160. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.161) market

161. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.162) marketing

162. term in 0. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.163) materials

163. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.164) maybe

164. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.165) measures

165. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.166) monopoly

166. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.167) more

167. term in 0. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.168) morgan

term :morgan is useless.

	Max occurs of term in one doc : 1.0


Current term (no.169) mr

169. term in 4. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.170) musings

term :musings is useless.

	Max occurs of term in one doc : 1.0


Current term (no.171) mutual

171. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.172) my

172. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.173) names

173. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.174) necessarily

174. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.175) need

175. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.176) networked

176. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.177) never

177. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.178) now

178. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

178. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.179) number

179. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.180) old

180. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.181) online

181. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.182) only

182. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.183) opacs

183. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.184) organizing

184. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.185) otherwise

185. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.186) our

186. term in 0. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

186. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.4643983492596064

	Max occurs of term in one doc : 2.0


Current term (no.187) out

187. term in 5. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

187. term in 6. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.188) own

188. term in 1. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.189) part

189. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.190) particularly

190. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.191) people

191. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

191. term in 4. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.192) phenomenon

192. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.193) points

193. term in 2. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

193. term in 5. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

193. term in 6. document :Standard tf-idf : 1.222392421336448,	reduced : 0.6281854390501466

	Max occurs of term in one doc : 1.0


Current term (no.194) police

194. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.195) prepared

195. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.196) pretty

196. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.197) primary

197. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.198) problem

198. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.199) products

199. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.200) prototypical

200. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.201) provide

201. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

201. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.202) providing

202. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

202. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.203) public

term :public is useless.

	Max occurs of term in one doc : 2.0


Current term (no.204) published

204. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.205) purpose

205. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.206) put

206. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.207) real

207. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.208) relates

208. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.209) remembering

209. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.210) replacing

210. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.211) resources

211. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.212) retrieving

212. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.213) reviews

213. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

213. term in 6. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.214) salina

214. term in 5. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.215) say

215. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.216) second

216. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.217) security

217. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.218) servers

218. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.219) service

219. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.220) services

220. term in 0. document :Standard tf-idf : 1.6147098441152081,	reduced : 0.414898356149462

220. term in 1. document :Standard tf-idf : 1.6147098441152081,	reduced : 0.414898356149462

220. term in 3. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

220. term in 5. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.207449178074731

	Max occurs of term in one doc : 2.0


Current term (no.221) sets

221. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.222) sf

222. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.223) shame

223. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.224) share

224. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

224. term in 5. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.225) should

225. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.226) simply

226. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.227) since

227. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.228) software

228. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.229) spent

229. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.230) storing

230. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.231) swish

231. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.232) systems

232. term in 1. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.05927119373563743

232. term in 3. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.05927119373563743

232. term in 4. document :Standard tf-idf : 0.8073549220576041,	reduced : 0.05927119373563743

232. term in 6. document :Standard tf-idf : 5.651484454403229,	reduced : 0.414898356149462

	Max occurs of term in one doc : 7.0


Current term (no.233) technologies

233. term in 2. document :Standard tf-idf : 11.229419688230417,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 4.0


Current term (no.234) technology

234. term in 2. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

234. term in 5. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 2.0


Current term (no.235) text

term :text is useless.

	Max occurs of term in one doc : 3.0


Current term (no.236) texts

236. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.237) than

237. term in 0. document :Standard tf-idf : 5.614709844115208,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 2.0


Current term (no.238) them

238. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.239) think

239. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.240) today

240. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

240. term in 5. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.241) together

241. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.242) told

242. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.243) too

243. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.244) toward

244. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.245) tries

245. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.246) truly

246. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.247) trying

247. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.248) type

248. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.249) under

term :under is useless.

	Max occurs of term in one doc : 2.0


Current term (no.250) understand

250. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.251) understanding

251. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.252) understatement

252. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.253) universe

253. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.254) unix

254. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.255) unpublished

255. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.256) us

term :us is useless.

	Max occurs of term in one doc : 3.0


Current term (no.257) user

257. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.258) utf-8

term :utf-8 is useless.

	Max occurs of term in one doc : 1.0


Current term (no.259) utilized

259. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.260) vast

260. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.261) vendor

261. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.262) version

term :version is useless.

	Max occurs of term in one doc : 1.0


Current term (no.263) very

263. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.264) visual

264. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.265) wait

265. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.266) way

266. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.267) we

267. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.4643983492596064

267. term in 3. document :Standard tf-idf : 3.6147098441152083,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 2.0


Current term (no.268) wealth

268. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.269) web

269. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.270) weekend

270. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.271) well

271. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.272) what

272. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.273) whether

273. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.274) while

274. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.275) why

275. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.276) wide

276. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.277) world

277. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.278) would

278. term in 1. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

278. term in 5. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.279) written

279. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.280) xml

term :xml is useless.

	Max occurs of term in one doc : 1.0


Current term (no.281) years

281. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.282) you

282. term in 1. document :Standard tf-idf : 1.222392421336448,	reduced : 0.20939514635004886

282. term in 2. document :Standard tf-idf : 3.6671772640093443,	reduced : 0.6281854390501466

282. term in 5. document :Standard tf-idf : 1.222392421336448,	reduced : 0.20939514635004886

	Max occurs of term in one doc : 3.0


Current term (no.283) your

283. term in 1. document :Standard tf-idf : 5.422064766172813,	reduced : 0.9287966985192129

283. term in 2. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.3095988995064043

	Max occurs of term in one doc : 3.0


Current term (no.284) 0do39ntq8

term :0do39ntq8 is useless.

	Max occurs of term in one doc : 1.0


Current term (no.285) access

285. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.286) adaptive

286. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.287) amtrak

287. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.288) artemia

288. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.289) control

289. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.290) creating

290. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.291) d

291. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.292) day

292. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.293) electronic

293. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.294) friendly

294. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.295) from

295. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.296) future

296. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.297) indexing

297. term in 1. document :Standard tf-idf : 8.422064766172813,	reduced : 1.4426950408889636

	Max occurs of term in one doc : 3.0


Current term (no.298) information

298. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.299) libraries

299. term in 0. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

299. term in 3. document :Standard tf-idf : 1.8073549220576042,	reduced : 0.9287966985192128

	Max occurs of term in one doc : 1.0


Current term (no.300) life

300. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.301) marketing

301. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.302) mr

302. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.303) salina

303. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.304) systems

304. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.305) technologies

305. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.306) user

306. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.307) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-10.xml?0do39ntq8

307. term in 0. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.308) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-11.xml?0do39ntq8

308. term in 1. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.309) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-12.xml?0do39ntq8

309. term in 2. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.310) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-13.xml?0do39ntq8

310. term in 3. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.311) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-7.xml?0do39ntq8

311. term in 4. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.312) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-8.xml?0do39ntq8

312. term in 5. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0


Current term (no.313) ?home?tom?mwd?metadata?www.infomotions.com?musings?oai?index.pl?oai_dc?oai%3Amusings%3Amusings-9.xml?0do39ntq8

313. term in 6. document :Standard tf-idf : 2.807354922057604,	reduced : 1.4426950408889634

	Max occurs of term in one doc : 1.0

in hash:314


--------------020805090207040301030107
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------020805090207040301030107--


From MAILER-DAEMON Tue Dec 16 17:51:51 2003
Return-Path: 
 <lucene-user-return-6553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64096 invoked from network); 16 Dec 2003 17:51:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 17:51:51 -0000
Received: (qmail 69500 invoked by uid 500); 16 Dec 2003 17:51:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69445 invoked by uid 500); 16 Dec 2003 17:51:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69397 invoked from network); 16 Dec 2003 17:51:35 -0000
Received: from unknown (HELO hotmail.com) (64.4.46.83)
  by daedalus.apache.org with SMTP; 16 Dec 2003 17:51:35 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 16 Dec 2003 09:51:39 -0800
Received: from 219.142.137.128 by bay9-dav26.bay9.hotmail.com with DAV;
	Tue, 16 Dec 2003 17:51:39 +0000
X-Originating-IP: [219.142.137.128]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY9-DAV6LFMPiIHW4Y0000bb7d@hotmail.com>
Subject: Re: WebLucene 0.4 released: added full featured demo(dump data php
 scripts and demo data in Chinese)
Date: Wed, 17 Dec 2003 01:52:42 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV26QHtMFauky0000bb41@hotmail.com>
X-OriginalArrivalTime: 16 Dec 2003 17:51:39.0621 (UTC)
 FILETIME=[41E58950:01C3C3FD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

c29ycnksIGRlbW8gYWRkcmVzcyBpczoNCmh0dHA6Ly93d3cuYmxvZ2NoaW5hLmNvbS93ZWJsdWNl
bmUvDQoNCg0KQ2hlLCBEb25nDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTog
IkNoZSBEb25nIiA8Y2hlZG9uZ0Bob3RtYWlsLmNvbT4NClRvOiAiTHVjZW5lIFVzZXJzIExpc3Qi
IDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQpTZW50OiBXZWRuZXNkYXksIERlY2Vt
YmVyIDE3LCAyMDAzIDE6MzMgQU0NClN1YmplY3Q6IFdlYkx1Y2VuZSAwLjQgcmVsZWFzZWQ6IGFk
ZGVkIGZ1bGwgZmVhdHVyZWQgZGVtbyhkdW1wIGRhdGEgcGhwIHNjcmlwdHMgYW5kIGRlbW8gZGF0
YSBpbiBDaGluZXNlKQ0KDQoNCj4gaHR0cDovL3NvdXJjZWZvcmdlLm5ldC9wcm9qZWN0cy93ZWJs
dWNlbmUvDQo+IA0KPiBXZWJMdWNlbmU6IA0KPiBMdWNlbmUgc2VhcmNoIGVuZ2luZSBYTUwgaW50
ZXJmYWNlLCBwcm92aWRlZCBzYXggYmFzZWQgaW5kZXhpbmcsIGluZGV4aW5nIHNlcXVlbmNlIGJh
c2VkIHJlc3VsdCBzb3J0aW5nIGFuZCB4bWwgb3V0cHV0IHdpdGggaGlnaGxpZ2h0IHN1cHBvcnQu
IA0KPiANCj4gVGhlIGtleSBmZWF0dXJlczoNCj4gMSBUaGUgYmktZ3JhbSBiYXNlZCBDSksgc3Vw
cG9ydDogb3JnL2FwYWNoZS9sdWNlbmUvYW5hbHlzaXMvY2prL0NKS1Rva2VuaXplciwgVGhlIENK
S1Rva2VuaXplciBzdXBwb3J0IENoaW5lc2UgSmFwYW5lc2UgYW5kIEtvcmVhbiB3aXRoIFdlc3Rl
biBsYW5ndWFnZSBzaW11bHRhbmVvdXNseS4NCj4gDQo+IDIgRG9jSUQgYmFzZWQgcmVzdWx0IHNv
cnRpbmc6IG9yZy9hcGFjaGUvbHVjZW5lL3NlYXJjaC9JbmRleE9yZGVyU2VhcmNoZXINCj4gDQo+
IDMgeG1sIG91dHB1dDogY29tL2NoZWRvbmcvd2VibHVjZW5lL3NlYXJjaC9ET01TZWFyY2hlcg0K
PiANCj4gNCBzYXggYmFzZWQgaW5kZXhpbmc6IGNvbS9jaGVkb25nL3dlYmx1Y2VuZS9pbmRleC9T
QVhJbmRleGVyDQo+IA0KPiA1IHRva2VuIGJhc2VkIGhpZ2hsaWdodGVyOiANCj4gICAgIHJldmVy
c2UgU3RvcFRva2VuemllcjoNCj4gICAgIG9yZy9hcGFjaGUvbHVjZW5lL2FubHlzaXMvSGlnaGxp
Z2h0QW5hbHl6ZXIuamF2YQ0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIaWdobGln
aHRGaWx0ZXIuamF2YQ0KPiAgICAgd2l0aCBhYnN0cmFjdDoNCj4gICAgIGNvbS9jaGVkb25nL3dl
Ymx1Y2VuZS9zZWFyY2gvV2VibHVjZW5lSGlnaGxpZ2h0ZXINCj4gDQo+IDYgQSBzaW1wbGlmaWVk
IHF1ZXJ5IHBhcnNlcjoNCj4gICAgIGdvb2dsZSBsaWtlIHN5bnRheCB3aXRoIHRlcm0gbGltaXQN
Cj4gICAgIG9yZy9hcGFjaGUvbHVjZW5lL3F1ZXJ5UGFyc2VyL1NpbXBsZVF1ZXJ5UGFyc2VyDQo+
ICAgICBtb2RpZmllZCBmcm9tIGVhcmx5IHZlcnNpb24gb2YgTHVjZW5lIDopDQo+IA0KPiA3IEFk
ZCBmdWxsIGZlYXR1cmVkIGRlbW8gKGluY2x1ZGluZyBkdW1wIHNjcmlwdCBhbmQgc2FtcGxlIGRh
dGEpIHJ1bnMgb246IGh0dHA6Ly93d3cuYmxvZ2NoaW5hLmNvbS93ZWJsdWNlbmUvDQo+IA0KPiBS
ZWdhcmRzDQo+IA0KPiANCj4gQ2hlIERvbmcNCj4gaHR0cDovL3d3dy5jaGVkb25nLmNvbS90ZWNo
L3dlYmx1Y2VuZS5odG1sDQo+IA==


From MAILER-DAEMON Tue Dec 16 17:57:37 2003
Return-Path: 
 <lucene-user-return-6554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66191 invoked from network); 16 Dec 2003 17:57:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 17:57:37 -0000
Received: (qmail 76032 invoked by uid 500); 16 Dec 2003 17:57:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76001 invoked by uid 500); 16 Dec 2003 17:57:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75981 invoked from network); 16 Dec 2003 17:57:24 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 16 Dec 2003 17:57:24 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with SMTP
          id <2003121617572701100inlfde>; Tue, 16 Dec 2003 17:57:27 +0000
Message-ID: <3FDF476C.9060604@lucene.com>
Date: Tue, 16 Dec 2003 09:57:00 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Summarization; sentence-level and document-level filters.
References: <000601c3c33b$02af5e40$49098c92@pcara>
In-Reply-To: <000601c3c33b$02af5e40$49098c92@pcara>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It sounds like you want the value of a stored field (a summary) to be 
built from the tokens of another field of the same document.  Is that 
right?  This is not presently possible without tokenizing the field 
twice, once to produce its summary and once again when indexing.

Doug

Gregor Heinrich wrote:
> Hi,
> 
> is there any possibility to do sentence-level or document level analysis
> with the current Analysis/TokenStream architecture? Or where else is the
> best place to plug in customised document-level and sentence-level analysis
> features? Is there any "precedence case" ?
> 
> My technical problem:
> 
> I'd like to include a summarization feature into my system, which should (1)
> best make use of the architecture already there in Lucene, and (2) should be
> able to trigger summarization on a per-document basis while requiring
> sentence-level information, such as full-stops and commas. To preserve this
> "punctuation", a special Tokenizer can be used that outputs such landmarks
> as tokens instead of filtering them out. The actual SummaryFilter then
> filters out the punctuation for its successors in the Analyzer's filter
> chain.
> 
> The other, more complex thing is the document-level information: As Lucene's
> architecture uses a filter concept that does not know about the document the
> tokens are generated from (which is good abstraction), a document-specific
> operation like summarization is a bit of an awkward thing with this (and
> originally not intended, I guess). On the other hand, I'd like to have the
> existing filter structure in place for preprocessing of the input, because
> my raw texts are generated by converters from other formats that output
> unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> anyway by my custom Analyzer.
> 
> Any idea how to solve this second problem? Is there any support for such
> document / sentence structure analysis planned?
> 
> Thanks and regards,
> 
> Gregor
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 18:03:57 2003
Return-Path: 
 <lucene-user-return-6555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69836 invoked from network); 16 Dec 2003 18:03:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 18:03:57 -0000
Received: (qmail 85244 invoked by uid 500); 16 Dec 2003 18:03:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85166 invoked by uid 500); 16 Dec 2003 18:03:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85153 invoked from network); 16 Dec 2003 18:03:44 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 16 Dec 2003 18:03:44 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with SMTP
          id <2003121618034701200rd20qe>; Tue, 16 Dec 2003 18:03:47 +0000
Message-ID: <3FDF48E8.50903@lucene.com>
Date: Tue, 16 Dec 2003 10:03:20 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: field boosting best practise
References: <9089893E-2F28-11D8-AE11-000393A564E6@ehatchersolutions.com>
 <036501c3c33e$57cf7bf0$bf8401c1@mojo>
In-Reply-To: <036501c3c33e$57cf7bf0$bf8401c1@mojo>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you wish to boost the title field for every query then it would be 
easiest to boost the title clause of your query, with Query.setBoost(). 
  Field.setBoost() should only be used when you want to give a field 
different boosts in different documents, but since you want to boost all 
titles by the same amount, you'll find it easier to boost at query time. 
  That way you can experiment with the boost amount without re-building 
the index.  The values of Field.setBoost() are built into the index and 
are harder to change.  Thus I recommend using Query.setBoost() instead. 
  Construct a query for each field to be searched (by hand, or with the 
QueryParser), boost each of these field queries separately, then build a 
BooleanQuery that combines these into a single Query that you then 
execute.  I hope that makes sense.

Doug

Maurice Coyle wrote:
> hi,
> i was wondering what's the best approach to take when boosting the value of
> a particular field.
> 
> i'm searching over a document's title, url and contents fields and i want to
> try giving certain fields a boost at times to see if it improves my results.
> so for instance if i want to give the title field more weight i can use
> Field.setBoost() to do this.
> 
> my question is, say for example i want to give the title field twice as much
> weight as the url and contents fields.  do i set the boost value of title to
> be 2.0 or should i set the boost value of the url and contents fields to be
> 0.25 and the boost value of the title field to be 0.5 (thereby having all
> boost values adding up to 1 so all the socres are normalised with respect to
> the title field's boost).
> 
> i just find the messages in the archives a little confusing regarding this,
> i can't see which approach is best, or if either is best.
> 
> any help appreciated.
> maurice
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 18:11:45 2003
Return-Path: 
 <lucene-user-return-6556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73803 invoked from network); 16 Dec 2003 18:11:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 18:11:45 -0000
Received: (qmail 3001 invoked by uid 500); 16 Dec 2003 18:11:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2968 invoked by uid 500); 16 Dec 2003 18:11:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2718 invoked from network); 16 Dec 2003 18:11:29 -0000
Received: from unknown (HELO mail.byteaction.de) (212.223.69.193)
  by daedalus.apache.org with SMTP; 16 Dec 2003 18:11:29 -0000
Received: (qmail 29093 invoked from network); 16 Dec 2003 18:11:32 -0000
Received: from unknown (HELO akmalbyteaction) (192.168.100.4)
  by 217.195.2.162 with SMTP; 16 Dec 2003 18:11:32 -0000
Message-ID: <006101c3c400$0a06d590$0464a8c0@akmalbyteaction>
From: "Akmal Sarhan" <as@byteaction.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY9-DAV6LFMPiIHW4Y0000bb7d@hotmail.com>
 <BAY9-DAV26QHtMFauky0000bb41@hotmail.com>
Subject: Re: WebLucene 0.4 released: added full featured demo(dump data php
 scripts and demo data in Chinese)
Date: Tue, 16 Dec 2003 19:11:34 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

are there any English versions of the site ?

regards
Akmal
----- Original Message ----- 
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 16, 2003 6:52 PM
Subject: Re: WebLucene 0.4 released: added full featured demo(dump data php
scripts and demo data in Chinese)


> sorry, demo address is:
> http://www.blogchina.com/weblucene/
>
>
> Che, Dong
> ----- Original Message ----- 
> From: "Che Dong" <chedong@hotmail.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, December 17, 2003 1:33 AM
> Subject: WebLucene 0.4 released: added full featured demo(dump data php
scripts and demo data in Chinese)
>
>
> > http://sourceforge.net/projects/weblucene/
> >
> > WebLucene:
> > Lucene search engine XML interface, provided sax based indexing,
indexing sequence based result sorting and xml output with highlight
support.
> >
> > The key features:
> > 1 The bi-gram based CJK support:
org/apache/lucene/analysis/cjk/CJKTokenizer, The CJKTokenizer support
Chinese Japanese and Korean with Westen language simultaneously.
> >
> > 2 DocID based result sorting:
org/apache/lucene/search/IndexOrderSearcher
> >
> > 3 xml output: com/chedong/weblucene/search/DOMSearcher
> >
> > 4 sax based indexing: com/chedong/weblucene/index/SAXIndexer
> >
> > 5 token based highlighter:
> >     reverse StopTokenzier:
> >     org/apache/lucene/anlysis/HighlightAnalyzer.java
> >                               HighlightFilter.java
> >     with abstract:
> >     com/chedong/weblucene/search/WebluceneHighlighter
> >
> > 6 A simplified query parser:
> >     google like syntax with term limit
> >     org/apache/lucene/queryParser/SimpleQueryParser
> >     modified from early version of Lucene :)
> >
> > 7 Add full featured demo (including dump script and sample data) runs
on: http://www.blogchina.com/weblucene/
> >
> > Regards
> >
> >
> > Che Dong
> > http://www.chedong.com/tech/weblucene.html
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 18:15:52 2003
Return-Path: 
 <lucene-user-return-6557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75224 invoked from network); 16 Dec 2003 18:15:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 18:15:52 -0000
Received: (qmail 7629 invoked by uid 500); 16 Dec 2003 18:15:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7602 invoked by uid 500); 16 Dec 2003 18:15:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7589 invoked from network); 16 Dec 2003 18:15:39 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 16 Dec 2003 18:15:39 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 37ADA5D22
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 10:15:43 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBGIFhvt085043
	for lucene-user@jakarta.apache.org; Tue, 16 Dec 2003 10:15:43 -0800 (PST)
	(envelope-from dror)
Date: Tue, 16 Dec 2003 10:15:43 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: field boosting best practise
Message-ID: <20031216181543.GM80656@rlx11.zapatec.com>
References: <9089893E-2F28-11D8-AE11-000393A564E6@ehatchersolutions.com>
 <036501c3c33e$57cf7bf0$bf8401c1@mojo> <3FDF48E8.50903@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FDF48E8.50903@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, as has been mentioned before, you might not need to
boost the title. Since titles tend to be shorter than the actual
document terms in the title are given more weight than terms in the
document.

Dror

On Tue, Dec 16, 2003 at 10:03:20AM -0800, Doug Cutting wrote:
> If you wish to boost the title field for every query then it would be 
> easiest to boost the title clause of your query, with Query.setBoost(). 
>  Field.setBoost() should only be used when you want to give a field 
> different boosts in different documents, but since you want to boost all 
> titles by the same amount, you'll find it easier to boost at query time. 
>  That way you can experiment with the boost amount without re-building 
> the index.  The values of Field.setBoost() are built into the index and 
> are harder to change.  Thus I recommend using Query.setBoost() instead. 
>  Construct a query for each field to be searched (by hand, or with the 
> QueryParser), boost each of these field queries separately, then build a 
> BooleanQuery that combines these into a single Query that you then 
> execute.  I hope that makes sense.
> 
> Doug
> 
> Maurice Coyle wrote:
> >hi,
> >i was wondering what's the best approach to take when boosting the value of
> >a particular field.
> >
> >i'm searching over a document's title, url and contents fields and i want 
> >to
> >try giving certain fields a boost at times to see if it improves my 
> >results.
> >so for instance if i want to give the title field more weight i can use
> >Field.setBoost() to do this.
> >
> >my question is, say for example i want to give the title field twice as 
> >much
> >weight as the url and contents fields.  do i set the boost value of title 
> >to
> >be 2.0 or should i set the boost value of the url and contents fields to be
> >0.25 and the boost value of the title field to be 0.5 (thereby having all
> >boost values adding up to 1 so all the socres are normalised with respect 
> >to
> >the title field's boost).
> >
> >i just find the messages in the archives a little confusing regarding this,
> >i can't see which approach is best, or if either is best.
> >
> >any help appreciated.
> >maurice
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 19:06:43 2003
Return-Path: 
 <lucene-user-return-6558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98718 invoked from network); 16 Dec 2003 19:06:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 19:06:43 -0000
Received: (qmail 9935 invoked by uid 500); 16 Dec 2003 19:06:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9902 invoked by uid 500); 16 Dec 2003 19:06:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9842 invoked from network); 16 Dec 2003 19:06:26 -0000
Received: from unknown (HELO mail.eastech.ca) (24.138.31.110)
  by daedalus.apache.org with SMTP; 16 Dec 2003 19:06:26 -0000
Received: from Spooler by mail.eastech.ca (Mercury/32 v3.30) ID MO007B65;
    16 Dec 03 15:24:12 -0400
Received: from spooler by mail.eastech.ca (Mercury/32 v3.30);
 16 Dec 03 15:22:54 -0400
Received: from PENNEYK (192.168.10.77) by mail.eastech.ca (Mercury/32 v3.30)
 with ESMTP ID MG007B63;
   16 Dec 03 15:22:53 -0400
Message-ID: <010901c3c408$7529ec10$4d0aa8c0@PENNEYK>
From: "Karl Penney" <karl.penney@eastech.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: How to get TokenStream from Field?
Date: Tue, 16 Dec 2003 15:11:49 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0106_01C3C3E6.EDE5F170"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0106_01C3C3E6.EDE5F170
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Is there any way to get a TokenStream for a given Field of a Document =
(is that information even stored in the index)?  I want to use the =
startOffset / endOffset information for hit highlighting.  Do I have to =
tokenize the text value for the field again to get this information?

------=_NextPart_000_0106_01C3C3E6.EDE5F170--


From MAILER-DAEMON Tue Dec 16 19:58:13 2003
Return-Path: 
 <lucene-user-return-6559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25423 invoked from network); 16 Dec 2003 19:58:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 19:58:13 -0000
Received: (qmail 46819 invoked by uid 500); 16 Dec 2003 19:57:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46748 invoked by uid 500); 16 Dec 2003 19:57:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46657 invoked from network); 16 Dec 2003 19:57:36 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 16 Dec 2003 19:57:36 -0000
Received: (qmail 3616 invoked by uid 0); 16 Dec 2003 19:57:39 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Tue, 16 Dec 2003 20:57:39 +0100 (MET)
Date: Tue, 16 Dec 2003 20:57:39 +0100 (MET)
From: ambiesense@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <047401c3c368$beff8de0$5a01a8c0@whale>
Subject: Re: Summarization; sentence-level and document-level filters.
X-Priority: 3 (Normal)
X-Authenticated: #17441361
Message-ID: <32625.1071604659@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Gregor and Maurits,

I am not quite sure what you want to do. I think you want to search the
normal text and present the summarized text on the screen where the user is able
to get the full text on request. Is this the case?

If this is the case, then you could create a set of summarized text from the
full text, crate another index for them and have an extra field in the text
which is not summarized. You could use this field to find the summarized
version of a full text and retrieve the full text from the summarized text in
order to present it to the user. In this case you would put your summarizer
before the analyser (in terms of workflow) which would perfectly fit into the
existing concept of Lucene.

I am not sure if I could catch your idea. Please educate me further if I
missunderstood something... 

Cheers,
Ralf

> Hi Gregor,
> 
> Sofar as I know there is no summarizer in the plans. And maybe I can help
> you along the way. Have a look
> at Classifier4J project on Sourceforge.
> 
> http://classifier4j.sourceforge.net/
> 
> It has a small documetn summarizer besides a bayes classifier.It might
> speed
> up your coding.
> 
> On the level of lucene, I have no idea. My gut feeling says that a summary
> should be build before the
> text is tokenized! The tokenizer can ofcourse be used when analysing a
> document, but hooking into
> the lucene indexing is a bad idea I think.
> 
> Someone else has any ideas?
> 
> regards,
> 
> Maurits
> 
> 
> 
> 
> ----- Original Message ----- 
> From: "Gregor Heinrich" <heinrich@igd.fhg.de>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Monday, December 15, 2003 7:41 PM
> Subject: Summarization; sentence-level and document-level filters.
> 
> 
> > Hi,
> >
> > is there any possibility to do sentence-level or document level analysis
> > with the current Analysis/TokenStream architecture? Or where else is the
> > best place to plug in customised document-level and sentence-level
> analysis
> > features? Is there any "precedence case" ?
> >
> > My technical problem:
> >
> > I'd like to include a summarization feature into my system, which should
> (1)
> > best make use of the architecture already there in Lucene, and (2)
> should
> be
> > able to trigger summarization on a per-document basis while requiring
> > sentence-level information, such as full-stops and commas. To preserve
> this
> > "punctuation", a special Tokenizer can be used that outputs such
> landmarks
> > as tokens instead of filtering them out. The actual SummaryFilter then
> > filters out the punctuation for its successors in the Analyzer's filter
> > chain.
> >
> > The other, more complex thing is the document-level information: As
> Lucene's
> > architecture uses a filter concept that does not know about the document
> the
> > tokens are generated from (which is good abstraction), a
> document-specific
> > operation like summarization is a bit of an awkward thing with this (and
> > originally not intended, I guess). On the other hand, I'd like to have
> the
> > existing filter structure in place for preprocessing of the input,
> because
> > my raw texts are generated by converters from other formats that output
> > unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> > anyway by my custom Analyzer.
> >
> > Any idea how to solve this second problem? Is there any support for such
> > document / sentence structure analysis planned?
> >
> > Thanks and regards,
> >
> > Gregor
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
+++ GMX - die erste Adresse f�r Mail, Message, More +++
Neu: Preissenkung f�r MMS und FreeMMS! http://www.gmx.net



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 20:31:35 2003
Return-Path: 
 <lucene-user-return-6560-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46799 invoked from network); 16 Dec 2003 20:31:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 20:31:35 -0000
Received: (qmail 23504 invoked by uid 500); 16 Dec 2003 20:31:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23478 invoked by uid 500); 16 Dec 2003 20:31:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23460 invoked from network); 16 Dec 2003 20:31:19 -0000
Received: from unknown (HELO mail.domovanje.com) (195.246.8.97)
  by daedalus.apache.org with SMTP; 16 Dec 2003 20:31:19 -0000
Received: from  thinkst (217.72.78.54) by SIGOL2 (MailMax 4. 8. 3. 0) with
 ESMTP id 64471672 for lucene-user@jakarta.apache.org;
 Tue, 16 Dec 2003 21:27:28 +0100 CST
Message-ID: <004101c3c413$741805e0$2000a8c0@THINKST>
From: "Stefan Trcko" <stefan.trcko@aladin-eng.si>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene and Mysql
Date: Tue, 16 Dec 2003 21:30:31 +0100
Organization: Aladin Eng. d.o.o.
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003E_01C3C41B.D5283910"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003E_01C3C41B.D5283910
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: quoted-printable

Hello

I'm new to Lucene. I want users can search text which is stored in mysql =
database.
Is there any tutorial how to implement this kind of search feature.

Best regards,
Stefan
------=_NextPart_000_003E_01C3C41B.D5283910--




From MAILER-DAEMON Tue Dec 16 20:36:55 2003
Return-Path: 
 <lucene-user-return-6561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48749 invoked from network); 16 Dec 2003 20:36:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 20:36:55 -0000
Received: (qmail 33189 invoked by uid 500); 16 Dec 2003 20:36:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33158 invoked by uid 500); 16 Dec 2003 20:36:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33145 invoked from network); 16 Dec 2003 20:36:38 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 16 Dec 2003 20:36:38 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HQ08Z000.F05 for
          <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 21:30:36 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Summarization; sentence-level and document-level filters.
Date: Tue, 16 Dec 2003 21:31:42 +0100
Message-ID: <001001c3c413$9e58d370$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3FDF476C.9060604@lucene.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, copying a summary from one field to an untokenized field was the plan.

I identified DocumentWriter.invertDocument() to be a possible place for an
addition of this document-level analysis. But I admit this appears way too
low-level and inflexible for the overall design.

So I'll make it "two-pass" indexing.

Thanks for the decision support,

gregor

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Tuesday, December 16, 2003 6:57 PM
To: Lucene Users List
Subject: Re: Summarization; sentence-level and document-level filters.


It sounds like you want the value of a stored field (a summary) to be
built from the tokens of another field of the same document.  Is that
right?  This is not presently possible without tokenizing the field
twice, once to produce its summary and once again when indexing.

Doug

Gregor Heinrich wrote:
> Hi,
>
> is there any possibility to do sentence-level or document level analysis
> with the current Analysis/TokenStream architecture? Or where else is the
> best place to plug in customised document-level and sentence-level
analysis
> features? Is there any "precedence case" ?
>
> My technical problem:
>
> I'd like to include a summarization feature into my system, which should
(1)
> best make use of the architecture already there in Lucene, and (2) should
be
> able to trigger summarization on a per-document basis while requiring
> sentence-level information, such as full-stops and commas. To preserve
this
> "punctuation", a special Tokenizer can be used that outputs such landmarks
> as tokens instead of filtering them out. The actual SummaryFilter then
> filters out the punctuation for its successors in the Analyzer's filter
> chain.
>
> The other, more complex thing is the document-level information: As
Lucene's
> architecture uses a filter concept that does not know about the document
the
> tokens are generated from (which is good abstraction), a document-specific
> operation like summarization is a bit of an awkward thing with this (and
> originally not intended, I guess). On the other hand, I'd like to have the
> existing filter structure in place for preprocessing of the input, because
> my raw texts are generated by converters from other formats that output
> unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> anyway by my custom Analyzer.
>
> Any idea how to solve this second problem? Is there any support for such
> document / sentence structure analysis planned?
>
> Thanks and regards,
>
> Gregor
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 20:37:01 2003
Return-Path: 
 <lucene-user-return-6562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48819 invoked from network); 16 Dec 2003 20:37:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 20:37:01 -0000
Received: (qmail 33389 invoked by uid 500); 16 Dec 2003 20:36:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33318 invoked by uid 500); 16 Dec 2003 20:36:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33217 invoked from network); 16 Dec 2003 20:36:39 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 16 Dec 2003 20:36:39 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HQ095000.G0G for
          <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 21:34:12 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Summarization; sentence-level and document-level filters.
Date: Tue, 16 Dec 2003 21:35:16 +0100
Message-ID: <001401c3c414$1e6b3bc0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <047401c3c368$beff8de0$5a01a8c0@whale>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maurits: thanks for the hint to classifier4j -- I have had a look on this
package and tried the SimpleSummarizer and it seems to work fine. (However,
as I don't know the benchmarks for summarization, I'm not the one to judge.)

Do you have experience with it?

Gregor

-----Original Message-----
From: maurits van wijland [mailto:m.vanwijland@quicknet.nl]
Sent: Tuesday, December 16, 2003 1:09 AM
To: Lucene Users List; heinrich@igd.fhg.de
Subject: Re: Summarization; sentence-level and document-level filters.


Hi Gregor,

Sofar as I know there is no summarizer in the plans. And maybe I can help
you along the way. Have a look
at Classifier4J project on Sourceforge.

http://classifier4j.sourceforge.net/

It has a small documetn summarizer besides a bayes classifier.It might speed
up your coding.

On the level of lucene, I have no idea. My gut feeling says that a summary
should be build before the
text is tokenized! The tokenizer can ofcourse be used when analysing a
document, but hooking into
the lucene indexing is a bad idea I think.

Someone else has any ideas?

regards,

Maurits




----- Original Message -----
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, December 15, 2003 7:41 PM
Subject: Summarization; sentence-level and document-level filters.


> Hi,
>
> is there any possibility to do sentence-level or document level analysis
> with the current Analysis/TokenStream architecture? Or where else is the
> best place to plug in customised document-level and sentence-level
analysis
> features? Is there any "precedence case" ?
>
> My technical problem:
>
> I'd like to include a summarization feature into my system, which should
(1)
> best make use of the architecture already there in Lucene, and (2) should
be
> able to trigger summarization on a per-document basis while requiring
> sentence-level information, such as full-stops and commas. To preserve
this
> "punctuation", a special Tokenizer can be used that outputs such landmarks
> as tokens instead of filtering them out. The actual SummaryFilter then
> filters out the punctuation for its successors in the Analyzer's filter
> chain.
>
> The other, more complex thing is the document-level information: As
Lucene's
> architecture uses a filter concept that does not know about the document
the
> tokens are generated from (which is good abstraction), a document-specific
> operation like summarization is a bit of an awkward thing with this (and
> originally not intended, I guess). On the other hand, I'd like to have the
> existing filter structure in place for preprocessing of the input, because
> my raw texts are generated by converters from other formats that output
> unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> anyway by my custom Analyzer.
>
> Any idea how to solve this second problem? Is there any support for such
> document / sentence structure analysis planned?
>
> Thanks and regards,
>
> Gregor
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 20:44:18 2003
Return-Path: 
 <lucene-user-return-6563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51830 invoked from network); 16 Dec 2003 20:44:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 20:44:18 -0000
Received: (qmail 42190 invoked by uid 500); 16 Dec 2003 20:44:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42157 invoked by uid 500); 16 Dec 2003 20:44:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42144 invoked from network); 16 Dec 2003 20:44:02 -0000
Received: from unknown (HELO smartmail.igd.fhg.de) (192.44.32.16)
  by daedalus.apache.org with SMTP; 16 Dec 2003 20:44:02 -0000
Received: from pcara ([146.140.9.73]) by smartmail.igd.fhg.de
          (Netscape Messaging Server 4.15) with SMTP id HQ09CO00.A0H for
          <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 21:38:48 +0100
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene and Mysql
Date: Tue, 16 Dec 2003 21:39:54 +0100
Message-ID: <001501c3c414$c3a757e0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <004101c3c413$741805e0$2000a8c0@THINKST>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi.

You read out all the relevant fields from MySQL and assign the primary key
as an indentifier of your Lucene "documents".

During search, you retrieve the identifier from the Lucene searcher and
query the database to present the full text.

Best regards,

Gregor



-----Original Message-----
From: Stefan Trcko [mailto:stefan.trcko@aladin-eng.si]
Sent: Tuesday, December 16, 2003 9:31 PM
To: lucene-user@jakarta.apache.org
Subject: Lucene and Mysql


Hello

I'm new to Lucene. I want users can search text which is stored in mysql
database.
Is there any tutorial how to implement this kind of search feature.

Best regards,
Stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 16 20:46:25 2003
Return-Path: 
 <lucene-user-return-6564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52520 invoked from network); 16 Dec 2003 20:46:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Dec 2003 20:46:25 -0000
Received: (qmail 45389 invoked by uid 500); 16 Dec 2003 20:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45350 invoked by uid 500); 16 Dec 2003 20:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45247 invoked from network); 16 Dec 2003 20:46:04 -0000
Received: from unknown (HELO mailgw3a.lmco.com) (192.35.35.7)
  by daedalus.apache.org with SMTP; 16 Dec 2003 20:46:04 -0000
Received: from emss04g01.ems.lmco.com ([166.17.13.122])
	by mailgw3a.lmco.com (8.11.6p2/8.11.6) with ESMTP id hBGKk9U11880
	for <lucene-user@jakarta.apache.org>; Tue, 16 Dec 2003 15:46:09 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30760)
 id <0HQ0008019OX7R@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 16 Dec 2003 15:46:09 -0500 (EST)
Received: from EMSS04I00.us.lmco.com ([166.17.13.135]) by lmco.com (PMDF
 V6.1-1X6 #30760)
 with ESMTP id <0HQ000EUB9ONQ6@lmco.com> for lucene-user@jakarta.apache.org;
 Tue, 16 Dec 2003 15:46:09 -0500 (EST)
Received: from EMSS04M14.us.lmco.com ([162.16.20.50]) by EMSS04I00.us.lmco.com
 with Microsoft SMTPSVC(5.0.2195.2966); Tue,
 16 Dec 2003 15:46:00 -0500
Date: Tue, 16 Dec 2003 15:45:47 -0500
From: "Pleasant, Tracy" <tracy.pleasant@lmco.com>
Subject: RE: Lucene and Mysql
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1B76D3F17F4BE44283AD3C1C92AB590B01D1E8BD@EMSS04M14.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6375.0
Content-type: text/plain; charset=windows-1250
Content-transfer-encoding: 7BIT
Thread-Topic: Lucene and Mysql
Thread-Index: AcPEE9MGToTpOFyzS8ylo5PLquAoGgAAcFHA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Dec 2003 20:46:00.0914 (UTC)
 FILETIME=[9D502B20:01C3C415]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You would just take the items from mysql database and create a document for each record. Then index all the documents.


-----Original Message-----
From: Stefan Trcko [mailto:stefan.trcko@aladin-eng.si]
Sent: Tuesday, December 16, 2003 3:31 PM
To: lucene-user@jakarta.apache.org
Subject: Lucene and Mysql


Hello

I'm new to Lucene. I want users can search text which is stored in mysql database.
Is there any tutorial how to implement this kind of search feature.

Best regards,
Stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 15:22:17 2003
Return-Path: 
 <lucene-user-return-6568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36879 invoked from network); 17 Dec 2003 15:22:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 15:22:17 -0000
Received: (qmail 11345 invoked by uid 500); 17 Dec 2003 15:22:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11316 invoked by uid 500); 17 Dec 2003 15:22:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11301 invoked from network); 17 Dec 2003 15:22:05 -0000
Received: from unknown (HELO cosmos.phpwebhosting.com) (66.33.60.222)
  by daedalus.apache.org with SMTP; 17 Dec 2003 15:22:05 -0000
Received: (qmail 18678 invoked from network); 16 Dec 2003 21:01:27 -0000
Received: from unknown (HELO charliebrown) (64.123.5.217)
  by cosmos.phpwebhosting.com with SMTP; 16 Dec 2003 21:01:27 -0000
Message-ID: <01fb01c3c418$23a3c360$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004101c3c413$741805e0$2000a8c0@THINKST>
Subject: Re: Lucene and Mysql
Date: Tue, 16 Dec 2003 15:04:04 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

You should create a Lucene Document for each record in your table.  Make
each of the columns that contains text a field on the Document object.  Also
store the primary key of the record as a field.

Here's a very basic article I wrote about using Lucene:

http://builder.com.com/5100-6389-5054799.html

Jeff
----- Original Message ----- 
From: "Stefan Trcko" <stefan.trcko@aladin-eng.si>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 16, 2003 2:30 PM
Subject: Lucene and Mysql


Hello

I'm new to Lucene. I want users can search text which is stored in mysql
database.
Is there any tutorial how to implement this kind of search feature.

Best regards,
Stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 01:37:12 2003
Return-Path: 
 <lucene-user-return-6565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53175 invoked from network); 17 Dec 2003 01:37:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 01:37:12 -0000
Received: (qmail 42977 invoked by uid 500); 17 Dec 2003 01:36:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42759 invoked by uid 500); 17 Dec 2003 01:36:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42741 invoked from network); 17 Dec 2003 01:36:49 -0000
Received: from unknown (HELO smtp11.singnet.com.sg) (165.21.6.21)
  by daedalus.apache.org with SMTP; 17 Dec 2003 01:36:49 -0000
Received: from HP29375324311 ([155.69.58.214])
	by smtp11.singnet.com.sg (8.12.10/8.12.10) with ESMTP id hBH1aoQZ027178
	for <lucene-user@jakarta.apache.org>; Wed, 17 Dec 2003 09:36:56 +0800
Message-Id: <200312170136.hBH1aoQZ027178@smtp11.singnet.com.sg>
Reply-To: <chentun@singnet.com.sg>
From: "Tun Lin" <chentun@singnet.com.sg>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: WebLucene 0.4 released: added full featured demo(dump data php
 scripts and demo data in Chinese)
Date: Wed, 17 Dec 2003 09:36:48 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <BAY9-DAV26QHtMFauky0000bb41@hotmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcPD/U4Lo4FFHtzHTN26g0CblyCOGAAQEU0g
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am using the downloaded weblucene. I have started my tomcat server and trying
to search by clicking on the search button but it says the search page cannot be
found. Also, I cannot find it in the package.

Can anyone help?

Am I missing anything? 

-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com] 
Sent: Wednesday, December 17, 2003 1:53 AM
To: Lucene Users List
Subject: Re: WebLucene 0.4 released: added full featured demo(dump data php
scripts and demo data in Chinese)

sorry, demo address is:
http://www.blogchina.com/weblucene/


Che, Dong
----- Original Message -----
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 17, 2003 1:33 AM
Subject: WebLucene 0.4 released: added full featured demo(dump data php scripts
and demo data in Chinese)


> http://sourceforge.net/projects/weblucene/
> 
> WebLucene: 
> Lucene search engine XML interface, provided sax based indexing, indexing
sequence based result sorting and xml output with highlight support. 
> 
> The key features:
> 1 The bi-gram based CJK support: org/apache/lucene/analysis/cjk/CJKTokenizer,
The CJKTokenizer support Chinese Japanese and Korean with Westen language
simultaneously.
> 
> 2 DocID based result sorting: org/apache/lucene/search/IndexOrderSearcher
> 
> 3 xml output: com/chedong/weblucene/search/DOMSearcher
> 
> 4 sax based indexing: com/chedong/weblucene/index/SAXIndexer
> 
> 5 token based highlighter: 
>     reverse StopTokenzier:
>     org/apache/lucene/anlysis/HighlightAnalyzer.java
>                               HighlightFilter.java
>     with abstract:
>     com/chedong/weblucene/search/WebluceneHighlighter
> 
> 6 A simplified query parser:
>     google like syntax with term limit
>     org/apache/lucene/queryParser/SimpleQueryParser
>     modified from early version of Lucene :)
> 
> 7 Add full featured demo (including dump script and sample data) runs on:
http://www.blogchina.com/weblucene/
> 
> Regards
> 
> 
> Che Dong
> http://www.chedong.com/tech/weblucene.html
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 09:13:53 2003
Return-Path: 
 <lucene-user-return-6566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19566 invoked from network); 17 Dec 2003 09:13:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 09:13:53 -0000
Received: (qmail 3963 invoked by uid 500); 17 Dec 2003 09:13:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3907 invoked by uid 500); 17 Dec 2003 09:13:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3735 invoked from network); 17 Dec 2003 09:13:21 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 17 Dec 2003 09:13:20 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AWXkL-0005Xe-00
	for <lucene-user@jakarta.apache.org>; Wed, 17 Dec 2003 10:13:33 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1AWXkK-0005XW-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 17 Dec 2003 10:13:32 +0100
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1AWXkK-0002a4-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 17 Dec 2003 10:13:32 +0100
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Summarization; sentence-level and document-level filters.
Date: Wed, 17 Dec 2003 10:10:08 +0100
Lines: 23
Message-ID: <brp6ns$9m3$1@sea.gmane.org>
References: <3FDF476C.9060604@lucene.com>
 <001001c3c413$9e58d370$49098c92@pcara>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <001001c3c413$9e58d370$49098c92@pcara>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gregor Heinrich wrote:
> Yes, copying a summary from one field to an untokenized field was the plan.
> 
> I identified DocumentWriter.invertDocument() to be a possible place for an
> addition of this document-level analysis. But I admit this appears way too
> low-level and inflexible for the overall design.
> 
> So I'll make it "two-pass" indexing.

The way I did it: I'm indexing HTML documents, so before Lucene can do 
anything I need to run a HTML parser. This parser, while scanning the 
tags, builds two text strings at the same time: one that contains the 
document content for indexing and one that contains it for summarizing.

There are relevant differences between those two strings, for example in 
handling of headlines and punctuation. Lucene then gets to index the 
first string and the second is given to a summarizer. The summary it 
returns is added to a Lucene field.

This way I can do summarizing and indexing in one pass.

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 09:14:16 2003
Return-Path: 
 <lucene-user-return-6567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19722 invoked from network); 17 Dec 2003 09:14:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 09:14:16 -0000
Received: (qmail 4863 invoked by uid 500); 17 Dec 2003 09:13:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4788 invoked by uid 500); 17 Dec 2003 09:13:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4775 invoked from network); 17 Dec 2003 09:13:46 -0000
Received: from unknown (HELO mail2.multikabel.nl) (80.242.224.35)
  by daedalus.apache.org with SMTP; 17 Dec 2003 09:13:46 -0000
Received: from whale (80-242-226-122.multikabel.nl [80.242.226.122])
	by mail2.multikabel.nl (8.9.3/8.9.3/Debian 8.9.3-21) with SMTP id KAA01981;
	Wed, 17 Dec 2003 10:13:58 +0100
X-Authentication-Warning: mail2.multikabel.nl: Host
 80-242-226-122.multikabel.nl [80.242.226.122] claimed to be whale
Message-ID: <04d901c3c47e$6d55aa80$5a01a8c0@whale>
From: "maurits van wijland" <m.vanwijland@quicknet.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        <heinrich@igd.fhg.de>
References: <001401c3c414$1e6b3bc0$49098c92@pcara>
Subject: Re: Summarization; sentence-level and document-level filters.
Date: Wed, 17 Dec 2003 10:16:17 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gregor,

I don't have any benchmarks for summarization. Sorry!
I have two testversions of commercial summarizers and
their performance is better than the Classifier4J, but these
have been written in C++. So you can't compare properly.

regards,
Maurits


----- Original Message ----- 
From: "Gregor Heinrich" <gregor.heinrich@igd.fraunhofer.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 16, 2003 9:35 PM
Subject: RE: Summarization; sentence-level and document-level filters.


> Maurits: thanks for the hint to classifier4j -- I have had a look on this
> package and tried the SimpleSummarizer and it seems to work fine.
(However,
> as I don't know the benchmarks for summarization, I'm not the one to
judge.)
>
> Do you have experience with it?
>
> Gregor
>
> -----Original Message-----
> From: maurits van wijland [mailto:m.vanwijland@quicknet.nl]
> Sent: Tuesday, December 16, 2003 1:09 AM
> To: Lucene Users List; heinrich@igd.fhg.de
> Subject: Re: Summarization; sentence-level and document-level filters.
>
>
> Hi Gregor,
>
> Sofar as I know there is no summarizer in the plans. And maybe I can help
> you along the way. Have a look
> at Classifier4J project on Sourceforge.
>
> http://classifier4j.sourceforge.net/
>
> It has a small documetn summarizer besides a bayes classifier.It might
speed
> up your coding.
>
> On the level of lucene, I have no idea. My gut feeling says that a summary
> should be build before the
> text is tokenized! The tokenizer can ofcourse be used when analysing a
> document, but hooking into
> the lucene indexing is a bad idea I think.
>
> Someone else has any ideas?
>
> regards,
>
> Maurits
>
>
>
>
> ----- Original Message -----
> From: "Gregor Heinrich" <heinrich@igd.fhg.de>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Monday, December 15, 2003 7:41 PM
> Subject: Summarization; sentence-level and document-level filters.
>
>
> > Hi,
> >
> > is there any possibility to do sentence-level or document level analysis
> > with the current Analysis/TokenStream architecture? Or where else is the
> > best place to plug in customised document-level and sentence-level
> analysis
> > features? Is there any "precedence case" ?
> >
> > My technical problem:
> >
> > I'd like to include a summarization feature into my system, which should
> (1)
> > best make use of the architecture already there in Lucene, and (2)
should
> be
> > able to trigger summarization on a per-document basis while requiring
> > sentence-level information, such as full-stops and commas. To preserve
> this
> > "punctuation", a special Tokenizer can be used that outputs such
landmarks
> > as tokens instead of filtering them out. The actual SummaryFilter then
> > filters out the punctuation for its successors in the Analyzer's filter
> > chain.
> >
> > The other, more complex thing is the document-level information: As
> Lucene's
> > architecture uses a filter concept that does not know about the document
> the
> > tokens are generated from (which is good abstraction), a
document-specific
> > operation like summarization is a bit of an awkward thing with this (and
> > originally not intended, I guess). On the other hand, I'd like to have
the
> > existing filter structure in place for preprocessing of the input,
because
> > my raw texts are generated by converters from other formats that output
> > unwanted chars (from figures, pagenumbers, etc.), which are filtered out
> > anyway by my custom Analyzer.
> >
> > Any idea how to solve this second problem? Is there any support for such
> > document / sentence structure analysis planned?
> >
> > Thanks and regards,
> >
> > Gregor
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 15:45:18 2003
Return-Path: 
 <lucene-user-return-6569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50593 invoked from network); 17 Dec 2003 15:45:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 15:45:18 -0000
Received: (qmail 51089 invoked by uid 500); 17 Dec 2003 15:45:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51064 invoked by uid 500); 17 Dec 2003 15:45:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51051 invoked from network); 17 Dec 2003 15:45:08 -0000
Received: from unknown (HELO imag.imag.fr) (129.88.30.1)
  by daedalus.apache.org with SMTP; 17 Dec 2003 15:45:08 -0000
Received: from orage.imag.fr (orage.imag.fr [152.77.201.1])
	by imag.imag.fr (8.12.10/8.12.10) with ESMTP id hBHFj6bK000263
	for <lucene-user@jakarta.apache.org>; Wed, 17 Dec 2003 16:45:07 +0100 (CET)
Received: from batica1.imag.fr (batica1.imag.fr [152.77.200.163])
	by orage.imag.fr (8.12.10+Sun/8.11.3/ImagV2) with ESMTP id hBHFj6uB002272
	for <lucene-user@jakarta.apache.org>; Wed, 17 Dec 2003 16:45:06 +0100 (CET)
Message-Id: <5.0.2.1.2.20031217164139.0259eb20@mail-timc.imag.fr>
X-Sender: gdiallo@mail-timc.imag.fr
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Wed, 17 Dec 2003 16:46:17 +0100
To: lucene-user@jakarta.apache.org
From: Gayo Diallo <gayo.diallo@imag.fr>
Subject: Displaying Query
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_10295063==_.ALT"
X-IMAG-MailScanner: Found to be clean
X-IMAG-MailScanner-Information: Please contact the ISP for more information
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_10295063==_.ALT
Content-Type: text/plain; charset="iso-8859-1"; format=flowed
Content-Transfer-Encoding: quoted-printable

Hi all,

I use this code
Query query =3D QueryParser.parse(q, "Contenu", new Analyseur());

String larequet =3D query.toString();

System.out.println("la requ=EAte =E0 traiter est: " + larequet);

And I have as this line displayed=
 "org.apache.lucene.search.PhraseQuery@3ee284"

I don't know Why I have't my query string displayed correctly. May someone=
=20
help me.

Best regards,

Gayo

--=====================_10295063==_.ALT--


From MAILER-DAEMON Wed Dec 17 15:50:01 2003
Return-Path: 
 <lucene-user-return-6570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53938 invoked from network); 17 Dec 2003 15:50:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 15:50:01 -0000
Received: (qmail 61245 invoked by uid 500); 17 Dec 2003 15:49:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61212 invoked by uid 500); 17 Dec 2003 15:49:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61199 invoked from network); 17 Dec 2003 15:49:51 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 17 Dec 2003 15:49:51 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Displaying Query
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MIMEOLE: Produced By Microsoft Exchange V6.0.5762.3
Date: Wed, 17 Dec 2003 10:48:27 -0500
Message-ID: <5C7A32E240A279479DFF44FDF01BBE629DE8DC@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Displaying Query
Thread-Index: AcPEtI7cIxVpi6CEQDWu4HYtZwj+pwAAHgjw
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Try:

String larequet =3D query.toString("default field name here");

Example:

String larequet =3D query.toString("texte");

That should give string version of query.


-----Original Message-----
From: Gayo Diallo [mailto:gayo.diallo@imag.fr]
Sent: Wednesday, December 17, 2003 10:46 AM
To: lucene-user@jakarta.apache.org
Subject: Displaying Query


Hi all,

I use this code
Query query =3D QueryParser.parse(q, "Contenu", new Analyseur());

String larequet =3D query.toString();

System.out.println("la requ=EAte =E0 traiter est: " + larequet);

And I have as this line displayed =
"org.apache.lucene.search.PhraseQuery@3ee284"

I don't know Why I have't my query string displayed correctly. May =
someone=20
help me.

Best regards,

Gayo

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:16:50 2003
Return-Path: 
 <lucene-user-return-6571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35644 invoked from network); 17 Dec 2003 21:16:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:16:50 -0000
Received: (qmail 56385 invoked by uid 500); 17 Dec 2003 21:16:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56360 invoked by uid 500); 17 Dec 2003 21:16:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56345 invoked from network); 17 Dec 2003 21:16:32 -0000
Received: from unknown (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:16:32 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp005.mail.ukl.yahoo.com with SMTP; 17 Dec 2003 21:16:36 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 13:16:38 -0800
Message-ID: <004301c3c4e3$10096fa0$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <3FDF476C.9060604@lucene.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am using Lucene to index a large number of web pages (a few 100GB) and =
the
indexing speed is great.

Lately I have been trying to index on a sentence level, not the document
level. My problem is that the indexing speed has gone down dramatically =
and
I am wondering if there is any way for me to improve on that.

Indexing on a sentence level the overall amount of data stays the same =
while
the number of records increases substantially (since there is usually =
many
sentences to one web page).

It seems to me like the indexing speed (everything else being the same)
depends largely on the number of Documents inserted into the index, and =
not
so much on the size of the data within the documents (correct?).

I have played with the merge factor, using RAMDirectory, etc and I am =
quite
comfortable with our overall configuration, so my guess is that that is =
not
the issue (and I am QUITE happy with the indexing speed as long as I use
complete pages and not sentences).

Maybe there is a different way of attacking this? My goal is to be able =
to
execute a query and get the sentences that match the query in the most
efficient way while maintaining good/great indexing speed. I would =
prefer
not having to search the complete document for the sentence in question.

My current solution is to have one Lucene Document for each page =
(containing
the URL and other information I require) that does NOT contain the text =
of
the page. Then I have one Lucene Document for each sentence within that
document, which contains the text of this particular sentence in =
addition to
some identifying information that references the entry of the page =
itself.

Any and all suggestions are welcome.

Thanks!
Jochen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:19:35 2003
Return-Path: 
 <lucene-user-return-6572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37304 invoked from network); 17 Dec 2003 21:19:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:19:35 -0000
Received: (qmail 59284 invoked by uid 500); 17 Dec 2003 21:19:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59237 invoked by uid 500); 17 Dec 2003 21:19:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59223 invoked from network); 17 Dec 2003 21:19:18 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:19:18 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <ZDBAS0F5>; Wed, 17 Dec 2003 16:19:23 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DC@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 16:19:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm confused about something - what's the point of creating a document for
every sentence?

-----Original Message-----
From: Jochen Frey [mailto:jochen_frey@yahoo.com]
Sent: Wednesday, December 17, 2003 4:17 PM
To: 'Lucene Users List'
Subject: Indexing Speed: Documents vs. Sentences


Hi,

I am using Lucene to index a large number of web pages (a few 100GB) and the
indexing speed is great.

Lately I have been trying to index on a sentence level, not the document
level. My problem is that the indexing speed has gone down dramatically and
I am wondering if there is any way for me to improve on that.

Indexing on a sentence level the overall amount of data stays the same while
the number of records increases substantially (since there is usually many
sentences to one web page).

It seems to me like the indexing speed (everything else being the same)
depends largely on the number of Documents inserted into the index, and not
so much on the size of the data within the documents (correct?).

I have played with the merge factor, using RAMDirectory, etc and I am quite
comfortable with our overall configuration, so my guess is that that is not
the issue (and I am QUITE happy with the indexing speed as long as I use
complete pages and not sentences).

Maybe there is a different way of attacking this? My goal is to be able to
execute a query and get the sentences that match the query in the most
efficient way while maintaining good/great indexing speed. I would prefer
not having to search the complete document for the sentence in question.

My current solution is to have one Lucene Document for each page (containing
the URL and other information I require) that does NOT contain the text of
the page. Then I have one Lucene Document for each sentence within that
document, which contains the text of this particular sentence in addition to
some identifying information that references the entry of the page itself.

Any and all suggestions are welcome.

Thanks!
Jochen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:26:41 2003
Return-Path: 
 <lucene-user-return-6573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41088 invoked from network); 17 Dec 2003 21:26:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:26:41 -0000
Received: (qmail 71409 invoked by uid 500); 17 Dec 2003 21:26:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71352 invoked by uid 500); 17 Dec 2003 21:26:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71275 invoked from network); 17 Dec 2003 21:26:22 -0000
Received: from unknown (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:26:22 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp003.mail.ukl.yahoo.com with SMTP; 17 Dec 2003 21:25:50 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 13:25:47 -0800
Message-ID: <004401c3c4e4$59d64cb0$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DC@exchange.hq.openratings.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

In essence:=20
1) I don't care about the whole page

2) I only care about the actual sentence that matches the query.

3) I want the matching for the query only to happen within one sentence =
and
not over sentence boundaries (even when I do a PhraseQuery with some =
slop).=20

The query: "i like the beach"~20
should not match: "And we go to the restaurant and i really like it. the
beach was wonderful as well".

4) I would much prefer not to parse the actual page to find the sentence
that matches the query (though I obviously will, if I have to).

Does that answer your question?

Thanks!
Jochen

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: Wednesday, December 17, 2003 1:19 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
> I'm confused about something - what's the point of creating a document =
for
> every sentence?
>=20
> -----Original Message-----
> From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> Sent: Wednesday, December 17, 2003 4:17 PM
> To: 'Lucene Users List'
> Subject: Indexing Speed: Documents vs. Sentences
>=20
>=20
> Hi,
>=20
> I am using Lucene to index a large number of web pages (a few 100GB) =
and
> the
> indexing speed is great.
>=20
> Lately I have been trying to index on a sentence level, not the =
document
> level. My problem is that the indexing speed has gone down =
dramatically
> and
> I am wondering if there is any way for me to improve on that.
>=20
> Indexing on a sentence level the overall amount of data stays the same
> while
> the number of records increases substantially (since there is usually =
many
> sentences to one web page).
>=20
> It seems to me like the indexing speed (everything else being the =
same)
> depends largely on the number of Documents inserted into the index, =
and
> not
> so much on the size of the data within the documents (correct?).
>=20
> I have played with the merge factor, using RAMDirectory, etc and I am
> quite
> comfortable with our overall configuration, so my guess is that that =
is
> not
> the issue (and I am QUITE happy with the indexing speed as long as I =
use
> complete pages and not sentences).
>=20
> Maybe there is a different way of attacking this? My goal is to be =
able to
> execute a query and get the sentences that match the query in the most
> efficient way while maintaining good/great indexing speed. I would =
prefer
> not having to search the complete document for the sentence in =
question.
>=20
> My current solution is to have one Lucene Document for each page
> (containing
> the URL and other information I require) that does NOT contain the =
text of
> the page. Then I have one Lucene Document for each sentence within =
that
> document, which contains the text of this particular sentence in =
addition
> to
> some identifying information that references the entry of the page =
itself.
>=20
> Any and all suggestions are welcome.
>=20
> Thanks!
> Jochen
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:29:47 2003
Return-Path: 
 <lucene-user-return-6574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42090 invoked from network); 17 Dec 2003 21:29:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:29:47 -0000
Received: (qmail 76860 invoked by uid 500); 17 Dec 2003 21:29:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76833 invoked by uid 500); 17 Dec 2003 21:29:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76817 invoked from network); 17 Dec 2003 21:29:30 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:29:30 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <ZDBAS0HR>; Wed, 17 Dec 2003 16:29:33 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DD@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 16:29:28 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yeah.  I'd suggest parsing the page, unfortunately. :)

-----Original Message-----
From: Jochen Frey [mailto:jochen_frey@yahoo.com]
Sent: Wednesday, December 17, 2003 4:26 PM
To: 'Lucene Users List'
Subject: RE: Indexing Speed: Documents vs. Sentences


Hi!

In essence: 
1) I don't care about the whole page

2) I only care about the actual sentence that matches the query.

3) I want the matching for the query only to happen within one sentence and
not over sentence boundaries (even when I do a PhraseQuery with some slop). 

The query: "i like the beach"~20
should not match: "And we go to the restaurant and i really like it. the
beach was wonderful as well".

4) I would much prefer not to parse the actual page to find the sentence
that matches the query (though I obviously will, if I have to).

Does that answer your question?

Thanks!
Jochen

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: Wednesday, December 17, 2003 1:19 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
> 
> I'm confused about something - what's the point of creating a document for
> every sentence?
> 
> -----Original Message-----
> From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> Sent: Wednesday, December 17, 2003 4:17 PM
> To: 'Lucene Users List'
> Subject: Indexing Speed: Documents vs. Sentences
> 
> 
> Hi,
> 
> I am using Lucene to index a large number of web pages (a few 100GB) and
> the
> indexing speed is great.
> 
> Lately I have been trying to index on a sentence level, not the document
> level. My problem is that the indexing speed has gone down dramatically
> and
> I am wondering if there is any way for me to improve on that.
> 
> Indexing on a sentence level the overall amount of data stays the same
> while
> the number of records increases substantially (since there is usually many
> sentences to one web page).
> 
> It seems to me like the indexing speed (everything else being the same)
> depends largely on the number of Documents inserted into the index, and
> not
> so much on the size of the data within the documents (correct?).
> 
> I have played with the merge factor, using RAMDirectory, etc and I am
> quite
> comfortable with our overall configuration, so my guess is that that is
> not
> the issue (and I am QUITE happy with the indexing speed as long as I use
> complete pages and not sentences).
> 
> Maybe there is a different way of attacking this? My goal is to be able to
> execute a query and get the sentences that match the query in the most
> efficient way while maintaining good/great indexing speed. I would prefer
> not having to search the complete document for the sentence in question.
> 
> My current solution is to have one Lucene Document for each page
> (containing
> the URL and other information I require) that does NOT contain the text of
> the page. Then I have one Lucene Document for each sentence within that
> document, which contains the text of this particular sentence in addition
> to
> some identifying information that references the entry of the page itself.
> 
> Any and all suggestions are welcome.
> 
> Thanks!
> Jochen
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:34:10 2003
Return-Path: 
 <lucene-user-return-6575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43795 invoked from network); 17 Dec 2003 21:34:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:34:10 -0000
Received: (qmail 82617 invoked by uid 500); 17 Dec 2003 21:33:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82576 invoked by uid 500); 17 Dec 2003 21:33:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82498 invoked from network); 17 Dec 2003 21:33:53 -0000
Received: from unknown (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:33:53 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp002.mail.ukl.yahoo.com with SMTP; 17 Dec 2003 21:33:58 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 13:33:59 -0800
Message-ID: <004a01c3c4e5$7cb075c0$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DD@exchange.hq.openratings.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Right.

However, even if I do that, my problem #3 below remains unsolved: I do =
not
wish to match phrases across sentence boundaries.

Anyone have a neat solution (or pointers to one)?

Thanks again!
Jochen

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: Wednesday, December 17, 2003 1:29 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
> Yeah.  I'd suggest parsing the page, unfortunately. :)
>=20
> -----Original Message-----
> From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> Sent: Wednesday, December 17, 2003 4:26 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
>=20
> Hi!
>=20
> In essence:
> 1) I don't care about the whole page
>=20
> 2) I only care about the actual sentence that matches the query.
>=20
> 3) I want the matching for the query only to happen within one =
sentence
> and
> not over sentence boundaries (even when I do a PhraseQuery with some
> slop).
>=20
> The query: "i like the beach"~20
> should not match: "And we go to the restaurant and i really like it. =
the
> beach was wonderful as well".
>=20
> 4) I would much prefer not to parse the actual page to find the =
sentence
> that matches the query (though I obviously will, if I have to).
>=20
> Does that answer your question?
>=20
> Thanks!
> Jochen
>=20
> > -----Original Message-----
> > From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> > Sent: Wednesday, December 17, 2003 1:19 PM
> > To: 'Lucene Users List'
> > Subject: RE: Indexing Speed: Documents vs. Sentences
> >
> > I'm confused about something - what's the point of creating a =
document
> for
> > every sentence?
> >
> > -----Original Message-----
> > From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> > Sent: Wednesday, December 17, 2003 4:17 PM
> > To: 'Lucene Users List'
> > Subject: Indexing Speed: Documents vs. Sentences
> >
> >
> > Hi,
> >
> > I am using Lucene to index a large number of web pages (a few 100GB) =
and
> > the
> > indexing speed is great.
> >
> > Lately I have been trying to index on a sentence level, not the =
document
> > level. My problem is that the indexing speed has gone down =
dramatically
> > and
> > I am wondering if there is any way for me to improve on that.
> >
> > Indexing on a sentence level the overall amount of data stays the =
same
> > while
> > the number of records increases substantially (since there is =
usually
> many
> > sentences to one web page).
> >
> > It seems to me like the indexing speed (everything else being the =
same)
> > depends largely on the number of Documents inserted into the index, =
and
> > not
> > so much on the size of the data within the documents (correct?).
> >
> > I have played with the merge factor, using RAMDirectory, etc and I =
am
> > quite
> > comfortable with our overall configuration, so my guess is that that =
is
> > not
> > the issue (and I am QUITE happy with the indexing speed as long as I =
use
> > complete pages and not sentences).
> >
> > Maybe there is a different way of attacking this? My goal is to be =
able
> to
> > execute a query and get the sentences that match the query in the =
most
> > efficient way while maintaining good/great indexing speed. I would
> prefer
> > not having to search the complete document for the sentence in =
question.
> >
> > My current solution is to have one Lucene Document for each page
> > (containing
> > the URL and other information I require) that does NOT contain the =
text
> of
> > the page. Then I have one Lucene Document for each sentence within =
that
> > document, which contains the text of this particular sentence in
> addition
> > to
> > some identifying information that references the entry of the page
> itself.
> >
> > Any and all suggestions are welcome.
> >
> > Thanks!
> > Jochen
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 21:36:09 2003
Return-Path: 
 <lucene-user-return-6576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44664 invoked from network); 17 Dec 2003 21:36:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 21:36:09 -0000
Received: (qmail 85304 invoked by uid 500); 17 Dec 2003 21:35:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85267 invoked by uid 500); 17 Dec 2003 21:35:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85248 invoked from network); 17 Dec 2003 21:35:52 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Dec 2003 21:35:52 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <ZDBAS02K>; Wed, 17 Dec 2003 16:35:53 -0500
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DE@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 16:35:43 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When you parse the page you can prevent sentence-boundry hits from matching
your criteria

-----Original Message-----
From: Jochen Frey [mailto:jochen_frey@yahoo.com]
Sent: Wednesday, December 17, 2003 4:34 PM
To: 'Lucene Users List'
Subject: RE: Indexing Speed: Documents vs. Sentences


Right.

However, even if I do that, my problem #3 below remains unsolved: I do not
wish to match phrases across sentence boundaries.

Anyone have a neat solution (or pointers to one)?

Thanks again!
Jochen

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: Wednesday, December 17, 2003 1:29 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
> 
> Yeah.  I'd suggest parsing the page, unfortunately. :)
> 
> -----Original Message-----
> From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> Sent: Wednesday, December 17, 2003 4:26 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
> 
> 
> Hi!
> 
> In essence:
> 1) I don't care about the whole page
> 
> 2) I only care about the actual sentence that matches the query.
> 
> 3) I want the matching for the query only to happen within one sentence
> and
> not over sentence boundaries (even when I do a PhraseQuery with some
> slop).
> 
> The query: "i like the beach"~20
> should not match: "And we go to the restaurant and i really like it. the
> beach was wonderful as well".
> 
> 4) I would much prefer not to parse the actual page to find the sentence
> that matches the query (though I obviously will, if I have to).
> 
> Does that answer your question?
> 
> Thanks!
> Jochen
> 
> > -----Original Message-----
> > From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> > Sent: Wednesday, December 17, 2003 1:19 PM
> > To: 'Lucene Users List'
> > Subject: RE: Indexing Speed: Documents vs. Sentences
> >
> > I'm confused about something - what's the point of creating a document
> for
> > every sentence?
> >
> > -----Original Message-----
> > From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> > Sent: Wednesday, December 17, 2003 4:17 PM
> > To: 'Lucene Users List'
> > Subject: Indexing Speed: Documents vs. Sentences
> >
> >
> > Hi,
> >
> > I am using Lucene to index a large number of web pages (a few 100GB) and
> > the
> > indexing speed is great.
> >
> > Lately I have been trying to index on a sentence level, not the document
> > level. My problem is that the indexing speed has gone down dramatically
> > and
> > I am wondering if there is any way for me to improve on that.
> >
> > Indexing on a sentence level the overall amount of data stays the same
> > while
> > the number of records increases substantially (since there is usually
> many
> > sentences to one web page).
> >
> > It seems to me like the indexing speed (everything else being the same)
> > depends largely on the number of Documents inserted into the index, and
> > not
> > so much on the size of the data within the documents (correct?).
> >
> > I have played with the merge factor, using RAMDirectory, etc and I am
> > quite
> > comfortable with our overall configuration, so my guess is that that is
> > not
> > the issue (and I am QUITE happy with the indexing speed as long as I use
> > complete pages and not sentences).
> >
> > Maybe there is a different way of attacking this? My goal is to be able
> to
> > execute a query and get the sentences that match the query in the most
> > efficient way while maintaining good/great indexing speed. I would
> prefer
> > not having to search the complete document for the sentence in question.
> >
> > My current solution is to have one Lucene Document for each page
> > (containing
> > the URL and other information I require) that does NOT contain the text
> of
> > the page. Then I have one Lucene Document for each sentence within that
> > document, which contains the text of this particular sentence in
> addition
> > to
> > some identifying information that references the entry of the page
> itself.
> >
> > Any and all suggestions are welcome.
> >
> > Thanks!
> > Jochen
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 17 22:04:56 2003
Return-Path: 
 <lucene-user-return-6577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60449 invoked from network); 17 Dec 2003 22:04:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Dec 2003 22:04:56 -0000
Received: (qmail 36760 invoked by uid 500); 17 Dec 2003 22:04:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36534 invoked by uid 500); 17 Dec 2003 22:04:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36508 invoked from network); 17 Dec 2003 22:04:38 -0000
Received: from unknown (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by daedalus.apache.org with SMTP; 17 Dec 2003 22:04:38 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp003.mail.ukl.yahoo.com with SMTP; 17 Dec 2003 22:04:02 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Wed, 17 Dec 2003 14:04:02 -0800
Message-ID: <004b01c3c4e9$b056abc0$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DE@exchange.hq.openratings.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dan, I will send you a separate e-mail directly to your address.

In the meanwhile, I hope to get input from other people. Maybe someone =
else
knows how to solve my original problem below.

Thanks!
Jochen

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: Wednesday, December 17, 2003 1:36 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
> When you parse the page you can prevent sentence-boundry hits from
> matching
> your criteria
>=20
> -----Original Message-----
> From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> Sent: Wednesday, December 17, 2003 4:34 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
>=20
> Right.
>=20
> However, even if I do that, my problem #3 below remains unsolved: I do =
not
> wish to match phrases across sentence boundaries.
>=20
> Anyone have a neat solution (or pointers to one)?
>=20
> Thanks again!
> Jochen
>=20
> > -----Original Message-----
> > From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> > Sent: Wednesday, December 17, 2003 1:29 PM
> > To: 'Lucene Users List'
> > Subject: RE: Indexing Speed: Documents vs. Sentences
> >
> > Yeah.  I'd suggest parsing the page, unfortunately. :)
> >
> > -----Original Message-----
> > From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> > Sent: Wednesday, December 17, 2003 4:26 PM
> > To: 'Lucene Users List'
> > Subject: RE: Indexing Speed: Documents vs. Sentences
> >
> >
> > Hi!
> >
> > In essence:
> > 1) I don't care about the whole page
> >
> > 2) I only care about the actual sentence that matches the query.
> >
> > 3) I want the matching for the query only to happen within one =
sentence
> > and
> > not over sentence boundaries (even when I do a PhraseQuery with some
> > slop).
> >
> > The query: "i like the beach"~20
> > should not match: "And we go to the restaurant and i really like it. =
the
> > beach was wonderful as well".
> >
> > 4) I would much prefer not to parse the actual page to find the =
sentence
> > that matches the query (though I obviously will, if I have to).
> >
> > Does that answer your question?
> >
> > Thanks!
> > Jochen
> >
> > > -----Original Message-----
> > > From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> > > Sent: Wednesday, December 17, 2003 1:19 PM
> > > To: 'Lucene Users List'
> > > Subject: RE: Indexing Speed: Documents vs. Sentences
> > >
> > > I'm confused about something - what's the point of creating a =
document
> > for
> > > every sentence?
> > >
> > > -----Original Message-----
> > > From: Jochen Frey [mailto:jochen_frey@yahoo.com]
> > > Sent: Wednesday, December 17, 2003 4:17 PM
> > > To: 'Lucene Users List'
> > > Subject: Indexing Speed: Documents vs. Sentences
> > >
> > >
> > > Hi,
> > >
> > > I am using Lucene to index a large number of web pages (a few =
100GB)
> and
> > > the
> > > indexing speed is great.
> > >
> > > Lately I have been trying to index on a sentence level, not the
> document
> > > level. My problem is that the indexing speed has gone down
> dramatically
> > > and
> > > I am wondering if there is any way for me to improve on that.
> > >
> > > Indexing on a sentence level the overall amount of data stays the =
same
> > > while
> > > the number of records increases substantially (since there is =
usually
> > many
> > > sentences to one web page).
> > >
> > > It seems to me like the indexing speed (everything else being the
> same)
> > > depends largely on the number of Documents inserted into the =
index,
> and
> > > not
> > > so much on the size of the data within the documents (correct?).
> > >
> > > I have played with the merge factor, using RAMDirectory, etc and I =
am
> > > quite
> > > comfortable with our overall configuration, so my guess is that =
that
> is
> > > not
> > > the issue (and I am QUITE happy with the indexing speed as long as =
I
> use
> > > complete pages and not sentences).
> > >
> > > Maybe there is a different way of attacking this? My goal is to be
> able
> > to
> > > execute a query and get the sentences that match the query in the =
most
> > > efficient way while maintaining good/great indexing speed. I would
> > prefer
> > > not having to search the complete document for the sentence in
> question.
> > >
> > > My current solution is to have one Lucene Document for each page
> > > (containing
> > > the URL and other information I require) that does NOT contain the
> text
> > of
> > > the page. Then I have one Lucene Document for each sentence within
> that
> > > document, which contains the text of this particular sentence in
> > addition
> > > to
> > > some identifying information that references the entry of the page
> > itself.
> > >
> > > Any and all suggestions are welcome.
> > >
> > > Thanks!
> > > Jochen
> > >
> > >
> > > =
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org
> > >
> > > =
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 05:23:25 2003
Return-Path: 
 <lucene-user-return-6578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11089 invoked from network); 18 Dec 2003 05:23:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 05:23:25 -0000
Received: (qmail 1482 invoked by uid 500); 18 Dec 2003 05:22:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1452 invoked by uid 500); 18 Dec 2003 05:22:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1439 invoked from network); 18 Dec 2003 05:22:59 -0000
Received: from unknown (HELO hotmail.com) (65.54.246.116)
  by daedalus.apache.org with SMTP; 18 Dec 2003 05:22:59 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 17 Dec 2003 21:23:09 -0800
Received: from 207.237.128.115 by bay2-dav12.bay2.hotmail.com with DAV;
	Thu, 18 Dec 2003 05:23:09 +0000
X-Originating-IP: [207.237.128.115]
X-Originating-Email: [alexgad@hotmail.com]
X-Sender: alexgad@hotmail.com
From: "Alex Gadea" <alexgad@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: java.io.IOException: couldn't delete backup
Date: Thu, 18 Dec 2003 00:23:07 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0055_01C3C4FD.1C4C2C70"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY2-DAV12jHvsLa5uz0000d227@hotmail.com>
X-OriginalArrivalTime: 18 Dec 2003 05:23:09.0964 (UTC)
 FILETIME=[067B34C0:01C3C527]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0055_01C3C4FD.1C4C2C70
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am trying to setup a Lucene installation on a Windows 2000 server.  I =
can not get the IndexWriter to initialize properly.  It fails out with =
an IOException error that says it could not delete backup.  I have =
opened up permissions on the directory I am attempting to create the =
index in as well as the directory I am attempting to read with no =
success.  Right now the permissions are set to Everyone ALL and I also =
setup IIS to be able to write to the 2 directories in case that was the =
problem.  Still no luck.  Are there any other directories/files which =
Lucene needs access to that I am missing?

writer =3D new IndexWriter(indexPath, analyzer, =
bCreateIndex.booleanValue());

Thanks,

Alex Gadea

------=_NextPart_000_0055_01C3C4FD.1C4C2C70--

From MAILER-DAEMON Thu Dec 18 06:58:40 2003
Return-Path: 
 <lucene-user-return-6579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38806 invoked from network); 18 Dec 2003 06:58:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 06:58:40 -0000
Received: (qmail 74536 invoked by uid 500); 18 Dec 2003 06:58:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74305 invoked by uid 500); 18 Dec 2003 06:58:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74292 invoked from network); 18 Dec 2003 06:58:13 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.38)
  by daedalus.apache.org with SMTP; 18 Dec 2003 06:58:13 -0000
Received: (qmail 23836 invoked from network); 18 Dec 2003 06:49:41 -0000
Received: from unknown (HELO victor) (203.217.18.230)
  by mail.iinet.net.au with SMTP; 18 Dec 2003 06:49:40 -0000
Message-ID: <01d101c3c533$1e18eda0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004301c3c4e3$10096fa0$8012060a@MMcompaq01>
Subject: Re: Indexing Speed: Documents vs. Sentences
Date: Thu, 18 Dec 2003 17:49:40 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Hi,
>
> I am using Lucene to index a large number of web pages (a few 100GB) and
the
> indexing speed is great.

Jochen .. a few 100 GB? Is this correct?

/victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 08:39:34 2003
Return-Path: 
 <lucene-user-return-6580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97769 invoked from network); 18 Dec 2003 08:39:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 08:39:34 -0000
Received: (qmail 62091 invoked by uid 500); 18 Dec 2003 08:39:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62054 invoked by uid 500); 18 Dec 2003 08:39:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62036 invoked from network); 18 Dec 2003 08:39:04 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 18 Dec 2003 08:39:04 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP
	id CCA4919B742; Thu, 18 Dec 2003 09:39:16 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hBI8dGlJ018217;
	Thu, 18 Dec 2003 09:39:16 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hBI8dG7l018213;
	Thu, 18 Dec 2003 09:39:16 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16353.26547.847609.234482@tanto-xipolis.de>
Date: Thu, 18 Dec 2003 09:39:15 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<jochen_frey@yahoo.com>
Subject: RE: Indexing Speed: Documents vs. Sentences
In-Reply-To: <004b01c3c4e9$b056abc0$8012060a@MMcompaq01>
References: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C680DE@exchange.hq.openratings.com>
	<004b01c3c4e9$b056abc0$8012060a@MMcompaq01>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jochen Frey writes:
> Dan, I will send you a separate e-mail directly to your address.
> 
> In the meanwhile, I hope to get input from other people. Maybe someone else
> knows how to solve my original problem below.
> 
recently there was a discussion on this list, how to use token positions
to store a sentence boundary in the index.
Basically you increase the token position by some large number (e.g. 1000)
at a sentence boundary. Then "x y"~20 won't match across sentence boundaries
(unless you use something like "x y"~1020).

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 09:58:27 2003
Return-Path: 
 <lucene-user-return-6581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41097 invoked from network); 18 Dec 2003 09:58:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 09:58:27 -0000
Received: (qmail 46077 invoked by uid 500); 18 Dec 2003 09:57:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45754 invoked by uid 500); 18 Dec 2003 09:57:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45741 invoked from network); 18 Dec 2003 09:57:56 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 18 Dec 2003 09:57:56 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 1390F19B719
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 10:58:09 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hBI9w8lJ018754
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 10:58:08 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hBI9w8BD018750;
	Thu, 18 Dec 2003 10:58:08 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16353.31280.433000.512645@tanto-xipolis.de>
Date: Thu, 18 Dec 2003 10:58:08 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
In-Reply-To: <20031105191254.33950.qmail@web12703.mail.yahoo.com>
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
	<20031105191254.33950.qmail@web12703.mail.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Some time ago (Nov 5) Otis suggested to use one IndexSearcher instance for
search and recreate this instance when the index changed:

> Use a single instance of IndexSearcher.
> When you detect that the index has changed, through that instance (see
> javadoc for the exact method name, I don't recall its exact name now),
> discard that instance, and make a new one.

My problem is that I don't find an apropriate method in the javadoc.
Do I miss something?

There are static methods 'lastModified' in the IndexReader class.
So one might use these (together with a timestamp, when the IndexSearcher
was opened) to do the check.

But it would be nice to have some 'isUpToDate' method in the class itself.
Or should I do that myself by subclassing IndexSearcher?

Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 10:41:02 2003
Return-Path: 
 <lucene-user-return-6582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62494 invoked from network); 18 Dec 2003 10:41:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 10:41:02 -0000
Received: (qmail 6018 invoked by uid 500); 18 Dec 2003 10:40:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5983 invoked by uid 500); 18 Dec 2003 10:40:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5954 invoked from network); 18 Dec 2003 10:40:29 -0000
Received: from unknown (HELO smtpzilla3.xs4all.nl) (194.109.127.139)
  by daedalus.apache.org with SMTP; 18 Dec 2003 10:40:29 -0000
Received: from boven (cp.xs4all.nl [80.126.189.138])
	by smtpzilla3.xs4all.nl (8.12.9/8.12.9) with SMTP id hBIAebsM054739
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 11:40:42 +0100 (CET)
Message-ID: <004901c3c553$906e96f0$6502a8c0@boven>
From: "Thijs Cadier" <thijs@cadier.net>
To: <lucene-user@jakarta.apache.org>
Subject: Wildcard in Field
Date: Thu, 18 Dec 2003 11:41:53 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm implementing Lucene in our Content Management system. A plugin for every
type of content fills the Document, so I have no control over the amount and
names of the fields.

Now I'm trying to do a search in every field. But Lucene won't accept a * as
a field name in the Query. Is there a way to perform a search like this?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 11:13:42 2003
Return-Path: 
 <lucene-user-return-6583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80497 invoked from network); 18 Dec 2003 11:13:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 11:13:42 -0000
Received: (qmail 55211 invoked by uid 500); 18 Dec 2003 11:12:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55136 invoked by uid 500); 18 Dec 2003 11:12:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55076 invoked from network); 18 Dec 2003 11:12:30 -0000
Received: from unknown (HELO web41705.mail.yahoo.com) (66.218.93.122)
  by daedalus.apache.org with SMTP; 18 Dec 2003 11:12:30 -0000
Message-ID: <20031218111245.15516.qmail@web41705.mail.yahoo.com>
Received: from [80.58.52.235] by web41705.mail.yahoo.com via HTTP;
 Thu, 18 Dec 2003 12:12:45 CET
Date: Thu, 18 Dec 2003 12:12:45 +0100 (CET)
From: =?iso-8859-1?q?Aurelio=20Joaniquet?= <aurelio77es@yahoo.es>
Subject: Which fields originated a hit ?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi all !
Is there a way to know without running the analyzer
again which fields contain the matches against a given
query from the Hits object ?

The fact is that if the field is "stored" in the index
I can get easily their contexts but I'm obliged to
tokenize again its contents to know if there is a
match...because there's no method on Document to get
the tokenized fields contents.

The goal of all this is to sort the results depending
in which fields I obtain matches. If the hits results
are thousands, tokenizing again can be very slow.

First I tried boosting the results but still I don't
get the expected results, even when the boosts are
very diferent (for example I tried one field with
boost of 10000 and the other 1000). Then I switched to
a more conservative sorting algorithm (and slower).

Thanks for this great software !

Aurelio


_______________________________________________________________
Yahoo! Sorteos
�Ya puedes comprar Loter�a de Navidad!
http://yahoo.ventura24.es/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 11:25:17 2003
Return-Path: 
 <lucene-user-return-6584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86587 invoked from network); 18 Dec 2003 11:25:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 11:25:17 -0000
Received: (qmail 85821 invoked by uid 500); 18 Dec 2003 11:24:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85792 invoked by uid 500); 18 Dec 2003 11:24:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85778 invoked from network); 18 Dec 2003 11:24:44 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 18 Dec 2003 11:24:44 -0000
Message-ID: <20031218112458.5565.qmail@web12708.mail.yahoo.com>
Received: from [194.152.224.68] by web12708.mail.yahoo.com via HTTP;
 Thu, 18 Dec 2003 03:24:58 PST
Date: Thu, 18 Dec 2003 03:24:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wildcard in Field
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004901c3c553$906e96f0$6502a8c0@boven>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can use raw *Query classes and OR, perhaps.
Or, if you are using QueryParser, there is a MultiFieldQueryParser (or
something like that) class....which I've used awhile ago.

Otis

--- Thijs Cadier <thijs@cadier.net> wrote:
> I'm implementing Lucene in our Content Management system. A plugin
> for every
> type of content fills the Document, so I have no control over the
> amount and
> names of the fields.
> 
> Now I'm trying to do a search in every field. But Lucene won't accept
> a * as
> a field name in the Query. Is there a way to perform a search like
> this?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 11:26:35 2003
Return-Path: 
 <lucene-user-return-6585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87049 invoked from network); 18 Dec 2003 11:26:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 11:26:35 -0000
Received: (qmail 87041 invoked by uid 500); 18 Dec 2003 11:26:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86798 invoked by uid 500); 18 Dec 2003 11:26:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86785 invoked from network); 18 Dec 2003 11:26:03 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 18 Dec 2003 11:26:03 -0000
Message-ID: <20031218112617.85985.qmail@web12702.mail.yahoo.com>
Received: from [194.152.224.68] by web12702.mail.yahoo.com via HTTP;
 Thu, 18 Dec 2003 03:26:17 PST
Date: Thu, 18 Dec 2003 03:26:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: java.io.IOException: couldn't delete backup
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY2-DAV12jHvsLa5uz0000d227@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene writes locks to some directories (java.io.temp system property),
so make sure you can write to those.

Otis

--- Alex Gadea <alexgad@hotmail.com> wrote:
> I am trying to setup a Lucene installation on a Windows 2000 server. 
> I can not get the IndexWriter to initialize properly.  It fails out
> with an IOException error that says it could not delete backup.  I
> have opened up permissions on the directory I am attempting to create
> the index in as well as the directory I am attempting to read with no
> success.  Right now the permissions are set to Everyone ALL and I
> also setup IIS to be able to write to the 2 directories in case that
> was the problem.  Still no luck.  Are there any other
> directories/files which Lucene needs access to that I am missing?
> 
> writer = new IndexWriter(indexPath, analyzer,
> bCreateIndex.booleanValue());
> 
> Thanks,
> 
> Alex Gadea
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 11:29:29 2003
Return-Path: 
 <lucene-user-return-6586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88424 invoked from network); 18 Dec 2003 11:29:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 11:29:29 -0000
Received: (qmail 93839 invoked by uid 500); 18 Dec 2003 11:28:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93647 invoked by uid 500); 18 Dec 2003 11:28:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93634 invoked from network); 18 Dec 2003 11:28:55 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 18 Dec 2003 11:28:55 -0000
Message-ID: <20031218112910.33375.qmail@web12705.mail.yahoo.com>
Received: from [194.152.224.68] by web12705.mail.yahoo.com via HTTP;
 Thu, 18 Dec 2003 03:29:10 PST
Date: Thu, 18 Dec 2003 03:29:10 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: best way of reusing IndexSearcher objects
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16353.31280.433000.512645@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You could subclass IndexSearcher like you said.  You could patch
IndexSearcher by adding this method.  You could also change the search
method to do this check automatically.  You could also add
setAutoRefresh(boolean) method to IndexSearcher and then to automatic
refresh only if this was set to true (default could remain false, for
backward compatibility).

diff -u patcher in Bugzilla are very welcome! :)

Otis


--- Morus Walter <morus.walter@tanto-xipolis.de> wrote:
> Some time ago (Nov 5) Otis suggested to use one IndexSearcher
> instance for
> search and recreate this instance when the index changed:
> 
> > Use a single instance of IndexSearcher.
> > When you detect that the index has changed, through that instance
> (see
> > javadoc for the exact method name, I don't recall its exact name
> now),
> > discard that instance, and make a new one.
> 
> My problem is that I don't find an apropriate method in the javadoc.
> Do I miss something?
> 
> There are static methods 'lastModified' in the IndexReader class.
> So one might use these (together with a timestamp, when the
> IndexSearcher
> was opened) to do the check.
> 
> But it would be nice to have some 'isUpToDate' method in the class
> itself.
> Or should I do that myself by subclassing IndexSearcher?
> 
> Morus
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 11:30:20 2003
Return-Path: 
 <lucene-user-return-6587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88943 invoked from network); 18 Dec 2003 11:30:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 11:30:20 -0000
Received: (qmail 96733 invoked by uid 500); 18 Dec 2003 11:29:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96695 invoked by uid 500); 18 Dec 2003 11:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96611 invoked from network); 18 Dec 2003 11:29:52 -0000
Received: from unknown (HELO smtpzilla3.xs4all.nl) (194.109.127.139)
  by daedalus.apache.org with SMTP; 18 Dec 2003 11:29:52 -0000
Received: from boven (cp.xs4all.nl [80.126.189.138])
	by smtpzilla3.xs4all.nl (8.12.9/8.12.9) with SMTP id hBIBU59G000398
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 12:30:06 +0100 (CET)
Message-ID: <008b01c3c55a$768015a0$6502a8c0@boven>
From: "Thijs Cadier" <thijs@cadier.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031218112458.5565.qmail@web12708.mail.yahoo.com>
Subject: Re: Wildcard in Field
Date: Thu, 18 Dec 2003 12:31:21 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using a QueryParser, looked at the MultiFieldQueryParser.

But the issue is that I don't know wich fields are in the documents when the
query is constructed. The most simple solution would be searching in all the
fields in every document.



----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 18, 2003 12:24 PM
Subject: Re: Wildcard in Field


> You can use raw *Query classes and OR, perhaps.
> Or, if you are using QueryParser, there is a MultiFieldQueryParser (or
> something like that) class....which I've used awhile ago.
>
> Otis
>
> --- Thijs Cadier <thijs@cadier.net> wrote:
> > I'm implementing Lucene in our Content Management system. A plugin
> > for every
> > type of content fills the Document, so I have no control over the
> > amount and
> > names of the fields.
> >
> > Now I'm trying to do a search in every field. But Lucene won't accept
> > a * as
> > a field name in the Query. Is there a way to perform a search like
> > this?
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> New Yahoo! Photos - easier uploading and sharing.
> http://photos.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 12:55:29 2003
Return-Path: 
 <lucene-user-return-6588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22673 invoked from network); 18 Dec 2003 12:55:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 12:55:29 -0000
Received: (qmail 72722 invoked by uid 500); 18 Dec 2003 12:55:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72695 invoked by uid 500); 18 Dec 2003 12:55:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72681 invoked from network); 18 Dec 2003 12:55:22 -0000
Received: from unknown (HELO hotmail.com) (65.54.246.115)
  by daedalus.apache.org with SMTP; 18 Dec 2003 12:55:22 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 18 Dec 2003 04:55:23 -0800
Received: from 207.237.128.115 by bay2-dav11.bay2.hotmail.com with DAV;
	Thu, 18 Dec 2003 12:55:22 +0000
X-Originating-IP: [207.237.128.115]
X-Originating-Email: [alexgad@hotmail.com]
X-Sender: alexgad@hotmail.com
From: "Alex Gadea" <alexgad@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031218112617.85985.qmail@web12702.mail.yahoo.com>
Subject: Re: java.io.IOException: couldn't delete backup
Date: Thu, 18 Dec 2003 07:55:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY2-DAV11dEgZaS7f60000d7f3@hotmail.com>
X-OriginalArrivalTime: 18 Dec 2003 12:55:23.0022 (UTC)
 FILETIME=[330B4AE0:01C3C566]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'd checked that also.  Finally, I got it to work by creating a new empty
directory off the root.  But if I created an empty subdirectory off of that
directory it would not work.  Very strange.  Definitely a security issue
somewhere but for the life of me I can not figure it out.  At least it is
working for now.

Thanks,

Alex

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 18, 2003 6:26 AM
Subject: Re: java.io.IOException: couldn't delete backup


> Lucene writes locks to some directories (java.io.temp system property),
> so make sure you can write to those.
>
> Otis
>
> --- Alex Gadea <alexgad@hotmail.com> wrote:
> > I am trying to setup a Lucene installation on a Windows 2000 server.
> > I can not get the IndexWriter to initialize properly.  It fails out
> > with an IOException error that says it could not delete backup.  I
> > have opened up permissions on the directory I am attempting to create
> > the index in as well as the directory I am attempting to read with no
> > success.  Right now the permissions are set to Everyone ALL and I
> > also setup IIS to be able to write to the 2 directories in case that
> > was the problem.  Still no luck.  Are there any other
> > directories/files which Lucene needs access to that I am missing?
> >
> > writer = new IndexWriter(indexPath, analyzer,
> > bCreateIndex.booleanValue());
> >
> > Thanks,
> >
> > Alex Gadea
> >
>
>
> __________________________________
> Do you Yahoo!?
> New Yahoo! Photos - easier uploading and sharing.
> http://photos.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 13:36:19 2003
Return-Path: 
 <lucene-user-return-6589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47995 invoked from network); 18 Dec 2003 13:36:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 13:36:19 -0000
Received: (qmail 44775 invoked by uid 500); 18 Dec 2003 13:36:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44745 invoked by uid 500); 18 Dec 2003 13:36:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44730 invoked from network); 18 Dec 2003 13:36:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 18 Dec 2003 13:36:11 -0000
Received: (cpmta 6589 invoked from network); 18 Dec 2003 05:36:12 -0800
Received: from 128.143.103.59 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 18 Dec 2003 05:36:12 -0800
X-Sent: 18 Dec 2003 13:36:12 GMT
Date: Thu, 18 Dec 2003 08:36:11 -0500
Subject: Re: Wildcard in Field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <008b01c3c55a$768015a0$6502a8c0@boven>
Message-Id: <24F72F24-315F-11D8-B85C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

During indexing, perhaps you could glue all fields text together into 
one special field used for searching?


On Thursday, December 18, 2003, at 06:31  AM, Thijs Cadier wrote:

> I am using a QueryParser, looked at the MultiFieldQueryParser.
>
> But the issue is that I don't know wich fields are in the documents 
> when the
> query is constructed. The most simple solution would be searching in 
> all the
> fields in every document.
>
>
>
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, December 18, 2003 12:24 PM
> Subject: Re: Wildcard in Field
>
>
>> You can use raw *Query classes and OR, perhaps.
>> Or, if you are using QueryParser, there is a MultiFieldQueryParser (or
>> something like that) class....which I've used awhile ago.
>>
>> Otis
>>
>> --- Thijs Cadier <thijs@cadier.net> wrote:
>>> I'm implementing Lucene in our Content Management system. A plugin
>>> for every
>>> type of content fills the Document, so I have no control over the
>>> amount and
>>> names of the fields.
>>>
>>> Now I'm trying to do a search in every field. But Lucene won't accept
>>> a * as
>>> a field name in the Query. Is there a way to perform a search like
>>> this?
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> New Yahoo! Photos - easier uploading and sharing.
>> http://photos.yahoo.com/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 16:24:28 2003
Return-Path: 
 <lucene-user-return-6590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58457 invoked from network); 18 Dec 2003 16:24:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 16:24:28 -0000
Received: (qmail 11751 invoked by uid 500); 18 Dec 2003 16:23:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11714 invoked by uid 500); 18 Dec 2003 16:23:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11657 invoked from network); 18 Dec 2003 16:23:38 -0000
Received: from unknown (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by daedalus.apache.org with SMTP; 18 Dec 2003 16:23:38 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp003.mail.ukl.yahoo.com with SMTP; 18 Dec 2003 16:23:40 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Speed: Documents vs. Sentences
Date: Thu, 18 Dec 2003 08:23:42 -0800
Message-ID: <001601c3c583$4e7f0240$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <01d101c3c533$1e18eda0$ce00a8c0@victor>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

	Yes, this is correct, I am dealing with a few 100GB (close to 1TB).
I am, however, distributing the data across several machines and then =
merge
the results from all the machines together (until I find a better & =
faster
solution).

	Cheers!

> -----Original Message-----
> From: Victor Hadianto [mailto:vichad@hadianto.net]
> Sent: Wednesday, December 17, 2003 10:50 PM
> To: Lucene Users List
> Subject: Re: Indexing Speed: Documents vs. Sentences
>=20
> > Hi,
> >
> > I am using Lucene to index a large number of web pages (a few 100GB) =
and
> the
> > indexing speed is great.
>=20
> Jochen .. a few 100 GB? Is this correct?
>=20
> /victor
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 16:59:21 2003
Return-Path: 
 <lucene-user-return-6591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77708 invoked from network); 18 Dec 2003 16:59:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 16:59:21 -0000
Received: (qmail 85153 invoked by uid 500); 18 Dec 2003 16:59:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85116 invoked by uid 500); 18 Dec 2003 16:59:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85074 invoked from network); 18 Dec 2003 16:59:06 -0000
Received: from unknown (HELO smtpmail.fao.org) (168.202.2.12)
  by daedalus.apache.org with SMTP; 18 Dec 2003 16:59:06 -0000
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0HQ300401ONWD0@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 18:02:20 +0100 (MET)
Received: from afexch1.fao.org (afexch1.fao.org [168.202.2.84])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0HQ30041TONW67@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 18:02:20 +0100 (MET)
Received: by afexch1.fao.org with Internet Mail Service (5.5.2657.72)
	id <X63JK15C>; Thu, 18 Dec 2003 17:59:35 +0100
Content-return: allowed
Date: Thu, 18 Dec 2003 17:59:34 +0100
From: "Viparthi, Kiran (AFIS)" <Kiran.Viparthi@fao.org>
Subject: Query expansion
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Message-id: <DD0BDCCADFDA4349AA5300F8B33F2B7FE6D388@afexch3.fao.org>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-type: multipart/alternative;
 boundary="Boundary_(ID_RR7+TTcGXVW+O38AtASzTw)"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Boundary_(ID_RR7+TTcGXVW+O38AtASzTw)
Content-type: text/plain
Content-transfer-encoding: 7BIT

We want to provide "did you mean" search suggestions on our search results
pages. Most of the "did you mean" searches will be derived from synonyms,
translations and other information from our ontology(KAON). 
 
 1. It would be nice to be able to navigate the Query object created by the
QueryParser.parse(String) and modify the Query expanding certain clauses
prior to calling Query.toString() to create the "did you mean" searches.
This would require accessor methods to navigate the query clauses and
methods to actually change the Query. These do not appear to be present in
the current API. To our minds the inferior alternative is to modify the
QueryParser itself to do the expansion and build in a expand/nonexpand
instruction into the QueryParser grammar. Does anyone have better ideas? 
 
 2. A related issue is that we are basically happy with the standard Lucene
QueryParser though we need to make some minor changes to the grammar. In
this case it would be convenient to create an equivalent of the
Query.toString() method to serialize conforming to new grammar outside of
the Query class. The problem here is there don't appear to be enough
accessor methods in the Query classes to write a new X.toString(Query). 
 
 Richard and Kiran



--Boundary_(ID_RR7+TTcGXVW+O38AtASzTw)--

From MAILER-DAEMON Thu Dec 18 18:38:47 2003
Return-Path: 
 <lucene-user-return-6592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41224 invoked from network); 18 Dec 2003 18:38:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 18:38:47 -0000
Received: (qmail 8892 invoked by uid 500); 18 Dec 2003 18:38:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8800 invoked by uid 500); 18 Dec 2003 18:38:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8784 invoked from network); 18 Dec 2003 18:38:33 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 18 Dec 2003 18:38:33 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id C2100A941
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 10:38:37 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBIIcbXY089656
	for lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 10:38:37 -0800 (PST)
	(envelope-from dror)
Date: Thu, 18 Dec 2003 10:38:37 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query expansion
Message-ID: <20031218183836.GP80656@rlx11.zapatec.com>
References: <DD0BDCCADFDA4349AA5300F8B33F2B7FE6D388@afexch3.fao.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <DD0BDCCADFDA4349AA5300F8B33F2B7FE6D388@afexch3.fao.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Dec 18, 2003 at 05:59:34PM +0100, Viparthi, Kiran (AFIS) wrote:
> We want to provide "did you mean" search suggestions on our search results
> pages. Most of the "did you mean" searches will be derived from synonyms,
> translations and other information from our ontology(KAON). 

Just a comment, I'm not really answering the questions you ask.

It would seem that frequency and, possibly, spelling play a big role in
google's "did you mean" strategy.

So if instead of searching "lucen index java" it suggests "lucent index
java" instead of what I was searching for "lucene index java" because
lucent shows up much more often than lucene. 

It looks like for the most part this strategy works fine. I know that
it's not too hard to get a list of words and their frequencies, but I'm
not sure what the performence implication would be. Also, you'd need to
figure out a misspelling strategy, but I suspect that's not too hard.

>  
>  1. It would be nice to be able to navigate the Query object created by the
> QueryParser.parse(String) and modify the Query expanding certain clauses
> prior to calling Query.toString() to create the "did you mean" searches.
> This would require accessor methods to navigate the query clauses and
> methods to actually change the Query. These do not appear to be present in
> the current API. To our minds the inferior alternative is to modify the
> QueryParser itself to do the expansion and build in a expand/nonexpand
> instruction into the QueryParser grammar. Does anyone have better ideas? 
>  
>  2. A related issue is that we are basically happy with the standard Lucene
> QueryParser though we need to make some minor changes to the grammar. In
> this case it would be convenient to create an equivalent of the
> Query.toString() method to serialize conforming to new grammar outside of
> the Query class. The problem here is there don't appear to be enough
> accessor methods in the Query classes to write a new X.toString(Query). 
>  
>  Richard and Kiran
> 
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 19:17:49 2003
Return-Path: 
 <lucene-user-return-6593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66001 invoked from network); 18 Dec 2003 19:17:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 19:17:49 -0000
Received: (qmail 80939 invoked by uid 500); 18 Dec 2003 19:17:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80915 invoked by uid 500); 18 Dec 2003 19:17:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80902 invoked from network); 18 Dec 2003 19:17:35 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 18 Dec 2003 19:17:35 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id F0D28A941
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 11:17:39 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBIJHd1E089706
	for lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 11:17:39 -0800 (PST)
	(envelope-from dror)
Date: Thu, 18 Dec 2003 11:17:39 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing Speed: Documents vs. Sentences
Message-ID: <20031218191739.GQ80656@rlx11.zapatec.com>
References: <01d101c3c533$1e18eda0$ce00a8c0@victor>
 <001601c3c583$4e7f0240$8012060a@MMcompaq01>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <001601c3c583$4e7f0240$8012060a@MMcompaq01>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Interesting. What hardware are you using for searching 1TB of data, and
how fast is the repsonse time?

On Thu, Dec 18, 2003 at 08:23:42AM -0800, Jochen Frey wrote:
> Hi,
> 
> 	Yes, this is correct, I am dealing with a few 100GB (close to 1TB).
> I am, however, distributing the data across several machines and then merge
> the results from all the machines together (until I find a better & faster
> solution).
> 
> 	Cheers!
> 
> > -----Original Message-----
> > From: Victor Hadianto [mailto:vichad@hadianto.net]
> > Sent: Wednesday, December 17, 2003 10:50 PM
> > To: Lucene Users List
> > Subject: Re: Indexing Speed: Documents vs. Sentences
> > 
> > > Hi,
> > >
> > > I am using Lucene to index a large number of web pages (a few 100GB) and
> > the
> > > indexing speed is great.
> > 
> > Jochen .. a few 100 GB? Is this correct?
> > 
> > /victor
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 19:27:29 2003
Return-Path: 
 <lucene-user-return-6594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72186 invoked from network); 18 Dec 2003 19:27:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 19:27:29 -0000
Received: (qmail 92113 invoked by uid 500); 18 Dec 2003 19:27:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92000 invoked by uid 500); 18 Dec 2003 19:27:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91890 invoked from network); 18 Dec 2003 19:27:05 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 18 Dec 2003 19:27:05 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 0602D5D23
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 11:27:10 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBIJRAoL089721
	for lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 11:27:10 -0800 (PST)
	(envelope-from dror)
Date: Thu, 18 Dec 2003 11:27:10 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
Message-ID: <20031218192710.GR80656@rlx11.zapatec.com>
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
 <20031105191254.33950.qmail@web12703.mail.yahoo.com>
 <16353.31280.433000.512645@tanto-xipolis.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <16353.31280.433000.512645@tanto-xipolis.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Some time ago (Nov 5) Otis suggested to use one IndexSearcher instance for
> search and recreate this instance when the index changed:
> 
> > Use a single instance of IndexSearcher.
> > When you detect that the index has changed, through that instance (see
> > javadoc for the exact method name, I don't recall its exact name now),
> > discard that instance, and make a new one.
> 

Isn't this easier said than done? In a web environment, you have hits
coming in and searching continuously. 

There are two issues:
1. Having new searches start using the new index only when it's ready,
not in a "half baked" state, which means that you have to synchronize
the switch from the old index to the new one.
2. It's not trivial to figure out when it's safe to discard the old
index; all existing searches are done with it.

To make things more complicated, the Hits object is dependent on your
IndexSearcher object, so if you have Hits objects in use you probably
can't  close your IndexSearcher.

Is this a correct analysis or is there an obvious strategy to work
around this issue?

Regards,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 19:34:37 2003
Return-Path: 
 <lucene-user-return-6595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76084 invoked from network); 18 Dec 2003 19:34:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 19:34:37 -0000
Received: (qmail 5690 invoked by uid 500); 18 Dec 2003 19:34:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5597 invoked by uid 500); 18 Dec 2003 19:34:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5584 invoked from network); 18 Dec 2003 19:34:22 -0000
Received: from unknown (HELO j9postoffice.J9.Root2k.local) (140.32.73.20)
  by daedalus.apache.org with SMTP; 18 Dec 2003 19:34:22 -0000
Received: from Postman.J9.Root2k.local ([172.16.4.144]) by
 j9postoffice.J9.Root2k.local with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 18 Dec 2003 14:34:24 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: best way of reusing IndexSearcher objects
Date: Thu, 18 Dec 2003 14:34:24 -0500
Message-ID: <1D317DC2764EAA4F8F52741F125A827B34C7FB@postman.j9.root2k.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best way of reusing IndexSearcher objects
Thread-Index: AcPFnPR5PTbg68uwSt+i1/00UosvLAAAF04A
From: "Chamberlain James O. CONTR J9C998" <James.Chamberlain@je.jfcom.mil>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 18 Dec 2003 19:34:24.0896 (UTC)
 FILETIME=[F1835800:01C3C59D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have been struggling with the same issue. What I have done so far is
to create a singleton for each index and then synchronize all add and
remove calls. When the remove is called it checks to see if the index is
locked, if not it sets a Boolean to prevent an IndexWriter from being
opened. This seems to be working but I am still testing.


Regards,
=20
James


-----Original Message-----
From: Dror Matalon [mailto:dror@zapatec.com]=20
Sent: Thursday, December 18, 2003 2:27 PM
To: Lucene Users List
Subject: Re: best way of reusing IndexSearcher objects


> Some time ago (Nov 5) Otis suggested to use one IndexSearcher instance

> for search and recreate this instance when the index changed:
>=20
> > Use a single instance of IndexSearcher.
> > When you detect that the index has changed, through that instance=20
> > (see javadoc for the exact method name, I don't recall its exact=20
> > name now), discard that instance, and make a new one.
>=20

Isn't this easier said than done? In a web environment, you have hits
coming in and searching continuously.=20

There are two issues:
1. Having new searches start using the new index only when it's ready,
not in a "half baked" state, which means that you have to synchronize
the switch from the old index to the new one. 2. It's not trivial to
figure out when it's safe to discard the old index; all existing
searches are done with it.

To make things more complicated, the Hits object is dependent on your
IndexSearcher object, so if you have Hits objects in use you probably
can't  close your IndexSearcher.

Is this a correct analysis or is there an obvious strategy to work
around this issue?

Regards,

Dror

--=20
Dror Matalon
Zapatec Inc=20
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 19:41:14 2003
Return-Path: 
 <lucene-user-return-6596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79481 invoked from network); 18 Dec 2003 19:41:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 19:41:14 -0000
Received: (qmail 16597 invoked by uid 500); 18 Dec 2003 19:40:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16540 invoked by uid 500); 18 Dec 2003 19:40:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16526 invoked from network); 18 Dec 2003 19:40:59 -0000
Received: from unknown (HELO sccrmhc11.comcast.net) (204.127.202.55)
  by daedalus.apache.org with SMTP; 18 Dec 2003 19:40:59 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc11) with SMTP
          id <2003121819410201100klrbue>; Thu, 18 Dec 2003 19:41:03 +0000
Message-ID: <3FE202B0.7010906@lucene.com>
Date: Thu, 18 Dec 2003 11:40:32 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
 <20031105191254.33950.qmail@web12703.mail.yahoo.com>
 <16353.31280.433000.512645@tanto-xipolis.de>
 <20031218192710.GR80656@rlx11.zapatec.com>
In-Reply-To: <20031218192710.GR80656@rlx11.zapatec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dror Matalon wrote:
> There are two issues:
> 1. Having new searches start using the new index only when it's ready,
> not in a "half baked" state, which means that you have to synchronize
> the switch from the old index to the new one.

That's true.  If you're doing updates (as opposed to just additions) 
then you probably want to do something like:
   1. keep a single open IndexReader used by all searches
   2. Every few minutes, process updates as follows:
     a. open a second IndexReader
     b. delete all documents that will be updated
     c. close this IndexReader, to flush deletions
     d. open an IndexWriter
     e. add all documents that are updated
     f. close the IndexReader
     g. replace the IndexReader used for searches (1, above)

> 2. It's not trivial to figure out when it's safe to discard the old
> index; all existing searches are done with it.
> 
> To make things more complicated, the Hits object is dependent on your
> IndexSearcher object, so if you have Hits objects in use you probably
> can't  close your IndexSearcher.
> 
> Is this a correct analysis or is there an obvious strategy to work
> around this issue?

Right, you cannot safely close the IndexReader that's being used for 
searching.  Rather, just drop it on the floor and let it get garbage 
collected.  Its files will be closed when this happens.  Provided you're 
not updating more frequently than the garbage collector runs, you should 
only ever have two IndexReaders open and shouldn't run into file handle 
issues.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 19:54:42 2003
Return-Path: 
 <lucene-user-return-6597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88798 invoked from network); 18 Dec 2003 19:54:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 19:54:42 -0000
Received: (qmail 36874 invoked by uid 500); 18 Dec 2003 19:54:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36611 invoked by uid 500); 18 Dec 2003 19:54:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36598 invoked from network); 18 Dec 2003 19:54:27 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 18 Dec 2003 19:54:27 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 109E8A941
	for <lucene-user@jakarta.apache.org>; Thu, 18 Dec 2003 11:54:33 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBIJsWZW089752
	for lucene-user@jakarta.apache.org; Thu, 18 Dec 2003 11:54:32 -0800 (PST)
	(envelope-from dror)
Date: Thu, 18 Dec 2003 11:54:32 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
Message-ID: <20031218195432.GS80656@rlx11.zapatec.com>
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
 <20031105191254.33950.qmail@web12703.mail.yahoo.com>
 <16353.31280.433000.512645@tanto-xipolis.de>
 <20031218192710.GR80656@rlx11.zapatec.com> <3FE202B0.7010906@lucene.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3FE202B0.7010906@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, Dec 18, 2003 at 11:40:32AM -0800, Doug Cutting wrote:
> Dror Matalon wrote:
> >There are two issues:
> >1. Having new searches start using the new index only when it's ready,
> >not in a "half baked" state, which means that you have to synchronize
> >the switch from the old index to the new one.
> 
> That's true.  If you're doing updates (as opposed to just additions) 
> then you probably want to do something like:

At this point, we're just doing additions.

>   1. keep a single open IndexReader used by all searches
>   2. Every few minutes, process updates as follows:
>     a. open a second IndexReader
>     b. delete all documents that will be updated
>     c. close this IndexReader, to flush deletions
>     d. open an IndexWriter
>     e. add all documents that are updated
>     f. close the IndexReader
>     g. replace the IndexReader used for searches (1, above)
> 
> >2. It's not trivial to figure out when it's safe to discard the old
> >index; all existing searches are done with it.
> >
> >To make things more complicated, the Hits object is dependent on your
> >IndexSearcher object, so if you have Hits objects in use you probably
> >can't  close your IndexSearcher.
> >
> >Is this a correct analysis or is there an obvious strategy to work
> >around this issue?
> 
> Right, you cannot safely close the IndexReader that's being used for 
> searching.  Rather, just drop it on the floor and let it get garbage 
> collected.  Its files will be closed when this happens.  Provided you're 
> not updating more frequently than the garbage collector runs, you should 
> only ever have two IndexReaders open and shouldn't run into file handle 
> issues.

Actually, rather than relying on the GC, my plan is to always have two
indexed open, the current one and the previous one, and when I detect
that it's time to switch, I then close the oldest index. Luckily in a
web environment, we know that searches are not going to be around for
several minutes, and I make sure that my indexes don't change more often
than every 15 minutes.

Thanks for the prompt and detailed feedback.

Dror

> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Dec 18 20:13:54 2003
Return-Path: 
 <lucene-user-return-6598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98490 invoked from network); 18 Dec 2003 20:13:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Dec 2003 20:13:54 -0000
Received: (qmail 59186 invoked by uid 500); 18 Dec 2003 20:13:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58974 invoked by uid 500); 18 Dec 2003 20:13:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58961 invoked from network); 18 Dec 2003 20:13:39 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 18 Dec 2003 20:13:39 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with SMTP
          id <2003121820134401200i0u7oe>; Thu, 18 Dec 2003 20:13:44 +0000
Message-ID: <3FE20A59.1060203@lucene.com>
Date: Thu, 18 Dec 2003 12:13:13 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
 <20031105191254.33950.qmail@web12703.mail.yahoo.com>
 <16353.31280.433000.512645@tanto-xipolis.de>
 <20031218192710.GR80656@rlx11.zapatec.com> <3FE202B0.7010906@lucene.com>
In-Reply-To: <3FE202B0.7010906@lucene.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> That's true.  If you're doing updates (as opposed to just additions) 
> then you probably want to do something like:
>   1. keep a single open IndexReader used by all searches
>   2. Every few minutes, process updates as follows:
>     a. open a second IndexReader
>     b. delete all documents that will be updated
>     c. close this IndexReader, to flush deletions
>     d. open an IndexWriter
>     e. add all documents that are updated
>     f. close the IndexReader
>     g. replace the IndexReader used for searches (1, above)

Correction: (f) should read "close the IndexWriter".

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 02:20:29 2003
Return-Path: 
 <lucene-user-return-6599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95303 invoked from network); 19 Dec 2003 02:20:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 02:20:29 -0000
Received: (qmail 25139 invoked by uid 500); 19 Dec 2003 02:20:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25106 invoked by uid 500); 19 Dec 2003 02:20:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25093 invoked from network); 19 Dec 2003 02:20:07 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.40)
  by daedalus.apache.org with SMTP; 19 Dec 2003 02:20:07 -0000
Received: (qmail 26056 invoked from network); 19 Dec 2003 02:20:14 -0000
Received: from unknown (HELO victor) (203.217.18.230)
  by mail.iinet.net.au with SMTP; 19 Dec 2003 02:20:13 -0000
Message-ID: <003401c3c5d6$a3fc4cc0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <01d101c3c533$1e18eda0$ce00a8c0@victor>
 <001601c3c583$4e7f0240$8012060a@MMcompaq01>
 <20031218191739.GQ80656@rlx11.zapatec.com>
Subject: Re: Indexing Speed: Documents vs. Sentences
Date: Fri, 19 Dec 2003 13:20:14 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Interesting. What hardware are you using for searching 1TB of data, and
> how fast is the repsonse time?

Me too :)

I'm interested on how many documents you indexed. Do you have lots and lots
of document or you have big sizes documents?

/victor

>
> On Thu, Dec 18, 2003 at 08:23:42AM -0800, Jochen Frey wrote:
> > Hi,
> >
> > Yes, this is correct, I am dealing with a few 100GB (close to 1TB).
> > I am, however, distributing the data across several machines and then
merge
> > the results from all the machines together (until I find a better &
faster
> > solution).
> >
> > Cheers!
> >
> > > -----Original Message-----
> > > From: Victor Hadianto [mailto:vichad@hadianto.net]
> > > Sent: Wednesday, December 17, 2003 10:50 PM
> > > To: Lucene Users List
> > > Subject: Re: Indexing Speed: Documents vs. Sentences
> > >
> > > > Hi,
> > > >
> > > > I am using Lucene to index a large number of web pages (a few 100GB)
and
> > > the
> > > > indexing speed is great.
> > >
> > > Jochen .. a few 100 GB? Is this correct?
> > >
> > > /victor
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> -- 
> Dror Matalon
> Zapatec Inc
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.fastbuzz.com
> http://www.zapatec.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 08:43:51 2003
Return-Path: 
 <lucene-user-return-6600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59161 invoked from network); 19 Dec 2003 08:43:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 08:43:51 -0000
Received: (qmail 89523 invoked by uid 500); 19 Dec 2003 08:43:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89494 invoked by uid 500); 19 Dec 2003 08:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89463 invoked from network); 19 Dec 2003 08:43:19 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 19 Dec 2003 08:43:19 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 3048619B717
	for <lucene-user@jakarta.apache.org>; Fri, 19 Dec 2003 09:43:32 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 hBJ8hWlJ026238
	for <lucene-user@jakarta.apache.org>; Fri, 19 Dec 2003 09:43:32 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id hBJ8hVqe026234;
	Fri, 19 Dec 2003 09:43:31 +0100
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16354.47667.809970.31104@tanto-xipolis.de>
Date: Fri, 19 Dec 2003 09:43:31 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: best way of reusing IndexSearcher objects
In-Reply-To: <3FE202B0.7010906@lucene.com>
References: <00d701c3a3b7$c6cde1f0$bf8401c1@mojo>
	<20031105191254.33950.qmail@web12703.mail.yahoo.com>
	<16353.31280.433000.512645@tanto-xipolis.de>
	<20031218192710.GR80656@rlx11.zapatec.com>
	<3FE202B0.7010906@lucene.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting writes:
> Dror Matalon wrote:
> > There are two issues:
> > 1. Having new searches start using the new index only when it's ready,
> > not in a "half baked" state, which means that you have to synchronize
> > the switch from the old index to the new one.
> 
> That's true.  If you're doing updates (as opposed to just additions) 
> then you probably want to do something like:
>    1. keep a single open IndexReader used by all searches
>    2. Every few minutes, process updates as follows:
>      a. open a second IndexReader
>      b. delete all documents that will be updated
>      c. close this IndexReader, to flush deletions
>      d. open an IndexWriter
>      e. add all documents that are updated
>      f. close the IndexReader
>      g. replace the IndexReader used for searches (1, above)
> 
Right. As long as you can control the reader instance from the update
process, it's better to do so, instead of checking, if the reader for search
is still up to date in the reader itself.

> > 2. It's not trivial to figure out when it's safe to discard the old
> > index; all existing searches are done with it.
> > 
> > To make things more complicated, the Hits object is dependent on your
> > IndexSearcher object, so if you have Hits objects in use you probably
> > can't  close your IndexSearcher.
> > 
> > Is this a correct analysis or is there an obvious strategy to work
> > around this issue?
> 
> Right, you cannot safely close the IndexReader that's being used for 
> searching.  Rather, just drop it on the floor and let it get garbage 
> collected.  Its files will be closed when this happens.  Provided you're 
> not updating more frequently than the garbage collector runs, you should 
> only ever have two IndexReaders open and shouldn't run into file handle 
> issues.
> 
I guess the alternative would be to have a reference counting that is
increased whenever a search starts and decreased when the hits object
is no longer used.
You could then set a flag and close the index when the count reaches 0.

Thanks for the comments.
       Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 17:00:29 2003
Return-Path: 
 <lucene-user-return-6601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70656 invoked from network); 19 Dec 2003 17:00:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 17:00:29 -0000
Received: (qmail 86535 invoked by uid 500); 19 Dec 2003 17:00:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86513 invoked by uid 500); 19 Dec 2003 17:00:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86499 invoked from network); 19 Dec 2003 17:00:15 -0000
Received: from unknown (HELO smtp015.mail.yahoo.com) (216.136.173.59)
  by daedalus.apache.org with SMTP; 19 Dec 2003 17:00:15 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp015.mail.yahoo.com with SMTP; 19 Dec 2003 17:00:18 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Benchmark (WAS:  Indexing Speed: Documents vs. Sentences)
Date: Fri, 19 Dec 2003 09:00:23 -0800
Message-ID: <000a01c3c651$97e51810$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <003401c3c5d6$a3fc4cc0$ce00a8c0@victor>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

	Here's is a benchmark. I am not sure if that is proper etiquette,
but I will just paste it into this mail and hope that it gets funneled =
into
the right channels.

	Cheers!
		Jochen


<benchmark>
  <ul>
  <p>
  <b>Hardware Environment</b><br/>
  <li><i>Dedicated machine for indexing</i>no, some other work performed =
on
it. shouldn't influence results much since it's a multiple processor
machine</li>
  <li><i>CPU</i>2x Intel Xeon 3.05GHz</li>
  <li><i>RAM</i>4GB</li>
  <li><i>Drive configuration</i>SCSI</li>
  </p>
  <p>
  <b>Software environment</b><br/>
  <li><i>Java Version</i>1.4.2-b28</li>
  <li><i>Java VM</i>Java HotSpot Client VM 1.4.2</li>
  <li><i>OS Version</i>Redhat 8</li>
  <li><i>Location of index</i>local</li>
  </p>
  <p>
  <b>Lucene indexing variables</b><br/>
  <li><i>Number of source documents</i>5,000,000</li>
  <li><i>Total filesize of source documents</i>40GB</li>
  <li><i>Average filesize of source documents</i>8kB</li>
  <li><i>Source documents storage location</i>DB on remote server</li>
  <li><i>File type of source documents</i>pre-parsed HTML</li>
  <li><i>Parser(s) used, if any</i>n/a</li>
  <li><i>Analyzer(s) used</i>StandardAnalyzer</li>
  <li><i>Number of fields per document</i>5</li>
  <li><i>Type of fields</i>actual text is indexed but not stored in =
lucene
index</li>
  <li><i>Index persistence</i>: Where the index is stored, e.g.=20
FSDirectory, SqlDirectory, etc</li>
  </p>
  <p>
  <b>Figures</b><br/>
  <li><i>Time taken (in ms/s as an average of at least 3 indexing=20
runs)</i>332 minutes</li>
  <li><i>Time taken / 1000 docs indexed</i>4 sec</li>
  <li><i>Memory consumption</i>about 100MB</li>
  </p>
  <p>
  <b>Notes</b><br/>
  <li><i>Notes</i>With the above configuration we pretty consistently
achieve a 250 docs / sec rate
  of indexing. The actual text cannot be retrieved from the index, this
keeps the index
   size down (6.1GB) and increases indexing speed. When the actual =
documents
are stored in the index
  the rate drops by about 30% to 160 docs / sec.</li>
  </p>
  </ul>
</benchmark>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 17:05:56 2003
Return-Path: 
 <lucene-user-return-6602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74114 invoked from network); 19 Dec 2003 17:05:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 17:05:56 -0000
Received: (qmail 94310 invoked by uid 500); 19 Dec 2003 17:05:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94142 invoked by uid 500); 19 Dec 2003 17:05:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94125 invoked from network); 19 Dec 2003 17:05:43 -0000
Received: from unknown (HELO smtp105.mail.sc5.yahoo.com) (66.163.169.225)
  by daedalus.apache.org with SMTP; 19 Dec 2003 17:05:43 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp105.mail.sc5.yahoo.com with SMTP; 19 Dec 2003 17:05:47 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Subject: FW: Indexing Speed: Documents vs. Sentences
Date: Fri, 19 Dec 2003 09:05:51 -0800
Message-ID: <000c01c3c652$5b78fee0$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Stephane,

	The actual indexing is actually less glamorous than it sounds. When
you index 1TB across 10 machines you end up with 100GB on each machine. =
We
do not merge the indexes either, since we get better speed on indexing =
as
well as querying when we keep indexes smaller and distributed across
different machines. (But somehow I think that I'll sit down and merge =
all of
them together and play with it when I get a chance ... 'cause it's cool =
:-)
I'll keep you posted when it happens).
=20
	My test set that I am playing with is 40GB, and I just posted a
benchmark.
=20
	Best,
		Jochen

> -----Original Message-----
> From: Stephane Vaucher [mailto:vauchers@cirano.qc.ca]
> Sent: Thursday, December 18, 2003 9:01 AM
> To: Lucene Users List; jochen_frey@yahoo.com
> Subject: RE: Indexing Speed: Documents vs. Sentences
>=20
> Jochen,
>=20
> If you have a bit of time, could you post some metrics, (as an =
example,
> you can look at =
http://jakarta.apache.org/lucene/docs/benchmarks.html). I
> haven't heard of anyone indexing 1TB yet. I'm sure everyone is =
interested
> in problems you could be facing and we could probably give you some =
ideas.
> I know (oddly enough) I sometimes wish I had dataset greater than a =
few M
> docs to experiment with.
>=20
> cheers,
> sv
>=20
> On Thu, 18 Dec 2003, Jochen Frey wrote:
>=20
> > Hi,
> >
> > 	Yes, this is correct, I am dealing with a few 100GB (close to 1TB).
> > I am, however, distributing the data across several machines and =
then
> merge
> > the results from all the machines together (until I find a better &
> faster
> > solution).
> >
> > 	Cheers!
> >
> > > -----Original Message-----
> > > From: Victor Hadianto [mailto:vichad@hadianto.net]
> > > Sent: Wednesday, December 17, 2003 10:50 PM
> > > To: Lucene Users List
> > > Subject: Re: Indexing Speed: Documents vs. Sentences
> > >
> > > > Hi,
> > > >
> > > > I am using Lucene to index a large number of web pages (a few =
100GB)
> and
> > > the
> > > > indexing speed is great.
> > >
> > > Jochen .. a few 100 GB? Is this correct?
> > >
> > > /victor
> > >
> > >
> > > =
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 19:52:21 2003
Return-Path: 
 <lucene-user-return-6603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61654 invoked from network); 19 Dec 2003 19:52:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 19:52:21 -0000
Received: (qmail 36590 invoked by uid 500); 19 Dec 2003 19:51:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36552 invoked by uid 500); 19 Dec 2003 19:51:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36460 invoked from network); 19 Dec 2003 19:51:53 -0000
Received: from unknown (HELO mta.micromuse.com) (194.131.185.92)
  by daedalus.apache.org with SMTP; 19 Dec 2003 19:51:53 -0000
Received: from tropo.com ([10.0.0.157])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id hBJJpiK24793
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Fri, 19 Dec 2003 19:51:49 GMT
Message-ID: <3FE356D0.9090208@tropo.com>
Date: Fri, 19 Dec 2003 11:51:44 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: DoubleMetaphoneQuery
Content-Type: multipart/mixed;
 boundary="------------050600030806050202000608"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------050600030806050202000608
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


I've seen discussions about using the double metaphone algorithm with 
Lucene (basically: like soundex, used
to find works that sound similar in English at least) but couldn't find 
an implementation, so I spent
a few minutes and wrote a Query and TermEnum object for this. I may have 
missed the prior art so sorry if I did...

[1] Here are some mail msgs that mention double metaphone wrt Lucene:

http://www.geocrawler.com/archives/3/2626/2000/10/0/4566951/
http://www.geocrawler.com/archives/3/2626/2001/8/50/6382300/
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04648.html

[2] And Phoenix has a double metaphone  Analyzer, but not a Query, which 
I guess is another angle on things:

http://www.tangentum.biz/en/products/phonetix/api/com/tangentum/phonetix/lucene/PhoneticAnalyzer.html


[3] Attached are 2 files (DoubleMetaPhoneQuery and 
DoubleMetaphoneTermEnum) that I think are valid contributions
to the Lucene Sandbox. Hopefully all that has to be done is change the 
package line if the powers that be accept this.

Note: My impl uses the Jakarta CODEC package ( 
http://jakarta.apache.org/commons/codec/ ) for the double metaphone 
algorithm implementation.

Also, any query expansion such as this could exceed the bounds of a 
boolean query, thus BooleanQuery.setMaxClauseCount
may need to be used to avoid an exception.

[4] I've updated my Lucene demo site which has the ~3500 RFCs indexed 
and searchable by Lucene. I added an "advanced query"
page to try out the DoubleMetaphoneQuery:

It's a few lines down at this URL:

http://www.hostmon.com/rfc/advanced.jsp


[5] Most of the above is redundantly stated here as a kind of perma-link:

http://www.tropo.com/techno/java/lucene/metaphone.html

[6]

While it's easy to write additonal Query classes, I suspect they are a 
kind of dead end and won't really be
used unless they are integrated into the QueryParser - thus one concept 
is that the Lucene syntax should
have some extension mechanism so you can pass a query like 
"metaphone::protokal" to it and "metaphone::"
(note the double colons)  would mean to use DoubleMetaphoneQuery for 
this term. Maybe an extensible query parser
should be the subject of another email?

So: let me know if this is useful and plz enter it into the sandbox...

thx,
 Dave Spencer










--------------050600030806050202000608
Content-Type: text/plain;
 name="DoubleMetaphoneQuery.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="DoubleMetaphoneQuery.java"

package com.tropo.lucene;

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import org.apache.lucene.search.*;
import org.apache.lucene.index.*;
import org.apache.lucene.analysis.*;
import org.apache.lucene.document.*;


/** A Query that matches documents containing terms with a specified prefix. */
public final class DoubleMetaphoneQuery extends MultiTermQuery {
  public DoubleMetaphoneQuery(Term term) {
    super(term);
  }
    
  protected FilteredTermEnum getEnum(IndexReader reader) throws IOException {
    return new DoubleMetaphoneTermEnum(reader, getTerm());
  }
    
  public String toString(String field) {
	  return super.toString(field); // FIXME: what to do here
  }
}

--------------050600030806050202000608
Content-Type: text/plain;
 name="DoubleMetaphoneTermEnum.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="DoubleMetaphoneTermEnum.java"

package com.tropo.lucene;


/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */
import org.apache.lucene.search.*;
import java.io.IOException;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.Term;
import org.apache.commons.codec.language.*;

/** Subclass of FilteredTermEnum for enumerating all terms that are similiar to the specified filter term.

  <p>Term enumerations are always ordered by Term.compareTo().  Each term in
  the enumeration is greater than all that precede it.  */
public final class DoubleMetaphoneTermEnum extends FilteredTermEnum {
    private int del_len;
    boolean endEnum = false;

    Term searchTerm = null;
    String field = "";
    String text = "";
    int textlen;
	final DoubleMetaphone m = new DoubleMetaphone();
	final String goal1;
	String goal2;
	
    public DoubleMetaphoneTermEnum(IndexReader reader, Term term) throws IOException {
        super(reader, term);
        searchTerm = term;
        field = searchTerm.field();
        text = searchTerm.text();
        textlen = text.length();
		
		goal1 = m.doubleMetaphone( text, true);
		goal2 = m.doubleMetaphone( text, false);
		if ( goal1.equals( goal2)) goal2 = null;

        setEnum(reader.terms(new Term(searchTerm.field(), "")));

		

    }
    
    /**
     The termCompare method in DoubleMetaphoneTermEnum uses ...
     */
    protected final boolean termCompare(Term term) {

        if (field == term.field()) {
			String s = term.text();
			String try1 = m.doubleMetaphone( s, true);
			String try2 = m.doubleMetaphone( s, false);

			if ( try1.equals( goal1)) return true;
			if ( try2.equals( goal1)) return true;
			if ( goal2 != null)
			{
				if ( try1.equals( goal2)) return true;
				if ( try2.equals( goal2)) return true;
			}
			return false;
        }
        endEnum = true;
        return false;
    }
    
    protected final float difference() {
        return (float) 1.0; // assume all terms that sound alike are equally valuable...
    }
    
    public final boolean endEnum() {
        return endEnum;
    }
    
	public void close() throws IOException {
		super.close();
		searchTerm = null;
		field = null;
		text = null;
	}
}


--------------050600030806050202000608
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------050600030806050202000608--

From MAILER-DAEMON Fri Dec 19 22:40:08 2003
Return-Path: 
 <lucene-user-return-6604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32416 invoked from network); 19 Dec 2003 22:40:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 22:40:08 -0000
Received: (qmail 71791 invoked by uid 500); 19 Dec 2003 22:39:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71593 invoked by uid 500); 19 Dec 2003 22:39:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71579 invoked from network); 19 Dec 2003 22:39:50 -0000
Received: from unknown (HELO mega.dattamega.com) (207.44.156.123)
  by daedalus.apache.org with SMTP; 19 Dec 2003 22:39:50 -0000
Received: from ol114-184.fibertel.com.ar ([24.232.184.114] helo=ernesto)
	by mega.dattamega.com with smtp (Exim 4.24)
	id 1AXTHn-0003rz-JM
	for lucene-user@jakarta.apache.org; Fri, 19 Dec 2003 16:39:55 -0600
Message-ID: <01ea01c3c681$6d3645a0$72b8e818@ernesto>
Reply-To: "Ernesto De Santis" <edesantis@silex-it.com>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <02967FFB-2D3B-11D8-A2A1-000393A564E6@ehatchersolutions.com>
Subject: Re: syntax of queries.
Date: Fri, 19 Dec 2003 19:42:46 -0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - mega.dattamega.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik, Thanks!

The article is very good. thanks.

I have news questions:

 - apiQuery.add(new TermQuery(new Term("contents", "dot")), false, true);

new Term("contents", "dot")

The Term class, work for only one word?
this is right?
new Term("contents", "dot java")
for search for dor OR java in contents.

My problem is that the user, entry a phrase, and i search for any word in a
phrase. No the entire phrase.
I need parse de string?, take word for word and add a TermQuery for each
word?

Bye, Ernesto.




----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, December 13, 2003 4:07 AM
Subject: Re: syntax of queries.


Try out the toString("fieldName") trick on your Query instances and
pair them up with what you have below - this will be quite insightful
for the issue - i promise!  :)

Look at my QueryParser article and search for "toString" on that page:
<http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html>

On Friday, December 12, 2003, at 10:38  PM, Ernesto De Santis wrote:

> Thanks Otis, I don�t resolve my problem.
>
> I see the Query sintaxis page, and the FAQ�s search section.
> I proof too many alternatives:
>
> body:(imprimir teclado) title:base = 451 hits
>
> body:(imprimir teclado)^5.1 title:base = 248 hits (* under 451)
>
> body:(imprimir teclado^5.1) title:base = 451 hits - first document:
> 3287.html
>
> body:(imprimir^5.1 teclado) title:base = 451 hits - first document:
> 1545.html
>
> conclusion:
> I think that the boost is only applicable for one word. not to
> parenthesys,
> and not to field.
>
> I wanna make the boost applicable to field.
> For me, is more important a hit in title that in body, for example.
>
> In the FAQ�s search secction:
>
> Clause      ::=  [ Modifier ] [ FieldName ':' ] BasicClause  [ Boost ]
> BasicClause ::= ( Term | Phrase | | PrefixQuery '(' Query ')'
>
> then, in my example BasicClause=(imprimir teclado) and Boost ^5.1.
> but not work.
>
> Regards, Ernesto.
>
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>; "Ernesto De
> Santis" <edesantis@silex-it.com>
> Sent: Friday, December 12, 2003 7:18 PM
> Subject: Re: syntax of queries.
>
>
>> Maybe it's the spaces after title:?
>> Try title:importar ... instead.
>>
>> Maybe it's the spaces before ^5.0?
>> Try title:importar^5 instead
>>
>> You shouldn't need the parentheses in this case either, I believe.
>>
>> See Query Synax page on Lucene's site.
>>
>> Otis
>>
>>
>> --- Ernesto De Santis <ernesto.desantis@colaborativa.net> wrote:
>>> Hello
>>>
>>> I not undertanding the syntax of queries.
>>> I search with this string:
>>>
>>> title: (importar) ^5.0 OR title: (arquivos)
>>>
>>> return 6 hits.
>>>
>>> and with this:
>>>
>>> title: (arquivos) OR title: (importar) ^5.0
>>>
>>> 27 hits.
>>>
>>> why?
>>> in the first, I think that work like AND, but, why? :-(
>>>
>>> Regards, Ernesto.
>>>
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> New Yahoo! Photos - easier uploading and sharing.
>> http://photos.yahoo.com/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 19 23:08:42 2003
Return-Path: 
 <lucene-user-return-6605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40400 invoked from network); 19 Dec 2003 23:08:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 19 Dec 2003 23:08:42 -0000
Received: (qmail 97320 invoked by uid 500); 19 Dec 2003 23:08:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97294 invoked by uid 500); 19 Dec 2003 23:08:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97281 invoked from network); 19 Dec 2003 23:08:24 -0000
Received: from unknown (HELO smtp105.mail.sc5.yahoo.com) (66.163.169.225)
  by daedalus.apache.org with SMTP; 19 Dec 2003 23:08:24 -0000
Received: from unknown (HELO MMcompaq01) (jochen?frey@66.120.216.177 with
 login)
  by smtp105.mail.sc5.yahoo.com with SMTP; 19 Dec 2003 23:08:31 -0000
Reply-To: <jochen_frey@yahoo.com>
From: "Jochen Frey" <jochen_frey@yahoo.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Sentence Endings: IndexWriter.maxFieldLength and
 Token.setPositionIncrement()
Date: Fri, 19 Dec 2003 15:08:36 -0800
Message-ID: <005f01c3c685$080d1150$8012060a@MMcompaq01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <01ea01c3c681$6d3645a0$72b8e818@ernesto>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I hope this is the right forum for this post.

I was wondering if other people would consider this a bug (it might be a
feature and I am missing the point of it):
=20
.The default IndexWriter.maxFieldLength is 10,000.
.The point of maxFieldLength is to limit memory usage.
.The current position (which is compared against maxFieldLength) is
essentially determined by the sum of the PositionIncrements of all =
Tokens
added to the index.

Why does this matter? If you have setPositionIncrement(1000) for =
sentence
ending tokens, only the first 10 sentences of your document will be =
indexed,
the rest will not be searchable (since position will be greater than
10,000).

Why I think this is a bug: If you skip 1000 positions, no memory is =
required
by the DocumentWriter for the empty 999 positions, thus not using
maxFieldLength to limit memory but simply available positions.

I suggest that there be a counter in DocumentWriter, that counts the =
actual
number of tokens in the postingTable (probably in
DocumentWriter.addPosition), so that maxFieldLength is compared against =
the
number actual entries, not the number of actual entries and the number
skipped entries.

Best,
	Jochen

PS: Please let me know if this is the wrong forum for this so I'll post =
to
the right one next time.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 00:04:08 2003
Return-Path: 
 <lucene-user-return-6606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54099 invoked from network); 20 Dec 2003 00:04:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 00:04:08 -0000
Received: (qmail 41820 invoked by uid 500); 20 Dec 2003 00:03:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41789 invoked by uid 500); 20 Dec 2003 00:03:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41769 invoked from network); 20 Dec 2003 00:03:47 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 20 Dec 2003 00:03:47 -0000
Received: (cpmta 26908 invoked from network); 19 Dec 2003 16:03:53 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 19 Dec 2003 16:03:53 -0800
X-Sent: 20 Dec 2003 00:03:53 GMT
Date: Fri, 19 Dec 2003 19:03:52 -0500
Subject: Re: DoubleMetaphoneQuery
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FE356D0.9090208@tropo.com>
Message-Id: <FEE23A22-327F-11D8-8BF7-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Interestingly, I used a MetaphoneAnalyzer as an example in our book in  
progress.  I'm curious if you have measured performance with doing it  
at analysis time versus query time.  Enumerating all terms at query  
time is basically the same as doing a WildcardQuery or FuzzyQuery and  
involves a lot of work - although certainly on moderate size indexes it  
is probably not too painful.

Nice work on this!

I'd be happy to add this to the sandbox, and will do so in the next few  
days hopefully.

	Erik


On Friday, December 19, 2003, at 02:51  PM, David Spencer wrote:

>
> I've seen discussions about using the double metaphone algorithm with  
> Lucene (basically: like soundex, used
> to find works that sound similar in English at least) but couldn't  
> find an implementation, so I spent
> a few minutes and wrote a Query and TermEnum object for this. I may  
> have missed the prior art so sorry if I did...
>
> [1] Here are some mail msgs that mention double metaphone wrt Lucene:
>
> http://www.geocrawler.com/archives/3/2626/2000/10/0/4566951/
> http://www.geocrawler.com/archives/3/2626/2001/8/50/6382300/
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg04648.html
>
> [2] And Phoenix has a double metaphone  Analyzer, but not a Query,  
> which I guess is another angle on things:
>
> http://www.tangentum.biz/en/products/phonetix/api/com/tangentum/ 
> phonetix/lucene/PhoneticAnalyzer.html
>
>
> [3] Attached are 2 files (DoubleMetaPhoneQuery and  
> DoubleMetaphoneTermEnum) that I think are valid contributions
> to the Lucene Sandbox. Hopefully all that has to be done is change the  
> package line if the powers that be accept this.
>
> Note: My impl uses the Jakarta CODEC package (  
> http://jakarta.apache.org/commons/codec/ ) for the double metaphone  
> algorithm implementation.
>
> Also, any query expansion such as this could exceed the bounds of a  
> boolean query, thus BooleanQuery.setMaxClauseCount
> may need to be used to avoid an exception.
>
> [4] I've updated my Lucene demo site which has the ~3500 RFCs indexed  
> and searchable by Lucene. I added an "advanced query"
> page to try out the DoubleMetaphoneQuery:
>
> It's a few lines down at this URL:
>
> http://www.hostmon.com/rfc/advanced.jsp
>
>
> [5] Most of the above is redundantly stated here as a kind of  
> perma-link:
>
> http://www.tropo.com/techno/java/lucene/metaphone.html
>
> [6]
>
> While it's easy to write additonal Query classes, I suspect they are a  
> kind of dead end and won't really be
> used unless they are integrated into the QueryParser - thus one  
> concept is that the Lucene syntax should
> have some extension mechanism so you can pass a query like  
> "metaphone::protokal" to it and "metaphone::"
> (note the double colons)  would mean to use DoubleMetaphoneQuery for  
> this term. Maybe an extensible query parser
> should be the subject of another email?
>
> So: let me know if this is useful and plz enter it into the sandbox...
>
> thx,
> Dave Spencer
>
>
>
>
>
>
>
>
>
> package com.tropo.lucene;
>
> /* ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software  
> itself,
>  *    if and wherever such third-party acknowledgments normally appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
>
> import java.io.IOException;
> import org.apache.lucene.search.*;
> import org.apache.lucene.index.*;
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.document.*;
>
>
> /** A Query that matches documents containing terms with a specified  
> prefix. */
> public final class DoubleMetaphoneQuery extends MultiTermQuery {
>   public DoubleMetaphoneQuery(Term term) {
>     super(term);
>   }
>
>   protected FilteredTermEnum getEnum(IndexReader reader) throws  
> IOException {
>     return new DoubleMetaphoneTermEnum(reader, getTerm());
>   }
>
>   public String toString(String field) {
> 	  return super.toString(field); // FIXME: what to do here
>   }
> }
> package com.tropo.lucene;
>
>
> /* ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software  
> itself,
>  *    if and wherever such third-party acknowledgments normally appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
> import org.apache.lucene.search.*;
> import java.io.IOException;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.index.Term;
> import org.apache.commons.codec.language.*;
>
> /** Subclass of FilteredTermEnum for enumerating all terms that are  
> similiar to the specified filter term.
>
>   <p>Term enumerations are always ordered by Term.compareTo().  Each  
> term in
>   the enumeration is greater than all that precede it.  */
> public final class DoubleMetaphoneTermEnum extends FilteredTermEnum {
>     private int del_len;
>     boolean endEnum = false;
>
>     Term searchTerm = null;
>     String field = "";
>     String text = "";
>     int textlen;
> 	final DoubleMetaphone m = new DoubleMetaphone();
> 	final String goal1;
> 	String goal2;
> 	
>     public DoubleMetaphoneTermEnum(IndexReader reader, Term term)  
> throws IOException {
>         super(reader, term);
>         searchTerm = term;
>         field = searchTerm.field();
>         text = searchTerm.text();
>         textlen = text.length();
> 		
> 		goal1 = m.doubleMetaphone( text, true);
> 		goal2 = m.doubleMetaphone( text, false);
> 		if ( goal1.equals( goal2)) goal2 = null;
>
>         setEnum(reader.terms(new Term(searchTerm.field(), "")));
>
> 		
>
>     }
>
>     /**
>      The termCompare method in DoubleMetaphoneTermEnum uses ...
>      */
>     protected final boolean termCompare(Term term) {
>
>         if (field == term.field()) {
> 			String s = term.text();
> 			String try1 = m.doubleMetaphone( s, true);
> 			String try2 = m.doubleMetaphone( s, false);
>
> 			if ( try1.equals( goal1)) return true;
> 			if ( try2.equals( goal1)) return true;
> 			if ( goal2 != null)
> 			{
> 				if ( try1.equals( goal2)) return true;
> 				if ( try2.equals( goal2)) return true;
> 			}
> 			return false;
>         }
>         endEnum = true;
>         return false;
>     }
>
>     protected final float difference() {
>         return (float) 1.0; // assume all terms that sound alike are  
> equally valuable...
>     }
>
>     public final boolean endEnum() {
>         return endEnum;
>     }
>
> 	public void close() throws IOException {
> 		super.close();
> 		searchTerm = null;
> 		field = null;
> 		text = null;
> 	}
> }
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 00:10:09 2003
Return-Path: 
 <lucene-user-return-6607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55952 invoked from network); 20 Dec 2003 00:10:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 00:10:09 -0000
Received: (qmail 48201 invoked by uid 500); 20 Dec 2003 00:09:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47970 invoked by uid 500); 20 Dec 2003 00:09:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47948 invoked from network); 20 Dec 2003 00:09:49 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 20 Dec 2003 00:09:49 -0000
Received: (cpmta 304 invoked from network); 19 Dec 2003 16:09:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 19 Dec 2003 16:09:56 -0800
X-Sent: 20 Dec 2003 00:09:56 GMT
Date: Fri, 19 Dec 2003 19:09:55 -0500
Subject: Re: syntax of queries.
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v553)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <01ea01c3c681$6d3645a0$72b8e818@ernesto>
Message-Id: <D75B419A-3280-11D8-8BF7-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.553)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, December 19, 2003, at 05:42  PM, Ernesto De Santis wrote:
> I have news questions:
>
>  - apiQuery.add(new TermQuery(new Term("contents", "dot")), false, 
> true);
>
> new Term("contents", "dot")
>
> The Term class, work for only one word?

Careful with terminology here.  It works for only one "term".  What is 
a term?  That all depends on what happened during analysis.  Generally 
speaking, though, "word" is the right generalization for a "term" - but 
we have to be careful technically speaking.

> new Term("contents", "dot java")
> for search for dor OR java in contents.

Wrong.  When constructing a query through the API, if you want an OR 
you'd need to add two TermQuery's to a BooleanQuery, one for each 
"word" and make them not required.

> My problem is that the user, entry a phrase, and i search for any word 
> in a
> phrase. No the entire phrase.
> I need parse de string?, take word for word and add a TermQuery for 
> each
> word?

Yes.

If you have a text string of multiple terms you want added to a boolean 
query you could do so programatically by analyzing the string as I do 
in my article in AnalyzerDemo or by parsing it through some other 
mechanism than QueryParser and add each as a TermQuery.  You're on 
track!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 00:54:23 2003
Return-Path: 
 <lucene-user-return-6608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67579 invoked from network); 20 Dec 2003 00:54:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 00:54:23 -0000
Received: (qmail 75904 invoked by uid 500); 20 Dec 2003 00:54:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75871 invoked by uid 500); 20 Dec 2003 00:54:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75857 invoked from network); 20 Dec 2003 00:54:02 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 20 Dec 2003 00:54:02 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (sccrmhc12) with SMTP
          id <2003122000540901200sbe2ae>; Sat, 20 Dec 2003 00:54:10 +0000
Message-ID: <3FE39D90.9080708@lucene.com>
Date: Fri, 19 Dec 2003 16:53:36 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sentence Endings: IndexWriter.maxFieldLength and
 Token.setPositionIncrement()
References: <005f01c3c685$080d1150$8012060a@MMcompaq01>
In-Reply-To: <005f01c3c685$080d1150$8012060a@MMcompaq01>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jochen,

Someone else recently made a similar, reasonable complaint.  I agree 
that this should be fixed.  The fastest way to get it fixed would be to 
submit a patch to lucene-dev, with a test case, etc.

Doug

Jochen Frey wrote:
> Hi!
> 
> I hope this is the right forum for this post.
> 
> I was wondering if other people would consider this a bug (it might be a
> feature and I am missing the point of it):
>  
> .The default IndexWriter.maxFieldLength is 10,000.
> .The point of maxFieldLength is to limit memory usage.
> .The current position (which is compared against maxFieldLength) is
> essentially determined by the sum of the PositionIncrements of all Tokens
> added to the index.
> 
> Why does this matter? If you have setPositionIncrement(1000) for sentence
> ending tokens, only the first 10 sentences of your document will be indexed,
> the rest will not be searchable (since position will be greater than
> 10,000).
> 
> Why I think this is a bug: If you skip 1000 positions, no memory is required
> by the DocumentWriter for the empty 999 positions, thus not using
> maxFieldLength to limit memory but simply available positions.
> 
> I suggest that there be a counter in DocumentWriter, that counts the actual
> number of tokens in the postingTable (probably in
> DocumentWriter.addPosition), so that maxFieldLength is compared against the
> number actual entries, not the number of actual entries and the number
> skipped entries.
> 
> Best,
> 	Jochen
> 
> PS: Please let me know if this is the wrong forum for this so I'll post to
> the right one next time.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 03:42:15 2003
Return-Path: 
 <lucene-user-return-6609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9876 invoked from network); 20 Dec 2003 03:42:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 03:42:15 -0000
Received: (qmail 86705 invoked by uid 500); 20 Dec 2003 03:41:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86673 invoked by uid 500); 20 Dec 2003 03:41:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86650 invoked from network); 20 Dec 2003 03:41:51 -0000
Received: from unknown (HELO latte.harvard.edu) (140.247.210.252)
  by daedalus.apache.org with SMTP; 20 Dec 2003 03:41:51 -0000
Received: from latte.harvard.edu
 (207-172-79-45.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com [::ffff:207.172.79.45])
  (AUTH: PLAIN mdiggory, )
  by latte.harvard.edu with esmtp; Fri, 19 Dec 2003 22:41:57 -0500
Message-ID: <3FE3C622.403@latte.harvard.edu>
Date: Fri, 19 Dec 2003 22:46:42 -0500
From: "Mark R. Diggory" <mdiggory@latte.harvard.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en, zh, zh-cn, zh-hk, zh-sg, zh-tw
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene and JavaHelp
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone thought about or used Lucene to build an indexed, searchable 
help system? Either Server or Application Based?

-M.

-- 
Mark Diggory
Software Developer
Harvard MIT Data Center
http://osprey.hmdc.harvard.edu

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 10:34:18 2003
Return-Path: 
 <lucene-user-return-6610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98869 invoked from network); 20 Dec 2003 10:34:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 10:34:18 -0000
Received: (qmail 91926 invoked by uid 500); 20 Dec 2003 10:33:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91892 invoked by uid 500); 20 Dec 2003 10:33:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91879 invoked from network); 20 Dec 2003 10:33:45 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 20 Dec 2003 10:33:45 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id hBKAXvPE028105
	for <lucene-user@jakarta.apache.org>; Sat, 20 Dec 2003 11:33:57 +0100
Message-ID: <001701c3c6e4$ce81ebd0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3FE3C622.403@latte.harvard.edu>
Subject: Re: Lucene and JavaHelp
Date: Sat, 20 Dec 2003 11:34:11 +0100
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Has anyone thought about or used Lucene to build an indexed,
> searchable help system? Either Server or Application Based?

I believe Eclipse uses Lucenen for its help system.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Dec 20 14:48:35 2003
Return-Path: 
 <lucene-user-return-6611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73035 invoked from network); 20 Dec 2003 14:48:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Dec 2003 14:48:35 -0000
Received: (qmail 76280 invoked by uid 500); 20 Dec 2003 14:48:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76249 invoked by uid 500); 20 Dec 2003 14:48:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76232 invoked from network); 20 Dec 2003 14:48:26 -0000
Received: from unknown (HELO frontend3.aha.ru) (213.189.198.216)
  by daedalus.apache.org with SMTP; 20 Dec 2003 14:48:26 -0000
Received: from [195.96.81.140] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 61306289 for lucene-user@jakarta.apache.org;
 Sat, 20 Dec 2003 17:48:26 +0300
From: "Pasha Bizhan" <fckdp@ok.ru>
To: <lucene-user@jakarta.apache.org>
Subject: [ANN] Lucene.Net 1.3 rc2 has been released
Date: Sat, 20 Dec 2003 17:49:46 +0300
Message-ID: <000001c3c708$82fefa80$8c5160c3@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Lucene.Net team present Lucene.Net 1.3-rc2.

You can download it now from http://sf.net/projects/lucenedotnet/

Look
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?
rev=1.56 for more details.

Sorry for delay :)

Pasha Bizhan
http://sf.net/projects/lucenedotnet/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 21 22:02:57 2003
Return-Path: 
 <lucene-user-return-6612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8676 invoked from network); 21 Dec 2003 22:02:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Dec 2003 22:02:57 -0000
Received: (qmail 87483 invoked by uid 500); 21 Dec 2003 08:43:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87455 invoked by uid 500); 21 Dec 2003 08:43:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87437 invoked from network); 21 Dec 2003 08:43:35 -0000
Received: from unknown (HELO server1.hostmon.com) (66.139.76.19)
  by daedalus.apache.org with SMTP; 21 Dec 2003 08:43:35 -0000
Received: (qmail 8291 invoked by uid 532); 21 Dec 2003 08:42:42 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with
 qmail-scanner-1.16
 (spamassassin: 2.61.  Clear:.
 Processed in 0.853369 secs); 21 Dec 2003 08:42:42 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 21 Dec 2003 08:42:41 -0000
Message-ID: <3FE55D3E.8060405@tropo.com>
Date: Sun, 21 Dec 2003 00:43:42 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.5) Gecko/20031007
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: DoubleMetaphoneQuery
References: <FEE23A22-327F-11D8-8BF7-000393A564E6@ehatchersolutions.com>
In-Reply-To: <FEE23A22-327F-11D8-8BF7-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> Interestingly, I used a MetaphoneAnalyzer as an example in our book 
> in  progress.  I'm curious if you have measured performance with doing 
> it  at analysis time versus query time.  Enumerating all terms at 
> query  time is basically the same as doing a WildcardQuery or 
> FuzzyQuery and  involves a lot of work - although certainly on 
> moderate size indexes it  is probably not too painful.

No, haven't benchmarked it.
Right, seems reasonable on small index.
You can try it interactively on my demo site here:
http://www.hostmon.com/rfc/advanced.jsp

I guess one could argue that if the index (or #terms) is sufficiently 
large then you could
precalculate the double metaphone encodings - and store this in a lucene 
index(!)
for one (i.e. a lucene index can be used as a persistence mechanism for 
associative
arrays).

I would think that one tradeoff is a metaphone analyzer implies that one 
can only
search w/ metaphones and can't do a more direct, exact spelling, search, 
while
the metaphone query can be used on any index (at the cost of the dreaded 
term traversal).

thx,
 Dave

>
> Nice work on this!
>
> I'd be happy to add this to the sandbox, and will do so in the next 
> few  days hopefully.
>
>     Erik
>
>
> On Friday, December 19, 2003, at 02:51  PM, David Spencer wrote:
>
>>
>> I've seen discussions about using the double metaphone algorithm 
>> with  Lucene (basically: like soundex, used
>> to find works that sound similar in English at least) but couldn't  
>> find an implementation, so I spent
>> a few minutes and wrote a Query and TermEnum object for this. I may  
>> have missed the prior art so sorry if I did...
>>
>> [1] Here are some mail msgs that mention double metaphone wrt Lucene:
>>
>> http://www.geocrawler.com/archives/3/2626/2000/10/0/4566951/
>> http://www.geocrawler.com/archives/3/2626/2001/8/50/6382300/
>> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
>> msg04648.html
>>
>> [2] And Phoenix has a double metaphone  Analyzer, but not a Query,  
>> which I guess is another angle on things:
>>
>> http://www.tangentum.biz/en/products/phonetix/api/com/tangentum/ 
>> phonetix/lucene/PhoneticAnalyzer.html
>>
>>
>> [3] Attached are 2 files (DoubleMetaPhoneQuery and  
>> DoubleMetaphoneTermEnum) that I think are valid contributions
>> to the Lucene Sandbox. Hopefully all that has to be done is change 
>> the  package line if the powers that be accept this.
>>
>> Note: My impl uses the Jakarta CODEC package (  
>> http://jakarta.apache.org/commons/codec/ ) for the double metaphone  
>> algorithm implementation.
>>
>> Also, any query expansion such as this could exceed the bounds of a  
>> boolean query, thus BooleanQuery.setMaxClauseCount
>> may need to be used to avoid an exception.
>>
>> [4] I've updated my Lucene demo site which has the ~3500 RFCs 
>> indexed  and searchable by Lucene. I added an "advanced query"
>> page to try out the DoubleMetaphoneQuery:
>>
>> It's a few lines down at this URL:
>>
>> http://www.hostmon.com/rfc/advanced.jsp
>>
>>
>> [5] Most of the above is redundantly stated here as a kind of  
>> perma-link:
>>
>> http://www.tropo.com/techno/java/lucene/metaphone.html
>>
>> [6]
>>
>> While it's easy to write additonal Query classes, I suspect they are 
>> a  kind of dead end and won't really be
>> used unless they are integrated into the QueryParser - thus one  
>> concept is that the Lucene syntax should
>> have some extension mechanism so you can pass a query like  
>> "metaphone::protokal" to it and "metaphone::"
>> (note the double colons)  would mean to use DoubleMetaphoneQuery for  
>> this term. Maybe an extensible query parser
>> should be the subject of another email?
>>
>> So: let me know if this is useful and plz enter it into the sandbox...
>>
>> thx,
>> Dave Spencer
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> package com.tropo.lucene;
>>
>> /* ====================================================================
>>  * The Apache Software License, Version 1.1
>>  *
>>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>>  * reserved.
>>  *
>>  * Redistribution and use in source and binary forms, with or without
>>  * modification, are permitted provided that the following conditions
>>  * are met:
>>  *
>>  * 1. Redistributions of source code must retain the above copyright
>>  *    notice, this list of conditions and the following disclaimer.
>>  *
>>  * 2. Redistributions in binary form must reproduce the above copyright
>>  *    notice, this list of conditions and the following disclaimer in
>>  *    the documentation and/or other materials provided with the
>>  *    distribution.
>>  *
>>  * 3. The end-user documentation included with the redistribution,
>>  *    if any, must include the following acknowledgment:
>>  *       "This product includes software developed by the
>>  *        Apache Software Foundation (http://www.apache.org/)."
>>  *    Alternately, this acknowledgment may appear in the software  
>> itself,
>>  *    if and wherever such third-party acknowledgments normally appear.
>>  *
>>  * 4. The names "Apache" and "Apache Software Foundation" and
>>  *    "Apache Lucene" must not be used to endorse or promote products
>>  *    derived from this software without prior written permission. For
>>  *    written permission, please contact apache@apache.org.
>>  *
>>  * 5. Products derived from this software may not be called "Apache",
>>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>>  *    prior written permission of the Apache Software Foundation.
>>  *
>>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>>  * SUCH DAMAGE.
>>  * ====================================================================
>>  *
>>  * This software consists of voluntary contributions made by many
>>  * individuals on behalf of the Apache Software Foundation.  For more
>>  * information on the Apache Software Foundation, please see
>>  * <http://www.apache.org/>.
>>  */
>>
>> import java.io.IOException;
>> import org.apache.lucene.search.*;
>> import org.apache.lucene.index.*;
>> import org.apache.lucene.analysis.*;
>> import org.apache.lucene.document.*;
>>
>>
>> /** A Query that matches documents containing terms with a specified  
>> prefix. */
>> public final class DoubleMetaphoneQuery extends MultiTermQuery {
>>   public DoubleMetaphoneQuery(Term term) {
>>     super(term);
>>   }
>>
>>   protected FilteredTermEnum getEnum(IndexReader reader) throws  
>> IOException {
>>     return new DoubleMetaphoneTermEnum(reader, getTerm());
>>   }
>>
>>   public String toString(String field) {
>>       return super.toString(field); // FIXME: what to do here
>>   }
>> }
>> package com.tropo.lucene;
>>
>>
>> /* ====================================================================
>>  * The Apache Software License, Version 1.1
>>  *
>>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>>  * reserved.
>>  *
>>  * Redistribution and use in source and binary forms, with or without
>>  * modification, are permitted provided that the following conditions
>>  * are met:
>>  *
>>  * 1. Redistributions of source code must retain the above copyright
>>  *    notice, this list of conditions and the following disclaimer.
>>  *
>>  * 2. Redistributions in binary form must reproduce the above copyright
>>  *    notice, this list of conditions and the following disclaimer in
>>  *    the documentation and/or other materials provided with the
>>  *    distribution.
>>  *
>>  * 3. The end-user documentation included with the redistribution,
>>  *    if any, must include the following acknowledgment:
>>  *       "This product includes software developed by the
>>  *        Apache Software Foundation (http://www.apache.org/)."
>>  *    Alternately, this acknowledgment may appear in the software  
>> itself,
>>  *    if and wherever such third-party acknowledgments normally appear.
>>  *
>>  * 4. The names "Apache" and "Apache Software Foundation" and
>>  *    "Apache Lucene" must not be used to endorse or promote products
>>  *    derived from this software without prior written permission. For
>>  *    written permission, please contact apache@apache.org.
>>  *
>>  * 5. Products derived from this software may not be called "Apache",
>>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>>  *    prior written permission of the Apache Software Foundation.
>>  *
>>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>>  * SUCH DAMAGE.
>>  * ====================================================================
>>  *
>>  * This software consists of voluntary contributions made by many
>>  * individuals on behalf of the Apache Software Foundation.  For more
>>  * information on the Apache Software Foundation, please see
>>  * <http://www.apache.org/>.
>>  */
>> import org.apache.lucene.search.*;
>> import java.io.IOException;
>> import org.apache.lucene.index.IndexReader;
>> import org.apache.lucene.index.Term;
>> import org.apache.commons.codec.language.*;
>>
>> /** Subclass of FilteredTermEnum for enumerating all terms that are  
>> similiar to the specified filter term.
>>
>>   <p>Term enumerations are always ordered by Term.compareTo().  Each  
>> term in
>>   the enumeration is greater than all that precede it.  */
>> public final class DoubleMetaphoneTermEnum extends FilteredTermEnum {
>>     private int del_len;
>>     boolean endEnum = false;
>>
>>     Term searchTerm = null;
>>     String field = "";
>>     String text = "";
>>     int textlen;
>>     final DoubleMetaphone m = new DoubleMetaphone();
>>     final String goal1;
>>     String goal2;
>>     
>>     public DoubleMetaphoneTermEnum(IndexReader reader, Term term)  
>> throws IOException {
>>         super(reader, term);
>>         searchTerm = term;
>>         field = searchTerm.field();
>>         text = searchTerm.text();
>>         textlen = text.length();
>>        
>>         goal1 = m.doubleMetaphone( text, true);
>>         goal2 = m.doubleMetaphone( text, false);
>>         if ( goal1.equals( goal2)) goal2 = null;
>>
>>         setEnum(reader.terms(new Term(searchTerm.field(), "")));
>>
>>        
>>
>>     }
>>
>>     /**
>>      The termCompare method in DoubleMetaphoneTermEnum uses ...
>>      */
>>     protected final boolean termCompare(Term term) {
>>
>>         if (field == term.field()) {
>>             String s = term.text();
>>             String try1 = m.doubleMetaphone( s, true);
>>             String try2 = m.doubleMetaphone( s, false);
>>
>>             if ( try1.equals( goal1)) return true;
>>             if ( try2.equals( goal1)) return true;
>>             if ( goal2 != null)
>>             {
>>                 if ( try1.equals( goal2)) return true;
>>                 if ( try2.equals( goal2)) return true;
>>             }
>>             return false;
>>         }
>>         endEnum = true;
>>         return false;
>>     }
>>
>>     protected final float difference() {
>>         return (float) 1.0; // assume all terms that sound alike are  
>> equally valuable...
>>     }
>>
>>     public final boolean endEnum() {
>>         return endEnum;
>>     }
>>
>>     public void close() throws IOException {
>>         super.close();
>>         searchTerm = null;
>>         field = null;
>>         text = null;
>>     }
>> }
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 21 22:13:31 2003
Return-Path: 
 <lucene-user-return-6613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55127 invoked from network); 21 Dec 2003 22:13:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Dec 2003 22:13:31 -0000
Received: (qmail 24672 invoked by uid 500); 21 Dec 2003 10:13:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24407 invoked by uid 500); 21 Dec 2003 10:13:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24378 invoked from network); 21 Dec 2003 10:13:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 21 Dec 2003 10:13:36 -0000
Received: (cpmta 1997 invoked from network); 21 Dec 2003 02:13:49 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.101?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 21 Dec 2003 02:13:49 -0800
X-Sent: 21 Dec 2003 10:13:49 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <3FE55D3E.8060405@tropo.com>
References: <FEE23A22-327F-11D8-8BF7-000393A564E6@ehatchersolutions.com>
 <3FE55D3E.8060405@tropo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5DD200D2-339E-11D8-91D0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DoubleMetaphoneQuery
Date: Sun, 21 Dec 2003 05:13:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 21, 2003, at 3:43 AM, David Spencer wrote:
> I would think that one tradeoff is a metaphone analyzer implies that 
> one can only
> search w/ metaphones and can't do a more direct, exact spelling, 
> search, while
> the metaphone query can be used on any index (at the cost of the 
> dreaded term traversal).

An analyzer does not have to replace terms, it can also place metaphone 
encodings in the same position, using setPositionIncrement(0).  There 
are some fiddly issues that occur when position increment zero is used, 
however - for example it is not possible to use that same analyzer with 
QueryParser and have phrase queries work properly (but there is at 
least one nice workaround).

So, exact spellings can be made to still work.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 21 21:59:41 2003
Return-Path: 
 <lucene-user-return-6614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3853 invoked from network); 21 Dec 2003 21:59:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Dec 2003 21:59:41 -0000
Received: (qmail 26027 invoked by uid 500); 21 Dec 2003 10:16:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25996 invoked by uid 500); 21 Dec 2003 10:16:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25983 invoked from network); 21 Dec 2003 10:16:24 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 21 Dec 2003 10:16:24 -0000
Received: (cpmta 6207 invoked from network); 21 Dec 2003 02:16:37 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.101?)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 21 Dec 2003 02:16:37 -0800
X-Sent: 21 Dec 2003 10:16:37 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <3FE3C622.403@latte.harvard.edu>
References: <3FE3C622.403@latte.harvard.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C2610E52-339E-11D8-91D0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene and JavaHelp
Date: Sun, 21 Dec 2003 05:16:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 19, 2003, at 10:46 PM, Mark R. Diggory wrote:
> Has anyone thought about or used Lucene to build an indexed, 
> searchable help system? Either Server or Application Based?

While maybe not exactly a "help system", the application we wrote for 
Java Development with Ant uses Lucene to index a directory of HTML or 
text files and presents a web interface to search and retrieve them.  
You can find the entire application here:

	http://www.ehatchersolutions.com/JavaDevWithAnt

Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 00:03:43 2003
Return-Path: 
 <lucene-user-return-6615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6653 invoked from network); 22 Dec 2003 00:03:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 00:03:43 -0000
Received: (qmail 32248 invoked by uid 500); 22 Dec 2003 00:03:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32213 invoked by uid 500); 22 Dec 2003 00:03:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32059 invoked from network); 22 Dec 2003 00:03:25 -0000
Received: from unknown (HELO extern1.cit.de) (62.153.167.234)
  by daedalus.apache.org with SMTP; 22 Dec 2003 00:03:25 -0000
Subject: Ralf Zimmermann/CIT/DE ist =?iso-8859-1?Q?au=DFer_Haus=2E?=
From: Ralf.Zimmermann@cit.de
To: lucene-user@jakarta.apache.org
Message-ID: <OF66E54F14.B3D94ED7-ONC1256E04.00005242-C1256E04.00005242@cit.de>
Date: Mon, 22 Dec 2003 01:03:30 +0100
X-MIMETrack: Serialize by Router on CITEXTERN01/CITEXTERN/DE(Release 5.0.11
  |July 24, 2002) at
 12/22/2003 02:10:46 AM
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ich werde ab  19.12.2003 nicht im B=FCro sein. Ich kehre zur=FCck am
06.01.2004.

Ich werde Ihre Nachricht nach meiner R=FCckkehr beantworten.
=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 12:40:42 2003
Return-Path: 
 <lucene-user-return-6616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70715 invoked from network); 22 Dec 2003 12:40:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 12:40:42 -0000
Received: (qmail 41411 invoked by uid 500); 22 Dec 2003 12:40:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41334 invoked by uid 500); 22 Dec 2003 12:40:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41321 invoked from network); 22 Dec 2003 12:40:35 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 22 Dec 2003 12:40:35 -0000
Received: from smail.uni-koeln.de (xdsl-213-168-109-117.netcologne.de
 [213.168.109.117])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBMCeWN6027158
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 22 Dec 2003 13:40:33 +0100
Message-ID: <3FE6E5E3.6070800@smail.uni-koeln.de>
Date: Mon, 22 Dec 2003 13:38:59 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Types of field in index
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Lucene Users

i use Lucene 1.3rc3 to index several thousand metadata records. these look as follows:

<?xml version="1.0" encoding="utf-8"?>
<oaidc:dc xmlns="http://purl.org/dc/elements/1.1/" 
xmlns:oaidc="http://www.openarchives.org/OAI/2.0/oai_dc/" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ 
http://www.openarchives.org/OAI/2.0/oai_dc.xsd"> 
<identifier>http://infomotions.com/musings/adaptive-technologies/index.shtml</identifier> 
<creator>Morgan, Eric Lease</creator>  <title>Adaptive Technologies</title>  <date>1999-04-03</date> 
  <description>Computer technology is improving the access to information for the disabled but the 
real problem is not necessarily the limitations of technology but it's costs. This column points you 
toward sets of Internet resources informing you on how you can make your library better prepared for 
the disabled. It also tries to enforce the understanding that technologies for the disabled assist 
not only the disabled, but everybody else as well. Libraries of the future will understand this fact 
and embrace this change not as a hinderance but as an enhancement of service for 
everybody.</description>  <subject>CIL (Computers In Libraries)</subject>  <subject>adaptive 
technologies</subject>    <rights>This text is distributed under the GNU Public License.</rights> 
<type>text</type>  <format>text/html</format>  <language>en-US</language>  <contributor>Infomotions, 
Inc.</contributor>     </oaidc:dc>


now, how can i find out what fields lucene indexes? Is there any possibility to control which tags 
are handled as a field and which not?

I use a slightly modified IndexHTML.java from the 1.3 distribution; i added .xml as acceptable files 
extension.


Kind regards

thomas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 19:45:55 2003
Return-Path: 
 <lucene-user-return-6617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65625 invoked from network); 22 Dec 2003 19:45:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 19:45:55 -0000
Received: (qmail 696 invoked by uid 500); 22 Dec 2003 19:45:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 641 invoked by uid 500); 22 Dec 2003 19:45:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 624 invoked from network); 22 Dec 2003 19:45:40 -0000
Received: from unknown (HELO latte.harvard.edu) (140.247.210.252)
  by daedalus.apache.org with SMTP; 22 Dec 2003 19:45:40 -0000
Received: from latte.harvard.edu (lorien.fas.harvard.edu
 [::ffff:140.247.212.206])
  (AUTH: PLAIN mdiggory, )
  by latte.harvard.edu with esmtp; Mon, 22 Dec 2003 14:45:42 -0500
Message-ID: <3FE74A20.1090606@latte.harvard.edu>
Date: Mon, 22 Dec 2003 14:46:40 -0500
From: "Mark R. Diggory" <mdiggory@latte.harvard.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.6a) Gecko/20031030
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene and JavaHelp
References: <3FE3C622.403@latte.harvard.edu>
 <C2610E52-339E-11D8-91D0-000393A564E6@ehatchersolutions.com>
In-Reply-To: <C2610E52-339E-11D8-91D0-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I'm currently reviewing the servlet/taglibrary that comes with the new 
release of JavaHelp to see how close that comes to our needs. I'd still 
would enjoy a lucene solution in the future though, I will try your code 
as well.

thanks
Mark


Erik Hatcher wrote:

> On Dec 19, 2003, at 10:46 PM, Mark R. Diggory wrote:
> 
>> Has anyone thought about or used Lucene to build an indexed, 
>> searchable help system? Either Server or Application Based?
> 
> 
> While maybe not exactly a "help system", the application we wrote for 
> Java Development with Ant uses Lucene to index a directory of HTML or 
> text files and presents a web interface to search and retrieve them.  
> You can find the entire application here:
> 
>     http://www.ehatchersolutions.com/JavaDevWithAnt
> 
> Erik
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Mark Diggory
Software Developer
Harvard MIT Data Center
http://osprey.hmdc.harvard.edu

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 20:10:42 2003
Return-Path: 
 <lucene-user-return-6618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85995 invoked from network); 22 Dec 2003 20:10:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 20:10:42 -0000
Received: (qmail 44007 invoked by uid 500); 22 Dec 2003 20:10:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43979 invoked by uid 500); 22 Dec 2003 20:10:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43966 invoked from network); 22 Dec 2003 20:10:27 -0000
Received: from unknown (HELO web20422.mail.yahoo.com) (66.163.169.98)
  by daedalus.apache.org with SMTP; 22 Dec 2003 20:10:27 -0000
Message-ID: <20031222201032.57327.qmail@web20422.mail.yahoo.com>
Received: from [207.35.19.222] by web20410.mail.yahoo.com via HTTP;
 Mon, 22 Dec 2003 15:10:32 EST
Date: Mon, 22 Dec 2003 15:10:32 -0500 (EST)
From: Geoffrey Peddle <trylucene@yahoo.ca>
Subject: Benchmark: Lucene vs commercial search engine
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm doing a technical evaluation of search engines 
for Ariba, an enterprise application software company.
 I compared Lucene to a commercial C language based
search engine which I'll refer to as vendor A.  
Overall Lucene's performance was similar to vendor A
and met our application's requirements.  I've
summarized our results below.
 

Search scalability:

We ran a set of 16 queries in a single thread for 20
iterations.  We report below the times for the last 15
iterations (ie after the system was warmed up).   The
4 sets of results below are for indexes with between
50,000 documents to 600,000 documents.  Although the
times for Lucene grew faster with document count than
vendor A they were comparable.

50K  documents
Lucene   5.2   seconds
A        7.2

200K
Lucene   15.3
A        15.2

400K
Lucene    28.2
A         25.5

600K
Lucene    41
A         33


Individual Query times:

Total query times are very similar between the 2
systems but there were larger differences when you
looked at individual queries.

For simple queries with small result sets Vendor A was
consistently faster than Lucene.   For example a
single query might take vendor A 32 thousands of a
second and Lucene 64 thousands of a second.    Both
times are however well within acceptable response
times for our application.

For simple queries with large result sets Vendor A was
consistently slower than Lucene.   For example a
single query might take vendor A 300 thousands of a
second and Lucene 200 thousands of a second.

For more complex queries of the form   (term1 or term2
or term3)  AND (term4 or term5 or term6) AND (term7 or
term8)    the results were more divergent.  For
queries with small result sets Vendor A generally had
very short response times and sometimes Lucene had
significantly larger response times.  For example
Vendor A might take 16 thousands of a second and
Lucene might take 156.   I do not consider it to be
the case that Lucene's response time grew unexpectedly
but rather that Vendor A appeared to be taking
advantage of an optimization which Lucene didn't have.
  (I believe there's been discussions on the dev
mailing list on complex queries of this sort.)

 
Index Size:

For our test data the size of both indexes grew
linearly with the number of documents.   Note that
these sizes are compact sizes, not maximum size during
index loading.   The numbers below are from running du
-k in the directory containing the index data.   The
larger number's below for Vendor A may be because it
supports additional functionality not available in
Lucene.   I think it's the constant rate of growth
rather than the absolute amount which is more
important.

50K  documents
Lucene      45516 K
A           63921

200K
Lucene      171565
A           228370

400K
Lucene      345717
A           457843

600K
Lucene      511338
A           684913
 

Indexing Times:

These times are for reading the documents from our
database, processing them, inserting them into the
document search product and index compacting.   Our
data has a large number of fields/attributes.   For
this test I restricted Lucene to 24 attributes to
reduce the number of files created.  Doing this I was
able to specify a merge width for Lucene of 60.   I
found in general that Lucene indexing performance to
be very sensitive to changes in the merge width.  
Note also that our application does a full compaction
after inserting every 20,000 documents.   These times
are just within our acceptable limits but we are
interested in alternatives to increase Lucene's
performance in this area.

600K documents
Lucene       81 minutes
A            34 minutes

(I don't have accurate results for all sizes on this
measure but believe that the indexing time for both
solutions grew essentially linearly with size.   The
time to compact the index generally grew with index
size but it's a small percent of overall time at these
sizes.)

-Geoffrey




  <benchmark>
  <ul>
  <p>
  <b>Hardware Environment</b> 
  <br /> 
  <li>
  <i>Dedicated machine for indexing</i> 
  : yes 
  </li>
  <li>
  <i>CPU</i> 
  : Dell Pentium� 4 CPU 2.00Ghz,   1cpu
  </li>
  <li>
  <i>RAM</i> 
  : 1 Gig 
  </li>
  <li>
  <i>Drive configuration</i> 
  : Fujitsu MAM3367MP SCSI 
  </li>
  </p>
  <p>
  <b>Software environment</b> 
  <br /> 
  <li>
  <i>Java Version</i> 
  : JDK 1.4.2_02
  </li>
  <li>
  <i>Java VM</i> 
  :
  </li>
  <li>
  <i>OS Version</i> 
  : Windows XP 
  </li>
  <li>
  <i>Location of index</i> 
  : Local file system 
  </li>
  </p>
  <p>
  <b>Lucene indexing variables</b> 
  <br /> 
  <li>
  <i>Number of source documents</i> 
  600,000
  </li>
  <li>
  <i>Total filesize of source documents</i> 
  : from database
  </li>
  <li>
  <i>Average filesize of source documents</i> 
  : from database
  </li>
  <li>
  <i>Source documents storage location</i> 
  : DB
  </li>
  <li>
  <i>File type of source documents</i> 
  : XML
  </li>
  <li>
  <i>Parser(s) used, if any</i> 
  : None
  </li>
  <li>
  <i>Analyzer(s) used</i> 
  : small variation on WhitespaceAnalyzer
  </li>
  <li>
  <i>Number of fields per document</i> 
  : 24
  </li>
  <li>
  <i>Type of fields</i> 
  : 1 keyword, 1 big unindexed, rest are unstored and
a mix of tokenized/untokenized
  </li>
  <li>
  <i>Index persistence</i> 
  :  FSDirectory
  </li>
  </p>
  <p>
  <b>Figures</b> 
  <br /> 
  <li>
  <i>Time taken (in ms/s as an average of at least 3
indexing runs)</i> 
  : 600,000 documents in 81 minutes   (du -k = 511338)
  </li>
  <li>
  <i>Time taken / 1000 docs indexed</i> 
  : 123 documents/second
  </li>
  <li>
  <i>Memory consumption</i> 
  : -ms256m -mx512m -Xss4m -XX:MaxPermSize=512M
  </li>
  </p>
  <p>
  <b>Notes</b> 
  <br /> 
  <li>
  <i>Notes</i> 
  : merge width of 60. 
  : did a compact every 20,000 documents
  </li>
  </p>
  </ul>
  </benchmark>


______________________________________________________________________ 
Post your free ad now! http://personals.yahoo.ca

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 20:15:16 2003
Return-Path: 
 <lucene-user-return-6619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89654 invoked from network); 22 Dec 2003 20:15:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 20:15:16 -0000
Received: (qmail 47802 invoked by uid 500); 22 Dec 2003 20:15:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47774 invoked by uid 500); 22 Dec 2003 20:14:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47760 invoked from network); 22 Dec 2003 20:14:59 -0000
Received: from unknown (HELO web20422.mail.yahoo.com) (66.163.169.98)
  by daedalus.apache.org with SMTP; 22 Dec 2003 20:14:59 -0000
Message-ID: <20031222201505.59187.qmail@web20422.mail.yahoo.com>
Received: from [207.35.19.222] by web20410.mail.yahoo.com via HTTP;
 Mon, 22 Dec 2003 15:15:05 EST
Date: Mon, 22 Dec 2003 15:15:05 -0500 (EST)
From: Geoffrey Peddle <trylucene@yahoo.ca>
Subject: efficient refinement, order by and range queries
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm attempting to make Lucene the document search
solution for the Ariba application suite.  I have
identified functionality gaps in the areas of
refinement, order by and range queries.  Below I
attempt to describe our requirements and begin a
discussion on how to solve them.


Refinement/attribute value collection.
 
One of our applications is a catalog search
application.    In this application our documents are
catalog items.   Each item has a number of
fields/attributes associated with it.   For example
Supplier, Part number, Price, Description.   We use a
search metaphor where end-users iterate issuing
queries and getting feedback about what's available.  
So initially we may tell them that 600,000 items are
available from  95 suppliers, and who those suppliers
are.   They may choose to do a free text search for
the phrase "blue pen".  The result of that query may
be to tell them that there's 240 items available from
2 suppliers which match that phrase, and who those
suppliers are.  They may pick one of the suppliers to
see the list of "blue pens" available from that
supplier.
 
In addition to wanting the set of attribute values
found in the result documents we would also want to
return counts of the number of documents each
attribute value occurs in in the result document set. 
 To limit memory consumption for attributes with many
values in the result document set we could specify a
limit beyond which additional new values would not be
collected, say return at most 200 suppliers which
match the query.
 
Efficient range queries.
 
There are certain attributes in our catalog item which
we want to support range queries on.  For example
price.    While it would be unusual for this to be the
primary search criteria (people rarely say show me
anything that costs greater than $10 in our
application) it's important to have some support for
this.    The trick here is that the criteria may be
very open ended.   For example all items with price
greater than $10 might involve tens of thousands of
prices.
 
 
Order by attributes.
 
We need the ability to order the document results set
by a pre-defined set of numeric attributes and would
like the ability to order on alphabetic attributes as
well.
 
 
What we are currently thinking of as the solution to
these first 3 "gaps" is an optional document based
payload or term vector.  We think we could use this in
a hit collector to post-filter any results outside our
range queries, collect refinement values and order the
results.   It seems we could build an external
mechanism similar to what's used in the search beans
for this or extend the core product.    Does this seem
like a reasonable approach?   Any educated guesses on
what the percent increase in search response time will
be if we do a good job?
 
The trickiest part seems to be efficiently collecting
the refinement data for a set of 5-15 attributes.  Any
suggestions on data structures to use to
encode/collect this?   As we develop a design for this
I'll post it for additional feedback.

I have resources for code development and consider it
to be in Ariba's best interest to contribute any code
that we write in this area with the entire community. 
Our time frame is to develop a proto-type in the next
couple of months for proof of concept and
benchmarking.

-Geoffrey






______________________________________________________________________ 
Post your free ad now! http://personals.yahoo.ca

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 22 21:48:54 2003
Return-Path: 
 <lucene-user-return-6620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37672 invoked from network); 22 Dec 2003 21:48:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Dec 2003 21:48:54 -0000
Received: (qmail 51329 invoked by uid 500); 22 Dec 2003 21:48:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51292 invoked by uid 500); 22 Dec 2003 21:48:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51279 invoked from network); 22 Dec 2003 21:48:36 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 22 Dec 2003 21:48:36 -0000
Message-ID: <20031222214836.27451.qmail@web12703.mail.yahoo.com>
Received: from [195.29.53.130] by web12703.mail.yahoo.com via HTTP;
 Mon, 22 Dec 2003 13:48:36 PST
Date: Mon, 22 Dec 2003 13:48:36 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Types of field in index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FE6E5E3.6070800@smail.uni-koeln.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I suggest you look at the Articles section of Lucene's site, in
particular an article about XML, Lucene, and Digester.  Much better
than using IndexHTML demo, I believe.

Otis


--- Thomas_Kr�mer <kraemert@smail.uni-koeln.de> wrote:
> Hello Lucene Users
> 
> i use Lucene 1.3rc3 to index several thousand metadata records. these
> look as follows:
> 
> <?xml version="1.0" encoding="utf-8"?>
> <oaidc:dc xmlns="http://purl.org/dc/elements/1.1/" 
> xmlns:oaidc="http://www.openarchives.org/OAI/2.0/oai_dc/" 
> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
> xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ 
> http://www.openarchives.org/OAI/2.0/oai_dc.xsd"> 
>
<identifier>http://infomotions.com/musings/adaptive-technologies/index.shtml</identifier>
> 
> <creator>Morgan, Eric Lease</creator>  <title>Adaptive
> Technologies</title>  <date>1999-04-03</date> 
>   <description>Computer technology is improving the access to
> information for the disabled but the 
> real problem is not necessarily the limitations of technology but
> it's costs. This column points you 
> toward sets of Internet resources informing you on how you can make
> your library better prepared for 
> the disabled. It also tries to enforce the understanding that
> technologies for the disabled assist 
> not only the disabled, but everybody else as well. Libraries of the
> future will understand this fact 
> and embrace this change not as a hinderance but as an enhancement of
> service for 
> everybody.</description>  <subject>CIL (Computers In
> Libraries)</subject>  <subject>adaptive 
> technologies</subject>    <rights>This text is distributed under the
> GNU Public License.</rights> 
> <type>text</type>  <format>text/html</format> 
> <language>en-US</language>  <contributor>Infomotions, 
> Inc.</contributor>     </oaidc:dc>
> 
> 
> now, how can i find out what fields lucene indexes? Is there any
> possibility to control which tags 
> are handled as a field and which not?
> 
> I use a slightly modified IndexHTML.java from the 1.3 distribution; i
> added .xml as acceptable files 
> extension.
> 
> 
> Kind regards
> 
> thomas
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 23 10:46:18 2003
Return-Path: 
 <lucene-user-return-6621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91717 invoked from network); 23 Dec 2003 10:46:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Dec 2003 10:46:18 -0000
Received: (qmail 26208 invoked by uid 500); 23 Dec 2003 10:45:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25744 invoked by uid 500); 23 Dec 2003 10:45:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25731 invoked from network); 23 Dec 2003 10:45:46 -0000
Received: from unknown (HELO nwd2mail2.analog.com) (137.71.25.51)
  by daedalus.apache.org with SMTP; 23 Dec 2003 10:45:46 -0000
Received: from nwd2mhb1.analog.com (nwd2mhb1.analog.com [137.71.5.12])
	by nwd2mail2.analog.com (8.12.10/8.12.10) with ESMTP id hBNAjg0c028527
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 05:46:03 -0500
Received: from dsun1.adbvdesign.analog.com ([10.32.54.16])
	by nwd2mhb1.analog.com (8.9.3 (PHNE_28810+JAGae91741)/8.9.3) with ESMTP id
 FAA28104
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 05:45:33 -0500 (EST)
Received: from dsun487.adbvdesign.analog.com (dsun487 [10.32.54.30])
	by dsun1.adbvdesign.analog.com (8.11.6+Sun/8.11.6) with ESMTP id hBNAjWL22099
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 10:45:32 GMT
Received: from analog.com (localhost [127.0.0.1])
	by dsun487.adbvdesign.analog.com (8.10.2+Sun/8.10.2) with ESMTP id
 hBNAjie20127
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 10:45:44 GMT
Message-ID: <3FE81CD7.2020701@analog.com>
Date: Tue, 23 Dec 2003 10:45:43 +0000
From: Niall Gallagher <niall.gallagher@analog.com>
Reply-To: niall.gallagher@analog.com
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.5) Gecko/20031016
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: IndexWriter Problem
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, hits=0.0 required=10.0
	tests=none
	version=2.60
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp)
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have been using Lucene to index a large directory, indexing HTML and 
text files. However during the indexing process the entire system stops, 
that is the IndexWriter no longer adds Document objects to the 
underlying index directory. Also, this seems to happen at random 
occasions, that is, it rarely fails on the same HTML or text document.

Below I have attached the exception, once this has been thrown the index 
directory is not longer updated. I can still add Document objects to the 
IndexWriter without any problems, however indexing ceases. If anyone can 
provide suggestions as to what the problem is I would appreciate it.


java.io.IOException: Pipe closed
        at java.io.PipedInputStream.receive(PipedInputStream.java:136)
        at java.io.PipedInputStream.receive(PipedInputStream.java:176)
        at java.io.PipedOutputStream.write(PipedOutputStream.java:129)
        at 
sun.nio.cs.StreamEncoder$CharsetSE.writeBytes(StreamEncoder.java:334)
        at 
sun.nio.cs.StreamEncoder$CharsetSE.implWrite(StreamEncoder.java:393)
        at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:134)
        at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:144)
        at java.io.OutputStreamWriter.write(OutputStreamWriter.java:204)
        at java.io.Writer.write(Writer.java:126)
        at 
org.apache.lucene.demo.html.HTMLParser.addText(HTMLParser.java:141)
        at 
org.apache.lucene.demo.html.HTMLParser.HTMLDocument(HTMLParser.java:200)
        at 
org.apache.lucene.demo.html.ParserThread.run(ParserThread.java:69)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 23 13:15:04 2003
Return-Path: 
 <lucene-user-return-6622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47454 invoked from network); 23 Dec 2003 13:15:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Dec 2003 13:15:04 -0000
Received: (qmail 84923 invoked by uid 500); 23 Dec 2003 13:14:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84896 invoked by uid 500); 23 Dec 2003 13:14:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84873 invoked from network); 23 Dec 2003 13:14:56 -0000
Received: from unknown (HELO nwd2mail1.analog.com) (137.71.25.50)
  by daedalus.apache.org with SMTP; 23 Dec 2003 13:14:56 -0000
Received: from nwd2mhb2.analog.com (nwd2mhb2.analog.com [137.71.6.12])
	by nwd2mail1.analog.com (8.12.10/8.12.10) with ESMTP id hBNDEqeZ021054
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 08:14:52 -0500
Received: from dsun1.adbvdesign.analog.com ([10.32.54.16])
	by nwd2mhb2.analog.com (8.9.3 (PHNE_28810+JAGae91741)/8.9.3) with ESMTP id
 IAA00391
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 08:14:54 -0500 (EST)
Received: from dsun487.adbvdesign.analog.com (dsun487 [10.32.54.30])
	by dsun1.adbvdesign.analog.com (8.11.6+Sun/8.11.6) with ESMTP id hBNDEpL29132
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 13:14:51 GMT
Received: from analog.com (localhost [127.0.0.1])
	by dsun487.adbvdesign.analog.com (8.10.2+Sun/8.10.2) with ESMTP id
 hBNDF2e25768
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 13:15:03 GMT
Message-ID: <3FE83FD6.4050809@analog.com>
Date: Tue, 23 Dec 2003 13:15:02 +0000
From: Niall Gallagher <niall.gallagher@analog.com>
Reply-To: niall.gallagher@analog.com
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.5) Gecko/20031016
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexWriter Problem
References: <3FE81CD7.2020701@analog.com>
In-Reply-To: <3FE81CD7.2020701@analog.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, hits=0.0 required=10.0
	tests=none
	version=2.60
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp)
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Again,

I think I have resolved the problem. I was using Lucene to index several 
directories concurrently within the same JVM, and as far as I can tell 
Lucene cannot do coucurrent indexing. Is this correct ?


Niall Gallagher wrote:

> Hi,
>
> I have been using Lucene to index a large directory, indexing HTML and 
> text files. However during the indexing process the entire system 
> stops, that is the IndexWriter no longer adds Document objects to the 
> underlying index directory. Also, this seems to happen at random 
> occasions, that is, it rarely fails on the same HTML or text document.
>
> Below I have attached the exception, once this has been thrown the 
> index directory is not longer updated. I can still add Document 
> objects to the IndexWriter without any problems, however indexing 
> ceases. If anyone can provide suggestions as to what the problem is I 
> would appreciate it.
>
>
> java.io.IOException: Pipe closed
>        at java.io.PipedInputStream.receive(PipedInputStream.java:136)
>        at java.io.PipedInputStream.receive(PipedInputStream.java:176)
>        at java.io.PipedOutputStream.write(PipedOutputStream.java:129)
>        at 
> sun.nio.cs.StreamEncoder$CharsetSE.writeBytes(StreamEncoder.java:334)
>        at 
> sun.nio.cs.StreamEncoder$CharsetSE.implWrite(StreamEncoder.java:393)
>        at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:134)
>        at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:144)
>        at java.io.OutputStreamWriter.write(OutputStreamWriter.java:204)
>        at java.io.Writer.write(Writer.java:126)
>        at 
> org.apache.lucene.demo.html.HTMLParser.addText(HTMLParser.java:141)
>        at 
> org.apache.lucene.demo.html.HTMLParser.HTMLDocument(HTMLParser.java:200)
>        at 
> org.apache.lucene.demo.html.ParserThread.run(ParserThread.java:69)
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 23 13:42:47 2003
Return-Path: 
 <lucene-user-return-6623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59085 invoked from network); 23 Dec 2003 13:42:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Dec 2003 13:42:47 -0000
Received: (qmail 33967 invoked by uid 500); 23 Dec 2003 13:42:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33776 invoked by uid 500); 23 Dec 2003 13:42:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33762 invoked from network); 23 Dec 2003 13:42:39 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 23 Dec 2003 13:42:39 -0000
Received: (cpmta 23870 invoked from network); 23 Dec 2003 05:42:39 -0800
Received: from 128.143.103.57 (HELO ?128.143.103.57?)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 23 Dec 2003 05:42:39 -0800
X-Sent: 23 Dec 2003 13:42:39 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <3FE83FD6.4050809@analog.com>
References: <3FE81CD7.2020701@analog.com> <3FE83FD6.4050809@analog.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DFD9FB53-354D-11D8-9188-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexWriter Problem
Date: Tue, 23 Dec 2003 08:42:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 23, 2003, at 8:15 AM, Niall Gallagher wrote:
> I think I have resolved the problem. I was using Lucene to index 
> several directories concurrently within the same JVM, and as far as I 
> can tell Lucene cannot do coucurrent indexing. Is this correct ?

You can do it concurrently, but you must use the *same* IndexWriter 
instance on all threads.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 23 14:11:45 2003
Return-Path: 
 <lucene-user-return-6624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70271 invoked from network); 23 Dec 2003 14:11:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Dec 2003 14:11:45 -0000
Received: (qmail 69195 invoked by uid 500); 23 Dec 2003 14:11:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69164 invoked by uid 500); 23 Dec 2003 14:11:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69150 invoked from network); 23 Dec 2003 14:11:36 -0000
Received: from unknown (HELO nwd2mail1.analog.com) (137.71.25.50)
  by daedalus.apache.org with SMTP; 23 Dec 2003 14:11:36 -0000
Received: from nwd2mhb1.analog.com (nwd2mhb1.analog.com [137.71.5.12])
	by nwd2mail1.analog.com (8.12.10/8.12.10) with ESMTP id hBNEBaeZ012330
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 09:11:36 -0500
Received: from dsun1.adbvdesign.analog.com ([10.32.54.16])
	by nwd2mhb1.analog.com (8.9.3 (PHNE_28810+JAGae91741)/8.9.3) with ESMTP id
 JAA02483
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 09:11:35 -0500 (EST)
Received: from dsun487.adbvdesign.analog.com (dsun487 [10.32.54.30])
	by dsun1.adbvdesign.analog.com (8.11.6+Sun/8.11.6) with ESMTP id hBNEBYL01265
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 14:11:34 GMT
Received: from analog.com (localhost [127.0.0.1])
	by dsun487.adbvdesign.analog.com (8.10.2+Sun/8.10.2) with ESMTP id
 hBNEBke27839
	for <lucene-user@jakarta.apache.org>; Tue, 23 Dec 2003 14:11:46 GMT
Message-ID: <3FE84D20.60509@analog.com>
Date: Tue, 23 Dec 2003 14:11:44 +0000
From: Niall Gallagher <niall.gallagher@analog.com>
Reply-To: niall.gallagher@analog.com
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.5) Gecko/20031016
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexWriter Problem
References: <3FE81CD7.2020701@analog.com> <3FE83FD6.4050809@analog.com>
 <DFD9FB53-354D-11D8-9188-000393A564E6@ehatchersolutions.com>
In-Reply-To: <DFD9FB53-354D-11D8-9188-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, hits=0.0 required=10.0
	tests=none
	version=2.60
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp)
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


 >> think I have resolved the problem. I was using Lucene to index 
several directories concurrently within
 >> the same JVM, and as far as I can tell Lucene cannot do coucurrent 
indexing. Is this correct ?

 > You can do it concurrently, but you must use the *same* IndexWriter 
instance on all threads.  

I was using different 'index' directories for each, it seems that there 
is some static resource that is not thread safe in some manner. For 
example my implementation went somthing like

for(int i = 0; i < 10; i++){
    new Thread(this).start();
}

public void run(){
   while(true){
       String path = queue.dequeue();
      
       if(isActive(path)){
          contuine;
       }
       activate(path);
       index(path,  new File(path, "index"));
   }
}

Should this work ? Because when I used it there was only ever one 
indexing task ever updating the index, that is, the last IndexWriter 
created was the only one updating its index directory.

Niall



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Dec 24 02:00:53 2003
Return-Path: 
 <lucene-user-return-6625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51641 invoked from network); 24 Dec 2003 02:00:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Dec 2003 02:00:53 -0000
Received: (qmail 60075 invoked by uid 500); 24 Dec 2003 02:00:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59961 invoked by uid 500); 24 Dec 2003 02:00:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59948 invoked from network); 24 Dec 2003 02:00:31 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 24 Dec 2003 02:00:31 -0000
Received: (cpmta 26318 invoked from network); 23 Dec 2003 18:00:39 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.101?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 23 Dec 2003 18:00:39 -0800
X-Sent: 24 Dec 2003 02:00:39 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <20031222201505.59187.qmail@web20422.mail.yahoo.com>
References: <20031222201505.59187.qmail@web20422.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F8310DF1-35B4-11D8-8546-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: efficient refinement, order by and range queries
Date: Tue, 23 Dec 2003 21:00:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Geoffrey,

You've done quite a thorough analysis of Lucene.  I'll reply below with 
a few tidbits of Lucene trivia in hopes that will help....

On Dec 22, 2003, at 3:15 PM, Geoffrey Peddle wrote:
> One of our applications is a catalog search
> application.    In this application our documents are
> catalog items.   Each item has a number of
> fields/attributes associated with it.   For example
> Supplier, Part number, Price, Description.   We use a
> search metaphor where end-users iterate issuing
> queries and getting feedback about what's available.
> So initially we may tell them that 600,000 items are
> available from  95 suppliers, and who those suppliers
> are.   They may choose to do a free text search for
> the phrase "blue pen".  The result of that query may
> be to tell them that there's 240 items available from
> 2 suppliers which match that phrase, and who those
> suppliers are.  They may pick one of the suppliers to
> see the list of "blue pens" available from that
> supplier.

To accomplish "search within search", or "search refinement", using a 
QueryFilter will do very nicely.

> In addition to wanting the set of attribute values
> found in the result documents we would also want to
> return counts of the number of documents each
> attribute value occurs in in the result document set.

Again, I think a QueryFilter can work well.  There are surely several 
ways to go about getting the number of documents in each bucket - 
perhaps additional queries should be made to give you those numbers, or 
perhaps walking the returned documents to get the unique values.  
Walking the documents could be expensive performance-wise though.  
Doing some sub-queries would be quite fast though.

> Efficient range queries.
>
> application) it's important to have some support for
> this.    The trick here is that the criteria may be
> very open ended.   For example all items with price
> greater than $10 might involve tens of thousands of
> prices.

One suggestion I've seen posted is during indexing to use an additional 
field as a "group".  In this case, it would be a price range group.  
Say "A" means $0 - $10, "B" for $10 - $100, "C" for $100+, for example. 
  Then you would only have a few terms in that field and a query would 
be quite fast.  The drawback is that you need to know at index-time 
what the groups are.

A custom range Filter is another option - and could be created at 
runtime and kept around and only recreated when the index is modified.  
Look at the built-in DateFilter for an example to work with.  This is a 
more pleasant option than doing a RangeQuery when the number of terms 
in the range is large.


> Order by attributes.
>
> We need the ability to order the document results set
> by a pre-defined set of numeric attributes and would
> like the ability to order on alphabetic attributes as
> well.

This is an area where Lucene falls short.  My best suggestion is to do 
the sorting yourself, which would require getting at all the documents 
in Hits, which for a large collection would be unreasonable.  There are 
tricks that can be played with boosting during indexing where you can 
tier the boosts of a field in order - but this is really only a hint to 
the scorer to factor the order into the equation but there are many 
other factors.

I'm afraid there is no easy solution here, that I'm aware of.

> I have resources for code development and consider it
> to be in Ariba's best interest to contribute any code
> that we write in this area with the entire community.
> Our time frame is to develop a proto-type in the next
> couple of months for proof of concept and
> benchmarking.

Excellent!  We hope that we can get Lucene under the covers of your 
products - please continue to post to us with more questions and 
hopefully eventually code improvements!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Dec 26 18:26:33 2003
Return-Path: 
 <lucene-user-return-6626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70011 invoked from network); 26 Dec 2003 18:26:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 26 Dec 2003 18:26:33 -0000
Received: (qmail 65220 invoked by uid 500); 26 Dec 2003 18:26:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65149 invoked by uid 500); 26 Dec 2003 18:26:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65123 invoked from network); 26 Dec 2003 18:26:15 -0000
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by daedalus.apache.org with SMTP; 26 Dec 2003 18:26:15 -0000
Received: from lucene.com (c-24-5-145-151.client.comcast.net[24.5.145.151])
          by comcast.net (rwcrmhc12) with SMTP
          id <20031226182619014000smspe>; Fri, 26 Dec 2003 18:26:19 +0000
Message-ID: <3FEC7D4B.6060909@lucene.com>
Date: Fri, 26 Dec 2003 10:26:19 -0800
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Developers List <lucene-dev@jakarta.apache.org>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Subject: new release: 1.3 final
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A new Lucene release is available.

It can be downloaded from:

   http://cvs.apache.org/dist/jakarta/lucene/v1.3-final/

Release notes are at:

 
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.65

Happy Holidays!

Doug



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Dec 28 16:24:21 2003
Return-Path: 
 <lucene-user-return-6627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27310 invoked from network); 28 Dec 2003 16:24:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Dec 2003 16:24:21 -0000
Received: (qmail 54788 invoked by uid 500); 28 Dec 2003 16:24:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54688 invoked by uid 500); 28 Dec 2003 16:24:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54674 invoked from network); 28 Dec 2003 16:24:09 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 28 Dec 2003 16:24:09 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Aadi7-0002NP-00
	for lucene-user@jakarta.apache.org; Sun, 28 Dec 2003 17:24:11 +0100
Received: from [80.128.68.254] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Aadi6-0000er-00
	for lucene-user@jakarta.apache.org; Sun, 28 Dec 2003 17:24:10 +0100
Received: by eco (Postfix, from userid 1000)
	id 6232A122AB; Sun, 28 Dec 2003 17:24:38 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="L8sMMBqR+m"
Content-Transfer-Encoding: 7bit
Message-ID: <16367.966.191362.389052@onlinehome.de>
Date: Sun, 28 Dec 2003 17:24:38 +0100
To: lucene-user@jakarta.apache.org
Subject: RE: Query Parser AND / OR
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--L8sMMBqR+m
Content-Type: text/plain; charset=us-ascii
Content-Description: message body text
Content-Transfer-Encoding: 7bit

Jamie Stallwood wrote:

> What Morus is saying is right, an expression without parenthesis, when
> interpreted, assumes terms on either side of an AND clause are compulsory
> terms, and any terms on either side of an OR clause are optional. However,
> if you combine AND and OR in an expression, the optional terms have no
> effect because the others are compulsory.
>
> What needs to be done is that the query parse should process any query
> string that has AND, and "put brackets" round it first. As it stands it is
> no use, as the OR does not work in the way you would think. AND should be
> given implicit priority.

I had a closer look at this and wrote a patch, that implements this by 
changing the vector of boolean clauses into a vector of vectors of boolean 
clauses in the addClause method of the query parser. A new sub-vector is
created whenever an explicit OR operator is used.

Queries using explicit AND/OR are grouped by precedence of AND over OR.
That is a OR b AND c gets a OR (b AND c).

Queries using implicit AND/OR (depending on the default operator) are handled
as before (so one can still use a +b -c to create one boolean query, where
b is required, c forbidden and a optional).

It's less clear how a query using both explizit AND/OR and implicit operators
should be handled.
Since the patch groups on explicit OR operators a query
a OR b c is read as a (b c)
whereas
a AND b c as +a +b c
(given that default operator or is used).

There's one issue left:
The old query parser reads  a query 
`a OR NOT b' as `a -b' which is the same as `a AND NOT b'.
The modified query parser reads this as `a (-b)'.
While this looks better (at least to me), it does not produce the result
of a OR NOT b. Instead the (-b) part seems to be silently dropped.
While I understand that this query is illegal (just searching for one negative
term) I don't think that silently dropping this part is an appropriate
way to deal with that. But I don't think that's a query parser issue.
The only question is, if the query parser should take care of that. 

I attached the patch (made against 1.3rc3 but working for 1.3final as well)
and a test program.
The test program parses a number of queries with default-or and default-and
operator and reparses the result of the toString method of the created query.
It outputs the initial query, the parsed query with default or, the reparesed
query, the parsed query with the default and it's reparsed query.
If called with a -q option, it also run's the queries against an index 
consisting of all documentes containing one or none a b c or d.
Using an unpatched and a patched version of lucene in the classpath one
can look at the effect of the patch in detail.

I'm interested in your comments. Given that noone objects the patch, I'd enter
a bug report, so it doesn't get lost.

Morus



--L8sMMBqR+m
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--L8sMMBqR+m--

From MAILER-DAEMON Sun Dec 28 16:46:07 2003
Return-Path: 
 <lucene-user-return-6628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32809 invoked from network); 28 Dec 2003 16:46:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Dec 2003 16:46:07 -0000
Received: (qmail 69072 invoked by uid 500); 28 Dec 2003 16:45:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68725 invoked by uid 500); 28 Dec 2003 16:45:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68712 invoked from network); 28 Dec 2003 16:45:55 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 28 Dec 2003 16:45:55 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Aae3C-0004DO-00
	for lucene-user@jakarta.apache.org; Sun, 28 Dec 2003 17:45:58 +0100
Received: from [80.128.77.142] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Aae3B-0001rz-00
	for lucene-user@jakarta.apache.org; Sun, 28 Dec 2003 17:45:57 +0100
Received: by eco (Postfix, from userid 1000)
	id 94921122B9; Sun, 28 Dec 2003 17:46:25 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16367.2273.546534.719218@onlinehome.de>
Date: Sun, 28 Dec 2003 17:46:25 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query Parser AND / OR
In-Reply-To: <16367.966.191362.389052@onlinehome.de>
References: <16367.966.191362.389052@onlinehome.de>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter writes:
> 
> I attached the patch (made against 1.3rc3 but working for 1.3final as well)
> and a test program.

Seems the attachments got stripped...

So once again:

The patch:

===File lucene/QueryParser.jj.patch===============
*** QueryParser.jj.org	Mon Dec 22 11:47:30 2003
--- QueryParser.jj	Mon Dec 22 13:20:57 2003
***************
*** 233,255 ****
  
    protected void addClause(Vector clauses, int conj, int mods, Query q) {
      boolean required, prohibited;
! 
!     // If this term is introduced by AND, make the preceding term required,
      // unless it's already prohibited
      if (conj == CONJ_AND) {
!       BooleanClause c = (BooleanClause) clauses.elementAt(clauses.size()-1);
!       if (!c.prohibited)
!         c.required = true;
!     }
! 
!     if (operator == DEFAULT_OPERATOR_AND && conj == CONJ_OR) {
!       // If this term is introduced by OR, make the preceding term optional,
!       // unless it's prohibited (that means we leave -a OR b but +a OR b-->a OR b)
!       // notice if the input is a OR b, first term is parsed as required; without
!       // this modification a OR b would parsed as +a OR b
!       BooleanClause c = (BooleanClause) clauses.elementAt(clauses.size()-1);
!       if (!c.prohibited)
!         c.required = false;
      }
  
      // We might have been passed a null query; the term might have been
--- 233,249 ----
  
    protected void addClause(Vector clauses, int conj, int mods, Query q) {
      boolean required, prohibited;
!     //  System.out.println(conj+ " " + mods + " " + q.toString("text"));
!     // If this term is introduced by AND, check if the previous term is the 
!     // first term in this or-group and make that term required,
      // unless it's already prohibited
      if (conj == CONJ_AND) {
! 	Vector clauses2 = (Vector)clauses.elementAt(clauses.size()-1);
! 	//if ( clauses2.size() == 1 ) {
! 	    BooleanClause c = (BooleanClause) clauses2.elementAt(clauses2.size()-1);
! 	    if (!c.prohibited)
! 		c.required = true;
! 	    //}
      }
  
      // We might have been passed a null query; the term might have been
***************
*** 257,277 ****
      if (q == null)
        return;
  
      if (operator == DEFAULT_OPERATOR_OR) {
-       // We set REQUIRED if we're introduced by AND or +; PROHIBITED if
        // introduced by NOT or -; make sure not to set both.
        prohibited = (mods == MOD_NOT);
!       required = (mods == MOD_REQ);
!       if (conj == CONJ_AND && !prohibited) {
!         required = true;
!       }
!     } else {
!       // We set PROHIBITED if we're introduced by NOT or -; We set REQUIRED
!       // if not PROHIBITED and not introduced by OR
        prohibited = (mods == MOD_NOT);
!       required   = (!prohibited && conj != CONJ_OR);
      }
!     clauses.addElement(new BooleanClause(q, required, prohibited));
    }
  
    /**
--- 251,279 ----
      if (q == null)
        return;
  
+     // start new or-group if there's an explit or
+     if ( conj == CONJ_OR ) {
+ 	clauses.addElement(new Vector());
+     }
+ 
      if (operator == DEFAULT_OPERATOR_OR) {
        // introduced by NOT or -; make sure not to set both.
        prohibited = (mods == MOD_NOT);
!       // for explizit conjunctions: set required to true
!       if ( conj == CONJ_AND ) {
! 	  required = true;
!       }
!       else {
! 	  // default OR -> required only when requested
! 	  required = (mods == MOD_REQ);
!       }
!     } else { // operator == DEFAULT_OPERATOR_AND
!       // We set PROHIBITED if we're introduced by NOT or -
        prohibited = (mods == MOD_NOT);
!       // always REQUIRED unless PROHIBITED
!       required   = (!prohibited);
      }
!     ((Vector)clauses.elementAt(clauses.size()-1)).addElement(new BooleanClause(q, required, prohibited));
    }
  
    /**
***************
*** 359,369 ****
     */
    protected Query getBooleanQuery(Vector clauses) throws ParseException
    {
!     BooleanQuery query = new BooleanQuery();
!     for (int i = 0; i < clauses.size(); i++) {
! 	query.add((BooleanClause)clauses.elementAt(i));
!     }
!     return query;
    }
  
    /**
--- 361,389 ----
     */
    protected Query getBooleanQuery(Vector clauses) throws ParseException
    {
!       BooleanQuery query = new BooleanQuery(); 
!       if ( clauses.size() == 1 ) {
! 	  clauses = (Vector)clauses.elementAt(0);
! 	  for (int i = 0; i < clauses.size(); i++) {
! 	      query.add((BooleanClause)clauses.elementAt(i));
! 	  }
!       }
!       else {
! 	  for ( int i = 0; i < clauses.size(); i++ ) {
! 	      Vector clauses2 = (Vector)clauses.elementAt(i);
! 	      if ( clauses2.size() == 1 && ((BooleanClause)clauses2.elementAt(0)).prohibited == false ) {
! 		  query.add(new BooleanClause(((BooleanClause)clauses2.elementAt(0)).query, false, false));
! 	      }
! 	      else if ( clauses2.size() >= 1 ) {
! 		 BooleanQuery query2 = new BooleanQuery();
! 		 for ( int j = 0; j < clauses2.size(); j++ ) {
! 		     query2.add((BooleanClause)clauses2.elementAt(j));
! 		 }
! 		 query.add(new BooleanClause(query2, false, false));
! 	     }
! 	  }
!       }
!      return query;
    }
  
    /**
***************
*** 551,556 ****
--- 571,577 ----
  Query Query(String field) :
  {
    Vector clauses = new Vector();
+   clauses.addElement(new Vector());
    Query q, firstQuery=null;
    int conj, mods;
  }
***************
*** 566,572 ****
      { addClause(clauses, conj, mods, q); }
    )*
      {
!       if (clauses.size() == 1 && firstQuery != null)
          return firstQuery;
        else {
  	return getBooleanQuery(clauses);
--- 587,593 ----
      { addClause(clauses, conj, mods, q); }
    )*
      {
!       if (clauses.size() == 1 && ((Vector)clauses.elementAt(0)).size() == 1 && firstQuery != null)
          return firstQuery;
        else {
  	return getBooleanQuery(clauses);
============================================================

and the test program:

===File lucene/LuceneTest.java===============
import org.apache.lucene.document.*;
import org.apache.lucene.analysis.*;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.*;
import org.apache.lucene.store.*;
import org.apache.lucene.search.*;
import org.apache.lucene.queryParser.QueryParser;

class LuceneTest 
{
    static String[] docs = {
        "a", "b", "c", "d", 
        "a b", "a c", "a d", "b c", "b d", "c d", 
        "a b c", "a b d", "a c d", "b c d", 
        "a b c d"
    };

    static String[] queries = {
        "a OR b AND c",
        "(a OR b) AND c",
        "a OR (b AND c)",
        "a AND b",
        "a AND b OR c AND d",
        "(a AND b) OR (c AND d)",
        "a AND (b OR c) AND d",
        "((a AND b) OR c) AND d",
        "a AND (b OR (c AND d))",
        "a AND b AND c AND d",

        "a OR b AND NOT c",
        "(a OR b) AND NOT c",
        "a OR (b AND NOT c)",
        "a AND NOT d",
        "a AND NOT b OR c AND NOT d",
        "(a AND NOT b) OR (c AND NOT d)",
        "a AND NOT (b OR c) AND NOT d",
        "((a AND NOT b) OR c) AND NOT d",
        "a AND NOT (b OR (c AND NOT d))",
        "a AND NOT b AND NOT c AND NOT d",
	
	"a OR NOT b",
	"a OR NOT a",

	"a b",
	"a b c",
	"a b (c d e)",
	"+a +b",
	"a -b",
	"a +b -c",
	"+a b -c",
	"+a -b c",
	"a -b -c",
	"-a b c",

	"a OR b c AND d",
	"a OR b c",
	"a AND b c",
	"a OR b c OR d",
	"a OR b c d OR e",
	"a AND b c AND d",
	"a AND b c d AND e"
    };

    public static void main(String argv[]) throws Exception {
        Directory dir = new RAMDirectory();
        String[] stop = {};
        Analyzer analyzer = new StandardAnalyzer(stop);
        
        IndexWriter writer = new IndexWriter(dir, analyzer, true);

        for ( int i=0; i < docs.length; i++ ) {
            Document doc = new Document();
            doc.add(Field.Text("text", docs[i]));
            writer.addDocument(doc);
        }
        writer.close();

        Searcher searcher = new IndexSearcher(dir);
        for ( int i=0; i < queries.length; i++ ) {
	    QueryParser parser = new QueryParser("text", analyzer);
	    parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

	    Query [] query = new Query[4];

            query[0] = QueryParser.parse(queries[i], "text", analyzer);
	    query[1] = QueryParser.parse(query[0].toString("text"), "text", analyzer);
	    query[2] = parser.parse(queries[i]);
	    query[3] = QueryParser.parse(query[2].toString("text"), "text", analyzer);

            System.out.println(i + ": " + queries[i] + " ==> " + query[0].toString("text") + " -> " + query[1].toString("text") + " / " + query[2].toString("text") + " -> " + query[3].toString("text"));
	    if ( argv.length > 0 && argv[0].equals("-q") ) {
		for ( int k=0; k<4; k++ ) {
		    Hits hits = searcher.search(query[k]);
		    System.out.println(k + " " + query[k].toString("text") + "\t" + hits.length() + " documents found");
		    for ( int j=0; j < hits.length(); j++ ) {
			Document doc = hits.doc(j);
			System.out.println("\t"+doc.get("text"));
		    }
		}
	    }
        }
    }
}
============================================================

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 00:11:38 2003
Return-Path: 
 <lucene-user-return-6629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54169 invoked from network); 29 Dec 2003 00:11:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 00:11:38 -0000
Received: (qmail 16558 invoked by uid 500); 29 Dec 2003 00:11:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16518 invoked by uid 500); 29 Dec 2003 00:11:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16505 invoked from network); 29 Dec 2003 00:11:17 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 29 Dec 2003 00:11:17 -0000
Received: (cpmta 149 invoked from network); 28 Dec 2003 16:11:23 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.101?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 28 Dec 2003 16:11:23 -0800
X-Sent: 29 Dec 2003 00:11:23 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <16367.2273.546534.719218@onlinehome.de>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Parser AND / OR
Date: Sun, 28 Dec 2003 19:11:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus,

I haven't had time to think through all of the issues and the patch you 
submitted, but I suggest that you go ahead and attach this to a 
Bugzilla issue so that it can be addressed more formally and avoid 
being lost in the mounds of e-mail we all get.

Thanks,
	Erik


On Dec 28, 2003, at 11:46 AM, Morus Walter wrote:

> Morus Walter writes:
>>
>> I attached the patch (made against 1.3rc3 but working for 1.3final as 
>> well)
>> and a test program.
>
> Seems the attachments got stripped...
>
> So once again:
>
> The patch:
>
> ===File lucene/QueryParser.jj.patch===============
> *** QueryParser.jj.org	Mon Dec 22 11:47:30 2003
> --- QueryParser.jj	Mon Dec 22 13:20:57 2003
> ***************
> *** 233,255 ****
>
>     protected void addClause(Vector clauses, int conj, int mods, Query 
> q) {
>       boolean required, prohibited;
> !
> !     // If this term is introduced by AND, make the preceding term 
> required,
>       // unless it's already prohibited
>       if (conj == CONJ_AND) {
> !       BooleanClause c = (BooleanClause) 
> clauses.elementAt(clauses.size()-1);
> !       if (!c.prohibited)
> !         c.required = true;
> !     }
> !
> !     if (operator == DEFAULT_OPERATOR_AND && conj == CONJ_OR) {
> !       // If this term is introduced by OR, make the preceding term 
> optional,
> !       // unless it's prohibited (that means we leave -a OR b but +a 
> OR b-->a OR b)
> !       // notice if the input is a OR b, first term is parsed as 
> required; without
> !       // this modification a OR b would parsed as +a OR b
> !       BooleanClause c = (BooleanClause) 
> clauses.elementAt(clauses.size()-1);
> !       if (!c.prohibited)
> !         c.required = false;
>       }
>
>       // We might have been passed a null query; the term might have 
> been
> --- 233,249 ----
>
>     protected void addClause(Vector clauses, int conj, int mods, Query 
> q) {
>       boolean required, prohibited;
> !     //  System.out.println(conj+ " " + mods + " " + 
> q.toString("text"));
> !     // If this term is introduced by AND, check if the previous term 
> is the
> !     // first term in this or-group and make that term required,
>       // unless it's already prohibited
>       if (conj == CONJ_AND) {
> ! 	Vector clauses2 = (Vector)clauses.elementAt(clauses.size()-1);
> ! 	//if ( clauses2.size() == 1 ) {
> ! 	    BooleanClause c = (BooleanClause) 
> clauses2.elementAt(clauses2.size()-1);
> ! 	    if (!c.prohibited)
> ! 		c.required = true;
> ! 	    //}
>       }
>
>       // We might have been passed a null query; the term might have 
> been
> ***************
> *** 257,277 ****
>       if (q == null)
>         return;
>
>       if (operator == DEFAULT_OPERATOR_OR) {
> -       // We set REQUIRED if we're introduced by AND or +; PROHIBITED 
> if
>         // introduced by NOT or -; make sure not to set both.
>         prohibited = (mods == MOD_NOT);
> !       required = (mods == MOD_REQ);
> !       if (conj == CONJ_AND && !prohibited) {
> !         required = true;
> !       }
> !     } else {
> !       // We set PROHIBITED if we're introduced by NOT or -; We set 
> REQUIRED
> !       // if not PROHIBITED and not introduced by OR
>         prohibited = (mods == MOD_NOT);
> !       required   = (!prohibited && conj != CONJ_OR);
>       }
> !     clauses.addElement(new BooleanClause(q, required, prohibited));
>     }
>
>     /**
> --- 251,279 ----
>       if (q == null)
>         return;
>
> +     // start new or-group if there's an explit or
> +     if ( conj == CONJ_OR ) {
> + 	clauses.addElement(new Vector());
> +     }
> +
>       if (operator == DEFAULT_OPERATOR_OR) {
>         // introduced by NOT or -; make sure not to set both.
>         prohibited = (mods == MOD_NOT);
> !       // for explizit conjunctions: set required to true
> !       if ( conj == CONJ_AND ) {
> ! 	  required = true;
> !       }
> !       else {
> ! 	  // default OR -> required only when requested
> ! 	  required = (mods == MOD_REQ);
> !       }
> !     } else { // operator == DEFAULT_OPERATOR_AND
> !       // We set PROHIBITED if we're introduced by NOT or -
>         prohibited = (mods == MOD_NOT);
> !       // always REQUIRED unless PROHIBITED
> !       required   = (!prohibited);
>       }
> !     ((Vector)clauses.elementAt(clauses.size()-1)).addElement(new 
> BooleanClause(q, required, prohibited));
>     }
>
>     /**
> ***************
> *** 359,369 ****
>      */
>     protected Query getBooleanQuery(Vector clauses) throws 
> ParseException
>     {
> !     BooleanQuery query = new BooleanQuery();
> !     for (int i = 0; i < clauses.size(); i++) {
> ! 	query.add((BooleanClause)clauses.elementAt(i));
> !     }
> !     return query;
>     }
>
>     /**
> --- 361,389 ----
>      */
>     protected Query getBooleanQuery(Vector clauses) throws 
> ParseException
>     {
> !       BooleanQuery query = new BooleanQuery();
> !       if ( clauses.size() == 1 ) {
> ! 	  clauses = (Vector)clauses.elementAt(0);
> ! 	  for (int i = 0; i < clauses.size(); i++) {
> ! 	      query.add((BooleanClause)clauses.elementAt(i));
> ! 	  }
> !       }
> !       else {
> ! 	  for ( int i = 0; i < clauses.size(); i++ ) {
> ! 	      Vector clauses2 = (Vector)clauses.elementAt(i);
> ! 	      if ( clauses2.size() == 1 && 
> ((BooleanClause)clauses2.elementAt(0)).prohibited == false ) {
> ! 		  query.add(new 
> BooleanClause(((BooleanClause)clauses2.elementAt(0)).query, false, 
> false));
> ! 	      }
> ! 	      else if ( clauses2.size() >= 1 ) {
> ! 		 BooleanQuery query2 = new BooleanQuery();
> ! 		 for ( int j = 0; j < clauses2.size(); j++ ) {
> ! 		     query2.add((BooleanClause)clauses2.elementAt(j));
> ! 		 }
> ! 		 query.add(new BooleanClause(query2, false, false));
> ! 	     }
> ! 	  }
> !       }
> !      return query;
>     }
>
>     /**
> ***************
> *** 551,556 ****
> --- 571,577 ----
>   Query Query(String field) :
>   {
>     Vector clauses = new Vector();
> +   clauses.addElement(new Vector());
>     Query q, firstQuery=null;
>     int conj, mods;
>   }
> ***************
> *** 566,572 ****
>       { addClause(clauses, conj, mods, q); }
>     )*
>       {
> !       if (clauses.size() == 1 && firstQuery != null)
>           return firstQuery;
>         else {
>   	return getBooleanQuery(clauses);
> --- 587,593 ----
>       { addClause(clauses, conj, mods, q); }
>     )*
>       {
> !       if (clauses.size() == 1 && 
> ((Vector)clauses.elementAt(0)).size() == 1 && firstQuery != null)
>           return firstQuery;
>         else {
>   	return getBooleanQuery(clauses);
> ============================================================
>
> and the test program:
>
> ===File lucene/LuceneTest.java===============
> import org.apache.lucene.document.*;
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.*;
> import org.apache.lucene.store.*;
> import org.apache.lucene.search.*;
> import org.apache.lucene.queryParser.QueryParser;
>
> class LuceneTest
> {
>     static String[] docs = {
>         "a", "b", "c", "d",
>         "a b", "a c", "a d", "b c", "b d", "c d",
>         "a b c", "a b d", "a c d", "b c d",
>         "a b c d"
>     };
>
>     static String[] queries = {
>         "a OR b AND c",
>         "(a OR b) AND c",
>         "a OR (b AND c)",
>         "a AND b",
>         "a AND b OR c AND d",
>         "(a AND b) OR (c AND d)",
>         "a AND (b OR c) AND d",
>         "((a AND b) OR c) AND d",
>         "a AND (b OR (c AND d))",
>         "a AND b AND c AND d",
>
>         "a OR b AND NOT c",
>         "(a OR b) AND NOT c",
>         "a OR (b AND NOT c)",
>         "a AND NOT d",
>         "a AND NOT b OR c AND NOT d",
>         "(a AND NOT b) OR (c AND NOT d)",
>         "a AND NOT (b OR c) AND NOT d",
>         "((a AND NOT b) OR c) AND NOT d",
>         "a AND NOT (b OR (c AND NOT d))",
>         "a AND NOT b AND NOT c AND NOT d",
> 	
> 	"a OR NOT b",
> 	"a OR NOT a",
>
> 	"a b",
> 	"a b c",
> 	"a b (c d e)",
> 	"+a +b",
> 	"a -b",
> 	"a +b -c",
> 	"+a b -c",
> 	"+a -b c",
> 	"a -b -c",
> 	"-a b c",
>
> 	"a OR b c AND d",
> 	"a OR b c",
> 	"a AND b c",
> 	"a OR b c OR d",
> 	"a OR b c d OR e",
> 	"a AND b c AND d",
> 	"a AND b c d AND e"
>     };
>
>     public static void main(String argv[]) throws Exception {
>         Directory dir = new RAMDirectory();
>         String[] stop = {};
>         Analyzer analyzer = new StandardAnalyzer(stop);
>
>         IndexWriter writer = new IndexWriter(dir, analyzer, true);
>
>         for ( int i=0; i < docs.length; i++ ) {
>             Document doc = new Document();
>             doc.add(Field.Text("text", docs[i]));
>             writer.addDocument(doc);
>         }
>         writer.close();
>
>         Searcher searcher = new IndexSearcher(dir);
>         for ( int i=0; i < queries.length; i++ ) {
> 	    QueryParser parser = new QueryParser("text", analyzer);
> 	    parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>
> 	    Query [] query = new Query[4];
>
>             query[0] = QueryParser.parse(queries[i], "text", analyzer);
> 	    query[1] = QueryParser.parse(query[0].toString("text"), "text", 
> analyzer);
> 	    query[2] = parser.parse(queries[i]);
> 	    query[3] = QueryParser.parse(query[2].toString("text"), "text", 
> analyzer);
>
>             System.out.println(i + ": " + queries[i] + " ==> " + 
> query[0].toString("text") + " -> " + query[1].toString("text") + " / " 
> + query[2].toString("text") + " -> " + query[3].toString("text"));
> 	    if ( argv.length > 0 && argv[0].equals("-q") ) {
> 		for ( int k=0; k<4; k++ ) {
> 		    Hits hits = searcher.search(query[k]);
> 		    System.out.println(k + " " + query[k].toString("text") + "\t" + 
> hits.length() + " documents found");
> 		    for ( int j=0; j < hits.length(); j++ ) {
> 			Document doc = hits.doc(j);
> 			System.out.println("\t"+doc.get("text"));
> 		    }
> 		}
> 	    }
>         }
>     }
> }
> ============================================================
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 06:06:37 2003
Return-Path: 
 <lucene-user-return-6630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58335 invoked from network); 29 Dec 2003 06:06:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 06:06:37 -0000
Received: (qmail 19897 invoked by uid 500); 29 Dec 2003 06:06:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19860 invoked by uid 500); 29 Dec 2003 06:06:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19847 invoked from network); 29 Dec 2003 06:06:11 -0000
Received: from unknown (HELO mail2.pershing.com) (199.53.214.82)
  by daedalus.apache.org with SMTP; 29 Dec 2003 06:06:11 -0000
Received: from plzlmh02.pershing.com ([172.19.110.13])
          by mail2.pershing.com (Lotus Domino 5012HF56)
          with ESMTP id 2003122900525615:316989 ;
          Mon, 29 Dec 2003 00:52:56 -0500
Subject: Shui Cheung Yip/JerseyCity/iNautix is out of the office.
From: syip@pershing.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: 
 <OF7068491D.40308489-ON85256E0B.00218062-85256E0B.00218062@pershing.com>
Date: Mon, 29 Dec 2003 01:05:55 -0500
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on PLZLMH02/Pershing(Release 5.0.12
  |February 13, 2003) at
 12/29/2003 01:05:57 AM,
	Itemize by SMTP Server on Pershing2/External(5012HF56 | June 24, 2003) at
 12/29/2003 12:52:56 AM,
	Serialize by Router on Pershing2/External(5012HF56 | June 24,
 2003) at 12/29/2003
 12:53:20 AM,
	Serialize complete at 12/29/2003 12:53:20 AM
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will be out of the office starting  12/25/2003 and will not return until
01/05/2004.

I will be out of the office starting 12/25/2003 and will not return until
01/05/2003.  I will respond to your message when I return. If this is an
emergency, please call me at 201-679-3185.

Thank you.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 14:48:50 2003
Return-Path: 
 <lucene-user-return-6631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38602 invoked from network); 29 Dec 2003 14:48:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 14:48:50 -0000
Received: (qmail 26955 invoked by uid 500); 29 Dec 2003 14:48:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26701 invoked by uid 500); 29 Dec 2003 14:48:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26685 invoked from network); 29 Dec 2003 14:48:40 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 29 Dec 2003 14:48:40 -0000
Received: from smail.uni-koeln.de (xdsl-195-14-205-184.netcologne.de
 [195.14.205.184])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBTEmdN6027349
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Dec 2003 15:48:40 +0100
Message-ID: <3FF03F48.6060806@smail.uni-koeln.de>
Date: Mon, 29 Dec 2003 15:50:48 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Types of field in index
References: <20031222214836.27451.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20031222214836.27451.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Thanks for that hint.
Digester is a very comfortable way to customize the indexing of xml
using lucene.
And it works fine except one thing:

According to the example in the article is set the addDocument method when reading the last element:



Otis Gospodnetic schrieb:
> I suggest you look at the Articles section of Lucene's site, in
> particular an article about XML, Lucene, and Digester. 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 14:55:47 2003
Return-Path: 
 <lucene-user-return-6632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41165 invoked from network); 29 Dec 2003 14:55:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 14:55:47 -0000
Received: (qmail 40700 invoked by uid 500); 29 Dec 2003 14:55:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40564 invoked by uid 500); 29 Dec 2003 14:55:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40551 invoked from network); 29 Dec 2003 14:55:37 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 29 Dec 2003 14:55:37 -0000
Received: from smail.uni-koeln.de (xdsl-195-14-205-184.netcologne.de
 [195.14.205.184])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBTEtbN6002579
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Dec 2003 15:55:38 +0100
Message-ID: <3FF040EB.8050804@smail.uni-koeln.de>
Date: Mon, 29 Dec 2003 15:57:47 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Types of field in index
References: <20031222214836.27451.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20031222214836.27451.qmail@web12703.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

 >> *sorry* for previous mail, sometimes shortkeys are not that helpful... >>

Thanks for that hint, Otis.
Digester is a very comfortable way to customize the indexing of xml
using lucene.
And it works fine except one thing:

According to the example in the article is set the addDocument (here: addRecord) method when reading 
the last element:

// call 'addContact' method when the next 'oaidc:dc' pattern is seen
     digester.addSetNext(("oaidc:dc", "addRecord");

but as each file contains only one opening <oaidc:dc> tag (and not as in the example: on 
adressbook-file contains various contact elements), how do i decide when to call the addRecord method?

i tried empty String and null, but it didn�t work.
is there a posibility to tell Digester what to to at endoffile?

Thanks a lot !



Otis Gospodnetic schrieb:
> I suggest you look at the Articles section of Lucene's site, in
> particular an article about XML, Lucene, and Digester. 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 16:27:08 2003
Return-Path: 
 <lucene-user-return-6633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77926 invoked from network); 29 Dec 2003 16:27:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 16:27:08 -0000
Received: (qmail 76392 invoked by uid 500); 29 Dec 2003 16:26:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76350 invoked by uid 500); 29 Dec 2003 16:26:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76337 invoked from network); 29 Dec 2003 16:26:56 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 29 Dec 2003 16:26:56 -0000
Message-ID: <20031229162659.97804.qmail@web12707.mail.yahoo.com>
Received: from [194.152.226.249] by web12707.mail.yahoo.com via HTTP;
 Mon, 29 Dec 2003 08:26:59 PST
Date: Mon, 29 Dec 2003 08:26:59 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Types of field in index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FF040EB.8050804@smail.uni-koeln.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe Digester is smart enough to call that method when it reaches
the end, even if the document contain only one of those elements you
mentioned.  I just saw this the other day when I used Digester to parse
some XML.

Otis


--- Thomas_Kr�mer <kraemert@smail.uni-koeln.de> wrote:
> Hello,
> 
>  >> *sorry* for previous mail, sometimes shortkeys are not that
> helpful... >>
> 
> Thanks for that hint, Otis.
> Digester is a very comfortable way to customize the indexing of xml
> using lucene.
> And it works fine except one thing:
> 
> According to the example in the article is set the addDocument (here:
> addRecord) method when reading 
> the last element:
> 
> // call 'addContact' method when the next 'oaidc:dc' pattern is seen
>      digester.addSetNext(("oaidc:dc", "addRecord");
> 
> but as each file contains only one opening <oaidc:dc> tag (and not as
> in the example: on 
> adressbook-file contains various contact elements), how do i decide
> when to call the addRecord method?
> 
> i tried empty String and null, but it didn�t work.
> is there a posibility to tell Digester what to to at endoffile?
> 
> Thanks a lot !
> 
> 
> 
> Otis Gospodnetic schrieb:
> > I suggest you look at the Articles section of Lucene's site, in
> > particular an article about XML, Lucene, and Digester. 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 20:07:40 2003
Return-Path: 
 <lucene-user-return-6634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56137 invoked from network); 29 Dec 2003 20:07:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 20:07:40 -0000
Received: (qmail 73896 invoked by uid 500); 29 Dec 2003 20:07:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73866 invoked by uid 500); 29 Dec 2003 20:07:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73853 invoked from network); 29 Dec 2003 20:07:19 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 29 Dec 2003 20:07:19 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 841715D22
	for <lucene-user@jakarta.apache.org>; Mon, 29 Dec 2003 12:07:24 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBTK7OOg014121
	for lucene-user@jakarta.apache.org; Mon, 29 Dec 2003 12:07:24 -0800 (PST)
	(envelope-from dror)
Date: Mon, 29 Dec 2003 12:07:24 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031229200724.GP95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

my $.02.

Before having patches, I think it's a good idea to agree on what the
"right" solution is. Most of it is obvious using boolean logic, but we
have some additional requirements like not having a query that only has
a NOT clause. Is this the only exception?


As far as the actual patch, I would suspect that a better approach than
using java would be to use precedence operations in the actual parser.
I've never used javacc, and it's been years since I've used yacc/bison,
but one of the basic capbilities in parsers is to define precedence. It
should be quite easy to fix it this way, and it should be more "bullet
proof."  I looked a bit at the javacc code, but I don't really have the
time right now to analyze it. It certainly seems like the strategy of
having all the operators together is problematic:

<DEFAULT> TOKEN : {
	  <AND:       ("AND" | "&&") >
		| <OR:        ("OR" | "||") >
		| <NOT:       ("NOT" | "!") >
		| <PLUS:      "+" >
		| <MINUS:     "-" >
		| <LPAREN:    "(" >
		| <RPAREN:    ")" >
		| <COLON:     ":" >
		| <CARAT:     "^" > : Boost
		| <QUOTED:     "\"" (~["\""])+ "\"">
		| <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
		| <FUZZY:     "~" >
		| <SLOP:      "~" (<_NUM_CHAR>)+ >
		| <PREFIXTERM:  <_TERM_START_CHAR> (<_TERM_CHAR>)* "*" >
		| <WILDTERM:  <_TERM_START_CHAR>
		              (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
									| <RANGEIN_START: "[" > : RangeIn
									| <RANGEEX_START: "{" > : RangeEx
}

Something like http://www.lysator.liu.se/c/ANSI-C-grammar-y.html where
different operators are grouped differently according to precedence
would work better.

As is often the case, trying to *correctly* parse a string is not
trivial.

Regards,

Dror



On Sun, Dec 28, 2003 at 07:11:22PM -0500, Erik Hatcher wrote:
> Morus,
> 
> I haven't had time to think through all of the issues and the patch you 
> submitted, but I suggest that you go ahead and attach this to a 
> Bugzilla issue so that it can be addressed more formally and avoid 
> being lost in the mounds of e-mail we all get.
> 
> Thanks,
> 	Erik
> 
> 
> On Dec 28, 2003, at 11:46 AM, Morus Walter wrote:
> 
> >Morus Walter writes:
> >>
> >>I attached the patch (made against 1.3rc3 but working for 1.3final as 
> >>well)
> >>and a test program.
> >
> >Seems the attachments got stripped...
> >
> >So once again:
> >
> >The patch:
> >
> >===File lucene/QueryParser.jj.patch===============
> >*** QueryParser.jj.org	Mon Dec 22 11:47:30 2003
> >--- QueryParser.jj	Mon Dec 22 13:20:57 2003
> >***************
> >*** 233,255 ****
> >
> >    protected void addClause(Vector clauses, int conj, int mods, Query 
> >q) {
> >      boolean required, prohibited;
> >!
> >!     // If this term is introduced by AND, make the preceding term 
> >required,
> >      // unless it's already prohibited
> >      if (conj == CONJ_AND) {
> >!       BooleanClause c = (BooleanClause) 
> >clauses.elementAt(clauses.size()-1);
> >!       if (!c.prohibited)
> >!         c.required = true;
> >!     }
> >!
> >!     if (operator == DEFAULT_OPERATOR_AND && conj == CONJ_OR) {
> >!       // If this term is introduced by OR, make the preceding term 
> >optional,
> >!       // unless it's prohibited (that means we leave -a OR b but +a 
> >OR b-->a OR b)
> >!       // notice if the input is a OR b, first term is parsed as 
> >required; without
> >!       // this modification a OR b would parsed as +a OR b
> >!       BooleanClause c = (BooleanClause) 
> >clauses.elementAt(clauses.size()-1);
> >!       if (!c.prohibited)
> >!         c.required = false;
> >      }
> >
> >      // We might have been passed a null query; the term might have 
> >been
> >--- 233,249 ----
> >
> >    protected void addClause(Vector clauses, int conj, int mods, Query 
> >q) {
> >      boolean required, prohibited;
> >!     //  System.out.println(conj+ " " + mods + " " + 
> >q.toString("text"));
> >!     // If this term is introduced by AND, check if the previous term 
> >is the
> >!     // first term in this or-group and make that term required,
> >      // unless it's already prohibited
> >      if (conj == CONJ_AND) {
> >! 	Vector clauses2 = (Vector)clauses.elementAt(clauses.size()-1);
> >! 	//if ( clauses2.size() == 1 ) {
> >! 	    BooleanClause c = (BooleanClause) 
> >clauses2.elementAt(clauses2.size()-1);
> >! 	    if (!c.prohibited)
> >! 		c.required = true;
> >! 	    //}
> >      }
> >
> >      // We might have been passed a null query; the term might have 
> >been
> >***************
> >*** 257,277 ****
> >      if (q == null)
> >        return;
> >
> >      if (operator == DEFAULT_OPERATOR_OR) {
> >-       // We set REQUIRED if we're introduced by AND or +; PROHIBITED 
> >if
> >        // introduced by NOT or -; make sure not to set both.
> >        prohibited = (mods == MOD_NOT);
> >!       required = (mods == MOD_REQ);
> >!       if (conj == CONJ_AND && !prohibited) {
> >!         required = true;
> >!       }
> >!     } else {
> >!       // We set PROHIBITED if we're introduced by NOT or -; We set 
> >REQUIRED
> >!       // if not PROHIBITED and not introduced by OR
> >        prohibited = (mods == MOD_NOT);
> >!       required   = (!prohibited && conj != CONJ_OR);
> >      }
> >!     clauses.addElement(new BooleanClause(q, required, prohibited));
> >    }
> >
> >    /**
> >--- 251,279 ----
> >      if (q == null)
> >        return;
> >
> >+     // start new or-group if there's an explit or
> >+     if ( conj == CONJ_OR ) {
> >+ 	clauses.addElement(new Vector());
> >+     }
> >+
> >      if (operator == DEFAULT_OPERATOR_OR) {
> >        // introduced by NOT or -; make sure not to set both.
> >        prohibited = (mods == MOD_NOT);
> >!       // for explizit conjunctions: set required to true
> >!       if ( conj == CONJ_AND ) {
> >! 	  required = true;
> >!       }
> >!       else {
> >! 	  // default OR -> required only when requested
> >! 	  required = (mods == MOD_REQ);
> >!       }
> >!     } else { // operator == DEFAULT_OPERATOR_AND
> >!       // We set PROHIBITED if we're introduced by NOT or -
> >        prohibited = (mods == MOD_NOT);
> >!       // always REQUIRED unless PROHIBITED
> >!       required   = (!prohibited);
> >      }
> >!     ((Vector)clauses.elementAt(clauses.size()-1)).addElement(new 
> >BooleanClause(q, required, prohibited));
> >    }
> >
> >    /**
> >***************
> >*** 359,369 ****
> >     */
> >    protected Query getBooleanQuery(Vector clauses) throws 
> >ParseException
> >    {
> >!     BooleanQuery query = new BooleanQuery();
> >!     for (int i = 0; i < clauses.size(); i++) {
> >! 	query.add((BooleanClause)clauses.elementAt(i));
> >!     }
> >!     return query;
> >    }
> >
> >    /**
> >--- 361,389 ----
> >     */
> >    protected Query getBooleanQuery(Vector clauses) throws 
> >ParseException
> >    {
> >!       BooleanQuery query = new BooleanQuery();
> >!       if ( clauses.size() == 1 ) {
> >! 	  clauses = (Vector)clauses.elementAt(0);
> >! 	  for (int i = 0; i < clauses.size(); i++) {
> >! 	      query.add((BooleanClause)clauses.elementAt(i));
> >! 	  }
> >!       }
> >!       else {
> >! 	  for ( int i = 0; i < clauses.size(); i++ ) {
> >! 	      Vector clauses2 = (Vector)clauses.elementAt(i);
> >! 	      if ( clauses2.size() == 1 && 
> >((BooleanClause)clauses2.elementAt(0)).prohibited == false ) {
> >! 		  query.add(new 
> >BooleanClause(((BooleanClause)clauses2.elementAt(0)).query, false, 
> >false));
> >! 	      }
> >! 	      else if ( clauses2.size() >= 1 ) {
> >! 		 BooleanQuery query2 = new BooleanQuery();
> >! 		 for ( int j = 0; j < clauses2.size(); j++ ) {
> >! 		     query2.add((BooleanClause)clauses2.elementAt(j));
> >! 		 }
> >! 		 query.add(new BooleanClause(query2, false, false));
> >! 	     }
> >! 	  }
> >!       }
> >!      return query;
> >    }
> >
> >    /**
> >***************
> >*** 551,556 ****
> >--- 571,577 ----
> >  Query Query(String field) :
> >  {
> >    Vector clauses = new Vector();
> >+   clauses.addElement(new Vector());
> >    Query q, firstQuery=null;
> >    int conj, mods;
> >  }
> >***************
> >*** 566,572 ****
> >      { addClause(clauses, conj, mods, q); }
> >    )*
> >      {
> >!       if (clauses.size() == 1 && firstQuery != null)
> >          return firstQuery;
> >        else {
> >  	return getBooleanQuery(clauses);
> >--- 587,593 ----
> >      { addClause(clauses, conj, mods, q); }
> >    )*
> >      {
> >!       if (clauses.size() == 1 && 
> >((Vector)clauses.elementAt(0)).size() == 1 && firstQuery != null)
> >          return firstQuery;
> >        else {
> >  	return getBooleanQuery(clauses);
> >============================================================
> >
> >and the test program:
> >
> >===File lucene/LuceneTest.java===============
> >import org.apache.lucene.document.*;
> >import org.apache.lucene.analysis.*;
> >import org.apache.lucene.analysis.standard.StandardAnalyzer;
> >import org.apache.lucene.index.*;
> >import org.apache.lucene.store.*;
> >import org.apache.lucene.search.*;
> >import org.apache.lucene.queryParser.QueryParser;
> >
> >class LuceneTest
> >{
> >    static String[] docs = {
> >        "a", "b", "c", "d",
> >        "a b", "a c", "a d", "b c", "b d", "c d",
> >        "a b c", "a b d", "a c d", "b c d",
> >        "a b c d"
> >    };
> >
> >    static String[] queries = {
> >        "a OR b AND c",
> >        "(a OR b) AND c",
> >        "a OR (b AND c)",
> >        "a AND b",
> >        "a AND b OR c AND d",
> >        "(a AND b) OR (c AND d)",
> >        "a AND (b OR c) AND d",
> >        "((a AND b) OR c) AND d",
> >        "a AND (b OR (c AND d))",
> >        "a AND b AND c AND d",
> >
> >        "a OR b AND NOT c",
> >        "(a OR b) AND NOT c",
> >        "a OR (b AND NOT c)",
> >        "a AND NOT d",
> >        "a AND NOT b OR c AND NOT d",
> >        "(a AND NOT b) OR (c AND NOT d)",
> >        "a AND NOT (b OR c) AND NOT d",
> >        "((a AND NOT b) OR c) AND NOT d",
> >        "a AND NOT (b OR (c AND NOT d))",
> >        "a AND NOT b AND NOT c AND NOT d",
> >	
> >	"a OR NOT b",
> >	"a OR NOT a",
> >
> >	"a b",
> >	"a b c",
> >	"a b (c d e)",
> >	"+a +b",
> >	"a -b",
> >	"a +b -c",
> >	"+a b -c",
> >	"+a -b c",
> >	"a -b -c",
> >	"-a b c",
> >
> >	"a OR b c AND d",
> >	"a OR b c",
> >	"a AND b c",
> >	"a OR b c OR d",
> >	"a OR b c d OR e",
> >	"a AND b c AND d",
> >	"a AND b c d AND e"
> >    };
> >
> >    public static void main(String argv[]) throws Exception {
> >        Directory dir = new RAMDirectory();
> >        String[] stop = {};
> >        Analyzer analyzer = new StandardAnalyzer(stop);
> >
> >        IndexWriter writer = new IndexWriter(dir, analyzer, true);
> >
> >        for ( int i=0; i < docs.length; i++ ) {
> >            Document doc = new Document();
> >            doc.add(Field.Text("text", docs[i]));
> >            writer.addDocument(doc);
> >        }
> >        writer.close();
> >
> >        Searcher searcher = new IndexSearcher(dir);
> >        for ( int i=0; i < queries.length; i++ ) {
> >	    QueryParser parser = new QueryParser("text", analyzer);
> >	    parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> >
> >	    Query [] query = new Query[4];
> >
> >            query[0] = QueryParser.parse(queries[i], "text", analyzer);
> >	    query[1] = QueryParser.parse(query[0].toString("text"), "text", 
> >analyzer);
> >	    query[2] = parser.parse(queries[i]);
> >	    query[3] = QueryParser.parse(query[2].toString("text"), "text", 
> >analyzer);
> >
> >            System.out.println(i + ": " + queries[i] + " ==> " + 
> >query[0].toString("text") + " -> " + query[1].toString("text") + " / " 
> >+ query[2].toString("text") + " -> " + query[3].toString("text"));
> >	    if ( argv.length > 0 && argv[0].equals("-q") ) {
> >		for ( int k=0; k<4; k++ ) {
> >		    Hits hits = searcher.search(query[k]);
> >		    System.out.println(k + " " + query[k].toString("text") + 
> >		    "\t" + hits.length() + " documents found");
> >		    for ( int j=0; j < hits.length(); j++ ) {
> >			Document doc = hits.doc(j);
> >			System.out.println("\t"+doc.get("text"));
> >		    }
> >		}
> >	    }
> >        }
> >    }
> >}
> >============================================================
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Dec 29 22:35:45 2003
Return-Path: 
 <lucene-user-return-6635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11408 invoked from network); 29 Dec 2003 22:35:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Dec 2003 22:35:45 -0000
Received: (qmail 36174 invoked by uid 500); 29 Dec 2003 22:35:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36148 invoked by uid 500); 29 Dec 2003 22:35:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36132 invoked from network); 29 Dec 2003 22:35:27 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 29 Dec 2003 22:35:27 -0000
Received: from smail.uni-koeln.de (xdsl-213-196-212-70.netcologne.de
 [213.196.212.70])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBTMZTN6024094
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 29 Dec 2003 23:35:32 +0100
Message-ID: <3FF0ACB0.1070301@smail.uni-koeln.de>
Date: Mon, 29 Dec 2003 23:37:36 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Search all instead of specified/default field
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

i am using lucene to index simple metadata records, that consist of fields such as creator, 
description, identifier etc.

with the apache commons digester i can read each record into a lucene document and push each tag as 
key-value pair, where the tag name (eg. creator) is the lucene field name and the text enclosed by 
it the corresponding string value.

for a lot of purposes it is much more comfortable to have the possibility to search over all fields.

does an alternative exist to performing as many queries as there are fields in the index
(all the same term but different fields)?

Regards

Thomas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 00:35:34 2003
Return-Path: 
 <lucene-user-return-6636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50924 invoked from network); 30 Dec 2003 00:35:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 00:35:34 -0000
Received: (qmail 87784 invoked by uid 500); 30 Dec 2003 00:35:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87484 invoked by uid 500); 30 Dec 2003 00:35:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87471 invoked from network); 30 Dec 2003 00:35:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 30 Dec 2003 00:35:13 -0000
Received: (cpmta 20827 invoked from network); 29 Dec 2003 16:35:21 -0800
Received: from 24.51.109.181 (HELO ?192.168.1.101?)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 29 Dec 2003 16:35:21 -0800
X-Sent: 30 Dec 2003 00:35:21 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <3FF0ACB0.1070301@smail.uni-koeln.de>
References: <3FF0ACB0.1070301@smail.uni-koeln.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <0A8970E8-3A60-11D8-8D63-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search all instead of specified/default field
Date: Mon, 29 Dec 2003 19:35:17 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 29, 2003, at 5:37 PM, Thomas Kr=E4mer wrote:
> with the apache commons digester i can read each record into a lucene=20=

> document and push each tag as key-value pair, where the tag name (eg.=20=

> creator) is the lucene field name and the text enclosed by it the=20
> corresponding string value.
>
> for a lot of purposes it is much more comfortable to have the=20
> possibility to search over all fields.
>
> does an alternative exist to performing as many queries as there are=20=

> fields in the index
> (all the same term but different fields)?

One common way to do it is index all text you want searchable into a=20
single default field, just glue it all together.

Another option is to use the MultiFieldQueryParser, which automatically=20=

OR's the same query for each field together for you.

Personally, I'd recommend a single searchable field.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 10:39:54 2003
Return-Path: 
 <lucene-user-return-6637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30069 invoked from network); 30 Dec 2003 10:39:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 10:39:54 -0000
Received: (qmail 20348 invoked by uid 500); 30 Dec 2003 10:39:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20114 invoked by uid 500); 30 Dec 2003 10:39:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20101 invoked from network); 30 Dec 2003 10:39:22 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 30 Dec 2003 10:39:22 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbHHk-0001VG-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 11:39:36 +0100
Received: from [80.128.75.129] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbHHk-0004Qi-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 11:39:36 +0100
Received: by eco (Postfix, from userid 1000)
	id 0EEE312378; Tue, 30 Dec 2003 11:40:04 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16369.22019.992814.570794@onlinehome.de>
Date: Tue, 30 Dec 2003 11:40:03 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
In-Reply-To: <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
References: <16367.966.191362.389052@onlinehome.de>
	<16367.2273.546534.719218@onlinehome.de>
	<88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,
> 
> I haven't had time to think through all of the issues and the patch you 
> submitted, but I suggest that you go ahead and attach this to a 
> Bugzilla issue so that it can be addressed more formally and avoid 
> being lost in the mounds of e-mail we all get.

Well, I'd have taken care that it doesn't get lost.
But if you think, that it's better to have the issue as a bug report, no
problem.
See:
http://nagoya.apache.org/bugzilla/show_bug.cgi?id=25820

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 10:40:00 2003
Return-Path: 
 <lucene-user-return-6638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30132 invoked from network); 30 Dec 2003 10:40:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 10:40:00 -0000
Received: (qmail 20750 invoked by uid 500); 30 Dec 2003 10:39:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20706 invoked by uid 500); 30 Dec 2003 10:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20570 invoked from network); 30 Dec 2003 10:39:26 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 30 Dec 2003 10:39:26 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbHHn-0001VQ-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 11:39:39 +0100
Received: from [80.128.75.129] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbHHn-0004Qw-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 11:39:39 +0100
Received: by eco (Postfix, from userid 1000)
	id B3DBD1237A; Tue, 30 Dec 2003 11:40:17 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16369.22033.684616.614235@onlinehome.de>
Date: Tue, 30 Dec 2003 11:40:17 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
In-Reply-To: <20031229200724.GP95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
	<16367.2273.546534.719218@onlinehome.de>
	<88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
	<20031229200724.GP95420@rlx11.zapatec.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dror Matalon writes:
> my $.02.
> 
> Before having patches, I think it's a good idea to agree on what the
> "right" solution is. 
I tried to raise that question in the first place. But there wasn't much
responce.
So I decided to make a concrete suggestion, how to change things.

> Most of it is obvious using boolean logic, but we
> have some additional requirements like not having a query that only has
> a NOT clause. Is this the only exception?
> 
To me the problem is, that there are two forms of queries
- boolean queries (a OR b AND c...)
- list of terms where some are flagged required and some are flagged forbidden
 (a +b -c ...) (in two forms: with default or and default and)

For each of these it seems pretty clear, what they mean, but if you start
to combine the two in one query, I don't know what that should mean.

What's the meaning of a OR b c +d ?
(Acutally there must be two meanings, one for default or, one for default and).
Maybe it's obvious, but I fail to see it.

> 
> As far as the actual patch, I would suspect that a better approach than
> using java would be to use precedence operations in the actual parser.

Then you decide to do a complete rewrite of the query parser.
That's something I wanted to avoid.

I don't think that it matters how you implement a grammer though.
The problem here is, that you have to define the grammer first.

But I agree that doing it by JavaCC means is less error prone.

> Something like http://www.lysator.liu.se/c/ANSI-C-grammar-y.html where
> different operators are grouped differently according to precedence
> would work better.
> 
> As is often the case, trying to *correctly* parse a string is not
> trivial.
> 
Right. Especially if there's no definition of correct...

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 12:55:20 2003
Return-Path: 
 <lucene-user-return-6639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73677 invoked from network); 30 Dec 2003 12:55:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 12:55:20 -0000
Received: (qmail 16194 invoked by uid 500); 30 Dec 2003 12:55:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16142 invoked by uid 500); 30 Dec 2003 12:55:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16127 invoked from network); 30 Dec 2003 12:55:13 -0000
Received: from unknown (HELO smtp-in.rrz.uni-koeln.de) (134.95.19.47)
  by daedalus.apache.org with SMTP; 30 Dec 2003 12:55:13 -0000
Received: from smail.uni-koeln.de (xdsl-213-168-116-15.netcologne.de
 [213.168.116.15])
	(authenticated as user kraemert using CRAM-MD5 bits=0)
	by cyrus.rrz.uni-koeln.de (8.12.10/8.12.10) with ESMTP id hBUCtAN6001426
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 30 Dec 2003 13:55:12 +0100
Message-ID: <3FF17630.1090405@smail.uni-koeln.de>
Date: Tue, 30 Dec 2003 13:57:20 +0100
From: =?ISO-8859-1?Q?Thomas_Kr=E4mer?= <kraemert@smail.uni-koeln.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.5) Gecko/20030925
X-Accept-Language: de, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search all instead of specified/default field
References: <3FF0ACB0.1070301@smail.uni-koeln.de>
 <0A8970E8-3A60-11D8-8D63-000393A564E6@ehatchersolutions.com>
In-Reply-To: <0A8970E8-3A60-11D8-8D63-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hello Erik

I added a Field "contents" containing all the other Fields.
works fine and fast.

Thanks!

Erik Hatcher schrieb:
> On Dec 29, 2003, at 5:37 PM, Thomas Kr�mer wrote:
> 
>> with the apache commons digester i can read each record into a lucene 
>> document and push each tag as key-value pair, where the tag name (eg. 
>> creator) is the lucene field name and the text enclosed by it the 
>> corresponding string value.
>>
>> for a lot of purposes it is much more comfortable to have the 
>> possibility to search over all fields.
>>
>> does an alternative exist to performing as many queries as there are 
>> fields in the index
>> (all the same term but different fields)?
> 
> 
> One common way to do it is index all text you want searchable into a 
> single default field, just glue it all together.
> 
> Another option is to use the MultiFieldQueryParser, which automatically 
> OR's the same query for each field together for you.
> 
> Personally, I'd recommend a single searchable field.
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 17:07:29 2003
Return-Path: 
 <lucene-user-return-6640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88873 invoked from network); 30 Dec 2003 17:07:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 17:07:29 -0000
Received: (qmail 4506 invoked by uid 500); 30 Dec 2003 17:06:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4316 invoked by uid 500); 30 Dec 2003 17:06:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4260 invoked from network); 30 Dec 2003 17:06:53 -0000
Received: from unknown (HELO master.valinf.com) (62.253.200.1)
  by daedalus.apache.org with SMTP; 30 Dec 2003 17:06:53 -0000
Message-ID: <566BCFC0EFBAAC40AF3EF4CA8228AD530EBA60@MASTER>
From: Paul Williams <paul@valinf.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Error deleting a document when using the compound file index
Date: Tue, 30 Dec 2003 17:07:01 -0000
MIME-Version: 1.0
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am just testing Lucene 1.3 RC with the Compound index option on. When I
come to delete an existing document in the index to re-update a document, I
get an unable to obtain lock error.

java.io.IOException: Lock obtain timed out
	at org.apache.lucene.store.Lock.obtain(Lock.java:97)
	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:279)
	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:312)
	at objects.CH_Lucene.updateDocument(CH_Lucene.java:1065)
	at
servlets.CH_SearchConnection.updateDocument(CH_SearchConnection.java:1048)
	at
functions.CH_UpdateThread.updateDocument(CH_UpdateThread.java:255)
	at functions.CH_UpdateThread.run(CH_UpdateThread.java:132)

I am using the following snippet of code to remove the previous document
entry.

DecimalFormat df = new DecimalFormat("########");
df.setMinimumIntegerDigits(8);
		
Term docNumberTerm = new Term("Field10", df.format(ldoc));

IndexReader reader = IndexReader.open(location);
		
// Delete old term if present
if (reader.docFreq(docNumberTerm) > 0)
{
	reader.delete(docNumberTerm);
}
reader.close();

I did not get this when I was using the normal index file structure. Is
there a way round this?

Regards,

Paul


DISCLAIMER: The information in this message is confidential and may be
legally privileged. It is intended solely for the addressee.  Access to this
message by anyone else is unauthorised.  If you are not the intended
recipient, any disclosure, copying, or distribution of the message, or any
action or omission taken by you in reliance on it, is prohibited and may be
unlawful.  Please immediately contact the sender if you have received this
message in error. Thank you. Copyright Valid Information Systems Limited.
http://www.valinf.com Address Morline House, 160 London Road, Barking,
Essex, IG11 8BB. Tel: 020 8215 1414 Fax: 020 8215 2040. 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 17:37:25 2003
Return-Path: 
 <lucene-user-return-6641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99729 invoked from network); 30 Dec 2003 17:37:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 17:37:25 -0000
Received: (qmail 65328 invoked by uid 500); 30 Dec 2003 17:37:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65224 invoked by uid 500); 30 Dec 2003 17:37:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65211 invoked from network); 30 Dec 2003 17:37:13 -0000
Received: from unknown (HELO mclean.mail.mindspring.net) (207.69.200.57)
  by daedalus.apache.org with SMTP; 30 Dec 2003 17:37:13 -0000
Received: from h-68-166-65-183.mclnva23.dynamic.covad.net ([68.166.65.183]
 helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1AbNnx-00024N-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 12:37:17 -0500
Message-ID: <00e001c3cefb$99bf7380$0301a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <566BCFC0EFBAAC40AF3EF4CA8228AD530EBA60@MASTER>
Subject: Re: Error deleting a document when using the compound file index
Date: Tue, 30 Dec 2003 12:37:30 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul,

I just started using 1.3 final (labeled 1.4 RC1) and ran into a similar
problem (though I'm not using the compound file option).  My code ran just
fine all the way through 1.3RC3, but with the latest release, the
reader.delete() threw a "Lock obtain timed out" IOException.  What I finally
did was locate the place earlier in my code where the FSDirectory was first
created, and immediately followed it with a call to
IndexReader.unlock(fsdir).  So far, that appears to have done the trick (but
I haven't had much time to fully test it yet).

Regards,

Terry

----- Original Message -----
From: "Paul Williams" <paul@valinf.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, December 30, 2003 12:07 PM
Subject: Error deleting a document when using the compound file index


> Hi,
>
> I am just testing Lucene 1.3 RC with the Compound index option on. When I
> come to delete an existing document in the index to re-update a document,
I
> get an unable to obtain lock error.
>
> java.io.IOException: Lock obtain timed out
> at org.apache.lucene.store.Lock.obtain(Lock.java:97)
> at org.apache.lucene.index.IndexReader.delete(IndexReader.java:279)
> at org.apache.lucene.index.IndexReader.delete(IndexReader.java:312)
> at objects.CH_Lucene.updateDocument(CH_Lucene.java:1065)
> at
> servlets.CH_SearchConnection.updateDocument(CH_SearchConnection.java:1048)
> at
> functions.CH_UpdateThread.updateDocument(CH_UpdateThread.java:255)
> at functions.CH_UpdateThread.run(CH_UpdateThread.java:132)
>
> I am using the following snippet of code to remove the previous document
> entry.
>
> DecimalFormat df = new DecimalFormat("########");
> df.setMinimumIntegerDigits(8);
>
> Term docNumberTerm = new Term("Field10", df.format(ldoc));
>
> IndexReader reader = IndexReader.open(location);
>
> // Delete old term if present
> if (reader.docFreq(docNumberTerm) > 0)
> {
> reader.delete(docNumberTerm);
> }
> reader.close();
>
> I did not get this when I was using the normal index file structure. Is
> there a way round this?
>
> Regards,
>
> Paul
>
>
> DISCLAIMER: The information in this message is confidential and may be
> legally privileged. It is intended solely for the addressee.  Access to
this
> message by anyone else is unauthorised.  If you are not the intended
> recipient, any disclosure, copying, or distribution of the message, or any
> action or omission taken by you in reliance on it, is prohibited and may
be
> unlawful.  Please immediately contact the sender if you have received this
> message in error. Thank you. Copyright Valid Information Systems Limited.
> http://www.valinf.com Address Morline House, 160 London Road, Barking,
> Essex, IG11 8BB. Tel: 020 8215 1414 Fax: 020 8215 2040.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 18:36:09 2003
Return-Path: 
 <lucene-user-return-6642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18575 invoked from network); 30 Dec 2003 18:36:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 18:36:09 -0000
Received: (qmail 52222 invoked by uid 500); 30 Dec 2003 18:35:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52192 invoked by uid 500); 30 Dec 2003 18:35:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52179 invoked from network); 30 Dec 2003 18:35:55 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 30 Dec 2003 18:35:55 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 280A55D22
	for <lucene-user@jakarta.apache.org>; Tue, 30 Dec 2003 10:35:59 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBUIZxjW016657
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 10:35:59 -0800 (PST)
	(envelope-from dror)
Date: Tue, 30 Dec 2003 10:35:59 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031230183558.GV95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
 <20031229200724.GP95420@rlx11.zapatec.com>
 <16369.22033.684616.614235@onlinehome.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <16369.22033.684616.614235@onlinehome.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

First, let me say something that wasn't obvious from my first mail.
While I had opinions about the implementation, I have a lot of respect
for your finding a problem, and going ahead and coding a solution.

On Tue, Dec 30, 2003 at 11:40:17AM +0100, Morus Walter wrote:
> Dror Matalon writes:
> > my $.02.
> > 
> > Before having patches, I think it's a good idea to agree on what the
> > "right" solution is. 
> I tried to raise that question in the first place. But there wasn't much
> responce.

Might be the time of the year when many people are busy with other
stuff.

> So I decided to make a concrete suggestion, how to change things.
> 
> > Most of it is obvious using boolean logic, but we
> > have some additional requirements like not having a query that only has
> > a NOT clause. Is this the only exception?
> > 
> To me the problem is, that there are two forms of queries
> - boolean queries (a OR b AND c...)
> - list of terms where some are flagged required and some are flagged forbidden
>  (a +b -c ...) (in two forms: with default or and default and)
> 
> For each of these it seems pretty clear, what they mean, but if you start
> to combine the two in one query, I don't know what that should mean.
> 
> What's the meaning of a OR b c +d ?
> (Acutally there must be two meanings, one for default or, one for default and).
> Maybe it's obvious, but I fail to see it.

You're right, it is confusing. Assuming default OR I would gess that the
above means 
b c +d 
and assuming default AND it would mean
+b +c +d 
Is there another interpretation?

> 
> > 
> > As far as the actual patch, I would suspect that a better approach than
> > using java would be to use precedence operations in the actual parser.
> 
> Then you decide to do a complete rewrite of the query parser.
> That's something I wanted to avoid.

Ouch. I think you might be right. It might be a good idea to move this
discussion to lucene-dev where we'd get more attention from the
developers. This seems more like a developer issue than a user issue.

> 
> I don't think that it matters how you implement a grammer though.
> The problem here is, that you have to define the grammer first.
> 
> But I agree that doing it by JavaCC means is less error prone.
> 
> > Something like http://www.lysator.liu.se/c/ANSI-C-grammar-y.html where
> > different operators are grouped differently according to precedence
> > would work better.
> > 
> > As is often the case, trying to *correctly* parse a string is not
> > trivial.
> > 
> Right. Especially if there's no definition of correct...
> 


> Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 20:13:07 2003
Return-Path: 
 <lucene-user-return-6643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53624 invoked from network); 30 Dec 2003 20:13:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 20:13:07 -0000
Received: (qmail 80285 invoked by uid 500); 30 Dec 2003 20:12:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80100 invoked by uid 500); 30 Dec 2003 20:12:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80086 invoked from network); 30 Dec 2003 20:12:51 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 30 Dec 2003 20:12:51 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbQEa-0001QL-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 21:12:56 +0100
Received: from [80.128.72.84] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbQEZ-0008Iz-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 21:12:56 +0100
Received: by eco (Postfix, from userid 1000)
	id B7D8F123BD; Tue, 30 Dec 2003 21:13:30 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16369.56426.665028.54190@onlinehome.de>
Date: Tue, 30 Dec 2003 21:13:30 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
In-Reply-To: <20031230183558.GV95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
	<16367.2273.546534.719218@onlinehome.de>
	<88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
	<20031229200724.GP95420@rlx11.zapatec.com>
	<16369.22033.684616.614235@onlinehome.de>
	<20031230183558.GV95420@rlx11.zapatec.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Dror,

thanks for your answer. I really appreciate your comments.
> > > 
> > > Before having patches, I think it's a good idea to agree on what the
> > > "right" solution is. 
> > I tried to raise that question in the first place. But there wasn't much
> > responce.
> 
> Might be the time of the year when many people are busy with other
> stuff.
> 
Probably.
My impression was that many people don't have a problem with this issue.
Otherwise I'd expecpt that the issue was raised earlier.

> > So I decided to make a concrete suggestion, how to change things.
> > 
> > > Most of it is obvious using boolean logic, but we
> > > have some additional requirements like not having a query that only has
> > > a NOT clause. Is this the only exception?
> > > 
> > To me the problem is, that there are two forms of queries
> > - boolean queries (a OR b AND c...)
> > - list of terms where some are flagged required and some are flagged forbidden
> >  (a +b -c ...) (in two forms: with default or and default and)
> > 
> > For each of these it seems pretty clear, what they mean, but if you start
> > to combine the two in one query, I don't know what that should mean.
> > 
> > What's the meaning of a OR b c +d ?
> > (Acutally there must be two meanings, one for default or, one for default and).
> > Maybe it's obvious, but I fail to see it.
> 
> You're right, it is confusing. Assuming default OR I would gess that the
> above means 
> b c +d 
> and assuming default AND it would mean
> +b +c +d 
> Is there another interpretation?
> 
You left out the 'a' which I intended to be part of the query (sorry if this
was unclear).

I was thinking about this issue, and currently I think that the only way to 
define this type of queries formally, is to give the default operator it's own
precedence relativly to the precedence of 'OR' and 'AND'.
So there are two possibilities:
either the default operator has higher precedence than 'AND' or lower than 
'OR'.
For default OR in the first case
`a OR b c +d' would be equal to `(a OR b) c +d' == (a b) c +d
in the second to `a OR (b c +d)' == a (b c +d) 
For default AND one has `+(a b) +c +d' and `a (+b +c +d)'

(a b) c +d searches all documents containing d, occurences of a, b and c 
influence scoring
a (b c +d) searches documents containing `a' joined with documents 
containing `d' (where b and c influcence scoring)
Now, what's closer to what one might have meant by `a OR b c +d'?

+(a b) +c +d searches documents containing c, d and either a or b.
a (+b +c +d) searches documents containing a or each of b, c and d.

The other alternative would be to forbid queries mixing default operators and
explicit and/or. This is what I'd probably vote for at the moment.

The patch doesn't implement any of these, as it handles the default operator
on the same level as AND.

> > > 
> > > As far as the actual patch, I would suspect that a better approach than
> > > using java would be to use precedence operations in the actual parser.
> > 
> > Then you decide to do a complete rewrite of the query parser.
> > That's something I wanted to avoid.
> 
> Ouch. I think you might be right. It might be a good idea to move this
> discussion to lucene-dev where we'd get more attention from the
> developers. This seems more like a developer issue than a user issue.
> 
Hmm. That's be up to the developers.
Don't know how many of them are reading lucene-user.

I'd prefer to keep this on the user list since the query parser is only 
loosely coupled to lucenes core, while it is strongly coupled to the users
needs. So I think the users should be included in the discussion and I think
the user list is the best place for that.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 20:25:21 2003
Return-Path: 
 <lucene-user-return-6644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64870 invoked from network); 30 Dec 2003 20:25:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 20:25:21 -0000
Received: (qmail 90362 invoked by uid 500); 30 Dec 2003 20:25:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90160 invoked by uid 500); 30 Dec 2003 20:25:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90133 invoked from network); 30 Dec 2003 20:25:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 30 Dec 2003 20:25:06 -0000
Received: (cpmta 15375 invoked from network); 30 Dec 2003 12:25:09 -0800
Received: from 128.143.184.66 (HELO ?128.143.184.66?)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 30 Dec 2003 12:25:09 -0800
X-Sent: 30 Dec 2003 20:25:09 GMT
Mime-Version: 1.0 (Apple Message framework v609)
In-Reply-To: <16369.56426.665028.54190@onlinehome.de>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
 <20031229200724.GP95420@rlx11.zapatec.com>
 <16369.22033.684616.614235@onlinehome.de>
 <20031230183558.GV95420@rlx11.zapatec.com>
 <16369.56426.665028.54190@onlinehome.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <429E84FC-3B06-11D8-A1DB-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Parser AND / OR
Date: Tue, 30 Dec 2003 15:25:08 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.609)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Dec 30, 2003, at 3:13 PM, Morus Walter wrote:
> Hmm. That's be up to the developers.
> Don't know how many of them are reading lucene-user.

I suspect we're all here!

QueryParser is Lucene's red-headed step-child.  It works "well enough", 
but it has more than its share of issues.  It is almost a shame it is 
part of Lucene's core because of its loose coupling, but it does make 
Lucene quite approachable for simple applications at least.

A complete rewrite of QueryParser would certainly be welcomed by most, 
I think.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 20:42:56 2003
Return-Path: 
 <lucene-user-return-6645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70250 invoked from network); 30 Dec 2003 20:42:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 20:42:56 -0000
Received: (qmail 3899 invoked by uid 500); 30 Dec 2003 20:42:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3863 invoked by uid 500); 30 Dec 2003 20:42:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3847 invoked from network); 30 Dec 2003 20:42:40 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 30 Dec 2003 20:42:40 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 27264A941
	for <lucene-user@jakarta.apache.org>; Tue, 30 Dec 2003 12:42:45 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBUKgjXK016927
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 12:42:45 -0800 (PST)
	(envelope-from dror)
Date: Tue, 30 Dec 2003 12:42:45 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031230204244.GY95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
 <20031229200724.GP95420@rlx11.zapatec.com>
 <16369.22033.684616.614235@onlinehome.de>
 <20031230183558.GV95420@rlx11.zapatec.com>
 <16369.56426.665028.54190@onlinehome.de>
 <429E84FC-3B06-11D8-A1DB-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <429E84FC-3B06-11D8-A1DB-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Dec 30, 2003 at 03:25:08PM -0500, Erik Hatcher wrote:
> On Dec 30, 2003, at 3:13 PM, Morus Walter wrote:
> >Hmm. That's be up to the developers.
> >Don't know how many of them are reading lucene-user.
> 
> I suspect we're all here!

Great.

> 
> QueryParser is Lucene's red-headed step-child.  It works "well enough", 
> but it has more than its share of issues.  It is almost a shame it is 
> part of Lucene's core because of its loose coupling, but it does make 
> Lucene quite approachable for simple applications at least.

And to make things worse, I suspect that it works well enough for most
users so that there's not enough motivation to fix it. 

I'll confess that I seldom use anyting but the defaults not only with
lucene but also with google.

> 
> A complete rewrite of QueryParser would certainly be welcomed by most, 
> I think.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 21:10:42 2003
Return-Path: 
 <lucene-user-return-6646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80107 invoked from network); 30 Dec 2003 21:10:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 21:10:42 -0000
Received: (qmail 42970 invoked by uid 500); 30 Dec 2003 21:10:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42944 invoked by uid 500); 30 Dec 2003 21:10:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42931 invoked from network); 30 Dec 2003 21:10:25 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 30 Dec 2003 21:10:25 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id AE2225D22
	for <lucene-user@jakarta.apache.org>; Tue, 30 Dec 2003 13:10:31 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBULAVxo016960
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 13:10:31 -0800 (PST)
	(envelope-from dror)
Date: Tue, 30 Dec 2003 13:10:31 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031230211031.GZ95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
 <20031229200724.GP95420@rlx11.zapatec.com>
 <16369.22033.684616.614235@onlinehome.de>
 <20031230183558.GV95420@rlx11.zapatec.com>
 <16369.56426.665028.54190@onlinehome.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <16369.56426.665028.54190@onlinehome.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Dec 30, 2003 at 09:13:30PM +0100, Morus Walter wrote:
...
> > > What's the meaning of a OR b c +d ?
> > > (Acutally there must be two meanings, one for default or, one for default and).
> > > Maybe it's obvious, but I fail to see it.
> > 
> > You're right, it is confusing. Assuming default OR I would gess that the
> > above means 
> > b c +d 
> > and assuming default AND it would mean
> > +b +c +d 
> > Is there another interpretation?
> > 
> You left out the 'a' which I intended to be part of the query (sorry if this
> was unclear).

Oops, my mistake.

> 
> I was thinking about this issue, and currently I think that the only way to 
> define this type of queries formally, is to give the default operator it's own
> precedence relativly to the precedence of 'OR' and 'AND'.
> So there are two possibilities:
> either the default operator has higher precedence than 'AND' or lower than 
> 'OR'.
> For default OR in the first case
> `a OR b c +d' would be equal to `(a OR b) c +d' == (a b) c +d
> in the second to `a OR (b c +d)' == a (b c +d) 
> For default AND one has `+(a b) +c +d' and `a (+b +c +d)'
> 
> (a b) c +d searches all documents containing d, occurences of a, b and c 
> influence scoring
> a (b c +d) searches documents containing `a' joined with documents 
> containing `d' (where b and c influcence scoring)
> Now, what's closer to what one might have meant by `a OR b c +d'?
> 
> +(a b) +c +d searches documents containing c, d and either a or b.
> a (+b +c +d) searches documents containing a or each of b, c and d.

I don't think this is a good idea. Mostly because it would be hard to
explain/document, and you don't want end users to have to think and read
a lot of documentation when doing a search.

For one thing, I would advocate for using the '+' notation as the
underlying syntax and migrating to boolean operators since that's many
more people are used to that syntax, and I believe it's better
understood.

> 
> The other alternative would be to forbid queries mixing default operators and
> explicit and/or. This is what I'd probably vote for at the moment.

At first I was inclined to agree but as a rule I think we should adopt
the WWGD (What Would Google Do) philosophy, since that's the syntax and
behavior that most people are used to.

It looks like it basically adds an "AND" between any two terms that
don't have operator between them. We could do the same for both the
default AND and the default OR. Once you've done that, you just use the
standard boolean logic precedence rule.

Now the good news on all of this is that it seems (I did a small test),
that if you use parenthesis the parser does the right thing. In my mind,
it's a good idea to use parenthesis whenever you're creating complex
expressions.

> 
> The patch doesn't implement any of these, as it handles the default operator
> on the same level as AND.
> 
> > > > 
> > > > As far as the actual patch, I would suspect that a better approach than
> > > > using java would be to use precedence operations in the actual parser.
> > > 
> > > Then you decide to do a complete rewrite of the query parser.
> > > That's something I wanted to avoid.
> > 
> > Ouch. I think you might be right. It might be a good idea to move this
> > discussion to lucene-dev where we'd get more attention from the
> > developers. This seems more like a developer issue than a user issue.
> > 
> Hmm. That's be up to the developers.
> Don't know how many of them are reading lucene-user.
> 
> I'd prefer to keep this on the user list since the query parser is only 
> loosely coupled to lucenes core, while it is strongly coupled to the users
> needs. So I think the users should be included in the discussion and I think
> the user list is the best place for that.
> 

And Erik indicated that they're here anyway, so it's fine.

Regards,

Dror

> Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 22:19:49 2003
Return-Path: 
 <lucene-user-return-6647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5390 invoked from network); 30 Dec 2003 22:19:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 22:19:49 -0000
Received: (qmail 2512 invoked by uid 500); 30 Dec 2003 22:19:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2410 invoked by uid 500); 30 Dec 2003 22:19:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2289 invoked from network); 30 Dec 2003 22:19:01 -0000
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by daedalus.apache.org with SMTP; 30 Dec 2003 22:19:01 -0000
Received: from [212.227.126.223] (helo=mrelayng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbSCh-00023U-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 23:19:07 +0100
Received: from [80.128.66.245] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1AbSCg-0004bc-00
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 23:19:07 +0100
Received: by eco (Postfix, from userid 1000)
	id 0A29C123C1; Tue, 30 Dec 2003 23:19:39 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16369.63994.990583.404330@onlinehome.de>
Date: Tue, 30 Dec 2003 23:19:38 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
In-Reply-To: <20031230211031.GZ95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
	<16367.2273.546534.719218@onlinehome.de>
	<88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
	<20031229200724.GP95420@rlx11.zapatec.com>
	<16369.22033.684616.614235@onlinehome.de>
	<20031230183558.GV95420@rlx11.zapatec.com>
	<16369.56426.665028.54190@onlinehome.de>
	<20031230211031.GZ95420@rlx11.zapatec.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Dror,

> > I was thinking about this issue, and currently I think that the only way to 
> > define this type of queries formally, is to give the default operator it's own
> > precedence relativly to the precedence of 'OR' and 'AND'.
> > So there are two possibilities:
> > either the default operator has higher precedence than 'AND' or lower than 
> > 'OR'.
> > For default OR in the first case
> > `a OR b c +d' would be equal to `(a OR b) c +d' == (a b) c +d
> > in the second to `a OR (b c +d)' == a (b c +d) 
> > For default AND one has `+(a b) +c +d' and `a (+b +c +d)'
> > 
> > (a b) c +d searches all documents containing d, occurences of a, b and c 
> > influence scoring
> > a (b c +d) searches documents containing `a' joined with documents 
> > containing `d' (where b and c influcence scoring)
> > Now, what's closer to what one might have meant by `a OR b c +d'?
> > 
> > +(a b) +c +d searches documents containing c, d and either a or b.
> > a (+b +c +d) searches documents containing a or each of b, c and d.
> 
> I don't think this is a good idea. Mostly because it would be hard to
> explain/document, and you don't want end users to have to think and read
> a lot of documentation when doing a search.
> 
> For one thing, I would advocate for using the '+' notation as the
> underlying syntax and migrating to boolean operators since that's many
> more people are used to that syntax, and I believe it's better
> understood.
> 
I'm not sure if I understand what you mean here.

> > 
> > The other alternative would be to forbid queries mixing default operators and
> > explicit and/or. This is what I'd probably vote for at the moment.
> 
> At first I was inclined to agree but as a rule I think we should adopt
> the WWGD (What Would Google Do) philosophy, since that's the syntax and
> behavior that most people are used to.
> 
> It looks like it basically adds an "AND" between any two terms that
> don't have operator between them. We could do the same for both the
> default AND and the default OR. Once you've done that, you just use the
> standard boolean logic precedence rule.
> 
Hmm. Then you loose the possibility to create BooleanQuery-objects where
some of the terms are required some forbidden and some have neither flag.
To have this possibility is the reason why I say that implicit AND/OR and 
explicit AND/OR need to be different things.
If an implicit OR equals an explicit OR, you would have '+a +b' = '+a OR +b' 
= '(+a) OR (+b)' = 'a OR b' which is probably not, what was intended.
So either the '+' operator is removed or it is used as an alternative to AND
in which case it could not be a prefix. So instead of '+a +b' one would use 
'a + b'.

A consequence of pure boolean operators is, that there won't be a way of 
serializing an arbitray query to a parsable string in standard query parser 
syntax.

So for completeness and compatibility with the current query parser, I would 
keep the current behaviour of queries without explicit boolean operators.

The problem for users isn't that big IMHO.
Unless a user decides to make use of the '+' operator things are pretty clear:
a b c searches for documents containing one or all of these terms (depending
on the default operator). Using terms with the '-' operator also does what 
one expects. Only if the user starts to use the '+' operator explicitly,
things are getting more complicated. So he just shouldn't do that unless
he knows what he does.
The same thing applies to queries using AND/OR as long as you don't mix it
with implicit operators. IMO whoever does the latter get's what he deserves,
if he has to deal with the difficulties of such queries. One just should
not do that, and it should be pretty clear, that the meaning of such a query
is unclear (unless parenthesis are used, in which case there is no mixing
any longer).
That is, why I think my patch is good enough, even if it leaves the evaluation
of such queries without clear definition.

> Now the good news on all of this is that it seems (I did a small test),
> that if you use parenthesis the parser does the right thing. In my mind,
> it's a good idea to use parenthesis whenever you're creating complex
> expressions.
> 
Sure. All we are talking about is what happens if there are no explicit
parenthesis. If you use parentheses you break the query into simple parts 
(e.g. (a AND b) OR (c AND d) are two queries of type 'x AND y' and one
query of typ 'x OR y' (where x and y are queries, not just terms)), which
are handled correctly even by the current query parser.
That's one of the reasons, why this hasn't been a big problem in the past.
If you use (a AND b) OR (c AND d) you will get what you expect.
It's just that I think the query parser should also create a reasonable 
query if the parenthesis are removed.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Dec 30 23:37:49 2003
Return-Path: 
 <lucene-user-return-6648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31189 invoked from network); 30 Dec 2003 23:37:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Dec 2003 23:37:49 -0000
Received: (qmail 94078 invoked by uid 500); 30 Dec 2003 23:37:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93915 invoked by uid 500); 30 Dec 2003 23:37:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93902 invoked from network); 30 Dec 2003 23:37:30 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 30 Dec 2003 23:37:30 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id E7D64A941
	for <lucene-user@jakarta.apache.org>; Tue, 30 Dec 2003 15:37:37 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id hBUNbbXn017211
	for lucene-user@jakarta.apache.org; Tue, 30 Dec 2003 15:37:37 -0800 (PST)
	(envelope-from dror)
Date: Tue, 30 Dec 2003 15:37:37 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Parser AND / OR
Message-ID: <20031230233737.GA95420@rlx11.zapatec.com>
References: <16367.966.191362.389052@onlinehome.de>
 <16367.2273.546534.719218@onlinehome.de>
 <88DD6FD3-3993-11D8-AAFB-000393A564E6@ehatchersolutions.com>
 <20031229200724.GP95420@rlx11.zapatec.com>
 <16369.22033.684616.614235@onlinehome.de>
 <20031230183558.GV95420@rlx11.zapatec.com>
 <16369.56426.665028.54190@onlinehome.de>
 <20031230211031.GZ95420@rlx11.zapatec.com>
 <16369.63994.990583.404330@onlinehome.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <16369.63994.990583.404330@onlinehome.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Dec 30, 2003 at 11:19:38PM +0100, Morus Walter wrote:
> Hi Dror,
> 
> > 
> > For one thing, I would advocate for using the '+' notation as the
> > underlying syntax and migrating to boolean operators since that's many
> > more people are used to that syntax, and I believe it's better
> > understood.
> > 
> I'm not sure if I understand what you mean here.

I meant that the queryparse would accept AND and OR which get translated
into '+' and '-' but does not accept the '+' and '-' directly.

> 
> > > 
> > > The other alternative would be to forbid queries mixing default operators and
> > > explicit and/or. This is what I'd probably vote for at the moment.
> > 
> > At first I was inclined to agree but as a rule I think we should adopt
> > the WWGD (What Would Google Do) philosophy, since that's the syntax and
> > behavior that most people are used to.
> > 
> > It looks like it basically adds an "AND" between any two terms that
> > don't have operator between them. We could do the same for both the
> > default AND and the default OR. Once you've done that, you just use the
> > standard boolean logic precedence rule.
> > 
> Hmm. Then you loose the possibility to create BooleanQuery-objects where
> some of the terms are required some forbidden and some have neither flag.
> To have this possibility is the reason why I say that implicit AND/OR and 
> explicit AND/OR need to be different things.
> If an implicit OR equals an explicit OR, you would have '+a +b' = '+a OR +b' 
> = '(+a) OR (+b)' = 'a OR b' which is probably not, what was intended.
> So either the '+' operator is removed or it is used as an alternative to AND
> in which case it could not be a prefix. So instead of '+a +b' one would use 
> 'a + b'.

Which is my point above. It's too confusing to have:
1. '+' and '-'
2. Explict AND and OR
3. Implict AND or OR

There's some redundancy between all three, and it's quite easy to get
confused.

> 
> A consequence of pure boolean operators is, that there won't be a way of 
> serializing an arbitray query to a parsable string in standard query parser 
> syntax.
> 
> So for completeness and compatibility with the current query parser, I would 
> keep the current behaviour of queries without explicit boolean operators.
> 
> The problem for users isn't that big IMHO.
> Unless a user decides to make use of the '+' operator things are pretty clear:
> a b c searches for documents containing one or all of these terms (depending
> on the default operator). Using terms with the '-' operator also does what 
> one expects. Only if the user starts to use the '+' operator explicitly,
> things are getting more complicated. So he just shouldn't do that unless
> he knows what he does.

Fair enough.

> The same thing applies to queries using AND/OR as long as you don't mix it
> with implicit operators. IMO whoever does the latter get's what he deserves,
> if he has to deal with the difficulties of such queries. One just should
> not do that, and it should be pretty clear, that the meaning of such a query
> is unclear (unless parenthesis are used, in which case there is no mixing
> any longer).
> That is, why I think my patch is good enough, even if it leaves the evaluation
> of such queries without clear definition.

I guess I can be convinced. Clearly things are broken, and clearly if
your patch works as advertised, it should make things better rather than
worse. And a partial solution is better than no solution. So, if the
developers bless the patch, run it through the test suite and it comes
out looking good, I'm for it.


Again, thanks for spending the time on this.

Regards,

Dror

> 
> > Now the good news on all of this is that it seems (I did a small test),
> > that if you use parenthesis the parser does the right thing. In my mind,
> > it's a good idea to use parenthesis whenever you're creating complex
> > expressions.
> > 
> Sure. All we are talking about is what happens if there are no explicit
> parenthesis. If you use parentheses you break the query into simple parts 
> (e.g. (a AND b) OR (c AND d) are two queries of type 'x AND y' and one
> query of typ 'x OR y' (where x and y are queries, not just terms)), which
> are handled correctly even by the current query parser.
> That's one of the reasons, why this hasn't been a big problem in the past.
> If you use (a AND b) OR (c AND d) you will get what you expect.
> It's just that I think the query parser should also create a reasonable 
> query if the parenthesis are removed.
> 
> Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


