From MAILER-DAEMON Tue Jul  1 00:05:08 2003
Return-Path: 
 <lucene-user-return-4901-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42975 invoked from network); 1 Jul 2003 00:05:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Jul 2003 00:05:08 -0000
Received: (qmail 21859 invoked by uid 97); 1 Jul 2003 00:07:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21852 invoked from network); 1 Jul 2003 00:07:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Jul 2003 00:07:37 -0000
Received: (qmail 42564 invoked by uid 500); 1 Jul 2003 00:05:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42539 invoked from network); 1 Jul 2003 00:05:03 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 1 Jul 2003 00:05:03 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id C2BC9B6FEA
	for <lucene-user@jakarta.apache.org>; Tue,  1 Jul 2003 10:05:03 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: parallizing index building
Date: Tue, 1 Jul 2003 09:59:17 +1000
User-Agent: KMail/1.4.3
References: <GCECJJGGHMPDKKNIJCNOAEPLCCAA.lixin@fulldegree.com>
In-Reply-To: <GCECJJGGHMPDKKNIJCNOAEPLCCAA.lixin@fulldegree.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307010959.17364@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Where can I find any sample code or documentation about merging a set of
> small indexes into one big index?

It's very simple, just add the index directorioes to your IndexWriter using 
the addIndexes() method, call optimize() and then close().

That's all.


> Lixin

victor

>
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Monday, June 30, 2003 10:24 AM
> To: Lucene Users List
> Subject: Re: parallizing index building
>
> Marc Dumontier wrote:
> > I'm indexing 500 XML files each ~150Mb on an 8 CPU machine.
> >
> > I'm wondering what the best strategy for making maximum use of resources
>
> is. I have the tweaked the single process indexer to index 5000 records
> (not files) in memory before writing out to disk.
>
> > Should i create an IndexThread and share the IndexWriter object across 5
>
> threads..then monitor when one ends to start another, etc. Or should i
> create difference indexes then to a series of merges.
>
> Creating multiple indexes in parallel and then merging them at the end
> will probably be fastest.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jun 30 19:39:06 2003
Return-Path: 
 <lucene-user-return-4899-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52811 invoked from network); 30 Jun 2003 19:39:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 19:39:06 -0000
Received: (qmail 14274 invoked by uid 97); 30 Jun 2003 19:41:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14267 invoked from network); 30 Jun 2003 19:41:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jun 2003 19:41:33 -0000
Received: (qmail 52521 invoked by uid 500); 30 Jun 2003 19:39:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52510 invoked from network); 30 Jun 2003 19:39:03 -0000
Received: from smtpzilla2.xs4all.nl (194.109.127.138)
  by daedalus.apache.org with SMTP; 30 Jun 2003 19:39:03 -0000
Received: from as800 (a80-127-233-248.dial.xs4all.nl [80.127.233.248])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id h5UJd5Hc059795;
	Mon, 30 Jun 2003 21:39:06 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   tstich@uni-mannheim.de
Subject: Re: Using Lucene in an multiple index/large io scenario
Date: Mon, 30 Jun 2003 21:33:04 -0700
User-Agent: KMail/1.4.3
References: <dhkrxakm.z00txrxkjb2d@timo.playboy.wg>
In-Reply-To: <dhkrxakm.z00txrxkjb2d@timo.playboy.wg>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200306302133.04341.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Timo,

On Monday 30 June 2003 15:54, tstich@uni-mannheim.de wrote:
> Hello,
> i am ProjectManager from the columba.sourceforge.net java
> mailclient-project and we integrated Lucene as the search-backend half =
a
> year ago. It is now working for small scale mailtraffic but with increa=
sing
> mailtraffic Lucene throws OutOfMemory and TooManyFilesOpen-Exceptions. =
I am

I assume you are getting these during updating of your indexes.

> now wondering if Lucene is capable of doing the job for us (like Otis
> Gospodnetic suggested) and would appreciate any help and knowledge you =
can
> share on this topic.

I only have a little experience with Lucene, so I hope others correct me
when needed.

> I think the problem arises from following issues:
> - Lucene is designed to create an index once in a while and not to upda=
te
> an index frequently. We need it to add and delete documents very often
> *and* search the index eventualy after every operation. Has anyone
> experiences running Lucene in such an environment or do you think it is
> impossible?

For updating you have at least the following options:
- keep a large inactive index and a small active index, search them
  with a MultiSearcher.
  When deleting you need to search both, you only add to the small
  active index. When optimizing this small index starts consuming
  too  many resources, merge the two.
- as you indicated below, you can use a RAMIndex as the third
  level.
- don't optimize at all and let Lucene sort it all out, this uses
  quite a few open files, evt. tune indexing speed with
  IndexWriter.maxMergeDocs and mergeFactor.
  This might slow down querying.

> - Do you have an suggestion on how to use Lucene in such an environment
> because it is not very nice code if you have to create a new
> IndexReader/Writer after every operation?

You don't need a new IndexWriter. When you want to have the
last updates taken into account, you'll need a new IndexReader.
You can also delay creating/opening an IndexReader until it is
actually needed, and you can reuse an open IndexReader for
multiple queries.
I'd recommend to close unused IndexReaders.

> - We introduced a RAMIndex that is merged to the FileIndex after N
> operations to reduce the load and to not merge documents that are remov=
ed
> directly after they are added (with filters on the mailboxes that is
> happening very often). Any ideas if that was wise or if there is a bett=
er
> solution?

Sounds ok to me. See also above. You might merge only when you
run low on memory.

> - Does Lucene have problems with many indices in the same virtual machi=
ne?

Lucene has no problem, but the underlying file system can give headaches.
The last thing I heard of Windows is that it has a fixed max. of 2000 ope=
n
files. Under Linux the max. nr of open files is settable in /proc.

> We have an index for every mailfolder and get TooManyFilesOpen-Excpetio=
ns
> when having >10 indices open. Maybe we should try to have only a single
> index that holds all messages?

The number of open files is determined by the total number of open segmen=
t
files. An non optimized index can consist of many segments, an optimized
index has one segment. Searching a non optimized index is slower
because each segment needs to be searched separately.

You have to realize that Lucene never modifies an index file, with a few
exceptions, the most noticeable being the file that contains the 'deleted=
'
bits in each segment. The segments are built in a hierarchy with fanout
of IndexWriter.mergeFactor, and updates are effected by (batched)  deleti=
ons
and (batched) additions.

IndexWriter.mergeFactor controls two things: the amount of RAM and
the number of files used for indexing. When you get both out memory
and too many files open exceptions during indexing, you might considering
lowering this mergeFactor.The amount of memory needed also depends
on the size of your documents (which is not normally a problem for email)=
,
and the size of the RAMIndex.

When rapidly alternating updates and queries, the trick is to try and=20
concentrate the additions in a small index and
and merge the segments of only the small index before querying
both the large and the small index.

I'm using Lucene with 26 IndexReaders open without problems. I close them
before opening any IndexWriter, though. Also I optimize after any update,
but I hope to use a better filesystem soon so I can delay the optimize
operations and use a lower maxMergeDocs during indexing.

> If you like to look at sourcecode, how we implememted all this look at
> http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/columba/columba/src/mail=
/cor
>e/org/columba/mail/folder/search/LuceneSearchEngine.java?rev=3D1.7&conte=
nt-typ
>e=3Dtext/vnd.viewcvs-markup
>
> Its not nice to just give you the plain code and not the relevant snipp=
ets,
> but these are more general design issues that i think are better explai=
ned
> in words than in code.
>
> I would really like to see Lucene integrated in Columba, but i had to l=
earn
> that it is no easy task, maybe an impossible one. Based on the response=
s i
> willl decide if we continue to work with Lucene or sadly have to drop i=
t.

It's only impossible when your update and query pattern cannot be made
to match the (non file modifying) index updating method of Lucene combine=
d
with the restrictions of the underlying file system.

You'll have to plan for occasional large merges, though.
Indexing is indexing, and querying is querying.
Lucene gives you the balance in your hands.

Kind regards,
Ype Kingma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  1 14:18:56 2003
Return-Path: 
 <lucene-user-return-4902-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53967 invoked from network); 1 Jul 2003 14:18:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Jul 2003 14:18:56 -0000
Received: (qmail 11599 invoked by uid 97); 1 Jul 2003 14:21:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11592 invoked from network); 1 Jul 2003 14:21:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Jul 2003 14:21:20 -0000
Received: (qmail 53690 invoked by uid 500); 1 Jul 2003 14:18:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53665 invoked from network); 1 Jul 2003 14:18:52 -0000
Received: from gateway.aidministrator.nl (HELO aidministrator.nl)
 (213.53.169.170)
  by daedalus.apache.org with SMTP; 1 Jul 2003 14:18:52 -0000
Received: from home.aidministrator.nl by aidministrator.nl (SMI-8.6/SMI-SVR4)
	id QAA01888; Tue, 1 Jul 2003 16:19:42 +0200
Received: from suzuka (suzuka [212.136.215.9])
	by home.aidministrator.nl (8.11.6+Sun/8.11.6) with SMTP id h61EGGD03763
	for <lucene-user@jakarta.apache.org>; Tue, 1 Jul 2003 16:16:16 +0200 (MEST)
Message-Id: <200307011416.h61EGGD03763@home.aidministrator.nl>
Date: Tue, 1 Jul 2003 16:16:16 +0200 (MEST)
From: Jos van der Meer <jmee@aidministrator.nl>
Reply-To: Jos van der Meer <jmee@aidministrator.nl>
Subject: Lucene + controlled vocabulary + guided exploration
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: TEXT/plain; charset=us-ascii
Content-MD5: L4X1r5z0OySfEXh9pgLf2g==
X-Mailer: dtmail 1.3.0 @(#)CDE Version 1.4.2 SunOS 5.8 sun4u sparc 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We use Lucene in a way in which we provide a controlled vocabulary
to the end-users + continuous feedback about all combinations of
concepts that occur.

Creating a controlled vocabulary is not harder for you than it is for
the average user to construct a good, selective query. However, the benefits of
having a controlled vocabulary are much bigger.

This is the setup:

	- have of lot of unstructured documents (locally or on the web)
	- index them by Lucene.
	
So far nothing new, but now:

	- create a controlled vocabulary:
		* For each concept:
		  	write down a corresponding Lucene query
		* Group related concepts
		
An example controlled vocabulary is "abnamro.xml"
http://spectacle.aidministrator.nl/spectacle/channel/lucabn/files/abnamro.xml
(by default the concept name itself is the Lucene query.)

Download Spectacle:Server from http://spectacle.aidministrator.nl/ and
offer guided exploration (see below) over the results. 

You and your end-users will be more succesful in exploration 
("find valuable results you were not looking for") and regular finding 
("find what you were looking for").
		
The results on a small set of documents is in:

	http://spectacle.aidministrator.nl/spectacle/channel/lucabn
	
It's not the best demo ever (..), but it is a start. Do it on your own data,
create your own controlled vocabulary and try for yourself. You'll find
all source code you'll need in the Spectacle:Server download.

You're invited to forward this mail, or to reply to:

	
jos.van.der.meer@aidministrator.nl
aidministrator nederland bv  -  http://www.aidministrator.nl/
prinses julianaplein 14-b, 3817 cs amersfoort, the netherlands
tel. +31-(0)33-4659987   fax. +31-(0)33-4659987


=============================================================================
Background: 
=============================================================================

	* In fact we are using Lucene as a poor man's classifier.
	  A document is considered to contain a concept "A" if the document
	  matches the query specified with "A".
	  This mechanism is not only cheap because Lucene is for free,
	  it is also cheap because the creation the characteristics
	  (in this case a query) is simple and elegant. It takes a lot
	  less time than e.g. assembling a training set for each concept.
	  
	* Even though it's a poor man's solution, it is surprisingly
	  well performing. The reason is that the query can deviate a lot
	  from the concept itself and a lot of human expertise can be
	  'implemented' in the query definition.

=============================================================================
Guided exploration consists of: 
=============================================================================

    - continuous feedback to the user about the
      options which limit the amount of matching documents.
        -- there is no need for the user to type-in anything.
           Spectacle shows what it knows.
        -- eliminates the famous "no hits" behaviour of
           so many traditional sites
        -- enables guided specialization whenever the current
           result set is too large.
    - continuous feedback to the user about the
      options which lead to alternatives for the current set of matching
      documents.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 05:22:53 2003
Return-Path: 
 <lucene-user-return-4903-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94504 invoked from network); 2 Jul 2003 05:22:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 05:22:53 -0000
Received: (qmail 8603 invoked by uid 97); 2 Jul 2003 05:25:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8596 invoked from network); 2 Jul 2003 05:25:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 05:25:26 -0000
Received: (qmail 94106 invoked by uid 500); 2 Jul 2003 05:22:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94086 invoked from network); 2 Jul 2003 05:22:47 -0000
Received: from mail.gmhwh.org (12.110.19.37)
  by daedalus.apache.org with SMTP; 2 Jul 2003 05:22:47 -0000
X-Server-Uuid: 1ea73c7c-c7d8-11d5-bae0-0002a564cf8c
Message-ID: <sf0217d0.007@mail2.gmhwh.org>
Date: Tue, 01 Jul 2003 23:22:07 -0600
From: "Jim Hargrave" <hargraveje@ldschurch.org>
To: lucene-user@jakarta.apache.org
Subject: Re: Geting exact term positions for each document inside
 acollect method...
MIME-Version: 1.0
X-WSS-ID: 131CB3A0392051-01-02
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Our application indexes and retreieves sentences from a large database. Our=
 =
terms are overlapping characters (n-grams). In order to calculate our custo=
m=
 score we need to know the (relative) position of each n-gram in the matche=
d=
 sentences. I'm currently using a boolen query (each n-ngram in a big 'OR' =
statement). I will investigate customizing the query as you suggest.=20

Basically we are using Lucene as a Translation Memeory tool! Pretty cool. =
Lucene is wonderful and I think we can use it in many of our linguistic =
projects (Terminlogy, concordance, TM etc.).

Jim

>>> cutting@lucene.com 06/30/03 10:56 AM >>>
Jim Hargrave wrote:
> I've defined my own collector (I want the raw score before it is =
normalized between 1.0 and 0.0). For each document I need to know the the =
matching term positions in the document.  I've seen the methods in =
IndexReader, but how can I access them inside my collect method? Are there =
other methods I am missing?=20

No, this information is not available to the hit collector.

Why do you need this?  If it is only for summaries, then you're probably=20
better off re-tokenizing those few documents that you wish to summarize.=20
  If it is for query evaluation, then you're probably better off writing=20
a new class of query (which is non-trivial).

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
=46or additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------------=
---
This message may contain confidential information, and is intended only for=
 =
the use of the individual(s) to whom it is addressed.


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 11:09:57 2003
Return-Path: 
 <lucene-user-return-4904-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11891 invoked from network); 2 Jul 2003 11:09:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 11:09:57 -0000
Received: (qmail 16303 invoked by uid 97); 2 Jul 2003 11:12:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16296 invoked from network); 2 Jul 2003 11:12:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 11:12:19 -0000
Received: (qmail 11577 invoked by uid 500); 2 Jul 2003 11:09:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11564 invoked from network); 2 Jul 2003 11:09:53 -0000
Received: from bay7-f94.bay7.hotmail.com (HELO hotmail.com) (64.4.11.94)
  by daedalus.apache.org with SMTP; 2 Jul 2003 11:09:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 2 Jul 2003 04:09:54 -0700
Received: from 202.88.239.61 by by7fd.bay7.hotmail.msn.com with HTTP;
	Wed, 02 Jul 2003 11:09:53 GMT
X-Originating-IP: [202.88.239.61]
X-Originating-Email: [anumodhnk@hotmail.com]
From: "anumodh narayanan kutty" <anumodhnk@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: problem - pointing to last list in xml 
Date: Wed, 02 Jul 2003 11:09:53 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY7-F94DjFbUcOV1Ee000057ba@hotmail.com>
X-OriginalArrivalTime: 02 Jul 2003 11:09:54.0138 (UTC)
 FILETIME=[76EC7BA0:01C3408A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am using Lucene for implementing search,

My xml file looks like this
---------------------------------------------

<?xml version='1.0' encoding='utf-8'?>
<address-book>
    <contact type="individual">
        <name>Zane Pasolini</name>
        <address>999 W. Prince St.</address>
        <city>New York</city>
        <province>NY</province>
        <postalcode>10013</postalcode>
        <country>USA</country>
        <telephone>1-212-345-6789</telephone>
    </contact>
    <contact type="business">
        <name>SAMOFIX d.o.o.</name>
        <address>Ilica 47-2</address>
        <city>Zagreb</city>
        <province></province>
        <postalcode>10000</postalcode>
        <country>Croatia</country>
        <telephone>385-1-123-4567</telephone>
    </contact>
    <contact type="personal">
        <name>anumodh</name>
        <address>Madrid</address>
        <city>Azber</city>
        <province></province>
        <postalcode>680 594</postalcode>
        <country>Spain</country>
        <telephone>385-1-123-4567</telephone>
    </contact>

   <contact type="personal">
        <name>anumodh</name>
        <address>Madrid</address>
        <city>Azber</city>
        <province></province>
        <postalcode>680 594</postalcode>
        <country>Spain</country>
        <telephone>385-1-123-4567</telephone>
    </contact>


</address-book>



---------------------------------------------


* I implemented app using Lucene, and if i give search for "Zane" it finds 
that document , but i am not able retrieve the contents ie "Zane's city  
etc". Because it is always  pointing to the last entity of the xml docs, ie 
in this case it is pointing to  "anumodh's details".

* It is not recognzing duplicate or similar records,

plz help me to solve this prob, any good example of xml indexing & search

Happy Hacking

Anumodh

_________________________________________________________________
HCL Beanstalk PCs. You could win one. 
http://server1.msn.co.in/sp03/hclbeanstalktour/index.asp Interested?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 18:45:59 2003
Return-Path: 
 <lucene-user-return-4905-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96521 invoked from network); 2 Jul 2003 18:45:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 18:45:59 -0000
Received: (qmail 6078 invoked by uid 97); 2 Jul 2003 18:48:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6069 invoked from network); 2 Jul 2003 18:48:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 18:48:27 -0000
Received: (qmail 96209 invoked by uid 500); 2 Jul 2003 18:45:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96186 invoked from network); 2 Jul 2003 18:45:55 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 2 Jul 2003 18:45:55 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h62Ii9928518
	for <lucene-user@jakarta.apache.org>; Wed, 2 Jul 2003 11:44:09 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Wed, 2 Jul 2003 11:44:47 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Jul 2003 11:44:36 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Getting an exact field match
Date: Wed, 2 Jul 2003 11:44:36 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876017CC699@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Getting an exact field match
Thread-Index: AcNAyfytkIlaG/l5SsybNWUuJwAkew==
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 Jul 2003 18:44:36.0789 (UTC)
 FILETIME=[FCA6A650:01C340C9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am indexing XML files.  The XML files have a Location element.  For
example, the Location is /Foo/Bar.html in one of the files.

When I update the index, I want to remove the existing document.  I
search for the Location and delete the existing document like this:

Query query =3D QueryParser.parse(location, "LOCATION", new
StandardAnalyzer());
Hits hits =3D searcher.search(query);
for (int i =3D 0; i < hits.length(); i++) {
	indexReader.delete(hits.id(i));
}

But I never get anything returned from the searcher.  I'm passing in the
exact value that is in the field.  How do I get an exact match of the
field?  Should I be adding Location as Text or Keyword?  I've tried both
but can't get it to return what I want.

Is the problem because I have slashes ("/") in the field?  Does the
StandardAnalyzer filter those out or something?

Any help is appreciated!
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 21:59:31 2003
Return-Path: 
 <lucene-user-return-4906-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63216 invoked from network); 2 Jul 2003 21:59:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 21:59:31 -0000
Received: (qmail 12005 invoked by uid 97); 2 Jul 2003 22:02:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11998 invoked from network); 2 Jul 2003 22:02:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 22:02:00 -0000
Received: (qmail 62924 invoked by uid 500); 2 Jul 2003 21:59:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62913 invoked from network); 2 Jul 2003 21:59:28 -0000
Received: from fulldegree.com (192.220.91.253)
  by daedalus.apache.org with SMTP; 2 Jul 2003 21:59:28 -0000
Received: from fddell8000 (adsl-64-169-189-2.dsl.snfc21.pacbell.net
 [64.169.189.2]) by fulldegree.com (8.12.9) id h62LxVjH039968 for
 <lucene-user@jakarta.apache.org>; Wed, 2 Jul 2003 15:59:31 -0600 (MDT)
From: "Lixin Meng" <lixin@fulldegree.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Any problem with Lucene lucene-1.2-rc4 with JDK 1.4.0_03
Date: Wed, 2 Jul 2003 14:53:47 -0700
Message-ID: <GCECJJGGHMPDKKNIJCNOOEACCDAA.lixin@fulldegree.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876017CC699@gb-sm-cala-xm11.corp.disney.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have an indexer (lucene-1.2-rc4) running well under JDK 1.3.1.

However, if I switch to JDK 1.4.0_03, after indexing couple hundred
documents (~2-3K each), the memory consumption of JVM just shooting up. The
whole system basically hangs.

Anyone have similar experience with Lucene + JDK 1.4 +  Win 2K?

Lixin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 22:01:17 2003
Return-Path: 
 <lucene-user-return-4907-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66141 invoked from network); 2 Jul 2003 22:01:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 22:01:17 -0000
Received: (qmail 12051 invoked by uid 97); 2 Jul 2003 22:03:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12044 invoked from network); 2 Jul 2003 22:03:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 22:03:46 -0000
Received: (qmail 65853 invoked by uid 500); 2 Jul 2003 22:01:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65825 invoked from network); 2 Jul 2003 22:01:14 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 2 Jul 2003 22:01:14 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h62M0g910300
	for <lucene-user@jakarta.apache.org>; Wed, 2 Jul 2003 15:00:42 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Wed, 2 Jul 2003 15:01:24 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Jul 2003 15:00:45 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Results sorted by date instead of score?
Date: Wed, 2 Jul 2003 15:00:45 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7A1E@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Results sorted by date instead of score?
Thread-Index: AcNAyfytkIlaG/l5SsybNWUuJwAkewAGx00w
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 Jul 2003 22:00:46.0077 (UTC)
 FILETIME=[63B17AD0:01C340E5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Search hits come back ordered by score.  How do I get my results sorted
by the date of the article?  I have added the article date as a keyword
field.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 23:41:00 2003
Return-Path: 
 <lucene-user-return-4908-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92020 invoked from network); 2 Jul 2003 23:41:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 23:41:00 -0000
Received: (qmail 14540 invoked by uid 97); 2 Jul 2003 23:43:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14533 invoked from network); 2 Jul 2003 23:43:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 23:43:30 -0000
Received: (qmail 91705 invoked by uid 500); 2 Jul 2003 23:40:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91693 invoked from network); 2 Jul 2003 23:40:57 -0000
Received: from web40907.mail.yahoo.com (66.218.78.204)
  by daedalus.apache.org with SMTP; 2 Jul 2003 23:40:57 -0000
Message-ID: <20030702234105.37793.qmail@web40907.mail.yahoo.com>
Received: from [66.7.228.158] by web40907.mail.yahoo.com via HTTP;
 Wed, 02 Jul 2003 16:41:05 PDT
Date: Wed, 2 Jul 2003 16:41:05 -0700 (PDT)
From: Ali Rouhi <srouhi@yahoo.com>
Subject: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser"
To: lucene-user@jakarta.apache.org
Cc: arouhi@persistcorp.com, sstanley@persistcorp.com
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi

I need to perform a search for an expression in
multiple fields "as if" they were one field. This is
best illustrated by a simple example.

Find expression (X AND Y) in fields (F, G). 

I want this to translate to:

((X in F) OR (X in G)) AND ((Y in F) OR (Y in G)) 

In other words I want the query to return true *not
only* if

((X AND Y) in F) OR ((X AND Y) in G)               
(1)

but *also* the following should give me a true value

((X in F) AND (Y in G)) OR ((X in G) AND (Y in F)) 
(2)

I believe that "MultiFieldQueryParser" just gives me
(1) and leaves out the "cross terms" in(2).(If you
want a practical example of why one would want to do
such a search I would be glad to provide one).

Of course I could construct the combination of (1) and
(2) manually, but the problem is that I want the
"general solution" with a general expression being
searched for in multiple fields in the manner of the
above example.

I have a feeling that this sort of a thing is best
done by writing a custom QueryParser.jj. We use Lucene
in production code and have great java expertise, but
little JavaCC expertise. Suggestions for solving the
problem at a higher level than the QueryParser are of
course also very welcome.

Many Thanks
Ali



__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  2 23:54:59 2003
Return-Path: 
 <lucene-user-return-4909-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 648 invoked from network); 2 Jul 2003 23:54:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jul 2003 23:54:59 -0000
Received: (qmail 14786 invoked by uid 97); 2 Jul 2003 23:57:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14778 invoked from network); 2 Jul 2003 23:57:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Jul 2003 23:57:30 -0000
Received: (qmail 353 invoked by uid 500); 2 Jul 2003 23:54:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 342 invoked from network); 2 Jul 2003 23:54:57 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 2 Jul 2003 23:54:57 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 33E60B6FEB
	for <lucene-user@jakarta.apache.org>; Thu,  3 Jul 2003 09:54:48 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser"
Date: Thu, 3 Jul 2003 09:48:32 +1000
User-Agent: KMail/1.4.3
References: <20030702234105.37793.qmail@web40907.mail.yahoo.com>
In-Reply-To: <20030702234105.37793.qmail@web40907.mail.yahoo.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307030948.32677@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I need to perform a search for an expression in
> multiple fields "as if" they were one field. 

Depending on your time requirment, you can as you have suggested yourself 
write your own QueryParser. However a simple hack will be to have an "all" 
field and simple reindex the data in F and G to this "all" field. 

> little JavaCC expertise. Suggestions for solving the
> problem at a higher level than the QueryParser are of
> course also very welcome.

Well this is definitely not "higher" level than QueryParser :)

HTH
victor

On Thu, 3 Jul 2003 09:41 am, Ali Rouhi wrote:
> Hi
>
This is
> best illustrated by a simple example.
>
> Find expression (X AND Y) in fields (F, G).
>
> I want this to translate to:
>
> ((X in F) OR (X in G)) AND ((Y in F) OR (Y in G))
>
> In other words I want the query to return true *not
> only* if
>
> ((X AND Y) in F) OR ((X AND Y) in G)
> (1)
>
> but *also* the following should give me a true value
>
> ((X in F) AND (Y in G)) OR ((X in G) AND (Y in F))
> (2)
>
> I believe that "MultiFieldQueryParser" just gives me
> (1) and leaves out the "cross terms" in(2).(If you
> want a practical example of why one would want to do
> such a search I would be glad to provide one).
>
> Of course I could construct the combination of (1) and
> (2) manually, but the problem is that I want the
> "general solution" with a general expression being
> searched for in multiple fields in the manner of the
> above example.
>
> I have a feeling that this sort of a thing is best
> done by writing a custom QueryParser.jj. We use Lucene
> in production code and have great java expertise, but
>
> Many Thanks
> Ali



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 00:22:57 2003
Return-Path: 
 <lucene-user-return-4910-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24214 invoked from network); 3 Jul 2003 00:22:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 00:22:57 -0000
Received: (qmail 15934 invoked by uid 97); 3 Jul 2003 00:25:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15927 invoked from network); 3 Jul 2003 00:25:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 00:25:28 -0000
Received: (qmail 23848 invoked by uid 500); 3 Jul 2003 00:22:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23833 invoked from network); 3 Jul 2003 00:22:54 -0000
Received: from web40907.mail.yahoo.com (66.218.78.204)
  by daedalus.apache.org with SMTP; 3 Jul 2003 00:22:54 -0000
Message-ID: <20030703002302.44676.qmail@web40907.mail.yahoo.com>
Received: from [66.7.228.158] by web40907.mail.yahoo.com via HTTP;
 Wed, 02 Jul 2003 17:23:02 PDT
Date: Wed, 2 Jul 2003 17:23:02 -0700 (PDT)
From: Ali Rouhi <srouhi@yahoo.com>
Subject: Re: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200307030948.32677@bah>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


--- Victor Hadianto <victorh@nuix.com.au> wrote:
> > I need to perform a search for an expression in
> > multiple fields "as if" they were one field. 
> 
> Depending on your time requirment, you can as you
> have suggested yourself 
> write your own QueryParser. However a simple hack
> will be to have an "all" 
> field and simple reindex the data in F and G to this
> "all" field. 
> 

We have thought of this - but we index an enormous
amount of data (Terabytes distributed across many
linux boxes) and would prefer to save the disk space.
However we may indeed end up doing what you suggest.

> > little JavaCC expertise. Suggestions for solving
> the
> > problem at a higher level than the QueryParser are
> of
> > course also very welcome.
> 
> Well this is definitely not "higher" level than
> QueryParser :)

This in itself is useful to know. I can now justify
having to learn JavaCC to my boss:).

Thanks
Ali

__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 00:27:18 2003
Return-Path: 
 <lucene-user-return-4911-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31358 invoked from network); 3 Jul 2003 00:27:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 00:27:18 -0000
Received: (qmail 16018 invoked by uid 97); 3 Jul 2003 00:29:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16011 invoked from network); 3 Jul 2003 00:29:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 00:29:49 -0000
Received: (qmail 31056 invoked by uid 500); 3 Jul 2003 00:27:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31044 invoked from network); 3 Jul 2003 00:27:15 -0000
Received: from web40903.mail.yahoo.com (66.218.78.200)
  by daedalus.apache.org with SMTP; 3 Jul 2003 00:27:15 -0000
Message-ID: <20030703002724.25846.qmail@web40903.mail.yahoo.com>
Received: from [66.7.228.158] by web40903.mail.yahoo.com via HTTP;
 Wed, 02 Jul 2003 17:27:24 PDT
Date: Wed, 2 Jul 2003 17:27:24 -0700 (PDT)
From: Ali Rouhi <srouhi@yahoo.com>
Subject: Re: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser"
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030703002302.44676.qmail@web40907.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


--- Ali Rouhi <srouhi@yahoo.com> wrote:
> 
> --- Victor Hadianto <victorh@nuix.com.au> wrote:
> > > I need to perform a search for an expression in
> > > multiple fields "as if" they were one field. 
> > 
> > Depending on your time requirment, you can as you
> > have suggested yourself 
> > write your own QueryParser. However a simple hack
> > will be to have an "all" 
> > field and simple reindex the data in F and G to
> this
> > "all" field. 
> > 
> 
> We have thought of this - but we index an enormous
> amount of data (Terabytes distributed across many
> linux boxes) and would prefer to save the disk
> space.
> However we may indeed end up doing what you suggest.

Just a little clarification to the point I made
regarding your suggestion. We do need to preserve the
indexes under F and G and be able to search
independently on them. This is why having an extra ALL
field which contains contents of both F and G would
involve extra disc usages.

Ali
> 
> > > little JavaCC expertise. Suggestions for solving
> > the
> > > problem at a higher level than the QueryParser
> are
> > of
> > > course also very welcome.
> > 
> > Well this is definitely not "higher" level than
> > QueryParser :)
> 
> This in itself is useful to know. I can now justify
> having to learn JavaCC to my boss:).
> 
> Thanks
> Ali
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 08:41:31 2003
Return-Path: 
 <lucene-user-return-4912-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63846 invoked from network); 3 Jul 2003 08:41:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 08:41:31 -0000
Received: (qmail 24523 invoked by uid 97); 3 Jul 2003 08:44:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24516 invoked from network); 3 Jul 2003 08:44:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 08:44:06 -0000
Received: (qmail 63264 invoked by uid 500); 3 Jul 2003 08:41:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63167 invoked from network); 3 Jul 2003 08:41:25 -0000
Received: from bisoxmsw.blackwell.co.uk (193.82.198.160)
  by daedalus.apache.org with SMTP; 3 Jul 2003 08:41:25 -0000
Received: from venus.digimem.net (ns0.digimem.net) by bisoxmsw.blackwell.co.uk
 (Content Technologies SMTPRS 4.2.5) with SMTP id
 <T6333f28877c0a8faa1139@bisoxmsw.blackwell.co.uk>;
 Thu, 3 Jul 2003 09:41:34 +0100
Received: from venus (venus [192.168.251.161])
	by venus.digimem.net (Postfix) with ESMTP
	id 81F312E27; Thu,  3 Jul 2003 09:41:32 +0100 (BST)
Message-ID: <1505915.1057221692398.JavaMail.digimem@venus>
Date: Thu, 3 Jul 2003 09:41:32 +0100 (BST)
From: Ian Lea <ian@digimem.net>
To: "Wilton, Reece" <Reece.Wilton@dig.com>
Subject: Re: Getting an exact field match
Cc: lucene-user@jakarta.apache.org
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_Part_252_5765853.1057221692392"
X-Mailer: digimemmailer v1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_Part_252_5765853.1057221692392
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

Add Location as Keyword and delete something like this:

 Term t = new Term("LOCATION", location);
 indexReader.delete(t);



--
Ian.
ian@digimem.net


> Reece.Wilton@dig.com ("Wilton, Reece") wrote 
>
> Hi,
> 
> I am indexing XML files.  The XML files have a Location element.  For
> example, the Location is /Foo/Bar.html in one of the files.
> 
> When I update the index, I want to remove the existing document.  I
> search for the Location and delete the existing document like this:
> 
> Query query = QueryParser.parse(location, "LOCATION", new
> StandardAnalyzer());
> Hits hits = searcher.search(query);
> for (int i = 0; i < hits.length(); i++) {
> 	indexReader.delete(hits.id(i));
> }
> 
> But I never get anything returned from the searcher.  I'm passing in the
> exact value that is in the field.  How do I get an exact match of the
> field?  Should I be adding Location as Text or Keyword?  I've tried both
> but can't get it to return what I want.
> 
> Is the problem because I have slashes ("/") in the field?  Does the
> StandardAnalyzer filter those out or something?
> 
> Any help is appreciated!
> Reece
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/


------=_Part_252_5765853.1057221692392
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_Part_252_5765853.1057221692392--


From MAILER-DAEMON Thu Jul  3 12:35:20 2003
Return-Path: 
 <lucene-user-return-4913-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62600 invoked from network); 3 Jul 2003 12:35:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 12:35:20 -0000
Received: (qmail 7238 invoked by uid 97); 3 Jul 2003 12:37:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7231 invoked from network); 3 Jul 2003 12:37:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 12:37:43 -0000
Received: (qmail 62273 invoked by uid 500); 3 Jul 2003 12:35:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62258 invoked from network); 3 Jul 2003 12:35:17 -0000
Received: from mail.polopoly.com (62.95.90.145)
  by daedalus.apache.org with SMTP; 3 Jul 2003 12:35:17 -0000
Received: from polopoly.com (holmer.intra.polopoly.com [172.31.252.180])
	by mail.polopoly.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP id
 h63CYiJ23077
	for <lucene-user@jakarta.apache.org>; Thu, 3 Jul 2003 14:34:45 +0200
Message-ID: <3F042367.3020406@polopoly.com>
Date: Thu, 03 Jul 2003 14:36:55 +0200
From: Claes Holmerson <claes.holmerson@polopoly.com>
Organization: Polopoly AB
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.0) Gecko/20020529
X-Accept-Language: en-us, en, sv
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Understanding how indexing works
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

In my job, I have become the new maintainer of a search feature that 
uses Lucene. I am trying to understand how it works by examining the 
index it produces.

When I list index fields by opening an IndexReader, looping over 
documents, then looping over fields with Document.fields(), I see a 
number of fields. However, I don't see the fields that are searchable 
within this document.

If I do IndexReader.terms() directly and then Term.field() on each term, 
I see fields that no longer should exist since the documents containing 
them have been deleted. Is this like it should be?

How can I easily tell if a term is no longer searchable (or rather 
successfully found, when searching), apart from actually doing the 
search? Is there a way to list those terms?

Thanks,
Claes

-- 
Claes Holmerson
Polopoly - Cultivating the information garden
Kungsgatan 88, SE-112 27 Stockholm, SWEDEN
Direct: +46 8 506 782 59
Mobile: +46 704 47 82 59
Fax:  +46 8 506 782 51
claes.holmerson@polopoly.com, http://www.polopoly.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 13:27:20 2003
Return-Path: 
 <lucene-user-return-4914-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87042 invoked from network); 3 Jul 2003 13:27:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 13:27:20 -0000
Received: (qmail 8832 invoked by uid 97); 3 Jul 2003 13:29:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8825 invoked from network); 3 Jul 2003 13:29:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 13:29:44 -0000
Received: (qmail 78860 invoked by uid 500); 3 Jul 2003 13:25:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78804 invoked from network); 3 Jul 2003 13:25:13 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 3 Jul 2003 13:25:12 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id N26JPZPM; Thu, 3 Jul 2003 09:28:52 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Results sorted by date instead of score?
Date: Thu, 3 Jul 2003 09:25:21 -0400
Message-ID: <004d01c34166$938914d0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7A1E@gb-sm-cala-xm11.corp.disney.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You'll need to sort the results after you collected them. There is a
project called SortedField in lucene's contribution or sandbox (I don't
remember exactly) which will help you sort by any field.

-----Original Message-----
From: Wilton, Reece [mailto:Reece.Wilton@dig.com] 
Sent: Wednesday, July 02, 2003 6:01 PM
To: lucene-user@jakarta.apache.org
Subject: Results sorted by date instead of score?


Search hits come back ordered by score.  How do I get my results sorted
by the date of the article?  I have added the article date as a keyword
field.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 17:02:29 2003
Return-Path: 
 <lucene-user-return-4915-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24122 invoked from network); 3 Jul 2003 17:02:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:02:29 -0000
Received: (qmail 16439 invoked by uid 97); 3 Jul 2003 17:04:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16432 invoked from network); 3 Jul 2003 17:04:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 17:04:55 -0000
Received: (qmail 23857 invoked by uid 500); 3 Jul 2003 17:02:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23846 invoked from network); 3 Jul 2003 17:02:26 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:02:26 -0000
Received: (qmail 16413 invoked from network); 3 Jul 2003 17:02:29 -0000
Received: from unknown (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 3 Jul 2003 17:02:29 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: <lucene-user@jakarta.apache.org>
Subject: What could be the table structure 
Date: Thu, 3 Jul 2003 13:03:05 -0400
Message-ID: <000e01c34184$f8438950$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000F_01C34163.7131E950"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C34163.7131E950
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
I am new to this mailing list. I am thinking of designing search tool
for my web site which has documents (PDF's, DOC, PPT) and HTML, XML
pages of course.
I want to design basic search engine which can auto index when new item
is added and give search results for all including documents and HTML
pages. I want to use SQL Server to store index pages and so confused
about what should be the table structure to make search engine with
Lucene. 
Please reply if somebody did similar work earlier using SQL Server to
store index pages or documents 
How should I represent output page having search results. Can I get
source code of someone's personal search engine using Lucene just to get
help to develop for my own personal web page?
 
Sorry if I wrote something wrong as I am new to this list.
 
Thanks,
Jagdip

------=_NextPart_000_000F_01C34163.7131E950--


From MAILER-DAEMON Thu Jul  3 17:35:34 2003
Return-Path: 
 <lucene-user-return-4916-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91730 invoked from network); 3 Jul 2003 17:35:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:35:34 -0000
Received: (qmail 17528 invoked by uid 97); 3 Jul 2003 17:38:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17521 invoked from network); 3 Jul 2003 17:38:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 17:38:01 -0000
Received: (qmail 91434 invoked by uid 500); 3 Jul 2003 17:35:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91423 invoked from network); 3 Jul 2003 17:35:31 -0000
Received: from unknown (HELO signaturedomains.com) (216.242.178.109)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:35:31 -0000
Received: from anthonyeden.com (berenice.gallery [10.1.192.28])
	by signaturedomains.com (8.9.3/8.8.7) with ESMTP id MAA17417
	for <lucene-user@jakarta.apache.org>; Thu, 3 Jul 2003 12:32:55 -0400
Message-ID: <3F046965.8070504@anthonyeden.com>
Date: Thu, 03 Jul 2003 13:35:33 -0400
From: Anthony Eden <me@anthonyeden.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3.1) Gecko/20030425
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: What could be the table structure
References: <000e01c34184$f8438950$f3af1581@VALUEDDC3E02C5>
In-Reply-To: <000e01c34184$f8438950$f3af1581@VALUEDDC3E02C5>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I wrote a Directory implementation which allows you to store indeces in 
a database.  Currently I have only tested it on MySQL but you should be 
able to get it to work on SQL Server I imagine.  If you do then please 
send me a copy of the DB schema to add in.  If you can't get it to work 
then please send an email and I'll try to help you out.

Download:

   http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.tar.gz
   http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.zip

Sincerely,
Anthony Eden

Jagdip Singh wrote:
> Hi,
> I am new to this mailing list. I am thinking of designing search tool
> for my web site which has documents (PDF's, DOC, PPT) and HTML, XML
> pages of course.
> I want to design basic search engine which can auto index when new item
> is added and give search results for all including documents and HTML
> pages. I want to use SQL Server to store index pages and so confused
> about what should be the table structure to make search engine with
> Lucene. 
> Please reply if somebody did similar work earlier using SQL Server to
> store index pages or documents 
> How should I represent output page having search results. Can I get
> source code of someone's personal search engine using Lucene just to get
> help to develop for my own personal web page?
>  
> Sorry if I wrote something wrong as I am new to this list.
>  
> Thanks,
> Jagdip
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 17:42:51 2003
Return-Path: 
 <lucene-user-return-4917-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11646 invoked from network); 3 Jul 2003 17:42:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:42:51 -0000
Received: (qmail 17922 invoked by uid 97); 3 Jul 2003 17:45:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17915 invoked from network); 3 Jul 2003 17:45:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 17:45:17 -0000
Received: (qmail 11325 invoked by uid 500); 3 Jul 2003 17:42:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11312 invoked from network); 3 Jul 2003 17:42:47 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:42:47 -0000
Received: (qmail 21775 invoked from network); 3 Jul 2003 17:42:51 -0000
Received: from unknown (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 3 Jul 2003 17:42:51 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: What could be the table structure
Date: Thu, 3 Jul 2003 13:43:26 -0400
Message-ID: <001601c3418a$9ba526d0$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <3F046965.8070504@anthonyeden.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Anthony

-----Original Message-----
From: Anthony Eden [mailto:me@anthonyeden.com] 
Sent: Thursday, July 03, 2003 1:36 PM
To: Lucene Users List
Subject: Re: What could be the table structure

I wrote a Directory implementation which allows you to store indeces in 
a database.  Currently I have only tested it on MySQL but you should be 
able to get it to work on SQL Server I imagine.  If you do then please 
send me a copy of the DB schema to add in.  If you can't get it to work 
then please send an email and I'll try to help you out.

Download:

   http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.tar.gz
   http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.zip

Sincerely,
Anthony Eden

Jagdip Singh wrote:
> Hi,
> I am new to this mailing list. I am thinking of designing search tool
> for my web site which has documents (PDF's, DOC, PPT) and HTML, XML
> pages of course.
> I want to design basic search engine which can auto index when new
item
> is added and give search results for all including documents and HTML
> pages. I want to use SQL Server to store index pages and so confused
> about what should be the table structure to make search engine with
> Lucene. 
> Please reply if somebody did similar work earlier using SQL Server to
> store index pages or documents 
> How should I represent output page having search results. Can I get
> source code of someone's personal search engine using Lucene just to
get
> help to develop for my own personal web page?
>  
> Sorry if I wrote something wrong as I am new to this list.
>  
> Thanks,
> Jagdip
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul  3 17:49:57 2003
Return-Path: 
 <lucene-user-return-4918-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26748 invoked from network); 3 Jul 2003 17:49:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:49:57 -0000
Received: (qmail 19123 invoked by uid 97); 3 Jul 2003 17:52:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19111 invoked from network); 3 Jul 2003 17:52:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Jul 2003 17:52:24 -0000
Received: (qmail 26400 invoked by uid 500); 3 Jul 2003 17:49:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26328 invoked from network); 3 Jul 2003 17:49:54 -0000
Received: from smtpzilla2.xs4all.nl (194.109.127.138)
  by daedalus.apache.org with SMTP; 3 Jul 2003 17:49:54 -0000
Received: from as800 (a80-127-237-226.dial.xs4all.nl [80.127.237.226])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id h63HnttI086014;
	Thu, 3 Jul 2003 19:49:56 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   Claes Holmerson <claes.holmerson@polopoly.com>
Subject: Re: Understanding how indexing works
Date: Thu, 3 Jul 2003 19:44:22 -0700
User-Agent: KMail/1.4.3
References: <3F042367.3020406@polopoly.com>
In-Reply-To: <3F042367.3020406@polopoly.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200307031944.22858.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Claes,

On Thursday 03 July 2003 05:36, Claes Holmerson wrote:
> Hi,
>
> In my job, I have become the new maintainer of a search feature that
> uses Lucene. I am trying to understand how it works by examining the
> index it produces.
>
> When I list index fields by opening an IndexReader, looping over
> documents, then looping over fields with Document.fields(), I see a
> number of fields. However, I don't see the fields that are searchable
> within this document.

You only see the stored fields that way.

> If I do IndexReader.terms() directly and then Term.field() on each term=
,
> I see fields that no longer should exist since the documents containing
> them have been deleted. Is this like it should be?

Until you optimize the index, yes.

> How can I easily tell if a term is no longer searchable (or rather
> successfully found, when searching), apart from actually doing the

Optimize before checking the index for the term.

> search? Is there a way to list those terms?

Yes, but it is slow: for each term, check whether
the associated documents are all deleted.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul  4 14:58:44 2003
Return-Path: 
 <lucene-user-return-4919-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94506 invoked from network); 4 Jul 2003 14:58:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Jul 2003 14:58:44 -0000
Received: (qmail 16565 invoked by uid 97); 4 Jul 2003 15:01:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16558 invoked from network); 4 Jul 2003 15:01:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Jul 2003 15:01:11 -0000
Received: (qmail 94222 invoked by uid 500); 4 Jul 2003 14:58:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94210 invoked from network); 4 Jul 2003 14:58:40 -0000
Received: from unknown (HELO itapoa.datasul.net) (200.215.96.201)
  by daedalus.apache.org with SMTP; 4 Jul 2003 14:58:40 -0000
Received: from 172.16.1.80 by itapoa.datasul.net (InterScan E-Mail VirusWall
 NT); Fri, 04 Jul 2003 11:56:21 -0300
Received: by itapoa with Internet Mail Service (5.5.2653.19)
	id <3GR8XHHL>; Fri, 4 Jul 2003 11:51:21 -0300
Message-ID: <418A5677CF05084F8D50372532E8AF3202770A1A@itapoa>
From: Flavio Eduardo de Cordova <flavio.cordova@datasul.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene 1.3rc1 on Java 1.3
Date: Fri, 4 Jul 2003 11:51:20 -0300 
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

People..

	I have a class that searchs for some documents in an existing index
(see the code below). It works fine when I run it on a 1.4 JVM but it throws
a NullPointerException (or crashes the JVM, in another computer) when I run
it on a 1.3 JVM.
	I'm using Lucene 1.3rc1 and the exception/crash occurs in the
"search" method.

	Is it a bug ? Should I be doing something else ? Have you been using
1.3rc1 on 1.3 JVMs ?


public static void searchIndex(String path, String field, String queryStr,
String retField) {
	try {
		Searcher searcher = new IndexSearcher(path);
		MyOwnAnalyser analyser = new MyOwnAnalyser(); 
		Query query = QueryParser.parse(queryStr, field, analyser);

		Hits hits = searcher.search(query); //, filter);
		for(int i=0; i<hits.length(); i++) {
			Document doc = hits.doc(i);
			float score = hits.score(i);
			System.out.println("Found document \"" +
doc.get(retField));
		}
	} catch (Exception e1) {
		e1.printStackTrace();
	}
}


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul  4 15:30:51 2003
Return-Path: 
 <lucene-user-return-4920-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35470 invoked from network); 4 Jul 2003 15:30:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Jul 2003 15:30:51 -0000
Received: (qmail 17234 invoked by uid 97); 4 Jul 2003 15:33:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17227 invoked from network); 4 Jul 2003 15:33:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Jul 2003 15:33:18 -0000
Received: (qmail 35194 invoked by uid 500); 4 Jul 2003 15:30:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35177 invoked from network); 4 Jul 2003 15:30:48 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 4 Jul 2003 15:30:48 -0000
Received: from jivesoftware.com
 (Omega1@CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com
 [24.153.2.131])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h64FUoE12654
	for <lucene-user@jakarta.apache.org>; Fri, 4 Jul 2003 08:30:50 -0700
Message-ID: <3F059DAB.6080004@jivesoftware.com>
Date: Fri, 04 Jul 2003 11:30:51 -0400
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-ca, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.3rc1 on Java 1.3
References: <418A5677CF05084F8D50372532E8AF3202770A1A@itapoa>
In-Reply-To: <418A5677CF05084F8D50372532E8AF3202770A1A@itapoa>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature";
 micalg=sha1; boundary="------------ms040400070702010504040001"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------ms040400070702010504040001
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Flavio Eduardo de Cordova wrote:
> 	I have a class that searchs for some documents in an existing index
> (see the code below). It works fine when I run it on a 1.4 JVM but it throws
> a NullPointerException (or crashes the JVM, in another computer) when I run
> it on a 1.3 JVM.
> 	I'm using Lucene 1.3rc1 and the exception/crash occurs in the
> "search" method.
> 
> 	Is it a bug ? Should I be doing something else ? Have you been using
> 1.3rc1 on 1.3 JVMs ?

I believe the bug only affects JDK 1.3.0, I've never seen this issue on any JDK newer than and 
including 1.3.1. I think there may be a bug report logged against this bug already IIRC.


Regards,

Bruce Ritchie

--------------ms040400070702010504040001
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJWDCC
AwowggJzoAMCAQICAwht7zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAyMTAwNzIwNTMyOFoXDTAzMTAwNzIwNTMyOFowSDEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VA
aml2ZXNvZnR3YXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN1qo82c
agU3foe/NdBpl0qE2gtfjKV21zQM6NjXgfi4saTNwMvPJCpoU4KXCQZC+sPOll23eo0dtugN
q/70apl32G7TwckV24aL0MYbWZhr8s75k6OTfGS57w8J2T60Zi7BDEEUv8vjUG/eRYV8pSK1
3Acix+FPhN8sW+NFF0Hfe9z7brpJ/7BTsiHcEXwdqlR/XjPgcNpCbQ/QQJkf3Zmx3XYBfn7T
3fyhSm4uhPNkz941HTblz6+VBB/ICubucm+Pz5gSpHYGBm+J8jnimVMQEX1LL/wInN7vwutu
sIMLoQ8C1YAQMUCnITEA38kg5ZHBwD0I/odURGXdKCjAdlECAwEAAaMzMDEwIQYDVR0RBBow
GIEWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUA
A4GBAA+U/df/1mU5jG7Ksuc2wX+V/oUt6telqLGQNn/BdKJlsUTDFHvs2QUeaeWwmbNsbXiC
JSowxA4lrUZaLdj8NZcjhdZhFqJpU/ksyem45qRYYHVMnWpoII7dSUmLQWntM70497rSUUD2
CSwJ4JfceLLDO0PKOzlCR+gmbYFTJzrdMIIDCjCCAnOgAwIBAgIDCG3vMA0GCSqGSIb3DQEB
BAUAMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlD
YXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vydmlj
ZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwHhcNMDIxMDA3
MjA1MzI4WhcNMDMxMDA3MjA1MzI4WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVt
YmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WqjzZxqBTd+h7810GmXSoTaC1+MpXbXNAzo2NeB+Lix
pM3Ay88kKmhTgpcJBkL6w86WXbd6jR226A2r/vRqmXfYbtPByRXbhovQxhtZmGvyzvmTo5N8
ZLnvDwnZPrRmLsEMQRS/y+NQb95FhXylIrXcByLH4U+E3yxb40UXQd973Ptuukn/sFOyIdwR
fB2qVH9eM+Bw2kJtD9BAmR/dmbHddgF+ftPd/KFKbi6E82TP3jUdNuXPr5UEH8gK5u5yb4/P
mBKkdgYGb4nyOeKZUxARfUsv/Aic3u/C626wgwuhDwLVgBAxQKchMQDfySDlkcHAPQj+h1RE
Zd0oKMB2UQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAD5T91//WZTmMbsqy5zbBf5X+hS3q16Wo
sZA2f8F0omWxRMMUe+zZBR5p5bCZs2xteIIlKjDEDiWtRlot2Pw1lyOF1mEWomlT+SzJ6bjm
pFhgdUydamggjt1JSYtBae0zvTj3utJRQPYJLAngl9x4ssM7Q8o7OUJH6CZtgVMnOt0wggM4
MIICoaADAgECAhBmRXK3zHT1z2N2RYTQLpEBMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQG
EwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNV
BAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2Vz
IERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzApBgkq
hkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20wHhcNMDAwODMwMDAwMDAw
WhcNMDQwODI3MjM1OTU5WjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDeMzKmY8cJJUU+0m54J2eBxdqIGYKX
DuNEKYpjNSptcDz63K737nRvMLwzkH/5NHGgo22Y8cNPomXbDfpL8dbdYaX5hc1VmjUanZJ1
qCeu2HL5ugL217CR3hzpq+AYA6h8Q0JQUYeDPPA5tJtUihOH/7ObnUlmAC0JieyUa+mhaQID
AQABo04wTDApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMS0yOTcwEgYD
VR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEEBQADgYEAMbFLR135
AXHl9VNsXXnWPZjAJhNigSKnEvgilegbSbcnewQ5uvzm8iTrkfq97A0qOPdQVahs9w2tTBu8
A/S166JHn2yiDFiNMUIJEWywGmnRKxKyQF1q+XnQ6i4l3Yrk/NsNH50C81rbyjz2ROomaYd/
SJ7OpZ/nhNjJYmKtBcYxggPVMIID0QIBATCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgT
DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAb
BgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFp
bCBSU0EgMjAwMC44LjMwAgMIbe8wCQYFKw4DAhoFAKCCAg8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMwNzA0MTUzMDUxWjAjBgkqhkiG9w0BCQQxFgQU
oYEs45z9LZ26rBGN4ODiOV6Zjx8wUgYJKoZIhvcNAQkPMUUwQzAKBggqhkiG9w0DBzAOBggq
hkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwgasG
CSsGAQQBgjcQBDGBnTCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwAgMIbe8wga0GCyqGSIb3DQEJEAILMYGdoIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UE
CBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEd
MBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVt
YWlsIFJTQSAyMDAwLjguMzACAwht7zANBgkqhkiG9w0BAQEFAASCAQAs5A3NRHEo49OHje4R
YHlgK9H1Z40pAgs+gzFOnXA6xOp/8yOrqN53RO0IjV4NJPWb02RBx5pJrDxVbntljftThN+a
hPG9Y7YdX+hYdUPQ8IeDfFJrBqZARBG0GuwS8DGmuG2TEZITfmvwWAx/mGnTecaYIv1fBgdu
LlYaG8F21PYKMoRONDg32AvwWxTbvBkZfiJY4rwe7aeOOi2Rjz9yT3UH5G5BgfSzzQYqddaM
oOewAQqVxCKJE1INO3vvVc2q/r+eMYJGWchD+4rPHZ1qeugLA/dWNlEytuKD+8h9p6d2t0AQ
tmRRcFxQ9csqslshRbTBCd6PCubR3cKsW307AAAAAAAA
--------------ms040400070702010504040001--


From MAILER-DAEMON Fri Jul  4 19:13:53 2003
Return-Path: 
 <lucene-user-return-4921-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34456 invoked from network); 4 Jul 2003 19:13:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Jul 2003 19:13:53 -0000
Received: (qmail 24177 invoked by uid 97); 4 Jul 2003 19:16:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24170 invoked from network); 4 Jul 2003 19:16:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Jul 2003 19:16:22 -0000
Received: (qmail 34162 invoked by uid 500); 4 Jul 2003 19:13:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34143 invoked from network); 4 Jul 2003 19:13:49 -0000
Received: from unknown (HELO itapoa.datasul.net) (200.215.96.201)
  by daedalus.apache.org with SMTP; 4 Jul 2003 19:13:49 -0000
Received: from 172.16.1.80 by itapoa.datasul.net (InterScan E-Mail VirusWall
 NT); Fri, 04 Jul 2003 16:10:53 -0300
Received: by itapoa with Internet Mail Service (5.5.2653.19)
	id <3GR8X3WG>; Fri, 4 Jul 2003 16:10:53 -0300
Message-ID: <418A5677CF05084F8D50372532E8AF3202770F94@itapoa>
From: Flavio Eduardo de Cordova <flavio.cordova@datasul.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RES: Lucene 1.3rc1 on Java 1.3
Date: Fri, 4 Jul 2003 16:10:52 -0300 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You're probably right.. the JVM I have installed is JDK 1.3.0 !

Thanks !

-----Mensagem original-----
De: Bruce Ritchie [mailto:bruce@jivesoftware.com]
Enviada em: sexta-feira, 4 de julho de 2003 12:31
Para: Lucene Users List
Assunto: Re: Lucene 1.3rc1 on Java 1.3


Flavio Eduardo de Cordova wrote:
> 	I have a class that searchs for some documents in an existing index
> (see the code below). It works fine when I run it on a 1.4 JVM but it
throws
> a NullPointerException (or crashes the JVM, in another computer) when I
run
> it on a 1.3 JVM.
> 	I'm using Lucene 1.3rc1 and the exception/crash occurs in the
> "search" method.
> 
> 	Is it a bug ? Should I be doing something else ? Have you been using
> 1.3rc1 on 1.3 JVMs ?

I believe the bug only affects JDK 1.3.0, I've never seen this issue on any
JDK newer than and 
including 1.3.1. I think there may be a bug report logged against this bug
already IIRC.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul  6 12:00:29 2003
Return-Path: 
 <lucene-user-return-4922-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37465 invoked from network); 6 Jul 2003 12:00:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jul 2003 12:00:29 -0000
Received: (qmail 4991 invoked by uid 97); 6 Jul 2003 12:02:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4981 invoked from network); 6 Jul 2003 12:02:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 Jul 2003 12:02:55 -0000
Received: (qmail 37177 invoked by uid 500); 6 Jul 2003 12:00:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37166 invoked from network); 6 Jul 2003 12:00:26 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 6 Jul 2003 12:00:26 -0000
Received: (qmail 25473 invoked from network); 6 Jul 2003 12:00:09 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 6 Jul 2003 12:00:09 -0000
Message-ID: <05cb01c343b6$29f81960$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3B48940F2D7712428BD31A041A367DDC0159CF@lrrr>
 <3EDC9248.1070605@anthonyeden.com>
Subject: Re: AW: DBDirectory available for download
Date: Sun, 6 Jul 2003 14:00:11 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have just downloaded DBDirectory, changed what was needed to make it run
with Firebird and tried using it. I'm sorry to say, writing the index is so
slow as to make it useless. I have not done anything to find the problem -
and I don't think I will find the time for it... :-( Could be the BLOB
handling in the driver? Every 10 addDocument it stalls and
writer.optimize(); is really bad...

And as for changes needed to run this on interbase (I can post the source if
needed) - a column cannot be named "length", int(XX) needs to be changed,
the code for getting the lock reads "insert into XXX set name = ?,
directory_name=?" but needs to be "insert into XXX (name, dir_name) values
(?,?)" of cause.

Jan Agermose


----- Original Message ----- 
From: "Anthony Eden" <me@anthonyeden.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, June 03, 2003 2:19 PM
Subject: Re: AW: DBDirectory available for download


> No.  Are there any standard test suites already for performance testing
> included with Lucene?
>
> Sincerely,
> Anthony Eden
>
> Karsten Konrad wrote:
>
> >Thanks,
> >
> >do you have already some numbers how it compares to the
> >file system implementation, i.e., how fast is indexing
> >and searching?
> >
> >Regards,
> >
> >Karsten
> >
> >-----Urspr�ngliche Nachricht-----
> >Von: Anthony Eden [mailto:me@anthonyeden.com]
> >Gesendet: Montag, 2. Juni 2003 22:23
> >An: Lucene Users List
> >Betreff: DBDirectory available for download
> >
> >
> >Version 1.0 of the DBDirectory library, which implements a Directory
> >which can store indeces in a database is now available for download.
> >There are two versions:
> >
> >   Tar GZIP:
> >http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.tar.gz
> >   ZIP: http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.zip
> >
> >The source code is included.  Please read the README file for
> >instructions on using DBDirectory.  I have only tested it with MySQL but
> >would be happy to add other database scripts if anyone would like to
> >submit them.  Please post any questions here on the mailing list.
> >
> >Otis, is there anything left to do to get this into the sandbox?
> >Additionally, how will I maintain the code if it is in the sandbox?
> >Will I get write access to the part of the CVS repository which would
> >house DBDirectory?  I currently have all of the code in my private CVS.
> >
> >Sincerely,
> >Anthony Eden
> >
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul  6 13:07:35 2003
Return-Path: 
 <lucene-user-return-4923-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72562 invoked from network); 6 Jul 2003 13:07:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jul 2003 13:07:35 -0000
Received: (qmail 6593 invoked by uid 97); 6 Jul 2003 13:10:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6586 invoked from network); 6 Jul 2003 13:10:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 Jul 2003 13:10:01 -0000
Received: (qmail 72246 invoked by uid 500); 6 Jul 2003 13:07:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72233 invoked from network); 6 Jul 2003 13:07:33 -0000
Received: from imf16aec.mail.bellsouth.net (HELO imf16aec.bellsouth.net)
 (205.152.59.64)
  by daedalus.apache.org with SMTP; 6 Jul 2003 13:07:33 -0000
Received: from anthonyeden.com ([67.34.234.192]) by imf16aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030706130730.SZYK15998.imf16aec.bellsouth.net@anthonyeden.com>
          for <lucene-user@jakarta.apache.org>;
          Sun, 6 Jul 2003 09:07:30 -0400
Message-ID: <3F081F12.3070707@anthonyeden.com>
Date: Sun, 06 Jul 2003 09:07:30 -0400
From: Anthony Eden <me@anthonyeden.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3.1) Gecko/20030425
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: DBDirectory available for download
References: <3B48940F2D7712428BD31A041A367DDC0159CF@lrrr>
 <3EDC9248.1070605@anthonyeden.com>
 <05cb01c343b6$29f81960$1901a8c0@csiteoffice.csite.com>
In-Reply-To: <05cb01c343b6$29f81960$1901a8c0@csiteoffice.csite.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Jan Agermose wrote:

>I have just downloaded DBDirectory, changed what was needed to make it run
>with Firebird and tried using it. I'm sorry to say, writing the index is so
>slow as to make it useless. I have not done anything to find the problem -
>and I don't think I will find the time for it... :-( Could be the BLOB
>handling in the driver? Every 10 addDocument it stalls and
>writer.optimize(); is really bad...
> 
>
If you do find the problem please let me known so I can change it.  I'll 
try to hunt it down as well.

>
>And as for changes needed to run this on interbase (I can post the source if
>needed) - a column cannot be named "length", int(XX) needs to be changed,
>the code for getting the lock reads "insert into XXX set name = ?,
>directory_name=?" but needs to be "insert into XXX (name, dir_name) values
>(?,?)" of cause.
>  
>
If you can send me a schema for Interbase I will include it in the 
distribution.

Sincerely,
Anthony Eden


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul  6 20:49:57 2003
Return-Path: 
 <lucene-user-return-4924-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8648 invoked from network); 6 Jul 2003 20:49:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jul 2003 20:49:57 -0000
Received: (qmail 17097 invoked by uid 97); 6 Jul 2003 20:52:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17090 invoked from network); 6 Jul 2003 20:52:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 Jul 2003 20:52:28 -0000
Received: (qmail 8322 invoked by uid 500); 6 Jul 2003 20:49:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8307 invoked from network); 6 Jul 2003 20:49:55 -0000
Received: from mail-8.tiscali.it (195.130.225.154)
  by daedalus.apache.org with SMTP; 6 Jul 2003 20:49:55 -0000
Received: from ARIEL (217.133.145.192) by mail-8.tiscali.it (6.7.016)
        id 3EFDEF8E0048FBCD for lucene-user@jakarta.apache.org;
 Sun, 6 Jul 2003 22:50:00 +0200
Message-ID: <008801c34400$2a67f290$2700a8c0@ARIEL>
From: "Francesco Bellomi" <fbellomi@libero.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Directory implementation using NIO
Date: Sun, 6 Jul 2003 22:49:59 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I developed a Directory implementation that accesses an index stored on the
filesystem using memory-mapped files (as provided by the NIO API, introduced
in Java 1.4).

You can download the complied jar and the source from here:
www.fran.it/lucene-NIO.zip

Basically there are 3 new classes: NIODirectory, NIOInputStream and
NIOOutputStream. They are heavily based on FSDirectory, FSInputStream and
FSOutputStream.

NIOInputStram provides memory-mapped access to files. It does not rely on
Lucene InputStream's caching feature, since direct access to the
memory-mapped file should be faster. Also, cloned stream with independent
positions are implemented using NIO buffer duplication (a buffer duplicate
holds the same content but has its own position), and so the implementation
logic is much simpler than FSInputStream's.

Some methods of Directory have been overridden to replace the caching
feature. Some of then were final in Directory, so I have used a slightly
modified version of Directory.java (BTW, I wonder why so many methods in
Lucene are made final...)

These classes only works with the recently released Java 1.4.2. This is due
to the fact that buffers connected with memory-mapped files could not be
programmatically unmapped in previous releases, (they were unmapped only
through finalization) and actively mapped files cannot be deleted. These
issue are partially resolved with 1.4.2.

NIOOutputStream is the same as FSOutputStream; I don't know any way to take
advantege of NIO for writing indexes (memory mapped buffers have a static
size, so they are not useful if your file is growing).

I don't have a benchmarking suite for Lucene, so I can't accurately evaluate
the speed of this implementation. I tested it on a small application I am
developing and it seems to work well, but I think my test are not
significative. Of course only the searching feature is expected to be
faster, since the index writing is unchanged.

Francesco

-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul  6 22:51:01 2003
Return-Path: 
 <lucene-user-return-4925-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52457 invoked from network); 6 Jul 2003 22:51:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jul 2003 22:51:01 -0000
Received: (qmail 18772 invoked by uid 97); 6 Jul 2003 22:53:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18765 invoked from network); 6 Jul 2003 22:53:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 Jul 2003 22:53:33 -0000
Received: (qmail 52050 invoked by uid 500); 6 Jul 2003 22:50:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52037 invoked from network); 6 Jul 2003 22:50:58 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 6 Jul 2003 22:50:58 -0000
Received: (qmail 5657 invoked from network); 6 Jul 2003 22:51:04 -0000
Received: from rm00926.rit.edu (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 6 Jul 2003 22:51:04 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: accessing Lucene functionality from asp.net
Date: Sun, 6 Jul 2003 18:51:05 -0400
Message-ID: <000001c34411$14f4dbb0$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C343EF.8DE33BB0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C343EF.8DE33BB0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
I have web pages in asp.net and developing search for web site using
Lucene. I have to use Lucene's API from asp.net's code to search and
also feed new web pages and articles submitted to web site for updating
indexes of Lucene. Is there anyone who did similar work i.e. used
Lucene's functionality through asp.net. 
 
Regards,
Jagdip

------=_NextPart_000_0001_01C343EF.8DE33BB0--


From MAILER-DAEMON Sun Jul  6 23:53:25 2003
Return-Path: 
 <lucene-user-return-4926-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75329 invoked from network); 6 Jul 2003 23:53:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jul 2003 23:53:25 -0000
Received: (qmail 19771 invoked by uid 97); 6 Jul 2003 23:55:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19764 invoked from network); 6 Jul 2003 23:55:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 Jul 2003 23:55:57 -0000
Received: (qmail 75018 invoked by uid 500); 6 Jul 2003 23:53:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75007 invoked from network); 6 Jul 2003 23:53:22 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 6 Jul 2003 23:53:22 -0000
Received: (qmail 10009 invoked from network); 6 Jul 2003 23:53:29 -0000
Received: from rm00926.rit.edu (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 6 Jul 2003 23:53:29 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: making XML from articles
Date: Sun, 6 Jul 2003 19:53:30 -0400
Message-ID: <000001c34419$cd647590$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C343F8.4652D590"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C343F8.4652D590
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
I am trying to use Lucene for searching articles (text files) and web
pages. I am thinking of converting those articles to XML files and then
feed to Lucene for indexing.
I have not done anything much with XML before and trying to know if this
is going to be a better idea in term of searching. 
How can I convert text into XML?
 
Please suggest me if someone has faced similar situation before.
 
Regards, 
Jagdip

------=_NextPart_000_0001_01C343F8.4652D590--


From MAILER-DAEMON Mon Jul  7 02:16:09 2003
Return-Path: 
 <lucene-user-return-4927-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36541 invoked from network); 7 Jul 2003 02:16:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 02:16:09 -0000
Received: (qmail 21895 invoked by uid 97); 7 Jul 2003 02:18:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21887 invoked from network); 7 Jul 2003 02:18:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 02:18:43 -0000
Received: (qmail 36251 invoked by uid 500); 7 Jul 2003 02:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36240 invoked from network); 7 Jul 2003 02:16:07 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 7 Jul 2003 02:16:07 -0000
Received: (cpmta 12002 invoked from network); 6 Jul 2003 19:16:15 -0700
Received: from 66.171.38.32 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 6 Jul 2003 19:16:15 -0700
X-Sent: 7 Jul 2003 02:16:15 GMT
Message-ID: <0e6101c3442d$be2f16c0$6722a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000001c34419$cd647590$f3af1581@VALUEDDC3E02C5>
Subject: Re: making XML from articles
Date: Sun, 6 Jul 2003 22:16:14 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What advantage would arise from converting the files to XML before indexing
them?

David Medinets
http://www.codebits.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 10:32:23 2003
Return-Path: 
 <lucene-user-return-4928-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30596 invoked from network); 7 Jul 2003 10:32:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 10:32:23 -0000
Received: (qmail 369 invoked by uid 97); 7 Jul 2003 10:34:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 362 invoked from network); 7 Jul 2003 10:34:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 10:34:47 -0000
Received: (qmail 30328 invoked by uid 500); 7 Jul 2003 10:32:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30315 invoked from network); 7 Jul 2003 10:32:20 -0000
Received: from law8-oe43.law8.hotmail.com (HELO hotmail.com) (216.33.240.15)
  by daedalus.apache.org with SMTP; 7 Jul 2003 10:32:19 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 7 Jul 2003 03:32:19 -0700
Received: from 61.149.31.83 by law8-oe43.law8.hotmail.com with DAV;
	Mon, 07 Jul 2003 10:32:19 +0000
X-Originating-IP: [61.149.31.83]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000001c34419$cd647590$f3af1581@VALUEDDC3E02C5>
Subject: Re: making XML from articles
Date: Mon, 7 Jul 2003 18:32:58 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Law8-OE4398Bi89Qtpf000169b3@hotmail.com>
X-OriginalArrivalTime: 07 Jul 2003 10:32:19.0892 (UTC)
 FILETIME=[0B5A9740:01C34473]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Pj4gICAgICAgIC8vIGp1c3QgcmVtb3ZlIGludmFsaWQgY2hhcmFjdGVyczogaW4gcGhwDQo+PiAg
ICAgICAgJHBhdHRlcm4gPSIvW1x4LVx4OFx4Yi1ceGNceGUtXHgxZl0vIjsNCj4+ICAgICAgICAk
c3RyaW5nID0gcHJlZ19yZXBsYWNlKCRwYXR0ZXJuLCcnLCRzdHJpbmcpOw0KDQotLS0tLSBPcmln
aW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIkphZ2RpcCBTaW5naCIgPGp4czE4NzhAY3Mucml0
LmVkdT4NClRvOiAiJ0x1Y2VuZSBVc2VycyBMaXN0JyIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBh
Y2hlLm9yZz4NClNlbnQ6IE1vbmRheSwgSnVseSAwNywgMjAwMyA3OjUzIEFNDQpTdWJqZWN0OiBt
YWtpbmcgWE1MIGZyb20gYXJ0aWNsZXMNCg0KDQo+IEhpLA0KPiBJIGFtIHRyeWluZyB0byB1c2Ug
THVjZW5lIGZvciBzZWFyY2hpbmcgYXJ0aWNsZXMgKHRleHQgZmlsZXMpIGFuZCB3ZWINCj4gcGFn
ZXMuIEkgYW0gdGhpbmtpbmcgb2YgY29udmVydGluZyB0aG9zZSBhcnRpY2xlcyB0byBYTUwgZmls
ZXMgYW5kIHRoZW4NCj4gZmVlZCB0byBMdWNlbmUgZm9yIGluZGV4aW5nLg0KPiBJIGhhdmUgbm90
IGRvbmUgYW55dGhpbmcgbXVjaCB3aXRoIFhNTCBiZWZvcmUgYW5kIHRyeWluZyB0byBrbm93IGlm
IHRoaXMNCj4gaXMgZ29pbmcgdG8gYmUgYSBiZXR0ZXIgaWRlYSBpbiB0ZXJtIG9mIHNlYXJjaGlu
Zy4gDQo+IEhvdyBjYW4gSSBjb252ZXJ0IHRleHQgaW50byBYTUw/DQo+ICANCj4gUGxlYXNlIHN1
Z2dlc3QgbWUgaWYgc29tZW9uZSBoYXMgZmFjZWQgc2ltaWxhciBzaXR1YXRpb24gYmVmb3JlLg0K
PiAgDQo+IFJlZ2FyZHMsIA0KPiBKYWdkaXANCj4g


From MAILER-DAEMON Mon Jul  7 15:41:42 2003
Return-Path: 
 <lucene-user-return-4929-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8819 invoked from network); 7 Jul 2003 15:41:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 15:41:42 -0000
Received: (qmail 10405 invoked by uid 97); 7 Jul 2003 15:44:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10398 invoked from network); 7 Jul 2003 15:44:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 15:44:10 -0000
Received: (qmail 8534 invoked by uid 500); 7 Jul 2003 15:41:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8521 invoked from network); 7 Jul 2003 15:41:39 -0000
Received: from mailhub-3.iastate.edu (129.186.140.13)
  by daedalus.apache.org with SMTP; 7 Jul 2003 15:41:39 -0000
Received: from mailout-1.iastate.edu (mailout-1.iastate.edu [129.186.140.1])
	by mailhub-3.iastate.edu (8.9.3p2/8.9.3) with SMTP id KAA11674
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 10:41:41 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by
 mailout-1.iastate.edu via csmap
	 id 25776; Mon, 07 Jul 2003 15:39:48 +0000 (UTC)
Message-ID: <006501c3449e$71c5dd20$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000001c34411$14f4dbb0$f3af1581@VALUEDDC3E02C5>
Subject: Re: accessing Lucene functionality from asp.net
Date: Mon, 7 Jul 2003 10:42:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jagdip,

You could try using the .NET port of Lucene.  I haven't tried doing
any asp.net yet but I imagine it should be fairly easy to connect to.  

http://sourceforge.net/projects/nlucene

I've been using it for several months now.  It seems pretty stable and
most of the functionality is there.

Brian

----- Original Message ----- 
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Sunday, July 06, 2003 5:51 PM
Subject: accessing Lucene functionality from asp.net


> Hi,
> I have web pages in asp.net and developing search for web site using
> Lucene. I have to use Lucene's API from asp.net's code to search and
> also feed new web pages and articles submitted to web site for updating
> indexes of Lucene. Is there anyone who did similar work i.e. used
> Lucene's functionality through asp.net. 
>  
> Regards,
> Jagdip
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 16:06:34 2003
Return-Path: 
 <lucene-user-return-4930-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73507 invoked from network); 7 Jul 2003 16:06:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:06:34 -0000
Received: (qmail 11076 invoked by uid 97); 7 Jul 2003 16:09:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11069 invoked from network); 7 Jul 2003 16:09:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 16:09:02 -0000
Received: (qmail 73256 invoked by uid 500); 7 Jul 2003 16:06:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73245 invoked from network); 7 Jul 2003 16:06:31 -0000
Received: from mailhub.ucd.ie (HELO Mentat.ucd.ie) (137.43.1.47)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:06:31 -0000
Received: from CONVERSION-DAEMON.Mentat.ucd.ie by Mentat.ucd.ie
 (PMDF V6.2 #30693) id <0HHN03T01WQX3U@Mentat.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 07 Jul 2003 17:06:33 +0100 (IST)
Received: from mojo (mojo.ucd.ie [137.43.5.89])
 by Mentat.ucd.ie (PMDF V6.2 #30693)
 with SMTP id <0HHN03M6WWQWCI@Mentat.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 07 Jul 2003 17:06:33 +0100 (IST)
Date: Mon, 07 Jul 2003 17:06:40 +0100 (GMT Daylight Time)
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: lucene handling different document formats
To: lucene-user@jakarta.apache.org
Message-id: <3F099A90.000001.02024@mojo>
MIME-version: 1.0
X-Mailer: IncrediMail 2001 (1800838)
Content-type: multipart/related; type="multipart/alternative";
 boundary="Boundary_(ID_hU1kaPWAxc3Jp9g+0jnycw)"
X-Priority: 3
X-FID: FLAVOR00-NONE-0000-0000-000000000000
X-FVER: 
X-CNT: ;
References: <006501c3449e$71c5dd20$0201a8c0@bonghit>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--Boundary_(ID_hU1kaPWAxc3Jp9g+0jnycw)
Content-type: multipart/alternative;
 boundary="Boundary_(ID_PFvoYz/lEdNdzzFFCSjWHA)"


--Boundary_(ID_PFvoYz/lEdNdzzFFCSjWHA)
Content-type: Text/Plain; charset=iso-8859-1
Content-transfer-encoding: QUOTED-PRINTABLE

could anyone tell me if there's some sort of repository somewhere tha=
t
contains parsers for document types such as .doc, .pdf, .xls?  or how=
 i'd
begin to go about thinking to write one (tutorials etc much appreciat=
ed)

thanks,
maurice

--Boundary_(ID_PFvoYz/lEdNdzzFFCSjWHA)
Content-type: Text/HTML; charset=iso-8859-1
Content-transfer-encoding: QUOTED-PRINTABLE

<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8=
859-1">
<META content=3D"IncrediMail 1.0" name=3DGENERATOR>
<!--IncrdiXMLRemarkStart>
<IncrdiX-Info>
<X-FID>FLAVOR00-NONE-0000-0000-000000000000</X-FID>
<X-FVER></X-FVER>
<X-CNT>;</X-CNT>
</IncrdiX-Info>
<IncrdiXMLRemarkEnd-->
</HEAD>
<BODY style=3D"BACKGROUND-POSITION: 0px 0px; FONT-SIZE: 12pt; MARGIN:=
 5px 10px 10px; FONT-FAMILY: Arial" bgColor=3D#ffffff background=3D""=
 scroll=3Dyes ORGYPOS=3D"0" X-FVER=3D"3.0">
<TABLE id=3DINCREDIMAINTABLE cellSpacing=3D0 cellPadding=3D2 width=
=3D"100%" border=3D0>
<TBODY>
<TR>
<TD id=3DINCREDITEXTREGION style=3D"FONT-SIZE: 12pt; CURSOR: auto; FO=
NT-FAMILY: Arial" width=3D"100%">
<DIV>could anyone tell me if there's some sort of repository somewher=
e that contains parsers for document types such as .doc, .pdf, .xls?&=
nbsp; or how i'd begin to go about thinking to write one (tutorials e=
tc much appreciated)</DIV>
<DIV>&nbsp;</DIV>
<DIV>thanks,</DIV>
<DIV>maurice</DIV></TD></TR>
<TR>
<TD id=3DINCREDIFOOTER width=3D"100%">
<TABLE cellSpacing=3D0 cellPadding=3D0 width=3D"100%">
<TBODY>
<TR>
<TD width=3D"100%"></TD>
<TD id=3DINCREDISOUND vAlign=3Dbottom align=3Dmiddle></TD>
<TD id=3DINCREDIANIM vAlign=3Dbottom align=3Dmiddle></TD></TR></TBODY=
></TABLE></TD></TR></TBODY></TABLE><SPAN id=3DIncrediStamp><SPAN dir=
=3Dltr><FONT face=3D"Arial, Helvetica, sans-serif" size=3D2>_________=
___________________________________________<BR><FONT face=3D"Comic Sa=
ns MS" size=3D2><A href=3D"http://www.incredimail.com/redir.asp?ad_id=
=3D309&amp;lang=3D9"><IMG alt=3D"" hspace=3D0 src=3D"cid:936482CE-416=
3-415B-A557-7548BF431C17" align=3Dbaseline border=3D0></A>&nbsp; <I>I=
ncrediMail</I> - <B>Email has finally evolved</B> - </FONT><A href=
=3D"http://www.incredimail.com/redir.asp?ad_id=3D309&amp;lang=3D9"><F=
ONT face=3D"Times New Roman" size=3D3><B><U>Click Here</U></B></FONT>=
</A></SPAN></SPAN></FONT></BODY></HTML>

--Boundary_(ID_PFvoYz/lEdNdzzFFCSjWHA)--

--Boundary_(ID_hU1kaPWAxc3Jp9g+0jnycw)--

From MAILER-DAEMON Mon Jul  7 16:22:53 2003
Return-Path: 
 <lucene-user-return-4931-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21090 invoked from network); 7 Jul 2003 16:22:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:22:53 -0000
Received: (qmail 11584 invoked by uid 97); 7 Jul 2003 16:25:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11577 invoked from network); 7 Jul 2003 16:25:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 16:25:21 -0000
Received: (qmail 20811 invoked by uid 500); 7 Jul 2003 16:22:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20800 invoked from network); 7 Jul 2003 16:22:50 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:22:50 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h67GME905347
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 09:22:14 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Mon, 7 Jul 2003 09:23:04 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 7 Jul 2003 09:22:53 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C344A4.040ACC04"
Subject: RE: lucene handling different document formats
Date: Mon, 7 Jul 2003 09:22:52 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7A28@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene handling different document formats
Thread-Index: AcNEogUVHPVhxWf6TJezXfRpVlUPGAAAdc4A
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 07 Jul 2003 16:22:53.0344 (UTC)
 FILETIME=[0444AA00:01C344A4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C344A4.040ACC04
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

The Lucene FAQ on Java Guru gives some hints on this:
http://www.jguru.com/faq/Lucene

	-----Original Message-----
	From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]=20
	Sent: Monday, July 07, 2003 9:07 AM
	To: lucene-user@jakarta.apache.org
	Subject: lucene handling different document formats
=09
=09
could anyone tell me if there's some sort of repository somewhere that
contains parsers for document types such as .doc, .pdf, .xls?  or how
i'd begin to go about thinking to write one (tutorials etc much
appreciated)
=20
thanks,
maurice
		=09
	____________________________________________________
	 <http://www.incredimail.com/redir.asp?ad_id=3D309&lang=3D9>
IncrediMail - Email has finally evolved - Click Here
<http://www.incredimail.com/redir.asp?ad_id=3D309&lang=3D9> =20


------_=_NextPart_001_01C344A4.040ACC04--

From MAILER-DAEMON Mon Jul  7 16:41:38 2003
Return-Path: 
 <lucene-user-return-4933-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60931 invoked from network); 7 Jul 2003 16:41:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:41:38 -0000
Received: (qmail 12030 invoked by uid 97); 7 Jul 2003 16:44:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12023 invoked from network); 7 Jul 2003 16:44:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 16:44:06 -0000
Received: (qmail 60650 invoked by uid 500); 7 Jul 2003 16:41:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60639 invoked from network); 7 Jul 2003 16:41:35 -0000
Received: from unknown (HELO lanrx.com) (216.170.240.190)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:41:35 -0000
Received: (from nobody@localhost)
	by lanrx.com (8.11.6/8.11.6) id h67GQG202814;
	Mon, 7 Jul 2003 11:26:16 -0500
X-Authentication-Warning: lanrxweb.lanrx.com: nobody set sender to
 Eric.Anderson@LanRx.com using -f
Received: from 161.215.27.111 ( [161.215.27.111])
	as user eanderson@lanrxweb by www.lanrx.com with HTTP;
	Mon,  7 Jul 2003 11:26:15 -0500
Message-ID: <1057595175.3f099f27b5b3e@www.lanrx.com>
Date: Mon,  7 Jul 2003 11:26:15 -0500
From: Eric Anderson <Eric.Anderson@LanRx.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   "Wilton, Reece" <Reece.Wilton@dig.com>
Subject: RE: lucene handling different document formats
References: 
 <496A2C679221504D8B8AE4B10267E876019D7A28@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7A28@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 161.215.27.111
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

There's also a WAR that's already built, that's available at 
http://www.brownsite.net/docsearch.htm

It works with OpenOffice documents, Word doc, Excel, PDF, XML, RTF, TXT, etc.

It can work via a servlet interface or a standalone application.


Eric Anderson
LanRx Network Solutions


Quoting "Wilton, Reece" <Reece.Wilton@dig.com>:

> The Lucene FAQ on Java Guru gives some hints on this:
> http://www.jguru.com/faq/Lucene
> 
> 	-----Original Message-----
> 	From: Maurice Coyle [mailto:maurice.coyle@ucd.ie] 
> 	Sent: Monday, July 07, 2003 9:07 AM
> 	To: lucene-user@jakarta.apache.org
> 	Subject: lucene handling different document formats
> 	
> 	
> could anyone tell me if there's some sort of repository somewhere that
> contains parsers for document types such as .doc, .pdf, .xls?  or how
> i'd begin to go about thinking to write one (tutorials etc much
> appreciated)
>  
> thanks,
> maurice
> 			
> 	____________________________________________________
> 	 <http://www.incredimail.com/redir.asp?ad_id=309&lang=9>
> IncrediMail - Email has finally evolved - Click Here
> <http://www.incredimail.com/redir.asp?ad_id=309&lang=9>  
> 
> 

LanRx Network Solutions, Inc.
Providing Enterprise Level Solutions...On A Small Business Budget

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 16:37:54 2003
Return-Path: 
 <lucene-user-return-4932-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53304 invoked from network); 7 Jul 2003 16:37:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:37:54 -0000
Received: (qmail 11931 invoked by uid 97); 7 Jul 2003 16:40:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11924 invoked from network); 7 Jul 2003 16:40:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 16:40:23 -0000
Received: (qmail 53035 invoked by uid 500); 7 Jul 2003 16:37:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53024 invoked from network); 7 Jul 2003 16:37:50 -0000
Received: from pantheon-po04.its.yale.edu (130.132.50.23)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:37:50 -0000
Received: from pspig.its.yale.edu (pspig.its.yale.edu [130.132.50.12])
	by pantheon-po04.its.yale.edu (8.11.6p2/8.11.6) with ESMTP id h67GbrA13790
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 12:37:53 -0400 (EDT)
Received: (from imphttpd@localhost)
	by pspig.its.yale.edu (8.11.6p2/8.11.6) id h67GbrZ08091
	for lucene-user@jakarta.apache.org; Mon, 7 Jul 2003 12:37:53 -0400 (EDT)
Received: from 130.132.37.181 ( [130.132.37.181])
	as user jm669@jm669.mail.yale.edu by www.mail.yale.edu with HTTP;
	Mon,  7 Jul 2003 12:37:53 -0400
Message-ID: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
Date: Mon,  7 Jul 2003 12:37:53 -0400
From: jessica.maryott@yale.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Postgres and lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 130.132.37.181
X-YaleITSMailFilter: Version 1.0c (attachment(s) not renamed)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, 
  I'm new to lucene and I have had a lot of trouble finding 
information 
on how exactly to use lucene to search a postgres database. I've 
searched the archives for this list, but found nothing specific enough 
to help me. Has anyone used Lucene to search a postgres database who 
could help? 

Thanks, 
   Jessica 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 16:50:29 2003
Return-Path: 
 <lucene-user-return-4934-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66999 invoked from network); 7 Jul 2003 16:50:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:50:29 -0000
Received: (qmail 12227 invoked by uid 97); 7 Jul 2003 16:52:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12220 invoked from network); 7 Jul 2003 16:52:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 16:52:57 -0000
Received: (qmail 66703 invoked by uid 500); 7 Jul 2003 16:50:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66692 invoked from network); 7 Jul 2003 16:50:26 -0000
Received: from mail.drexel.edu (144.118.25.40)
  by daedalus.apache.org with SMTP; 7 Jul 2003 16:50:26 -0000
Received: from shim2.irt.drexel.edu (shim2.irt.drexel.edu [144.118.25.82])
 by mail.drexel.edu (Sun Internet Mail Server sims.4.0.2001.07.26.11.50.p9)
 with ESMTP id <0HHN00EV9YPUVB@mail.drexel.edu> for
 lucene-user@jakarta.apache.org; Mon,  7 Jul 2003 12:49:06 -0400 (EDT)
Received: from conversion-daemon.shim2.irt.drexel.edu by shim2.irt.drexel.edu
 (iPlanet Messaging Server 5.2 HotFix 1.09 (built Jan  7 2003))
 id <0HHN00M01YNEE2@shim2.irt.drexel.edu> for lucene-user@jakarta.apache.org;
 Mon, 07 Jul 2003 12:49:06 -0400 (EDT)
Received: from glue.irt.drexel.edu (glue.irt.drexel.edu [144.118.25.22])
 by shim2.irt.drexel.edu
 (iPlanet Messaging Server 5.2 HotFix 1.09 (built Jan  7 2003))
 with ESMTP id <0HHN00KPOYPTJF@shim2.irt.drexel.edu> for
 lucene-user@jakarta.apache.org; Mon, 07 Jul 2003 12:49:05 -0400 (EDT)
Received: from dunx1.irt.drexel.edu (dunx1.irt.drexel.edu [144.118.24.33])
	by glue.irt.drexel.edu (8.11.3/8.11.3) with ESMTP id h67Gn5F12557	for
 <lucene-user@jakarta.apache.org>; Mon, 07 Jul 2003 12:49:05 -0400 (EDT)
Date: Mon, 07 Jul 2003 12:49:00 -0400 (EDT)
From: Xuheng Xu <xx28@drexel.edu>
Subject: Re: Postgres and lucene
In-reply-to: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <Pine.GSO.4.53.0307071247580.8935@dunx1.irt.drexel.edu>
MIME-version: 1.0
Content-type: TEXT/PLAIN; charset=US-ASCII
Content-transfer-encoding: 7BIT
References: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DSpace is using Postgres and lucene.

http://www.dspace.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 18:51:57 2003
Return-Path: 
 <lucene-user-return-4935-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45908 invoked from network); 7 Jul 2003 18:51:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 18:51:57 -0000
Received: (qmail 16062 invoked by uid 97); 7 Jul 2003 18:54:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16055 invoked from network); 7 Jul 2003 18:54:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 18:54:27 -0000
Received: (qmail 44970 invoked by uid 500); 7 Jul 2003 18:51:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44854 invoked from network); 7 Jul 2003 18:51:46 -0000
Received: from pantheon-po02.its.yale.edu (130.132.50.17)
  by daedalus.apache.org with SMTP; 7 Jul 2003 18:51:46 -0000
Received: from pspig.its.yale.edu (pspig.its.yale.edu [130.132.50.12])
	by pantheon-po02.its.yale.edu (8.11.6p2/8.11.6) with ESMTP id h67Ipo310484
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 14:51:50 -0400 (EDT)
Received: (from imphttpd@localhost)
	by pspig.its.yale.edu (8.11.6p2/8.11.6) id h67Ipom16556
	for lucene-user@jakarta.apache.org; Mon, 7 Jul 2003 14:51:50 -0400 (EDT)
Received: from 130.132.37.188 ( [130.132.37.188])
	as user jm669@jm669.mail.yale.edu by www.mail.yale.edu with HTTP;
	Mon,  7 Jul 2003 14:51:50 -0400
Message-ID: <1057603910.3f09c14637966@www.mail.yale.edu>
Date: Mon,  7 Jul 2003 14:51:50 -0400
From: jessica.maryott@yale.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Postgres and lucene
References: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
 <Pine.GSO.4.53.0307071247580.8935@dunx1.irt.drexel.edu>
In-Reply-To: <Pine.GSO.4.53.0307071247580.8935@dunx1.irt.drexel.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 130.132.37.188
X-YaleITSMailFilter: Version 1.0c (attachment(s) not renamed)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, I'll look into it. It looks like Dspace mgiht be compatable with
what I need. I'm also looking for how to implement this myself, since
the scope is fairly small, and Dspace might be too much for what I need.

Quoting Xuheng Xu <xx28@drexel.edu>:

> DSpace is using Postgres and lucene.
> 
> http://www.dspace.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 19:00:58 2003
Return-Path: 
 <lucene-user-return-4936-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58870 invoked from network); 7 Jul 2003 19:00:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:00:58 -0000
Received: (qmail 16289 invoked by uid 97); 7 Jul 2003 19:03:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16282 invoked from network); 7 Jul 2003 19:03:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 19:03:27 -0000
Received: (qmail 58540 invoked by uid 500); 7 Jul 2003 19:00:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58525 invoked from network); 7 Jul 2003 19:00:55 -0000
Received: from cosmos.phpwebhosting.com (66.33.60.222)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:00:55 -0000
Received: (qmail 10519 invoked by uid 508); 7 Jul 2003 19:00:53 -0000
Received: from unknown (HELO charliebrown) (67.64.69.209)
  by cosmos.phpwebhosting.com with SMTP; 7 Jul 2003 19:00:53 -0000
Message-ID: <004501c344ba$4b3360d0$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
 <Pine.GSO.4.53.0307071247580.8935@dunx1.irt.drexel.edu>
 <1057603910.3f09c14637966@www.mail.yale.edu>
Subject: Re: Postgres and lucene
Date: Mon, 7 Jul 2003 14:02:19 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think you might need to post a little bit more detail about what you are
trying to solve.  Are you trying to index one field in one table in your
database, several fields, several tables?

As a general idea, you will need to create a Lucene Document object for each
record you put into the search engine. The document consists of fields,
which are name/value pairs.  So if you had a "title", "content", and
"uniqueid" fields in your table, you would create Lucene Field objects for
each of those fields, add them to a Document, and then add the Document to
an index. This is a very simplified explanation :)

Jeff
----- Original Message ----- 
From: <jessica.maryott@yale.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 07, 2003 1:51 PM
Subject: Re: Postgres and lucene


> Thanks, I'll look into it. It looks like Dspace mgiht be compatable with
> what I need. I'm also looking for how to implement this myself, since
> the scope is fairly small, and Dspace might be too much for what I need.
>
> Quoting Xuheng Xu <xx28@drexel.edu>:
>
> > DSpace is using Postgres and lucene.
> >
> > http://www.dspace.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 19:22:23 2003
Return-Path: 
 <lucene-user-return-4937-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90197 invoked from network); 7 Jul 2003 19:22:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:22:23 -0000
Received: (qmail 16775 invoked by uid 97); 7 Jul 2003 19:24:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16768 invoked from network); 7 Jul 2003 19:24:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 19:24:52 -0000
Received: (qmail 89810 invoked by uid 500); 7 Jul 2003 19:22:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89798 invoked from network); 7 Jul 2003 19:22:19 -0000
Received: from pantheon-po01.its.yale.edu (130.132.50.18)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:22:19 -0000
Received: from pspig.its.yale.edu (pspig.its.yale.edu [130.132.50.12])
	by pantheon-po01.its.yale.edu (8.11.6p2/8.11.6) with ESMTP id h67JMNv14563
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 15:22:23 -0400 (EDT)
Received: (from imphttpd@localhost)
	by pspig.its.yale.edu (8.11.6p2/8.11.6) id h67JMNS22679
	for lucene-user@jakarta.apache.org; Mon, 7 Jul 2003 15:22:23 -0400 (EDT)
Received: from 130.132.37.188 ( [130.132.37.188])
	as user jm669@jm669.mail.yale.edu by www.mail.yale.edu with HTTP;
	Mon,  7 Jul 2003 15:22:23 -0400
Message-ID: <1057605743.3f09c86f8c18a@www.mail.yale.edu>
Date: Mon,  7 Jul 2003 15:22:23 -0400
From: jessica.maryott@yale.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Postgres and lucene
References: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
 <Pine.GSO.4.53.0307071247580.8935@dunx1.irt.drexel.edu>
 <1057603910.3f09c14637966@www.mail.yale.edu>
 <004501c344ba$4b3360d0$7a01a8c0@charliebrown>
In-Reply-To: <004501c344ba$4b3360d0$7a01a8c0@charliebrown>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 130.132.37.188
X-YaleITSMailFilter: Version 1.0c (attachment(s) not renamed)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm trying to index in a single table with multiple fields. I understand
how lucene does that and I have some code that I think will work, except
that I don't think it's finding that database to index it in the first
place, and therein lies my problem.

Quoting Jeff Linwood <jeff@greenninja.com>:

> I think you might need to post a little bit more detail about what
> you are
> trying to solve.  Are you trying to index one field in one table in
> your
> database, several fields, several tables?
> 
> As a general idea, you will need to create a Lucene Document object
> for each
> record you put into the search engine. The document consists of
> fields,
> which are name/value pairs.  So if you had a "title", "content",
> and
> "uniqueid" fields in your table, you would create Lucene Field
> objects for
> each of those fields, add them to a Document, and then add the
> Document to
> an index. This is a very simplified explanation :)
> 
> Jeff
> ----- Original Message ----- 
> From: <jessica.maryott@yale.edu>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, July 07, 2003 1:51 PM
> Subject: Re: Postgres and lucene
> 
> 
> > Thanks, I'll look into it. It looks like Dspace mgiht be compatable
> with
> > what I need. I'm also looking for how to implement this myself,
> since
> > the scope is fairly small, and Dspace might be too much for what I
> need.
> >
> > Quoting Xuheng Xu <xx28@drexel.edu>:
> >
> > > DSpace is using Postgres and lucene.
> > >
> > > http://www.dspace.org
> > >
> > >
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > >
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 19:25:06 2003
Return-Path: 
 <lucene-user-return-4938-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98406 invoked from network); 7 Jul 2003 19:25:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:25:06 -0000
Received: (qmail 16836 invoked by uid 97); 7 Jul 2003 19:27:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16829 invoked from network); 7 Jul 2003 19:27:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 19:27:36 -0000
Received: (qmail 98106 invoked by uid 500); 7 Jul 2003 19:25:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98068 invoked from network); 7 Jul 2003 19:25:03 -0000
Received: from unknown (HELO itapoa.datasul.net) (200.215.96.201)
  by daedalus.apache.org with SMTP; 7 Jul 2003 19:25:03 -0000
Received: from 172.16.1.80 by itapoa.datasul.net (InterScan E-Mail VirusWall
 NT); Mon, 07 Jul 2003 16:22:43 -0300
Received: by itapoa with Internet Mail Service (5.5.2653.19)
	id <3GR8ZFRX>; Mon, 7 Jul 2003 16:22:43 -0300
Message-ID: <418A5677CF05084F8D50372532E8AF320294FCD4@itapoa>
From: Flavio Eduardo de Cordova <flavio.cordova@datasul.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Text Extracting
Date: Mon, 7 Jul 2003 16:22:40 -0300 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

People...

	Do you know any non-native API to extract text from PPT/PPS files ?
I've been trying POI but it seems to me they just support .xls (well) and
.doc (a little) files by now...

Flavio Cordova

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 20:05:23 2003
Return-Path: 
 <lucene-user-return-4939-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55951 invoked from network); 7 Jul 2003 20:05:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 20:05:23 -0000
Received: (qmail 17861 invoked by uid 97); 7 Jul 2003 20:07:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17854 invoked from network); 7 Jul 2003 20:07:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 20:07:52 -0000
Received: (qmail 55562 invoked by uid 500); 7 Jul 2003 20:05:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55550 invoked from network); 7 Jul 2003 20:05:19 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com)
 (216.37.32.2)
  by daedalus.apache.org with SMTP; 7 Jul 2003 20:05:19 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by
 darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2650.21)
	id 33T374HK; Mon, 7 Jul 2003 15:06:18 -0500
Message-ID: <3F09D27E.2020108@etapestry.com>
Date: Mon, 07 Jul 2003 15:05:18 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030428
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Directory implementation using NIO
References: <008801c34400$2a67f290$2700a8c0@ARIEL>
In-Reply-To: <008801c34400$2a67f290$2700a8c0@ARIEL>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Wonderful!  I can't wait to try this.  I'll try to provide some 
comparisons as I get to it, but I'd love to hear from anyone else that 
tries this...

Thanks,
Scott

Francesco Bellomi wrote:

>Hi,
>
>I developed a Directory implementation that accesses an index stored on the
>filesystem using memory-mapped files (as provided by the NIO API, introduced
>in Java 1.4).
>
>You can download the complied jar and the source from here:
>www.fran.it/lucene-NIO.zip
>
>Basically there are 3 new classes: NIODirectory, NIOInputStream and
>NIOOutputStream. They are heavily based on FSDirectory, FSInputStream and
>FSOutputStream.
>
>NIOInputStram provides memory-mapped access to files. It does not rely on
>Lucene InputStream's caching feature, since direct access to the
>memory-mapped file should be faster. Also, cloned stream with independent
>positions are implemented using NIO buffer duplication (a buffer duplicate
>holds the same content but has its own position), and so the implementation
>logic is much simpler than FSInputStream's.
>
>Some methods of Directory have been overridden to replace the caching
>feature. Some of then were final in Directory, so I have used a slightly
>modified version of Directory.java (BTW, I wonder why so many methods in
>Lucene are made final...)
>
>These classes only works with the recently released Java 1.4.2. This is due
>to the fact that buffers connected with memory-mapped files could not be
>programmatically unmapped in previous releases, (they were unmapped only
>through finalization) and actively mapped files cannot be deleted. These
>issue are partially resolved with 1.4.2.
>
>NIOOutputStream is the same as FSOutputStream; I don't know any way to take
>advantege of NIO for writing indexes (memory mapped buffers have a static
>size, so they are not useful if your file is growing).
>
>I don't have a benchmarking suite for Lucene, so I can't accurately evaluate
>the speed of this implementation. I tested it on a small application I am
>developing and it seems to work well, but I think my test are not
>significative. Of course only the searching feature is expected to be
>faster, since the index writing is unchanged.
>
>Francesco
>
>-
>Francesco Bellomi
>"Use truth to show illusion,
>and illusion to show truth."
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 21:35:37 2003
Return-Path: 
 <lucene-user-return-4940-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83675 invoked from network); 7 Jul 2003 21:35:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 21:35:37 -0000
Received: (qmail 20708 invoked by uid 97); 7 Jul 2003 21:38:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20701 invoked from network); 7 Jul 2003 21:38:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 21:38:08 -0000
Received: (qmail 83380 invoked by uid 500); 7 Jul 2003 21:35:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83369 invoked from network); 7 Jul 2003 21:35:34 -0000
Received: from dsg.bwh.harvard.edu (134.174.53.122)
  by daedalus.apache.org with SMTP; 7 Jul 2003 21:35:34 -0000
Received: from fido (fido.bwh.harvard.edu [134.174.53.26])
	by dsg.bwh.harvard.edu (8.11.6/8.11.6) with ESMTP id h67Ln3m10184
	for <lucene-user@jakarta.apache.org>; Mon, 7 Jul 2003 17:49:03 -0400
Reply-To: <jcrowell@dsg.harvard.edu>
From: "Jon Crowell" <jcrowell@dsg.harvard.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Postgres and lucene
Date: Mon, 7 Jul 2003 17:35:39 -0400
Organization: Decision Systems Group
Message-ID: <000001c344cf$b6356ee0$1a35ae86@fido>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <1057605743.3f09c86f8c18a@www.mail.yale.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is this a JDBC issue?  If so, see http://archives.postgresql.org/pgsql-jdbc/




> -----Original Message-----
> From: jessica.maryott@yale.edu [mailto:jessica.maryott@yale.edu] 
> Sent: Monday, July 07, 2003 3:22 PM
> To: Lucene Users List
> Subject: Re: Postgres and lucene
> 
> 
> I'm trying to index in a single table with multiple fields. I 
> understand how lucene does that and I have some code that I 
> think will work, except that I don't think it's finding that 
> database to index it in the first place, and therein lies my problem.
> 
> Quoting Jeff Linwood <jeff@greenninja.com>:
> 
> > I think you might need to post a little bit more detail 
> about what you 
> > are trying to solve.  Are you trying to index one field in 
> one table 
> > in your
> > database, several fields, several tables?
> > 
> > As a general idea, you will need to create a Lucene Document object 
> > for each record you put into the search engine. The 
> document consists 
> > of fields,
> > which are name/value pairs.  So if you had a "title", "content",
> > and
> > "uniqueid" fields in your table, you would create Lucene Field
> > objects for
> > each of those fields, add them to a Document, and then add the
> > Document to
> > an index. This is a very simplified explanation :)
> > 
> > Jeff
> > ----- Original Message -----
> > From: <jessica.maryott@yale.edu>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Monday, July 07, 2003 1:51 PM
> > Subject: Re: Postgres and lucene
> > 
> > 
> > > Thanks, I'll look into it. It looks like Dspace mgiht be 
> compatable
> > with
> > > what I need. I'm also looking for how to implement this myself,
> > since
> > > the scope is fairly small, and Dspace might be too much for what I
> > need.
> > >
> > > Quoting Xuheng Xu <xx28@drexel.edu>:
> > >
> > > > DSpace is using Postgres and lucene.
> > > >
> > > > http://www.dspace.org
> > > >
> > > >
> > > >
> > > >
> > 
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: 
> > > > lucene-user-help@jakarta.apache.org
> > > >
> > >
> > >
> > >
> > >
> > 
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> > >
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 23:28:26 2003
Return-Path: 
 <lucene-user-return-4941-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77631 invoked from network); 7 Jul 2003 23:28:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 23:28:26 -0000
Received: (qmail 23107 invoked by uid 97); 7 Jul 2003 23:30:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23100 invoked from network); 7 Jul 2003 23:30:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 23:30:57 -0000
Received: (qmail 77325 invoked by uid 500); 7 Jul 2003 23:28:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77313 invoked from network); 7 Jul 2003 23:28:21 -0000
Received: from unknown (HELO itapoa.datasul.net) (200.215.96.201)
  by daedalus.apache.org with SMTP; 7 Jul 2003 23:28:21 -0000
Received: from 172.16.1.80 by itapoa.datasul.net (InterScan E-Mail VirusWall
 NT); Mon, 07 Jul 2003 20:26:18 -0300
Received: by itapoa with Internet Mail Service (5.5.2653.19)
	id <3GR8ZJT4>; Mon, 7 Jul 2003 20:26:18 -0300
Message-ID: <418A5677CF05084F8D50372532E8AF3202A5C6A2@itapoa>
From: Flavio Eduardo de Cordova <flavio.cordova@datasul.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Problems with StandardTokenizer
Date: Mon, 7 Jul 2003 20:26:16 -0300 
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

People...

	I've created a custom analyser that uses the StandardTokenizer class
to get the tokens from the reader.
	It seemed to work fine but I just noticed that some large documents
are not having all their content properly indexed, but just [the starting]
part of them.
	After some debuging I've found out that StandardTokenizer reads up
to 10001 tokens from the reader.

	Have anybody went through something like that before ? What should I
do as a workaround ?

Thanks !

Flavio

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul  7 23:38:09 2003
Return-Path: 
 <lucene-user-return-4942-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88548 invoked from network); 7 Jul 2003 23:38:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jul 2003 23:38:09 -0000
Received: (qmail 23293 invoked by uid 97); 7 Jul 2003 23:40:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23286 invoked from network); 7 Jul 2003 23:40:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Jul 2003 23:40:42 -0000
Received: (qmail 88226 invoked by uid 500); 7 Jul 2003 23:38:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88213 invoked from network); 7 Jul 2003 23:38:07 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 7 Jul 2003 23:38:07 -0000
Message-ID: <20030707233815.41314.qmail@web12701.mail.yahoo.com>
Received: from [195.29.52.146] by web12701.mail.yahoo.com via HTTP;
 Mon, 07 Jul 2003 16:38:15 PDT
Date: Mon, 7 Jul 2003 16:38:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Problems with StandardTokenizer
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <418A5677CF05084F8D50372532E8AF3202A5C6A2@itapoa>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please check the Lucene's jGuru FAQ, your question is answered there.

Otis

--- Flavio Eduardo de Cordova <flavio.cordova@datasul.com.br> wrote:
> People...
> 
> 	I've created a custom analyser that uses the StandardTokenizer class
> to get the tokens from the reader.
> 	It seemed to work fine but I just noticed that some large documents
> are not having all their content properly indexed, but just [the
> starting]
> part of them.
> 	After some debuging I've found out that StandardTokenizer reads up
> to 10001 tokens from the reader.
> 
> 	Have anybody went through something like that before ? What should I
> do as a workaround ?
> 
> Thanks !
> 
> Flavio
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 00:14:50 2003
Return-Path: 
 <lucene-user-return-4943-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21860 invoked from network); 8 Jul 2003 00:14:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 00:14:50 -0000
Received: (qmail 24499 invoked by uid 97); 8 Jul 2003 00:17:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24492 invoked from network); 8 Jul 2003 00:17:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 00:17:22 -0000
Received: (qmail 21357 invoked by uid 500); 8 Jul 2003 00:14:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21301 invoked from network); 8 Jul 2003 00:14:38 -0000
Received: from unknown (HELO discovery.gateway.net.au) (203.18.250.25)
  by daedalus.apache.org with SMTP; 8 Jul 2003 00:14:38 -0000
Received: from madeinozlaptop (203.91.89.150 [203.91.89.150])
	by discovery.gateway.net.au (Postfix) with SMTP id A90D7413A
	for <lucene-user@jakarta.apache.org>; Tue,  8 Jul 2003 08:14:41 +0800 (WST)
From: "Stephen Eaton" <seaton@gateway.net.au>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Postgres and lucene
Date: Tue, 8 Jul 2003 08:14:37 +0800
Message-ID: <006101c344e5$eba4ee00$4401a8c0@intranet.gateway.net.au>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <1057595873.3f09a1e1320b5@www.mail.yale.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What I am doing through the index process is basically dump the database via
a select all statement.

Once selected the record sets are looped through and the relevant fields as
well as the records key are indexed, so then when  I need to retrieve the
data I do a select on teh relevant record based on the key.

Stephen...

> -----Original Message-----
> From: jessica.maryott@yale.edu [mailto:jessica.maryott@yale.edu]
> Sent: Tuesday, 8 July 2003 12:38 AM
> To: Lucene Users List
> Subject: Postgres and lucene
>
>
> Hi,
>   I'm new to lucene and I have had a lot of trouble finding
> information
> on how exactly to use lucene to search a postgres database. I've
> searched the archives for this list, but found nothing
> specific enough
> to help me. Has anyone used Lucene to search a postgres database who
> could help?
>
> Thanks,
>    Jessica
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 05:40:30 2003
Return-Path: 
 <lucene-user-return-4944-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18944 invoked from network); 8 Jul 2003 05:40:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:40:30 -0000
Received: (qmail 29394 invoked by uid 97); 8 Jul 2003 05:43:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29387 invoked from network); 8 Jul 2003 05:43:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 05:43:06 -0000
Received: (qmail 18641 invoked by uid 500); 8 Jul 2003 05:40:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18630 invoked from network); 8 Jul 2003 05:40:27 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:40:27 -0000
Received: (qmail 8006 invoked from network); 8 Jul 2003 05:40:38 -0000
Received: from rm00926.rit.edu (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 8 Jul 2003 05:40:38 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: converting text/doc to XML
Date: Tue, 8 Jul 2003 01:40:37 -0400
Message-ID: <001901c34513$75d7d4c0$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001A_01C344F1.EEC634C0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001A_01C344F1.EEC634C0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
How can I convert text/doc to XML?
Please help.
 
Regards, 
Jagdip

------=_NextPart_000_001A_01C344F1.EEC634C0--


From MAILER-DAEMON Tue Jul  8 05:53:10 2003
Return-Path: 
 <lucene-user-return-4946-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30480 invoked from network); 8 Jul 2003 05:53:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:53:10 -0000
Received: (qmail 29611 invoked by uid 97); 8 Jul 2003 05:55:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29604 invoked from network); 8 Jul 2003 05:55:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 05:55:46 -0000
Received: (qmail 30181 invoked by uid 500); 8 Jul 2003 05:53:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30170 invoked from network); 8 Jul 2003 05:53:07 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:53:07 -0000
Received: (qmail 8921 invoked from network); 8 Jul 2003 05:53:18 -0000
Received: from rm00926.rit.edu (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 8 Jul 2003 05:53:18 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<nsh@bayt.net>
Subject: RE: converting text/doc to XML
Date: Tue, 8 Jul 2003 01:53:17 -0400
Message-ID: <002101c34515$3adeb710$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <006901c34515$6fa09310$1801a8c0@naderit>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I will try coding this.

Thanks,
Jagdip
-----Original Message-----
From: Nader S. Henein [mailto:nsh@bayt.net] 
Sent: Tuesday, July 08, 2003 1:55 AM
To: 'Lucene Users List'
Subject: RE: converting text/doc to XML

XML is an organized, standardized format so let's say your document has
the following characteristics

File name : foobar.doc
Firt line title : Foo Bar
File content :
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 

Then you have to read the file ( simple file read, java can do this in
about ten different ways, pick one )
But each of the files characteristincs in a variable

And then parse it in a valid XML:
<doc doc_id=1>
	<file_name>foobar.doc</file_name>
	<title>Foo Bar</title>
	<content>
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	</content>
</doc>


There are probably packages that will do this for you but it's so simple
you could pull it off in under a hundred lines, it's also good exercise
to familiarize yourself with XML (if you haven't played around with it
before)



-----Original Message-----
From: Jagdip Singh [mailto:jxs1878@cs.rit.edu] 
Sent: Tuesday, July 08, 2003 9:41 AM
To: 'Lucene Users List'
Subject: converting text/doc to XML


Hi,
How can I convert text/doc to XML?
Please help.
 
Regards, 
Jagdip


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 05:47:13 2003
Return-Path: 
 <lucene-user-return-4945-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22571 invoked from network); 8 Jul 2003 05:47:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:47:13 -0000
Received: (qmail 29523 invoked by uid 97); 8 Jul 2003 05:49:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29516 invoked from network); 8 Jul 2003 05:49:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 05:49:50 -0000
Received: (qmail 22275 invoked by uid 500); 8 Jul 2003 05:47:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22264 invoked from network); 8 Jul 2003 05:47:11 -0000
Received: from unknown (HELO mail-out.dubaiinternetcity.net) (213.132.36.135)
  by daedalus.apache.org with SMTP; 8 Jul 2003 05:47:11 -0000
Received: from naderit ([213.132.40.2])
 by dicisp003b.dic.sys (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19
 2002)) with ESMTP id <0HHO002LNYQWF2@dicisp003b.dic.sys> for
 lucene-user@jakarta.apache.org; Tue, 08 Jul 2003 09:47:20 +0400 (GMT)
Date: Tue, 08 Jul 2003 09:54:46 +0400
From: "Nader S. Henein" <nsh@bayt.net>
Subject: RE: converting text/doc to XML
In-reply-to: <001901c34513$75d7d4c0$f3af1581@VALUEDDC3E02C5>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Reply-to: nsh@bayt.net
Message-id: <006901c34515$6fa09310$1801a8c0@naderit>
Organization: Bayt.com
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

XML is an organized, standardized format so let's say your document has
the following characteristics

File name : foobar.doc
Firt line title : Foo Bar
File content :
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 

Then you have to read the file ( simple file read, java can do this in
about ten different ways, pick one )
But each of the files characteristincs in a variable

And then parse it in a valid XML:
<doc doc_id=1>
	<file_name>foobar.doc</file_name>
	<title>Foo Bar</title>
	<content>
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	</content>
</doc>


There are probably packages that will do this for you but it's so simple
you could pull it off in under a hundred lines, it's also good exercise
to familiarize yourself with XML (if you haven't played around with it
before)



-----Original Message-----
From: Jagdip Singh [mailto:jxs1878@cs.rit.edu] 
Sent: Tuesday, July 08, 2003 9:41 AM
To: 'Lucene Users List'
Subject: converting text/doc to XML


Hi,
How can I convert text/doc to XML?
Please help.
 
Regards, 
Jagdip


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 06:38:55 2003
Return-Path: 
 <lucene-user-return-4947-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85233 invoked from network); 8 Jul 2003 06:38:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 06:38:55 -0000
Received: (qmail 868 invoked by uid 97); 8 Jul 2003 06:41:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 861 invoked from network); 8 Jul 2003 06:41:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 06:41:32 -0000
Received: (qmail 84940 invoked by uid 500); 8 Jul 2003 06:38:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84927 invoked from network); 8 Jul 2003 06:38:51 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 8 Jul 2003 06:38:51 -0000
Received: (qmail 12750 invoked from network); 8 Jul 2003 06:39:03 -0000
Received: from rm00926.rit.edu (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 8 Jul 2003 06:39:03 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<nsh@bayt.net>
Subject: RE: converting text/doc to XML
Date: Tue, 8 Jul 2003 02:39:02 -0400
Message-ID: <002201c3451b$9f040460$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <006901c34515$6fa09310$1801a8c0@naderit>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Nader,
As you talked about using Lucene for your http://www.bayt.com web site.
Do you convert CV's or any other documents to XML format before
submitting to Lucene for indexing? 

Regards, 
Jagdip

-----Original Message-----
From: Nader S. Henein [mailto:nsh@bayt.net] 
Sent: Tuesday, July 08, 2003 1:55 AM
To: 'Lucene Users List'
Subject: RE: converting text/doc to XML

XML is an organized, standardized format so let's say your document has
the following characteristics

File name : foobar.doc
Firt line title : Foo Bar
File content :
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 

Then you have to read the file ( simple file read, java can do this in
about ten different ways, pick one )
But each of the files characteristincs in a variable

And then parse it in a valid XML:
<doc doc_id=1>
	<file_name>foobar.doc</file_name>
	<title>Foo Bar</title>
	<content>
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	</content>
</doc>


There are probably packages that will do this for you but it's so simple
you could pull it off in under a hundred lines, it's also good exercise
to familiarize yourself with XML (if you haven't played around with it
before)



-----Original Message-----
From: Jagdip Singh [mailto:jxs1878@cs.rit.edu] 
Sent: Tuesday, July 08, 2003 9:41 AM
To: 'Lucene Users List'
Subject: converting text/doc to XML


Hi,
How can I convert text/doc to XML?
Please help.
 
Regards, 
Jagdip


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 06:42:15 2003
Return-Path: 
 <lucene-user-return-4948-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88110 invoked from network); 8 Jul 2003 06:42:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 06:42:15 -0000
Received: (qmail 963 invoked by uid 97); 8 Jul 2003 06:44:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 955 invoked from network); 8 Jul 2003 06:44:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 06:44:52 -0000
Received: (qmail 87828 invoked by uid 500); 8 Jul 2003 06:42:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87810 invoked from network); 8 Jul 2003 06:42:12 -0000
Received: from unknown (HELO mail-out.dubaiinternetcity.net) (213.132.36.135)
  by daedalus.apache.org with SMTP; 8 Jul 2003 06:42:12 -0000
Received: from naderit ([213.132.40.2])
 by dicisp004b.dic.sys (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19
 2002)) with ESMTP id <0HHP00ITP1AN1V@dicisp004b.dic.sys> for
 lucene-user@jakarta.apache.org; Tue, 08 Jul 2003 10:42:23 +0400 (GMT)
Date: Tue, 08 Jul 2003 10:49:49 +0400
From: "Nader S. Henein" <nsh@bayt.net>
Subject: RE: converting text/doc to XML
In-reply-to: <002201c3451b$9f040460$f3af1581@VALUEDDC3E02C5>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Reply-to: nsh@bayt.net
Message-id: <007101c3451d$20194140$1801a8c0@naderit>
Organization: Bayt.com
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We read from the database and parse the data into a valid XML then I
hand over the XML file to lucene which in turn digests it and indexes
the information

N.

-----Original Message-----
From: Jagdip Singh [mailto:jxs1878@cs.rit.edu] 
Sent: Tuesday, July 08, 2003 10:39 AM
To: 'Lucene Users List'; nsh@bayt.net
Subject: RE: converting text/doc to XML


Hi Nader,
As you talked about using Lucene for your http://www.bayt.com web site.
Do you convert CV's or any other documents to XML format before
submitting to Lucene for indexing? 

Regards, 
Jagdip

-----Original Message-----
From: Nader S. Henein [mailto:nsh@bayt.net] 
Sent: Tuesday, July 08, 2003 1:55 AM
To: 'Lucene Users List'
Subject: RE: converting text/doc to XML

XML is an organized, standardized format so let's say your document has
the following characteristics

File name : foobar.doc
Firt line title : Foo Bar
File content :
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 

Then you have to read the file ( simple file read, java can do this in
about ten different ways, pick one ) But each of the files
characteristincs in a variable

And then parse it in a valid XML:
<doc doc_id=1>
	<file_name>foobar.doc</file_name>
	<title>Foo Bar</title>
	<content>
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	Blah blah blah blah 
	</content>
</doc>


There are probably packages that will do this for you but it's so simple
you could pull it off in under a hundred lines, it's also good exercise
to familiarize yourself with XML (if you haven't played around with it
before)



-----Original Message-----
From: Jagdip Singh [mailto:jxs1878@cs.rit.edu] 
Sent: Tuesday, July 08, 2003 9:41 AM
To: 'Lucene Users List'
Subject: converting text/doc to XML


Hi,
How can I convert text/doc to XML?
Please help.
 
Regards, 
Jagdip


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 15:04:25 2003
Return-Path: 
 <lucene-user-return-4949-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57122 invoked from network); 8 Jul 2003 15:04:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 15:04:25 -0000
Received: (qmail 17046 invoked by uid 97); 8 Jul 2003 15:06:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17039 invoked from network); 8 Jul 2003 15:06:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 15:06:52 -0000
Received: (qmail 56814 invoked by uid 500); 8 Jul 2003 15:04:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56801 invoked from network); 8 Jul 2003 15:04:21 -0000
Received: from pantheon-po01.its.yale.edu (130.132.50.18)
  by daedalus.apache.org with SMTP; 8 Jul 2003 15:04:21 -0000
Received: from pspig.its.yale.edu (pspig.its.yale.edu [130.132.50.12])
	by pantheon-po01.its.yale.edu (8.11.6p2/8.11.6) with ESMTP id h68F4Gv10169
	for <lucene-user@jakarta.apache.org>; Tue, 8 Jul 2003 11:04:17 -0400 (EDT)
Received: (from imphttpd@localhost)
	by pspig.its.yale.edu (8.11.6p2/8.11.6) id h68F4Gq12868
	for lucene-user@jakarta.apache.org; Tue, 8 Jul 2003 11:04:16 -0400 (EDT)
Received: from 130.132.37.188 ( [130.132.37.188])
	as user jm669@jm669.mail.yale.edu by www.mail.yale.edu with HTTP;
	Tue,  8 Jul 2003 11:04:16 -0400
Message-ID: <1057676656.3f0add70b396c@www.mail.yale.edu>
Date: Tue,  8 Jul 2003 11:04:16 -0400
From: jessica.maryott@yale.edu
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: A simple problem?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 130.132.37.188
X-YaleITSMailFilter: Version 1.0c (attachment(s) not renamed)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm having some trouble getting lucene working for anything other than
the included demo. Both demos worked just fine, but when I try to do
anything new (or if I change the name of one of the demo files
[IndexFiles.java to IndexFile.java] I get a Exception in thread "main"
java.lang.NoClassDefFoundError: org/apache/lucene/demo/IndexFile) I
assume I'm missing something small but quite fundamental about how
lucene works; can anyone tell em what it is?
 Thanks,
   Jessica

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 15:56:59 2003
Return-Path: 
 <lucene-user-return-4950-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68806 invoked from network); 8 Jul 2003 15:56:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 15:56:59 -0000
Received: (qmail 18941 invoked by uid 97); 8 Jul 2003 15:59:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18934 invoked from network); 8 Jul 2003 15:59:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 15:59:27 -0000
Received: (qmail 68543 invoked by uid 500); 8 Jul 2003 15:56:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68522 invoked from network); 8 Jul 2003 15:56:55 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 8 Jul 2003 15:56:55 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h68Fusgf008387
	for <lucene-user@jakarta.apache.org>; Tue, 8 Jul 2003 17:56:54 +0200
Message-ID: <002301c34569$972c6ea0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1057676656.3f0add70b396c@www.mail.yale.edu>
Subject: Re: A simple problem?
Date: Tue, 8 Jul 2003 17:57:10 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I assume I'm missing something small but quite fundamental

Java programming skills?

:-)

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 16:13:28 2003
Return-Path: 
 <lucene-user-return-4951-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17195 invoked from network); 8 Jul 2003 16:13:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 16:13:28 -0000
Received: (qmail 19467 invoked by uid 97); 8 Jul 2003 16:15:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19460 invoked from network); 8 Jul 2003 16:15:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 16:15:56 -0000
Received: (qmail 16931 invoked by uid 500); 8 Jul 2003 16:13:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16920 invoked from network); 8 Jul 2003 16:13:25 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 8 Jul 2003 16:13:25 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.01) id ACC1B0310090; Tue, 08 Jul 2003 11:09:37 -0500
Message-ID: <008501c3456b$de959cb0$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1057676656.3f0add70b396c@www.mail.yale.edu>
Subject: Re: A simple problem?
Date: Tue, 8 Jul 2003 11:13:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

this first topic on this page will be good reading for you.
http://java.sun.com/docs/books/tutorial/java/interpack/managingfiles.html

----- Original Message ----- 
From: <jessica.maryott@yale.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, July 08, 2003 10:04 AM
Subject: A simple problem?


> I'm having some trouble getting lucene working for anything other than
> the included demo. Both demos worked just fine, but when I try to do
> anything new (or if I change the name of one of the demo files
> [IndexFiles.java to IndexFile.java] I get a Exception in thread "main"
> java.lang.NoClassDefFoundError: org/apache/lucene/demo/IndexFile) I
> assume I'm missing something small but quite fundamental about how
> lucene works; can anyone tell em what it is?
>  Thanks,
>    Jessica
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul  8 16:22:26 2003
Return-Path: 
 <lucene-user-return-4952-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32152 invoked from network); 8 Jul 2003 16:22:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Jul 2003 16:22:26 -0000
Received: (qmail 19664 invoked by uid 97); 8 Jul 2003 16:24:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19657 invoked from network); 8 Jul 2003 16:24:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Jul 2003 16:24:54 -0000
Received: (qmail 30525 invoked by uid 500); 8 Jul 2003 16:22:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30502 invoked from network); 8 Jul 2003 16:22:04 -0000
Received: from pantheon-po01.its.yale.edu (130.132.50.18)
  by daedalus.apache.org with SMTP; 8 Jul 2003 16:22:04 -0000
Received: from pspig.its.yale.edu (pspig.its.yale.edu [130.132.50.12])
	by pantheon-po01.its.yale.edu (8.11.6p2/8.11.6) with ESMTP id h68GM7v27087
	for <lucene-user@jakarta.apache.org>; Tue, 8 Jul 2003 12:22:07 -0400 (EDT)
Received: (from imphttpd@localhost)
	by pspig.its.yale.edu (8.11.6p2/8.11.6) id h68GM6615494
	for lucene-user@jakarta.apache.org; Tue, 8 Jul 2003 12:22:06 -0400 (EDT)
Received: from 130.132.37.188 ( [130.132.37.188])
	as user jm669@jm669.mail.yale.edu by www.mail.yale.edu with HTTP;
	Tue,  8 Jul 2003 12:22:06 -0400
Message-ID: <1057681326.3f0aefae6194a@www.mail.yale.edu>
Date: Tue,  8 Jul 2003 12:22:06 -0400
From: jessica.maryott@yale.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: A simple problem?
References: <1057676656.3f0add70b396c@www.mail.yale.edu>
 <002301c34569$972c6ea0$c300000a@caliente>
In-Reply-To: <002301c34569$972c6ea0$c300000a@caliente>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 130.132.37.188
X-YaleITSMailFilter: Version 1.0c (attachment(s) not renamed)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the helpful feedback. :-)

Quoting Eric Jain <Eric.Jain@isb-sib.ch>:

> > I assume I'm missing something small but quite fundamental
> 
> Java programming skills?
> 
> :-)
> 
> --
> Eric Jain
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 09:02:00 2003
Return-Path: 
 <lucene-user-return-4953-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70710 invoked from network); 9 Jul 2003 09:02:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 09:02:00 -0000
Received: (qmail 11012 invoked by uid 97); 9 Jul 2003 09:04:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11005 invoked from network); 9 Jul 2003 09:04:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 09:04:38 -0000
Received: (qmail 66667 invoked by uid 500); 9 Jul 2003 09:00:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66561 invoked from network); 9 Jul 2003 09:00:34 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 9 Jul 2003 09:00:34 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 49490B7115
	for <lucene-user@jakarta.apache.org>; Wed,  9 Jul 2003 19:00:31 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names
Date: Wed, 9 Jul 2003 18:52:42 +1000
User-Agent: KMail/1.4.3
References: <187D6D956106D84E9D8B280F6458FE140F5BE6@merc12.na.sas.com>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE140F5BE6@merc12.na.sas.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307091852.42698@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Erik and others,

I'm looking for a similar solution where I need QueryParser not to drop the 
"-" characters from the field name. Hower outside the field I do want the - 
sign interpreted as "not" modifier. 

I'm definitely not an expert in JavaCC and to be honest I only have a limited 
idea about Erik's suggestion work,

Anyway I followed the suggestion and added the following:

| <#_WHITESPACE: ( " " | "\t" ) >
| <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":", "^",
                               "[", "]", "\"", "{", "}", "~", "*", "?" ]
                             | <_ESCAPED_CHAR> ) >
| <#_FIELDNAME_CHAR: ( <_FIELDNAME_START_CHAR> | <_ESCAPED_CHAR> ) >

and again below I added:


| <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
| <FIELDNAME: <_FIELDNAME_START_CHAR> (<_FIELDNAME_CHAR>)*  >

And I changed:

    LOOKAHEAD(2)
    fieldToken=<TERM> <COLON> { field = fieldToken.image; }

to: ...

    LOOKAHEAD(2)
    fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }


Well after doing all this mods all the query that involved field names cause 
problem, for example if I searched for

fieldname:hello

The query is blank (yes blank, nothing in it)

and if the fieldname does contain a dash ("-") for example: field-name:hello

They query is: +field -name

hello is dropped.


Does anyone has any idea? Help and suggestions will be much appreciated. I 
really need to get this dash working, changing the field name will be my last 
resort which I won't explore until I really have to.


Thanks,

Victor


On Thu, 15 May 2003 04:54 am, Eric Isakson wrote:
> I think the query parser changes would not be too bad, I've outlined a
> couple of relavant lines you should look at so you don't have to try and
> comprehend the productions for the entire QueryParser. I do not think I
> would like to have to maintain one of those myself though. Your other
> unmentioned alternative is to choose field names that match the <TERM>
> production of QueryParser.jj without escapes.
>
> QueryParser.jj line 557:
>     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
>
> and earlier...
>  <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":", "^",
>                           "[", "]", "\"", "{", "}", "~", "*", "?" ] >
>
> | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":", "^",
>
>                            "[", "]", "\"", "{", "}", "~", "*", "?" ]
>
>                        | <_ESCAPED_CHAR> ) >
> |
> | <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
>
> ...
>
> <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
>
> So the characters you need to avoid in your field names are the ones from
> _ESCAPED_CHAR, [ "\\", "+", "-", "!", "(", ")", ":", "^", "[", "]", "\"",
> "{", "}", "~", "*", "?" ]
>
> If you need to modify the parser, you will probably want to add a FIELDNAME
> token and other supporting productions that look really similar to these
> lines I've copied but modify the complement, ~[...], at the beginning of
> _FIELDNAME_START_CHAR (you would add this production) so it will match the
> "-" that you are using in your field names (and fix it to match any other
> characters you want to use in field names that it doesn't allow right now).
>
> Eric
>
> -----Original Message-----
> From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> Sent: Wednesday, May 14, 2003 2:26 PM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
>
> Eric Isakson wrote:
> > I just looked at the QueryParser.jj code, your field names
> >
>  > never get processed by the analyzer. It does look like the
>  > query parser will honor escapes though. I haven't tried
>  > this, but try a query like "foo\-bar:foo" and have
> >
> > a look at the QueryParser.jj file for how it handles field
> >
>  > names when parsing your query.
>
> Hrm.. that's what I had found too.  So, you're saying that, other than
> escaping dashes, I'd have to change QueryParser.. ?
>
> I'm not too familiar just yet with JavaCC syntax, so reading through
> QueryParser is a little tough going.  Thanks Eric,
>
> jp
>
> > -----Original Message-----
> > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > Sent: Monday, May 12, 2003 4:03 PM
> > To: Lucene Users List
> > Subject: Re: '-' character not interpreted correctly in field names
> >
> >
> > Hi Otis, Terry,
> >
> >  >>>You can write a custom Analyzer that does not remove dashes from
> > >>>
> > >>>tokens, and use it for both indexing and searching.  >>>  >>>This
> >
> > is a frequent question and answer on this list.
> >
> > Sorry for the noise, but I haven't been able to find a solution in the
> > mailing list archives, or by writing my own analyzer:
> >
> > 	public class MyAnalyzer extends Analyzer {
> > 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> > 		return new CharTokenizer(reader) {
> > 			protected boolean isTokenChar(char c) {
> > 				return Character.isLetter(c) || c == '-';
> > 			}
> > 		};
> > 	}
> > 	}
> >
> > I parse a query like this:
> >
> > 	String queryString = "foo-bar:foo";
> > 	String queryResult =
> > 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> >
> > With the output:
> > 	body:foo -bar:foo
> >
> > But I would expect the output:
> > 	 foo-bar:foo
> >
> > If I print out the tokens that MyAnalyzer produces I do get "foo-bar"
> > and then "foo".
> >
> > Any pointers on what I'm doing wrong?
> >
> > jp
> >
> >>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> >>>>>Hi all,
> >>>>>
> >>>>>>I believe that the tokenizer treats a dash as a token
> >>>
> >>>separator.
> >>>
> >>>>>>Hence, the only way, as I recall, to eliminate this behavior
> >>>
> >>>is
> >>>
> >>>>>>to modify QueryParser.jj so it doesn't do this.  However,
> >>>
> >>>doing
> >>>
> >>>>>>this can cause some other problems, like hyphenated words at a
> >>>>>>line break and the like.
> >>>>>
> >>>>>I've recently started using lucene and I'm running into the same
> >>>>>issue with the query parser.  I'd like to use queries that contain
> >>>
> >>>dashes
> >>>
> >>>>>in
> >>>>>the field name, but as far as I can tell it seems that the
> >>>
> >>>current
> >>>
> >>>>>query
> >>>>>grammar treats field names as terms, and so, as Terry notes, a
> >>>
> >>>dash
> >>>
> >>>>>becomes a token seperator.
> >>>>>
> >>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by
> >>>>>creating a seperate non-terminal for field names.
> >>>>>
> >>>>>Has anyone done any work on this already?  Is modifying
> >>>>>QueryParser.jj the best approach?
> >>>>>
> >>>>>Thanks,
> >>>>>jp



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 17:24:32 2003
Return-Path: 
 <lucene-user-return-4954-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50626 invoked from network); 9 Jul 2003 17:24:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 17:24:32 -0000
Received: (qmail 27204 invoked by uid 97); 9 Jul 2003 17:27:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27197 invoked from network); 9 Jul 2003 17:27:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 17:27:01 -0000
Received: (qmail 49737 invoked by uid 500); 9 Jul 2003 17:24:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49681 invoked from network); 9 Jul 2003 17:24:20 -0000
Received: from merc65.na.sas.com (149.173.6.60)
  by daedalus.apache.org with SMTP; 9 Jul 2003 17:24:20 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.13 with InterScan
 Messaging Security Suite; Wed, 09 Jul 2003 13:24:23 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: '-' character not interpreted correctly in field names
Date: Wed, 9 Jul 2003 13:24:23 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9B28@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: '-' character not interpreted correctly in field names
Thread-Index: AcNF+M5msoXzH/nXQ96IisVTx1cBGwARehyQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You left out the ~ character in your _FIELDNAME_START_CHAR production. =
That character tells the grammar that it should take all the characters =
except the ones you specified (the complement).

Change:

| <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",=20

To:

| <#_FIELDNAME_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":", =


and it should probably work.

Eric

-----Original Message-----
From: Victor Hadianto [mailto:victorh@nuix.com.au]=20
Sent: Wednesday, July 09, 2003 4:53 AM
To: Lucene Users List
Subject: Re: '-' character not interpreted correctly in field names


Hi Erik and others,

I'm looking for a similar solution where I need QueryParser not to drop =
the=20
"-" characters from the field name. Hower outside the field I do want =
the -=20
sign interpreted as "not" modifier.=20

I'm definitely not an expert in JavaCC and to be honest I only have a =
limited=20
idea about Erik's suggestion work,

Anyway I followed the suggestion and added the following:

| <#_WHITESPACE: ( " " | "\t" ) >
| <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",=20
| "^",
                               "[", "]", "\"", "{", "}", "~", "*", "?" ]
                             | <_ESCAPED_CHAR> ) >
| <#_FIELDNAME_CHAR: ( <_FIELDNAME_START_CHAR> | <_ESCAPED_CHAR> ) >

and again below I added:


| <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
| <FIELDNAME: <_FIELDNAME_START_CHAR> (<_FIELDNAME_CHAR>)*  >

And I changed:

    LOOKAHEAD(2)
    fieldToken=3D<TERM> <COLON> { field =3D fieldToken.image; }

to: ...

    LOOKAHEAD(2)
    fieldToken=3D<FIELDNAME> <COLON> { field =3D fieldToken.image; }


Well after doing all this mods all the query that involved field names =
cause=20
problem, for example if I searched for

fieldname:hello

The query is blank (yes blank, nothing in it)

and if the fieldname does contain a dash ("-") for example: =
field-name:hello

They query is: +field -name

hello is dropped.


Does anyone has any idea? Help and suggestions will be much appreciated. =
I=20
really need to get this dash working, changing the field name will be my =
last=20
resort which I won't explore until I really have to.


Thanks,

Victor


On Thu, 15 May 2003 04:54 am, Eric Isakson wrote:
> I think the query parser changes would not be too bad, I've outlined a =

> couple of relavant lines you should look at so you don't have to try=20
> and comprehend the productions for the entire QueryParser. I do not=20
> think I would like to have to maintain one of those myself though.=20
> Your other unmentioned alternative is to choose field names that match =

> the <TERM> production of QueryParser.jj without escapes.
>
> QueryParser.jj line 557:
>     fieldToken=3D<TERM> <COLON> { field =3D fieldToken.image; }
>
> and earlier...
>  <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":", "^",
>                           "[", "]", "\"", "{", "}", "~", "*", "?" ] >
>
> | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":",=20
> | "^",
>
>                            "[", "]", "\"", "{", "}", "~", "*", "?" ]
>
>                        | <_ESCAPED_CHAR> ) >
> |
> | <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
>
> ...
>
> <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
>
> So the characters you need to avoid in your field names are the ones=20
> from _ESCAPED_CHAR, [ "\\", "+", "-", "!", "(", ")", ":", "^", "[",=20
> "]", "\"", "{", "}", "~", "*", "?" ]
>
> If you need to modify the parser, you will probably want to add a=20
> FIELDNAME token and other supporting productions that look really=20
> similar to these lines I've copied but modify the complement, ~[...],=20
> at the beginning of _FIELDNAME_START_CHAR (you would add this=20
> production) so it will match the "-" that you are using in your field=20
> names (and fix it to match any other characters you want to use in=20
> field names that it doesn't allow right now).
>
> Eric
>
> -----Original Message-----
> From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> Sent: Wednesday, May 14, 2003 2:26 PM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
>
> Eric Isakson wrote:
> > I just looked at the QueryParser.jj code, your field names
> >
>  > never get processed by the analyzer. It does look like the  > query =

> parser will honor escapes though. I haven't tried  > this, but try a=20
> query like "foo\-bar:foo" and have
> >
> > a look at the QueryParser.jj file for how it handles field
> >
>  > names when parsing your query.
>
> Hrm.. that's what I had found too.  So, you're saying that, other than =

> escaping dashes, I'd have to change QueryParser.. ?
>
> I'm not too familiar just yet with JavaCC syntax, so reading through=20
> QueryParser is a little tough going.  Thanks Eric,
>
> jp
>
> > -----Original Message-----
> > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > Sent: Monday, May 12, 2003 4:03 PM
> > To: Lucene Users List
> > Subject: Re: '-' character not interpreted correctly in field names
> >
> >
> > Hi Otis, Terry,
> >
> >  >>>You can write a custom Analyzer that does not remove dashes from
> > >>>
> > >>>tokens, and use it for both indexing and searching.  >>>  >>>This
> >
> > is a frequent question and answer on this list.
> >
> > Sorry for the noise, but I haven't been able to find a solution in=20
> > the mailing list archives, or by writing my own analyzer:
> >
> > 	public class MyAnalyzer extends Analyzer {
> > 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> > 		return new CharTokenizer(reader) {
> > 			protected boolean isTokenChar(char c) {
> > 				return Character.isLetter(c) || c =3D=3D '-';
> > 			}
> > 		};
> > 	}
> > 	}
> >
> > I parse a query like this:
> >
> > 	String queryString =3D "foo-bar:foo";
> > 	String queryResult =3D
> > 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> >
> > With the output:
> > 	body:foo -bar:foo
> >
> > But I would expect the output:
> > 	 foo-bar:foo
> >
> > If I print out the tokens that MyAnalyzer produces I do get=20
> > "foo-bar" and then "foo".
> >
> > Any pointers on what I'm doing wrong?
> >
> > jp
> >
> >>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> >>>>>Hi all,
> >>>>>
> >>>>>>I believe that the tokenizer treats a dash as a token
> >>>
> >>>separator.
> >>>
> >>>>>>Hence, the only way, as I recall, to eliminate this behavior
> >>>
> >>>is
> >>>
> >>>>>>to modify QueryParser.jj so it doesn't do this.  However,
> >>>
> >>>doing
> >>>
> >>>>>>this can cause some other problems, like hyphenated words at a=20
> >>>>>>line break and the like.
> >>>>>
> >>>>>I've recently started using lucene and I'm running into the same=20
> >>>>>issue with the query parser.  I'd like to use queries that=20
> >>>>>contain
> >>>
> >>>dashes
> >>>
> >>>>>in
> >>>>>the field name, but as far as I can tell it seems that the
> >>>
> >>>current
> >>>
> >>>>>query
> >>>>>grammar treats field names as terms, and so, as Terry notes, a
> >>>
> >>>dash
> >>>
> >>>>>becomes a token seperator.
> >>>>>
> >>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by =

> >>>>>creating a seperate non-terminal for field names.
> >>>>>
> >>>>>Has anyone done any work on this already?  Is modifying=20
> >>>>>QueryParser.jj the best approach?
> >>>>>
> >>>>>Thanks,
> >>>>>jp



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 18:54:02 2003
Return-Path: 
 <lucene-user-return-4955-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63236 invoked from network); 9 Jul 2003 18:54:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 18:54:02 -0000
Received: (qmail 707 invoked by uid 97); 9 Jul 2003 18:56:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 700 invoked from network); 9 Jul 2003 18:56:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 18:56:32 -0000
Received: (qmail 62975 invoked by uid 500); 9 Jul 2003 18:53:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62964 invoked from network); 9 Jul 2003 18:53:59 -0000
Received: from web40911.mail.yahoo.com (66.218.78.208)
  by daedalus.apache.org with SMTP; 9 Jul 2003 18:53:59 -0000
Message-ID: <20030709185404.4787.qmail@web40911.mail.yahoo.com>
Received: from [66.7.228.158] by web40911.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 11:54:04 PDT
Date: Wed, 9 Jul 2003 11:54:04 -0700 (PDT)
From: Ali Rouhi <srouhi@yahoo.com>
Subject: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser" (figured out how to do it)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030702234105.37793.qmail@web40907.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Just a note to anyone interested, I figured out how to
solve to problem I posed last week by adding the
functionality needed to QueryParser.jj. It was a
pretty specialized request to begin with - but anyone
interested - I'll be glad to let them know how it
works.

Ali

--- Ali Rouhi <srouhi@yahoo.com> wrote:
> Hi
> 
> I need to perform a search for an expression in
> multiple fields "as if" they were one field. This is
> best illustrated by a simple example.
> 
> Find expression (X AND Y) in fields (F, G). 
> 
> I want this to translate to:
> 
> ((X in F) OR (X in G)) AND ((Y in F) OR (Y in G)) 
> 
> In other words I want the query to return true *not
> only* if
> 
> ((X AND Y) in F) OR ((X AND Y) in G)               
> (1)
> 
> but *also* the following should give me a true value
> 
> ((X in F) AND (Y in G)) OR ((X in G) AND (Y in F)) 
> (2)
> 
> I believe that "MultiFieldQueryParser" just gives me
> (1) and leaves out the "cross terms" in(2).(If you
> want a practical example of why one would want to do
> such a search I would be glad to provide one).
> 
> Of course I could construct the combination of (1)
> and
> (2) manually, but the problem is that I want the
> "general solution" with a general expression being
> searched for in multiple fields in the manner of the
> above example.
> 
> I have a feeling that this sort of a thing is best
> done by writing a custom QueryParser.jj. We use
> Lucene
> in production code and have great java expertise,
> but
> little JavaCC expertise. Suggestions for solving the
> problem at a higher level than the QueryParser are
> of
> course also very welcome.
> 
> Many Thanks
> Ali
> 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:24:14 2003
Return-Path: 
 <lucene-user-return-4956-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50556 invoked from network); 9 Jul 2003 19:24:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:24:14 -0000
Received: (qmail 1771 invoked by uid 97); 9 Jul 2003 19:26:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1764 invoked from network); 9 Jul 2003 19:26:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 19:26:44 -0000
Received: (qmail 50209 invoked by uid 500); 9 Jul 2003 19:24:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50198 invoked from network); 9 Jul 2003 19:24:09 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:24:09 -0000
Message-ID: <20030709192414.31168.qmail@web12704.mail.yahoo.com>
Received: from [195.29.54.169] by web12704.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 12:24:14 PDT
Date: Wed, 9 Jul 2003 12:24:14 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Iterating through all documents indexed
To: lucene-user@jakarta.apache.org
Cc: Peter Becker <pbecker@dstc.edu.au>
In-Reply-To: <3F0BB347.4060406@dstc.edu.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Moved to lucene-user.
Peter, also see this:

http://jguru.com/faq/view.jsp?EID=703116
http://jguru.com/faq/view.jsp?EID=587213
http://jguru.com/faq/view.jsp?EID=1042002

Otis


--- Peter Becker <pbecker@dstc.edu.au> wrote:
> And another one...
> 
> It seems a reoccuring question but I can't figure out how to do a
> proper 
> update of an index. The problem I have is iterating through all 
> documents -- I can think of a few hacks for this but there seems to
> be 
> no way to just get an iterator/enumeration of all documents. This bit
> of 
> code seems to work:
> 
>             IndexReader reader =
> IndexReader.open(this.indexLocation);
>             for(int i = 0; i < reader.maxDoc(); i++) {
>                 Document doc = reader.document(i);
>                 if(doc != null) {
>                    // check if up-to-date, fix if required
>                 }
>             }
> 
> but I am a bit suspicious about what happens when I start deleting 
> documents from the index. Is this ok? Are there better ways?
> 
>   Peter
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:30:56 2003
Return-Path: 
 <lucene-user-return-4957-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71867 invoked from network); 9 Jul 2003 19:30:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:30:56 -0000
Received: (qmail 1957 invoked by uid 97); 9 Jul 2003 19:33:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1949 invoked from network); 9 Jul 2003 19:33:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 19:33:26 -0000
Received: (qmail 71606 invoked by uid 500); 9 Jul 2003 19:30:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71592 invoked from network); 9 Jul 2003 19:30:53 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:30:53 -0000
Message-ID: <20030709193058.27802.qmail@web12701.mail.yahoo.com>
Received: from [195.29.54.169] by web12701.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 12:30:58 PDT
Date: Wed, 9 Jul 2003 12:30:58 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser" (figured out how to do it)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030709185404.4787.qmail@web40911.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Ali,

I'd be interested in the QueryParser.jj unified diff, especially if it
preserves the existing QP functionality.
I'm also curious where you use such queries.  I think it may be
confusing to visualize this to novice users, but it may be nice to have
support for this in the QueryParser that ships with Lucene.

Thanks,
Otis


--- Ali Rouhi <srouhi@yahoo.com> wrote:
> Just a note to anyone interested, I figured out how to
> solve to problem I posed last week by adding the
> functionality needed to QueryParser.jj. It was a
> pretty specialized request to begin with - but anyone
> interested - I'll be glad to let them know how it
> works.
> 
> Ali
> 
> --- Ali Rouhi <srouhi@yahoo.com> wrote:
> > Hi
> > 
> > I need to perform a search for an expression in
> > multiple fields "as if" they were one field. This is
> > best illustrated by a simple example.
> > 
> > Find expression (X AND Y) in fields (F, G). 
> > 
> > I want this to translate to:
> > 
> > ((X in F) OR (X in G)) AND ((Y in F) OR (Y in G)) 
> > 
> > In other words I want the query to return true *not
> > only* if
> > 
> > ((X AND Y) in F) OR ((X AND Y) in G)               
> > (1)
> > 
> > but *also* the following should give me a true value
> > 
> > ((X in F) AND (Y in G)) OR ((X in G) AND (Y in F)) 
> > (2)
> > 
> > I believe that "MultiFieldQueryParser" just gives me
> > (1) and leaves out the "cross terms" in(2).(If you
> > want a practical example of why one would want to do
> > such a search I would be glad to provide one).
> > 
> > Of course I could construct the combination of (1)
> > and
> > (2) manually, but the problem is that I want the
> > "general solution" with a general expression being
> > searched for in multiple fields in the manner of the
> > above example.
> > 
> > I have a feeling that this sort of a thing is best
> > done by writing a custom QueryParser.jj. We use
> > Lucene
> > in production code and have great java expertise,
> > but
> > little JavaCC expertise. Suggestions for solving the
> > problem at a higher level than the QueryParser are
> > of
> > course also very welcome.
> > 
> > Many Thanks
> > Ali
> > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:31:11 2003
Return-Path: 
 <lucene-user-return-4958-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72756 invoked from network); 9 Jul 2003 19:31:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:31:11 -0000
Received: (qmail 1970 invoked by uid 97); 9 Jul 2003 19:33:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1963 invoked from network); 9 Jul 2003 19:33:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 19:33:41 -0000
Received: (qmail 72507 invoked by uid 500); 9 Jul 2003 19:31:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72496 invoked from network); 9 Jul 2003 19:31:08 -0000
Received: from unknown (HELO sba03.sba.cj.com) (207.71.241.81)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:31:08 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Adding to the same Keyword field
Date: Wed, 9 Jul 2003 12:31:13 -0700
Message-ID: <B2671BA904946B44AA2C84B8EC8C7858A0D984@cj-qa1.cj.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser" (figured out how to do it)
Thread-Index: AcNGS3x1ebFgcDOiQuuzPJfsyaSqZQABWOAg
From: "Ryan Clifton" <rclifton@cj.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The Lucene API docs say that you can add to the same Field name and the =
text will be appended into the field.  If I Add multiple times to the =
same Field name with a Field.Keyword type, will it make one big Keyword =
or multiple smaller Keywords in the same field?

Basically, I want to add all the href links on a page into one Field, =
but I don't want them to be tokenized (Keywords).

thx.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:40:06 2003
Return-Path: 
 <lucene-user-return-4959-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93198 invoked from network); 9 Jul 2003 19:40:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:40:06 -0000
Received: (qmail 2242 invoked by uid 97); 9 Jul 2003 19:42:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2235 invoked from network); 9 Jul 2003 19:42:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 19:42:36 -0000
Received: (qmail 91068 invoked by uid 500); 9 Jul 2003 19:39:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91036 invoked from network); 9 Jul 2003 19:39:39 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:39:39 -0000
Message-ID: <20030709193944.80310.qmail@web12707.mail.yahoo.com>
Received: from [195.29.54.169] by web12707.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 12:39:44 PDT
Date: Wed, 9 Jul 2003 12:39:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Unlocking an index
To: lucene-user@jakarta.apache.org
Cc: Peter Becker <pbecker@dstc.edu.au>
In-Reply-To: <3F0BAE67.50400@dstc.edu.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Moved to lucene-user.

I'm not looking at the source, but my guess is that IOE is thrown in
cases where commit.lock does not exist....?
Anyhow, you may want to call isLocked method before calling unlock
method, in order to attempt forceful unlocking only when the index is
indeed locked.  This is risky business, of course, but it looks like
you are aware of it :)

Otis


--- Peter Becker <pbecker@dstc.edu.au> wrote:
> Me again...
> 
> I am trying to create a command line option for our tool to force
> index 
> access even if the index is locked. Of course I could remove the lock
> 
> files manually but that doesn't seem to be a good idea since I'd have
> to 
> make some assumptions about the internal workings of your code.
> 
> I tried this (indexLocation = path to index as String):
> 
>   IndexReader.unlock(FSDirectory.getDirectory(indexLocation, false));
> 
> Is that appropriate? Is there any way to avoid the IOException that
> gets 
> thrown about not being able to delete "commit.lock"?
> 
> Thanks,
>   Peter
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:43:18 2003
Return-Path: 
 <lucene-user-return-4960-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98012 invoked from network); 9 Jul 2003 19:43:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:43:18 -0000
Received: (qmail 2326 invoked by uid 97); 9 Jul 2003 19:45:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2319 invoked from network); 9 Jul 2003 19:45:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 19:45:48 -0000
Received: (qmail 97722 invoked by uid 500); 9 Jul 2003 19:43:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97707 invoked from network); 9 Jul 2003 19:43:13 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:43:13 -0000
Message-ID: <20030709194319.59576.qmail@web12705.mail.yahoo.com>
Received: from [195.29.54.169] by web12705.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 12:43:19 PDT
Date: Wed, 9 Jul 2003 12:43:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: incremental indexing
To: lucene-user@jakarta.apache.org
In-Reply-To: 
 <5906D0419AB2154D9391EB4DFDB47BF1C36DBC@exchg01.corp.business.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Moved to lucene-user (what's going on today?).
Business.com...what was the amount again? 7 million USD?

You can keep IndexSearcher open while adding/reoptimizing, but if you
want to see the changes you need to close/discard the IndexSearcher
instance and get a new one.

Otis


--- "Oshima, Scott" <soshima@business.com> wrote:
> Can you incrementally add/reoptimize to a catalog that has
> IndexSearcher handles on it?
> 
> I assume you need to destroy any search references to the "live"
> index files before modifying them(re-optimizing)?
> 
> -scott
> 
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 19:58:34 2003
Return-Path: 
 <lucene-user-return-4961-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27214 invoked from network); 9 Jul 2003 19:58:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:58:34 -0000
Received: (qmail 2667 invoked by uid 97); 9 Jul 2003 20:01:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2660 invoked from network); 9 Jul 2003 20:01:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 20:01:04 -0000
Received: (qmail 25834 invoked by uid 500); 9 Jul 2003 19:58:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25800 invoked from network); 9 Jul 2003 19:58:16 -0000
Received: from pony-express.cs.rit.edu (129.21.30.24)
  by daedalus.apache.org with SMTP; 9 Jul 2003 19:58:16 -0000
Received: (qmail 23029 invoked from network); 9 Jul 2003 19:57:57 -0000
Received: from unknown (HELO VALUEDDC3E02C5) (129.21.175.243)
  by pony-express.cs.rit.edu with SMTP; 9 Jul 2003 19:57:57 -0000
From: "Jagdip Singh" <jxs1878@cs.rit.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: How to store xml file to index after parsing
Date: Wed, 9 Jul 2003 15:57:58 -0400
Message-ID: <000001c34654$65107380$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C34632.DDFED380"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C34632.DDFED380
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
I have XML file and want to store it to index for searching as well as
to database for archiving.
How can I store it to index as well as database? What should be the
table structure to store XML file? Do you think each element of XML file
has to be attribute/feature in table of there could be table with
structure like below?
Create table index (
            File_name char(100) not null,
            Modification_date int(100) not null,
            Length int(100) not null,
            Contents blob,
            Primary key(File_name)
);
 
Please give me ideas.
 
Regards,
Jagdip

------=_NextPart_000_0001_01C34632.DDFED380--


From MAILER-DAEMON Wed Jul  9 20:22:24 2003
Return-Path: 
 <lucene-user-return-4962-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80133 invoked from network); 9 Jul 2003 20:22:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 20:22:24 -0000
Received: (qmail 3398 invoked by uid 97); 9 Jul 2003 20:24:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3391 invoked from network); 9 Jul 2003 20:24:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 20:24:54 -0000
Received: (qmail 79817 invoked by uid 500); 9 Jul 2003 20:22:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79798 invoked from network); 9 Jul 2003 20:22:20 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 9 Jul 2003 20:22:20 -0000
Message-ID: <20030709202226.87190.qmail@web12707.mail.yahoo.com>
Received: from [195.29.54.169] by web12707.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 13:22:26 PDT
Date: Wed, 9 Jul 2003 13:22:26 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to store xml file to index after parsing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <000001c34654$65107380$f3af1581@VALUEDDC3E02C5>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

You are asking the wrong people in the wrong forum :)
I suggest you try one of the comp.db.* newsgroups.  See
http://groups.google.com for more info.

Otis

--- Jagdip Singh <jxs1878@cs.rit.edu> wrote:
> Hi,
> I have XML file and want to store it to index for searching as well
> as
> to database for archiving.
> How can I store it to index as well as database? What should be the
> table structure to store XML file? Do you think each element of XML
> file
> has to be attribute/feature in table of there could be table with
> structure like below?
> Create table index (
>             File_name char(100) not null,
>             Modification_date int(100) not null,
>             Length int(100) not null,
>             Contents blob,
>             Primary key(File_name)
> );
>  
> Please give me ideas.
>  
> Regards,
> Jagdip
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 22:20:13 2003
Return-Path: 
 <lucene-user-return-4963-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38334 invoked from network); 9 Jul 2003 22:20:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 22:20:13 -0000
Received: (qmail 7050 invoked by uid 97); 9 Jul 2003 22:22:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7043 invoked from network); 9 Jul 2003 22:22:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 22:22:45 -0000
Received: (qmail 38053 invoked by uid 500); 9 Jul 2003 22:20:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38033 invoked from network); 9 Jul 2003 22:20:10 -0000
Received: from web40905.mail.yahoo.com (66.218.78.202)
  by daedalus.apache.org with SMTP; 9 Jul 2003 22:20:10 -0000
Message-ID: <20030709222017.5418.qmail@web40905.mail.yahoo.com>
Received: from [66.7.228.158] by web40905.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 15:20:17 PDT
Date: Wed, 9 Jul 2003 15:20:17 -0700 (PDT)
From: Ali Rouhi <srouhi@yahoo.com>
Subject: Re: Query across multiple fields scenario not handled by
 "MultiFieldQueryParser" (figured out how to do it)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030709193058.27802.qmail@web12701.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis

This is sort of situation we needed this functionality
(and I should have given this example before to make
the original post make more sense):

Where I work, we index (SMTP compliant) email using
lucene. We need to index recipients that a "regular
user" has search access to (To, CC, Apparently-To)
under a separate field from BCC recipients (if any).

If we indexed BCC under the same field as the other
recipients, users of our system could (by accident or
deliberately) find BCC recipients of an email by
searching in the recipient field - which defeats the
purpose of BCC (just because you received an email
doesn't mean you should find out who it was bcc'd to).

To special "audit users" we want to give permission to
search bcc fields. However in our UI we don't want to
use separate text fields (it's a web UI) for BCC
recipients. If we did this, the audit user would have
to do 4 separate searches to look for recipients:

Joe AND Fred

Namely (To stands for To,cc,apparently-to which are
indexed under the same field)

1. (Joe AND Fred) in To
2. (Joe AND Fred) in BCC
3. (Joe in To) and (Fred in BCC)
4. (Fred in BCC) and (Joe in To)

For more complicated search expressions this becomes
tedious very quickly.

So basically indexing under separate fields solves an
access control problem for us - but introduces this
other problem of doing the 4 searches above as one
search.

My implementation doesn't break existing QP
functionality (we still have to support the non audit
users and other fields - "from", "subject", "content"
etc still use the old QP functionality). However the
problem we had to solve here seems specialized - I
can't easily think of situations where users may want
this, but this may be lack of imagination on my part.

BTW, I should also mention that the solution is
general and does the kind of search in the example
across and array of fields (not just 2 as in example).

If you are still interested let me know and I'll send
you the modified QueryParser.jj.

Ali

p.s. I think BCC is evil and do not use it myself
ever:)

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> Hello Ali,
> 
> I'd be interested in the QueryParser.jj unified
> diff, especially if it
> preserves the existing QP functionality.
> I'm also curious where you use such queries.  I
> think it may be
> confusing to visualize this to novice users, but it
> may be nice to have
> support for this in the QueryParser that ships with
> Lucene.
> 
> Thanks,
> Otis
> 
> 
> --- Ali Rouhi <srouhi@yahoo.com> wrote:
> > Just a note to anyone interested, I figured out
> how to
> > solve to problem I posed last week by adding the
> > functionality needed to QueryParser.jj. It was a
> > pretty specialized request to begin with - but
> anyone
> > interested - I'll be glad to let them know how it
> > works.
> > 
> > Ali
> > 
> > --- Ali Rouhi <srouhi@yahoo.com> wrote:
> > > Hi
> > > 
> > > I need to perform a search for an expression in
> > > multiple fields "as if" they were one field.
> This is
> > > best illustrated by a simple example.
> > > 
> > > Find expression (X AND Y) in fields (F, G). 
> > > 
> > > I want this to translate to:
> > > 
> > > ((X in F) OR (X in G)) AND ((Y in F) OR (Y in
> G)) 
> > > 
> > > In other words I want the query to return true
> *not
> > > only* if
> > > 
> > > ((X AND Y) in F) OR ((X AND Y) in G)            
>   
> > > (1)
> > > 
> > > but *also* the following should give me a true
> value
> > > 
> > > ((X in F) AND (Y in G)) OR ((X in G) AND (Y in
> F)) 
> > > (2)
> > > 
> > > I believe that "MultiFieldQueryParser" just
> gives me
> > > (1) and leaves out the "cross terms" in(2).(If
> you
> > > want a practical example of why one would want
> to do
> > > such a search I would be glad to provide one).
> > > 
> > > Of course I could construct the combination of
> (1)
> > > and
> > > (2) manually, but the problem is that I want the
> > > "general solution" with a general expression
> being
> > > searched for in multiple fields in the manner of
> the
> > > above example.
> > > 
> > > I have a feeling that this sort of a thing is
> best
> > > done by writing a custom QueryParser.jj. We use
> > > Lucene
> > > in production code and have great java
> expertise,
> > > but
> > > little JavaCC expertise. Suggestions for solving
> the
> > > problem at a higher level than the QueryParser
> are
> > > of
> > > course also very welcome.
> > > 
> > > Many Thanks
> > > Ali
> > > 
> > > 
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > SBC Yahoo! DSL - Now only $29.95 per month!
> > > http://sbc.yahoo.com
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > SBC Yahoo! DSL - Now only $29.95 per month!
> > http://sbc.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!
> http://sbc.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul  9 23:26:52 2003
Return-Path: 
 <lucene-user-return-4964-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9082 invoked from network); 9 Jul 2003 23:26:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Jul 2003 23:26:52 -0000
Received: (qmail 8250 invoked by uid 97); 9 Jul 2003 23:29:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8243 invoked from network); 9 Jul 2003 23:29:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Jul 2003 23:29:25 -0000
Received: (qmail 8759 invoked by uid 500); 9 Jul 2003 23:26:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8742 invoked from network); 9 Jul 2003 23:26:49 -0000
Received: from web41406.mail.yahoo.com (66.218.93.72)
  by daedalus.apache.org with SMTP; 9 Jul 2003 23:26:49 -0000
Message-ID: <20030709232656.52526.qmail@web41406.mail.yahoo.com>
Received: from [216.244.185.215] by web41406.mail.yahoo.com via HTTP;
 Wed, 09 Jul 2003 16:26:56 PDT
Date: Wed, 9 Jul 2003 16:26:56 -0700 (PDT)
From: alvaro z <alvaro2882@yahoo.com>
Subject: Newbie : Search Result Null from Tomcat (NO exceptions , just null)
To: lucene-user@jakarta.apache.org
In-Reply-To: <20030709222017.5418.qmail@web40905.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-664988072-1057793216=:51342"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-664988072-1057793216=:51342
Content-Type: text/plain; charset=us-ascii


Im trying lucene-1.2.jar .

I index the files from console ( that generated the index dir with the index files (using dir txts that has lots of txt files ).

then I tried the search (with all the methods in the sample)  . It works

But when i tried to made a search or a query by a JSP using Tomcat 3.2.3, it showed me null values . not even Exceptions about IndexSearcher or a query search. just null . Im using the same index dir generated at the console.  

im wondering if the prob is the access to the txts dir (that is not public). 

thanks for helping,

alvaro.


---------------------------------
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
--0-664988072-1057793216=:51342--

From MAILER-DAEMON Thu Jul 10 00:19:14 2003
Return-Path: 
 <lucene-user-return-4965-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46868 invoked from network); 10 Jul 2003 00:19:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 00:19:14 -0000
Received: (qmail 9643 invoked by uid 97); 10 Jul 2003 00:21:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9636 invoked from network); 10 Jul 2003 00:21:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 00:21:46 -0000
Received: (qmail 46480 invoked by uid 500); 10 Jul 2003 00:19:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46467 invoked from network); 10 Jul 2003 00:19:09 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 10 Jul 2003 00:19:09 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2E679B710B
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 10:19:11 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names
Date: Thu, 10 Jul 2003 10:11:13 +1000
User-Agent: KMail/1.4.3
References: <187D6D956106D84E9D8B280F6458FE14018D9B28@merc12.na.sas.com>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE14018D9B28@merc12.na.sas.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307101011.13157@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yep tried that. Actually there is more to the creation of the field than just 
in this line:

fieldToken=<TERM> <COLON> { field = fieldToken.image; }


Because I've created a <FIELDNAME> which is exactly the same with <TERM> which 
looks like this:
| <FIELDNAME: <_TERM_START_CHAR> (<_TERM_CHAR>)*  >

and change fieldToken to:

fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }

And it doesn't work. Simple query such as to:tom* is parsed as blank query.

I will continue looking at this problem and will post my solution if I get it, 
in the mean time I really do appreciate any help and suggestions.

cheers,

victor


On Thu, 10 Jul 2003 03:24 am, Eric Isakson wrote:
> You left out the ~ character in your _FIELDNAME_START_CHAR production. That
> character tells the grammar that it should take all the characters except
> the ones you specified (the complement).
>
> Change:
> | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",
>
> To:
> | <#_FIELDNAME_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":",
>
> and it should probably work.
>
> Eric
>
> -----Original Message-----
> From: Victor Hadianto [mailto:victorh@nuix.com.au]
> Sent: Wednesday, July 09, 2003 4:53 AM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
>
>
> Hi Erik and others,
>
> I'm looking for a similar solution where I need QueryParser not to drop the
> "-" characters from the field name. Hower outside the field I do want the -
> sign interpreted as "not" modifier.
>
> I'm definitely not an expert in JavaCC and to be honest I only have a
> limited idea about Erik's suggestion work,
>
> Anyway I followed the suggestion and added the following:
> | <#_WHITESPACE: ( " " | "\t" ) >
> | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",
> | "^",
>
>                                "[", "]", "\"", "{", "}", "~", "*", "?" ]
>
>                              | <_ESCAPED_CHAR> ) >
> |
> | <#_FIELDNAME_CHAR: ( <_FIELDNAME_START_CHAR> | <_ESCAPED_CHAR> ) >
>
> and again below I added:
> | <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> | <FIELDNAME: <_FIELDNAME_START_CHAR> (<_FIELDNAME_CHAR>)*  >
>
> And I changed:
>
>     LOOKAHEAD(2)
>     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
>
> to: ...
>
>     LOOKAHEAD(2)
>     fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }
>
>
> Well after doing all this mods all the query that involved field names
> cause problem, for example if I searched for
>
> fieldname:hello
>
> The query is blank (yes blank, nothing in it)
>
> and if the fieldname does contain a dash ("-") for example:
> field-name:hello
>
> They query is: +field -name
>
> hello is dropped.
>
>
> Does anyone has any idea? Help and suggestions will be much appreciated. I
> really need to get this dash working, changing the field name will be my
> last resort which I won't explore until I really have to.
>
>
> Thanks,
>
> Victor
>
> On Thu, 15 May 2003 04:54 am, Eric Isakson wrote:
> > I think the query parser changes would not be too bad, I've outlined a
> > couple of relavant lines you should look at so you don't have to try
> > and comprehend the productions for the entire QueryParser. I do not
> > think I would like to have to maintain one of those myself though.
> > Your other unmentioned alternative is to choose field names that match
> > the <TERM> production of QueryParser.jj without escapes.
> >
> > QueryParser.jj line 557:
> >     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> >
> > and earlier...
> >  <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":", "^",
> >                           "[", "]", "\"", "{", "}", "~", "*", "?" ] >
> >
> > | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":",
> > | "^",
> >
> >                            "[", "]", "\"", "{", "}", "~", "*", "?" ]
> >
> >                        | <_ESCAPED_CHAR> ) >
> > |
> > | <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
> >
> > ...
> >
> > <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> >
> > So the characters you need to avoid in your field names are the ones
> > from _ESCAPED_CHAR, [ "\\", "+", "-", "!", "(", ")", ":", "^", "[",
> > "]", "\"", "{", "}", "~", "*", "?" ]
> >
> > If you need to modify the parser, you will probably want to add a
> > FIELDNAME token and other supporting productions that look really
> > similar to these lines I've copied but modify the complement, ~[...],
> > at the beginning of _FIELDNAME_START_CHAR (you would add this
> > production) so it will match the "-" that you are using in your field
> > names (and fix it to match any other characters you want to use in
> > field names that it doesn't allow right now).
> >
> > Eric
> >
> > -----Original Message-----
> > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > Sent: Wednesday, May 14, 2003 2:26 PM
> > To: Lucene Users List
> > Subject: Re: '-' character not interpreted correctly in field names
> >
> > Eric Isakson wrote:
> > > I just looked at the QueryParser.jj code, your field names
> > >
> >  > never get processed by the analyzer. It does look like the  > query
> >
> > parser will honor escapes though. I haven't tried  > this, but try a
> > query like "foo\-bar:foo" and have
> >
> > > a look at the QueryParser.jj file for how it handles field
> > >
> >  > names when parsing your query.
> >
> > Hrm.. that's what I had found too.  So, you're saying that, other than
> > escaping dashes, I'd have to change QueryParser.. ?
> >
> > I'm not too familiar just yet with JavaCC syntax, so reading through
> > QueryParser is a little tough going.  Thanks Eric,
> >
> > jp
> >
> > > -----Original Message-----
> > > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > > Sent: Monday, May 12, 2003 4:03 PM
> > > To: Lucene Users List
> > > Subject: Re: '-' character not interpreted correctly in field names
> > >
> > >
> > > Hi Otis, Terry,
> > >
> > >  >>>You can write a custom Analyzer that does not remove dashes from
> > > >>>
> > > >>>tokens, and use it for both indexing and searching.  >>>  >>>This
> > >
> > > is a frequent question and answer on this list.
> > >
> > > Sorry for the noise, but I haven't been able to find a solution in
> > > the mailing list archives, or by writing my own analyzer:
> > >
> > > 	public class MyAnalyzer extends Analyzer {
> > > 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> > > 		return new CharTokenizer(reader) {
> > > 			protected boolean isTokenChar(char c) {
> > > 				return Character.isLetter(c) || c == '-';
> > > 			}
> > > 		};
> > > 	}
> > > 	}
> > >
> > > I parse a query like this:
> > >
> > > 	String queryString = "foo-bar:foo";
> > > 	String queryResult =
> > > 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> > >
> > > With the output:
> > > 	body:foo -bar:foo
> > >
> > > But I would expect the output:
> > > 	 foo-bar:foo
> > >
> > > If I print out the tokens that MyAnalyzer produces I do get
> > > "foo-bar" and then "foo".
> > >
> > > Any pointers on what I'm doing wrong?
> > >
> > > jp
> > >
> > >>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> > >>>>>Hi all,
> > >>>>>
> > >>>>>>I believe that the tokenizer treats a dash as a token
> > >>>
> > >>>separator.
> > >>>
> > >>>>>>Hence, the only way, as I recall, to eliminate this behavior
> > >>>
> > >>>is
> > >>>
> > >>>>>>to modify QueryParser.jj so it doesn't do this.  However,
> > >>>
> > >>>doing
> > >>>
> > >>>>>>this can cause some other problems, like hyphenated words at a
> > >>>>>>line break and the like.
> > >>>>>
> > >>>>>I've recently started using lucene and I'm running into the same
> > >>>>>issue with the query parser.  I'd like to use queries that
> > >>>>>contain
> > >>>
> > >>>dashes
> > >>>
> > >>>>>in
> > >>>>>the field name, but as far as I can tell it seems that the
> > >>>
> > >>>current
> > >>>
> > >>>>>query
> > >>>>>grammar treats field names as terms, and so, as Terry notes, a
> > >>>
> > >>>dash
> > >>>
> > >>>>>becomes a token seperator.
> > >>>>>
> > >>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by
> > >>>>>creating a seperate non-terminal for field names.
> > >>>>>
> > >>>>>Has anyone done any work on this already?  Is modifying
> > >>>>>QueryParser.jj the best approach?
> > >>>>>
> > >>>>>Thanks,
> > >>>>>jp
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 04:14:44 2003
Return-Path: 
 <lucene-user-return-4966-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33577 invoked from network); 10 Jul 2003 04:14:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 04:14:44 -0000
Received: (qmail 12868 invoked by uid 97); 10 Jul 2003 04:17:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12861 invoked from network); 10 Jul 2003 04:17:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 04:17:20 -0000
Received: (qmail 33295 invoked by uid 500); 10 Jul 2003 04:14:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33282 invoked from network); 10 Jul 2003 04:14:41 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 10 Jul 2003 04:14:41 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2D044B710B
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 14:14:35 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names (solution)
Date: Thu, 10 Jul 2003 14:06:34 +1000
User-Agent: KMail/1.4.3
References: <187D6D956106D84E9D8B280F6458FE14018D9B28@merc12.na.sas.com>
 <200307101011.13157@bah>
In-Reply-To: <200307101011.13157@bah>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307101406.34984@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric and others,

I finally found a solution for this problem, although it is really specific to 
our need.

The simplest solution in the end is redefining what a "Term" is about. At the 
moment, QueryParser will parse the following:

t-shirt as

+t -shirt

Which, in my opinion, is not really acceptable. A more sensible parsing will 
parse "t-shirt" as "t-shirt". If a user wants to do a query for "t" without 
the word "shirt" on it then the query should really be:

t -shirt
 ^ space here.

Similarly, a field query such as:

model:t-shirt

should really be interpreted as "model:t-shirt" not +model:t -shirt. I this it 
really make more sense to have the requirement of having a space before the 
"-" to identify a NOT query.

Onward to the code change, as I have said earlier it is specific for our 
application use and thus may not be relevant to most other people. Some of 
our field name have the "-" sign in it. Thus by changing the TERM_CHAR 
definition to:

<#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >

makes QueryParser compatible with our need. 


Cheers,

Victor


On Thu, 10 Jul 2003 10:11 am, Victor Hadianto wrote:
> Yep tried that. Actually there is more to the creation of the field than
> just in this line:
>
> fieldToken=<TERM> <COLON> { field = fieldToken.image; }
>
>
> Because I've created a <FIELDNAME> which is exactly the same with <TERM>
> which
>
> looks like this:
> | <FIELDNAME: <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
>
> and change fieldToken to:
>
> fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }
>
> And it doesn't work. Simple query such as to:tom* is parsed as blank query.
>
> I will continue looking at this problem and will post my solution if I get
> it, in the mean time I really do appreciate any help and suggestions.
>
> cheers,
>
> victor
>
> On Thu, 10 Jul 2003 03:24 am, Eric Isakson wrote:
> > You left out the ~ character in your _FIELDNAME_START_CHAR production.
> > That character tells the grammar that it should take all the characters
> > except the ones you specified (the complement).
> >
> > Change:
> > | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",
> >
> > To:
> > | <#_FIELDNAME_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":",
> >
> > and it should probably work.
> >
> > Eric
> >
> > -----Original Message-----
> > From: Victor Hadianto [mailto:victorh@nuix.com.au]
> > Sent: Wednesday, July 09, 2003 4:53 AM
> > To: Lucene Users List
> > Subject: Re: '-' character not interpreted correctly in field names
> >
> >
> > Hi Erik and others,
> >
> > I'm looking for a similar solution where I need QueryParser not to drop
> > the "-" characters from the field name. Hower outside the field I do want
> > the - sign interpreted as "not" modifier.
> >
> > I'm definitely not an expert in JavaCC and to be honest I only have a
> > limited idea about Erik's suggestion work,
> >
> > Anyway I followed the suggestion and added the following:
> > | <#_WHITESPACE: ( " " | "\t" ) >
> > | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(", ")", ":",
> > | "^",
> >
> >                                "[", "]", "\"", "{", "}", "~", "*", "?" ]
> >
> >                              | <_ESCAPED_CHAR> ) >
> > |
> > | <#_FIELDNAME_CHAR: ( <_FIELDNAME_START_CHAR> | <_ESCAPED_CHAR> ) >
> >
> > and again below I added:
> > | <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> > | <FIELDNAME: <_FIELDNAME_START_CHAR> (<_FIELDNAME_CHAR>)*  >
> >
> > And I changed:
> >
> >     LOOKAHEAD(2)
> >     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> >
> > to: ...
> >
> >     LOOKAHEAD(2)
> >     fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }
> >
> >
> > Well after doing all this mods all the query that involved field names
> > cause problem, for example if I searched for
> >
> > fieldname:hello
> >
> > The query is blank (yes blank, nothing in it)
> >
> > and if the fieldname does contain a dash ("-") for example:
> > field-name:hello
> >
> > They query is: +field -name
> >
> > hello is dropped.
> >
> >
> > Does anyone has any idea? Help and suggestions will be much appreciated.
> > I really need to get this dash working, changing the field name will be
> > my last resort which I won't explore until I really have to.
> >
> >
> > Thanks,
> >
> > Victor
> >
> > On Thu, 15 May 2003 04:54 am, Eric Isakson wrote:
> > > I think the query parser changes would not be too bad, I've outlined a
> > > couple of relavant lines you should look at so you don't have to try
> > > and comprehend the productions for the entire QueryParser. I do not
> > > think I would like to have to maintain one of those myself though.
> > > Your other unmentioned alternative is to choose field names that match
> > > the <TERM> production of QueryParser.jj without escapes.
> > >
> > > QueryParser.jj line 557:
> > >     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> > >
> > > and earlier...
> > >  <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":", "^",
> > >                           "[", "]", "\"", "{", "}", "~", "*", "?" ] >
> > >
> > > | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":",
> > > | "^",
> > >
> > >                            "[", "]", "\"", "{", "}", "~", "*", "?" ]
> > >
> > >                        | <_ESCAPED_CHAR> ) >
> > > |
> > > | <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
> > >
> > > ...
> > >
> > > <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> > >
> > > So the characters you need to avoid in your field names are the ones
> > > from _ESCAPED_CHAR, [ "\\", "+", "-", "!", "(", ")", ":", "^", "[",
> > > "]", "\"", "{", "}", "~", "*", "?" ]
> > >
> > > If you need to modify the parser, you will probably want to add a
> > > FIELDNAME token and other supporting productions that look really
> > > similar to these lines I've copied but modify the complement, ~[...],
> > > at the beginning of _FIELDNAME_START_CHAR (you would add this
> > > production) so it will match the "-" that you are using in your field
> > > names (and fix it to match any other characters you want to use in
> > > field names that it doesn't allow right now).
> > >
> > > Eric
> > >
> > > -----Original Message-----
> > > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > > Sent: Wednesday, May 14, 2003 2:26 PM
> > > To: Lucene Users List
> > > Subject: Re: '-' character not interpreted correctly in field names
> > >
> > > Eric Isakson wrote:
> > > > I just looked at the QueryParser.jj code, your field names
> > > >
> > >  > never get processed by the analyzer. It does look like the  > query
> > >
> > > parser will honor escapes though. I haven't tried  > this, but try a
> > > query like "foo\-bar:foo" and have
> > >
> > > > a look at the QueryParser.jj file for how it handles field
> > > >
> > >  > names when parsing your query.
> > >
> > > Hrm.. that's what I had found too.  So, you're saying that, other than
> > > escaping dashes, I'd have to change QueryParser.. ?
> > >
> > > I'm not too familiar just yet with JavaCC syntax, so reading through
> > > QueryParser is a little tough going.  Thanks Eric,
> > >
> > > jp
> > >
> > > > -----Original Message-----
> > > > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > > > Sent: Monday, May 12, 2003 4:03 PM
> > > > To: Lucene Users List
> > > > Subject: Re: '-' character not interpreted correctly in field names
> > > >
> > > >
> > > > Hi Otis, Terry,
> > > >
> > > >  >>>You can write a custom Analyzer that does not remove dashes from
> > > > >>>
> > > > >>>tokens, and use it for both indexing and searching.  >>>  >>>This
> > > >
> > > > is a frequent question and answer on this list.
> > > >
> > > > Sorry for the noise, but I haven't been able to find a solution in
> > > > the mailing list archives, or by writing my own analyzer:
> > > >
> > > > 	public class MyAnalyzer extends Analyzer {
> > > > 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> > > > 		return new CharTokenizer(reader) {
> > > > 			protected boolean isTokenChar(char c) {
> > > > 				return Character.isLetter(c) || c == '-';
> > > > 			}
> > > > 		};
> > > > 	}
> > > > 	}
> > > >
> > > > I parse a query like this:
> > > >
> > > > 	String queryString = "foo-bar:foo";
> > > > 	String queryResult =
> > > > 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> > > >
> > > > With the output:
> > > > 	body:foo -bar:foo
> > > >
> > > > But I would expect the output:
> > > > 	 foo-bar:foo
> > > >
> > > > If I print out the tokens that MyAnalyzer produces I do get
> > > > "foo-bar" and then "foo".
> > > >
> > > > Any pointers on what I'm doing wrong?
> > > >
> > > > jp
> > > >
> > > >>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> > > >>>>>Hi all,
> > > >>>>>
> > > >>>>>>I believe that the tokenizer treats a dash as a token
> > > >>>
> > > >>>separator.
> > > >>>
> > > >>>>>>Hence, the only way, as I recall, to eliminate this behavior
> > > >>>
> > > >>>is
> > > >>>
> > > >>>>>>to modify QueryParser.jj so it doesn't do this.  However,
> > > >>>
> > > >>>doing
> > > >>>
> > > >>>>>>this can cause some other problems, like hyphenated words at a
> > > >>>>>>line break and the like.
> > > >>>>>
> > > >>>>>I've recently started using lucene and I'm running into the same
> > > >>>>>issue with the query parser.  I'd like to use queries that
> > > >>>>>contain
> > > >>>
> > > >>>dashes
> > > >>>
> > > >>>>>in
> > > >>>>>the field name, but as far as I can tell it seems that the
> > > >>>
> > > >>>current
> > > >>>
> > > >>>>>query
> > > >>>>>grammar treats field names as terms, and so, as Terry notes, a
> > > >>>
> > > >>>dash
> > > >>>
> > > >>>>>becomes a token seperator.
> > > >>>>>
> > > >>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by
> > > >>>>>creating a seperate non-terminal for field names.
> > > >>>>>
> > > >>>>>Has anyone done any work on this already?  Is modifying
> > > >>>>>QueryParser.jj the best approach?
> > > >>>>>
> > > >>>>>Thanks,
> > > >>>>>jp
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 08:38:12 2003
Return-Path: 
 <lucene-user-return-4967-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56625 invoked from network); 10 Jul 2003 08:38:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 08:38:12 -0000
Received: (qmail 24606 invoked by uid 97); 10 Jul 2003 08:40:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24599 invoked from network); 10 Jul 2003 08:40:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 08:40:50 -0000
Received: (qmail 56350 invoked by uid 500); 10 Jul 2003 08:38:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56339 invoked from network); 10 Jul 2003 08:38:08 -0000
Received: from webmail3.dat.bth.se (HELO webmail.bth.se) (194.47.129.153)
  by daedalus.apache.org with SMTP; 10 Jul 2003 08:38:08 -0000
Received: by webmail.bth.se (Postfix, from userid 72)
	id 28F1170014; Thu, 10 Jul 2003 04:38:20 -0400 (EDT)
Received: from cacher2-ext.wise.edt.ericsson.se
 (cacher2-ext.wise.edt.ericsson.se [194.237.142.13])
	by webmail.bth.se (IMP) with HTTP
	for <di99mwo@mail.student.bth.se>; Thu, 10 Jul 2003 10:38:19 +0200
Message-ID: <1057826299.3f0d25fbcfae3@webmail.bth.se>
Date: Thu, 10 Jul 2003 10:38:19 +0200
From: di99mwo@student.bth.se
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: result.jsp in the webdemo
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 194.237.142.13
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello.

I'm trying to modify the result.jsp file in lucene webdemo. I can create a for-
loop but can't declare any variable anywhere in the jsp file. 

I get the the following error:

Generated servlet error:
C:\jakarta-tomcat-4.0.6
\work\Standalone\localhost\luceneweb\results$jsp.java:250: Invalid expression 
statement.
                		    int interface;	
                		    ^


An error occurred between lines: 104 and 120 in the jsp file: /results.jsp

Generated servlet error:
C:\jakarta-tomcat-4.0.6
\work\Standalone\localhost\luceneweb\results$jsp.java:250: ';' expected.
                		    int interface;	
                		       ^


An error occurred between lines: 104 and 120 in the jsp file: /results.jsp

Generated servlet error:
C:\jakarta-tomcat-4.0.6
\work\Standalone\localhost\luceneweb\results$jsp.java:250: '}' expected.
                		    int interface;	
                		       ^


An error occurred between lines: 104 and 120 in the jsp file: /results.jsp

Generated servlet error:
C:\jakarta-tomcat-4.0.6
\work\Standalone\localhost\luceneweb\results$jsp.java:250: Identifier expected.
                		    int interface;	
                		                 ^
4 errors, 1 warning



thanks.

/Michelle 



			
				



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 10:03:35 2003
Return-Path: 
 <lucene-user-return-4968-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72800 invoked from network); 10 Jul 2003 10:03:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:03:35 -0000
Received: (qmail 28506 invoked by uid 97); 10 Jul 2003 10:06:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28499 invoked from network); 10 Jul 2003 10:06:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 10:06:14 -0000
Received: (qmail 72521 invoked by uid 500); 10 Jul 2003 10:03:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72501 invoked from network); 10 Jul 2003 10:03:30 -0000
Received: from smtp3.libero.it (193.70.192.127)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:03:30 -0000
Received: from libero.it (193.70.192.91) by smtp3.libero.it (7.0.012)
        id 3EE732B1002E6187 for lucene-user@jakarta.apache.org;
 Thu, 10 Jul 2003 12:03:43 +0200
Date: Thu, 10 Jul 2003 12:03:43 +0200
Message-Id: <HHSZY7$0E960E3280D231EC01E5D1A8C8ED7535@libero.it>
Subject: =?iso-8859-1?Q?Can_I_do_this_with_Lucene_=3F?=
MIME-Version: 1.0
X-Sensitivity: 3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
From: =?iso-8859-1?Q?fmarchioni?= <fmarchioni@libero.it>
To: =?iso-8859-1?Q?lucene-user?= <lucene-user@jakarta.apache.org>
X-XaM3-API-Version: 3.3 (B31) pl4
X-type: 0
X-SenderIP: 212.171.114.232
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dear Lucene Users,=0D=0AI'd like to implement a search engine and I'd lik=
e to know if it's possible to=0D=0Ado it with Lucene.=0D=0AI have many te=
xt files containing faqs, every faq has a text file.=0D=0AInside the file=
 questions are listed with a delimiter (I use # but it can by any)=0D=0A=0D=
=0A#Question1=0D=0Abla bla bla bla=0D=0A=0D=0A#Question2=0D=0Abla bla bla=
 bla=0D=0A=0D=0A...and so on....=0D=0A=0D=0ANow I'd like something that s=
earch for words inside the faqs and RETURNS THE BLOCK=0D=0Awhere it was f=
ound (#Question1 bla bla bla bla)....in other words I want to retrieve=0D=
=0Aa single faq using a search engine.=0D=0A=0D=0AI didn't see anything l=
ike this in the docs....just something that return the number of hits=0D=0A=
of a search.....can Lucene do it for me easily or it's better to write it=
 on my own using=0D=0Astandard Java I/O Api ?=0D=0AThanks a lot=0D=0AFran=
cesco=0D=0A=0D=0A


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 10:20:51 2003
Return-Path: 
 <lucene-user-return-4970-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98660 invoked from network); 10 Jul 2003 10:20:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:20:51 -0000
Received: (qmail 28938 invoked by uid 97); 10 Jul 2003 10:23:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28931 invoked from network); 10 Jul 2003 10:23:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 10:23:31 -0000
Received: (qmail 98358 invoked by uid 500); 10 Jul 2003 10:20:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98335 invoked from network); 10 Jul 2003 10:20:47 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:20:47 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h6AAKugf009864
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 12:20:56 +0200
Message-ID: <002001c346cc$f562c730$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <HHSZY7$0E960E3280D231EC01E5D1A8C8ED7535@libero.it>
Subject: Re: Can I do this with Lucene ?
Date: Thu, 10 Jul 2003 12:20:59 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I want to retrieve
> a single faq using a search engine.

You could index FAQs instead of files.

  for file in listFiles():
    for faq in extractFaqs(file):
      doc = Document()
      doc.add(Field.Keyword('key', faq.id))
      doc.add(Field.Keyword('file', file))
      doc.add(Field.Unstored('content', faq.content))
      writer.addDocument(doc)


> I didn't see anything like this in the docs....just something that
> return the number of hits of a search

One solution would be to create a custom HitCollector that simply counts
hits and then 'searcher.search(query, hitCollector)'.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 10:20:41 2003
Return-Path: 
 <lucene-user-return-4969-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97898 invoked from network); 10 Jul 2003 10:20:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:20:41 -0000
Received: (qmail 28926 invoked by uid 97); 10 Jul 2003 10:23:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28918 invoked from network); 10 Jul 2003 10:23:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 10:23:20 -0000
Received: (qmail 97616 invoked by uid 500); 10 Jul 2003 10:20:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97583 invoked from network); 10 Jul 2003 10:20:37 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:20:37 -0000
Received: from morus.xipolis.net (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 A5DB819B717
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 12:20:49 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h6AAOwm12718;
	Thu, 10 Jul 2003 12:24:58 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16141.16122.446901.794796@morus.xipolis.net>
Date: Thu, 10 Jul 2003 12:24:58 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: =?iso-8859-1?Q?Can_I_do_this_with_Lucene_=3F?=
In-Reply-To: <HHSZY7$0E960E3280D231EC01E5D1A8C8ED7535@libero.it>
References: <HHSZY7$0E960E3280D231EC01E5D1A8C8ED7535@libero.it>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Francesco,

> I'd like to implement a search engine and I'd like to know if it's possible to
> do it with Lucene.
> I have many text files containing faqs, every faq has a text file.
> Inside the file questions are listed with a delimiter (I use # but it can by any)
> 
> #Question1
> bla bla bla bla
> 
> #Question2
> bla bla bla bla
> 
> ...and so on....
> 
> Now I'd like something that search for words inside the faqs and RETURNS THE BLOCK
> where it was found (#Question1 bla bla bla bla)....in other words I want to retrieve
> a single faq using a search engine.
> 
> I didn't see anything like this in the docs....just something that return the number of hits
> of a search.....can Lucene do it for me easily or it's better to write it on my own using
> standard Java I/O Api ?

Well lucene indexes units of text as you provide them.
So if you make each question a document in lucenes sense you will get 
the question and any info you stored with it (eg. faq-file and question
number).
Seems straight forward to me.

There is no need that files and documents in lucene have a 1:1 relation.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 08:17:10 2003
Return-Path: 
 <lucene-user-return-5025-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76780 invoked from network); 17 Jul 2003 08:17:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:17:10 -0000
Received: (qmail 7714 invoked by uid 97); 17 Jul 2003 08:19:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7707 invoked from network); 17 Jul 2003 08:19:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 08:19:52 -0000
Received: (qmail 76448 invoked by uid 500); 17 Jul 2003 08:17:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76433 invoked from network); 17 Jul 2003 08:17:06 -0000
Received: from webmail1.dat.bth.se (HELO webmail.bth.se) (194.47.129.151)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:17:06 -0000
Received: by webmail.bth.se (Postfix, from userid 72)
	id C35DE7E8D1; Thu, 10 Jul 2003 06:25:46 -0400 (EDT)
Received: from cacher2-ext.wise.edt.ericsson.se
 (cacher2-ext.wise.edt.ericsson.se [194.237.142.13])
	by webmail.bth.se (IMP) with HTTP
	for <di99mwo@mail.student.bth.se>; Thu, 10 Jul 2003 12:25:46 +0200
Message-ID: <1057832746.3f0d3f2a0512c@webmail.bth.se>
Date: Thu, 10 Jul 2003 12:25:46 +0200
From: di99mwo@student.bth.se
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: result.jsp in the webdemo
References: <1057826299.3f0d25fbcfae3@webmail.bth.se>
In-Reply-To: <1057826299.3f0d25fbcfae3@webmail.bth.se>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 194.237.142.13
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I choosed another variable name, then it worked, but why?

/Michelle


Quoting di99mwo@student.bth.se:

> Hello.
> 
> I'm trying to modify the result.jsp file in lucene webdemo. I can create a
> for-
> loop but can't declare any variable anywhere in the jsp file. 
> 
> I get the the following error:
> 
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: Invalid expression
> 
> statement.
>                 		    int interface;	
>                 		    ^
> 
> 
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
> 
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: ';' expected.
>                 		    int interface;	
>                 		       ^
> 
> 
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
> 
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: '}' expected.
>                 		    int interface;	
>                 		       ^
> 
> 
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
> 
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: Identifier
> expected.
>                 		    int interface;	
>                 		                 ^
> 4 errors, 1 warning
> 
> 
> 
> thanks.
> 
> /Michelle 
> 
> 
> 
> 			
> 				
> 
> 
> 
> -------------------------------------------------
> This mail sent through IMP: http://horde.org/imp/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 10:34:40 2003
Return-Path: 
 <lucene-user-return-4971-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16912 invoked from network); 10 Jul 2003 10:34:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:34:40 -0000
Received: (qmail 29158 invoked by uid 97); 10 Jul 2003 10:37:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29151 invoked from network); 10 Jul 2003 10:37:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 10:37:04 -0000
Received: (qmail 15332 invoked by uid 500); 10 Jul 2003 10:34:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15284 invoked from network); 10 Jul 2003 10:34:20 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:34:20 -0000
Message-ID: <20030710103419.949.qmail@web12707.mail.yahoo.com>
Received: from [195.29.55.8] by web12707.mail.yahoo.com via HTTP;
 Thu, 10 Jul 2003 03:34:19 PDT
Date: Thu, 10 Jul 2003 03:34:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: '-' character not interpreted correctly in field names (solution)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200307101406.34984@bah>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think this is a fine change, that others would welcome, too.
No?
Does your change work with queries that start with a '-' character?
For example: -shirt +pants
(note: no space before '-shirt')

If so, I think we could include this change in QueryParser.jj if you
send the diff, as I recall others wondering why queries like t-shirt
get misinterpreted as +t -shirt.

Thanks,
Otis

--- Victor Hadianto <victorh@nuix.com.au> wrote:
> Eric and others,
> 
> I finally found a solution for this problem, although it is really
> specific to 
> our need.
> 
> The simplest solution in the end is redefining what a "Term" is
> about. At the 
> moment, QueryParser will parse the following:
> 
> t-shirt as
> 
> +t -shirt
> 
> Which, in my opinion, is not really acceptable. A more sensible
> parsing will 
> parse "t-shirt" as "t-shirt". If a user wants to do a query for "t"
> without 
> the word "shirt" on it then the query should really be:
> 
> t -shirt
>  ^ space here.
> 
> Similarly, a field query such as:
> 
> model:t-shirt
> 
> should really be interpreted as "model:t-shirt" not +model:t -shirt.
> I this it 
> really make more sense to have the requirement of having a space
> before the 
> "-" to identify a NOT query.
> 
> Onward to the code change, as I have said earlier it is specific for
> our 
> application use and thus may not be relevant to most other people.
> Some of 
> our field name have the "-" sign in it. Thus by changing the
> TERM_CHAR 
> definition to:
> 
> <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> 
> makes QueryParser compatible with our need. 
> 
> 
> Cheers,
> 
> Victor
> 
> 
> On Thu, 10 Jul 2003 10:11 am, Victor Hadianto wrote:
> > Yep tried that. Actually there is more to the creation of the field
> than
> > just in this line:
> >
> > fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> >
> >
> > Because I've created a <FIELDNAME> which is exactly the same with
> <TERM>
> > which
> >
> > looks like this:
> > | <FIELDNAME: <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> >
> > and change fieldToken to:
> >
> > fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }
> >
> > And it doesn't work. Simple query such as to:tom* is parsed as
> blank query.
> >
> > I will continue looking at this problem and will post my solution
> if I get
> > it, in the mean time I really do appreciate any help and
> suggestions.
> >
> > cheers,
> >
> > victor
> >
> > On Thu, 10 Jul 2003 03:24 am, Eric Isakson wrote:
> > > You left out the ~ character in your _FIELDNAME_START_CHAR
> production.
> > > That character tells the grammar that it should take all the
> characters
> > > except the ones you specified (the complement).
> > >
> > > Change:
> > > | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(",
> ")", ":",
> > >
> > > To:
> > > | <#_FIELDNAME_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(",
> ")", ":",
> > >
> > > and it should probably work.
> > >
> > > Eric
> > >
> > > -----Original Message-----
> > > From: Victor Hadianto [mailto:victorh@nuix.com.au]
> > > Sent: Wednesday, July 09, 2003 4:53 AM
> > > To: Lucene Users List
> > > Subject: Re: '-' character not interpreted correctly in field
> names
> > >
> > >
> > > Hi Erik and others,
> > >
> > > I'm looking for a similar solution where I need QueryParser not
> to drop
> > > the "-" characters from the field name. Hower outside the field I
> do want
> > > the - sign interpreted as "not" modifier.
> > >
> > > I'm definitely not an expert in JavaCC and to be honest I only
> have a
> > > limited idea about Erik's suggestion work,
> > >
> > > Anyway I followed the suggestion and added the following:
> > > | <#_WHITESPACE: ( " " | "\t" ) >
> > > | <#_FIELDNAME_START_CHAR: ( [ " ", "\t", "+", "-", "!", "(",
> ")", ":",
> > > | "^",
> > >
> > >                                "[", "]", "\"", "{", "}", "~",
> "*", "?" ]
> > >
> > >                              | <_ESCAPED_CHAR> ) >
> > > |
> > > | <#_FIELDNAME_CHAR: ( <_FIELDNAME_START_CHAR> | <_ESCAPED_CHAR>
> ) >
> > >
> > > and again below I added:
> > > | <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> > > | <FIELDNAME: <_FIELDNAME_START_CHAR> (<_FIELDNAME_CHAR>)*  >
> > >
> > > And I changed:
> > >
> > >     LOOKAHEAD(2)
> > >     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> > >
> > > to: ...
> > >
> > >     LOOKAHEAD(2)
> > >     fieldToken=<FIELDNAME> <COLON> { field = fieldToken.image; }
> > >
> > >
> > > Well after doing all this mods all the query that involved field
> names
> > > cause problem, for example if I searched for
> > >
> > > fieldname:hello
> > >
> > > The query is blank (yes blank, nothing in it)
> > >
> > > and if the fieldname does contain a dash ("-") for example:
> > > field-name:hello
> > >
> > > They query is: +field -name
> > >
> > > hello is dropped.
> > >
> > >
> > > Does anyone has any idea? Help and suggestions will be much
> appreciated.
> > > I really need to get this dash working, changing the field name
> will be
> > > my last resort which I won't explore until I really have to.
> > >
> > >
> > > Thanks,
> > >
> > > Victor
> > >
> > > On Thu, 15 May 2003 04:54 am, Eric Isakson wrote:
> > > > I think the query parser changes would not be too bad, I've
> outlined a
> > > > couple of relavant lines you should look at so you don't have
> to try
> > > > and comprehend the productions for the entire QueryParser. I do
> not
> > > > think I would like to have to maintain one of those myself
> though.
> > > > Your other unmentioned alternative is to choose field names
> that match
> > > > the <TERM> production of QueryParser.jj without escapes.
> > > >
> > > > QueryParser.jj line 557:
> > > >     fieldToken=<TERM> <COLON> { field = fieldToken.image; }
> > > >
> > > > and earlier...
> > > >  <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":",
> "^",
> > > >                           "[", "]", "\"", "{", "}", "~", "*",
> "?" ] >
> > > >
> > > > | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")",
> ":",
> > > > | "^",
> > > >
> > > >                            "[", "]", "\"", "{", "}", "~", "*",
> "?" ]
> > > >
> > > >                        | <_ESCAPED_CHAR> ) >
> > > > |
> > > > | <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
> > > >
> > > > ...
> > > >
> > > > <TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >
> > > >
> > > > So the characters you need to avoid in your field names are the
> ones
> > > > from _ESCAPED_CHAR, [ "\\", "+", "-", "!", "(", ")", ":", "^",
> "[",
> > > > "]", "\"", "{", "}", "~", "*", "?" ]
> > > >
> > > > If you need to modify the parser, you will probably want to add
> a
> > > > FIELDNAME token and other supporting productions that look
> really
> > > > similar to these lines I've copied but modify the complement,
> ~[...],
> > > > at the beginning of _FIELDNAME_START_CHAR (you would add this
> > > > production) so it will match the "-" that you are using in your
> field
> > > > names (and fix it to match any other characters you want to use
> in
> > > > field names that it doesn't allow right now).
> > > >
> > > > Eric
> > > >
> > > > -----Original Message-----
> > > > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > > > Sent: Wednesday, May 14, 2003 2:26 PM
> > > > To: Lucene Users List
> > > > Subject: Re: '-' character not interpreted correctly in field
> names
> > > >
> > > > Eric Isakson wrote:
> > > > > I just looked at the QueryParser.jj code, your field names
> > > > >
> > > >  > never get processed by the analyzer. It does look like the 
> > query
> > > >
> > > > parser will honor escapes though. I haven't tried  > this, but
> try a
> > > > query like "foo\-bar:foo" and have
> > > >
> > > > > a look at the QueryParser.jj file for how it handles field
> > > > >
> > > >  > names when parsing your query.
> > > >
> > > > Hrm.. that's what I had found too.  So, you're saying that,
> other than
> > > > escaping dashes, I'd have to change QueryParser.. ?
> > > >
> > > > I'm not too familiar just yet with JavaCC syntax, so reading
> through
> > > > QueryParser is a little tough going.  Thanks Eric,
> > > >
> > > > jp
> > > >
> > > > > -----Original Message-----
> > > > > From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> > > > > Sent: Monday, May 12, 2003 4:03 PM
> > > > > To: Lucene Users List
> > > > > Subject: Re: '-' character not interpreted correctly in field
> names
> > > > >
> > > > >
> > > > > Hi Otis, Terry,
> > > > >
> > > > >  >>>You can write a custom Analyzer that does not remove
> dashes from
> > > > > >>>
> > > > > >>>tokens, and use it for both indexing and searching.  >>> 
> >>>This
> > > > >
> > > > > is a frequent question and answer on this list.
> > > > >
> > > > > Sorry for the noise, but I haven't been able to find a
> solution in
> > > > > the mailing list archives, or by writing my own analyzer:
> > > > >
> > > > > 	public class MyAnalyzer extends Analyzer {
> > > > > 	public TokenStream tokenStream(String fieldName, Reader
> reader) 		{
> > > > > 		return new CharTokenizer(reader) {
> > > > > 			protected boolean isTokenChar(char c) {
> > > > > 				return Character.isLetter(c) || c == '-';
> > > > > 			}
> > > > > 		};
> > > > > 	}
> > > > > 	}
> > > > >
> > > > > I parse a query like this:
> > > > >
> > > > > 	String queryString = "foo-bar:foo";
> > > > > 	String queryResult =
> > > > > 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> > > > >
> > > > > With the output:
> > > > > 	body:foo -bar:foo
> > > > >
> > > > > But I would expect the output:
> > > > > 	 foo-bar:foo
> > > > >
> > > > > If I print out the tokens that MyAnalyzer produces I do get
> > > > > "foo-bar" and then "foo".
> > > > >
> > > > > Any pointers on what I'm doing wrong?
> > > > >
> > > > > jp
> > > > >
> > > > >>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> > > > >>>>>Hi all,
> > > > >>>>>
> > > > >>>>>>I believe that the tokenizer treats a dash as a token
> > > > >>>
> > > > >>>separator.
> > > > >>>
> > > > >>>>>>Hence, the only way, as I recall, to eliminate this
> behavior
> > > > >>>
> > > > >>>is
> > > > >>>
> > > > >>>>>>to modify QueryParser.jj so it doesn't do this.  However,
> > > > >>>
> > > > >>>doing
> > > > >>>
> > > > >>>>>>this can cause some other problems, like hyphenated words
> at a
> > > > >>>>>>line break and the like.
> > > > >>>>>
> > > > >>>>>I've recently started using lucene and I'm running into
> the same
> > > > >>>>>issue with the query parser.  I'd like to use queries that
> > > > >>>>>contain
> > > > >>>
> > > > >>>dashes
> > > > >>>
> > > > >>>>>in
> > > > >>>>>the field name, but as far as I can tell it seems that the
> > > > >>>
> > > > >>>current
> > > > >>>
> > > > >>>>>query
> > > > >>>>>grammar treats field names as terms, and so, as Terry
> notes, a
> > > > >>>
> > > > >>>dash
> > > > >>>
> > > > >>>>>becomes a token seperator.
> > > > >>>>>
> > > > >>>>>Terry suggests modifying the QueryParser.jj -- I would
> suspect by
> > > > >>>>>creating a seperate non-terminal for field names.
> > > > >>>>>
> > > > >>>>>Has anyone done any work on this already?  Is modifying
> > > > >>>>>QueryParser.jj the best approach?
> > > > >>>>>
> > > > >>>>>Thanks,
> > > > >>>>>jp
> > >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 10:53:09 2003
Return-Path: 
 <lucene-user-return-4972-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38586 invoked from network); 10 Jul 2003 10:53:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:53:09 -0000
Received: (qmail 29523 invoked by uid 97); 10 Jul 2003 10:55:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29516 invoked from network); 10 Jul 2003 10:55:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 10:55:34 -0000
Received: (qmail 38324 invoked by uid 500); 10 Jul 2003 10:53:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38312 invoked from network); 10 Jul 2003 10:53:06 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 10 Jul 2003 10:53:06 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h6AAr0gf012533
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 12:53:00 +0200
Message-ID: <000f01c346d1$6fddec70$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200307101406.34984@bah>
 <20030710103419.949.qmail@web12707.mail.yahoo.com>
Subject: Re: '-' character not interpreted correctly in field names (solution)
Date: Thu, 10 Jul 2003 12:53:03 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I think this is a fine change, that others would welcome, too.
> No?
> Does your change work with queries that start with a '-' character?
> For example: -shirt +pants
> (note: no space before '-shirt')
> 
> If so, I think we could include this change in QueryParser.jj if you
> send the diff, as I recall others wondering why queries like t-shirt
> get misinterpreted as +t -shirt.

+1

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 11:26:06 2003
Return-Path: 
 <lucene-user-return-4973-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17387 invoked from network); 10 Jul 2003 11:26:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 11:26:06 -0000
Received: (qmail 851 invoked by uid 97); 10 Jul 2003 11:28:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 844 invoked from network); 10 Jul 2003 11:28:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 11:28:32 -0000
Received: (qmail 17078 invoked by uid 500); 10 Jul 2003 11:26:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17016 invoked from network); 10 Jul 2003 11:26:02 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 10 Jul 2003 11:26:02 -0000
Received: (qmail 18546 invoked from network); 10 Jul 2003 11:25:53 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 10 Jul 2003 11:25:53 -0000
Message-ID: <00d901c346d6$09e823e0$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200307101406.34984@bah>
 <20030710103419.949.qmail@web12707.mail.yahoo.com>
 <000f01c346d1$6fddec70$c300000a@caliente>
Subject: Re: '-' character not interpreted correctly in field names (solution)
Date: Thu, 10 Jul 2003 13:25:54 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

----- Original Message ----- 
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 10, 2003 12:53 PM
Subject: Re: '-' character not interpreted correctly in field names
(solution)


> > I think this is a fine change, that others would welcome, too.
> > No?
> > Does your change work with queries that start with a '-' character?
> > For example: -shirt +pants
> > (note: no space before '-shirt')
> >
> > If so, I think we could include this change in QueryParser.jj if you
> > send the diff, as I recall others wondering why queries like t-shirt
> > get misinterpreted as +t -shirt.
>
> +1
>
> --
> Eric Jain
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 14:44:31 2003
Return-Path: 
 <lucene-user-return-4974-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53002 invoked from network); 10 Jul 2003 14:44:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 14:44:31 -0000
Received: (qmail 8872 invoked by uid 97); 10 Jul 2003 14:47:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8863 invoked from network); 10 Jul 2003 14:47:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 14:47:00 -0000
Received: (qmail 52708 invoked by uid 500); 10 Jul 2003 14:44:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52694 invoked from network); 10 Jul 2003 14:44:27 -0000
Received: from smtp011.mail.yahoo.com (216.136.173.31)
  by daedalus.apache.org with SMTP; 10 Jul 2003 14:44:27 -0000
Received: from pantin.telemarket.fr (HELO TMKW0472)
 (oliviercochet@212.157.160.2 with login)
  by smtp.mail.vip.sc5.yahoo.com with SMTP; 10 Jul 2003 14:44:29 -0000
Message-ID: <014a01c346f1$a061c310$340511ac@tmk.pantin.fr>
From: "Olivier Cochet" <oliviercochet@yahoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001601c3418a$9ba526d0$f3af1581@VALUEDDC3E02C5>
Subject: Maybe a stupid question?
Date: Thu, 10 Jul 2003 16:43:26 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello, i would like to know if it was possible to introduce more than once
value for a field in a document.
I think that is must be possible, but i don't know how to make it.

Thanks for answering and knocking on my head if i had stupid questions ;-)

olivier cochet from Paris


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 14:51:42 2003
Return-Path: 
 <lucene-user-return-4975-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75454 invoked from network); 10 Jul 2003 14:51:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 14:51:42 -0000
Received: (qmail 9126 invoked by uid 97); 10 Jul 2003 14:54:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9119 invoked from network); 10 Jul 2003 14:54:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 14:54:11 -0000
Received: (qmail 75168 invoked by uid 500); 10 Jul 2003 14:51:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75156 invoked from network); 10 Jul 2003 14:51:38 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 10 Jul 2003 14:51:38 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id N26JP722; Thu, 10 Jul 2003 10:55:54 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Maybe a stupid question?
Date: Thu, 10 Jul 2003 10:51:31 -0400
Message-ID: <000c01c346f2$c3edd700$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <014a01c346f1$a061c310$340511ac@tmk.pantin.fr>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can add as many fields with the same name as your heart desire on
the same document. This will give you multiple values

Aviran

-----Original Message-----
From: Olivier Cochet [mailto:oliviercochet@yahoo.fr] 
Sent: Thursday, July 10, 2003 10:43 AM
To: Lucene Users List
Subject: Maybe a stupid question?


Hello, i would like to know if it was possible to introduce more than
once value for a field in a document. I think that is must be possible,
but i don't know how to make it.

Thanks for answering and knocking on my head if i had stupid questions
;-)

olivier cochet from Paris


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 17:59:27 2003
Return-Path: 
 <lucene-user-return-4976-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95586 invoked from network); 10 Jul 2003 17:59:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 17:59:27 -0000
Received: (qmail 16044 invoked by uid 97); 10 Jul 2003 18:01:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16037 invoked from network); 10 Jul 2003 18:01:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 18:01:58 -0000
Received: (qmail 95285 invoked by uid 500); 10 Jul 2003 17:59:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95273 invoked from network); 10 Jul 2003 17:59:24 -0000
Received: from relay.pair.com (209.68.1.20)
  by daedalus.apache.org with SMTP; 10 Jul 2003 17:59:24 -0000
Received: (qmail 24177 invoked from network); 10 Jul 2003 17:59:27 -0000
Received: from cfusion.dsl.telerama.com (HELO ?192.168.1.17?) (205.201.8.169)
  by relay.pair.com with SMTP; 10 Jul 2003 17:59:27 -0000
X-pair-Authenticated: 205.201.8.169
Subject: JavaCC v3 and Lucene
From: brian janaszek <bmj@anklebiter.net>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: 
Message-Id: <1057860411.11635.65.camel@wolfgang.collaborativefusion.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 10 Jul 2003 14:06:51 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi

Has anyone made the changes to the Lucene codebase/build process for the
latest version of JavaCC?  Version 2 is pretty hard to come by these
days (I managed to get a copy from one of the developers), but I also
tweaked the Lucene code to build with version 3...but that also required
downloading the lastest Ant build, since the JavaCC optional task was
also configured for version 2.

Thanks
b



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 18:22:28 2003
Return-Path: 
 <lucene-user-return-4977-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55546 invoked from network); 10 Jul 2003 18:22:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 18:22:28 -0000
Received: (qmail 16889 invoked by uid 97); 10 Jul 2003 18:25:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16877 invoked from network); 10 Jul 2003 18:25:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 18:25:00 -0000
Received: (qmail 55257 invoked by uid 500); 10 Jul 2003 18:22:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55236 invoked from network); 10 Jul 2003 18:22:25 -0000
Received: from smtp.net1plus.com (207.77.56.8)
  by daedalus.apache.org with SMTP; 10 Jul 2003 18:22:25 -0000
Received: from GREGG (mercury.net1plus.com [207.77.56.16])
	by smtp.net1plus.com (8.11.6/8.11.6) with ESMTP id h6AIMRR19616
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 14:22:28 -0400
Received: from (66.205.83.189) by (207.77.56.16); 10 Jul 2003 14:16:14 -0400
From: "Gregg Cote" <gregg.cote@ixpartners.com>
To: <lucene-user@jakarta.apache.org>
Subject: Phrase Query Question
Date: Thu, 10 Jul 2003 14:22:24 -0400
Message-ID: <001701c34710$36edd170$800101df@GREGG>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have a stream of documents, which I want to perform searches on for =
both
single terms and phrases.  Instead of indexing the documents, which I do =
not
need to keep around or in the index, I am trying to index the terms and
phrases that I am searching for.  So when I get a document, I can search =
the
index of terms and phrases with the document title and contents and if I =
get
any hits I can do some processing and wait for the next document.  This
seems to work fine if I have single terms, but not for phrases.  For
example, I want to put the phrase "money flow" into the index.  When I
search the index with a document that contains this phrase I want to get =
a
hit, but not get a hit if just the term money or just the term flow is =
in
the document.  I can't seem to get this to work and was wondering if =
this is
possible.  Any info is appreciated.

Thanks,
Gregg



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 18:38:19 2003
Return-Path: 
 <lucene-user-return-4978-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3733 invoked from network); 10 Jul 2003 18:38:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 18:38:19 -0000
Received: (qmail 17508 invoked by uid 97); 10 Jul 2003 18:40:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17501 invoked from network); 10 Jul 2003 18:40:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 18:40:51 -0000
Received: (qmail 3428 invoked by uid 500); 10 Jul 2003 18:38:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3330 invoked from network); 10 Jul 2003 18:38:14 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 10 Jul 2003 18:38:14 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h6AIbc916119
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 11:37:38 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Thu, 10 Jul 2003 11:38:29 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 10 Jul 2003 11:38:17 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Getting back a Date object?
Date: Thu, 10 Jul 2003 11:38:17 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7A65@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Getting back a Date object?
Thread-Index: AcNEAIG0ckjiEIh4S+iewXwAyCJcIwDEW4+w
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jul 2003 18:38:17.0805 (UTC)
 FILETIME=[6E1047D0:01C34712]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

There is a Field.Keyword factory method that takes a date.  I'm using it
like this:

  searchDoc.add(Field.Keyword("TIMESTAMP", new Date()));

The JavaDoc for this method says it is stored in the index, for return
with hits.  So how do I get it out of the Hits?

The only thing I can see is getting a String or a Field from Hits.  And
Field only allows you to get a String from it.  Should I be using the
readerValue() for this?

Any help is appreciated!
Reece

-----Original Message-----
From: Francesco Bellomi [mailto:fbellomi@libero.it]=20
Sent: Sunday, July 06, 2003 1:50 PM
To: Lucene Users List
Subject: Directory implementation using NIO


Hi,

I developed a Directory implementation that accesses an index stored on
the filesystem using memory-mapped files (as provided by the NIO API,
introduced in Java 1.4).

You can download the complied jar and the source from here:
www.fran.it/lucene-NIO.zip

Basically there are 3 new classes: NIODirectory, NIOInputStream and
NIOOutputStream. They are heavily based on FSDirectory, FSInputStream
and FSOutputStream.

NIOInputStram provides memory-mapped access to files. It does not rely
on Lucene InputStream's caching feature, since direct access to the
memory-mapped file should be faster. Also, cloned stream with
independent positions are implemented using NIO buffer duplication (a
buffer duplicate holds the same content but has its own position), and
so the implementation logic is much simpler than FSInputStream's.

Some methods of Directory have been overridden to replace the caching
feature. Some of then were final in Directory, so I have used a slightly
modified version of Directory.java (BTW, I wonder why so many methods in
Lucene are made final...)

These classes only works with the recently released Java 1.4.2. This is
due to the fact that buffers connected with memory-mapped files could
not be programmatically unmapped in previous releases, (they were
unmapped only through finalization) and actively mapped files cannot be
deleted. These issue are partially resolved with 1.4.2.

NIOOutputStream is the same as FSOutputStream; I don't know any way to
take advantege of NIO for writing indexes (memory mapped buffers have a
static size, so they are not useful if your file is growing).

I don't have a benchmarking suite for Lucene, so I can't accurately
evaluate the speed of this implementation. I tested it on a small
application I am developing and it seems to work well, but I think my
test are not significative. Of course only the searching feature is
expected to be faster, since the index writing is unchanged.

Francesco

-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 10 20:42:00 2003
Return-Path: 
 <lucene-user-return-4979-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64308 invoked from network); 10 Jul 2003 20:42:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jul 2003 20:42:00 -0000
Received: (qmail 21331 invoked by uid 97); 10 Jul 2003 20:44:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21324 invoked from network); 10 Jul 2003 20:44:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Jul 2003 20:44:32 -0000
Received: (qmail 63916 invoked by uid 500); 10 Jul 2003 20:41:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63905 invoked from network); 10 Jul 2003 20:41:56 -0000
Received: from merc65.na.sas.com (149.173.6.60)
  by daedalus.apache.org with SMTP; 10 Jul 2003 20:41:56 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.13 with InterScan
 Messaging Security Suite; Thu, 10 Jul 2003 16:42:01 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: JavaCC v3 and Lucene
Date: Thu, 10 Jul 2003 16:42:01 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9B35@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: JavaCC v3 and Lucene
Thread-Index: AcNHDQXTpHV0Nw3QR1uP2vN+aQEgywAFf7Xg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I attached a patch to

Bugzilla Bug 19468 =20
   Lucene 1.3-rc1 does not build against JavaCC 3.0
http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D19468

But they haven't been added to CVS. You should use the last two =
attachments. I couldn't figure out how to delete my first 3 attachments =
which had some of my initial attempts at a patch for this problem.

Has anyone else tried these yet?

Eric

-----Original Message-----
From: brian janaszek [mailto:bmj@anklebiter.net]=20
Sent: Thursday, July 10, 2003 2:07 PM
To: lucene-user@jakarta.apache.org
Subject: JavaCC v3 and Lucene


Hi

Has anyone made the changes to the Lucene codebase/build process for the =
latest version of JavaCC?  Version 2 is pretty hard to come by these =
days (I managed to get a copy from one of the developers), but I also =
tweaked the Lucene code to build with version 3...but that also required =
downloading the lastest Ant build, since the JavaCC optional task was =
also configured for version 2.

Thanks
b



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 11 00:49:31 2003
Return-Path: 
 <lucene-user-return-4980-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53788 invoked from network); 11 Jul 2003 00:49:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jul 2003 00:49:31 -0000
Received: (qmail 28284 invoked by uid 97); 11 Jul 2003 00:52:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28277 invoked from network); 11 Jul 2003 00:52:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Jul 2003 00:52:06 -0000
Received: (qmail 53474 invoked by uid 500); 11 Jul 2003 00:49:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53435 invoked from network); 11 Jul 2003 00:49:27 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 11 Jul 2003 00:49:27 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 10359B7120
	for <lucene-user@jakarta.apache.org>; Fri, 11 Jul 2003 10:49:29 +1000 (EST)
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names (solution)
Date: Fri, 11 Jul 2003 10:41:16 +1000
User-Agent: KMail/1.4.3
References: <20030710103419.949.qmail@web12707.mail.yahoo.com>
In-Reply-To: <20030710103419.949.qmail@web12707.mail.yahoo.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Type: Multipart/Mixed;
  boundary="------------Boundary-00=_SK4U71SPZ7G3IE70KP60"
Message-Id: <200307111041.16175@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------Boundary-00=_SK4U71SPZ7G3IE70KP60
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Okay attached is the diff file to allow t-shirt to be interpreted as 
"t-shirt". Queries that start with a "-" character behave as expected, well 
at least as we expected. 

For example: -shirt +pants as -shirt +pants

One thing I need to mention is (I dig this from earlier discussion in this 
list), that Doug Cutting said this (about the similar change someone else 
propose):

<---- cut --->
Lixin Meng wrote:
> Therefore, it would be preferable to treat all hyphen in the same way.
> Either as a delimiter or as part of the word (maybe with a flag at the API).

If we change StandardTokenizer in this way then we risk breaking all the 
applications that currently use it and depend on its current behaviour. 
  So I'm reluctant to make this change.

 From the StandardTokenizer documentation:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/standard/StandardTokenizer.html

"Many applications have specific tokenizer needs. If this tokenizer does 
not suit your application, please consider copying this source code 
directory to your project and maintaining your own grammar-based tokenizer."

Also, if you construct a tokenizer that you think is more generally 
useful than StandardTokenizer, please contribute it by mailing it to one 
of the Lucene mailing lists.

Thanks,

Doug

<---- cut ---->

So yes this change _may_ break other exisiting applications.

cheers,
victor


On Thu, 10 Jul 2003 08:34 pm, Otis Gospodnetic wrote:
> I think this is a fine change, that others would welcome, too.
> No?
> Does your change work with queries that start with a '-' character?
> For example: -shirt +pants
> (note: no space before '-shirt')
>
> If so, I think we could include this change in QueryParser.jj if you
> send the diff, as I recall others wondering why queries like t-shirt
> get misinterpreted as +t -shirt.
>
> Thanks,
> Otis
>
> --- Victor Hadianto <victorh@nuix.com.au> wrote:
> > Eric and others,
> >
> > I finally found a solution for this problem, although it is really
> > specific to
> > our need.
> >
> > The simplest solution in the end is redefining what a "Term" is
> > about. At the
> > moment, QueryParser will parse the following:
> >
> > t-shirt as
> >
> > +t -shirt
> >
> > Which, in my opinion, is not really acceptable. A more sensible
> > parsing will
> > parse "t-shirt" as "t-shirt". If a user wants to do a query for "t"
> > without
> > the word "shirt" on it then the query should really be:
> >
> > t -shirt
> >  ^ space here.
> >
> > Similarly, a field query such as:
> >
> > model:t-shirt
> >
> > should really be interpreted as "model:t-shirt" not +model:t -shirt.
> > I this it
> > really make more sense to have the requirement of having a space
> > before the
> > "-" to identify a NOT query.
> >
> > Onward to the code change, as I have said earlier it is specific for
> > our
> > application use and thus may not be relevant to most other people.
> > Some of
> > our field name have the "-" sign in it. Thus by changing the
> > TERM_CHAR
> > definition to:
> >
> > <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
> >
> > makes QueryParser compatible with our need.
> >
> >
> > Cheers,
> >
> > Victor
> >

--------------Boundary-00=_SK4U71SPZ7G3IE70KP60
Content-Type: text/plain;
  charset="iso-8859-1";
  name="diff.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename="diff.txt"

Index: src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj
===================================================================
RCS file: /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj,v
retrieving revision 1.3
diff -u -u -r1.3 StandardTokenizer.jj
--- src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj	5 Jun 2002 04:54:47 -0000	1.3
+++ src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj	11 Jul 2003 00:36:15 -0000
@@ -95,6 +95,9 @@
   // use a post-filter to remove possesives
 | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
 
+  // Include search string such as t-shirt, x-mailer or mail-client.
+| <DASHESWORD: <ALPHANUM> ("-" <ALPHANUM>)+ >
+
   // acronyms: U.S.A., I.B.M., etc.
   // use a post-filter to remove dots
 | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
@@ -177,6 +180,7 @@
 {
   ( token = <ALPHANUM> |
     token = <APOSTROPHE> |
+    token = <DASHESWORD> | 
     token = <ACRONYM> |
     token = <COMPANY> |
     token = <EMAIL> |
Index: src/java/org/apache/lucene/queryParser/QueryParser.jj
===================================================================
RCS file: /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/queryParser/QueryParser.jj,v
retrieving revision 1.29
diff -u -u -r1.29 QueryParser.jj
--- src/java/org/apache/lucene/queryParser/QueryParser.jj	20 Mar 2003 18:28:13 -0000	1.29
+++ src/java/org/apache/lucene/queryParser/QueryParser.jj	11 Jul 2003 00:36:15 -0000
@@ -439,7 +439,7 @@
 | <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":", "^",
                            "[", "]", "\"", "{", "}", "~", "*", "?" ]
                        | <_ESCAPED_CHAR> ) >
-| <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >
+| <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> | "-" ) >
 | <#_WHITESPACE: ( " " | "\t" ) >
 }
 


--------------Boundary-00=_SK4U71SPZ7G3IE70KP60
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--------------Boundary-00=_SK4U71SPZ7G3IE70KP60--


From MAILER-DAEMON Fri Jul 11 00:53:36 2003
Return-Path: 
 <lucene-user-return-4981-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56648 invoked from network); 11 Jul 2003 00:53:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jul 2003 00:53:36 -0000
Received: (qmail 28318 invoked by uid 97); 11 Jul 2003 00:56:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28311 invoked from network); 11 Jul 2003 00:56:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Jul 2003 00:56:12 -0000
Received: (qmail 56161 invoked by uid 500); 11 Jul 2003 00:53:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56148 invoked from network); 11 Jul 2003 00:53:31 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 11 Jul 2003 00:53:31 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id EA9C2B7120
	for <lucene-user@jakarta.apache.org>; Fri, 11 Jul 2003 10:53:33 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Getting back a Date object?
Date: Fri, 11 Jul 2003 10:45:21 +1000
User-Agent: KMail/1.4.3
References: 
 <496A2C679221504D8B8AE4B10267E876019D7A65@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7A65@gb-sm-cala-xm11.corp.disney.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307111045.21100@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Fri, 11 Jul 2003 04:38 am, Wilton, Reece wrote:
> There is a Field.Keyword factory method that takes a date.  I'm using it
> like this:
>
>   searchDoc.add(Field.Keyword("TIMESTAMP", new Date()));

> The only thing I can see is getting a String or a Field from Hits.  And
> Field only allows you to get a String from it.  Should I be using the
> readerValue() for this?

Convert the string that you get using DateString.stringToDate(String s) 
method. 

HTH,
victor



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 11 01:24:14 2003
Return-Path: 
 <lucene-user-return-4982-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98789 invoked from network); 11 Jul 2003 01:24:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jul 2003 01:24:14 -0000
Received: (qmail 28677 invoked by uid 97); 11 Jul 2003 01:26:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28668 invoked from network); 11 Jul 2003 01:26:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Jul 2003 01:26:50 -0000
Received: (qmail 98509 invoked by uid 500); 11 Jul 2003 01:24:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98497 invoked from network); 11 Jul 2003 01:24:09 -0000
Received: from unknown (HELO ns12.mmaweb.net) (64.71.146.250)
  by daedalus.apache.org with SMTP; 11 Jul 2003 01:24:09 -0000
Received: from sds (200-163-011-244.bsace7015.dsl.brasiltelecom.net.br
 [200.163.11.244])
	by ns12.mmaweb.net (8.12.9/8.11.0) with SMTP id h6B1OG4r023383
	for <lucene-user@jakarta.apache.org>; Thu, 10 Jul 2003 21:24:17 -0400 (EDT)
From: "Bizu de Anuncio" <atendimento@bizudeanuncio.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RES: Portuguese Analyser
Date: Thu, 10 Jul 2003 22:36:30 -0300
Message-ID: <MABBJIIKNJENHNLGGGEFOEOBCEAA.atendimento@bizudeanuncio.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-Reply-To: <F43ZQxAj9OhGcvwMvov0000887c@hotmail.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

William,

	I have a Portuguese analyser and I'm using it on www.bizudeanuncio.com. I
followed the Porter Steamer algoritm.

	Can I take a look at yours ?

	bye

		jk

ps: I going on vacation today.


-----Mensagem original-----
De: William W [mailto:william_wws@hotmail.com]
Enviada em: Wednesday, September 18, 2002 11:09 AM
Para: lucene-user@jakarta.apache.org
Assunto: Re: Portuguese Analyser



Hi Otis,
I'm finally working on the Portuguese Analyser, and I have a question.
I would like to use the org.apache.lucene.analysis.de.WordlistLoader, but I
think that it could be in the util package. What should I do ? Use the
org.apache.lucene.analysis.de.WordlistLoader  or replicate it to
org.apache.lucene.analysis.br.WordlistLoader ??

Thanks
William.


_________________________________________________________________
Chat with friends online, try MSN Messenger: http://messenger.msn.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 11 19:18:40 2003
Return-Path: 
 <lucene-user-return-4983-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56169 invoked from network); 11 Jul 2003 19:18:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jul 2003 19:18:40 -0000
Received: (qmail 26332 invoked by uid 97); 11 Jul 2003 19:21:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26325 invoked from network); 11 Jul 2003 19:21:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Jul 2003 19:21:12 -0000
Received: (qmail 55884 invoked by uid 500); 11 Jul 2003 19:18:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55873 invoked from network); 11 Jul 2003 19:18:37 -0000
Received: from fog.mm.com (204.73.34.12)
  by daedalus.apache.org with SMTP; 11 Jul 2003 19:18:37 -0000
Received: from drizzle.mm.com (ice.mm.com [204.73.34.14])
	by fog.mm.com (Postfix) with ESMTP id 8062CA394
	for <lucene-user@jakarta.apache.org>; Fri, 11 Jul 2003 14:18:32 -0500 (CDT)
Received: from muscovite.opin.com (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 245895E068
	for <lucene-user@jakarta.apache.org>; Fri, 11 Jul 2003 14:18:42 -0500 (CDT)
Received: by MUSCOVITE with Internet Mail Service (5.5.2653.19)
	id <NKB3P2Z5>; Fri, 11 Jul 2003 14:27:34 -0500
Message-ID: <D15E9D991E0FD41184C90080C80D2746B49B2B@MUSCOVITE>
From: Steve Rajavuori <SteveR@opin.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Files getting deleted when optimize is killed?
Date: Fri, 11 Jul 2003 14:25:40 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've had a problem on several occasions where my entire index is deleted --
that is, EVERY file (except 'segments') is gone. There were many users on
the system each time, so its a little hard to tell for sure what was going
on, but my theory is this:

My code will automatically call optimize( ) periodically. Because the index
is very large, it can take a long time. It looks like an administrator may
have killed my process, and its possible that it was killed while an
optimize( ) was in progress.

I have two questions:

1) Does anyone know if killing an optimize( ) in progress could wipe out all
files like this? (New index created in temporary files that were not saved
properly, while old index files were already deleted???)

2) Does anyone know of any other way all files in an index could be
inadvertently deleted (e.g. through killing a process)? For example, if you
kill the process during an 'add' would that cause all files to be deleted?

Steve Rajavuori

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 11 23:09:18 2003
Return-Path: 
 <lucene-user-return-4984-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53487 invoked from network); 11 Jul 2003 23:09:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jul 2003 23:09:18 -0000
Received: (qmail 3112 invoked by uid 97); 11 Jul 2003 23:11:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3105 invoked from network); 11 Jul 2003 23:11:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Jul 2003 23:11:52 -0000
Received: (qmail 53083 invoked by uid 500); 11 Jul 2003 23:09:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53070 invoked from network); 11 Jul 2003 23:09:15 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 11 Jul 2003 23:09:15 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h6BN4s913927
	for <lucene-user@jakarta.apache.org>; Fri, 11 Jul 2003 16:04:54 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Fri, 11 Jul 2003 16:05:44 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 11 Jul 2003 16:05:32 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Advice on updating an index?
Date: Fri, 11 Jul 2003 16:05:32 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876017CC7DF@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Advice on updating an index?
Thread-Index: AcNH4V29zaYc5VljQUS+dT8TqkF1qQAGzvGQ
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 Jul 2003 23:05:32.0578 (UTC)
 FILETIME=[EDF23820:01C34800]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm having a bit of trouble figuring out the logic for deleting
documents from an index.  Any advice is appreciated!

1) I created an index with an IndexWriter and then optimized it and
closed it.  Then I opened an IndexReader and deleted each document using
indexReader.delete(new Term("ID", id)).  Then I opened an IndexWriter
again and added the docs.

This worked wonderfully and was fast!  But when I'm updating an index,
I'd prefer to delete the old document and then add the new one.  I don't
want to remove all the docs and then re-add them because people who are
currently searching will get no results.

2) I created an index with an IndexWriter and then optimized it and
closed it.  Then I opened an IndexReader and IndexWriter. =20
For each document:
- I delete the document using the IndexReader
- I add the document using the IndexWriter
At the end I close the reader and use the writer to optimize.

This doesn't work. :-( The IndexReader never finds anything to delete.
I presume its because the IndexWriter has the index open.

3) I created an index with an IndexWriter and then optimized it and
closed it.  Then I opened the index with an IndexWriter.
For each document:
- I create a new IndexReader, delete the document and close the
IndexReader
- I add the document using the IndexWriter
At the end I use the writer to optimize.

This doesn't work. :-( The IndexReader never finds anything to delete.
I presume its because the IndexWriter has the index open.

4) I created an index with an IndexWriter and then optimized it and
closed it.
For each document:
- I create a new IndexReader, delete the document and close the
IndexReader
- I create a new IndexWriter, add the document and close the IndexWriter
At the end I open the index with an IndexWriter and then optimize it and
close it.

This works!  But it is pretty slow (compared to the other three tests).
Is this the best way of doing this?

BTW, I'm using Lucene 1.3 rc1 on Windows XP with JDK 1.4.2.

Thanks,
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Jul 12 04:08:57 2003
Return-Path: 
 <lucene-user-return-4985-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7781 invoked from network); 12 Jul 2003 04:08:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jul 2003 04:08:57 -0000
Received: (qmail 9442 invoked by uid 97); 12 Jul 2003 04:11:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9435 invoked from network); 12 Jul 2003 04:11:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 Jul 2003 04:11:35 -0000
Received: (qmail 7493 invoked by uid 500); 12 Jul 2003 04:08:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7479 invoked from network); 12 Jul 2003 04:08:54 -0000
Received: from mail14.atl.registeredsite.com (64.224.219.88)
  by daedalus.apache.org with SMTP; 12 Jul 2003 04:08:54 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.14])
	by mail14.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6C494iZ001777
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Sat, 12 Jul 2003 00:09:04 -0400
Received: (qmail 65494 invoked by uid 89); 12 Jul 2003 04:11:04 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.marciamay.net with SMTP; 12 Jul 2003 04:11:04 -0000
Date: Fri, 11 Jul 2003 17:27:05 -0700
Subject: Re: Adding to the same Keyword field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B2671BA904946B44AA2C84B8EC8C7858A0D984@cj-qa1.cj.com>
Message-Id: <9096326A-B3FF-11D7-8E59-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It will make multiple "tokens" within the same field.... just as if you 
had used a tokenized field with all the values (and your analyzer split 
them in the manner you're adding them).  Does that make sense?

In other words, adding keywords "foo" and "bar" is the same as using a 
text field as "foo bar" and using the WhitespaceAnalyzer.

If you want to use a query like a TermQuery on 
"http://jakarta.apache.org" then indexing multiple Keyword's with the 
same field name is what you're after.

	Erik


On Wednesday, July 9, 2003, at 12:31  PM, Ryan Clifton wrote:
> The Lucene API docs say that you can add to the same Field name and 
> the text will be appended into the field.  If I Add multiple times to 
> the same Field name with a Field.Keyword type, will it make one big 
> Keyword or multiple smaller Keywords in the same field?
>
> Basically, I want to add all the href links on a page into one Field, 
> but I don't want them to be tokenized (Keywords).
>
> thx.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Jul 12 12:05:33 2003
Return-Path: 
 <lucene-user-return-4987-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65743 invoked from network); 12 Jul 2003 12:05:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jul 2003 12:05:33 -0000
Received: (qmail 21103 invoked by uid 97); 12 Jul 2003 12:08:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21096 invoked from network); 12 Jul 2003 12:08:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 Jul 2003 12:08:00 -0000
Received: (qmail 65394 invoked by uid 500); 12 Jul 2003 12:05:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65371 invoked from network); 12 Jul 2003 12:05:29 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 12 Jul 2003 12:05:29 -0000
Message-ID: <20030712120530.67659.qmail@web12701.mail.yahoo.com>
Received: from [194.152.215.55] by web12701.mail.yahoo.com via HTTP;
 Sat, 12 Jul 2003 05:05:30 PDT
Date: Sat, 12 Jul 2003 05:05:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Files getting deleted when optimize is killed?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D15E9D991E0FD41184C90080C80D2746B49B2B@MUSCOVITE>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


--- Steve Rajavuori <SteveR@opin.com> wrote:
> I've had a problem on several occasions where my entire index is
> deleted --
> that is, EVERY file (except 'segments') is gone. There were many
> users on
> the system each time, so its a little hard to tell for sure what was
> going
> on, but my theory is this:
> 
> My code will automatically call optimize( ) periodically. Because the
> index
> is very large, it can take a long time. It looks like an
> administrator may
> have killed my process, and its possible that it was killed while an
> optimize( ) was in progress.
> 
> I have two questions:
> 
> 1) Does anyone know if killing an optimize( ) in progress could wipe
> out all
> files like this? (New index created in temporary files that were not
> saved
> properly, while old index files were already deleted???)

I highly doubt it.

> 2) Does anyone know of any other way all files in an index could be
> inadvertently deleted (e.g. through killing a process)? For example,
> if you
> kill the process during an 'add' would that cause all files to be
> deleted?

Same as above.  You can create an artificial, large index for testing
purposes.  Call optimize once in a while, and then kill the process.  I
don't think Lucene will remove your files.

Otis


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Jul 12 08:14:23 2003
Return-Path: 
 <lucene-user-return-4986-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46191 invoked from network); 12 Jul 2003 08:14:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jul 2003 08:14:23 -0000
Received: (qmail 15512 invoked by uid 97); 12 Jul 2003 08:17:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15505 invoked from network); 12 Jul 2003 08:17:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 Jul 2003 08:17:03 -0000
Received: (qmail 45895 invoked by uid 500); 12 Jul 2003 08:14:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45859 invoked from network); 12 Jul 2003 08:14:20 -0000
Received: from smtpzilla2.xs4all.nl (194.109.127.138)
  by daedalus.apache.org with SMTP; 12 Jul 2003 08:14:20 -0000
Received: from as800 (a80-127-237-57.dial.xs4all.nl [80.127.237.57])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id h6C8EUNX021611;
	Sat, 12 Jul 2003 10:14:30 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Wilton, Reece" <Reece.Wilton@dig.com>
Subject: Re: Advice on updating an index?
Date: Sat, 12 Jul 2003 10:18:42 -0700
User-Agent: KMail/1.4.3
References: 
 <496A2C679221504D8B8AE4B10267E876017CC7DF@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876017CC7DF@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200307121018.42623.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Reece,

On Friday 11 July 2003 16:05, Wilton, Reece wrote:
> Hi,
>
> I'm having a bit of trouble figuring out the logic for deleting
> documents from an index.  Any advice is appreciated!

<snip 75% of the experiments>

> 4) I created an index with an IndexWriter and then optimized it and
> closed it.
> For each document:
> - I create a new IndexReader, delete the document and close the
> IndexReader
> - I create a new IndexWriter, add the document and close the IndexWrite=
r
> At the end I open the index with an IndexWriter and then optimize it an=
d
> close it.
>
> This works!  But it is pretty slow (compared to the other three tests).
> Is this the best way of doing this?

AFAIK, yes.
You can speed this up by using multiple documents, ie. use
a document set.
Also, you don't need to close the index writer before optimizing.

One variation: you might leave the IndexReader open in case you
need it for searching, but I wouldn't recommend that under Windows
because there an open file cannot be deleted from a directory.
Lucene deletes such files during later optimizations.

Kind regards,
Ype

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 08:26:17 2003
Return-Path: 
 <lucene-user-return-4988-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46423 invoked from network); 14 Jul 2003 08:26:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 08:26:17 -0000
Received: (qmail 14130 invoked by uid 97); 14 Jul 2003 08:28:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14123 invoked from network); 14 Jul 2003 08:28:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 08:28:57 -0000
Received: (qmail 46108 invoked by uid 500); 14 Jul 2003 08:26:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46090 invoked from network); 14 Jul 2003 08:26:13 -0000
Received: from bosvwl02.itlinfosys.com (HELO bosvwl02.infosys.com)
 (216.52.49.36)
  by daedalus.apache.org with SMTP; 14 Jul 2003 08:26:13 -0000
Received: from 192.168.200.83 by bosvwl02.infosys.com (InterScan E-Mail
 VirusWall NT); Mon, 14 Jul 2003 04:28:12 -0400
Received: from kecmsg07.ad.infosys.com ([192.168.200.68]) by
 INDHUBBHS03.ad.infosys.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 14 Jul 2003 13:54:40 +0530
Received: from kecmsg03.ad.infosys.com ([192.168.200.70]) by
 kecmsg07.ad.infosys.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 14 Jul 2003 13:54:39 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: HELP in QueyParsing !!
Date: Mon, 14 Jul 2003 13:54:39 +0530
Message-ID: <9002F5518DF72C4B869259B65E81D8540F5467AA@kecmsg03.ad.infosys.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HELP in QueyParsing !!
Thread-Index: AcNJ4V1DonyTQhnOToOheonSPIMkWA==
From: "Bharatbhushan_Shetty" <Bharatbhushan_Shetty@infosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <Bharatbhushan_shetty@yahoo.com>
X-OriginalArrivalTime: 14 Jul 2003 08:24:39.0524 (UTC)
 FILETIME=[5E4F7240:01C349E1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi=20

Need some help in queryparsing. There are few things that doesn't
Seem to work as I expected. Have a look at the code at the end=20
Before reading my observations.

Document contains following information:
D1 =3D c++ hello bharat
D2 =3D c hello sharat=20
D3 =3D hello bharat

Observations
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Input:   QueryCreated     Remarks
c\+\+      c           (Escape character not working)
c++        -           (Parser throws an exception) [NOTE-1]
c*         c*          (Wild card works perfectly fine)
*c         -           (throws an exception -   [NOTE-2]
                       (org.apache.lucene.queryParser.TokenMgrError:)
"c         -           (throws an exception - [NOTE-3]
Hello ""   -           (throws an exception)


[NOTE-1] : - ( ) { } ! [ ] etc characters behave in the same manner=20
          as "+" shown above.
[NOTE-2] : Looks like wildcard cannot be the first character of the
           query

[NOTE-3] : I guess this validation can be done after accepting user
           input.=20


My Comments/Questions
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Does that mean that the program should taken care of validating the=20
User input and then pass the query string to QueryParser?

If yes, I guess there might be some more validations that should be=20
Done that I have missed out. Can anyone throw some light on those
Validations that the program should take care?


Code
=3D=3D=3D=3D

import java.io.IOException;
import java.io.BufferedReader;
import java.io.InputStreamReader;

import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.analysis.*;
import org.apache.lucene.document.*;
import org.apache.lucene.index.*;
import org.apache.lucene.search.*;

public class TestQueryParser
{
  public static void main(String[] argv)
  {
    try
    {
      IndexWriter writer =3D new IndexWriter("indexbbs", new
StandardAnalyzer(), true);
 =20
      Document d1 =3D new Document();
      d1.add(Field.Text("f1", "c++ hello bharat"));
      writer.addDocument(d1);
 =20
      Document d2 =3D new Document();
      d2.add(Field.Text("f1", "c hello sharat"));
      writer.addDocument(d2);
 =20
      Document d3 =3D new Document();
      d3.add(Field.Text("f1", "hello bharat"));
      writer.addDocument(d3);
 =20
      writer.optimize();
      writer.close();
 =20
      String qString =3D "";
      try
      {
        BufferedReader in =3D new BufferedReader(new
InputStreamReader(System.in));
        System.out.print("Input for f1: ");
        qString =3D in.readLine();
      }
      catch(Exception e)
      { System.out.println("Exiting..." + e.getMessage()); return; }
 =20
      System.out.println("");
 =20
      Searcher searcher =3D new IndexSearcher("indexbbs");
      Analyzer analyzer =3D new StandardAnalyzer();

      QueryParser qp =3D new QueryParser("f1", analyzer);
 =20
      Query query =3D qp.parse(qString);
=20
      System.out.println("QueryInput:" + qString);
      System.out.println("QueryCreated:" + query.toString("f1"));
 =20
      Hits hits =3D searcher.search(query);
      for (int i=3D0; i<hits.length(); ++i)
        System.out.println("Document =3D f1:" + hits.doc(i).get("f1"));
    }
    catch(Exception e)
    { System.out.println("Exception:" + e.getMessage());return; }=20
  }
}

Thanks=20
Bharat

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 08:41:24 2003
Return-Path: 
 <lucene-user-return-4989-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57924 invoked from network); 14 Jul 2003 08:41:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 08:41:24 -0000
Received: (qmail 14312 invoked by uid 97); 14 Jul 2003 08:44:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14305 invoked from network); 14 Jul 2003 08:44:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 08:44:04 -0000
Received: (qmail 57652 invoked by uid 500); 14 Jul 2003 08:41:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57632 invoked from network); 14 Jul 2003 08:41:21 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Jul 2003 08:41:21 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 90B90B6FE7
	for <lucene-user@jakarta.apache.org>; Mon, 14 Jul 2003 18:41:24 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: HELP in QueyParsing !!
Date: Mon, 14 Jul 2003 18:32:23 +1000
User-Agent: KMail/1.4.3
References: <9002F5518DF72C4B869259B65E81D8540F5467AA@kecmsg03.ad.infosys.com>
In-Reply-To: 
 <9002F5518DF72C4B869259B65E81D8540F5467AA@kecmsg03.ad.infosys.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307141832.23075@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Input:   QueryCreated     Remarks
> c\+\+      c           (Escape character not working)

The StandardTokenizer and QueryParser will drop the ++ sign. This problem is 
similar to the recent thread. Search the archive the the following strings
'-' characer not interpreted correctly in field names

You may be able to implement similar solution to the one that I've posted. 

Actually your query got me interested, I've tried my solution for c-- and the 
-- signs are dropped. This because I define DASHESWORD as 

| <DASHESWORD: <ALPHANUM> ("-" <ALPHANUM>)+ >

This will search for t-shirt, but not tshirt-. Yet another QueryParser 
peculiarity :)

If you absolutely has to search for c++ then I suggest you define another 
token which encompasses all alpharnumeric word and plus sign. For example 
(modify StandardTokenizer.jj):

<MYTOKEN: (<ALPHANUM>|"+")+ >

add the line:

token = <MYTOKEN>

in the next() method. This may work.

> c++        -           (Parser throws an exception) [NOTE-1]
As expected.

> *c         -           (throws an exception -   [NOTE-2]
There has been a number of discussion on this subject, search the mailing list 
for more information. 

> Does that mean that the program should taken care of validating the
> User input and then pass the query string to QueryParser?

Depends how do you look at it. QueryParser will throw ParseException if it has 
parsing issues, you can in some way treat this as the validation.


HTH,
victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 09:11:00 2003
Return-Path: 
 <lucene-user-return-4990-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86472 invoked from network); 14 Jul 2003 09:11:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 09:11:00 -0000
Received: (qmail 15107 invoked by uid 97); 14 Jul 2003 09:13:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15100 invoked from network); 14 Jul 2003 09:13:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 09:13:41 -0000
Received: (qmail 86196 invoked by uid 500); 14 Jul 2003 09:10:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86183 invoked from network); 14 Jul 2003 09:10:57 -0000
Received: from unknown (HELO sfoexvwall.na.levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 14 Jul 2003 09:10:57 -0000
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <36CR10X3>; Mon, 14 Jul 2003 02:11:09 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965AF@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: Delete files
Date: Mon, 14 Jul 2003 02:11:00 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C349E7.D803DA30"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C349E7.D803DA30
Content-Type: text/plain

Hi, I am new in Lucene. I have a problem with my code. Somebody can help me
why I can't delete some files.Maybe I missing something. Thanks in advance.

Regards,

Michel

 

Here the two code that I use for indexing files and for delete files: the
error message is the following:  java.io.IOException: Index locked for
write: Lock@C:\yo\write.lock

      at org.apache.lucene.index.IndexReader.delete(Unknown Source)

      at indice.deletefile.main(deletefile.java:15)

Exception in thread "main"

 

 

package indice;

 

import org.apache.lucene.index.IndexWriter;

import org.apache.lucene.analysis.SimpleAnalyzer;

import org.apache.lucene.document.Document;

import org.apache.lucene.document.Field;

import java.io.*;

 

 

public class IndexarFile {

      public static void main(String[] args) throws Exception{

            String indexPath = "c:\\yo";

            IndexWriter writer;

            String f = "c:\\PROCEDURES\\BCNDMPRD.xls";

            writer = new IndexWriter(indexPath, new SimpleAnalyzer(),
false);

            

            //for (int i=0; i<args.length; i++) {

                  //System.out.println("Indexando file " + args[i]);

                  

                  //InputStream file = new FileInputStream(args[i]);

                  InputStream file = new FileInputStream(f);

                  Document doc = new Document();

                  doc.add(Field.UnIndexed("path", f));

                  doc.add(Field.Text("body", (Reader)new
InputStreamReader(file)));

                  

                  writer.addDocument(doc);

                  file.close();

            //}

            writer.close();

      }

}

 

 

 

package indice;

 

import org.apache.lucene.index.IndexReader;

import org.apache.lucene.index.IndexWriter;

import org.apache.lucene.analysis.SimpleAnalyzer;

//import org.apache.lucene.document.Document;

/**import org.apache.lucene.document.Field;

import java.io.*;*/

 

public class deletefile {

      public static void main(String[] args) throws Exception{

            String path = "c:\\yo";

            IndexWriter iw = new IndexWriter(path, new SimpleAnalyzer(),
false);

            IndexReader reader = IndexReader.open(path);

            reader.delete(1);

            reader.close();

            iw.optimize();

            iw.close();

            System.out.println("reader.numDocs() : " + reader.numDocs());

            System.out.println("reader.indexExists() : " +
reader.indexExists(path));

            

      }

}     


------_=_NextPart_001_01C349E7.D803DA30--

From MAILER-DAEMON Mon Jul 14 09:16:20 2003
Return-Path: 
 <lucene-user-return-4991-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96394 invoked from network); 14 Jul 2003 09:16:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 09:16:20 -0000
Received: (qmail 15233 invoked by uid 97); 14 Jul 2003 09:19:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15226 invoked from network); 14 Jul 2003 09:19:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 09:19:01 -0000
Received: (qmail 96110 invoked by uid 500); 14 Jul 2003 09:16:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96095 invoked from network); 14 Jul 2003 09:16:17 -0000
Received: from bosvwl01.progeon.com (HELO bosvwl01.infosys.com) (216.52.49.35)
  by daedalus.apache.org with SMTP; 14 Jul 2003 09:16:17 -0000
Received: from 192.168.200.83 by bosvwl01.infosys.com (InterScan E-Mail
 VirusWall NT); Mon, 14 Jul 2003 05:15:47 -0400
Received: from BLRKECIMR01.ad.infosys.com ([192.168.200.58]) by
 INDHUBBHS03.ad.infosys.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 14 Jul 2003 14:41:14 +0530
Received: from kecmsg03.ad.infosys.com ([192.168.200.70]) by
 BLRKECIMR01.ad.infosys.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 14 Jul 2003 14:41:14 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HELP in QueyParsing !!
Date: Mon, 14 Jul 2003 14:41:14 +0530
Message-ID: <9002F5518DF72C4B869259B65E81D8540F5467E8@kecmsg03.ad.infosys.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HELP in QueyParsing !!
Thread-Index: AcNJ4+eXkDztWS+ZQDaPMzlb+ZQSYAAApU1A
From: "Bharatbhushan_Shetty" <Bharatbhushan_Shetty@infosys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 14 Jul 2003 09:11:14.0472 (UTC)
 FILETIME=[E03AAA80:01C349E7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Victor. I'll look into your earlier postings for the solution.=20
But I was wandering, there might be many more scenarios what a user
might search for.=20

-----Original Message-----
From: Victor Hadianto [mailto:victorh@nuix.com.au]=20
Sent: Monday, July 14, 2003 2:02 PM
To: Lucene Users List
Subject: Re: HELP in QueyParsing !!


> Input:   QueryCreated     Remarks
> c\+\+      c           (Escape character not working)

The StandardTokenizer and QueryParser will drop the ++ sign. This
problem is=20
similar to the recent thread. Search the archive the the following
strings '-' characer not interpreted correctly in field names

You may be able to implement similar solution to the one that I've
posted.=20

Actually your query got me interested, I've tried my solution for c--
and the=20
-- signs are dropped. This because I define DASHESWORD as=20

| <DASHESWORD: <ALPHANUM> ("-" <ALPHANUM>)+ >

This will search for t-shirt, but not tshirt-. Yet another QueryParser=20
peculiarity :)

If you absolutely has to search for c++ then I suggest you define
another=20
token which encompasses all alpharnumeric word and plus sign. For
example=20
(modify StandardTokenizer.jj):

<MYTOKEN: (<ALPHANUM>|"+")+ >

add the line:

token =3D <MYTOKEN>

in the next() method. This may work.

> c++        -           (Parser throws an exception) [NOTE-1]
As expected.

> *c         -           (throws an exception -   [NOTE-2]
There has been a number of discussion on this subject, search the
mailing list=20
for more information.=20

> Does that mean that the program should taken care of validating the=20
> User input and then pass the query string to QueryParser?

Depends how do you look at it. QueryParser will throw ParseException if
it has=20
parsing issues, you can in some way treat this as the validation.


HTH,
victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 12:11:52 2003
Return-Path: 
 <lucene-user-return-4992-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1277 invoked from network); 14 Jul 2003 12:11:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 12:11:52 -0000
Received: (qmail 21116 invoked by uid 97); 14 Jul 2003 12:14:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21109 invoked from network); 14 Jul 2003 12:14:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 12:14:20 -0000
Received: (qmail 99650 invoked by uid 500); 14 Jul 2003 12:11:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99563 invoked from network); 14 Jul 2003 12:11:36 -0000
Received: from webmail3.dat.bth.se (HELO webmail.bth.se) (194.47.129.153)
  by daedalus.apache.org with SMTP; 14 Jul 2003 12:11:36 -0000
Received: by webmail.bth.se (Postfix, from userid 72)
	id C719E70015; Mon, 14 Jul 2003 08:11:35 -0400 (EDT)
Received: from cacher4-ext.wise.edt.ericsson.se
 (cacher4-ext.wise.edt.ericsson.se [194.237.142.24])
	by webmail.bth.se (IMP) with HTTP
	for <di99mwo@mail.student.bth.se>; Mon, 14 Jul 2003 14:11:35 +0200
Message-ID: <1058184695.3f129df779fe2@webmail.bth.se>
Date: Mon, 14 Jul 2003 14:11:35 +0200
From: di99mwo@student.bth.se
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Field.Text(string, string) and Queryparser
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 194.237.142.24
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello

When I use QueryParser.parse(String query,String field,Analyzer analyzer) and 
have added the field with the type Field.Text(string, string), I can't search 
in specific field like

component:call
                   
It can't find the word call in the field component.
But if I instead use Field.Text(string, Reader) the query works.


Another problem is that I have to use Field.Text(string, string) if I want to 
know if the hits contain field with the name component. Then I use this code:

Vector component = new Vector();
if(doc.getField("component")!=null){
	component.addElement(doc);
				}
To use getField(string) I have to use Field.Text(string, string) 

When I display the hits I want to divide them in catagory according to the 
field name. If I have field called component, interface and datatypes I want to 
display the hits like:

component
hit1
hit2
hit3

interface
hit4

data type
hit5

But I also want to search in a specific field at the samt time.

Help me, please.

I hope that I have explained my problem so you can understand it.

Thanks
/Michelle











-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 14:27:27 2003
Return-Path: 
 <lucene-user-return-4993-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30983 invoked from network); 14 Jul 2003 14:27:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 14:27:27 -0000
Received: (qmail 24581 invoked by uid 97); 14 Jul 2003 14:29:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24574 invoked from network); 14 Jul 2003 14:29:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 14:29:56 -0000
Received: (qmail 30686 invoked by uid 500); 14 Jul 2003 14:27:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30670 invoked from network); 14 Jul 2003 14:27:23 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 14 Jul 2003 14:27:23 -0000
Received: (qmail 27937 invoked from network); 14 Jul 2003 14:09:58 -0000
Received: from unknown (HELO ?172.16.1.32?)
 (prosoma@prosoma.com.br@200.187.133.34)
  by messiah.infoage.com.br with SMTP; 14 Jul 2003 14:09:58 -0000
Subject: Multiuser environments
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene <lucene-user@jakarta.apache.org>
Content-Type: multipart/alternative; boundary="=-/HUbNGlydHzN24fp9jSk"
Message-Id: <1058191896.2691.19.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 14 Jul 2003 11:11:36 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=-/HUbNGlydHzN24fp9jSk
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi
    I'm writing a web application which will index files using
textmining to extract text and lucene to store it. I do have the
following implementation questions:

1) Only one user can write to an index at each time. How are you people
dealing with this ? Maybe some kind of connection pooling ?

2) OutOfMemory issues - I've read about many on the list, which
workarounds are you using?

Thanks in advance

gui


--=-/HUbNGlydHzN24fp9jSk--


From MAILER-DAEMON Mon Jul 14 14:52:54 2003
Return-Path: 
 <lucene-user-return-4994-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68839 invoked from network); 14 Jul 2003 14:52:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 14:52:54 -0000
Received: (qmail 25277 invoked by uid 97); 14 Jul 2003 14:55:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25270 invoked from network); 14 Jul 2003 14:55:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 14:55:23 -0000
Received: (qmail 68543 invoked by uid 500); 14 Jul 2003 14:52:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68524 invoked from network); 14 Jul 2003 14:52:49 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 14 Jul 2003 14:52:49 -0000
Received: (qmail 16917 invoked from network); 14 Jul 2003 14:50:59 -0000
Received: from unknown (HELO ?172.16.1.32?)
 (prosoma@prosoma.com.br@200.187.133.34)
  by messiah.infoage.com.br with SMTP; 14 Jul 2003 14:50:59 -0000
Subject: Multiuser environments
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene <lucene-user@jakarta.apache.org>
Content-Type: multipart/alternative; boundary="=-fPm8UGj5P2RqM0hknQ8P"
Message-Id: <1058194358.2691.33.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 14 Jul 2003 11:52:38 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=-fPm8UGj5P2RqM0hknQ8P
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi
    I'm writing a web application which will index files using
textmining to extract text and lucene to store it. I do have the
following implementation questions:

1) Only one user can write to an index at each time. How are you people
dealing with this ? Maybe some kind of connection pooling ?

2) OutOfMemory issues - I've read about many on the list, which
workarounds are you using?

Thanks in advance

gui


--=-fPm8UGj5P2RqM0hknQ8P--


From MAILER-DAEMON Mon Jul 14 15:55:13 2003
Return-Path: 
 <lucene-user-return-4995-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17582 invoked from network); 14 Jul 2003 15:55:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 15:55:13 -0000
Received: (qmail 27536 invoked by uid 97); 14 Jul 2003 15:57:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27529 invoked from network); 14 Jul 2003 15:57:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 15:57:43 -0000
Received: (qmail 16863 invoked by uid 500); 14 Jul 2003 15:55:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16808 invoked from network); 14 Jul 2003 15:55:04 -0000
Received: from smtp.acn.pl (HELO mail1.astercity.net) (212.76.33.20)
  by daedalus.apache.org with SMTP; 14 Jul 2003 15:55:04 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail1.astercity.net (sendmail) with ESMTP id 934C7138D4F
	for <lucene-user@jakarta.apache.org>; Mon, 14 Jul 2003 17:55:01 +0200 (CEST)
Message-ID: <3F12D099.3060400@getopt.org>
Date: Mon, 14 Jul 2003 17:47:37 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Luke - Lucene Index Browser
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dear Lucene Users,

Luke is a diagnostic tool for Lucene (http://jakarta.apache.org/lucene) 
indexes. It enables you to browse documents in existing indexes, perform 
queries, navigate through terms, optimize indexes and more.

Please go to http://www.getopt.org/luke and give it a try. A Java 
WebStart version will be available soon.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 16:12:03 2003
Return-Path: 
 <lucene-user-return-4996-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63373 invoked from network); 14 Jul 2003 16:12:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 16:12:03 -0000
Received: (qmail 28057 invoked by uid 97); 14 Jul 2003 16:14:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28050 invoked from network); 14 Jul 2003 16:14:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 16:14:34 -0000
Received: (qmail 63094 invoked by uid 500); 14 Jul 2003 16:12:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63077 invoked from network); 14 Jul 2003 16:12:01 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com)
 (216.37.32.2)
  by daedalus.apache.org with SMTP; 14 Jul 2003 16:12:01 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by
 darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2650.21)
	id 3X7Z2TTM; Mon, 14 Jul 2003 11:13:04 -0500
Message-ID: <3F12D64F.2010604@etapestry.com>
Date: Mon, 14 Jul 2003 11:11:59 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke - Lucene Index Browser
References: <3F12D099.3060400@getopt.org>
In-Reply-To: <3F12D099.3060400@getopt.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Nifty cool!  I'm gonna like this, I can tell already!

I'm having a really hard time actually using Luke, though, as all the 
window panes and table columns are apparently of fixed size.  Do you 
think you could through in the ability to resize the various window 
panes and table columns?  This would make the tool truly useful.  Pretty 
please? :)

Thanks,
Scott

Andrzej Bialecki wrote:

> Dear Lucene Users,
>
> Luke is a diagnostic tool for Lucene 
> (http://jakarta.apache.org/lucene) indexes. It enables you to browse 
> documents in existing indexes, perform queries, navigate through 
> terms, optimize indexes and more.
>
> Please go to http://www.getopt.org/luke and give it a try. A Java 
> WebStart version will be available soon.
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 19:04:03 2003
Return-Path: 
 <lucene-user-return-4997-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61876 invoked from network); 14 Jul 2003 19:04:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 19:04:03 -0000
Received: (qmail 3629 invoked by uid 97); 14 Jul 2003 19:06:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3622 invoked from network); 14 Jul 2003 19:06:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 19:06:34 -0000
Received: (qmail 61244 invoked by uid 500); 14 Jul 2003 19:03:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61174 invoked from network); 14 Jul 2003 19:03:54 -0000
Received: from smtp.acn.pl (HELO mail1.astercity.net) (212.76.33.20)
  by daedalus.apache.org with SMTP; 14 Jul 2003 19:03:54 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail1.astercity.net (sendmail) with ESMTP id E7FA630874F
	for <lucene-user@jakarta.apache.org>; Mon, 14 Jul 2003 21:03:55 +0200 (CEST)
Message-ID: <3F12FCEE.9080006@getopt.org>
Date: Mon, 14 Jul 2003 20:56:46 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke - Lucene Index Browser
References: <3F12D099.3060400@getopt.org> <3F12D64F.2010604@etapestry.com>
In-Reply-To: <3F12D64F.2010604@etapestry.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Scott Ganyo wrote:
> Nifty cool!  I'm gonna like this, I can tell already!
> 
> I'm having a really hard time actually using Luke, though, as all the 
> window panes and table columns are apparently of fixed size.  Do you 
> think you could through in the ability to resize the various window 
> panes and table columns?  This would make the tool truly useful.  Pretty 
> please? :)

Well, you can resize the main window.. :-) Regarding column sizes: 
that's a limitation of the GUI toolkit (soon to be fixed) - if you can 
wait patiently a couple weeks for the new release of that toolkit, I can 
add this as well...

In any case, if you're referring to the "Search" panel, then you can 
always double-click on one of the search results, and it will be 
displayed in the "Documents" panel, where you can not only see all the 
fields, but also copy them to clipboard...


-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 19:34:48 2003
Return-Path: 
 <lucene-user-return-4998-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12486 invoked from network); 14 Jul 2003 19:34:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 19:34:48 -0000
Received: (qmail 4617 invoked by uid 97); 14 Jul 2003 19:37:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4609 invoked from network); 14 Jul 2003 19:37:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 19:37:20 -0000
Received: (qmail 12138 invoked by uid 500); 14 Jul 2003 19:34:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12116 invoked from network); 14 Jul 2003 19:34:45 -0000
Received: from fog.mm.com (204.73.34.12)
  by daedalus.apache.org with SMTP; 14 Jul 2003 19:34:45 -0000
Received: from drizzle.mm.com (ice.mm.com [204.73.34.14])
	by fog.mm.com (Postfix) with ESMTP id 44BAEA3A5
	for <lucene-user@jakarta.apache.org>; Mon, 14 Jul 2003 14:34:46 -0500 (CDT)
Received: from muscovite.opin.com (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 118A75E04B
	for <lucene-user@jakarta.apache.org>; Mon, 14 Jul 2003 14:34:47 -0500 (CDT)
Received: by MUSCOVITE with Internet Mail Service (5.5.2653.19)
	id <NKB3PLAQ>; Mon, 14 Jul 2003 14:43:46 -0500
Message-ID: <D15E9D991E0FD41184C90080C80D2746B49B3E@MUSCOVITE>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Files getting deleted when optimize is killed?
Date: Mon, 14 Jul 2003 14:43:38 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Upon further examination what I found is this:

- Killing the process while optimize() is still working does NOT cause the
index files to be deleted, HOWEVER --

- Once the index is opened again by a new process (now apparently in an
unstable state due to the incomplete optimize()), at that time all existing
files are deleted and only a file called "segments" remains.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Saturday, July 12, 2003 7:06 AM
To: Lucene Users List
Subject: Re: Files getting deleted when optimize is killed?



--- Steve Rajavuori <SteveR@opin.com> wrote:
> I've had a problem on several occasions where my entire index is
> deleted --
> that is, EVERY file (except 'segments') is gone. There were many
> users on
> the system each time, so its a little hard to tell for sure what was
> going
> on, but my theory is this:
> 
> My code will automatically call optimize( ) periodically. Because the
> index
> is very large, it can take a long time. It looks like an
> administrator may
> have killed my process, and its possible that it was killed while an
> optimize( ) was in progress.
> 
> I have two questions:
> 
> 1) Does anyone know if killing an optimize( ) in progress could wipe
> out all
> files like this? (New index created in temporary files that were not
> saved
> properly, while old index files were already deleted???)

I highly doubt it.

> 2) Does anyone know of any other way all files in an index could be
> inadvertently deleted (e.g. through killing a process)? For example,
> if you
> kill the process during an 'add' would that cause all files to be
> deleted?

Same as above.  You can create an artificial, large index for testing
purposes.  Call optimize once in a while, and then kill the process.  I
don't think Lucene will remove your files.

Otis


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 14 23:17:07 2003
Return-Path: 
 <lucene-user-return-4999-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53516 invoked from network); 14 Jul 2003 23:17:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jul 2003 23:17:07 -0000
Received: (qmail 11756 invoked by uid 97); 14 Jul 2003 23:19:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11749 invoked from network); 14 Jul 2003 23:19:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Jul 2003 23:19:42 -0000
Received: (qmail 53090 invoked by uid 500); 14 Jul 2003 23:16:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53037 invoked from network); 14 Jul 2003 23:16:58 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Jul 2003 23:16:58 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id EDF94B7129
	for <lucene-user@jakarta.apache.org>; Tue, 15 Jul 2003 09:16:57 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Delete files
Date: Tue, 15 Jul 2003 09:07:47 +1000
User-Agent: KMail/1.4.3
References: <E9EE029E3896D511A2AA0002A589953003A965AF@bruex4.eu.levi.com>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A965AF@bruex4.eu.levi.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307150907.47328@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Mon, 14 Jul 2003 07:11 pm, MMachado@LEVI.com wrote:
> Hi, I am new in Lucene. I have a problem with my code. Somebody can help me
> why I can't delete some files.Maybe I missing something. Thanks in advance.

You have IndexWriter opened while trying to delete document. Use IndexReader 
to delete document and then open IndexWriter to optimize.

> Regards,
>
> Michel
victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 02:14:56 2003
Return-Path: 
 <lucene-user-return-5000-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55152 invoked from network); 15 Jul 2003 02:14:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 02:14:56 -0000
Received: (qmail 15503 invoked by uid 97); 15 Jul 2003 02:17:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15496 invoked from network); 15 Jul 2003 02:17:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 02:17:33 -0000
Received: (qmail 53890 invoked by uid 500); 15 Jul 2003 02:14:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53757 invoked from network); 15 Jul 2003 02:14:40 -0000
Received: from mzpi3.forethought.net (HELO mz1.forethought.net)
 (216.241.36.12)
  by daedalus.apache.org with SMTP; 15 Jul 2003 02:14:40 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19cFL6-0001pI-SZ
	for lucene-user@jakarta.apache.org; Mon, 14 Jul 2003 20:14:49 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Multiuser environments
Date: Mon, 14 Jul 2003 20:17:42 -0600
User-Agent: KMail/1.4.3
References: <1058194358.2691.33.camel@localhost>
In-Reply-To: <1058194358.2691.33.camel@localhost>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307142017.42191.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday 14 July 2003 08:52, Guilherme Barile wrote:
> Hi
>     I'm writing a web application which will index files using
> textmining to extract text and lucene to store it. I do have the
> following implementation questions:
>
> 1) Only one user can write to an index at each time. How are you people
> dealing with this ? Maybe some kind of connection pooling ?

Two obvious candidates are locking bottleneck methods and doing index
writing in a critical section, or having a background thread that does
reindexing, and other threads add requests to a queue. In CMS I'm working we 
are doing the latter (so as not to block actual request threads which could
happen with first approach, adding/deleting documents is done as 
post-processing when documents are created/edited/deleted).

In either case you usually have a singleton instance that represents the 
search engine functionality (assuming single index), and from there on it's 
reasonably easy to reuse IndexReader as necessary.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 07:33:14 2003
Return-Path: 
 <lucene-user-return-5001-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72685 invoked from network); 15 Jul 2003 07:33:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 07:33:14 -0000
Received: (qmail 20738 invoked by uid 97); 15 Jul 2003 07:35:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20731 invoked from network); 15 Jul 2003 07:35:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 07:35:54 -0000
Received: (qmail 72397 invoked by uid 500); 15 Jul 2003 07:33:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72383 invoked from network); 15 Jul 2003 07:33:10 -0000
Received: from natsmtp00.webmailer.de (HELO post.webmailer.de) (192.67.198.74)
  by daedalus.apache.org with SMTP; 15 Jul 2003 07:33:10 -0000
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6F7XHWY009383
	for <lucene-user@jakarta.apache.org>; Tue, 15 Jul 2003 09:33:20 +0200 (MEST)
Message-ID: <3F13AE3B.70106@dstc.edu.au>
Date: Tue, 15 Jul 2003 17:33:15 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Doing it all backwards
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

is there any way to get the keywords for certain fields in document 
easily? The situation is that I have small sets of documents coming back 
from queries and I want to compare those in terms of similarity. The 
questions are: what are the common terms within each set and what are 
the terms least common between the sets.

Performance is not much of an issue and the documents are still 
accessible, I just wonder which pieces of your code might be reusable 
for this task. After reading some code (e.g. 
DocumentWriter.invertDocument(..)) I am afraid that there is not much I 
could reuse easily, but I thought I better ask :-)

  Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 08:11:29 2003
Return-Path: 
 <lucene-user-return-5002-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8781 invoked from network); 15 Jul 2003 08:11:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 08:11:29 -0000
Received: (qmail 21282 invoked by uid 97); 15 Jul 2003 08:14:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21275 invoked from network); 15 Jul 2003 08:14:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 08:14:08 -0000
Received: (qmail 8445 invoked by uid 500); 15 Jul 2003 08:11:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8427 invoked from network); 15 Jul 2003 08:11:24 -0000
Received: from smtp1.clb.oleane.net (213.56.31.17)
  by daedalus.apache.org with SMTP; 15 Jul 2003 08:11:24 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp1.clb.oleane.net with ESMTP id h6F8BZLd020082
	for <lucene-user@jakarta.apache.org>; Tue, 15 Jul 2003 10:11:35 +0200
Message-ID: <007d01c34aa9$1c21c710$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F12D099.3060400@getopt.org> <3F12D64F.2010604@etapestry.com>
 <3F12FCEE.9080006@getopt.org>
Subject: Funny coincidence
Date: Tue, 15 Jul 2003 10:14:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was about to announce the first release of LIMO (Lucene Index Monitor)
this morning when I found Andrzej's message about Luke. Although LUKE seems
to be definitly more complete and useful, I announce LIMO anyway.

LIMO is a web application made mainly of JSP. It can be found at
http://www.jnioche.freesurf.fr/LIMO/

Cheers

Julien



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 09:04:01 2003
Return-Path: 
 <lucene-user-return-5003-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71650 invoked from network); 15 Jul 2003 09:04:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 09:04:01 -0000
Received: (qmail 22658 invoked by uid 97); 15 Jul 2003 09:06:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22651 invoked from network); 15 Jul 2003 09:06:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 09:06:42 -0000
Received: (qmail 71356 invoked by uid 500); 15 Jul 2003 09:03:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71343 invoked from network); 15 Jul 2003 09:03:57 -0000
Received: from law8-oe50.law8.hotmail.com (HELO hotmail.com) (216.33.240.22)
  by daedalus.apache.org with SMTP; 15 Jul 2003 09:03:57 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 15 Jul 2003 02:04:11 -0700
Received: from 211.99.139.41 by law8-oe50.law8.hotmail.com with DAV;
	Tue, 15 Jul 2003 09:04:11 +0000
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <9002F5518DF72C4B869259B65E81D8540F5467E8@kecmsg03.ad.infosys.com>
Subject: How to implement Similarity for custom sorting by field ( or by
 docID)?
Date: Tue, 15 Jul 2003 17:03:38 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Law8-OE50muHTY0Bqhk000013f3@hotmail.com>
X-OriginalArrivalTime: 15 Jul 2003 09:04:11.0532 (UTC)
 FILETIME=[0E8CE4C0:01C34AB0]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGkgQWxsOiANCkluIGx1Y2VuZSAxLjMgcmMxIHJlbGVhc2UgaW5jbHVkZWQgYSBTaW1pbGFyaXR5
IGZvciBjdXN0b20gc2NvcmluZy4gSXMgaXQgcG9zc2libGUgaW1wbGVtZW50IGEgZG9jSUQgYmFz
ZWQgb3IgKHNvbWUgZmllbGQgdmFsdWUgYmFzZWQgKXNjb3JpbmcgYmVzaWRlIERlZmF1dGxTaW1p
bGFyaXR5PyANCg0KVGhhbmtzLg0KDQpDaGUsIERvbmcNCmh0dHA6Ly93d3cuY2hlZG9uZy5jb20v
dGVjaC9sdWNlbmUuaHRtbA0K


From MAILER-DAEMON Tue Jul 15 12:30:36 2003
Return-Path: 
 <lucene-user-return-5004-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83798 invoked from network); 15 Jul 2003 12:30:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 12:30:36 -0000
Received: (qmail 29309 invoked by uid 97); 15 Jul 2003 12:33:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29302 invoked from network); 15 Jul 2003 12:33:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 12:33:04 -0000
Received: (qmail 82533 invoked by uid 500); 15 Jul 2003 12:30:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82428 invoked from network); 15 Jul 2003 12:30:17 -0000
Received: from unknown (HELO sfoexvwall.na.levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 15 Jul 2003 12:30:17 -0000
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <36CRKGX8>; Tue, 15 Jul 2003 05:30:17 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965B1@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Delete files
Date: Tue, 15 Jul 2003 05:30:21 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Victor,
Thanks a lot, now I can delete documents in the index. Very nice!!! But I
have another question: when I do an upload file how I can to replace
automatically the old one in the directory, and how to identify this file in
the index to delete it ? I need some help. Thanks in advance
Michel 

-----Original Message-----
From: Victor Hadianto [mailto:victorh@nuix.com.au] 
Sent: Tuesday, July 15, 2003 1:08 AM
To: Lucene Users List
Subject: Re: Delete files

On Mon, 14 Jul 2003 07:11 pm, MMachado@LEVI.com wrote:
> Hi, I am new in Lucene. I have a problem with my code. Somebody can help
me
> why I can't delete some files.Maybe I missing something. Thanks in
advance.

You have IndexWriter opened while trying to delete document. Use IndexReader

to delete document and then open IndexWriter to optimize.

> Regards,
>
> Michel
victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 15:40:04 2003
Return-Path: 
 <lucene-user-return-5005-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83705 invoked from network); 15 Jul 2003 15:40:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 15:40:04 -0000
Received: (qmail 6249 invoked by uid 97); 15 Jul 2003 15:42:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6242 invoked from network); 15 Jul 2003 15:42:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 15:42:33 -0000
Received: (qmail 83418 invoked by uid 500); 15 Jul 2003 15:39:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83403 invoked from network); 15 Jul 2003 15:39:57 -0000
Received: from unknown (HELO zeus.atlassian.com) (209.61.131.223)
  by daedalus.apache.org with SMTP; 15 Jul 2003 15:39:57 -0000
Received: from atlassian.com ([210.23.144.50])
	(authenticated)
	by zeus.atlassian.com (8.11.6/8.11.6) with ESMTP id h6FFdxh30092
	for <lucene-user@jakarta.apache.org>; Tue, 15 Jul 2003 10:39:59 -0500
Message-ID: <3F142045.3080909@atlassian.com>
Date: Wed, 16 Jul 2003 01:39:49 +1000
From: Scott Farquhar <scott@atlassian.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene 1.3 Release Schedule
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Morning all!

Is there a document where I can find the release schedule for Lucene 
1.3, or a list of issues that are still remaining to be fixed?

I would like to upgrade our product (JIRA) to a later Lucene version, 
and I was waiting for 1.3 to be released.  However, I see that it has 
been in rc1 for 4 months - so I was curious to hear if I should wait for 
a final release.

Thanks for your time.  If there is a url / document answering my 
concerns - please feel free to just point me at that.

Cheers,
Scott
-- 

ATLASSIAN - http://www.atlassian.com
Expert J2EE Software, Services and Support
-------------------------------------------------------
Need a simple, powerful way to track and manage issues?
Try JIRA - http://www.atlassian.com/software/jira


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 15:46:41 2003
Return-Path: 
 <lucene-user-return-5006-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1418 invoked from network); 15 Jul 2003 15:46:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 15:46:41 -0000
Received: (qmail 6441 invoked by uid 97); 15 Jul 2003 15:49:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6433 invoked from network); 15 Jul 2003 15:49:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 15:49:11 -0000
Received: (qmail 1101 invoked by uid 500); 15 Jul 2003 15:46:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1090 invoked from network); 15 Jul 2003 15:46:37 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 15 Jul 2003 15:46:37 -0000
Received: from jivesoftware.com (ool-4353cbf6.dyn.optonline.net
 [67.83.203.246])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h6FFkd905434
	for <lucene-user@jakarta.apache.org>; Tue, 15 Jul 2003 08:46:40 -0700
Message-ID: <3F1421E5.9040403@jivesoftware.com>
Date: Tue, 15 Jul 2003 11:46:45 -0400
From: Matt Tucker <matt@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene 1.3 Release Schedule
References: <3F142045.3080909@atlassian.com>
In-Reply-To: <3F142045.3080909@atlassian.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Scott,

Not sure on the official release schedule, but I don't think there's any 
reason to wait to upgrade. We've been using 1.3 CVS builds and then the 
RC in Jive Forums for many, many months and it's a very solid 
improvement over 1.2.

-Matt

Scott Farquhar wrote:
> Morning all!
> 
> Is there a document where I can find the release schedule for Lucene 
> 1.3, or a list of issues that are still remaining to be fixed?
> 
> I would like to upgrade our product (JIRA) to a later Lucene version, 
> and I was waiting for 1.3 to be released.  However, I see that it has 
> been in rc1 for 4 months - so I was curious to hear if I should wait for 
> a final release.
> 
> Thanks for your time.  If there is a url / document answering my 
> concerns - please feel free to just point me at that.
> 
> Cheers,
> Scott


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 22:21:08 2003
Return-Path: 
 <lucene-user-return-5008-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49405 invoked from network); 15 Jul 2003 22:21:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 22:21:08 -0000
Received: (qmail 19901 invoked by uid 97); 15 Jul 2003 22:23:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19894 invoked from network); 15 Jul 2003 22:23:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 22:23:43 -0000
Received: (qmail 48427 invoked by uid 500); 15 Jul 2003 22:20:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48369 invoked from network); 15 Jul 2003 22:20:57 -0000
Received: from web41414.mail.yahoo.com (66.218.93.80)
  by daedalus.apache.org with SMTP; 15 Jul 2003 22:20:57 -0000
Message-ID: <20030715222103.71394.qmail@web41414.mail.yahoo.com>
Received: from [216.244.185.215] by web41414.mail.yahoo.com via HTTP;
 Tue, 15 Jul 2003 15:21:03 PDT
Date: Tue, 15 Jul 2003 15:21:03 -0700 (PDT)
From: alvaro z <alvaro2882@yahoo.com>
Subject: about PDF / HTML index
To: lucene-user@jakarta.apache.org
In-Reply-To: <3F1421E5.9040403@jivesoftware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1616131661-1058307663=:70775"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1616131661-1058307663=:70775
Content-Type: text/plain; charset=us-ascii


im using lucene with TXT and HTML files , its working.

the only problem with HTML files is that i have to index html files as txt first , before to index them as HTML.

do anyone have try to index pdf files ? 

im trying the pdfbox , is there any samples for indexing pdf files ? (i dont find any samples to do that) with any of the parsers (pdfbox, jpedal ,etc).

thanks for helping,

Alvaro. from Lima - Peru


---------------------------------
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
--0-1616131661-1058307663=:70775--

From MAILER-DAEMON Tue Jul 15 23:10:00 2003
Return-Path: 
 <lucene-user-return-5010-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15616 invoked from network); 15 Jul 2003 23:10:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 23:10:00 -0000
Received: (qmail 20912 invoked by uid 97); 15 Jul 2003 23:12:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20905 invoked from network); 15 Jul 2003 23:12:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 23:12:35 -0000
Received: (qmail 15309 invoked by uid 500); 15 Jul 2003 23:09:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15298 invoked from network); 15 Jul 2003 23:09:57 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 15 Jul 2003 23:09:57 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 6CB05B7126
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 09:09:52 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Delete files
Date: Wed, 16 Jul 2003 09:00:27 +1000
User-Agent: KMail/1.4.3
References: <E9EE029E3896D511A2AA0002A589953003A965B1@bruex4.eu.levi.com>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A965B1@bruex4.eu.levi.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307160900.27500@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> have another question: when I do an upload file how I can to replace
> automatically the old one in the directory, and how to identify this file
> in the index to delete it ? I need some help. Thanks in advance


If you have a unique identifier in your document you can index that id in a 
Field. Thus when you upload a new file you can check the index for this 
identifier. The search result should only contains 1 hit, you can delete this 
doc and add a new one.

I'm not sure what other solution is there if you don't have a unique id per 
document.

> Michel
victor



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 23:06:42 2003
Return-Path: 
 <lucene-user-return-5009-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13364 invoked from network); 15 Jul 2003 23:06:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 23:06:42 -0000
Received: (qmail 20877 invoked by uid 97); 15 Jul 2003 23:09:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20870 invoked from network); 15 Jul 2003 23:09:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 23:09:16 -0000
Received: (qmail 13043 invoked by uid 500); 15 Jul 2003 23:06:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13031 invoked from network); 15 Jul 2003 23:06:39 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 15 Jul 2003 23:06:39 -0000
Received: from dstc.edu.au (m080-030.nv.iinet.net.au [203.217.80.30])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6FN6g3E001079
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 01:06:43 +0200 (MEST)
Message-ID: <3F148921.1010605@dstc.edu.au>
Date: Wed, 16 Jul 2003 09:07:13 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: about PDF / HTML index
References: <20030715222103.71394.qmail@web41414.mail.yahoo.com>
In-Reply-To: <20030715222103.71394.qmail@web41414.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Alvaro,

there are some examples in our code here -- working with a slightly 
similar interface to the Ant task in the Lucene contributions.

  
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/indexer/documenthandler/

The actual step of turning it into a Lucene Document happens here:

  
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/indexer/DocumentProcessingFactory.java?rev=1.30&content-type=text/vnd.viewcvs-markup

This code is still work in progress, but it does work -- we are running 
it on a few ten thousand documents from time to time. Both PDFBox and 
Multivalent fail to read some PDF documents in the collection, but so 
does Acrobat Reader. We still have to do a more formal test to see which 
one does a better job, at the moment we are still coding the core bits, 
then we test properly.

HTH,
    Peter



alvaro z wrote:

>im using lucene with TXT and HTML files , its working.
>
>the only problem with HTML files is that i have to index html files as txt first , before to index them as HTML.
>
>do anyone have try to index pdf files ? 
>
>im trying the pdfbox , is there any samples for indexing pdf files ? (i dont find any samples to do that) with any of the parsers (pdfbox, jpedal ,etc).
>
>thanks for helping,
>
>Alvaro. from Lima - Peru
>
>
>---------------------------------
>Do you Yahoo!?
>SBC Yahoo! DSL - Now only $29.95 per month!
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 15 20:09:43 2003
Return-Path: 
 <lucene-user-return-5007-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18903 invoked from network); 15 Jul 2003 20:09:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Jul 2003 20:09:43 -0000
Received: (qmail 15909 invoked by uid 97); 15 Jul 2003 20:12:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15899 invoked from network); 15 Jul 2003 20:12:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Jul 2003 20:12:16 -0000
Received: (qmail 18610 invoked by uid 500); 15 Jul 2003 20:09:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18596 invoked from network); 15 Jul 2003 20:09:40 -0000
Received: from smtpzilla2.xs4all.nl (194.109.127.138)
  by daedalus.apache.org with SMTP; 15 Jul 2003 20:09:40 -0000
Received: from as800 (a80-127-239-70.dial.xs4all.nl [80.127.239.70])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id h6FK9aNO076299;
	Tue, 15 Jul 2003 22:09:36 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Che Dong" <chedong@hotmail.com>
Subject: Re: How to implement Similarity for custom sorting by field ( or by
 docID)?
Date: Tue, 15 Jul 2003 22:14:01 -0700
User-Agent: KMail/1.4.3
References: <9002F5518DF72C4B869259B65E81D8540F5467E8@kecmsg03.ad.infosys.com>
 <Law8-OE50muHTY0Bqhk000013f3@hotmail.com>
In-Reply-To: <Law8-OE50muHTY0Bqhk000013f3@hotmail.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200307152214.01375.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday 15 July 2003 02:03, Che Dong wrote:
> Hi All:
> In lucene 1.3 rc1 release included a Similarity for custom scoring. Is =
it
> possible implement a docID based or (some field value based )scoring be=
side
> DefautlSimilarity?

Similarity is based on things that can be found in the index, and not on
things that are obtained by retrieving stored fields of documents.
In general, retrieving stored values during search is bad for search=20
performance.

When you want to sort by docId you could:
- first collect all document numbers matching the query,
  evt. raise an exception when there are too many hits,
- then retrieve all documents in document nr order,
  together with the docId stored field values.
  (iirc you also get documents in doc nr order when you
  use your own results collector.)
- finally sort your results by retrieved docId.

Since one normally needs to retrieve some stored fields
anyway, this doesn't hurt performance.

Kind regards,
Ype Kingma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 09:41:47 2003
Return-Path: 
 <lucene-user-return-5011-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39285 invoked from network); 16 Jul 2003 09:41:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:41:47 -0000
Received: (qmail 2282 invoked by uid 97); 16 Jul 2003 09:44:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2275 invoked from network); 16 Jul 2003 09:44:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 09:44:29 -0000
Received: (qmail 38982 invoked by uid 500); 16 Jul 2003 09:41:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38964 invoked from network); 16 Jul 2003 09:41:42 -0000
Received: from unknown (HELO sfoexvwall.na.levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:41:42 -0000
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <36CR3XQ4>; Wed, 16 Jul 2003 02:41:56 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965B5@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: Delete file in index!!!
Date: Wed, 16 Jul 2003 02:41:57 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C34B7E.7FB53390"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C34B7E.7FB53390
Content-Type: text/plain

Hi,

I have a problem with deleting files in my directory and after this to my
index. When I do an upload  file to my directory to replace and old one ,
this is not replaced but added with another extension after .doc, .xls(e.g :
.xls.2323234). After I need to reindex my all directory (is there another
way to not reindex all and only to reindex the new file?) and how can I do
to upload file to replace an old one automatically?  If somebody have time
to answer I wiil appreciate. Thanks in advance.

PS: my English is poor but I hope that somebody can understand my problem.

 

Regards,

Michel  


------_=_NextPart_001_01C34B7E.7FB53390--

From MAILER-DAEMON Wed Jul 16 09:54:43 2003
Return-Path: 
 <lucene-user-return-5012-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68407 invoked from network); 16 Jul 2003 09:54:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:54:43 -0000
Received: (qmail 2621 invoked by uid 97); 16 Jul 2003 09:57:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2614 invoked from network); 16 Jul 2003 09:57:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 09:57:24 -0000
Received: (qmail 68098 invoked by uid 500); 16 Jul 2003 09:54:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68085 invoked from network); 16 Jul 2003 09:54:39 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:54:39 -0000
Message-ID: <20030716095453.83878.qmail@web12704.mail.yahoo.com>
Received: from [194.152.206.113] by web12704.mail.yahoo.com via HTTP;
 Wed, 16 Jul 2003 02:54:53 PDT
Date: Wed, 16 Jul 2003 02:54:53 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Delete file in index!!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A965B5@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michel,

Regarding file uploads, I am not sure, but you should really ask that
elsewhere.  I am not sure where.
Regarding indexing only updated files, that is easy.  When indexing
your files, store the last modified date in a field in your index. 
Then, when re-indexing the files, get their last modified date from the
file system, and compare them to the date stored in the index.

Otis

--- MMachado@LEVI.com wrote:
> Hi,
> 
> I have a problem with deleting files in my directory and after this
> to my
> index. When I do an upload  file to my directory to replace and old
> one ,
> this is not replaced but added with another extension after .doc,
> .xls(e.g :
> .xls.2323234). After I need to reindex my all directory (is there
> another
> way to not reindex all and only to reindex the new file?) and how can
> I do
> to upload file to replace an old one automatically?  If somebody have
> time
> to answer I wiil appreciate. Thanks in advance.
> 
> PS: my English is poor but I hope that somebody can understand my
> problem.
> 
>  
> 
> Regards,
> 
> Michel  
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 09:58:08 2003
Return-Path: 
 <lucene-user-return-5013-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85377 invoked from network); 16 Jul 2003 09:58:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:58:08 -0000
Received: (qmail 2773 invoked by uid 97); 16 Jul 2003 10:00:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2766 invoked from network); 16 Jul 2003 10:00:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 10:00:49 -0000
Received: (qmail 78422 invoked by uid 500); 16 Jul 2003 09:56:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78364 invoked from network); 16 Jul 2003 09:56:45 -0000
Received: from unknown (HELO sfoexvwall.na.levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 16 Jul 2003 09:56:45 -0000
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <36CR3ZAW>; Wed, 16 Jul 2003 02:56:58 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965B6@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Delete file in index!!!
Date: Wed, 16 Jul 2003 02:56:56 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Otis,
Thank you very much, I will try now.
Regards,
Michel

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Wednesday, July 16, 2003 11:55 AM
To: Lucene Users List
Subject: Re: Delete file in index!!!

Michel,

Regarding file uploads, I am not sure, but you should really ask that
elsewhere.  I am not sure where.
Regarding indexing only updated files, that is easy.  When indexing
your files, store the last modified date in a field in your index. 
Then, when re-indexing the files, get their last modified date from the
file system, and compare them to the date stored in the index.

Otis

--- MMachado@LEVI.com wrote:
> Hi,
> 
> I have a problem with deleting files in my directory and after this
> to my
> index. When I do an upload  file to my directory to replace and old
> one ,
> this is not replaced but added with another extension after .doc,
> .xls(e.g :
> .xls.2323234). After I need to reindex my all directory (is there
> another
> way to not reindex all and only to reindex the new file?) and how can
> I do
> to upload file to replace an old one automatically?  If somebody have
> time
> to answer I wiil appreciate. Thanks in advance.
> 
> PS: my English is poor but I hope that somebody can understand my
> problem.
> 
>  
> 
> Regards,
> 
> Michel  
> 
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 10:29:37 2003
Return-Path: 
 <lucene-user-return-5014-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43019 invoked from network); 16 Jul 2003 10:29:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 10:29:37 -0000
Received: (qmail 3508 invoked by uid 97); 16 Jul 2003 10:32:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3501 invoked from network); 16 Jul 2003 10:32:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 10:32:18 -0000
Received: (qmail 42819 invoked by uid 500); 16 Jul 2003 10:29:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42806 invoked from network); 16 Jul 2003 10:29:33 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 16 Jul 2003 10:29:33 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 9CFA2E5
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 06:29:46 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 5B9E8127F; Wed, 16 Jul 2003 06:29:46 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 378C9127B
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 06:29:46 -0400 (EDT)
Date: Wed, 16 Jul 2003 06:29:46 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: about PDF / HTML index
In-Reply-To: <20030715222103.71394.qmail@web41414.mail.yahoo.com>
Message-ID: <Pine.GSO.4.53.0307160628350.29085@fury.csh.rit.edu>
References: <20030715222103.71394.qmail@web41414.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


PDFBox comes with the class
org.pdfbox.searchengine.lucene.LucenePDFDocument which shows how to
parse /index a pdf document.

Ben


On Tue, 15 Jul 2003, alvaro z wrote:

>
> im using lucene with TXT and HTML files , its working.
>
> the only problem with HTML files is that i have to index html files as txt first , before to index them as HTML.
>
> do anyone have try to index pdf files ?
>
> im trying the pdfbox , is there any samples for indexing pdf files ? (i dont find any samples to do that) with any of the parsers (pdfbox, jpedal ,etc).
>
> thanks for helping,
>
> Alvaro. from Lima - Peru
>
>
> ---------------------------------
> Do you Yahoo!?
> SBC Yahoo! DSL - Now only $29.95 per month!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 13:38:57 2003
Return-Path: 
 <lucene-user-return-5015-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97249 invoked from network); 16 Jul 2003 13:38:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 13:38:57 -0000
Received: (qmail 9943 invoked by uid 97); 16 Jul 2003 13:41:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9936 invoked from network); 16 Jul 2003 13:41:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 13:41:28 -0000
Received: (qmail 96731 invoked by uid 500); 16 Jul 2003 13:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96543 invoked from network); 16 Jul 2003 13:38:44 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 16 Jul 2003 13:38:44 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id B6F96367FA; Wed, 16 Jul 2003 13:37:04 +0000 (UTC)
X-Scanned-By: AMaViS (via Clamscan)
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 8F005367CF
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 13:37:02 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Luke - Lucene Index Browser
Date: Wed, 16 Jul 2003 09:36:53 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDOEODCKAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <3F12D099.3060400@getopt.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Luke looks pretty slick.  Was wondering how difficult would it be to add
code to add fields, update fields, etc..  I have written something similar
to Luke but next month I need to add support to update fields, remove, add,
etc.. graphically.

Thanks,

Rob


-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]
Sent: Monday, July 14, 2003 11:48 AM
To: Lucene Users List
Subject: Luke - Lucene Index Browser


Dear Lucene Users,

Luke is a diagnostic tool for Lucene (http://jakarta.apache.org/lucene)
indexes. It enables you to browse documents in existing indexes, perform
queries, navigate through terms, optimize indexes and more.

Please go to http://www.getopt.org/luke and give it a try. A Java
WebStart version will be available soon.

--
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 14:24:55 2003
Return-Path: 
 <lucene-user-return-5016-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15883 invoked from network); 16 Jul 2003 14:24:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 14:24:55 -0000
Received: (qmail 11512 invoked by uid 97); 16 Jul 2003 14:27:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11505 invoked from network); 16 Jul 2003 14:27:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 14:27:26 -0000
Received: (qmail 12892 invoked by uid 500); 16 Jul 2003 14:24:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12833 invoked from network); 16 Jul 2003 14:24:11 -0000
Received: from smtp.acn.pl (HELO mail3.astercity.net) (212.76.33.52)
  by daedalus.apache.org with SMTP; 16 Jul 2003 14:24:11 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail3.astercity.net (sendmail) with ESMTP id 4A9E36C1D4
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 16:24:09 +0200 (CEST)
Message-ID: <3F155E4F.60106@getopt.org>
Date: Wed, 16 Jul 2003 16:16:47 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke - Lucene Index Browser
References: <MNEPJJAGGPICDNOCBIKDOEODCKAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDOEODCKAA.routar@ideorlando.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob Outar wrote:
> Luke looks pretty slick.  Was wondering how difficult would it be to add
> code to add fields, update fields, etc..  I have written something similar
> to Luke but next month I need to add support to update fields, remove, add,
> etc.. graphically.

Not that difficult - assuming Lucene supports it. From your list of 
requirements, I think most of these functions are rather difficult to 
implement in the logic part due to limitations in Lucene - at least not 
efficiently. You cannot add a field per se, only add a document which 
contains additional fields. Similarly, you cannot update a field, you 
can only delete a document, and insert a new one with different values. 
Also, I don't think it's feasible to delete fields in the index - this 
would mean re-adding _all_ documents with one field less...

Apart from that, there's no rocket science here, it's just a matter of 
adding some GUI and logic. Thinlet-based applications are easy to modify 
in the View layer, so it's up to the Controller part, if it can be coded 
at all...

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 15:03:28 2003
Return-Path: 
 <lucene-user-return-5017-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54628 invoked from network); 16 Jul 2003 15:03:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 15:03:28 -0000
Received: (qmail 13228 invoked by uid 97); 16 Jul 2003 15:06:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13221 invoked from network); 16 Jul 2003 15:06:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 15:06:00 -0000
Received: (qmail 54374 invoked by uid 500); 16 Jul 2003 15:03:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54359 invoked from network); 16 Jul 2003 15:03:25 -0000
Received: from mail11.atl.registeredsite.com (64.224.219.85)
  by daedalus.apache.org with SMTP; 16 Jul 2003 15:03:25 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.14])
	by mail11.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6GF3N65026932
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 16 Jul 2003 11:03:25 -0400
Received: (qmail 97801 invoked by uid 89); 16 Jul 2003 15:05:36 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.41)
  by mail.marciamay.net with SMTP; 16 Jul 2003 15:05:36 -0000
Date: Wed, 16 Jul 2003 11:03:21 -0400
Subject: Re: Luke - Lucene Index Browser
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F12D099.3060400@getopt.org>
Message-Id: <A4135E26-B79E-11D7-B9B0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Very well done!!!!


On Monday, July 14, 2003, at 11:47  AM, Andrzej Bialecki wrote:
> Dear Lucene Users,
>
> Luke is a diagnostic tool for Lucene 
> (http://jakarta.apache.org/lucene) indexes. It enables you to browse 
> documents in existing indexes, perform queries, navigate through 
> terms, optimize indexes and more.
>
> Please go to http://www.getopt.org/luke and give it a try. A Java 
> WebStart version will be available soon.
>
> -- 
> Best regards,
> Andrzej Bialecki
>
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 17:04:10 2003
Return-Path: 
 <lucene-user-return-5018-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50599 invoked from network); 16 Jul 2003 17:04:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:04:10 -0000
Received: (qmail 17182 invoked by uid 97); 16 Jul 2003 17:06:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17175 invoked from network); 16 Jul 2003 17:06:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 17:06:43 -0000
Received: (qmail 48970 invoked by uid 500); 16 Jul 2003 17:03:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48885 invoked from network); 16 Jul 2003 17:03:53 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:03:53 -0000
Received: (qmail 8713 invoked from network); 16 Jul 2003 17:03:48 -0000
Received: from port76.ds1-vey.adsl.cybercity.dk (HELO jalaptop)
 (217.157.168.207)
  by 213.150.56.212 with SMTP; 16 Jul 2003 17:03:48 -0000
Message-ID: <020501c34bbc$3b5f44e0$0200000a@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: <lucene-user@jakarta.apache.org>
Subject: keyword indexing
Date: Wed, 16 Jul 2003 19:03:51 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0202_01C34BCC.FE7D1E10"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0202_01C34BCC.FE7D1E10
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64

SSdtIGhhdmluZyBzb21lIHByb2JsZW1zIHdpdGggY2hhcnMgaW4ga2V5d29yZHMgdGhhdCBhcmUg
bm90IGEtejAtOSBjaGFycy4uLg0KDQpJZiBJIGhhdmUgYSBrZXl3b3JkIGxpa2UgIkRldCBOYXR1
cnZpZGVuc2thYmVsaWdlIEZha3VsdGV0IiBvciBhIG5hbWUgIkphbiBBZ2VybW9zZSIgLSB3ZWxs
IGJlc2lkZXMgdGhlIGZhY3QgSSBuZWVkIHRvIGxvd2VyY2FzZSB0aGUga2V5d29yZHMgYXMgdGhl
IHF1ZXJ5c3RyaW5nIGlzIGxvd2VyY2FzZWQgYnkgbHVjZW5lLCBJIHN0aWxsIGNhbm5vdCBnZXQg
YW55IGhpdHMgb24gdGhlIGtleXdvcmRzLiANCg0KIkRldCBOYXR1cnZpZGVuc2thYmVsaWdlIEZh
a3VsdGV0IiAtIGhpdHMgPSAwDQpEZXQqIC0gaGl0cyENCkRldCBOYXR1cnZpZGVuc2thYmVsaWdl
IEZha3VsdGV0IC0gaGl0cyA9IDANCg0KSSBjYW4gdW5kZXJzdGFuZCB0aGUgbGFzdCBvbmUgLSBi
dXQgc2hvdWxkbid0IHRoZSBmaXJzdCBvbmUgcmV0dXJuIGhpdHM/IElmIG5vdCwgdXNpbmcga2V5
d29yZHMgc2VlbXMgdG8gYmUgbGltaXRlZCB0byBrZXl3b3JkcyBjb21wb3NlZCBvZiBbYS16MC05
XSsgPz8/IA0KDQpOb3cgSSBkbyBhIHN0cmluZyByZXBsYWNlIG9uIFteYS16MC05XSsgLyAiIiAo
cmVtb3ZpbmcgYWxsIHRoZSBjaGFycykgYnV0IHRoaXMgZ2l2ZXMgdGhlIHF1ZXJ5cGFyc2Ugc29t
ZSBwcm9ibGVtcyBJIHdvdWxkIHRoaW5rIC0gdW5sZXNzIGluIG15IHNwZWNpYWwgY2FzZSB3aGVy
ZSB0aGUgdXNlciBpcyBub3QgcmVhbGx5IGZyZWUgdG8gY29tcG9zZSBxdWVyaWVzIG9uIHRoZXJl
IG93biAtIHRoZXJlZm9yZSBJIGNhbiBkbyB0aGUgc2FtZSBzdHJpbmdyZXBsYWNlIHRoaW5nIG9u
IHRoZSBpbnB1dCA6LUQgQnV0IEkgd291bGQgbGlrZSBmb3IgdGhlIHBvd2VydXNlciB0byBpbnB1
dCByZWFsIHF1ZXJpZXMgLSBhbmQgdGhpcyBsZWF2ZXMgbWUgd2l0aCB0aGUgcHJvYmxlbSBvZiBw
YXJzaW5nIHF1ZXJpZXMuIEkgbmVlZCB0byBkbyBzdHJpbmdyZXBsYWNlIG9ubHkgd2l0aGluIGRv
dWJsZSBxdW90ZXMuLi4gVGhpcyBzaG91bGQgYmUgbHVjZW5lcyBwcm9ibGVtIG5vdCBtaW5lIDot
RA0KDQpBbSBJIG1pc3Npbmcgc29tZXRoaW5nID8/DQoNCkphbiBBZ2VybW9zZQ0K

------=_NextPart_000_0202_01C34BCC.FE7D1E10--


From MAILER-DAEMON Wed Jul 16 17:23:19 2003
Return-Path: 
 <lucene-user-return-5019-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99102 invoked from network); 16 Jul 2003 17:23:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:23:19 -0000
Received: (qmail 17765 invoked by uid 97); 16 Jul 2003 17:25:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17758 invoked from network); 16 Jul 2003 17:25:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 17:25:51 -0000
Received: (qmail 98602 invoked by uid 500); 16 Jul 2003 17:23:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98540 invoked from network); 16 Jul 2003 17:23:12 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:23:12 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id N26JP9QN; Wed, 16 Jul 2003 13:26:53 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: keyword indexing
Date: Wed, 16 Jul 2003 13:23:03 -0400
Message-ID: <004d01c34bbe$f003dbc0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <020501c34bbc$3b5f44e0$0200000a@csiteoffice.csite.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you are searching on keyword you might need to use TermQuery in order
to have an exact match

-----Original Message-----
From: Jan Agermose [mailto:jan@agermose.dk] 
Sent: Wednesday, July 16, 2003 1:04 PM
To: lucene-user@jakarta.apache.org
Subject: keyword indexing


I'm having some problems with chars in keywords that are not a-z0-9
chars...

If I have a keyword like "Det Naturvidenskabelige Fakultet" or a name
"Jan Agermose" - well besides the fact I need to lowercase the keywords
as the querystring is lowercased by lucene, I still cannot get any hits
on the keywords. 

"Det Naturvidenskabelige Fakultet" - hits = 0
Det* - hits!
Det Naturvidenskabelige Fakultet - hits = 0

I can understand the last one - but shouldn't the first one return hits?
If not, using keywords seems to be limited to keywords composed of
[a-z0-9]+ ??? 

Now I do a string replace on [^a-z0-9]+ / "" (removing all the chars)
but this gives the queryparse some problems I would think - unless in my
special case where the user is not really free to compose queries on
there own - therefore I can do the same stringreplace thing on the input
:-D But I would like for the poweruser to input real queries - and this
leaves me with the problem of parsing queries. I need to do
stringreplace only within double quotes... This should be lucenes
problem not mine :-D

Am I missing something ??

Jan Agermose



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 17:38:00 2003
Return-Path: 
 <lucene-user-return-5020-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37718 invoked from network); 16 Jul 2003 17:38:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:38:00 -0000
Received: (qmail 18156 invoked by uid 97); 16 Jul 2003 17:40:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18149 invoked from network); 16 Jul 2003 17:40:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 17:40:33 -0000
Received: (qmail 37450 invoked by uid 500); 16 Jul 2003 17:37:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37437 invoked from network); 16 Jul 2003 17:37:56 -0000
Received: from merc64.na.sas.com (149.173.6.59)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:37:56 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.14 with InterScan
 Messaging Security Suite; Wed, 16 Jul 2003 13:38:00 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: CJK support in lucene
Date: Wed, 16 Jul 2003 13:37:59 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE1402F3DB9E@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: CJK support in lucene
Thread-Index: AcNLvOPhuMaJDB0mTvKPrs1bX1H+ZgAAhNXw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Avnish Midha" <Avnish.Midha@telelogic.com>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This archived message has the CJKTokenizer code attached (there are some =
links in the code to material that describes the tokenization strategy).

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-dev@jakarta.=
apache.org&msgId=3D330905

You have to write your own analyzer that uses this tokenizer. See =
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html for some =
details on how to write an analyzer.

here is one you could use:
package my.package;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.StopFilter;
import org.apache.lucene.analysis.TokenStream;
import org.apache.lucene.analysis.cjk.CJKTokenizer;
import java.io.Reader;

public class CJKAnalyzer extends Analyzer {
   =20
    public CJKAnalyzer() {
    }
   =20
    /**
     * Creates a TokenStream which tokenizes all the text in the =
provided Reader.
     *
     * @return  A TokenStream built from a CJKTokenizer
     */
    public TokenStream tokenStream( String fieldName, Reader reader )
    {
        TokenStream result =3D new CJKTokenizer( reader );
		result =3D new StopFilter(result, new String[] {""}); // CJKTokenizer =
emitts a "" sometimes, haven't been able to figure it out, so this is a =
workaround
        return result;
    }
}

Lastly, you have to package those things up and use them along with the =
core lucene code.

CC'ing this to Lucene User so everyone can benefit from these answers. =
Maybe a faq on indexing CJK languages would be a good thing to add. The =
existing one =
(http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=3Dchapter.=
indexing&toc=3Dfaq#q28) is somewhat light on details (so is this answer, =
but it is a bit more direct about dealing with CJK) and =
http://www.jguru.com/faq/view.jsp?EID=3D1011118 is useful to be aware of =
too.

Good luck,
Eric

-----Original Message-----
From: Avnish Midha [mailto:Avnish.Midha@telelogic.com]=20
Sent: Wednesday, July 16, 2003 1:06 PM
To: Eric Isakson
Subject: CJK support in lucene



Hi Eric,

I read the description of the bug (#18933) reported by you on the apache =
site. I had a question related to this defect. In the description you =
have mentioned that CJK support should be included in the core build. Is =
there any other way we can enable the CJK support in the lucene search =
engine? Would be grateful to you if you could let me know of any such =
method of enabling CJK support in the serach engine.

Eagerly waiting for your reply.

Thanks & Regards,
Avnish Midha
Phone no.: +1-949-8852540





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 17:56:51 2003
Return-Path: 
 <lucene-user-return-5021-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91628 invoked from network); 16 Jul 2003 17:56:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:56:51 -0000
Received: (qmail 18845 invoked by uid 97); 16 Jul 2003 17:59:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18837 invoked from network); 16 Jul 2003 17:59:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 17:59:24 -0000
Received: (qmail 90946 invoked by uid 500); 16 Jul 2003 17:56:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90904 invoked from network); 16 Jul 2003 17:56:42 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 16 Jul 2003 17:56:42 -0000
Received: (qmail 8949 invoked from network); 16 Jul 2003 17:56:38 -0000
Received: from port76.ds1-vey.adsl.cybercity.dk (HELO jalaptop)
 (217.157.168.207)
  by 213.150.56.212 with SMTP; 16 Jul 2003 17:56:38 -0000
Message-ID: <024c01c34bc3$9cc5cae0$0200000a@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004d01c34bbe$f003dbc0$6a00a8c0@Aviran>
Subject: Re: keyword indexing
Date: Wed, 16 Jul 2003 19:56:39 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

So you cannot use the QueryBuilder if You are using keywords - is that it? 

Jan


----- Original Message ----- 
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 16, 2003 7:23 PM
Subject: RE: keyword indexing


> If you are searching on keyword you might need to use TermQuery in order
> to have an exact match
> 
> -----Original Message-----
> From: Jan Agermose [mailto:jan@agermose.dk] 
> Sent: Wednesday, July 16, 2003 1:04 PM
> To: lucene-user@jakarta.apache.org
> Subject: keyword indexing
> 
> 
> I'm having some problems with chars in keywords that are not a-z0-9
> chars...
> 
> If I have a keyword like "Det Naturvidenskabelige Fakultet" or a name
> "Jan Agermose" - well besides the fact I need to lowercase the keywords
> as the querystring is lowercased by lucene, I still cannot get any hits
> on the keywords. 
> 
> "Det Naturvidenskabelige Fakultet" - hits = 0
> Det* - hits!
> Det Naturvidenskabelige Fakultet - hits = 0
> 
> I can understand the last one - but shouldn't the first one return hits?
> If not, using keywords seems to be limited to keywords composed of
> [a-z0-9]+ ??? 
> 
> Now I do a string replace on [^a-z0-9]+ / "" (removing all the chars)
> but this gives the queryparse some problems I would think - unless in my
> special case where the user is not really free to compose queries on
> there own - therefore I can do the same stringreplace thing on the input
> :-D But I would like for the poweruser to input real queries - and this
> leaves me with the problem of parsing queries. I need to do
> stringreplace only within double quotes... This should be lucenes
> problem not mine :-D
> 
> Am I missing something ??
> 
> Jan Agermose
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 16 18:05:15 2003
Return-Path: 
 <lucene-user-return-5022-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11435 invoked from network); 16 Jul 2003 18:05:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jul 2003 18:05:15 -0000
Received: (qmail 19447 invoked by uid 97); 16 Jul 2003 18:07:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19440 invoked from network); 16 Jul 2003 18:07:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Jul 2003 18:07:49 -0000
Received: (qmail 9423 invoked by uid 500); 16 Jul 2003 18:04:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9308 invoked from network); 16 Jul 2003 18:04:52 -0000
Received: from merc64.na.sas.com (149.173.6.59)
  by daedalus.apache.org with SMTP; 16 Jul 2003 18:04:52 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.14 with InterScan
 Messaging Security Suite; Wed, 16 Jul 2003 14:04:54 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: FW: CJK support in lucene
Date: Wed, 16 Jul 2003 14:04:54 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9B54@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: CJK support in lucene
Thread-Index: AcNLwwgLgsJfoDHVQJKU5sI1vOcEOAAARVxwAAAmyYA=
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



-----Original Message-----
From: Eric Isakson=20
Sent: Wednesday, July 16, 2003 2:04 PM
To: 'Avnish Midha'
Subject: RE: CJK support in lucene


I'm no linguist, so the short answer is, I'm not sure about Taiwanese. =
If they share the same character sets and a bigram indexing approach =
makes sense for that language (read the links in the CJKTokenizer =
source), then it would probably work.

For Latin-1 languages, it will tokenize (It is setup to deal with mixed =
language documents where some of the text might be Chinese and some =
might be English) but it will be far less efficient than the standard =
tokenizer supplied with the Lucene core. But you should run your own =
tests to see if that would be livable.

Eric

-----Original Message-----
From: Avnish Midha [mailto:Avnish.Midha@telelogic.com]=20
Sent: Wednesday, July 16, 2003 1:50 PM
To: Eric Isakson
Cc: Lucene Users List
Subject: RE: CJK support in lucene



Eric,

Does this tokenizer also support Taiwanese & European languages =
(Latin-1)?

Regards,
Avnish

-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com]
Sent: Wednesday, July 16, 2003 10:38 AM
To: Avnish Midha
Cc: Lucene Users List
Subject: RE: CJK support in lucene


This archived message has the CJKTokenizer code attached (there are some =
links in the code to material that describes the tokenization strategy).

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-dev@jakarta.=
apach
e.org&msgId=3D330905

You have to write your own analyzer that uses this tokenizer. See =
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html for some =
details on how to write an analyzer.

here is one you could use:
package my.package;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.StopFilter;
import org.apache.lucene.analysis.TokenStream;
import org.apache.lucene.analysis.cjk.CJKTokenizer;
import java.io.Reader;

public class CJKAnalyzer extends Analyzer {
   =20
    public CJKAnalyzer() {
    }
   =20
    /**
     * Creates a TokenStream which tokenizes all the text in the =
provided Reader.
     *
     * @return  A TokenStream built from a CJKTokenizer
     */
    public TokenStream tokenStream( String fieldName, Reader reader )
    {
        TokenStream result =3D new CJKTokenizer( reader );
		result =3D new StopFilter(result, new String[] {""}); // CJKTokenizer =
emitts a "" sometimes, haven't been able to figure it out, so this is a =
workaround
        return result;
    }
}

Lastly, you have to package those things up and use them along with the =
core lucene code.

CC'ing this to Lucene User so everyone can benefit from these answers. =
Maybe a faq on indexing CJK languages would be a good thing to add. The =
existing one =
(http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=3Dchapter.=
index
ing&toc=3Dfaq#q28) is somewhat light on details (so is this answer, but =
it is a bit more direct about dealing with CJK) and =
http://www.jguru.com/faq/view.jsp?EID=3D1011118 is useful to be aware of =
too.

Good luck,
Eric

-----Original Message-----
From: Avnish Midha [mailto:Avnish.Midha@telelogic.com]=20
Sent: Wednesday, July 16, 2003 1:06 PM
To: Eric Isakson
Subject: CJK support in lucene



Hi Eric,

I read the description of the bug (#18933) reported by you on the apache =
site. I had a question related to this defect. In the description you =
have mentioned that CJK support should be included in the core build. Is =
there any other way we can enable the CJK support in the lucene search =
engine? Would be grateful to you if you could let me know of any such =
method of enabling CJK support in the serach engine.

Eagerly waiting for your reply.

Thanks & Regards,
Avnish Midha
Phone no.: +1-949-8852540




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 02:19:23 2003
Return-Path: 
 <lucene-user-return-5023-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9030 invoked from network); 17 Jul 2003 02:19:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 02:19:23 -0000
Received: (qmail 1960 invoked by uid 97); 17 Jul 2003 02:22:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1953 invoked from network); 17 Jul 2003 02:22:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 02:22:02 -0000
Received: (qmail 8733 invoked by uid 500); 17 Jul 2003 02:19:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8721 invoked from network); 17 Jul 2003 02:19:20 -0000
Received: from mail.etouch.net (HELO etouch.net) (65.213.51.51)
  by daedalus.apache.org with SMTP; 17 Jul 2003 02:19:20 -0000
Received: from [192.168.0.75] (HELO gourav)
  by etouch.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 4090163 for lucene-user@jakarta.apache.org;
 Wed, 16 Jul 2003 19:27:03 -0700
Message-ID: <07da01c34c09$61603ee0$4b00a8c0@etouch.net>
From: "Gourav Raj Budhia" <gbudhia@etouch.net>
To: <lucene-user@jakarta.apache.org>
Subject: extracting keywords
Date: Wed, 16 Jul 2003 19:16:06 -0700
Organization: eTouch Systems Corp.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.3018.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.3018.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Group,

I am fairly new to Lucene.
I would like to know if and how can i extract the keywords list from an
indexed document.

Thanks,
Gourav



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 04:48:37 2003
Return-Path: 
 <lucene-user-return-5024-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50503 invoked from network); 17 Jul 2003 04:48:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 04:48:37 -0000
Received: (qmail 4712 invoked by uid 97); 17 Jul 2003 04:51:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4705 invoked from network); 17 Jul 2003 04:51:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 04:51:17 -0000
Received: (qmail 49765 invoked by uid 500); 17 Jul 2003 04:48:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49690 invoked from network); 17 Jul 2003 04:48:29 -0000
Received: from eself.com (161.58.236.229)
  by daedalus.apache.org with SMTP; 17 Jul 2003 04:48:29 -0000
Received: from eself.com (dhcp-192-204-35.in2cable.com [203.192.204.35]) by
 eself.com (8.12.9) id h6H4mbLR069834; Wed, 16 Jul 2003 22:48:39 -0600 (MDT)
Message-ID: <3F16287C.7020106@eself.com>
Date: Thu, 17 Jul 2003 10:09:24 +0530
From: Jagadesh Nandasamy <jaggi@eself.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke - Lucene Index Browser
References: <3F12D099.3060400@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Very nice and well done.

Thanks guys.

Andrzej Bialecki wrote:

> Dear Lucene Users,
>
> Luke is a diagnostic tool for Lucene 
> (http://jakarta.apache.org/lucene) indexes. It enables you to browse 
> documents in existing indexes, perform queries, navigate through 
> terms, optimize indexes and more.
>
> Please go to http://www.getopt.org/luke and give it a try. A Java 
> WebStart version will be available soon.
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 08:27:34 2003
Return-Path: 
 <lucene-user-return-5026-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92309 invoked from network); 17 Jul 2003 08:27:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:27:34 -0000
Received: (qmail 7916 invoked by uid 97); 17 Jul 2003 08:30:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7909 invoked from network); 17 Jul 2003 08:30:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 08:30:16 -0000
Received: (qmail 90201 invoked by uid 500); 17 Jul 2003 08:26:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90151 invoked from network); 17 Jul 2003 08:26:55 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:26:55 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h6H8R5Br019956
	for <lucene-user@jakarta.apache.org>; Thu, 17 Jul 2003 10:27:05 +0200
Message-ID: <003b01c34c3d$36cbfc80$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <07da01c34c09$61603ee0$4b00a8c0@etouch.net>
Subject: Re: extracting keywords
Date: Thu, 17 Jul 2003 10:27:08 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I would like to know if and how can i extract the keywords list from
> an indexed document.

I believe this is not directly possible. You can create such a list by
iterating over all terms in an index and checking for each term whether
the document you are interested in is part of the list of all documents
that contain the current term - not very efficient.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 08:32:19 2003
Return-Path: 
 <lucene-user-return-5027-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98288 invoked from network); 17 Jul 2003 08:32:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:32:19 -0000
Received: (qmail 7997 invoked by uid 97); 17 Jul 2003 08:35:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7990 invoked from network); 17 Jul 2003 08:35:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 08:35:00 -0000
Received: (qmail 97987 invoked by uid 500); 17 Jul 2003 08:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97970 invoked from network); 17 Jul 2003 08:32:13 -0000
Received: from ns1.syntegra.com (150.143.16.2)
  by daedalus.apache.org with SMTP; 17 Jul 2003 08:32:13 -0000
Received: from [129.179.161.11] by ns1.syntegra.com with ESMTP for
 lucene-user@jakarta.apache.org; Thu, 17 Jul 2003 08:32:26 Z
Received: from JVA002 ([129.179.174.6] [129.179.174.6]) by
 ah-intrastore-01.us.syntegra.com for lucene-user@jakarta.apache.org;
 Thu, 17 Jul 2003 03:32:25 -0500
From: "Jimmy Van Broeck" <Jimmy.Van.Broeck@syntegra.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: result.jsp in the webdemo
Date: Thu, 17 Jul 2003 10:34:05 +0200
Message-Id: <000601c34c3e$2f864d80$1400a8c0@intranet.syntegra.be>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1057832746.3f0d3f2a0512c@webmail.bth.se>
Importance: Normal
MIME-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Because interface is a reserved keyword in Java. You cann't utilise a
variable named interface just like class,implements,....

Greetings
Jimmy

****************
Jimmy Van Broeck
Syntegra, creating winners in the digital economy
+32 2 247 92 20 - check us out at www.syntegra.be <http://www.syntegra.be/>
****************


-----Original Message-----
From: di99mwo@student.bth.se [mailto:di99mwo@student.bth.se]
Sent: donderdag 10 juli 2003 12:26
To: Lucene Users List
Subject: Re: result.jsp in the webdemo


I choosed another variable name, then it worked, but why?

/Michelle


Quoting di99mwo@student.bth.se:

> Hello.
>
> I'm trying to modify the result.jsp file in lucene webdemo. I can create a
> for-
> loop but can't declare any variable anywhere in the jsp file.
>
> I get the the following error:
>
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: Invalid
expression
>
> statement.
>                 		    int interface;
>                 		    ^
>
>
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
>
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: ';' expected.
>                 		    int interface;
>                 		       ^
>
>
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
>
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: '}' expected.
>                 		    int interface;
>                 		       ^
>
>
> An error occurred between lines: 104 and 120 in the jsp file: /results.jsp
>
> Generated servlet error:
> C:\jakarta-tomcat-4.0.6
> \work\Standalone\localhost\luceneweb\results$jsp.java:250: Identifier
> expected.
>                 		    int interface;
>                 		                 ^
> 4 errors, 1 warning
>
>
>
> thanks.
>
> /Michelle
>
>
>
>
>
>
>
>
> -------------------------------------------------
> This mail sent through IMP: http://horde.org/imp/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 13:21:36 2003
Return-Path: 
 <lucene-user-return-5028-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50296 invoked from network); 17 Jul 2003 13:21:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 13:21:36 -0000
Received: (qmail 16475 invoked by uid 97); 17 Jul 2003 13:24:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16468 invoked from network); 17 Jul 2003 13:24:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 13:24:06 -0000
Received: (qmail 47401 invoked by uid 500); 17 Jul 2003 13:20:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47378 invoked from network); 17 Jul 2003 13:20:42 -0000
Received: from qmail.webpipe.net (63.172.126.3)
  by daedalus.apache.org with SMTP; 17 Jul 2003 13:20:42 -0000
Received: (qmail 22224 invoked by uid 89); 17 Jul 2003 13:20:52 -0000
Message-ID: <20030717132052.22222.qmail@qmail.webpipe.net>
From: "greg" <greg@webpipe.net>
To: lucene-user@jakarta.apache.org
Subject: interesting phrase query issue
Date: Thu, 17 Jul 2003 13:20:52 GMT
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have several document sections that are being indexed via the 
StandardAnalyzer.  One of these documents has the line "access, the 
manager".  When searching for the phrase "access manager", this document is 
being returned.  I understand why (at least i think i do), because a stop 
word is "the" and the "," is being removed by the tokenizer, my question is 
is there any way I can avoid having this returned in the results?  My 
thoughts were to create a new analyzer that indexes the word "the" (blick to 
many of those), or index the "," in some way (also not good).  Any 
suggestions? 

Thanks, 

Greg T Robertson

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 13:50:11 2003
Return-Path: 
 <lucene-user-return-5029-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33566 invoked from network); 17 Jul 2003 13:50:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 13:50:11 -0000
Received: (qmail 17475 invoked by uid 97); 17 Jul 2003 13:52:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17468 invoked from network); 17 Jul 2003 13:52:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 13:52:42 -0000
Received: (qmail 32948 invoked by uid 500); 17 Jul 2003 13:50:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32900 invoked from network); 17 Jul 2003 13:50:03 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net)
 (216.241.36.13)
  by daedalus.apache.org with SMTP; 17 Jul 2003 13:50:03 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19d992-0007lt-Uq
	for lucene-user@jakarta.apache.org; Thu, 17 Jul 2003 07:50:05 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: interesting phrase query issue
Date: Thu, 17 Jul 2003 07:53:06 -0600
User-Agent: KMail/1.4.3
References: <20030717132052.22222.qmail@qmail.webpipe.net>
In-Reply-To: <20030717132052.22222.qmail@qmail.webpipe.net>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307170753.06260.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 17 July 2003 07:20, greg wrote:
> I have several document sections that are being indexed via the
> StandardAnalyzer.  One of these documents has the line "access, the
> manager".  When searching for the phrase "access manager", this document is
> being returned.  I understand why (at least i think i do), because a stop
> word is "the" and the "," is being removed by the tokenizer, my question is
> is there any way I can avoid having this returned in the results?  My
> thoughts were to create a new analyzer that indexes the word "the" (blick
> to many of those), or index the "," in some way (also not good).  Any
> suggestions?

You can also replace all stop words with "dummy" token ("" might be an ok 
candidate?). That would be similar to indexing "the" (which probably is  
better idea than indexing ",").

I'm planning to do something similar for paragraph breaks (in case of plain 
text, double linefeed, for HTML <p> etc), to prevent similar problems.

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 16:02:07 2003
Return-Path: 
 <lucene-user-return-5030-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42668 invoked from network); 17 Jul 2003 16:02:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 16:02:07 -0000
Received: (qmail 22041 invoked by uid 97); 17 Jul 2003 16:04:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22034 invoked from network); 17 Jul 2003 16:04:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 16:04:39 -0000
Received: (qmail 42377 invoked by uid 500); 17 Jul 2003 16:02:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42354 invoked from network); 17 Jul 2003 16:01:59 -0000
Received: from smtp.net1plus.com (207.77.56.8)
  by daedalus.apache.org with SMTP; 17 Jul 2003 16:01:59 -0000
Received: from GREGG (mercury.net1plus.com [207.77.56.16])
	by smtp.net1plus.com (8.11.6/8.11.6) with ESMTP id h6HG1sR07072
	for <lucene-user@jakarta.apache.org>; Thu, 17 Jul 2003 12:01:54 -0400
Received: from (66.205.83.212) by (207.77.56.16); 17 Jul 2003 11:54:36 -0400
From: "Gregg Cote" <gregg.cote@ixpartners.com>
To: <lucene-user@jakarta.apache.org>
Subject: RAM index usage
Date: Thu, 17 Jul 2003 12:01:52 -0400
Message-ID: <000301c34c7c$be1b4620$800101df@GREGG>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi There,

I want to create an in-memory index.  I want to be able to search the index
and delete documents from this index.  I believe I am creating the index
correctly:

 this._writer = new IndexWriter(new org.apache.lucene.store.RAMDirectory(),
                                       new StandardAnalyzer(), true);

And can add docs to the index.

What I am not sure of is how I create a reader, and how to delete from this
index.  The reader I create for file indexes uses the following:

_reader = IndexReader.open("folder");

But I am not sure how to open a reader that will use the index I created
above.

Any help is appreciated.

Thanks,
Gregg



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 17:23:11 2003
Return-Path: 
 <lucene-user-return-5031-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38485 invoked from network); 17 Jul 2003 17:23:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 17:23:11 -0000
Received: (qmail 23996 invoked by uid 97); 17 Jul 2003 17:25:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23988 invoked from network); 17 Jul 2003 17:25:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 17:25:44 -0000
Received: (qmail 38167 invoked by uid 500); 17 Jul 2003 17:23:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38153 invoked from network); 17 Jul 2003 17:23:08 -0000
Received: from qmail.webpipe.net (63.172.126.3)
  by daedalus.apache.org with SMTP; 17 Jul 2003 17:23:08 -0000
Received: (qmail 32115 invoked by uid 89); 17 Jul 2003 17:23:20 -0000
Message-ID: <20030717172320.32114.qmail@qmail.webpipe.net>
References: <000301c34c7c$be1b4620$800101df@GREGG>
In-Reply-To: <000301c34c7c$be1b4620$800101df@GREGG> 
From: "greg" <greg@webpipe.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RAM index usage
Date: Thu, 17 Jul 2003 17:23:20 GMT
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> What I am not sure of is how I create a reader, and how to delete from this
> index.  The reader I create for file indexes uses the following: 
> 
> _reader = IndexReader.open("folder"); 
> 
According to the javadocs i have IndexReader has an open method which takes 
a Directory.  Use it instead of the IndexReader.open that takes a String.  
At least for opening it. 

g

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 17 23:33:31 2003
Return-Path: 
 <lucene-user-return-5032-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26669 invoked from network); 17 Jul 2003 23:33:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jul 2003 23:33:31 -0000
Received: (qmail 5491 invoked by uid 97); 17 Jul 2003 23:36:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5484 invoked from network); 17 Jul 2003 23:36:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Jul 2003 23:36:08 -0000
Received: (qmail 26345 invoked by uid 500); 17 Jul 2003 23:33:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26333 invoked from network); 17 Jul 2003 23:33:27 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 17 Jul 2003 23:33:27 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id C2B4BB6FEC
	for <lucene-user@jakarta.apache.org>; Fri, 18 Jul 2003 09:33:28 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: interesting phrase query issue
Date: Fri, 18 Jul 2003 09:23:34 +1000
User-Agent: KMail/1.4.3
References: <20030717132052.22222.qmail@qmail.webpipe.net>
In-Reply-To: <20030717132052.22222.qmail@qmail.webpipe.net>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307180923.34460@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> One of these documents has the line "access, the
> manager".  When searching for the phrase "access manager", this document is
> being returned.  I understand why (at least i think i do), because a stop
> word is "the" and the "," is being removed by the tokenizer, my question is
> is there any way I can avoid having this returned in the results?  

I don't think you can't without reindexing the documents and changing 
QueryParser a bit. The reasons is although if you introduce your new 
tokenizer/analyzer the original documents have been indexed with those stop 
words removed.

You have to create an analyzer that doesn't drop your stop words and start the 
reindexing again.

However you must be careful when using your custom analyser to do the query 
parsing, because sometime you may want to drop the stop words in a non-quoted 
query, so 

hello and world ---> +hello +world

but

"hello and world" --> +"hello and world"

One solution that I can think of is by passing two analysers in QueryParser, 
one is for the "standard" analyser and the other is for the "phrase query" 
analyser. Down in the QueryParser.jj around this area do something like this:

     | term=<QUOTED>
       [ slop=<SLOP> ]
       [ <CARAT> boost=<NUMBER> ]
       {
         if (phraseAnalyzer == null)  {
		// use phrase query custom analyser that doesn't drop stop words
	} else {  
		 // otherwise use normal analyzer
	}

This may work as a matter of fact I think it should.

HTH

victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 02:31:30 2003
Return-Path: 
 <lucene-user-return-5033-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28735 invoked from network); 18 Jul 2003 02:31:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 02:31:30 -0000
Received: (qmail 8569 invoked by uid 97); 18 Jul 2003 02:34:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8562 invoked from network); 18 Jul 2003 02:34:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 02:34:09 -0000
Received: (qmail 28446 invoked by uid 500); 18 Jul 2003 02:31:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28433 invoked from network); 18 Jul 2003 02:31:26 -0000
Received: from bay9-dav26.bay9.hotmail.com (HELO hotmail.com) (64.4.46.83)
  by daedalus.apache.org with SMTP; 18 Jul 2003 02:31:26 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 17 Jul 2003 19:31:36 -0700
Received: from 211.99.139.41 by bay9-dav26.bay9.hotmail.com with DAV;
	Fri, 18 Jul 2003 02:31:36 +0000
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <187D6D956106D84E9D8B280F6458FE14018D9B54@merc12.na.sas.com>
Subject: Re: CJK support in lucene
Date: Fri, 18 Jul 2003 10:31:12 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY9-DAV26hExKWK2of000035bd@hotmail.com>
X-OriginalArrivalTime: 18 Jul 2003 02:31:36.0488 (UTC)
 FILETIME=[B5E3AA80:01C34CD4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SSB0aGluayBUcmFuZGl0aW9uYWwgQ2hpbmVzZSB1c2UgaW4gSEsgYW5kIFRXIGlzIHN1cHBvcnRl
ZCBmb3IgQ0pLIENoYXJhY3RvciBpcyBpbmRlbnRpZmllZCB3aXRoIGNoYXJhY3RvciBibG9jayBv
ZjogQ0pLX1VOSUZJRURfSURFT0dSQVBIUw0KDQptb3JlOg0KaHR0cDovL3NvdXJjZWZvcmdlLm5l
dC9wcm9qZWN0cy93ZWJsdWNlbmUvDQoNCkNoZSwgRG9uZw0KLS0tLS0gT3JpZ2luYWwgTWVzc2Fn
ZSAtLS0tLSANCkZyb206ICJFcmljIElzYWtzb24iIDxFcmljLklzYWtzb25Ac2FzLmNvbT4NClRv
OiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQpT
ZW50OiBUaHVyc2RheSwgSnVseSAxNywgMjAwMyAyOjA0IEFNDQpTdWJqZWN0OiBGVzogQ0pLIHN1
cHBvcnQgaW4gbHVjZW5lDQoNCg0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9t
OiBFcmljIElzYWtzb24gDQpTZW50OiBXZWRuZXNkYXksIEp1bHkgMTYsIDIwMDMgMjowNCBQTQ0K
VG86ICdBdm5pc2ggTWlkaGEnDQpTdWJqZWN0OiBSRTogQ0pLIHN1cHBvcnQgaW4gbHVjZW5lDQoN
Cg0KSSdtIG5vIGxpbmd1aXN0LCBzbyB0aGUgc2hvcnQgYW5zd2VyIGlzLCBJJ20gbm90IHN1cmUg
YWJvdXQgVGFpd2FuZXNlLiBJZiB0aGV5IHNoYXJlIHRoZSBzYW1lIGNoYXJhY3RlciBzZXRzIGFu
ZCBhIGJpZ3JhbSBpbmRleGluZyBhcHByb2FjaCBtYWtlcyBzZW5zZSBmb3IgdGhhdCBsYW5ndWFn
ZSAocmVhZCB0aGUgbGlua3MgaW4gdGhlIENKS1Rva2VuaXplciBzb3VyY2UpLCB0aGVuIGl0IHdv
dWxkIHByb2JhYmx5IHdvcmsuDQoNCkZvciBMYXRpbi0xIGxhbmd1YWdlcywgaXQgd2lsbCB0b2tl
bml6ZSAoSXQgaXMgc2V0dXAgdG8gZGVhbCB3aXRoIG1peGVkIGxhbmd1YWdlIGRvY3VtZW50cyB3
aGVyZSBzb21lIG9mIHRoZSB0ZXh0IG1pZ2h0IGJlIENoaW5lc2UgYW5kIHNvbWUgbWlnaHQgYmUg
RW5nbGlzaCkgYnV0IGl0IHdpbGwgYmUgZmFyIGxlc3MgZWZmaWNpZW50IHRoYW4gdGhlIHN0YW5k
YXJkIHRva2VuaXplciBzdXBwbGllZCB3aXRoIHRoZSBMdWNlbmUgY29yZS4gQnV0IHlvdSBzaG91
bGQgcnVuIHlvdXIgb3duIHRlc3RzIHRvIHNlZSBpZiB0aGF0IHdvdWxkIGJlIGxpdmFibGUuDQoN
CkVyaWMNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEF2bmlzaCBNaWRoYSBb
bWFpbHRvOkF2bmlzaC5NaWRoYUB0ZWxlbG9naWMuY29tXSANClNlbnQ6IFdlZG5lc2RheSwgSnVs
eSAxNiwgMjAwMyAxOjUwIFBNDQpUbzogRXJpYyBJc2Frc29uDQpDYzogTHVjZW5lIFVzZXJzIExp
c3QNClN1YmplY3Q6IFJFOiBDSksgc3VwcG9ydCBpbiBsdWNlbmUNCg0KDQoNCkVyaWMsDQoNCkRv
ZXMgdGhpcyB0b2tlbml6ZXIgYWxzbyBzdXBwb3J0IFRhaXdhbmVzZSAmIEV1cm9wZWFuIGxhbmd1
YWdlcyAoTGF0aW4tMSk/DQoNClJlZ2FyZHMsDQpBdm5pc2gNCg0KLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0NCkZyb206IEVyaWMgSXNha3NvbiBbbWFpbHRvOkVyaWMuSXNha3NvbkBzYXMuY29t
XQ0KU2VudDogV2VkbmVzZGF5LCBKdWx5IDE2LCAyMDAzIDEwOjM4IEFNDQpUbzogQXZuaXNoIE1p
ZGhhDQpDYzogTHVjZW5lIFVzZXJzIExpc3QNClN1YmplY3Q6IFJFOiBDSksgc3VwcG9ydCBpbiBs
dWNlbmUNCg0KDQpUaGlzIGFyY2hpdmVkIG1lc3NhZ2UgaGFzIHRoZSBDSktUb2tlbml6ZXIgY29k
ZSBhdHRhY2hlZCAodGhlcmUgYXJlIHNvbWUgbGlua3MgaW4gdGhlIGNvZGUgdG8gbWF0ZXJpYWwg
dGhhdCBkZXNjcmliZXMgdGhlIHRva2VuaXphdGlvbiBzdHJhdGVneSkuDQoNCmh0dHA6Ly9uYWdv
eWEuYXBhY2hlLm9yZy9leWVicm93c2UvUmVhZE1zZz9saXN0TmFtZT1sdWNlbmUtZGV2QGpha2Fy
dGEuYXBhY2gNCmUub3JnJm1zZ0lkPTMzMDkwNQ0KDQpZb3UgaGF2ZSB0byB3cml0ZSB5b3VyIG93
biBhbmFseXplciB0aGF0IHVzZXMgdGhpcyB0b2tlbml6ZXIuIFNlZSBodHRwOi8vd3d3Lm9uamF2
YS5jb20vcHViL2Evb25qYXZhLzIwMDMvMDEvMTUvbHVjZW5lLmh0bWwgZm9yIHNvbWUgZGV0YWls
cyBvbiBob3cgdG8gd3JpdGUgYW4gYW5hbHl6ZXIuDQoNCmhlcmUgaXMgb25lIHlvdSBjb3VsZCB1
c2U6DQpwYWNrYWdlIG15LnBhY2thZ2U7DQoNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFs
eXNpcy5BbmFseXplcjsNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5TdG9wRmls
dGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLlRva2VuU3RyZWFtOw0KaW1w
b3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktUb2tlbml6ZXI7DQppbXBvcnQg
amF2YS5pby5SZWFkZXI7DQoNCnB1YmxpYyBjbGFzcyBDSktBbmFseXplciBleHRlbmRzIEFuYWx5
emVyIHsNCiAgICANCiAgICBwdWJsaWMgQ0pLQW5hbHl6ZXIoKSB7DQogICAgfQ0KICAgIA0KICAg
IC8qKg0KICAgICAqIENyZWF0ZXMgYSBUb2tlblN0cmVhbSB3aGljaCB0b2tlbml6ZXMgYWxsIHRo
ZSB0ZXh0IGluIHRoZSBwcm92aWRlZCBSZWFkZXIuDQogICAgICoNCiAgICAgKiBAcmV0dXJuICBB
IFRva2VuU3RyZWFtIGJ1aWx0IGZyb20gYSBDSktUb2tlbml6ZXINCiAgICAgKi8NCiAgICBwdWJs
aWMgVG9rZW5TdHJlYW0gdG9rZW5TdHJlYW0oIFN0cmluZyBmaWVsZE5hbWUsIFJlYWRlciByZWFk
ZXIgKQ0KICAgIHsNCiAgICAgICAgVG9rZW5TdHJlYW0gcmVzdWx0ID0gbmV3IENKS1Rva2VuaXpl
ciggcmVhZGVyICk7DQpyZXN1bHQgPSBuZXcgU3RvcEZpbHRlcihyZXN1bHQsIG5ldyBTdHJpbmdb
XSB7IiJ9KTsgLy8gQ0pLVG9rZW5pemVyIGVtaXR0cyBhICIiIHNvbWV0aW1lcywgaGF2ZW4ndCBi
ZWVuIGFibGUgdG8gZmlndXJlIGl0IG91dCwgc28gdGhpcyBpcyBhIHdvcmthcm91bmQNCiAgICAg
ICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQp9DQoNCkxhc3RseSwgeW91IGhhdmUgdG8gcGFja2Fn
ZSB0aG9zZSB0aGluZ3MgdXAgYW5kIHVzZSB0aGVtIGFsb25nIHdpdGggdGhlIGNvcmUgbHVjZW5l
IGNvZGUuDQoNCkNDJ2luZyB0aGlzIHRvIEx1Y2VuZSBVc2VyIHNvIGV2ZXJ5b25lIGNhbiBiZW5l
Zml0IGZyb20gdGhlc2UgYW5zd2Vycy4gTWF5YmUgYSBmYXEgb24gaW5kZXhpbmcgQ0pLIGxhbmd1
YWdlcyB3b3VsZCBiZSBhIGdvb2QgdGhpbmcgdG8gYWRkLiBUaGUgZXhpc3Rpbmcgb25lIChodHRw
Oi8vbHVjZW5lLnNvdXJjZWZvcmdlLm5ldC9jZ2ktYmluL2ZhcS9mYXFtYW5hZ2VyLmNnaT9maWxl
PWNoYXB0ZXIuaW5kZXgNCmluZyZ0b2M9ZmFxI3EyOCkgaXMgc29tZXdoYXQgbGlnaHQgb24gZGV0
YWlscyAoc28gaXMgdGhpcyBhbnN3ZXIsIGJ1dCBpdCBpcyBhIGJpdCBtb3JlIGRpcmVjdCBhYm91
dCBkZWFsaW5nIHdpdGggQ0pLKSBhbmQgaHR0cDovL3d3dy5qZ3VydS5jb20vZmFxL3ZpZXcuanNw
P0VJRD0xMDExMTE4IGlzIHVzZWZ1bCB0byBiZSBhd2FyZSBvZiB0b28uDQoNCkdvb2QgbHVjaywN
CkVyaWMNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEF2bmlzaCBNaWRoYSBb
bWFpbHRvOkF2bmlzaC5NaWRoYUB0ZWxlbG9naWMuY29tXSANClNlbnQ6IFdlZG5lc2RheSwgSnVs
eSAxNiwgMjAwMyAxOjA2IFBNDQpUbzogRXJpYyBJc2Frc29uDQpTdWJqZWN0OiBDSksgc3VwcG9y
dCBpbiBsdWNlbmUNCg0KDQoNCkhpIEVyaWMsDQoNCkkgcmVhZCB0aGUgZGVzY3JpcHRpb24gb2Yg
dGhlIGJ1ZyAoIzE4OTMzKSByZXBvcnRlZCBieSB5b3Ugb24gdGhlIGFwYWNoZSBzaXRlLiBJIGhh
ZCBhIHF1ZXN0aW9uIHJlbGF0ZWQgdG8gdGhpcyBkZWZlY3QuIEluIHRoZSBkZXNjcmlwdGlvbiB5
b3UgaGF2ZSBtZW50aW9uZWQgdGhhdCBDSksgc3VwcG9ydCBzaG91bGQgYmUgaW5jbHVkZWQgaW4g
dGhlIGNvcmUgYnVpbGQuIElzIHRoZXJlIGFueSBvdGhlciB3YXkgd2UgY2FuIGVuYWJsZSB0aGUg
Q0pLIHN1cHBvcnQgaW4gdGhlIGx1Y2VuZSBzZWFyY2ggZW5naW5lPyBXb3VsZCBiZSBncmF0ZWZ1
bCB0byB5b3UgaWYgeW91IGNvdWxkIGxldCBtZSBrbm93IG9mIGFueSBzdWNoIG1ldGhvZCBvZiBl
bmFibGluZyBDSksgc3VwcG9ydCBpbiB0aGUgc2VyYWNoIGVuZ2luZS4NCg0KRWFnZXJseSB3YWl0
aW5nIGZvciB5b3VyIHJlcGx5Lg0KDQpUaGFua3MgJiBSZWdhcmRzLA0KQXZuaXNoIE1pZGhhDQpQ
aG9uZSBuby46ICsxLTk0OS04ODUyNTQwDQoNCg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJz
Y3JpYmUsIGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3Jn
DQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2Fy
dGEuYXBhY2hlLm9yZw0KDQo=


From MAILER-DAEMON Fri Jul 18 04:18:54 2003
Return-Path: 
 <lucene-user-return-5034-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29225 invoked from network); 18 Jul 2003 04:18:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 04:18:54 -0000
Received: (qmail 10022 invoked by uid 97); 18 Jul 2003 04:21:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10015 invoked from network); 18 Jul 2003 04:21:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 04:21:34 -0000
Received: (qmail 27008 invoked by uid 500); 18 Jul 2003 04:18:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26928 invoked from network); 18 Jul 2003 04:18:31 -0000
Received: from mail.etouch.net (HELO etouch.net) (65.213.51.51)
  by daedalus.apache.org with SMTP; 18 Jul 2003 04:18:31 -0000
Received: from [192.168.0.75] (HELO gourav)
  by etouch.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 4110531 for lucene-user@jakarta.apache.org;
 Thu, 17 Jul 2003 21:26:42 -0700
Message-ID: <003001c34ce3$3fe204d0$4b00a8c0@etouch.net>
From: "Gourav Raj Budhia" <gbudhia@etouch.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: multiple words indexing
Date: Thu, 17 Jul 2003 21:15:40 -0700
Organization: eTouch Systems Corp.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.3018.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.3018.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is there any way in Lucene so that I can index multiple words as a single
term.

For example : "Jakarta Lucene" appears together in my document and I want it
to be indexed as a single term "Jakarta Lucene"  and not as two sperate
terms as "Jakarta" and "Lucene".

Thanks,
Gourav



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 05:25:19 2003
Return-Path: 
 <lucene-user-return-5035-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1161 invoked from network); 18 Jul 2003 05:25:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 05:25:19 -0000
Received: (qmail 10808 invoked by uid 97); 18 Jul 2003 05:27:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10801 invoked from network); 18 Jul 2003 05:27:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 05:27:59 -0000
Received: (qmail 851 invoked by uid 500); 18 Jul 2003 05:25:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 838 invoked from network); 18 Jul 2003 05:25:15 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 18 Jul 2003 05:25:15 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id
 h6I5PPCK018744
	for <lucene-user@jakarta.apache.org>; Thu, 17 Jul 2003 22:25:26 -0700
Received: from ki (12-207-211-188.client.attbi.com [12.207.211.188])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id
 h6I5PO49027690
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Thu, 17 Jul 2003 22:25:25 -0700
Reply-To: <ahki@u.washington.edu>
From: "Chong-Ki Tsang" <ahki@u.washington.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene's scoring algorithm
Date: Thu, 17 Jul 2003 22:25:06 -0700
Organization: University of Washington
Message-ID: <000001c34cec$f3b4a180$0500a8c0@ki>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C34CB2.4755C980"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C34CB2.4755C980
Content-Type: text/plain;
	charset="iso-8859-7"
Content-Transfer-Encoding: quoted-printable

I am curious to know if the Lucene's scoring algorithm was updated in
the latest 1.3 version.

I find the following scoring algorithm in the Similarity class of JAVA
API documents. This method is different from the one shown in official
FAQ. Could you tell me which one is being used in 1.3? If the algorithm
was updated, please send me the formula. I will appreciate that.

=20

Thanks,

Chong-Ki

=20

The score of query q for document d is defined in terms of these methods
as follows:=20


score(q,d) =3D

=D3

=20
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simi
larity.html#tf(int)> tf(t in d) *
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simi
larity.html#idf(org.apache.lucene.index.Term,
org.apache.lucene.search.Searcher)> idf(t) *
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Fi
eld.html#getBoost()> getBoost(t.field in d) *
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simi
larity.html#lengthNorm(java.lang.String, int)> lengthNorm(t.field in d)=20

 *
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simi
larity.html#coord(int, int)> coord(q,d) *
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simi
larity.html#queryNorm(float)> queryNorm(q)=20


t in q=20

=20

=20

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Simil
arity.html

=20

=20

For the official FAQ, Lucene's scoring algorithm is shown as,

=20

31. How does Lucene assigns scores to hits ?

Here is a quote from Doug himself (posted on July 2001 to the Lucene
users mailing list):=20

=20

For the record, Lucene's scoring algorithm is, roughly:

=20

  score_d =3D sum_t( tf_q * idf_t / norm_q * tf_d * idf_t / norm_d_t)

=20

where:

  score_d   : score for document d

  sum_t     : sum for all terms t

  tf_q      : the square root of the frequency of t in the query

  tf_d      : the square root of the frequency of t in d

  idf_t     : log(numDocs/docFreq_t+1) + 1.0

  numDocs   : number of documents in index

  docFreq_t : number of documents containing t

  norm_q    : sqrt(sum_t((tf_q*idf_t)^2))

  norm_d_t  : square root of number of tokens in d in the same field as
t

=20

(I hope that's right!)

=20

[Doug later added...]

=20

Make that:

 =20

  score_d =3D sum_t(tf_q * idf_t / norm_q * tf_d * idf_t / norm_d_t *
boost_t) * coord_q_d

=20

where

=20

  boost_t    : the user-specified boost for term t

  coord_q_d  : number of terms in both query and document / number of
terms in query

=20

The coordination factor gives an AND-like boost to documents that
contain,

e.g., all three terms in a three word query over those that contain just
two

of the words.

=20

http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=3Dchapter.s=
e
arch
<http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=3Dchapter.=
s
earch&toc=3Dfaq#q31> &toc=3Dfaq#q31

=20


------=_NextPart_000_0001_01C34CB2.4755C980--


From MAILER-DAEMON Fri Jul 18 15:05:36 2003
Return-Path: 
 <lucene-user-return-5036-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21758 invoked from network); 18 Jul 2003 15:05:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 15:05:36 -0000
Received: (qmail 27165 invoked by uid 97); 18 Jul 2003 15:08:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27158 invoked from network); 18 Jul 2003 15:08:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 15:08:08 -0000
Received: (qmail 20592 invoked by uid 500); 18 Jul 2003 15:05:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20535 invoked from network); 18 Jul 2003 15:05:21 -0000
Received: from unknown (HELO host.terabytehost.com) (64.191.4.197)
  by daedalus.apache.org with SMTP; 18 Jul 2003 15:05:21 -0000
Received: from cfusion.dsl.telerama.com ([205.201.8.169] helo=[192.168.1.17])
	by host.terabytehost.com with esmtp (Exim 4.20)
	id 19dWnO-00072d-Re
	for lucene-user@jakarta.apache.org; Fri, 18 Jul 2003 09:04:57 -0600
Subject: Deleting a Document
From: brian <groups@anklebiter.net>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: 
Message-Id: <1058541288.8508.116.camel@wolfgang.collaborativefusion.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 18 Jul 2003 11:14:48 -0400
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - host.terabytehost.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - anklebiter.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi

I'm using Lucene to index data from a database for more efficient
searches.  When a user updates data from within the application, I have
to (obviously) update the Document that is associated with that user in
the index.  According to posts I've seen, this involves deleting the
existing Document in the index, and adding the updated Document.  Here's
my catch --

I'd like to retrieve the current field values from the existing
Document, as they contain information that the user hasn't updated
(basically, data from other DB tables).  My question is this --  if I
retrieve the existing Document via Term and TermDocs, when I call
IndexWriter.delete(docID), does that simply remove the reference to the
Document in the index, or will it actually delete the Document object
that I retrieved?

TIA
b



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 17:35:46 2003
Return-Path: 
 <lucene-user-return-5037-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27536 invoked from network); 18 Jul 2003 17:35:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 17:35:46 -0000
Received: (qmail 1722 invoked by uid 97); 18 Jul 2003 17:38:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1715 invoked from network); 18 Jul 2003 17:38:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 17:38:20 -0000
Received: (qmail 27200 invoked by uid 500); 18 Jul 2003 17:35:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27189 invoked from network); 18 Jul 2003 17:35:43 -0000
Received: from coral.tci.com (HELO dapsang.tci.com) (198.178.8.81)
  by daedalus.apache.org with SMTP; 18 Jul 2003 17:35:43 -0000
Received: from entexchimc04.broadband.att.com (localhost [127.0.0.1])
	by dapsang.tci.com (8.12.9/8.12.9) with ESMTP id h6IHZi04025798;
	Fri, 18 Jul 2003 11:35:45 -0600 (MDT)
Received: by entexchimc04.broadband.att.com with Internet Mail Service
 (5.5.2653.19)
	id <304TZWS1>; Fri, 18 Jul 2003 11:35:44 -0600
Message-ID: <41669DC6FE3B80449A33A4DD46DB370A0224F216@Entcoexch15>
From: "Raible, Matt" <Matt_Raible@cable.comcast.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Cc: "'roller-development@lists.sourceforge.net'"
	 <roller-development@lists.sourceforge.net>
Subject: access denied to indexDir/segments
Date: Fri, 18 Jul 2003 11:35:43 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm trying to implement Lucene in Roller (www.rollerweblogger.org) and I'm
running into a few hurdles.  First, the architecture.

I'm planning on having different index directories for each user, in the
format indexDir/username.  This will allow a single site to be indexed, or I
can loop through all the users and index them all. We're going to leave up
the "indexing" to the site admin, and there will be buttons (on a JSP) that
allow indexing of individual sites, or all sites.  Does this sound
reasonable?  

Mainly, we don't want users to index their own sites for performance
reasons.  So if someone attempts to search a user's site, and no index
exists, we'd like to display a message saying "this site hasn't been
indexed".  However, I'm having issues with this:

	// throw an error if no index exists
	if (!IndexReader.indexExists(mIndexDir)) {
		throw new IndexNotCreatedException("No index directory
exists at: " 
			  					+
mIndexDir);
	}

Is this the proper way to test for an index, or should I just use:

File dirPath = new File(indexDir);
if (!dirPath.exists()) {
		throw new IndexNotCreatedException("No index directory
exists at: " 
			  					+
mIndexDir);
}

Also, when create an index, do I need to create the directory
index/username, or will "new IndexWriter(indexPath, null, true)" do this for
me?

Thanks,

Matt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 18:06:23 2003
Return-Path: 
 <lucene-user-return-5038-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83132 invoked from network); 18 Jul 2003 18:06:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 18:06:23 -0000
Received: (qmail 3838 invoked by uid 97); 18 Jul 2003 18:08:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3831 invoked from network); 18 Jul 2003 18:08:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 18:08:56 -0000
Received: (qmail 82844 invoked by uid 500); 18 Jul 2003 18:06:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82820 invoked from network); 18 Jul 2003 18:06:18 -0000
Received: from mail3.atl.registeredsite.com (64.224.219.77)
  by daedalus.apache.org with SMTP; 18 Jul 2003 18:06:18 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.15])
	by mail3.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6II6Jce032452
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Fri, 18 Jul 2003 14:06:21 -0400
Received: (qmail 51482 invoked by uid 89); 18 Jul 2003 18:07:58 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.33)
  by mail.hidpr.com with SMTP; 18 Jul 2003 18:07:58 -0000
Date: Fri, 18 Jul 2003 14:06:19 -0400
Subject: Re: access denied to indexDir/segments
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41669DC6FE3B80449A33A4DD46DB370A0224F216@Entcoexch15>
Message-Id: <880AA327-B94A-11D7-9E1F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, July 18, 2003, at 01:35  PM, Raible, Matt wrote:
> I'm planning on having different index directories for each user, in 
> the
> format indexDir/username.  This will allow a single site to be 
> indexed, or I
> can loop through all the users and index them all. We're going to 
> leave up
> the "indexing" to the site admin, and there will be buttons (on a JSP) 
> that
> allow indexing of individual sites, or all sites.  Does this sound
> reasonable?

Yup, seems fine.

> 	// throw an error if no index exists
> 	if (!IndexReader.indexExists(mIndexDir)) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> 	}

Well, the implementation is this:


   public static boolean indexExists(File directory) {
     return (new File(directory, "segments")).exists();
   }



> Is this the proper way to test for an index, or should I just use:
>
> File dirPath = new File(indexDir);
> if (!dirPath.exists()) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> }

Which is about the same as above.   I'd stick with the 
IndexReader.indexExists method just to let Lucene hide the details.

> Also, when create an index, do I need to create the directory
> index/username, or will "new IndexWriter(indexPath, null, true)" do 
> this for
> me?

It will create it for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 21:12:17 2003
Return-Path: 
 <lucene-user-return-5039-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36615 invoked from network); 18 Jul 2003 21:12:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:12:17 -0000
Received: (qmail 9773 invoked by uid 97); 18 Jul 2003 21:14:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9766 invoked from network); 18 Jul 2003 21:14:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 21:14:52 -0000
Received: (qmail 36278 invoked by uid 500); 18 Jul 2003 21:12:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36265 invoked from network); 18 Jul 2003 21:12:12 -0000
Received: from cobain.siteprotect.com (64.41.120.18)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:12:12 -0000
Received: from s2701 (wsip-68-15-62-138.ri.ri.cox.net [68.15.62.138])
	by cobain.siteprotect.com (8.11.6/8.11.6) with ESMTP id h6ILCIs11239
	for <lucene-user@jakarta.apache.org>; Fri, 18 Jul 2003 16:12:18 -0500
From: "Bill Chmura" <Bill@Explosivo.com>
To: <lucene-user@jakarta.apache.org>
Subject: Can I use Lucene to do something like this?
Date: Fri, 18 Jul 2003 17:12:13 -0400
Message-ID: <003d01c34d71$432d47b0$6400a8c0@s2701>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi all,

For self edification I am writing a system that will match my visitors
tastes with the web content available on my site.  I am thinking of
doing this by a standard category thing (games, food, etc) and by a
keyword match that should get stronger as the user clicks relevant, not
relevant on each page.  This is basically just something I want to do
for fun...

What I am hoping lucene will let me do is point it at a page and get
back the keyword list or something for it.  This will let me modify a
users stored pattern and then use it later to show some pages to them.
I would probably just use lucene to also search for a match to their
preferences also.

Can I do this?  Is there a better tool?  

Thanks in advance.

Bill







William B Chmura
Director of Internet Technology
Explosivo Internet Technology Group
http://www.Explosivo.com
Tel: (888) 560-YWEB



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 21:18:03 2003
Return-Path: 
 <lucene-user-return-5040-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45808 invoked from network); 18 Jul 2003 21:18:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:18:03 -0000
Received: (qmail 9931 invoked by uid 97); 18 Jul 2003 21:20:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9924 invoked from network); 18 Jul 2003 21:20:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 21:20:39 -0000
Received: (qmail 45512 invoked by uid 500); 18 Jul 2003 21:18:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45499 invoked from network); 18 Jul 2003 21:18:00 -0000
Received: from coral.tci.com (HELO dapsang.tci.com) (198.178.8.81)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:18:00 -0000
Received: from entexchimc04.broadband.att.com (localhost [127.0.0.1])
	by dapsang.tci.com (8.12.9/8.12.9) with ESMTP id h6ILI104005918
	for <lucene-user@jakarta.apache.org>; Fri, 18 Jul 2003 15:18:02 -0600 (MDT)
Received: by entexchimc04.broadband.att.com with Internet Mail Service
 (5.5.2653.19)
	id <304T5AZ1>; Fri, 18 Jul 2003 15:18:01 -0600
Message-ID: <41669DC6FE3B80449A33A4DD46DB370A0224F219@Entcoexch15>
From: "Raible, Matt" <Matt_Raible@cable.comcast.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: access denied to indexDir/segments
Date: Fri, 18 Jul 2003 15:17:59 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Erik.  Now I'm having issues creating the index directory.  Good ol'
Windows.  I even tried replacing "\" with "/" and/or "\\", but no luck:

DEBUG [Thread-9] [org.roller.presentation.RollerRequest]
RollerRequest.getIndexDirectory(995) | inde
x dir: C:/Documents and Settings/mattra/roller-index/adminUser
ERROR [Thread-9] [org.roller.presentation.weblog.search.SearchIndexer]
SearchIndexer.index(117) | Ca
nnot create directory: C:\Documents and
Settings\mattra\roller-index\adminUser
java.io.IOException: Cannot create directory: C:\Documents and
Settings\mattra\roller-index\adminUse
r
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:148)
        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:139)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:120)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:101)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:122)
        at
org.roller.presentation.weblog.search.SearchIndexer.createIndex(SearchIndexe
r.java:54)
        at
org.roller.presentation.weblog.search.SearchIndexer.index(SearchIndexer.java
:104)
        at
org.roller.presentation.weblog.actions.WeblogEntryFormAction.update(WeblogEn
tryFormAction

Any ideas?

DEBUG [Thread-9] [org.roller.presentation.RollerRequest]
RollerRequest.getIndexDirectory(996) | inde
x dir: C:\\Documents and Settings\\mattra\\roller-index\\adminUser
ERROR [Thread-9] [org.roller.presentation.weblog.search.SearchIndexer]
SearchIndexer.index(117) | Ca
nnot create directory: C:\Documents and
Settings\mattra\roller-index\adminUser
java.io.IOException: Cannot create directory: C:\Documents and
Settings\mattra\roller-index\adminUse
r

Thanks,

Matt

-----Original Message-----
From: Erik Hatcher [mailto:lists@ehatchersolutions.com]
Sent: Friday, July 18, 2003 12:06 PM
To: Lucene Users List
Subject: Re: access denied to indexDir/segments


On Friday, July 18, 2003, at 01:35  PM, Raible, Matt wrote:
> I'm planning on having different index directories for each user, in 
> the
> format indexDir/username.  This will allow a single site to be 
> indexed, or I
> can loop through all the users and index them all. We're going to 
> leave up
> the "indexing" to the site admin, and there will be buttons (on a JSP) 
> that
> allow indexing of individual sites, or all sites.  Does this sound
> reasonable?

Yup, seems fine.

> 	// throw an error if no index exists
> 	if (!IndexReader.indexExists(mIndexDir)) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> 	}

Well, the implementation is this:


   public static boolean indexExists(File directory) {
     return (new File(directory, "segments")).exists();
   }



> Is this the proper way to test for an index, or should I just use:
>
> File dirPath = new File(indexDir);
> if (!dirPath.exists()) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> }

Which is about the same as above.   I'd stick with the 
IndexReader.indexExists method just to let Lucene hide the details.

> Also, when create an index, do I need to create the directory
> index/username, or will "new IndexWriter(indexPath, null, true)" do 
> this for
> me?

It will create it for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 21:24:22 2003
Return-Path: 
 <lucene-user-return-5041-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53671 invoked from network); 18 Jul 2003 21:24:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:24:22 -0000
Received: (qmail 10040 invoked by uid 97); 18 Jul 2003 21:26:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10033 invoked from network); 18 Jul 2003 21:26:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 21:26:57 -0000
Received: (qmail 52030 invoked by uid 500); 18 Jul 2003 21:24:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51978 invoked from network); 18 Jul 2003 21:24:00 -0000
Received: from coral.tci.com (HELO dapsang.tci.com) (198.178.8.81)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:24:00 -0000
Received: from entexchimc01.broadband.att.com (localhost [127.0.0.1])
	by dapsang.tci.com (8.12.9/8.12.9) with ESMTP id h6ILNu05006978
	for <lucene-user@jakarta.apache.org>; Fri, 18 Jul 2003 15:24:04 -0600 (MDT)
Received: by entexchimc01.broadband.att.com with Internet Mail Service
 (5.5.2653.19)
	id <304FBVT7>; Fri, 18 Jul 2003 15:23:56 -0600
Message-ID: <41669DC6FE3B80449A33A4DD46DB370A0224F21A@Entcoexch15>
From: "Raible, Matt" <Matt_Raible@cable.comcast.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: access denied to indexDir/segments
Date: Fri, 18 Jul 2003 15:23:53 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Nevermind, it was because I didn't have the parent index dir (roller-index)
created.

Thanks,

Matt

-----Original Message-----
From: Raible, Matt 
Sent: Friday, July 18, 2003 3:18 PM
To: 'Lucene Users List'
Subject: RE: access denied to indexDir/segments


Thanks Erik.  Now I'm having issues creating the index directory.  Good ol'
Windows.  I even tried replacing "\" with "/" and/or "\\", but no luck:

DEBUG [Thread-9] [org.roller.presentation.RollerRequest]
RollerRequest.getIndexDirectory(995) | inde
x dir: C:/Documents and Settings/mattra/roller-index/adminUser
ERROR [Thread-9] [org.roller.presentation.weblog.search.SearchIndexer]
SearchIndexer.index(117) | Ca
nnot create directory: C:\Documents and
Settings\mattra\roller-index\adminUser
java.io.IOException: Cannot create directory: C:\Documents and
Settings\mattra\roller-index\adminUse
r
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:148)
        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:139)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:120)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:101)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:122)
        at
org.roller.presentation.weblog.search.SearchIndexer.createIndex(SearchIndexe
r.java:54)
        at
org.roller.presentation.weblog.search.SearchIndexer.index(SearchIndexer.java
:104)
        at
org.roller.presentation.weblog.actions.WeblogEntryFormAction.update(WeblogEn
tryFormAction

Any ideas?

DEBUG [Thread-9] [org.roller.presentation.RollerRequest]
RollerRequest.getIndexDirectory(996) | inde
x dir: C:\\Documents and Settings\\mattra\\roller-index\\adminUser
ERROR [Thread-9] [org.roller.presentation.weblog.search.SearchIndexer]
SearchIndexer.index(117) | Ca
nnot create directory: C:\Documents and
Settings\mattra\roller-index\adminUser
java.io.IOException: Cannot create directory: C:\Documents and
Settings\mattra\roller-index\adminUse
r

Thanks,

Matt

-----Original Message-----
From: Erik Hatcher [mailto:lists@ehatchersolutions.com]
Sent: Friday, July 18, 2003 12:06 PM
To: Lucene Users List
Subject: Re: access denied to indexDir/segments


On Friday, July 18, 2003, at 01:35  PM, Raible, Matt wrote:
> I'm planning on having different index directories for each user, in 
> the
> format indexDir/username.  This will allow a single site to be 
> indexed, or I
> can loop through all the users and index them all. We're going to 
> leave up
> the "indexing" to the site admin, and there will be buttons (on a JSP) 
> that
> allow indexing of individual sites, or all sites.  Does this sound
> reasonable?

Yup, seems fine.

> 	// throw an error if no index exists
> 	if (!IndexReader.indexExists(mIndexDir)) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> 	}

Well, the implementation is this:


   public static boolean indexExists(File directory) {
     return (new File(directory, "segments")).exists();
   }



> Is this the proper way to test for an index, or should I just use:
>
> File dirPath = new File(indexDir);
> if (!dirPath.exists()) {
> 		throw new IndexNotCreatedException("No index directory
> exists at: "
> 			  					+
> mIndexDir);
> }

Which is about the same as above.   I'd stick with the 
IndexReader.indexExists method just to let Lucene hide the details.

> Also, when create an index, do I need to create the directory
> index/username, or will "new IndexWriter(indexPath, null, true)" do 
> this for
> me?

It will create it for you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Jul 18 21:31:20 2003
Return-Path: 
 <lucene-user-return-5042-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66663 invoked from network); 18 Jul 2003 21:31:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:31:20 -0000
Received: (qmail 10194 invoked by uid 97); 18 Jul 2003 21:33:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10187 invoked from network); 18 Jul 2003 21:33:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Jul 2003 21:33:56 -0000
Received: (qmail 66170 invoked by uid 500); 18 Jul 2003 21:31:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66116 invoked from network); 18 Jul 2003 21:31:12 -0000
Received: from cosmos.phpwebhosting.com (66.33.60.222)
  by daedalus.apache.org with SMTP; 18 Jul 2003 21:31:12 -0000
Received: (qmail 2881 invoked from network); 18 Jul 2003 21:31:09 -0000
Received: from unknown (HELO charliebrown) (64.123.5.200)
  by cosmos.phpwebhosting.com with SMTP; 18 Jul 2003 21:31:09 -0000
Message-ID: <039201c34d74$1b82fc20$6801a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Builder.com article on Lucene
Date: Fri, 18 Jul 2003 16:32:36 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I wrote a short introductory article about Lucene on Builder.com (CNET), at
http://builder.com.com/article.jhtml?id=u00320030718jlin01.htm

It's pretty basic, and it's meant for readers who aren't aware of Lucene or
what it can do.

Thanks,
Jeff



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul 20 10:31:38 2003
Return-Path: 
 <lucene-user-return-5043-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88318 invoked from network); 20 Jul 2003 10:31:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jul 2003 10:31:38 -0000
Received: (qmail 8745 invoked by uid 97); 20 Jul 2003 10:34:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8738 invoked from network); 20 Jul 2003 10:34:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 Jul 2003 10:34:07 -0000
Received: (qmail 88020 invoked by uid 500); 20 Jul 2003 10:31:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88008 invoked from network); 20 Jul 2003 10:31:35 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 20 Jul 2003 10:31:35 -0000
Message-ID: <20030720103135.83092.qmail@web12705.mail.yahoo.com>
Received: from [195.29.50.7] by web12705.mail.yahoo.com via HTTP;
 Sun, 20 Jul 2003 03:31:35 PDT
Date: Sun, 20 Jul 2003 03:31:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: CD-ROMs
To: lucene-user@jakarta.apache.org
Cc: Constantinos Velentzas <Constantinos.Velentzas@eurodyn.com>
In-Reply-To: <3F194966.8A92A2B3@eurodyn.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Moved to lucene-user list.

Yes, you should be able to use Lucene on a CD-ROM.  I believe all
issues with lock files, which were previously causing problems with
Lucene on CD-ROM, are now history.

Otis

--- Constantinos Velentzas <Constantinos.Velentzas@eurodyn.com> wrote:
> We would like to produce a possibly multi-volume CD-ROM
> database containing HTML documents and a few (less than
> 10) tables.
> Searches will be run against the tables and the HTML
> documents.
> The index will be in the CD-ROM.
> 
> Can Lucene be used for this purpose?
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul 20 22:29:21 2003
Return-Path: 
 <lucene-user-return-5044-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17248 invoked from network); 20 Jul 2003 22:29:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jul 2003 22:29:21 -0000
Received: (qmail 1136 invoked by uid 97); 20 Jul 2003 22:31:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1129 invoked from network); 20 Jul 2003 22:31:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 Jul 2003 22:31:58 -0000
Received: (qmail 16956 invoked by uid 500); 20 Jul 2003 22:29:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16944 invoked from network); 20 Jul 2003 22:29:19 -0000
Received: from smtp-3b.paradise.net.nz (HELO smtp-3.paradise.net.nz)
 (202.0.32.212)
  by daedalus.apache.org with SMTP; 20 Jul 2003 22:29:19 -0000
Received: from voyager (203-79-83-4.cable.paradise.net.nz [203.79.83.4])
	by smtp-3.paradise.net.nz (Postfix) with ESMTP id D9CF4AE481
	for <lucene-user@jakarta.apache.org>; Mon, 21 Jul 2003 10:29:25 +1200 (NZST)
Date: Mon, 21 Jul 2003 10:29:21 +1200
To: lucene-user@jakarta.apache.org
Subject: Lucene MBean service for JBoss
Content-Type: text/plain; charset=iso-8859-15; format=flowed
From: Andy Scholz <andy.scholz@exodelta.com>
Organization: exodelta
MIME-Version: 1.0
Message-ID: <oprsmre7hh7u9gqe@smtp.paradise.net.nz>
User-Agent: Opera7.11/Win32 M2 build 2887
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

For those that may be interested, I have written a full text indexing 
service for the JBoss application server that uses Lucene as its engine. It 
allows lucene to be used as a service rather than a standalone app with 
thread pooling, access synchronization, management etc. Index and search 
interfaces are accessable via JNDI and remotely via session EJB's.

Additionally I have provided content filters for common formats like HTML, 
MSWord, MSExcel, xml etc (with some help from other projects). A simple 
interface also allows you to write your own filters for different formats.

It is available under an LGPL license and source code, binaries and info 
are avaialble here:
http://ejindex.sourceforge.net

I'd love to get some feedback, so if your iterested, please let me know 
your comments or suggestions;)

regards,
Andy Scholz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 17:45:31 2003
Return-Path: 
 <lucene-user-return-5045-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48993 invoked from network); 21 Jul 2003 17:45:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 17:45:31 -0000
Received: (qmail 25593 invoked by uid 97); 21 Jul 2003 17:48:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25586 invoked from network); 21 Jul 2003 17:48:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 17:48:05 -0000
Received: (qmail 48439 invoked by uid 500); 21 Jul 2003 17:45:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48378 invoked from network); 21 Jul 2003 17:45:25 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 21 Jul 2003 17:45:25 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-2.2.6/Switch-2.2.4) with ESMTP id h6LHij920792
	for <lucene-user@jakarta.apache.org>; Mon, 21 Jul 2003 10:44:45 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Mon, 21 Jul 2003 10:45:27 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Jul 2003 10:45:15 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Advice on updating an index?
Date: Mon, 21 Jul 2003 10:45:14 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7A7D@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Advice on updating an index?
Thread-Index: AcNITas171eG3QSjTbCDA5GzBYOteQHYeQiA
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Ype Kingma" <ykingma@xs4all.nl>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 21 Jul 2003 17:45:15.0414 (UTC)
 FILETIME=[D7C13360:01C34FAF]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Ype.  What do you mean by multiple documents?  Do you mean
multiple indexes?

Or do you mean, delete several documents from the index and then add the
new copies of them.  And then get the next batch of new documents.

-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]=20
Sent: Saturday, July 12, 2003 10:19 AM
To: Lucene Users List; Wilton, Reece
Subject: Re: Advice on updating an index?


Reece,

On Friday 11 July 2003 16:05, Wilton, Reece wrote:
> Hi,
>
> I'm having a bit of trouble figuring out the logic for deleting=20
> documents from an index.  Any advice is appreciated!

<snip 75% of the experiments>

> 4) I created an index with an IndexWriter and then optimized it and=20
> closed it. For each document:
> - I create a new IndexReader, delete the document and close the
> IndexReader
> - I create a new IndexWriter, add the document and close the
IndexWriter
> At the end I open the index with an IndexWriter and then optimize it
and
> close it.
>
> This works!  But it is pretty slow (compared to the other three=20
> tests). Is this the best way of doing this?

AFAIK, yes.
You can speed this up by using multiple documents, ie. use
a document set.
Also, you don't need to close the index writer before optimizing.

One variation: you might leave the IndexReader open in case you need it
for searching, but I wouldn't recommend that under Windows because there
an open file cannot be deleted from a directory. Lucene deletes such
files during later optimizations.

Kind regards,
Ype

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 19:15:52 2003
Return-Path: 
 <lucene-user-return-5046-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61095 invoked from network); 21 Jul 2003 19:15:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:15:52 -0000
Received: (qmail 28862 invoked by uid 97); 21 Jul 2003 19:18:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28855 invoked from network); 21 Jul 2003 19:18:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 19:18:26 -0000
Received: (qmail 60835 invoked by uid 500); 21 Jul 2003 19:15:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60804 invoked from network); 21 Jul 2003 19:15:47 -0000
Received: from mailhub.ucd.ie (HELO Mentat.ucd.ie) (137.43.1.47)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:15:47 -0000
Received: from CONVERSION-DAEMON.Mentat.ucd.ie by Mentat.ucd.ie
 (PMDF V6.2 #30693) id <0HIE0AV012UEWH@Mentat.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 21 Jul 2003 20:15:51 +0100 (IST)
Received: from mojo (mojo.ucd.ie [137.43.5.89])
 by Mentat.ucd.ie (PMDF V6.2 #30693)
 with SMTP id <0HIE0AC6T2UEY4@Mentat.ucd.ie> for
 lucene-user@jakarta.apache.org; Mon, 21 Jul 2003 20:15:50 +0100 (IST)
Date: Mon, 21 Jul 2003 20:18:04 +0100
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: problems extracting documents using Terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <00ae01c34fbc$cf4c35b0$59052b89@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <187D6D956106D84E9D8B280F6458FE14018D9B54@merc12.na.sas.com>
 <BAY9-DAV26hExKWK2of000035bd@hotmail.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi all,

i'm trying to extract a document number from my lucene index using (where
read is an IndexReader)
TermDocs td = read.termDocs(new Term("url", someurl));

This call never returns any results, despite the fact that i definitely know
that a document with the url field equal to someurl exists in the index
(because i know the document in the index's document number and the code:

Document d=read.document(docnum);
System.out.println(d.get("url"));

outputs the String someurl).

i don't know what's going on, hopefully i've included enough information for
someone to spot what's up.

thanks very much,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 20:04:30 2003
Return-Path: 
 <lucene-user-return-5049-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84632 invoked from network); 21 Jul 2003 20:04:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 20:04:30 -0000
Received: (qmail 275 invoked by uid 97); 21 Jul 2003 20:07:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 268 invoked from network); 21 Jul 2003 20:07:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 20:07:05 -0000
Received: (qmail 84095 invoked by uid 500); 21 Jul 2003 20:04:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84041 invoked from network); 21 Jul 2003 20:04:22 -0000
Received: from merc64.na.sas.com (149.173.6.59)
  by daedalus.apache.org with SMTP; 21 Jul 2003 20:04:22 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.14 with InterScan
 Messaging Security Suite; Mon, 21 Jul 2003 16:04:26 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: JavaCC v3 and Lucene
Date: Mon, 21 Jul 2003 16:04:26 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE1402F3DBA4@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: JavaCC v3 and Lucene
Thread-Index: AcNPwc9zNjltXJfoSAigErayKKLi3wAAIZZQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<lily@umiacs.umd.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

if you go to the bug and right click and "Save Target As..." (in IE, not =
sure what the Netscape equivalent is) on the link for the attachment:

 06/14/03 01:23 javacc3-ant-support.jar to be added to /lib   =
(application/octet-stream)=20

then save it as javacc3-ant-support.jar into your Lucene /lib directory.

Then save this other attachment (it is a patch file).

 06/14/03 02:39 Complete Patch including refactoring the javacc tasks =
out of the compile target   (text/plain)=20

then apply this patch. Not sure what tools you can use to do that, I use =
the Team support in Eclipse www.eclipse.org (Team->Apply Patch).

I noticed a day or two ago that the build.xml diff is a little bit out =
of synch with current CVS, so you may need to look at that some. I =
started fixing up a new patch but haven't gotten enough free time to fix =
it yet.

Eric

-----Original Message-----
From: Liliya Kharevych [mailto:lily@umiacs.umd.edu]=20
Sent: Monday, July 21, 2003 6:56 PM
To: lucene-user@jakarta.apache.org
Subject: RE: JavaCC v3 and Lucene



Hi,

I was trying to build Lucene with JavaCC 3.0 and completly got lost.

Sorry about the dummy question, but where can I download the patch?

I tried the bug URL, and was able to download JavaCC_3.java, but the =
last attachment is this big text file and I cannot figure out what to do =
with it.

As I understand build.xml should be changed and javacc3-ant-support.jar =
should be somewhere but I cannot find it.

Thanks,
lily


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 19:56:17 2003
Return-Path: 
 <lucene-user-return-5048-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69022 invoked from network); 21 Jul 2003 19:56:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:56:17 -0000
Received: (qmail 90 invoked by uid 97); 21 Jul 2003 19:58:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 83 invoked from network); 21 Jul 2003 19:58:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 19:58:52 -0000
Received: (qmail 68758 invoked by uid 500); 21 Jul 2003 19:56:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68746 invoked from network); 21 Jul 2003 19:56:14 -0000
Received: from unknown (HELO host.terabytehost.com) (64.191.4.197)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:56:14 -0000
Received: from cfusion.dsl.telerama.com ([205.201.8.169] helo=[192.168.1.17])
	by host.terabytehost.com with esmtp (Exim 4.20)
	id 19eglb-0003Iq-Do; Mon, 21 Jul 2003 13:55:53 -0600
Subject: RE: JavaCC v3 and Lucene
From: brian <groups@anklebiter.net>
To: lily@umiacs.umd.edu
Cc: lucene-user@jakarta.apache.org
In-Reply-To: <000001c34fdb$b8379b70$a87a0880@lamppc1>
References: <000001c34fdb$b8379b70$a87a0880@lamppc1>
Content-Type: text/plain
Organization: 
Message-Id: <1058817995.1270.236.camel@wolfgang.collaborativefusion.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 21 Jul 2003 16:06:35 -0400
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - host.terabytehost.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - anklebiter.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Would you rather just build with JavaCC 2.0 (or 2.1)?  I can send you
the older version.  

I tried to build Lucene with 3.0, and just gave up and posted to the
JavaCC developer list and begged someone to give me version 2.0.

b

On Mon, 2003-07-21 at 18:56, Liliya Kharevych wrote:
> Hi,
> 
> I was trying to build Lucene with JavaCC 3.0 and completly got lost.
> 
> Sorry about the dummy question, but where can I download the patch?
> 
> I tried the bug URL, and was able to download JavaCC_3.java, but the last
> attachment is this big text file
> and I cannot figure out what to do with it.
> 
> As I understand build.xml should be changed and javacc3-ant-support.jar
> should be somewhere but I cannot find it.
> 
> Thanks,
> lily
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 20:56:30 2003
Return-Path: 
 <lucene-user-return-5050-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4436 invoked from network); 21 Jul 2003 20:56:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 20:56:30 -0000
Received: (qmail 1902 invoked by uid 97); 21 Jul 2003 20:59:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1895 invoked from network); 21 Jul 2003 20:59:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 20:59:05 -0000
Received: (qmail 4063 invoked by uid 500); 21 Jul 2003 20:56:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4050 invoked from network); 21 Jul 2003 20:56:25 -0000
Received: from unknown (HELO www.heinsohn.com.co) (64.76.48.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 20:56:25 -0000
Received: from SMTP agent by mail gateway
 Mon, 21 Jul 2003 15:49:02 -0500
Received: from wrkstn227.heinsohn.com.co ([197.0.0.227] helo=oherrera)
	by www.heinsohn.com.co with smtp (Exim 3.35 #1 (Debian))
	id 19ehVf-0005EU-00
	for <lucene-user@jakarta.apache.org>; Mon, 21 Jul 2003 15:43:51 -0500
Message-ID: <001501c34fca$f41d60e0$e30000c5@oherrera>
From: "Oscar Herrera" <oherrera@heinsohn.com.co>
To: <lucene-user@jakarta.apache.org>
Subject: Spanish analyzer and Indexing StarOffice docs
Date: Mon, 21 Jul 2003 15:59:18 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0012_01C34FA1.0AAEC260"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C34FA1.0AAEC260
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi. I'd like to know if some of you could help me finding a spanish =
analyzer (free if possible). I'd also like to know how can I index a =
file made on StarOffice 5.x (.sdw and .sdx files), I've been looking on =
google for them but I have not found anything about this,=20

Thank you in advance for your collaboration,

Oscar Herrera
Bogot=E1, Colombia, SA.

------=_NextPart_000_0012_01C34FA1.0AAEC260--


From MAILER-DAEMON Mon Jul 21 22:31:30 2003
Return-Path: 
 <lucene-user-return-5051-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74743 invoked from network); 21 Jul 2003 22:31:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 22:31:30 -0000
Received: (qmail 4573 invoked by uid 97); 21 Jul 2003 22:34:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4566 invoked from network); 21 Jul 2003 22:34:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 22:34:07 -0000
Received: (qmail 74416 invoked by uid 500); 21 Jul 2003 22:31:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74401 invoked from network); 21 Jul 2003 22:31:27 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 21 Jul 2003 22:31:27 -0000
Received: from dstc.edu.au (m081-062.nv.iinet.net.au [203.217.81.62])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6LMVKwe016485
	for <lucene-user@jakarta.apache.org>; Tue, 22 Jul 2003 00:31:24 +0200 (MEST)
Message-ID: <3F1C69D5.5010506@dstc.edu.au>
Date: Tue, 22 Jul 2003 08:31:49 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Spanish analyzer and Indexing StarOffice docs
References: <001501c34fca$f41d60e0$e30000c5@oherrera>
In-Reply-To: <001501c34fca$f41d60e0$e30000c5@oherrera>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Oscar,

we have been looking into the StarOffice/OpenOffice problem, although we 
haven't done it and probably won't anytime soon as we have to move on to 
other things. I see two approaches, both with variants:

(1) use the fact that it is just zipped XML: use a ZipInputStream to 
open the files and parse the XML contents. You can use the standard 
approaches for parsing XML or you can tweak it. It might be worthwhile 
to look only at the contents part for the body indexing and try to be 
smart about the metadata information while ignoring the layout bits. 
Should be relatively easy since all these parts are in separate files.

(2) use the UDK (http://udk.openoffice.org/). Drawbacks: even though it 
seems documented its sheer size will make it a bit hard to get into. You 
will also have to deploy a large library which is not pure Java. 
Advantages: you will not only get the SO/OOo documents as good as the 
programs parse them themself, but also everything they can import. And 
that will be way better than anything we could get so far for Word 
documents. A UDK-based document parser would most likely be the killer 
for enterprise document indexing -- you wouldn't need much more if 
anything at all.

We might actually still go for (1) since that is really easy, but we 
don't have the time for (2). Although we'd love to have it, so if you go 
for it tell us :-)

HTH,
   Peter




Oscar Herrera wrote:

>Hi. I'd like to know if some of you could help me finding a spanish analyzer (free if possible). I'd also like to know how can I index a file made on StarOffice 5.x (.sdw and .sdx files), I've been looking on google for them but I have not found anything about this, 
>
>Thank you in advance for your collaboration,
>
>Oscar Herrera
>Bogot�, Colombia, SA.
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 21 19:53:44 2003
Return-Path: 
 <lucene-user-return-5047-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64626 invoked from network); 21 Jul 2003 19:53:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:53:44 -0000
Received: (qmail 33 invoked by uid 97); 21 Jul 2003 19:56:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26 invoked from network); 21 Jul 2003 19:56:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Jul 2003 19:56:19 -0000
Received: (qmail 64304 invoked by uid 500); 21 Jul 2003 19:53:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64279 invoked from network); 21 Jul 2003 19:53:40 -0000
Received: from reptoid.umiacs.umd.edu (128.8.120.94)
  by daedalus.apache.org with SMTP; 21 Jul 2003 19:53:40 -0000
Received: from lamppc1 (lamppc1.umiacs.umd.edu [128.8.122.168])
	by reptoid.umiacs.umd.edu (8.12.9/8.12.9) with SMTP id h6LJrhCA012198
	for <lucene-user@jakarta.apache.org>; Mon, 21 Jul 2003 15:53:43 -0400 (EDT)
Reply-To: <lily@umiacs.umd.edu>
From: "Liliya Kharevych" <lily@umiacs.umd.edu>
To: <lucene-user@jakarta.apache.org>
Subject: RE: JavaCC v3 and Lucene
Date: Mon, 21 Jul 2003 15:56:21 -0700
Message-ID: <000001c34fdb$b8379b70$a87a0880@lamppc1>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

I was trying to build Lucene with JavaCC 3.0 and completly got lost.

Sorry about the dummy question, but where can I download the patch?

I tried the bug URL, and was able to download JavaCC_3.java, but the last
attachment is this big text file
and I cannot figure out what to do with it.

As I understand build.xml should be changed and javacc3-ant-support.jar
should be somewhere but I cannot find it.

Thanks,
lily


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 02:16:07 2003
Return-Path: 
 <lucene-user-return-5052-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23443 invoked from network); 22 Jul 2003 02:16:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 02:16:07 -0000
Received: (qmail 8618 invoked by uid 97); 22 Jul 2003 02:18:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8607 invoked from network); 22 Jul 2003 02:18:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 02:18:45 -0000
Received: (qmail 23097 invoked by uid 500); 22 Jul 2003 02:16:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23081 invoked from network); 22 Jul 2003 02:16:03 -0000
Received: from smtp-3b.paradise.net.nz (HELO smtp-3.paradise.net.nz)
 (202.0.32.212)
  by daedalus.apache.org with SMTP; 22 Jul 2003 02:16:03 -0000
Received: from voyager (203-79-83-4.cable.paradise.net.nz [203.79.83.4])
	by smtp-3.paradise.net.nz (Postfix) with ESMTP id D345BAE772
	for <lucene-user@jakarta.apache.org>; Tue, 22 Jul 2003 14:16:12 +1200 (NZST)
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Spanish analyzer and Indexing StarOffice docs
References: <001501c34fca$f41d60e0$e30000c5@oherrera>
 <3F1C69D5.5010506@dstc.edu.au>
Message-ID: <oprsowk5m77u9gqe@smtp.paradise.net.nz>
Content-Type: text/plain; charset=iso-8859-15; format=flowed
From: Andy Scholz <andy.scholz@exodelta.com>
Organization: exodelta
MIME-Version: 1.0
Date: Tue, 22 Jul 2003 14:16:07 +1200
In-Reply-To: <3F1C69D5.5010506@dstc.edu.au>
User-Agent: Opera7.11/Win32 M2 build 2887
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We tried the udk approach late last year but it was an awfully clumsy 
soultion - requiring you actually run an OO app instance as a 'server'. It 
kind of worked but the show-stopper was that OO is so tied into the UI, 
whenever an error occured (i.e. file not found etc), a dialog box pops up 
and nothing else happens till it gets acknowledged. In fact, AFIK you have 
to have X windows (or some other gui) for it to even run at all (the 
giveaway being the splash screen that shows when you start OO via the sdk 
interface).

Apperently a new command line option was being added to suppress UI (but 
then how do get error messages?), but it was only in the cvs head (as of 
late last year) but we gave up on it becasue it was just too messey a 
solution for our server-side needs. If you want to use it as an app on a 
workstation though, it might work fine for you.

There also was(is) a project underway to provide a filter interface (called 
x-filter I think) that provides a set of import/export filters for OO that 
would be ideal to use for text indexing purposes, but I think it will be 
quite some time before that becomes available.

I havent looked at it in a while but - I'd stick to Peter's first 
suggestion - unzip it & read the XML.

cheers
-andy


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 09:35:30 2003
Return-Path: 
 <lucene-user-return-5053-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98583 invoked from network); 22 Jul 2003 09:35:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 09:35:30 -0000
Received: (qmail 16140 invoked by uid 97); 22 Jul 2003 09:38:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16133 invoked from network); 22 Jul 2003 09:38:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 09:38:13 -0000
Received: (qmail 98279 invoked by uid 500); 22 Jul 2003 09:35:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98261 invoked from network); 22 Jul 2003 09:35:26 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 22 Jul 2003 09:35:26 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id D7D51B7128
	for <lucene-user@jakarta.apache.org>; Tue, 22 Jul 2003 19:35:33 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Getting term match on Fuzzy queries.
Date: Tue, 22 Jul 2003 19:24:35 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307221924.35060@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

I managed to get the terms match from a query for other queries but not Fuzzy, 
does anyone know a quick and dirty way given a Fuzzy query, retrieve all the 
terms used for search?

Thanks,

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 12:31:16 2003
Return-Path: 
 <lucene-user-return-5056-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58262 invoked from network); 22 Jul 2003 12:31:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 12:31:16 -0000
Received: (qmail 24382 invoked by uid 97); 22 Jul 2003 12:33:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24375 invoked from network); 22 Jul 2003 12:33:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 12:33:49 -0000
Received: (qmail 57962 invoked by uid 500); 22 Jul 2003 12:31:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57947 invoked from network); 22 Jul 2003 12:31:12 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 22 Jul 2003 12:31:12 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h6M9qYBr021581
	for <lucene-user@jakarta.apache.org>; Tue, 22 Jul 2003 11:52:39 +0200
Message-ID: <000b01c35037$08f7d970$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: Custom sorting by computed values
Date: Tue, 22 Jul 2003 11:52:54 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is it possible to customize Lucene's scoring algorithm so that scores
are computed based on how close a vector stored in the index matches a
vector entered by the user? Queries may also contain other terms - those
however should only influence whether or not a document has a score
equal to or greater than zero, but not the score itself.

I had a look at Lucene's Similarity class, but couldn't quite see
whether such an approach would be possible, let alone how to go about
it. Any help is greatly appreciated.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 10:07:21 2003
Return-Path: 
 <lucene-user-return-5054-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62741 invoked from network); 22 Jul 2003 10:07:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 10:07:21 -0000
Received: (qmail 16826 invoked by uid 97); 22 Jul 2003 10:10:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16819 invoked from network); 22 Jul 2003 10:10:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 10:10:05 -0000
Received: (qmail 62226 invoked by uid 500); 22 Jul 2003 10:07:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62161 invoked from network); 22 Jul 2003 10:07:13 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 22 Jul 2003 10:07:13 -0000
Received: from kelvin (adsl-210-193-14-213.qala.com.sg [210.193.14.213])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h6MA7Nt05348;
	Tue, 22 Jul 2003 18:07:23 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service.
 Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: <lucene-user@jakarta.apache.org>, Victor Hadianto <victorh@nuix.com.au>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Tue, 22 Jul 2003 18:07:34 +0800
In-Reply-To: <200307221924.35060@bah>
Message-ID: <200372218734.769457@kelvin>
Subject: Re: Getting term match on Fuzzy queries.
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I know of one way to do it: just make MultiTermQuery's=
 getEnum(IndexReader 
reader) a public method and iterate through the terms...

Kelvin

On Tue, 22 Jul 2003 19:24:35 +1000, Victor Hadianto said:
>Hi All,
>
>I managed to get the terms match from a query for other queries=
 but
>not Fuzzy,
>does anyone know a quick and dirty way given a Fuzzy query,=
 retrieve
>all the
>terms used for search?
>
>Thanks,





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 12:07:28 2003
Return-Path: 
 <lucene-user-return-5055-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86664 invoked from network); 22 Jul 2003 12:07:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 12:07:28 -0000
Received: (qmail 23157 invoked by uid 97); 22 Jul 2003 12:10:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23150 invoked from network); 22 Jul 2003 12:10:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 12:10:01 -0000
Received: (qmail 86388 invoked by uid 500); 22 Jul 2003 12:07:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86374 invoked from network); 22 Jul 2003 12:07:25 -0000
Received: from unknown (HELO renr.es) (194.224.250.86)
  by daedalus.apache.org with SMTP; 22 Jul 2003 12:07:25 -0000
Received: (qmail 4757 invoked by uid 64014); 22 Jul 2003 12:07:46 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean.
 Processed in 0.07053 secs); 22 Jul 2003 12:07:46 -0000
Received: from unknown (HELO JGaliana) (jgaliana@epi.es@[10.162.133.128])
 (envelope-sender <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 22 Jul 2003 12:07:45 -0000
From: "Jose Galiana" <jgaliana@renr.es>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Spanish analyzer and Indexing StarOffice docs
Date: Tue, 22 Jul 2003 14:20:12 +0200
Message-ID: <OAEAKBIGACBPNEKDMAPPEEHJFJAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
In-reply-to: <001501c34fca$f41d60e0$e30000c5@oherrera>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, Oscar.

We are using the Spanihs version of Stemmer algorith. You can to find it in
jakarta/lucene project. It works fine to me. We are indexing pictures
metadata (IPTC) and news from newspaper.

If you want something more specific, there are a good work from Universidad
de Las Palmas de Gran Canaria, departamento de Inform�tica y Sistemas, about
nouns, adjectives and verbs and how normalize them. You can use that works
to create your own analyzer.

Greeting
Jose Galiana

-----Mensaje original-----
De: Oscar Herrera [mailto:oherrera@heinsohn.com.co]
Enviado el: lunes, 21 de julio de 2003 22:59
Para: lucene-user@jakarta.apache.org
Asunto: Spanish analyzer and Indexing StarOffice docs


Hi. I'd like to know if some of you could help me finding a spanish analyzer
(free if possible). I'd also like to know how can I index a file made on
StarOffice 5.x (.sdw and .sdx files), I've been looking on google for them
but I have not found anything about this,

Thank you in advance for your collaboration,

Oscar Herrera
Bogot�, Colombia, SA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 13:51:15 2003
Return-Path: 
 <lucene-user-return-5057-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58865 invoked from network); 22 Jul 2003 13:51:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 13:51:15 -0000
Received: (qmail 26983 invoked by uid 97); 22 Jul 2003 13:53:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26976 invoked from network); 22 Jul 2003 13:53:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 13:53:48 -0000
Received: (qmail 58542 invoked by uid 500); 22 Jul 2003 13:51:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58526 invoked from network); 22 Jul 2003 13:51:11 -0000
Received: from unknown (HELO www.heinsohn.com.co) (64.76.48.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 13:51:11 -0000
Received: from SMTP agent by mail gateway
 Tue, 22 Jul 2003 08:43:43 -0500
Received: from wrkstn227.heinsohn.com.co ([197.0.0.227] helo=oherrera)
	by www.heinsohn.com.co with smtp (Exim 3.35 #1 (Debian))
	id 19exLa-0008NE-00
	for <lucene-user@jakarta.apache.org>; Tue, 22 Jul 2003 08:38:30 -0500
Message-ID: <001f01c35058$b4f0cd10$e30000c5@oherrera>
From: "Oscar Herrera" <oherrera@heinsohn.com.co>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001501c34fca$f41d60e0$e30000c5@oherrera>
 <3F1C69D5.5010506@dstc.edu.au>
Subject: Re: Spanish analyzer and Indexing StarOffice docs
Date: Tue, 22 Jul 2003 08:54:01 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

First than everything thank you everybody for your collaboration. I've been
looking on StarOffice 5.x documents and trying to unzip them but I've not
been successful.

If I'm not wrong, data is only being saved as xml files on versions greater
than 5.2 of StarOffice (OpenOffice and StarOffice 6, please correct me if
this isn't true), so I'd like to know if there is already any way to index
files of version 5.2 and below, or any clue on how to do this,

Thank you in advance,

Oscar Herrera
Bogot�, Colombia, SA.


----- Original Message -----
From: "Peter Becker" <pbecker@dstc.edu.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 21, 2003 5:31 PM
Subject: Re: Spanish analyzer and Indexing StarOffice docs


> Hi Oscar,
>
> we have been looking into the StarOffice/OpenOffice problem, although we
> haven't done it and probably won't anytime soon as we have to move on to
> other things. I see two approaches, both with variants:
>
> (1) use the fact that it is just zipped XML: use a ZipInputStream to
> open the files and parse the XML contents. You can use the standard
> approaches for parsing XML or you can tweak it. It might be worthwhile
> to look only at the contents part for the body indexing and try to be
> smart about the metadata information while ignoring the layout bits.
> Should be relatively easy since all these parts are in separate files.
>
> (2) use the UDK (http://udk.openoffice.org/). Drawbacks: even though it
> seems documented its sheer size will make it a bit hard to get into. You
> will also have to deploy a large library which is not pure Java.
> Advantages: you will not only get the SO/OOo documents as good as the
> programs parse them themself, but also everything they can import. And
> that will be way better than anything we could get so far for Word
> documents. A UDK-based document parser would most likely be the killer
> for enterprise document indexing -- you wouldn't need much more if
> anything at all.
>
> We might actually still go for (1) since that is really easy, but we
> don't have the time for (2). Although we'd love to have it, so if you go
> for it tell us :-)
>
> HTH,
>    Peter
>
>
>
>
> Oscar Herrera wrote:
>
> >Hi. I'd like to know if some of you could help me finding a spanish
analyzer (free if possible). I'd also like to know how can I index a file
made on StarOffice 5.x (.sdw and .sdx files), I've been looking on google
for them but I have not found anything about this,
> >
> >Thank you in advance for your collaboration,
> >
> >Oscar Herrera
> >Bogot�, Colombia, SA.
> >
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 18:11:32 2003
Return-Path: 
 <lucene-user-return-5058-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74186 invoked from network); 22 Jul 2003 18:11:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 18:11:32 -0000
Received: (qmail 5135 invoked by uid 97); 22 Jul 2003 18:14:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5128 invoked from network); 22 Jul 2003 18:14:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 18:14:08 -0000
Received: (qmail 73513 invoked by uid 500); 22 Jul 2003 18:11:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73351 invoked from network); 22 Jul 2003 18:11:23 -0000
Received: from mailer.syr.edu (128.230.18.29)
  by daedalus.apache.org with SMTP; 22 Jul 2003 18:11:23 -0000
Received: from gwmail.syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP
 for Windows NT v1.1b) with SMTP id <0.0786DA81@mailer.syr.edu>;
 Tue, 22 Jul 2003 14:11:26 -0400
Message-ID: <3F1D7E4E.6050602@gwmail.syr.edu>
Date: Tue, 22 Jul 2003 14:11:26 -0400
From: Steve Rowe <sarowe@gwmail.syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: interesting phrase query issue
References: <20030717132052.22222.qmail@qmail.webpipe.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Greg,

I include a patch below to StopFilter.java which should inhibit exact phrase
matching across a removed stopword.

[Would it be useful for this to be the default behavior?]

See the API docs for Token.setPositionIncrement(int):

<URL:http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/Token.html#setPositionIncrement(int)>
"Set [the position increment] to values greater than one to inhibit exact phrase
matches. If, for example, one does not want phrases to match across removed stop
words, then one could build a stop word filter that removes stop words and also
sets the increment to the number of stop words removed before each non-stop
word. Then exact phrase queries will only match when the terms occur with no
intervening stop words."

--------->8-----------cut here--------->8-----------
Index: StopFilter.java
===================================================================
RCS file:
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/StopFilter.java,v
retrieving revision 1.3
diff -r1.3 StopFilter.java
64a65
 >   private int       positionIncrement = 1;
93,94c94,97
<     for (Token token = input.next(); token != null; token = input.next())
<       if (table.get(token.termText) == null)
---
 >     for (Token token = input.next(); token != null; token = input.next()) {
 >       if (table.get(token.termText) == null) {
 >         token.setPositionIncrement(positionIncrement);
 >         positionIncrement = 1; // reset the position increment
95a99,102
 >       } else {
 >         ++positionIncrement;  // stopword -- increase the position increment
 >       }
 >     }
--------->8-----------cut here--------->8-----------

greg wrote:
 > I have several document sections that are being indexed via the
 > StandardAnalyzer.  One of these documents has the line "access, the
 > manager".  When searching for the phrase "access manager", this document
 > is being returned.  I understand why (at least i think i do), because a
 > stop word is "the" and the "," is being removed by the tokenizer, my
 > question is is there any way I can avoid having this returned in the
 > results?  My thoughts were to create a new analyzer that indexes the
 > word "the" (blick to many of those), or index the "," in some way (also
 > not good).  Any suggestions?
 > Thanks,
 > Greg T Robertson

-- 
Steve Rowe
Software Engineer
Center for Natural Language Processing
School of Information Studies
Syracuse University
www.cnlp.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 19:10:04 2003
Return-Path: 
 <lucene-user-return-5059-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9782 invoked from network); 22 Jul 2003 19:10:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 19:10:04 -0000
Received: (qmail 7327 invoked by uid 97); 22 Jul 2003 19:12:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7320 invoked from network); 22 Jul 2003 19:12:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 19:12:41 -0000
Received: (qmail 9261 invoked by uid 500); 22 Jul 2003 19:09:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9210 invoked from network); 22 Jul 2003 19:09:54 -0000
Received: from waterstof-v1.priv.quicknet.nl (HELO smtp-out.quicknet.nl)
 (213.73.255.38)
  by daedalus.apache.org with SMTP; 22 Jul 2003 19:09:54 -0000
Received: from vmx10.multikabel.net
 (helium-v1.priv.quicknet.nl [213.73.255.38]) by xenon.priv.quicknet.nl
 (iPlanet Messaging Server 5.2 HotFix 1.07 (built Nov 25 2002))
 with ESMTPS id <0HIF003SBX0B6Y@xenon.priv.quicknet.nl> for
 lucene-user@jakarta.apache.org; Tue, 22 Jul 2003 21:05:00 +0200 (MEST)
Received: from whale (qn-212-127-220-48.quicknet.nl [212.127.220.48])
	by vmx10.multikabel.net (8.12.8/8.12.8) with SMTP id h6MJ4v0J017573; Tue,
 22 Jul 2003 21:04:58 +0200
Date: Tue, 22 Jul 2003 21:10:00 +0200
From: maurits van wijland <m.vanwijland@quicknet.nl>
Subject: Re: problems extracting documents using Terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: maurice.coyle@ucd.ie
Message-id: <00db01c35084$d9819840$0200a8c0@whale>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-MailScanner-Information: Please contact helpdesk@quicknet.nl for more
 information
X-MailScanner: Found to be clean
References: <187D6D956106D84E9D8B280F6458FE14018D9B54@merc12.na.sas.com>
 <BAY9-DAV26hExKWK2of000035bd@hotmail.com>
 <00ae01c34fbc$cf4c35b0$59052b89@mojo>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Maurice,

Please look at the tool Luke,

http://www.getopt.org/luke

And that can help you see into your index.
Maybe there is some trouble with spaces
or trimming of strings...but Luke can help
you there!

Good luck,

Maurits


----- Original Message ----- 
From: "Maurice Coyle" <maurice.coyle@ucd.ie>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 21, 2003 9:18 PM
Subject: problems extracting documents using Terms


> hi all,
>
> i'm trying to extract a document number from my lucene index using (where
> read is an IndexReader)
> TermDocs td = read.termDocs(new Term("url", someurl));
>
> This call never returns any results, despite the fact that i definitely
know
> that a document with the url field equal to someurl exists in the index
> (because i know the document in the index's document number and the code:
>
> Document d=read.document(docnum);
> System.out.println(d.get("url"));
>
> outputs the String someurl).
>
> i don't know what's going on, hopefully i've included enough information
for
> someone to spot what's up.
>
> thanks very much,
> maurice
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 22 22:11:29 2003
Return-Path: 
 <lucene-user-return-5060-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48633 invoked from network); 22 Jul 2003 22:11:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Jul 2003 22:11:29 -0000
Received: (qmail 12900 invoked by uid 97); 22 Jul 2003 22:14:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12893 invoked from network); 22 Jul 2003 22:14:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Jul 2003 22:14:07 -0000
Received: (qmail 48330 invoked by uid 500); 22 Jul 2003 22:11:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48312 invoked from network); 22 Jul 2003 22:11:25 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 22 Jul 2003 22:11:25 -0000
Received: from dstc.edu.au (m085-239.nv.iinet.net.au [203.217.85.239])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6MMBILU012894
	for <lucene-user@jakarta.apache.org>; Wed, 23 Jul 2003 00:11:25 +0200 (MEST)
Message-ID: <3F1DB6A3.7070900@dstc.edu.au>
Date: Wed, 23 Jul 2003 08:11:47 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Spanish analyzer and Indexing StarOffice docs
References: <001501c34fca$f41d60e0$e30000c5@oherrera>
 <3F1C69D5.5010506@dstc.edu.au> <001f01c35058$b4f0cd10$e30000c5@oherrera>
In-Reply-To: <001f01c35058$b4f0cd10$e30000c5@oherrera>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Oscar,

yes, you are right -- XML was introduced for 6.0. Sorry -- I confused 
the numbers.

The only reasonable way to go about this that I can see right now is 
going the option (2) I proposed -- things might have advanced with the 
UDK. It most likely won't be easy, but at least if running OpenOffice as 
application during indexing is an option you should be able to use its 
import filters.

I guess converting everything first via SO6/OOo is not an option. 
Otherwise you might want to look into File->Auto Pilot->Document 
conversion... of these applications.

HTH,
  Peter


Oscar Herrera wrote:

>Hi,
>
>First than everything thank you everybody for your collaboration. I've been
>looking on StarOffice 5.x documents and trying to unzip them but I've not
>been successful.
>
>If I'm not wrong, data is only being saved as xml files on versions greater
>than 5.2 of StarOffice (OpenOffice and StarOffice 6, please correct me if
>this isn't true), so I'd like to know if there is already any way to index
>files of version 5.2 and below, or any clue on how to do this,
>
>Thank you in advance,
>
>Oscar Herrera
>Bogot�, Colombia, SA.
>
>
>----- Original Message -----
>From: "Peter Becker" <pbecker@dstc.edu.au>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Monday, July 21, 2003 5:31 PM
>Subject: Re: Spanish analyzer and Indexing StarOffice docs
>
>
>  
>
>>Hi Oscar,
>>
>>we have been looking into the StarOffice/OpenOffice problem, although we
>>haven't done it and probably won't anytime soon as we have to move on to
>>other things. I see two approaches, both with variants:
>>
>>(1) use the fact that it is just zipped XML: use a ZipInputStream to
>>open the files and parse the XML contents. You can use the standard
>>approaches for parsing XML or you can tweak it. It might be worthwhile
>>to look only at the contents part for the body indexing and try to be
>>smart about the metadata information while ignoring the layout bits.
>>Should be relatively easy since all these parts are in separate files.
>>
>>(2) use the UDK (http://udk.openoffice.org/). Drawbacks: even though it
>>seems documented its sheer size will make it a bit hard to get into. You
>>will also have to deploy a large library which is not pure Java.
>>Advantages: you will not only get the SO/OOo documents as good as the
>>programs parse them themself, but also everything they can import. And
>>that will be way better than anything we could get so far for Word
>>documents. A UDK-based document parser would most likely be the killer
>>for enterprise document indexing -- you wouldn't need much more if
>>anything at all.
>>
>>We might actually still go for (1) since that is really easy, but we
>>don't have the time for (2). Although we'd love to have it, so if you go
>>for it tell us :-)
>>
>>HTH,
>>   Peter
>>
>>
>>
>>
>>Oscar Herrera wrote:
>>
>>    
>>
>>>Hi. I'd like to know if some of you could help me finding a spanish
>>>      
>>>
>analyzer (free if possible). I'd also like to know how can I index a file
>made on StarOffice 5.x (.sdw and .sdx files), I've been looking on google
>for them but I have not found anything about this,
>  
>
>>>Thank you in advance for your collaboration,
>>>
>>>Oscar Herrera
>>>Bogot�, Colombia, SA.
>>>
>>>
>>>
>>>      
>>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 23 04:27:10 2003
Return-Path: 
 <lucene-user-return-5061-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15469 invoked from network); 23 Jul 2003 04:27:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jul 2003 04:27:10 -0000
Received: (qmail 18822 invoked by uid 97); 23 Jul 2003 04:29:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18815 invoked from network); 23 Jul 2003 04:29:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 Jul 2003 04:29:52 -0000
Received: (qmail 14413 invoked by uid 500); 23 Jul 2003 04:27:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14400 invoked from network); 23 Jul 2003 04:27:01 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 23 Jul 2003 04:27:01 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 67499B6FEA
	for <lucene-user@jakarta.apache.org>; Wed, 23 Jul 2003 14:26:53 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Getting term match on Fuzzy queries.
Date: Wed, 23 Jul 2003 14:15:43 +1000
User-Agent: KMail/1.4.3
References: <200372218734.769457@kelvin>
In-Reply-To: <200372218734.769457@kelvin>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200307231415.43137@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I know of one way to do it: just make MultiTermQuery's getEnum(IndexReader
> reader) a public method and iterate through the terms...

Works well thanks Kelvin.

> Kelvin
Victor

> On Tue, 22 Jul 2003 19:24:35 +1000, Victor Hadianto said:
> >Hi All,
> >
> >I managed to get the terms match from a query for other queries but
> >not Fuzzy,
> >does anyone know a quick and dirty way given a Fuzzy query, retrieve
> >all the
> >terms used for search?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 24 10:51:24 2003
Return-Path: 
 <lucene-user-return-5062-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28535 invoked from network); 24 Jul 2003 10:51:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Jul 2003 10:51:24 -0000
Received: (qmail 4477 invoked by uid 97); 24 Jul 2003 10:53:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4470 invoked from network); 24 Jul 2003 10:53:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Jul 2003 10:53:56 -0000
Received: (qmail 28227 invoked by uid 500); 24 Jul 2003 10:51:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28180 invoked from network); 24 Jul 2003 10:51:20 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 24 Jul 2003 10:51:20 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h6OApFeI012916
	for <lucene-user@jakarta.apache.org>; Thu, 24 Jul 2003 12:51:15 +0200
Message-ID: <000e01c351d1$832c9e60$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: Enumerating terms in reverse order
Date: Thu, 24 Jul 2003 12:51:18 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is it possible to enumerate terms in reverse order? I see the TermEnum
class has only a next(), but no previous() method. Can this be worked
around, or would this be a sensible addition to the core of Lucene?

This would be extremely useful for sorting results from large
collections according to arbitrary fields.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 24 12:46:48 2003
Return-Path: 
 <lucene-user-return-5063-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 283 invoked from network); 24 Jul 2003 12:46:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Jul 2003 12:46:48 -0000
Received: (qmail 10400 invoked by uid 97); 24 Jul 2003 12:49:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10393 invoked from network); 24 Jul 2003 12:49:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Jul 2003 12:49:20 -0000
Received: (qmail 98244 invoked by uid 500); 24 Jul 2003 12:46:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98183 invoked from network); 24 Jul 2003 12:46:26 -0000
Received: from qmail.webpipe.net (63.172.126.3)
  by daedalus.apache.org with SMTP; 24 Jul 2003 12:46:26 -0000
Received: (qmail 21551 invoked by uid 89); 24 Jul 2003 12:46:36 -0000
Message-ID: <20030724124636.21550.qmail@qmail.webpipe.net>
References: <20030717132052.22222.qmail@qmail.webpipe.net>
            <3F1D7E4E.6050602@gwmail.syr.edu>
In-Reply-To: <3F1D7E4E.6050602@gwmail.syr.edu> 
From: "greg" <greg@webpipe.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: interesting phrase query issue
Date: Thu, 24 Jul 2003 12:46:36 GMT
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Steve, 

This is great stuff.  IMHO this should be the default behaviour - especially 
coming from someone who is new to Lucene.  I can not tell you how surprised 
i was when someone searched for a phrase and it was returned  but did not 
exist in the document except as "access, the manager".  Your patch really 
did the job. 

Thanks again, 

Greg T Robertson 

Steve Rowe writes: 

> Greg, 
> 
> I include a patch below to StopFilter.java which should inhibit exact 
> phrase
> matching across a removed stopword. 
> 
> [Would it be useful for this to be the default behavior?] 
> 
> See the API docs for Token.setPositionIncrement(int): 
> 
> <URL:http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/ 
> Token.html#setPositionIncrement(int)>
> "Set [the position increment] to values greater than one to inhibit exact 
> phrase
> matches. If, for example, one does not want phrases to match across 
> removed stop
> words, then one could build a stop word filter that removes stop words and 
> also
> sets the increment to the number of stop words removed before each 
> non-stop
> word. Then exact phrase queries will only match when the terms occur with 
> no
> intervening stop words." 
> 
> --------->8-----------cut here--------->8-----------
> Index: StopFilter.java
> ===================================================================
> RCS file:
> /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/analysis/StopFil 
> ter.java,v
> retrieving revision 1.3
> diff -r1.3 StopFilter.java
> 64a65
> >   private int       positionIncrement = 1;
> 93,94c94,97
> <     for (Token token = input.next(); token != null; token = 
> input.next())
> <       if (table.get(token.termText) == null)
> ---
> >     for (Token token = input.next(); token != null; token = 
> input.next()) {
> >       if (table.get(token.termText) == null) {
> >         token.setPositionIncrement(positionIncrement);
> >         positionIncrement = 1; // reset the position increment
> 95a99,102
> >       } else {
> >         ++positionIncrement;  // stopword -- increase the position 
> increment
> >       }
> >     }
> --------->8-----------cut here--------->8----------- 
> 
> greg wrote:
> > I have several document sections that are being indexed via the
> > StandardAnalyzer.  One of these documents has the line "access, the
> > manager".  When searching for the phrase "access manager", this document
> > is being returned.  I understand why (at least i think i do), because a
> > stop word is "the" and the "," is being removed by the tokenizer, my
> > question is is there any way I can avoid having this returned in the
> > results?  My thoughts were to create a new analyzer that indexes the
> > word "the" (blick to many of those), or index the "," in some way (also
> > not good).  Any suggestions?
> > Thanks,
> > Greg T Robertson 
> 
> -- 
> Steve Rowe
> Software Engineer
> Center for Natural Language Processing
> School of Information Studies
> Syracuse University
> www.cnlp.org 
> 
>  
> 
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org 
> 
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 24 18:33:35 2003
Return-Path: 
 <lucene-user-return-5064-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52181 invoked from network); 24 Jul 2003 18:33:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Jul 2003 18:33:35 -0000
Received: (qmail 25088 invoked by uid 97); 24 Jul 2003 18:36:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25081 invoked from network); 24 Jul 2003 18:36:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Jul 2003 18:36:12 -0000
Received: (qmail 51601 invoked by uid 500); 24 Jul 2003 18:33:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51508 invoked from network); 24 Jul 2003 18:33:30 -0000
Received: from dsg.bwh.harvard.edu (134.174.53.122)
  by daedalus.apache.org with SMTP; 24 Jul 2003 18:33:30 -0000
Received: from fido (fido.bwh.harvard.edu [134.174.53.26])
	by dsg.bwh.harvard.edu (8.11.6/8.11.6) with ESMTP id h6OIndm13295
	for <lucene-user@jakarta.apache.org>; Thu, 24 Jul 2003 14:49:39 -0400
Reply-To: <jcrowell@dsg.harvard.edu>
From: "Jon Crowell" <jcrowell@dsg.harvard.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: NOT, exclude, prohibit, !, -
Date: Thu, 24 Jul 2003 14:33:08 -0400
Organization: Decision Systems Group
Message-ID: <000601c35212$07b04f70$1a35ae86@fido>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20030710103419.949.qmail@web12707.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.  I've been reading the Query Syntax page at
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html and I'm not
sure I understand the difference between the prohibit operator (-) and =
the
exclude operator (!).

It seems that NOT is the exclude operator and the short form is !.  I =
quote:


     The NOT operator excludes documents that contain the
     term after NOT. This is equivalent to a difference
     using sets. The symbol ! can be used in place of the
     word NOT.

     To search for documents that contain "jakarta apache"
     but not "jakarta lucene" use the query:=20

    "jakarta apache" NOT "jakarta lucene"


The minus sign (-) is described in its own section as the prohibit =
operator.
I quote:


     The "-" or prohibit operator excludes documents that
     contain the term after the "-" symbol.

     To search for documents that contain "jakarta apache"
     but not "jakarta lucene" use the query:=20
    =20
     "jakarta apache" -"jakarta lucene"


My question is: what is the difference between these two operators?  If
there is no difference, then why are there two operators?

Thanks,

Jon


  =20




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Jul 27 12:36:29 2003
Return-Path: 
 <lucene-user-return-5065-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55857 invoked from network); 27 Jul 2003 12:36:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jul 2003 12:36:29 -0000
Received: (qmail 11368 invoked by uid 97); 27 Jul 2003 12:39:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11361 invoked from network); 27 Jul 2003 12:39:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Jul 2003 12:39:01 -0000
Received: (qmail 55460 invoked by uid 500); 27 Jul 2003 12:36:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55448 invoked from network); 27 Jul 2003 12:36:26 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 27 Jul 2003 12:36:26 -0000
Message-ID: <20030727123627.39183.qmail@web12707.mail.yahoo.com>
Received: from [80.72.69.2] by web12707.mail.yahoo.com via HTTP;
 Sun, 27 Jul 2003 05:36:27 PDT
Date: Sun, 27 Jul 2003 05:36:27 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: NOT, exclude, prohibit, !, -
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  jcrowell@dsg.harvard.edu
In-Reply-To: <000601c35212$07b04f70$1a35ae86@fido>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I believe those are all the same.  I am writing this from an Internet
cafe in Sofia, Bulgaria, so I don't have access to QueryParser.jj, but
that's where you should look to see how NOT, ! and - are defined.
I believe they all exclude from the result, all documents that contain
the term or phrase that follows.

Otis


--- Jon Crowell <jcrowell@dsg.harvard.edu> wrote:
> Hi.  I've been reading the Query Syntax page at
> http://jakarta.apache.org/lucene/docs/queryparsersyntax.html and I'm
> not
> sure I understand the difference between the prohibit operator (-)
> and the
> exclude operator (!).
> 
> It seems that NOT is the exclude operator and the short form is !.  I
> quote:
> 
> 
>      The NOT operator excludes documents that contain the
>      term after NOT. This is equivalent to a difference
>      using sets. The symbol ! can be used in place of the
>      word NOT.
> 
>      To search for documents that contain "jakarta apache"
>      but not "jakarta lucene" use the query: 
> 
>     "jakarta apache" NOT "jakarta lucene"
> 
> 
> The minus sign (-) is described in its own section as the prohibit
> operator.
> I quote:
> 
> 
>      The "-" or prohibit operator excludes documents that
>      contain the term after the "-" symbol.
> 
>      To search for documents that contain "jakarta apache"
>      but not "jakarta lucene" use the query: 
>      
>      "jakarta apache" -"jakarta lucene"
> 
> 
> My question is: what is the difference between these two operators? 
> If
> there is no difference, then why are there two operators?
> 
> Thanks,
> 
> Jon
> 
> 
>    
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 01:49:34 2003
Return-Path: 
 <lucene-user-return-5066-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42945 invoked from network); 28 Jul 2003 01:49:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 01:49:34 -0000
Received: (qmail 6373 invoked by uid 97); 28 Jul 2003 01:52:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6366 invoked from network); 28 Jul 2003 01:52:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 01:52:15 -0000
Received: (qmail 42644 invoked by uid 500); 28 Jul 2003 01:49:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42627 invoked from network); 28 Jul 2003 01:49:30 -0000
Received: from xmail-out.shawmut.com (64.214.98.15)
  by daedalus.apache.org with SMTP; 28 Jul 2003 01:49:30 -0000
Received: from SDC-MAIL1.shawmut.com ([192.168.100.3]) by
 xmail-out.shawmut.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Sun, 27 Jul 2003 21:49:38 -0400
content-class: urn:content-classes:message
Subject: How can I index JSP files?
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C354AA.812FDE4B"
Date: Sun, 27 Jul 2003 21:49:38 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Message-ID: <8BE2F173A6440740934EDD48016EC9730210EE@SDC-MAIL1.shawmut.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How can I index JSP files?
Thread-Index: AcNUqoDL5xfrd5jiQxSsqf68vJjNfA==
From: "Pitre, Russell" <RPITRE@shawmut.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 28 Jul 2003 01:49:38.0885 (UTC)
 FILETIME=[81696F50:01C354AA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C354AA.812FDE4B
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Reffering to this:  http://www.jguru.com/faq/view.jsp?EID=3D1074516

=20

=20

"To index the content of JSPs that a user would see using a Web browser,
you would need to write an application that acts as a Web client, in
order to mimic the Web browser behaviour. Once you have such an
application, you should be able to point it to the desired JSP, retrieve
the contents that the JSP generates, parse it, and feed it to Lucene."

=20

=20

=20

I am a newbie to lucene and I would like to enable searching capability
to my website which is written entirely with JSP and servlets.  Does
anyone have any experience parsing JSP files in order to create in index
for/by Lucene?   I would greatly appreciate any help with the matter.
THanx

=20

Russ


------_=_NextPart_001_01C354AA.812FDE4B--

From MAILER-DAEMON Mon Jul 28 02:19:03 2003
Return-Path: 
 <lucene-user-return-5067-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64747 invoked from network); 28 Jul 2003 02:19:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 02:19:03 -0000
Received: (qmail 6622 invoked by uid 97); 28 Jul 2003 02:21:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6615 invoked from network); 28 Jul 2003 02:21:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 02:21:44 -0000
Received: (qmail 64099 invoked by uid 500); 28 Jul 2003 02:18:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63951 invoked from network); 28 Jul 2003 02:18:56 -0000
Received: from smtp-out4.iol.cz (194.228.2.92)
  by daedalus.apache.org with SMTP; 28 Jul 2003 02:18:56 -0000
Received: from fw.shark (gprs14-15.eurotel.cz [160.218.199.15])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 2C21134B59
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 04:19:13 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h6S2LBHL013702
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 04:21:18 +0200
Message-ID: <3F248788.7060105@seznam.cz>
Date: Mon, 28 Jul 2003 04:16:40 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How can I index JSP files?
References: <8BE2F173A6440740934EDD48016EC9730210EE@SDC-MAIL1.shawmut.com>
In-Reply-To: <8BE2F173A6440740934EDD48016EC9730210EE@SDC-MAIL1.shawmut.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I understand the Enigma code well, they say, that you must write a 
crawler ;-)

-g-

>"To index the content of JSPs that a user would see using a Web browser,
>you would need to write an application that acts as a Web client, in
>order to mimic the Web browser behaviour. Once you have such an
>application, you should be able to point it to the desired JSP, retrieve
>the contents that the JSP generates, parse it, and feed it to Lucene."
>
> 
>
> 
>
> 
>
>I am a newbie to lucene and I would like to enable searching capability
>to my website which is written entirely with JSP and servlets.  Does
>anyone have any experience parsing JSP files in order to create in index
>for/by Lucene?   I would greatly appreciate any help with the matter.
>THanx
>
> 
>
>Russ
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 08:59:01 2003
Return-Path: 
 <lucene-user-return-5068-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11104 invoked from network); 28 Jul 2003 08:59:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 08:59:01 -0000
Received: (qmail 14263 invoked by uid 97); 28 Jul 2003 09:01:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14256 invoked from network); 28 Jul 2003 09:01:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 09:01:46 -0000
Received: (qmail 10827 invoked by uid 500); 28 Jul 2003 08:58:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10814 invoked from network); 28 Jul 2003 08:58:57 -0000
Received: from orion.info.ucl.ac.be (HELO student.info.ucl.ac.be)
 (130.104.228.187)
  by daedalus.apache.org with SMTP; 28 Jul 2003 08:58:57 -0000
Received: from student.fsa.ucl.ac.be (ns1.denali.be [194.183.235.197])
	by student.info.ucl.ac.be (Postfix) with ESMTP id 8566C60F82
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 10:57:08 +0200 (MEST)
Date: Mon, 28 Jul 2003 10:32:21 +0200
Content-Type: text/plain; charset=US-ASCII; format=flowed
Resent-Date: Mon, 28 Jul 2003 10:59:06 +0200
Content-Transfer-Encoding: 7bit
Resent-Message-Id: 
 <019BF7ED-C0D6-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
Resent-To: lucene-user@jakarta.apache.org
Mime-Version: 1.0 (Apple Message framework v552)
Subject: Different Analyzer for each Field
From: Claude Libois <clibois@student.fsa.ucl.ac.be>
To: lucene-user@jakarta.apache.org
Message-Id: <BE477982-C0D9-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
Resent-From: Claude Libois <clibois@student.fsa.ucl.ac.be>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My question is in the title: how can I use a different   Analyzer for 
each field of a Document object? My problem is that if I use 
LetterTokenizer for a field which contains a String representation of a 
number, after I can't delete it. Probably because this analyzer threw 
away my number. So I need to use whitespaceTokenizer for this field but 
I would like to use LetterTokenizer for the other. Can someone help me?
thank you
Claude Libois


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 10:12:09 2003
Return-Path: 
 <lucene-user-return-5069-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20008 invoked from network); 28 Jul 2003 10:12:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 10:12:09 -0000
Received: (qmail 15805 invoked by uid 97); 28 Jul 2003 10:14:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15798 invoked from network); 28 Jul 2003 10:14:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 10:14:55 -0000
Received: (qmail 19719 invoked by uid 500); 28 Jul 2003 10:12:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19706 invoked from network); 28 Jul 2003 10:12:05 -0000
Received: from veil.qala.com.sg (210.193.2.44)
  by daedalus.apache.org with SMTP; 28 Jul 2003 10:12:05 -0000
Received: from kelvin (adsl-210-193-14-213.qala.com.sg [210.193.14.213])
	by veil.qala.com.sg (8.11.3/8.11.3) with SMTP id h6SACFi03221
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 18:12:16 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service.
 Server No. 1
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Mon, 28 Jul 2003 18:12:38 +0800
In-Reply-To: <BE477982-C0D9-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
Message-ID: <2003728181238.360191@kelvin>
Subject: Re: Different Analyzer for each Field
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Perhaps one way to do it is to have 2 separate indices for the 2=
 analyzers. 
Then, depending on which field you wish to search, you can choose=
 from either 
index. 

AFAIK, there is a one-one mapping between an index and an=
 analyzer.

Kelvin

On Mon, 28 Jul 2003 10:32:21 +0200, Claude Libois said:
>My question is in the title: how can I use a different  =
 Analyzer
>for
>each field of a Document object? My problem is that if I use
>LetterTokenizer for a field which contains a String=
 representation
>of a
>number, after I can't delete it. Probably because this analyzer
>threw
>away my number. So I need to use whitespaceTokenizer for this=
 field
>but
>I would like to use LetterTokenizer for the other. Can someone=
 help
>me?
>thank you
>Claude Libois
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 10:55:50 2003
Return-Path: 
 <lucene-user-return-5070-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 79109 invoked from network); 28 Jul 2003 10:55:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 10:55:50 -0000
Received: (qmail 16902 invoked by uid 97); 28 Jul 2003 10:58:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16895 invoked from network); 28 Jul 2003 10:58:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 10:58:24 -0000
Received: (qmail 78857 invoked by uid 500); 28 Jul 2003 10:55:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78824 invoked from network); 28 Jul 2003 10:55:46 -0000
Received: from web12708.mail.yahoo.com (216.136.173.245)
  by daedalus.apache.org with SMTP; 28 Jul 2003 10:55:46 -0000
Message-ID: <20030728105546.78051.qmail@web12708.mail.yahoo.com>
Received: from [212.116.131.82] by web12708.mail.yahoo.com via HTTP;
 Mon, 28 Jul 2003 03:55:46 PDT
Date: Mon, 28 Jul 2003 03:55:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How can I index JSP files?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8BE2F173A6440740934EDD48016EC9730210EE@SDC-MAIL1.shawmut.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You could try using a spider such as Spindle.  Don't have the URL, but
I'm sure you can find it via Google.  Spindle uses Lucene.

Otis

--- "Pitre, Russell" <RPITRE@shawmut.com> wrote:
> Reffering to this:  http://www.jguru.com/faq/view.jsp?EID=1074516
> 
>  
> 
>  
> 
> "To index the content of JSPs that a user would see using a Web
> browser,
> you would need to write an application that acts as a Web client, in
> order to mimic the Web browser behaviour. Once you have such an
> application, you should be able to point it to the desired JSP,
> retrieve
> the contents that the JSP generates, parse it, and feed it to
> Lucene."
> 
>  
> 
>  
> 
>  
> 
> I am a newbie to lucene and I would like to enable searching
> capability
> to my website which is written entirely with JSP and servlets.  Does
> anyone have any experience parsing JSP files in order to create in
> index
> for/by Lucene?   I would greatly appreciate any help with the matter.
> THanx
> 
>  
> 
> Russ
> 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 12:48:05 2003
Return-Path: 
 <lucene-user-return-5071-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85759 invoked from network); 28 Jul 2003 12:48:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:48:05 -0000
Received: (qmail 21546 invoked by uid 97); 28 Jul 2003 12:50:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21538 invoked from network); 28 Jul 2003 12:50:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 12:50:39 -0000
Received: (qmail 85322 invoked by uid 500); 28 Jul 2003 12:48:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85305 invoked from network); 28 Jul 2003 12:48:00 -0000
Received: from xmail-out.shawmut.com (64.214.98.15)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:48:00 -0000
Received: from SDC-MAIL1.shawmut.com ([192.168.100.3]) by
 xmail-out.shawmut.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 28 Jul 2003 08:48:00 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: How can I index JSP files?
Date: Mon, 28 Jul 2003 08:48:00 -0400
Message-ID: <8BE2F173A6440740934EDD48016EC973233AB1@SDC-MAIL1.shawmut.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How can I index JSP files?
Thread-Index: AcNU9tBAyiynC+mdQcuxm/zmSCNHKAAD5U8A
From: "Pitre, Russell" <RPITRE@shawmut.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 28 Jul 2003 12:48:00.0924 (UTC)
 FILETIME=[7A763DC0:01C35506]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think this may be exactly what i'm looking for!


Thanx a lot....

Russs


I'll let you know how it works out....thanx again!





-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Monday, July 28, 2003 6:56 AM
To: Lucene Users List
Subject: Re: How can I index JSP files?


You could try using a spider such as Spindle.  Don't have the URL, but
I'm sure you can find it via Google.  Spindle uses Lucene.

Otis

--- "Pitre, Russell" <RPITRE@shawmut.com> wrote:
> Reffering to this:  http://www.jguru.com/faq/view.jsp?EID=3D1074516
>=20
> =20
>=20
> =20
>=20
> "To index the content of JSPs that a user would see using a Web=20
> browser, you would need to write an application that acts as a Web=20
> client, in order to mimic the Web browser behaviour. Once you have=20
> such an application, you should be able to point it to the desired=20
> JSP, retrieve
> the contents that the JSP generates, parse it, and feed it to
> Lucene."
>=20
> =20
>=20
> =20
>=20
> =20
>=20
> I am a newbie to lucene and I would like to enable searching=20
> capability to my website which is written entirely with JSP and=20
> servlets.  Does anyone have any experience parsing JSP files in order=20
> to create in index
> for/by Lucene?   I would greatly appreciate any help with the matter.
> THanx
>=20
> =20
>=20
> Russ
>=20
>=20


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 12:49:38 2003
Return-Path: 
 <lucene-user-return-5072-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91040 invoked from network); 28 Jul 2003 12:49:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:49:38 -0000
Received: (qmail 21595 invoked by uid 97); 28 Jul 2003 12:52:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21588 invoked from network); 28 Jul 2003 12:52:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 12:52:13 -0000
Received: (qmail 90765 invoked by uid 500); 28 Jul 2003 12:49:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90745 invoked from network); 28 Jul 2003 12:49:35 -0000
Received: from mail7.atl.registeredsite.com (64.224.219.81)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:49:35 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.15])
	by mail7.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6SBnVXN017798
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 07:49:31 -0400
Received: (qmail 95351 invoked by uid 89); 28 Jul 2003 12:51:38 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.8)
  by mail.neolitetechnologies.com with SMTP; 28 Jul 2003 12:51:38 -0000
Date: Mon, 28 Jul 2003 05:49:37 -0700
Subject: Re: Different Analyzer for each Field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <2003728181238.360191@kelvin>
Message-Id: <F25A1E6D-C0F9-11D7-B14E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, July 28, 2003, at 03:12  AM, Kelvin Tan wrote:
> AFAIK, there is a one-one mapping between an index and an analyzer.

Not true.  The Analyzer base class has a method tokenStream that 
accepts the field name.  None of the built-in analyzers use the field 
name to do anything different based on the field name, but a custom 
analyzer easily could.

This change (I think) was made relatively recently, so maybe its not 
part of a release build of Lucene?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 12:56:36 2003
Return-Path: 
 <lucene-user-return-5073-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13063 invoked from network); 28 Jul 2003 12:56:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:56:36 -0000
Received: (qmail 21816 invoked by uid 97); 28 Jul 2003 12:59:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21809 invoked from network); 28 Jul 2003 12:59:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 12:59:11 -0000
Received: (qmail 10608 invoked by uid 500); 28 Jul 2003 12:56:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10533 invoked from network); 28 Jul 2003 12:56:08 -0000
Received: from mail4.atl.registeredsite.com (64.224.219.78)
  by daedalus.apache.org with SMTP; 28 Jul 2003 12:56:08 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.15])
	by mail4.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6SCu617019689
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 08:56:07 -0400
Received: (qmail 5816 invoked by uid 89); 28 Jul 2003 12:58:09 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.8)
  by mail.neolitetechnologies.com with SMTP; 28 Jul 2003 12:58:09 -0000
Date: Mon, 28 Jul 2003 05:56:09 -0700
Subject: Re: Different Analyzer for each Field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BE477982-C0D9-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
Message-Id: <DBD97CD7-C0FA-11D7-B14E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, July 28, 2003, at 01:32  AM, Claude Libois wrote:
> My question is in the title: how can I use a different   Analyzer for 
> each field of a Document object? My problem is that if I use 
> LetterTokenizer for a field which contains a String representation of 
> a number, after I can't delete it. Probably because this analyzer 
> threw away my number. So I need to use whitespaceTokenizer for this 
> field but I would like to use LetterTokenizer for the other. Can 
> someone help me?
> thank you

My recommendation is to write a custom Analyzer subclass that uses the 
field name on the tokenStream method to effect the internals of the 
analysis process.  Just rip out the internals of the analyzers you want 
to piece together into your own analyzer that has the logic you want.

	Erik

p.s. You may need to use a CVS version of Lucene for this feature?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 07:49:18 2003
Return-Path: 
 <lucene-user-return-5097-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73480 invoked from network); 30 Jul 2003 07:49:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 07:49:18 -0000
Received: (qmail 4518 invoked by uid 97); 30 Jul 2003 07:52:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4511 invoked from network); 30 Jul 2003 07:52:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 07:52:05 -0000
Received: (qmail 72546 invoked by uid 500); 30 Jul 2003 07:49:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72463 invoked from network); 30 Jul 2003 07:49:04 -0000
Received: from orion.info.ucl.ac.be (HELO student.info.ucl.ac.be)
 (130.104.228.187)
  by daedalus.apache.org with SMTP; 30 Jul 2003 07:49:04 -0000
Received: from student.fsa.ucl.ac.be (ns1.denali.be [194.183.235.197])
	by student.info.ucl.ac.be (Postfix) with ESMTP id 2510960FC0
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 09:47:10 +0200 (MEST)
Date: Mon, 28 Jul 2003 15:58:34 +0200
Subject: Re: Different Analyzer for each Field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Claude Libois <clibois@student.fsa.ucl.ac.be>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
In-Reply-To: <DBD97CD7-C0FA-11D7-B14E-000393A564E6@ehatchersolutions.com>
Message-Id: <94520F12-C103-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

thank for your answers but i found another way to solve my problem. I 
don't tokenize my field anymore so it doesn't pass trough the analyzer 
and it works. Nevertheless, I will certainly use  in the future what 
you told me.
On Monday, July 28, 2003, at 02:56 PM, Erik Hatcher wrote:

> On Monday, July 28, 2003, at 01:32  AM, Claude Libois wrote:
>> My question is in the title: how can I use a different   Analyzer for 
>> each field of a Document object? My problem is that if I use 
>> LetterTokenizer for a field which contains a String representation of 
>> a number, after I can't delete it. Probably because this analyzer 
>> threw away my number. So I need to use whitespaceTokenizer for this 
>> field but I would like to use LetterTokenizer for the other. Can 
>> someone help me?
>> thank you
>
> My recommendation is to write a custom Analyzer subclass that uses the 
> field name on the tokenStream method to effect the internals of the 
> analysis process.  Just rip out the internals of the analyzers you 
> want to piece together into your own analyzer that has the logic you 
> want.
>
> 	Erik
>
> p.s. You may need to use a CVS version of Lucene for this feature?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 15:23:24 2003
Return-Path: 
 <lucene-user-return-5074-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56251 invoked from network); 28 Jul 2003 15:23:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 15:23:24 -0000
Received: (qmail 27373 invoked by uid 97); 28 Jul 2003 15:26:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27366 invoked from network); 28 Jul 2003 15:26:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 15:26:01 -0000
Received: (qmail 55976 invoked by uid 500); 28 Jul 2003 15:23:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55964 invoked from network); 28 Jul 2003 15:23:21 -0000
Received: from inet-mail2.oracle.com (148.87.2.202)
  by daedalus.apache.org with SMTP; 28 Jul 2003 15:23:21 -0000
Received: from rgmgw6.us.oracle.com (rgmgw6.us.oracle.com [138.1.191.15])
	by inet-mail2.oracle.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id
 h6SFNOBf001226
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 08:23:24 -0700 (PDT)
Received: from rgmgw6.us.oracle.com (localhost [127.0.0.1])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6SFNMe26965
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 09:23:22 -0600 (MDT)
Received: from oracle.com (vpn-dc-10-172.uk.oracle.com [138.3.10.172])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6SFNHe26863
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 09:23:17 -0600 (MDT)
Message-ID: <3F253FE3.4070103@oracle.com>
Date: Mon, 28 Jul 2003 16:23:15 +0100
From: Roger Ford <roger.ford@oracle.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Indexing very large sets (10 million docs)
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm trying to index 10 million small XML-like documents, extracted
from an Oracle database.

Lucene version is 1.2, and I'm using RedHat 7.0 Advanced Server,
on an AMD XP1800+ with 1GB RAM and 46GB+120GB hard disks. The
database is on a separate machine, connected by thin JDBC.

Each document consists of around 10 fields of the form


<key>0001234567</key>
<field1>some text</field1>
<field2>more text</field2>
...
<field10> again</field10>

Each document is typically only around 2K in size. Each field is 
free-text indexed, but only the "key" field is stored.

After experimenting, I've set
   Java memory to 750MB
   writer.mergeFactor = 10000
   - and run an optimize every 50,000 documents to try to keep down the
number of open files.

So far, the furthest I've managed to get is 3 million docs,
which used

   22,913 simultaneous open files (the maximum on Windows is 2035!)
   Up to 79 GB of disk space
   Around 18 hours of indexing time

Is what I'm trying to do realistic?  Does anyone else have experience
of indexing collections this large?

My indexing code, which is based on the simple file demo, can be seen
at http://www.rogerford.info/docs/IndexDBData_java.txt

- Many thanks,

Roger.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 15:59:56 2003
Return-Path: 
 <lucene-user-return-5075-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35036 invoked from network); 28 Jul 2003 15:59:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 15:59:56 -0000
Received: (qmail 28382 invoked by uid 97); 28 Jul 2003 16:02:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28375 invoked from network); 28 Jul 2003 16:02:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:02:33 -0000
Received: (qmail 34605 invoked by uid 500); 28 Jul 2003 15:59:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34523 invoked from network); 28 Jul 2003 15:59:50 -0000
Received: from inswsod01.gs.com (207.17.37.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 15:59:50 -0000
Received: from insvs8502.inz.gs.com (unknown [204.4.188.79])
	by inswsod01.gs.com (Postfix) with ESMTP id 3006D1C42E
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 11:59:52 -0400 (EDT)
Received: from gsnmp02es.ny.fw.gs.com (gsnmp02es.ny.fw.gs.com
 [148.86.105.111]) by insvs8502.inz.gs.com with ESMTP for
 lucene-user@jakarta.apache.org; Mon, 28 Jul 2003 11:59:51 -0400
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <PQRW3AHV>; Mon, 28 Jul 2003 11:59:51 -0400
Message-Id: <79542328270D5F4BB8E29BED159D783B0871C268@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 11:59:43 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


That's 46 hits/s. That's not bad, actually.

It's an interesting problem. It certainly seems that when index such a large
number of documents the indexing should be parallel. So far I have assumed
that
Lucene is not able to use multiple threads to speed up the indexing run.

If it did, I guess it would help you assuming that 1) the bottleneck is in
the indexing
and not on the Oracle query (pretty likely) and 2) that your i/o is not the
bottleneck
- if it were it might be possible to spread out the index across multiple
disks.

If there is a natural way to partition the documents (there might be, since
they are so many), then you can manage the partition yourself and just
search on 
multiple indexes. It probably also makes the system more robust. In case
someone
accidentally deletes one of the indices. Also, since the each index (I
think) has
one lock file, it should definitely increase concurrency when searching ..

Perhaps Doug Cutting can comment on the parallelization issue?

-----Original Message-----
From: Roger Ford [mailto:roger.ford@oracle.com]
Sent: Monday, July 28, 2003 11:23 AM
To: lucene-user@jakarta.apache.org
Subject: Indexing very large sets (10 million docs)


I'm trying to index 10 million small XML-like documents, extracted
from an Oracle database.

Lucene version is 1.2, and I'm using RedHat 7.0 Advanced Server,
on an AMD XP1800+ with 1GB RAM and 46GB+120GB hard disks. The
database is on a separate machine, connected by thin JDBC.

Each document consists of around 10 fields of the form


<key>0001234567</key>
<field1>some text</field1>
<field2>more text</field2>
...
<field10> again</field10>

Each document is typically only around 2K in size. Each field is 
free-text indexed, but only the "key" field is stored.

After experimenting, I've set
   Java memory to 750MB
   writer.mergeFactor = 10000
   - and run an optimize every 50,000 documents to try to keep down the
number of open files.

So far, the furthest I've managed to get is 3 million docs,
which used

   22,913 simultaneous open files (the maximum on Windows is 2035!)
   Up to 79 GB of disk space
   Around 18 hours of indexing time

Is what I'm trying to do realistic?  Does anyone else have experience
of indexing collections this large?

My indexing code, which is based on the simple file demo, can be seen
at http://www.rogerford.info/docs/IndexDBData_java.txt

- Many thanks,

Roger.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:16:35 2003
Return-Path: 
 <lucene-user-return-5076-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71234 invoked from network); 28 Jul 2003 16:16:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:16:35 -0000
Received: (qmail 28977 invoked by uid 97); 28 Jul 2003 16:19:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28969 invoked from network); 28 Jul 2003 16:19:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:19:12 -0000
Received: (qmail 70954 invoked by uid 500); 28 Jul 2003 16:16:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70931 invoked from network); 28 Jul 2003 16:16:32 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:16:32 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 28 Jul 2003 11:16:25 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <PYC855S6>; Mon, 28 Jul 2003 11:16:25 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4E77@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 11:16:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We are currently doing something similar here.

We have upwards of 15 million documents in our index.

There has been a lot of discussion on this in the past... But I'll give a few details:

My current techniques for indexing very large amounts of data is to 

Set the merge factor to 90
Leave the maxMergeDocs alone (lucene default)

Index 100,000 (the number you use depends on the filesize/number of fields in the documents... If you have a lot of fields, you will run out of file handles sooner I believe) documents into an index - no optimize, just index them in.  Close the index.  Open a new index, write 100,000 docs into this one, etc.  Continue.  If you have more than one machine/more than one disk drive, running these processes in parallel helps a lot.

After you have a whole bunch of indexes of size 100,000 documents, then do a merge of all of the indexes.  You never have to call optimize - it will be optimized when it is merged.

I have written an entire wrapper around lucene which handles all of this for me... Though I did it at work and I don't know if I can release the code.  I think a couple of other people have done similar things, and have released the code.

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:18:07 2003
Return-Path: 
 <lucene-user-return-5077-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73389 invoked from network); 28 Jul 2003 16:18:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:18:07 -0000
Received: (qmail 29009 invoked by uid 97); 28 Jul 2003 16:20:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29001 invoked from network); 28 Jul 2003 16:20:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:20:43 -0000
Received: (qmail 73043 invoked by uid 500); 28 Jul 2003 16:18:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73022 invoked from network); 28 Jul 2003 16:18:03 -0000
Received: from smtp7.wanadoo.fr (HELO mwinf0202.wanadoo.fr) (193.252.22.29)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:18:03 -0000
Received: from rousseau (APuteaux-104-1-2-71.w217-128.abo.wanadoo.fr
 [217.128.215.71])
	by mwinf0202.wanadoo.fr (SMTP Server) with ESMTP id 893E4A400129
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 18:18:05 +0200 (CEST)
From: "Martin Sevigny" <sevigny@ajlsm.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 18:19:50 +0200
Message-ID: <000d01c35524$1282c710$697ba8c0@SYMPATICOCA>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3416
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <3F253FE3.4070103@oracle.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Roger,

Just to double-check...

> Each document is typically only around 2K in size. Each field is=20
> free-text indexed, but only the "key" field is stored.

> After experimenting, I've set
>    Java memory to 750MB
>    writer.mergeFactor =3D 10000
>    - and run an optimize every 50,000 documents to try to=20
> keep down the
> number of open files.
>=20
> So far, the furthest I've managed to get is 3 million docs,
> which used
>=20
>    22,913 simultaneous open files (the maximum on Windows is 2035!)
>    Up to 79 GB of disk space
>    Around 18 hours of indexing time

You get a 79GB index with 3 millions x 2KB documents? The documents
themselves make 6GB or so, which means that your indices take 13 times
the space needed to store the documents (if they were stored as files).

For a single stored field, this factor is pretty hard to believe. Am I
missing something?

Martin S=E9vigny


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:21:26 2003
Return-Path: 
 <lucene-user-return-5078-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84540 invoked from network); 28 Jul 2003 16:21:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:21:26 -0000
Received: (qmail 29150 invoked by uid 97); 28 Jul 2003 16:24:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29143 invoked from network); 28 Jul 2003 16:24:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:24:03 -0000
Received: (qmail 82391 invoked by uid 500); 28 Jul 2003 16:20:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82359 invoked from network); 28 Jul 2003 16:20:51 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:20:51 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 28 Jul 2003 11:20:44 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <PYC856XX>; Mon, 28 Jul 2003 11:20:44 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4E78@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 11:20:37 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oh, and you may be short on diskspace.... You must have double the amount of diskspace available as the end size of your index to call optimize - you may get by with less diskspace if just do a single merge - never calling optimize - but I'm not sure about this.  

Our index of 15 million documents is over 100 GB.  But the index size will vary a lot depending on how many of the fields you store (vs just index) and how big your documents are....

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:29:23 2003
Return-Path: 
 <lucene-user-return-5079-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99845 invoked from network); 28 Jul 2003 16:29:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:29:23 -0000
Received: (qmail 29331 invoked by uid 97); 28 Jul 2003 16:32:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29323 invoked from network); 28 Jul 2003 16:32:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:32:00 -0000
Received: (qmail 97260 invoked by uid 500); 28 Jul 2003 16:28:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97209 invoked from network); 28 Jul 2003 16:28:52 -0000
Received: from inet-mail1.oracle.com (148.87.2.201)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:28:52 -0000
Received: from rgmgw6.us.oracle.com (rgmgw6.us.oracle.com [138.1.191.15])
	by inet-mail1.oracle.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id
 h6SGSt4G024833
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 09:28:55 -0700 (PDT)
Received: from rgmgw6.us.oracle.com (localhost [127.0.0.1])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6SGSse22783
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 10:28:54 -0600 (MDT)
Received: from oracle.com (vpn-dc-10-172.uk.oracle.com [138.3.10.172])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6SGSre22736
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 10:28:53 -0600 (MDT)
Message-ID: <3F254F43.2060207@oracle.com>
Date: Mon, 28 Jul 2003 17:28:51 +0100
From: Roger Ford <roger.ford@oracle.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <79542328270D5F4BB8E29BED159D783B0871C268@gsnmp02es.ny.fw.gs.com>
In-Reply-To: <79542328270D5F4BB8E29BED159D783B0871C268@gsnmp02es.ny.fw.gs.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lichtner, Guglielmo wrote:
> That's 46 hits/s. That's not bad, actually.

It's not the time I'm worried about, so much as the disk consumption.
It's just failed optimizing 3 million documents with "No space left on
device". That's 100GB it's used!

Given that on my previous 16GB partition it managed 1.5 million rows
before failing, it looks like disk space requirements grow exponentially
with number of documents indexed.  Can anyone comment whether this
should be true?

> If there is a natural way to partition the documents (there might be, since
> they are so many), then you can manage the partition yourself and just
> search on 
> multiple indexes. It probably also makes the system more robust. In case
> someone

Believe it or not, this 10 million documents was meant to be a single
partition of a much larger dataset. I'm not sure I'm at liberty to
discuss in detail the data I'm indexing - but it's a massive
geneological database.

I think I'm going to have to limit the set to 2.5 million, and run
my tests on that instead.

- Roger


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:35:06 2003
Return-Path: 
 <lucene-user-return-5080-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15160 invoked from network); 28 Jul 2003 16:35:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:35:06 -0000
Received: (qmail 29485 invoked by uid 97); 28 Jul 2003 16:37:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29478 invoked from network); 28 Jul 2003 16:37:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 16:37:44 -0000
Received: (qmail 14559 invoked by uid 500); 28 Jul 2003 16:34:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14505 invoked from network); 28 Jul 2003 16:34:59 -0000
Received: from smtp7.wanadoo.fr (HELO mwinf0204.wanadoo.fr) (193.252.22.29)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:34:59 -0000
Received: from rousseau (APuteaux-104-1-2-71.w217-128.abo.wanadoo.fr
 [217.128.215.71])
	by mwinf0204.wanadoo.fr (SMTP Server) with ESMTP id 6F052A000117
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 18:35:01 +0200 (CEST)
From: "Martin Sevigny" <sevigny@ajlsm.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 18:36:46 +0200
Message-ID: <000e01c35526$700156c0$697ba8c0@SYMPATICOCA>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3416
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <3F254F43.2060207@oracle.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Roger,

> Given that on my previous 16GB partition it managed 1.5 million rows
> before failing, it looks like disk space requirements grow=20
> exponentially
> with number of documents indexed.  Can anyone comment whether this
> should be true?

Exponentially? Would be surprising.

When you add documents, I think these factors will make your index
larger :

- you add new terms =3D> this tends to disappear with the increase in
documents indexed if your data is in only one language for instance
- you add new references to documents with terms =3D> should not grow
exponentially, no?
- you add new contents in stored fields : this shoud be proportional to
the number of documents, and since you only have one stored field...

I've seen indices being somewhat around 20% larger than the data
indexed, with a few stored fields, for a few thousand documents indexed.

I'm still not convinced that you don't have a problem somewhere else. I
did'nt inspect your code, but are you sure that you are not indexing
data more than once? Or storing lots of fields?

Martin S=E9vigny


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 16:57:47 2003
Return-Path: 
 <lucene-user-return-5081-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78021 invoked from network); 28 Jul 2003 16:57:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:57:47 -0000
Received: (qmail 218 invoked by uid 97); 28 Jul 2003 17:00:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 211 invoked from network); 28 Jul 2003 17:00:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 17:00:25 -0000
Received: (qmail 74953 invoked by uid 500); 28 Jul 2003 16:57:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74873 invoked from network); 28 Jul 2003 16:57:10 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 28 Jul 2003 16:57:10 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 28 Jul 2003 11:57:12 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <PYC86FTC>; Mon, 28 Jul 2003 11:57:11 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4E79@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 11:57:02 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would say that something definitely went wrong to make your index that big that early - now that I saw you are only storing one field.

Even if you make your indexes partitioned at 2.5 instead of 10 million (which you probably don't need to do) I would still recommend that you lower your mergeFactor - when I was testing, I had the best performance on my machine at 90.  It will probably vary a little bit based on how fast your disk is, etc. 

When you have it set that high, what you end up doing is using a lot of memory - and a lot of file handles (which you noticed).... And then pausing for a good while while you do all of your disk writes at once.  At a lower number, you will be able to take advantage of hardware level write buffering, etc. by doing more smaller writes and get better performance.  At least that was my experience.  I have also used the RAM index - and found its performance to be _worse_ than a properly configured file index - because the ram index ends up writing the whole thing out to disk at once.  And its even worse if you are merging it with a master index every X documents, rather than just writing it out to a blank spot on disk, because you really end up repeatedly reading and writing the older parts of the index.

Also - Optimizing kills your indexing speed performance... What you are doing is stopping indexing, and then reading the entire index in, and writing it out to a new set of files.  So, this gets slower and slower as your index gets larger.

If you set your mergeFactor back down to something closer to the default (10) - you probably wouldn't have any problems with file handles.  The higher you make it, the more open files you will have.  When I set it at 90 for performance reasons, I would run out of file handles (on XP) somewhere after 100,000 documents.  So, I simply create a new index every 100,000 documents.  This way, I get the best of both worlds.  Performance while indexing from a relatively high mergefactor, and non-excessive file handle usage (without calling optimize), from closing the index before it gets huge.  I am never recopying the index over itself until the last step, when I merge all of the indexes into one master index.  

Plus, with multiple (relatively) small indexes, you can keep them on different disk drives - and when you do your final merge, read them from one drive, and write them to another to help get around the issue of needing double the disk space free to do the merging/optimizing.  And if you make a mistake along the way (which I am prone to) or a sysadmin kills one of your processes or something like that - you only end up with one small corrupt index, which can be quickly rebuilt, instead of your master index.  

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 17:10:06 2003
Return-Path: 
 <lucene-user-return-5082-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5548 invoked from network); 28 Jul 2003 17:10:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 17:10:06 -0000
Received: (qmail 648 invoked by uid 97); 28 Jul 2003 17:12:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 639 invoked from network); 28 Jul 2003 17:12:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 17:12:44 -0000
Received: (qmail 5177 invoked by uid 500); 28 Jul 2003 17:10:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5159 invoked from network); 28 Jul 2003 17:10:01 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 28 Jul 2003 17:10:01 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA1C19
          for <lucene-user@jakarta.apache.org>;
          Mon, 28 Jul 2003 19:10:03 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Different Analyzer for each Field
Date: Mon, 28 Jul 2003 19:09:59 +0200
Message-ID: <002601c3552b$143ecac0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi Claude,

one solution is to make the tokenStream method in the Analyzer subclass
listen to the field name. Example:

	public TokenStream tokenStream(String fieldName, Reader reader) {
		TokenStream result = new StandardTokenizer(reader);

		result = new StandardFilter(result);
		result = new LowerCaseFilter(result);
		result = new StopFilter(result, stoptable);
		if (fieldName.startsWith("phonetic_") && phon != null) {
			result = new PhoneticFilter(result, phon);
			return result;
		}
		result = new SnowballFilter(result, "German");
		return result;
	}

(In my index I have phonetically encoded fields that are filtered
differently.)

Ciao, Gregor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 17:28:11 2003
Return-Path: 
 <lucene-user-return-5083-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49770 invoked from network); 28 Jul 2003 17:28:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 17:28:11 -0000
Received: (qmail 1280 invoked by uid 97); 28 Jul 2003 17:30:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1273 invoked from network); 28 Jul 2003 17:30:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 17:30:49 -0000
Received: (qmail 49482 invoked by uid 500); 28 Jul 2003 17:28:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49470 invoked from network); 28 Jul 2003 17:28:07 -0000
Received: from sccrmhc12.comcast.net (204.127.202.56)
  by daedalus.apache.org with SMTP; 28 Jul 2003 17:28:07 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc12) with SMTP
          id <20030728172810012001rm1se>; Mon, 28 Jul 2003 17:28:11 +0000
Message-ID: <3F255D27.6010006@lucene.com>
Date: Mon, 28 Jul 2003 10:28:07 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <818623B5FD23D51193200002B32C076106FE4E79@excsrv44.mayo.edu>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4E79@excsrv44.mayo.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Armbrust, Daniel C. wrote:
> If you set your mergeFactor back down to something closer to the default (10) - you probably wouldn't have any problems with file handles.  The higher you make it, the more open files you will have.  When I set it at 90 for performance reasons, I would run out of file handles (on XP) somewhere after 100,000 documents.  So, I simply create a new index every 100,000 documents.  This way, I get the best of both worlds.  Performance while indexing from a relatively high mergefactor, and non-excessive file handle usage (without calling optimize), from closing the index before it gets huge.  I am never recopying the index over itself until the last step, when I merge all of the indexes into one master index.  

I have used a mergeFactor of 50 with three indexed fields to build 
indexes with in excess of 5 million documents without incident and with 
good performance.

The maximum number of open files while indexing is:
   (7 + indexedFields) * mergeFactor
So with a mergeFactor of 50 and three indexed fields, indexing should 
never open more than 500 files at once, which is well beneath the 
default Linux limit.

For batched indexing I recommend: (1) increasing mergeFactor somewhat, 
depending on how many indexed fields you have; (2) adding all of your 
documents; and (3) optimizing once at the end.

In my opinion, and by design, intermediate optimizations are a hassle 
that provide little advantage, as Lucene does this automatically for 
you.  Lots of folks on this list have recommended complex strategies 
combining very large mergeFactors with explicit intermediate index 
optimization, but I encourage you to avoid these techniques and use the 
simple strategy described here.

It is important to optimize large indexes: it makes searches much 
faster, and vastly reduces the number of file handles required when 
searching.  But, as other posters have noted, optimization is expensive, 
thus indexes should only be optimized when indexing is complete. 
However for rapidly changing collections, deciding when to optimize is 
more tricky and application dependent...

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 21:11:34 2003
Return-Path: 
 <lucene-user-return-5084-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4129 invoked from network); 28 Jul 2003 21:11:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:11:34 -0000
Received: (qmail 8674 invoked by uid 97); 28 Jul 2003 21:14:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8666 invoked from network); 28 Jul 2003 21:14:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 21:14:15 -0000
Received: (qmail 3533 invoked by uid 500); 28 Jul 2003 21:11:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3480 invoked from network); 28 Jul 2003 21:11:28 -0000
Received: from unknown (HELO sba03.sba.cj.com) (207.71.241.81)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:11:28 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 14:11:34 -0700
Message-ID: <B2671BA904946B44AA2C84B8EC8C7858A0D9D5@cj-qa1.cj.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing very large sets (10 million docs)
Thread-Index: AcNVLaYL+f4MzHYSQ+Ob1SLBH2W+kwAHtHvA
From: "Ryan Clifton" <rclifton@cj.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

You seem to by implying that it is possible to optimize very large =
indexes.  My index has a couple million records, but more importantly =
it's about 40 gigs in size.  I have tried many times to optimize it and =
this always results in hitting the Linux file size limit.  Is there  a =
way to get around this?  I have the merge factor and max merge docs set, =
but the optimization process seems to ignore those fields. =20

I have just been accepting the slower (unoptimized) search times as a =
fact of life..

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Monday, July 28, 2003 10:28 AM
To: Lucene Users List
Subject: Re: Indexing very large sets (10 million docs)


Armbrust, Daniel C. wrote:
> If you set your mergeFactor back down to something closer to the =
default (10) - you probably wouldn't have any problems with file =
handles.  The higher you make it, the more open files you will have.  =
When I set it at 90 for performance reasons, I would run out of file =
handles (on XP) somewhere after 100,000 documents.  So, I simply create =
a new index every 100,000 documents.  This way, I get the best of both =
worlds.  Performance while indexing from a relatively high mergefactor, =
and non-excessive file handle usage (without calling optimize), from =
closing the index before it gets huge.  I am never recopying the index =
over itself until the last step, when I merge all of the indexes into =
one master index. =20

I have used a mergeFactor of 50 with three indexed fields to build=20
indexes with in excess of 5 million documents without incident and with=20
good performance.

The maximum number of open files while indexing is:
   (7 + indexedFields) * mergeFactor
So with a mergeFactor of 50 and three indexed fields, indexing should=20
never open more than 500 files at once, which is well beneath the=20
default Linux limit.

For batched indexing I recommend: (1) increasing mergeFactor somewhat,=20
depending on how many indexed fields you have; (2) adding all of your=20
documents; and (3) optimizing once at the end.

In my opinion, and by design, intermediate optimizations are a hassle=20
that provide little advantage, as Lucene does this automatically for=20
you.  Lots of folks on this list have recommended complex strategies=20
combining very large mergeFactors with explicit intermediate index=20
optimization, but I encourage you to avoid these techniques and use the=20
simple strategy described here.

It is important to optimize large indexes: it makes searches much=20
faster, and vastly reduces the number of file handles required when=20
searching.  But, as other posters have noted, optimization is expensive, =

thus indexes should only be optimized when indexing is complete.=20
However for rapidly changing collections, deciding when to optimize is=20
more tricky and application dependent...

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 21:26:34 2003
Return-Path: 
 <lucene-user-return-5085-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25649 invoked from network); 28 Jul 2003 21:26:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:26:34 -0000
Received: (qmail 8976 invoked by uid 97); 28 Jul 2003 21:29:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8969 invoked from network); 28 Jul 2003 21:29:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 21:29:14 -0000
Received: (qmail 25356 invoked by uid 500); 28 Jul 2003 21:26:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25343 invoked from network); 28 Jul 2003 21:26:30 -0000
Received: from sccrmhc13.comcast.net (204.127.202.64)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:26:30 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc13) with SMTP
          id <2003072821263501600g0abre>; Mon, 28 Jul 2003 21:26:35 +0000
Message-ID: <3F259509.7@lucene.com>
Date: Mon, 28 Jul 2003 14:26:33 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <B2671BA904946B44AA2C84B8EC8C7858A0D9D5@cj-qa1.cj.com>
In-Reply-To: <B2671BA904946B44AA2C84B8EC8C7858A0D9D5@cj-qa1.cj.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ryan Clifton wrote:
> You seem to by implying that it is possible to optimize very large indexes.  My index has a couple million records, but more importantly it's about 40 gigs in size.  I have tried many times to optimize it and this always results in hitting the Linux file size limit.  Is there  a way to get around this?  I have the merge factor and max merge docs set, but the optimization process seems to ignore those fields.  

On Redhat 8.0 I have built indexes whose total size is 49GB and whose 
largest file (the .prx) is 28GB.  I haven't yet tried to build anything 
larger, so I don't know exactly where the limit is.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 21:32:22 2003
Return-Path: 
 <lucene-user-return-5086-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31492 invoked from network); 28 Jul 2003 21:32:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:32:22 -0000
Received: (qmail 9099 invoked by uid 97); 28 Jul 2003 21:35:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9092 invoked from network); 28 Jul 2003 21:35:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 21:35:03 -0000
Received: (qmail 31230 invoked by uid 500); 28 Jul 2003 21:32:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31210 invoked from network); 28 Jul 2003 21:32:19 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:32:19 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by
 mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org;
 Mon, 28 Jul 2003 16:32:15 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <PYC88KWM>; Mon, 28 Jul 2003 16:32:14 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4E7F@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing very large sets (10 million docs)
Date: Mon, 28 Jul 2003 16:32:12 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Execute 'ulimit -f' to see what your current limit is... And then change appropriately after reading the man pages.  My redhat machines come up with an unlimited file size limit.  I don't know what the real limit is of an "unlimited" limit - but I haven't found it yet....

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Jul 28 21:48:37 2003
Return-Path: 
 <lucene-user-return-5087-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63602 invoked from network); 28 Jul 2003 21:48:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:48:37 -0000
Received: (qmail 9607 invoked by uid 97); 28 Jul 2003 21:51:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9600 invoked from network); 28 Jul 2003 21:51:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Jul 2003 21:51:17 -0000
Received: (qmail 63302 invoked by uid 500); 28 Jul 2003 21:48:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63287 invoked from network); 28 Jul 2003 21:48:33 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 28 Jul 2003 21:48:33 -0000
Received: from dstc.edu.au (m081-174.nv.iinet.net.au [203.217.81.174])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6SLmVXS016406
	for <lucene-user@jakarta.apache.org>; Mon, 28 Jul 2003 23:48:36 +0200 (MEST)
Message-ID: <3F259A4F.7060001@dstc.edu.au>
Date: Tue, 29 Jul 2003 07:49:03 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <79542328270D5F4BB8E29BED159D783B0871C268@gsnmp02es.ny.fw.gs.com>
 <3F254F43.2060207@oracle.com>
In-Reply-To: <3F254F43.2060207@oracle.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Roger Ford wrote:
[...index size troubles...]

> Believe it or not, this 10 million documents was meant to be a single
> partition of a much larger dataset. I'm not sure I'm at liberty to
> discuss in detail the data I'm indexing - but it's a massive
> geneological database. 

Roger,

maybe your data type is the problem. Did you check what kind of terms 
you get? (you can use http://www.getopt.org/luke/ for that) I can 
imagine that tokenizing just goes wrong, thus creating a few terms too 
many. And maybe a high hit rate for each term, too. Both would increase 
the index size -- at least if I would write an index with my limited 
knowledge about the field :-)

  Peter



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 07:49:12 2003
Return-Path: 
 <lucene-user-return-5096-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73097 invoked from network); 30 Jul 2003 07:49:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 07:49:12 -0000
Received: (qmail 4506 invoked by uid 97); 30 Jul 2003 07:51:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4499 invoked from network); 30 Jul 2003 07:51:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 07:51:56 -0000
Received: (qmail 72503 invoked by uid 500); 30 Jul 2003 07:49:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72464 invoked from network); 30 Jul 2003 07:49:04 -0000
Received: from orion.info.ucl.ac.be (HELO student.info.ucl.ac.be)
 (130.104.228.187)
  by daedalus.apache.org with SMTP; 30 Jul 2003 07:49:04 -0000
Received: from student.fsa.ucl.ac.be (ns1.denali.be [194.183.235.197])
	by student.info.ucl.ac.be (Postfix) with ESMTP id 9A3B560FC6
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 09:47:10 +0200 (MEST)
Date: Tue, 29 Jul 2003 09:10:07 +0200
Subject: Re: Different Analyzer for each Field
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Claude Libois <clibois@student.fsa.ucl.ac.be>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <002601c3552b$143ecac0$49098c92@pcara>
Message-Id: <AF79ECA0-C193-11D7-8C65-000502117478@student.fsa.ucl.ac.be>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you for all your answer. Gregor I will do what you told me. It's 
exactly what I need.
Claude

On Monday, July 28, 2003, at 07:09 PM, Gregor Heinrich wrote:

>
> Hi Claude,
>
> one solution is to make the tokenStream method in the Analyzer subclass
> listen to the field name. Example:
>
> 	public TokenStream tokenStream(String fieldName, Reader reader) {
> 		TokenStream result = new StandardTokenizer(reader);
>
> 		result = new StandardFilter(result);
> 		result = new LowerCaseFilter(result);
> 		result = new StopFilter(result, stoptable);
> 		if (fieldName.startsWith("phonetic_") && phon != null) {
> 			result = new PhoneticFilter(result, phon);
> 			return result;
> 		}
> 		result = new SnowballFilter(result, "German");
> 		return result;
> 	}
>
> (In my index I have phonetically encoded fields that are filtered
> differently.)
>
> Ciao, Gregor
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 09:56:09 2003
Return-Path: 
 <lucene-user-return-5088-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22713 invoked from network); 29 Jul 2003 09:56:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 09:56:09 -0000
Received: (qmail 23652 invoked by uid 97); 29 Jul 2003 09:58:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23645 invoked from network); 29 Jul 2003 09:58:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 09:58:57 -0000
Received: (qmail 22432 invoked by uid 500); 29 Jul 2003 09:56:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22416 invoked from network); 29 Jul 2003 09:56:05 -0000
Received: from mailhost.magus.co.uk (HELO dougal.magus.co.uk) (193.130.109.2)
  by daedalus.apache.org with SMTP; 29 Jul 2003 09:56:05 -0000
content-class: urn:content-classes:message
Subject: RE: Lucene MBean service for JBoss
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 29 Jul 2003 10:51:37 +0100
Message-ID: <F9C5D2C9431730468B5F1010C373671B077982@dougal.magus.co.uk>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene MBean service for JBoss
Thread-Index: AcNPDdy0z0ZVErE3R6qd+qOg5bG0kgGqPfSg
From: "Dan Hanley" <dan@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Andy
This looks like a very useful MBean (quite a bit more developed than the =
one I was working on).=20

One quick query on the quickstart example though, when I run it I get =
the output twice:


-----Original Message-----
From: Andy Scholz [mailto:andy.scholz@exodelta.com]
Sent: 20 July 2003 23:29
To: lucene-user@jakarta.apache.org
Subject: Lucene MBean service for JBoss


Hi All,

For those that may be interested, I have written a full text indexing=20
service for the JBoss application server that uses Lucene as its engine. =
It=20
allows lucene to be used as a service rather than a standalone app with=20
thread pooling, access synchronization, management etc. Index and search =

interfaces are accessable via JNDI and remotely via session EJB's.

Additionally I have provided content filters for common formats like =
HTML,=20
MSWord, MSExcel, xml etc (with some help from other projects). A simple=20
interface also allows you to write your own filters for different =
formats.

It is available under an LGPL license and source code, binaries and info =

are avaialble here:
http://ejindex.sourceforge.net

I'd love to get some feedback, so if your iterested, please let me know=20
your comments or suggestions;)

regards,
Andy Scholz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 09:57:44 2003
Return-Path: 
 <lucene-user-return-5089-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24471 invoked from network); 29 Jul 2003 09:57:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 09:57:44 -0000
Received: (qmail 23693 invoked by uid 97); 29 Jul 2003 10:00:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23686 invoked from network); 29 Jul 2003 10:00:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 10:00:32 -0000
Received: (qmail 24115 invoked by uid 500); 29 Jul 2003 09:57:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24103 invoked from network); 29 Jul 2003 09:57:41 -0000
Received: from mailhost.magus.co.uk (HELO dougal.magus.co.uk) (193.130.109.2)
  by daedalus.apache.org with SMTP; 29 Jul 2003 09:57:41 -0000
content-class: urn:content-classes:message
Subject: RE: Lucene MBean service for JBoss
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 29 Jul 2003 10:53:13 +0100
Message-ID: <F9C5D2C9431730468B5F1010C373671B077983@dougal.magus.co.uk>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene MBean service for JBoss
Thread-Index: AcNPDdy0z0ZVErE3R6qd+qOg5bG0kgGqPfSgAAAON1A=
From: "Dan Hanley" <dan@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, hit send too soon....

The output gives:
id: jboss.org/index.html, title: jboss home, author: someone-at-jboss, =
rating: 9.5, dateAdded: Tue Jul 29 10:48:03 BST 2003
summary: JBoss :: Professional Open Source @import =
url("themes/impact/style/style.css"); JBoss 3.0  Bundled Partner =
Software
JBoss 2.4  Complete List  FAQ General Documentation User Development =
Training Consu
id: jboss.org/index.html, title: jboss home, author: someone-at-jboss, =
rating: 9.5, dateAdded: Tue Jul 29 10:33:47 BST 2003
summary: JBoss :: Professional Open Source @import =
url("themes/impact/style/style.css"); JBoss 3.0  Bundled Partner =
Software
JBoss 2.4  Complete List  FAQ General Documentation User Development =
Training Consu

so it seems that:
while(results.moveNext())

iterates twice, or am I missing something?

Dan

-----Original Message-----
From: Dan Hanley=20
Sent: 29 July 2003 10:52
To: Lucene Users List
Subject: RE: Lucene MBean service for JBoss


Hi Andy
This looks like a very useful MBean (quite a bit more developed than the =
one I was working on).=20

One quick query on the quickstart example though, when I run it I get =
the output twice:


-----Original Message-----
From: Andy Scholz [mailto:andy.scholz@exodelta.com]
Sent: 20 July 2003 23:29
To: lucene-user@jakarta.apache.org
Subject: Lucene MBean service for JBoss


Hi All,

For those that may be interested, I have written a full text indexing=20
service for the JBoss application server that uses Lucene as its engine. =
It=20
allows lucene to be used as a service rather than a standalone app with=20
thread pooling, access synchronization, management etc. Index and search =

interfaces are accessable via JNDI and remotely via session EJB's.

Additionally I have provided content filters for common formats like =
HTML,=20
MSWord, MSExcel, xml etc (with some help from other projects). A simple=20
interface also allows you to write your own filters for different =
formats.

It is available under an LGPL license and source code, binaries and info =

are avaialble here:
http://ejindex.sourceforge.net

I'd love to get some feedback, so if your iterested, please let me know=20
your comments or suggestions;)

regards,
Andy Scholz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 17:52:55 2003
Return-Path: 
 <lucene-user-return-5090-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48545 invoked from network); 29 Jul 2003 17:52:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 17:52:55 -0000
Received: (qmail 11497 invoked by uid 97); 29 Jul 2003 17:55:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11490 invoked from network); 29 Jul 2003 17:55:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 17:55:34 -0000
Received: (qmail 48257 invoked by uid 500); 29 Jul 2003 17:52:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48236 invoked from network); 29 Jul 2003 17:52:51 -0000
Received: from smtp-2b.paradise.net.nz (HELO smtp-2.paradise.net.nz)
 (202.0.32.211)
  by daedalus.apache.org with SMTP; 29 Jul 2003 17:52:51 -0000
Received: from voyager (203-79-83-4.cable.paradise.net.nz [203.79.83.4])
	by smtp-2.paradise.net.nz (Postfix) with ESMTP id D5E8D9E702
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 05:52:54 +1200 (NZST)
Date: Wed, 30 Jul 2003 05:52:53 +1200
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene MBean service for JBoss
Content-Type: text/plain; charset=iso-8859-15; format=flowed
References: <F9C5D2C9431730468B5F1010C373671B077983@dougal.magus.co.uk>
From: Andy Scholz <andy.scholz@exodelta.com>
Organization: exodelta
MIME-Version: 1.0
Message-ID: <oprs22mfgm7u9gqe@smtp.paradise.net.nz>
In-Reply-To: <F9C5D2C9431730468B5F1010C373671B077983@dougal.magus.co.uk>
User-Agent: Opera7.11/Win32 M2 build 2887
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Dan,

I'm not sure whats going on there, I've checked the moveNext & it seems OK. 
It seems that somehow the page got indexed twice, or two hits are being 
returned for some reason. I cant replicate get this tho so I'd aprreciate 
any more info you might be able to give me - e.g. if you comment out the 
setDocumentURL (so that only metadata is indexed) and change the query to 
to something like "title:jboss", does it sill return two hits. Also there 
are some unit tests in the ejindexXX_tests.zip file you might want to run - 
this has a bunch of tests that test the service both locally and remotely - 
these should(!) fail if there is a problem and hopefully give more 
indication as to what the problem might be.

Thanks for your feedback!

Regards,
Andy Scholz

>
> Hi Andy
> This looks like a very useful MBean (quite a bit more developed than the 
> one I was working on).
>
> One quick query on the quickstart example though, when I run it I get the 
> output twice:
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 20:50:39 2003
Return-Path: 
 <lucene-user-return-5091-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93850 invoked from network); 29 Jul 2003 20:50:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 20:50:39 -0000
Received: (qmail 17251 invoked by uid 97); 29 Jul 2003 20:53:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17244 invoked from network); 29 Jul 2003 20:53:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 20:53:19 -0000
Received: (qmail 93508 invoked by uid 500); 29 Jul 2003 20:50:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93496 invoked from network); 29 Jul 2003 20:50:36 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 29 Jul 2003 20:50:36 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h6TKTo4b014633
	for <lucene-user@jakarta.apache.org>; Tue, 29 Jul 2003 13:49:54 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Tue, 29 Jul 2003 13:50:53 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 29 Jul 2003 13:50:41 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Safe to write while optimizing?
Date: Tue, 29 Jul 2003 13:50:40 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876017CC96A@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Safe to write while optimizing?
Thread-Index: AcNVUjh0a+7GwdtIReCWi3idpfmcrgAvzSfw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 29 Jul 2003 20:50:41.0273 (UTC)
 FILETIME=[12968E90:01C35613]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Three questions:
- Is it safe to have two IndexWriters open on the same index?
- Is it safe to have two IndexWriters adding a document concurrently?
- Is it safe to add a document while another IndexWriter is optimizing
the index?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 21:27:36 2003
Return-Path: 
 <lucene-user-return-5092-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54577 invoked from network); 29 Jul 2003 21:27:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 21:27:36 -0000
Received: (qmail 18770 invoked by uid 97); 29 Jul 2003 21:30:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18763 invoked from network); 29 Jul 2003 21:30:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 21:30:15 -0000
Received: (qmail 52312 invoked by uid 500); 29 Jul 2003 21:27:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52250 invoked from network); 29 Jul 2003 21:27:07 -0000
Received: from sccrmhc13.comcast.net (204.127.202.64)
  by daedalus.apache.org with SMTP; 29 Jul 2003 21:27:07 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc13) with SMTP
          id <2003072921271301600b682ne>; Tue, 29 Jul 2003 21:27:13 +0000
Message-ID: <3F26E6AF.5030305@lucene.com>
Date: Tue, 29 Jul 2003 14:27:11 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Safe to write while optimizing?
References: 
 <496A2C679221504D8B8AE4B10267E876017CC96A@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876017CC96A@gb-sm-cala-xm11.corp.disney.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Wilton, Reece wrote:
> Three questions:
> - Is it safe to have two IndexWriters open on the same index?

No.  It is not safe, and the code makes every attempt to prohibit it.

> - Is it safe to have two IndexWriters adding a document concurrently?

No, but you can have two threads adding documents to a single 
IndexWriter concurrently.

> - Is it safe to add a document while another IndexWriter is optimizing
> the index?

No, but, so long as you use a single IndexWriter object, synchronization 
should handle things correctly so that one thread can add documents 
while another optimizes.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Jul 29 23:37:17 2003
Return-Path: 
 <lucene-user-return-5093-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39766 invoked from network); 29 Jul 2003 23:37:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jul 2003 23:37:17 -0000
Received: (qmail 22019 invoked by uid 97); 29 Jul 2003 23:39:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22012 invoked from network); 29 Jul 2003 23:39:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Jul 2003 23:39:58 -0000
Received: (qmail 39451 invoked by uid 500); 29 Jul 2003 23:37:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39438 invoked from network); 29 Jul 2003 23:37:14 -0000
Received: from mail.disney.com (204.128.192.15)
  by daedalus.apache.org with SMTP; 29 Jul 2003 23:37:14 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h6TNFQri007264
	for <lucene-user@jakarta.apache.org>; Tue, 29 Jul 2003 16:36:34 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com by hermes.corp.disney.com
 with ESMTP; Tue, 29 Jul 2003 16:37:33 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 29 Jul 2003 16:37:18 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Safe to write while optimizing?
Date: Tue, 29 Jul 2003 16:37:18 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7AB9@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Safe to write while optimizing?
Thread-Index: AcNWGEP+wTVJTvDQSVKgSzuNa8zujAAEd/TA
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 29 Jul 2003 23:37:18.0946 (UTC)
 FILETIME=[59AA6420:01C3562A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the reply. =20

Just to clarify:
You are saying that I can optimize and add a document at the same time
as long as both threads use the same IndexWriter.  Is that correct?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Tuesday, July 29, 2003 2:27 PM
To: Lucene Users List
Subject: Re: Safe to write while optimizing?


Wilton, Reece wrote:
> Three questions:
> - Is it safe to have two IndexWriters open on the same index?

No.  It is not safe, and the code makes every attempt to prohibit it.

> - Is it safe to have two IndexWriters adding a document concurrently?

No, but you can have two threads adding documents to a single=20
IndexWriter concurrently.

> - Is it safe to add a document while another IndexWriter is optimizing

> the index?

No, but, so long as you use a single IndexWriter object, synchronization

should handle things correctly so that one thread can add documents=20
while another optimizes.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 00:55:41 2003
Return-Path: 
 <lucene-user-return-5094-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30796 invoked from network); 30 Jul 2003 00:55:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 00:55:41 -0000
Received: (qmail 23892 invoked by uid 97); 30 Jul 2003 00:58:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23885 invoked from network); 30 Jul 2003 00:58:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 00:58:23 -0000
Received: (qmail 30477 invoked by uid 500); 30 Jul 2003 00:55:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30466 invoked from network); 30 Jul 2003 00:55:37 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 30 Jul 2003 00:55:37 -0000
Received: from kelvin (adsl-210-193-14-213.qala.com.sg [210.193.14.213])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h6U0tgt01675
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 08:55:42 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service.
 Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Wed, 30 Jul 2003 08:56:04 +0800
In-Reply-To: <3F26D02D@mail.totalise.co.uk>
Message-ID: <20037308564.312789@kelvin>
Subject: Fwd: Lucene highlighting
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

An update of Maik's code for Lucene 1.2. Mark says

> It shouldnt be too hard to add-in the fuzzy/prefix/wildcard=
 options to my 
code
> once the core Lucene API exposes the necessary methods.


--- Original Message ---
From: "Mark Harwood" <markharwood@totalise.co.uk>
To:  <lists-kelvin@relevanz.com>
Cc:
Sent: Tue, 29 Jul 2003 11:20:06 +0100
Subject: Lucene highlighting
 
>Hi Kelvin,
<snip>
>
>You may be interested in some extension I did to Maik's work=
 too.
>It can do "best snippets" highlighting from large bodies of=
 text.
>
>See here for details
>
>http://home.clara.net/markharwood/lucene/highlight.htm
>
>
>Cheers
>Mark





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 01:08:23 2003
Return-Path: 
 <lucene-user-return-5095-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43023 invoked from network); 30 Jul 2003 01:08:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 01:08:23 -0000
Received: (qmail 24056 invoked by uid 97); 30 Jul 2003 01:11:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24049 invoked from network); 30 Jul 2003 01:11:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 01:11:06 -0000
Received: (qmail 42766 invoked by uid 500); 30 Jul 2003 01:08:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42749 invoked from network); 30 Jul 2003 01:08:20 -0000
Received: from gum.itee.uq.edu.au (130.102.66.1)
  by daedalus.apache.org with SMTP; 30 Jul 2003 01:08:20 -0000
Received: from nut.itee.uq.edu.au (nut.itee.uq.edu.au [130.102.66.13])
	by gum.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h6U18QYY006391
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 11:08:26 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by nut.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h6U18PKj007826
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 11:08:25 +1000 (EST)
Message-ID: <3F271A89.2080908@dstc.edu.au>
Date: Wed, 30 Jul 2003 11:08:25 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Term frequency on result sets
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -5.2
X-Spam-Tests: BAYES_00,USER_AGENT_MOZILLA_UA
X-Spam-Report: -5.20 points, 8 required;
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -5.2 -- BODY: Bayesian classifier says spam probability is 0 to 1%
	          [score: 0.0091]
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

I am interested in comparing different query result sets in term of term 
frequency. Questions I'd like to answer are:

- what are the N most common terms in a result set?
- how often does term X occur in a certain result set?

The second one is of course easy to do with a boolean query, but the 
first one is something I couldn't figure out yet. I had a look at how 
Luke does it on the document collection, but I can't see how this can be 
applied to a result set. Any hints for me?

Thanks,
  Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 10:16:47 2003
Return-Path: 
 <lucene-user-return-5098-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85341 invoked from network); 30 Jul 2003 10:16:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 10:16:47 -0000
Received: (qmail 11052 invoked by uid 97); 30 Jul 2003 10:19:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11044 invoked from network); 30 Jul 2003 10:19:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 10:19:36 -0000
Received: (qmail 85082 invoked by uid 500); 30 Jul 2003 10:16:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85069 invoked from network); 30 Jul 2003 10:16:44 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 30 Jul 2003 10:16:44 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA2D0C
          for <lucene-user@jakarta.apache.org>;
          Wed, 30 Jul 2003 12:16:56 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Multiple fields identical terms.
Date: Wed, 30 Jul 2003 12:16:47 +0200
Message-ID: <001e01c35683$b0064010$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3F271A89.2080908@dstc.edu.au>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi everyone,

my index has a title and an abstract field, both inverted and tokenized.

I would like to have unique term texts in my term enumeration. That is,
across all fields there should be no duplicate term text.

An easy solution would be to only use one field.

But does someone know an alternative way with multiple fields?

Best regards,

Gregor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 12:40:10 2003
Return-Path: 
 <lucene-user-return-5099-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6036 invoked from network); 30 Jul 2003 12:40:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 12:40:10 -0000
Received: (qmail 20157 invoked by uid 97); 30 Jul 2003 12:42:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20150 invoked from network); 30 Jul 2003 12:42:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 12:42:45 -0000
Received: (qmail 5728 invoked by uid 500); 30 Jul 2003 12:40:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5714 invoked from network); 30 Jul 2003 12:40:06 -0000
Received: from mail5.atl.registeredsite.com (64.224.219.79)
  by daedalus.apache.org with SMTP; 30 Jul 2003 12:40:06 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail5.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6UBfd01009814
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 07:41:39 -0400
Received: (qmail 59406 invoked by uid 89); 30 Jul 2003 12:41:34 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.59.106)
  by mail.artaspectsgallery.com with SMTP; 30 Jul 2003 12:41:34 -0000
Date: Wed, 30 Jul 2003 08:40:11 -0400
Subject: Re: Multiple fields identical terms.
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <001e01c35683$b0064010$49098c92@pcara>
Message-Id: <F5FCC5C5-C28A-11D7-B537-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday, July 30, 2003, at 06:16  AM, Gregor Heinrich wrote:
> I would like to have unique term texts in my term enumeration. That is,
> across all fields there should be no duplicate term text.
>
> An easy solution would be to only use one field.
>
> But does someone know an alternative way with multiple fields?

What about putting both abstract and title together into a single new 
field called "keywords"?  Leave title and abstract there as well, but 
just append the two strings together (with a space in the middle to 
tokenize properly! :).

Is that a reasonable alternative?  What are you trying to accomplish?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 07:17:50 2003
Return-Path: 
 <lucene-user-return-5111-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20172 invoked from network); 31 Jul 2003 07:17:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:17:50 -0000
Received: (qmail 19445 invoked by uid 97); 31 Jul 2003 07:20:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19438 invoked from network); 31 Jul 2003 07:20:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 07:20:37 -0000
Received: (qmail 19944 invoked by uid 500); 31 Jul 2003 07:17:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19933 invoked from network); 31 Jul 2003 07:17:47 -0000
Received: from orion.info.ucl.ac.be (HELO student.info.ucl.ac.be)
 (130.104.228.187)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:17:47 -0000
Received: from student.fsa.ucl.ac.be (197-235-183-194.adsl.perceval.be
 [194.183.235.197])
	by student.info.ucl.ac.be (Postfix) with ESMTP id 4EC8960FC0
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 09:15:49 +0200 (MEST)
Date: Wed, 30 Jul 2003 16:04:59 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: multipart/alternative; boundary=Apple-Mail-2--337678967
Subject: Using javacc for QueryParser.jj
From: Claude Libois <clibois@student.fsa.ucl.ac.be>
To: lucene-user@jakarta.apache.org
Message-Id: <CE814CCC-C296-11D7-9237-000502117478@student.fsa.ucl.ac.be>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--Apple-Mail-2--337678967
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

Hello. I wanted to use the Highlighter from Maik Schreiber but i had a 
big problem:
In order to use it I need to change Lucene core . That's what I did but 
there is a file QueryParser.jj and I don't know how to compile it. I 
found that I have to use javacc but I don't know how. Can someone help 
me whih that?
CLaude
--Apple-Mail-2--337678967--


From MAILER-DAEMON Wed Jul 30 14:12:08 2003
Return-Path: 
 <lucene-user-return-5100-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34603 invoked from network); 30 Jul 2003 14:12:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:12:08 -0000
Received: (qmail 23994 invoked by uid 97); 30 Jul 2003 14:14:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23987 invoked from network); 30 Jul 2003 14:14:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 14:14:45 -0000
Received: (qmail 34304 invoked by uid 500); 30 Jul 2003 14:12:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34293 invoked from network); 30 Jul 2003 14:12:05 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:12:05 -0000
Received: from morus.xipolis.net (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP
	id 8F5C219B718; Wed, 30 Jul 2003 16:11:54 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h6UEBEY09797;
	Wed, 30 Jul 2003 16:11:14 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16167.53762.766191.172922@morus.xipolis.net>
Date: Wed, 30 Jul 2003 16:11:14 +0200
To: lucene-user@jakarta.apache.org
Subject: Lucene Index on NFS Server
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm currently planing a web application using lucene for search.

There will be two web server maschines responable for the application
and the searches. Two maschines basically to be failsafe, load is not
expected to be a problem initially, though this might change over time.
So scaling is a minor concern but not completely irrelevant.

Now the question is, where to put the lucene index:
a) each web server might hold a copy of the lucene index
   In this case the index might be updated on a third copy and then
   copied to the web servers (e.g. once an hour)   or   each web 
   server updates it's copy of the index independently.
b) the lucene index is put on a NFS server, hosted by a third machine.

The index is modified often, the expected index size is a few 10000 
documents, where each document has some 2 kByte text.
The number of documents might grow over time, but it's not expected
to exceed a few 100000 documents in the foreseeable future.

>>From these numbers I expect an index that could be cached by the search
machines, if the index is on a NFS server. So NFS performance issues
should be mitigated.

Are there any problems with lucene related to such an setup?
Can I have a lucene index on a NFS filesystem without problems
(access is readonly)?
 
What setup would you prefer?

Any input apreciated.

greetings
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 14:24:34 2003
Return-Path: 
 <lucene-user-return-5101-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61596 invoked from network); 30 Jul 2003 14:24:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:24:34 -0000
Received: (qmail 24532 invoked by uid 97); 30 Jul 2003 14:27:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24525 invoked from network); 30 Jul 2003 14:27:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 14:27:10 -0000
Received: (qmail 59964 invoked by uid 500); 30 Jul 2003 14:24:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59928 invoked from network); 30 Jul 2003 14:24:12 -0000
Received: from mail10.atl.registeredsite.com (64.224.219.84)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:24:12 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail10.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6UEODUM004499
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 10:24:13 -0400
Received: (qmail 91930 invoked by uid 89); 30 Jul 2003 14:25:57 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.59.106)
  by mail.redoakschooldistrict.com with SMTP; 30 Jul 2003 14:25:57 -0000
Date: Wed, 30 Jul 2003 10:24:17 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Java.net Lucene article
From: Erik Hatcher <lists@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <80CFCB57-C299-11D7-B537-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A "Lucene Intro" article I recently wrote for java.net has just 
published:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

Erik

p.s. Am I an official committer now with the repository enabled for 
ehatcher?  If so, then I'll commit this link to the resources section 
of the site soon.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 14:44:46 2003
Return-Path: 
 <lucene-user-return-5102-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20804 invoked from network); 30 Jul 2003 14:44:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:44:46 -0000
Received: (qmail 25243 invoked by uid 97); 30 Jul 2003 14:47:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25236 invoked from network); 30 Jul 2003 14:47:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 14:47:22 -0000
Received: (qmail 19375 invoked by uid 500); 30 Jul 2003 14:44:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19276 invoked from network); 30 Jul 2003 14:44:24 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:44:24 -0000
Received: (qmail 1225 invoked from network); 30 Jul 2003 14:44:17 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 30 Jul 2003 14:44:17 -0000
Message-ID: <06ea01c356a9$11f449f0$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <16167.53762.766191.172922@morus.xipolis.net>
Subject: Re: Lucene Index on NFS Server
Date: Wed, 30 Jul 2003 16:44:18 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What part of the webserver are you expecting that will fail? The service or
the computer? Why would the computer hosting NFS be less likely to fail than
your computer hosting the webserver?

You could use JMS to communicate updates to the to webservers? Or use a
distributed FS on the to computers hosting the webservers (and not using a
3. computer)?

Jan


----- Original Message ----- 
From: "Morus Walter" <morus.walter@tanto-xipolis.de>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 30, 2003 4:11 PM
Subject: Lucene Index on NFS Server


> Hi,
>
> I'm currently planing a web application using lucene for search.
>
> There will be two web server maschines responable for the application
> and the searches. Two maschines basically to be failsafe, load is not
> expected to be a problem initially, though this might change over time.
> So scaling is a minor concern but not completely irrelevant.
>
> Now the question is, where to put the lucene index:
> a) each web server might hold a copy of the lucene index
>    In this case the index might be updated on a third copy and then
>    copied to the web servers (e.g. once an hour)   or   each web
>    server updates it's copy of the index independently.
> b) the lucene index is put on a NFS server, hosted by a third machine.
>
> The index is modified often, the expected index size is a few 10000
> documents, where each document has some 2 kByte text.
> The number of documents might grow over time, but it's not expected
> to exceed a few 100000 documents in the foreseeable future.
>
> From these numbers I expect an index that could be cached by the search
> machines, if the index is on a NFS server. So NFS performance issues
> should be mitigated.
>
> Are there any problems with lucene related to such an setup?
> Can I have a lucene index on a NFS filesystem without problems
> (access is readonly)?
>
> What setup would you prefer?
>
> Any input apreciated.
>
> greetings
> Morus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 14:58:14 2003
Return-Path: 
 <lucene-user-return-5103-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68538 invoked from network); 30 Jul 2003 14:58:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:58:14 -0000
Received: (qmail 26166 invoked by uid 97); 30 Jul 2003 15:00:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26159 invoked from network); 30 Jul 2003 15:00:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 15:00:50 -0000
Received: (qmail 59497 invoked by uid 500); 30 Jul 2003 14:55:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59271 invoked from network); 30 Jul 2003 14:55:51 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 30 Jul 2003 14:55:51 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA2BF
          for <lucene-user@jakarta.apache.org>;
          Wed, 30 Jul 2003 16:55:52 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Multiple fields identical terms.
Date: Wed, 30 Jul 2003 16:55:43 +0200
Message-ID: <003601c356aa$a6f8ad10$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <F5FCC5C5-C28A-11D7-B537-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.

Thanks for your suggestion; I think the storage overhead is bearable.

Actually I am doing some sort of forward indexing in addition to the
inverted index. I.e., the result will be a meta-search engine that combines
the Lucene IR process proper with an aspect model similar to Latent Semantic
Analysis. To store the forward index, it's necessary to create a
term-document matrix where the terms should all be unique regardsless of the
field. This kind of vector space indexing could as well be useful for other
purposes such as document classification.

One idea is to run an additional Hashtable that checks for uniqueness and
attaches additional information to a term, such as its phonetic encoding or
its catalogization key. But I wanted to use as much of the existing
infrastructure and stay compatible.

I also thought of changing the way how fields and terms are allocated to
each other, i.e., allowing a list of fields in each Term object and thus
make term texts unique. But this would cause a substantial re-design of the
index file and access structure...

Gregor



-----Original Message-----
From: Erik Hatcher [mailto:lists@ehatchersolutions.com]
Sent: Wednesday, July 30, 2003 2:40 PM
To: Lucene Users List
Subject: Re: Multiple fields identical terms.


On Wednesday, July 30, 2003, at 06:16  AM, Gregor Heinrich wrote:
> I would like to have unique term texts in my term enumeration. That is,
> across all fields there should be no duplicate term text.
>
> An easy solution would be to only use one field.
>
> But does someone know an alternative way with multiple fields?

What about putting both abstract and title together into a single new
field called "keywords"?  Leave title and abstract there as well, but
just append the two strings together (with a space in the middle to
tokenize properly! :).

Is that a reasonable alternative?  What are you trying to accomplish?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 17:58:59 2003
Return-Path: 
 <lucene-user-return-5104-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25270 invoked from network); 30 Jul 2003 17:58:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 17:58:59 -0000
Received: (qmail 1958 invoked by uid 97); 30 Jul 2003 18:01:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1950 invoked from network); 30 Jul 2003 18:01:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 18:01:37 -0000
Received: (qmail 24941 invoked by uid 500); 30 Jul 2003 17:58:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24919 invoked from network); 30 Jul 2003 17:58:54 -0000
Received: from stats.logient.net (207.107.228.251)
  by daedalus.apache.org with SMTP; 30 Jul 2003 17:58:54 -0000
Received: from [192.168.0.12] (unknown [192.168.10.86])
	by stats.logient.net (Postfix) with ESMTP id CD082F34B8
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 13:58:57 -0400 (EDT)
Subject: All or noting hits
From: =?ISO-8859-1?Q?Marie-H=E9l=E8ne?= Forget <mhforget@logient.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1059588272.17459.41.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 30 Jul 2003 14:04:32 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I wonder if the behavior of my application using Lucene respects the
behavior of Lucene when I perform a search.

I search for a word "Qvar" and I have 2 documents containing that exact
word. I get 2 results representing the 2 documents that I want.
Everything seems ok there, but I get other results that contains words
that starts with Q, P, O, and N but not the word I am looking for. I
detected an inverse alphabetic pattern. Is that normal ? Is this a kind
of ressemble search technic ?

Thanks in advance,

MHF






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 19:15:21 2003
Return-Path: 
 <lucene-user-return-5105-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92377 invoked from network); 30 Jul 2003 19:15:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:15:21 -0000
Received: (qmail 4597 invoked by uid 97); 30 Jul 2003 19:18:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4589 invoked from network); 30 Jul 2003 19:18:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 19:18:00 -0000
Received: (qmail 91110 invoked by uid 500); 30 Jul 2003 19:15:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90849 invoked from network); 30 Jul 2003 19:15:12 -0000
Received: from smtp02.web.de (HELO smtp.web.de) (217.72.192.151)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:15:12 -0000
Received: from [217.185.53.185] (helo=pfrz-d9b935b9.pool.mediaWays.net)
	by smtp.web.de with esmtp (TLSv1:DES-CBC3-SHA:168)
	(WEB.DE 4.99 #420)
	id 19hwPq-00059n-00
	for lucene-user@jakarta.apache.org; Wed, 30 Jul 2003 21:15:14 +0200
Subject: Re: All or noting hits
From: Lutz Horn <lutz-horn@web.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1059588272.17459.41.camel@localhost.localdomain>
References: <1059588272.17459.41.camel@localhost.localdomain>
Content-Type: text/plain; charset=ISO-8859-1
Organization: 
Message-Id: <1059592471.29655.1.camel@hume>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 30 Jul 2003 21:15:10 +0200
Content-Transfer-Encoding: 8bit
Sender: lutz-horn@web.de
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Am Mit, 2003-07-30 um 20.04 schrieb Marie-H�l�ne Forget:
> I search for a word "Qvar" and I have 2 documents containing that exact
> word. I get 2 results representing the 2 documents that I want.
> Everything seems ok there, but I get other results that contains words
> that starts with Q, P, O, and N but not the word I am looking for. I
> detected an inverse alphabetic pattern. Is that normal ? Is this a kind
> of ressemble search technic ?

This probably depends on the Analyzer you are using for both indexing
and searching the documents. Which one is it?

Regards
Lutz



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 19:20:58 2003
Return-Path: 
 <lucene-user-return-5106-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5104 invoked from network); 30 Jul 2003 19:20:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:20:58 -0000
Received: (qmail 4742 invoked by uid 97); 30 Jul 2003 19:23:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4735 invoked from network); 30 Jul 2003 19:23:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 19:23:38 -0000
Received: (qmail 3739 invoked by uid 500); 30 Jul 2003 19:20:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3702 invoked from network); 30 Jul 2003 19:20:26 -0000
Received: from stats.logient.net (207.107.228.251)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:20:26 -0000
Received: from [192.168.0.12] (unknown [192.168.10.86])
	by stats.logient.net (Postfix) with ESMTP id 5DAE3F34B8
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 15:20:30 -0400 (EDT)
Subject: Re: All or noting hits
From: =?ISO-8859-1?Q?Marie-H=E9l=E8ne?= Forget <mhforget@logient.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1059592471.29655.1.camel@hume>
References: <1059588272.17459.41.camel@localhost.localdomain>
	 <1059592471.29655.1.camel@hume>
Content-Type: text/plain; charset=ISO-8859-1
Organization: 
Message-Id: <1059593166.17467.47.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 30 Jul 2003 15:26:06 -0400
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, 2003-07-30 at 15:15, Lutz Horn wrote:
> Hi,
> 
> Am Mit, 2003-07-30 um 20.04 schrieb Marie-H�l�ne Forget:
> > I search for a word "Qvar" and I have 2 documents containing that exact
> > word. I get 2 results representing the 2 documents that I want.
> > Everything seems ok there, but I get other results that contains words
> > that starts with Q, P, O, and N but not the word I am looking for. I
> > detected an inverse alphabetic pattern. Is that normal ? Is this a kind
> > of ressemble search technic ?
> 
> This probably depends on the Analyzer you are using for both indexing
> and searching the documents. Which one is it?


WhitespaceAnalyzer


> 
> Regards
> Lutz
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 19:39:36 2003
Return-Path: 
 <lucene-user-return-5107-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41712 invoked from network); 30 Jul 2003 19:39:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:39:36 -0000
Received: (qmail 5286 invoked by uid 97); 30 Jul 2003 19:42:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5279 invoked from network); 30 Jul 2003 19:42:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 19:42:16 -0000
Received: (qmail 41063 invoked by uid 500); 30 Jul 2003 19:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40988 invoked from network); 30 Jul 2003 19:39:26 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 30 Jul 2003 19:39:26 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id PF0Q688H; Wed, 30 Jul 2003 15:43:30 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Bug: TermQuery toString - incorrect
Date: Wed, 30 Jul 2003 15:39:49 -0400
Message-ID: <000901c356d2$5ca209f0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000A_01C356B0.D59069F0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000A_01C356B0.D59069F0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I have a TermQuery object which contains a term which has space (two
words). But when I do a toString() I get a query that matches an OR
operation.

Example: The Term +"Small Business" results with a toString method as

+(SocioEconomicInformation:Small Business) 

And the expected result should be

+(SocioEconomicInformation:"Small Business")

The problem is when I try to parse it again I get 

+(SocioEconomicInformation:Small Content:Business) 

Because it does not have the double quotes it tokenizes the term "Small
Business" in to two terms [Small] [Business] instead of one [Small
Business]

I use Lucene 1.3 RC1. 

Aviran


------=_NextPart_000_000A_01C356B0.D59069F0--



From MAILER-DAEMON Wed Jul 30 20:02:25 2003
Return-Path: 
 <lucene-user-return-5108-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92662 invoked from network); 30 Jul 2003 20:02:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 20:02:25 -0000
Received: (qmail 5836 invoked by uid 97); 30 Jul 2003 20:05:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5828 invoked from network); 30 Jul 2003 20:05:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 20:05:04 -0000
Received: (qmail 89844 invoked by uid 500); 30 Jul 2003 20:01:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89805 invoked from network); 30 Jul 2003 20:01:31 -0000
Received: from inet-mail1.oracle.com (148.87.2.201)
  by daedalus.apache.org with SMTP; 30 Jul 2003 20:01:31 -0000
Received: from rgmgw6.us.oracle.com (rgmgw6.us.oracle.com [138.1.191.15])
	by inet-mail1.oracle.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id
 h6UK1a4G028138
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 13:01:36 -0700 (PDT)
Received: from rgmgw6.us.oracle.com (localhost [127.0.0.1])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6UK1Ze21730
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 14:01:35 -0600 (MDT)
Received: from oracle.com (vpn-dc-10-172.uk.oracle.com [138.3.10.172])
	by rgmgw6.us.oracle.com (Switch-2.1.5/Switch-2.1.0) with ESMTP id
 h6UK1Xe21706
	for <lucene-user@jakarta.apache.org>; Wed, 30 Jul 2003 14:01:33 -0600 (MDT)
Message-ID: <3F282418.1020404@oracle.com>
Date: Wed, 30 Jul 2003 21:01:28 +0100
From: Roger Ford <roger.ford@oracle.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <818623B5FD23D51193200002B32C076106FE4E79@excsrv44.mayo.edu>
 <3F255D27.6010006@lucene.com>
In-Reply-To: <3F255D27.6010006@lucene.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> For batched indexing I recommend: (1) increasing mergeFactor somewhat, 
> depending on how many indexed fields you have; (2) adding all of your 
> documents; and (3) optimizing once at the end.

Thanks for all the advice on this. I did as Doug suggested, and the
indexing completed in around 13 hours, without using an excessive
amount of disk space.

I do have another problem: running multi-user tests - four "users"
all firing off queries one after the other - I hit this exception
at the start of one run:

   caught a class java.io.IOException
   with message: Timed out waiting for
   Lock@E:\Lucene_Index\Index0001\commit.lock

Can anyone explain what's happening here - why does it need a lock
in order to READ the index? Is there something I should be doing different?

Thanks,

Roger


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 23:07:59 2003
Return-Path: 
 <lucene-user-return-5109-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78722 invoked from network); 30 Jul 2003 23:07:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 23:07:59 -0000
Received: (qmail 11304 invoked by uid 97); 30 Jul 2003 23:10:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11297 invoked from network); 30 Jul 2003 23:10:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 23:10:41 -0000
Received: (qmail 78052 invoked by uid 500); 30 Jul 2003 23:07:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78039 invoked from network); 30 Jul 2003 23:07:50 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 30 Jul 2003 23:07:50 -0000
Received: from dstc.edu.au (m081-174.nv.iinet.net.au [203.217.81.174])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h6UN7p5O014079;
	Thu, 31 Jul 2003 01:07:52 +0200 (MEST)
Message-ID: <3F284FEC.9070608@dstc.edu.au>
Date: Thu, 31 Jul 2003 09:08:28 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>, jmee@aidministrator.nl
Subject: Re: Free, medium size, downloadable corpus of newspaper articles
 ?
References: <200307301319.h6UDJmX13475@home.aidministrator.nl>
In-Reply-To: <200307301319.h6UDJmX13475@home.aidministrator.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

[redirected to lucene-user]

Me, too! :-)

We are currently playing with the small Reuters collection (about 21.500 
news items from the 80s), but I don't know if I am allowed to distribute 
it and it is too small anyway -- many of the implications we find are 
based on 1 to 3 documents. I still have a collection of 5 CDs I 
downloaded from Google about 2 years ago, which I still haven't found 
the time to look at -- it probably will be one of the next things to do. 
I can see what their licence says about redistribution.

Another good source for collections is 
http://www.kdnuggets.com/datasets/index.html -- but I haven't found a 
good news corpus yet.

I am definitely interested in comparing some results on whatever 
collection we can find. I'll talk to our IR guys in the next days to see 
what they know about.

  Peter



Jos van der Meer wrote:

>For my experiments with Lucene, I would like to have a publicly available
>free, medium size, downloadable corpus of newspaper articles
>(topics do not matter, nor does its publication date).
>
>For I would like to share the results of the experiments, and people
>should be able to reproduce and to extend it.
>
>Don't send the corpora themselves (..), but please send me their URLs.
>
>Thanks in advance,
>
>
>jos.van.der.meer@aidministrator.nl
>aidministrator nederland bv  -  http://www.aidministrator.nl/
>prinses julianaplein 14-b, 3817 cs amersfoort, the netherlands
>tel. +31-(0)33-4659987   fax. +31-(0)33-4659987
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Jul 30 23:56:33 2003
Return-Path: 
 <lucene-user-return-5110-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34545 invoked from network); 30 Jul 2003 23:56:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jul 2003 23:56:33 -0000
Received: (qmail 12283 invoked by uid 97); 30 Jul 2003 23:59:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12276 invoked from network); 30 Jul 2003 23:59:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Jul 2003 23:59:09 -0000
Received: (qmail 33863 invoked by uid 500); 30 Jul 2003 23:56:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33851 invoked from network); 30 Jul 2003 23:56:24 -0000
Received: from rwcrmhc13.comcast.net (204.127.198.39)
  by daedalus.apache.org with SMTP; 30 Jul 2003 23:56:24 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (rwcrmhc13) with SMTP
          id <2003073023563101500qmaobe>; Wed, 30 Jul 2003 23:56:31 +0000
Message-ID: <3F285B2D.3030701@lucene.com>
Date: Wed, 30 Jul 2003 16:56:29 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing very large sets (10 million docs)
References: <818623B5FD23D51193200002B32C076106FE4E79@excsrv44.mayo.edu>
 <3F255D27.6010006@lucene.com> <3F282418.1020404@oracle.com>
In-Reply-To: <3F282418.1020404@oracle.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Roger Ford wrote:
> I do have another problem: running multi-user tests - four "users"
> all firing off queries one after the other - I hit this exception
> at the start of one run:
> 
>   caught a class java.io.IOException
>   with message: Timed out waiting for
>   Lock@E:\Lucene_Index\Index0001\commit.lock
> 
> Can anyone explain what's happening here - why does it need a lock
> in order to READ the index? Is there something I should be doing different?

This lock is required when opening an index.  First Lucene reads the 
list of files it must open, then it opens them all.  It needs to make 
sure that, between the time it reads the list and when it completes 
opening the last file, that some other process that's modifying the 
index doesn't delete one of these files.

My guess is that you are opening the same index from multiple JVMs at 
the same time, and that one of these had to wait longer than ten seconds 
(the lock timeout) for the others to open all of the files.  I've never 
seen that happen before, but, in theory, it could.  If you know the 
index is not changing, then you can disable locks with a system 
property.  Or perhaps you can do everything from a single JVM, with a 
single Searcher/IndexReader.  Or you could increase the timeout.

How big is the optimized index?  Can you send along an 'ls -l' of it?

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 07:46:40 2003
Return-Path: 
 <lucene-user-return-5112-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67582 invoked from network); 31 Jul 2003 07:46:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:46:40 -0000
Received: (qmail 20190 invoked by uid 97); 31 Jul 2003 07:49:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20183 invoked from network); 31 Jul 2003 07:49:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 07:49:24 -0000
Received: (qmail 66999 invoked by uid 500); 31 Jul 2003 07:46:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66986 invoked from network); 31 Jul 2003 07:46:33 -0000
Received: from veil.qala.com.sg (210.193.2.44)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:46:33 -0000
Received: from kelvin (adsl-210-193-14-59.qala.com.sg [210.193.14.59])
	by veil.qala.com.sg (8.11.3/8.11.3) with SMTP id h6V7kNi27203
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 15:46:24 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service.
 Server No. 1
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Thu, 31 Jul 2003 15:46:48 +0800
In-Reply-To: <CE814CCC-C296-11D7-9237-000502117478@student.fsa.ucl.ac.be>
Message-ID: <2003731154648.549067@kelvin>
Subject: Re: Using javacc for QueryParser.jj
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Claude,

Maik's code is not updated for current Lucene build. A couple of=
 days ago, I 
posted a link to Mark Harwood's code which works nicely.

http://home.clara.net/markharwood/lucene/highlight.htm

On Wed, 30 Jul 2003 16:04:59 +0200, Claude Libois said:
>Hello. I wanted to use the Highlighter from Maik Schreiber but i=
 had
>a
>big problem:
>In order to use it I need to change Lucene core . That's what I=
 did
>but
>there is a file QueryParser.jj and I don't know how to compile=
 it. I
>found that I have to use javacc but I don't know how. Can=
 someone
>help
>me whih that?
>CLaude




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 07:54:19 2003
Return-Path: 
 <lucene-user-return-5113-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77538 invoked from network); 31 Jul 2003 07:54:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:54:19 -0000
Received: (qmail 20289 invoked by uid 97); 31 Jul 2003 07:57:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20281 invoked from network); 31 Jul 2003 07:57:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 07:57:06 -0000
Received: (qmail 77250 invoked by uid 500); 31 Jul 2003 07:54:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77239 invoked from network); 31 Jul 2003 07:54:13 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 31 Jul 2003 07:54:13 -0000
Received: from morus.xipolis.net (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 4475919B717
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 09:54:25 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h6V7rlT13217;
	Thu, 31 Jul 2003 09:53:47 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16168.51978.891456.703189@morus.xipolis.net>
Date: Thu, 31 Jul 2003 09:53:46 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Index on NFS Server
In-Reply-To: <06ea01c356a9$11f449f0$1901a8c0@csiteoffice.csite.com>
References: <16167.53762.766191.172922@morus.xipolis.net>
	<06ea01c356a9$11f449f0$1901a8c0@csiteoffice.csite.com>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Jan,

thanks for your answer.

> What part of the webserver are you expecting that will fail? The service or
> the computer? Why would the computer hosting NFS be less likely to fail than
> your computer hosting the webserver?
> 
The computer.
Of course you're right with the nfs server. That's one drawback, but the 
idea is to have a RAID system, that might be switched to another maschine, 
if the first maschine fails. If the RAID system has enough internal 
redundancy it's failure should be reasonable improbable. 
It remains a single point of failure though.

This is not about a very high availablity solution.
We just want to have a bit more than just relying on one maschine.
Scenarios like manual switches, if a machine fails, are ok.

> You could use JMS to communicate updates to the to webservers? Or use a

So far I thought about simple http calls, to send the import/delete
requests to the webservers. They are servlet servers anyway.
What improvements would you expect from using JMS?

> distributed FS on the to computers hosting the webservers (and not using a
> 3. computer)?
> 
That's an interesting idea. Unfortunately we don't have any experience
with such a setup. Any suggestions for intel/linux?

And how reliable is such a solution with respect to consistency of the
lucene index. I mean in this szenario one of the webservers would do the
import. Would it be safe to simply reopen searchers on the other webserver?
Basically that's the same question as for the nfs server.

greetings
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 08:33:31 2003
Return-Path: 
 <lucene-user-return-5114-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31556 invoked from network); 31 Jul 2003 08:33:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 08:33:31 -0000
Received: (qmail 20997 invoked by uid 97); 31 Jul 2003 08:36:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20990 invoked from network); 31 Jul 2003 08:36:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 08:36:19 -0000
Received: (qmail 28985 invoked by uid 500); 31 Jul 2003 08:32:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28799 invoked from network); 31 Jul 2003 08:32:39 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 31 Jul 2003 08:32:39 -0000
Received: (qmail 5747 invoked from network); 31 Jul 2003 08:32:42 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 31 Jul 2003 08:32:42 -0000
Message-ID: <002f01c3573e$53c16d00$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <16167.53762.766191.172922@morus.xipolis.net><06ea01c356a9$11f449f0$1901a8c0@csiteoffice.csite.com>
 <16168.51978.891456.703189@morus.xipolis.net>
Subject: Re: Lucene Index on NFS Server
Date: Thu, 31 Jul 2003 10:32:44 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I just think that if You can make ONE part of the system
hardware-failure-safe you really do not need all this - its sounds like a
very expensive setup and you might be able to configure a one server system
to be as-hardware-failure-safe if you used all the mony on this one
computer. Raid 5, dual power and so on... (all very expensive :-) )

Im no expert on HA-systems, but http://linux-ha.org/ is a very good staring
point for looking at FS and stuff.

JMS. If you set up a publish/subscribe system you could publish the
insert/delete/update command and be SURE that if you can deliver the
published message ALL the subscribers will eventual get the message and act
upon it - even messages that are "delivered" during one webservers
downperiod. And this scales if you add more than two servers. If you
implement this using http requests, YOU need to handle storing messages
during downperiods - recovery, and if you move to a 3-server setup insted of
a 2-server setup...

http://java.sun.com/products/jms/tutorial/1_3_1-fcs/doc/basics.html#1023551

Jan Agermose


----- Original Message ----- 
From: "Morus Walter" <morus.walter@tanto-xipolis.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 31, 2003 9:53 AM
Subject: Re: Lucene Index on NFS Server


> Hi Jan,
>
> thanks for your answer.
>
> > What part of the webserver are you expecting that will fail? The service
or
> > the computer? Why would the computer hosting NFS be less likely to fail
than
> > your computer hosting the webserver?
> >
> The computer.
> Of course you're right with the nfs server. That's one drawback, but the
> idea is to have a RAID system, that might be switched to another maschine,
> if the first maschine fails. If the RAID system has enough internal
> redundancy it's failure should be reasonable improbable.
> It remains a single point of failure though.
>
> This is not about a very high availablity solution.
> We just want to have a bit more than just relying on one maschine.
> Scenarios like manual switches, if a machine fails, are ok.
>
> > You could use JMS to communicate updates to the to webservers? Or use a
>
> So far I thought about simple http calls, to send the import/delete
> requests to the webservers. They are servlet servers anyway.
> What improvements would you expect from using JMS?
>
> > distributed FS on the to computers hosting the webservers (and not using
a
> > 3. computer)?
> >
> That's an interesting idea. Unfortunately we don't have any experience
> with such a setup. Any suggestions for intel/linux?
>
> And how reliable is such a solution with respect to consistency of the
> lucene index. I mean in this szenario one of the webservers would do the
> import. Would it be safe to simply reopen searchers on the other
webserver?
> Basically that's the same question as for the nfs server.
>
> greetings
> Morus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 12:43:35 2003
Return-Path: 
 <lucene-user-return-5115-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25564 invoked from network); 31 Jul 2003 12:43:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 12:43:35 -0000
Received: (qmail 29344 invoked by uid 97); 31 Jul 2003 12:46:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29337 invoked from network); 31 Jul 2003 12:46:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 12:46:10 -0000
Received: (qmail 23553 invoked by uid 500); 31 Jul 2003 12:43:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23462 invoked from network); 31 Jul 2003 12:43:06 -0000
Received: from anchor-post-39.mail.demon.net (194.217.242.80)
  by daedalus.apache.org with SMTP; 31 Jul 2003 12:43:06 -0000
Received: from pr-webmail-2.demon.net ([194.159.244.50]
 helo=web.mail.demon.net)
	by anchor-post-39.mail.demon.net with smtp (Exim 3.36 #2)
	id 19iCls-0002NT-0U
	for lucene-user@jakarta.apache.org; Thu, 31 Jul 2003 13:43:05 +0100
Received: from gobstopper.demon.co.uk ([193.119.59.53])
	by web.mail.demon.net with http; Thu, 31 Jul 2003 13:43:04 +0100
From: lucene@gobstopper.demon.co.uk
To: lucene-user@jakarta.apache.org
Subject: NLucene up to date ?
Date: Thu, 31 Jul 2003 13:43:04 +0100
User-Agent: Demon-WebMail/2.0
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <E19iCls-0002NT-0U@anchor-post-39.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
Does anyone know if this source is still being maintained to be closer to the java developments ?
Was this an external project to Apache Jakarta ?

I (we) have just successfully released a search engine using a c# implmentation of Lucene.  Code had to be brought up to date in line with recent java builds, and enhanced with additional features (eg field sorting, term position score factoring, etc).

Any other c# users who would like to see NLucene kept in line with the java version ?

Maybe I'm just being lazy with having to maintain my own version of Lucene =).
Surely there are others out there who are c# users and follow the mailing lists (I remember a Brian somewhere !) but seldom post.

Brendon





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 12:53:40 2003
Return-Path: 
 <lucene-user-return-5116-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43372 invoked from network); 31 Jul 2003 12:53:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 12:53:40 -0000
Received: (qmail 29626 invoked by uid 97); 31 Jul 2003 12:56:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29619 invoked from network); 31 Jul 2003 12:56:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 12:56:15 -0000
Received: (qmail 43086 invoked by uid 500); 31 Jul 2003 12:53:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43064 invoked from network); 31 Jul 2003 12:53:36 -0000
Received: from mail8.atl.registeredsite.com (64.224.219.82)
  by daedalus.apache.org with SMTP; 31 Jul 2003 12:53:36 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.14])
	by mail8.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6VCrapk013513
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 08:53:37 -0400
Received: (qmail 93014 invoked by uid 89); 31 Jul 2003 12:55:15 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.serucoral.com with SMTP; 31 Jul 2003 12:55:15 -0000
Date: Thu, 31 Jul 2003 08:53:42 -0400
Subject: Re: NLucene up to date ?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <E19iCls-0002NT-0U@anchor-post-39.mail.demon.net>
Message-Id: <035B9284-C356-11D7-84B5-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'd love to see there be quality implementations of the Lucene API in 
other languages, that are up to date with the latest Java codebase.

I'm embarking on a Ruby port, which I'm hosting at rubyforge.org.  
There is a Python version called Lupy.

A related question I have is what about performance comparisons between 
the different language implementations?  Will Java be the fastest?  Is 
there a test suite already available that can demonstrate the 
performance characteristics of a particular implementation?  I'd love 
to see the numbers and see if even the Java version can be beat.

	Erik



On Thursday, July 31, 2003, at 08:43  AM, lucene@gobstopper.demon.co.uk 
wrote:

> Hi all,
>
> http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
> Does anyone know if this source is still being maintained to be closer 
> to the java developments ?
> Was this an external project to Apache Jakarta ?
>
> I (we) have just successfully released a search engine using a c# 
> implmentation of Lucene.  Code had to be brought up to date in line 
> with recent java builds, and enhanced with additional features (eg 
> field sorting, term position score factoring, etc).
>
> Any other c# users who would like to see NLucene kept in line with the 
> java version ?
>
> Maybe I'm just being lazy with having to maintain my own version of 
> Lucene =).
> Surely there are others out there who are c# users and follow the 
> mailing lists (I remember a Brian somewhere !) but seldom post.
>
> Brendon
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 15:22:41 2003
Return-Path: 
 <lucene-user-return-5117-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70021 invoked from network); 31 Jul 2003 15:22:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:22:41 -0000
Received: (qmail 4841 invoked by uid 97); 31 Jul 2003 15:25:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4834 invoked from network); 31 Jul 2003 15:25:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 15:25:18 -0000
Received: (qmail 69578 invoked by uid 500); 31 Jul 2003 15:22:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69503 invoked from network); 31 Jul 2003 15:22:34 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com)
 (216.37.32.2)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:22:34 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by
 darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2650.21)
	id 3X7ZJJG7; Thu, 31 Jul 2003 10:23:55 -0500
Message-ID: <3F293436.5070006@etapestry.com>
Date: Thu, 31 Jul 2003 10:22:30 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: NLucene up to date ?
References: <035B9284-C356-11D7-84B5-000393A564E6@ehatchersolutions.com>
In-Reply-To: <035B9284-C356-11D7-84B5-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Do these implementations maintain file compatibility with the Java version?

Scott

Erik Hatcher wrote:

> I'd love to see there be quality implementations of the Lucene API in 
> other languages, that are up to date with the latest Java codebase.
>
> I'm embarking on a Ruby port, which I'm hosting at rubyforge.org.  
> There is a Python version called Lupy.
>
> A related question I have is what about performance comparisons 
> between the different language implementations?  Will Java be the 
> fastest?  Is there a test suite already available that can demonstrate 
> the performance characteristics of a particular implementation?  I'd 
> love to see the numbers and see if even the Java version can be beat.
>
>     Erik
>
>
>
> On Thursday, July 31, 2003, at 08:43  AM, 
> lucene@gobstopper.demon.co.uk wrote:
>
>> Hi all,
>>
>> http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
>> Does anyone know if this source is still being maintained to be 
>> closer to the java developments ?
>> Was this an external project to Apache Jakarta ?
>>
>> I (we) have just successfully released a search engine using a c# 
>> implmentation of Lucene.  Code had to be brought up to date in line 
>> with recent java builds, and enhanced with additional features (eg 
>> field sorting, term position score factoring, etc).
>>
>> Any other c# users who would like to see NLucene kept in line with 
>> the java version ?
>>
>> Maybe I'm just being lazy with having to maintain my own version of 
>> Lucene =).
>> Surely there are others out there who are c# users and follow the 
>> mailing lists (I remember a Brian somewhere !) but seldom post.
>>
>> Brendon
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 15:41:57 2003
Return-Path: 
 <lucene-user-return-5118-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23490 invoked from network); 31 Jul 2003 15:41:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:41:57 -0000
Received: (qmail 5487 invoked by uid 97); 31 Jul 2003 15:44:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5480 invoked from network); 31 Jul 2003 15:44:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 15:44:35 -0000
Received: (qmail 23256 invoked by uid 500); 31 Jul 2003 15:41:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23228 invoked from network); 31 Jul 2003 15:41:53 -0000
Received: from anchor-post-31.mail.demon.net (194.217.242.89)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:41:53 -0000
Received: from pr-webmail-1.demon.net ([194.159.244.51]
 helo=web.mail.demon.net)
	by anchor-post-31.mail.demon.net with smtp (Exim 3.35 #1)
	id 19iFYx-0006kW-0V
	for lucene-user@jakarta.apache.org; Thu, 31 Jul 2003 16:41:55 +0100
Received: from gobstopper.demon.co.uk ([193.119.59.53])
	by web.mail.demon.net with http; Thu, 31 Jul 2003 16:41:55 +0100
From: lucene@gobstopper.demon.co.uk
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
In-Reply-To: <3F293436.5070006@etapestry.com>
Subject: Re: NLucene up to date ?
Date: Thu, 31 Jul 2003 16:41:55 +0100
User-Agent: Demon-WebMail/2.0
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <E19iFYx-0006kW-0V@anchor-post-31.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Replies to Erik and Scott inline.


scott.ganyo@etapestry.com wrote:
> Do these implementations maintain file compatibility with the Java version?
> 
> Scott

Yes and no, explanation will help me explain.

The field ordering functionality required additional files to be created at index time if the Document.Field property indicates so.
At search time, the entire contents of the 'field sorting' files are read in.  As the IndexReader is shared for all client calls (for a pre-defined period of time as the index has been implemented 'incremental' style) this cost is only incurred once.

Code-wise, the technique follows the pattern for the Normalisation byte writing and reading, the difference being an Int being written.  Yes, there is a memory usage hit, but the performance and functionality offered offsets this.

All other file formats remain identical.
I have coded LuceNET (!) so that it gracefully continues if the index segments do not have these additional 'sorting' files (naming convention like the normalisation files).


> Erik Hatcher wrote:
> 
> > I'd love to see there be quality implementations of the Lucene API in 
> > other languages, that are up to date with the latest Java codebase.
> >
> > I'm embarking on a Ruby port, which I'm hosting at rubyforge.org.  
> > There is a Python version called Lupy.
> >
> > A related question I have is what about performance comparisons 
> > between the different language implementations?  Will Java be the 
> > fastest?  Is there a test suite already available that can demonstrate 
> > the performance characteristics of a particular implementation?  I'd 
> > love to see the numbers and see if even the Java version can be beat.
> >
> >     Erik


Performance wise, queries typically run in hundreths of seconds.
Including term position in the scoring impacted the timings as expected.

Indexing takes time, but then this wasn't really part of the design goals.

As far as comparing to the java implementation in terms in performance, I haven't tried as this workplace is a MS shop.

Java vs c# all over ?  Just kidding =)


> >
> >
> > On Thursday, July 31, 2003, at 08:43  AM, 
> > lucene@gobstopper.demon.co.uk wrote:
> >
> >> Hi all,
> >>
> >> http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
> >> Does anyone know if this source is still being maintained to be 
> >> closer to the java developments ?
> >> Was this an external project to Apache Jakarta ?
> >>
> >> I (we) have just successfully released a search engine using a c# 
> >> implmentation of Lucene.  Code had to be brought up to date in line 
> >> with recent java builds, and enhanced with additional features (eg 
> >> field sorting, term position score factoring, etc).
> >>
> >> Any other c# users who would like to see NLucene kept in line with 
> >> the java version ?
> >>
> >> Maybe I'm just being lazy with having to maintain my own version of 
> >> Lucene =).
> >> Surely there are others out there who are c# users and follow the 
> >> mailing lists (I remember a Brian somewhere !) but seldom post.
> >>
> >> Brendon
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 15:42:11 2003
Return-Path: 
 <lucene-user-return-5119-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24315 invoked from network); 31 Jul 2003 15:42:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:42:11 -0000
Received: (qmail 5503 invoked by uid 97); 31 Jul 2003 15:44:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5496 invoked from network); 31 Jul 2003 15:44:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 15:44:49 -0000
Received: (qmail 24043 invoked by uid 500); 31 Jul 2003 15:42:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24007 invoked from network); 31 Jul 2003 15:42:07 -0000
Received: from mail1.atl.registeredsite.com (64.224.219.75)
  by daedalus.apache.org with SMTP; 31 Jul 2003 15:42:07 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h6VFg5E6022400
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 11:42:09 -0400
Received: (qmail 56983 invoked by uid 89); 31 Jul 2003 15:43:53 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.59.189)
  by mail.cieos.com with SMTP; 31 Jul 2003 15:43:53 -0000
Date: Thu, 31 Jul 2003 11:42:10 -0400
Subject: Re: NLucene up to date ?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F293436.5070006@etapestry.com>
Message-Id: <8C6214BD-C36D-11D7-88F8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday, July 31, 2003, at 11:22  AM, Scott Ganyo wrote:
> Do these implementations maintain file compatibility with the Java 
> version?

Lupy claims to.  I don't know about NLucene, but it should.  Any port 
of Lucene to another language should (out of respect and common-sense) 
maintain index file compatibility.  Any implementation that doesn't - 
well, we just won't list them on the resources page :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 16:16:50 2003
Return-Path: 
 <lucene-user-return-5120-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42609 invoked from network); 31 Jul 2003 16:16:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 16:16:50 -0000
Received: (qmail 6773 invoked by uid 97); 31 Jul 2003 16:19:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6765 invoked from network); 31 Jul 2003 16:19:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 16:19:26 -0000
Received: (qmail 40071 invoked by uid 500); 31 Jul 2003 16:16:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39988 invoked from network); 31 Jul 2003 16:16:13 -0000
Received: from fish.zenon.net (HELO frontend1.aha.ru) (213.189.198.214)
  by daedalus.apache.org with SMTP; 31 Jul 2003 16:16:13 -0000
Received: from [62.118.156.14] (account fckdp@ok.ru HELO pb)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 204450364 for lucene-user@jakarta.apache.org;
 Thu, 31 Jul 2003 20:16:10 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Error: "Docs out of order" - why?
Date: Thu, 31 Jul 2003 20:16:56 +0400
Message-ID: <000501c3577f$2d665490$0e9c763e@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <E19iCls-0002NT-0U@anchor-post-39.mail.demon.net>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I index my documents, then call writer.optimize and receive this
exception.
What the reason for it? 

Pasha


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 18:07:03 2003
Return-Path: 
 <lucene-user-return-5121-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14310 invoked from network); 31 Jul 2003 18:07:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:07:03 -0000
Received: (qmail 10381 invoked by uid 97); 31 Jul 2003 18:09:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10374 invoked from network); 31 Jul 2003 18:09:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 18:09:42 -0000
Received: (qmail 14000 invoked by uid 500); 31 Jul 2003 18:06:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13985 invoked from network); 31 Jul 2003 18:06:59 -0000
Received: from bird.zenon.net (HELO frontend2.aha.ru) (213.189.198.215)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:06:59 -0000
Received: from [62.118.143.140] (account fckdp@ok.ru HELO pb)
  by frontend2.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 202395221 for lucene-user@jakarta.apache.org;
 Thu, 31 Jul 2003 22:06:59 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: NLucene up to date ?
Date: Thu, 31 Jul 2003 22:07:45 +0400
Message-ID: <000801c3578e$a75ae3b0$0e9c763e@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <E19iCls-0002NT-0U@anchor-post-39.mail.demon.net>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> From: lucene@gobstopper.demon.co.uk 
 
> I (we) have just successfully released a search engine using 
> a c# implmentation of Lucene.  Code had to be brought up to 
> date in line with recent java builds, and enhanced with 
> additional features (eg field sorting, term position score 
> factoring, etc).

Is it hard-code additional or new classes?
Are you going to support new versions of lucene? 

Pasha

P.s nLucene is lucene 1.2 based with old bugs and not supported.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 18:21:08 2003
Return-Path: 
 <lucene-user-return-5122-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55025 invoked from network); 31 Jul 2003 18:21:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:21:08 -0000
Received: (qmail 10767 invoked by uid 97); 31 Jul 2003 18:23:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10760 invoked from network); 31 Jul 2003 18:23:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 18:23:46 -0000
Received: (qmail 53021 invoked by uid 500); 31 Jul 2003 18:20:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52964 invoked from network); 31 Jul 2003 18:20:39 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:20:39 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id PF0Q69MP; Thu, 31 Jul 2003 14:25:04 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Searching while optimizing
Date: Thu, 31 Jul 2003 14:20:27 -0400
Message-ID: <000101c35790$6fb0f100$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0002_01C3576E.E8A43300"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0002_01C3576E.E8A43300
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Is it possible and safe to search an index while another thread adds
documents or optimizes the same index?
 

------=_NextPart_000_0002_01C3576E.E8A43300--



From MAILER-DAEMON Thu Jul 31 18:46:35 2003
Return-Path: 
 <lucene-user-return-5123-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10137 invoked from network); 31 Jul 2003 18:46:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:46:35 -0000
Received: (qmail 11673 invoked by uid 97); 31 Jul 2003 18:49:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11666 invoked from network); 31 Jul 2003 18:49:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 18:49:14 -0000
Received: (qmail 9124 invoked by uid 500); 31 Jul 2003 18:46:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9020 invoked from network); 31 Jul 2003 18:46:18 -0000
Received: from unknown (HELO renr.es) (194.224.250.83)
  by daedalus.apache.org with SMTP; 31 Jul 2003 18:46:18 -0000
Received: (qmail 25560 invoked by uid 64014); 31 Jul 2003 18:46:41 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean.
 Processed in 0.075623 secs); 31 Jul 2003 18:46:41 -0000
Received: from unknown (HELO renr.es) (jgaliana@[127.0.0.1]) (envelope-sender
 <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 31 Jul 2003 18:46:41 -0000
Received: from 80.58.38.42 (proxying for 213.0.1.225)
        (SquirrelMail authenticated user jgaliana)
        by correo.renr.es with HTTP;
        Thu, 31 Jul 2003 20:46:41 +0200 (CEST)
Message-ID: <40500.80.58.38.42.1059677201.squirrel@correo.renr.es>
Date: Thu, 31 Jul 2003 20:46:41 +0200 (CEST)
Subject: FileNotFound Exception
From: <jgaliana@renr.es>
To: <lucene-user@jakarta.apache.org>
X-Mailer: SquirrelMail (version 1.2.0 [cvs])
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I�ve a problem with IndexSearcher. In my web app multiple users can search
data in an index. Sometimes when the servlet create a new IndexSearch,
throws an FileNotFound exception - it creates a new IndexSearch for each
client/search - .

"java.io.FileNotFoundException: D:\indices\teletipos\_5sb.fnm"

I�ve another context with an IndexWriter open to index the new documents.
We receive a lot of new per minute. The context runs an optimice() method
at 06:00:00 am. (programmable).

We are using W2K. The file system is very "dirty", when a file has been
closed, FSystem lates to unlock it (the "another application is using the
file" message). Can it be the problem?

Any idea?
Greeting

Jose Galiana



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 19:31:02 2003
Return-Path: 
 <lucene-user-return-5124-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19062 invoked from network); 31 Jul 2003 19:31:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:31:02 -0000
Received: (qmail 13088 invoked by uid 97); 31 Jul 2003 19:33:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13080 invoked from network); 31 Jul 2003 19:33:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 19:33:41 -0000
Received: (qmail 6366 invoked by uid 500); 31 Jul 2003 19:28:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6318 invoked from network); 31 Jul 2003 19:28:53 -0000
Received: from sccrmhc13.comcast.net (204.127.202.64)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:28:53 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc13) with SMTP
          id <2003073119285101600l4qv0e>; Thu, 31 Jul 2003 19:28:52 +0000
Message-ID: <3F296DF1.5050802@lucene.com>
Date: Thu, 31 Jul 2003 12:28:49 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Index on NFS Server
References: <16167.53762.766191.172922@morus.xipolis.net>
In-Reply-To: <16167.53762.766191.172922@morus.xipolis.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Morus Walter wrote:
> Can I have a lucene index on a NFS filesystem without problems
> (access is readonly)?

So long as all access is read-only, there should not be a problem.  Keep 
in mind however that lock files are known to not work correctly over NFS.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 19:32:08 2003
Return-Path: 
 <lucene-user-return-5125-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22940 invoked from network); 31 Jul 2003 19:32:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:32:08 -0000
Received: (qmail 13139 invoked by uid 97); 31 Jul 2003 19:34:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13132 invoked from network); 31 Jul 2003 19:34:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 19:34:47 -0000
Received: (qmail 19378 invoked by uid 500); 31 Jul 2003 19:31:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19341 invoked from network); 31 Jul 2003 19:31:06 -0000
Received: from sccrmhc11.comcast.net (204.127.202.55)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:31:06 -0000
Received: from lucene.com
 (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc11) with SMTP
          id <2003073119311001100o56mhe>; Thu, 31 Jul 2003 19:31:11 +0000
Message-ID: <3F296E7D.1050908@lucene.com>
Date: Thu, 31 Jul 2003 12:31:09 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching while optimizing
References: <000101c35790$6fb0f100$6a00a8c0@Aviran>
In-Reply-To: <000101c35790$6fb0f100$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Aviran Mordo wrote:
> Is it possible and safe to search an index while another thread adds
> documents or optimizes the same index?

Yes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Jul 31 19:48:16 2003
Return-Path: 
 <lucene-user-return-5126-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53794 invoked from network); 31 Jul 2003 19:48:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:48:16 -0000
Received: (qmail 13645 invoked by uid 97); 31 Jul 2003 19:50:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13638 invoked from network); 31 Jul 2003 19:50:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 Jul 2003 19:50:56 -0000
Received: (qmail 53517 invoked by uid 500); 31 Jul 2003 19:48:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53503 invoked from network); 31 Jul 2003 19:48:12 -0000
Received: from fog.mm.com (204.73.34.12)
  by daedalus.apache.org with SMTP; 31 Jul 2003 19:48:12 -0000
Received: from drizzle.mm.com (ice.mm.com [204.73.34.14])
	by fog.mm.com (Postfix) with ESMTP id 324A2A488
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 14:48:10 -0500 (CDT)
Received: from muscovite.opin.com (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 4C9535E042
	for <lucene-user@jakarta.apache.org>; Thu, 31 Jul 2003 14:48:19 -0500 (CDT)
Received: by MUSCOVITE with Internet Mail Service (5.5.2653.19)
	id <PF015BAZ>; Thu, 31 Jul 2003 14:57:33 -0500
Message-ID: <D15E9D991E0FD41184C90080C80D2746B49C0A@MUSCOVITE>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Searching while optimizing
Date: Thu, 31 Jul 2003 14:57:21 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This seems to contradict an item from the Lucene FAQ:

<<
41. Can I modify the index while performing ongoing searches ?
Yes and no. At the time of writing this FAQ (June 2001), Lucene is not
thread safe in this regard. Here is a quote from Doug Cutting, the creator
of Lucene: 


The problems are only when you add documents or optimize an index, and then
search with an IndexReader that was constructed before those changes to the
index were made. 
A possible work around is to perform the index updates in a parable and
separate index and switch to the new index when its updating is done. The
switching may be done for example, using a variable that will points to the
directory of the current active index. Since searches have a relatively
short life time, you may discard (or resue the old index) short time after
performing the switch (this grace period should be a little longer if you
want to let all searches that involved paging through the hit list to be
completed with consistent results). 
>>

Can you explain further?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Thursday, July 31, 2003 2:31 PM
To: Lucene Users List
Subject: Re: Searching while optimizing


Aviran Mordo wrote:
> Is it possible and safe to search an index while another thread adds
> documents or optimizes the same index?

Yes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


