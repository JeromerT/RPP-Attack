From MAILER-DAEMON Tue Apr  1 06:55:15 2003
Return-Path: 
 <lucene-user-return-4093-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40276 invoked from network); 1 Apr 2003 06:55:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 06:55:15 -0000
Received: (qmail 15603 invoked by uid 97); 1 Apr 2003 06:57:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15596 invoked from network); 1 Apr 2003 06:57:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 06:57:13 -0000
Received: (qmail 39993 invoked by uid 500); 1 Apr 2003 06:55:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39982 invoked from network); 1 Apr 2003 06:55:11 -0000
Received: from didot.sissa.it (147.122.2.50)
  by daedalus.apache.org with SMTP; 1 Apr 2003 06:55:11 -0000
Received: from adriacom.it (caslon [147.122.2.53])
	by didot.sissa.it (8.9.3+Sun/8.9.3) with ESMTP id IAA20171
	for <lucene-user@jakarta.apache.org>;
 Tue, 1 Apr 2003 08:55:19 +0200 (MET DST)
Message-ID: <3E8937DB.9030808@adriacom.it>
Date: Tue, 01 Apr 2003 08:55:23 +0200
From: Omar Cal <omar.cal@adriacom.it>
Reply-To: omar.cal@adriacom.it
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.1) Gecko/20020827
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Problems on massive indexing
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello, i'm a newby of Lucene.

I've the following scenario:
-450.000 xml files and text files
-5 indexes, two stored and three unstored
-lucene library 1.2 (tested also 1.3RC)

When i try to index the material i've an IndexOutOfBoundException in the 
call to the index.optimize() after two hours of indexing.I know there is 
the bug 14355 and i think it could be the responsable for that exception.

I've tried also to index the whole material in subsequent runs but the 
problem seems to depend on the number of the documents.

I've tried to set the maxFieldLength at its maximum but nothing appened.

If i split the material in "trunks" of about 20.000 - 30.000 documents 
in each directory, the problem doesn't appear. Obviously i've to repeat 
the searches for each "trunk" (directory).

Anyone out there with a similar scenario? Other solutions?

Thanks, Omar



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 08:18:05 2003
Return-Path: 
 <lucene-user-return-4094-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12309 invoked from network); 1 Apr 2003 08:18:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 08:18:05 -0000
Received: (qmail 17634 invoked by uid 97); 1 Apr 2003 08:20:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17627 invoked from network); 1 Apr 2003 08:20:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 08:20:04 -0000
Received: (qmail 12042 invoked by uid 500); 1 Apr 2003 08:18:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12028 invoked from network); 1 Apr 2003 08:18:00 -0000
Received: from innocence.interface-business.de (193.101.57.202)
  by daedalus.apache.org with SMTP; 1 Apr 2003 08:18:00 -0000
Received: from rathole (rathole-srv.interface-business.de [193.101.57.204])
	by innocence.interface-business.de (8.12.9/8.12.6/ifb evision: 1.24 $) with
 SMTP id h318IB1Q001174
	for <lucene-user@jakarta.apache.org>; Tue, 1 Apr 2003 10:18:11 +0200 (CEST)
	(envelope-from kristian.hermsdorf@ifbus.de)
Received: from chuck.interface-business.de ([193.101.57.34]) by rathole;
 Tue, 01 Apr 2003 10:18:49 +0200 (MEST)
Received: from buddelflink (buddelflink.interface-business.de [193.101.57.21])
 	by chuck.interface-business.de (8.12.9/8.12.5) with ESMTP id h318I62K006688
 	for <lucene-user@jakarta.apache.org>;
 Tue,
 1 Apr 2003 10:18:06 +0200 (CEST) 	(envelope-from kristian.hermsdorf@ifbus.de)
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Re: Problems on massive indexing
References: <3E8937DB.9030808@adriacom.it>
Message-ID: <oprmxyofaahawgj6@mail>
Content-Type: text/plain; charset=iso-8859-15; format=flowed
From: Kristian Hermsdorf <kristian.hermsdorf@ifbus.de>
Organization: Interface Business
Date: Tue, 01 Apr 2003 10:18:05 +0200
In-Reply-To: <3E8937DB.9030808@adriacom.it>
User-Agent: Opera7.03/Win32 M2 build 2670
Content-Transfer-Encoding: quoted-printable
X-MIME-Autoconverted: from 8bit to quoted-printable by
 chuck.interface-business.de id h318I62K006688
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi
=A0
I also got the IndexOutOfBoundException while optimizing the index (index=
-=20
size about 1GB, 50 Docs with 25 fields each).
(optimizing was called via merging of RamDirectoy to FSDirectory).
The problem was that the FieldsReader tried to read more fields than=20
existed ... .I've no glue how to fix it ...
=A0
bye
=A0
Kristian

On Tue, 01 Apr 2003 08:55:23 +0200, Omar Cal <omar.cal@adriacom.it> wrote=
:

> Hello, i'm a newby of Lucene.
>
> I've the following scenario:
> -450.000 xml files and text files
> -5 indexes, two stored and three unstored
> -lucene library 1.2 (tested also 1.3RC)
>
> When i try to index the material i've an IndexOutOfBoundException in th=
e=20
> call to the index.optimize() after two hours of indexing.I know there i=
s=20
> the bug 14355 and i think it could be the responsable for that exceptio=
n.
>
> I've tried also to index the whole material in subsequent runs but the=20
> problem seems to depend on the number of the documents.
>
> I've tried to set the maxFieldLength at its maximum but nothing appened.
>
> If i split the material in "trunks" of about 20.000 - 30.000 documents =
in=20
> each directory, the problem doesn't appear. Obviously i've to repeat th=
e=20
> searches for each "trunk" (directory).
>
> Anyone out there with a similar scenario? Other solutions?
>
> Thanks, Omar
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



--=20
ACRONYM: Acronym Causing Recursion, Obviously Numbing Your Mind =A0

Kristian Hermsdorf

interface:projects gmbh	=09
Tollkewitzer Stra=DFe  49	=09
01277 Dresden		=09


tel.: ++49-351-3 18 09 39

mail: Kristian.Hermsdorf@interface-business.de
priv: kristian@entropus.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 20:04:04 2003
Return-Path: 
 <lucene-user-return-4095-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85030 invoked from network); 1 Apr 2003 20:04:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:04:04 -0000
Received: (qmail 15256 invoked by uid 97); 1 Apr 2003 20:05:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15249 invoked from network); 1 Apr 2003 20:05:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 20:05:56 -0000
Received: (qmail 84748 invoked by uid 500); 1 Apr 2003 20:04:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84736 invoked from network); 1 Apr 2003 20:04:00 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:04:00 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 1D7D3367D5; Tue,  1 Apr 2003 20:04:50 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id E09E0367CE
	for <lucene-user@jakarta.apache.org>; Tue,  1 Apr 2003 20:04:48 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing Growth
Date: Tue, 1 Apr 2003 15:05:28 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDGEHICIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <200302030837.18943.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	Will the index grow based on queries alone?  I build my index, then run
several queries against it and afterwards I check the size of the index and
in some cases it has grown quite a bit although I did not add anything???

Anyhow please let me know the cases when the index will grow.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 20:07:07 2003
Return-Path: 
 <lucene-user-return-4096-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93235 invoked from network); 1 Apr 2003 20:07:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:07:07 -0000
Received: (qmail 15325 invoked by uid 97); 1 Apr 2003 20:09:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15318 invoked from network); 1 Apr 2003 20:08:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 20:08:59 -0000
Received: (qmail 92922 invoked by uid 500); 1 Apr 2003 20:07:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92911 invoked from network); 1 Apr 2003 20:07:04 -0000
Received: from web12708.mail.yahoo.com (216.136.173.245)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:07:04 -0000
Message-ID: <20030401200709.77257.qmail@web12708.mail.yahoo.com>
Received: from [64.2.72.226] by web12708.mail.yahoo.com via HTTP;
 Tue, 01 Apr 2003 12:07:09 PST
Date: Tue, 1 Apr 2003 12:07:09 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing Growth
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDGEHICIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	Will the index grow based on queries alone?  I build my index, then
> run
> several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
> 
> Anyhow please let me know the cases when the index will grow.
> 
> Thanks,
> 
> Rob
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 20:11:59 2003
Return-Path: 
 <lucene-user-return-4097-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7593 invoked from network); 1 Apr 2003 20:11:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:11:59 -0000
Received: (qmail 15482 invoked by uid 97); 1 Apr 2003 20:13:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15475 invoked from network); 1 Apr 2003 20:13:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 20:13:50 -0000
Received: (qmail 7325 invoked by uid 500); 1 Apr 2003 20:11:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7311 invoked from network); 1 Apr 2003 20:11:55 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:11:55 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 93818367D2; Tue,  1 Apr 2003 20:12:44 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 49D0F367CE
	for <lucene-user@jakarta.apache.org>; Tue,  1 Apr 2003 20:12:43 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Tue, 1 Apr 2003 15:13:22 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDAEHJCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20030401200709.77257.qmail@web12708.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dang I must be doing something crazy cause all my client app does is search
and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index, then
> run
> several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 20:22:02 2003
Return-Path: 
 <lucene-user-return-4098-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26989 invoked from network); 1 Apr 2003 20:22:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:22:02 -0000
Received: (qmail 15714 invoked by uid 97); 1 Apr 2003 20:23:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15707 invoked from network); 1 Apr 2003 20:23:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 20:23:55 -0000
Received: (qmail 26765 invoked by uid 500); 1 Apr 2003 20:21:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26744 invoked from network); 1 Apr 2003 20:21:59 -0000
Received: from unknown (HELO www18.dixiesys.com) (209.51.150.6)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:21:59 -0000
Received: from Lissus (s160.dial2.sne.nac.net [64.21.104.160])
	(authenticated (0 bits))
	by www18.dixiesys.com (8.11.6/8.11.6) with ESMTP id h31KM1d31094
	for <lucene-user@jakarta.apache.org>; Tue, 1 Apr 2003 14:22:02 -0600
Reply-To: <lists@lissus.com>
From: "Alex Murzaku" <lists@lissus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Tue, 1 Apr 2003 15:21:52 -0500
Organization: LISSUS llc
Message-ID: <000001c2f88c$599a27a0$6501000a@Lissus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <MNEPJJAGGPICDNOCBIKDAEHJCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed. 

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then 
> run several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  1 20:31:16 2003
Return-Path: 
 <lucene-user-return-4099-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52075 invoked from network); 1 Apr 2003 20:31:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:31:16 -0000
Received: (qmail 15960 invoked by uid 97); 1 Apr 2003 20:33:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15953 invoked from network); 1 Apr 2003 20:33:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 Apr 2003 20:33:08 -0000
Received: (qmail 49545 invoked by uid 500); 1 Apr 2003 20:30:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49478 invoked from network); 1 Apr 2003 20:30:41 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 1 Apr 2003 20:30:41 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 13B89367CE; Tue,  1 Apr 2003 20:31:31 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP
	id D4B26367C4; Tue,  1 Apr 2003 20:31:29 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<lists@lissus.com>
Subject: RE: Indexing Growth
Date: Tue, 1 Apr 2003 15:32:08 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDIEHJCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <000001c2f88c$599a27a0$6501000a@Lissus>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I reuse the same searcher, analyzer and Query object I don't think that
should cause the problem.

Thanks,

Rob


-----Original Message-----
From: Alex Murzaku [mailto:lists@lissus.com]
Sent: Tuesday, April 01, 2003 3:22 PM
To: 'Lucene Users List'
Subject: RE: Indexing Growth


I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed.

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then
> run several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 00:15:32 2003
Return-Path: 
 <lucene-user-return-4100-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73259 invoked from network); 2 Apr 2003 00:15:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 00:15:32 -0000
Received: (qmail 28992 invoked by uid 97); 2 Apr 2003 00:17:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28985 invoked from network); 2 Apr 2003 00:17:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 00:17:27 -0000
Received: (qmail 72965 invoked by uid 500); 2 Apr 2003 00:15:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72952 invoked from network); 2 Apr 2003 00:15:28 -0000
Received: from mta.micromuse.com (194.131.185.92)
  by daedalus.apache.org with SMTP; 2 Apr 2003 00:15:28 -0000
Received: from micromuse.com ([216.4.9.35])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.5/Switch-2.2.5) with ESMTP id h320FUj03085
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Wed, 2 Apr 2003 01:15:32 +0100
Message-ID: <3E8A2BA2.4040904@micromuse.com>
Date: Tue, 01 Apr 2003 16:15:30 -0800
From: David Spencer <David.Spencer@micromuse.com>
Organization: Micromuse
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: I need a list of the indexed words
References: <000801c2f7c2$314fe1b0$1a35ae86@fido>
In-Reply-To: <000801c2f7c2$314fe1b0$1a35ae86@fido>
Content-Type: multipart/alternative;
 boundary="------------020009060901090508090402"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------020009060901090508090402
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

jcrowell wrote:

>Thanks for responding.  Are you referring to the solution under the title:
>
>"How do I retrieve all the values of a particular field that exists within
>an index, across all documents" ?
>
Here's some code that might do what you want.
It's shows the frequency of each term also.
Args are "-i INDEX" and optional "-f FIELD".
I haven't tested it outside my tree (to see if it's clean of 
dependencies) but
it looks reasonable at a glance.





package com.tropo.lucene;

import org.apache.lucene.analysis.*;
import org.apache.lucene.index.*;
import org.apache.lucene.document.*;

import java.io.*;
import java.util.*;

/**
 * Call IndexReader.terms(), termPositions().
 */
public class DumpTerms
{
    private DumpTerms()
    {
    }
   
    /**
     *
     */
    public static void main(String[] args)
        throws Throwable
    {
        String name = "index";
        String field = null;
       
        for ( int i = 0; i< args.length; i++)
        {
            if ( args[i].equals( "-i"))
                name = args[ ++i];
            else if ( args[i].equals( "-f"))
                field = args[ ++i];
        /*

            else if ( args[i].equals( "-v"))
                v = args[ ++i];
        */
        }
        o.println( "Opening "+ name);
        final IndexReader r = IndexReader.open( Rammer.convertMaybe( name));
        final TermEnum te = r.terms();
        final Set s =new TreeSet();
        final List lis = new LinkedList();
        final int docs = r.numDocs();
        o.println( "Docs: " + docs);
        while ( te.next())
        {
            Term t = te.term();
            if ( field != null && ! field.equals( t.field())) continue;
            s.add( t.field());
            /*
            o.println( "field=" +t.field() +
                       " text="  + t.text() +
                       " freq="+ te.docFreq());
            */
            lis.add( new Object[] { t, new Integer( te.docFreq())});
            /*
            TermPositions tp = r.termPositions( t);
            while ( tp.next())
            {
                int f = tp.freq();               
                o.println( "\t" + "doc=" + tp.doc() +  " freq=" +f);
                for ( int i = 0; i < f; i++)
                    o.println( "\t\tnextp=" + tp.nextPosition());
            }
            tp.close();
            */
        }
        o.println( "Terms: " + lis.size());
        Collections.sort( lis, new ICmp());
        Iterator it = lis.iterator();
        int[] lens = new int[ 30];
        while ( it.hasNext())
        {
            Object[] ar = (Object[]) it.next();
            Term t = (Term) ar[0];
            int freq = ((Integer)ar[1]).intValue();
            int len = t.text().length();
            if ( len >= lens.length)
                lens[ lens.length-1]++;
            else
                lens[ len]++;
            o.print( fill( t.text(), 16)  + " " + fill( "" + freq, 6));
            int pc = (freq * 100); pc += (docs/2); pc /= docs;
            o.print( " " +pc + "%");
            if ( ! t.field().equals( "contents"))
                o.println( " " + t.field());
            else
                o.println();
        }
        o.println();

        int tot_terms = lis.size();
        for ( int i = 0; i< lens.length; i++)
        {
            int pc = lens[ i] * 100; pc += tot_terms/2; pc /= tot_terms;
            o.println( "" + i + ". " + lens[ i] + " " + pc + "%");
        }

        r.close();
        /*
        o.println();
        Iterator it = s.iterator();
        while ( it.hasNext())
            o.println( it.next());
        */
    }
    /**
     *
     */
    private static String fill( String s, int w)
    {
        int len = s.length();       
        for ( int i = len; i < w; i++)
            s += " ";
        return s;
    }

    private static class ICmp
        implements Comparator
    {
        public int compare( Object a, Object b)
        {
            Object[] a1 = (Object[]) a;
            Object[] b1 = (Object[]) b;
            int d1 = ((Integer)a1[1]).intValue();
            int d2 = ((Integer)b1[1]).intValue();
            if ( d1 < d2) return 1;
            if ( d1 > d2) return -1;
            return 0;
        }
    }


    static PrintStream o = System.out;


}


>
>Thanks,
>
>Jon
>
>
>
>-----Original Message-----
>From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
>Sent: Monday, March 31, 2003 3:02 PM
>To: Lucene Users List
>Subject: Re: I need a list of the indexed words
>
>
>Please see the FAQ at jGuru, the answer is there.
>
>Otis
>
>--- jcrowell <jcrowell@dsg.harvard.edu> wrote:
>  
>
>>I have a very simple problem: I need to get a list of the words that 
>>will result in a hit if searched on.  Should be simple, but I'm not 
>>quite sure
>>where to start.
>>
>>Thanks,
>>
>>Jon
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>__________________________________________________
>Do you Yahoo!?
>Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
>http://platinum.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


--------------020009060901090508090402--


From MAILER-DAEMON Wed Apr  2 09:44:26 2003
Return-Path: 
 <lucene-user-return-4101-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41222 invoked from network); 2 Apr 2003 09:44:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 09:44:26 -0000
Received: (qmail 9981 invoked by uid 97); 2 Apr 2003 09:46:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9974 invoked from network); 2 Apr 2003 09:46:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 09:46:26 -0000
Received: (qmail 40546 invoked by uid 500); 2 Apr 2003 09:44:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40520 invoked from network); 2 Apr 2003 09:44:17 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 2 Apr 2003 09:44:17 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h329hcG01085;
	Wed, 2 Apr 2003 15:13:40 +0530
Received: from kamal (ws132.newgen.co.in [192.168.5.132])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h32A1H8V032149;
	Wed, 2 Apr 2003 15:31:21 +0530
Message-ID: <002701c2f8fc$5a25a9e0$8405a8c0@kamal>
From: "Amit Kapur" <amitkapur@newgen.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
Subject: Behaviour of Lucene during Stress/Scalability Test
Date: Wed, 2 Apr 2003 15:13:40 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0024_01C2F92A.710C9D70"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0024_01C2F92A.710C9D70
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hi everybody

I am trying to index documents using Lucene generating about 30 MB of =
index (Optimized) which can be raised to about 100 MB or More ( but that =
would be on a high end server machine).

Description of Current Case:
#---Each Document has four fields (One Text field, and 3 other Keyword =
Fields).=20
#---The analyzer is based on a StopFilter and a PorterStemFilter.
#---I am using a Compaq PIII, 128 MB RAM, 650 MHz.=20
#---mergeFactor is set to 25, and I am optimizing the index after adding =
about 20 Documents.
#---Using Lucene Release 1.2

Problem Faced
After adding about 4000 Documents generating an index of 30 MB, I =
initially got an error saying, **** couldn't rename segments.new to =
segments **** after which the IndexReader or the IndexWriter to the =
current index couldnot be opened.

Then I changed a couple of settings,=20
#---mergeFactor=3D20 and Optimize was called after ever 10 documents.
#---Using Lucene Release 1.3

Problem Faced
After adding about 1500 Documents generating an index of 10 MB, I =
initially got an error saying, **** F:\Program Files\OmniDocs =
Server\ftstest\_3cf.fnm (Too many open files)**** after which the =
IndexWriter to the current index couldnot be opened.

Now my requirement needs to have a much much larger index (practically) =
and I am actually at the point where these errors are coming =
unpredictably.=20

Please if anyone could guide me on this ASAP.
Thanx in advance

Regards
Amit

PS: I have already read articles in the mail archieve =
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02815.html.=


------=_NextPart_000_0024_01C2F92A.710C9D70--


From MAILER-DAEMON Wed Apr  2 13:49:37 2003
Return-Path: 
 <lucene-user-return-4102-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22614 invoked from network); 2 Apr 2003 13:49:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 13:49:37 -0000
Received: (qmail 17848 invoked by uid 97); 2 Apr 2003 13:51:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17841 invoked from network); 2 Apr 2003 13:51:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 13:51:25 -0000
Received: (qmail 22336 invoked by uid 500); 2 Apr 2003 13:49:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22325 invoked from network); 2 Apr 2003 13:49:33 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 13:49:33 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 6EFA0367D5; Wed,  2 Apr 2003 13:50:14 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 0F84F367D4
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 13:50:13 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 08:50:56 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 1 (Highest)
X-MSMail-Priority: High
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: High
In-Reply-To: <MNEPJJAGGPICDNOCBIKDIEHJCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	This is too odd and I do not even know where to start.  We built a Windows
Explorer type tool that indexes all files in a "sabdboxed" file system.
Each Lucene document contains stuff like path, parent directory, last
modified date, file_lock etc..  When we display the files in a given
directory through the tool we query the index about 5 times for each file in
the repository, this is done so we can display all attributes in the index
about that file.  So for example if there are 5 files in the directory, each
file has 6 attributes that means about 30 term queries are executed.  The
initial index when build it about 10.4megs, after accessing about 3 or 4
directories the index size increased to over 100megs, and we did not add
anything!!  All we are doing is querying!!  Yesterday after querying became
ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
(granted we tested the tool all morning).  But I have no idea why the index
is growing like this.  ANY help would be greatly appreciated.


Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:32 PM
To: Lucene Users List; lists@lissus.com
Subject: RE: Indexing Growth


I reuse the same searcher, analyzer and Query object I don't think that
should cause the problem.

Thanks,

Rob


-----Original Message-----
From: Alex Murzaku [mailto:lists@lissus.com]
Sent: Tuesday, April 01, 2003 3:22 PM
To: 'Lucene Users List'
Subject: RE: Indexing Growth


I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed.

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then
> run several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:20:20 2003
Return-Path: 
 <lucene-user-return-4104-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3900 invoked from network); 2 Apr 2003 14:20:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:20:20 -0000
Received: (qmail 18878 invoked by uid 97); 2 Apr 2003 14:22:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18871 invoked from network); 2 Apr 2003 14:22:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:22:08 -0000
Received: (qmail 2526 invoked by uid 500); 2 Apr 2003 14:19:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2477 invoked from network); 2 Apr 2003 14:19:54 -0000
Received: from mail2.cos.com (198.76.172.218)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:19:54 -0000
Received: from ntmailer.cos.com (ntmailer [192.168.0.32])
	by mail2.cos.com (Postfix) with ESMTP id 3E586222EF2
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 09:19:55 -0500 (EST)
Received: by ntmailer.cos.com with Internet Mail Service (5.5.2653.19)
	id <HYNZA2BH>; Wed, 2 Apr 2003 09:21:59 -0500
Received: from cos.com (barry.cos.com [10.10.1.51]) by ntmailer.cos.com with
 SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id HYNZA2BG; Wed, 2 Apr 2003 09:21:54 -0500
From: Michael Barry <mbarry@cos.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <3E8AF182.50603@cos.com>
Date: Wed, 02 Apr 2003 09:19:46 -0500
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4a) Gecko/20030401
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: Re: Indexing Growth
References: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sounds like you either have an indexer that's run amok (maybe
a background process that's continually re-indexing your sandbox -
or expanding outside your sandbox) or your Query code is doing more
than querying. It's not behaviour I've seen. Without a snippet of
Query code, it's going to be hard to help.

Rob Outar wrote:

>Hi all,
>
>	This is too odd and I do not even know where to start.  We built a Windows
>Explorer type tool that indexes all files in a "sabdboxed" file system.
>Each Lucene document contains stuff like path, parent directory, last
>modified date, file_lock etc..  When we display the files in a given
>directory through the tool we query the index about 5 times for each file in
>the repository, this is done so we can display all attributes in the index
>about that file.  So for example if there are 5 files in the directory, each
>file has 6 attributes that means about 30 term queries are executed.  The
>initial index when build it about 10.4megs, after accessing about 3 or 4
>directories the index size increased to over 100megs, and we did not add
>anything!!  All we are doing is querying!!  Yesterday after querying became
>ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
>(granted we tested the tool all morning).  But I have no idea why the index
>is growing like this.  ANY help would be greatly appreciated.
>
>
>Thanks,
>
>Rob
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:19:53 2003
Return-Path: 
 <lucene-user-return-4103-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2363 invoked from network); 2 Apr 2003 14:19:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:19:53 -0000
Received: (qmail 18858 invoked by uid 97); 2 Apr 2003 14:21:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18851 invoked from network); 2 Apr 2003 14:21:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:21:41 -0000
Received: (qmail 1263 invoked by uid 500); 2 Apr 2003 14:19:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1188 invoked from network); 2 Apr 2003 14:19:29 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:19:29 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 0DF20367DD; Wed,  2 Apr 2003 14:19:43 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 6EBAF367DD
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 14:19:41 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 09:20:24 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDCEHMCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Additional info on the problem, the index contains several 1kb files and
several files that have different names, but the same file size.  It looks
like the files that comprise the index are being duplicated causing the
index to become huge.

Thanks,

Rob

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Wednesday, April 02, 2003 8:51 AM
To: Lucene Users List
Subject: RE: Indexing Growth
Importance: High


Hi all,

	This is too odd and I do not even know where to start.  We built a Windows
Explorer type tool that indexes all files in a "sabdboxed" file system.
Each Lucene document contains stuff like path, parent directory, last
modified date, file_lock etc..  When we display the files in a given
directory through the tool we query the index about 5 times for each file in
the repository, this is done so we can display all attributes in the index
about that file.  So for example if there are 5 files in the directory, each
file has 6 attributes that means about 30 term queries are executed.  The
initial index when build it about 10.4megs, after accessing about 3 or 4
directories the index size increased to over 100megs, and we did not add
anything!!  All we are doing is querying!!  Yesterday after querying became
ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
(granted we tested the tool all morning).  But I have no idea why the index
is growing like this.  ANY help would be greatly appreciated.


Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:32 PM
To: Lucene Users List; lists@lissus.com
Subject: RE: Indexing Growth


I reuse the same searcher, analyzer and Query object I don't think that
should cause the problem.

Thanks,

Rob


-----Original Message-----
From: Alex Murzaku [mailto:lists@lissus.com]
Sent: Tuesday, April 01, 2003 3:22 PM
To: 'Lucene Users List'
Subject: RE: Indexing Growth


I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed.

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then
> run several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:24:17 2003
Return-Path: 
 <lucene-user-return-4105-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16952 invoked from network); 2 Apr 2003 14:24:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:24:17 -0000
Received: (qmail 19042 invoked by uid 97); 2 Apr 2003 14:26:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19035 invoked from network); 2 Apr 2003 14:26:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:26:05 -0000
Received: (qmail 10546 invoked by uid 500); 2 Apr 2003 14:22:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10491 invoked from network); 2 Apr 2003 14:22:16 -0000
Received: from unknown (HELO www18.dixiesys.com) (209.51.150.6)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:22:16 -0000
Received: from Lissus (s87.dial2.sne.nac.net [64.21.104.87])
	(authenticated (0 bits))
	by www18.dixiesys.com (8.11.6/8.11.6) with ESMTP id h32EMFp24405
	for <lucene-user@jakarta.apache.org>; Wed, 2 Apr 2003 08:22:15 -0600
Reply-To: <lists@lissus.com>
From: "Alex Murzaku" <lists@lissus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 09:22:07 -0500
Organization: LISSUS llc
Message-ID: <000201c2f923$41cb4f90$6501000a@Lissus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Rob,

After you build the initial index (10.4M) you can see that the directory
contains some files - those are the index files. I am sure that the size
and number of those initial files doesn't change while you query Lucene.
When you say the index grows, I assume you are referring to other files
that are added to the index directory therefore increasing the size of
the directory and not the initial index files. One experiment you could
do is to inspect the index directory after each query. This should give
you an idea of what is going on. Also, it might help sending some code
snippets to the list to get more informed help...

Alex

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Wednesday, April 02, 2003 8:51 AM
To: Lucene Users List
Subject: RE: Indexing Growth
Importance: High


Hi all,

	This is too odd and I do not even know where to start.  We built
a Windows Explorer type tool that indexes all files in a "sabdboxed"
file system. Each Lucene document contains stuff like path, parent
directory, last modified date, file_lock etc..  When we display the
files in a given directory through the tool we query the index about 5
times for each file in the repository, this is done so we can display
all attributes in the index about that file.  So for example if there
are 5 files in the directory, each file has 6 attributes that means
about 30 term queries are executed.  The initial index when build it
about 10.4megs, after accessing about 3 or 4 directories the index size
increased to over 100megs, and we did not add anything!!  All we are
doing is querying!!  Yesterday after querying became ungodly slow, we
looked at the index size it had grown from 10megs to 1.5GB (granted we
tested the tool all morning).  But I have no idea why the index is
growing like this.  ANY help would be greatly appreciated.


Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:32 PM
To: Lucene Users List; lists@lissus.com
Subject: RE: Indexing Growth


I reuse the same searcher, analyzer and Query object I don't think that
should cause the problem.

Thanks,

Rob


-----Original Message-----
From: Alex Murzaku [mailto:lists@lissus.com]
Sent: Tuesday, April 01, 2003 3:22 PM
To: 'Lucene Users List'
Subject: RE: Indexing Growth


I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed.

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then
> run several queries against it and afterwards I check the size of the 
> index and in some cases it has grown quite a bit although I did not 
> add anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:33:40 2003
Return-Path: 
 <lucene-user-return-4108-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46181 invoked from network); 2 Apr 2003 14:33:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:33:40 -0000
Received: (qmail 19435 invoked by uid 97); 2 Apr 2003 14:35:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19427 invoked from network); 2 Apr 2003 14:35:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:35:29 -0000
Received: (qmail 33542 invoked by uid 500); 2 Apr 2003 14:29:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33511 invoked from network); 2 Apr 2003 14:29:35 -0000
Received: from bisoxmsw.blackwell.co.uk (193.82.198.160)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:29:35 -0000
Received: from venus.digimem.net (ns0.digimem.net) by bisoxmsw.blackwell.co.uk
 (Content Technologies SMTPRS 4.2.5) with SMTP id
 <T615b635fffc0a8faa119c@bisoxmsw.blackwell.co.uk>;
 Wed, 2 Apr 2003 15:24:27 +0100
Received: from venus (venus [192.168.251.161])
	by venus.digimem.net (Postfix) with ESMTP
	id 0C7882D23; Wed,  2 Apr 2003 15:24:23 +0100 (BST)
Message-ID: <657044.1049293463905.JavaMail.digimem@venus>
Date: Wed, 2 Apr 2003 15:24:23 +0100 (BST)
From: Ian Lea <ian@digimem.net>
To: Rob Outar <routar@ideorlando.org>
Subject: RE: Indexing Growth
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_Part_31_6197037.1049293463894"
X-Mailer: digimemmailer v1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_Part_31_6197037.1049293463894
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

What does the index directory look like before and after running
queries?  Are files growing or being added?  Which files? How many
documents are there in the index before and after? Are you absolutely
100% positive there is no way that your application is adding entries
to the index?  That still has to be the most likely explanation, I think.



--
Ian.
ian@digimem.net


> routar@ideorlando.org (Rob Outar) wrote 
>
> Hi all,
> 
> 	This is too odd and I do not even know where to start.  We built a Windows
> Explorer type tool that indexes all files in a "sabdboxed" file system.
> Each Lucene document contains stuff like path, parent directory, last
> modified date, file_lock etc..  When we display the files in a given
> directory through the tool we query the index about 5 times for each file in
> the repository, this is done so we can display all attributes in the index
> about that file.  So for example if there are 5 files in the directory, each
> file has 6 attributes that means about 30 term queries are executed.  The
> initial index when build it about 10.4megs, after accessing about 3 or 4
> directories the index size increased to over 100megs, and we did not add
> anything!!  All we are doing is querying!!  Yesterday after querying became
> ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
> (granted we tested the tool all morning).  But I have no idea why the index
> is growing like this.  ANY help would be greatly appreciated.
> 
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:32 PM
> To: Lucene Users List; lists@lissus.com
> Subject: RE: Indexing Growth
> 
> 
> I reuse the same searcher, analyzer and Query object I don't think that
> should cause the problem.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Alex Murzaku [mailto:lists@lissus.com]
> Sent: Tuesday, April 01, 2003 3:22 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Growth
> 
> 
> I don't know if I remember this correctly: I think for every query
> (term) is created a file but the file should disappear after the query
> is completed.
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:13 PM
> To: Lucene Users List
> Subject: RE: Indexing Growth
> 
> 
> Dang I must be doing something crazy cause all my client app does is
> search and the index size increases.  I do not add anything.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, April 01, 2003 3:07 PM
> To: Lucene Users List
> Subject: Re: Indexing Growth
> 
> 
> Only when you add new documents to it.
> 
> Otis
> 
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	Will the index grow based on queries alone?  I build my index,
> then
> > run several queries against it and afterwards I check the size of the
> > index and
> > in some cases it has grown quite a bit although I did not add
> > anything???
> >
> > Anyhow please let me know the cases when the index will grow.
> >
> > Thanks,
> >
> > Rob
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://platinum.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/


------=_Part_31_6197037.1049293463894
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_Part_31_6197037.1049293463894--


From MAILER-DAEMON Wed Apr  2 14:28:24 2003
Return-Path: 
 <lucene-user-return-4107-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29952 invoked from network); 2 Apr 2003 14:28:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:28:24 -0000
Received: (qmail 19215 invoked by uid 97); 2 Apr 2003 14:30:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19208 invoked from network); 2 Apr 2003 14:30:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:30:12 -0000
Received: (qmail 19474 invoked by uid 500); 2 Apr 2003 14:25:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19419 invoked from network); 2 Apr 2003 14:25:05 -0000
Received: from insws8502.gs.com (204.4.182.11)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:25:05 -0000
Received: from insvs8502.inz.gs.com (unknown [204.4.188.79])
	by insws8502.gs.com (Postfix) with ESMTP id 2830B1C5A6
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 09:25:06 -0500 (EST)
Received: from gsnmp02es.ny.fw.gs.com by insvs8502.inz.gs.com with ESMTP for
 lucene-user@jakarta.apache.org; Wed, 2 Apr 2003 09:25:06 -0500
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <2D50P48A>; Wed, 2 Apr 2003 09:25:13 -0500
Message-Id: <79542328270D5F4BB8E29BED159D783B032647BD@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 09:25:11 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Sounds pretty scary. Please send the code because it's hard to believe
(but then most good bugs are ..)

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Wednesday, April 02, 2003 8:51 AM
To: Lucene Users List
Subject: RE: Indexing Growth
Importance: High


Hi all,

	This is too odd and I do not even know where to start.  We built a
Windows
Explorer type tool that indexes all files in a "sabdboxed" file system.
Each Lucene document contains stuff like path, parent directory, last
modified date, file_lock etc..  When we display the files in a given
directory through the tool we query the index about 5 times for each file in
the repository, this is done so we can display all attributes in the index
about that file.  So for example if there are 5 files in the directory, each
file has 6 attributes that means about 30 term queries are executed.  The
initial index when build it about 10.4megs, after accessing about 3 or 4
directories the index size increased to over 100megs, and we did not add
anything!!  All we are doing is querying!!  Yesterday after querying became
ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
(granted we tested the tool all morning).  But I have no idea why the index
is growing like this.  ANY help would be greatly appreciated.


Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:32 PM
To: Lucene Users List; lists@lissus.com
Subject: RE: Indexing Growth


I reuse the same searcher, analyzer and Query object I don't think that
should cause the problem.

Thanks,

Rob


-----Original Message-----
From: Alex Murzaku [mailto:lists@lissus.com]
Sent: Tuesday, April 01, 2003 3:22 PM
To: 'Lucene Users List'
Subject: RE: Indexing Growth


I don't know if I remember this correctly: I think for every query
(term) is created a file but the file should disappear after the query
is completed.

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 01, 2003 3:13 PM
To: Lucene Users List
Subject: RE: Indexing Growth


Dang I must be doing something crazy cause all my client app does is
search and the index size increases.  I do not add anything.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 01, 2003 3:07 PM
To: Lucene Users List
Subject: Re: Indexing Growth


Only when you add new documents to it.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	Will the index grow based on queries alone?  I build my index,
then
> run several queries against it and afterwards I check the size of the
> index and
> in some cases it has grown quite a bit although I did not add
> anything???
>
> Anyhow please let me know the cases when the index will grow.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://platinum.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:27:18 2003
Return-Path: 
 <lucene-user-return-4106-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26474 invoked from network); 2 Apr 2003 14:27:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:27:18 -0000
Received: (qmail 19174 invoked by uid 97); 2 Apr 2003 14:29:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19167 invoked from network); 2 Apr 2003 14:29:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:29:07 -0000
Received: (qmail 18823 invoked by uid 500); 2 Apr 2003 14:24:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18780 invoked from network); 2 Apr 2003 14:24:50 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:24:50 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 8D9DB367D8; Wed,  2 Apr 2003 14:25:31 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 2401B367D5
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 14:25:30 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 09:26:13 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDKEHMCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <3E8AF182.50603@cos.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Just about everything calls getValue:

 public synchronized String getValue(String key, File file)
    throws ParseException,  IOException {

        Document doc = getDocument(file);
        return doc.get(key.toLowerCase());
    }

which calls get document:

 private synchronized Document getDocument(File file) throws
MalformedURLException,
    IOException {


        checkForIndexChange();
        Term t       = new Term(PATH,
file.toURI().toString().toLowerCase());
        TermQuery tQ = new TermQuery(t);

        Hits hits    = this.searcher.search(tQ);

        if (hits.length() == 1) {
            return hits.doc(0);
        }
        //this should never happen, cannot have a URL that returns 2 hits
        //that would mean the same file has been indexed twice
        else {
            return null;
        }


Thanks,

Rob


-----Original Message-----
From: Michael Barry [mailto:mbarry@cos.com]
Sent: Wednesday, April 02, 2003 9:20 AM
To: Lucene Users List
Subject: Re: Indexing Growth


Sounds like you either have an indexer that's run amok (maybe
a background process that's continually re-indexing your sandbox -
or expanding outside your sandbox) or your Query code is doing more
than querying. It's not behaviour I've seen. Without a snippet of
Query code, it's going to be hard to help.

Rob Outar wrote:

>Hi all,
>
>	This is too odd and I do not even know where to start.  We built a Windows
>Explorer type tool that indexes all files in a "sabdboxed" file system.
>Each Lucene document contains stuff like path, parent directory, last
>modified date, file_lock etc..  When we display the files in a given
>directory through the tool we query the index about 5 times for each file
in
>the repository, this is done so we can display all attributes in the index
>about that file.  So for example if there are 5 files in the directory,
each
>file has 6 attributes that means about 30 term queries are executed.  The
>initial index when build it about 10.4megs, after accessing about 3 or 4
>directories the index size increased to over 100megs, and we did not add
>anything!!  All we are doing is querying!!  Yesterday after querying became
>ungodly slow, we looked at the index size it had grown from 10megs to 1.5GB
>(granted we tested the tool all morning).  But I have no idea why the index
>is growing like this.  ANY help would be greatly appreciated.
>
>
>Thanks,
>
>Rob
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 14:49:30 2003
Return-Path: 
 <lucene-user-return-4109-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95421 invoked from network); 2 Apr 2003 14:49:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:49:30 -0000
Received: (qmail 20135 invoked by uid 97); 2 Apr 2003 14:51:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20128 invoked from network); 2 Apr 2003 14:51:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 14:51:15 -0000
Received: (qmail 93192 invoked by uid 500); 2 Apr 2003 14:48:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93130 invoked from network); 2 Apr 2003 14:48:55 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 14:48:55 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 80592367D6; Wed,  2 Apr 2003 14:49:37 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 49871367D5
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 14:49:36 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 09:50:19 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDMEHNCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <657044.1049293463905.JavaMail.digimem@venus>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

After building the index for the first time:

_l1d.f1  _l1d.f3  _l1d.f5  _l1d.f7  _l1d.f9   _l1d.fdx  _l1d.frq  _l1d.tii
deletable
_l1d.f2  _l1d.f4  _l1d.f6  _l1d.f8  _l1d.fdt  _l1d.fnm  _l1d.prx  _l1d.tis
segments

After running first query to get all attributes from all files in the given
directory, there were 17 files, each file has 5 attributes so 85 queries
were ran:

_l1j.f1   _l1p.f9   _l21.f3   _l27.fdx  _l2j.f5   _l2p.prx  _l31.f7
_l3j.f1   _l3p.f9   _l41.f3   _l44.fdx
_l1j.f2   _l1p.fdt  _l21.f4   _l27.frq  _l2j.f6   _l2p.tis  _l31.f8
_l3j.f2   _l3p.fdt  _l41.f4   _l44.frq
_l1j.f3   _l1p.fdx  _l21.f5   _l27.prx  _l2j.f7   _l2v.f1   _l31.f9
_l3j.f3   _l3p.fdx  _l41.f5   _l44.prx
_l1j.f4   _l1p.frq  _l21.f6   _l27.tis  _l2j.f8   _l2v.f2   _l31.fdt
_l3j.f4   _l3p.frq  _l41.f6   _l44.tis
_l1j.f5   _l1p.prx  _l21.f7   _l2d.f1   _l2j.f9   _l2v.f3   _l31.fdx
_l3j.f5   _l3p.prx  _l41.f7   _l47.f1
_l1j.f6   _l1p.tis  _l21.f8   _l2d.f2   _l2j.fdt  _l2v.f4   _l31.frq
_l3j.f6   _l3p.tis  _l41.f8   _l47.f2
_l1j.f7   _l1v.f1   _l21.f9   _l2d.f3   _l2j.fdx  _l2v.f5   _l31.prx
_l3j.f7   _l3v.f1   _l41.f9   _l47.f3
_l1j.f8   _l1v.f2   _l21.fdt  _l2d.f4   _l2j.frq  _l2v.f6   _l31.tis
_l3j.f8   _l3v.f2   _l41.fdt  _l47.f4
_l1j.f9   _l1v.f3   _l21.fdx  _l2d.f5   _l2j.prx  _l2v.f7   _l37.f1
_l3j.f9   _l3v.f3   _l41.fdx  _l47.f5
_l1j.fdt  _l1v.f4   _l21.frq  _l2d.f6   _l2j.tis  _l2v.f8   _l37.f2
_l3j.fdt  _l3v.f4   _l41.frq  _l47.f6
_l1j.fdx  _l1v.f5   _l21.prx  _l2d.f7   _l2p.f1   _l2v.f9   _l37.f3
_l3j.fdx  _l3v.f5   _l41.prx  _l47.f7
_l1j.frq  _l1v.f6   _l21.tis  _l2d.f8   _l2p.f2   _l2v.fdt  _l37.f4
_l3j.frq  _l3v.f6   _l41.tis  _l47.f8
_l1j.prx  _l1v.f7   _l27.f1   _l2d.f9   _l2p.f3   _l2v.fdx  _l37.f5
_l3j.prx  _l3v.f7   _l44.f1   _l47.f9
_l1j.tis  _l1v.f8   _l27.f2   _l2d.fdt  _l2p.f4   _l2v.frq  _l37.f6
_l3j.tis  _l3v.f8   _l44.f2   _l47.fdt
_l1p.f1   _l1v.f9   _l27.f3   _l2d.fdx  _l2p.f5   _l2v.prx  _l37.f7
_l3p.f1   _l3v.f9   _l44.f3   _l47.fdx
_l1p.f2   _l1v.fdt  _l27.f4   _l2d.frq  _l2p.f6   _l2v.tis  _l37.f8
_l3p.f2   _l3v.fdt  _l44.f4   _l47.fnm
_l1p.f3   _l1v.fdx  _l27.f5   _l2d.prx  _l2p.f7   _l31.f1   _l37.f9
_l3p.f3   _l3v.fdx  _l44.f5   _l47.frq
_l1p.f4   _l1v.frq  _l27.f6   _l2d.tis  _l2p.f8   _l31.f2   _l37.fdt
_l3p.f4   _l3v.frq  _l44.f6   _l47.prx
_l1p.f5   _l1v.prx  _l27.f7   _l2j.f1   _l2p.f9   _l31.f3   _l37.fdx
_l3p.f5   _l3v.prx  _l44.f7   _l47.tii
_l1p.f6   _l1v.tis  _l27.f8   _l2j.f2   _l2p.fdt  _l31.f4   _l37.frq
_l3p.f6   _l3v.tis  _l44.f8   _l47.tis
_l1p.f7   _l21.f1   _l27.f9   _l2j.f3   _l2p.fdx  _l31.f5   _l37.prx
_l3p.f7   _l41.f1   _l44.f9   deletable
_l1p.f8   _l21.f2   _l27.fdt  _l2j.f4   _l2p.frq  _l31.f6   _l37.tis
_l3p.f8   _l41.f2   _l44.fdt  segments

I have no reason to add anything to the index all I want to do is getch the
attributes for the list of files in that directory.

Thanks,

Rob


-----Original Message-----
From: Ian Lea [mailto:ian@digimem.net]
Sent: Wednesday, April 02, 2003 9:24 AM
To: Rob Outar
Cc: Lucene Users List
Subject: RE: Indexing Growth


What does the index directory look like before and after running
queries?  Are files growing or being added?  Which files? How many
documents are there in the index before and after? Are you absolutely
100% positive there is no way that your application is adding entries
to the index?  That still has to be the most likely explanation, I think.



--
Ian.
ian@digimem.net


> routar@ideorlando.org (Rob Outar) wrote
>
> Hi all,
>
> 	This is too odd and I do not even know where to start.  We built a
Windows
> Explorer type tool that indexes all files in a "sabdboxed" file system.
> Each Lucene document contains stuff like path, parent directory, last
> modified date, file_lock etc..  When we display the files in a given
> directory through the tool we query the index about 5 times for each file
in
> the repository, this is done so we can display all attributes in the index
> about that file.  So for example if there are 5 files in the directory,
each
> file has 6 attributes that means about 30 term queries are executed.  The
> initial index when build it about 10.4megs, after accessing about 3 or 4
> directories the index size increased to over 100megs, and we did not add
> anything!!  All we are doing is querying!!  Yesterday after querying
became
> ungodly slow, we looked at the index size it had grown from 10megs to
1.5GB
> (granted we tested the tool all morning).  But I have no idea why the
index
> is growing like this.  ANY help would be greatly appreciated.
>
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:32 PM
> To: Lucene Users List; lists@lissus.com
> Subject: RE: Indexing Growth
>
>
> I reuse the same searcher, analyzer and Query object I don't think that
> should cause the problem.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Alex Murzaku [mailto:lists@lissus.com]
> Sent: Tuesday, April 01, 2003 3:22 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Growth
>
>
> I don't know if I remember this correctly: I think for every query
> (term) is created a file but the file should disappear after the query
> is completed.
>
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:13 PM
> To: Lucene Users List
> Subject: RE: Indexing Growth
>
>
> Dang I must be doing something crazy cause all my client app does is
> search and the index size increases.  I do not add anything.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, April 01, 2003 3:07 PM
> To: Lucene Users List
> Subject: Re: Indexing Growth
>
>
> Only when you add new documents to it.
>
> Otis
>
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	Will the index grow based on queries alone?  I build my index,
> then
> > run several queries against it and afterwards I check the size of the
> > index and
> > in some cases it has grown quite a bit although I did not add
> > anything???
> >
> > Anyhow please let me know the cases when the index will grow.
> >
> > Thanks,
> >
> > Rob
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://platinum.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 15:12:17 2003
Return-Path: 
 <lucene-user-return-4110-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66921 invoked from network); 2 Apr 2003 15:12:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:12:17 -0000
Received: (qmail 20976 invoked by uid 97); 2 Apr 2003 15:14:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20969 invoked from network); 2 Apr 2003 15:14:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 15:14:06 -0000
Received: (qmail 66525 invoked by uid 500); 2 Apr 2003 15:12:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66456 invoked from network); 2 Apr 2003 15:12:10 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:12:10 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 0E00C19B717
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 17:12:11 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h32FExn02405;
	Wed, 2 Apr 2003 17:14:59 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16010.65138.901132.853153@morus.xipolis.net>
Date: Wed, 2 Apr 2003 17:14:58 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHNCIAA.routar@ideorlando.org>
References: <657044.1049293463905.JavaMail.digimem@venus>
	<MNEPJJAGGPICDNOCBIKDMEHNCIAA.routar@ideorlando.org>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob Outar writes:

> 
> After running first query to get all attributes from all files in the given
> directory, there were 17 files, each file has 5 attributes so 85 queries
> were ran:
> 
can you post the java code used for querying?
Actually I don't understand, why you have to use one query for each 
attribute (that's what lucene calls field - right?).

Isn't doing a query:
create a searcher
create a query
do the search and get a list of hits
get the documents from the hitlist
get any field you want from the document
?

So why do you have to perform one query for each field?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 15:38:58 2003
Return-Path: 
 <lucene-user-return-4112-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48851 invoked from network); 2 Apr 2003 15:38:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:38:58 -0000
Received: (qmail 21900 invoked by uid 97); 2 Apr 2003 15:40:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21892 invoked from network); 2 Apr 2003 15:40:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 15:40:48 -0000
Received: (qmail 41369 invoked by uid 500); 2 Apr 2003 15:37:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41305 invoked from network); 2 Apr 2003 15:37:19 -0000
Received: from bisoxmsw.blackwell.co.uk (193.82.198.160)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:37:19 -0000
Received: from venus.digimem.net (ns0.digimem.net) by bisoxmsw.blackwell.co.uk
 (Content Technologies SMTPRS 4.2.5) with SMTP id
 <T615ba173d5c0a8faa119c@bisoxmsw.blackwell.co.uk>;
 Wed, 2 Apr 2003 16:32:15 +0100
Received: from venus (venus [192.168.251.161])
	by venus.digimem.net (Postfix) with ESMTP
	id 305D22D23; Wed,  2 Apr 2003 16:32:14 +0100 (BST)
Message-ID: <7575437.1049297534067.JavaMail.digimem@venus>
Date: Wed, 2 Apr 2003 16:32:14 +0100 (BST)
From: Ian Lea <ian@digimem.net>
To: Rob Outar <routar@ideorlando.org>
Subject: RE: Indexing Growth
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_Part_32_3975394.1049297534061"
X-Mailer: digimemmailer v1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_Part_32_3975394.1049297534061
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

They look like the type of file name that would be created
when documents were added to the index.  So I still think
something is adding stuff to your index.  Could it be an
external process as someone suggested?  Does the index
grow even if you don't search?  In the code you posted,
what does checkForIndexChange() do?  Yes, I can guess what
it is supposed to do, but is it perhaps doing something else
as well or instead, directly or indirectly?


--
Ian.

> routar@ideorlando.org (Rob Outar) wrote 
>
> After building the index for the first time:
> 
> _l1d.f1  _l1d.f3  _l1d.f5  _l1d.f7  _l1d.f9   _l1d.fdx  _l1d.frq  _l1d.tii
> deletable
> _l1d.f2  _l1d.f4  _l1d.f6  _l1d.f8  _l1d.fdt  _l1d.fnm  _l1d.prx  _l1d.tis
> segments
> 
> After running first query to get all attributes from all files in the given
> directory, there were 17 files, each file has 5 attributes so 85 queries
> were ran:
> 
> _l1j.f1   _l1p.f9   _l21.f3   _l27.fdx  _l2j.f5   _l2p.prx  _l31.f7
> _l3j.f1   _l3p.f9   _l41.f3   _l44.fdx
> _l1j.f2   _l1p.fdt  _l21.f4   _l27.frq  _l2j.f6   _l2p.tis  _l31.f8
> _l3j.f2   _l3p.fdt  _l41.f4   _l44.frq
> ...

----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/


------=_Part_32_3975394.1049297534061
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_Part_32_3975394.1049297534061--


From MAILER-DAEMON Wed Apr  2 15:36:55 2003
Return-Path: 
 <lucene-user-return-4111-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39632 invoked from network); 2 Apr 2003 15:36:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:36:55 -0000
Received: (qmail 21790 invoked by uid 97); 2 Apr 2003 15:38:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21783 invoked from network); 2 Apr 2003 15:38:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 15:38:45 -0000
Received: (qmail 34943 invoked by uid 500); 2 Apr 2003 15:35:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34894 invoked from network); 2 Apr 2003 15:35:50 -0000
Received: from unknown (HELO www18.dixiesys.com) (209.51.150.6)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:35:50 -0000
Received: from Lissus (s87.dial2.sne.nac.net [64.21.104.87])
	(authenticated (0 bits))
	by www18.dixiesys.com (8.11.6/8.11.6) with ESMTP id h32FZop07205
	for <lucene-user@jakarta.apache.org>; Wed, 2 Apr 2003 09:35:50 -0600
Reply-To: <lists@lissus.com>
From: "Alex Murzaku" <lists@lissus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 10:35:43 -0500
Organization: LISSUS llc
Message-ID: <000001c2f92d$8975d2c0$6501000a@Lissus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHNCIAA.routar@ideorlando.org>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The original _l1d.* are not there after your queries. There are now 17
segments... It seems though only the segment _l47.* is complete. The
other 16 segments miss the *.fnm (field info/name) and *.tii (term info
index) files. The fact that there are 17 files and 17 index segments
might mean you are indexing every time... 

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Wednesday, April 02, 2003 9:50 AM
To: Lucene Users List
Subject: RE: Indexing Growth


After building the index for the first time:

_l1d.f1  _l1d.f3  _l1d.f5  _l1d.f7  _l1d.f9   _l1d.fdx  _l1d.frq
_l1d.tii
deletable
_l1d.f2  _l1d.f4  _l1d.f6  _l1d.f8  _l1d.fdt  _l1d.fnm  _l1d.prx
_l1d.tis segments

After running first query to get all attributes from all files in the
given directory, there were 17 files, each file has 5 attributes so 85
queries were ran:

_l1j.f1   _l1p.f9   _l21.f3   _l27.fdx  _l2j.f5   _l2p.prx  _l31.f7
_l3j.f1   _l3p.f9   _l41.f3   _l44.fdx
_l1j.f2   _l1p.fdt  _l21.f4   _l27.frq  _l2j.f6   _l2p.tis  _l31.f8
_l3j.f2   _l3p.fdt  _l41.f4   _l44.frq
_l1j.f3   _l1p.fdx  _l21.f5   _l27.prx  _l2j.f7   _l2v.f1   _l31.f9
_l3j.f3   _l3p.fdx  _l41.f5   _l44.prx
_l1j.f4   _l1p.frq  _l21.f6   _l27.tis  _l2j.f8   _l2v.f2   _l31.fdt
_l3j.f4   _l3p.frq  _l41.f6   _l44.tis
_l1j.f5   _l1p.prx  _l21.f7   _l2d.f1   _l2j.f9   _l2v.f3   _l31.fdx
_l3j.f5   _l3p.prx  _l41.f7   _l47.f1
_l1j.f6   _l1p.tis  _l21.f8   _l2d.f2   _l2j.fdt  _l2v.f4   _l31.frq
_l3j.f6   _l3p.tis  _l41.f8   _l47.f2
_l1j.f7   _l1v.f1   _l21.f9   _l2d.f3   _l2j.fdx  _l2v.f5   _l31.prx
_l3j.f7   _l3v.f1   _l41.f9   _l47.f3
_l1j.f8   _l1v.f2   _l21.fdt  _l2d.f4   _l2j.frq  _l2v.f6   _l31.tis
_l3j.f8   _l3v.f2   _l41.fdt  _l47.f4
_l1j.f9   _l1v.f3   _l21.fdx  _l2d.f5   _l2j.prx  _l2v.f7   _l37.f1
_l3j.f9   _l3v.f3   _l41.fdx  _l47.f5
_l1j.fdt  _l1v.f4   _l21.frq  _l2d.f6   _l2j.tis  _l2v.f8   _l37.f2
_l3j.fdt  _l3v.f4   _l41.frq  _l47.f6
_l1j.fdx  _l1v.f5   _l21.prx  _l2d.f7   _l2p.f1   _l2v.f9   _l37.f3
_l3j.fdx  _l3v.f5   _l41.prx  _l47.f7
_l1j.frq  _l1v.f6   _l21.tis  _l2d.f8   _l2p.f2   _l2v.fdt  _l37.f4
_l3j.frq  _l3v.f6   _l41.tis  _l47.f8
_l1j.prx  _l1v.f7   _l27.f1   _l2d.f9   _l2p.f3   _l2v.fdx  _l37.f5
_l3j.prx  _l3v.f7   _l44.f1   _l47.f9
_l1j.tis  _l1v.f8   _l27.f2   _l2d.fdt  _l2p.f4   _l2v.frq  _l37.f6
_l3j.tis  _l3v.f8   _l44.f2   _l47.fdt
_l1p.f1   _l1v.f9   _l27.f3   _l2d.fdx  _l2p.f5   _l2v.prx  _l37.f7
_l3p.f1   _l3v.f9   _l44.f3   _l47.fdx
_l1p.f2   _l1v.fdt  _l27.f4   _l2d.frq  _l2p.f6   _l2v.tis  _l37.f8
_l3p.f2   _l3v.fdt  _l44.f4   _l47.fnm
_l1p.f3   _l1v.fdx  _l27.f5   _l2d.prx  _l2p.f7   _l31.f1   _l37.f9
_l3p.f3   _l3v.fdx  _l44.f5   _l47.frq
_l1p.f4   _l1v.frq  _l27.f6   _l2d.tis  _l2p.f8   _l31.f2   _l37.fdt
_l3p.f4   _l3v.frq  _l44.f6   _l47.prx
_l1p.f5   _l1v.prx  _l27.f7   _l2j.f1   _l2p.f9   _l31.f3   _l37.fdx
_l3p.f5   _l3v.prx  _l44.f7   _l47.tii
_l1p.f6   _l1v.tis  _l27.f8   _l2j.f2   _l2p.fdt  _l31.f4   _l37.frq
_l3p.f6   _l3v.tis  _l44.f8   _l47.tis
_l1p.f7   _l21.f1   _l27.f9   _l2j.f3   _l2p.fdx  _l31.f5   _l37.prx
_l3p.f7   _l41.f1   _l44.f9   deletable
_l1p.f8   _l21.f2   _l27.fdt  _l2j.f4   _l2p.frq  _l31.f6   _l37.tis
_l3p.f8   _l41.f2   _l44.fdt  segments

I have no reason to add anything to the index all I want to do is getch
the attributes for the list of files in that directory.

Thanks,

Rob


-----Original Message-----
From: Ian Lea [mailto:ian@digimem.net]
Sent: Wednesday, April 02, 2003 9:24 AM
To: Rob Outar
Cc: Lucene Users List
Subject: RE: Indexing Growth


What does the index directory look like before and after running
queries?  Are files growing or being added?  Which files? How many
documents are there in the index before and after? Are you absolutely
100% positive there is no way that your application is adding entries to
the index?  That still has to be the most likely explanation, I think.



--
Ian.
ian@digimem.net


> routar@ideorlando.org (Rob Outar) wrote
>
> Hi all,
>
> 	This is too odd and I do not even know where to start.  We built
a
Windows
> Explorer type tool that indexes all files in a "sabdboxed" file 
> system. Each Lucene document contains stuff like path, parent 
> directory, last modified date, file_lock etc..  When we display the 
> files in a given directory through the tool we query the index about 5

> times for each file
in
> the repository, this is done so we can display all attributes in the 
> index about that file.  So for example if there are 5 files in the 
> directory,
each
> file has 6 attributes that means about 30 term queries are executed.  
> The initial index when build it about 10.4megs, after accessing about 
> 3 or 4 directories the index size increased to over 100megs, and we 
> did not add anything!!  All we are doing is querying!!  Yesterday 
> after querying
became
> ungodly slow, we looked at the index size it had grown from 10megs to
1.5GB
> (granted we tested the tool all morning).  But I have no idea why the
index
> is growing like this.  ANY help would be greatly appreciated.
>
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:32 PM
> To: Lucene Users List; lists@lissus.com
> Subject: RE: Indexing Growth
>
>
> I reuse the same searcher, analyzer and Query object I don't think 
> that should cause the problem.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Alex Murzaku [mailto:lists@lissus.com]
> Sent: Tuesday, April 01, 2003 3:22 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Growth
>
>
> I don't know if I remember this correctly: I think for every query
> (term) is created a file but the file should disappear after the query

> is completed.
>
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:13 PM
> To: Lucene Users List
> Subject: RE: Indexing Growth
>
>
> Dang I must be doing something crazy cause all my client app does is 
> search and the index size increases.  I do not add anything.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, April 01, 2003 3:07 PM
> To: Lucene Users List
> Subject: Re: Indexing Growth
>
>
> Only when you add new documents to it.
>
> Otis
>
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	Will the index grow based on queries alone?  I build my index,
> then
> > run several queries against it and afterwards I check the size of 
> > the index and in some cases it has grown quite a bit although I did 
> > not add anything???
> >
> > Anyhow please let me know the cases when the index will grow.
> >
> > Thanks,
> >
> > Rob
> >
> >
> > --------------------------------------------------------------------
> > -
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more 
> http://platinum.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 15:51:39 2003
Return-Path: 
 <lucene-user-return-4113-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77409 invoked from network); 2 Apr 2003 15:51:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:51:39 -0000
Received: (qmail 22341 invoked by uid 97); 2 Apr 2003 15:53:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22334 invoked from network); 2 Apr 2003 15:53:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 15:53:29 -0000
Received: (qmail 77182 invoked by uid 500); 2 Apr 2003 15:51:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77164 invoked from network); 2 Apr 2003 15:51:36 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 15:51:36 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 2448A367E0; Wed,  2 Apr 2003 15:52:18 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 0505E367D8
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 15:52:16 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 10:52:59 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDOEHOCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <7575437.1049297534067.JavaMail.digimem@venus>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

/**
     * Returns true if the index has changed.
     * @return true iff the index has been changed since the IndexSearcher
     * class was created.
     * @build 10
     */
    private synchronized boolean hasIndexChanged() {

        try {
            long temp = IndexReader.lastModified(this.indexLocation);
            return temp > this.lastModified;
        }
        //assume it has changed
        catch (IOException e) {
            return true;
        }
    }

    /**
     * Checks whether the index has changed since the IndexSearcher was
     * created, if it has IndexSearcher is reinitalized.
     *  @build 10
     */
    private synchronized void checkForIndexChange() {

        try {
            if ( hasIndexChanged()) {
                this.searcher = new IndexSearcher(this.indexLocation);
            }
        }
        catch (IOException e) {

        }
    }



Thanks,

Rob


-----Original Message-----
From: Ian Lea [mailto:ian@digimem.net]
Sent: Wednesday, April 02, 2003 10:32 AM
To: Rob Outar
Cc: Lucene Users List
Subject: RE: Indexing Growth


They look like the type of file name that would be created
when documents were added to the index.  So I still think
something is adding stuff to your index.  Could it be an
external process as someone suggested?  Does the index
grow even if you don't search?  In the code you posted,
what does checkForIndexChange() do?  Yes, I can guess what
it is supposed to do, but is it perhaps doing something else
as well or instead, directly or indirectly?


--
Ian.

> routar@ideorlando.org (Rob Outar) wrote
>
> After building the index for the first time:
>
> _l1d.f1  _l1d.f3  _l1d.f5  _l1d.f7  _l1d.f9   _l1d.fdx  _l1d.frq  _l1d.tii
> deletable
> _l1d.f2  _l1d.f4  _l1d.f6  _l1d.f8  _l1d.fdt  _l1d.fnm  _l1d.prx  _l1d.tis
> segments
>
> After running first query to get all attributes from all files in the
given
> directory, there were 17 files, each file has 5 attributes so 85 queries
> were ran:
>
> _l1j.f1   _l1p.f9   _l21.f3   _l27.fdx  _l2j.f5   _l2p.prx  _l31.f7
> _l3j.f1   _l3p.f9   _l41.f3   _l44.fdx
> _l1j.f2   _l1p.fdt  _l21.f4   _l27.frq  _l2j.f6   _l2p.tis  _l31.f8
> _l3j.f2   _l3p.fdt  _l41.f4   _l44.frq
> ...

----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 16:02:19 2003
Return-Path: 
 <lucene-user-return-4114-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12861 invoked from network); 2 Apr 2003 16:02:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:02:19 -0000
Received: (qmail 23075 invoked by uid 97); 2 Apr 2003 16:04:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23068 invoked from network); 2 Apr 2003 16:04:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 16:04:09 -0000
Received: (qmail 12618 invoked by uid 500); 2 Apr 2003 16:02:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12605 invoked from network); 2 Apr 2003 16:02:16 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:02:16 -0000
Message-ID: <20030402160217.91177.qmail@web12701.mail.yahoo.com>
Received: from [64.2.72.226] by web12701.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 08:02:17 PST
Date: Wed, 2 Apr 2003 08:02:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Indexing Growth
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHLCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob,

Here are some ideas.

1. Which version of Lucene are you using?  HEAD from CVS?  If so,
FSDirectory was patched recently (renameSomething method), make sure
there is no bug in it.

2. IndexReader/IndexWriter allow you to set the stream for logging 
(can't remember the method name now).  Those classes will then print
out what they are doing to that stream.

3. Write a simple class that opens your index before any queries are
made and prints out the number of documents, the number of terms, etc.
Then run your queries, and run the application again and see if the
numbers are different.

4. Do as in 3, but run 1 single query.  Observe difference between pre
and post-query numbers.  Run another query.  Observe the difference in
numbers again.  Is there a pattern?

5. To make sure it's not some background process adding documents, run
your application (from 3.) twice, but without querying the index, just
waiting some time between runs.

Otis



--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	This is too odd and I do not even know where to start.  We built a
> Windows
> Explorer type tool that indexes all files in a "sabdboxed" file
> system.
> Each Lucene document contains stuff like path, parent directory, last
> modified date, file_lock etc..  When we display the files in a given
> directory through the tool we query the index about 5 times for each
> file in
> the repository, this is done so we can display all attributes in the
> index
> about that file.  So for example if there are 5 files in the
> directory, each
> file has 6 attributes that means about 30 term queries are executed. 
> The
> initial index when build it about 10.4megs, after accessing about 3
> or 4
> directories the index size increased to over 100megs, and we did not
> add
> anything!!  All we are doing is querying!!  Yesterday after querying
> became
> ungodly slow, we looked at the index size it had grown from 10megs to
> 1.5GB
> (granted we tested the tool all morning).  But I have no idea why the
> index
> is growing like this.  ANY help would be greatly appreciated.
> 
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:32 PM
> To: Lucene Users List; lists@lissus.com
> Subject: RE: Indexing Growth
> 
> 
> I reuse the same searcher, analyzer and Query object I don't think
> that
> should cause the problem.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Alex Murzaku [mailto:lists@lissus.com]
> Sent: Tuesday, April 01, 2003 3:22 PM
> To: 'Lucene Users List'
> Subject: RE: Indexing Growth
> 
> 
> I don't know if I remember this correctly: I think for every query
> (term) is created a file but the file should disappear after the
> query
> is completed.
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 01, 2003 3:13 PM
> To: Lucene Users List
> Subject: RE: Indexing Growth
> 
> 
> Dang I must be doing something crazy cause all my client app does is
> search and the index size increases.  I do not add anything.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, April 01, 2003 3:07 PM
> To: Lucene Users List
> Subject: Re: Indexing Growth
> 
> 
> Only when you add new documents to it.
> 
> Otis
> 
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	Will the index grow based on queries alone?  I build my index,
> then
> > run several queries against it and afterwards I check the size of
> the
> > index and
> > in some cases it has grown quite a bit although I did not add
> > anything???
> >
> > Anyhow please let me know the cases when the index will grow.
> >
> > Thanks,
> >
> > Rob
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://platinum.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 16:17:37 2003
Return-Path: 
 <lucene-user-return-4115-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42338 invoked from network); 2 Apr 2003 16:17:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:17:37 -0000
Received: (qmail 23591 invoked by uid 97); 2 Apr 2003 16:19:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23584 invoked from network); 2 Apr 2003 16:19:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 16:19:27 -0000
Received: (qmail 35960 invoked by uid 500); 2 Apr 2003 16:16:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35901 invoked from network); 2 Apr 2003 16:16:17 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:16:17 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id B5D0A367D5; Wed,  2 Apr 2003 16:16:59 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 67091367CE
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 16:16:58 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Wed, 2 Apr 2003 11:17:42 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDMEHPCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <MNEPJJAGGPICDNOCBIKDOEHOCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I found the freakin problem, I am going to kill my co-worker when he gets
in.  He was removing a field and adding the same field back for each
document in the index in a piece of code I did not notice until
now!!!!!!!!!!!!!!!!  He is so dead.  I commented out that piece of code,
queried to my hearts content and the index has not changed.  Heck the tool
is like super fast now.

One last concern is about the re-indexing thing, when does that occur?
optimize()?  I am curious what method would cause a reindex.

I want to thank all of you for your help, it was truly appreciated!

Thanks,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 16:34:54 2003
Return-Path: 
 <lucene-user-return-4116-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68327 invoked from network); 2 Apr 2003 16:34:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:34:54 -0000
Received: (qmail 24024 invoked by uid 97); 2 Apr 2003 16:36:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24017 invoked from network); 2 Apr 2003 16:36:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 16:36:44 -0000
Received: (qmail 66557 invoked by uid 500); 2 Apr 2003 16:34:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66493 invoked from network); 2 Apr 2003 16:34:28 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 2 Apr 2003 16:34:28 -0000
Message-ID: <20030402163430.98108.qmail@web12701.mail.yahoo.com>
Received: from [64.2.72.226] by web12701.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 08:34:30 PST
Date: Wed, 2 Apr 2003 08:34:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Indexing Growth
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEHPCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Funny how this is the outcome of 90% of the problems people have with
software - their own mistakes :)

Regarding reindexing - no need for any explicit calls.  When you add a
document to the index it is indexed right away.  You will have to
detect index change (methods for that are there) and re-open the
IndexSearcher in order to see newly added/indexed documents.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> I found the freakin problem, I am going to kill my co-worker when he
> gets
> in.  He was removing a field and adding the same field back for each
> document in the index in a piece of code I did not notice until
> now!!!!!!!!!!!!!!!!  He is so dead.  I commented out that piece of
> code,
> queried to my hearts content and the index has not changed.  Heck the
> tool
> is like super fast now.
> 
> One last concern is about the re-indexing thing, when does that
> occur?
> optimize()?  I am curious what method would cause a reindex.
> 
> I want to thank all of you for your help, it was truly appreciated!
> 
> Thanks,
> 
> Rob
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 19:29:48 2003
Return-Path: 
 <lucene-user-return-4117-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28883 invoked from network); 2 Apr 2003 19:29:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 19:29:48 -0000
Received: (qmail 28977 invoked by uid 97); 2 Apr 2003 19:31:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28969 invoked from network); 2 Apr 2003 19:31:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 19:31:40 -0000
Received: (qmail 28616 invoked by uid 500); 2 Apr 2003 19:29:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28600 invoked from network); 2 Apr 2003 19:29:43 -0000
Received: from relay06.indigo.ie (194.125.133.230)
  by daedalus.apache.org with SMTP; 2 Apr 2003 19:29:43 -0000
Received: (qmail 62497 messnum 1045004 invoked from
 network[159.134.205.75/p331.as1.athlone1.eircom.net]);
 2 Apr 2003 19:28:34 -0000
Received: from p331.as1.athlone1.eircom.net (159.134.205.75)
  by relay06.indigo.ie (qp 62497) with SMTP; 2 Apr 2003 19:28:34 -0000
Subject: out of memory
From: Eoghan S <shieldse@gofree.indigo.ie>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Content-Type: multipart/alternative; boundary="=-D/LqXXw4mD6yMUKdd/E2"
X-Mailer: Evolution/1.0.2-5mdk 
Date: 02 Apr 2003 20:23:22 +0100
Message-Id: <1049311421.10040.4.camel@eoghan.local.lan>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=-D/LqXXw4mD6yMUKdd/E2
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

hi!
i am using lucene1.2 in a file sharing system, my average file amount
is about 400 totalling about 50megs (small), when run on linux it is
fine using jdk1.4.1, however using jdk1.4.1 on windows i get an outof
memory error. i am using pdfbox 0.6.1, i have also tried 0.5.6, however
same problem. i am not sure where the problem lies,whether pdfbox or
lucene or something in jdk, but was wondering if anyone else had the
same experience.. or a solution
thanks

-- 
Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
All the world's a stage and most of us are desperately unrehearsed.
		-- Sean O'Casey

--=-D/LqXXw4mD6yMUKdd/E2--


From MAILER-DAEMON Wed Apr  2 19:44:14 2003
Return-Path: 
 <lucene-user-return-4118-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64375 invoked from network); 2 Apr 2003 19:44:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 19:44:14 -0000
Received: (qmail 29302 invoked by uid 97); 2 Apr 2003 19:46:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29295 invoked from network); 2 Apr 2003 19:46:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 19:46:06 -0000
Received: (qmail 62801 invoked by uid 500); 2 Apr 2003 19:43:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62757 invoked from network); 2 Apr 2003 19:43:56 -0000
Received: from inswsod01.gs.com (207.17.37.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 19:43:56 -0000
Received: from insvs8502.inz.gs.com (unknown [204.4.188.79])
	by inswsod01.gs.com (Postfix) with ESMTP id C14401C89C
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 14:44:00 -0500 (EST)
Received: from gsnmp02es.ny.fw.gs.com by insvs8502.inz.gs.com with ESMTP for
 lucene-user@jakarta.apache.org; Wed, 2 Apr 2003 14:44:00 -0500
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <2D50P8R2>; Wed, 2 Apr 2003 14:44:08 -0500
Message-Id: <79542328270D5F4BB8E29BED159D783B032647C4@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: out of memory
Date: Wed, 2 Apr 2003 14:44:07 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


OutOfMemory errors sometimes are not errors. You may need to use -mx to
reset the maximum memory allocated to the jvm.

-----Original Message-----
From: Eoghan S [mailto:shieldse@gofree.indigo.ie]
Sent: Wednesday, April 02, 2003 2:23 PM
To: lucene-user@jakarta.apache.org
Subject: out of memory


hi!
i am using lucene1.2 in a file sharing system, my average file amount
is about 400 totalling about 50megs (small), when run on linux it is
fine using jdk1.4.1, however using jdk1.4.1 on windows i get an outof
memory error. i am using pdfbox 0.6.1, i have also tried 0.5.6, however
same problem. i am not sure where the problem lies,whether pdfbox or
lucene or something in jdk, but was wondering if anyone else had the
same experience.. or a solution
thanks

-- 
Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
All the world's a stage and most of us are desperately unrehearsed.
		-- Sean O'Casey

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 20:16:57 2003
Return-Path: 
 <lucene-user-return-4119-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50953 invoked from network); 2 Apr 2003 20:16:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:16:57 -0000
Received: (qmail 298 invoked by uid 97); 2 Apr 2003 20:18:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 290 invoked from network); 2 Apr 2003 20:18:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 20:18:50 -0000
Received: (qmail 50690 invoked by uid 500); 2 Apr 2003 20:16:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50648 invoked from network); 2 Apr 2003 20:16:54 -0000
Received: from relay07.indigo.ie (194.125.133.231)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:16:54 -0000
Received: (qmail 25921 messnum 1019898 invoked from
 network[159.134.205.163/p419.as1.athlone1.eircom.net]);
 2 Apr 2003 20:16:57 -0000
Received: from p419.as1.athlone1.eircom.net (159.134.205.163)
  by relay07.indigo.ie (qp 25921) with SMTP; 2 Apr 2003 20:16:57 -0000
Subject: RE: out of memory
From: Eoghan S <shieldse@gofree.indigo.ie>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
	<79542328270D5F4BB8E29BED159D783B032647C4@gsnmp02es.ny.fw.gs.com>
References: 
	<79542328270D5F4BB8E29BED159D783B032647C4@gsnmp02es.ny.fw.gs.com>
Content-Type: multipart/alternative; boundary="=-YeH0X3eF05lLpyMiVz0y"
X-Mailer: Evolution/1.0.2-5mdk 
Date: 02 Apr 2003 21:11:51 +0100
Message-Id: <1049314322.13191.3.camel@eoghan.local.lan>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=-YeH0X3eF05lLpyMiVz0y
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

i have tried every memory setting using the -X options, up as far as
512M actually, no effect. i also tried increasing the thread stack in
case this could have caused it, still no difference.

thanks all the same


On Wed, 2003-04-02 at 20:44, Lichtner, Guglielmo wrote:

    OutOfMemory errors sometimes are not errors. You may need to use -mx to
    reset the maximum memory allocated to the jvm.
    
    -----Original Message-----
    From: Eoghan S [mailto:shieldse@gofree.indigo.ie]
    Sent: Wednesday, April 02, 2003 2:23 PM
    To: lucene-user@jakarta.apache.org
    Subject: out of memory
    
    
    hi!
    i am using lucene1.2 in a file sharing system, my average file amount
    is about 400 totalling about 50megs (small), when run on linux it is
    fine using jdk1.4.1, however using jdk1.4.1 on windows i get an outof
    memory error. i am using pdfbox 0.6.1, i have also tried 0.5.6, however
    same problem. i am not sure where the problem lies,whether pdfbox or
    lucene or something in jdk, but was wondering if anyone else had the
    same experience.. or a solution
    thanks
    
    -- 
    Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
    All the world's a stage and most of us are desperately unrehearsed.
    		-- Sean O'Casey
    
    ---------------------------------------------------------------------
    To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
    For additional commands, e-mail: lucene-user-help@jakarta.apache.org
    
    

-- 
Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
All the world's a stage and most of us are desperately unrehearsed.
		-- Sean O'Casey

--=-YeH0X3eF05lLpyMiVz0y--


From MAILER-DAEMON Wed Apr  2 20:17:48 2003
Return-Path: 
 <lucene-user-return-4120-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54465 invoked from network); 2 Apr 2003 20:17:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:17:48 -0000
Received: (qmail 334 invoked by uid 97); 2 Apr 2003 20:19:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 327 invoked from network); 2 Apr 2003 20:19:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 20:19:40 -0000
Received: (qmail 52355 invoked by uid 500); 2 Apr 2003 20:17:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52304 invoked from network); 2 Apr 2003 20:17:17 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com)
 (216.74.150.80)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:17:17 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: index error
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
Date: Wed, 2 Apr 2003 15:21:52 -0500
Message-ID: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B765@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: index error
Thread-Index: AcL5VX9PeBA8JMYjThC/UI8z2odjfw==
From: "Hui Ouyang" <hui@triplehop.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGksDQpSdW4gdGhlIGx1Y2VuZSBpbmRleGluZyBwcm9jZXNzIHdpdGggTHVjZW5lIDEuMiwgSSBn
b3QgZm9sbG93aW5nIGVycm9yLiBBbnkgaWRlYSBvciBjbHVlID8NCiANClJlZ2FyZHMsDQpIdWkN
CiANCmphdmEuaW8uRmlsZU5vdEZvdW5kRXhjZXB0aW9uOiBJOlx0cmlwbGVob3BcTWF0Y2hQb2lu
dFxpbmRleFx3ZWJcXzFiLmZubSAoVGhlIHN5DQpzdGVtIGNhbm5vdCBmaW5kIHRoZSBmaWxlIHNw
ZWNpZmllZCkNCiAgICAgICAgYXQgamF2YS5pby5SYW5kb21BY2Nlc3NGaWxlLm9wZW4oTmF0aXZl
IE1ldGhvZCkNCiAgICAgICAgYXQgamF2YS5pby5SYW5kb21BY2Nlc3NGaWxlLjxpbml0PihSYW5k
b21BY2Nlc3NGaWxlLmphdmE6OTgpDQogICAgICAgIGF0IGphdmEuaW8uUmFuZG9tQWNjZXNzRmls
ZS48aW5pdD4oUmFuZG9tQWNjZXNzRmlsZS5qYXZhOjE0MykNCiAgICAgICAgYXQgb3JnLmFwYWNo
ZS5sdWNlbmUuc3RvcmUuRlNJbnB1dFN0cmVhbSREZXNjcmlwdG9yLjxpbml0PihVbmtub3duIFNv
dXJjDQplKQ0KICAgICAgICBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5GU0lucHV0U3RyZWFt
Ljxpbml0PihVbmtub3duIFNvdXJjZSkNCiAgICAgICAgYXQgb3JnLmFwYWNoZS5sdWNlbmUuc3Rv
cmUuRlNEaXJlY3Rvcnkub3BlbkZpbGUoVW5rbm93biBTb3VyY2UpDQogICAgICAgIGF0IG9yZy5h
cGFjaGUubHVjZW5lLmluZGV4LkZpZWxkSW5mb3MuPGluaXQ+KFVua25vd24gU291cmNlKQ0KICAg
ICAgICBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5TZWdtZW50UmVhZGVyLjxpbml0PihVbmtu
b3duIFNvdXJjZSkNCiAgICAgICAgYXQgb3JnLmFwYWNoZS5sdWNlbmUuaW5kZXguSW5kZXhXcml0
ZXIubWVyZ2VTZWdtZW50cyhVbmtub3duIFNvdXJjZSkNCiAgICAgICAgYXQgb3JnLmFwYWNoZS5s
dWNlbmUuaW5kZXguSW5kZXhXcml0ZXIubWF5YmVNZXJnZVNlZ21lbnRzKFVua25vd24gU291cmNl
DQopDQogICAgICAgIGF0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4V3JpdGVyLmFkZERv
Y3VtZW50KFVua25vd24gU291cmNlKQ0KICAgICAgICBhdCBjb20udHJpcGxlaG9wLmluZGV4LkRv
Y3VtZW50SW5kZXhlci5pbmRleChEb2N1bWVudEluZGV4ZXIuamF2YToxMzUpDQogICAgICAgIGF0
IGNvbS50cmlwbGVob3AuZXh0cmFjdG9yLkRvY3VtZW50THVjZW5lU2F2ZXIuaW5zZXJ0VG9Eb21J
dGVtKERvY3VtZW50TA0KdWNlbmVTYXZlci5qYXZhOjEzOSkNCiAgICAgICAgYXQgY29tLnRyaXBs
ZWhvcC5leHRyYWN0b3IuRG9jdW1lbnRMdWNlbmVTYXZlci5wcm9jZXNzKERvY3VtZW50THVjZW5l
U2F2DQplci5qYXZhOjEwMCkNCiAgICAgICAgYXQgY29tLnRyaXBsZWhvcC5leHRyYWN0b3IuRGly
ZWN0RG9jdW1lbnRQcm9kdWNlci5wcm9kdWNlKERpcmVjdERvY3VtZW50DQpQcm9kdWNlci5qYXZh
OjMxNikNCiAgICAgICAgYXQgY29tLnRyaXBsZWhvcC5jcmF3bGVyLkJhc2VIVE1MSGFuZGxlci5l
bmREb2N1bWVudChCYXNlSFRNTEhhbmRsZXIuamF2DQphOjM0MSkNCiAgICAgICAgYXQgY29tLnRy
aXBsZWhvcC5jcmF3bGVyLkRlZmF1bHREb2N1bWVudEFkYXB0ZXIucnVuKERlZmF1bHREb2N1bWVu
dEFkYXB0DQplci5qYXZhOjk5NikNCg0K


From MAILER-DAEMON Wed Apr  2 20:36:54 2003
Return-Path: 
 <lucene-user-return-4121-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16267 invoked from network); 2 Apr 2003 20:36:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:36:54 -0000
Received: (qmail 859 invoked by uid 97); 2 Apr 2003 20:38:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 852 invoked from network); 2 Apr 2003 20:38:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 20:38:46 -0000
Received: (qmail 14168 invoked by uid 500); 2 Apr 2003 20:36:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14104 invoked from network); 2 Apr 2003 20:36:27 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 2 Apr 2003 20:36:27 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id B27AD2EB
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 15:36:31 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 58CB811A9; Wed,  2 Apr 2003 15:36:42 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 38BC411A5
	for <lucene-user@jakarta.apache.org>; Wed,  2 Apr 2003 15:36:42 -0500 (EST)
Date: Wed, 2 Apr 2003 15:36:42 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: out of memory
In-Reply-To: <1049314322.13191.3.camel@eoghan.local.lan>
Message-ID: <Pine.GSO.4.53.0304021535180.28704@fury.csh.rit.edu>
References: <79542328270D5F4BB8E29BED159D783B032647C4@gsnmp02es.ny.fw.gs.com>
 <1049314322.13191.3.camel@eoghan.local.lan>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It is possible that it is one single PDF that is having an issue.  Can you
track it down to that one and let me know which it is.  It would be very
helpful if you could send it to me as well.

Ben
http://www.pdfbox.org




On Wed, 2 Apr 2003, Eoghan S wrote:

> i have tried every memory setting using the -X options, up as far as
> 512M actually, no effect. i also tried increasing the thread stack in
> case this could have caused it, still no difference.
>
> thanks all the same
>
>
> On Wed, 2003-04-02 at 20:44, Lichtner, Guglielmo wrote:
>
>     OutOfMemory errors sometimes are not errors. You may need to use -mx to
>     reset the maximum memory allocated to the jvm.
>
>     -----Original Message-----
>     From: Eoghan S [mailto:shieldse@gofree.indigo.ie]
>     Sent: Wednesday, April 02, 2003 2:23 PM
>     To: lucene-user@jakarta.apache.org
>     Subject: out of memory
>
>
>     hi!
>     i am using lucene1.2 in a file sharing system, my average file amount
>     is about 400 totalling about 50megs (small), when run on linux it is
>     fine using jdk1.4.1, however using jdk1.4.1 on windows i get an outof
>     memory error. i am using pdfbox 0.6.1, i have also tried 0.5.6, however
>     same problem. i am not sure where the problem lies,whether pdfbox or
>     lucene or something in jdk, but was wondering if anyone else had the
>     same experience.. or a solution
>     thanks
>
>     --
>     Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
>     All the world's a stage and most of us are desperately unrehearsed.
>     		-- Sean O'Casey
>
>     ---------------------------------------------------------------------
>     To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>     For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> --
> Eoghans Fortune For Wed Apr 2 17:43:01 IST 2003
> All the world's a stage and most of us are desperately unrehearsed.
> 		-- Sean O'Casey
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  2 22:13:52 2003
Return-Path: 
 <lucene-user-return-4122-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94742 invoked from network); 2 Apr 2003 22:13:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 22:13:52 -0000
Received: (qmail 3447 invoked by uid 97); 2 Apr 2003 22:15:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3440 invoked from network); 2 Apr 2003 22:15:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 22:15:45 -0000
Received: (qmail 94386 invoked by uid 500); 2 Apr 2003 22:13:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94375 invoked from network); 2 Apr 2003 22:13:49 -0000
Received: from web20714.mail.yahoo.com (66.163.169.155)
  by daedalus.apache.org with SMTP; 2 Apr 2003 22:13:49 -0000
Message-ID: <20030402221355.57407.qmail@web20714.mail.yahoo.com>
Received: from [64.215.87.3] by web20714.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 14:13:55 PST
Date: Wed, 2 Apr 2003 14:13:55 -0800 (PST)
From: Pinky Iyer <pinkyiyer@yahoo.com>
Subject: JSP files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.GSO.4.53.0304021535180.28704@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1631600855-1049321635=:56773"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1631600855-1049321635=:56773
Content-Type: text/plain; charset=us-ascii


 Hi all!
  Is there any seperate parser for jsp files. Any other option other than modifying indexHTML.java class is appreciated. I already tried modifying this class, html parsing is fine, but jsp parsing yields all the jsp tags as well in the summary...
Thanks!
Pinky



---------------------------------
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
--0-1631600855-1049321635=:56773--

From MAILER-DAEMON Wed Apr  2 23:14:14 2003
Return-Path: 
 <lucene-user-return-4123-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4346 invoked from network); 2 Apr 2003 23:14:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Apr 2003 23:14:14 -0000
Received: (qmail 4838 invoked by uid 97); 2 Apr 2003 23:16:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4831 invoked from network); 2 Apr 2003 23:16:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 Apr 2003 23:16:09 -0000
Received: (qmail 4054 invoked by uid 500); 2 Apr 2003 23:14:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4037 invoked from network); 2 Apr 2003 23:14:11 -0000
Received: from web41603.mail.yahoo.com (66.218.93.103)
  by daedalus.apache.org with SMTP; 2 Apr 2003 23:14:11 -0000
Message-ID: <20030402231419.53143.qmail@web41603.mail.yahoo.com>
Received: from [4.21.160.2] by web41603.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 15:14:18 PST
Date: Wed, 2 Apr 2003 15:14:18 -0800 (PST)
From: Tomcat Programmer <tcprogrammer@yahoo.com>
Subject: Re: JSP files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030402221355.57407.qmail@web20714.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Pinky,

You don't want to index the jsp directly, as you would
be missing the content inserted by the server when the
pages are accessed. Typically indexing dynamic pages
is problematic since the content will change
freqently... That being said, the java.io library
provides classes for retrieving the content of a URL
as an input stream. You can write a class to traverse
your site downloading the URLS and indexing them. It
will be slower of course than reading HTML from disk
files.  

-Tom 

--- Pinky Iyer <pinkyiyer@yahoo.com> wrote:
> 
>  Hi all!
>   Is there any seperate parser for jsp files. Any
> other option other than modifying indexHTML.java
> class is appreciated. I already tried modifying this
> class, html parsing is fine, but jsp parsing yields
> all the jsp tags as well in the summary...
> Thanks!
> Pinky
> 
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms,
> and more


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 03:22:03 2003
Return-Path: 
 <lucene-user-return-4124-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55370 invoked from network); 3 Apr 2003 03:22:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 03:22:03 -0000
Received: (qmail 8751 invoked by uid 97); 3 Apr 2003 03:24:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8744 invoked from network); 3 Apr 2003 03:24:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 03:24:00 -0000
Received: (qmail 55094 invoked by uid 500); 3 Apr 2003 03:22:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55083 invoked from network); 3 Apr 2003 03:21:59 -0000
Received: from oe13.law9.hotmail.com (HELO hotmail.com) (64.4.8.117)
  by daedalus.apache.org with SMTP; 3 Apr 2003 03:21:59 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 2 Apr 2003 19:22:09 -0800
Received: from 61.140.189.37 by oe13.law9.hotmail.com with DAV;
	Thu, 03 Apr 2003 03:22:08 +0000
X-Originating-IP: [61.140.189.37]
X-Originating-Email: [keelkerr@hotmail.com]
From: "kerr" <keelkerr@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: about increment update
Date: Thu, 3 Apr 2003 11:20:31 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <OE13G7mlegh0YCaRW5E0000021d@hotmail.com>
X-OriginalArrivalTime: 03 Apr 2003 03:22:09.0238 (UTC)
 FILETIME=[35C31760:01C2F990]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGVsbG8gZXZlcnlvbmUsDQpIZXJlIEkgdHJ5IHRvIGluY3JlbWVudCB1cGRhdGUgaW5kZXggZmls
ZSBhbmQgZm9sbG93IHRoZSBpZGVhIHRvIGRlbGV0ZSBtb2RpZmllZCBmaWxlIGZpcnN0IGFuZCBy
ZS1hZGQgaXQuIEhlcmUgaXMgdGhlIHNvdXJjZS4NCkJ1dCB3aGVuIEkgZXhlY3V0ZSBpdCwgdGhl
IGluZGV4IGRpcmVjdG9yeSBjcmVhdGUgYSBmaWxlKHdyaXRlLmxvY2spIHdoZW4gZXhlY3V0ZSB0
aGUgbGluZQ0KICAgIHJlYWRlci5kZWxldGUoaSk7LCANCmFuZCBjYXVnaHQgYSBjbGFzcyBqYXZh
LmlvLklPRXhjZXB0aW9uICAgd2l0aCBtZXNzYWdlOiBJbmRleCBsb2NrZWQgZm9yIHdyaXRlLg0K
QWZ0ZXIgdGhhdCwgd2hlbiBJIGV4ZWN1dGUgdGhlIGxpbmUNCiAgICBJbmRleFdyaXRlciB3cml0
ZXIgPSBuZXcgSW5kZXhXcml0ZXIoImluZGV4IiwgbmV3IFN0YW5kYXJkQW5hbHl6ZXIoKSwgZmFs
c2UpOw0KY2F1Z2h0IGEgY2xhc3MgamF2YS5pby5JT0V4Y2VwdGlvbiAgIHdpdGggbWVzc2FnZTog
SW5kZXggbG9ja2VkIGZvciB3cml0ZQ0KaWYgSSBkZWxldGUgdGhlIGZpbGUod3JpdGUubG9jayks
IHRoZSBlcnJvciB3aWxsIHJlLWhhcHBlbi4NCmFueW9uZSBjYW4gaGVscCBhbmQgdGhhbmtzLg0K
ICAgICAgIEtlcnIuDQoNCg0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5k
YXJkLlN0YW5kYXJkQW5hbHl6ZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuaW5kZXguSW5k
ZXhXcml0ZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRG9jdW1lbnQ7DQpp
bXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRmllbGQ7DQppbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuc3RvcmUuRGlyZWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnN0b3Jl
LkZTRGlyZWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4UmVhZGVy
Ow0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LlRlcm07DQoNCmltcG9ydCBqYXZhLmlv
LkZpbGU7DQppbXBvcnQgamF2YS51dGlsLkRhdGU7DQoNCg0KcHVibGljIGNsYXNzIFVwZGF0ZUlu
ZGV4RmlsZXMgew0KICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7DQog
ICAgdHJ5IHsNCiAgICAgIERhdGUgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KDQogICAgICBEaXJlY3Rv
cnkgZGlyZWN0b3J5ID0gRlNEaXJlY3RvcnkuZ2V0RGlyZWN0b3J5KCJpbmRleCIsIGZhbHNlKTsN
CiAgICAgIEluZGV4UmVhZGVyIHJlYWRlciA9IEluZGV4UmVhZGVyLm9wZW4oZGlyZWN0b3J5KTsN
CiAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihyZWFkZXIuaXNMb2NrZWQoZGlyZWN0b3J5KSk7DQog
ICAgICAvL3JlYWRlci51bmxvY2soZGlyZWN0b3J5KTsNCiAgICAgIEluZGV4V3JpdGVyIHdyaXRl
ciA9IG5ldyBJbmRleFdyaXRlcigiaW5kZXgiLCBuZXcgU3RhbmRhcmRBbmFseXplcigpLCBmYWxz
ZSk7DQoNCiAgICAgIFN0cmluZyBiYXNlID0gIiI7DQogICAgICBpZiAoYXJncy5sZW5ndGggPT0g
MCl7DQogICAgICAgIGJhc2UgPSAiRDpcXFRvbWNhdFxcd2ViYXBwc1xcUk9PVFxcdGVzdCI7DQog
ICAgICB9IGVsc2Ugew0KICAgICAgICBiYXNlID0gYXJnc1swXTsNCiAgICAgIH0NCiAgICAgIHJl
bW92ZU1vZGlmaWVkRmlsZXMocmVhZGVyKTsNCiAgICAgIHVwZGF0ZUluZGV4RG9jcyhyZWFkZXIs
IHdyaXRlciwgbmV3IEZpbGUoYmFzZSkpOw0KDQogICAgICB3cml0ZXIub3B0aW1pemUoKTsNCiAg
ICAgIHdyaXRlci5jbG9zZSgpOw0KDQogICAgICBEYXRlIGVuZCA9IG5ldyBEYXRlKCk7DQoNCiAg
ICAgIFN5c3RlbS5vdXQucHJpbnQoZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSk7DQog
ICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiB0b3RhbCBtaWxsaXNlY29uZHMiKTsNCg0KICAgIH0g
Y2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIiBjYXVnaHQg
YSAiICsgZS5nZXRDbGFzcygpICsNCiAgICAgICAiXG4gd2l0aCBtZXNzYWdlOiAiICsgZS5nZXRN
ZXNzYWdlKCkpOw0KICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICB9DQogIH0NCg0KICBw
dWJsaWMgc3RhdGljIHZvaWQgcmVtb3ZlTW9kaWZpZWRGaWxlcyhJbmRleFJlYWRlciByZWFkZXIp
IHRocm93cyBFeGNlcHRpb24gew0KICAgIERvY3VtZW50IGFkb2M7DQogICAgU3RyaW5nIHBhdGg7
DQogICAgRmlsZSBhRmlsZTsNCiAgICBmb3IgKGludCBpPTA7IGk8cmVhZGVyLm51bURvY3MoKTsg
aSsrKXsNCiAgICAgIGFkb2MgPSByZWFkZXIuZG9jdW1lbnQoaSk7DQogICAgICBwYXRoID0gYWRv
Yy5nZXQoInBhdGgiKTsNCiAgICAgIGFGaWxlID0gbmV3IEZpbGUocGF0aCk7DQogICAgICBpZiAo
cmVhZGVyLmxhc3RNb2RpZmllZChwYXRoKSA8IGFGaWxlLmxhc3RNb2RpZmllZCgpKXsNCiAgICAg
ICAgU3lzdGVtLm91dC5wcmludGxuKHJlYWRlci5pc0xvY2tlZChwYXRoKSk7DQogICAgICAgIHJl
YWRlci5kZWxldGUoaSk7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgcHVibGljIHN0YXRpYyB2
b2lkIHVwZGF0ZUluZGV4RG9jcyhJbmRleFJlYWRlciByZWFkZXIsIEluZGV4V3JpdGVyIHdyaXRl
ciwgRmlsZSBmaWxlKQ0KICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KDQogICAgaWYgKGZpbGUu
aXNEaXJlY3RvcnkoKSkgew0KICAgICAgU3RyaW5nW10gZmlsZXMgPSBmaWxlLmxpc3QoKTsNCiAg
ICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspDQogIHVwZGF0ZUluZGV4
RG9jcyhyZWFkZXIsIHdyaXRlciwgbmV3IEZpbGUoZmlsZSwgZmlsZXNbaV0pKTsNCiAgICB9IGVs
c2Ugew0KICAgICAgaWYgKCFyZWFkZXIuaW5kZXhFeGlzdHMoZmlsZSkpew0KICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oImFkZGluZyAiICsgZmlsZSk7DQogICAgICAgIHdyaXRlci5hZGREb2N1
bWVudChGaWxlRG9jdW1lbnQuRG9jdW1lbnQoZmlsZSkpOw0KICAgICAgfSBlbHNlIHt9DQogICAg
fQ0KICB9DQp9


From MAILER-DAEMON Thu Apr  3 04:14:32 2003
Return-Path: 
 <lucene-user-return-4125-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98607 invoked from network); 3 Apr 2003 04:14:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 04:14:32 -0000
Received: (qmail 9670 invoked by uid 97); 3 Apr 2003 04:16:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9663 invoked from network); 3 Apr 2003 04:16:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 04:16:29 -0000
Received: (qmail 98338 invoked by uid 500); 3 Apr 2003 04:14:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98326 invoked from network); 3 Apr 2003 04:14:28 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 3 Apr 2003 04:14:28 -0000
Message-ID: <20030403041438.4753.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 20:14:38 PST
Date: Wed, 2 Apr 2003 20:14:38 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: about increment update
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OE13G7mlegh0YCaRW5E0000021d@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Maybe this is missing?
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#close()

Otis

--- kerr <keelkerr@hotmail.com> wrote:
> Hello everyone,
> Here I try to increment update index file and follow the idea to
> delete modified file first and re-add it. Here is the source.
> But when I execute it, the index directory create a file(write.lock)
> when execute the line
>     reader.delete(i);, 
> and caught a class java.io.IOException   with message: Index locked
> for write.
> After that, when I execute the line
>     IndexWriter writer = new IndexWriter("index", new
> StandardAnalyzer(), false);
> caught a class java.io.IOException   with message: Index locked for
> write
> if I delete the file(write.lock), the error will re-happen.
> anyone can help and thanks.
>        Kerr.
> 
> 
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.index.Term;
> 
> import java.io.File;
> import java.util.Date;
> 
> 
> public class UpdateIndexFiles {
>   public static void main(String[] args) {
>     try {
>       Date start = new Date();
> 
>       Directory directory = FSDirectory.getDirectory("index", false);
>       IndexReader reader = IndexReader.open(directory);
>       System.out.println(reader.isLocked(directory));
>       //reader.unlock(directory);
>       IndexWriter writer = new IndexWriter("index", new
> StandardAnalyzer(), false);
> 
>       String base = "";
>       if (args.length == 0){
>         base = "D:\\Tomcat\\webapps\\ROOT\\test";
>       } else {
>         base = args[0];
>       }
>       removeModifiedFiles(reader);
>       updateIndexDocs(reader, writer, new File(base));
> 
>       writer.optimize();
>       writer.close();
> 
>       Date end = new Date();
> 
>       System.out.print(end.getTime() - start.getTime());
>       System.out.println(" total milliseconds");
> 
>     } catch (Exception e) {
>       System.out.println(" caught a " + e.getClass() +
>        "\n with message: " + e.getMessage());
>       e.printStackTrace();
>     }
>   }
> 
>   public static void removeModifiedFiles(IndexReader reader) throws
> Exception {
>     Document adoc;
>     String path;
>     File aFile;
>     for (int i=0; i<reader.numDocs(); i++){
>       adoc = reader.document(i);
>       path = adoc.get("path");
>       aFile = new File(path);
>       if (reader.lastModified(path) < aFile.lastModified()){
>         System.out.println(reader.isLocked(path));
>         reader.delete(i);
>       }
>     }
>   }
> 
>   public static void updateIndexDocs(IndexReader reader, IndexWriter
> writer, File file)
>        throws Exception {
> 
>     if (file.isDirectory()) {
>       String[] files = file.list();
>       for (int i = 0; i < files.length; i++)
>   updateIndexDocs(reader, writer, new File(file, files[i]));
>     } else {
>       if (!reader.indexExists(file)){
>         System.out.println("adding " + file);
>         writer.addDocument(FileDocument.Document(file));
>       } else {}
>     }
>   }
> }


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 05:44:17 2003
Return-Path: 
 <lucene-user-return-4126-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62515 invoked from network); 3 Apr 2003 05:44:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 05:44:17 -0000
Received: (qmail 10297 invoked by uid 97); 3 Apr 2003 05:46:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10290 invoked from network); 3 Apr 2003 05:46:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 05:46:15 -0000
Received: (qmail 61837 invoked by uid 500); 3 Apr 2003 05:44:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61796 invoked from network); 3 Apr 2003 05:44:09 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 3 Apr 2003 05:44:09 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h335hG802033;
	Thu, 3 Apr 2003 11:13:17 +0530
Received: from kamal (ws132.newgen.co.in [192.168.5.132])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h335VM8V022281;
	Thu, 3 Apr 2003 11:01:24 +0530
Message-ID: <009e01c2f99f$ca3f2f50$8405a8c0@kamal>
From: "Amit Kapur" <amitkapur@newgen.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
References: <002701c2f8fc$5a25a9e0$8405a8c0@kamal>
Subject: Problem while indexing
Date: Thu, 3 Apr 2003 10:43:38 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


hi all

I m facing problems like mentioned below while indexing, If anyone has any
help to offer i would to obliged....
**** couldn't rename segments.new to segments ****
**** F:\Program Files\OmniDocs Server\ftstest\_3cf.fnm (Too many open
files)****

I am trying to index documents using Lucene generating about 30 MB of index
(Optimized) which can be raised to about 100 MB or More ( but that would be
on a high end server machine).

Description of Current Case:
#---Each Document has four fields (One Text field, and 3 other Keyword
Fields).
#---The analyzer is based on a StopFilter and a PorterStemFilter.
#---I am using a Compaq PIII, 128 MB RAM, 650 MHz.
#---mergeFactor is set to 25, and I am optimizing the index after adding
about 20 Documents.
#---Using Lucene Release 1.2

Problem Faced
After adding about 4000 Documents generating an index of 30 MB, I initially
got an error saying, **** couldn't rename segments.new to segments ****
after which the IndexReader or the IndexWriter to the current index couldnot
be opened.

Then I changed a couple of settings,
#---mergeFactor=20 and Optimize was called after ever 10 documents.
#---Using Lucene Release 1.3

Problem Faced
After adding about 1500 Documents generating an index of 10 MB, I initially
got an error saying, **** F:\Program Files\OmniDocs Server\ftstest\_3cf.fnm
(Too many open files)**** after which the IndexWriter to the current index
couldnot be opened.

Now my requirement needs to have a much much larger index (practically) and
I am actually at the point where these errors are coming unpredictably.

Please if anyone could guide me on this ASAP.
Thanx in advance

Regards
Amit

PS: I have already read articles in the mail archieve
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02815.html.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 06:10:20 2003
Return-Path: 
 <lucene-user-return-4127-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87309 invoked from network); 3 Apr 2003 06:10:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 06:10:20 -0000
Received: (qmail 10559 invoked by uid 97); 3 Apr 2003 06:12:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10552 invoked from network); 3 Apr 2003 06:12:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 06:12:18 -0000
Received: (qmail 86490 invoked by uid 500); 3 Apr 2003 06:10:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86421 invoked from network); 3 Apr 2003 06:10:06 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 3 Apr 2003 06:10:06 -0000
Message-ID: <20030403061017.20844.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Wed, 02 Apr 2003 22:10:17 PST
Date: Wed, 2 Apr 2003 22:10:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Problem while indexing
To: lucene-user@jakarta.apache.org
In-Reply-To: <009e01c2f99f$ca3f2f50$8405a8c0@kamal>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amit,

Please don't mail both lucene-user and lucene-dev.  This is a message
suitable for lucene-user.
If people are not answering your message, try providing more
information, different information, not re-sending the same message.

I'm not a big Windows user, so I don't know how you can increase the
limit for the maximum number of open files on Windows.  It looks like
that is at least a part of the problem.
What's the current number of open files on your machine?
Don't ask how to find that out, I don't know, that would be a Windows
question.

Otis


--- Amit Kapur <amitkapur@newgen.co.in> wrote:
> 
> hi all
> 
> I m facing problems like mentioned below while indexing, If anyone
> has any
> help to offer i would to obliged....
> **** couldn't rename segments.new to segments ****
> **** F:\Program Files\OmniDocs Server\ftstest\_3cf.fnm (Too many open
> files)****
> 
> I am trying to index documents using Lucene generating about 30 MB of
> index
> (Optimized) which can be raised to about 100 MB or More ( but that
> would be
> on a high end server machine).
> 
> Description of Current Case:
> #---Each Document has four fields (One Text field, and 3 other
> Keyword
> Fields).
> #---The analyzer is based on a StopFilter and a PorterStemFilter.
> #---I am using a Compaq PIII, 128 MB RAM, 650 MHz.
> #---mergeFactor is set to 25, and I am optimizing the index after
> adding
> about 20 Documents.
> #---Using Lucene Release 1.2
> 
> Problem Faced
> After adding about 4000 Documents generating an index of 30 MB, I
> initially
> got an error saying, **** couldn't rename segments.new to segments
> ****
> after which the IndexReader or the IndexWriter to the current index
> couldnot
> be opened.
> 
> Then I changed a couple of settings,
> #---mergeFactor=20 and Optimize was called after ever 10 documents.
> #---Using Lucene Release 1.3
> 
> Problem Faced
> After adding about 1500 Documents generating an index of 10 MB, I
> initially
> got an error saying, **** F:\Program Files\OmniDocs
> Server\ftstest\_3cf.fnm
> (Too many open files)**** after which the IndexWriter to the current
> index
> couldnot be opened.
> 
> Now my requirement needs to have a much much larger index
> (practically) and
> I am actually at the point where these errors are coming
> unpredictably.
> 
> Please if anyone could guide me on this ASAP.
> Thanx in advance
> 
> Regards
> Amit
> 
> PS: I have already read articles in the mail archieve
>
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02815.html.



__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 14:08:20 2003
Return-Path: 
 <lucene-user-return-4128-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2713 invoked from network); 3 Apr 2003 14:08:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 14:08:20 -0000
Received: (qmail 21133 invoked by uid 97); 3 Apr 2003 14:10:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21125 invoked from network); 3 Apr 2003 14:10:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 14:10:08 -0000
Received: (qmail 2266 invoked by uid 500); 3 Apr 2003 14:08:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2221 invoked from network); 3 Apr 2003 14:08:13 -0000
Received: from granger.mail.mindspring.net (207.69.200.148)
  by daedalus.apache.org with SMTP; 3 Apr 2003 14:08:13 -0000
Received: from h-66-167-234-75.mclnva23.covad.net ([66.167.234.75]
 helo=Stete03)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1915O2-0001lR-00
	for lucene-user@jakarta.apache.org; Thu, 03 Apr 2003 09:08:14 -0500
Message-ID: <00bd01c2f9ea$734bb4c0$0201a8c0@netframe.com>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
References: <002701c2f8fc$5a25a9e0$8405a8c0@kamal>
 <009e01c2f99f$ca3f2f50$8405a8c0@kamal>
Subject: Re: Problem while indexing
Date: Thu, 3 Apr 2003 09:08:06 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amit,

I don't exactly know what your problem is, but I'm using a configuration not
too different from yours with no problems - so at least you know it's
possible.

I have an index of about 125MB which I use on various machines, including an
old Windows98/SE 400MHz notebook.  I used the default MergeFactor (10, I
think) and do a daily merge (the daily addition represents about 200
documents added to a total of over 58,000).  Each document (XML format) has
about 15 fields of various types.  I'm using release 1.3 dev 1.

At one point I too had a problem of too many open files - turned out that I
wasn't closing the IndexReader.  Fixed that, and the number of open files
usually stays below 500 (without Lucene, there are typically about 300-400
open files just for the system).

HTH,

Terry



----- Original Message -----
From: "Amit Kapur" <amitkapur@newgen.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
Sent: Thursday, April 03, 2003 12:13 AM
Subject: Problem while indexing


>
> hi all
>
> I m facing problems like mentioned below while indexing, If anyone has any
> help to offer i would to obliged....
> **** couldn't rename segments.new to segments ****
> **** F:\Program Files\OmniDocs Server\ftstest\_3cf.fnm (Too many open
> files)****
>
> I am trying to index documents using Lucene generating about 30 MB of
index
> (Optimized) which can be raised to about 100 MB or More ( but that would
be
> on a high end server machine).
>
> Description of Current Case:
> #---Each Document has four fields (One Text field, and 3 other Keyword
> Fields).
> #---The analyzer is based on a StopFilter and a PorterStemFilter.
> #---I am using a Compaq PIII, 128 MB RAM, 650 MHz.
> #---mergeFactor is set to 25, and I am optimizing the index after adding
> about 20 Documents.
> #---Using Lucene Release 1.2
>
> Problem Faced
> After adding about 4000 Documents generating an index of 30 MB, I
initially
> got an error saying, **** couldn't rename segments.new to segments ****
> after which the IndexReader or the IndexWriter to the current index
couldnot
> be opened.
>
> Then I changed a couple of settings,
> #---mergeFactor=20 and Optimize was called after ever 10 documents.
> #---Using Lucene Release 1.3
>
> Problem Faced
> After adding about 1500 Documents generating an index of 10 MB, I
initially
> got an error saying, **** F:\Program Files\OmniDocs
Server\ftstest\_3cf.fnm
> (Too many open files)**** after which the IndexWriter to the current index
> couldnot be opened.
>
> Now my requirement needs to have a much much larger index (practically)
and
> I am actually at the point where these errors are coming unpredictably.
>
> Please if anyone could guide me on this ASAP.
> Thanx in advance
>
> Regards
> Amit
>
> PS: I have already read articles in the mail archieve
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02815.html.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 15:51:29 2003
Return-Path: 
 <lucene-user-return-4129-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49081 invoked from network); 3 Apr 2003 15:51:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 15:51:29 -0000
Received: (qmail 24174 invoked by uid 97); 3 Apr 2003 15:53:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24167 invoked from network); 3 Apr 2003 15:53:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 15:53:19 -0000
Received: (qmail 48713 invoked by uid 500); 3 Apr 2003 15:51:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48662 invoked from network); 3 Apr 2003 15:51:23 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 15:51:23 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 000F2367D6; Thu,  3 Apr 2003 15:51:58 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id CF872367CE
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 15:51:57 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Thu, 3 Apr 2003 10:52:48 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDAEIICIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20030402163430.98108.qmail@web12701.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Would there be any abnormal effects if after adding a document, you called
optimize?  I am still seeing a large growth from "setting" a field.  When I
set a field I:

1.  Get the document
2.  Remove the field.
3.  Write the document to index
4.  Get the document again.
5.  Add the new field object.
6.  Write the document to index.
7.  Call optimize.

>>From writing out my steps it looks like I should write a set method instead
of treating set as removeField() and addField(), I thought combining these
two would equal set which it does, but it seems horribly inefficient.  But
in any case would the above cause in the index to grow from say 10.5 megs to
31 megs?

Is there any efficient way to implement a set, for example if there was a
field value pair of book/hamlet, but now we wanted to set book = none?
Please keep in mind there could be multiple field names with book.  So it is
not simply a matter of removing the field book and then readding it.

Anyhow let me know your thoughts.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Wednesday, April 02, 2003 11:35 AM
To: Lucene Users List
Subject: RE: Indexing Growth


Funny how this is the outcome of 90% of the problems people have with
software - their own mistakes :)

Regarding reindexing - no need for any explicit calls.  When you add a
document to the index it is indexed right away.  You will have to
detect index change (methods for that are there) and re-open the
IndexSearcher in order to see newly added/indexed documents.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> I found the freakin problem, I am going to kill my co-worker when he
> gets
> in.  He was removing a field and adding the same field back for each
> document in the index in a piece of code I did not notice until
> now!!!!!!!!!!!!!!!!  He is so dead.  I commented out that piece of
> code,
> queried to my hearts content and the index has not changed.  Heck the
> tool
> is like super fast now.
>
> One last concern is about the re-indexing thing, when does that
> occur?
> optimize()?  I am curious what method would cause a reindex.
>
> I want to thank all of you for your help, it was truly appreciated!
>
> Thanks,
>
> Rob
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 16:00:50 2003
Return-Path: 
 <lucene-user-return-4130-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77056 invoked from network); 3 Apr 2003 16:00:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 16:00:50 -0000
Received: (qmail 24850 invoked by uid 97); 3 Apr 2003 16:02:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24843 invoked from network); 3 Apr 2003 16:02:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 16:02:40 -0000
Received: (qmail 76122 invoked by uid 500); 3 Apr 2003 16:00:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75731 invoked from network); 3 Apr 2003 16:00:31 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 3 Apr 2003 16:00:31 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h33Fxls07454
	for <lucene-user@jakarta.apache.org>; Thu, 3 Apr 2003 21:29:47 +0530
Received: from kamal (ws132.newgen.co.in [192.168.5.132])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h33GHY8V021409
	for <lucene-user@jakarta.apache.org>; Thu, 3 Apr 2003 21:47:35 +0530
Message-ID: <000b01c2f9fa$0d38ed50$8405a8c0@kamal>
From: "Amit Kapur" <amitkapur@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002701c2f8fc$5a25a9e0$8405a8c0@kamal>
 <009e01c2f99f$ca3f2f50$8405a8c0@kamal>
 <00bd01c2f9ea$734bb4c0$0201a8c0@netframe.com>
Subject: Re: Problem while indexing
Date: Thu, 3 Apr 2003 21:29:45 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanx Terry

Well today again I have made a few changes in the archietecture of my
component where am using Lucene, and changed the way I am using the
IndexReader and as u said made sure that all readers are closed, mergefactor
is back to default (10).

The test run is on and its working pretty well for now, have managed to have
about 1000 documents, index of about 10MB, n counting :) .. hope this time
things are better, well thanx for your word, it made me feel that this has
been rightly done before and can be done even now. I appreciate the way you
replied.

Thanx
would get back to you later ...
Cheers!!
Amit


----- Original Message -----
From: Terry Steichen
To: Lucene Users Group
Sent: Thursday, April 03, 2003 7:38 PM
Subject: Re: Problem while indexing


Amit,

I don't exactly know what your problem is, but I'm using a configuration not
too different from yours with no problems - so at least you know it's
possible.

I have an index of about 125MB which I use on various machines, including an
old Windows98/SE 400MHz notebook.  I used the default MergeFactor (10, I
think) and do a daily merge (the daily addition represents about 200
documents added to a total of over 58,000).  Each document (XML format) has
about 15 fields of various types.  I'm using release 1.3 dev 1.

At one point I too had a problem of too many open files - turned out that I
wasn't closing the IndexReader.  Fixed that, and the number of open files
usually stays below 500 (without Lucene, there are typically about 300-400
open files just for the system).

HTH,

Terry



----- Original Message -----
From: "Amit Kapur" <amitkapur@newgen.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
Sent: Thursday, April 03, 2003 12:13 AM
Subject: Problem while indexing


>
> hi all
>
> I m facing problems like mentioned below while indexing, If anyone has any
> help to offer i would to obliged....
> **** couldn't rename segments.new to segments ****
> **** F:\Program Files\OmniDocs Server\ftstest\_3cf.fnm (Too many open
> files)****
>
> I am trying to index documents using Lucene generating about 30 MB of
index
> (Optimized) which can be raised to about 100 MB or More ( but that would
be
> on a high end server machine).
>
> Description of Current Case:
> #---Each Document has four fields (One Text field, and 3 other Keyword
> Fields).
> #---The analyzer is based on a StopFilter and a PorterStemFilter.
> #---I am using a Compaq PIII, 128 MB RAM, 650 MHz.
> #---mergeFactor is set to 25, and I am optimizing the index after adding
> about 20 Documents.
> #---Using Lucene Release 1.2
>
> Problem Faced
> After adding about 4000 Documents generating an index of 30 MB, I
initially
> got an error saying, **** couldn't rename segments.new to segments ****
> after which the IndexReader or the IndexWriter to the current index
couldnot
> be opened.
>
> Then I changed a couple of settings,
> #---mergeFactor=20 and Optimize was called after ever 10 documents.
> #---Using Lucene Release 1.3
>
> Problem Faced
> After adding about 1500 Documents generating an index of 10 MB, I
initially
> got an error saying, **** F:\Program Files\OmniDocs
Server\ftstest\_3cf.fnm
> (Too many open files)**** after which the IndexWriter to the current index
> couldnot be opened.
>
> Now my requirement needs to have a much much larger index (practically)
and
> I am actually at the point where these errors are coming unpredictably.
>
> Please if anyone could guide me on this ASAP.
> Thanx in advance
>
> Regards
> Amit
>
> PS: I have already read articles in the mail archieve
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02815.html.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 16:29:00 2003
Return-Path: 
 <lucene-user-return-4131-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29391 invoked from network); 3 Apr 2003 16:29:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 16:29:00 -0000
Received: (qmail 25632 invoked by uid 97); 3 Apr 2003 16:30:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25625 invoked from network); 3 Apr 2003 16:30:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 16:30:51 -0000
Received: (qmail 29120 invoked by uid 500); 3 Apr 2003 16:28:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29109 invoked from network); 3 Apr 2003 16:28:57 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 16:28:57 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id F0D64367EC; Thu,  3 Apr 2003 16:29:32 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 80373367D8
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 16:29:25 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing Growth
Date: Thu, 3 Apr 2003 11:30:16 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDIEIICIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <MNEPJJAGGPICDNOCBIKDAEIICIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I took out the optimize() after the write and the index is growing but at
like a 1kb rate, but now there are tons of 1kb files.  I assume at this
optimize would fix this?  What is a good rule of thumb for calling
optimize()?  Will Lucene ever invoke an optimize() on it's own?

Thanks,

Rob Outar
OneSAF A&I -- SAIC
Software\Data Engineer
321-235-7660
outarr@saic.com <mailto:outarr@saic.com>


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Thursday, April 03, 2003 10:53 AM
To: Lucene Users List
Subject: RE: Indexing Growth


Would there be any abnormal effects if after adding a document, you called
optimize?  I am still seeing a large growth from "setting" a field.  When I
set a field I:

1.  Get the document
2.  Remove the field.
3.  Write the document to index
4.  Get the document again.
5.  Add the new field object.
6.  Write the document to index.
7.  Call optimize.

>>>From writing out my steps it looks like I should write a set method instead
of treating set as removeField() and addField(), I thought combining these
two would equal set which it does, but it seems horribly inefficient.  But
in any case would the above cause in the index to grow from say 10.5 megs to
31 megs?

Is there any efficient way to implement a set, for example if there was a
field value pair of book/hamlet, but now we wanted to set book = none?
Please keep in mind there could be multiple field names with book.  So it is
not simply a matter of removing the field book and then readding it.

Anyhow let me know your thoughts.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Wednesday, April 02, 2003 11:35 AM
To: Lucene Users List
Subject: RE: Indexing Growth


Funny how this is the outcome of 90% of the problems people have with
software - their own mistakes :)

Regarding reindexing - no need for any explicit calls.  When you add a
document to the index it is indexed right away.  You will have to
detect index change (methods for that are there) and re-open the
IndexSearcher in order to see newly added/indexed documents.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> I found the freakin problem, I am going to kill my co-worker when he
> gets
> in.  He was removing a field and adding the same field back for each
> document in the index in a piece of code I did not notice until
> now!!!!!!!!!!!!!!!!  He is so dead.  I commented out that piece of
> code,
> queried to my hearts content and the index has not changed.  Heck the
> tool
> is like super fast now.
>
> One last concern is about the re-indexing thing, when does that
> occur?
> optimize()?  I am curious what method would cause a reindex.
>
> I want to thank all of you for your help, it was truly appreciated!
>
> Thanks,
>
> Rob
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 17:08:00 2003
Return-Path: 
 <lucene-user-return-4132-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25001 invoked from network); 3 Apr 2003 17:08:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 17:08:00 -0000
Received: (qmail 26800 invoked by uid 97); 3 Apr 2003 17:09:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26793 invoked from network); 3 Apr 2003 17:09:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 17:09:50 -0000
Received: (qmail 22443 invoked by uid 500); 3 Apr 2003 17:07:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22410 invoked from network); 3 Apr 2003 17:07:15 -0000
Received: from oe51.law9.hotmail.com (HELO hotmail.com) (64.4.8.40)
  by daedalus.apache.org with SMTP; 3 Apr 2003 17:07:15 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 3 Apr 2003 09:07:18 -0800
Received: from 61.144.96.113 by oe51.law9.hotmail.com with DAV;
	Thu, 03 Apr 2003 17:07:18 +0000
X-Originating-IP: [61.144.96.113]
X-Originating-Email: [keelkerr@hotmail.com]
From: "kerr" <keelkerr@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030403041438.4753.qmail@web12707.mail.yahoo.com>
Subject: Re: about increment update
Date: Fri, 4 Apr 2003 01:05:44 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <OE51tEvzoxJ6sJ9amqk00011632@hotmail.com>
X-OriginalArrivalTime: 03 Apr 2003 17:07:18.0774 (UTC)
 FILETIME=[7BBEC160:01C2FA03]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

VGhhbmsgeW91IE90aXMsDQpZZXMsIHJlYWRlciBzaG91bGQgYmUgY2xvc2VkLiBCdXQgaXQgaXNu
J3QgdGhlIHJlYXNvbiBvZiB0aGlzIEV4Y2VwdGlvbi4NCnRoZSBlcnJvcnMgaGFwcGVuIGJlZm9y
ZSBkZWxldGluZyBmaWxlLg0KICAgS2Vyci4NCmNsb3NlKCkNCkNsb3NlcyBmaWxlcyBhc3NvY2lh
dGVkIHdpdGggdGhpcyBpbmRleC4gQWxzbyBzYXZlcyBhbnkgbmV3IGRlbGV0aW9ucyB0byBkaXNr
LiBObyBvdGhlciBtZXRob2RzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcyBoYXMgYmVlbiBj
YWxsZWQuDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiT3RpcyBHb3Nw
b2RuZXRpYyIgPG90aXNfZ29zcG9kbmV0aWNAeWFob28uY29tPg0KVG86ICJMdWNlbmUgVXNlcnMg
TGlzdCIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNlbnQ6IFRodXJzZGF5LCBB
cHJpbCAwMywgMjAwMyAxMjoxNCBQTQ0KU3ViamVjdDogUmU6IGFib3V0IGluY3JlbWVudCB1cGRh
dGUNCg0KDQo+IE1heWJlIHRoaXMgaXMgbWlzc2luZz8NCj4gaHR0cDovL2pha2FydGEuYXBhY2hl
Lm9yZy9sdWNlbmUvZG9jcy9hcGkvb3JnL2FwYWNoZS9sdWNlbmUvaW5kZXgvSW5kZXhSZWFkZXIu
aHRtbCNjbG9zZSgpDQo+IA0KPiBPdGlzDQo+IA0KPiAtLS0ga2VyciA8a2VlbGtlcnJAaG90bWFp
bC5jb20+IHdyb3RlOg0KPiA+IEhlbGxvIGV2ZXJ5b25lLA0KPiA+IEhlcmUgSSB0cnkgdG8gaW5j
cmVtZW50IHVwZGF0ZSBpbmRleCBmaWxlIGFuZCBmb2xsb3cgdGhlIGlkZWEgdG8NCj4gPiBkZWxl
dGUgbW9kaWZpZWQgZmlsZSBmaXJzdCBhbmQgcmUtYWRkIGl0LiBIZXJlIGlzIHRoZSBzb3VyY2Uu
DQo+ID4gQnV0IHdoZW4gSSBleGVjdXRlIGl0LCB0aGUgaW5kZXggZGlyZWN0b3J5IGNyZWF0ZSBh
IGZpbGUod3JpdGUubG9jaykNCj4gPiB3aGVuIGV4ZWN1dGUgdGhlIGxpbmUNCj4gPiAgICAgcmVh
ZGVyLmRlbGV0ZShpKTssIA0KPiA+IGFuZCBjYXVnaHQgYSBjbGFzcyBqYXZhLmlvLklPRXhjZXB0
aW9uICAgd2l0aCBtZXNzYWdlOiBJbmRleCBsb2NrZWQNCj4gPiBmb3Igd3JpdGUuDQo+ID4gQWZ0
ZXIgdGhhdCwgd2hlbiBJIGV4ZWN1dGUgdGhlIGxpbmUNCj4gPiAgICAgSW5kZXhXcml0ZXIgd3Jp
dGVyID0gbmV3IEluZGV4V3JpdGVyKCJpbmRleCIsIG5ldw0KPiA+IFN0YW5kYXJkQW5hbHl6ZXIo
KSwgZmFsc2UpOw0KPiA+IGNhdWdodCBhIGNsYXNzIGphdmEuaW8uSU9FeGNlcHRpb24gICB3aXRo
IG1lc3NhZ2U6IEluZGV4IGxvY2tlZCBmb3INCj4gPiB3cml0ZQ0KPiA+IGlmIEkgZGVsZXRlIHRo
ZSBmaWxlKHdyaXRlLmxvY2spLCB0aGUgZXJyb3Igd2lsbCByZS1oYXBwZW4uDQo+ID4gYW55b25l
IGNhbiBoZWxwIGFuZCB0aGFua3MuDQo+ID4gICAgICAgIEtlcnIuDQo+ID4gDQo+ID4gDQo+ID4g
aW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6
ZXI7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4V3JpdGVyOw0KPiA+
IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5kb2N1bWVudC5Eb2N1bWVudDsNCj4gPiBpbXBvcnQg
b3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRmllbGQ7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUu
bHVjZW5lLnN0b3JlLkRpcmVjdG9yeTsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3Rv
cmUuRlNEaXJlY3Rvcnk7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4
UmVhZGVyOw0KPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5UZXJtOw0KPiA+IA0K
PiA+IGltcG9ydCBqYXZhLmlvLkZpbGU7DQo+ID4gaW1wb3J0IGphdmEudXRpbC5EYXRlOw0KPiA+
IA0KPiA+IA0KPiA+IHB1YmxpYyBjbGFzcyBVcGRhdGVJbmRleEZpbGVzIHsNCj4gPiAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsNCj4gPiAgICAgdHJ5IHsNCj4gPiAg
ICAgICBEYXRlIHN0YXJ0ID0gbmV3IERhdGUoKTsNCj4gPiANCj4gPiAgICAgICBEaXJlY3Rvcnkg
ZGlyZWN0b3J5ID0gRlNEaXJlY3RvcnkuZ2V0RGlyZWN0b3J5KCJpbmRleCIsIGZhbHNlKTsNCj4g
PiAgICAgICBJbmRleFJlYWRlciByZWFkZXIgPSBJbmRleFJlYWRlci5vcGVuKGRpcmVjdG9yeSk7
DQo+ID4gICAgICAgU3lzdGVtLm91dC5wcmludGxuKHJlYWRlci5pc0xvY2tlZChkaXJlY3Rvcnkp
KTsNCj4gPiAgICAgICAvL3JlYWRlci51bmxvY2soZGlyZWN0b3J5KTsNCj4gPiAgICAgICBJbmRl
eFdyaXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIoImluZGV4IiwgbmV3DQo+ID4gU3RhbmRh
cmRBbmFseXplcigpLCBmYWxzZSk7DQo+ID4gDQo+ID4gICAgICAgU3RyaW5nIGJhc2UgPSAiIjsN
Cj4gPiAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCl7DQo+ID4gICAgICAgICBiYXNlID0gIkQ6
XFxUb21jYXRcXHdlYmFwcHNcXFJPT1RcXHRlc3QiOw0KPiA+ICAgICAgIH0gZWxzZSB7DQo+ID4g
ICAgICAgICBiYXNlID0gYXJnc1swXTsNCj4gPiAgICAgICB9DQo+ID4gICAgICAgcmVtb3ZlTW9k
aWZpZWRGaWxlcyhyZWFkZXIpOw0KPiA+ICAgICAgIHVwZGF0ZUluZGV4RG9jcyhyZWFkZXIsIHdy
aXRlciwgbmV3IEZpbGUoYmFzZSkpOw0KPiA+IA0KPiA+ICAgICAgIHdyaXRlci5vcHRpbWl6ZSgp
Ow0KPiA+ICAgICAgIHdyaXRlci5jbG9zZSgpOw0KPiA+IA0KPiA+ICAgICAgIERhdGUgZW5kID0g
bmV3IERhdGUoKTsNCj4gPiANCj4gPiAgICAgICBTeXN0ZW0ub3V0LnByaW50KGVuZC5nZXRUaW1l
KCkgLSBzdGFydC5nZXRUaW1lKCkpOw0KPiA+ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiIHRv
dGFsIG1pbGxpc2Vjb25kcyIpOw0KPiA+IA0KPiA+ICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkg
ew0KPiA+ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiIGNhdWdodCBhICIgKyBlLmdldENsYXNz
KCkgKw0KPiA+ICAgICAgICAiXG4gd2l0aCBtZXNzYWdlOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0K
PiA+ICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7DQo+ID4gICAgIH0NCj4gPiAgIH0NCj4gPiAN
Cj4gPiAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZW1vdmVNb2RpZmllZEZpbGVzKEluZGV4UmVhZGVy
IHJlYWRlcikgdGhyb3dzDQo+ID4gRXhjZXB0aW9uIHsNCj4gPiAgICAgRG9jdW1lbnQgYWRvYzsN
Cj4gPiAgICAgU3RyaW5nIHBhdGg7DQo+ID4gICAgIEZpbGUgYUZpbGU7DQo+ID4gICAgIGZvciAo
aW50IGk9MDsgaTxyZWFkZXIubnVtRG9jcygpOyBpKyspew0KPiA+ICAgICAgIGFkb2MgPSByZWFk
ZXIuZG9jdW1lbnQoaSk7DQo+ID4gICAgICAgcGF0aCA9IGFkb2MuZ2V0KCJwYXRoIik7DQo+ID4g
ICAgICAgYUZpbGUgPSBuZXcgRmlsZShwYXRoKTsNCj4gPiAgICAgICBpZiAocmVhZGVyLmxhc3RN
b2RpZmllZChwYXRoKSA8IGFGaWxlLmxhc3RNb2RpZmllZCgpKXsNCj4gPiAgICAgICAgIFN5c3Rl
bS5vdXQucHJpbnRsbihyZWFkZXIuaXNMb2NrZWQocGF0aCkpOw0KPiA+ICAgICAgICAgcmVhZGVy
LmRlbGV0ZShpKTsNCj4gPiAgICAgICB9DQo+ID4gICAgIH0NCj4gPiAgIH0NCj4gPiANCj4gPiAg
IHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGVJbmRleERvY3MoSW5kZXhSZWFkZXIgcmVhZGVyLCBJ
bmRleFdyaXRlcg0KPiA+IHdyaXRlciwgRmlsZSBmaWxlKQ0KPiA+ICAgICAgICB0aHJvd3MgRXhj
ZXB0aW9uIHsNCj4gPiANCj4gPiAgICAgaWYgKGZpbGUuaXNEaXJlY3RvcnkoKSkgew0KPiA+ICAg
ICAgIFN0cmluZ1tdIGZpbGVzID0gZmlsZS5saXN0KCk7DQo+ID4gICAgICAgZm9yIChpbnQgaSA9
IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykNCj4gPiAgIHVwZGF0ZUluZGV4RG9jcyhyZWFkZXIs
IHdyaXRlciwgbmV3IEZpbGUoZmlsZSwgZmlsZXNbaV0pKTsNCj4gPiAgICAgfSBlbHNlIHsNCj4g
PiAgICAgICBpZiAoIXJlYWRlci5pbmRleEV4aXN0cyhmaWxlKSl7DQo+ID4gICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oImFkZGluZyAiICsgZmlsZSk7DQo+ID4gICAgICAgICB3cml0ZXIuYWRk
RG9jdW1lbnQoRmlsZURvY3VtZW50LkRvY3VtZW50KGZpbGUpKTsNCj4gPiAgICAgICB9IGVsc2Ug
e30NCj4gPiAgICAgfQ0KPiA+ICAgfQ0KPiA+IH0NCj4gDQo+IA0KPiBfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBEbyB5b3UgWWFob28hPw0KPiBZ
YWhvbyEgVGF4IENlbnRlciAtIEZpbGUgb25saW5lLCBjYWxjdWxhdG9ycywgZm9ybXMsIGFuZCBt
b3JlDQo+IGh0dHA6Ly90YXgueWFob28uY29tDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5z
dWJzY3JpYmUsIGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUu
b3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBA
amFrYXJ0YS5hcGFjaGUub3JnDQo+IA0KPiA=


From MAILER-DAEMON Thu Apr  3 18:29:09 2003
Return-Path: 
 <lucene-user-return-4133-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92462 invoked from network); 3 Apr 2003 18:29:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 18:29:09 -0000
Received: (qmail 28520 invoked by uid 97); 3 Apr 2003 18:31:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28513 invoked from network); 3 Apr 2003 18:31:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 18:31:00 -0000
Received: (qmail 92147 invoked by uid 500); 3 Apr 2003 18:29:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92126 invoked from network); 3 Apr 2003 18:29:05 -0000
Received: from ip-216-73-159-17.vantas.net (HELO auditintegrity.com)
 (216.73.159.17)
  by daedalus.apache.org with SMTP; 3 Apr 2003 18:29:05 -0000
Received: from  (192.168.0.104 [192.168.0.104]) by MailEnable Inbound Mail
 Agent with ESMTP; Thu, 03 Apr 2003 10:27:22 -0800
Message-ID: <00cd01c2fa0e$c5f35560$6800a8c0@sloop>
From: "John Bresnik" <jbresnik@auditintegrity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030402231419.53143.qmail@web41603.mail.yahoo.com>
Subject: Re: JSP files
Date: Thu, 3 Apr 2003 10:28:07 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Additionally - you can use a crawler to crawl your site, then index the
resulting files. Lucene comes with a crawler called "LARM" but the current
make file doesnt build it properly. I ended using a different crawler called
Spinx :

http://www-2.cs.cmu.edu/~rcm/websphinx/





> Pinky,
>
> You don't want to index the jsp directly, as you would
> be missing the content inserted by the server when the
> pages are accessed. Typically indexing dynamic pages
> is problematic since the content will change
> freqently... That being said, the java.io library
> provides classes for retrieving the content of a URL
> as an input stream. You can write a class to traverse
> your site downloading the URLS and indexing them. It
> will be slower of course than reading HTML from disk
> files.
>
> -Tom
>
> --- Pinky Iyer <pinkyiyer@yahoo.com> wrote:
> >
> >  Hi all!
> >   Is there any seperate parser for jsp files. Any
> > other option other than modifying indexHTML.java
> > class is appreciated. I already tried modifying this
> > class, html parsing is fine, but jsp parsing yields
> > all the jsp tags as well in the summary...
> > Thanks!
> > Pinky
> >
> >
> >
> > ---------------------------------
> > Do you Yahoo!?
> > Yahoo! Tax Center - File online, calculators, forms,
> > and more
>
>
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://tax.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr  4 03:07:47 2003
Return-Path: 
 <lucene-user-return-4141-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3313 invoked from network); 4 Apr 2003 03:07:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Apr 2003 03:07:47 -0000
Received: (qmail 8862 invoked by uid 97); 4 Apr 2003 03:09:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8855 invoked from network); 4 Apr 2003 03:09:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Apr 2003 03:09:43 -0000
Received: (qmail 3013 invoked by uid 500); 4 Apr 2003 03:07:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3002 invoked from network); 4 Apr 2003 03:07:43 -0000
Received: from bisoxmsw.blackwell.co.uk (193.82.198.160)
  by daedalus.apache.org with SMTP; 4 Apr 2003 03:07:43 -0000
Received: from venus.digimem.net (ns0.digimem.net) by bisoxmsw.blackwell.co.uk
 (Content Technologies SMTPRS 4.2.5) with SMTP id
 <T6161ef9d49c0a8faa119c@bisoxmsw.blackwell.co.uk>;
 Thu, 3 Apr 2003 21:55:21 +0100
Received: from venus (venus [192.168.251.161])
	by venus.digimem.net (Postfix) with ESMTP
	id 409C52D23; Thu,  3 Apr 2003 21:55:19 +0100 (BST)
Message-ID: <1265821.1049403319072.JavaMail.digimem@venus>
Date: Thu, 3 Apr 2003 21:55:19 +0100 (BST)
From: Ian Lea <ian@digimem.net>
To: kerr <keelkerr@hotmail.com>
Subject: Re: about increment update
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_Part_44_4615381.1049403319062"
X-Mailer: digimemmailer v1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_Part_44_4615381.1049403319062
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

Try this:

1.  Open reader.
2.  removeModifiedFiles(reader)
3.  reader.close()
4.  Open writer.
5.  updateIndexDocs()
6.  writer.close();

i.e. don't have both reader and writer open at the same time.

btw I suspect you might be removing index entries for files that
have been modified, but adding all files. Another "index keeps
growing" problem!  Could be wrong.


--
Ian.

> keelkerr@hotmail.com (kerr) wrote 
>
> Thank you Otis,
> Yes, reader should be closed. But it isn't the reason of this Exception.
> the errors happen before deleting file.
>    Kerr.
> close()
> Closes files associated with this index. Also saves any new deletions to disk. No other methods should be called after this has been called.
> 
> ----- Original Message ----- 
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, April 03, 2003 12:14 PM
> Subject: Re: about increment update
> 
> 
> > Maybe this is missing?
> > http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#close()
> > 
> > Otis
> > 
> > --- kerr <keelkerr@hotmail.com> wrote:
> > > Hello everyone,
> > > Here I try to increment update index file and follow the idea to
> > > delete modified file first and re-add it. Here is the source.
> > > But when I execute it, the index directory create a file(write.lock)
> > > when execute the line
> > >     reader.delete(i);, 
> > > and caught a class java.io.IOException   with message: Index locked
> > > for write.
> > > After that, when I execute the line
> > >     IndexWriter writer = new IndexWriter("index", new
> > > StandardAnalyzer(), false);
> > > caught a class java.io.IOException   with message: Index locked for
> > > write
> > > if I delete the file(write.lock), the error will re-happen.
> > > anyone can help and thanks.
> > >        Kerr.
> > > 
> > > 
> > > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > > import org.apache.lucene.index.IndexWriter;
> > > import org.apache.lucene.document.Document;
> > > import org.apache.lucene.document.Field;
> > > import org.apache.lucene.store.Directory;
> > > import org.apache.lucene.store.FSDirectory;
> > > import org.apache.lucene.index.IndexReader;
> > > import org.apache.lucene.index.Term;
> > > 
> > > import java.io.File;
> > > import java.util.Date;
> > > 
> > > 
> > > public class UpdateIndexFiles {
> > >   public static void main(String[] args) {
> > >     try {
> > >       Date start = new Date();
> > > 
> > >       Directory directory = FSDirectory.getDirectory("index", false);
> > >       IndexReader reader = IndexReader.open(directory);
> > >       System.out.println(reader.isLocked(directory));
> > >       //reader.unlock(directory);
> > >       IndexWriter writer = new IndexWriter("index", new
> > > StandardAnalyzer(), false);
> > > 
> > >       String base = "";
> > >       if (args.length == 0){
> > >         base = "D:\\Tomcat\\webapps\\ROOT\\test";
> > >       } else {
> > >         base = args[0];
> > >       }
> > >       removeModifiedFiles(reader);
> > >       updateIndexDocs(reader, writer, new File(base));
> > > 
> > >       writer.optimize();
> > >       writer.close();
> > > 
> > >       Date end = new Date();
> > > 
> > >       System.out.print(end.getTime() - start.getTime());
> > >       System.out.println(" total milliseconds");
> > > 
> > >     } catch (Exception e) {
> > >       System.out.println(" caught a " + e.getClass() +
> > >        "\n with message: " + e.getMessage());
> > >       e.printStackTrace();
> > >     }
> > >   }
> > > 
> > >   public static void removeModifiedFiles(IndexReader reader) throws
> > > Exception {
> > >     Document adoc;
> > >     String path;
> > >     File aFile;
> > >     for (int i=0; i<reader.numDocs(); i++){
> > >       adoc = reader.document(i);
> > >       path = adoc.get("path");
> > >       aFile = new File(path);
> > >       if (reader.lastModified(path) < aFile.lastModified()){
> > >         System.out.println(reader.isLocked(path));
> > >         reader.delete(i);
> > >       }
> > >     }
> > >   }
> > > 
> > >   public static void updateIndexDocs(IndexReader reader, IndexWriter
> > > writer, File file)
> > >        throws Exception {
> > > 
> > >     if (file.isDirectory()) {
> > >       String[] files = file.list();
> > >       for (int i = 0; i < files.length; i++)
> > >   updateIndexDocs(reader, writer, new File(file, files[i]));
> > >     } else {
> > >       if (!reader.indexExists(file)){
> > >         System.out.println("adding " + file);
> > >         writer.addDocument(FileDocument.Document(file));
> > >       } else {}
> > >     }
> > >   }
> > > }

----------------------------------------------------------------------
Searchable personal storage and archiving from http://www.digimem.net/


------=_Part_44_4615381.1049403319062
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_Part_44_4615381.1049403319062--


From MAILER-DAEMON Thu Apr  3 22:10:15 2003
Return-Path: 
 <lucene-user-return-4134-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24212 invoked from network); 3 Apr 2003 22:10:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:10:15 -0000
Received: (qmail 4073 invoked by uid 97); 3 Apr 2003 22:12:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4066 invoked from network); 3 Apr 2003 22:12:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:12:09 -0000
Received: (qmail 23889 invoked by uid 500); 3 Apr 2003 22:10:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23773 invoked from network); 3 Apr 2003 22:10:10 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:10:10 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 346F2367DA; Thu,  3 Apr 2003 22:10:23 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 86F67367E0
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 22:10:22 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Querying Question
Date: Thu, 3 Apr 2003 17:11:14 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDCEINCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 1 (Highest)
X-MSMail-Priority: High
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: High
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <00cd01c2fa0e$c5f35560$6800a8c0@sloop>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc..  For example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability to
query using AND, OR, NOTS, etc..  What the correct syntax for such queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:18:17 2003
Return-Path: 
 <lucene-user-return-4135-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42496 invoked from network); 3 Apr 2003 22:18:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:18:17 -0000
Received: (qmail 4316 invoked by uid 97); 3 Apr 2003 22:20:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4309 invoked from network); 3 Apr 2003 22:20:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:20:11 -0000
Received: (qmail 42169 invoked by uid 500); 3 Apr 2003 22:18:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42136 invoked from network); 3 Apr 2003 22:18:14 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:18:14 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W2W4Z; Thu, 3 Apr 2003 17:21:12 -0500
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:18:32 -0500
Message-ID: <000001c2fa2e$fbc9a110$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <MNEPJJAGGPICDNOCBIKDCEINCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Did you index the value field as a keyword?

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc..
For example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability
to query using AND, OR, NOTS, etc..  What the correct syntax for such
queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:22:41 2003
Return-Path: 
 <lucene-user-return-4136-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52765 invoked from network); 3 Apr 2003 22:22:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:22:41 -0000
Received: (qmail 4400 invoked by uid 97); 3 Apr 2003 22:24:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4393 invoked from network); 3 Apr 2003 22:24:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:24:35 -0000
Received: (qmail 52506 invoked by uid 500); 3 Apr 2003 22:22:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52492 invoked from network); 3 Apr 2003 22:22:38 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:22:38 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan
 Messaging Security Suite; Thu, 03 Apr 2003 17:22:42 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:22:42 -0500
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D99F3@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Querying Question
Thread-Index: AcL6LdMkEfa+c3FGTPqZmFYoJk9e/QAAVwAQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This query.toLowerCase() lowercased your query to become:

name:\"checkpoint\" and  value:\"filenane_1\"

The keyword AND must be uppercase when the query parser gets a hold of =
it.

If your RepositoryIndexAnalyzer lowercases its tokens you don't need to =
do query.toLowerCase(). If it doesn't lowercase its tokens, you may want =
to modify it so that it does.

Eric

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]=20
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc..  For =
example:

I have the following name/value pairs

file 1 =3D name =3D "checkpoint" value =3D "filename_1"
file 2 =3D name =3D "checkpoint" value =3D "filename_2"
file 3 =3D name =3D "checkpoint" value =3D "filename_3"
file 4 =3D name =3D "checkpoint" value =3D "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability =
to query using AND, OR, NOTS, etc..  What the correct syntax for such =
queries?

The code I use is :
 QueryParser p =3D new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query =3D p.parse(query.toLowerCase());
 Hits hits =3D this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:25:25 2003
Return-Path: 
 <lucene-user-return-4137-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61869 invoked from network); 3 Apr 2003 22:25:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:25:25 -0000
Received: (qmail 4473 invoked by uid 97); 3 Apr 2003 22:27:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4465 invoked from network); 3 Apr 2003 22:27:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:27:19 -0000
Received: (qmail 61561 invoked by uid 500); 3 Apr 2003 22:25:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61548 invoked from network); 3 Apr 2003 22:25:22 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:25:22 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id BD8DF367D8; Thu,  3 Apr 2003 22:25:59 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 9D3F4367CE
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 22:25:58 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:26:50 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDKEINCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <000001c2fa2e$fbc9a110$6a00a8c0@Aviran>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Use the following type of Field:

   doc.add(new Field(name, value,
            true, true, true));
       

Thanks,
 
Rob 


-----Original Message-----
From: Aviran Mordo [mailto:amordo@infosciences.com]
Sent: Thursday, April 03, 2003 5:19 PM
To: 'Lucene Users List'
Subject: RE: Querying Question


Did you index the value field as a keyword?

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc..
For example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability
to query using AND, OR, NOTS, etc..  What the correct syntax for such
queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:33:28 2003
Return-Path: 
 <lucene-user-return-4139-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80204 invoked from network); 3 Apr 2003 22:33:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:33:28 -0000
Received: (qmail 4715 invoked by uid 97); 3 Apr 2003 22:35:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4708 invoked from network); 3 Apr 2003 22:35:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:35:21 -0000
Received: (qmail 79919 invoked by uid 500); 3 Apr 2003 22:33:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79908 invoked from network); 3 Apr 2003 22:33:25 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:33:25 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W2WVC; Thu, 3 Apr 2003 17:36:23 -0500
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:33:44 -0500
Message-ID: <000101c2fa31$1b80c2c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKEINCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You should not tokenize the file name instead you should use

 doc.add(new Field(name, value,
            true, true, true));
Or 
Doc.add(Field.keyword(name,value));

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Thursday, April 03, 2003 5:27 PM
To: Lucene Users List
Subject: RE: Querying Question


Use the following type of Field:

   doc.add(new Field(name, value,
            true, true, true));
       

Thanks,
 
Rob 


-----Original Message-----
From: Aviran Mordo [mailto:amordo@infosciences.com]
Sent: Thursday, April 03, 2003 5:19 PM
To: 'Lucene Users List'
Subject: RE: Querying Question


Did you index the value field as a keyword?

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org] 
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc.. For
example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability
to query using AND, OR, NOTS, etc..  What the correct syntax for such
queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:32:31 2003
Return-Path: 
 <lucene-user-return-4138-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77867 invoked from network); 3 Apr 2003 22:32:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:32:31 -0000
Received: (qmail 4690 invoked by uid 97); 3 Apr 2003 22:34:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4682 invoked from network); 3 Apr 2003 22:34:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:34:25 -0000
Received: (qmail 77587 invoked by uid 500); 3 Apr 2003 22:32:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77575 invoked from network); 3 Apr 2003 22:32:28 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:32:28 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 86577367D8; Thu,  3 Apr 2003 22:33:06 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 677AD367CE
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 22:33:05 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:33:57 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDCEIOCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <187D6D956106D84E9D8B280F6458FE14018D99F3@merc12.na.sas.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

RepositoryIndexAnalyzer :

 /**
     * Creates a TokenStream which tokenizes all the text in the provided
Reader.
     * Default implementation forwards to tokenStream(Reader) for
compatibility
     * with older version. Override to allow Analyzer to choose strategy
based
     * on document and/or field.
     * @param field is the name of the field
     * @param reader is the data
     * @return a token stream
     * @build 10
     */
    public TokenStream tokenStream(String field, final Reader reader) {

        // do not tokenize any field
        TokenStream t = new CharTokenizer(reader) {
            protected boolean isTokenChar(char c) {
                return true;
            }
        };

        //case insensitive search
        t = new LowerCaseFilter(t);
        return t;

    }

but earlier when I did a query case became an issue I am not sure why as the
analyzer should have lowercased the token but it did not.

Thanks,

Rob

-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com]
Sent: Thursday, April 03, 2003 5:23 PM
To: Lucene Users List
Subject: RE: Querying Question


This query.toLowerCase() lowercased your query to become:

name:\"checkpoint\" and  value:\"filenane_1\"

The keyword AND must be uppercase when the query parser gets a hold of it.

If your RepositoryIndexAnalyzer lowercases its tokens you don't need to do
query.toLowerCase(). If it doesn't lowercase its tokens, you may want to
modify it so that it does.

Eric

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc..  For example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability to
query using AND, OR, NOTS, etc..  What the correct syntax for such queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr  3 22:36:40 2003
Return-Path: 
 <lucene-user-return-4140-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82512 invoked from network); 3 Apr 2003 22:36:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:36:40 -0000
Received: (qmail 4917 invoked by uid 97); 3 Apr 2003 22:38:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4907 invoked from network); 3 Apr 2003 22:38:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 Apr 2003 22:38:34 -0000
Received: (qmail 82232 invoked by uid 500); 3 Apr 2003 22:36:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82221 invoked from network); 3 Apr 2003 22:36:37 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 3 Apr 2003 22:36:37 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 81A57367D8; Thu,  3 Apr 2003 22:37:15 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 6E5DD367CE
	for <lucene-user@jakarta.apache.org>; Thu,  3 Apr 2003 22:37:14 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Querying Question
Date: Thu, 3 Apr 2003 17:38:06 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDKEIOCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <000101c2fa31$1b80c2c0$6a00a8c0@Aviran>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I do not tokenize the file name, the file name is what should be returned
from the query, I think Eric caught my issue, I do a query.ToLowerCase()
which turns AND to and which explains why I got back 4 results, but when I
added the "+" it forced the match.  I posted my analyzer a second ago it
should handle the case problem I am experiencing.

Thanks,

Rob


-----Original Message-----
From: Aviran Mordo [mailto:amordo@infosciences.com]
Sent: Thursday, April 03, 2003 5:34 PM
To: 'Lucene Users List'
Subject: RE: Querying Question


You should not tokenize the file name instead you should use

 doc.add(new Field(name, value,
            true, true, true));
Or
Doc.add(Field.keyword(name,value));

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Thursday, April 03, 2003 5:27 PM
To: Lucene Users List
Subject: RE: Querying Question


Use the following type of Field:

   doc.add(new Field(name, value,
            true, true, true));


Thanks,

Rob


-----Original Message-----
From: Aviran Mordo [mailto:amordo@infosciences.com]
Sent: Thursday, April 03, 2003 5:19 PM
To: 'Lucene Users List'
Subject: RE: Querying Question


Did you index the value field as a keyword?

Aviran

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Thursday, April 03, 2003 5:11 PM
To: Lucene Users List
Subject: Querying Question
Importance: High


Hi all,

	I am a little fuzzy on complex querying using AND, OR, etc.. For
example:

I have the following name/value pairs

file 1 = name = "checkpoint" value = "filename_1"
file 2 = name = "checkpoint" value = "filename_2"
file 3 = name = "checkpoint" value = "filename_3"
file 4 = name = "checkpoint" value = "filename_4"

I ran the following Query:

name:\"checkpoint\" AND  value:\"filenane_1\"

Instead of getting back file 1, I got back all four files?

Then after trying different things I did:

+("name:\"checkpoint\") AND  +(value:\"filenane_1\")

it then returned file 1.

Our project queries solely on name value pairs and we need the ability
to query using AND, OR, NOTS, etc..  What the correct syntax for such
queries?

The code I use is :
 QueryParser p = new QueryParser("",
 new RepositoryIndexAnalyzer());
 this.query = p.parse(query.toLowerCase());
 Hits hits = this.searcher.search(this.query);

Thanks as always,

Rob



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr  4 12:22:43 2003
Return-Path: 
 <lucene-user-return-4142-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96373 invoked from network); 4 Apr 2003 12:22:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Apr 2003 12:22:43 -0000
Received: (qmail 21695 invoked by uid 97); 4 Apr 2003 12:24:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21687 invoked from network); 4 Apr 2003 12:24:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Apr 2003 12:24:30 -0000
Received: (qmail 96099 invoked by uid 500); 4 Apr 2003 12:22:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96088 invoked from network); 4 Apr 2003 12:22:39 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 4 Apr 2003 12:22:39 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 4BF91367D8; Fri,  4 Apr 2003 12:23:06 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 274E2367CE
	for <lucene-user@jakarta.apache.org>; Fri,  4 Apr 2003 12:23:05 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Analyzer Incorrect?
Date: Fri, 4 Apr 2003 07:24:02 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDKEJACIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKEIOCIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	Sorry for the flood of questions this week, clients finally started using
the search engine I wrote which uses Lucene.  When I first started
developing with Lucene the Analyzers it came with did some odd things so I
decided to implement my own but it is not working the way I expect it to.
First and foremost I would like to like to have case insensitive searches
and I do not want to tokenize the fields.  No field will ever have a space
in it so therefore there is no need to tokenize it.  I came up with this
Analyzer but case still seems to be an issue:

  public TokenStream tokenStream(String field, final Reader reader) {

        // do not tokenize any field
        TokenStream t = new CharTokenizer(reader) {
            protected boolean isTokenChar(char c) {
                return true;
            }
        };

        //case insensitive search
        t = new LowerCaseFilter(t);
        return t;
    }

Is there anything I am doing wrong in the Analyzer I have written?

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr  4 14:06:42 2003
Return-Path: 
 <lucene-user-return-4143-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75320 invoked from network); 4 Apr 2003 14:06:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Apr 2003 14:06:42 -0000
Received: (qmail 24627 invoked by uid 97); 4 Apr 2003 14:08:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24620 invoked from network); 4 Apr 2003 14:08:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Apr 2003 14:08:33 -0000
Received: (qmail 75042 invoked by uid 500); 4 Apr 2003 14:06:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75023 invoked from network); 4 Apr 2003 14:06:38 -0000
Received: from mail2.hypermall.com (216.241.37.118)
  by daedalus.apache.org with SMTP; 4 Apr 2003 14:06:38 -0000
Received: from [216.241.38.72] (helo=www.doomdark.org)
	by mail2.hypermall.com with esmtp (Exim 3.36 #1)
	id 191Rq3-0006l8-00
	for lucene-user@jakarta.apache.org; Fri, 04 Apr 2003 07:06:39 -0700
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Analyzer Incorrect?
Date: Fri, 4 Apr 2003 07:08:48 -0700
User-Agent: KMail/1.4.3
References: <MNEPJJAGGPICDNOCBIKDKEJACIAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKEJACIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304040708.48211.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday 04 April 2003 05:24, Rob Outar wrote:
> Hi all,
>
> 	Sorry for the flood of questions this week, clients finally started using
> the search engine I wrote which uses Lucene.  When I first started

Yup... that's the root of all evil. :-)
(I'm in similar situation, going through user acceptance test as we speak... 
and getting ready to do second version that'll have more advanced metadata
based search using Lucene).

> developing with Lucene the Analyzers it came with did some odd things so I
> decided to implement my own but it is not working the way I expect it to.
> First and foremost I would like to like to have case insensitive searches
> and I do not want to tokenize the fields.  No field will ever have a space

If you don't need to tokenize a field, you don't need an analyzer either. 
However, to get case insensitive search, you should lower-case field contents 
before adding them to document. QueryParser will do lower casing for search 
terms automatically (if you are using it), so matching should work fine then.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr  4 14:40:07 2003
Return-Path: 
 <lucene-user-return-4144-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50211 invoked from network); 4 Apr 2003 14:40:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Apr 2003 14:40:07 -0000
Received: (qmail 25477 invoked by uid 97); 4 Apr 2003 14:41:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25470 invoked from network); 4 Apr 2003 14:41:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 Apr 2003 14:41:58 -0000
Received: (qmail 49931 invoked by uid 500); 4 Apr 2003 14:40:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49910 invoked from network); 4 Apr 2003 14:40:03 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 4 Apr 2003 14:40:03 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id E21EB367E5; Fri,  4 Apr 2003 14:40:31 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP
	id E7DBC367E4; Fri,  4 Apr 2003 14:40:29 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<tatu@hypermall.net>
Subject: RE: Analyzer Incorrect?
Date: Fri, 4 Apr 2003 09:41:26 -0500
Message-ID: <MNEPJJAGGPICDNOCBIKDGEJBCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <200304040708.48211.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yeah it has been a bad week.  I don't think Query parser is not lowercasing
my fields, maybe it is something I am doing wrong:

 public synchronized String[] queryIndex(String query) throws
ParseException,
    IOException {

        checkForIndexChange();
        QueryParser p = new QueryParser("",
        new RepositoryIndexAnalyzer());
        this.query = p.parse(query);
        Hits hits = this.searcher.search(this.query);
        return buildReturnArray(hits);

    }

When I create Querypaser I do not want it to have default field since
clients can query on whatever field they want.  I use my Analyzer which I do
not think is lowercasing the fields because I have tested querying with all
lowercase (got results) with mixed case (no results) so I think my code or
my analyzer is hosed.

Thanks,

Rob


-----Original Message-----
From: Tatu Saloranta [mailto:tatu@hypermall.net]
Sent: Friday, April 04, 2003 9:09 AM
To: Lucene Users List
Subject: Re: Analyzer Incorrect?


On Friday 04 April 2003 05:24, Rob Outar wrote:
> Hi all,
>
> 	Sorry for the flood of questions this week, clients finally started using
> the search engine I wrote which uses Lucene.  When I first started

Yup... that's the root of all evil. :-)
(I'm in similar situation, going through user acceptance test as we speak...
and getting ready to do second version that'll have more advanced metadata
based search using Lucene).

> developing with Lucene the Analyzers it came with did some odd things so I
> decided to implement my own but it is not working the way I expect it to.
> First and foremost I would like to like to have case insensitive searches
> and I do not want to tokenize the fields.  No field will ever have a space

If you don't need to tokenize a field, you don't need an analyzer either.
However, to get case insensitive search, you should lower-case field
contents
before adding them to document. QueryParser will do lower casing for search
terms automatically (if you are using it), so matching should work fine
then.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Apr  5 04:10:37 2003
Return-Path: 
 <lucene-user-return-4145-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52092 invoked from network); 5 Apr 2003 04:10:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Apr 2003 04:10:37 -0000
Received: (qmail 14649 invoked by uid 97); 5 Apr 2003 04:12:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14642 invoked from network); 5 Apr 2003 04:12:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 Apr 2003 04:12:37 -0000
Received: (qmail 51235 invoked by uid 500); 5 Apr 2003 04:10:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51187 invoked from network); 5 Apr 2003 04:10:29 -0000
Received: from oe39.law9.hotmail.com (HELO hotmail.com) (64.4.8.96)
  by daedalus.apache.org with SMTP; 5 Apr 2003 04:10:29 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 4 Apr 2003 20:10:39 -0800
Received: from 61.140.189.30 by oe39.law9.hotmail.com with DAV;
	Sat, 05 Apr 2003 04:10:39 +0000
X-Originating-IP: [61.140.189.30]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: UZXUWLSZLKBRNVWWCUFPEGAUTFJMV
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1265821.1049403319072.JavaMail.digimem@venus>
Subject: Re: about increment update
Date: Sat, 5 Apr 2003 12:09:01 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <OE39Oskjlv62duM9R2i000132ad@hotmail.com>
X-OriginalArrivalTime: 05 Apr 2003 04:10:39.0771 (UTC)
 FILETIME=[5166AEB0:01C2FB29]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

VGhhbmsgeW91IElhbiwgaXQgd29ya3MuICBLZXJyLg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAt
LS0tLSANCkZyb206ICJJYW4gTGVhIiA8aWFuQGRpZ2ltZW0ubmV0Pg0KVG86ICJrZXJyIiA8a2Vl
bGtlcnJAaG90bWFpbC5jb20+DQpDYzogIkx1Y2VuZSBVc2VycyBMaXN0IiA8bHVjZW5lLXVzZXJA
amFrYXJ0YS5hcGFjaGUub3JnPg0KU2VudDogRnJpZGF5LCBBcHJpbCAwNCwgMjAwMyA0OjU1IEFN
DQpTdWJqZWN0OiBSZTogYWJvdXQgaW5jcmVtZW50IHVwZGF0ZQ0KDQoNCj4gVHJ5IHRoaXM6DQo+
IA0KPiAxLiAgT3BlbiByZWFkZXIuDQo+IDIuICByZW1vdmVNb2RpZmllZEZpbGVzKHJlYWRlcikN
Cj4gMy4gIHJlYWRlci5jbG9zZSgpDQo+IDQuICBPcGVuIHdyaXRlci4NCj4gNS4gIHVwZGF0ZUlu
ZGV4RG9jcygpDQo+IDYuICB3cml0ZXIuY2xvc2UoKTsNCj4gDQo+IGkuZS4gZG9uJ3QgaGF2ZSBi
b3RoIHJlYWRlciBhbmQgd3JpdGVyIG9wZW4gYXQgdGhlIHNhbWUgdGltZS4NCj4gDQo+IGJ0dyBJ
IHN1c3BlY3QgeW91IG1pZ2h0IGJlIHJlbW92aW5nIGluZGV4IGVudHJpZXMgZm9yIGZpbGVzIHRo
YXQNCj4gaGF2ZSBiZWVuIG1vZGlmaWVkLCBidXQgYWRkaW5nIGFsbCBmaWxlcy4gQW5vdGhlciAi
aW5kZXgga2VlcHMNCj4gZ3Jvd2luZyIgcHJvYmxlbSEgIENvdWxkIGJlIHdyb25nLg0KPiANCj4g
DQo+IC0tDQo+IElhbi4NCj4gDQo+ID4ga2VlbGtlcnJAaG90bWFpbC5jb20gKGtlcnIpIHdyb3Rl
IA0KPiA+DQo+ID4gVGhhbmsgeW91IE90aXMsDQo+ID4gWWVzLCByZWFkZXIgc2hvdWxkIGJlIGNs
b3NlZC4gQnV0IGl0IGlzbid0IHRoZSByZWFzb24gb2YgdGhpcyBFeGNlcHRpb24uDQo+ID4gdGhl
IGVycm9ycyBoYXBwZW4gYmVmb3JlIGRlbGV0aW5nIGZpbGUuDQo+ID4gICAgS2Vyci4NCj4gPiBj
bG9zZSgpDQo+ID4gQ2xvc2VzIGZpbGVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluZGV4LiBBbHNv
IHNhdmVzIGFueSBuZXcgZGVsZXRpb25zIHRvIGRpc2suIE5vIG90aGVyIG1ldGhvZHMgc2hvdWxk
IGJlIGNhbGxlZCBhZnRlciB0aGlzIGhhcyBiZWVuIGNhbGxlZC4NCj4gPiANCj4gPiAtLS0tLSBP
cmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KPiA+IEZyb206ICJPdGlzIEdvc3BvZG5ldGljIiA8b3Rp
c19nb3Nwb2RuZXRpY0B5YWhvby5jb20+DQo+ID4gVG86ICJMdWNlbmUgVXNlcnMgTGlzdCIgPGx1
Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NCj4gPiBTZW50OiBUaHVyc2RheSwgQXByaWwg
MDMsIDIwMDMgMTI6MTQgUE0NCj4gPiBTdWJqZWN0OiBSZTogYWJvdXQgaW5jcmVtZW50IHVwZGF0
ZQ0KPiA+IA0KPiA+IA0KPiA+ID4gTWF5YmUgdGhpcyBpcyBtaXNzaW5nPw0KPiA+ID4gaHR0cDov
L2pha2FydGEuYXBhY2hlLm9yZy9sdWNlbmUvZG9jcy9hcGkvb3JnL2FwYWNoZS9sdWNlbmUvaW5k
ZXgvSW5kZXhSZWFkZXIuaHRtbCNjbG9zZSgpDQo+ID4gPiANCj4gPiA+IE90aXMNCj4gPiA+IA0K
PiA+ID4gLS0tIGtlcnIgPGtlZWxrZXJyQGhvdG1haWwuY29tPiB3cm90ZToNCj4gPiA+ID4gSGVs
bG8gZXZlcnlvbmUsDQo+ID4gPiA+IEhlcmUgSSB0cnkgdG8gaW5jcmVtZW50IHVwZGF0ZSBpbmRl
eCBmaWxlIGFuZCBmb2xsb3cgdGhlIGlkZWEgdG8NCj4gPiA+ID4gZGVsZXRlIG1vZGlmaWVkIGZp
bGUgZmlyc3QgYW5kIHJlLWFkZCBpdC4gSGVyZSBpcyB0aGUgc291cmNlLg0KPiA+ID4gPiBCdXQg
d2hlbiBJIGV4ZWN1dGUgaXQsIHRoZSBpbmRleCBkaXJlY3RvcnkgY3JlYXRlIGEgZmlsZSh3cml0
ZS5sb2NrKQ0KPiA+ID4gPiB3aGVuIGV4ZWN1dGUgdGhlIGxpbmUNCj4gPiA+ID4gICAgIHJlYWRl
ci5kZWxldGUoaSk7LCANCj4gPiA+ID4gYW5kIGNhdWdodCBhIGNsYXNzIGphdmEuaW8uSU9FeGNl
cHRpb24gICB3aXRoIG1lc3NhZ2U6IEluZGV4IGxvY2tlZA0KPiA+ID4gPiBmb3Igd3JpdGUuDQo+
ID4gPiA+IEFmdGVyIHRoYXQsIHdoZW4gSSBleGVjdXRlIHRoZSBsaW5lDQo+ID4gPiA+ICAgICBJ
bmRleFdyaXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIoImluZGV4IiwgbmV3DQo+ID4gPiA+
IFN0YW5kYXJkQW5hbHl6ZXIoKSwgZmFsc2UpOw0KPiA+ID4gPiBjYXVnaHQgYSBjbGFzcyBqYXZh
LmlvLklPRXhjZXB0aW9uICAgd2l0aCBtZXNzYWdlOiBJbmRleCBsb2NrZWQgZm9yDQo+ID4gPiA+
IHdyaXRlDQo+ID4gPiA+IGlmIEkgZGVsZXRlIHRoZSBmaWxlKHdyaXRlLmxvY2spLCB0aGUgZXJy
b3Igd2lsbCByZS1oYXBwZW4uDQo+ID4gPiA+IGFueW9uZSBjYW4gaGVscCBhbmQgdGhhbmtzLg0K
PiA+ID4gPiAgICAgICAgS2Vyci4NCj4gPiA+ID4gDQo+ID4gPiA+IA0KPiA+ID4gPiBpbXBvcnQg
b3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcjsNCj4g
PiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4V3JpdGVyOw0KPiA+ID4g
PiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRG9jdW1lbnQ7DQo+ID4gPiA+IGlt
cG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5kb2N1bWVudC5GaWVsZDsNCj4gPiA+ID4gaW1wb3J0IG9y
Zy5hcGFjaGUubHVjZW5lLnN0b3JlLkRpcmVjdG9yeTsNCj4gPiA+ID4gaW1wb3J0IG9yZy5hcGFj
aGUubHVjZW5lLnN0b3JlLkZTRGlyZWN0b3J5Ow0KPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5s
dWNlbmUuaW5kZXguSW5kZXhSZWFkZXI7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2Vu
ZS5pbmRleC5UZXJtOw0KPiA+ID4gPiANCj4gPiA+ID4gaW1wb3J0IGphdmEuaW8uRmlsZTsNCj4g
PiA+ID4gaW1wb3J0IGphdmEudXRpbC5EYXRlOw0KPiA+ID4gPiANCj4gPiA+ID4gDQo+ID4gPiA+
IHB1YmxpYyBjbGFzcyBVcGRhdGVJbmRleEZpbGVzIHsNCj4gPiA+ID4gICBwdWJsaWMgc3RhdGlj
IHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7DQo+ID4gPiA+ICAgICB0cnkgew0KPiA+ID4gPiAg
ICAgICBEYXRlIHN0YXJ0ID0gbmV3IERhdGUoKTsNCj4gPiA+ID4gDQo+ID4gPiA+ICAgICAgIERp
cmVjdG9yeSBkaXJlY3RvcnkgPSBGU0RpcmVjdG9yeS5nZXREaXJlY3RvcnkoImluZGV4IiwgZmFs
c2UpOw0KPiA+ID4gPiAgICAgICBJbmRleFJlYWRlciByZWFkZXIgPSBJbmRleFJlYWRlci5vcGVu
KGRpcmVjdG9yeSk7DQo+ID4gPiA+ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihyZWFkZXIuaXNM
b2NrZWQoZGlyZWN0b3J5KSk7DQo+ID4gPiA+ICAgICAgIC8vcmVhZGVyLnVubG9jayhkaXJlY3Rv
cnkpOw0KPiA+ID4gPiAgICAgICBJbmRleFdyaXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIo
ImluZGV4IiwgbmV3DQo+ID4gPiA+IFN0YW5kYXJkQW5hbHl6ZXIoKSwgZmFsc2UpOw0KPiA+ID4g
PiANCj4gPiA+ID4gICAgICAgU3RyaW5nIGJhc2UgPSAiIjsNCj4gPiA+ID4gICAgICAgaWYgKGFy
Z3MubGVuZ3RoID09IDApew0KPiA+ID4gPiAgICAgICAgIGJhc2UgPSAiRDpcXFRvbWNhdFxcd2Vi
YXBwc1xcUk9PVFxcdGVzdCI7DQo+ID4gPiA+ICAgICAgIH0gZWxzZSB7DQo+ID4gPiA+ICAgICAg
ICAgYmFzZSA9IGFyZ3NbMF07DQo+ID4gPiA+ICAgICAgIH0NCj4gPiA+ID4gICAgICAgcmVtb3Zl
TW9kaWZpZWRGaWxlcyhyZWFkZXIpOw0KPiA+ID4gPiAgICAgICB1cGRhdGVJbmRleERvY3MocmVh
ZGVyLCB3cml0ZXIsIG5ldyBGaWxlKGJhc2UpKTsNCj4gPiA+ID4gDQo+ID4gPiA+ICAgICAgIHdy
aXRlci5vcHRpbWl6ZSgpOw0KPiA+ID4gPiAgICAgICB3cml0ZXIuY2xvc2UoKTsNCj4gPiA+ID4g
DQo+ID4gPiA+ICAgICAgIERhdGUgZW5kID0gbmV3IERhdGUoKTsNCj4gPiA+ID4gDQo+ID4gPiA+
ICAgICAgIFN5c3RlbS5vdXQucHJpbnQoZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSk7
DQo+ID4gPiA+ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiIHRvdGFsIG1pbGxpc2Vjb25kcyIp
Ow0KPiA+ID4gPiANCj4gPiA+ID4gICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQo+ID4gPiA+
ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiIGNhdWdodCBhICIgKyBlLmdldENsYXNzKCkgKw0K
PiA+ID4gPiAgICAgICAgIlxuIHdpdGggbWVzc2FnZTogIiArIGUuZ2V0TWVzc2FnZSgpKTsNCj4g
PiA+ID4gICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCj4gPiA+ID4gICAgIH0NCj4gPiA+ID4g
ICB9DQo+ID4gPiA+IA0KPiA+ID4gPiAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZW1vdmVNb2RpZmll
ZEZpbGVzKEluZGV4UmVhZGVyIHJlYWRlcikgdGhyb3dzDQo+ID4gPiA+IEV4Y2VwdGlvbiB7DQo+
ID4gPiA+ICAgICBEb2N1bWVudCBhZG9jOw0KPiA+ID4gPiAgICAgU3RyaW5nIHBhdGg7DQo+ID4g
PiA+ICAgICBGaWxlIGFGaWxlOw0KPiA+ID4gPiAgICAgZm9yIChpbnQgaT0wOyBpPHJlYWRlci5u
dW1Eb2NzKCk7IGkrKyl7DQo+ID4gPiA+ICAgICAgIGFkb2MgPSByZWFkZXIuZG9jdW1lbnQoaSk7
DQo+ID4gPiA+ICAgICAgIHBhdGggPSBhZG9jLmdldCgicGF0aCIpOw0KPiA+ID4gPiAgICAgICBh
RmlsZSA9IG5ldyBGaWxlKHBhdGgpOw0KPiA+ID4gPiAgICAgICBpZiAocmVhZGVyLmxhc3RNb2Rp
ZmllZChwYXRoKSA8IGFGaWxlLmxhc3RNb2RpZmllZCgpKXsNCj4gPiA+ID4gICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4ocmVhZGVyLmlzTG9ja2VkKHBhdGgpKTsNCj4gPiA+ID4gICAgICAgICBy
ZWFkZXIuZGVsZXRlKGkpOw0KPiA+ID4gPiAgICAgICB9DQo+ID4gPiA+ICAgICB9DQo+ID4gPiA+
ICAgfQ0KPiA+ID4gPiANCj4gPiA+ID4gICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlSW5kZXhE
b2NzKEluZGV4UmVhZGVyIHJlYWRlciwgSW5kZXhXcml0ZXINCj4gPiA+ID4gd3JpdGVyLCBGaWxl
IGZpbGUpDQo+ID4gPiA+ICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCj4gPiA+ID4gDQo+ID4g
PiA+ICAgICBpZiAoZmlsZS5pc0RpcmVjdG9yeSgpKSB7DQo+ID4gPiA+ICAgICAgIFN0cmluZ1td
IGZpbGVzID0gZmlsZS5saXN0KCk7DQo+ID4gPiA+ICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg
ZmlsZXMubGVuZ3RoOyBpKyspDQo+ID4gPiA+ICAgdXBkYXRlSW5kZXhEb2NzKHJlYWRlciwgd3Jp
dGVyLCBuZXcgRmlsZShmaWxlLCBmaWxlc1tpXSkpOw0KPiA+ID4gPiAgICAgfSBlbHNlIHsNCj4g
PiA+ID4gICAgICAgaWYgKCFyZWFkZXIuaW5kZXhFeGlzdHMoZmlsZSkpew0KPiA+ID4gPiAgICAg
ICAgIFN5c3RlbS5vdXQucHJpbnRsbigiYWRkaW5nICIgKyBmaWxlKTsNCj4gPiA+ID4gICAgICAg
ICB3cml0ZXIuYWRkRG9jdW1lbnQoRmlsZURvY3VtZW50LkRvY3VtZW50KGZpbGUpKTsNCj4gPiA+
ID4gICAgICAgfSBlbHNlIHt9DQo+ID4gPiA+ICAgICB9DQo+ID4gPiA+ICAgfQ0KPiA+ID4gPiB9
DQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFNlYXJjaGFibGUgcGVyc29uYWwgc3RvcmFnZSBhbmQg
YXJjaGl2aW5nIGZyb20gaHR0cDovL3d3dy5kaWdpbWVtLm5ldC8NCj4gDQo+IA0KDQoNCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUs
IGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+IEZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5h
cGFjaGUub3Jn


From MAILER-DAEMON Mon Apr  7 04:44:11 2003
Return-Path: 
 <lucene-user-return-4146-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78693 invoked from network); 7 Apr 2003 04:44:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 04:44:11 -0000
Received: (qmail 6968 invoked by uid 97); 7 Apr 2003 04:46:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6961 invoked from network); 7 Apr 2003 04:46:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 04:46:12 -0000
Received: (qmail 78432 invoked by uid 500); 7 Apr 2003 04:44:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78418 invoked from network); 7 Apr 2003 04:44:08 -0000
Received: from zeus.orion.co.nz (HELO mail.orion.co.nz) (202.37.75.101)
  by daedalus.apache.org with SMTP; 7 Apr 2003 04:44:08 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: HTMLDocument.java example
Date: Mon, 7 Apr 2003 16:41:32 +1200
Message-ID: <A6748C27A165F747B9B0801783B8F3C490D2BA@mail.orion.internal>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HTMLDocument.java example
Thread-Index: AcL8v/V3VM4NzK4WSPG43be1spidsw==
From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The example code that ships with Lucene includes the following snippet =
in HTMLDocument.java:

    // Add the last modified date of the file a field named "modified".  =
Use a
    // Keyword field, so that it's searchable, but so that no attempt is =
made
    // to tokenize the field into words.
    doc.add(Field.Keyword("modified",
			  DateField.timeToString(f.lastModified())));

Now, I guess the point of this is so that we can search for HTML =
documents using Lucene's range search syntax. But as far as I can tell, =
the result of DateField.timeToString(f.lastModified()) returns a =
non-human readable date format, hence the modified field will not really =
be "human searchable" format. Is this an oversight in the example =
implementation, or am I just missing something else here?

Thanks in advance,


Simon

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 05:54:47 2003
Return-Path: 
 <lucene-user-return-4147-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28462 invoked from network); 7 Apr 2003 05:54:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 05:54:47 -0000
Received: (qmail 7439 invoked by uid 97); 7 Apr 2003 05:56:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7432 invoked from network); 7 Apr 2003 05:56:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 05:56:48 -0000
Received: (qmail 28171 invoked by uid 500); 7 Apr 2003 05:54:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28153 invoked from network); 7 Apr 2003 05:54:42 -0000
Received: from unknown (HELO hostorg.contata.co.in) (203.196.139.82)
  by daedalus.apache.org with SMTP; 7 Apr 2003 05:54:42 -0000
Received: from developer (developer.contata.co.in [193.168.0.1])
	by hostorg.contata.co.in (8.12.5/8.12.5) with SMTP id h375vJuD020825
	for <lucene-user@jakarta.apache.org>; Mon, 7 Apr 2003 11:27:20 +0530
Message-ID: <002201c2fcca$30fff7b0$0100a8c1@contatan.com>
From: "Subhrajyoti Moitra" <subhrajyotim@contata.co.in>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: differential indexing
Date: Mon, 7 Apr 2003 11:24:45 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001F_01C2FCF8.4A9E1C00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001F_01C2FCF8.4A9E1C00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I am trying to append one index to another. How should i do it?

Let me explain my problem, probably people can suggest some better way..

i have indexed a set of pdf documents. These documents are being =
retrieved from the DB. I have a unique docId associated with each =
document. This is one of the fields in the index entries. I am using =
pdfbox to parse the contents of the pdf document and convert it into =
text for indexing.

Scenario-I
Now some one adds a new document to the DB. What i am presently doing is =
that, i retrieve all the documents from the DB,
 including the new one, and create a fresh index out of these set of =
documents. The problem here is time.
I have some 10,000 documents in my system, re-indexing every one of them =
again is taking a hell-of-a long time.
What i want is to "APPEND" the new document index-data to the existing =
index.

Scenario-II
When an existing document in the DB is changed i want to remove that =
document from the index (this is easy since i have the unique docId with =
me) and add the new modified index-data to the existing index, instead =
of again recreating the entire index.

To sum up how do i do differential indexing. (hope i am using the proper =
terminology)

Some one please suggest some solutions to this.

Thank you in advance.
Subhro.
------=_NextPart_000_001F_01C2FCF8.4A9E1C00--



From MAILER-DAEMON Mon Apr  7 07:37:49 2003
Return-Path: 
 <lucene-user-return-4148-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49591 invoked from network); 7 Apr 2003 07:37:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 07:37:49 -0000
Received: (qmail 9629 invoked by uid 97); 7 Apr 2003 07:39:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9622 invoked from network); 7 Apr 2003 07:39:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 07:39:51 -0000
Received: (qmail 47845 invoked by uid 500); 7 Apr 2003 07:37:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47782 invoked from network); 7 Apr 2003 07:37:28 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 7 Apr 2003 07:37:28 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.org)
	by erbium.wyona.ch with esmtp (Exim 3.35 #1 (Debian))
	id 192RBw-0004DW-00
	for <lucene-user@jakarta.apache.org>; Mon, 07 Apr 2003 09:37:20 +0200
Message-ID: <3E91366F.8040601@wyona.org>
Date: Mon, 07 Apr 2003 10:27:27 +0200
From: Michael Wechner <michael.wechner@wyona.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3a) Gecko/20021212
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HTMLDocument.java example
References: <A6748C27A165F747B9B0801783B8F3C490D2BA@mail.orion.internal>
In-Reply-To: <A6748C27A165F747B9B0801783B8F3C490D2BA@mail.orion.internal>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Simon Lieschke wrote:
> The example code that ships with Lucene includes the following snippet in HTMLDocument.java:
> 
>     // Add the last modified date of the file a field named "modified".  Use a
>     // Keyword field, so that it's searchable, but so that no attempt is made
>     // to tokenize the field into words.
>     doc.add(Field.Keyword("modified",
> 			  DateField.timeToString(f.lastModified())));
> 
> Now, I guess the point of this is so that we can search for HTML documents using Lucene's range search syntax. But as far as I can tell, the result of DateField.timeToString(f.lastModified()) returns a non-human readable date format, hence the modified field will not really be "human searchable" format. Is this an oversight in the example implementation, or am I just missing something else here?
> 

I always thought that this is necessary for being able to incrementally 
update the index at some later stage, but I am not sure to be honest.

HTH

Michael


> Thanks in advance,
> 
> 
> Simon
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 07:42:18 2003
Return-Path: 
 <lucene-user-return-4149-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54629 invoked from network); 7 Apr 2003 07:42:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 07:42:18 -0000
Received: (qmail 9704 invoked by uid 97); 7 Apr 2003 07:44:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9697 invoked from network); 7 Apr 2003 07:44:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 07:44:21 -0000
Received: (qmail 54144 invoked by uid 500); 7 Apr 2003 07:42:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54120 invoked from network); 7 Apr 2003 07:42:12 -0000
Received: from unknown (HELO erbium.wyona.ch) (195.226.6.68)
  by daedalus.apache.org with SMTP; 7 Apr 2003 07:42:12 -0000
Received: from ytterbium.wyona.ch ([195.226.6.70] helo=wyona.org)
	by erbium.wyona.ch with esmtp (Exim 3.35 #1 (Debian))
	id 192RGR-0004Ep-00
	for <lucene-user@jakarta.apache.org>; Mon, 07 Apr 2003 09:41:59 +0200
Message-ID: <3E913788.8080606@wyona.org>
Date: Mon, 07 Apr 2003 10:32:08 +0200
From: Michael Wechner <michael.wechner@wyona.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3a) Gecko/20021212
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: differential indexing
References: <002201c2fcca$30fff7b0$0100a8c1@contatan.com>
In-Reply-To: <002201c2fcca$30fff7b0$0100a8c1@contatan.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Subhrajyoti Moitra wrote:
> Hi,
> I am trying to append one index to another. How should i do it?

Otis Gospodnetic wrote an article at about "merging indices" (Second Page)

http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html

HTH

Michael

> 
> Let me explain my problem, probably people can suggest some better way..
> 
> i have indexed a set of pdf documents. These documents are being retrieved from the DB. I have a unique docId associated with each document. This is one of the fields in the index entries. I am using pdfbox to parse the contents of the pdf document and convert it into text for indexing.
> 
> Scenario-I
> Now some one adds a new document to the DB. What i am presently doing is that, i retrieve all the documents from the DB,
>  including the new one, and create a fresh index out of these set of documents. The problem here is time.
> I have some 10,000 documents in my system, re-indexing every one of them again is taking a hell-of-a long time.
> What i want is to "APPEND" the new document index-data to the existing index.
> 
> Scenario-II
> When an existing document in the DB is changed i want to remove that document from the index (this is easy since i have the unique docId with me) and add the new modified index-data to the existing index, instead of again recreating the entire index.
> 
> To sum up how do i do differential indexing. (hope i am using the proper terminology)
> 
> Some one please suggest some solutions to this.
> 
> Thank you in advance.
> Subhro.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 12:32:26 2003
Return-Path: 
 <lucene-user-return-4150-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83224 invoked from network); 7 Apr 2003 12:32:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 12:32:26 -0000
Received: (qmail 15193 invoked by uid 97); 7 Apr 2003 12:34:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15186 invoked from network); 7 Apr 2003 12:34:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 12:34:17 -0000
Received: (qmail 82957 invoked by uid 500); 7 Apr 2003 12:32:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82946 invoked from network); 7 Apr 2003 12:32:21 -0000
Received: from smtp6.mindspring.com (207.69.200.110)
  by daedalus.apache.org with SMTP; 7 Apr 2003 12:32:21 -0000
Received: from h-66-167-144-44.mclnva23.covad.net ([66.167.144.44]
 helo=Stete03)
	by smtp6.mindspring.com with smtp (Exim 3.33 #1)
	id 192VnR-0007vI-00
	for lucene-user@jakarta.apache.org; Mon, 07 Apr 2003 08:32:22 -0400
Message-ID: <043601c2fd01$9e264ce0$0201a8c0@netframe.com>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A6748C27A165F747B9B0801783B8F3C490D2BA@mail.orion.internal>
Subject: Re: HTMLDocument.java example
Date: Mon, 7 Apr 2003 08:31:28 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Simon,

I believe there's another method in DateField that converts the value into a
human readable form.

Regards,

Terry

----- Original Message -----
From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, April 07, 2003 12:41 AM
Subject: HTMLDocument.java example


The example code that ships with Lucene includes the following snippet in
HTMLDocument.java:

    // Add the last modified date of the file a field named "modified".  Use
a
    // Keyword field, so that it's searchable, but so that no attempt is
made
    // to tokenize the field into words.
    doc.add(Field.Keyword("modified",
  DateField.timeToString(f.lastModified())));

Now, I guess the point of this is so that we can search for HTML documents
using Lucene's range search syntax. But as far as I can tell, the result of
DateField.timeToString(f.lastModified()) returns a non-human readable date
format, hence the modified field will not really be "human searchable"
format. Is this an oversight in the example implementation, or am I just
missing something else here?

Thanks in advance,


Simon

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 12:59:32 2003
Return-Path: 
 <lucene-user-return-4151-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29791 invoked from network); 7 Apr 2003 12:59:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 12:59:32 -0000
Received: (qmail 15829 invoked by uid 97); 7 Apr 2003 13:01:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15822 invoked from network); 7 Apr 2003 13:01:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 13:01:23 -0000
Received: (qmail 29496 invoked by uid 500); 7 Apr 2003 12:59:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29480 invoked from network); 7 Apr 2003 12:59:28 -0000
Received: from mail.uunet.kelkoo.net (HELO mail.kelkoo.net) (194.98.147.102)
  by daedalus.apache.org with SMTP; 7 Apr 2003 12:59:28 -0000
Received: from kelkoo.net
 (IDENT:ckq+k5FZYOIzcBNKNVoGdgXct5kS1pb3@alix.kelkoo-gre.net [192.168.1.9])
	(authenticated bits=0)
	by mail.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id h37CxRKV003490
	for <lucene-user@jakarta.apache.org>; Mon, 7 Apr 2003 14:59:27 +0200
Message-ID: <3E917635.3080909@kelkoo.net>
Date: Mon, 07 Apr 2003 14:59:33 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: French/France, fr-FR, French, f
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: how to get an extra count
References: <3E3F75F1.9030504@kelkoo.net>
 <200302041859.h14IxJ3C012106@smtpzilla3.xs4all.nl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used without encryption ! STARTTLS has NOT been
 called !
X-RBL-Status: SMTP Relay 192.168.1.9 is friendly,
 and thus accepted without further checking.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.9 is known
 and friendly.]
X-Scanned-By: MIMEDefang 2.31 (www . roaringpenguin . com / mimedefang)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ype Kingma wrote:
> On Tuesday 04 February 2003 09:12, you wrote:
> 
>>Hi all,
>>
>>I'm trying to gather information about my non-searched (ie not used for
>>the search) fields.
>>Let's take an index with 2 fields: 'artist' (for the artist name) an
>>'type' (for his type of music).
>>I need to perform a search on the 'artist' field to retrieve a list of
>>artists matching the query. But I also need to have the number of
>>artists per 'type'.
>>My first solution was to write a HitCollector which do the work:
>>     public void collect(int doc, float score) {
>>     Document document = indexReader_.document(doc);
>>     if(document.get("type").equals("Rock"))
>>         nbRock++;
>>     ...
>>     }
>>But, as I first get the document to analyze my non-searched field, the
>>treatment can be very long for searches with lots of results.
>>
>>Is there any better(=faster) method to have this extra info ??
> 
> 
> It's best not to retrieve document fields during search.
> You can do this after collecting, possibly in the order
> that you collected the documents.
> 
You're right. Using document fields during a search wasn't a good idea.
In fact, I would like to avoid using document fields at all. Because, it 
takes too much time. If a search returns 10000 results, I need to 
analyse all of them to get my extra info (nb of artist per type). And 
even if I have only 10 results to display, my search is very slow.
It'll be great to treat my 'type' field the same way as the 'freq' is 
used. I think this will be much faster.
How can I store the content of this field in a lucene file (such as 
<segment>.frq) to use it during my search ??

thx,
Franck



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 16:47:14 2003
Return-Path: 
 <lucene-user-return-4152-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40966 invoked from network); 7 Apr 2003 16:47:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 16:47:14 -0000
Received: (qmail 23377 invoked by uid 97); 7 Apr 2003 16:49:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23370 invoked from network); 7 Apr 2003 16:49:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 16:49:07 -0000
Received: (qmail 39396 invoked by uid 500); 7 Apr 2003 16:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39348 invoked from network); 7 Apr 2003 16:46:55 -0000
Received: from web12708.mail.yahoo.com (216.136.173.245)
  by daedalus.apache.org with SMTP; 7 Apr 2003 16:46:55 -0000
Message-ID: <20030407164655.91737.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Mon, 07 Apr 2003 09:46:55 PDT
Date: Mon, 7 Apr 2003 09:46:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: differential indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <002201c2fcca$30fff7b0$0100a8c1@contatan.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why not just have 'last_indexed_date' that stores the last time you
fetched from DB and indexed the PDF docs.
Then when you want to re-index only those documents that have changed
you use this last_indexed_date in your SELECT: SELECT * FROM your_table
WHERE change_date > last_index_date.
For each docId you get back you then know you have to do a delete & add
in the Lucene index.

Otis





--- Subhrajyoti Moitra <subhrajyotim@contata.co.in> wrote:
> Hi,
> I am trying to append one index to another. How should i do it?
> 
> Let me explain my problem, probably people can suggest some better
> way..
> 
> i have indexed a set of pdf documents. These documents are being
> retrieved from the DB. I have a unique docId associated with each
> document. This is one of the fields in the index entries. I am using
> pdfbox to parse the contents of the pdf document and convert it into
> text for indexing.
> 
> Scenario-I
> Now some one adds a new document to the DB. What i am presently doing
> is that, i retrieve all the documents from the DB,
>  including the new one, and create a fresh index out of these set of
> documents. The problem here is time.
> I have some 10,000 documents in my system, re-indexing every one of
> them again is taking a hell-of-a long time.
> What i want is to "APPEND" the new document index-data to the
> existing index.
> 
> Scenario-II
> When an existing document in the DB is changed i want to remove that
> document from the index (this is easy since i have the unique docId
> with me) and add the new modified index-data to the existing index,
> instead of again recreating the entire index.
> 
> To sum up how do i do differential indexing. (hope i am using the
> proper terminology)
> 
> Some one please suggest some solutions to this.
> 
> Thank you in advance.
> Subhro.


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 18:35:47 2003
Return-Path: 
 <lucene-user-return-4154-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26074 invoked from network); 7 Apr 2003 18:35:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 18:35:47 -0000
Received: (qmail 26375 invoked by uid 97); 7 Apr 2003 18:37:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26368 invoked from network); 7 Apr 2003 18:37:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 18:37:42 -0000
Received: (qmail 25815 invoked by uid 500); 7 Apr 2003 18:35:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25804 invoked from network); 7 Apr 2003 18:35:44 -0000
Received: from sccrmhc01.attbi.com (204.127.202.61)
  by daedalus.apache.org with SMTP; 7 Apr 2003 18:35:44 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by sccrmhc01.attbi.com (sccrmhc01) with SMTP
          id <2003040718354700100dgfdne>; Mon, 7 Apr 2003 18:35:48 +0000
Message-ID: <3E91C50A.7050006@lucene.com>
Date: Mon, 07 Apr 2003 11:35:54 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing Growth
References: <MNEPJJAGGPICDNOCBIKDIEIICIAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDIEIICIAA.routar@ideorlando.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob Outar wrote:
> I took out the optimize() after the write and the index is growing but at
> like a 1kb rate, but now there are tons of 1kb files.  I assume at this
> optimize would fix this?  What is a good rule of thumb for calling
> optimize()?

Optimize should be called when you know you won't be modifying the index 
for a while.  Calling it more frequently primarily just makes indexing 
slower.

 > Will Lucene ever invoke an optimize() on it's own?

Yes.  An index that is never explicitly optimized will periodically be 
in optimal format.  Not very often though.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 21:20:05 2003
Return-Path: 
 <lucene-user-return-4155-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27663 invoked from network); 7 Apr 2003 21:20:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 21:20:05 -0000
Received: (qmail 1686 invoked by uid 97); 7 Apr 2003 21:22:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1679 invoked from network); 7 Apr 2003 21:22:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 21:22:01 -0000
Received: (qmail 25841 invoked by uid 500); 7 Apr 2003 21:19:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25704 invoked from network); 7 Apr 2003 21:19:39 -0000
Received: from zeus.orion.co.nz (HELO mail.orion.co.nz) (202.37.75.101)
  by daedalus.apache.org with SMTP; 7 Apr 2003 21:19:39 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HTMLDocument.java example
Date: Tue, 8 Apr 2003 09:16:49 +1200
Message-ID: <A6748C27A165F747B9B0801783B8F3C490D2C0@mail.orion.internal>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HTMLDocument.java example
Thread-Index: AcL9AWKCND8Dn6CqTe62DKYyzIGmPwASB0Ew
From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, there is.

But as far as I can tell, the intention of the example code is to =
provide a searchable date field. Problem is that the modified date is =
stored in a format that isn't very "human searchable". As I've had no =
replies saying otherwise, I beginning to think there indeed is a flaw in =
the implementation of the sample code here.

Cheers,


Simon

-----Original Message-----
From: Terry Steichen [mailto:terry@net-frame.com]
Sent: Tuesday, 8 April 2003 12:31 a.m.
To: Lucene Users List
Subject: Re: HTMLDocument.java example


Simon,

I believe there's another method in DateField that converts the value =
into a
human readable form.

Regards,

Terry

----- Original Message -----
From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, April 07, 2003 12:41 AM
Subject: HTMLDocument.java example


The example code that ships with Lucene includes the following snippet =
in
HTMLDocument.java:

    // Add the last modified date of the file a field named "modified".  =
Use
a
    // Keyword field, so that it's searchable, but so that no attempt is
made
    // to tokenize the field into words.
    doc.add(Field.Keyword("modified",
  DateField.timeToString(f.lastModified())));

Now, I guess the point of this is so that we can search for HTML =
documents
using Lucene's range search syntax. But as far as I can tell, the result =
of
DateField.timeToString(f.lastModified()) returns a non-human readable =
date
format, hence the modified field will not really be "human searchable"
format. Is this an oversight in the example implementation, or am I just
missing something else here?

Thanks in advance,


Simon

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr  7 17:25:58 2003
Return-Path: 
 <lucene-user-return-4153-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13750 invoked from network); 7 Apr 2003 17:25:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Apr 2003 17:25:58 -0000
Received: (qmail 24203 invoked by uid 97); 7 Apr 2003 17:27:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24196 invoked from network); 7 Apr 2003 17:27:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 Apr 2003 17:27:52 -0000
Received: (qmail 13464 invoked by uid 500); 7 Apr 2003 17:25:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13453 invoked from network); 7 Apr 2003 17:25:54 -0000
Received: from smtpzilla3.xs4all.nl (194.109.127.139)
  by daedalus.apache.org with SMTP; 7 Apr 2003 17:25:54 -0000
Received: from as800 (a80-127-247-53.dial.xs4all.nl [80.127.247.53])
	by smtpzilla3.xs4all.nl (8.12.9/8.12.9) with ESMTP id h37HPuwY006082;
	Mon, 7 Apr 2003 19:25:56 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   Brisbart Franck <Franck.Brisbart@kelkoo.net>
Subject: Re: how to get an extra count
Date: Mon, 7 Apr 2003 19:20:23 -0700
User-Agent: KMail/1.4.3
References: <3E3F75F1.9030504@kelkoo.net>
 <200302041859.h14IxJ3C012106@smtpzilla3.xs4all.nl>
 <3E917635.3080909@kelkoo.net>
In-Reply-To: <3E917635.3080909@kelkoo.net>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200304071920.23173.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Franck,

On Monday 07 April 2003 05:59, Brisbart Franck wrote:
> Ype Kingma wrote:
> > On Tuesday 04 February 2003 09:12, you wrote:

<flashing back>

> >>Hi all,
> >>
> >>I'm trying to gather information about my non-searched (ie not used f=
or
> >>the search) fields.
> >>Let's take an index with 2 fields: 'artist' (for the artist name) an
> >>'type' (for his type of music).
> >>I need to perform a search on the 'artist' field to retrieve a list o=
f
> >>artists matching the query. But I also need to have the number of
> >>artists per 'type'.
> >>My first solution was to write a HitCollector which do the work:
> >>     public void collect(int doc, float score) {
> >>     Document document =3D indexReader_.document(doc);
> >>     if(document.get("type").equals("Rock"))
> >>         nbRock++;
> >>     ...
> >>     }
> >>But, as I first get the document to analyze my non-searched field, th=
e
> >>treatment can be very long for searches with lots of results.
> >>
> >>Is there any better(=3Dfaster) method to have this extra info ??
> >
> > It's best not to retrieve document fields during search.
> > You can do this after collecting, possibly in the order
> > that you collected the documents.
>
> You're right. Using document fields during a search wasn't a good idea.
> In fact, I would like to avoid using document fields at all. Because, i=
t
> takes too much time. If a search returns 10000 results, I need to
> analyse all of them to get my extra info (nb of artist per type). And
> even if I have only 10 results to display, my search is very slow.
> It'll be great to treat my 'type' field the same way as the 'freq' is
> used. I think this will be much faster.
> How can I store the content of this field in a lucene file (such as
> <segment>.frq) to use it during my search ??

Couldn't you extend your query with

 +type:rock

and use the high level search API and ask for the size of the results?
You can do that when you index the 'type' field.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 04:36:23 2003
Return-Path: 
 <lucene-user-return-4156-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2217 invoked from network); 8 Apr 2003 04:36:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 04:36:23 -0000
Received: (qmail 6931 invoked by uid 97); 8 Apr 2003 04:38:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6916 invoked from network); 8 Apr 2003 04:38:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 04:38:11 -0000
Received: (qmail 76895 invoked by uid 500); 8 Apr 2003 04:24:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65092 invoked from network); 8 Apr 2003 04:08:09 -0000
Received: from unknown (HELO hostorg.contata.co.in) (203.196.139.82)
  by daedalus.apache.org with SMTP; 8 Apr 2003 04:08:09 -0000
Received: from developer (developer.contata.co.in [193.168.0.1])
	by hostorg.contata.co.in (8.12.5/8.12.5) with SMTP id h3849rb9002390
	for <lucene-user@jakarta.apache.org>; Tue, 8 Apr 2003 09:40:00 +0530
Message-ID: <001301c2fd84$7572bf80$0100a8c1@contatan.com>
From: "Subhrajyoti Moitra" <subhrajyotim@contata.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030407164655.91737.qmail@web12708.mail.yahoo.com>
Subject: Re: differential indexing
Date: Tue, 8 Apr 2003 09:38:02 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

thanks a lot Otis and Michael..

Otis i am doing what you had suggested below .. it seemes to solve my
problem..
i compare the dates at the application level rather than at the DB level..
since some pre-processing is being done.
now its working great.. thanks.. a lot..
subhro.

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, April 07, 2003 10:16 PM
Subject: Re: differential indexing


> Why not just have 'last_indexed_date' that stores the last time you
> fetched from DB and indexed the PDF docs.
> Then when you want to re-index only those documents that have changed
> you use this last_indexed_date in your SELECT: SELECT * FROM your_table
> WHERE change_date > last_index_date.
> For each docId you get back you then know you have to do a delete & add
> in the Lucene index.
>
> Otis
>
>
>
>
>
> --- Subhrajyoti Moitra <subhrajyotim@contata.co.in> wrote:
> > Hi,
> > I am trying to append one index to another. How should i do it?
> >
> > Let me explain my problem, probably people can suggest some better
> > way..
> >
> > i have indexed a set of pdf documents. These documents are being
> > retrieved from the DB. I have a unique docId associated with each
> > document. This is one of the fields in the index entries. I am using
> > pdfbox to parse the contents of the pdf document and convert it into
> > text for indexing.
> >
> > Scenario-I
> > Now some one adds a new document to the DB. What i am presently doing
> > is that, i retrieve all the documents from the DB,
> >  including the new one, and create a fresh index out of these set of
> > documents. The problem here is time.
> > I have some 10,000 documents in my system, re-indexing every one of
> > them again is taking a hell-of-a long time.
> > What i want is to "APPEND" the new document index-data to the
> > existing index.
> >
> > Scenario-II
> > When an existing document in the DB is changed i want to remove that
> > document from the index (this is easy since i have the unique docId
> > with me) and add the new modified index-data to the existing index,
> > instead of again recreating the entire index.
> >
> > To sum up how do i do differential indexing. (hope i am using the
> > proper terminology)
> >
> > Some one please suggest some solutions to this.
> >
> > Thank you in advance.
> > Subhro.
>
>
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://tax.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 05:19:28 2003
Return-Path: 
 <lucene-user-return-4157-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46976 invoked from network); 8 Apr 2003 05:19:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 05:19:28 -0000
Received: (qmail 8236 invoked by uid 97); 8 Apr 2003 05:21:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8229 invoked from network); 8 Apr 2003 05:21:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 05:21:30 -0000
Received: (qmail 92662 invoked by uid 500); 8 Apr 2003 05:04:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92527 invoked from network); 8 Apr 2003 05:04:00 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 8 Apr 2003 05:04:00 -0000
Message-ID: <20030408050406.22763.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Mon, 07 Apr 2003 22:04:06 PDT
Date: Mon, 7 Apr 2003 22:04:06 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: HTMLDocument.java example
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <A6748C27A165F747B9B0801783B8F3C490D2C0@mail.orion.internal>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I didn't really read all this carefully, but yes, you can use dates in
range queries with Lucene's QueryParser.  Query sytax page has the
details and should show the format of the date that a user would have
to enter in order for the QueryParser to correctly handle dates.
I guess you could always try to handle users' date input yourself in
your application and convert it to the format that QueryParser will
understand.

Otis


--- Simon Lieschke <simon.lieschke@orionhealth.com> wrote:
> Yes, there is.
> 
> But as far as I can tell, the intention of the example code is to
> provide a searchable date field. Problem is that the modified date is
> stored in a format that isn't very "human searchable". As I've had no
> replies saying otherwise, I beginning to think there indeed is a flaw
> in the implementation of the sample code here.
> 
> Cheers,
> 
> 
> Simon
> 
> -----Original Message-----
> From: Terry Steichen [mailto:terry@net-frame.com]
> Sent: Tuesday, 8 April 2003 12:31 a.m.
> To: Lucene Users List
> Subject: Re: HTMLDocument.java example
> 
> 
> Simon,
> 
> I believe there's another method in DateField that converts the value
> into a
> human readable form.
> 
> Regards,
> 
> Terry
> 
> ----- Original Message -----
> From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Monday, April 07, 2003 12:41 AM
> Subject: HTMLDocument.java example
> 
> 
> The example code that ships with Lucene includes the following
> snippet in
> HTMLDocument.java:
> 
>     // Add the last modified date of the file a field named
> "modified".  Use
> a
>     // Keyword field, so that it's searchable, but so that no attempt
> is
> made
>     // to tokenize the field into words.
>     doc.add(Field.Keyword("modified",
>   DateField.timeToString(f.lastModified())));
> 
> Now, I guess the point of this is so that we can search for HTML
> documents
> using Lucene's range search syntax. But as far as I can tell, the
> result of
> DateField.timeToString(f.lastModified()) returns a non-human readable
> date
> format, hence the modified field will not really be "human
> searchable"
> format. Is this an oversight in the example implementation, or am I
> just
> missing something else here?
> 
> Thanks in advance,
> 
> 
> Simon
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 06:04:49 2003
Return-Path: 
 <lucene-user-return-4158-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87198 invoked from network); 8 Apr 2003 06:04:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 06:04:49 -0000
Received: (qmail 9061 invoked by uid 97); 8 Apr 2003 06:06:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9054 invoked from network); 8 Apr 2003 06:06:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 06:06:51 -0000
Received: (qmail 86925 invoked by uid 500); 8 Apr 2003 06:04:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86884 invoked from network); 8 Apr 2003 06:04:45 -0000
Received: from zeus.orion.co.nz (HELO mail.orion.co.nz) (202.37.75.101)
  by daedalus.apache.org with SMTP; 8 Apr 2003 06:04:45 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HTMLDocument.java example
Date: Tue, 8 Apr 2003 18:01:57 +1200
Message-ID: <A6748C27A165F747B9B0801783B8F3C490D2D7@mail.orion.internal>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HTMLDocument.java example
Thread-Index: AcL9jh2cV4BaYU9ARBynHIuzCQqgfwAAJ/zg
From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Uh-huh!

Reading the QueryParser source code (which I probably should have done =
first) reveals it will first attempt to treat a range query as two =
dates, attempt to parse them and convert them to string form using the =
DateField.dateToString method (which is how the dates are stored in the =
index). Perhaps the comment HTMLDocument.java code snippet needs to be a =
bit more explicit as to why the dates get stored in the format they do, =
so people like me don't get somewhat confused.

Looking at the code also reveals there is currently no way to specify =
wildcards for dates (like if I want to search all docs before a certain =
date, or all docs after a certain date).

Cheers,


Simon

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, 8 April 2003 5:04 p.m.
To: Lucene Users List
Subject: RE: HTMLDocument.java example


I didn't really read all this carefully, but yes, you can use dates in
range queries with Lucene's QueryParser.  Query sytax page has the
details and should show the format of the date that a user would have
to enter in order for the QueryParser to correctly handle dates.
I guess you could always try to handle users' date input yourself in
your application and convert it to the format that QueryParser will
understand.

Otis


--- Simon Lieschke <simon.lieschke@orionhealth.com> wrote:
> Yes, there is.
>=20
> But as far as I can tell, the intention of the example code is to
> provide a searchable date field. Problem is that the modified date is
> stored in a format that isn't very "human searchable". As I've had no
> replies saying otherwise, I beginning to think there indeed is a flaw
> in the implementation of the sample code here.
>=20
> Cheers,
>=20
>=20
> Simon
>=20
> -----Original Message-----
> From: Terry Steichen [mailto:terry@net-frame.com]
> Sent: Tuesday, 8 April 2003 12:31 a.m.
> To: Lucene Users List
> Subject: Re: HTMLDocument.java example
>=20
>=20
> Simon,
>=20
> I believe there's another method in DateField that converts the value
> into a
> human readable form.
>=20
> Regards,
>=20
> Terry
>=20
> ----- Original Message -----
> From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Monday, April 07, 2003 12:41 AM
> Subject: HTMLDocument.java example
>=20
>=20
> The example code that ships with Lucene includes the following
> snippet in
> HTMLDocument.java:
>=20
>     // Add the last modified date of the file a field named
> "modified".  Use
> a
>     // Keyword field, so that it's searchable, but so that no attempt
> is
> made
>     // to tokenize the field into words.
>     doc.add(Field.Keyword("modified",
>   DateField.timeToString(f.lastModified())));
>=20
> Now, I guess the point of this is so that we can search for HTML
> documents
> using Lucene's range search syntax. But as far as I can tell, the
> result of
> DateField.timeToString(f.lastModified()) returns a non-human readable
> date
> format, hence the modified field will not really be "human
> searchable"
> format. Is this an oversight in the example implementation, or am I
> just
> missing something else here?
>=20
> Thanks in advance,
>=20
>=20
> Simon
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 08:18:30 2003
Return-Path: 
 <lucene-user-return-4159-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21654 invoked from network); 8 Apr 2003 08:18:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 08:18:30 -0000
Received: (qmail 11901 invoked by uid 97); 8 Apr 2003 08:20:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11894 invoked from network); 8 Apr 2003 08:20:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 08:20:33 -0000
Received: (qmail 21391 invoked by uid 500); 8 Apr 2003 08:18:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21377 invoked from network); 8 Apr 2003 08:18:26 -0000
Received: from dennis.enea.se (192.36.1.67)
  by daedalus.apache.org with SMTP; 8 Apr 2003 08:18:26 -0000
Received: from freja.enea.se
	by dennis.enea.se (8.9.3/8.9.3) with ESMTP id KAA01017
	for <lucene-user@jakarta.apache.org>;
 Tue, 8 Apr 2003 10:18:57 +0200 (MET DST)
Received: from deathstar ([193.12.194.46])
	by freja.enea.se (Switch-2.0.1/Switch-2.0.1) with ESMTP id h388IsP10867
	for <lucene-user@jakarta.apache.org>;
 Tue, 8 Apr 2003 10:18:55 +0200 (MET DST)
From: =?iso-8859-1?Q?Per_B=F6ckman?= <pebo@enea.se>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: HTMLDocument.java example
Date: Tue, 8 Apr 2003 10:18:36 +0200
Organization: Enea Realtime AB
Message-ID: <000001c2fda7$742d3240$2ec20cc1@enea.se>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <A6748C27A165F747B9B0801783B8F3C490D2D7@mail.orion.internal>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I guess that you could apply a filter when you search. This way you could
filter Documents based on dates that are "between", "after" or "before":

// filter out Documents that are "modified, published, ..." after the
current date
DateFilter filter = DateFilter.Before(YOUR_DATE_FIELD, new Date());
Searcher searcher = ...
Query query = ....
Hits hits = searcher.search(query, filter);

Regards,
Per


> -----Original Message-----
> From: Simon Lieschke [mailto:simon.lieschke@orionhealth.com] 
> Sent: den 8 april 2003 08:02
> To: Lucene Users List
> Subject: RE: HTMLDocument.java example
> 
> 
> Uh-huh!
> 
> Reading the QueryParser source code (which I probably should 
> have done first) reveals it will first attempt to treat a 
> range query as two dates, attempt to parse them and convert 
> them to string form using the DateField.dateToString method 
> (which is how the dates are stored in the index). Perhaps the 
> comment HTMLDocument.java code snippet needs to be a bit more 
> explicit as to why the dates get stored in the format they 
> do, so people like me don't get somewhat confused.
> 
> Looking at the code also reveals there is currently no way to 
> specify wildcards for dates (like if I want to search all 
> docs before a certain date, or all docs after a certain date).
> 
> Cheers,
> 
> 
> Simon
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, 8 April 2003 5:04 p.m.
> To: Lucene Users List
> Subject: RE: HTMLDocument.java example
> 
> 
> I didn't really read all this carefully, but yes, you can use 
> dates in range queries with Lucene's QueryParser.  Query 
> sytax page has the details and should show the format of the 
> date that a user would have to enter in order for the 
> QueryParser to correctly handle dates. I guess you could 
> always try to handle users' date input yourself in your 
> application and convert it to the format that QueryParser 
> will understand.
> 
> Otis
> 
> 
> --- Simon Lieschke <simon.lieschke@orionhealth.com> wrote:
> > Yes, there is.
> > 
> > But as far as I can tell, the intention of the example code is to 
> > provide a searchable date field. Problem is that the 
> modified date is 
> > stored in a format that isn't very "human searchable". As 
> I've had no 
> > replies saying otherwise, I beginning to think there indeed 
> is a flaw 
> > in the implementation of the sample code here.
> > 
> > Cheers,
> > 
> > 
> > Simon
> > 
> > -----Original Message-----
> > From: Terry Steichen [mailto:terry@net-frame.com]
> > Sent: Tuesday, 8 April 2003 12:31 a.m.
> > To: Lucene Users List
> > Subject: Re: HTMLDocument.java example
> > 
> > 
> > Simon,
> > 
> > I believe there's another method in DateField that converts 
> the value 
> > into a human readable form.
> > 
> > Regards,
> > 
> > Terry
> > 
> > ----- Original Message -----
> > From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Monday, April 07, 2003 12:41 AM
> > Subject: HTMLDocument.java example
> > 
> > 
> > The example code that ships with Lucene includes the 
> following snippet 
> > in
> > HTMLDocument.java:
> > 
> >     // Add the last modified date of the file a field named 
> > "modified".  Use a
> >     // Keyword field, so that it's searchable, but so that 
> no attempt
> > is
> > made
> >     // to tokenize the field into words.
> >     doc.add(Field.Keyword("modified",
> >   DateField.timeToString(f.lastModified())));
> > 
> > Now, I guess the point of this is so that we can search for HTML 
> > documents using Lucene's range search syntax. But as far as I can 
> > tell, the result of
> > DateField.timeToString(f.lastModified()) returns a 
> non-human readable
> > date
> > format, hence the modified field will not really be "human
> > searchable"
> > format. Is this an oversight in the example implementation, or am I
> > just
> > missing something else here?
> > 
> > Thanks in advance,
> > 
> > 
> > Simon
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more 
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 08:42:33 2003
Return-Path: 
 <lucene-user-return-4160-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45535 invoked from network); 8 Apr 2003 08:42:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 08:42:33 -0000
Received: (qmail 12324 invoked by uid 97); 8 Apr 2003 08:44:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12317 invoked from network); 8 Apr 2003 08:44:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 08:44:36 -0000
Received: (qmail 45272 invoked by uid 500); 8 Apr 2003 08:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45261 invoked from network); 8 Apr 2003 08:42:29 -0000
Received: from mail.uunet.kelkoo.net (HELO mail.kelkoo.net) (194.98.147.102)
  by daedalus.apache.org with SMTP; 8 Apr 2003 08:42:29 -0000
Received: from kelkoo.net
 (IDENT:KT//I3edpjQeLRN7TSdApCyze3Y0f62D@alix.kelkoo-gre.net [192.168.1.9])
	(authenticated bits=0)
	by mail.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id h388gfKV011487
	for <lucene-user@jakarta.apache.org>; Tue, 8 Apr 2003 10:42:41 +0200
Message-ID: <3E928B83.1030808@kelkoo.net>
Date: Tue, 08 Apr 2003 10:42:43 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: French/France, fr-FR, French, f
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: how to get an extra count
References: <3E3F75F1.9030504@kelkoo.net>
 <200302041859.h14IxJ3C012106@smtpzilla3.xs4all.nl>
 <3E917635.3080909@kelkoo.net> <200304071920.23173.ykingma@xs4all.nl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used without encryption ! STARTTLS has NOT been
 called !
X-RBL-Status: SMTP Relay 192.168.1.9 is friendly,
 and thus accepted without further checking.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.9 is known
 and friendly.]
X-Scanned-By: MIMEDefang 2.31 (www . roaringpenguin . com / mimedefang)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ype Kingma wrote:
> Franck,
> 
> On Monday 07 April 2003 05:59, Brisbart Franck wrote:
> 
>>Ype Kingma wrote:
>>
>>>On Tuesday 04 February 2003 09:12, you wrote:
>>
> 
> <flashing back>
> 
>>>>Hi all,
>>>>
>>>>I'm trying to gather information about my non-searched (ie not used for
>>>>the search) fields.
>>>>Let's take an index with 2 fields: 'artist' (for the artist name) an
>>>>'type' (for his type of music).
>>>>I need to perform a search on the 'artist' field to retrieve a list of
>>>>artists matching the query. But I also need to have the number of
>>>>artists per 'type'.
>>>>My first solution was to write a HitCollector which do the work:
>>>>    public void collect(int doc, float score) {
>>>>    Document document = indexReader_.document(doc);
>>>>    if(document.get("type").equals("Rock"))
>>>>        nbRock++;
>>>>    ...
>>>>    }
>>>>But, as I first get the document to analyze my non-searched field, the
>>>>treatment can be very long for searches with lots of results.
>>>>
>>>>Is there any better(=faster) method to have this extra info ??
>>>
>>>It's best not to retrieve document fields during search.
>>>You can do this after collecting, possibly in the order
>>>that you collected the documents.
>>
>>You're right. Using document fields during a search wasn't a good idea.
>>In fact, I would like to avoid using document fields at all. Because, it
>>takes too much time. If a search returns 10000 results, I need to
>>analyse all of them to get my extra info (nb of artist per type). And
>>even if I have only 10 results to display, my search is very slow.
>>It'll be great to treat my 'type' field the same way as the 'freq' is
>>used. I think this will be much faster.
>>How can I store the content of this field in a lucene file (such as
>><segment>.frq) to use it during my search ??
> 
> 
> Couldn't you extend your query with
> 
>  +type:rock
> 
> and use the high level search API and ask for the size of the results?
> You can do that when you index the 'type' field.
> 
If I do that, I should run 1 query for each 'type'. And, as I have 
something like 2000 types, I don't think it is better to have 2000 fast 
requests than 1 big request.
I could do 1 query for each type found by the first query. But it only 
shifts the problem, because I should first retrieve all these types, and 
to do that I have to analyse all my results.
My real problem is to find the best way to use extra data (not search 
fields) to compute some meta data on a given query.

Franck


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 13:28:20 2003
Return-Path: 
 <lucene-user-return-4161-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35095 invoked from network); 8 Apr 2003 13:28:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 13:28:20 -0000
Received: (qmail 19726 invoked by uid 97); 8 Apr 2003 13:30:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19719 invoked from network); 8 Apr 2003 13:30:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 13:30:11 -0000
Received: (qmail 29276 invoked by uid 500); 8 Apr 2003 13:26:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29221 invoked from network); 8 Apr 2003 13:26:21 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com)
 (216.74.150.80)
  by daedalus.apache.org with SMTP; 8 Apr 2003 13:26:21 -0000
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C2FDD3.12B543D2"
Subject: RE: HTMLDocument.java example
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
Date: Tue, 8 Apr 2003 09:30:51 -0400
Message-ID: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B77B@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B77B@germany.prod.thop-ny.triplehop.com>
Thread-Topic: HTMLDocument.java example
Thread-Index: AcL9qB7crRQ+KQmlTpqTVfu6zW6P2QAKs58D
From: "Hui Ouyang" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C2FDD3.12B543D2
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SGksDQpEbyB5b3Uga25vdyB3aGljaCBvbmUgaXMgZmFzdGVyPyBUaGUgZGF0ZSBmaWx0ZXIgb3Ig
ZGF0YSByYW5nZSBxdWVyeT8NClJlZ2FyZHMsDQpIdWkNCg0KCS0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tIA0KCUZyb206IFBlciBCw7Zja21hbiBbbWFpbHRvOnBlYm9AZW5lYS5zZV0gDQoJU2Vu
dDogVHVlIDQvOC8yMDAzIDQ6MTggQU0gDQoJVG86ICdMdWNlbmUgVXNlcnMgTGlzdCcgDQoJQ2M6
IA0KCVN1YmplY3Q6IFJFOiBIVE1MRG9jdW1lbnQuamF2YSBleGFtcGxlDQoJDQoJDQoNCglIaSwN
CgkNCglJIGd1ZXNzIHRoYXQgeW91IGNvdWxkIGFwcGx5IGEgZmlsdGVyIHdoZW4geW91IHNlYXJj
aC4gVGhpcyB3YXkgeW91IGNvdWxkDQoJZmlsdGVyIERvY3VtZW50cyBiYXNlZCBvbiBkYXRlcyB0
aGF0IGFyZSAiYmV0d2VlbiIsICJhZnRlciIgb3IgImJlZm9yZSI6DQoJDQoJLy8gZmlsdGVyIG91
dCBEb2N1bWVudHMgdGhhdCBhcmUgIm1vZGlmaWVkLCBwdWJsaXNoZWQsIC4uLiIgYWZ0ZXIgdGhl
DQoJY3VycmVudCBkYXRlDQoJRGF0ZUZpbHRlciBmaWx0ZXIgPSBEYXRlRmlsdGVyLkJlZm9yZShZ
T1VSX0RBVEVfRklFTEQsIG5ldyBEYXRlKCkpOw0KCVNlYXJjaGVyIHNlYXJjaGVyID0gLi4uDQoJ
UXVlcnkgcXVlcnkgPSAuLi4uDQoJSGl0cyBoaXRzID0gc2VhcmNoZXIuc2VhcmNoKHF1ZXJ5LCBm
aWx0ZXIpOw0KCQ0KCVJlZ2FyZHMsDQoJUGVyDQoJDQoJDQoJPiAtLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KCT4gRnJvbTogU2ltb24gTGllc2Noa2UgW21haWx0bzpzaW1vbi5saWVzY2hrZUBv
cmlvbmhlYWx0aC5jb21dDQoJPiBTZW50OiBkZW4gOCBhcHJpbCAyMDAzIDA4OjAyDQoJPiBUbzog
THVjZW5lIFVzZXJzIExpc3QNCgk+IFN1YmplY3Q6IFJFOiBIVE1MRG9jdW1lbnQuamF2YSBleGFt
cGxlDQoJPg0KCT4NCgk+IFVoLWh1aCENCgk+DQoJPiBSZWFkaW5nIHRoZSBRdWVyeVBhcnNlciBz
b3VyY2UgY29kZSAod2hpY2ggSSBwcm9iYWJseSBzaG91bGQNCgk+IGhhdmUgZG9uZSBmaXJzdCkg
cmV2ZWFscyBpdCB3aWxsIGZpcnN0IGF0dGVtcHQgdG8gdHJlYXQgYQ0KCT4gcmFuZ2UgcXVlcnkg
YXMgdHdvIGRhdGVzLCBhdHRlbXB0IHRvIHBhcnNlIHRoZW0gYW5kIGNvbnZlcnQNCgk+IHRoZW0g
dG8gc3RyaW5nIGZvcm0gdXNpbmcgdGhlIERhdGVGaWVsZC5kYXRlVG9TdHJpbmcgbWV0aG9kDQoJ
PiAod2hpY2ggaXMgaG93IHRoZSBkYXRlcyBhcmUgc3RvcmVkIGluIHRoZSBpbmRleCkuIFBlcmhh
cHMgdGhlDQoJPiBjb21tZW50IEhUTUxEb2N1bWVudC5qYXZhIGNvZGUgc25pcHBldCBuZWVkcyB0
byBiZSBhIGJpdCBtb3JlDQoJPiBleHBsaWNpdCBhcyB0byB3aHkgdGhlIGRhdGVzIGdldCBzdG9y
ZWQgaW4gdGhlIGZvcm1hdCB0aGV5DQoJPiBkbywgc28gcGVvcGxlIGxpa2UgbWUgZG9uJ3QgZ2V0
IHNvbWV3aGF0IGNvbmZ1c2VkLg0KCT4NCgk+IExvb2tpbmcgYXQgdGhlIGNvZGUgYWxzbyByZXZl
YWxzIHRoZXJlIGlzIGN1cnJlbnRseSBubyB3YXkgdG8NCgk+IHNwZWNpZnkgd2lsZGNhcmRzIGZv
ciBkYXRlcyAobGlrZSBpZiBJIHdhbnQgdG8gc2VhcmNoIGFsbA0KCT4gZG9jcyBiZWZvcmUgYSBj
ZXJ0YWluIGRhdGUsIG9yIGFsbCBkb2NzIGFmdGVyIGEgY2VydGFpbiBkYXRlKS4NCgk+DQoJPiBD
aGVlcnMsDQoJPg0KCT4NCgk+IFNpbW9uDQoJPg0KCT4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0t
LS0NCgk+IEZyb206IE90aXMgR29zcG9kbmV0aWMgW21haWx0bzpvdGlzX2dvc3BvZG5ldGljQHlh
aG9vLmNvbV0NCgk+IFNlbnQ6IFR1ZXNkYXksIDggQXByaWwgMjAwMyA1OjA0IHAubS4NCgk+IFRv
OiBMdWNlbmUgVXNlcnMgTGlzdA0KCT4gU3ViamVjdDogUkU6IEhUTUxEb2N1bWVudC5qYXZhIGV4
YW1wbGUNCgk+DQoJPg0KCT4gSSBkaWRuJ3QgcmVhbGx5IHJlYWQgYWxsIHRoaXMgY2FyZWZ1bGx5
LCBidXQgeWVzLCB5b3UgY2FuIHVzZQ0KCT4gZGF0ZXMgaW4gcmFuZ2UgcXVlcmllcyB3aXRoIEx1
Y2VuZSdzIFF1ZXJ5UGFyc2VyLiAgUXVlcnkNCgk+IHN5dGF4IHBhZ2UgaGFzIHRoZSBkZXRhaWxz
IGFuZCBzaG91bGQgc2hvdyB0aGUgZm9ybWF0IG9mIHRoZQ0KCT4gZGF0ZSB0aGF0IGEgdXNlciB3
b3VsZCBoYXZlIHRvIGVudGVyIGluIG9yZGVyIGZvciB0aGUNCgk+IFF1ZXJ5UGFyc2VyIHRvIGNv
cnJlY3RseSBoYW5kbGUgZGF0ZXMuIEkgZ3Vlc3MgeW91IGNvdWxkDQoJPiBhbHdheXMgdHJ5IHRv
IGhhbmRsZSB1c2VycycgZGF0ZSBpbnB1dCB5b3Vyc2VsZiBpbiB5b3VyDQoJPiBhcHBsaWNhdGlv
biBhbmQgY29udmVydCBpdCB0byB0aGUgZm9ybWF0IHRoYXQgUXVlcnlQYXJzZXINCgk+IHdpbGwg
dW5kZXJzdGFuZC4NCgk+DQoJPiBPdGlzDQoJPg0KCT4NCgk+IC0tLSBTaW1vbiBMaWVzY2hrZSA8
c2ltb24ubGllc2Noa2VAb3Jpb25oZWFsdGguY29tPiB3cm90ZToNCgk+ID4gWWVzLCB0aGVyZSBp
cy4NCgk+ID4NCgk+ID4gQnV0IGFzIGZhciBhcyBJIGNhbiB0ZWxsLCB0aGUgaW50ZW50aW9uIG9m
IHRoZSBleGFtcGxlIGNvZGUgaXMgdG8NCgk+ID4gcHJvdmlkZSBhIHNlYXJjaGFibGUgZGF0ZSBm
aWVsZC4gUHJvYmxlbSBpcyB0aGF0IHRoZQ0KCT4gbW9kaWZpZWQgZGF0ZSBpcw0KCT4gPiBzdG9y
ZWQgaW4gYSBmb3JtYXQgdGhhdCBpc24ndCB2ZXJ5ICJodW1hbiBzZWFyY2hhYmxlIi4gQXMNCgk+
IEkndmUgaGFkIG5vDQoJPiA+IHJlcGxpZXMgc2F5aW5nIG90aGVyd2lzZSwgSSBiZWdpbm5pbmcg
dG8gdGhpbmsgdGhlcmUgaW5kZWVkDQoJPiBpcyBhIGZsYXcNCgk+ID4gaW4gdGhlIGltcGxlbWVu
dGF0aW9uIG9mIHRoZSBzYW1wbGUgY29kZSBoZXJlLg0KCT4gPg0KCT4gPiBDaGVlcnMsDQoJPiA+
DQoJPiA+DQoJPiA+IFNpbW9uDQoJPiA+DQoJPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t
DQoJPiA+IEZyb206IFRlcnJ5IFN0ZWljaGVuIFttYWlsdG86dGVycnlAbmV0LWZyYW1lLmNvbV0N
Cgk+ID4gU2VudDogVHVlc2RheSwgOCBBcHJpbCAyMDAzIDEyOjMxIGEubS4NCgk+ID4gVG86IEx1
Y2VuZSBVc2VycyBMaXN0DQoJPiA+IFN1YmplY3Q6IFJlOiBIVE1MRG9jdW1lbnQuamF2YSBleGFt
cGxlDQoJPiA+DQoJPiA+DQoJPiA+IFNpbW9uLA0KCT4gPg0KCT4gPiBJIGJlbGlldmUgdGhlcmUn
cyBhbm90aGVyIG1ldGhvZCBpbiBEYXRlRmllbGQgdGhhdCBjb252ZXJ0cw0KCT4gdGhlIHZhbHVl
DQoJPiA+IGludG8gYSBodW1hbiByZWFkYWJsZSBmb3JtLg0KCT4gPg0KCT4gPiBSZWdhcmRzLA0K
CT4gPg0KCT4gPiBUZXJyeQ0KCT4gPg0KCT4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0t
DQoJPiA+IEZyb206ICJTaW1vbiBMaWVzY2hrZSIgPHNpbW9uLmxpZXNjaGtlQG9yaW9uaGVhbHRo
LmNvbT4NCgk+ID4gVG86IDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQoJPiA+IFNl
bnQ6IE1vbmRheSwgQXByaWwgMDcsIDIwMDMgMTI6NDEgQU0NCgk+ID4gU3ViamVjdDogSFRNTERv
Y3VtZW50LmphdmEgZXhhbXBsZQ0KCT4gPg0KCT4gPg0KCT4gPiBUaGUgZXhhbXBsZSBjb2RlIHRo
YXQgc2hpcHMgd2l0aCBMdWNlbmUgaW5jbHVkZXMgdGhlDQoJPiBmb2xsb3dpbmcgc25pcHBldA0K
CT4gPiBpbg0KCT4gPiBIVE1MRG9jdW1lbnQuamF2YToNCgk+ID4NCgk+ID4gICAgIC8vIEFkZCB0
aGUgbGFzdCBtb2RpZmllZCBkYXRlIG9mIHRoZSBmaWxlIGEgZmllbGQgbmFtZWQNCgk+ID4gIm1v
ZGlmaWVkIi4gIFVzZSBhDQoJPiA+ICAgICAvLyBLZXl3b3JkIGZpZWxkLCBzbyB0aGF0IGl0J3Mg
c2VhcmNoYWJsZSwgYnV0IHNvIHRoYXQNCgk+IG5vIGF0dGVtcHQNCgk+ID4gaXMNCgk+ID4gbWFk
ZQ0KCT4gPiAgICAgLy8gdG8gdG9rZW5pemUgdGhlIGZpZWxkIGludG8gd29yZHMuDQoJPiA+ICAg
ICBkb2MuYWRkKEZpZWxkLktleXdvcmQoIm1vZGlmaWVkIiwNCgk+ID4gICBEYXRlRmllbGQudGlt
ZVRvU3RyaW5nKGYubGFzdE1vZGlmaWVkKCkpKSk7DQoJPiA+DQoJPiA+IE5vdywgSSBndWVzcyB0
aGUgcG9pbnQgb2YgdGhpcyBpcyBzbyB0aGF0IHdlIGNhbiBzZWFyY2ggZm9yIEhUTUwNCgk+ID4g
ZG9jdW1lbnRzIHVzaW5nIEx1Y2VuZSdzIHJhbmdlIHNlYXJjaCBzeW50YXguIEJ1dCBhcyBmYXIg
YXMgSSBjYW4NCgk+ID4gdGVsbCwgdGhlIHJlc3VsdCBvZg0KCT4gPiBEYXRlRmllbGQudGltZVRv
U3RyaW5nKGYubGFzdE1vZGlmaWVkKCkpIHJldHVybnMgYQ0KCT4gbm9uLWh1bWFuIHJlYWRhYmxl
DQoJPiA+IGRhdGUNCgk+ID4gZm9ybWF0LCBoZW5jZSB0aGUgbW9kaWZpZWQgZmllbGQgd2lsbCBu
b3QgcmVhbGx5IGJlICJodW1hbg0KCT4gPiBzZWFyY2hhYmxlIg0KCT4gPiBmb3JtYXQuIElzIHRo
aXMgYW4gb3ZlcnNpZ2h0IGluIHRoZSBleGFtcGxlIGltcGxlbWVudGF0aW9uLCBvciBhbSBJDQoJ
PiA+IGp1c3QNCgk+ID4gbWlzc2luZyBzb21ldGhpbmcgZWxzZSBoZXJlPw0KCT4gPg0KCT4gPiBU
aGFua3MgaW4gYWR2YW5jZSwNCgk+ID4NCgk+ID4NCgk+ID4gU2ltb24NCgk+ID4NCgk+ID4NCgk+
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQ0KCT4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11
bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCgk+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFu
ZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCgk+ID4NCgk+
ID4NCgk+ID4NCgk+ID4NCgk+ID4NCgk+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCT4gPiBUbyB1bnN1YnNjcmli
ZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCgk+
ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWth
cnRhLmFwYWNoZS5vcmcNCgk+ID4NCgk+ID4NCgk+ID4NCgk+IC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCT4gPiBU
byB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFw
YWNoZS5vcmcNCgk+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVz
ZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCgk+ID4NCgk+DQoJPg0KCT4gX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCgk+IERvIHlvdSBZYWhvbyE/
DQoJPiBZYWhvbyEgVGF4IENlbnRlciAtIEZpbGUgb25saW5lLCBjYWxjdWxhdG9ycywgZm9ybXMs
IGFuZCBtb3JlDQoJaHR0cDovL3RheC55YWhvby5jb20NCgkNCgktLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCglUbyB1
bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNo
ZS5vcmcNCglGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxw
QGpha2FydGEuYXBhY2hlLm9yZw0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJl
LCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5h
cGFjaGUub3JnDQoJDQoJDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDog
bHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcN
CgkNCgkNCg0K


------_=_NextPart_001_01C2FDD3.12B543D2
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C2FDD3.12B543D2--

From MAILER-DAEMON Tue Apr  8 15:00:36 2003
Return-Path: 
 <lucene-user-return-4162-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95053 invoked from network); 8 Apr 2003 15:00:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 15:00:36 -0000
Received: (qmail 23444 invoked by uid 97); 8 Apr 2003 15:02:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23437 invoked from network); 8 Apr 2003 15:02:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 15:02:27 -0000
Received: (qmail 94524 invoked by uid 500); 8 Apr 2003 15:00:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94454 invoked from network); 8 Apr 2003 15:00:25 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 8 Apr 2003 15:00:25 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP;
 Tue, 8 Apr 2003 07:59:10 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <2NCXPDQ7>; Tue, 8 Apr 2003 08:00:26 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A96529@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: Highlighting the string in the spreadsheet!!!!
Date: Tue, 8 Apr 2003 08:00:04 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,
After I have the link to open an excel file I would like to highlight the
string that I search, but directly of my jsp page where the link is
displayed. Is possible to do this, how? I will appreciate ideas.
Michel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 16:08:55 2003
Return-Path: 
 <lucene-user-return-4163-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73071 invoked from network); 8 Apr 2003 16:08:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 16:08:55 -0000
Received: (qmail 26164 invoked by uid 97); 8 Apr 2003 16:10:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26156 invoked from network); 8 Apr 2003 16:10:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 16:10:49 -0000
Received: (qmail 72708 invoked by uid 500); 8 Apr 2003 16:08:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72504 invoked from network); 8 Apr 2003 16:08:48 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 8 Apr 2003 16:08:48 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h38G8kj7027292
 for <lucene-user@jakarta.apache.org>; Tue, 8 Apr 2003 21:38:48 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <22HJ0LXB>; Tue, 8 Apr 2003 21:38:46 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AAF@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "Lucene-User (E-mail)" <lucene-user@jakarta.apache.org>
Subject: searching woes
Date: Tue, 8 Apr 2003 21:38:45 +0530 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have written a search engine for our intranet. I'm storing the file path
as a KEYWORD field.

While searching if I want to restrict my search results to a particular file
path I'd use a query like path:/proj/cadessa/*. However if the file path
contains a hyphen '-' I'm not getting any results. For example if I have a
file like /proj/cadessa/cadessa-externa/apache/lucene/README.txt and  I use
a query like path:/proj/cadessa/cadessa-external*. I do get the correct
results, however,  if I use a query like path:/proj/cadessa/cadessa*.

So I guess the '-' is the culprit here. Has any one of you faced a similar
problem before ?

can any one please suggest how I should work around this problem ?

Thanks in advance,
+Goutam


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 16:53:37 2003
Return-Path: 
 <lucene-user-return-4164-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30593 invoked from network); 8 Apr 2003 16:53:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 16:53:37 -0000
Received: (qmail 27839 invoked by uid 97); 8 Apr 2003 16:55:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27832 invoked from network); 8 Apr 2003 16:55:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 16:55:31 -0000
Received: (qmail 24042 invoked by uid 500); 8 Apr 2003 16:52:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23851 invoked from network); 8 Apr 2003 16:52:19 -0000
Received: from zok.sgi.com (204.94.215.101)
  by daedalus.apache.org with SMTP; 8 Apr 2003 16:52:18 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by zok.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h38GqLVV004336
	for <lucene-user@jakarta.apache.org>; Tue, 8 Apr 2003 09:52:21 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id MAA95857 for <lucene-user@jakarta.apache.org>;
 Tue, 8 Apr 2003 12:54:37 -0400 (EDT)
Message-ID: <3E92FECD.8030507@aw.sgi.com>
Date: Tue, 08 Apr 2003 12:54:37 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: HTMLParser choking on Unicode
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When I try to index Japanese HTML files using HTMLParser, I just get
"lexical errors" in every file:

   Parse Aborted: Lexical error at line 12, column 28.
   Encountered: "\u2030" (8240), after : ""

Is there something I have to do to make HTMLParser work with Unicode?

(I haven't done anything special with readers or encodings (don't really
know much about it)... is that the problem?)

Thanks,

Matt


-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 17:23:52 2003
Return-Path: 
 <lucene-user-return-4165-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28093 invoked from network); 8 Apr 2003 17:23:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:23:52 -0000
Received: (qmail 28833 invoked by uid 97); 8 Apr 2003 17:25:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28826 invoked from network); 8 Apr 2003 17:25:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 17:25:45 -0000
Received: (qmail 27588 invoked by uid 500); 8 Apr 2003 17:23:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27519 invoked from network); 8 Apr 2003 17:23:45 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:23:45 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan
 Messaging Security Suite; Tue, 08 Apr 2003 13:23:47 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HTMLParser choking on Unicode
Date: Tue, 8 Apr 2003 13:23:47 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5B94@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HTMLParser choking on Unicode
Thread-Index: AcL972r4pG5WVWL5SdakO1zBw2uF5gAArmoA
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm using HTML Parser to parse Japanese content with no troubles. Be =
sure to set the encoding when you read the HTML files. I have a method I =
use to get the Reader object:

    public BufferedReader getReader() throws IOException {
        InputStream in =3D getInputStream();
        return new BufferedReader(new InputStreamReader(in, =
getCharset()));
    }

getInputStream() is getting my input stream from a FileInputStream(File) =
or a JarFile.getInputStream(JarEntry)

and

getCharset() My object keeps track of the language of the content and in =
my application all the content for a given language is required to use a =
specific encoding, so I keep a Hashtable of language to encoding. For =
japanese, we use shift_jis as the encoding and things are working fine.

If you don't know the encoding of your HTML file up front, you have to =
do some more work to determine the encoding before you hand the Reader =
to HTMLParser.

Eric
--
Eric D. Isakson        SAS Institute Inc.
Application Developer  SAS Campus Drive
XML Technologies       Cary, NC 27513
(919) 531-3639         http://www.sas.com

-----Original Message-----
From: mchaput [mailto:mchaput@aw.sgi.com]=20
Sent: Tuesday, April 08, 2003 12:55 PM
To: lucene-user@jakarta.apache.org
Subject: HTMLParser choking on Unicode


When I try to index Japanese HTML files using HTMLParser, I just get =
"lexical errors" in every file:

   Parse Aborted: Lexical error at line 12, column 28.
   Encountered: "\u2030" (8240), after : ""

Is there something I have to do to make HTMLParser work with Unicode?

(I haven't done anything special with readers or encodings (don't really =
know much about it)... is that the problem?)

Thanks,

Matt


--=20
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 17:29:58 2003
Return-Path: 
 <lucene-user-return-4166-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 47302 invoked from network); 8 Apr 2003 17:29:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:29:58 -0000
Received: (qmail 29017 invoked by uid 97); 8 Apr 2003 17:31:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29010 invoked from network); 8 Apr 2003 17:31:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 17:31:52 -0000
Received: (qmail 45260 invoked by uid 500); 8 Apr 2003 17:29:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45161 invoked from network); 8 Apr 2003 17:29:31 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:29:31 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3324420 for lucene-user@jakarta.apache.org;
 Tue, 08 Apr 2003 12:29:34 -0500
Message-ID: <00de01c2fdf4$6e06c460$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: <lucene-user@jakarta.apache.org>
Subject: having problem with BooleanQuery
Date: Tue, 8 Apr 2003 13:29:37 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I need to perform the follwoing search:
(search my full text fields using or condition) AND (search my category
fields using or condition)

This is what I tried to do:
BooleanQuery bQuery = new BooleanQuery();
// full text
for (int i = 0; i < fields.length; i++)
{
  Query q = QueryParser.parse(queryString, fields[i], analyzer);
  bQuery.add(q, false, false);
}
// category
if(categoryQueryString != null)
{
   BooleanQuery categoryQuery = new BooleanQuery();
   for (int i = 0; i < fieldCategories.length; i++)
   {
    Query q = QueryParser.parse(categoryQueryString, fieldCategories[i],
analyzer);
    categoryQuery.add(q, false, false);
   }
   bQuery.add(categoryQuery, false, false);
}

It does not seem to search categories. The documentation is not clear on how
to perform AND in my above condition. I tried to do
bQuery.add(categoryQuery, true, false), but then it stops returning any
results. I don't entirely understand BooleanQuery.add() function flags.

Any ideas on how to do this?

Thank you,
-a


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 17:43:11 2003
Return-Path: 
 <lucene-user-return-4167-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66151 invoked from network); 8 Apr 2003 17:43:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:43:11 -0000
Received: (qmail 29248 invoked by uid 97); 8 Apr 2003 17:45:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29241 invoked from network); 8 Apr 2003 17:45:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 17:45:05 -0000
Received: (qmail 63951 invoked by uid 500); 8 Apr 2003 17:42:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63874 invoked from network); 8 Apr 2003 17:42:46 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:42:46 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W2YC4; Tue, 8 Apr 2003 13:47:33 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: having problem with BooleanQuery
Date: Tue, 8 Apr 2003 13:42:45 -0400
Message-ID: <004d01c2fdf6$49dabf90$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <00de01c2fdf4$6e06c460$c1ecc141@sohonet.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Here is how you do it.

BooleanQuery completeQuery = new BooleanQuery();
BooleanQuery bQuery = new BooleanQuery();
// full text
for (int i = 0; i < fields.length; i++)
{
  Query q = QueryParser.parse(queryString, fields[i], analyzer);
  bQuery.add(q, false, false);
}
completeQuery.add(bQuery,true,false);
// category
if(categoryQueryString != null)
{
   BooleanQuery categoryQuery = new BooleanQuery();
   for (int i = 0; i < fieldCategories.length; i++)
   {
    Query q = QueryParser.parse(categoryQueryString, fieldCategories[i],
analyzer);
    categoryQuery.add(q, false, false);
   }
   completeQuery.add(categoryQuery,true,false);
}


-----Original Message-----
From: Andrey Akselrod [mailto:aakselrod@runtime.com] 
Sent: Tuesday, April 08, 2003 1:30 PM
To: lucene-user@jakarta.apache.org
Subject: having problem with BooleanQuery


Hello,

I need to perform the follwoing search:
(search my full text fields using or condition) AND (search my category
fields using or condition)

This is what I tried to do:
BooleanQuery bQuery = new BooleanQuery();
// full text
for (int i = 0; i < fields.length; i++)
{
  Query q = QueryParser.parse(queryString, fields[i], analyzer);
  bQuery.add(q, false, false);
}
// category
if(categoryQueryString != null)
{
   BooleanQuery categoryQuery = new BooleanQuery();
   for (int i = 0; i < fieldCategories.length; i++)
   {
    Query q = QueryParser.parse(categoryQueryString, fieldCategories[i],
analyzer);
    categoryQuery.add(q, false, false);
   }
   bQuery.add(categoryQuery, false, false);
}

It does not seem to search categories. The documentation is not clear on
how to perform AND in my above condition. I tried to do
bQuery.add(categoryQuery, true, false), but then it stops returning any
results. I don't entirely understand BooleanQuery.add() function flags.

Any ideas on how to do this?

Thank you,
-a


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 17:54:04 2003
Return-Path: 
 <lucene-user-return-4168-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83721 invoked from network); 8 Apr 2003 17:54:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:54:04 -0000
Received: (qmail 29590 invoked by uid 97); 8 Apr 2003 17:55:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29583 invoked from network); 8 Apr 2003 17:55:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 17:55:58 -0000
Received: (qmail 82048 invoked by uid 500); 8 Apr 2003 17:53:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82011 invoked from network); 8 Apr 2003 17:53:44 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 8 Apr 2003 17:53:44 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3324464 for lucene-user@jakarta.apache.org;
 Tue, 08 Apr 2003 12:53:47 -0500
Message-ID: <012901c2fdf7$d0e456d0$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004d01c2fdf6$49dabf90$6a00a8c0@Aviran>
Subject: Re: having problem with BooleanQuery
Date: Tue, 8 Apr 2003 13:53:51 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks!
Worked like a charm. I was heading in the right direction - just did not
think it through.
-a

----- Original Message -----
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, April 08, 2003 1:42 PM
Subject: RE: having problem with BooleanQuery


> Here is how you do it.
>
> BooleanQuery completeQuery = new BooleanQuery();
> BooleanQuery bQuery = new BooleanQuery();
> // full text
> for (int i = 0; i < fields.length; i++)
> {
>   Query q = QueryParser.parse(queryString, fields[i], analyzer);
>   bQuery.add(q, false, false);
> }
> completeQuery.add(bQuery,true,false);
> // category
> if(categoryQueryString != null)
> {
>    BooleanQuery categoryQuery = new BooleanQuery();
>    for (int i = 0; i < fieldCategories.length; i++)
>    {
>     Query q = QueryParser.parse(categoryQueryString, fieldCategories[i],
> analyzer);
>     categoryQuery.add(q, false, false);
>    }
>    completeQuery.add(categoryQuery,true,false);
> }
>
>
> -----Original Message-----
> From: Andrey Akselrod [mailto:aakselrod@runtime.com]
> Sent: Tuesday, April 08, 2003 1:30 PM
> To: lucene-user@jakarta.apache.org
> Subject: having problem with BooleanQuery
>
>
> Hello,
>
> I need to perform the follwoing search:
> (search my full text fields using or condition) AND (search my category
> fields using or condition)
>
> This is what I tried to do:
> BooleanQuery bQuery = new BooleanQuery();
> // full text
> for (int i = 0; i < fields.length; i++)
> {
>   Query q = QueryParser.parse(queryString, fields[i], analyzer);
>   bQuery.add(q, false, false);
> }
> // category
> if(categoryQueryString != null)
> {
>    BooleanQuery categoryQuery = new BooleanQuery();
>    for (int i = 0; i < fieldCategories.length; i++)
>    {
>     Query q = QueryParser.parse(categoryQueryString, fieldCategories[i],
> analyzer);
>     categoryQuery.add(q, false, false);
>    }
>    bQuery.add(categoryQuery, false, false);
> }
>
> It does not seem to search categories. The documentation is not clear on
> how to perform AND in my above condition. I tried to do
> bQuery.add(categoryQuery, true, false), but then it stops returning any
> results. I don't entirely understand BooleanQuery.add() function flags.
>
> Any ideas on how to do this?
>
> Thank you,
> -a
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 18:02:39 2003
Return-Path: 
 <lucene-user-return-4169-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5310 invoked from network); 8 Apr 2003 18:02:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:02:39 -0000
Received: (qmail 286 invoked by uid 97); 8 Apr 2003 18:04:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 279 invoked from network); 8 Apr 2003 18:04:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 18:04:32 -0000
Received: (qmail 4542 invoked by uid 500); 8 Apr 2003 18:02:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4476 invoked from network); 8 Apr 2003 18:02:27 -0000
Received: from zok.sgi.com (204.94.215.101)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:02:27 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by zok.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h38I2TVV009853
	for <lucene-user@jakarta.apache.org>; Tue, 8 Apr 2003 11:02:29 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id OAA00542 for <lucene-user@jakarta.apache.org>;
 Tue, 8 Apr 2003 14:04:46 -0400 (EDT)
Message-ID: <3E930F3D.20706@aw.sgi.com>
Date: Tue, 08 Apr 2003 14:04:45 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HTMLParser choking on Unicode
References: <187D6D956106D84E9D8B280F6458FE140F5B94@merc12.na.sas.com>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE140F5B94@merc12.na.sas.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Excellent! Thanks very much, Eric. Sorry to the list if this was too 
basic... I'm very new to the world of non-Latin LP.

Cheers!

Eric Isakson wrote:
> I'm using HTML Parser to parse Japanese content with no troubles. Be sure to set the encoding when you read the HTML files. I have a method I use to get the Reader object:
> 
>     public BufferedReader getReader() throws IOException {
>         InputStream in = getInputStream();
>         return new BufferedReader(new InputStreamReader(in, getCharset()));
>     }
> 
> getInputStream() is getting my input stream from a FileInputStream(File) or a JarFile.getInputStream(JarEntry)
> 
> and
> 
> getCharset() My object keeps track of the language of the content and in my application all the content for a given language is required to use a specific encoding, so I keep a Hashtable of language to encoding. For japanese, we use shift_jis as the encoding and things are working fine.


-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 18:20:38 2003
Return-Path: 
 <lucene-user-return-4171-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44785 invoked from network); 8 Apr 2003 18:20:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:20:38 -0000
Received: (qmail 882 invoked by uid 97); 8 Apr 2003 18:22:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 875 invoked from network); 8 Apr 2003 18:22:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 18:22:33 -0000
Received: (qmail 44502 invoked by uid 500); 8 Apr 2003 18:20:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44491 invoked from network); 8 Apr 2003 18:20:36 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:20:36 -0000
Message-ID: <20030408182040.51529.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Tue, 08 Apr 2003 11:20:40 PDT
Date: Tue, 8 Apr 2003 11:20:40 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: searching woes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AAF@mshyd1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Most likely you are using QueryParser, which considers - to be a
special character.  You could make a custom QueryParser that treats -
like any other character, but you would use some other nice things,
like range searches.  Maybe it's a conflict with the '-' that is used
as NOT operator.

Otis

--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Hi,
> 
> I have written a search engine for our intranet. I'm storing the file
> path
> as a KEYWORD field.
> 
> While searching if I want to restrict my search results to a
> particular file
> path I'd use a query like path:/proj/cadessa/*. However if the file
> path
> contains a hyphen '-' I'm not getting any results. For example if I
> have a
> file like /proj/cadessa/cadessa-externa/apache/lucene/README.txt and 
> I use
> a query like path:/proj/cadessa/cadessa-external*. I do get the
> correct
> results, however,  if I use a query like path:/proj/cadessa/cadessa*.
> 
> So I guess the '-' is the culprit here. Has any one of you faced a
> similar
> problem before ?
> 
> can any one please suggest how I should work around this problem ?
> 
> Thanks in advance,
> +Goutam
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 21:13:45 2003
Return-Path: 
 <lucene-user-return-4173-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87532 invoked from network); 8 Apr 2003 21:13:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 21:13:45 -0000
Received: (qmail 5715 invoked by uid 97); 8 Apr 2003 21:15:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5708 invoked from network); 8 Apr 2003 21:15:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 21:15:41 -0000
Received: (qmail 87249 invoked by uid 500); 8 Apr 2003 21:13:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87238 invoked from network); 8 Apr 2003 21:13:42 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 8 Apr 2003 21:13:42 -0000
Message-ID: <20030408211348.96790.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Tue, 08 Apr 2003 14:13:48 PDT
Date: Tue, 8 Apr 2003 14:13:48 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: ava.io.FileNotFoundException: Too many open files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKEKGCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Because file handles were closed immediately in the second case, while
in the first case they remained open until JVM's GC figured out it
could clean up the old IndexSearcher instance.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> I was originally doing this:
> 
>  try {
>             if ( hasIndexChanged()) {
>                 this.searcher = new
> IndexSearcher(this.indexLocation);
>             }
>         }
>         catch (IOException e) {
> 
>         }
>     }
> 
> then I changed it to close the searcher before creating a new one:
> 
>  try {
>             if ( hasIndexChanged()) {
>                 this.searcher.close();
>                 this.searcher = new
> IndexSearcher(this.indexLocation);
>             }
>         }
>         catch (IOException e) {
> 
>         }
>     }
> 
> The problem then went away but I am not sure why?
> 
> Rob 
> 
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 08, 2003 6:12 PM
> To: Lucene Users List
> Subject: ava.io.FileNotFoundException: Too many open files
> 
> 
> Hi all,
> 
> 	I am running my unit tests in Linux and I am receiving:
> 		java.io.FileNotFoundException:
> /local/build12/onesaf_dev_block_b/PAIR_dev/INDEX/_rk.f9 (Too many
> open
> files)
>     [junit] threadName :main
> 
> I had the sys admin bump up the number of file descriptors to 4096
> but I
> still got the same error.  Has anyone encountered this before?  I
> know it
> has to be something weird I am doing.
> 
> Help!
> 
> Rob
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 18:12:40 2003
Return-Path: 
 <lucene-user-return-4170-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28094 invoked from network); 8 Apr 2003 18:12:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:12:40 -0000
Received: (qmail 639 invoked by uid 97); 8 Apr 2003 18:14:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 632 invoked from network); 8 Apr 2003 18:14:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 18:14:35 -0000
Received: (qmail 27799 invoked by uid 500); 8 Apr 2003 18:12:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27787 invoked from network); 8 Apr 2003 18:12:37 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 Apr 2003 18:12:37 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 3B1123687C; Tue,  8 Apr 2003 18:12:41 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id C140D36885
	for <lucene-user@jakarta.apache.org>; Tue,  8 Apr 2003 18:12:39 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: ava.io.FileNotFoundException: Too many open files
Date: Tue, 8 Apr 2003 18:12:12 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDIEKECIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <004d01c2fdf6$49dabf90$6a00a8c0@Aviran>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I am running my unit tests in Linux and I am receiving:
		java.io.FileNotFoundException:
/local/build12/onesaf_dev_block_b/PAIR_dev/INDEX/_rk.f9 (Too many open
files)
    [junit] threadName :main

I had the sys admin bump up the number of file descriptors to 4096 but I
still got the same error.  Has anyone encountered this before?  I know it
has to be something weird I am doing.

Help!

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr  8 20:01:54 2003
Return-Path: 
 <lucene-user-return-4172-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54080 invoked from network); 8 Apr 2003 20:01:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 Apr 2003 20:01:54 -0000
Received: (qmail 3654 invoked by uid 97); 8 Apr 2003 20:03:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3647 invoked from network); 8 Apr 2003 20:03:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 Apr 2003 20:03:49 -0000
Received: (qmail 53787 invoked by uid 500); 8 Apr 2003 20:01:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53770 invoked from network); 8 Apr 2003 20:01:50 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 Apr 2003 20:01:50 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 47C9336894; Tue,  8 Apr 2003 20:01:55 +0000 (UTC)
X-Scanned-By: AMaViS at a badly configured site.
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 10F7636893
	for <lucene-user@jakarta.apache.org>; Tue,  8 Apr 2003 20:01:54 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: ava.io.FileNotFoundException: Too many open files
Date: Tue, 8 Apr 2003 20:01:25 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDKEKGCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <MNEPJJAGGPICDNOCBIKDIEKECIAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was originally doing this:

 try {
            if ( hasIndexChanged()) {
                this.searcher = new IndexSearcher(this.indexLocation);
            }
        }
        catch (IOException e) {

        }
    }

then I changed it to close the searcher before creating a new one:

 try {
            if ( hasIndexChanged()) {
                this.searcher.close();
                this.searcher = new IndexSearcher(this.indexLocation);
            }
        }
        catch (IOException e) {

        }
    }

The problem then went away but I am not sure why?

Rob 


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Tuesday, April 08, 2003 6:12 PM
To: Lucene Users List
Subject: ava.io.FileNotFoundException: Too many open files


Hi all,

	I am running my unit tests in Linux and I am receiving:
		java.io.FileNotFoundException:
/local/build12/onesaf_dev_block_b/PAIR_dev/INDEX/_rk.f9 (Too many open
files)
    [junit] threadName :main

I had the sys admin bump up the number of file descriptors to 4096 but I
still got the same error.  Has anyone encountered this before?  I know it
has to be something weird I am doing.

Help!

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 01:57:20 2003
Return-Path: 
 <lucene-user-return-4174-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95157 invoked from network); 9 Apr 2003 01:57:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 01:57:20 -0000
Received: (qmail 9655 invoked by uid 97); 9 Apr 2003 01:59:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9648 invoked from network); 9 Apr 2003 01:59:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 01:59:19 -0000
Received: (qmail 94871 invoked by uid 500); 9 Apr 2003 01:57:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94855 invoked from network); 9 Apr 2003 01:57:16 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 9 Apr 2003 01:57:16 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 54F0F1069E5
	for <lucene-user@jakarta.apache.org>; Wed,  9 Apr 2003 12:00:24 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Searching greater/less than using Lucene
Date: Wed, 9 Apr 2003 12:46:23 +1100
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304091146.23468@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm haven't touch Lucene for ages and now revisiting it back, so please bear 
with me. The following is my problem.

I am indexing a bunch of emails and part of the field that I index in the 
document is the message size. We adjusted the size and padded with leading 
zeroes to normalised the number.

Currently we implemented the search for greater than and less than as a 
filter. 

Now the requirement has been changed that we need to include the message size 
as search parameter, for example:

From: victorh@nuix.com.au OR message size > 10K

First thing come to me is I have to run the query twice first as "From: 
victorh@nuix.com.au" and do another query to search ALL emails, filter the 
bunch and union the results, but this, admitedly, ugly and inefficient.

I'm stumped, does anyone has any idea/suggestions how should I tackle this 
particular issue. 


Cheers,

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 08:01:42 2003
Return-Path: 
 <lucene-user-return-4175-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52927 invoked from network); 9 Apr 2003 08:01:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 08:01:42 -0000
Received: (qmail 15436 invoked by uid 97); 9 Apr 2003 08:03:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15429 invoked from network); 9 Apr 2003 08:03:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 08:03:43 -0000
Received: (qmail 52696 invoked by uid 500); 9 Apr 2003 08:01:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52611 invoked from network); 9 Apr 2003 08:01:33 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 9 Apr 2003 08:01:33 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 53ABD106A4E
	for <lucene-user@jakarta.apache.org>; Wed,  9 Apr 2003 18:04:44 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Searching greater/less than using Lucene
Date: Wed, 9 Apr 2003 18:50:39 +1100
User-Agent: KMail/1.4.3
References: <200304091146.23468@bah>
In-Reply-To: <200304091146.23468@bah>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304091750.39322@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Now the requirement has been changed that we need to include the message
> size as search parameter, for example:
>
> From: victorh@nuix.com.au OR message size > 10K
>

Ah .. I've just found a way to do this using RangeQuery. This combine with 
BooleanQuery  shoud be able to fix my problem.



-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 13:22:09 2003
Return-Path: 
 <lucene-user-return-4176-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11095 invoked from network); 9 Apr 2003 13:22:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 13:22:09 -0000
Received: (qmail 23664 invoked by uid 97); 9 Apr 2003 13:24:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23657 invoked from network); 9 Apr 2003 13:24:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 13:24:01 -0000
Received: (qmail 821 invoked by uid 500); 9 Apr 2003 13:18:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 683 invoked from network); 9 Apr 2003 13:18:56 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 9 Apr 2003 13:18:56 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h39DIqj7019492
 for <lucene-user@jakarta.apache.org>; Wed, 9 Apr 2003 18:48:53 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <22HJ0NQA>; Wed, 9 Apr 2003 18:48:52 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AB3@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: searching woes
Date: Wed, 9 Apr 2003 18:48:51 +0530 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,

you are right. The QueryParser is treating '-' as a boolean NOT operator. I
was wondering whether I should encode the - character while indexing and
then apply the same encoding while searching. While I'll be working on this,
is there any better way to do this? (Apart from writing my own QueryParser
that is :-) )

+goutam

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Tuesday, April 08, 2003 11:51 PM
To: Lucene Users List
Subject: Re: searching woes


Most likely you are using QueryParser, which considers - to be a
special character.  You could make a custom QueryParser that treats -
like any other character, but you would use some other nice things,
like range searches.  Maybe it's a conflict with the '-' that is used
as NOT operator.

Otis

--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Hi,
> 
> I have written a search engine for our intranet. I'm storing the file
> path
> as a KEYWORD field.
> 
> While searching if I want to restrict my search results to a
> particular file
> path I'd use a query like path:/proj/cadessa/*. However if the file
> path
> contains a hyphen '-' I'm not getting any results. For example if I
> have a
> file like /proj/cadessa/cadessa-externa/apache/lucene/README.txt and 
> I use
> a query like path:/proj/cadessa/cadessa-external*. I do get the
> correct
> results, however,  if I use a query like path:/proj/cadessa/cadessa*.
> 
> So I guess the '-' is the culprit here. Has any one of you faced a
> similar
> problem before ?
> 
> can any one please suggest how I should work around this problem ?
> 
> Thanks in advance,
> +Goutam
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 13:59:06 2003
Return-Path: 
 <lucene-user-return-4177-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32907 invoked from network); 9 Apr 2003 13:59:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 13:59:06 -0000
Received: (qmail 24921 invoked by uid 97); 9 Apr 2003 14:00:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24914 invoked from network); 9 Apr 2003 14:00:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:00:57 -0000
Received: (qmail 30144 invoked by uid 500); 9 Apr 2003 13:58:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30074 invoked from network); 9 Apr 2003 13:58:23 -0000
Received: from 149-99-32-11.dsl.tor1.sprint-canada.net (HELO mail2)
 (149.99.32.11)
  by daedalus.apache.org with SMTP; 9 Apr 2003 13:58:23 -0000
Received: from ATP2 (unverified [149.99.32.51]) by mail2
 (Rockliffe SMTPRA 4.2.2) with ESMTP id <B0004960518@mail2> for
 <lucene-user@jakarta.apache.org>;
 Wed, 9 Apr 2003 19:00:31 -0700
Message-ID: <532944.1049896783828.JavaMail.Administrator@ATP2>
Date: Wed, 9 Apr 2003 06:59:43 -0700 (PDT)
From: blaplante <blaplante@netwebapps.com>
Reply-To: blaplante@netwebapps.com
To: lucene-user@jakarta.apache.org
Subject: JavaCC2_1 NoClassDefFoundError
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: E-mailanywhere V2.0 (Windows)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok,

I have searched till I am blue in the face. I am wanting the compile lucene
and so I downloaded the JavaCC2_1 compiler and tried to installed it on a
windows 2000 machine. I typed c:\install>java JavaCC2_1 at the command line
and get the following error, Exception in thread "main"
java.lang.NoClassDefFoundError: JavaCC2_1.

The folks at http://www.webgain.com seem to have little to know support for
that particular product. I was not even able to determine if it is
compatible with windows at all.

I hope at least one of you have run in to this and can point me to better
resources than I have been able to find.

Thanks.

Bryan LaPlante
blaplante@netwebapps.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 14:17:40 2003
Return-Path: 
 <lucene-user-return-4178-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76757 invoked from network); 9 Apr 2003 14:17:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:17:40 -0000
Received: (qmail 25511 invoked by uid 97); 9 Apr 2003 14:19:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25500 invoked from network); 9 Apr 2003 14:19:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:19:33 -0000
Received: (qmail 73568 invoked by uid 500); 9 Apr 2003 14:16:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73500 invoked from network); 9 Apr 2003 14:16:47 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:16:47 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W2YL7; Wed, 9 Apr 2003 10:20:51 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<blaplante@netwebapps.com>
Subject: RE: JavaCC2_1 NoClassDefFoundError
Date: Wed, 9 Apr 2003 10:16:53 -0400
Message-ID: <000401c2fea2$aeadfbb0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <532944.1049896783828.JavaMail.Administrator@ATP2>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You HAVE TO set the classpath in order for it to install

-----Original Message-----
From: blaplante [mailto:blaplante@netwebapps.com] 
Sent: Wednesday, April 09, 2003 10:00 AM
To: lucene-user@jakarta.apache.org
Subject: JavaCC2_1 NoClassDefFoundError


Ok,

I have searched till I am blue in the face. I am wanting the compile
lucene and so I downloaded the JavaCC2_1 compiler and tried to installed
it on a windows 2000 machine. I typed c:\install>java JavaCC2_1 at the
command line and get the following error, Exception in thread "main"
java.lang.NoClassDefFoundError: JavaCC2_1.

The folks at http://www.webgain.com seem to have little to know support
for that particular product. I was not even able to determine if it is
compatible with windows at all.

I hope at least one of you have run in to this and can point me to
better resources than I have been able to find.

Thanks.

Bryan LaPlante
blaplante@netwebapps.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 14:27:14 2003
Return-Path: 
 <lucene-user-return-4179-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6077 invoked from network); 9 Apr 2003 14:27:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:27:14 -0000
Received: (qmail 25942 invoked by uid 97); 9 Apr 2003 14:29:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25935 invoked from network); 9 Apr 2003 14:29:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:29:06 -0000
Received: (qmail 4364 invoked by uid 500); 9 Apr 2003 14:26:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4329 invoked from network); 9 Apr 2003 14:26:48 -0000
Received: from 149-99-32-11.dsl.tor1.sprint-canada.net (HELO mail2)
 (149.99.32.11)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:26:48 -0000
Received: from ATP2 (unverified [149.99.32.51]) by mail2
 (Rockliffe SMTPRA 4.2.2) with ESMTP id <B0004961088@mail2> for
 <lucene-user@jakarta.apache.org>;
 Wed, 9 Apr 2003 19:28:57 -0700
Message-ID: <2492303.1049898490000.JavaMail.Administrator@ATP2>
Date: Wed, 9 Apr 2003 07:28:10 -0700 (PDT)
From: blaplante <blaplante@netwebapps.com>
Reply-To: blaplante@netwebapps.com
To: lucene-user@jakarta.apache.org
Subject: RE: JavaCC2_1 NoClassDefFound
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: E-mailanywhere V2.0 (Windows)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Now I feel stupid. I put a dot (.) in my classpath and the install class
could see itself so it ran just fine. Of all the goofey solutions.

Bryan LaPlante

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 14:30:25 2003
Return-Path: 
 <lucene-user-return-4180-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15711 invoked from network); 9 Apr 2003 14:30:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:30:25 -0000
Received: (qmail 26116 invoked by uid 97); 9 Apr 2003 14:32:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26109 invoked from network); 9 Apr 2003 14:32:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:32:18 -0000
Received: (qmail 12740 invoked by uid 500); 9 Apr 2003 14:29:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12683 invoked from network); 9 Apr 2003 14:29:38 -0000
Received: from 149-99-32-11.dsl.tor1.sprint-canada.net (HELO mail2)
 (149.99.32.11)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:29:38 -0000
Received: from ATP2 (unverified [149.99.32.51]) by mail2
 (Rockliffe SMTPRA 4.2.2) with ESMTP id <B0004961133@mail2> for
 <lucene-user@jakarta.apache.org>;
 Wed, 9 Apr 2003 19:31:48 -0700
Message-ID: <15986263.1049898661125.JavaMail.Administrator@ATP2>
Date: Wed, 9 Apr 2003 07:31:01 -0700 (PDT)
From: blaplante <blaplante@netwebapps.com>
Reply-To: blaplante@netwebapps.com
To: lucene-user@jakarta.apache.org
Subject: Re: RE: JavaCC2_1 NoClassDefFoundError
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: E-mailanywhere V2.0 (Windows)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the quick reply

>On Wed, 9 Apr 2003 10:16:53 -0400 "Aviran Mordo" <amordo@infosciences.com>
wrote.
>You HAVE TO set the classpath in order for it to install
>
>-----Original Message-----
>From: blaplante [mailto:blaplante@netwebapps.com] 
>Sent: Wednesday, April 09, 2003 10:00 AM
>To: lucene-user@jakarta.apache.org
>Subject: JavaCC2_1 NoClassDefFoundError
>
>
>Ok,
>
>I have searched till I am blue in the face. I am wanting the compile
>lucene and so I downloaded the JavaCC2_1 compiler and tried to installed
>it on a windows 2000 machine. I typed c:\install>java JavaCC2_1 at the
>command line and get the following error, Exception in thread "main"
>java.lang.NoClassDefFoundError: JavaCC2_1.
>
>The folks at http://www.webgain.com seem to have little to know support
>for that particular product. I was not even able to determine if it is
>compatible with windows at all.
>
>I hope at least one of you have run in to this and can point me to
>better resources than I have been able to find.
>
>Thanks.
>
>Bryan LaPlante
>blaplante@netwebapps.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr  9 14:32:22 2003
Return-Path: 
 <lucene-user-return-4181-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20413 invoked from network); 9 Apr 2003 14:32:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:32:22 -0000
Received: (qmail 26226 invoked by uid 97); 9 Apr 2003 14:34:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26219 invoked from network); 9 Apr 2003 14:34:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:34:14 -0000
Received: (qmail 19304 invoked by uid 500); 9 Apr 2003 14:32:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19252 invoked from network); 9 Apr 2003 14:32:05 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:32:05 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W2YMN; Wed, 9 Apr 2003 10:36:10 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Construct Query Object from Parsed String
Date: Wed, 9 Apr 2003 10:32:11 -0400
Message-ID: <000501c2fea4$d4649b50$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0006_01C2FE83.4D52FB50"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0006_01C2FE83.4D52FB50
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi all,
The situation is like this: I have a Query object. Then I use the
query.toString() method to get the string representation of the query.
My question is Given the above String representation of an already
parsed query, how can I create a new Query object without having to
parse the string using the standard analyzer.
The Original Query object was created using combination of TermQuery and
BooleanQuery so it consists of some Upper case terms, which the standard
analyzer then convert to lower case and thus the resulting query object
is incorrect.
I have done this writing my own Analyzer which uses the LetterTokenizer
only. Is there a way of doing it with something that Lucene already has
or is this the only way?
 
Thanks
Aviran

------=_NextPart_000_0006_01C2FE83.4D52FB50--



From MAILER-DAEMON Wed Apr  9 14:47:24 2003
Return-Path: 
 <lucene-user-return-4182-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62277 invoked from network); 9 Apr 2003 14:47:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:47:24 -0000
Received: (qmail 26878 invoked by uid 97); 9 Apr 2003 14:49:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26871 invoked from network); 9 Apr 2003 14:49:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 Apr 2003 14:49:17 -0000
Received: (qmail 61989 invoked by uid 500); 9 Apr 2003 14:47:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61978 invoked from network); 9 Apr 2003 14:47:21 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 9 Apr 2003 14:47:21 -0000
Message-ID: <20030409144723.59157.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Wed, 09 Apr 2003 07:47:23 PDT
Date: Wed, 9 Apr 2003 07:47:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: searching woes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AB3@mshyd1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You should be able to escape it using \, but note that you will have to
use an Analyzer that does not discard \ characters.
Take a look at some unit tests for the escape character to see how it
works.

Otis

--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Otis,
> 
> you are right. The QueryParser is treating '-' as a boolean NOT
> operator. I
> was wondering whether I should encode the - character while indexing
> and
> then apply the same encoding while searching. While I'll be working
> on this,
> is there any better way to do this? (Apart from writing my own
> QueryParser
> that is :-) )
> 
> +goutam
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, April 08, 2003 11:51 PM
> To: Lucene Users List
> Subject: Re: searching woes
> 
> 
> Most likely you are using QueryParser, which considers - to be a
> special character.  You could make a custom QueryParser that treats -
> like any other character, but you would use some other nice things,
> like range searches.  Maybe it's a conflict with the '-' that is used
> as NOT operator.
> 
> Otis
> 
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > Hi,
> > 
> > I have written a search engine for our intranet. I'm storing the
> file
> > path
> > as a KEYWORD field.
> > 
> > While searching if I want to restrict my search results to a
> > particular file
> > path I'd use a query like path:/proj/cadessa/*. However if the file
> > path
> > contains a hyphen '-' I'm not getting any results. For example if I
> > have a
> > file like /proj/cadessa/cadessa-externa/apache/lucene/README.txt
> and 
> > I use
> > a query like path:/proj/cadessa/cadessa-external*. I do get the
> > correct
> > results, however,  if I use a query like
> path:/proj/cadessa/cadessa*.
> > 
> > So I guess the '-' is the culprit here. Has any one of you faced a
> > similar
> > problem before ?
> > 
> > can any one please suggest how I should work around this problem ?
> > 
> > Thanks in advance,
> > +Goutam
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://tax.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 04:10:41 2003
Return-Path: 
 <lucene-user-return-4183-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40802 invoked from network); 10 Apr 2003 04:10:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 04:10:41 -0000
Received: (qmail 17352 invoked by uid 97); 10 Apr 2003 04:12:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17345 invoked from network); 10 Apr 2003 04:12:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 04:12:42 -0000
Received: (qmail 40509 invoked by uid 500); 10 Apr 2003 04:10:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40498 invoked from network); 10 Apr 2003 04:10:38 -0000
Received: from oe12.law9.hotmail.com (HELO hotmail.com) (64.4.8.116)
  by daedalus.apache.org with SMTP; 10 Apr 2003 04:10:38 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 9 Apr 2003 21:10:48 -0700
Received: from 61.140.189.241 by oe12.law9.hotmail.com with DAV;
	Thu, 10 Apr 2003 04:10:48 +0000
X-Originating-IP: [61.140.189.241]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: WCUFPEGAUTFJMVRESKPNKMBIPBARH
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030407164655.91737.qmail@web12708.mail.yahoo.com>
 <001301c2fd84$7572bf80$0100a8c1@contatan.com>
Subject: a simple highlight resolvent
Date: Thu, 10 Apr 2003 12:09:05 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <Law9-OE12KW447p9NBU00001b4a@hotmail.com>
X-OriginalArrivalTime: 10 Apr 2003 04:10:48.0730 (UTC)
 FILETIME=[2ACE77A0:01C2FF17]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

aGkgZXZlcnlvbmUsDQpJIGFtIG5ldyBvbmUgaW4gbHVjZW5lIGFuZCBnb3QgYSBsb3QgaGVscCBp
biBsYXN0IDIgd2Vla3MuIEhlcmUgSSB3YW50IHRvIHNoYXJlIGEgYSBzaW1wbGUgaGlnaGxpZ2h0
IHJlc29sdmVudC4gT2YgY291cnNlIEkgaGF2ZSB0cnkgZGUuaXFjb21wdXRpbmcubHVjZW5lLiBI
ZXJlIGp1c3QgYSBzaW1wbGUgd2F5IGJhc2UgdGhlIGRlbW8uIEhlcmUgaXMgdGhlIHNvdXJjZS4g
SXQncyBhIGxpdHRsZSBpbmVwdC4gQW5kIEkgZG9uJ3QgZG9uJ3Qgd2h5IGl0IGNhbid0IGNvbXBp
bGUgaWYgSSB1c2UgU3RyaW5nLnJlcGxhY2VBbGwoKSwgU28gSSB3cml0ZSBhbm90aGVyIG1ldGhv
ZCB0byBoYW5kbGUgaXQuIEFueSBzdWdnZXN0aW9uIGFyZSB3ZWxjb21lZC4NCiAgICAgICAgICBL
ZXJyLg0KDQp0byB1c2UgaXQgaW4gcmVzdWx0cy5qc3AuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tDQpobCA9IG5ldyBvcmcuYXBhY2hlLmx1Y2VuZS5kZW1vLkhpZ2h0TGlnaHRlcihx
dWVyeS50b1N0cmluZygiY29udGVudHMiKSk7DQouLi4NCiAgICAgIHN1bW1hcnkgPSBobC5nZXRI
aWdobGlnaHRGaWxlKHBhdGgpOw0KICAgICAgaWYgKHN1bW1hcnkgPT0gbnVsbCB8fCBzdW1tYXJ5
Lmxlbmd0aCgpIDwgMTAwICl7DQogICAgICAgICBzdW1tYXJ5ID0gZG9jLmdldCgic3VtbWFyeSIp
Ow0KIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKXsNCiAgICAgICAgc3VtbWFyeSA9IGRvYy5nZXQoInN1
bW1hcnkiKTsNCn0NCi4uLg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
DQpwYWNrYWdlIG9yZy5hcGFjaGUubHVjZW5lLmRlbW87DQoNCmltcG9ydCBqYXZhLmlvLio7DQpp
bXBvcnQgamF2YS51dGlsLio7DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5odG1sLkhU
TUxQYXJzZXI7DQoNCnB1YmxpYyBjbGFzcyBIaWdodExpZ2h0ZXIgew0KDQogIFN0cmluZ1tdIGtl
eXM7DQogIGJvb2xlYW5bXSBiOw0KDQogIHB1YmxpYyBIaWdodExpZ2h0ZXIoU3RyaW5nIHF1ZXJ5
KSB7DQogICAgSGFzaE1hcCBoaWdobGlnaHQgPSBuZXcgSGFzaE1hcCgpOw0KICAgIFN0cmluZ1Rv
a2VuaXplciBzdCA9IG5ldyBTdHJpbmdUb2tlbml6ZXIocXVlcnksICJcIiIpOw0KICAgIFN0cmlu
ZyBhVG9rZW47DQogICAgaW50IG9mZiA9IDA7DQogICAgd2hpbGUoc3QuaGFzTW9yZVRva2Vucygp
KXsNCiAgICAgIGFUb2tlbiA9IHN0Lm5leHRUb2tlbigpOw0KICAgICAgY2hhciBhQ2hhcjsNCiAg
ICAgIFN0cmluZyBkZXN0ID0gIiI7DQogICAgICBmb3IoaW50IGk9MDsgaTxhVG9rZW4ubGVuZ3Ro
KCk7IGkrKyl7DQogICAgICAgIGFDaGFyID0gYVRva2VuLmNoYXJBdChpKTsNCiAgICAgICAgaWYg
KGFDaGFyICE9ICcrJyAmJg0KICAgICAgICAgICAgYUNoYXIgIT0gJy0nICYmDQogICAgICAgICAg
ICBhQ2hhciAhPSAnKCcgJiYNCiAgICAgICAgICAgIGFDaGFyICE9ICcpJyAmJg0KICAgICAgICAg
ICAgYUNoYXIgIT0gJyAnKXsNCiAgICAgICAgICBkZXN0ID0gZGVzdCArIGFDaGFyOw0KICAgICAg
ICB9DQogICAgICB9DQogICAgICBpZiAoZGVzdC5sZW5ndGgoKSA+IDApIHsNCiAgICAgICAgaGln
aGxpZ2h0LnB1dChJbnRlZ2VyLnRvU3RyaW5nKG9mZikgLCBkZXN0KTsNCiAgICAgICAgb2ZmID0g
b2ZmICsgMTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBrZXlzID0gbmV3IFN0cmluZ1toaWdobGln
aHQuc2l6ZSgpXTsNCiAgICBiID0gbmV3IGJvb2xlYW5baGlnaGxpZ2h0LnNpemUoKV07DQogICAg
Zm9yKGludCBjPTA7IGM8aGlnaGxpZ2h0LnNpemUoKTsgYysrKXsNCiAgICAgIGtleXNbY10gPSAo
U3RyaW5nKWhpZ2hsaWdodC5nZXQoSW50ZWdlci50b1N0cmluZyhjKSk7DQogICAgICBiW2NdID0g
ZmFsc2U7DQogICAgfQ0KICB9DQoNCiAgcHVibGljIFN0cmluZyByZXBsYWNlS2V5KFN0cmluZyBz
b3VyY2VTdHJpbmcsIFN0cmluZyBrZXkpIHsNCiAgICBTdHJpbmcgZGVzdFN0cmluZyA9ICIiOw0K
ICAgIGludCBpID0gc291cmNlU3RyaW5nLmluZGV4T2Yoa2V5KTsNCiAgICB3aGlsZSAoIGkgIT0g
LTEgKSB7DQogICAgICBkZXN0U3RyaW5nID0gZGVzdFN0cmluZyArIHNvdXJjZVN0cmluZy5zdWJz
dHJpbmcoMCxpKQ0KICAgICAgICAgICAgICAgICArICI8Zm9udCBjb2xvcj1cInJlZFwiPiIgKyBr
ZXkgKyAiPC9mb250PiI7DQogICAgICBzb3VyY2VTdHJpbmcgPSBzb3VyY2VTdHJpbmcuc3Vic3Ry
aW5nKGkra2V5Lmxlbmd0aCgpKTsNCiAgICAgIGkgPSBzb3VyY2VTdHJpbmcuaW5kZXhPZihrZXkp
Ow0KICAgIH0NCiAgICBkZXN0U3RyaW5nID0gZGVzdFN0cmluZytzb3VyY2VTdHJpbmc7DQogICAg
cmV0dXJuIGRlc3RTdHJpbmc7DQogIH0NCg0KICBwdWJsaWMgU3RyaW5nIGdldEhpZ2hsaWdodChT
dHJpbmcgc3RyaW5nKXsNCiAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCiAg
ICAgIGlmIChzdHJpbmcuaW5kZXhPZihrZXlzW2ldKSAhPSAtMSl7DQogICAgICAgIC8vc3RyaW5n
ID0gc3RyaW5nLnJlcGxhY2VBbGwoa2V5c1tpXSwgIjxmb250IGNvbG9yPVwicmVkXCI+IiArIGtl
eXNbaV0gKyAiPC9mb250PiIpOw0KICAgICAgICBzdHJpbmcgPSByZXBsYWNlS2V5KHN0cmluZywg
a2V5c1tpXSk7DQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiBzdHJpbmc7DQogIH0NCg0KICBw
dWJsaWMgU3RyaW5nIGdldEhpZ2hsaWdodEZpbGUoU3RyaW5nIHBhdGgpDQogICAgICB0aHJvd3Mg
SU9FeGNlcHRpb24sIEludGVycnVwdGVkRXhjZXB0aW9uICB7DQoNCiAgICBIVE1MUGFyc2VyIHBh
cnNlciA9IG5ldyBIVE1MUGFyc2VyKG5ldyBGaWxlKHBhdGgpKTsNCiAgICBSZWFkZXIgZnIgPSBw
YXJzZXIuZ2V0UmVhZGVyKCk7DQogICAgU3RyaW5nIGhsU3RyaW5nID0gdGhpcy5nZXRIaWdobGln
aHQoZnIpOw0KICAgIGZyLmNsb3NlKCk7DQogICAgcmV0dXJuIGhsU3RyaW5nOw0KICB9DQoNCiAg
cHVibGljIFN0cmluZyBnZXRIaWdobGlnaHQoUmVhZGVyIHJlYWRlcil7DQoNCiAgICB0cnl7DQog
ICAgICBpbnQgc2l6ZSA9IDUgLSBrZXlzLmxlbmd0aDsNCiAgICAgIGlmICggc2l6ZSA+IDApIHsN
CiAgICAgICAgc2l6ZSA9IHNpemUgKiAxMDA7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBzaXpl
ID0gMTAwOw0KICAgICAgfQ0KICAgICAgY2hhcltdIGJ1ZmZlciA9IG5ldyBjaGFyW3NpemVdOw0K
ICAgICAgU3RyaW5nQnVmZmVyIGxhc3QgPSBuZXcgU3RyaW5nQnVmZmVyKCIuLiIpOw0KICAgICAg
U3RyaW5nIHRlbXA7DQogICAgICBib29sZWFuIGVuZCA9IGZhbHNlOw0KICAgICAgZm9yKGludCBj
PTA7IGM8Yi5sZW5ndGg7IGMrKyl7DQogICAgICAgIGJbY10gPSBmYWxzZTsNCiAgICAgIH0NCg0K
ICAgICAgd2hpbGUgKChyZWFkZXIucmVhZChidWZmZXIpICE9IC0xKSAmJiAhZW5kKXsNCiAgICAg
ICAgdGVtcCA9IG5ldyBTdHJpbmcoYnVmZmVyKTsNCiAgICAgICAgLy9TeXN0ZW0ub3V0LnByaW50
bG4odGVtcCk7DQogICAgICAgIC8vdGVtcCA9IHRlbXAucmVwbGFjZUFsbCgiXHJcbiIsICIgIik7
DQogICAgICAgIGZvcihpbnQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspew0KICAgICAgICAgIGlm
ICghYltpXSAmJiB0ZW1wLmluZGV4T2Yoa2V5c1tpXSkgIT0gLTEpew0KICAgICAgICAgICAgYltp
XSA9IHRydWU7DQogICAgICAgICAgICAvL3RlbXAgPSB0ZW1wLnJlcGxhY2VBbGwoa2V5c1tpXSwg
Ijxmb250IGNvbG9yPVwicmVkXCI+IiArIGtleXNbaV0gKyAiPC9mb250PiIpOw0KICAgICAgICAg
ICAgbGFzdC5hcHBlbmQoIi4iICsgdGVtcCArICIuLiIpOw0KICAgICAgICAgIH0NCiAgICAgICAg
fQ0KICAgICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICBp
ZiAoIWJbaV0pew0KICAgICAgICAgICAgZW5kID0gZmFsc2U7DQogICAgICAgICAgICBicmVhazsN
CiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZW5kID0gdHJ1ZTsNCiAgICAgICAgICB9
DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxhc3QuYXBwZW5kKCIuIik7DQogICAgICBpZiAo
bGFzdC5sZW5ndGgoKSA8IDEwMCl7DQogICAgICAgIHJldHVybiBudWxsOw0KICAgICAgfSBlbHNl
IHsNCiAgICAgICAgcmV0dXJuKHRoaXMuZ2V0SGlnaGxpZ2h0KGxhc3QudG9TdHJpbmcoKSkpOw0K
ICAgICAgfQ0KICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKXsNCiAgICAgIHJldHVybiBudWxsOw0K
ICAgIH0NCiAgfQ0KfQ==


From MAILER-DAEMON Thu Apr 10 08:22:44 2003
Return-Path: 
 <lucene-user-return-4184-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7628 invoked from network); 10 Apr 2003 08:22:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 08:22:44 -0000
Received: (qmail 21554 invoked by uid 97); 10 Apr 2003 08:24:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21547 invoked from network); 10 Apr 2003 08:24:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 08:24:47 -0000
Received: (qmail 7406 invoked by uid 500); 10 Apr 2003 08:22:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7393 invoked from network); 10 Apr 2003 08:22:40 -0000
Received: from dennis.enea.se (192.36.1.67)
  by daedalus.apache.org with SMTP; 10 Apr 2003 08:22:40 -0000
Received: from freja.enea.se
	by dennis.enea.se (8.9.3/8.9.3) with ESMTP id KAA21259
	for <lucene-user@jakarta.apache.org>;
 Thu, 10 Apr 2003 10:23:13 +0200 (MET DST)
Received: from deathstar ([193.12.194.46])
	by freja.enea.se (Switch-2.0.1/Switch-2.0.1) with ESMTP id h3A8N9P25343
	for <lucene-user@jakarta.apache.org>;
 Thu, 10 Apr 2003 10:23:10 +0200 (MET DST)
From: =?iso-8859-1?Q?Per_B=F6ckman?= <pebo@enea.se>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: HTMLDocument.java example
Date: Thu, 10 Apr 2003 10:22:51 +0200
Organization: Enea Realtime AB
Message-ID: <000101c2ff3a$60fc2ac0$2ec20cc1@enea.se>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B77B@germany.prod.thop-ny.triplehop.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

For my system I didn't notice any significant differences between the to
approaches in terms of execution time, but I haven't done any real
performance analysis on this as both approaches where more than fast =
enough.

//Per

> -----Original Message-----
> From: Hui Ouyang [mailto:hui@triplehop.com]=20
> Sent: den 8 april 2003 15:31
> To: Lucene Users List
> Subject: RE: HTMLDocument.java example
>=20
>=20
> Hi,
> Do you know which one is faster? The date filter or data=20
> range query? Regards, Hui
>=20
> 	-----Original Message-----=20
> 	From: Per B=F6ckman [mailto:pebo@enea.se]=20
> 	Sent: Tue 4/8/2003 4:18 AM=20
> 	To: 'Lucene Users List'=20
> 	Cc:=20
> 	Subject: RE: HTMLDocument.java example
> =09
> =09
>=20
> 	Hi,
> =09
> 	I guess that you could apply a filter when you search.=20
> This way you could
> 	filter Documents based on dates that are "between",=20
> "after" or "before":
> =09
> 	// filter out Documents that are "modified, published,=20
> ..." after the
> 	current date
> 	DateFilter filter =3D DateFilter.Before(YOUR_DATE_FIELD,=20
> new Date());
> 	Searcher searcher =3D ...
> 	Query query =3D ....
> 	Hits hits =3D searcher.search(query, filter);
> =09
> 	Regards,
> 	Per
> =09
> =09
> 	> -----Original Message-----
> 	> From: Simon Lieschke [mailto:simon.lieschke@orionhealth.com]
> 	> Sent: den 8 april 2003 08:02
> 	> To: Lucene Users List
> 	> Subject: RE: HTMLDocument.java example
> 	>
> 	>
> 	> Uh-huh!
> 	>
> 	> Reading the QueryParser source code (which I probably should
> 	> have done first) reveals it will first attempt to treat a
> 	> range query as two dates, attempt to parse them and convert
> 	> them to string form using the DateField.dateToString method
> 	> (which is how the dates are stored in the index). Perhaps the
> 	> comment HTMLDocument.java code snippet needs to be a bit more
> 	> explicit as to why the dates get stored in the format they
> 	> do, so people like me don't get somewhat confused.
> 	>
> 	> Looking at the code also reveals there is currently no way to
> 	> specify wildcards for dates (like if I want to search all
> 	> docs before a certain date, or all docs after a certain date).
> 	>
> 	> Cheers,
> 	>
> 	>
> 	> Simon
> 	>
> 	> -----Original Message-----
> 	> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> 	> Sent: Tuesday, 8 April 2003 5:04 p.m.
> 	> To: Lucene Users List
> 	> Subject: RE: HTMLDocument.java example
> 	>
> 	>
> 	> I didn't really read all this carefully, but yes, you can use
> 	> dates in range queries with Lucene's QueryParser.  Query
> 	> sytax page has the details and should show the format of the
> 	> date that a user would have to enter in order for the
> 	> QueryParser to correctly handle dates. I guess you could
> 	> always try to handle users' date input yourself in your
> 	> application and convert it to the format that QueryParser
> 	> will understand.
> 	>
> 	> Otis
> 	>
> 	>
> 	> --- Simon Lieschke <simon.lieschke@orionhealth.com> wrote:
> 	> > Yes, there is.
> 	> >
> 	> > But as far as I can tell, the intention of the=20
> example code is to
> 	> > provide a searchable date field. Problem is that the
> 	> modified date is
> 	> > stored in a format that isn't very "human searchable". As
> 	> I've had no
> 	> > replies saying otherwise, I beginning to think there indeed
> 	> is a flaw
> 	> > in the implementation of the sample code here.
> 	> >
> 	> > Cheers,
> 	> >
> 	> >
> 	> > Simon
> 	> >
> 	> > -----Original Message-----
> 	> > From: Terry Steichen [mailto:terry@net-frame.com]
> 	> > Sent: Tuesday, 8 April 2003 12:31 a.m.
> 	> > To: Lucene Users List
> 	> > Subject: Re: HTMLDocument.java example
> 	> >
> 	> >
> 	> > Simon,
> 	> >
> 	> > I believe there's another method in DateField that converts
> 	> the value
> 	> > into a human readable form.
> 	> >
> 	> > Regards,
> 	> >
> 	> > Terry
> 	> >
> 	> > ----- Original Message -----
> 	> > From: "Simon Lieschke" <simon.lieschke@orionhealth.com>
> 	> > To: <lucene-user@jakarta.apache.org>
> 	> > Sent: Monday, April 07, 2003 12:41 AM
> 	> > Subject: HTMLDocument.java example
> 	> >
> 	> >
> 	> > The example code that ships with Lucene includes the
> 	> following snippet
> 	> > in
> 	> > HTMLDocument.java:
> 	> >
> 	> >     // Add the last modified date of the file a field named
> 	> > "modified".  Use a
> 	> >     // Keyword field, so that it's searchable, but so that
> 	> no attempt
> 	> > is
> 	> > made
> 	> >     // to tokenize the field into words.
> 	> >     doc.add(Field.Keyword("modified",
> 	> >   DateField.timeToString(f.lastModified())));
> 	> >
> 	> > Now, I guess the point of this is so that we can=20
> search for HTML
> 	> > documents using Lucene's range search syntax. But=20
> as far as I can
> 	> > tell, the result of
> 	> > DateField.timeToString(f.lastModified()) returns a
> 	> non-human readable
> 	> > date
> 	> > format, hence the modified field will not really be "human
> 	> > searchable"
> 	> > format. Is this an oversight in the example=20
> implementation, or am I
> 	> > just
> 	> > missing something else here?
> 	> >
> 	> > Thanks in advance,
> 	> >
> 	> >
> 	> > Simon
> 	> >
> 	> >
> 	>=20
> ---------------------------------------------------------------------
> 	> > To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	> > For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> 	> >
> 	> >
> 	> >
> 	> >
> 	> >
> 	>=20
> ---------------------------------------------------------------------
> 	> > To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	> > For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> 	> >
> 	> >
> 	> >
> 	>=20
> ---------------------------------------------------------------------
> 	> > To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	> > For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> 	> >
> 	>
> 	>
> 	> __________________________________________________
> 	> Do you Yahoo!?
> 	> Yahoo! Tax Center - File online, calculators, forms, and more
> 	http://tax.yahoo.com
> =09
> =09
> ---------------------------------------------------------------------
> 	To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> =09
> =09
> =09
> ---------------------------------------------------------------------
> 	To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> =09
> =09
> =09
> ---------------------------------------------------------------------
> 	To unsubscribe, e-mail:=20
> lucene-user-unsubscribe@jakarta.apache.org
> 	For additional commands, e-mail:=20
> lucene-user-help@jakarta.apache.org
> =09
> =09
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 09:00:43 2003
Return-Path: 
 <lucene-user-return-4185-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56426 invoked from network); 10 Apr 2003 09:00:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 09:00:43 -0000
Received: (qmail 22879 invoked by uid 97); 10 Apr 2003 09:02:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22872 invoked from network); 10 Apr 2003 09:02:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 09:02:47 -0000
Received: (qmail 56193 invoked by uid 500); 10 Apr 2003 09:00:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56174 invoked from network); 10 Apr 2003 09:00:40 -0000
Received: from main.gmane.org (80.91.224.249)
  by daedalus.apache.org with SMTP; 10 Apr 2003 09:00:40 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 193Xuu-0003cb-00
	for <lucene-user@jakarta.apache.org>; Thu, 10 Apr 2003 11:00:20 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from news by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 193XmO-00030X-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Thu, 10 Apr 2003 10:51:32 +0200
From: "Marc Guillemot" <mguillemot@yahoo.fr>
Subject: Searcher pool
Date: Thu, 10 Apr 2003 10:51:12 +0200
Lines: 18
Message-ID: <b73bak$b9c$1@main.gmane.org>
X-Complaints-To: usenet@main.gmane.org
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@main.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I would like to use a searcher pool or something like that to avoid opening
and closing an IndexSearcher for each query. I've read with interest the
mail:
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg01358.html

but I think such a wrapper is hasardous as long
Searcher.search(org.apache.lucene.search.Query) is final and not documented
as facility calling an other method:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searcher.
html#search(org.apache.lucene.search.Query)

Has someone here some experience using such a pool?

Marc.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 13:17:39 2003
Return-Path: 
 <lucene-user-return-4186-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59558 invoked from network); 10 Apr 2003 13:17:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 13:17:39 -0000
Received: (qmail 29058 invoked by uid 97); 10 Apr 2003 13:19:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29051 invoked from network); 10 Apr 2003 13:19:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 13:19:30 -0000
Received: (qmail 59260 invoked by uid 500); 10 Apr 2003 13:17:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59248 invoked from network); 10 Apr 2003 13:17:34 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com)
 (216.74.150.80)
  by daedalus.apache.org with SMTP; 10 Apr 2003 13:17:34 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C2FF64.2F47C8A2"
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Subject: RE: a simple highlight resolvent
Date: Thu, 10 Apr 2003 09:22:07 -0400
Message-ID: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B796@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B796@germany.prod.thop-ny.triplehop.com>
Thread-Topic: a simple highlight resolvent
Thread-Index: AcL/F9FgM4Y0y9HZSNSNz7T24XmvTwATDbqT
From: "Hui Ouyang" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C2FF64.2F47C8A2
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

cmVwbGFjZUFsbCgpIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBqZGsxNCBhYm92ZS4NCg0KCS0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IGtlZWxrZXJyQGhvdG1haWwuY29tIFttYWls
dG86a2VlbGtlcnJAaG90bWFpbC5jb21dIA0KCVNlbnQ6IFRodSA0LzEwLzIwMDMgMTI6MDkgQU0g
DQoJVG86IEx1Y2VuZSBVc2VycyBMaXN0IA0KCUNjOiANCglTdWJqZWN0OiBhIHNpbXBsZSBoaWdo
bGlnaHQgcmVzb2x2ZW50DQoJDQoJDQoNCgloaSBldmVyeW9uZSwNCglJIGFtIG5ldyBvbmUgaW4g
bHVjZW5lIGFuZCBnb3QgYSBsb3QgaGVscCBpbiBsYXN0IDIgd2Vla3MuIEhlcmUgSSB3YW50IHRv
IHNoYXJlIGEgYSBzaW1wbGUgaGlnaGxpZ2h0IHJlc29sdmVudC4gT2YgY291cnNlIEkgaGF2ZSB0
cnkgZGUuaXFjb21wdXRpbmcubHVjZW5lLiBIZXJlIGp1c3QgYSBzaW1wbGUgd2F5IGJhc2UgdGhl
IGRlbW8uIEhlcmUgaXMgdGhlIHNvdXJjZS4gSXQncyBhIGxpdHRsZSBpbmVwdC4gQW5kIEkgZG9u
J3QgZG9uJ3Qgd2h5IGl0IGNhbid0IGNvbXBpbGUgaWYgSSB1c2UgU3RyaW5nLnJlcGxhY2VBbGwo
KSwgU28gSSB3cml0ZSBhbm90aGVyIG1ldGhvZCB0byBoYW5kbGUgaXQuIEFueSBzdWdnZXN0aW9u
IGFyZSB3ZWxjb21lZC4NCgkgICAgICAgICAgS2Vyci4NCgkNCgl0byB1c2UgaXQgaW4gcmVzdWx0
cy5qc3AuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJaGwgPSBuZXcgb3JnLmFw
YWNoZS5sdWNlbmUuZGVtby5IaWdodExpZ2h0ZXIocXVlcnkudG9TdHJpbmcoImNvbnRlbnRzIikp
Ow0KCS4uLg0KCSAgICAgIHN1bW1hcnkgPSBobC5nZXRIaWdobGlnaHRGaWxlKHBhdGgpOw0KCSAg
ICAgIGlmIChzdW1tYXJ5ID09IG51bGwgfHwgc3VtbWFyeS5sZW5ndGgoKSA8IDEwMCApew0KCSAg
ICAgICAgIHN1bW1hcnkgPSBkb2MuZ2V0KCJzdW1tYXJ5Iik7DQoJIH0gY2F0Y2ggKEV4Y2VwdGlv
biBlKXsNCgkgICAgICAgIHN1bW1hcnkgPSBkb2MuZ2V0KCJzdW1tYXJ5Iik7DQoJfQ0KCS4uLg0K
CS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCXBhY2thZ2Ugb3JnLmFw
YWNoZS5sdWNlbmUuZGVtbzsNCgkNCglpbXBvcnQgamF2YS5pby4qOw0KCWltcG9ydCBqYXZhLnV0
aWwuKjsNCglpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5odG1sLkhUTUxQYXJzZXI7DQoJ
DQoJcHVibGljIGNsYXNzIEhpZ2h0TGlnaHRlciB7DQoJDQoJICBTdHJpbmdbXSBrZXlzOw0KCSAg
Ym9vbGVhbltdIGI7DQoJDQoJICBwdWJsaWMgSGlnaHRMaWdodGVyKFN0cmluZyBxdWVyeSkgew0K
CSAgICBIYXNoTWFwIGhpZ2hsaWdodCA9IG5ldyBIYXNoTWFwKCk7DQoJICAgIFN0cmluZ1Rva2Vu
aXplciBzdCA9IG5ldyBTdHJpbmdUb2tlbml6ZXIocXVlcnksICJcIiIpOw0KCSAgICBTdHJpbmcg
YVRva2VuOw0KCSAgICBpbnQgb2ZmID0gMDsNCgkgICAgd2hpbGUoc3QuaGFzTW9yZVRva2Vucygp
KXsNCgkgICAgICBhVG9rZW4gPSBzdC5uZXh0VG9rZW4oKTsNCgkgICAgICBjaGFyIGFDaGFyOw0K
CSAgICAgIFN0cmluZyBkZXN0ID0gIiI7DQoJICAgICAgZm9yKGludCBpPTA7IGk8YVRva2VuLmxl
bmd0aCgpOyBpKyspew0KCSAgICAgICAgYUNoYXIgPSBhVG9rZW4uY2hhckF0KGkpOw0KCSAgICAg
ICAgaWYgKGFDaGFyICE9ICcrJyAmJg0KCSAgICAgICAgICAgIGFDaGFyICE9ICctJyAmJg0KCSAg
ICAgICAgICAgIGFDaGFyICE9ICcoJyAmJg0KCSAgICAgICAgICAgIGFDaGFyICE9ICcpJyAmJg0K
CSAgICAgICAgICAgIGFDaGFyICE9ICcgJyl7DQoJICAgICAgICAgIGRlc3QgPSBkZXN0ICsgYUNo
YXI7DQoJICAgICAgICB9DQoJICAgICAgfQ0KCSAgICAgIGlmIChkZXN0Lmxlbmd0aCgpID4gMCkg
ew0KCSAgICAgICAgaGlnaGxpZ2h0LnB1dChJbnRlZ2VyLnRvU3RyaW5nKG9mZikgLCBkZXN0KTsN
CgkgICAgICAgIG9mZiA9IG9mZiArIDE7DQoJICAgICAgfQ0KCSAgICB9DQoJDQoJICAgIGtleXMg
PSBuZXcgU3RyaW5nW2hpZ2hsaWdodC5zaXplKCldOw0KCSAgICBiID0gbmV3IGJvb2xlYW5baGln
aGxpZ2h0LnNpemUoKV07DQoJICAgIGZvcihpbnQgYz0wOyBjPGhpZ2hsaWdodC5zaXplKCk7IGMr
Kyl7DQoJICAgICAga2V5c1tjXSA9IChTdHJpbmcpaGlnaGxpZ2h0LmdldChJbnRlZ2VyLnRvU3Ry
aW5nKGMpKTsNCgkgICAgICBiW2NdID0gZmFsc2U7DQoJICAgIH0NCgkgIH0NCgkNCgkgIHB1Ymxp
YyBTdHJpbmcgcmVwbGFjZUtleShTdHJpbmcgc291cmNlU3RyaW5nLCBTdHJpbmcga2V5KSB7DQoJ
ICAgIFN0cmluZyBkZXN0U3RyaW5nID0gIiI7DQoJICAgIGludCBpID0gc291cmNlU3RyaW5nLmlu
ZGV4T2Yoa2V5KTsNCgkgICAgd2hpbGUgKCBpICE9IC0xICkgew0KCSAgICAgIGRlc3RTdHJpbmcg
PSBkZXN0U3RyaW5nICsgc291cmNlU3RyaW5nLnN1YnN0cmluZygwLGkpDQoJICAgICAgICAgICAg
ICAgICArICI8Zm9udCBjb2xvcj1cInJlZFwiPiIgKyBrZXkgKyAiPC9mb250PiI7DQoJICAgICAg
c291cmNlU3RyaW5nID0gc291cmNlU3RyaW5nLnN1YnN0cmluZyhpK2tleS5sZW5ndGgoKSk7DQoJ
ICAgICAgaSA9IHNvdXJjZVN0cmluZy5pbmRleE9mKGtleSk7DQoJICAgIH0NCgkgICAgZGVzdFN0
cmluZyA9IGRlc3RTdHJpbmcrc291cmNlU3RyaW5nOw0KCSAgICByZXR1cm4gZGVzdFN0cmluZzsN
CgkgIH0NCgkNCgkgIHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0KFN0cmluZyBzdHJpbmcpew0K
CSAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCgkgICAgICBpZiAoc3RyaW5n
LmluZGV4T2Yoa2V5c1tpXSkgIT0gLTEpew0KCSAgICAgICAgLy9zdHJpbmcgPSBzdHJpbmcucmVw
bGFjZUFsbChrZXlzW2ldLCAiPGZvbnQgY29sb3I9XCJyZWRcIj4iICsga2V5c1tpXSArICI8L2Zv
bnQ+Iik7DQoJICAgICAgICBzdHJpbmcgPSByZXBsYWNlS2V5KHN0cmluZywga2V5c1tpXSk7DQoJ
ICAgICAgfQ0KCSAgICB9DQoJICAgIHJldHVybiBzdHJpbmc7DQoJICB9DQoJDQoJICBwdWJsaWMg
U3RyaW5nIGdldEhpZ2hsaWdodEZpbGUoU3RyaW5nIHBhdGgpDQoJICAgICAgdGhyb3dzIElPRXhj
ZXB0aW9uLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiAgew0KCQ0KCSAgICBIVE1MUGFyc2VyIHBhcnNl
ciA9IG5ldyBIVE1MUGFyc2VyKG5ldyBGaWxlKHBhdGgpKTsNCgkgICAgUmVhZGVyIGZyID0gcGFy
c2VyLmdldFJlYWRlcigpOw0KCSAgICBTdHJpbmcgaGxTdHJpbmcgPSB0aGlzLmdldEhpZ2hsaWdo
dChmcik7DQoJICAgIGZyLmNsb3NlKCk7DQoJICAgIHJldHVybiBobFN0cmluZzsNCgkgIH0NCgkN
CgkgIHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0KFJlYWRlciByZWFkZXIpew0KCQ0KCSAgICB0
cnl7DQoJICAgICAgaW50IHNpemUgPSA1IC0ga2V5cy5sZW5ndGg7DQoJICAgICAgaWYgKCBzaXpl
ID4gMCkgew0KCSAgICAgICAgc2l6ZSA9IHNpemUgKiAxMDA7DQoJICAgICAgfSBlbHNlIHsNCgkg
ICAgICAgIHNpemUgPSAxMDA7DQoJICAgICAgfQ0KCSAgICAgIGNoYXJbXSBidWZmZXIgPSBuZXcg
Y2hhcltzaXplXTsNCgkgICAgICBTdHJpbmdCdWZmZXIgbGFzdCA9IG5ldyBTdHJpbmdCdWZmZXIo
Ii4uIik7DQoJICAgICAgU3RyaW5nIHRlbXA7DQoJICAgICAgYm9vbGVhbiBlbmQgPSBmYWxzZTsN
CgkgICAgICBmb3IoaW50IGM9MDsgYzxiLmxlbmd0aDsgYysrKXsNCgkgICAgICAgIGJbY10gPSBm
YWxzZTsNCgkgICAgICB9DQoJDQoJICAgICAgd2hpbGUgKChyZWFkZXIucmVhZChidWZmZXIpICE9
IC0xKSAmJiAhZW5kKXsNCgkgICAgICAgIHRlbXAgPSBuZXcgU3RyaW5nKGJ1ZmZlcik7DQoJICAg
ICAgICAvL1N5c3RlbS5vdXQucHJpbnRsbih0ZW1wKTsNCgkgICAgICAgIC8vdGVtcCA9IHRlbXAu
cmVwbGFjZUFsbCgiXHJcbiIsICIgIik7DQoJICAgICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxl
bmd0aDsgaSsrKXsNCgkgICAgICAgICAgaWYgKCFiW2ldICYmIHRlbXAuaW5kZXhPZihrZXlzW2ld
KSAhPSAtMSl7DQoJICAgICAgICAgICAgYltpXSA9IHRydWU7DQoJICAgICAgICAgICAgLy90ZW1w
ID0gdGVtcC5yZXBsYWNlQWxsKGtleXNbaV0sICI8Zm9udCBjb2xvcj1cInJlZFwiPiIgKyBrZXlz
W2ldICsgIjwvZm9udD4iKTsNCgkgICAgICAgICAgICBsYXN0LmFwcGVuZCgiLiIgKyB0ZW1wICsg
Ii4uIik7DQoJICAgICAgICAgIH0NCgkgICAgICAgIH0NCgkgICAgICAgIGZvcihpbnQgaT0wOyBp
PGtleXMubGVuZ3RoOyBpKyspew0KCSAgICAgICAgICBpZiAoIWJbaV0pew0KCSAgICAgICAgICAg
IGVuZCA9IGZhbHNlOw0KCSAgICAgICAgICAgIGJyZWFrOw0KCSAgICAgICAgICB9IGVsc2Ugew0K
CSAgICAgICAgICAgIGVuZCA9IHRydWU7DQoJICAgICAgICAgIH0NCgkgICAgICAgIH0NCgkgICAg
ICB9DQoJICAgICAgbGFzdC5hcHBlbmQoIi4iKTsNCgkgICAgICBpZiAobGFzdC5sZW5ndGgoKSA8
IDEwMCl7DQoJICAgICAgICByZXR1cm4gbnVsbDsNCgkgICAgICB9IGVsc2Ugew0KCSAgICAgICAg
cmV0dXJuKHRoaXMuZ2V0SGlnaGxpZ2h0KGxhc3QudG9TdHJpbmcoKSkpOw0KCSAgICAgIH0NCgkg
ICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpew0KCSAgICAgIHJldHVybiBudWxsOw0KCSAgICB9DQoJ
ICB9DQoJfSANCg0K


------_=_NextPart_001_01C2FF64.2F47C8A2
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C2FF64.2F47C8A2--

From MAILER-DAEMON Thu Apr 10 13:41:31 2003
Return-Path: 
 <lucene-user-return-4187-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25290 invoked from network); 10 Apr 2003 13:41:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 13:41:31 -0000
Received: (qmail 29759 invoked by uid 97); 10 Apr 2003 13:43:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29752 invoked from network); 10 Apr 2003 13:43:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 13:43:23 -0000
Received: (qmail 25059 invoked by uid 500); 10 Apr 2003 13:41:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25047 invoked from network); 10 Apr 2003 13:41:28 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 10 Apr 2003 13:41:28 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP;
 Thu, 10 Apr 2003 06:40:10 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <2T2P5SQC>; Thu, 10 Apr 2003 06:41:29 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A9652B@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: a simple highlight resolvent
Date: Thu, 10 Apr 2003 06:40:13 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Kerr,
With your program is possible to highlight a string or word inside a
document in excel??  I need more clarification please. I will appreciate.
Thanks
Michel   


-----Original Message-----
From: Hui Ouyang [mailto:hui@triplehop.com] 
Sent: Thursday, April 10, 2003 3:22 PM
To: Lucene Users List
Subject: RE: a simple highlight resolvent

replaceAll() is only available for jdk14 above.

	-----Original Message----- 
	From: keelkerr@hotmail.com [mailto:keelkerr@hotmail.com] 
	Sent: Thu 4/10/2003 12:09 AM 
	To: Lucene Users List 
	Cc: 
	Subject: a simple highlight resolvent
	
	

	hi everyone,
	I am new one in lucene and got a lot help in last 2 weeks. Here I
want to share a a simple highlight resolvent. Of course I have try
de.iqcomputing.lucene. Here just a simple way base the demo. Here is the
source. It's a little inept. And I don't don't why it can't compile if I use
String.replaceAll(), So I write another method to handle it. Any suggestion
are welcomed.
	          Kerr.
	
	to use it in results.jsp. --------------------------------
	hl = new
org.apache.lucene.demo.HightLighter(query.toString("contents"));
	...
	      summary = hl.getHighlightFile(path);
	      if (summary == null || summary.length() < 100 ){
	         summary = doc.get("summary");
	 } catch (Exception e){
	        summary = doc.get("summary");
	}
	...
	---------------------------------------
	package org.apache.lucene.demo;
	
	import java.io.*;
	import java.util.*;
	import org.apache.lucene.demo.html.HTMLParser;
	
	public class HightLighter {
	
	  String[] keys;
	  boolean[] b;
	
	  public HightLighter(String query) {
	    HashMap highlight = new HashMap();
	    StringTokenizer st = new StringTokenizer(query, "\"");
	    String aToken;
	    int off = 0;
	    while(st.hasMoreTokens()){
	      aToken = st.nextToken();
	      char aChar;
	      String dest = "";
	      for(int i=0; i<aToken.length(); i++){
	        aChar = aToken.charAt(i);
	        if (aChar != '+' &&
	            aChar != '-' &&
	            aChar != '(' &&
	            aChar != ')' &&
	            aChar != ' '){
	          dest = dest + aChar;
	        }
	      }
	      if (dest.length() > 0) {
	        highlight.put(Integer.toString(off) , dest);
	        off = off + 1;
	      }
	    }
	
	    keys = new String[highlight.size()];
	    b = new boolean[highlight.size()];
	    for(int c=0; c<highlight.size(); c++){
	      keys[c] = (String)highlight.get(Integer.toString(c));
	      b[c] = false;
	    }
	  }
	
	  public String replaceKey(String sourceString, String key) {
	    String destString = "";
	    int i = sourceString.indexOf(key);
	    while ( i != -1 ) {
	      destString = destString + sourceString.substring(0,i)
	                 + "<font color=\"red\">" + key + "</font>";
	      sourceString = sourceString.substring(i+key.length());
	      i = sourceString.indexOf(key);
	    }
	    destString = destString+sourceString;
	    return destString;
	  }
	
	  public String getHighlight(String string){
	    for(int i=0; i<keys.length; i++){
	      if (string.indexOf(keys[i]) != -1){
	        //string = string.replaceAll(keys[i], "<font color=\"red\">"
+ keys[i] + "</font>");
	        string = replaceKey(string, keys[i]);
	      }
	    }
	    return string;
	  }
	
	  public String getHighlightFile(String path)
	      throws IOException, InterruptedException  {
	
	    HTMLParser parser = new HTMLParser(new File(path));
	    Reader fr = parser.getReader();
	    String hlString = this.getHighlight(fr);
	    fr.close();
	    return hlString;
	  }
	
	  public String getHighlight(Reader reader){
	
	    try{
	      int size = 5 - keys.length;
	      if ( size > 0) {
	        size = size * 100;
	      } else {
	        size = 100;
	      }
	      char[] buffer = new char[size];
	      StringBuffer last = new StringBuffer("..");
	      String temp;
	      boolean end = false;
	      for(int c=0; c<b.length; c++){
	        b[c] = false;
	      }
	
	      while ((reader.read(buffer) != -1) && !end){
	        temp = new String(buffer);
	        //System.out.println(temp);
	        //temp = temp.replaceAll("\r\n", " ");
	        for(int i=0; i<keys.length; i++){
	          if (!b[i] && temp.indexOf(keys[i]) != -1){
	            b[i] = true;
	            //temp = temp.replaceAll(keys[i], "<font color=\"red\">"
+ keys[i] + "</font>");
	            last.append("." + temp + "..");
	          }
	        }
	        for(int i=0; i<keys.length; i++){
	          if (!b[i]){
	            end = false;
	            break;
	          } else {
	            end = true;
	          }
	        }
	      }
	      last.append(".");
	      if (last.length() < 100){
	        return null;
	      } else {
	        return(this.getHighlight(last.toString()));
	      }
	    } catch (Exception e){
	      return null;
	    }
	  }
	} 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 16:34:26 2003
Return-Path: 
 <lucene-user-return-4188-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80052 invoked from network); 10 Apr 2003 16:34:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:34:26 -0000
Received: (qmail 6886 invoked by uid 97); 10 Apr 2003 16:36:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6879 invoked from network); 10 Apr 2003 16:36:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 16:36:19 -0000
Received: (qmail 79787 invoked by uid 500); 10 Apr 2003 16:34:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79776 invoked from network); 10 Apr 2003 16:34:23 -0000
Received: from oe60.law9.hotmail.com (HELO hotmail.com) (64.4.8.195)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:34:23 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 10 Apr 2003 09:34:26 -0700
Received: from 61.140.189.241 by oe60.law9.hotmail.com with DAV;
	Thu, 10 Apr 2003 16:34:26 +0000
X-Originating-IP: [61.140.189.241]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: ZUIVOTQNQEMSFDULHPQQWOYIYZUNN
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B796@germany.prod.thop-ny.triplehop.com>
Subject: Re: a simple highlight resolvent
Date: Fri, 11 Apr 2003 00:32:48 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <OE60d9Ee4zadTMVwVn2000197db@hotmail.com>
X-OriginalArrivalTime: 10 Apr 2003 16:34:26.0683 (UTC)
 FILETIME=[0D2DCCB0:01C2FF7F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGksIEh1aSwgbXkgamRrIGlzIDEuNCwgYW5kIHVzZSBTdHJpbmcucmVwbGFjZUFsbCgpIGluIHNv
bWUgb3RoZXIgcHJvZ3JhbS4NCiAgICAgICAgICAgICAgICAgICAgICAgS2Vycg0KLS0tLS0gT3Jp
Z2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJIdWkgT3V5YW5nIiA8aHVpQHRyaXBsZWhvcC5j
b20+DQpUbzogIkx1Y2VuZSBVc2VycyBMaXN0IiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUu
b3JnPg0KU2VudDogVGh1cnNkYXksIEFwcmlsIDEwLCAyMDAzIDk6MjIgUE0NClN1YmplY3Q6IFJF
OiBhIHNpbXBsZSBoaWdobGlnaHQgcmVzb2x2ZW50DQoNCg0KPiByZXBsYWNlQWxsKCkgaXMgb25s
eSBhdmFpbGFibGUgZm9yIGpkazE0IGFib3ZlLg0KPiANCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdl
LS0tLS0gDQo+IEZyb206IGtlZWxrZXJyQGhvdG1haWwuY29tIFttYWlsdG86a2VlbGtlcnJAaG90
bWFpbC5jb21dIA0KPiBTZW50OiBUaHUgNC8xMC8yMDAzIDEyOjA5IEFNIA0KPiBUbzogTHVjZW5l
IFVzZXJzIExpc3QgDQo+IENjOiANCj4gU3ViamVjdDogYSBzaW1wbGUgaGlnaGxpZ2h0IHJlc29s
dmVudA0KPiANCj4gDQo+IA0KPiBoaSBldmVyeW9uZSwNCj4gSSBhbSBuZXcgb25lIGluIGx1Y2Vu
ZSBhbmQgZ290IGEgbG90IGhlbHAgaW4gbGFzdCAyIHdlZWtzLiBIZXJlIEkgd2FudCB0byBzaGFy
ZSBhIGEgc2ltcGxlIGhpZ2hsaWdodCByZXNvbHZlbnQuIE9mIGNvdXJzZSBJIGhhdmUgdHJ5IGRl
LmlxY29tcHV0aW5nLmx1Y2VuZS4gSGVyZSBqdXN0IGEgc2ltcGxlIHdheSBiYXNlIHRoZSBkZW1v
LiBIZXJlIGlzIHRoZSBzb3VyY2UuIEl0J3MgYSBsaXR0bGUgaW5lcHQuIEFuZCBJIGRvbid0IGRv
bid0IHdoeSBpdCBjYW4ndCBjb21waWxlIGlmIEkgdXNlIFN0cmluZy5yZXBsYWNlQWxsKCksIFNv
IEkgd3JpdGUgYW5vdGhlciBtZXRob2QgdG8gaGFuZGxlIGl0LiBBbnkgc3VnZ2VzdGlvbiBhcmUg
d2VsY29tZWQuDQo+ICAgICAgICAgICBLZXJyLg0KPiANCj4gdG8gdXNlIGl0IGluIHJlc3VsdHMu
anNwLiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBobCA9IG5ldyBvcmcuYXBh
Y2hlLmx1Y2VuZS5kZW1vLkhpZ2h0TGlnaHRlcihxdWVyeS50b1N0cmluZygiY29udGVudHMiKSk7
DQo+IC4uLg0KPiAgICAgICBzdW1tYXJ5ID0gaGwuZ2V0SGlnaGxpZ2h0RmlsZShwYXRoKTsNCj4g
ICAgICAgaWYgKHN1bW1hcnkgPT0gbnVsbCB8fCBzdW1tYXJ5Lmxlbmd0aCgpIDwgMTAwICl7DQo+
ICAgICAgICAgIHN1bW1hcnkgPSBkb2MuZ2V0KCJzdW1tYXJ5Iik7DQo+IH0gY2F0Y2ggKEV4Y2Vw
dGlvbiBlKXsNCj4gICAgICAgICBzdW1tYXJ5ID0gZG9jLmdldCgic3VtbWFyeSIpOw0KPiB9DQo+
IC4uLg0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gcGFja2Fn
ZSBvcmcuYXBhY2hlLmx1Y2VuZS5kZW1vOw0KPiANCj4gaW1wb3J0IGphdmEuaW8uKjsNCj4gaW1w
b3J0IGphdmEudXRpbC4qOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5odG1sLkhU
TUxQYXJzZXI7DQo+IA0KPiBwdWJsaWMgY2xhc3MgSGlnaHRMaWdodGVyIHsNCj4gDQo+ICAgU3Ry
aW5nW10ga2V5czsNCj4gICBib29sZWFuW10gYjsNCj4gDQo+ICAgcHVibGljIEhpZ2h0TGlnaHRl
cihTdHJpbmcgcXVlcnkpIHsNCj4gICAgIEhhc2hNYXAgaGlnaGxpZ2h0ID0gbmV3IEhhc2hNYXAo
KTsNCj4gICAgIFN0cmluZ1Rva2VuaXplciBzdCA9IG5ldyBTdHJpbmdUb2tlbml6ZXIocXVlcnks
ICJcIiIpOw0KPiAgICAgU3RyaW5nIGFUb2tlbjsNCj4gICAgIGludCBvZmYgPSAwOw0KPiAgICAg
d2hpbGUoc3QuaGFzTW9yZVRva2VucygpKXsNCj4gICAgICAgYVRva2VuID0gc3QubmV4dFRva2Vu
KCk7DQo+ICAgICAgIGNoYXIgYUNoYXI7DQo+ICAgICAgIFN0cmluZyBkZXN0ID0gIiI7DQo+ICAg
ICAgIGZvcihpbnQgaT0wOyBpPGFUb2tlbi5sZW5ndGgoKTsgaSsrKXsNCj4gICAgICAgICBhQ2hh
ciA9IGFUb2tlbi5jaGFyQXQoaSk7DQo+ICAgICAgICAgaWYgKGFDaGFyICE9ICcrJyAmJg0KPiAg
ICAgICAgICAgICBhQ2hhciAhPSAnLScgJiYNCj4gICAgICAgICAgICAgYUNoYXIgIT0gJygnICYm
DQo+ICAgICAgICAgICAgIGFDaGFyICE9ICcpJyAmJg0KPiAgICAgICAgICAgICBhQ2hhciAhPSAn
ICcpew0KPiAgICAgICAgICAgZGVzdCA9IGRlc3QgKyBhQ2hhcjsNCj4gICAgICAgICB9DQo+ICAg
ICAgIH0NCj4gICAgICAgaWYgKGRlc3QubGVuZ3RoKCkgPiAwKSB7DQo+ICAgICAgICAgaGlnaGxp
Z2h0LnB1dChJbnRlZ2VyLnRvU3RyaW5nKG9mZikgLCBkZXN0KTsNCj4gICAgICAgICBvZmYgPSBv
ZmYgKyAxOw0KPiAgICAgICB9DQo+ICAgICB9DQo+IA0KPiAgICAga2V5cyA9IG5ldyBTdHJpbmdb
aGlnaGxpZ2h0LnNpemUoKV07DQo+ICAgICBiID0gbmV3IGJvb2xlYW5baGlnaGxpZ2h0LnNpemUo
KV07DQo+ICAgICBmb3IoaW50IGM9MDsgYzxoaWdobGlnaHQuc2l6ZSgpOyBjKyspew0KPiAgICAg
ICBrZXlzW2NdID0gKFN0cmluZyloaWdobGlnaHQuZ2V0KEludGVnZXIudG9TdHJpbmcoYykpOw0K
PiAgICAgICBiW2NdID0gZmFsc2U7DQo+ICAgICB9DQo+ICAgfQ0KPiANCj4gICBwdWJsaWMgU3Ry
aW5nIHJlcGxhY2VLZXkoU3RyaW5nIHNvdXJjZVN0cmluZywgU3RyaW5nIGtleSkgew0KPiAgICAg
U3RyaW5nIGRlc3RTdHJpbmcgPSAiIjsNCj4gICAgIGludCBpID0gc291cmNlU3RyaW5nLmluZGV4
T2Yoa2V5KTsNCj4gICAgIHdoaWxlICggaSAhPSAtMSApIHsNCj4gICAgICAgZGVzdFN0cmluZyA9
IGRlc3RTdHJpbmcgKyBzb3VyY2VTdHJpbmcuc3Vic3RyaW5nKDAsaSkNCj4gICAgICAgICAgICAg
ICAgICArICI8Zm9udCBjb2xvcj1cInJlZFwiPiIgKyBrZXkgKyAiPC9mb250PiI7DQo+ICAgICAg
IHNvdXJjZVN0cmluZyA9IHNvdXJjZVN0cmluZy5zdWJzdHJpbmcoaStrZXkubGVuZ3RoKCkpOw0K
PiAgICAgICBpID0gc291cmNlU3RyaW5nLmluZGV4T2Yoa2V5KTsNCj4gICAgIH0NCj4gICAgIGRl
c3RTdHJpbmcgPSBkZXN0U3RyaW5nK3NvdXJjZVN0cmluZzsNCj4gICAgIHJldHVybiBkZXN0U3Ry
aW5nOw0KPiAgIH0NCj4gDQo+ICAgcHVibGljIFN0cmluZyBnZXRIaWdobGlnaHQoU3RyaW5nIHN0
cmluZyl7DQo+ICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCj4gICAgICAg
aWYgKHN0cmluZy5pbmRleE9mKGtleXNbaV0pICE9IC0xKXsNCj4gICAgICAgICAvL3N0cmluZyA9
IHN0cmluZy5yZXBsYWNlQWxsKGtleXNbaV0sICI8Zm9udCBjb2xvcj1cInJlZFwiPiIgKyBrZXlz
W2ldICsgIjwvZm9udD4iKTsNCj4gICAgICAgICBzdHJpbmcgPSByZXBsYWNlS2V5KHN0cmluZywg
a2V5c1tpXSk7DQo+ICAgICAgIH0NCj4gICAgIH0NCj4gICAgIHJldHVybiBzdHJpbmc7DQo+ICAg
fQ0KPiANCj4gICBwdWJsaWMgU3RyaW5nIGdldEhpZ2hsaWdodEZpbGUoU3RyaW5nIHBhdGgpDQo+
ICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiwgSW50ZXJydXB0ZWRFeGNlcHRpb24gIHsNCj4gDQo+
ICAgICBIVE1MUGFyc2VyIHBhcnNlciA9IG5ldyBIVE1MUGFyc2VyKG5ldyBGaWxlKHBhdGgpKTsN
Cj4gICAgIFJlYWRlciBmciA9IHBhcnNlci5nZXRSZWFkZXIoKTsNCj4gICAgIFN0cmluZyBobFN0
cmluZyA9IHRoaXMuZ2V0SGlnaGxpZ2h0KGZyKTsNCj4gICAgIGZyLmNsb3NlKCk7DQo+ICAgICBy
ZXR1cm4gaGxTdHJpbmc7DQo+ICAgfQ0KPiANCj4gICBwdWJsaWMgU3RyaW5nIGdldEhpZ2hsaWdo
dChSZWFkZXIgcmVhZGVyKXsNCj4gDQo+ICAgICB0cnl7DQo+ICAgICAgIGludCBzaXplID0gNSAt
IGtleXMubGVuZ3RoOw0KPiAgICAgICBpZiAoIHNpemUgPiAwKSB7DQo+ICAgICAgICAgc2l6ZSA9
IHNpemUgKiAxMDA7DQo+ICAgICAgIH0gZWxzZSB7DQo+ICAgICAgICAgc2l6ZSA9IDEwMDsNCj4g
ICAgICAgfQ0KPiAgICAgICBjaGFyW10gYnVmZmVyID0gbmV3IGNoYXJbc2l6ZV07DQo+ICAgICAg
IFN0cmluZ0J1ZmZlciBsYXN0ID0gbmV3IFN0cmluZ0J1ZmZlcigiLi4iKTsNCj4gICAgICAgU3Ry
aW5nIHRlbXA7DQo+ICAgICAgIGJvb2xlYW4gZW5kID0gZmFsc2U7DQo+ICAgICAgIGZvcihpbnQg
Yz0wOyBjPGIubGVuZ3RoOyBjKyspew0KPiAgICAgICAgIGJbY10gPSBmYWxzZTsNCj4gICAgICAg
fQ0KPiANCj4gICAgICAgd2hpbGUgKChyZWFkZXIucmVhZChidWZmZXIpICE9IC0xKSAmJiAhZW5k
KXsNCj4gICAgICAgICB0ZW1wID0gbmV3IFN0cmluZyhidWZmZXIpOw0KPiAgICAgICAgIC8vU3lz
dGVtLm91dC5wcmludGxuKHRlbXApOw0KPiAgICAgICAgIC8vdGVtcCA9IHRlbXAucmVwbGFjZUFs
bCgiXHJcbiIsICIgIik7DQo+ICAgICAgICAgZm9yKGludCBpPTA7IGk8a2V5cy5sZW5ndGg7IGkr
Kyl7DQo+ICAgICAgICAgICBpZiAoIWJbaV0gJiYgdGVtcC5pbmRleE9mKGtleXNbaV0pICE9IC0x
KXsNCj4gICAgICAgICAgICAgYltpXSA9IHRydWU7DQo+ICAgICAgICAgICAgIC8vdGVtcCA9IHRl
bXAucmVwbGFjZUFsbChrZXlzW2ldLCAiPGZvbnQgY29sb3I9XCJyZWRcIj4iICsga2V5c1tpXSAr
ICI8L2ZvbnQ+Iik7DQo+ICAgICAgICAgICAgIGxhc3QuYXBwZW5kKCIuIiArIHRlbXAgKyAiLi4i
KTsNCj4gICAgICAgICAgIH0NCj4gICAgICAgICB9DQo+ICAgICAgICAgZm9yKGludCBpPTA7IGk8
a2V5cy5sZW5ndGg7IGkrKyl7DQo+ICAgICAgICAgICBpZiAoIWJbaV0pew0KPiAgICAgICAgICAg
ICBlbmQgPSBmYWxzZTsNCj4gICAgICAgICAgICAgYnJlYWs7DQo+ICAgICAgICAgICB9IGVsc2Ug
ew0KPiAgICAgICAgICAgICBlbmQgPSB0cnVlOw0KPiAgICAgICAgICAgfQ0KPiAgICAgICAgIH0N
Cj4gICAgICAgfQ0KPiAgICAgICBsYXN0LmFwcGVuZCgiLiIpOw0KPiAgICAgICBpZiAobGFzdC5s
ZW5ndGgoKSA8IDEwMCl7DQo+ICAgICAgICAgcmV0dXJuIG51bGw7DQo+ICAgICAgIH0gZWxzZSB7
DQo+ICAgICAgICAgcmV0dXJuKHRoaXMuZ2V0SGlnaGxpZ2h0KGxhc3QudG9TdHJpbmcoKSkpOw0K
PiAgICAgICB9DQo+ICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSl7DQo+ICAgICAgIHJldHVybiBu
dWxsOw0KPiAgICAgfQ0KPiAgIH0NCj4gfSANCj4gDQo+IA0KDQoNCi0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQoNCg0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVj
ZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFs
IGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3Jn


From MAILER-DAEMON Thu Apr 10 16:39:02 2003
Return-Path: 
 <lucene-user-return-4189-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98432 invoked from network); 10 Apr 2003 16:39:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:39:02 -0000
Received: (qmail 7039 invoked by uid 97); 10 Apr 2003 16:40:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7032 invoked from network); 10 Apr 2003 16:40:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 16:40:55 -0000
Received: (qmail 96199 invoked by uid 500); 10 Apr 2003 16:38:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96160 invoked from network); 10 Apr 2003 16:38:32 -0000
Received: from oe27.law9.hotmail.com (HELO hotmail.com) (64.4.8.84)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:38:32 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 10 Apr 2003 09:38:13 -0700
Received: from 61.140.189.241 by oe27.law9.hotmail.com with DAV;
	Thu, 10 Apr 2003 16:38:12 +0000
X-Originating-IP: [61.140.189.241]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: YCGPKYLEJGDGVCJVTLBXFGGMEPYOQ
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E9EE029E3896D511A2AA0002A589953003A9652B@bruex4.eu.levi.com>
Subject: Re: a simple highlight resolvent
Date: Fri, 11 Apr 2003 00:36:36 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <Law9-OE273HFnwpGR8800002582@hotmail.com>
X-OriginalArrivalTime: 10 Apr 2003 16:38:13.0115 (UTC)
 FILETIME=[942494B0:01C2FF7F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGkgTWljaGVsLCBJIGRvbid0IGtub3cgaWYgaXQgY2FuIGhpZ2hsaWdodCBleGNlbC4gYnV0IHBs
ZWFzZSBsb29rIGF0IA0KcHVibGljIFN0cmluZyBnZXRIaWdobGlnaHRGaWxlKFN0cmluZyBwYXRo
KQ0KcHVibGljIFN0cmluZyBnZXRIaWdobGlnaHQoUmVhZGVyIHJlYWRlcikNCg0KYW5kIGlmIHUg
Y2FuIHJlYWQgYSBleGNlbCBhcyBieSBhIFJlYWRlciB0aGVuIHlvdSBjYW4gaGlnaGxpZ2h0IHRo
ZW0uIFdvdWxkIHBsZWFzZSBsZXQgbWUga25vdyBpZiB1IGRvbmUgdGhpcyBmb3IgSSBjYW4gaW5k
ZXggLmRvYyBmaWxlLiBUaGFua3MuDQogICAgICAgICAgS2Vyci4NCg0KDQotLS0tLSBPcmlnaW5h
bCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogPE1NYWNoYWRvQExFVkkuY29tPg0KVG86IDxsdWNlbmUt
dXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQpTZW50OiBUaHVyc2RheSwgQXByaWwgMTAsIDIwMDMg
OTo0MCBQTQ0KU3ViamVjdDogUkU6IGEgc2ltcGxlIGhpZ2hsaWdodCByZXNvbHZlbnQNCg0KDQo+
IEhpIEtlcnIsDQo+IFdpdGggeW91ciBwcm9ncmFtIGlzIHBvc3NpYmxlIHRvIGhpZ2hsaWdodCBh
IHN0cmluZyBvciB3b3JkIGluc2lkZSBhDQo+IGRvY3VtZW50IGluIGV4Y2VsPz8gIEkgbmVlZCBt
b3JlIGNsYXJpZmljYXRpb24gcGxlYXNlLiBJIHdpbGwgYXBwcmVjaWF0ZS4NCj4gVGhhbmtzDQo+
IE1pY2hlbCAgIA0KPiANCj4gDQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206
IEh1aSBPdXlhbmcgW21haWx0bzpodWlAdHJpcGxlaG9wLmNvbV0gDQo+IFNlbnQ6IFRodXJzZGF5
LCBBcHJpbCAxMCwgMjAwMyAzOjIyIFBNDQo+IFRvOiBMdWNlbmUgVXNlcnMgTGlzdA0KPiBTdWJq
ZWN0OiBSRTogYSBzaW1wbGUgaGlnaGxpZ2h0IHJlc29sdmVudA0KPiANCj4gcmVwbGFjZUFsbCgp
IGlzIG9ubHkgYXZhaWxhYmxlIGZvciBqZGsxNCBhYm92ZS4NCj4gDQo+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tIA0KPiBGcm9tOiBrZWVsa2VyckBob3RtYWlsLmNvbSBbbWFpbHRvOmtlZWxr
ZXJyQGhvdG1haWwuY29tXSANCj4gU2VudDogVGh1IDQvMTAvMjAwMyAxMjowOSBBTSANCj4gVG86
IEx1Y2VuZSBVc2VycyBMaXN0IA0KPiBDYzogDQo+IFN1YmplY3Q6IGEgc2ltcGxlIGhpZ2hsaWdo
dCByZXNvbHZlbnQNCj4gDQo+IA0KPiANCj4gaGkgZXZlcnlvbmUsDQo+IEkgYW0gbmV3IG9uZSBp
biBsdWNlbmUgYW5kIGdvdCBhIGxvdCBoZWxwIGluIGxhc3QgMiB3ZWVrcy4gSGVyZSBJDQo+IHdh
bnQgdG8gc2hhcmUgYSBhIHNpbXBsZSBoaWdobGlnaHQgcmVzb2x2ZW50LiBPZiBjb3Vyc2UgSSBo
YXZlIHRyeQ0KPiBkZS5pcWNvbXB1dGluZy5sdWNlbmUuIEhlcmUganVzdCBhIHNpbXBsZSB3YXkg
YmFzZSB0aGUgZGVtby4gSGVyZSBpcyB0aGUNCj4gc291cmNlLiBJdCdzIGEgbGl0dGxlIGluZXB0
LiBBbmQgSSBkb24ndCBkb24ndCB3aHkgaXQgY2FuJ3QgY29tcGlsZSBpZiBJIHVzZQ0KPiBTdHJp
bmcucmVwbGFjZUFsbCgpLCBTbyBJIHdyaXRlIGFub3RoZXIgbWV0aG9kIHRvIGhhbmRsZSBpdC4g
QW55IHN1Z2dlc3Rpb24NCj4gYXJlIHdlbGNvbWVkLg0KPiAgICAgICAgICAgS2Vyci4NCj4gDQo+
IHRvIHVzZSBpdCBpbiByZXN1bHRzLmpzcC4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0NCj4gaGwgPSBuZXcNCj4gb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5IaWdodExpZ2h0ZXIocXVl
cnkudG9TdHJpbmcoImNvbnRlbnRzIikpOw0KPiAuLi4NCj4gICAgICAgc3VtbWFyeSA9IGhsLmdl
dEhpZ2hsaWdodEZpbGUocGF0aCk7DQo+ICAgICAgIGlmIChzdW1tYXJ5ID09IG51bGwgfHwgc3Vt
bWFyeS5sZW5ndGgoKSA8IDEwMCApew0KPiAgICAgICAgICBzdW1tYXJ5ID0gZG9jLmdldCgic3Vt
bWFyeSIpOw0KPiB9IGNhdGNoIChFeGNlcHRpb24gZSl7DQo+ICAgICAgICAgc3VtbWFyeSA9IGRv
Yy5nZXQoInN1bW1hcnkiKTsNCj4gfQ0KPiAuLi4NCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tDQo+IHBhY2thZ2Ugb3JnLmFwYWNoZS5sdWNlbmUuZGVtbzsNCj4gDQo+
IGltcG9ydCBqYXZhLmlvLio7DQo+IGltcG9ydCBqYXZhLnV0aWwuKjsNCj4gaW1wb3J0IG9yZy5h
cGFjaGUubHVjZW5lLmRlbW8uaHRtbC5IVE1MUGFyc2VyOw0KPiANCj4gcHVibGljIGNsYXNzIEhp
Z2h0TGlnaHRlciB7DQo+IA0KPiAgIFN0cmluZ1tdIGtleXM7DQo+ICAgYm9vbGVhbltdIGI7DQo+
IA0KPiAgIHB1YmxpYyBIaWdodExpZ2h0ZXIoU3RyaW5nIHF1ZXJ5KSB7DQo+ICAgICBIYXNoTWFw
IGhpZ2hsaWdodCA9IG5ldyBIYXNoTWFwKCk7DQo+ICAgICBTdHJpbmdUb2tlbml6ZXIgc3QgPSBu
ZXcgU3RyaW5nVG9rZW5pemVyKHF1ZXJ5LCAiXCIiKTsNCj4gICAgIFN0cmluZyBhVG9rZW47DQo+
ICAgICBpbnQgb2ZmID0gMDsNCj4gICAgIHdoaWxlKHN0Lmhhc01vcmVUb2tlbnMoKSl7DQo+ICAg
ICAgIGFUb2tlbiA9IHN0Lm5leHRUb2tlbigpOw0KPiAgICAgICBjaGFyIGFDaGFyOw0KPiAgICAg
ICBTdHJpbmcgZGVzdCA9ICIiOw0KPiAgICAgICBmb3IoaW50IGk9MDsgaTxhVG9rZW4ubGVuZ3Ro
KCk7IGkrKyl7DQo+ICAgICAgICAgYUNoYXIgPSBhVG9rZW4uY2hhckF0KGkpOw0KPiAgICAgICAg
IGlmIChhQ2hhciAhPSAnKycgJiYNCj4gICAgICAgICAgICAgYUNoYXIgIT0gJy0nICYmDQo+ICAg
ICAgICAgICAgIGFDaGFyICE9ICcoJyAmJg0KPiAgICAgICAgICAgICBhQ2hhciAhPSAnKScgJiYN
Cj4gICAgICAgICAgICAgYUNoYXIgIT0gJyAnKXsNCj4gICAgICAgICAgIGRlc3QgPSBkZXN0ICsg
YUNoYXI7DQo+ICAgICAgICAgfQ0KPiAgICAgICB9DQo+ICAgICAgIGlmIChkZXN0Lmxlbmd0aCgp
ID4gMCkgew0KPiAgICAgICAgIGhpZ2hsaWdodC5wdXQoSW50ZWdlci50b1N0cmluZyhvZmYpICwg
ZGVzdCk7DQo+ICAgICAgICAgb2ZmID0gb2ZmICsgMTsNCj4gICAgICAgfQ0KPiAgICAgfQ0KPiAN
Cj4gICAgIGtleXMgPSBuZXcgU3RyaW5nW2hpZ2hsaWdodC5zaXplKCldOw0KPiAgICAgYiA9IG5l
dyBib29sZWFuW2hpZ2hsaWdodC5zaXplKCldOw0KPiAgICAgZm9yKGludCBjPTA7IGM8aGlnaGxp
Z2h0LnNpemUoKTsgYysrKXsNCj4gICAgICAga2V5c1tjXSA9IChTdHJpbmcpaGlnaGxpZ2h0Lmdl
dChJbnRlZ2VyLnRvU3RyaW5nKGMpKTsNCj4gICAgICAgYltjXSA9IGZhbHNlOw0KPiAgICAgfQ0K
PiAgIH0NCj4gDQo+ICAgcHVibGljIFN0cmluZyByZXBsYWNlS2V5KFN0cmluZyBzb3VyY2VTdHJp
bmcsIFN0cmluZyBrZXkpIHsNCj4gICAgIFN0cmluZyBkZXN0U3RyaW5nID0gIiI7DQo+ICAgICBp
bnQgaSA9IHNvdXJjZVN0cmluZy5pbmRleE9mKGtleSk7DQo+ICAgICB3aGlsZSAoIGkgIT0gLTEg
KSB7DQo+ICAgICAgIGRlc3RTdHJpbmcgPSBkZXN0U3RyaW5nICsgc291cmNlU3RyaW5nLnN1YnN0
cmluZygwLGkpDQo+ICAgICAgICAgICAgICAgICAgKyAiPGZvbnQgY29sb3I9XCJyZWRcIj4iICsg
a2V5ICsgIjwvZm9udD4iOw0KPiAgICAgICBzb3VyY2VTdHJpbmcgPSBzb3VyY2VTdHJpbmcuc3Vi
c3RyaW5nKGkra2V5Lmxlbmd0aCgpKTsNCj4gICAgICAgaSA9IHNvdXJjZVN0cmluZy5pbmRleE9m
KGtleSk7DQo+ICAgICB9DQo+ICAgICBkZXN0U3RyaW5nID0gZGVzdFN0cmluZytzb3VyY2VTdHJp
bmc7DQo+ICAgICByZXR1cm4gZGVzdFN0cmluZzsNCj4gICB9DQo+IA0KPiAgIHB1YmxpYyBTdHJp
bmcgZ2V0SGlnaGxpZ2h0KFN0cmluZyBzdHJpbmcpew0KPiAgICAgZm9yKGludCBpPTA7IGk8a2V5
cy5sZW5ndGg7IGkrKyl7DQo+ICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZihrZXlzW2ldKSAhPSAt
MSl7DQo+ICAgICAgICAgLy9zdHJpbmcgPSBzdHJpbmcucmVwbGFjZUFsbChrZXlzW2ldLCAiPGZv
bnQgY29sb3I9XCJyZWRcIj4iDQo+ICsga2V5c1tpXSArICI8L2ZvbnQ+Iik7DQo+ICAgICAgICAg
c3RyaW5nID0gcmVwbGFjZUtleShzdHJpbmcsIGtleXNbaV0pOw0KPiAgICAgICB9DQo+ICAgICB9
DQo+ICAgICByZXR1cm4gc3RyaW5nOw0KPiAgIH0NCj4gDQo+ICAgcHVibGljIFN0cmluZyBnZXRI
aWdobGlnaHRGaWxlKFN0cmluZyBwYXRoKQ0KPiAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24sIElu
dGVycnVwdGVkRXhjZXB0aW9uICB7DQo+IA0KPiAgICAgSFRNTFBhcnNlciBwYXJzZXIgPSBuZXcg
SFRNTFBhcnNlcihuZXcgRmlsZShwYXRoKSk7DQo+ICAgICBSZWFkZXIgZnIgPSBwYXJzZXIuZ2V0
UmVhZGVyKCk7DQo+ICAgICBTdHJpbmcgaGxTdHJpbmcgPSB0aGlzLmdldEhpZ2hsaWdodChmcik7
DQo+ICAgICBmci5jbG9zZSgpOw0KPiAgICAgcmV0dXJuIGhsU3RyaW5nOw0KPiAgIH0NCj4gDQo+
ICAgcHVibGljIFN0cmluZyBnZXRIaWdobGlnaHQoUmVhZGVyIHJlYWRlcil7DQo+IA0KPiAgICAg
dHJ5ew0KPiAgICAgICBpbnQgc2l6ZSA9IDUgLSBrZXlzLmxlbmd0aDsNCj4gICAgICAgaWYgKCBz
aXplID4gMCkgew0KPiAgICAgICAgIHNpemUgPSBzaXplICogMTAwOw0KPiAgICAgICB9IGVsc2Ug
ew0KPiAgICAgICAgIHNpemUgPSAxMDA7DQo+ICAgICAgIH0NCj4gICAgICAgY2hhcltdIGJ1ZmZl
ciA9IG5ldyBjaGFyW3NpemVdOw0KPiAgICAgICBTdHJpbmdCdWZmZXIgbGFzdCA9IG5ldyBTdHJp
bmdCdWZmZXIoIi4uIik7DQo+ICAgICAgIFN0cmluZyB0ZW1wOw0KPiAgICAgICBib29sZWFuIGVu
ZCA9IGZhbHNlOw0KPiAgICAgICBmb3IoaW50IGM9MDsgYzxiLmxlbmd0aDsgYysrKXsNCj4gICAg
ICAgICBiW2NdID0gZmFsc2U7DQo+ICAgICAgIH0NCj4gDQo+ICAgICAgIHdoaWxlICgocmVhZGVy
LnJlYWQoYnVmZmVyKSAhPSAtMSkgJiYgIWVuZCl7DQo+ICAgICAgICAgdGVtcCA9IG5ldyBTdHJp
bmcoYnVmZmVyKTsNCj4gICAgICAgICAvL1N5c3RlbS5vdXQucHJpbnRsbih0ZW1wKTsNCj4gICAg
ICAgICAvL3RlbXAgPSB0ZW1wLnJlcGxhY2VBbGwoIlxyXG4iLCAiICIpOw0KPiAgICAgICAgIGZv
cihpbnQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspew0KPiAgICAgICAgICAgaWYgKCFiW2ldICYm
IHRlbXAuaW5kZXhPZihrZXlzW2ldKSAhPSAtMSl7DQo+ICAgICAgICAgICAgIGJbaV0gPSB0cnVl
Ow0KPiAgICAgICAgICAgICAvL3RlbXAgPSB0ZW1wLnJlcGxhY2VBbGwoa2V5c1tpXSwgIjxmb250
IGNvbG9yPVwicmVkXCI+Ig0KPiArIGtleXNbaV0gKyAiPC9mb250PiIpOw0KPiAgICAgICAgICAg
ICBsYXN0LmFwcGVuZCgiLiIgKyB0ZW1wICsgIi4uIik7DQo+ICAgICAgICAgICB9DQo+ICAgICAg
ICAgfQ0KPiAgICAgICAgIGZvcihpbnQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspew0KPiAgICAg
ICAgICAgaWYgKCFiW2ldKXsNCj4gICAgICAgICAgICAgZW5kID0gZmFsc2U7DQo+ICAgICAgICAg
ICAgIGJyZWFrOw0KPiAgICAgICAgICAgfSBlbHNlIHsNCj4gICAgICAgICAgICAgZW5kID0gdHJ1
ZTsNCj4gICAgICAgICAgIH0NCj4gICAgICAgICB9DQo+ICAgICAgIH0NCj4gICAgICAgbGFzdC5h
cHBlbmQoIi4iKTsNCj4gICAgICAgaWYgKGxhc3QubGVuZ3RoKCkgPCAxMDApew0KPiAgICAgICAg
IHJldHVybiBudWxsOw0KPiAgICAgICB9IGVsc2Ugew0KPiAgICAgICAgIHJldHVybih0aGlzLmdl
dEhpZ2hsaWdodChsYXN0LnRvU3RyaW5nKCkpKTsNCj4gICAgICAgfQ0KPiAgICAgfSBjYXRjaCAo
RXhjZXB0aW9uIGUpew0KPiAgICAgICByZXR1cm4gbnVsbDsNCj4gICAgIH0NCj4gICB9DQo+IH0g
DQo+IA0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2Vu
ZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KPiAN
Cj4g


From MAILER-DAEMON Thu Apr 10 16:45:12 2003
Return-Path: 
 <lucene-user-return-4190-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16111 invoked from network); 10 Apr 2003 16:45:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:45:12 -0000
Received: (qmail 7271 invoked by uid 97); 10 Apr 2003 16:47:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7264 invoked from network); 10 Apr 2003 16:47:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 16:47:05 -0000
Received: (qmail 15712 invoked by uid 500); 10 Apr 2003 16:45:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15667 invoked from network); 10 Apr 2003 16:45:07 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 10 Apr 2003 16:45:07 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP;
 Thu, 10 Apr 2003 09:43:51 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <2T2P6JBK>; Thu, 10 Apr 2003 09:45:10 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A9652C@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: a simple highlight resolvent
Date: Thu, 10 Apr 2003 09:45:12 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
Me again, at the final of your program I put a main() method to run the
application like this:

public static void main(String[] args) {
	  	try {
	  		hightLighter h = new hightLighter("DAMS3020");
	  		h.getHighlightFile("c:\\myindex");
	  	}catch (Exception h) {
	  		System.out.println(h.getMessage());
	  	}
	  }
and I received the following message:

c:\myindex (Access is denied). I don't understand why. Is my folder and when
I do a search for the same string (DAMS3020) I receive a link where I can to
find the string specified, so I can access, isn't it????. The string is in
an excel file(is a problem maybe?).
Thanks in advance if somebody can help me.
Michel

-----Original Message-----
From: Machado, Michel 
Sent: Thursday, April 10, 2003 3:40 PM
To: lucene-user@jakarta.apache.org
Subject: RE: a simple highlight resolvent

Hi Kerr,
With your program is possible to highlight a string or word inside a
document in excel??  I need more clarification please. I will appreciate.
Thanks
Michel   


-----Original Message-----
From: Hui Ouyang [mailto:hui@triplehop.com] 
Sent: Thursday, April 10, 2003 3:22 PM
To: Lucene Users List
Subject: RE: a simple highlight resolvent

replaceAll() is only available for jdk14 above.

	-----Original Message----- 
	From: keelkerr@hotmail.com [mailto:keelkerr@hotmail.com] 
	Sent: Thu 4/10/2003 12:09 AM 
	To: Lucene Users List 
	Cc: 
	Subject: a simple highlight resolvent
	
	

	hi everyone,
	I am new one in lucene and got a lot help in last 2 weeks. Here I
want to share a a simple highlight resolvent. Of course I have try
de.iqcomputing.lucene. Here just a simple way base the demo. Here is the
source. It's a little inept. And I don't don't why it can't compile if I use
String.replaceAll(), So I write another method to handle it. Any suggestion
are welcomed.
	          Kerr.
	
	to use it in results.jsp. --------------------------------
	hl = new
org.apache.lucene.demo.HightLighter(query.toString("contents"));
	...
	      summary = hl.getHighlightFile(path);
	      if (summary == null || summary.length() < 100 ){
	         summary = doc.get("summary");
	 } catch (Exception e){
	        summary = doc.get("summary");
	}
	...
	---------------------------------------
	package org.apache.lucene.demo;
	
	import java.io.*;
	import java.util.*;
	import org.apache.lucene.demo.html.HTMLParser;
	
	public class HightLighter {
	
	  String[] keys;
	  boolean[] b;
	
	  public HightLighter(String query) {
	    HashMap highlight = new HashMap();
	    StringTokenizer st = new StringTokenizer(query, "\"");
	    String aToken;
	    int off = 0;
	    while(st.hasMoreTokens()){
	      aToken = st.nextToken();
	      char aChar;
	      String dest = "";
	      for(int i=0; i<aToken.length(); i++){
	        aChar = aToken.charAt(i);
	        if (aChar != '+' &&
	            aChar != '-' &&
	            aChar != '(' &&
	            aChar != ')' &&
	            aChar != ' '){
	          dest = dest + aChar;
	        }
	      }
	      if (dest.length() > 0) {
	        highlight.put(Integer.toString(off) , dest);
	        off = off + 1;
	      }
	    }
	
	    keys = new String[highlight.size()];
	    b = new boolean[highlight.size()];
	    for(int c=0; c<highlight.size(); c++){
	      keys[c] = (String)highlight.get(Integer.toString(c));
	      b[c] = false;
	    }
	  }
	
	  public String replaceKey(String sourceString, String key) {
	    String destString = "";
	    int i = sourceString.indexOf(key);
	    while ( i != -1 ) {
	      destString = destString + sourceString.substring(0,i)
	                 + "<font color=\"red\">" + key + "</font>";
	      sourceString = sourceString.substring(i+key.length());
	      i = sourceString.indexOf(key);
	    }
	    destString = destString+sourceString;
	    return destString;
	  }
	
	  public String getHighlight(String string){
	    for(int i=0; i<keys.length; i++){
	      if (string.indexOf(keys[i]) != -1){
	        //string = string.replaceAll(keys[i], "<font color=\"red\">"
+ keys[i] + "</font>");
	        string = replaceKey(string, keys[i]);
	      }
	    }
	    return string;
	  }
	
	  public String getHighlightFile(String path)
	      throws IOException, InterruptedException  {
	
	    HTMLParser parser = new HTMLParser(new File(path));
	    Reader fr = parser.getReader();
	    String hlString = this.getHighlight(fr);
	    fr.close();
	    return hlString;
	  }
	
	  public String getHighlight(Reader reader){
	
	    try{
	      int size = 5 - keys.length;
	      if ( size > 0) {
	        size = size * 100;
	      } else {
	        size = 100;
	      }
	      char[] buffer = new char[size];
	      StringBuffer last = new StringBuffer("..");
	      String temp;
	      boolean end = false;
	      for(int c=0; c<b.length; c++){
	        b[c] = false;
	      }
	
	      while ((reader.read(buffer) != -1) && !end){
	        temp = new String(buffer);
	        //System.out.println(temp);
	        //temp = temp.replaceAll("\r\n", " ");
	        for(int i=0; i<keys.length; i++){
	          if (!b[i] && temp.indexOf(keys[i]) != -1){
	            b[i] = true;
	            //temp = temp.replaceAll(keys[i], "<font color=\"red\">"
+ keys[i] + "</font>");
	            last.append("." + temp + "..");
	          }
	        }
	        for(int i=0; i<keys.length; i++){
	          if (!b[i]){
	            end = false;
	            break;
	          } else {
	            end = true;
	          }
	        }
	      }
	      last.append(".");
	      if (last.length() < 100){
	        return null;
	      } else {
	        return(this.getHighlight(last.toString()));
	      }
	    } catch (Exception e){
	      return null;
	    }
	  }
	} 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 17:31:33 2003
Return-Path: 
 <lucene-user-return-4191-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14743 invoked from network); 10 Apr 2003 17:31:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 17:31:33 -0000
Received: (qmail 8738 invoked by uid 97); 10 Apr 2003 17:33:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8731 invoked from network); 10 Apr 2003 17:33:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 17:33:27 -0000
Received: (qmail 13918 invoked by uid 500); 10 Apr 2003 17:31:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13882 invoked from network); 10 Apr 2003 17:31:24 -0000
Received: from oe43.law9.hotmail.com (HELO hotmail.com) (64.4.8.15)
  by daedalus.apache.org with SMTP; 10 Apr 2003 17:31:24 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 10 Apr 2003 10:31:28 -0700
Received: from 61.140.189.241 by oe43.law9.hotmail.com with DAV;
	Thu, 10 Apr 2003 17:31:27 +0000
X-Originating-IP: [61.140.189.241]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: QNQEMSFDULHPQQWOYIYZUNNYCGPKY
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E9EE029E3896D511A2AA0002A589953003A9652C@bruex4.eu.levi.com>
Subject: Re: a simple highlight resolvent
Date: Fri, 11 Apr 2003 01:29:51 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <OE43HkidcDjoYAPNXRP000198ed@hotmail.com>
X-OriginalArrivalTime: 10 Apr 2003 17:31:28.0098 (UTC)
 FILETIME=[04804C20:01C2FF87]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SGksIEkgdGhpbmsgeW91IGNhbid0IHVzZSBpdCBpbiB0aGlzIHdheSwgaXQncyBmb3Igd2hlbiB5
b3UgZ2V0IGEgZmlsZShpc24ndCBhIGRpcmVjdG9yeSksIHN1Y2ggYXMgdGVzdC50eHQgb3IgdGVz
dC5odG1sIHRoZW4gaGlnaGxpZ2h0ICJEQU1TMzAyMCIgaW4geW91ciBmaWxlLiBpZiB5b3Ugd2Fu
dCB0byBoaWdobGlnaHQgd2hvbGUgaW5kZXgsIHlvdSBoYXZlIHRvIGdldCBhbGwgaW5kZXhlZCBm
aWxlIG9uZSBieSBvbmUgZmlyc3QuIEJ1dCBIaWdobGlnaHRlciBvbmx5IG5lZWQgdG8gY29uc3Ry
YWN0IG9ubHkgb25jZQ0KICAgcXVlcnkgPSBRdWVyeVBhcnNlci5wYXJzZShxdWVyeVN0cmluZywg
ImNvbnRlbnRzIiwgYW5hbHl6ZXIpOw0KICAgaGwgPSBuZXcgb3JnLmFwYWNoZS5sdWNlbmUuZGVt
by5IaWdodExpZ2h0ZXIocXVlcnkudG9TdHJpbmcoImNvbnRlbnRzIikpOw0KdGhlIHF1ZXJ5LnRv
U3RyaW5nKCJjb250ZW50cyIpIGlzIHBhcnNlZCBxdWVyeVN0cmluZywgc3VjaCBhcyANCiAgIHF1
ZXJ5U3RyaW5nID0gKGErYiktYzsgdGhlbiAgcXVlcnkudG9TdHJpbmcoImNvbnRlbnRzIikgIHdp
bGwgYmUgYXMgYSBUb2tlbiAiYSIgIitiIiAiLWMiLg0KdGhlbiBjYWxsIGguZ2V0SGlnaGxpZ2h0
RmlsZSgiYzpcXHRlbXBcXGFSZWFsRmlsZSIpIGZvciBlYWNoIGZpbGUsIHRoZW4gZ2V0IGEgaGln
aGxpZ2h0ZWQgc3RyaW5nIGluY2x1ZGUgeW91ciBhbGwgdGVybXMuDQoNCkluIHRoZSBzb3VyY2Us
IEkgdXNlZCBIVE1MUGFyc2VyIHRvIHJlYWQgLmh0bWwgZmlsZS4gSWYgeW91IGZpbGUgaXNuJ3Qg
Lmh0bWwsIHlvdSBzaG91bGQgY2hhbmdlIHRoZSBzb3VjZSBhIGxpdHRsZQ0KZnJvbSANCiAgSFRN
TFBhcnNlciBwYXJzZXIgPSBuZXcgSFRNTFBhcnNlcihuZXcgRmlsZShwYXRoKSk7DQogIFJlYWRl
ciBmciA9IHBhcnNlci5nZXRSZWFkZXIoKTsNCnRvDQogIEZpbGVSZWFkZXIgZnIgPSBuZXcgRmls
ZVJlYWRlcihuZXcgRmlsZShwYXRoKSk7DQoNCmhvcGUgdGhpcyBjYW4gaGVscC4NCiAgICAgICAg
IEtlcnIgDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiA8TU1hY2hhZG9A
TEVWSS5jb20+DQpUbzogPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNlbnQ6IEZy
aWRheSwgQXByaWwgMTEsIDIwMDMgMTI6NDUgQU0NClN1YmplY3Q6IFJFOiBhIHNpbXBsZSBoaWdo
bGlnaHQgcmVzb2x2ZW50DQoNCg0KPiBIaSwNCj4gTWUgYWdhaW4sIGF0IHRoZSBmaW5hbCBvZiB5
b3VyIHByb2dyYW0gSSBwdXQgYSBtYWluKCkgbWV0aG9kIHRvIHJ1biB0aGUNCj4gYXBwbGljYXRp
b24gbGlrZSB0aGlzOg0KPiANCj4gcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJn
cykgew0KPiAgIHRyeSB7DQo+ICAgaGlnaHRMaWdodGVyIGggPSBuZXcgaGlnaHRMaWdodGVyKCJE
QU1TMzAyMCIpOw0KPiAgIGguZ2V0SGlnaGxpZ2h0RmlsZSgiYzpcXG15aW5kZXgiKTsNCj4gICB9
Y2F0Y2ggKEV4Y2VwdGlvbiBoKSB7DQo+ICAgU3lzdGVtLm91dC5wcmludGxuKGguZ2V0TWVzc2Fn
ZSgpKTsNCj4gICB9DQo+ICAgfQ0KPiBhbmQgSSByZWNlaXZlZCB0aGUgZm9sbG93aW5nIG1lc3Nh
Z2U6DQo+IA0KPiBjOlxteWluZGV4IChBY2Nlc3MgaXMgZGVuaWVkKS4gSSBkb24ndCB1bmRlcnN0
YW5kIHdoeS4gSXMgbXkgZm9sZGVyIGFuZCB3aGVuDQo+IEkgZG8gYSBzZWFyY2ggZm9yIHRoZSBz
YW1lIHN0cmluZyAoREFNUzMwMjApIEkgcmVjZWl2ZSBhIGxpbmsgd2hlcmUgSSBjYW4gdG8NCj4g
ZmluZCB0aGUgc3RyaW5nIHNwZWNpZmllZCwgc28gSSBjYW4gYWNjZXNzLCBpc24ndCBpdD8/Pz8u
IFRoZSBzdHJpbmcgaXMgaW4NCj4gYW4gZXhjZWwgZmlsZShpcyBhIHByb2JsZW0gbWF5YmU/KS4N
Cj4gVGhhbmtzIGluIGFkdmFuY2UgaWYgc29tZWJvZHkgY2FuIGhlbHAgbWUuDQo+IE1pY2hlbA0K
PiANCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogTWFjaGFkbywgTWljaGVs
IA0KPiBTZW50OiBUaHVyc2RheSwgQXByaWwgMTAsIDIwMDMgMzo0MCBQTQ0KPiBUbzogbHVjZW5l
LXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnDQo+IFN1YmplY3Q6IFJFOiBhIHNpbXBsZSBoaWdobGln
aHQgcmVzb2x2ZW50DQo+IA0KPiBIaSBLZXJyLA0KPiBXaXRoIHlvdXIgcHJvZ3JhbSBpcyBwb3Nz
aWJsZSB0byBoaWdobGlnaHQgYSBzdHJpbmcgb3Igd29yZCBpbnNpZGUgYQ0KPiBkb2N1bWVudCBp
biBleGNlbD8/ICBJIG5lZWQgbW9yZSBjbGFyaWZpY2F0aW9uIHBsZWFzZS4gSSB3aWxsIGFwcHJl
Y2lhdGUuDQo+IFRoYW5rcw0KPiBNaWNoZWwgICANCj4gDQo+IA0KPiAtLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQ0KPiBGcm9tOiBIdWkgT3V5YW5nIFttYWlsdG86aHVpQHRyaXBsZWhvcC5jb21d
IA0KPiBTZW50OiBUaHVyc2RheSwgQXByaWwgMTAsIDIwMDMgMzoyMiBQTQ0KPiBUbzogTHVjZW5l
IFVzZXJzIExpc3QNCj4gU3ViamVjdDogUkU6IGEgc2ltcGxlIGhpZ2hsaWdodCByZXNvbHZlbnQN
Cj4gDQo+IHJlcGxhY2VBbGwoKSBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgamRrMTQgYWJvdmUuDQo+
IA0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCj4gRnJvbToga2VlbGtlcnJAaG90bWFp
bC5jb20gW21haWx0bzprZWVsa2VyckBob3RtYWlsLmNvbV0gDQo+IFNlbnQ6IFRodSA0LzEwLzIw
MDMgMTI6MDkgQU0gDQo+IFRvOiBMdWNlbmUgVXNlcnMgTGlzdCANCj4gQ2M6IA0KPiBTdWJqZWN0
OiBhIHNpbXBsZSBoaWdobGlnaHQgcmVzb2x2ZW50DQo+IA0KPiANCj4gDQo+IGhpIGV2ZXJ5b25l
LA0KPiBJIGFtIG5ldyBvbmUgaW4gbHVjZW5lIGFuZCBnb3QgYSBsb3QgaGVscCBpbiBsYXN0IDIg
d2Vla3MuIEhlcmUgSQ0KPiB3YW50IHRvIHNoYXJlIGEgYSBzaW1wbGUgaGlnaGxpZ2h0IHJlc29s
dmVudC4gT2YgY291cnNlIEkgaGF2ZSB0cnkNCj4gZGUuaXFjb21wdXRpbmcubHVjZW5lLiBIZXJl
IGp1c3QgYSBzaW1wbGUgd2F5IGJhc2UgdGhlIGRlbW8uIEhlcmUgaXMgdGhlDQo+IHNvdXJjZS4g
SXQncyBhIGxpdHRsZSBpbmVwdC4gQW5kIEkgZG9uJ3QgZG9uJ3Qgd2h5IGl0IGNhbid0IGNvbXBp
bGUgaWYgSSB1c2UNCj4gU3RyaW5nLnJlcGxhY2VBbGwoKSwgU28gSSB3cml0ZSBhbm90aGVyIG1l
dGhvZCB0byBoYW5kbGUgaXQuIEFueSBzdWdnZXN0aW9uDQo+IGFyZSB3ZWxjb21lZC4NCj4gICAg
ICAgICAgIEtlcnIuDQo+IA0KPiB0byB1c2UgaXQgaW4gcmVzdWx0cy5qc3AuIC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IGhsID0gbmV3DQo+IG9yZy5hcGFjaGUubHVjZW5lLmRl
bW8uSGlnaHRMaWdodGVyKHF1ZXJ5LnRvU3RyaW5nKCJjb250ZW50cyIpKTsNCj4gLi4uDQo+ICAg
ICAgIHN1bW1hcnkgPSBobC5nZXRIaWdobGlnaHRGaWxlKHBhdGgpOw0KPiAgICAgICBpZiAoc3Vt
bWFyeSA9PSBudWxsIHx8IHN1bW1hcnkubGVuZ3RoKCkgPCAxMDAgKXsNCj4gICAgICAgICAgc3Vt
bWFyeSA9IGRvYy5nZXQoInN1bW1hcnkiKTsNCj4gfSBjYXRjaCAoRXhjZXB0aW9uIGUpew0KPiAg
ICAgICAgIHN1bW1hcnkgPSBkb2MuZ2V0KCJzdW1tYXJ5Iik7DQo+IH0NCj4gLi4uDQo+IC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBwYWNrYWdlIG9yZy5hcGFjaGUu
bHVjZW5lLmRlbW87DQo+IA0KPiBpbXBvcnQgamF2YS5pby4qOw0KPiBpbXBvcnQgamF2YS51dGls
Lio7DQo+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5kZW1vLmh0bWwuSFRNTFBhcnNlcjsNCj4g
DQo+IHB1YmxpYyBjbGFzcyBIaWdodExpZ2h0ZXIgew0KPiANCj4gICBTdHJpbmdbXSBrZXlzOw0K
PiAgIGJvb2xlYW5bXSBiOw0KPiANCj4gICBwdWJsaWMgSGlnaHRMaWdodGVyKFN0cmluZyBxdWVy
eSkgew0KPiAgICAgSGFzaE1hcCBoaWdobGlnaHQgPSBuZXcgSGFzaE1hcCgpOw0KPiAgICAgU3Ry
aW5nVG9rZW5pemVyIHN0ID0gbmV3IFN0cmluZ1Rva2VuaXplcihxdWVyeSwgIlwiIik7DQo+ICAg
ICBTdHJpbmcgYVRva2VuOw0KPiAgICAgaW50IG9mZiA9IDA7DQo+ICAgICB3aGlsZShzdC5oYXNN
b3JlVG9rZW5zKCkpew0KPiAgICAgICBhVG9rZW4gPSBzdC5uZXh0VG9rZW4oKTsNCj4gICAgICAg
Y2hhciBhQ2hhcjsNCj4gICAgICAgU3RyaW5nIGRlc3QgPSAiIjsNCj4gICAgICAgZm9yKGludCBp
PTA7IGk8YVRva2VuLmxlbmd0aCgpOyBpKyspew0KPiAgICAgICAgIGFDaGFyID0gYVRva2VuLmNo
YXJBdChpKTsNCj4gICAgICAgICBpZiAoYUNoYXIgIT0gJysnICYmDQo+ICAgICAgICAgICAgIGFD
aGFyICE9ICctJyAmJg0KPiAgICAgICAgICAgICBhQ2hhciAhPSAnKCcgJiYNCj4gICAgICAgICAg
ICAgYUNoYXIgIT0gJyknICYmDQo+ICAgICAgICAgICAgIGFDaGFyICE9ICcgJyl7DQo+ICAgICAg
ICAgICBkZXN0ID0gZGVzdCArIGFDaGFyOw0KPiAgICAgICAgIH0NCj4gICAgICAgfQ0KPiAgICAg
ICBpZiAoZGVzdC5sZW5ndGgoKSA+IDApIHsNCj4gICAgICAgICBoaWdobGlnaHQucHV0KEludGVn
ZXIudG9TdHJpbmcob2ZmKSAsIGRlc3QpOw0KPiAgICAgICAgIG9mZiA9IG9mZiArIDE7DQo+ICAg
ICAgIH0NCj4gICAgIH0NCj4gDQo+ICAgICBrZXlzID0gbmV3IFN0cmluZ1toaWdobGlnaHQuc2l6
ZSgpXTsNCj4gICAgIGIgPSBuZXcgYm9vbGVhbltoaWdobGlnaHQuc2l6ZSgpXTsNCj4gICAgIGZv
cihpbnQgYz0wOyBjPGhpZ2hsaWdodC5zaXplKCk7IGMrKyl7DQo+ICAgICAgIGtleXNbY10gPSAo
U3RyaW5nKWhpZ2hsaWdodC5nZXQoSW50ZWdlci50b1N0cmluZyhjKSk7DQo+ICAgICAgIGJbY10g
PSBmYWxzZTsNCj4gICAgIH0NCj4gICB9DQo+IA0KPiAgIHB1YmxpYyBTdHJpbmcgcmVwbGFjZUtl
eShTdHJpbmcgc291cmNlU3RyaW5nLCBTdHJpbmcga2V5KSB7DQo+ICAgICBTdHJpbmcgZGVzdFN0
cmluZyA9ICIiOw0KPiAgICAgaW50IGkgPSBzb3VyY2VTdHJpbmcuaW5kZXhPZihrZXkpOw0KPiAg
ICAgd2hpbGUgKCBpICE9IC0xICkgew0KPiAgICAgICBkZXN0U3RyaW5nID0gZGVzdFN0cmluZyAr
IHNvdXJjZVN0cmluZy5zdWJzdHJpbmcoMCxpKQ0KPiAgICAgICAgICAgICAgICAgICsgIjxmb250
IGNvbG9yPVwicmVkXCI+IiArIGtleSArICI8L2ZvbnQ+IjsNCj4gICAgICAgc291cmNlU3RyaW5n
ID0gc291cmNlU3RyaW5nLnN1YnN0cmluZyhpK2tleS5sZW5ndGgoKSk7DQo+ICAgICAgIGkgPSBz
b3VyY2VTdHJpbmcuaW5kZXhPZihrZXkpOw0KPiAgICAgfQ0KPiAgICAgZGVzdFN0cmluZyA9IGRl
c3RTdHJpbmcrc291cmNlU3RyaW5nOw0KPiAgICAgcmV0dXJuIGRlc3RTdHJpbmc7DQo+ICAgfQ0K
PiANCj4gICBwdWJsaWMgU3RyaW5nIGdldEhpZ2hsaWdodChTdHJpbmcgc3RyaW5nKXsNCj4gICAg
IGZvcihpbnQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspew0KPiAgICAgICBpZiAoc3RyaW5nLmlu
ZGV4T2Yoa2V5c1tpXSkgIT0gLTEpew0KPiAgICAgICAgIC8vc3RyaW5nID0gc3RyaW5nLnJlcGxh
Y2VBbGwoa2V5c1tpXSwgIjxmb250IGNvbG9yPVwicmVkXCI+Ig0KPiArIGtleXNbaV0gKyAiPC9m
b250PiIpOw0KPiAgICAgICAgIHN0cmluZyA9IHJlcGxhY2VLZXkoc3RyaW5nLCBrZXlzW2ldKTsN
Cj4gICAgICAgfQ0KPiAgICAgfQ0KPiAgICAgcmV0dXJuIHN0cmluZzsNCj4gICB9DQo+IA0KPiAg
IHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0RmlsZShTdHJpbmcgcGF0aCkNCj4gICAgICAgdGhy
b3dzIElPRXhjZXB0aW9uLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiAgew0KPiANCj4gICAgIEhUTUxQ
YXJzZXIgcGFyc2VyID0gbmV3IEhUTUxQYXJzZXIobmV3IEZpbGUocGF0aCkpOw0KPiAgICAgUmVh
ZGVyIGZyID0gcGFyc2VyLmdldFJlYWRlcigpOw0KPiAgICAgU3RyaW5nIGhsU3RyaW5nID0gdGhp
cy5nZXRIaWdobGlnaHQoZnIpOw0KPiAgICAgZnIuY2xvc2UoKTsNCj4gICAgIHJldHVybiBobFN0
cmluZzsNCj4gICB9DQo+IA0KPiAgIHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0KFJlYWRlciBy
ZWFkZXIpew0KPiANCj4gICAgIHRyeXsNCj4gICAgICAgaW50IHNpemUgPSA1IC0ga2V5cy5sZW5n
dGg7DQo+ICAgICAgIGlmICggc2l6ZSA+IDApIHsNCj4gICAgICAgICBzaXplID0gc2l6ZSAqIDEw
MDsNCj4gICAgICAgfSBlbHNlIHsNCj4gICAgICAgICBzaXplID0gMTAwOw0KPiAgICAgICB9DQo+
ICAgICAgIGNoYXJbXSBidWZmZXIgPSBuZXcgY2hhcltzaXplXTsNCj4gICAgICAgU3RyaW5nQnVm
ZmVyIGxhc3QgPSBuZXcgU3RyaW5nQnVmZmVyKCIuLiIpOw0KPiAgICAgICBTdHJpbmcgdGVtcDsN
Cj4gICAgICAgYm9vbGVhbiBlbmQgPSBmYWxzZTsNCj4gICAgICAgZm9yKGludCBjPTA7IGM8Yi5s
ZW5ndGg7IGMrKyl7DQo+ICAgICAgICAgYltjXSA9IGZhbHNlOw0KPiAgICAgICB9DQo+IA0KPiAg
ICAgICB3aGlsZSAoKHJlYWRlci5yZWFkKGJ1ZmZlcikgIT0gLTEpICYmICFlbmQpew0KPiAgICAg
ICAgIHRlbXAgPSBuZXcgU3RyaW5nKGJ1ZmZlcik7DQo+ICAgICAgICAgLy9TeXN0ZW0ub3V0LnBy
aW50bG4odGVtcCk7DQo+ICAgICAgICAgLy90ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCJcclxuIiwg
IiAiKTsNCj4gICAgICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCj4gICAg
ICAgICAgIGlmICghYltpXSAmJiB0ZW1wLmluZGV4T2Yoa2V5c1tpXSkgIT0gLTEpew0KPiAgICAg
ICAgICAgICBiW2ldID0gdHJ1ZTsNCj4gICAgICAgICAgICAgLy90ZW1wID0gdGVtcC5yZXBsYWNl
QWxsKGtleXNbaV0sICI8Zm9udCBjb2xvcj1cInJlZFwiPiINCj4gKyBrZXlzW2ldICsgIjwvZm9u
dD4iKTsNCj4gICAgICAgICAgICAgbGFzdC5hcHBlbmQoIi4iICsgdGVtcCArICIuLiIpOw0KPiAg
ICAgICAgICAgfQ0KPiAgICAgICAgIH0NCj4gICAgICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxl
bmd0aDsgaSsrKXsNCj4gICAgICAgICAgIGlmICghYltpXSl7DQo+ICAgICAgICAgICAgIGVuZCA9
IGZhbHNlOw0KPiAgICAgICAgICAgICBicmVhazsNCj4gICAgICAgICAgIH0gZWxzZSB7DQo+ICAg
ICAgICAgICAgIGVuZCA9IHRydWU7DQo+ICAgICAgICAgICB9DQo+ICAgICAgICAgfQ0KPiAgICAg
ICB9DQo+ICAgICAgIGxhc3QuYXBwZW5kKCIuIik7DQo+ICAgICAgIGlmIChsYXN0Lmxlbmd0aCgp
IDwgMTAwKXsNCj4gICAgICAgICByZXR1cm4gbnVsbDsNCj4gICAgICAgfSBlbHNlIHsNCj4gICAg
ICAgICByZXR1cm4odGhpcy5nZXRIaWdobGlnaHQobGFzdC50b1N0cmluZygpKSk7DQo+ICAgICAg
IH0NCj4gICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKXsNCj4gICAgICAgcmV0dXJuIG51bGw7DQo+
ICAgICB9DQo+ICAgfQ0KPiB9IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcN
Cj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWth
cnRhLmFwYWNoZS5vcmcNCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gRm9yIGFk
ZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNo
ZS5vcmcNCj4gDQo+IA==


From MAILER-DAEMON Thu Apr 10 18:02:05 2003
Return-Path: 
 <lucene-user-return-4192-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64760 invoked from network); 10 Apr 2003 18:02:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 18:02:05 -0000
Received: (qmail 9920 invoked by uid 97); 10 Apr 2003 18:04:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9913 invoked from network); 10 Apr 2003 18:04:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 18:04:00 -0000
Received: (qmail 64519 invoked by uid 500); 10 Apr 2003 18:02:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64506 invoked from network); 10 Apr 2003 18:02:03 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 10 Apr 2003 18:02:03 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP;
 Thu, 10 Apr 2003 11:00:47 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <2T2P6SG4>; Thu, 10 Apr 2003 11:02:06 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A9652D@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: a simple highlight resolvent
Date: Thu, 10 Apr 2003 11:02:07 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
Where I can find the HTMLParser source? Because I found a file named
HTMLParser.jj but I believe that is not the right. In my directory of
lucene-1.2 inside org.apache.lucene.demo.html it isn't.
Thanks,
Michel

-----Original Message-----
From: keelkerr@hotmail.com [mailto:keelkerr@hotmail.com] 
Sent: Thursday, April 10, 2003 7:30 PM
To: Lucene Users List
Subject: Re: a simple highlight resolvent

Hi, I think you can't use it in this way, it's for when you get a file(isn't
a directory), such as test.txt or test.html then highlight "DAMS3020" in
your file. if you want to highlight whole index, you have to get all indexed
file one by one first. But Highlighter only need to constract only once
   query = QueryParser.parse(queryString, "contents", analyzer);
   hl = new org.apache.lucene.demo.HightLighter(query.toString("contents"));
the query.toString("contents") is parsed queryString, such as 
   queryString = (a+b)-c; then  query.toString("contents")  will be as a
Token "a" "+b" "-c".
then call h.getHighlightFile("c:\\temp\\aRealFile") for each file, then get
a highlighted string include your all terms.

In the source, I used HTMLParser to read .html file. If you file isn't
.html, you should change the souce a little
from 
  HTMLParser parser = new HTMLParser(new File(path));
  Reader fr = parser.getReader();
to
  FileReader fr = new FileReader(new File(path));

hope this can help.
         Kerr 

----- Original Message ----- 
From: <MMachado@LEVI.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, April 11, 2003 12:45 AM
Subject: RE: a simple highlight resolvent


> Hi,
> Me again, at the final of your program I put a main() method to run the
> application like this:
> 
> public static void main(String[] args) {
>   try {
>   hightLighter h = new hightLighter("DAMS3020");
>   h.getHighlightFile("c:\\myindex");
>   }catch (Exception h) {
>   System.out.println(h.getMessage());
>   }
>   }
> and I received the following message:
> 
> c:\myindex (Access is denied). I don't understand why. Is my folder and
when
> I do a search for the same string (DAMS3020) I receive a link where I can
to
> find the string specified, so I can access, isn't it????. The string is in
> an excel file(is a problem maybe?).
> Thanks in advance if somebody can help me.
> Michel
> 
> -----Original Message-----
> From: Machado, Michel 
> Sent: Thursday, April 10, 2003 3:40 PM
> To: lucene-user@jakarta.apache.org
> Subject: RE: a simple highlight resolvent
> 
> Hi Kerr,
> With your program is possible to highlight a string or word inside a
> document in excel??  I need more clarification please. I will appreciate.
> Thanks
> Michel   
> 
> 
> -----Original Message-----
> From: Hui Ouyang [mailto:hui@triplehop.com] 
> Sent: Thursday, April 10, 2003 3:22 PM
> To: Lucene Users List
> Subject: RE: a simple highlight resolvent
> 
> replaceAll() is only available for jdk14 above.
> 
> -----Original Message----- 
> From: keelkerr@hotmail.com [mailto:keelkerr@hotmail.com] 
> Sent: Thu 4/10/2003 12:09 AM 
> To: Lucene Users List 
> Cc: 
> Subject: a simple highlight resolvent
> 
> 
> 
> hi everyone,
> I am new one in lucene and got a lot help in last 2 weeks. Here I
> want to share a a simple highlight resolvent. Of course I have try
> de.iqcomputing.lucene. Here just a simple way base the demo. Here is the
> source. It's a little inept. And I don't don't why it can't compile if I
use
> String.replaceAll(), So I write another method to handle it. Any
suggestion
> are welcomed.
>           Kerr.
> 
> to use it in results.jsp. --------------------------------
> hl = new
> org.apache.lucene.demo.HightLighter(query.toString("contents"));
> ...
>       summary = hl.getHighlightFile(path);
>       if (summary == null || summary.length() < 100 ){
>          summary = doc.get("summary");
> } catch (Exception e){
>         summary = doc.get("summary");
> }
> ...
> ---------------------------------------
> package org.apache.lucene.demo;
> 
> import java.io.*;
> import java.util.*;
> import org.apache.lucene.demo.html.HTMLParser;
> 
> public class HightLighter {
> 
>   String[] keys;
>   boolean[] b;
> 
>   public HightLighter(String query) {
>     HashMap highlight = new HashMap();
>     StringTokenizer st = new StringTokenizer(query, "\"");
>     String aToken;
>     int off = 0;
>     while(st.hasMoreTokens()){
>       aToken = st.nextToken();
>       char aChar;
>       String dest = "";
>       for(int i=0; i<aToken.length(); i++){
>         aChar = aToken.charAt(i);
>         if (aChar != '+' &&
>             aChar != '-' &&
>             aChar != '(' &&
>             aChar != ')' &&
>             aChar != ' '){
>           dest = dest + aChar;
>         }
>       }
>       if (dest.length() > 0) {
>         highlight.put(Integer.toString(off) , dest);
>         off = off + 1;
>       }
>     }
> 
>     keys = new String[highlight.size()];
>     b = new boolean[highlight.size()];
>     for(int c=0; c<highlight.size(); c++){
>       keys[c] = (String)highlight.get(Integer.toString(c));
>       b[c] = false;
>     }
>   }
> 
>   public String replaceKey(String sourceString, String key) {
>     String destString = "";
>     int i = sourceString.indexOf(key);
>     while ( i != -1 ) {
>       destString = destString + sourceString.substring(0,i)
>                  + "<font color=\"red\">" + key + "</font>";
>       sourceString = sourceString.substring(i+key.length());
>       i = sourceString.indexOf(key);
>     }
>     destString = destString+sourceString;
>     return destString;
>   }
> 
>   public String getHighlight(String string){
>     for(int i=0; i<keys.length; i++){
>       if (string.indexOf(keys[i]) != -1){
>         //string = string.replaceAll(keys[i], "<font color=\"red\">"
> + keys[i] + "</font>");
>         string = replaceKey(string, keys[i]);
>       }
>     }
>     return string;
>   }
> 
>   public String getHighlightFile(String path)
>       throws IOException, InterruptedException  {
> 
>     HTMLParser parser = new HTMLParser(new File(path));
>     Reader fr = parser.getReader();
>     String hlString = this.getHighlight(fr);
>     fr.close();
>     return hlString;
>   }
> 
>   public String getHighlight(Reader reader){
> 
>     try{
>       int size = 5 - keys.length;
>       if ( size > 0) {
>         size = size * 100;
>       } else {
>         size = 100;
>       }
>       char[] buffer = new char[size];
>       StringBuffer last = new StringBuffer("..");
>       String temp;
>       boolean end = false;
>       for(int c=0; c<b.length; c++){
>         b[c] = false;
>       }
> 
>       while ((reader.read(buffer) != -1) && !end){
>         temp = new String(buffer);
>         //System.out.println(temp);
>         //temp = temp.replaceAll("\r\n", " ");
>         for(int i=0; i<keys.length; i++){
>           if (!b[i] && temp.indexOf(keys[i]) != -1){
>             b[i] = true;
>             //temp = temp.replaceAll(keys[i], "<font color=\"red\">"
> + keys[i] + "</font>");
>             last.append("." + temp + "..");
>           }
>         }
>         for(int i=0; i<keys.length; i++){
>           if (!b[i]){
>             end = false;
>             break;
>           } else {
>             end = true;
>           }
>         }
>       }
>       last.append(".");
>       if (last.length() < 100){
>         return null;
>       } else {
>         return(this.getHighlight(last.toString()));
>       }
>     } catch (Exception e){
>       return null;
>     }
>   }
> } 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 10 18:25:23 2003
Return-Path: 
 <lucene-user-return-4193-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23394 invoked from network); 10 Apr 2003 18:25:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 18:25:23 -0000
Received: (qmail 10809 invoked by uid 97); 10 Apr 2003 18:27:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10802 invoked from network); 10 Apr 2003 18:27:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 18:27:18 -0000
Received: (qmail 21886 invoked by uid 500); 10 Apr 2003 18:25:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21819 invoked from network); 10 Apr 2003 18:25:06 -0000
Received: from oe41.law9.hotmail.com (HELO hotmail.com) (64.4.8.98)
  by daedalus.apache.org with SMTP; 10 Apr 2003 18:25:05 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 10 Apr 2003 11:25:10 -0700
Received: from 61.140.189.241 by oe41.law9.hotmail.com with DAV;
	Thu, 10 Apr 2003 18:25:09 +0000
X-Originating-IP: [61.140.189.241]
X-Originating-Email: [keelkerr@hotmail.com]
Wrom: YZUNNYCGPKYLEJGDGVCJVTLBXFGGM
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E9EE029E3896D511A2AA0002A589953003A9652D@bruex4.eu.levi.com>
Subject: Re: a simple highlight resolvent
Date: Fri, 11 Apr 2003 02:23:34 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
From: keelkerr@hotmail.com
Message-ID: <OE417QXnlIewpQI6Xv10001994b@hotmail.com>
X-OriginalArrivalTime: 10 Apr 2003 18:25:10.0444 (UTC)
 FILETIME=[852B46C0:01C2FF8E]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

aGV5LCBpdCdzIGphdmFjYyBmaWxlLiB1IHNob3VsZCByZWFkIGJ1aWx0LnhtbCB3aGljaCB3aWxs
IHRlbGwgeW91IGhvdy4gSWYgdSBpbmRleCBmaWxlIGFyZW4ndCBodG1sLCB1IG5lZWRuJ3QgdG8g
dXNlIGl0Lg0KS2Vycg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206IDxNTWFj
aGFkb0BMRVZJLmNvbT4NClRvOiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KU2Vu
dDogRnJpZGF5LCBBcHJpbCAxMSwgMjAwMyAyOjAyIEFNDQpTdWJqZWN0OiBSRTogYSBzaW1wbGUg
aGlnaGxpZ2h0IHJlc29sdmVudA0KDQoNCj4gSGksDQo+IFdoZXJlIEkgY2FuIGZpbmQgdGhlIEhU
TUxQYXJzZXIgc291cmNlPyBCZWNhdXNlIEkgZm91bmQgYSBmaWxlIG5hbWVkDQo+IEhUTUxQYXJz
ZXIuamogYnV0IEkgYmVsaWV2ZSB0aGF0IGlzIG5vdCB0aGUgcmlnaHQuIEluIG15IGRpcmVjdG9y
eSBvZg0KPiBsdWNlbmUtMS4yIGluc2lkZSBvcmcuYXBhY2hlLmx1Y2VuZS5kZW1vLmh0bWwgaXQg
aXNuJ3QuDQo+IFRoYW5rcywNCj4gTWljaGVsDQo+IA0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2Ut
LS0tLQ0KPiBGcm9tOiBrZWVsa2VyckBob3RtYWlsLmNvbSBbbWFpbHRvOmtlZWxrZXJyQGhvdG1h
aWwuY29tXSANCj4gU2VudDogVGh1cnNkYXksIEFwcmlsIDEwLCAyMDAzIDc6MzAgUE0NCj4gVG86
IEx1Y2VuZSBVc2VycyBMaXN0DQo+IFN1YmplY3Q6IFJlOiBhIHNpbXBsZSBoaWdobGlnaHQgcmVz
b2x2ZW50DQo+IA0KPiBIaSwgSSB0aGluayB5b3UgY2FuJ3QgdXNlIGl0IGluIHRoaXMgd2F5LCBp
dCdzIGZvciB3aGVuIHlvdSBnZXQgYSBmaWxlKGlzbid0DQo+IGEgZGlyZWN0b3J5KSwgc3VjaCBh
cyB0ZXN0LnR4dCBvciB0ZXN0Lmh0bWwgdGhlbiBoaWdobGlnaHQgIkRBTVMzMDIwIiBpbg0KPiB5
b3VyIGZpbGUuIGlmIHlvdSB3YW50IHRvIGhpZ2hsaWdodCB3aG9sZSBpbmRleCwgeW91IGhhdmUg
dG8gZ2V0IGFsbCBpbmRleGVkDQo+IGZpbGUgb25lIGJ5IG9uZSBmaXJzdC4gQnV0IEhpZ2hsaWdo
dGVyIG9ubHkgbmVlZCB0byBjb25zdHJhY3Qgb25seSBvbmNlDQo+ICAgIHF1ZXJ5ID0gUXVlcnlQ
YXJzZXIucGFyc2UocXVlcnlTdHJpbmcsICJjb250ZW50cyIsIGFuYWx5emVyKTsNCj4gICAgaGwg
PSBuZXcgb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5IaWdodExpZ2h0ZXIocXVlcnkudG9TdHJpbmco
ImNvbnRlbnRzIikpOw0KPiB0aGUgcXVlcnkudG9TdHJpbmcoImNvbnRlbnRzIikgaXMgcGFyc2Vk
IHF1ZXJ5U3RyaW5nLCBzdWNoIGFzIA0KPiAgICBxdWVyeVN0cmluZyA9IChhK2IpLWM7IHRoZW4g
IHF1ZXJ5LnRvU3RyaW5nKCJjb250ZW50cyIpICB3aWxsIGJlIGFzIGENCj4gVG9rZW4gImEiICIr
YiIgIi1jIi4NCj4gdGhlbiBjYWxsIGguZ2V0SGlnaGxpZ2h0RmlsZSgiYzpcXHRlbXBcXGFSZWFs
RmlsZSIpIGZvciBlYWNoIGZpbGUsIHRoZW4gZ2V0DQo+IGEgaGlnaGxpZ2h0ZWQgc3RyaW5nIGlu
Y2x1ZGUgeW91ciBhbGwgdGVybXMuDQo+IA0KPiBJbiB0aGUgc291cmNlLCBJIHVzZWQgSFRNTFBh
cnNlciB0byByZWFkIC5odG1sIGZpbGUuIElmIHlvdSBmaWxlIGlzbid0DQo+IC5odG1sLCB5b3Ug
c2hvdWxkIGNoYW5nZSB0aGUgc291Y2UgYSBsaXR0bGUNCj4gZnJvbSANCj4gICBIVE1MUGFyc2Vy
IHBhcnNlciA9IG5ldyBIVE1MUGFyc2VyKG5ldyBGaWxlKHBhdGgpKTsNCj4gICBSZWFkZXIgZnIg
PSBwYXJzZXIuZ2V0UmVhZGVyKCk7DQo+IHRvDQo+ICAgRmlsZVJlYWRlciBmciA9IG5ldyBGaWxl
UmVhZGVyKG5ldyBGaWxlKHBhdGgpKTsNCj4gDQo+IGhvcGUgdGhpcyBjYW4gaGVscC4NCj4gICAg
ICAgICAgS2VyciANCj4gDQo+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQo+IEZyb206
IDxNTWFjaGFkb0BMRVZJLmNvbT4NCj4gVG86IDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5v
cmc+DQo+IFNlbnQ6IEZyaWRheSwgQXByaWwgMTEsIDIwMDMgMTI6NDUgQU0NCj4gU3ViamVjdDog
UkU6IGEgc2ltcGxlIGhpZ2hsaWdodCByZXNvbHZlbnQNCj4gDQo+IA0KPiA+IEhpLA0KPiA+IE1l
IGFnYWluLCBhdCB0aGUgZmluYWwgb2YgeW91ciBwcm9ncmFtIEkgcHV0IGEgbWFpbigpIG1ldGhv
ZCB0byBydW4gdGhlDQo+ID4gYXBwbGljYXRpb24gbGlrZSB0aGlzOg0KPiA+IA0KPiA+IHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsNCj4gPiAgIHRyeSB7DQo+ID4gICBo
aWdodExpZ2h0ZXIgaCA9IG5ldyBoaWdodExpZ2h0ZXIoIkRBTVMzMDIwIik7DQo+ID4gICBoLmdl
dEhpZ2hsaWdodEZpbGUoImM6XFxteWluZGV4Iik7DQo+ID4gICB9Y2F0Y2ggKEV4Y2VwdGlvbiBo
KSB7DQo+ID4gICBTeXN0ZW0ub3V0LnByaW50bG4oaC5nZXRNZXNzYWdlKCkpOw0KPiA+ICAgfQ0K
PiA+ICAgfQ0KPiA+IGFuZCBJIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgbWVzc2FnZToNCj4gPiAN
Cj4gPiBjOlxteWluZGV4IChBY2Nlc3MgaXMgZGVuaWVkKS4gSSBkb24ndCB1bmRlcnN0YW5kIHdo
eS4gSXMgbXkgZm9sZGVyIGFuZA0KPiB3aGVuDQo+ID4gSSBkbyBhIHNlYXJjaCBmb3IgdGhlIHNh
bWUgc3RyaW5nIChEQU1TMzAyMCkgSSByZWNlaXZlIGEgbGluayB3aGVyZSBJIGNhbg0KPiB0bw0K
PiA+IGZpbmQgdGhlIHN0cmluZyBzcGVjaWZpZWQsIHNvIEkgY2FuIGFjY2VzcywgaXNuJ3QgaXQ/
Pz8/LiBUaGUgc3RyaW5nIGlzIGluDQo+ID4gYW4gZXhjZWwgZmlsZShpcyBhIHByb2JsZW0gbWF5
YmU/KS4NCj4gPiBUaGFua3MgaW4gYWR2YW5jZSBpZiBzb21lYm9keSBjYW4gaGVscCBtZS4NCj4g
PiBNaWNoZWwNCj4gPiANCj4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+IEZyb206
IE1hY2hhZG8sIE1pY2hlbCANCj4gPiBTZW50OiBUaHVyc2RheSwgQXByaWwgMTAsIDIwMDMgMzo0
MCBQTQ0KPiA+IFRvOiBsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmcNCj4gPiBTdWJqZWN0
OiBSRTogYSBzaW1wbGUgaGlnaGxpZ2h0IHJlc29sdmVudA0KPiA+IA0KPiA+IEhpIEtlcnIsDQo+
ID4gV2l0aCB5b3VyIHByb2dyYW0gaXMgcG9zc2libGUgdG8gaGlnaGxpZ2h0IGEgc3RyaW5nIG9y
IHdvcmQgaW5zaWRlIGENCj4gPiBkb2N1bWVudCBpbiBleGNlbD8/ICBJIG5lZWQgbW9yZSBjbGFy
aWZpY2F0aW9uIHBsZWFzZS4gSSB3aWxsIGFwcHJlY2lhdGUuDQo+ID4gVGhhbmtzDQo+ID4gTWlj
aGVsICAgDQo+ID4gDQo+ID4gDQo+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiBG
cm9tOiBIdWkgT3V5YW5nIFttYWlsdG86aHVpQHRyaXBsZWhvcC5jb21dIA0KPiA+IFNlbnQ6IFRo
dXJzZGF5LCBBcHJpbCAxMCwgMjAwMyAzOjIyIFBNDQo+ID4gVG86IEx1Y2VuZSBVc2VycyBMaXN0
DQo+ID4gU3ViamVjdDogUkU6IGEgc2ltcGxlIGhpZ2hsaWdodCByZXNvbHZlbnQNCj4gPiANCj4g
PiByZXBsYWNlQWxsKCkgaXMgb25seSBhdmFpbGFibGUgZm9yIGpkazE0IGFib3ZlLg0KPiA+IA0K
PiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KPiA+IEZyb206IGtlZWxrZXJyQGhvdG1h
aWwuY29tIFttYWlsdG86a2VlbGtlcnJAaG90bWFpbC5jb21dIA0KPiA+IFNlbnQ6IFRodSA0LzEw
LzIwMDMgMTI6MDkgQU0gDQo+ID4gVG86IEx1Y2VuZSBVc2VycyBMaXN0IA0KPiA+IENjOiANCj4g
PiBTdWJqZWN0OiBhIHNpbXBsZSBoaWdobGlnaHQgcmVzb2x2ZW50DQo+ID4gDQo+ID4gDQo+ID4g
DQo+ID4gaGkgZXZlcnlvbmUsDQo+ID4gSSBhbSBuZXcgb25lIGluIGx1Y2VuZSBhbmQgZ290IGEg
bG90IGhlbHAgaW4gbGFzdCAyIHdlZWtzLiBIZXJlIEkNCj4gPiB3YW50IHRvIHNoYXJlIGEgYSBz
aW1wbGUgaGlnaGxpZ2h0IHJlc29sdmVudC4gT2YgY291cnNlIEkgaGF2ZSB0cnkNCj4gPiBkZS5p
cWNvbXB1dGluZy5sdWNlbmUuIEhlcmUganVzdCBhIHNpbXBsZSB3YXkgYmFzZSB0aGUgZGVtby4g
SGVyZSBpcyB0aGUNCj4gPiBzb3VyY2UuIEl0J3MgYSBsaXR0bGUgaW5lcHQuIEFuZCBJIGRvbid0
IGRvbid0IHdoeSBpdCBjYW4ndCBjb21waWxlIGlmIEkNCj4gdXNlDQo+ID4gU3RyaW5nLnJlcGxh
Y2VBbGwoKSwgU28gSSB3cml0ZSBhbm90aGVyIG1ldGhvZCB0byBoYW5kbGUgaXQuIEFueQ0KPiBz
dWdnZXN0aW9uDQo+ID4gYXJlIHdlbGNvbWVkLg0KPiA+ICAgICAgICAgICBLZXJyLg0KPiA+IA0K
PiA+IHRvIHVzZSBpdCBpbiByZXN1bHRzLmpzcC4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0NCj4gPiBobCA9IG5ldw0KPiA+IG9yZy5hcGFjaGUubHVjZW5lLmRlbW8uSGlnaHRMaWdo
dGVyKHF1ZXJ5LnRvU3RyaW5nKCJjb250ZW50cyIpKTsNCj4gPiAuLi4NCj4gPiAgICAgICBzdW1t
YXJ5ID0gaGwuZ2V0SGlnaGxpZ2h0RmlsZShwYXRoKTsNCj4gPiAgICAgICBpZiAoc3VtbWFyeSA9
PSBudWxsIHx8IHN1bW1hcnkubGVuZ3RoKCkgPCAxMDAgKXsNCj4gPiAgICAgICAgICBzdW1tYXJ5
ID0gZG9jLmdldCgic3VtbWFyeSIpOw0KPiA+IH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKXsNCj4gPiAg
ICAgICAgIHN1bW1hcnkgPSBkb2MuZ2V0KCJzdW1tYXJ5Iik7DQo+ID4gfQ0KPiA+IC4uLg0KPiA+
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+IHBhY2thZ2Ugb3Jn
LmFwYWNoZS5sdWNlbmUuZGVtbzsNCj4gPiANCj4gPiBpbXBvcnQgamF2YS5pby4qOw0KPiA+IGlt
cG9ydCBqYXZhLnV0aWwuKjsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZGVtby5odG1s
LkhUTUxQYXJzZXI7DQo+ID4gDQo+ID4gcHVibGljIGNsYXNzIEhpZ2h0TGlnaHRlciB7DQo+ID4g
DQo+ID4gICBTdHJpbmdbXSBrZXlzOw0KPiA+ICAgYm9vbGVhbltdIGI7DQo+ID4gDQo+ID4gICBw
dWJsaWMgSGlnaHRMaWdodGVyKFN0cmluZyBxdWVyeSkgew0KPiA+ICAgICBIYXNoTWFwIGhpZ2hs
aWdodCA9IG5ldyBIYXNoTWFwKCk7DQo+ID4gICAgIFN0cmluZ1Rva2VuaXplciBzdCA9IG5ldyBT
dHJpbmdUb2tlbml6ZXIocXVlcnksICJcIiIpOw0KPiA+ICAgICBTdHJpbmcgYVRva2VuOw0KPiA+
ICAgICBpbnQgb2ZmID0gMDsNCj4gPiAgICAgd2hpbGUoc3QuaGFzTW9yZVRva2VucygpKXsNCj4g
PiAgICAgICBhVG9rZW4gPSBzdC5uZXh0VG9rZW4oKTsNCj4gPiAgICAgICBjaGFyIGFDaGFyOw0K
PiA+ICAgICAgIFN0cmluZyBkZXN0ID0gIiI7DQo+ID4gICAgICAgZm9yKGludCBpPTA7IGk8YVRv
a2VuLmxlbmd0aCgpOyBpKyspew0KPiA+ICAgICAgICAgYUNoYXIgPSBhVG9rZW4uY2hhckF0KGkp
Ow0KPiA+ICAgICAgICAgaWYgKGFDaGFyICE9ICcrJyAmJg0KPiA+ICAgICAgICAgICAgIGFDaGFy
ICE9ICctJyAmJg0KPiA+ICAgICAgICAgICAgIGFDaGFyICE9ICcoJyAmJg0KPiA+ICAgICAgICAg
ICAgIGFDaGFyICE9ICcpJyAmJg0KPiA+ICAgICAgICAgICAgIGFDaGFyICE9ICcgJyl7DQo+ID4g
ICAgICAgICAgIGRlc3QgPSBkZXN0ICsgYUNoYXI7DQo+ID4gICAgICAgICB9DQo+ID4gICAgICAg
fQ0KPiA+ICAgICAgIGlmIChkZXN0Lmxlbmd0aCgpID4gMCkgew0KPiA+ICAgICAgICAgaGlnaGxp
Z2h0LnB1dChJbnRlZ2VyLnRvU3RyaW5nKG9mZikgLCBkZXN0KTsNCj4gPiAgICAgICAgIG9mZiA9
IG9mZiArIDE7DQo+ID4gICAgICAgfQ0KPiA+ICAgICB9DQo+ID4gDQo+ID4gICAgIGtleXMgPSBu
ZXcgU3RyaW5nW2hpZ2hsaWdodC5zaXplKCldOw0KPiA+ICAgICBiID0gbmV3IGJvb2xlYW5baGln
aGxpZ2h0LnNpemUoKV07DQo+ID4gICAgIGZvcihpbnQgYz0wOyBjPGhpZ2hsaWdodC5zaXplKCk7
IGMrKyl7DQo+ID4gICAgICAga2V5c1tjXSA9IChTdHJpbmcpaGlnaGxpZ2h0LmdldChJbnRlZ2Vy
LnRvU3RyaW5nKGMpKTsNCj4gPiAgICAgICBiW2NdID0gZmFsc2U7DQo+ID4gICAgIH0NCj4gPiAg
IH0NCj4gPiANCj4gPiAgIHB1YmxpYyBTdHJpbmcgcmVwbGFjZUtleShTdHJpbmcgc291cmNlU3Ry
aW5nLCBTdHJpbmcga2V5KSB7DQo+ID4gICAgIFN0cmluZyBkZXN0U3RyaW5nID0gIiI7DQo+ID4g
ICAgIGludCBpID0gc291cmNlU3RyaW5nLmluZGV4T2Yoa2V5KTsNCj4gPiAgICAgd2hpbGUgKCBp
ICE9IC0xICkgew0KPiA+ICAgICAgIGRlc3RTdHJpbmcgPSBkZXN0U3RyaW5nICsgc291cmNlU3Ry
aW5nLnN1YnN0cmluZygwLGkpDQo+ID4gICAgICAgICAgICAgICAgICArICI8Zm9udCBjb2xvcj1c
InJlZFwiPiIgKyBrZXkgKyAiPC9mb250PiI7DQo+ID4gICAgICAgc291cmNlU3RyaW5nID0gc291
cmNlU3RyaW5nLnN1YnN0cmluZyhpK2tleS5sZW5ndGgoKSk7DQo+ID4gICAgICAgaSA9IHNvdXJj
ZVN0cmluZy5pbmRleE9mKGtleSk7DQo+ID4gICAgIH0NCj4gPiAgICAgZGVzdFN0cmluZyA9IGRl
c3RTdHJpbmcrc291cmNlU3RyaW5nOw0KPiA+ICAgICByZXR1cm4gZGVzdFN0cmluZzsNCj4gPiAg
IH0NCj4gPiANCj4gPiAgIHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0KFN0cmluZyBzdHJpbmcp
ew0KPiA+ICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKXsNCj4gPiAgICAgICBp
ZiAoc3RyaW5nLmluZGV4T2Yoa2V5c1tpXSkgIT0gLTEpew0KPiA+ICAgICAgICAgLy9zdHJpbmcg
PSBzdHJpbmcucmVwbGFjZUFsbChrZXlzW2ldLCAiPGZvbnQgY29sb3I9XCJyZWRcIj4iDQo+ID4g
KyBrZXlzW2ldICsgIjwvZm9udD4iKTsNCj4gPiAgICAgICAgIHN0cmluZyA9IHJlcGxhY2VLZXko
c3RyaW5nLCBrZXlzW2ldKTsNCj4gPiAgICAgICB9DQo+ID4gICAgIH0NCj4gPiAgICAgcmV0dXJu
IHN0cmluZzsNCj4gPiAgIH0NCj4gPiANCj4gPiAgIHB1YmxpYyBTdHJpbmcgZ2V0SGlnaGxpZ2h0
RmlsZShTdHJpbmcgcGF0aCkNCj4gPiAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24sIEludGVycnVw
dGVkRXhjZXB0aW9uICB7DQo+ID4gDQo+ID4gICAgIEhUTUxQYXJzZXIgcGFyc2VyID0gbmV3IEhU
TUxQYXJzZXIobmV3IEZpbGUocGF0aCkpOw0KPiA+ICAgICBSZWFkZXIgZnIgPSBwYXJzZXIuZ2V0
UmVhZGVyKCk7DQo+ID4gICAgIFN0cmluZyBobFN0cmluZyA9IHRoaXMuZ2V0SGlnaGxpZ2h0KGZy
KTsNCj4gPiAgICAgZnIuY2xvc2UoKTsNCj4gPiAgICAgcmV0dXJuIGhsU3RyaW5nOw0KPiA+ICAg
fQ0KPiA+IA0KPiA+ICAgcHVibGljIFN0cmluZyBnZXRIaWdobGlnaHQoUmVhZGVyIHJlYWRlcil7
DQo+ID4gDQo+ID4gICAgIHRyeXsNCj4gPiAgICAgICBpbnQgc2l6ZSA9IDUgLSBrZXlzLmxlbmd0
aDsNCj4gPiAgICAgICBpZiAoIHNpemUgPiAwKSB7DQo+ID4gICAgICAgICBzaXplID0gc2l6ZSAq
IDEwMDsNCj4gPiAgICAgICB9IGVsc2Ugew0KPiA+ICAgICAgICAgc2l6ZSA9IDEwMDsNCj4gPiAg
ICAgICB9DQo+ID4gICAgICAgY2hhcltdIGJ1ZmZlciA9IG5ldyBjaGFyW3NpemVdOw0KPiA+ICAg
ICAgIFN0cmluZ0J1ZmZlciBsYXN0ID0gbmV3IFN0cmluZ0J1ZmZlcigiLi4iKTsNCj4gPiAgICAg
ICBTdHJpbmcgdGVtcDsNCj4gPiAgICAgICBib29sZWFuIGVuZCA9IGZhbHNlOw0KPiA+ICAgICAg
IGZvcihpbnQgYz0wOyBjPGIubGVuZ3RoOyBjKyspew0KPiA+ICAgICAgICAgYltjXSA9IGZhbHNl
Ow0KPiA+ICAgICAgIH0NCj4gPiANCj4gPiAgICAgICB3aGlsZSAoKHJlYWRlci5yZWFkKGJ1ZmZl
cikgIT0gLTEpICYmICFlbmQpew0KPiA+ICAgICAgICAgdGVtcCA9IG5ldyBTdHJpbmcoYnVmZmVy
KTsNCj4gPiAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKHRlbXApOw0KPiA+ICAgICAgICAg
Ly90ZW1wID0gdGVtcC5yZXBsYWNlQWxsKCJcclxuIiwgIiAiKTsNCj4gPiAgICAgICAgIGZvcihp
bnQgaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspew0KPiA+ICAgICAgICAgICBpZiAoIWJbaV0gJiYg
dGVtcC5pbmRleE9mKGtleXNbaV0pICE9IC0xKXsNCj4gPiAgICAgICAgICAgICBiW2ldID0gdHJ1
ZTsNCj4gPiAgICAgICAgICAgICAvL3RlbXAgPSB0ZW1wLnJlcGxhY2VBbGwoa2V5c1tpXSwgIjxm
b250IGNvbG9yPVwicmVkXCI+Ig0KPiA+ICsga2V5c1tpXSArICI8L2ZvbnQ+Iik7DQo+ID4gICAg
ICAgICAgICAgbGFzdC5hcHBlbmQoIi4iICsgdGVtcCArICIuLiIpOw0KPiA+ICAgICAgICAgICB9
DQo+ID4gICAgICAgICB9DQo+ID4gICAgICAgICBmb3IoaW50IGk9MDsgaTxrZXlzLmxlbmd0aDsg
aSsrKXsNCj4gPiAgICAgICAgICAgaWYgKCFiW2ldKXsNCj4gPiAgICAgICAgICAgICBlbmQgPSBm
YWxzZTsNCj4gPiAgICAgICAgICAgICBicmVhazsNCj4gPiAgICAgICAgICAgfSBlbHNlIHsNCj4g
PiAgICAgICAgICAgICBlbmQgPSB0cnVlOw0KPiA+ICAgICAgICAgICB9DQo+ID4gICAgICAgICB9
DQo+ID4gICAgICAgfQ0KPiA+ICAgICAgIGxhc3QuYXBwZW5kKCIuIik7DQo+ID4gICAgICAgaWYg
KGxhc3QubGVuZ3RoKCkgPCAxMDApew0KPiA+ICAgICAgICAgcmV0dXJuIG51bGw7DQo+ID4gICAg
ICAgfSBlbHNlIHsNCj4gPiAgICAgICAgIHJldHVybih0aGlzLmdldEhpZ2hsaWdodChsYXN0LnRv
U3RyaW5nKCkpKTsNCj4gPiAgICAgICB9DQo+ID4gICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKXsN
Cj4gPiAgICAgICByZXR1cm4gbnVsbDsNCj4gPiAgICAgfQ0KPiA+ICAgfQ0KPiA+IH0gDQo+ID4g
DQo+ID4gDQo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVj
ZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+ID4gRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcN
Cj4gPiANCj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNl
bmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gPiBGb3IgYWRkaXRpb25h
bCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0K
PiA+IA0KPiA+IA0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRp
b25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9y
Zw0KPiANCj4g


From MAILER-DAEMON Thu Apr 10 19:19:44 2003
Return-Path: 
 <lucene-user-return-4194-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22510 invoked from network); 10 Apr 2003 19:19:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 19:19:44 -0000
Received: (qmail 12450 invoked by uid 97); 10 Apr 2003 19:21:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12443 invoked from network); 10 Apr 2003 19:21:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 19:21:39 -0000
Received: (qmail 22249 invoked by uid 500); 10 Apr 2003 19:19:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22216 invoked from network); 10 Apr 2003 19:19:39 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 10 Apr 2003 19:19:39 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP;
 Thu, 10 Apr 2003 12:18:25 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <2T2P65H5>; Thu, 10 Apr 2003 12:19:43 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A9652E@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: open excel file to browser!!!!!!
Date: Thu, 10 Apr 2003 12:19:37 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C2FF96.205FED10"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C2FF96.205FED10
Content-Type: text/plain

Hi, I need a help. After to do a search (with my search engine) I generate a
jsp that send to the browser the link where I find the string or the word
that I search(the string is inside an excel file). So now, how can i do to
open an excel file with the string or word higtlighted directly??? I need
some ideas . Thanks

Michel 


------_=_NextPart_001_01C2FF96.205FED10--

From MAILER-DAEMON Thu Apr 10 19:46:45 2003
Return-Path: 
 <lucene-user-return-4195-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74718 invoked from network); 10 Apr 2003 19:46:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Apr 2003 19:46:45 -0000
Received: (qmail 13137 invoked by uid 97); 10 Apr 2003 19:48:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13130 invoked from network); 10 Apr 2003 19:48:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 10 Apr 2003 19:48:40 -0000
Received: (qmail 74418 invoked by uid 500); 10 Apr 2003 19:46:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74404 invoked from network); 10 Apr 2003 19:46:41 -0000
Received: from mail2.ladro.com (HELO www.ladro.com) (216.231.48.161)
  by daedalus.apache.org with SMTP; 10 Apr 2003 19:46:41 -0000
Received: (qmail 68706 invoked by uid 500); 10 Apr 2003 19:47:08 -0000
Date: Thu, 10 Apr 2003 12:47:08 -0700
From: Chris Wilkes <cwilkes-lucene@ladro.com>
To: lucene-user@jakarta.apache.org
Subject: Re: open excel file to browser!!!!!!
Message-ID: <20030410194708.GM10030@www.ladro.com>
References: <E9EE029E3896D511A2AA0002A589953003A9652E@bruex4.eu.levi.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A9652E@bruex4.eu.levi.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thu, Apr 10, 2003 at 12:19:37PM -0700, MMachado@LEVI.com wrote:
> Hi, I need a help. After to do a search (with my search engine) I generate a
> jsp that send to the browser the link where I find the string or the word
> that I search(the string is inside an excel file). So now, how can i do to
> open an excel file with the string or word higtlighted directly??? I need
> some ideas . Thanks

Do you mean how do you generate a URL that when the person clicks on it
they'll get the Excel document and they'll have their word highlighted?

If so, you're better off asking in an Excel newsgroup as this is outside
of what Lucene does.  You'll want to ask if you can pass an argument to
Excel that tells it where to go in the document.  Good luck!

Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 08:11:06 2003
Return-Path: 
 <lucene-user-return-4196-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41291 invoked from network); 11 Apr 2003 08:11:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 08:11:06 -0000
Received: (qmail 26728 invoked by uid 97); 11 Apr 2003 08:13:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26721 invoked from network); 11 Apr 2003 08:13:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 08:13:09 -0000
Received: (qmail 41008 invoked by uid 500); 11 Apr 2003 08:11:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40990 invoked from network); 11 Apr 2003 08:11:02 -0000
Received: from mail.startext.de (62.159.148.202)
  by daedalus.apache.org with SMTP; 11 Apr 2003 08:11:02 -0000
Received: by mail.startext.de (Postfix on SuSE Linux eMail Server 3.0,
 from userid 65534)
	id 66D5E1AC011; Fri, 11 Apr 2003 10:12:01 +0200 (CEST)
Received: from ilya (ikh.startext.de [192.70.141.94])
	by mail.startext.de (Postfix on SuSE Linux eMail Server 3.0) with ESMTP id
 1F0301AC010
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 10:11:54 +0200 (CEST)
From: "Ilya Khandamirov" <ikh@startext.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: OFFTOPIC: RE: open excel file to browser!!!!!!
Date: Fri, 11 Apr 2003 10:11:34 +0200
Message-ID: <009801c30001$f79aa3e0$5e8d46c0@ilya>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A9652E@bruex4.eu.levi.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Status: No, hits=-14.4 required=5.0
	tests=BAYES_01,IN_REP_TO,ORIGINAL_MESSAGE,PLING_PLING
	autolearn=ham version=2.51
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.51 (1.174.2.4-2003-03-20-exp)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

You could do something like this in Intranet, where you could dictate
that your users may run macros. Then you could write some VBA code,
which get the terms from Lucene and highlights them in Excel.

Another option would be working with Excel format at binary level.

For more details please ask in some Excel user group.


Regards,
Ilya


-----Original Message-----
From: MMachado@LEVI.com [mailto:MMachado@LEVI.com] 
Sent: Donnerstag, 10. April 2003 21:20
To: lucene-user@jakarta.apache.org
Subject: open excel file to browser!!!!!!


Hi, I need a help. After to do a search (with my search engine) I
generate a jsp that send to the browser the link where I find the string
or the word that I search(the string is inside an excel file). So now,
how can i do to open an excel file with the string or word higtlighted
directly??? I need some ideas . Thanks

Michel



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 11:57:03 2003
Return-Path: 
 <lucene-user-return-4197-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62621 invoked from network); 11 Apr 2003 11:57:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 11:57:03 -0000
Received: (qmail 1749 invoked by uid 97); 11 Apr 2003 11:58:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1741 invoked from network); 11 Apr 2003 11:58:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 11:58:53 -0000
Received: (qmail 61626 invoked by uid 500); 11 Apr 2003 11:56:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61573 invoked from network); 11 Apr 2003 11:56:51 -0000
Received: from a17-250-248-88.apple.com (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 11 Apr 2003 11:56:51 -0000
Received: from asmtp02.mac.com (asmtp02-qfe3 [10.13.10.66])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h3BBuqXH019952
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 04:56:52 -0700 (PDT)
Received: from mac.com ([62.167.183.124]) by asmtp02.mac.com
          (Netscape Messaging Server 4.15) with ESMTP id HD6H6R00.HIL for
          <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 04:56:51 -0700
Date: Fri, 11 Apr 2003 13:56:52 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Searching for null value?
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <AF01FC4E-6C14-11D7-8973-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Is there a simple way to query an index for documents which don't have 
a specific value (a keyword field in this instance). For example, I 
have documents with a category field and I would like to retrieve all 
the documents which don't have any category? Any way to express that as 
a Lucene query?

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 12:40:11 2003
Return-Path: 
 <lucene-user-return-4198-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61614 invoked from network); 11 Apr 2003 12:40:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:40:11 -0000
Received: (qmail 3352 invoked by uid 97); 11 Apr 2003 12:42:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3345 invoked from network); 11 Apr 2003 12:42:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 12:42:04 -0000
Received: (qmail 61216 invoked by uid 500); 11 Apr 2003 12:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61153 invoked from network); 11 Apr 2003 12:40:06 -0000
Received: from ns18a.dixiesys.com (HELO www18.dixiesys.com) (209.51.150.6)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:40:06 -0000
Received: from Lissus (s84.dial1.sne.nac.net [64.21.101.84])
	(authenticated (0 bits))
	by www18.dixiesys.com (8.11.6/8.11.6) with ESMTP id h3BCe3119800
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 07:40:04 -0500
Reply-To: <lists@lissus.com>
From: "Alex Murzaku" <lists@lissus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching for null value?
Date: Fri, 11 Apr 2003 08:39:57 -0400
Organization: LISSUS llc
Message-ID: <003801c30027$79a24cb0$6501000a@Lissus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <AF01FC4E-6C14-11D7-8973-000393760B7E@mac.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi PA,

I don't think a free standing NOT query works. The best way would be to
have a default value that is there for every record (some kind of
support field) which in turn can be combined with a NOT query, e.g.:
	+field:category -category:junk
which assumes you have a field called "field" and a field called
"category"...

Just my 25 Fils,

Alex

-----Original Message-----
From: petite_abeille [mailto:petite_abeille@mac.com] 
Sent: Friday, April 11, 2003 7:57 AM
To: lucene-user@jakarta.apache.org
Subject: Searching for null value?


Hello,

Is there a simple way to query an index for documents which don't have 
a specific value (a keyword field in this instance). For example, I 
have documents with a category field and I would like to retrieve all 
the documents which don't have any category? Any way to express that as 
a Lucene query?

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 12:43:18 2003
Return-Path: 
 <lucene-user-return-4199-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68285 invoked from network); 11 Apr 2003 12:43:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:43:18 -0000
Received: (qmail 3442 invoked by uid 97); 11 Apr 2003 12:45:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3435 invoked from network); 11 Apr 2003 12:45:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 12:45:11 -0000
Received: (qmail 67937 invoked by uid 500); 11 Apr 2003 12:43:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67923 invoked from network); 11 Apr 2003 12:43:13 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:43:13 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h3BCgTc25548
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 18:12:29 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h3BD0WsS014411
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 18:30:37 +0530
Message-ID: <006e01c30028$39554fd0$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <7B4F465444F8D51184B500065B3817508A9AB3@mshyd1.hyd.deshaw.com>
Subject: Analyzer 
Date: Fri, 11 Apr 2003 18:15:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello folks
 I have written my own Analyzer class which should filter the stop words.
 But the stop words are not removed in *.fdt file.

public class MyAnalyzer extends Analyzer
{
    public static final String[] STOP_WORDS =
    {
        "0", "1", "2", "3", "4", "5", "6", "7", "8",
        "9", "000", "$",
        "about", "after", "all", "also", "an", "and",
        "another", "any", "are", "as", "at", "be",
        "because", "been", "before", "being", "between",
        "both", "but", "by", "came", "can", "come",
        "could", "did", "do", "does", "each", "else",
        "for", "from", "get", "got", "has", "had",
        "he", "have", "her", "here", "him", "himself",
        "his", "how","if", "in", "into", "is", "it",
        "its", "just", "like", "make", "many", "me",
        "might", "more", "most", "much", "must", "my",
        "never", "now", "of", "on", "only", "or",
        "other", "our", "out", "over", "re", "said",
        "same", "see", "should", "since", "so", "some",
        "still", "such", "take", "than", "that", "the",
        "their", "them", "then", "there", "these",
        "they", "this", "those", "through", "to", "too",
        "under", "up", "use", "very", "want", "was",
        "way", "we", "well", "were", "what", "when",
        "where", "which", "while", "who", "will",
        "with", "would", "you", "your",
        "a", "b", "c", "d", "e", "f", "g", "h", "i",
        "j", "k", "l", "m", "n", "o", "p", "q", "r",
        "s", "t", "u", "v", "w", "x", "y", "z"
    };

    private static Hashtable _stopTable =
StopFilter.makeStopTable(STOP_WORDS);

     public MyAnalyzer()
    {
       super(STOP_WORDS);
     }
    public MyAnalyzer(String[] stopWords)
    {
        _stopTable = StopFilter.makeStopTable(stopWords);
    }
    public final TokenStream tokenStream(Reader reader)
    {
           System.out.println("Stop Analyzer is called");
          //return new StopFilter(new
LowerCaseTokenizer(reader),STOP_WORDS);

          TokenStream result = new StandardTokenizer(reader);
          result = new StandardFilter(result);
          result = new LowerCaseFilter(result);
          result = new StopFilter(result, _stopTable);
          result = new PorterStemFilter(result);
          return result;
    }
}

If there is any problem with this code please do help me.

regards
ganesh


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 12:56:06 2003
Return-Path: 
 <lucene-user-return-4200-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96079 invoked from network); 11 Apr 2003 12:56:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:56:06 -0000
Received: (qmail 3763 invoked by uid 97); 11 Apr 2003 12:57:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3756 invoked from network); 11 Apr 2003 12:57:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 12:57:59 -0000
Received: (qmail 93943 invoked by uid 500); 11 Apr 2003 12:55:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93792 invoked from network); 11 Apr 2003 12:55:38 -0000
Received: from smtpout.mac.com (17.250.248.87)
  by daedalus.apache.org with SMTP; 11 Apr 2003 12:55:38 -0000
Received: from asmtp01.mac.com (asmtp01-qfe3 [10.13.10.65])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h3BCtdGm012455
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 05:55:39 -0700 (PDT)
Received: from mac.com ([62.167.183.124]) by asmtp01.mac.com
          (Netscape Messaging Server 4.15) with ESMTP id HD6JWQ00.42V for
          <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 05:55:38 -0700
Date: Fri, 11 Apr 2003 14:55:39 +0200
Subject: Re: Searching for null value?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <003801c30027$79a24cb0$6501000a@Lissus>
Message-Id: <E553B89B-6C1C-11D7-8973-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Alex,

On Friday, Apr 11, 2003, at 14:39 Europe/Zurich, Alex Murzaku wrote:

> I don't think a free standing NOT query works. The best way would be to
> have a default value that is there for every record (some kind of
> support field) which in turn can be combined with a NOT query, e.g.:
> 	+field:category -category:junk
> which assumes you have a field called "field" and a field called
> "category"...

I see. What about the other way around? Is there a way to express a 
query for the existence of a field, no matter what its value might be? 
Something like: search for all documents with a field named "category"?

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 13:20:44 2003
Return-Path: 
 <lucene-user-return-4201-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48001 invoked from network); 11 Apr 2003 13:20:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 13:20:44 -0000
Received: (qmail 4405 invoked by uid 97); 11 Apr 2003 13:22:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4398 invoked from network); 11 Apr 2003 13:22:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 13:22:37 -0000
Received: (qmail 47727 invoked by uid 500); 11 Apr 2003 13:20:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47646 invoked from network); 11 Apr 2003 13:20:40 -0000
Received: from ns18a.dixiesys.com (HELO www18.dixiesys.com) (209.51.150.6)
  by daedalus.apache.org with SMTP; 11 Apr 2003 13:20:40 -0000
Received: from Lissus (s84.dial1.sne.nac.net [64.21.101.84])
	(authenticated (0 bits))
	by www18.dixiesys.com (8.11.6/8.11.6) with ESMTP id h3BDKb127583
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 08:20:38 -0500
Reply-To: <lists@lissus.com>
From: "Alex Murzaku" <lists@lissus.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching for null value?
Date: Fri, 11 Apr 2003 09:20:30 -0400
Organization: LISSUS llc
Message-ID: <003901c3002d$245f9cc0$6501000a@Lissus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <E553B89B-6C1C-11D7-8973-000393760B7E@mac.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

yeah - that would be very compact indeed... but, I don't think the
existence of the field is part of any query type implementations.

-----Original Message-----
From: petite_abeille [mailto:petite_abeille@mac.com] 
Sent: Friday, April 11, 2003 8:56 AM
To: Lucene Users List
Subject: Re: Searching for null value?


Hi Alex,

On Friday, Apr 11, 2003, at 14:39 Europe/Zurich, Alex Murzaku wrote:

> I don't think a free standing NOT query works. The best way would be 
> to have a default value that is there for every record (some kind of 
> support field) which in turn can be combined with a NOT query, e.g.:
> 	+field:category -category:junk
> which assumes you have a field called "field" and a field called 
> "category"...

I see. What about the other way around? Is there a way to express a 
query for the existence of a field, no matter what its value might be? 
Something like: search for all documents with a field named "category"?

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 13:27:14 2003
Return-Path: 
 <lucene-user-return-4202-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56484 invoked from network); 11 Apr 2003 13:27:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 13:27:14 -0000
Received: (qmail 4536 invoked by uid 97); 11 Apr 2003 13:29:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4529 invoked from network); 11 Apr 2003 13:29:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 13:29:08 -0000
Received: (qmail 56241 invoked by uid 500); 11 Apr 2003 13:27:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56228 invoked from network); 11 Apr 2003 13:27:11 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 11 Apr 2003 13:27:11 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 D312C19B718
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 15:27:11 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h3BDRSr24652;
	Fri, 11 Apr 2003 15:27:28 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16022.49856.97315.66543@morus.xipolis.net>
Date: Fri, 11 Apr 2003 15:27:28 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Searching for null value?
In-Reply-To: <E553B89B-6C1C-11D7-8973-000393760B7E@mac.com>
References: <003801c30027$79a24cb0$6501000a@Lissus>
	<E553B89B-6C1C-11D7-8973-000393760B7E@mac.com>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

petite_abeille writes:
> 
> I see. What about the other way around? Is there a way to express a 
> query for the existence of a field, no matter what its value might be? 
> Something like: search for all documents with a field named "category"?
> 
I have a small class listing all values for a given field.
This should be extendable to listing all documents, however you'd get
multiple references for documents having more than one token in category.

import org.apache.lucene.index.IndexReader;
import org.apache.lucene.search.WildcardTermEnum;
import org.apache.lucene.index.Term;

class ListTerms {
    public static void main(String[] args) {
	if ( args.length != 3 ) {
	    System.out.println("usage: java ListTerms <index> <field> <wildcard expression>");
	    System.exit(0);
	}
	try {
	    IndexReader reader = IndexReader.open(args[0]);
	    Term term = new Term(args[1], args[2]);
	    WildcardTermEnum enum = new WildcardTermEnum(reader, term);
	    System.out.print(enum.docFreq() + ": ");
	    System.out.println(enum.term().text());
	    while ( enum.next() ) {
		System.out.print(enum.docFreq() + ": ");
		System.out.println(enum.term().text());
	    }

	} catch (Exception e) {
	    System.err.println(" caught a " + e.getClass() +
			       "\n with message: " + e.getMessage());
	}
    }
}

The arguments are the index, the fieldname and a wildcard expression for the 
field value, e.g. "*" for anything.

What you need in the loop is another loop over the documents which
should be something like

	TermDocs termDocs = reader.termDocs();
	termDocs.seek(enum.term());
	try {
	    while (termDocs.next()) {
	        // output document
		}
	} finally {
	    termDocs.close();
	}

If you expect duplicated entries, you might use a BitSet to flag the
documents and output them afterwards.
BTW: this gives an answer to your original question. If you output the
documents not flaged, you will have the ones without this field.

Of course this is not a "query" in the usual sense.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 14:34:04 2003
Return-Path: 
 <lucene-user-return-4203-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5407 invoked from network); 11 Apr 2003 14:34:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 14:34:04 -0000
Received: (qmail 6442 invoked by uid 97); 11 Apr 2003 14:35:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6435 invoked from network); 11 Apr 2003 14:35:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 14:35:59 -0000
Received: (qmail 5199 invoked by uid 500); 11 Apr 2003 14:34:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5176 invoked from network); 11 Apr 2003 14:34:01 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 11 Apr 2003 14:34:01 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Fri, 11 Apr 2003 09:33:54 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4XMJ1Q>; Fri, 11 Apr 2003 09:33:52 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4B9E@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Analyzer stopwords
Date: Fri, 11 Apr 2003 09:33:51 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I use a StandardAnalyzer for indexing, is it important to provide it with the same stop words list for searching, as I used for indexing?

Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 15:12:53 2003
Return-Path: 
 <lucene-user-return-4204-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19812 invoked from network); 11 Apr 2003 15:12:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:12:53 -0000
Received: (qmail 8751 invoked by uid 97); 11 Apr 2003 15:14:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8744 invoked from network); 11 Apr 2003 15:14:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 15:14:48 -0000
Received: (qmail 19551 invoked by uid 500); 11 Apr 2003 15:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19529 invoked from network); 11 Apr 2003 15:12:50 -0000
Received: from web12708.mail.yahoo.com (216.136.173.245)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:12:50 -0000
Message-ID: <20030411151252.37656.qmail@web12708.mail.yahoo.com>
Received: from [216.194.17.194] by web12708.mail.yahoo.com via HTTP;
 Fri, 11 Apr 2003 08:12:52 PDT
Date: Fri, 11 Apr 2003 08:12:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Analyzer stopwords
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4B9E@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you
search for 'house'.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> If I use a StandardAnalyzer for indexing, is it important to provide
> it with the same stop words list for searching, as I used for
> indexing?
> 
> Thanks, 
> 
> Dan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 15:39:00 2003
Return-Path: 
 <lucene-user-return-4205-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81256 invoked from network); 11 Apr 2003 15:39:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:39:00 -0000
Received: (qmail 10004 invoked by uid 97); 11 Apr 2003 15:40:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9997 invoked from network); 11 Apr 2003 15:40:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 15:40:53 -0000
Received: (qmail 79667 invoked by uid 500); 11 Apr 2003 15:38:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79622 invoked from network); 11 Apr 2003 15:38:37 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:38:37 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Fri, 11 Apr 2003 10:38:28 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4XM6ZW>; Fri, 11 Apr 2003 10:38:27 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BA0@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Analyzer stopwords
Date: Fri, 11 Apr 2003 10:38:26 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm missing something obvious, I know it.... But, if I list 'house' as a stop word when I am indexing, doesn't that mean that any occurrence of the word house is not indexed, and therefore not findable in the index?  So it wouldn't matter if 'house' was in my stopwords list when searching, because its not findable anyway?


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Friday, April 11, 2003 10:13 AM
To: Lucene Users List
Subject: Re: Analyzer stopwords


Yes.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you
search for 'house'.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> If I use a StandardAnalyzer for indexing, is it important to provide
> it with the same stop words list for searching, as I used for
> indexing?
> 
> Thanks, 
> 
> Dan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 15:44:10 2003
Return-Path: 
 <lucene-user-return-4206-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91161 invoked from network); 11 Apr 2003 15:44:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:44:10 -0000
Received: (qmail 10163 invoked by uid 97); 11 Apr 2003 15:46:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10156 invoked from network); 11 Apr 2003 15:46:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 15:46:05 -0000
Received: (qmail 90873 invoked by uid 500); 11 Apr 2003 15:44:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90855 invoked from network); 11 Apr 2003 15:44:07 -0000
Received: from merc61.na.sas.com (149.173.6.14)
  by daedalus.apache.org with SMTP; 11 Apr 2003 15:44:07 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.2 with InterScan
 Messaging Security Suite; Fri, 11 Apr 2003 11:44:08 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analyzer stopwords
Date: Fri, 11 Apr 2003 11:44:08 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analyzer stopwords
Thread-Index: AcMAQHtiiAdI/3cRTZahwbP45RvaoAAACmtA
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think Otis's example was backwards...

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did _not_ index 'house' terms, but you cannot find any documents if =
you search for 'house'.

The inverse is more interesting to make the point:
When indexing you do not list 'house' as a stop word.
When searching you list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you =
search for 'house' (because it was removed from the query).
Your index is bloated with terms that can never be successfully =
searched.

Eric

-----Original Message-----
From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu]=20
Sent: Friday, April 11, 2003 11:38 AM
To: 'Lucene Users List'
Subject: RE: Analyzer stopwords


I'm missing something obvious, I know it.... But, if I list 'house' as a =
stop word when I am indexing, doesn't that mean that any occurrence of =
the word house is not indexed, and therefore not findable in the index?  =
So it wouldn't matter if 'house' was in my stopwords list when =
searching, because its not findable anyway?


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Friday, April 11, 2003 10:13 AM
To: Lucene Users List
Subject: Re: Analyzer stopwords


Yes.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you =
search for 'house'.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> If I use a StandardAnalyzer for indexing, is it important to provide=20
> it with the same stop words list for searching, as I used for=20
> indexing?
>=20
> Thanks,
>=20
> Dan
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more =
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 16:00:50 2003
Return-Path: 
 <lucene-user-return-4207-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30769 invoked from network); 11 Apr 2003 16:00:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:00:50 -0000
Received: (qmail 10670 invoked by uid 97); 11 Apr 2003 16:02:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10663 invoked from network); 11 Apr 2003 16:02:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 16:02:42 -0000
Received: (qmail 30140 invoked by uid 500); 11 Apr 2003 16:00:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30126 invoked from network); 11 Apr 2003 16:00:16 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:00:16 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Fri, 11 Apr 2003 11:00:12 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4XNCTR>; Fri, 11 Apr 2003 11:00:11 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BA1@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Analyzer stopwords
Date: Fri, 11 Apr 2003 11:00:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

So I should be able to safely use a list of stopwords while creating an index, and then not pass in any stopwords when searching the index, and get the same behavior as if I had passed in the list of stopwords - Since they weren't put into the index to begin with, they are impossible to search with regardless of the stopwords that I use for searching.




************************************ 

-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com] 
Sent: Friday, April 11, 2003 10:44 AM
To: Lucene Users List
Subject: RE: Analyzer stopwords


I think Otis's example was backwards...

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did _not_ index 'house' terms, but you cannot find any documents if you search for 'house'.

The inverse is more interesting to make the point:
When indexing you do not list 'house' as a stop word.
When searching you list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you search for 'house' (because it was removed from the query).
Your index is bloated with terms that can never be successfully searched.

Eric

-----Original Message-----
From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu] 
Sent: Friday, April 11, 2003 11:38 AM
To: 'Lucene Users List'
Subject: RE: Analyzer stopwords


I'm missing something obvious, I know it.... But, if I list 'house' as a stop word when I am indexing, doesn't that mean that any occurrence of the word house is not indexed, and therefore not findable in the index?  So it wouldn't matter if 'house' was in my stopwords list when searching, because its not findable anyway?


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Friday, April 11, 2003 10:13 AM
To: Lucene Users List
Subject: Re: Analyzer stopwords


Yes.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you search for 'house'.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> If I use a StandardAnalyzer for indexing, is it important to provide 
> it with the same stop words list for searching, as I used for 
> indexing?
> 
> Thanks,
> 
> Dan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 16:08:15 2003
Return-Path: 
 <lucene-user-return-4208-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54183 invoked from network); 11 Apr 2003 16:08:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:08:15 -0000
Received: (qmail 11012 invoked by uid 97); 11 Apr 2003 16:10:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11004 invoked from network); 11 Apr 2003 16:10:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 16:10:11 -0000
Received: (qmail 47505 invoked by uid 500); 11 Apr 2003 16:06:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47472 invoked from network); 11 Apr 2003 16:06:47 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:06:47 -0000
Message-ID: <20030411160650.28637.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Fri, 11 Apr 2003 09:06:50 PDT
Date: Fri, 11 Apr 2003 09:06:50 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Analyzer stopwords
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Correct, I reversed it, sorry for confusion.

--- Eric Isakson <Eric.Isakson@sas.com> wrote:
> I think Otis's example was backwards...
> 
> Consider a simple example:
> When indexing you list 'house' as a stop word.
> When searching you do not list 'house' as a stop word.
> 
> Consequence:
> You did _not_ index 'house' terms, but you cannot find any documents
> if you search for 'house'.
> 
> The inverse is more interesting to make the point:
> When indexing you do not list 'house' as a stop word.
> When searching you list 'house' as a stop word.
> 
> Consequence:
> You did index 'house' terms, but you cannot find any documents if you
> search for 'house' (because it was removed from the query).
> Your index is bloated with terms that can never be successfully
> searched.
> 
> Eric
> 
> -----Original Message-----
> From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu] 
> Sent: Friday, April 11, 2003 11:38 AM
> To: 'Lucene Users List'
> Subject: RE: Analyzer stopwords
> 
> 
> I'm missing something obvious, I know it.... But, if I list 'house'
> as a stop word when I am indexing, doesn't that mean that any
> occurrence of the word house is not indexed, and therefore not
> findable in the index?  So it wouldn't matter if 'house' was in my
> stopwords list when searching, because its not findable anyway?
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Friday, April 11, 2003 10:13 AM
> To: Lucene Users List
> Subject: Re: Analyzer stopwords
> 
> 
> Yes.
> 
> Consider a simple example:
> When indexing you list 'house' as a stop word.
> When searching you do not list 'house' as a stop word.
> 
> Consequence:
> You did index 'house' terms, but you cannot find any documents if you
> search for 'house'.
> 
> Otis
> 
> 
> --- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> > If I use a StandardAnalyzer for indexing, is it important to
> provide 
> > it with the same stop words list for searching, as I used for 
> > indexing?
> > 
> > Thanks,
> > 
> > Dan
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more
> http://tax.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 17:40:42 2003
Return-Path: 
 <lucene-user-return-4210-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37603 invoked from network); 11 Apr 2003 17:40:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 17:40:42 -0000
Received: (qmail 13355 invoked by uid 97); 11 Apr 2003 17:42:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13348 invoked from network); 11 Apr 2003 17:42:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 17:42:38 -0000
Received: (qmail 37178 invoked by uid 500); 11 Apr 2003 17:40:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37149 invoked from network); 11 Apr 2003 17:40:37 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 11 Apr 2003 17:40:37 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan
 Messaging Security Suite; Fri, 11 Apr 2003 13:40:38 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analyzer stopwords
Date: Fri, 11 Apr 2003 13:40:38 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5B9E@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analyzer stopwords
Thread-Index: AcMAQ44lRB/BFpLwTMmZu6O7uEX9pwADTHpw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sounds reasonable if that is ok for your app.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

You indexed the string "my house is blue"

You search for:
+blue -house

Consequence:
You still get a hit on "my house is blue" because "house" was not =
indexed.

Eric

-----Original Message-----
From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu]=20
Sent: Friday, April 11, 2003 12:00 PM
To: 'Lucene Users List'
Subject: RE: Analyzer stopwords


So I should be able to safely use a list of stopwords while creating an =
index, and then not pass in any stopwords when searching the index, and =
get the same behavior as if I had passed in the list of stopwords - =
Since they weren't put into the index to begin with, they are impossible =
to search with regardless of the stopwords that I use for searching.




************************************=20

-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com]=20
Sent: Friday, April 11, 2003 10:44 AM
To: Lucene Users List
Subject: RE: Analyzer stopwords


I think Otis's example was backwards...

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did _not_ index 'house' terms, but you cannot find any documents if =
you search for 'house'.

The inverse is more interesting to make the point:
When indexing you do not list 'house' as a stop word.
When searching you list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you =
search for 'house' (because it was removed from the query). Your index =
is bloated with terms that can never be successfully searched.

Eric

-----Original Message-----
From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu]=20
Sent: Friday, April 11, 2003 11:38 AM
To: 'Lucene Users List'
Subject: RE: Analyzer stopwords


I'm missing something obvious, I know it.... But, if I list 'house' as a =
stop word when I am indexing, doesn't that mean that any occurrence of =
the word house is not indexed, and therefore not findable in the index?  =
So it wouldn't matter if 'house' was in my stopwords list when =
searching, because its not findable anyway?


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Friday, April 11, 2003 10:13 AM
To: Lucene Users List
Subject: Re: Analyzer stopwords


Yes.

Consider a simple example:
When indexing you list 'house' as a stop word.
When searching you do not list 'house' as a stop word.

Consequence:
You did index 'house' terms, but you cannot find any documents if you =
search for 'house'.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> If I use a StandardAnalyzer for indexing, is it important to provide
> it with the same stop words list for searching, as I used for=20
> indexing?
>=20
> Thanks,
>=20
> Dan
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more =
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 11 16:11:39 2003
Return-Path: 
 <lucene-user-return-4209-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69550 invoked from network); 11 Apr 2003 16:11:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:11:39 -0000
Received: (qmail 11195 invoked by uid 97); 11 Apr 2003 16:13:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11188 invoked from network); 11 Apr 2003 16:13:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 11 Apr 2003 16:13:35 -0000
Received: (qmail 58307 invoked by uid 500); 11 Apr 2003 16:09:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58245 invoked from network); 11 Apr 2003 16:09:14 -0000
Received: from smtp1.clb.oleane.net (213.56.31.17)
  by daedalus.apache.org with SMTP; 11 Apr 2003 16:09:14 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp1.clb.oleane.net with ESMTP id h3BG9FBb007373
	for <lucene-user@jakarta.apache.org>; Fri, 11 Apr 2003 18:09:16 +0200
Message-ID: <01ec01c300a9$60872b10$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
Subject: Index Monitoring
Date: Sat, 12 Apr 2003 06:09:24 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Has anybody already developped a program to monitor Lucene indexes?
This could be useful in order to know how many documents are in a given
index, what are the fields used and view the stored fields of a document. It
could help to merge indexes as well.

There's already everything in the core API to access these infos.

I just spent a lot of time debugging my application before realizing that I
indexed the wrong value for a given field. This kind of small app could have
helped.

If nobody ever did it I could try to build a webapp for that. Any
suggestions, needs or hints?

Julien Nioche
> Lingway



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Apr 12 05:55:44 2003
Return-Path: 
 <lucene-user-return-4211-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89159 invoked from network); 12 Apr 2003 05:55:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Apr 2003 05:55:44 -0000
Received: (qmail 5192 invoked by uid 97); 12 Apr 2003 05:57:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5184 invoked from network); 12 Apr 2003 05:57:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 Apr 2003 05:57:48 -0000
Received: (qmail 88865 invoked by uid 500); 12 Apr 2003 05:55:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88850 invoked from network); 12 Apr 2003 05:55:41 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 12 Apr 2003 05:55:41 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h3C5t6c18703
	for <lucene-user@jakarta.apache.org>; Sat, 12 Apr 2003 11:25:07 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h3C6DIsS026332
	for <lucene-user@jakarta.apache.org>; Sat, 12 Apr 2003 11:43:20 +0530
Message-ID: <010501c300b8$76c1ca20$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Analyzer
Date: Sat, 12 Apr 2003 11:27:54 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0102_01C300E6.8F871AA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0102_01C300E6.8F871AA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello=20
 I have written my own Analyzer,but the stop words are not yet removed =
in *.fdt file.

public class MyAnalyzer extends Analyzer
{
    public static final String[] STOP_WORDS =3D
    {
        "0", "1", "2", "3", "4", "5", "6", "7", "8",
        "9", "000", "$",
        "about", "after", "all", "also", "an", "and",
        "another", "any", "are", "as", "at", "be",
        "because", "been", "before", "being", "between",
        "both", "but", "by", "came", "can", "come",
        "could", "did", "do", "does", "each", "else",
        "for", "from", "get", "got", "has", "had",
        "he", "have", "her", "here", "him", "himself",
        "his", "how","if", "in", "into", "is", "it",
        "its", "just", "like", "make", "many", "me",
        "might", "more", "most", "much", "must", "my",
        "never", "now", "of", "on", "only", "or",
        "other", "our", "out", "over", "re", "said",
        "same", "see", "should", "since", "so", "some",
        "still", "such", "take", "than", "that", "the",
        "their", "them", "then", "there", "these",
        "they", "this", "those", "through", "to", "too",
        "under", "up", "use", "very", "want", "was",
        "way", "we", "well", "were", "what", "when",
        "where", "which", "while", "who", "will",
        "with", "would", "you", "your",
        "a", "b", "c", "d", "e", "f", "g", "h", "i",
        "j", "k", "l", "m", "n", "o", "p", "q", "r",
        "s", "t", "u", "v", "w", "x", "y", "z"
    };

    private static Hashtable _stopTable =3D =
StopFilter.makeStopTable(STOP_WORDS);

     public MyAnalyzer()
    {
     }
    public MyAnalyzer(String[] stopWords)
    {
        _stopTable =3D StopFilter.makeStopTable(stopWords);
    }
    public final TokenStream tokenStream(Reader reader)
    {
           System.out.println("Stop Analyzer is called");
          //return new StopFilter(new
LowerCaseTokenizer(reader),STOP_WORDS);

          TokenStream result =3D new StandardTokenizer(reader);
          result =3D new StandardFilter(result);
          result =3D new LowerCaseFilter(result);
          result =3D new StopFilter(result, _stopTable);
          result =3D new PorterStemFilter(result);
          return result;
    }
}


I have already send a mail to this group.
what might be the problem in the above code.
Please help me out.

regards
ganesh

=20

------=_NextPart_000_0102_01C300E6.8F871AA0--


From MAILER-DAEMON Sun Apr 13 07:14:45 2003
Return-Path: 
 <lucene-user-return-4212-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48616 invoked from network); 13 Apr 2003 07:14:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 Apr 2003 07:14:45 -0000
Received: (qmail 27764 invoked by uid 97); 13 Apr 2003 07:16:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27757 invoked from network); 13 Apr 2003 07:16:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 Apr 2003 07:16:49 -0000
Received: (qmail 48222 invoked by uid 500); 13 Apr 2003 07:14:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48210 invoked from network); 13 Apr 2003 07:14:41 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 13 Apr 2003 07:14:41 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id B0F1B10683A
	for <lucene-user@jakarta.apache.org>; Sun, 13 Apr 2003 17:17:52 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: QueryParser with stop/key words inside quotes
Date: Sun, 13 Apr 2003 18:02:26 +1100
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304131702.26535@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Lucene's QueryParsers seems to drop stop/key words even if they are enclosed 
in double quotes.

For example:

apple for tomato
--> +apple +tomato

Which is what I expected, however

"apple for tomato"
--> "apple tomato"

and "for" in between apple and tomato is conveniently dropped.

Is there a way to tell QueryParser not to drop those words if they are 
enclosed in double quotes?

Thanks,

victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 13 20:54:18 2003
Return-Path: 
 <lucene-user-return-4213-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99084 invoked from network); 13 Apr 2003 20:54:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 Apr 2003 20:54:18 -0000
Received: (qmail 16263 invoked by uid 97); 13 Apr 2003 20:56:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16256 invoked from network); 13 Apr 2003 20:56:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 Apr 2003 20:56:16 -0000
Received: (qmail 98769 invoked by uid 500); 13 Apr 2003 20:54:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98758 invoked from network); 13 Apr 2003 20:54:15 -0000
Received: from com-os2.ms.mff.cuni.cz (195.113.19.215)
  by daedalus.apache.org with SMTP; 13 Apr 2003 20:54:15 -0000
Received: from localhost (galambos@localhost)
	by com-os2.ms.mff.cuni.cz (8.11.6/8.11.6) with ESMTP id h3DKsJI25058
	for <lucene-user@jakarta.apache.org>; Sun, 13 Apr 2003 22:54:19 +0200
Date: Sun, 13 Apr 2003 22:54:19 +0200 (CEST)
From: Leo Galambos <galambos@com-os2.ms.mff.cuni.cz>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Analyzer stopwords
In-Reply-To: <187D6D956106D84E9D8B280F6458FE140F5B9E@merc12.na.sas.com>
Message-ID: <Pine.LNX.4.44.0304132241180.23960-100000@com-os2.ms.mff.cuni.cz>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why do you use stop words? IMHO it is very problematic, 'cuz:

1. you must handle word forms ("be" can be "are", "is", "was" ...) and
Lucene's stemmer cannot help you with it. Moreover the stemmer uses number
of endsWith() operations which are not effective.

2. F-measure goes down.

3. many queries are empty or they return bad results, i.e. "to be or not 
to be"

-g-


On Fri, 11 Apr 2003, Eric Isakson wrote:

> Sounds reasonable if that is ok for your app.
> 
> Consider a simple example:
> When indexing you list 'house' as a stop word.
> When searching you do not list 'house' as a stop word.
> 
> You indexed the string "my house is blue"
> 
> You search for:
> +blue -house
> 
> Consequence:
> You still get a hit on "my house is blue" because "house" was not indexed.
> 
> Eric
> 
> -----Original Message-----
> From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu] 
> Sent: Friday, April 11, 2003 12:00 PM
> To: 'Lucene Users List'
> Subject: RE: Analyzer stopwords
> 
> 
> So I should be able to safely use a list of stopwords while creating an index, and then not pass in any stopwords when searching the index, and get the same behavior as if I had passed in the list of stopwords - Since they weren't put into the index to begin with, they are impossible to search with regardless of the stopwords that I use for searching.
> 
> 
> 
> 
> ************************************ 
> 
> -----Original Message-----
> From: Eric Isakson [mailto:Eric.Isakson@sas.com] 
> Sent: Friday, April 11, 2003 10:44 AM
> To: Lucene Users List
> Subject: RE: Analyzer stopwords
> 
> 
> I think Otis's example was backwards...
> 
> Consider a simple example:
> When indexing you list 'house' as a stop word.
> When searching you do not list 'house' as a stop word.
> 
> Consequence:
> You did _not_ index 'house' terms, but you cannot find any documents if you search for 'house'.
> 
> The inverse is more interesting to make the point:
> When indexing you do not list 'house' as a stop word.
> When searching you list 'house' as a stop word.
> 
> Consequence:
> You did index 'house' terms, but you cannot find any documents if you search for 'house' (because it was removed from the query). Your index is bloated with terms that can never be successfully searched.
> 
> Eric
> 
> -----Original Message-----
> From: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu] 
> Sent: Friday, April 11, 2003 11:38 AM
> To: 'Lucene Users List'
> Subject: RE: Analyzer stopwords
> 
> 
> I'm missing something obvious, I know it.... But, if I list 'house' as a stop word when I am indexing, doesn't that mean that any occurrence of the word house is not indexed, and therefore not findable in the index?  So it wouldn't matter if 'house' was in my stopwords list when searching, because its not findable anyway?
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Friday, April 11, 2003 10:13 AM
> To: Lucene Users List
> Subject: Re: Analyzer stopwords
> 
> 
> Yes.
> 
> Consider a simple example:
> When indexing you list 'house' as a stop word.
> When searching you do not list 'house' as a stop word.
> 
> Consequence:
> You did index 'house' terms, but you cannot find any documents if you search for 'house'.
> 
> Otis
> 
> 
> --- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> > If I use a StandardAnalyzer for indexing, is it important to provide
> > it with the same stop words list for searching, as I used for 
> > indexing?
> > 
> > Thanks,
> > 
> > Dan
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Tax Center - File online, calculators, forms, and more http://tax.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 03:08:14 2003
Return-Path: 
 <lucene-user-return-4214-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89037 invoked from network); 14 Apr 2003 03:08:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 03:08:14 -0000
Received: (qmail 21017 invoked by uid 97); 14 Apr 2003 03:10:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21010 invoked from network); 14 Apr 2003 03:10:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 03:10:16 -0000
Received: (qmail 88764 invoked by uid 500); 14 Apr 2003 03:08:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88753 invoked from network); 14 Apr 2003 03:08:11 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 14 Apr 2003 03:08:11 -0000
Message-ID: <20030414030820.28779.qmail@web12701.mail.yahoo.com>
Received: from [24.90.65.225] by web12701.mail.yahoo.com via HTTP;
 Sun, 13 Apr 2003 20:08:20 PDT
Date: Sun, 13 Apr 2003 20:08:20 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QueryParser with stop/key words inside quotes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200304131702.26535@bah>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The place to look is QueryParser.jj, method getFieldQuery, but it looks
like the code doesn't figure out it's parsing a phrase query until
after it passes the query string through the Analyzer.

However, would you even want to do something like that?
If you use the same Analyzer, with the same list of stop words for both
indexing and searching, and then you don't strip stop words from phrase
queries, no phrase query with a stop word will yield you any results.

Otis



--- Victor Hadianto <victorh@nuix.com.au> wrote:
> 
> Lucene's QueryParsers seems to drop stop/key words even if they are
> enclosed 
> in double quotes.
> 
> For example:
> 
> apple for tomato
> --> +apple +tomato
> 
> Which is what I expected, however
> 
> "apple for tomato"
> --> "apple tomato"
> 
> and "for" in between apple and tomato is conveniently dropped.
> 
> Is there a way to tell QueryParser not to drop those words if they
> are 
> enclosed in double quotes?
> 
> Thanks,
> 
> victor
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 06:25:03 2003
Return-Path: 
 <lucene-user-return-4215-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65186 invoked from network); 14 Apr 2003 06:25:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:25:03 -0000
Received: (qmail 23086 invoked by uid 97); 14 Apr 2003 06:27:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23079 invoked from network); 14 Apr 2003 06:27:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 06:27:06 -0000
Received: (qmail 64623 invoked by uid 500); 14 Apr 2003 06:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64577 invoked from network); 14 Apr 2003 06:24:56 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:24:56 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 8AD1D1069E5
	for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 16:27:56 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: QueryParser with stop/key words inside quotes
Date: Mon, 14 Apr 2003 17:12:25 +1100
User-Agent: KMail/1.4.3
References: <20030414030820.28779.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20030414030820.28779.qmail@web12701.mail.yahoo.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304141612.25989@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> The place to look is QueryParser.jj, method getFieldQuery, but it looks

I've been looking at QueryParser.jj and does the following modification:

I modified QueryParser to take 2 analyzer, 1 is the normal analyzer that drops 
all the stop words from the query, and the second analyzer will not drop any 
word from the token.

And in QueryParser.jj I modified the following:

     | term=<QUOTED>
       [ slop=<SLOP> ]
       [ <CARAT> boost=<NUMBER> ]
       {
	// If quoteAnalyzer is not null use the quoteAnalyzer 
         if (quoteAnalyzer == null)
         {
            q = getFieldQuery(field, analyzer,
                              term.image.substring(1, term.image.length()-1));
         }
         else
         {
            q = getFieldQuery(field, quoteAnalyzer,
                              term.image.substring(1, term.image.length()-1));
         }


> However, would you even want to do something like that?
> If you use the same Analyzer, with the same list of stop words for both

Yes again the drawback is that I have to use the analyzer that does not drop 
all those words from the search and thus they are indexed. This will grow our 
index to probably a huge amount, but unfortunately this is our requirement 
that we need to be able to search something like

"apple and orange"

or 

"apple for tomato"


> Otis

Thanks for the reply.

victor

> --- Victor Hadianto <victorh@nuix.com.au> wrote:
> > Lucene's QueryParsers seems to drop stop/key words even if they are
> > enclosed
> > in double quotes.
> >
> > For example:
> >
> > apple for tomato
> > --> +apple +tomato
> >
> > Which is what I expected, however
> >
> > "apple for tomato"
> > --> "apple tomato"
> >
> > and "for" in between apple and tomato is conveniently dropped.
> >
> > Is there a way to tell QueryParser not to drop those words if they
> > are
> > enclosed in double quotes?
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 06:27:02 2003
Return-Path: 
 <lucene-user-return-4216-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68904 invoked from network); 14 Apr 2003 06:27:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:27:02 -0000
Received: (qmail 23125 invoked by uid 97); 14 Apr 2003 06:29:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23118 invoked from network); 14 Apr 2003 06:29:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 06:29:07 -0000
Received: (qmail 67796 invoked by uid 500); 14 Apr 2003 06:26:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67718 invoked from network); 14 Apr 2003 06:26:49 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:26:49 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id B89F91069E5
	for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 16:30:00 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: QueryParser with stop/key words inside quotes
Date: Mon, 14 Apr 2003 17:14:43 +1100
User-Agent: KMail/1.4.3
References: <20030414030820.28779.qmail@web12701.mail.yahoo.com>
 <200304141612.25989@bah>
In-Reply-To: <200304141612.25989@bah>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304141614.43308@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ah yes I forgot to ask if anyone notice any problem with my previous code or 
it is totally stupid idea and if anyone have a better suggestions.

thanks

victor


On Mon, 14 Apr 2003 04:12 pm, Victor Hadianto wrote:


> > The place to look is QueryParser.jj, method getFieldQuery, but it looks
>
> I've been looking at QueryParser.jj and does the following modification:
>
> I modified QueryParser to take 2 analyzer, 1 is the normal analyzer that
> drops all the stop words from the query, and the second analyzer will not
> drop any word from the token.
>
> And in QueryParser.jj I modified the following:
>      | term=<QUOTED>
>
>        [ slop=<SLOP> ]
>        [ <CARAT> boost=<NUMBER> ]
>        {
> 	// If quoteAnalyzer is not null use the quoteAnalyzer
>          if (quoteAnalyzer == null)
>          {
>             q = getFieldQuery(field, analyzer,
>                               term.image.substring(1,
> term.image.length()-1)); }
>          else
>          {
>             q = getFieldQuery(field, quoteAnalyzer,
>                               term.image.substring(1,
> term.image.length()-1)); }
>
> > However, would you even want to do something like that?
> > If you use the same Analyzer, with the same list of stop words for both
>
> Yes again the drawback is that I have to use the analyzer that does not
> drop all those words from the search and thus they are indexed. This will
> grow our index to probably a huge amount, but unfortunately this is our
> requirement that we need to be able to search something like
>
> "apple and orange"
>
> or
>
> "apple for tomato"
>
> > Otis
>
> Thanks for the reply.
>
> victor
>
> > --- Victor Hadianto <victorh@nuix.com.au> wrote:
> > > Lucene's QueryParsers seems to drop stop/key words even if they are
> > > enclosed
> > > in double quotes.
> > >
> > > For example:
> > >
> > > apple for tomato
> > > --> +apple +tomato
> > >
> > > Which is what I expected, however
> > >
> > > "apple for tomato"
> > > --> "apple tomato"
> > >
> > > and "for" in between apple and tomato is conveniently dropped.
> > >
> > > Is there a way to tell QueryParser not to drop those words if they
> > > are
> > > enclosed in double quotes?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 06:38:18 2003
Return-Path: 
 <lucene-user-return-4217-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88516 invoked from network); 14 Apr 2003 06:38:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:38:18 -0000
Received: (qmail 23324 invoked by uid 97); 14 Apr 2003 06:40:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23317 invoked from network); 14 Apr 2003 06:40:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 06:40:22 -0000
Received: (qmail 87157 invoked by uid 500); 14 Apr 2003 06:38:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87096 invoked from network); 14 Apr 2003 06:38:00 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Apr 2003 06:38:00 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 644D61069E5
	for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 16:41:11 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Getting the term that matches in the result.
Date: Mon, 14 Apr 2003 17:25:52 +1100
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304141625.52967@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

What I'm trying to do is exactly the same with this discussion:

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=&msgId=117093

Basically I want to know from my search terms which one that found a specific 
documents. For example

Search: apple OR orange OR banana

Found:

Doc1: apple orange
Doc2: orange
Doc3: apple banana

There is a reply from Dmitry:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=&msgId=117102

Hinting that this can be done. However I couldn't find any other reference 
about doing this. 

Can this be done? Does anyone has anyone pointer about where I need to look?

thanks,

victor

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 13:10:36 2003
Return-Path: 
 <lucene-user-return-4218-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13324 invoked from network); 14 Apr 2003 13:10:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 13:10:36 -0000
Received: (qmail 2704 invoked by uid 97); 14 Apr 2003 13:12:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2697 invoked from network); 14 Apr 2003 13:12:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 13:12:30 -0000
Received: (qmail 12576 invoked by uid 500); 14 Apr 2003 13:10:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12524 invoked from network); 14 Apr 2003 13:10:25 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 14 Apr 2003 13:10:25 -0000
Message-ID: <20030414131026.2755.qmail@web12701.mail.yahoo.com>
Received: from [24.90.65.225] by web12701.mail.yahoo.com via HTTP;
 Mon, 14 Apr 2003 06:10:26 PDT
Date: Mon, 14 Apr 2003 06:10:26 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QueryParser with stop/key words inside quotes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200304141612.25989@bah>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

But if you use the same Analyzer with the same stop words for both
indexing and searching, then queries like "apples and oranges" _will_
find matches, even if "and" is included in the stop word list.
This will work because "and" will be dropped from both indexed text
_and_ from the query string.
However, "apples and oranges" will also find documents that contain
"apples XXX oranges", where XXX is any of your stop words.

As for your query, I don't know, try it and see.  The computer will
tell you :)

Otis


--- Victor Hadianto <victorh@nuix.com.au> wrote:
> > The place to look is QueryParser.jj, method getFieldQuery, but it
> looks
> 
> I've been looking at QueryParser.jj and does the following
> modification:
> 
> I modified QueryParser to take 2 analyzer, 1 is the normal analyzer
> that drops 
> all the stop words from the query, and the second analyzer will not
> drop any 
> word from the token.
> 
> And in QueryParser.jj I modified the following:
> 
>      | term=<QUOTED>
>        [ slop=<SLOP> ]
>        [ <CARAT> boost=<NUMBER> ]
>        {
> 	// If quoteAnalyzer is not null use the quoteAnalyzer 
>          if (quoteAnalyzer == null)
>          {
>             q = getFieldQuery(field, analyzer,
>                               term.image.substring(1,
> term.image.length()-1));
>          }
>          else
>          {
>             q = getFieldQuery(field, quoteAnalyzer,
>                               term.image.substring(1,
> term.image.length()-1));
>          }
> 
> 
> > However, would you even want to do something like that?
> > If you use the same Analyzer, with the same list of stop words for
> both
> 
> Yes again the drawback is that I have to use the analyzer that does
> not drop 
> all those words from the search and thus they are indexed. This will
> grow our 
> index to probably a huge amount, but unfortunately this is our
> requirement 
> that we need to be able to search something like
> 
> "apple and orange"
> 
> or 
> 
> "apple for tomato"
> 
> 
> > Otis
> 
> Thanks for the reply.
> 
> victor
> 
> > --- Victor Hadianto <victorh@nuix.com.au> wrote:
> > > Lucene's QueryParsers seems to drop stop/key words even if they
> are
> > > enclosed
> > > in double quotes.
> > >
> > > For example:
> > >
> > > apple for tomato
> > > --> +apple +tomato
> > >
> > > Which is what I expected, however
> > >
> > > "apple for tomato"
> > > --> "apple tomato"
> > >
> > > and "for" in between apple and tomato is conveniently dropped.
> > >
> > > Is there a way to tell QueryParser not to drop those words if
> they
> > > are
> > > enclosed in double quotes?
> > >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 16:44:44 2003
Return-Path: 
 <lucene-user-return-4219-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64330 invoked from network); 14 Apr 2003 16:44:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 16:44:44 -0000
Received: (qmail 12204 invoked by uid 97); 14 Apr 2003 16:46:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12197 invoked from network); 14 Apr 2003 16:46:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 16:46:40 -0000
Received: (qmail 63175 invoked by uid 500); 14 Apr 2003 16:44:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62996 invoked from network); 14 Apr 2003 16:44:24 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 14 Apr 2003 16:44:24 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3EGiNj7029362
 for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 22:14:24 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <H3CS9J1A>; Mon, 14 Apr 2003 22:14:23 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E36D@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: PDFBoxLucenePDFDocument 
Date: Mon, 14 Apr 2003 22:14:22 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, 
I am using PDFBox to create LucenePDFDocument
(org.pdfbox.searchengine.lucene.LucenePDFDocument). I want to know in which
field is the content of pdf document stored.

thanks,
vikas.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 16:51:28 2003
Return-Path: 
 <lucene-user-return-4220-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71650 invoked from network); 14 Apr 2003 16:51:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 16:51:28 -0000
Received: (qmail 12369 invoked by uid 97); 14 Apr 2003 16:53:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12362 invoked from network); 14 Apr 2003 16:53:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 16:53:24 -0000
Received: (qmail 71380 invoked by uid 500); 14 Apr 2003 16:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71365 invoked from network); 14 Apr 2003 16:51:24 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 14 Apr 2003 16:51:24 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 632C9282
	for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 12:51:27 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 6C37D116E; Mon, 14 Apr 2003 12:51:33 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 5C6051154
	for <lucene-user@jakarta.apache.org>; Mon, 14 Apr 2003 12:51:33 -0400 (EDT)
Date: Mon, 14 Apr 2003 12:51:33 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBoxLucenePDFDocument 
In-Reply-To: <21559A0D4CF8D511B51100065B38178BA0E36D@mshyd2.hyd.deshaw.com>
Message-ID: <Pine.GSO.4.53.0304141248130.24627@fury.csh.rit.edu>
References: <21559A0D4CF8D511B51100065B38178BA0E36D@mshyd2.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


The contents are added like this

document.add(Field.Text("contents", input ));

Where input is a Reader and you must use field.readerValue() and not
field.stringValue() to get the contents back out.

Hope that helps you out.

Ben

PS
PDFBox is now available on sourceforge at
http://www.sourceforge.net/projects/pdfbox


On Mon, 14 Apr 2003, Ramrakhiani, Vikas wrote:

> Hi,
> I am using PDFBox to create LucenePDFDocument
> (org.pdfbox.searchengine.lucene.LucenePDFDocument). I want to know in which
> field is the content of pdf document stored.
>
> thanks,
> vikas.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 18:26:58 2003
Return-Path: 
 <lucene-user-return-4221-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85533 invoked from network); 14 Apr 2003 18:26:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 18:26:58 -0000
Received: (qmail 15472 invoked by uid 97); 14 Apr 2003 18:28:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15465 invoked from network); 14 Apr 2003 18:28:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 18:28:55 -0000
Received: (qmail 85237 invoked by uid 500); 14 Apr 2003 18:26:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85223 invoked from network); 14 Apr 2003 18:26:53 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 14 Apr 2003 18:26:53 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Mon, 14 Apr 2003 13:26:21 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4XYL6R>; Mon, 14 Apr 2003 13:26:20 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BC4@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Searchable Fields
Date: Mon, 14 Apr 2003 13:26:16 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is there any way generate an enumeration of all searchable fields in an index?  Other than doing a search that matches every document, and then examining every single document one by one?


Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 19:13:36 2003
Return-Path: 
 <lucene-user-return-4222-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29177 invoked from network); 14 Apr 2003 19:13:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:13:36 -0000
Received: (qmail 17539 invoked by uid 97); 14 Apr 2003 19:15:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17532 invoked from network); 14 Apr 2003 19:15:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 19:15:34 -0000
Received: (qmail 28889 invoked by uid 500); 14 Apr 2003 19:13:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28878 invoked from network); 14 Apr 2003 19:13:33 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:13:33 -0000
Message-ID: <20030414191339.29165.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Mon, 14 Apr 2003 12:13:39 PDT
Date: Mon, 14 Apr 2003 12:13:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searchable Fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4BC4@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

See getFieldNames() in IndexReader.

Otis

--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> Is there any way generate an enumeration of all searchable fields in
> an index?  Other than doing a search that matches every document, and
> then examining every single document one by one?
> 
> 
> Thanks, 
> 
> Dan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 19:19:51 2003
Return-Path: 
 <lucene-user-return-4223-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55934 invoked from network); 14 Apr 2003 19:19:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:19:51 -0000
Received: (qmail 17769 invoked by uid 97); 14 Apr 2003 19:21:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17762 invoked from network); 14 Apr 2003 19:21:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 19:21:49 -0000
Received: (qmail 51718 invoked by uid 500); 14 Apr 2003 19:18:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51655 invoked from network); 14 Apr 2003 19:18:40 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:18:39 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Mon, 14 Apr 2003 14:18:42 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4XY5CK>; Mon, 14 Apr 2003 14:18:41 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BC9@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Searchable Fields
Date: Mon, 14 Apr 2003 14:18:35 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doh... As I apologize for the spam... and fix my javadoc link to point to a 1.3 instead of 1.2.....


Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 14 19:42:01 2003
Return-Path: 
 <lucene-user-return-4224-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20804 invoked from network); 14 Apr 2003 19:42:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:42:01 -0000
Received: (qmail 18431 invoked by uid 97); 14 Apr 2003 19:43:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18424 invoked from network); 14 Apr 2003 19:43:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 Apr 2003 19:43:59 -0000
Received: (qmail 20392 invoked by uid 500); 14 Apr 2003 19:41:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20318 invoked from network); 14 Apr 2003 19:41:55 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 14 Apr 2003 19:41:55 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id ZX7W251F; Mon, 14 Apr 2003 15:46:04 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Using doc.id() to sort
Date: Mon, 14 Apr 2003 15:41:58 -0400
Message-ID: <00d601c302bd$ef7d8100$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00D7_01C3029C.686BE100"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00D7_01C3029C.686BE100
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I've noticed that whenever I add document to the index the doc.id() gets
the next number.
I use this behavior in order to sort the results by sorting the
doc.id().
Let me explain: If I insert the documents in a specific order to the
index then the order is kept using the doc.id(). Now when I retrieve the
documents after search I can use the doc.id to sort the hits in the
order it was inserted to the index.
Now here comes my question. What happens if I want to merge two indexes.
Using IndexWriter.addIndexes(Directory[] dirs) method I would like to
add one index to another. Now my question is if the documents will get
added also in the order they were inserted.
Example: if
index 1 contains IDs: 10,11,12,13,14,15
and index 2 contains IDs: 1,2,3
 
After I use IndexWriter.addIndexes(Directory[] dirs) to add index 2 to
index 1 will I get: 10,11,12,13,14,15,16,17,18
Where document number 16 in the merged index is document number 1 in
index 2, and 17 in the merged index is 2 in index 2, and 18 in the
merged index is 3 in  index 2 ?
 
If this is not the case, how can I do that?

------=_NextPart_000_00D7_01C3029C.686BE100--



From MAILER-DAEMON Tue Apr 15 02:59:11 2003
Return-Path: 
 <lucene-user-return-4225-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95792 invoked from network); 15 Apr 2003 02:59:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 02:59:11 -0000
Received: (qmail 28453 invoked by uid 97); 15 Apr 2003 03:01:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28446 invoked from network); 15 Apr 2003 03:01:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 03:01:13 -0000
Received: (qmail 95497 invoked by uid 500); 15 Apr 2003 02:59:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95478 invoked from network); 15 Apr 2003 02:59:08 -0000
Received: from oe52.law8.hotmail.com (HELO hotmail.com) (216.33.240.41)
  by daedalus.apache.org with SMTP; 15 Apr 2003 02:59:08 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 14 Apr 2003 19:59:18 -0700
Received: from 211.99.43.137 by OE52.law8.internal.hotmail.com with DAV;
	Tue, 15 Apr 2003 02:59:16 +0000
X-Originating-IP: [211.99.43.137]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00d601c302bd$ef7d8100$6a00a8c0@Aviran>
Subject: Re: Using doc.id() to sort
Date: Tue, 15 Apr 2003 10:59:05 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <OE52g6RqNTJlid68fe8000025b0@hotmail.com>
X-OriginalArrivalTime: 15 Apr 2003 02:59:18.0427 (UTC)
 FILETIME=[01A6EEB0:01C302FB]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

WWVzLCBoZXJlIGlzIG15IGltcGxlbWVudDsNCmh0dHA6Ly93d3cuY2hlZG9uZy5jb20vdGVjaC9s
dWNlbmVfZXh0LnRhci5neg0KaW5jbHVkaW5nIGEgSW5kZXhPcmRlclNlYXJjaGVyDQoNCkNoZSwg
RG9uZw0KaHR0cDovL3d3dy5jaGVkb25nLmNvbS8NCg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAt
LS0tLSANCkZyb206ICJBdmlyYW4gTW9yZG8iIDxhbW9yZG9AaW5mb3NjaWVuY2VzLmNvbT4NClRv
OiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQpT
ZW50OiBUdWVzZGF5LCBBcHJpbCAxNSwgMjAwMyAzOjQxIEFNDQpTdWJqZWN0OiBVc2luZyBkb2Mu
aWQoKSB0byBzb3J0DQoNCg0KPiBJJ3ZlIG5vdGljZWQgdGhhdCB3aGVuZXZlciBJIGFkZCBkb2N1
bWVudCB0byB0aGUgaW5kZXggdGhlIGRvYy5pZCgpIGdldHMNCj4gdGhlIG5leHQgbnVtYmVyLg0K
PiBJIHVzZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHNvcnQgdGhlIHJlc3VsdHMgYnkgc29y
dGluZyB0aGUNCj4gZG9jLmlkKCkuDQo+IExldCBtZSBleHBsYWluOiBJZiBJIGluc2VydCB0aGUg
ZG9jdW1lbnRzIGluIGEgc3BlY2lmaWMgb3JkZXIgdG8gdGhlDQo+IGluZGV4IHRoZW4gdGhlIG9y
ZGVyIGlzIGtlcHQgdXNpbmcgdGhlIGRvYy5pZCgpLiBOb3cgd2hlbiBJIHJldHJpZXZlIHRoZQ0K
PiBkb2N1bWVudHMgYWZ0ZXIgc2VhcmNoIEkgY2FuIHVzZSB0aGUgZG9jLmlkIHRvIHNvcnQgdGhl
IGhpdHMgaW4gdGhlDQo+IG9yZGVyIGl0IHdhcyBpbnNlcnRlZCB0byB0aGUgaW5kZXguDQo+IE5v
dyBoZXJlIGNvbWVzIG15IHF1ZXN0aW9uLiBXaGF0IGhhcHBlbnMgaWYgSSB3YW50IHRvIG1lcmdl
IHR3byBpbmRleGVzLg0KPiBVc2luZyBJbmRleFdyaXRlci5hZGRJbmRleGVzKERpcmVjdG9yeVtd
IGRpcnMpIG1ldGhvZCBJIHdvdWxkIGxpa2UgdG8NCj4gYWRkIG9uZSBpbmRleCB0byBhbm90aGVy
LiBOb3cgbXkgcXVlc3Rpb24gaXMgaWYgdGhlIGRvY3VtZW50cyB3aWxsIGdldA0KPiBhZGRlZCBh
bHNvIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgaW5zZXJ0ZWQuDQo+IEV4YW1wbGU6IGlmDQo+IGlu
ZGV4IDEgY29udGFpbnMgSURzOiAxMCwxMSwxMiwxMywxNCwxNQ0KPiBhbmQgaW5kZXggMiBjb250
YWlucyBJRHM6IDEsMiwzDQo+ICANCj4gQWZ0ZXIgSSB1c2UgSW5kZXhXcml0ZXIuYWRkSW5kZXhl
cyhEaXJlY3RvcnlbXSBkaXJzKSB0byBhZGQgaW5kZXggMiB0bw0KPiBpbmRleCAxIHdpbGwgSSBn
ZXQ6IDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4DQo+IFdoZXJlIGRvY3VtZW50IG51bWJlciAx
NiBpbiB0aGUgbWVyZ2VkIGluZGV4IGlzIGRvY3VtZW50IG51bWJlciAxIGluDQo+IGluZGV4IDIs
IGFuZCAxNyBpbiB0aGUgbWVyZ2VkIGluZGV4IGlzIDIgaW4gaW5kZXggMiwgYW5kIDE4IGluIHRo
ZQ0KPiBtZXJnZWQgaW5kZXggaXMgMyBpbiAgaW5kZXggMiA/DQo+ICANCj4gSWYgdGhpcyBpcyBu
b3QgdGhlIGNhc2UsIGhvdyBjYW4gSSBkbyB0aGF0Pw0KPg==


From MAILER-DAEMON Tue Apr 15 09:48:33 2003
Return-Path: 
 <lucene-user-return-4226-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42097 invoked from network); 15 Apr 2003 09:48:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 09:48:33 -0000
Received: (qmail 6479 invoked by uid 97); 15 Apr 2003 09:50:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6472 invoked from network); 15 Apr 2003 09:50:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 09:50:39 -0000
Received: (qmail 41509 invoked by uid 500); 15 Apr 2003 09:48:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41485 invoked from network); 15 Apr 2003 09:48:24 -0000
Received: from ns1.empolis.com (62.52.175.194)
  by daedalus.apache.org with SMTP; 15 Apr 2003 09:48:24 -0000
Received: from empdebe01.empolis.com (2.brln.empolis.com [62.53.160.2])
	by ns1.empolis.com (8.11.6+Sun/8.11.3/NS1) with ESMTP id h3F9maR25852;
	Tue, 15 Apr 2003 11:48:36 +0200 (MEST)
Received: by 2.brln.empolis.com with Internet Mail Service (5.5.2656.59)
	id <2Y1Y3HRG>; Tue, 15 Apr 2003 11:49:41 +0200
Message-ID: <E785DB3650D9D311AA1B0002A5094BDE608DCA@2.brln.empolis.com>
From: "Materna, Wolf-Dietrich (empolis B)"
	 <Wolf-Dietrich.Materna@empolis.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: "'Lucene Developers List'" <lucene-dev@jakarta.apache.org>
Subject: AW: Phrase Query
Date: Tue, 15 Apr 2003 11:49:37 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
[Chandrashekhar Gupta]
> I am stuck up in searching a phrase in HTML document.The=20
> problem is like this:
This question should be dealt on the lucene user list
(lucene-user@jakarta.apache.org).

> If I search "Last Will" phrase in the documents the search=20
> results are those which contain only "Last" Term.
> I am using StopAnalyzer as the analyzer. I then realized that=20
> the cause may be due to the fact that "will" is there in the=20
> stop list for this analyzer. I removed the word "will"
> and run the search again..now it is not giving any results=20
> fot the same phrase.The Query object I am getting is of type=20
> PhraseQuery.
>=20
> Any other phrase which does not contain any stop words works=20
> fine..Could you please suggest how to deal with this problem..
>=20
> Any sort of help will be extremely helpful..
You have forgotten to rebuild your index after changing the stopword =
list.
Note that all stopwords will be ignored while indexing. That's why =
there are
no information available which documents contains the word "will" (and
where).=20
You should always rebuild your index after changing something in the
analyser.
Regards,
	Wolf-Dietrich Materna

--=20
Wolf-Dietrich Materna
Development
=20
empolis GmbH -  arvato knowledge management=20
Kekul=E9str. 7=20
12489 Berlin, Germany
=20
phone :  +49-30-6780-6510
fax :    +49-30-6780-6549
=20
<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 13:50:41 2003
Return-Path: 
 <lucene-user-return-4227-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64279 invoked from network); 15 Apr 2003 13:50:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 13:50:41 -0000
Received: (qmail 13010 invoked by uid 97); 15 Apr 2003 13:52:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13003 invoked from network); 15 Apr 2003 13:52:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 13:52:35 -0000
Received: (qmail 57558 invoked by uid 500); 15 Apr 2003 13:48:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57468 invoked from network); 15 Apr 2003 13:48:38 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 15 Apr 2003 13:48:38 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h3FDlpl04847
	for <lucene-user@jakarta.apache.org>; Tue, 15 Apr 2003 19:17:52 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h3FE6UsS019265
	for <lucene-user@jakarta.apache.org>; Tue, 15 Apr 2003 19:36:31 +0530
Message-ID: <003001c30355$f8761ea0$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Analyzer
Date: Tue, 15 Apr 2003 19:20:25 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002D_01C30384.11291FA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002D_01C30384.11291FA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,
 I have used StopAnalyzer as my analyzer but the stop words are not get =
removed in *.fdt file.
 What could be the case.

I have already sent two mails to this group but I didn't get any =
response.
Please help me out.

regards
ganesh=20

------=_NextPart_000_002D_01C30384.11291FA0--


From MAILER-DAEMON Tue Apr 15 14:04:45 2003
Return-Path: 
 <lucene-user-return-4228-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6685 invoked from network); 15 Apr 2003 14:04:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 14:04:45 -0000
Received: (qmail 13679 invoked by uid 97); 15 Apr 2003 14:06:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13672 invoked from network); 15 Apr 2003 14:06:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 14:06:39 -0000
Received: (qmail 98840 invoked by uid 500); 15 Apr 2003 14:02:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98795 invoked from network); 15 Apr 2003 14:02:24 -0000
Received: from merc61.na.sas.com (149.173.6.14)
  by daedalus.apache.org with SMTP; 15 Apr 2003 14:02:24 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.2 with InterScan
 Messaging Security Suite; Tue, 15 Apr 2003 10:02:24 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analyzer
Date: Tue, 15 Apr 2003 10:02:24 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BA5@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analyzer
Thread-Index: AcMDVgQYmK07un0gTpKUxhnNSms6EwAAOh7g
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

See http://jakarta.apache.org/lucene/docs/fileformats.html search for =
fdt

.fdt files are stored field data

When you store a field in the index for later presentation like the =
title of an HTML document, you don't apply the analyzer to the data =
being stored but you do apply it to the data as it is indexed.

I'd recommend you do some more reading of the resources linked off the =
main lucene page to get a better understanding of what Lucene does with =
your data.

Eric

-----Original Message-----
From: mganesh [mailto:mganesh@newgen.co.in]=20
Sent: Tuesday, April 15, 2003 9:50 AM
To: Lucene Users List
Subject: Analyzer


Hello,
 I have used StopAnalyzer as my analyzer but the stop words are not get =
removed in *.fdt file.  What could be the case.

I have already sent two mails to this group but I didn't get any =
response. Please help me out.

regards
ganesh=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 14:17:29 2003
Return-Path: 
 <lucene-user-return-4229-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38762 invoked from network); 15 Apr 2003 14:17:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 14:17:29 -0000
Received: (qmail 14028 invoked by uid 97); 15 Apr 2003 14:19:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14021 invoked from network); 15 Apr 2003 14:19:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 14:19:23 -0000
Received: (qmail 38377 invoked by uid 500); 15 Apr 2003 14:17:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38338 invoked from network); 15 Apr 2003 14:17:22 -0000
Received: from oe42.law9.hotmail.com (HELO hotmail.com) (64.4.8.100)
  by daedalus.apache.org with SMTP; 15 Apr 2003 14:17:22 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 15 Apr 2003 07:17:24 -0700
Received: from 212.133.29.156 by oe42.law9.hotmail.com with DAV;
	Tue, 15 Apr 2003 14:17:24 +0000
X-Originating-IP: [212.133.29.156]
X-Originating-Email: [ryanmoffat@hotmail.com]
From: "Ryan Moffat" <ryanmoffat@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Filtering the entire index
Date: Tue, 15 Apr 2003 15:16:39 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Message-ID: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com>
X-OriginalArrivalTime: 15 Apr 2003 14:17:24.0445 (UTC)
 FILETIME=[BC6898D0:01C30359]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi there

I apologise if this is obvious, I have read as much as I can in the FAQ's
and API docs but can not see a solution for my problem.

I would like to be able to search the entire index and use only the Lucene
filters for results.  I had a lot of trouble searching for date and int
ranges using terms and consequently used the ChainableFilter code (thanks to
Kelvin Tan) which works like a charm as long as I include some query.  I can
not see a way of just using * as a query (cant start search with * etc)

Of course the idea of saying search everything in the index just to let the
filters do the work seems a bit daft to me so possibly I'm on the completely
wrong track?

Any help muchos appreciated

Thanks
Ryan Moffat

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 15:41:41 2003
Return-Path: 
 <lucene-user-return-4230-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78841 invoked from network); 15 Apr 2003 15:41:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 15:41:41 -0000
Received: (qmail 18006 invoked by uid 97); 15 Apr 2003 15:43:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17999 invoked from network); 15 Apr 2003 15:43:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 15:43:36 -0000
Received: (qmail 78556 invoked by uid 500); 15 Apr 2003 15:41:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78543 invoked from network); 15 Apr 2003 15:41:37 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 15 Apr 2003 15:41:37 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 15 Apr 2003 10:40:37 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4X87YY>; Tue, 15 Apr 2003 10:40:36 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BD1@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Extra blank field in index?
Date: Tue, 15 Apr 2003 10:40:34 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When I create an index, and then read back the available fields on my index using IndexReader.getFieldNames, the collection it returns always has one more field than I added.  

In the simplest case, when I added one document which only had one field to the index, according to my debugger, the SegmentReader class's fieldInfos object is holding two fields, one of which is the one I added, the other is the mystery field.  It reports isIndexed=false, name="".

Is this just normal operation, or is it a bug of sorts?  

(Using 1.3 RC1)

Thanks, 

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 21:46:20 2003
Return-Path: 
 <lucene-user-return-4231-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55378 invoked from network); 15 Apr 2003 21:46:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 21:46:20 -0000
Received: (qmail 29697 invoked by uid 97); 15 Apr 2003 21:48:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29690 invoked from network); 15 Apr 2003 21:48:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 21:48:19 -0000
Received: (qmail 55080 invoked by uid 500); 15 Apr 2003 21:46:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55069 invoked from network); 15 Apr 2003 21:46:16 -0000
Received: from proxy.open-net.com (HELO mojo.team-konzept.de) (81.2.133.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 21:46:16 -0000
Received: from ascado.team-konzept.de (unknown)
	by mojo.team-konzept.de (8.11.2/8.11.2/SuSE Linux 8.11.1-0.5) with ESMTP id
 h3FLkJF28598
	for <lucene-user@jakarta.apache.org>; Tue, 15 Apr 2003 23:46:19 +0200
Received: by ascado.team-konzept.de (Postfix on SuSE eMail Server 2.0,
 from userid 30)
	id EE6D07E8E; Tue, 15 Apr 2003 23:46:18 +0200 (CEST)
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Where did the name come from?
Message-ID: <1050443178.3e9c7daad5b3d@ascado.team-konzept.de>
Date: Tue, 15 Apr 2003 23:46:18 +0200 (CEST)
From: Markus.Krogemann@team-konzept.de
References: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: IMP/PHP IMAP webmail program 2.2.3
X-Originating-IP: 212.144.255.184
X-Virus-Scanned: by AMaViS-perl11-milter (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello User list

this has probably been answered before but i didn't find any info in the faqs
and in google: Where did Lucene actually get its name from?

Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 21:52:08 2003
Return-Path: 
 <lucene-user-return-4232-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63862 invoked from network); 15 Apr 2003 21:52:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 21:52:08 -0000
Received: (qmail 29845 invoked by uid 97); 15 Apr 2003 21:54:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29838 invoked from network); 15 Apr 2003 21:54:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 21:54:07 -0000
Received: (qmail 63571 invoked by uid 500); 15 Apr 2003 21:52:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63518 invoked from network); 15 Apr 2003 21:52:05 -0000
Received: from sccrmhc01.attbi.com (204.127.202.61)
  by daedalus.apache.org with SMTP; 15 Apr 2003 21:52:05 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by sccrmhc01.attbi.com (sccrmhc01) with SMTP
          id <2003041521521000100ofoq7e>; Tue, 15 Apr 2003 21:52:10 +0000
Message-ID: <3E9C7F3A.4060308@lucene.com>
Date: Tue, 15 Apr 2003 14:52:58 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Where did the name come from?
References: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
 <1050443178.3e9c7daad5b3d@ascado.team-konzept.de>
In-Reply-To: <1050443178.3e9c7daad5b3d@ascado.team-konzept.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It's my wife's middle name, and her grandmother's first name.

Doug

Markus.Krogemann@team-konzept.de wrote:
> Hello User list
> 
> this has probably been answered before but i didn't find any info in the faqs
> and in google: Where did Lucene actually get its name from?
> 
> Markus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 22:08:03 2003
Return-Path: 
 <lucene-user-return-4233-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92470 invoked from network); 15 Apr 2003 22:08:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 22:08:03 -0000
Received: (qmail 205 invoked by uid 97); 15 Apr 2003 22:10:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 198 invoked from network); 15 Apr 2003 22:10:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 22:10:02 -0000
Received: (qmail 92104 invoked by uid 500); 15 Apr 2003 22:07:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92035 invoked from network); 15 Apr 2003 22:07:58 -0000
Received: from proxy.open-net.com (HELO mojo.team-konzept.de) (81.2.133.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 22:07:58 -0000
Received: from ascado.team-konzept.de (unknown)
	by mojo.team-konzept.de (8.11.2/8.11.2/SuSE Linux 8.11.1-0.5) with ESMTP id
 h3FM82F29011
	for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 00:08:02 +0200
Received: by ascado.team-konzept.de (Postfix on SuSE eMail Server 2.0,
 from userid 30)
	id 099297E8E; Wed, 16 Apr 2003 00:08:01 +0200 (CEST)
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Where did the name come from?
Message-ID: <1050444481.3e9c82c1d67e1@ascado.team-konzept.de>
Date: Wed, 16 Apr 2003 00:08:01 +0200 (CEST)
From: Markus.Krogemann@team-konzept.de
References: <187D6D956106D84E9D8B280F6458FE140F5B9C@merc12.na.sas.com>
 <1050443178.3e9c7daad5b3d@ascado.team-konzept.de>
 <3E9C7F3A.4060308@lucene.com>
In-Reply-To: <3E9C7F3A.4060308@lucene.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: IMP/PHP IMAP webmail program 2.2.3
X-Originating-IP: 212.144.255.184
X-Virus-Scanned: by AMaViS-perl11-milter (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

now that really is a good reason to call it that way! Sounds good too.

thanks for the info Doug

Zitiere Doug Cutting <cutting@lucene.com>:

> It's my wife's middle name, and her grandmother's first name.
> 
> Doug
> 
> Markus.Krogemann@team-konzept.de wrote:
> > Hello User list
> > 
> > this has probably been answered before but i didn't find any info in
> the faqs
> > and in google: Where did Lucene actually get its name from?
> > 
> > Markus
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 00:32:34 2003
Return-Path: 
 <lucene-user-return-4235-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10625 invoked from network); 16 Apr 2003 00:32:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:32:34 -0000
Received: (qmail 2268 invoked by uid 97); 16 Apr 2003 00:34:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2261 invoked from network); 16 Apr 2003 00:34:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 00:34:35 -0000
Received: (qmail 10321 invoked by uid 500); 16 Apr 2003 00:32:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10304 invoked from network); 16 Apr 2003 00:32:31 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:32:31 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 8B211106A6B
	for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 10:35:38 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Filtering the entire index
Date: Wed, 16 Apr 2003 11:19:34 +1100
User-Agent: KMail/1.4.3
References: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com>
In-Reply-To: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304161019.36611@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I would like to be able to search the entire index and use only the Lucene

You can achieve this by setting a special field in Lucene and set the value 
for that field for all your document to say "1".

When doing the query you can search for this field and the value "1" which of 
course will return all documents in your Lucene index. Then the filters will 
do their work.

> Ryan Moffat

victor

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 00:48:43 2003
Return-Path: 
 <lucene-user-return-4236-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26074 invoked from network); 16 Apr 2003 00:48:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:48:43 -0000
Received: (qmail 2507 invoked by uid 97); 16 Apr 2003 00:50:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2500 invoked from network); 16 Apr 2003 00:50:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 00:50:44 -0000
Received: (qmail 25788 invoked by uid 500); 16 Apr 2003 00:48:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25776 invoked from network); 16 Apr 2003 00:48:40 -0000
Received: from rj.sgi.com (192.82.208.96)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:48:40 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by rj.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h3G0mmE0000544
	for <lucene-user@jakarta.apache.org>; Tue, 15 Apr 2003 17:48:48 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id UAA04266 for <lucene-user@jakarta.apache.org>;
 Tue, 15 Apr 2003 20:51:12 -0400 (EDT)
Message-ID: <3E9CA902.6070407@aw.sgi.com>
Date: Tue, 15 Apr 2003 20:51:14 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Japanese search again
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I thought I had this but I've run into another wall...

I'm trying to index shift_JIS encoded Japanese HTML using the demo 
HTMLParser.

I get an inputstream (FileInputStream or ZipInputStream) from the 
file/zip entry, then I wrap an InputStreamReader around it with a "SJIS" 
encoding type, then wrap a BufferedReader around that.

Then I create a org.apache.lucene.demo.html.HTMLParser with the 
BufferedReader.

On every file, I get something like this:

  Parse Aborted: Lexical error at line 9, column 47.
  Encountered: "\u8a2d" (35373), after : ""

The error messages for different files have different characters at 
different positions, but it always seems like it's choking on Japanese 
text in HTML attribute values.

I've tried this on our own documents and some Japanese help from WinDVD, 
and get the same problem. Any ideas?

Thanks in advance,

Matt


-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 00:52:09 2003
Return-Path: 
 <lucene-user-return-4237-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32727 invoked from network); 16 Apr 2003 00:52:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:52:09 -0000
Received: (qmail 2567 invoked by uid 97); 16 Apr 2003 00:54:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2560 invoked from network); 16 Apr 2003 00:54:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 00:54:10 -0000
Received: (qmail 32484 invoked by uid 500); 16 Apr 2003 00:52:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32473 invoked from network); 16 Apr 2003 00:52:06 -0000
Received: from cosmos.phpwebhosting.com (66.33.60.222)
  by daedalus.apache.org with SMTP; 16 Apr 2003 00:52:06 -0000
Received: (qmail 4192 invoked by uid 508); 16 Apr 2003 00:52:10 -0000
Received: from unknown (HELO greenninja.com) (66.25.140.5)
  by cosmos.phpwebhosting.com with SMTP; 16 Apr 2003 00:52:10 -0000
Message-ID: <3E9CA93C.9030703@greenninja.com>
Date: Tue, 15 Apr 2003 19:52:12 -0500
From: Jeff Linwood <jeff@greenninja.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: any C++ implementations in the works
References: <001b01c303c3$462c24b0$b202a8c0@betty>
In-Reply-To: <001b01c303c3$462c24b0$b202a8c0@betty>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Wouldn't it be easier to write a simple parser in C++ using your 
libraries that creates XML out of your ASN.1? I know, it'll balloon your 
130G to a terabyte or so, but maybe you could gzip it as you go along?

Marc Dumontier wrote:
> I was wondering if there's any open source projects attempting to create a C++ implementation similar to Lucene.
> 
> I use lucene for a project which has modest text indexing needs for XML data, but i need an implementation which can index BER encoded ASN.1, and I only have those parsers available in C/C++ (130GB of binary data)
> 
> Marc
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 02:35:34 2003
Return-Path: 
 <lucene-user-return-4239-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5457 invoked from network); 16 Apr 2003 02:35:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 02:35:34 -0000
Received: (qmail 3499 invoked by uid 97); 16 Apr 2003 02:37:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3492 invoked from network); 16 Apr 2003 02:37:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 02:37:36 -0000
Received: (qmail 5186 invoked by uid 500); 16 Apr 2003 02:35:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5171 invoked from network); 16 Apr 2003 02:35:31 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 16 Apr 2003 02:35:31 -0000
Received: from 192 (adsl-210-193-14-243.qala.com.sg [210.193.14.243])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h3G2ZbP08337
	for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 10:35:37 +0800 (SGT)
Message-Id: <200304160235.h3G2ZbP08337@visor.qala.com.sg>
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service.
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.63 (1077) - Licensed Version
Date: Wed, 16 Apr 2003 10:36:54 +0800
In-Reply-To: <200304161019.36611@bah>
Subject: Re: Filtering the entire index
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This workaround is documented in the FAQ. However, I which there=
 was a constant 
in Field.java which does the same thing for me.

So if I want to return all documents, I can search like 

QueryParser.parse(Field.ALL_DOCS, Field.ALL_DOCS, filter)

But obviously something like this is just sugar...

On Wed, 16 Apr 2003 11:19:34 +1100, Victor Hadianto said:
>>I would like to be able to search the entire index and use only=
 the
>>Lucene
>
>You can achieve this by setting a special field in Lucene and=
 set
>the value
>for that field for all your document to say "1".
>
>When doing the query you can search for this field and the value=
 "1"
>which of
>course will return all documents in your Lucene index. Then the
>filters will
>do their work.
>
>>Ryan Moffat
>
>victor
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 15 23:53:35 2003
Return-Path: 
 <lucene-user-return-4234-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80056 invoked from network); 15 Apr 2003 23:53:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 Apr 2003 23:53:35 -0000
Received: (qmail 1545 invoked by uid 97); 15 Apr 2003 23:55:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1537 invoked from network); 15 Apr 2003 23:55:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 Apr 2003 23:55:35 -0000
Received: (qmail 79764 invoked by uid 500); 15 Apr 2003 23:53:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79749 invoked from network); 15 Apr 2003 23:53:32 -0000
Received: from fep02-mail.bloor.is.net.cable.rogers.com (66.185.86.72)
  by daedalus.apache.org with SMTP; 15 Apr 2003 23:53:32 -0000
Received: from betty ([24.102.220.42])
          by fep02-mail.bloor.is.net.cable.rogers.com
          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP
          id
 <20030415235339.HXLC55268.fep02-mail.bloor.is.net.cable.rogers.com@betty>
          for <lucene-user@jakarta.apache.org>;
          Tue, 15 Apr 2003 19:53:39 -0400
Message-ID: <001b01c303c3$462c24b0$b202a8c0@betty>
From: "Marc Dumontier" <mdumontier1797@rogers.com>
To: <lucene-user@jakarta.apache.org>
Subject: any C++ implementations in the works
Date: Tue, 15 Apr 2003 19:52:52 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0018_01C30388.999C78B0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Authentication-Info: Submitted using SMTP AUTH LOGIN at
 fep02-mail.bloor.is.net.cable.rogers.com from [24.102.220.42] using ID
 <mdumontier1797@rogers.com> at Tue, 15 Apr 2003 19:53:39 -0400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0018_01C30388.999C78B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I was wondering if there's any open source projects attempting to create =
a C++ implementation similar to Lucene.

I use lucene for a project which has modest text indexing needs for XML =
data, but i need an implementation which can index BER encoded ASN.1, =
and I only have those parsers available in C/C++ (130GB of binary data)

Marc

------=_NextPart_000_0018_01C30388.999C78B0--


From MAILER-DAEMON Wed Apr 16 03:37:19 2003
Return-Path: 
 <lucene-user-return-4240-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52890 invoked from network); 16 Apr 2003 03:37:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 03:37:19 -0000
Received: (qmail 4436 invoked by uid 97); 16 Apr 2003 03:39:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4429 invoked from network); 16 Apr 2003 03:39:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 03:39:21 -0000
Received: (qmail 52619 invoked by uid 500); 16 Apr 2003 03:37:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52608 invoked from network); 16 Apr 2003 03:37:16 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 16 Apr 2003 03:37:16 -0000
Message-ID: <20030416033726.15738.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Tue, 15 Apr 2003 20:37:26 PDT
Date: Tue, 15 Apr 2003 20:37:26 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Extra blank field in index?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4BD1@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sounds like a bug :)
A step-through in debugger would probably locate the bug.  It could be
FieldInfos constructor.  Another Lucene user, Julien, pointed me to it
as a potential source of the problem.

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> When I create an index, and then read back the available fields on my
> index using IndexReader.getFieldNames, the collection it returns
> always has one more field than I added.  
> 
> In the simplest case, when I added one document which only had one
> field to the index, according to my debugger, the SegmentReader
> class's fieldInfos object is holding two fields, one of which is the
> one I added, the other is the mystery field.  It reports
> isIndexed=false, name="".
> 
> Is this just normal operation, or is it a bug of sorts?  
> 
> (Using 1.3 RC1)
> 
> Thanks, 
> 
> Dan
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 01:21:38 2003
Return-Path: 
 <lucene-user-return-4238-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49064 invoked from network); 16 Apr 2003 01:21:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 01:21:38 -0000
Received: (qmail 2804 invoked by uid 97); 16 Apr 2003 01:23:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2797 invoked from network); 16 Apr 2003 01:23:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 01:23:39 -0000
Received: (qmail 48725 invoked by uid 500); 16 Apr 2003 01:21:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48712 invoked from network); 16 Apr 2003 01:21:34 -0000
Received: from fep02-mail.bloor.is.net.cable.rogers.com (66.185.86.72)
  by daedalus.apache.org with SMTP; 16 Apr 2003 01:21:34 -0000
Received: from betty ([24.102.220.42])
          by fep02-mail.bloor.is.net.cable.rogers.com
          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP
          id
 <20030416012142.IVQV55268.fep02-mail.bloor.is.net.cable.rogers.com@betty>
          for <lucene-user@jakarta.apache.org>;
          Tue, 15 Apr 2003 21:21:42 -0400
Message-ID: <000501c303cf$92eac980$b202a8c0@betty>
From: "Marc Dumontier" <mdumontier1797@rogers.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001b01c303c3$462c24b0$b202a8c0@betty>
 <3E9CA93C.9030703@greenninja.com>
Subject: Re: any C++ implementations in the works
Date: Tue, 15 Apr 2003 21:20:54 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Authentication-Info: Submitted using SMTP AUTH LOGIN at
 fep02-mail.bloor.is.net.cable.rogers.com from [24.102.220.42] using ID
 <mdumontier1797@rogers.com> at Tue, 15 Apr 2003 21:21:42 -0400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's one possible solution, but the extra time,and space needed is
something i'm looking to avoid. I have a current text indexing solution
written in C which does the job, but i find it's storage format very
inefficient for searching and i really don't want to start soemthing from
scratch.

Marc


----- Original Message -----
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, April 15, 2003 5:52 PM
Subject: Re: any C++ implementations in the works


> Wouldn't it be easier to write a simple parser in C++ using your
> libraries that creates XML out of your ASN.1? I know, it'll balloon your
> 130G to a terabyte or so, but maybe you could gzip it as you go along?
>
> Marc Dumontier wrote:
> > I was wondering if there's any open source projects attempting to create
a C++ implementation similar to Lucene.
> >
> > I use lucene for a project which has modest text indexing needs for XML
data, but i need an implementation which can index BER encoded ASN.1, and I
only have those parsers available in C/C++ (130GB of binary data)
> >
> > Marc
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 04:33:44 2003
Return-Path: 
 <lucene-user-return-4241-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2065 invoked from network); 16 Apr 2003 04:33:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 04:33:44 -0000
Received: (qmail 4935 invoked by uid 97); 16 Apr 2003 04:35:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4928 invoked from network); 16 Apr 2003 04:35:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 04:35:48 -0000
Received: (qmail 1801 invoked by uid 500); 16 Apr 2003 04:33:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1790 invoked from network); 16 Apr 2003 04:33:41 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 16 Apr 2003 04:33:41 -0000
Message-ID: <20030416043352.24189.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Tue, 15 Apr 2003 21:33:52 PDT
Date: Tue, 15 Apr 2003 21:33:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: I need a list of the indexed words
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3E8A2BA2.4040904@micromuse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's a very handy class, David.  Perhaps I should stick it in
lucene-sandbox somewhere.

It depends on your Rammer class, but for those interested in using
this, all you need to do is pass 'name' variable to IndexReader instead
of wrapping it in that Rammer call.

Thanks,
Otis

--- David Spencer <David.Spencer@micromuse.com> wrote:
> jcrowell wrote:
> 
> >Thanks for responding.  Are you referring to the solution under the
> title:
> >
> >"How do I retrieve all the values of a particular field that exists
> within
> >an index, across all documents" ?
> >
> Here's some code that might do what you want.
> It's shows the frequency of each term also.
> Args are "-i INDEX" and optional "-f FIELD".
> I haven't tested it outside my tree (to see if it's clean of 
> dependencies) but
> it looks reasonable at a glance.
> 
> 
> 
> 
> 
> package com.tropo.lucene;
> 
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.index.*;
> import org.apache.lucene.document.*;
> 
> import java.io.*;
> import java.util.*;
> 
> /**
>  * Call IndexReader.terms(), termPositions().
>  */
> public class DumpTerms
> {
>     private DumpTerms()
>     {
>     }
>    
>     /**
>      *
>      */
>     public static void main(String[] args)
>         throws Throwable
>     {
>         String name = "index";
>         String field = null;
>        
>         for ( int i = 0; i< args.length; i++)
>         {
>             if ( args[i].equals( "-i"))
>                 name = args[ ++i];
>             else if ( args[i].equals( "-f"))
>                 field = args[ ++i];
>         /*
> 
>             else if ( args[i].equals( "-v"))
>                 v = args[ ++i];
>         */
>         }
>         o.println( "Opening "+ name);
>         final IndexReader r = IndexReader.open( Rammer.convertMaybe(
> name));
>         final TermEnum te = r.terms();
>         final Set s =new TreeSet();
>         final List lis = new LinkedList();
>         final int docs = r.numDocs();
>         o.println( "Docs: " + docs);
>         while ( te.next())
>         {
>             Term t = te.term();
>             if ( field != null && ! field.equals( t.field()))
> continue;
>             s.add( t.field());
>             /*
>             o.println( "field=" +t.field() +
>                        " text="  + t.text() +
>                        " freq="+ te.docFreq());
>             */
>             lis.add( new Object[] { t, new Integer( te.docFreq())});
>             /*
>             TermPositions tp = r.termPositions( t);
>             while ( tp.next())
>             {
>                 int f = tp.freq();               
>                 o.println( "\t" + "doc=" + tp.doc() +  " freq=" +f);
>                 for ( int i = 0; i < f; i++)
>                     o.println( "\t\tnextp=" + tp.nextPosition());
>             }
>             tp.close();
>             */
>         }
>         o.println( "Terms: " + lis.size());
>         Collections.sort( lis, new ICmp());
>         Iterator it = lis.iterator();
>         int[] lens = new int[ 30];
>         while ( it.hasNext())
>         {
>             Object[] ar = (Object[]) it.next();
>             Term t = (Term) ar[0];
>             int freq = ((Integer)ar[1]).intValue();
>             int len = t.text().length();
>             if ( len >= lens.length)
>                 lens[ lens.length-1]++;
>             else
>                 lens[ len]++;
>             o.print( fill( t.text(), 16)  + " " + fill( "" + freq,
> 6));
>             int pc = (freq * 100); pc += (docs/2); pc /= docs;
>             o.print( " " +pc + "%");
>             if ( ! t.field().equals( "contents"))
>                 o.println( " " + t.field());
>             else
>                 o.println();
>         }
>         o.println();
> 
>         int tot_terms = lis.size();
>         for ( int i = 0; i< lens.length; i++)
>         {
>             int pc = lens[ i] * 100; pc += tot_terms/2; pc /=
> tot_terms;
>             o.println( "" + i + ". " + lens[ i] + " " + pc + "%");
>         }
> 
>         r.close();
>         /*
>         o.println();
>         Iterator it = s.iterator();
>         while ( it.hasNext())
>             o.println( it.next());
>         */
>     }
>     /**
>      *
>      */
>     private static String fill( String s, int w)
>     {
>         int len = s.length();       
>         for ( int i = len; i < w; i++)
>             s += " ";
>         return s;
>     }
> 
>     private static class ICmp
>         implements Comparator
>     {
>         public int compare( Object a, Object b)
>         {
>             Object[] a1 = (Object[]) a;
>             Object[] b1 = (Object[]) b;
>             int d1 = ((Integer)a1[1]).intValue();
>             int d2 = ((Integer)b1[1]).intValue();
>             if ( d1 < d2) return 1;
>             if ( d1 > d2) return -1;
>             return 0;
>         }
>     }
> 
> 
>     static PrintStream o = System.out;
> 
> 
> }
> 
> 
> >
> >Thanks,
> >
> >Jon
> >
> >
> >
> >-----Original Message-----
> >From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> >Sent: Monday, March 31, 2003 3:02 PM
> >To: Lucene Users List
> >Subject: Re: I need a list of the indexed words
> >
> >
> >Please see the FAQ at jGuru, the answer is there.
> >
> >Otis
> >
> >--- jcrowell <jcrowell@dsg.harvard.edu> wrote:
> >  
> >
> >>I have a very simple problem: I need to get a list of the words
> that 
> >>will result in a hit if searched on.  Should be simple, but I'm not
> 
> >>quite sure
> >>where to start.
> >>
> >>Thanks,
> >>
> >>Jon
> >>
> >>
>
>>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >
> >__________________________________________________
> >Do you Yahoo!?
> >Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your
> desktop!
> >http://platinum.yahoo.com
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >  
> >
> 
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 05:57:08 2003
Return-Path: 
 <lucene-user-return-4242-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64145 invoked from network); 16 Apr 2003 05:57:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 05:57:08 -0000
Received: (qmail 6092 invoked by uid 97); 16 Apr 2003 05:59:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6084 invoked from network); 16 Apr 2003 05:59:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 05:59:12 -0000
Received: (qmail 63834 invoked by uid 500); 16 Apr 2003 05:57:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63818 invoked from network); 16 Apr 2003 05:57:03 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 16 Apr 2003 05:57:03 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3G5vAj7000589
 for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 11:27:12 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <H3CS9M18>; Wed, 16 Apr 2003 11:27:10 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E373@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: QueryParser construct
Date: Wed, 16 Apr 2003 11:27:09 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I was looking into the following query parser constructor:
QueryParser
public QueryParser(String f,
                   Analyzer a)
Constructs a query parser. 

I want to know what is the parameter f being passed to constructor.

thanks for your help,
vikas.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 06:07:34 2003
Return-Path: 
 <lucene-user-return-4243-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68101 invoked from network); 16 Apr 2003 06:07:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:07:34 -0000
Received: (qmail 6169 invoked by uid 97); 16 Apr 2003 06:09:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6162 invoked from network); 16 Apr 2003 06:09:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 06:09:38 -0000
Received: (qmail 67862 invoked by uid 500); 16 Apr 2003 06:07:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67847 invoked from network); 16 Apr 2003 06:07:30 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:07:30 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3G67dj7001019
 for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 11:37:39 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <H3CS9MFR>; Wed, 16 Apr 2003 11:37:39 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E374@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Unable to change default boolean operator to AND
Date: Wed, 16 Apr 2003 11:37:38 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was trying to implement default boolean operator AND in the demo code
SearchFiles.java.
I did the following :-

        QueryParser qp = new QueryParser("contents", analyzer);
        System.out.println("Value for AND operator is: " + 
                           qp.DEFAULT_OPERATOR_AND);
        qp.setOperator(1);
	Query query = qp.parse(line, "contents", analyzer);
        System.out.println("Query is " + query);
	System.out.println("Searching for: " + query.toString("contents"));
        System.out.println("Operator is: " + qp.getOperator());

But what I get is still the default OR opertor:

Query: asd asd 
Value for AND operator is: 1
Query is contents:asd contents:asd
Searching for: asd asd
Operator is: 1

What am I doing wrong ?

thanks for your help,
vikas. 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 06:15:14 2003
Return-Path: 
 <lucene-user-return-4244-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80090 invoked from network); 16 Apr 2003 06:15:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:15:14 -0000
Received: (qmail 6304 invoked by uid 97); 16 Apr 2003 06:17:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6297 invoked from network); 16 Apr 2003 06:17:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 06:17:19 -0000
Received: (qmail 79820 invoked by uid 500); 16 Apr 2003 06:15:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79802 invoked from network); 16 Apr 2003 06:15:11 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:15:11 -0000
Message-ID: <20030416061523.22838.qmail@web12701.mail.yahoo.com>
Received: from [24.90.65.225] by web12701.mail.yahoo.com via HTTP;
 Tue, 15 Apr 2003 23:15:23 PDT
Date: Tue, 15 Apr 2003 23:15:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wildcard Queries
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16000.14198.90120.900225@morus.xipolis.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No, I don't think this is intentional.  Sounds like a bug.  We should
probably add a unit test for WildcardTermEnum that shows this bug and
then fix it to get the test to pass.

Otis

--- Morus Walter <morus.walter@tanto-xipolis.de> wrote:
> Hi,
> 
> is it intentional that '?' matches exactly one character within
> wildcard terms but one or zero characters at the end of wildcard
> terms?
> 
> That is:
> r?? matches r ra rab ...
> whereas
> r?b matches rab rbb ... and not rb
> 
> The AFAIK common definition of '*' and '?' (e.g. in unix glob
> pattern) is
> to match exactly one character for '?' independent of it's position.
> 
> I think lucenes behavior comes from WildcarTermEnum.java line 157
> where WILDCARD_CHAR and WILDCARD_STRING are ignored at the end of the
> pattern, if the strings matched so far.
> 
> greetings
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 06:17:54 2003
Return-Path: 
 <lucene-user-return-4245-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87830 invoked from network); 16 Apr 2003 06:17:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:17:54 -0000
Received: (qmail 6363 invoked by uid 97); 16 Apr 2003 06:19:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6356 invoked from network); 16 Apr 2003 06:19:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 06:19:58 -0000
Received: (qmail 85528 invoked by uid 500); 16 Apr 2003 06:17:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85476 invoked from network); 16 Apr 2003 06:17:29 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:17:29 -0000
Message-ID: <20030416061737.66857.qmail@web12702.mail.yahoo.com>
Received: from [24.90.65.225] by web12702.mail.yahoo.com via HTTP;
 Tue, 15 Apr 2003 23:17:37 PDT
Date: Tue, 15 Apr 2003 23:17:37 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Unable to change default boolean operator to AND
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <21559A0D4CF8D511B51100065B38178BA0E374@mshyd2.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

--- "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com> wrote:
> I was trying to implement default boolean operator AND in the demo
> code
> SearchFiles.java.
> I did the following :-
> 
>         QueryParser qp = new QueryParser("contents", analyzer);
>         System.out.println("Value for AND operator is: " + 
>                            qp.DEFAULT_OPERATOR_AND);
>         qp.setOperator(1);
> 	Query query = qp.parse(line, "contents", analyzer);
>         System.out.println("Query is " + query);
> 	System.out.println("Searching for: " + query.toString("contents"));
>         System.out.println("Operator is: " + qp.getOperator());
> 
> But what I get is still the default OR opertor:
> 
> Query: asd asd 
> Value for AND operator is: 1
> Query is contents:asd contents:asd
> Searching for: asd asd
> Operator is: 1
> 
> What am I doing wrong ?
> 
> thanks for your help,
> vikas. 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 06:18:34 2003
Return-Path: 
 <lucene-user-return-4246-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88705 invoked from network); 16 Apr 2003 06:18:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:18:34 -0000
Received: (qmail 6379 invoked by uid 97); 16 Apr 2003 06:20:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6372 invoked from network); 16 Apr 2003 06:20:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 06:20:38 -0000
Received: (qmail 88432 invoked by uid 500); 16 Apr 2003 06:18:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88419 invoked from network); 16 Apr 2003 06:18:32 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:18:32 -0000
Message-ID: <20030416061843.19706.qmail@web12705.mail.yahoo.com>
Received: from [24.90.65.225] by web12705.mail.yahoo.com via HTTP;
 Tue, 15 Apr 2003 23:18:43 PDT
Date: Tue, 15 Apr 2003 23:18:43 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QueryParser construct
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <21559A0D4CF8D511B51100065B38178BA0E373@mshyd2.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Look at QueryParser.jj and the Javadoc for this constructor.
f - field.

Otis

--- "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com> wrote:
> Hi,
> 
> I was looking into the following query parser constructor:
> QueryParser
> public QueryParser(String f,
>                    Analyzer a)
> Constructs a query parser. 
> 
> I want to know what is the parameter f being passed to constructor.
> 
> thanks for your help,
> vikas.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 06:33:00 2003
Return-Path: 
 <lucene-user-return-4247-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7579 invoked from network); 16 Apr 2003 06:33:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:33:00 -0000
Received: (qmail 6556 invoked by uid 97); 16 Apr 2003 06:35:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6549 invoked from network); 16 Apr 2003 06:35:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 06:35:05 -0000
Received: (qmail 6423 invoked by uid 500); 16 Apr 2003 06:32:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6334 invoked from network); 16 Apr 2003 06:32:47 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 16 Apr 2003 06:32:47 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 3394519B717
	for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 08:32:57 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h3G6XNs14195;
	Wed, 16 Apr 2003 08:33:23 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16028.63795.406509.39013@morus.xipolis.net>
Date: Wed, 16 Apr 2003 08:33:23 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Filtering the entire index
In-Reply-To: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com>
References: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Ryan,
> 
> I would like to be able to search the entire index and use only the Lucene
> filters for results.  I had a lot of trouble searching for date and int
> ranges using terms and consequently used the ChainableFilter code (thanks to
> Kelvin Tan) which works like a charm as long as I include some query.  I can
> not see a way of just using * as a query (cant start search with * etc)
> 
> Of course the idea of saying search everything in the index just to let the
> filters do the work seems a bit daft to me so possibly I'm on the completely
> wrong track?
> 
What's the use of a query in this scenario?
I mean, if you have a filter describing the documents you want to find,
you can simply loop over the filter and fetch the documents, for which the
bit is set, using a IndexReader.
Ok, it's a few lines of code to write (<= 10 I guess) but I don't see any
advantage from combining this with a query.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 08:44:07 2003
Return-Path: 
 <lucene-user-return-4248-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65274 invoked from network); 16 Apr 2003 08:44:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 08:44:07 -0000
Received: (qmail 9033 invoked by uid 97); 16 Apr 2003 08:46:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9026 invoked from network); 16 Apr 2003 08:46:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 08:46:13 -0000
Received: (qmail 65003 invoked by uid 500); 16 Apr 2003 08:44:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64992 invoked from network); 16 Apr 2003 08:44:03 -0000
Received: from oe13.law9.hotmail.com (HELO hotmail.com) (64.4.8.117)
  by daedalus.apache.org with SMTP; 16 Apr 2003 08:44:03 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 16 Apr 2003 01:44:16 -0700
Received: from 212.133.29.156 by law9-oe13.adinternal.hotmail.com with DAV;
	Wed, 16 Apr 2003 08:44:16 +0000
X-Originating-IP: [212.133.29.156]
X-Originating-Email: [ryanmoffat@hotmail.com]
From: "Ryan Moffat" <ryanmoffat@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <Law9-OE42DQlYJhbQ4m000031c5@hotmail.com> <200304161019.36611@bah>
Subject: Re: Filtering the entire index
Date: Wed, 16 Apr 2003 09:43:53 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Message-ID: <Law9-OE13ciYCPuPXJo00007bb9@hotmail.com>
X-OriginalArrivalTime: 16 Apr 2003 08:44:16.0989 (UTC)
 FILETIME=[5D5E98D0:01C303F4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Simple, easy to do and working.  :-)

Thanks Victor

----- Original Message -----
From: "Victor Hadianto" <victorh@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 16, 2003 1:19 AM
Subject: Re: Filtering the entire index


> > I would like to be able to search the entire index and use only the
Lucene
>
> You can achieve this by setting a special field in Lucene and set the
value
> for that field for all your document to say "1".
>
> When doing the query you can search for this field and the value "1" which
of
> course will return all documents in your Lucene index. Then the filters
will
> do their work.
>
> > Ryan Moffat
>
> victor
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 08:49:44 2003
Return-Path: 
 <lucene-user-return-4249-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71637 invoked from network); 16 Apr 2003 08:49:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 08:49:44 -0000
Received: (qmail 9122 invoked by uid 97); 16 Apr 2003 08:51:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9115 invoked from network); 16 Apr 2003 08:51:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 08:51:50 -0000
Received: (qmail 71375 invoked by uid 500); 16 Apr 2003 08:49:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71362 invoked from network); 16 Apr 2003 08:49:42 -0000
Received: from oe13.law9.hotmail.com (HELO hotmail.com) (64.4.8.117)
  by daedalus.apache.org with SMTP; 16 Apr 2003 08:49:42 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 16 Apr 2003 01:49:55 -0700
Received: from 212.133.29.156 by law9-oe13.adinternal.hotmail.com with DAV;
	Wed, 16 Apr 2003 08:49:55 +0000
X-Originating-IP: [212.133.29.156]
X-Originating-Email: [ryanmoffat@hotmail.com]
From: "Ryan Moffat" <ryanmoffat@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200304160235.h3G2ZbP08337@visor.qala.com.sg>
Subject: Re: Filtering the entire index
Date: Wed, 16 Apr 2003 09:49:32 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Message-ID: <Law9-OE13TLkt6gcEIQ00007bc3@hotmail.com>
X-OriginalArrivalTime: 16 Apr 2003 08:49:55.0571 (UTC)
 FILETIME=[272E1C30:01C303F5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, a custom field would be nice hopefully it will be included some day!

Thanks for the reponse!

----- Original Message -----
From: "Kelvin Tan" <kelvin-lists@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 16, 2003 3:36 AM
Subject: Re: Filtering the entire index


This workaround is documented in the FAQ. However, I which there was a
constant
in Field.java which does the same thing for me.

So if I want to return all documents, I can search like

QueryParser.parse(Field.ALL_DOCS, Field.ALL_DOCS, filter)

But obviously something like this is just sugar...

On Wed, 16 Apr 2003 11:19:34 +1100, Victor Hadianto said:
>>I would like to be able to search the entire index and use only the
>>Lucene
>
>You can achieve this by setting a special field in Lucene and set
>the value
>for that field for all your document to say "1".
>
>When doing the query you can search for this field and the value "1"
>which of
>course will return all documents in your Lucene index. Then the
>filters will
>do their work.
>
>>Ryan Moffat
>
>victor
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 16:05:56 2003
Return-Path: 
 <lucene-user-return-4250-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2741 invoked from network); 16 Apr 2003 16:05:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 16:05:56 -0000
Received: (qmail 21933 invoked by uid 97); 16 Apr 2003 16:07:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21926 invoked from network); 16 Apr 2003 16:07:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 16:07:52 -0000
Received: (qmail 98924 invoked by uid 500); 16 Apr 2003 16:05:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98565 invoked from network); 16 Apr 2003 16:05:01 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 16 Apr 2003 16:05:01 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Wed, 16 Apr 2003 11:04:54 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4YF32X>; Wed, 16 Apr 2003 11:04:53 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BD8@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Keeping IndexReader up to date
Date: Wed, 16 Apr 2003 11:04:48 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Maybe I'm missing something, but doesn't it seem wrong that the IndexReader and Searcher have no method to identify when their underlying directory has been modified?  Instead, you have to go all the way down to the Directory, and cache when it was last modified?

It seems like there should be a method that I can call in the IndexReader, that would tell me whether or not it is up to date.  Then there would be another method I could call to have it re-read the index, instead of having to throw away the IndexReader, and construct a new one.

Ideally, I could set a flag to have it handle this itself... When I want to do a search, I don't care about the details, I just want it to check to make sure it is current, and if not, reload itself before it performs the search.  This extra overhead could be turned off (or be off by default) for people that are searching a static index.

I need this feature currently, so am I going about doing it right?

1) cache the lastModifed date of my directory before creating my index reader and searcher
2) before each search, compare this to the current lastModified date of the directory
3) if != trash the searcher and reader, and create new ones


Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 16:43:10 2003
Return-Path: 
 <lucene-user-return-4251-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88150 invoked from network); 16 Apr 2003 16:43:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 16:43:10 -0000
Received: (qmail 23044 invoked by uid 97); 16 Apr 2003 16:45:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23037 invoked from network); 16 Apr 2003 16:45:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 16:45:06 -0000
Received: (qmail 87882 invoked by uid 500); 16 Apr 2003 16:43:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87871 invoked from network); 16 Apr 2003 16:43:07 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 16 Apr 2003 16:43:07 -0000
Message-ID: <20030416164310.38647.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP;
 Wed, 16 Apr 2003 09:43:10 PDT
Date: Wed, 16 Apr 2003 09:43:10 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Keeping IndexReader up to date
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4BD8@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think having to do this small manual step also gives flexibility to
those who want it.  Not everyone will want their index 'reloaded' every
time it is changed (think very dynamic indices).
As for how to figure out when to get the new IndexSearcher/Reader, yes,
looks right, and I remember posting some code that does just that a few
months ago (3, 4, or more months ago).

Otis


--- "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu> wrote:
> Maybe I'm missing something, but doesn't it seem wrong that the
> IndexReader and Searcher have no method to identify when their
> underlying directory has been modified?  Instead, you have to go all
> the way down to the Directory, and cache when it was last modified?
> 
> It seems like there should be a method that I can call in the
> IndexReader, that would tell me whether or not it is up to date. 
> Then there would be another method I could call to have it re-read
> the index, instead of having to throw away the IndexReader, and
> construct a new one.
> 
> Ideally, I could set a flag to have it handle this itself... When I
> want to do a search, I don't care about the details, I just want it
> to check to make sure it is current, and if not, reload itself before
> it performs the search.  This extra overhead could be turned off (or
> be off by default) for people that are searching a static index.
> 
> I need this feature currently, so am I going about doing it right?
> 
> 1) cache the lastModifed date of my directory before creating my
> index reader and searcher
> 2) before each search, compare this to the current lastModified date
> of the directory
> 3) if != trash the searcher and reader, and create new ones
> 
> 
> Thanks, 
> 
> Dan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 20:21:53 2003
Return-Path: 
 <lucene-user-return-4252-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77041 invoked from network); 16 Apr 2003 20:21:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 20:21:53 -0000
Received: (qmail 28980 invoked by uid 97); 16 Apr 2003 20:23:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28973 invoked from network); 16 Apr 2003 20:23:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 20:23:52 -0000
Received: (qmail 76750 invoked by uid 500); 16 Apr 2003 20:21:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76737 invoked from network); 16 Apr 2003 20:21:50 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 16 Apr 2003 20:21:50 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 81B91367D4; Wed, 16 Apr 2003 20:21:04 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 6F2FC367CF
	for <lucene-user@jakarta.apache.org>; Wed, 16 Apr 2003 20:21:03 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: IndexReader In a MultiThreaded Env
Date: Wed, 16 Apr 2003 16:21:53 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDGEMOCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20030416164310.38647.qmail@web12707.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I think I tracked down what was a nasty bug.  I have 2 threads, my program
works in the following way, the first time a user tries to access the index,
if an index does not exists then one is built, otherwise if one is there it
simply uses it.

	Thread 1 comes along and he tries to query, no index exists
(ndexReader.indexExists(File directory) method) so one is now being built.

	Thread 2 comes along he checks if an index exists via the
IndexReader.indexExists(File directory) method <-- it returns true since all
the method does is File.exists().  Since thread one caused an index to be
built Thread 2 thinks that it is a usable index and tries to run queries and
modify the index -- all of which fail because the index is still being
built.

	Is there any method that checks more than if the index directory simply
exists?  Is there way to make sure the index is valid before using it?

	Let me know.

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 20:28:05 2003
Return-Path: 
 <lucene-user-return-4253-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88993 invoked from network); 16 Apr 2003 20:28:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 20:28:05 -0000
Received: (qmail 29245 invoked by uid 97); 16 Apr 2003 20:30:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29238 invoked from network); 16 Apr 2003 20:30:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 20:30:04 -0000
Received: (qmail 88707 invoked by uid 500); 16 Apr 2003 20:28:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88694 invoked from network); 16 Apr 2003 20:28:03 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 16 Apr 2003 20:28:03 -0000
Message-ID: <20030416202809.67685.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP;
 Wed, 16 Apr 2003 13:28:09 PDT
Date: Wed, 16 Apr 2003 13:28:09 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader In a MultiThreaded Env
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDGEMOCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't think so.  However, this sounds like a scenario in which you
should make your 2 threads communicate.  Either through JVM or even
something as simple as "I'm done building the index" file.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	I think I tracked down what was a nasty bug.  I have 2 threads, my
> program
> works in the following way, the first time a user tries to access the
> index,
> if an index does not exists then one is built, otherwise if one is
> there it
> simply uses it.
> 
> 	Thread 1 comes along and he tries to query, no index exists
> (ndexReader.indexExists(File directory) method) so one is now being
> built.
> 
> 	Thread 2 comes along he checks if an index exists via the
> IndexReader.indexExists(File directory) method <-- it returns true
> since all
> the method does is File.exists().  Since thread one caused an index
> to be
> built Thread 2 thinks that it is a usable index and tries to run
> queries and
> modify the index -- all of which fail because the index is still
> being
> built.
> 
> 	Is there any method that checks more than if the index directory
> simply
> exists?  Is there way to make sure the index is valid before using
> it?
> 
> 	Let me know.
> 
> Rob
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 16 21:02:04 2003
Return-Path: 
 <lucene-user-return-4254-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26480 invoked from network); 16 Apr 2003 21:02:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Apr 2003 21:02:04 -0000
Received: (qmail 397 invoked by uid 97); 16 Apr 2003 21:04:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 389 invoked from network); 16 Apr 2003 21:04:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 Apr 2003 21:04:01 -0000
Received: (qmail 25480 invoked by uid 500); 16 Apr 2003 21:01:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25461 invoked from network); 16 Apr 2003 21:01:52 -0000
Received: from merc61.na.sas.com (149.173.6.14)
  by daedalus.apache.org with SMTP; 16 Apr 2003 21:01:52 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.2 with InterScan
 Messaging Security Suite; Wed, 16 Apr 2003 17:01:57 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: IndexReader In a MultiThreaded Env
Date: Wed, 16 Apr 2003 17:01:57 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BAB@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexReader In a MultiThreaded Env
Thread-Index: AcMEVdbj1Tui/GmCS/a0s3GgPvHFxAABDfuQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

IndexReader will obtain a write.lock when it tries to delete and holds =
the lock until the reader is closed or garbage collected.

IndexWriter obtains the write.lock when it is created and holds the lock =
until the reader is closed or garbage collected.

So to combat this problem if you can't rely on inter thread =
communication you might be able to check for a lock before using the =
reader.

String index =3D "path to index";
while (IndexReader.isLocked(index)) {
	// wait a little bit, if we have waited to long compain loudly and die
}

I don't know if this is acceptable for your app. This, or something like =
it, might do the job.

Eric

-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]=20
Sent: Wednesday, April 16, 2003 4:22 PM
To: Lucene Users List
Subject: IndexReader In a MultiThreaded Env


Hi all,

	I think I tracked down what was a nasty bug.  I have 2 threads, my =
program works in the following way, the first time a user tries to =
access the index, if an index does not exists then one is built, =
otherwise if one is there it simply uses it.

	Thread 1 comes along and he tries to query, no index exists =
(ndexReader.indexExists(File directory) method) so one is now being =
built.

	Thread 2 comes along he checks if an index exists via the =
IndexReader.indexExists(File directory) method <-- it returns true since =
all the method does is File.exists().  Since thread one caused an index =
to be built Thread 2 thinks that it is a usable index and tries to run =
queries and modify the index -- all of which fail because the index is =
still being built.

	Is there any method that checks more than if the index directory simply =
exists?  Is there way to make sure the index is valid before using it?

	Let me know.

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 01:42:09 2003
Return-Path: 
 <lucene-user-return-4255-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25886 invoked from network); 17 Apr 2003 01:42:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 01:42:09 -0000
Received: (qmail 4150 invoked by uid 97); 17 Apr 2003 01:44:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4143 invoked from network); 17 Apr 2003 01:44:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 01:44:10 -0000
Received: (qmail 25591 invoked by uid 500); 17 Apr 2003 01:42:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25578 invoked from network); 17 Apr 2003 01:42:05 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 17 Apr 2003 01:42:05 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 03D6310682E
	for <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 11:45:05 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Getting the term that matches in the result.
Date: Thu, 17 Apr 2003 12:28:58 +1100
User-Agent: KMail/1.4.3
References: <200304141625.52967@bah>
In-Reply-To: <200304141625.52967@bah>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304171128.58427@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Okay,

I sort of managed to achieve this (the code sort of a rip off from the 
explain() API) by adding the following interface in 
Weights.java

Term[] explainTerm(IndexReader reader, int doc) throws IOException;

While the implementation is as follow:

BooleanWeight:

      public Term[] explainTerm(IndexReader reader, int doc) 
          throws IOException  {
          // Collate all the term matches from the query vector.
          List termList = new ArrayList();
          for (int i = 0 ; i < weights.size(); i++) {
              Weight w = (Weight) weights.elementAt(i);
              Explanation e = w.explain(reader, doc);
              if (e.getValue() > 0.0) {
                  Term[] terms = w.explainTerm(reader, doc);
                  for (int j = 0; j < terms.length; j++) {
                      Term term = terms[j];
                      termList.add(term);
                  }
              }
          }
        
          return (Term[]) termList.toArray(new Term[termList.size()]);
      }


TermWeight:
    public Term[] explainTerm(IndexReader reader, int doc) 
        throws IOException {
        // One query match.          
        return new Term[] {term};
    }

PhraseWeight and PhrasePrefixWeight:

      public Term[] explainTerm(IndexReader reader, int doc) 
          throws IOException {
          // Only one term match per phrase query search, which is the query 
itself.
          return new Term[] {new Term(field, getQuery().toString(field))};  
      }


And in IndexSearcher add the convenient method:

  public Term[] explainTerm(Query query, int doc) throws IOException {
    return query.weight(this).explainTerm(reader, doc);
  }


This method will returns all term matches for the given Query and Lucene's 
document id.

Anyway if anyone interested there it is seems to work fine for me. Also if 
anyone can point a mistake/problem I will be eternaly grateful.

Cheers,

victor


On Mon, 14 Apr 2003 04:25 pm, Victor Hadianto wrote:
> Hi all,
>
> What I'm trying to do is exactly the same with this discussion:
>
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=&msgId=117093
>
> Basically I want to know from my search terms which one that found a
> specific documents. For example
>
> Search: apple OR orange OR banana
>
> Found:
>
> Doc1: apple orange
> Doc2: orange
> Doc3: apple banana
>
> There is a reply from Dmitry:
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=&msgId=117102
>
> Hinting that this can be done. However I couldn't find any other reference
> about doing this.
>
> Can this be done? Does anyone has anyone pointer about where I need to
> look?
>
> thanks,
>
> victor
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 11:07:57 2003
Return-Path: 
 <lucene-user-return-4256-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29635 invoked from network); 17 Apr 2003 11:07:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 11:07:57 -0000
Received: (qmail 12727 invoked by uid 97); 17 Apr 2003 11:09:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12720 invoked from network); 17 Apr 2003 11:09:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 11:09:50 -0000
Received: (qmail 29339 invoked by uid 500); 17 Apr 2003 11:07:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29328 invoked from network); 17 Apr 2003 11:07:54 -0000
Received: from www4.mail.lycos.com (HELO lycos.com) (209.202.220.170)
  by daedalus.apache.org with SMTP; 17 Apr 2003 11:07:54 -0000
Received: from Unknown/Local ([?.?.?.?]) by mailcity.com;
 Thu, 17 Apr 2003 11:07:47 -0000
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Date: Thu, 17 Apr 2003 07:07:47 -0400
From: "Rishabh Bajpai" <r_bajpai@lycos.com>
Message-ID: <LOGHAAMKCGDNIEAA@mailcity.com>
Mime-Version: 1.0
X-Sent-Mail: off
Reply-To: r_bajpai@lycos.com
X-Mailer: MailCity Service
X-Priority: 3
Subject: Stop Words in the Query causing Parse Exception?
X-Sender-Ip: 203.190.140.10
Organization: Lycos Mail  (http://www.mail.lycos.com:80)
Content-Type: text/plain; charset=us-ascii
Content-Language: en
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 

I belive this should not have happened, but I am getting a Parse Exception if I have some stop-words like 'and' 'or' 'is' a' , etc. inn the Query. eg, queryString 1: 
( Title:rishabh^1 OR Title:and^1 OR Title:bajpai^1 ) OR ( Description:rishabh^1 OR Description:and^1 OR Description:bajpai^1 ) OR ( Entity:rishabh^1 OR Entity:and^1 OR Entity:bajpai^1 ) OR ( Keyword:rishabh^1 OR Keyword:and^1 OR Keyword:bajpai^1 ) OR ( Content:rishabh^1 OR Content:and^1 OR Content:bajpai^1 )

It looked like that the parse method got confused with those extra and,etc. What I then tried was to put the words within "", but now i got a Null Pointer Exception. eg, queryString 2: 
( Title:"rishabh"^1 OR Title:"and"^1 OR Title:"bajpai"^1 ) OR ( Description:"rishabh"^1 OR Description:"and"^1 OR Description:"bajpai"^1 ) OR ( Entity:"rishabh"^1 OR Entity:"and"^1 OR Entity:"bajpai"^1 ) OR ( Keyword:"rishabh"^1 OR Keyword:"and"^1 OR Keyword:"bajpai"^1 ) OR ( Content:"rishabh"^1 OR Content:"and"^1 OR Content:"bajpai"^1 )

The above query works perfectly without such words by the way. 
Is there a simple way of handling this particular case??

-rb






____________________________________________________________
Get advanced SPAM filtering on Webmail or POP Mail ... Get Lycos Mail!
http://login.mail.lycos.com/r/referral?aid=27005

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 17:43:18 2003
Return-Path: 
 <lucene-user-return-4257-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7331 invoked from network); 17 Apr 2003 17:43:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 17:43:18 -0000
Received: (qmail 25134 invoked by uid 97); 17 Apr 2003 17:45:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25127 invoked from network); 17 Apr 2003 17:45:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 17:45:15 -0000
Received: (qmail 6168 invoked by uid 500); 17 Apr 2003 17:43:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6075 invoked from network); 17 Apr 2003 17:43:04 -0000
Received: from mta.micromuse.com (194.131.185.92)
  by daedalus.apache.org with SMTP; 17 Apr 2003 17:43:04 -0000
Received: from micromuse.com ([216.4.9.35])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.6/Switch-2.2.6) with ESMTP id h3HHh2G01864
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO)
	for <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 18:43:05 +0100
Message-ID: <3E9EE7A9.7000506@micromuse.com>
Date: Thu, 17 Apr 2003 10:43:05 -0700
From: David Spencer <David.Spencer@micromuse.com>
Organization: Micromuse
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: I need a list of the indexed words
References: <20030416043352.24189.qmail@web12707.mail.yahoo.com>
In-Reply-To: <20030416043352.24189.qmail@web12707.mail.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------000100080904060001080602"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------000100080904060001080602
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Otis Gospodnetic wrote:

>That's a very handy class, David.  
>
thanks

>Perhaps I should stick it in
>lucene-sandbox somewhere.
>
I have a handful of related utilities.
I'll try to post them as one group though it'll probably take a week to 
get this
out the door.

They all take an index and then dump out the 
terms/fields/docs/termdocs/termpositions
or whatnot.

>
>It depends on your Rammer class,
>
sorry, meant to sanitize it

> but for those interested in using
>this, all you need to do is pass 'name' variable to IndexReader instead
>of wrapping it in that Rammer call.
>
>Thanks,
>Otis
>
>--- David Spencer <David.Spencer@micromuse.com> wrote:
>  
>
>>jcrowell wrote:
>>
>>    
>>
>>>Thanks for responding.  Are you referring to the solution under the
>>>      
>>>
>>title:
>>    
>>
>>>"How do I retrieve all the values of a particular field that exists
>>>      
>>>
>>within
>>    
>>
>>>an index, across all documents" ?
>>>
>>>      
>>>
>>Here's some code that might do what you want.
>>It's shows the frequency of each term also.
>>Args are "-i INDEX" and optional "-f FIELD".
>>I haven't tested it outside my tree (to see if it's clean of 
>>dependencies) but
>>it looks reasonable at a glance.
>>
>>
>>
>>
>>
>>package com.tropo.lucene;
>>
>>import org.apache.lucene.analysis.*;
>>import org.apache.lucene.index.*;
>>import org.apache.lucene.document.*;
>>
>>import java.io.*;
>>import java.util.*;
>>
>>/**
>> * Call IndexReader.terms(), termPositions().
>> */
>>public class DumpTerms
>>{
>>    private DumpTerms()
>>    {
>>    }
>>   
>>    /**
>>     *
>>     */
>>    public static void main(String[] args)
>>        throws Throwable
>>    {
>>        String name = "index";
>>        String field = null;
>>       
>>        for ( int i = 0; i< args.length; i++)
>>        {
>>            if ( args[i].equals( "-i"))
>>                name = args[ ++i];
>>            else if ( args[i].equals( "-f"))
>>                field = args[ ++i];
>>        /*
>>
>>            else if ( args[i].equals( "-v"))
>>                v = args[ ++i];
>>        */
>>        }
>>        o.println( "Opening "+ name);
>>        final IndexReader r = IndexReader.open( Rammer.convertMaybe(
>>name));
>>        final TermEnum te = r.terms();
>>        final Set s =new TreeSet();
>>        final List lis = new LinkedList();
>>        final int docs = r.numDocs();
>>        o.println( "Docs: " + docs);
>>        while ( te.next())
>>        {
>>            Term t = te.term();
>>            if ( field != null && ! field.equals( t.field()))
>>continue;
>>            s.add( t.field());
>>            /*
>>            o.println( "field=" +t.field() +
>>                       " text="  + t.text() +
>>                       " freq="+ te.docFreq());
>>            */
>>            lis.add( new Object[] { t, new Integer( te.docFreq())});
>>            /*
>>            TermPositions tp = r.termPositions( t);
>>            while ( tp.next())
>>            {
>>                int f = tp.freq();               
>>                o.println( "\t" + "doc=" + tp.doc() +  " freq=" +f);
>>                for ( int i = 0; i < f; i++)
>>                    o.println( "\t\tnextp=" + tp.nextPosition());
>>            }
>>            tp.close();
>>            */
>>        }
>>        o.println( "Terms: " + lis.size());
>>        Collections.sort( lis, new ICmp());
>>        Iterator it = lis.iterator();
>>        int[] lens = new int[ 30];
>>        while ( it.hasNext())
>>        {
>>            Object[] ar = (Object[]) it.next();
>>            Term t = (Term) ar[0];
>>            int freq = ((Integer)ar[1]).intValue();
>>            int len = t.text().length();
>>            if ( len >= lens.length)
>>                lens[ lens.length-1]++;
>>            else
>>                lens[ len]++;
>>            o.print( fill( t.text(), 16)  + " " + fill( "" + freq,
>>6));
>>            int pc = (freq * 100); pc += (docs/2); pc /= docs;
>>            o.print( " " +pc + "%");
>>            if ( ! t.field().equals( "contents"))
>>                o.println( " " + t.field());
>>            else
>>                o.println();
>>        }
>>        o.println();
>>
>>        int tot_terms = lis.size();
>>        for ( int i = 0; i< lens.length; i++)
>>        {
>>            int pc = lens[ i] * 100; pc += tot_terms/2; pc /=
>>tot_terms;
>>            o.println( "" + i + ". " + lens[ i] + " " + pc + "%");
>>        }
>>
>>        r.close();
>>        /*
>>        o.println();
>>        Iterator it = s.iterator();
>>        while ( it.hasNext())
>>            o.println( it.next());
>>        */
>>    }
>>    /**
>>     *
>>     */
>>    private static String fill( String s, int w)
>>    {
>>        int len = s.length();       
>>        for ( int i = len; i < w; i++)
>>            s += " ";
>>        return s;
>>    }
>>
>>    private static class ICmp
>>        implements Comparator
>>    {
>>        public int compare( Object a, Object b)
>>        {
>>            Object[] a1 = (Object[]) a;
>>            Object[] b1 = (Object[]) b;
>>            int d1 = ((Integer)a1[1]).intValue();
>>            int d2 = ((Integer)b1[1]).intValue();
>>            if ( d1 < d2) return 1;
>>            if ( d1 > d2) return -1;
>>            return 0;
>>        }
>>    }
>>
>>
>>    static PrintStream o = System.out;
>>
>>
>>}
>>
>>
>>    
>>
>>>Thanks,
>>>
>>>Jon
>>>
>>>
>>>
>>>-----Original Message-----
>>>From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
>>>Sent: Monday, March 31, 2003 3:02 PM
>>>To: Lucene Users List
>>>Subject: Re: I need a list of the indexed words
>>>
>>>
>>>Please see the FAQ at jGuru, the answer is there.
>>>
>>>Otis
>>>
>>>--- jcrowell <jcrowell@dsg.harvard.edu> wrote:
>>> 
>>>
>>>      
>>>
>>>>I have a very simple problem: I need to get a list of the words
>>>>        
>>>>
>>that 
>>    
>>
>>>>will result in a hit if searched on.  Should be simple, but I'm not
>>>>        
>>>>
>>>>quite sure
>>>>where to start.
>>>>
>>>>Thanks,
>>>>
>>>>Jon
>>>>
>>>>
>>>>        
>>>>
>>>---------------------------------------------------------------------
>>>      
>>>
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail:
>>>>        
>>>>
>>lucene-user-help@jakarta.apache.org
>>    
>>
>>>>   
>>>>
>>>>        
>>>>
>>>__________________________________________________
>>>Do you Yahoo!?
>>>Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your
>>>      
>>>
>>desktop!
>>    
>>
>>>http://platinum.yahoo.com
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>> 
>>>
>>>      
>>>
>>    
>>
>
>
>__________________________________________________
>Do you Yahoo!?
>The New Yahoo! Search - Faster. Easier. Bingo
>http://search.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


--------------000100080904060001080602--


From MAILER-DAEMON Thu Apr 17 18:27:40 2003
Return-Path: 
 <lucene-user-return-4258-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3999 invoked from network); 17 Apr 2003 18:27:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:27:40 -0000
Received: (qmail 27055 invoked by uid 97); 17 Apr 2003 18:29:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27048 invoked from network); 17 Apr 2003 18:29:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 18:29:37 -0000
Received: (qmail 2377 invoked by uid 500); 17 Apr 2003 18:27:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2334 invoked from network); 17 Apr 2003 18:27:21 -0000
Received: from fulldegree.com (192.220.91.253)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:27:21 -0000
Received: from fddell8000 (adsl-64-169-189-2.dsl.snfc21.pacbell.net
 [64.169.189.2]) by fulldegree.com (8.12.9) id h3HIRPtB090930 for
 <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 12:27:25 -0600 (MDT)
From: "Lixin Meng" <lixin@fulldegree.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: usage of prohibit operator '-'
Date: Thu, 17 Apr 2003 11:22:04 -0700
Message-ID: <GCECJJGGHMPDKKNIJCNOEEGGCAAA.lixin@fulldegree.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3E9EE7A9.7000506@micromuse.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am having some problems with the probhibit operator '-'. If anyone can
shed some light on it, I certainly appreciate it.

In the index, I have a field with field name 'ID'. It tried query like:

	ID:(+ID10)
or
	ID:(+"ID10")

It will returns some hits.

However, if I try

	ID:(-ID10)
or
	ID:(-"ID10")

I got an empty result set, which should have some records.

Any idea how to use this prohibit operator?

Regards,
Lixin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 18:35:08 2003
Return-Path: 
 <lucene-user-return-4259-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19984 invoked from network); 17 Apr 2003 18:35:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:35:08 -0000
Received: (qmail 27285 invoked by uid 97); 17 Apr 2003 18:37:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27278 invoked from network); 17 Apr 2003 18:37:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 18:37:06 -0000
Received: (qmail 19712 invoked by uid 500); 17 Apr 2003 18:35:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19701 invoked from network); 17 Apr 2003 18:35:06 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com)
 (216.37.32.2)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:35:06 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by
 darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2650.21)
	id 2R0A8QHD; Thu, 17 Apr 2003 13:36:52 -0500
Message-ID: <3E9EF3D9.10908@etapestry.com>
Date: Thu, 17 Apr 2003 13:35:05 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: usage of prohibit operator '-'
References: <GCECJJGGHMPDKKNIJCNOEEGGCAAA.lixin@fulldegree.com>
In-Reply-To: <GCECJJGGHMPDKKNIJCNOEEGGCAAA.lixin@fulldegree.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene only searches for positive results, not negative.  If you think 
of the "-" operator as a subtraction, then you'll understand that Lucene 
requires that you also select something to subtract from.

Scott

Lixin Meng wrote:

>I am having some problems with the probhibit operator '-'. If anyone can
>shed some light on it, I certainly appreciate it.
>
>In the index, I have a field with field name 'ID'. It tried query like:
>
>	ID:(+ID10)
>or
>	ID:(+"ID10")
>
>It will returns some hits.
>
>However, if I try
>
>	ID:(-ID10)
>or
>	ID:(-"ID10")
>
>I got an empty result set, which should have some records.
>
>Any idea how to use this prohibit operator?
>
>Regards,
>Lixin
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

-- 
"They who can give up essential liberty to obtain a little temporary safety deserve neither liberty nor safety." - Benjamin Franklin



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 18:45:11 2003
Return-Path: 
 <lucene-user-return-4260-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46594 invoked from network); 17 Apr 2003 18:45:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:45:11 -0000
Received: (qmail 27590 invoked by uid 97); 17 Apr 2003 18:47:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27583 invoked from network); 17 Apr 2003 18:47:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 18:47:09 -0000
Received: (qmail 46298 invoked by uid 500); 17 Apr 2003 18:45:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46276 invoked from network); 17 Apr 2003 18:45:08 -0000
Received: from fulldegree.com (192.220.91.253)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:45:08 -0000
Received: from fddell8000 (adsl-64-169-189-2.dsl.snfc21.pacbell.net
 [64.169.189.2]) by fulldegree.com (8.12.9) id h3HIjDRA094455 for
 <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 12:45:13 -0600 (MDT)
From: "Lixin Meng" <lixin@fulldegree.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: usage of prohibit operator '-'
Date: Thu, 17 Apr 2003 11:39:52 -0700
Message-ID: <GCECJJGGHMPDKKNIJCNOMEGGCAAA.lixin@fulldegree.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3E9EF3D9.10908@etapestry.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks. That helps.

Lixin

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@etapestry.com]
Sent: Thursday, April 17, 2003 11:35 AM
To: Lucene Users List
Subject: Re: usage of prohibit operator '-'


Lucene only searches for positive results, not negative.  If you think
of the "-" operator as a subtraction, then you'll understand that Lucene
requires that you also select something to subtract from.

Scott

Lixin Meng wrote:

>I am having some problems with the probhibit operator '-'. If anyone can
>shed some light on it, I certainly appreciate it.
>
>In the index, I have a field with field name 'ID'. It tried query like:
>
>	ID:(+ID10)
>or
>	ID:(+"ID10")
>
>It will returns some hits.
>
>However, if I try
>
>	ID:(-ID10)
>or
>	ID:(-"ID10")
>
>I got an empty result set, which should have some records.
>
>Any idea how to use this prohibit operator?
>
>Regards,
>Lixin
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

--
"They who can give up essential liberty to obtain a little temporary safety
deserve neither liberty nor safety." - Benjamin Franklin



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 17 18:55:37 2003
Return-Path: 
 <lucene-user-return-4261-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83139 invoked from network); 17 Apr 2003 18:55:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:55:37 -0000
Received: (qmail 27892 invoked by uid 97); 17 Apr 2003 18:57:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27885 invoked from network); 17 Apr 2003 18:57:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 Apr 2003 18:57:35 -0000
Received: (qmail 81636 invoked by uid 500); 17 Apr 2003 18:55:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81587 invoked from network); 17 Apr 2003 18:55:19 -0000
Received: from mailgw1.fraunhofer.de (153.96.1.62)
  by daedalus.apache.org with SMTP; 17 Apr 2003 18:55:19 -0000
Received: from mailgw1.fraunhofer.de (localhost [127.0.0.1])
	by mailgw1.fraunhofer.de (8.12.9/8.12.9) with ESMTP id h3HItLEL002119
	for <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 20:55:21 +0200 (MEST)
Received: from heinrichschiff.igd.fhg.de (host6924.igd.fhg.de [146.140.28.12]
 (may be forged))
	by mailgw1.fraunhofer.de (8.12.9/8.12.9) with ESMTP id h3HItKfe002116
	for <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 20:55:21 +0200 (MEST)
Received: from pcara (PCARA-ds.igd.fhg.de [146.140.9.73])
	by heinrichschiff.igd.fhg.de (8.9.3+Sun/8.9.3) with SMTP id UAA29052
	for <lucene-user@jakarta.apache.org>; Thu, 17 Apr 2003 20:48:37 +0200 (MEST)
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Reading out term frequencies document-wise.
Date: Thu, 17 Apr 2003 20:55:15 +0200
Message-ID: <004901c30512$e2d5f9d0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <20030416164310.38647.qmail@web12707.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all,

after creating a Lucene index, for some applications it's useful to access
term frequencies.

Is there any solution to read out term frequencies in an efficient way,
something like a IndexReader.docTerms(int docId)? This completely subverts
the reverse-index paradigm but is useful, for instance to create a
term-document matrix in sparse format (Harwell Boeing, say).

A more general question. Is there any current activity to create term-vector
support for Lucene? Maybe it's possible to do a joint activity.

Thanks,

gregor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 18 05:34:40 2003
Return-Path: 
 <lucene-user-return-4262-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38365 invoked from network); 18 Apr 2003 05:34:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Apr 2003 05:34:40 -0000
Received: (qmail 7959 invoked by uid 97); 18 Apr 2003 05:36:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7952 invoked from network); 18 Apr 2003 05:36:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Apr 2003 05:36:44 -0000
Received: (qmail 38092 invoked by uid 500); 18 Apr 2003 05:34:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38081 invoked from network); 18 Apr 2003 05:34:36 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 18 Apr 2003 05:34:36 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h3IB3r326678
	for <lucene-user@jakarta.apache.org>; Fri, 18 Apr 2003 16:33:53 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h3I5qopv018467
	for <lucene-user@jakarta.apache.org>; Fri, 18 Apr 2003 11:22:54 +0530
Message-ID: <004101c3056c$6b2c5460$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Index Reader and Writer
Date: Fri, 18 Apr 2003 11:06:07 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003E_01C3059A.82B83A80"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003E_01C3059A.82B83A80
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

  Hello all,
   My project is socket based application.Whenever I receive a request, =
i have to index the document send by the client using
   lucene.

  Algorithm=20
   1.create Index reader object
   2.delete the document if it is already indexed.
   3. close the  Index reader=20
   4. create Index writer object
   5. Add a document to writer object
   6. Optimise the index
   7.close the writer object

 I have to index around 1 lakh document.
 Here Im creating Reader and Writer object for every request.
=20
 Whether If I create only one Reader and Writer Object and make it as =
static then the performance will increase??
 Whether the Index reader and writer object has any influence with the =
performance?? =20
=20
regards
ganesh



 =20

------=_NextPart_000_003E_01C3059A.82B83A80--


From MAILER-DAEMON Fri Apr 18 05:58:06 2003
Return-Path: 
 <lucene-user-return-4263-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55733 invoked from network); 18 Apr 2003 05:58:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Apr 2003 05:58:06 -0000
Received: (qmail 8504 invoked by uid 97); 18 Apr 2003 06:00:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8497 invoked from network); 18 Apr 2003 06:00:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Apr 2003 06:00:10 -0000
Received: (qmail 55455 invoked by uid 500); 18 Apr 2003 05:58:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55442 invoked from network); 18 Apr 2003 05:58:02 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 18 Apr 2003 05:58:02 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h3IBRP328115
	for <lucene-user@jakarta.apache.org>; Fri, 18 Apr 2003 16:57:25 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h3I6GQpv020033
	for <lucene-user@jakarta.apache.org>; Fri, 18 Apr 2003 11:46:26 +0530
Message-ID: <008401c3056f$b4ad7080$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Index Reader and Writer
Date: Fri, 18 Apr 2003 11:29:42 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0081_01C3059D.CE0D0530"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0081_01C3059D.CE0D0530
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all,
   My project is socket based application.Whenever I receive a request, =
i have to index the document send by the client using
   lucene.

  Algorithm=20
   1.create Index reader object
   2.delete the document if it is already indexed.
   3. close the  Index reader=20
   4. create Index writer object
   5. Add a document to writer object
   6. Optimise the index
   7.close the writer object

 I have to index around 1 lakh (100,000) document.
 Here Im creating Reader and Writer object for every request.

 Whether If I create only one Reader and Writer Object and make it as =
static then the performance will increase??
 Whether the Index reader and writer object has any influence with the =
performance?? =20

regards
ganesh



 =20

------=_NextPart_000_0081_01C3059D.CE0D0530--


From MAILER-DAEMON Fri Apr 18 13:49:44 2003
Return-Path: 
 <lucene-user-return-4264-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23222 invoked from network); 18 Apr 2003 13:49:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Apr 2003 13:49:44 -0000
Received: (qmail 17399 invoked by uid 97); 18 Apr 2003 13:51:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17392 invoked from network); 18 Apr 2003 13:51:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Apr 2003 13:51:40 -0000
Received: (qmail 22936 invoked by uid 500); 18 Apr 2003 13:49:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22924 invoked from network); 18 Apr 2003 13:49:40 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 18 Apr 2003 13:49:40 -0000
Message-ID: <20030418134942.78098.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Fri, 18 Apr 2003 06:49:42 PDT
Date: Fri, 18 Apr 2003 06:49:42 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Index Reader and Writer
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <008401c3056f$b4ad7080$b905a8c0@intel>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can make a reference static, but you will have to create new
instances on IndexReader/Writer.
I doubt making them static has any influence on performance, esp. if
your application involves communication via sockets.

Otis


--- mganesh <mganesh@newgen.co.in> wrote:
> Hello all,
>    My project is socket based application.Whenever I receive a
> request, i have to index the document send by the client using
>    lucene.
> 
>   Algorithm 
>    1.create Index reader object
>    2.delete the document if it is already indexed.
>    3. close the  Index reader 
>    4. create Index writer object
>    5. Add a document to writer object
>    6. Optimise the index
>    7.close the writer object
> 
>  I have to index around 1 lakh (100,000) document.
>  Here Im creating Reader and Writer object for every request.
> 
>  Whether If I create only one Reader and Writer Object and make it as
> static then the performance will increase??
>  Whether the Index reader and writer object has any influence with
> the performance??  
> 
> regards
> ganesh
> 
> 
> 
>   
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Apr 18 15:07:50 2003
Return-Path: 
 <lucene-user-return-4265-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75295 invoked from network); 18 Apr 2003 15:07:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 Apr 2003 15:07:50 -0000
Received: (qmail 20246 invoked by uid 97); 18 Apr 2003 15:09:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20239 invoked from network); 18 Apr 2003 15:09:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 Apr 2003 15:09:48 -0000
Received: (qmail 74996 invoked by uid 500); 18 Apr 2003 15:07:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74983 invoked from network); 18 Apr 2003 15:07:47 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 18 Apr 2003 15:07:47 -0000
Received: from Hercules (249-127.customer.cloud9.net [168.100.249.127])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h3IF7nV22823
	for <lucene-user@jakarta.apache.org>; Fri, 18 Apr 2003 08:07:49 -0700
From: "James Berrettini" <jim@jivesoftware.com>
To: "Lucene User listserv" <lucene-user@jakarta.apache.org>
Subject: how to tell what field(s) contain hits
Date: Fri, 18 Apr 2003 11:07:50 -0400
Organization: Jive Software, Inc.
Message-ID: <001701c305bc$483d18e0$7001a8c0@Hercules>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've got a collection of documents which include an index field representing
attached documents. I can search over these just fine, but when retrieving
hits, I don't have any way of knowing whether the hit occurred in the main
document or the attachment. Is there any way of determining which field a
hit occurs in? (I don't store the full text in the index, and I'm trying to
avoid that if possible).

James Berrettini, Professional Services
Jive Software
jim@jivesoftware.com
212 629 6648



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 20 17:54:40 2003
Return-Path: 
 <lucene-user-return-4266-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33985 invoked from network); 20 Apr 2003 17:54:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Apr 2003 17:54:40 -0000
Received: (qmail 27126 invoked by uid 97); 20 Apr 2003 17:56:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27119 invoked from network); 20 Apr 2003 17:56:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 Apr 2003 17:56:39 -0000
Received: (qmail 33627 invoked by uid 500); 20 Apr 2003 17:54:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33616 invoked from network); 20 Apr 2003 17:54:37 -0000
Received: from inswsod01.gs.com (207.17.37.10)
  by daedalus.apache.org with SMTP; 20 Apr 2003 17:54:37 -0000
Received: from insvs8502.inz.gs.com (unknown [204.4.188.79])
	by inswsod01.gs.com (Postfix) with ESMTP id 6A5E11BE5A
	for <lucene-user@jakarta.apache.org>; Sun, 20 Apr 2003 13:54:41 -0400 (EDT)
Received: from gsnmp02es.ny.fw.gs.com by insvs8502.inz.gs.com with ESMTP for
 lucene-user@jakarta.apache.org; Sun, 20 Apr 2003 13:54:41 -0400
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <2D50VXRN>; Sun, 20 Apr 2003 13:54:51 -0400
Message-Id: <79542328270D5F4BB8E29BED159D783B03264827@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader In a MultiThreaded Env
Date: Sun, 20 Apr 2003 13:54:43 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


This should do it, I think:

	//check and build index here
	synchronized (INDEX_LOCK) {
		if (indexReader.indexExists(indexDir)) {
			//build index here
		}
	}
	
	//somewhere
	public static Object INDEX_LOCK = new Object();

Actually, I have used a different method altogether for my index. There is
only one
thread that updates the index (and can create it). And there is a stateless
watchdog
thread which restarts the indexing thread should it die for any reason
whatever.


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Wednesday, April 16, 2003 4:22 PM
To: Lucene Users List
Subject: IndexReader In a MultiThreaded Env


Hi all,

	I think I tracked down what was a nasty bug.  I have 2 threads, my
program
works in the following way, the first time a user tries to access the index,
if an index does not exists then one is built, otherwise if one is there it
simply uses it.

	Thread 1 comes along and he tries to query, no index exists
(ndexReader.indexExists(File directory) method) so one is now being built.

	Thread 2 comes along he checks if an index exists via the
IndexReader.indexExists(File directory) method <-- it returns true since all
the method does is File.exists().  Since thread one caused an index to be
built Thread 2 thinks that it is a usable index and tries to run queries and
modify the index -- all of which fail because the index is still being
built.

	Is there any method that checks more than if the index directory
simply
exists?  Is there way to make sure the index is valid before using it?

	Let me know.

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 03:12:28 2003
Return-Path: 
 <lucene-user-return-4267-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65541 invoked from network); 21 Apr 2003 03:12:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 03:12:28 -0000
Received: (qmail 2760 invoked by uid 97); 21 Apr 2003 03:14:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2753 invoked from network); 21 Apr 2003 03:14:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 03:14:33 -0000
Received: (qmail 65256 invoked by uid 500); 21 Apr 2003 03:12:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65244 invoked from network); 21 Apr 2003 03:12:24 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 21 Apr 2003 03:12:24 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 006EFFF
	for <lucene-user@jakarta.apache.org>; Sun, 20 Apr 2003 23:12:27 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 91E951249; Sun, 20 Apr 2003 23:12:26 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 63A7510B2
	for <lucene-user@jakarta.apache.org>; Sun, 20 Apr 2003 23:12:26 -0400 (EDT)
Date: Sun, 20 Apr 2003 23:12:26 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: lucene-user@jakarta.apache.org
Subject: [ANN]PDFBox-0.6.2
Message-ID: <Pine.GSO.4.53.0304202305140.18980@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I am proud to announce the latest version of PDFBox.  This version comes
with some exciting changes to the project.  Bob Dickinson joins PDFBox the
development team and brings 20 years of programming expertise to this
project.  Bob is responsible for all changes in the 0.6.2 release.

PDFBox has also been moved to sourceforge which offers many features that
people have been requesting such as bug tracking and mailing lists.

Version 0.6.2 has fixed many issues with text extraction and it is
recommended that all Lucene users that use PDFBox upgrade to this latest
version.

PDFBox homepage
http://www.pdfbox.org

PDFBox Sourceforge site
http://www.sourceforge.net/projects/pdfbox

PDFBox-0.6.2 release notes
-Modified build so that build.properties settings are no longer required
-Added required libraries to CVS
-Added log4j logging
-Significant text extraction work
-Added automatic handling of files encrypted with the empty password
-Added automated tests and test data for text extraction
-Removed unimplemented decoders from filters test
-Fixed several LZW decode bugs introduced after 0.5.6
-Fixed bugs relating to processing out of spec PDF's with bad # escaping
in
    the name ("java.io.IOException: Error: expected hex number" bug)
-Fixed Lucene UID generation bug
-Fixed GetFontWidths null pointer exception bug


Peace,
Ben


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 13:30:12 2003
Return-Path: 
 <lucene-user-return-4268-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61660 invoked from network); 21 Apr 2003 13:30:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 13:30:12 -0000
Received: (qmail 12273 invoked by uid 97); 21 Apr 2003 13:32:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12266 invoked from network); 21 Apr 2003 13:32:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 13:32:08 -0000
Received: (qmail 61385 invoked by uid 500); 21 Apr 2003 13:30:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61371 invoked from network); 21 Apr 2003 13:30:09 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 21 Apr 2003 13:30:09 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 0CDA4367D2; Mon, 21 Apr 2003 13:28:48 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id B6988367CF
	for <lucene-user@jakarta.apache.org>; Mon, 21 Apr 2003 13:28:47 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Thread question
Date: Mon, 21 Apr 2003 09:30:10 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDKENLCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <Pine.GSO.4.53.0304202305140.18980@fury.csh.rit.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


	This is more of a Java language question but it does involve Lucene as
well.  I have a 3 tier index structure.  I have a RepositoryFile class which
extends java.io.File, folks create those at the directory in which they
would like to search.  Then there is a RepositorySearcher class (one
instance for each repository) which is the class RepositoryFile calls to do
the querying.  For manipulating the index there is an Index Manger class
that adds and removes stuff from the index.  The problem I am encountering
is threads are trying to write/delete from the index when another thread is
doing the same.  The methods in the middle tier which calls the Index
Manager tier are all synchronized yet I am getting requests for concurrent
write/delete operations.  I am getting several IOExceptions saying the index
is locked for wiring (the write.lock IOExceptions Lucene throws).  I figured
by synchronizing the methods in the RepositorySearcher class (which calls
Index Manager class to modify the index) it would make the program thread
safe.  I am new to whole multithreading environment, am I doing something
wrong here?

	Also, I assume it is ok to query the index while a write/delete is
occurring?

	Let me know.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 14:17:58 2003
Return-Path: 
 <lucene-user-return-4269-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23459 invoked from network); 21 Apr 2003 14:17:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 14:17:58 -0000
Received: (qmail 13271 invoked by uid 97); 21 Apr 2003 14:19:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13264 invoked from network); 21 Apr 2003 14:19:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 14:19:55 -0000
Received: (qmail 23178 invoked by uid 500); 21 Apr 2003 14:17:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23166 invoked from network); 21 Apr 2003 14:17:55 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net)
 (216.241.36.13)
  by daedalus.apache.org with SMTP; 21 Apr 2003 14:17:55 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 197c7J-0006BU-Sr
	for lucene-user@jakarta.apache.org; Mon, 21 Apr 2003 08:17:58 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Thread question
Date: Mon, 21 Apr 2003 08:21:11 -0600
User-Agent: KMail/1.4.3
References: <MNEPJJAGGPICDNOCBIKDKENLCIAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKENLCIAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304210821.11543.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday 21 April 2003 07:30, Rob Outar wrote:
...
> they would like to search.  Then there is a RepositorySearcher class (one
> instance for each repository) which is the class RepositoryFile calls to do
  ^^^^^^^^^^^^^^^^^^^^^^^^^

...
> doing the same.  The methods in the middle tier which calls the Index
> Manager tier are all synchronized yet I am getting requests for concurrent
> write/delete operations.  I am getting several IOExceptions saying the
> index is locked for wiring (the write.lock IOExceptions Lucene throws).  I
> figured by synchronizing the methods in
> the RepositorySearcher class
          ^^^^^^^^^^^^^^^^^^^^^^^                                                                               

> calls Index Manager class to modify the index) it would make the program
> thread safe.  I am new to whole multithreading environment, am I doing
> something wrong here?

Apologies if I misunderstood the scenario, but if not, synchronizing there 
wouldn't give you the critical section. Each of RepositorySearchers would 
have its own lock (one lock per object). Unless you make method(s) static, in 
which case there's a single lock per class (alternatively you could just use 
static member there, and sync on that, not use default synchronized keyword 
or synchronized (this)).
Synchronized keyword is equivalent to having 'synchronized (this) {' contain
all code in the method.
What you need is a central lock; either create a lock object (any Object does 
fine) and share it with RepositySearchers, or use a static Object to lock on.

> 	Also, I assume it is ok to query the index while a write/delete is
> occurring?

Not sure but I wouldn't count on that being true? For it to be true, whole 
contents of the index would have to be kept in memory (to have unmodified 
copy at all times)? Or file system would need to have atomic update sets (ie. 
this could be done if index was in DB).
Or alternatively, Lucene core would need to prevent read access while write is 
going on, without throwing an exception?
I'm sure someone else can give a definite answer though.

In system I'm working on I actually duplicate an existing index each time an 
update is needed, so existing read access (queries) use the old index up 
until new one is ready to be used. When all old read access threads are done 
using old index it can be deleted; new accesses go straight to newest index.
This is not the most efficient way to do it I'm sure, but it works reliably 
and (from query perspective) gives lowest latency. This because write access 
does not block reads, and system is multi-CPU machine and (hopefully) can 
parallelize read/write threads properly to multiple CPUs.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 20:53:39 2003
Return-Path: 
 <lucene-user-return-4270-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14882 invoked from network); 21 Apr 2003 20:53:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 20:53:39 -0000
Received: (qmail 25189 invoked by uid 97); 21 Apr 2003 20:55:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25182 invoked from network); 21 Apr 2003 20:55:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 20:55:40 -0000
Received: (qmail 14330 invoked by uid 500); 21 Apr 2003 20:53:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14273 invoked from network); 21 Apr 2003 20:53:33 -0000
Received: from rj.sgi.com (192.82.208.96)
  by daedalus.apache.org with SMTP; 21 Apr 2003 20:53:33 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by rj.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h3LKrcE0019957
	for <lucene-user@jakarta.apache.org>; Mon, 21 Apr 2003 13:53:39 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id QAA64744 for <lucene-user@jakarta.apache.org>;
 Mon, 21 Apr 2003 16:56:07 -0400 (EDT)
Message-ID: <3EA45AE9.40506@aw.sgi.com>
Date: Mon, 21 Apr 2003 16:56:09 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Bigram search (help!)
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

Well, I got around my previous problem by switching to a different HTML 
parser.

Now I have an even more subtle and frustrating problem! :(

I'm using Che Dong's CJKTokenizer/CJKAnalyzer to do bigram tokenizing of 
Japanese text, with an unpatched Lucene 1.3RC1.

The tokenizer is working, here's the debug output of the tokens as they 
go by (using a WinDVD help file as a test):

\u30ba\u30fc
\u30fc\u30e0
windvd
\u3067\u306f
\u4efb\u610f
\u610f\u306e
\u306e\u9078

The terms are showing up properly in the index (dumping the terms from 
the index shows the character pairs are there).

When I create a query with search string \u30ba\u30fc\u30e0 I get 
something reasonable:

contents:"\u30ba\u30fc \u30fc\u30e0 "
(class org.apache.lucene.search.PhraseQuery)

So far so good, *BUT*, searching for this query gives no results! As you 
can see from the token stream above, this query SHOULD work, but it doesn't.

I'm at a loss. Can anyone think of what might be going wrong?


-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 21:32:11 2003
Return-Path: 
 <lucene-user-return-4271-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7075 invoked from network); 21 Apr 2003 21:32:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 21:32:11 -0000
Received: (qmail 26436 invoked by uid 97); 21 Apr 2003 21:34:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26429 invoked from network); 21 Apr 2003 21:34:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 21:34:12 -0000
Received: (qmail 6807 invoked by uid 500); 21 Apr 2003 21:32:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6789 invoked from network); 21 Apr 2003 21:32:08 -0000
Received: from rj.sgi.com (192.82.208.96)
  by daedalus.apache.org with SMTP; 21 Apr 2003 21:32:08 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by rj.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h3LLWEE0023372
	for <lucene-user@jakarta.apache.org>; Mon, 21 Apr 2003 14:32:14 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id RAA61419 for <lucene-user@jakarta.apache.org>;
 Mon, 21 Apr 2003 17:34:42 -0400 (EDT)
Message-ID: <3EA463F4.2080806@aw.sgi.com>
Date: Mon, 21 Apr 2003 17:34:44 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bigram search (help!)
References: <3EA45AE9.40506@aw.sgi.com>
In-Reply-To: <3EA45AE9.40506@aw.sgi.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I forgot to mention a couple of things that might help narrow down the 
problem:

Searching for two characters (ie a bigram pair term that is known to be 
in the index) returns 0 results also.

Searching for a single character (ie a single Japanese character term 
that is known to be in the index) *DOES* find results.

Very strange.

Thanks,

Matt

-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 21 22:56:13 2003
Return-Path: 
 <lucene-user-return-4272-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28143 invoked from network); 21 Apr 2003 22:56:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Apr 2003 22:56:13 -0000
Received: (qmail 27727 invoked by uid 97); 21 Apr 2003 22:58:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27720 invoked from network); 21 Apr 2003 22:58:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 Apr 2003 22:58:16 -0000
Received: (qmail 27870 invoked by uid 500); 21 Apr 2003 22:56:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27859 invoked from network); 21 Apr 2003 22:56:10 -0000
Received: from rj.sgi.com (192.82.208.96)
  by daedalus.apache.org with SMTP; 21 Apr 2003 22:56:10 -0000
Received: from mailsrv6.tor.aw.sgi.com (mailsrv6.tor.aw.sgi.com [192.75.91.6])
	by rj.sgi.com (8.12.9/8.12.2/linux-outbound_gateway-1.2) with ESMTP id
 h3LMuHE0031284
	for <lucene-user@jakarta.apache.org>; Mon, 21 Apr 2003 15:56:18 -0700
Received: from aw.sgi.com by mailsrv6.tor.aw.sgi.com (SGI-8.9.3/8.6.9) with
 ESMTP id SAA66288 for <lucene-user@jakarta.apache.org>;
 Mon, 21 Apr 2003 18:58:43 -0400 (EDT)
Message-ID: <3EA477A5.2010509@aw.sgi.com>
Date: Mon, 21 Apr 2003 18:58:45 -0400
From: mchaput <mchaput@aw.sgi.com>
Organization: Alias|Wavefront
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.3b) Gecko/20030210
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Bigram search fixed
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry to keep spamming the list like this, but I think I figured out the 
problem I posted about earlier today.

The CJKTokenizer was returning an extra, empty token at the end of each 
run. Hence the space at the end of the string representation of the query.

Now, to figure out WHY...

Cheers,

Matt


-- 
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 02:16:21 2003
Return-Path: 
 <lucene-user-return-4273-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82601 invoked from network); 22 Apr 2003 02:16:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 02:16:21 -0000
Received: (qmail 296 invoked by uid 97); 22 Apr 2003 02:18:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 289 invoked from network); 22 Apr 2003 02:18:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 02:18:26 -0000
Received: (qmail 82246 invoked by uid 500); 22 Apr 2003 02:16:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82233 invoked from network); 22 Apr 2003 02:16:17 -0000
Received: from oe15.law8.hotmail.com (HELO hotmail.com) (216.33.240.119)
  by daedalus.apache.org with SMTP; 22 Apr 2003 02:16:17 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 21 Apr 2003 19:16:26 -0700
Received: from 211.99.139.41 by oe15.law8.hotmail.com with DAV;
	Tue, 22 Apr 2003 02:16:25 +0000
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3EA477A5.2010509@aw.sgi.com>
Subject: Re: Bigram search fixed
Date: Tue, 22 Apr 2003 10:16:15 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <OE15iSu5C5JAGZ9XZOF000010c1@hotmail.com>
X-OriginalArrivalTime: 22 Apr 2003 02:16:26.0884 (UTC)
 FILETIME=[2DC8DC40:01C30875]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

SSBtZWV0IHNhbWUgcHJvYmxlbSBiZWZvcmUsIGFuZCBJIGZpeGVkIGJ5IGFkZGVkIGEgZW1wdHkg
dG9rZW4gZmlsZXIgaW4gU3RvcEZpbHRlci4NCg0KQ2hlLCBEb25nDQpodHRwOi8vd3d3LmNoZWRv
bmcuY29tDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAibWNoYXB1dCIg
PG1jaGFwdXRAYXcuc2dpLmNvbT4NClRvOiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNl
ckBqYWthcnRhLmFwYWNoZS5vcmc+DQpTZW50OiBUdWVzZGF5LCBBcHJpbCAyMiwgMjAwMyA2OjU4
IEFNDQpTdWJqZWN0OiBCaWdyYW0gc2VhcmNoIGZpeGVkDQoNCg0KPiBTb3JyeSB0byBrZWVwIHNw
YW1taW5nIHRoZSBsaXN0IGxpa2UgdGhpcywgYnV0IEkgdGhpbmsgSSBmaWd1cmVkIG91dCB0aGUg
DQo+IHByb2JsZW0gSSBwb3N0ZWQgYWJvdXQgZWFybGllciB0b2RheS4NCj4gDQo+IFRoZSBDSktU
b2tlbml6ZXIgd2FzIHJldHVybmluZyBhbiBleHRyYSwgZW1wdHkgdG9rZW4gYXQgdGhlIGVuZCBv
ZiBlYWNoIA0KPiBydW4uIEhlbmNlIHRoZSBzcGFjZSBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcg
cmVwcmVzZW50YXRpb24gb2YgdGhlIHF1ZXJ5Lg0KPiANCj4gTm93LCB0byBmaWd1cmUgb3V0IFdI
WS4uLg0KPiANCj4gQ2hlZXJzLA0KPiANCj4gTWF0dA0KPiANCj4gDQo+IC0tIA0KPiAgICAgICAg
ICAgICAgICAgICAgICAgIHwNCj4gTWF0dCBDaGFwdXQgICAgICAgICAgIHwgICBBIGwgaSBhIHMg
fCBXIGEgdiBlIGYgciBvIG4gdA0KPiBJbmZvcm1hdGlvbiBEZXNpZ25lciAgfCAgIDIxMCBLaW5n
IFN0LiBFLiBUb3JvbnRvLCBPTiwgQ2FuYWRhIE01QSAxSjcNCj4gbWNoYXB1dEBhdy5zZ2kuY29t
ICAgIHwgICAoNDE2KSA4NzQtODI2OA0KPiAgICAgICAgICAgICAgICAgICAgICAgIHwNCj4gIkEg
Z29kZGFtbmVkIHJheSBvZiBzdW5zaGluZSBhbGwgdGhlIGdvZGRhbW5lZCB0aW1lIiAtLVNwYXJr
bGUgSGF5dGVyDQo+IA0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiBGb3IgYWRk
aXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hl
Lm9yZw0KPiANCj4g


From MAILER-DAEMON Tue Apr 22 02:18:31 2003
Return-Path: 
 <lucene-user-return-4274-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84442 invoked from network); 22 Apr 2003 02:18:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 02:18:31 -0000
Received: (qmail 346 invoked by uid 97); 22 Apr 2003 02:20:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 339 invoked from network); 22 Apr 2003 02:20:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 02:20:36 -0000
Received: (qmail 84160 invoked by uid 500); 22 Apr 2003 02:18:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84149 invoked from network); 22 Apr 2003 02:18:28 -0000
Received: from oe23.law8.hotmail.com (HELO hotmail.com) (216.33.240.80)
  by daedalus.apache.org with SMTP; 22 Apr 2003 02:18:28 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 21 Apr 2003 19:18:38 -0700
Received: from 211.99.139.41 by oe23.law8.hotmail.com with DAV;
	Tue, 22 Apr 2003 02:18:37 +0000
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3EA45AE9.40506@aw.sgi.com>
Subject: Re: Bigram search (help!)
Date: Tue, 22 Apr 2003 10:18:29 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <OE23kxxUOka09NmXyYm00001045@hotmail.com>
X-OriginalArrivalTime: 22 Apr 2003 02:18:38.0146 (UTC)
 FILETIME=[7C05DA20:01C30875]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

RG8geW91IHVzZSBzYW1lIGFuYWx5c2VyIHdoaWxlIEluZGV4aW5nIGFuZCBzZWFyY2hpbmc/DQoN
CkNoZSwgRG9uZw0KaHR0cDovL3d3dy5jaGVkb25nLmNvbQ0KDQotLS0tLSBPcmlnaW5hbCBNZXNz
YWdlIC0tLS0tIA0KRnJvbTogIm1jaGFwdXQiIDxtY2hhcHV0QGF3LnNnaS5jb20+DQpUbzogIkx1
Y2VuZSBVc2VycyBMaXN0IiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KU2VudDog
VHVlc2RheSwgQXByaWwgMjIsIDIwMDMgNDo1NiBBTQ0KU3ViamVjdDogQmlncmFtIHNlYXJjaCAo
aGVscCEpDQoNCg0KPiBIaSBhbGwsDQo+IA0KPiBXZWxsLCBJIGdvdCBhcm91bmQgbXkgcHJldmlv
dXMgcHJvYmxlbSBieSBzd2l0Y2hpbmcgdG8gYSBkaWZmZXJlbnQgSFRNTCANCj4gcGFyc2VyLg0K
PiANCj4gTm93IEkgaGF2ZSBhbiBldmVuIG1vcmUgc3VidGxlIGFuZCBmcnVzdHJhdGluZyBwcm9i
bGVtISA6KA0KPiANCj4gSSdtIHVzaW5nIENoZSBEb25nJ3MgQ0pLVG9rZW5pemVyL0NKS0FuYWx5
emVyIHRvIGRvIGJpZ3JhbSB0b2tlbml6aW5nIG9mIA0KPiBKYXBhbmVzZSB0ZXh0LCB3aXRoIGFu
IHVucGF0Y2hlZCBMdWNlbmUgMS4zUkMxLg0KPiANCj4gVGhlIHRva2VuaXplciBpcyB3b3JraW5n
LCBoZXJlJ3MgdGhlIGRlYnVnIG91dHB1dCBvZiB0aGUgdG9rZW5zIGFzIHRoZXkgDQo+IGdvIGJ5
ICh1c2luZyBhIFdpbkRWRCBoZWxwIGZpbGUgYXMgYSB0ZXN0KToNCj4gDQo+IFx1MzBiYVx1MzBm
Yw0KPiBcdTMwZmNcdTMwZTANCj4gd2luZHZkDQo+IFx1MzA2N1x1MzA2Zg0KPiBcdTRlZmJcdTYx
MGYNCj4gXHU2MTBmXHUzMDZlDQo+IFx1MzA2ZVx1OTA3OA0KPiANCj4gVGhlIHRlcm1zIGFyZSBz
aG93aW5nIHVwIHByb3Blcmx5IGluIHRoZSBpbmRleCAoZHVtcGluZyB0aGUgdGVybXMgZnJvbSAN
Cj4gdGhlIGluZGV4IHNob3dzIHRoZSBjaGFyYWN0ZXIgcGFpcnMgYXJlIHRoZXJlKS4NCj4gDQo+
IFdoZW4gSSBjcmVhdGUgYSBxdWVyeSB3aXRoIHNlYXJjaCBzdHJpbmcgXHUzMGJhXHUzMGZjXHUz
MGUwIEkgZ2V0IA0KPiBzb21ldGhpbmcgcmVhc29uYWJsZToNCj4gDQo+IGNvbnRlbnRzOiJcdTMw
YmFcdTMwZmMgXHUzMGZjXHUzMGUwICINCj4gKGNsYXNzIG9yZy5hcGFjaGUubHVjZW5lLnNlYXJj
aC5QaHJhc2VRdWVyeSkNCj4gDQo+IFNvIGZhciBzbyBnb29kLCAqQlVUKiwgc2VhcmNoaW5nIGZv
ciB0aGlzIHF1ZXJ5IGdpdmVzIG5vIHJlc3VsdHMhIEFzIHlvdSANCj4gY2FuIHNlZSBmcm9tIHRo
ZSB0b2tlbiBzdHJlYW0gYWJvdmUsIHRoaXMgcXVlcnkgU0hPVUxEIHdvcmssIGJ1dCBpdCBkb2Vz
bid0Lg0KPiANCj4gSSdtIGF0IGEgbG9zcy4gQ2FuIGFueW9uZSB0aGluayBvZiB3aGF0IG1pZ2h0
IGJlIGdvaW5nIHdyb25nPw0KPiANCj4gDQo+IC0tIA0KPiAgICAgICAgICAgICAgICAgICAgICAg
IHwNCj4gTWF0dCBDaGFwdXQgICAgICAgICAgIHwgICBBIGwgaSBhIHMgfCBXIGEgdiBlIGYgciBv
IG4gdA0KPiBJbmZvcm1hdGlvbiBEZXNpZ25lciAgfCAgIDIxMCBLaW5nIFN0LiBFLiBUb3JvbnRv
LCBPTiwgQ2FuYWRhIE01QSAxSjcNCj4gbWNoYXB1dEBhdy5zZ2kuY29tICAgIHwgICAoNDE2KSA4
NzQtODI2OA0KPiAgICAgICAgICAgICAgICAgICAgICAgIHwNCj4gIkEgZ29kZGFtbmVkIHJheSBv
ZiBzdW5zaGluZSBhbGwgdGhlIGdvZGRhbW5lZCB0aW1lIiAtLVNwYXJrbGUgSGF5dGVyDQo+IA0K
PiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2Vy
LXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5k
cywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KPiANCj4g


From MAILER-DAEMON Tue Apr 22 07:56:57 2003
Return-Path: 
 <lucene-user-return-4275-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94830 invoked from network); 22 Apr 2003 07:56:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 07:56:57 -0000
Received: (qmail 6583 invoked by uid 97); 22 Apr 2003 07:59:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6576 invoked from network); 22 Apr 2003 07:59:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 07:59:05 -0000
Received: (qmail 94572 invoked by uid 500); 22 Apr 2003 07:56:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94556 invoked from network); 22 Apr 2003 07:56:53 -0000
Received: from smtp-out2.iol.cz (194.228.2.87)
  by daedalus.apache.org with SMTP; 22 Apr 2003 07:56:53 -0000
Received: from fw.shark (gprs4235.eurotel.cz [160.218.195.235])
	by smtp-out2.iol.cz (Internet on Line ESMTP server) with ESMTP id ED38036AE5
	for <lucene-user@jakarta.apache.org>; Tue, 22 Apr 2003 09:57:15 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h3M7uTaQ003351
	for <lucene-user@jakarta.apache.org>; Tue, 22 Apr 2003 09:56:33 +0200
Message-ID: <3EA4F6C6.2010407@seznam.cz>
Date: Tue, 22 Apr 2003 10:01:10 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: High Capacity (Distributed) Crawler
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.

I would like to write $SUBJ (HCDC), because LARM does not offer many 
options which are required by web/http crawling IMHO. Here is my list:

1. I would like to manage the decision what will be gathered first - 
this would be based on pageRank, number of errors, connection speed etc. 
etc.
2. pure JAVA solution without any DBMS/JDBC
3. better configuration in case of an error
4. NIO style as it is suggested by LARM specification
5. egothor's filters for automatic processing of various data formats
6. management of "Expires" HTTP-meta headers, heuristic rules which will 
describe how fast a page can expire (.php often expires faster than .html)
7. reindexing without any data exports from a full-text index
8. open protocol between the crawler and a full-text engine

If anyone wants to join (or just extend the wish list), let me know, please.

-g-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 07:59:59 2003
Return-Path: 
 <lucene-user-return-4276-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 331 invoked from network); 22 Apr 2003 07:59:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 07:59:59 -0000
Received: (qmail 6684 invoked by uid 97); 22 Apr 2003 08:02:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6677 invoked from network); 22 Apr 2003 08:02:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 08:02:07 -0000
Received: (qmail 99641 invoked by uid 500); 22 Apr 2003 07:59:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99616 invoked from network); 22 Apr 2003 07:59:46 -0000
Received: from unknown (HELO renr.es) (194.224.250.82)
  by daedalus.apache.org with SMTP; 22 Apr 2003 07:59:46 -0000
Received: (qmail 2028 invoked by uid 64014); 22 Apr 2003 08:00:18 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean.
 Processed in 0.07767 secs); 22 Apr 2003 08:00:18 -0000
Received: from unknown (HELO JGaliana) (jgaliana@epi.es@[10.162.133.128])
 (envelope-sender <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 22 Apr 2003 08:00:18 -0000
From: "Jose Galiana" <jgaliana@renr.es>
To: <lucene-user@jakarta.apache.org>
Subject: Multiple IndexSearcher
Date: Tue, 22 Apr 2003 10:06:34 +0200
Message-ID: <OAEAKBIGACBPNEKDMAPPCELFEPAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0568_01C308B6.DADF6750"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0568_01C308B6.DADF6750
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Hi,

I�m starting a new project and I�ve some questions about Lucene. The idea is
to build a daemon to hold several indexes. The indexes will be created at
start, and then updated along the day, with times to optimiced and a method
to rebuild the entire index, as Index Server (Microsoft). That daemon will
be running until user stop it.

The other piece of the puzzle is a Web application hosted by Tomcat. Every
session has a IndexSearcher to search in the indexes created by the daemon
application.

It�s possible that scenary?

Greetings

Jose Galiana


------=_NextPart_000_0568_01C308B6.DADF6750--


From MAILER-DAEMON Tue Apr 22 13:33:28 2003
Return-Path: 
 <lucene-user-return-4277-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69350 invoked from network); 22 Apr 2003 13:33:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 13:33:28 -0000
Received: (qmail 14865 invoked by uid 97); 22 Apr 2003 13:35:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14858 invoked from network); 22 Apr 2003 13:35:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 13:35:25 -0000
Received: (qmail 68762 invoked by uid 500); 22 Apr 2003 13:33:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68643 invoked from network); 22 Apr 2003 13:33:20 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 22 Apr 2003 13:33:20 -0000
Message-ID: <20030422133321.94404.qmail@web12705.mail.yahoo.com>
Received: from [24.90.65.225] by web12705.mail.yahoo.com via HTTP;
 Tue, 22 Apr 2003 06:33:21 PDT
Date: Tue, 22 Apr 2003 06:33:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple IndexSearcher
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OAEAKBIGACBPNEKDMAPPCELFEPAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It is possible, but you could make it more efficient by sharing a
single IndexSearcher among all user sessions.  Don't forget to throw it
away and get a new IndexSearcher when the index changes.

Otis

--- Jose Galiana <jgaliana@renr.es> wrote:
> Hi,
> 
> I�m starting a new project and I�ve some questions about Lucene. The
> idea is
> to build a daemon to hold several indexes. The indexes will be
> created at
> start, and then updated along the day, with times to optimiced and a
> method
> to rebuild the entire index, as Index Server (Microsoft). That daemon
> will
> be running until user stop it.
> 
> The other piece of the puzzle is a Web application hosted by Tomcat.
> Every
> session has a IndexSearcher to search in the indexes created by the
> daemon
> application.
> 
> It�s possible that scenary?
> 
> Greetings
> 
> Jose Galiana
> 
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 14:52:09 2003
Return-Path: 
 <lucene-user-return-4278-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38377 invoked from network); 22 Apr 2003 14:52:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 14:52:09 -0000
Received: (qmail 17678 invoked by uid 97); 22 Apr 2003 14:54:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17671 invoked from network); 22 Apr 2003 14:54:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 14:54:07 -0000
Received: (qmail 38095 invoked by uid 500); 22 Apr 2003 14:52:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38080 invoked from network); 22 Apr 2003 14:52:06 -0000
Received: from unknown (HELO renr.es) (194.224.250.85)
  by daedalus.apache.org with SMTP; 22 Apr 2003 14:52:06 -0000
Received: (qmail 7852 invoked by uid 64014); 22 Apr 2003 14:52:28 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean.
 Processed in 0.058234 secs); 22 Apr 2003 14:52:28 -0000
Received: from unknown (HELO JGaliana) (jgaliana@epi.es@[10.162.133.128])
 (envelope-sender <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 22 Apr 2003 14:52:28 -0000
From: "Jose Galiana" <jgaliana@renr.es>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Multiple IndexSearcher
Date: Tue, 22 Apr 2003 16:58:45 +0200
Message-ID: <OAEAKBIGACBPNEKDMAPPIEMAEPAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
In-Reply-To: <20030422133321.94404.qmail@web12705.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

So, If indexes are updateing frecuentlly (5 segs. or so), I must throw the
IndexSearch every time it?s used.

-----Mensaje original-----
De: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Enviado el: martes, 22 de abril de 2003 15:33
Para: Lucene Users List
Asunto: Re: Multiple IndexSearcher


It is possible, but you could make it more efficient by sharing a
single IndexSearcher among all user sessions.  Don't forget to throw it
away and get a new IndexSearcher when the index changes.

Otis

--- Jose Galiana <jgaliana@renr.es> wrote:
> Hi,
>
> I4m starting a new project and I4ve some questions about Lucene. The
> idea is
> to build a daemon to hold several indexes. The indexes will be
> created at
> start, and then updated along the day, with times to optimiced and a
> method
> to rebuild the entire index, as Index Server (Microsoft). That daemon
> will
> be running until user stop it.
>
> The other piece of the puzzle is a Web application hosted by Tomcat.
> Every
> session has a IndexSearcher to search in the indexes created by the
> daemon
> application.
>
> It4s possible that scenary?
>
> Greetings
>
> Jose Galiana
>
>


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 15:28:29 2003
Return-Path: 
 <lucene-user-return-4279-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21191 invoked from network); 22 Apr 2003 15:28:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 15:28:29 -0000
Received: (qmail 19743 invoked by uid 97); 22 Apr 2003 15:30:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19735 invoked from network); 22 Apr 2003 15:30:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 15:30:27 -0000
Received: (qmail 20950 invoked by uid 500); 22 Apr 2003 15:28:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20938 invoked from network); 22 Apr 2003 15:28:26 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 22 Apr 2003 15:28:26 -0000
Message-ID: <20030422152828.17845.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP;
 Tue, 22 Apr 2003 08:28:28 PDT
Date: Tue, 22 Apr 2003 08:28:28 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Multiple IndexSearcher
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OAEAKBIGACBPNEKDMAPPIEMAEPAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You don't have to, but if you don't your IndexSearcher will not see the
changes in the index.

You could certainly write some simple logic that does not discard
IndexSearcher every time the index changes, but only, for instance,
every minute at the most.
Your users won't see index changes right away, but that may not be so
important in your case, I don't know.

Otis

--- Jose Galiana <jgaliana@renr.es> wrote:
> So, If indexes are updateing frecuentlly (5 segs. or so), I must
> throw the
> IndexSearch every time it?s used.
> 
> -----Mensaje original-----
> De: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Enviado el: martes, 22 de abril de 2003 15:33
> Para: Lucene Users List
> Asunto: Re: Multiple IndexSearcher
> 
> 
> It is possible, but you could make it more efficient by sharing a
> single IndexSearcher among all user sessions.  Don't forget to throw
> it
> away and get a new IndexSearcher when the index changes.
> 
> Otis
> 
> --- Jose Galiana <jgaliana@renr.es> wrote:
> > Hi,
> >
> > I4m starting a new project and I4ve some questions about Lucene.
> The
> > idea is
> > to build a daemon to hold several indexes. The indexes will be
> > created at
> > start, and then updated along the day, with times to optimiced and
> a
> > method
> > to rebuild the entire index, as Index Server (Microsoft). That
> daemon
> > will
> > be running until user stop it.
> >
> > The other piece of the puzzle is a Web application hosted by
> Tomcat.
> > Every
> > session has a IndexSearcher to search in the indexes created by the
> > daemon
> > application.
> >
> > It4s possible that scenary?
> >
> > Greetings
> >
> > Jose Galiana
> >
> >
> 
> 
> __________________________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 16:34:44 2003
Return-Path: 
 <lucene-user-return-4280-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70515 invoked from network); 22 Apr 2003 16:34:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 16:34:44 -0000
Received: (qmail 21783 invoked by uid 97); 22 Apr 2003 16:36:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21776 invoked from network); 22 Apr 2003 16:36:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 16:36:42 -0000
Received: (qmail 70239 invoked by uid 500); 22 Apr 2003 16:34:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70226 invoked from network); 22 Apr 2003 16:34:40 -0000
Received: from mailhost2.hotjobs.com (HELO mx1.hq.ny.hotj.net) (206.64.4.76)
  by daedalus.apache.org with SMTP; 22 Apr 2003 16:34:40 -0000
Received: (qmail 10975 invoked from network); 22 Apr 2003 16:33:17 -0000
Received: from unknown (HELO HOTMAIL.hq.ny.hotj.net) (206.64.4.103)
  by mailhost.hotjobs.com with SMTP; 22 Apr 2003 16:33:17 -0000
Received: by hotmail.hq.ny.hotj.net with Internet Mail Service (5.5.2655.55)
	id <JFP03S7K>; Tue, 22 Apr 2003 12:34:42 -0400
Message-ID: <979C96743601BE4D88E7273E0C7648F30655C488@hotmail.hq.ny.hotj.net>
From: "Shah, Vineel" <vineel@hotjobs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index Reader and Writer
Date: Tue, 22 Apr 2003 12:34:17 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C308ED.048DA950"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C308ED.048DA950
Content-Type: text/plain;
	charset="iso-8859-1"

I don't think that's a good idea -- Searches against your index don't have access to the newly added documents until after you close the IndexWriter. (I think... anybody want to confirm?)

If you're having performance problems, cut down on the optimizing. I've found the optimizing is very slow and very ram intensive. What I do is have 2 copies of the index, 1 on disk and 1 in ram. I incrementally update both of them, but I only optimize the disk-based index. Every 30 minutes, I
refresh the RAM-based index from disk. This takes a few seconds with a 250,000 rec index weighing in at about 200mb.

Also, searches in RAM happen 15x faster than searches on disk indexes, at least in my load tests.

hope this helps,

vineel

-----Original Message-----
From: mganesh [mailto:mganesh@newgen.co.in]
Sent: Friday, April 18, 2003 2:00 AM
To: Lucene Users List
Subject: Index Reader and Writer


Hello all,
   My project is socket based application.Whenever I receive a request, i have to index the document send by the client using
   lucene.

  Algorithm 
   1.create Index reader object
   2.delete the document if it is already indexed.
   3. close the  Index reader 
   4. create Index writer object
   5. Add a document to writer object
   6. Optimise the index
   7.close the writer object

 I have to index around 1 lakh (100,000) document.
 Here Im creating Reader and Writer object for every request.

 Whether If I create only one Reader and Writer Object and make it as static then the performance will increase??
 Whether the Index reader and writer object has any influence with the performance??  

regards
ganesh



  

------_=_NextPart_001_01C308ED.048DA950--

From MAILER-DAEMON Tue Apr 22 17:24:41 2003
Return-Path: 
 <lucene-user-return-4281-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43760 invoked from network); 22 Apr 2003 17:24:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 17:24:41 -0000
Received: (qmail 23014 invoked by uid 97); 22 Apr 2003 17:26:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23007 invoked from network); 22 Apr 2003 17:26:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 17:26:40 -0000
Received: (qmail 43486 invoked by uid 500); 22 Apr 2003 17:24:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43473 invoked from network); 22 Apr 2003 17:24:37 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 22 Apr 2003 17:24:37 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 22 Apr 2003 12:23:31 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4ZDNHC>; Tue, 22 Apr 2003 12:23:28 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4BFE@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Multithreaded MultiSearcher?
Date: Tue, 22 Apr 2003 12:23:22 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The Jguru FAQ states:

MultiSearcher searches indices sequentially.
Multi-CPU machines would benefit from a multi-threaded version of MultiSearcher that performs multiple searches in parallel. 

Assuming this is still true in 1.3RC1, my question is has anyone out there implemented a multi-threaded version of the MultiSearcher?

Would you be willing to share?

Thanks, 

Dan




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 22 18:14:29 2003
Return-Path: 
 <lucene-user-return-4282-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44484 invoked from network); 22 Apr 2003 18:14:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 18:14:29 -0000
Received: (qmail 24758 invoked by uid 97); 22 Apr 2003 18:16:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24751 invoked from network); 22 Apr 2003 18:16:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 18:16:29 -0000
Received: (qmail 44238 invoked by uid 500); 22 Apr 2003 18:14:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44227 invoked from network); 22 Apr 2003 18:14:26 -0000
Received: from h005.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.218)
  by daedalus.apache.org with SMTP; 22 Apr 2003 18:14:26 -0000
Received: (cpmta 16731 invoked from network); 22 Apr 2003 11:14:30 -0700
Received: from 66.171.39.225 (HELO medined01)
  by smtp.mtolive.com (209.228.34.218) with SMTP; 22 Apr 2003 11:14:30 -0700
X-Sent: 22 Apr 2003 18:14:30 GMT
Message-ID: <056301c308fb$03bfc9a0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: <lucene-user@jakarta.apache.org>
Subject: Bug in TestPhrasePrefixQuery in 2003.04.21 Build?
Date: Tue, 22 Apr 2003 14:14:25 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0560_01C308D9.7A637650"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0560_01C308D9.7A637650
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

The TestPhrasePrefixQuery looks like it is searching for "blueberry pi*" =
and it even seems to work at first glance. However, the test data is not =
extensive enough to show what is really happening.

The searching technique implemented in TestPhrasePrefixQuery will find =
not only "blueberry pie" but also "blueberry strudel" if both exist in =
the documents.

The reason is that the IndexReader.terms(Term termToMatch) method looks =
for the first term equal or larger than termToMatch and then returns =
*all* terms from that point in the index to the end.

One potential solution might be something like the following:
String pattern =3D "pi*";
TermEnum te =3D ir.terms(new Term("body", pattern));
while (te.term().text().matches(pattern)) {
    termsWithPrefix.add(te.term());
    if (te.next() =3D=3D false)
        break;
    }
}

Of course, the code above only works with JDK1.4 because of the pattern =
matching.

Comments?

David Medinets
Quality =3D Resource Multiplication
http://www.codebits.com


------=_NextPart_000_0560_01C308D9.7A637650--


From MAILER-DAEMON Tue Apr 22 20:27:33 2003
Return-Path: 
 <lucene-user-return-4283-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80841 invoked from network); 22 Apr 2003 20:27:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 Apr 2003 20:27:33 -0000
Received: (qmail 29413 invoked by uid 97); 22 Apr 2003 20:29:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29406 invoked from network); 22 Apr 2003 20:29:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 Apr 2003 20:29:34 -0000
Received: (qmail 80549 invoked by uid 500); 22 Apr 2003 20:27:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80528 invoked from network); 22 Apr 2003 20:27:29 -0000
Received: from h002.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.215)
  by daedalus.apache.org with SMTP; 22 Apr 2003 20:27:29 -0000
Received: (cpmta 16338 invoked from network); 22 Apr 2003 13:27:34 -0700
Received: from 66.171.39.225 (HELO medined01)
  by smtp.mtolive.com (209.228.34.215) with SMTP; 22 Apr 2003 13:27:34 -0700
X-Sent: 22 Apr 2003 20:27:34 GMT
Message-ID: <05b501c3090d$9ad43850$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: <lucene-user@jakarta.apache.org>
Subject: Example Code for All Query Classes
Date: Tue, 22 Apr 2003 16:27:32 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_05B2_01C308EC.13348920"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_05B2_01C308EC.13348920
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I've posted example code for all query classes at =
http://www.codebits.com/2003_04_20_affy_archive.html#200183961. Feel =
free to comment if I can improve the examples.

David Medinets
Quality =3D Resource Multiplication
http://www.codebits.com


------=_NextPart_000_05B2_01C308EC.13348920--


From MAILER-DAEMON Wed Apr 23 15:21:25 2003
Return-Path: 
 <lucene-user-return-4284-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71726 invoked from network); 23 Apr 2003 15:21:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Apr 2003 15:21:25 -0000
Received: (qmail 9735 invoked by uid 97); 23 Apr 2003 15:23:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9728 invoked from network); 23 Apr 2003 15:23:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 Apr 2003 15:23:23 -0000
Received: (qmail 69155 invoked by uid 500); 23 Apr 2003 15:20:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69141 invoked from network); 23 Apr 2003 15:20:52 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 23 Apr 2003 15:20:52 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan
 Messaging Security Suite; Wed, 23 Apr 2003 11:20:53 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Bigram search (help!)
Date: Wed, 23 Apr 2003 11:20:53 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BB5@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Bigram search (help!)
Thread-Index: AcMISBrRBD8R5mH8TjavIn3MjqiQjABYvagg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I had a similar problem but hadn't gotten around to tracking down the =
root cause. It only affected queries with default operator AND. Are you =
doing a default AND on the query?

The CJKTokenizer is emitting a token at the end of the stream with an =
empty string for term text sometimes. I worked around the problem by =
adding a StopFilter to my analyzer.

    public TokenStream tokenStream( String fieldName, Reader reader )
    {
        TokenStream result =3D new CJKTokenizer( reader );
		result =3D new StopFilter(result, new String[] {""}); // CJKTokenizer =
emitts a "" sometimes, haven't been able to figure it out, so this is a =
workaround
        return result;
    }

Just curious what HTML parser did you switch to? I'm having trouble with =
the demo HTML parser on Japanese content also.

Eric

-----Original Message-----
From: mchaput [mailto:mchaput@aw.sgi.com]=20
Sent: Monday, April 21, 2003 4:56 PM
To: Lucene Users List
Subject: Bigram search (help!)


Hi all,

Well, I got around my previous problem by switching to a different HTML=20
parser.

Now I have an even more subtle and frustrating problem! :(

I'm using Che Dong's CJKTokenizer/CJKAnalyzer to do bigram tokenizing of =

Japanese text, with an unpatched Lucene 1.3RC1.

The tokenizer is working, here's the debug output of the tokens as they=20
go by (using a WinDVD help file as a test):

\u30ba\u30fc
\u30fc\u30e0
windvd
\u3067\u306f
\u4efb\u610f
\u610f\u306e
\u306e\u9078

The terms are showing up properly in the index (dumping the terms from=20
the index shows the character pairs are there).

When I create a query with search string \u30ba\u30fc\u30e0 I get=20
something reasonable:

contents:"\u30ba\u30fc \u30fc\u30e0 "
(class org.apache.lucene.search.PhraseQuery)

So far so good, *BUT*, searching for this query gives no results! As you =

can see from the token stream above, this query SHOULD work, but it =
doesn't.

I'm at a loss. Can anyone think of what might be going wrong?


--=20
                       |
Matt Chaput           |   A l i a s | W a v e f r o n t
Information Designer  |   210 King St. E. Toronto, ON, Canada M5A 1J7
mchaput@aw.sgi.com    |   (416) 874-8268
                       |
"A goddamned ray of sunshine all the goddamned time" --Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 23 19:23:50 2003
Return-Path: 
 <lucene-user-return-4285-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37852 invoked from network); 23 Apr 2003 19:23:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Apr 2003 19:23:50 -0000
Received: (qmail 17527 invoked by uid 97); 23 Apr 2003 19:25:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17519 invoked from network); 23 Apr 2003 19:25:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 Apr 2003 19:25:50 -0000
Received: (qmail 37565 invoked by uid 500); 23 Apr 2003 19:23:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37553 invoked from network); 23 Apr 2003 19:23:46 -0000
Received: from mister.frogspace.net (64.6.229.2)
  by daedalus.apache.org with SMTP; 23 Apr 2003 19:23:46 -0000
Received: from [24.123.115.122] (helo=ireland)
	by mister.frogspace.net with esmtp (Exim 3.36 #5)
	id 198PqM-0000Wz-00
	for lucene-user@jakarta.apache.org; Wed, 23 Apr 2003 12:23:46 -0700
From: "Todd McGrath" <mcgrath@supergloo.com>
To: <lucene-user@jakarta.apache.org>
Subject: multi-word/phrase filters
Date: Wed, 23 Apr 2003 14:41:24 -0500
Message-ID: <EJEBJILFGDFMPHFKFDGDAEDGDKAA.mcgrath@supergloo.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm having trouble with filters that have a Term with more than one word.
I'm using the ChainableFilter contrib and everything is running great when I
filter with a single word.

More info-
Index consists of articles that are associated with particular topics.  So,
topics are stored in the index with a "assocation" Field (along with Fields
for article title, content, etc.)  The "association" Field is a space
separated list of values that indicate what topic(s) the article is
associated. One example list of topics stored in the "assocation" Field is:
topic1 topic2 topic3.   But another assocation Field example list might have
topic names that contain spaces: topic1 topic two topic3 where "topic two"
is a two word topic.

If I filter results, with Filters of "topic1", "topic2", etc. everything
great!  But if I try to filter by "topic two", no results.

Any pointers debugging this is appreciated.  I don't think I'm doing
anything fancy- using StandardAnalyzer and a Filter class with a bits method
that looks like this:

public java.util.BitSet bits(IndexReader reader) throws java.io.IOException
{

	BitSet bits = new BitSet(reader.maxDoc());

	// field will be "association" and text will be "topic1" or "topic two"
	// text is not wrapped in quotes or backslashes, just a String from HTML
form

	Term filterterm = new Term(field, text);

	TermDocs termDocs = reader.termDocs(filterterm);

	if (termDocs == null) {
		return bits;
	}

	try {
	  while (termDocs.next())
	    bits.set(termDocs.doc());
	} finally {
	  termDocs.close();
	}

	return bits;
}

I've tried storing "association" in Field.Text, Keyword and Unstored.


Todd


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 24 17:09:37 2003
Return-Path: 
 <lucene-user-return-4286-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37683 invoked from network); 24 Apr 2003 17:09:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:09:37 -0000
Received: (qmail 21316 invoked by uid 97); 24 Apr 2003 17:11:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21309 invoked from network); 24 Apr 2003 17:11:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Apr 2003 17:11:36 -0000
Received: (qmail 37388 invoked by uid 500); 24 Apr 2003 17:09:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37371 invoked from network); 24 Apr 2003 17:09:34 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:09:34 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Thu, 24 Apr 2003 12:09:16 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ4ZR12X>; Thu, 24 Apr 2003 12:09:15 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4C1A@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Type information on Tokens?
Date: Thu, 24 Apr 2003 12:09:12 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I wanted to build an index where all of the words were tagged with part of speech information, its seems that the type field of the Token would be the place to put this.

But, as I understand it, lucene does not keep track of the type fields that are assigned during tokenizing, and therefore doesn't use them while searching.

How could I go about keeping track of part of speech information in my index?  

So far, I can only think of two ways to accomplish this, 1, is to build it into my tokens, i.e. my tokens would look something like "<noun>patient".  I'm afraid there may be some pit-falls with this approach that I haven't identified yet, however, since I haven't tried it out.

Or, I could make lucene use the type field in its index.  But, would I be correct in assuming this would not be a trivial change?  I have looked over the source a bit, but I don't yet have a full grasp of how hits are found and scored.  

Thanks, 

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 24 17:13:49 2003
Return-Path: 
 <lucene-user-return-4287-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51860 invoked from network); 24 Apr 2003 17:13:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:13:49 -0000
Received: (qmail 21481 invoked by uid 97); 24 Apr 2003 17:15:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21474 invoked from network); 24 Apr 2003 17:15:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Apr 2003 17:15:48 -0000
Received: (qmail 51499 invoked by uid 500); 24 Apr 2003 17:13:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51484 invoked from network); 24 Apr 2003 17:13:43 -0000
Received: from mail.drexel.edu (144.118.25.40)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:13:43 -0000
Received: from webmail.drexel.edu (webmail.drexel.edu [144.118.25.20])
 by mail.drexel.edu (Sun Internet Mail Server sims.4.0.2001.07.26.11.50.p9)
 with ESMTP id <0HDU00F7SYHSQP@mail.drexel.edu> for
 lucene-user@jakarta.apache.org; Thu, 24 Apr 2003 13:13:04 -0400 (EDT)
Date: Thu, 24 Apr 2003 13:13:04 -0400
From: xx28 <xx28@drexel.edu>
Subject: code bug?
Sender: xx28 <xx28@drexel.edu>
To: lucene-user@jakarta.apache.org
Message-id: <3EC9025D@webmail.drexel.edu>
MIME-version: 1.0
X-Mailer: WebMail (Hydra) SMTP v3.62
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: 7BIT
X-WebMail-UserID: xx28
X-EXP32-SerialNo: 00003005
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am using Lucene 1.2 web application. Most of queries work fine. However,when 
I tried to use phrase query like the following:

"basic service"

The fist result page is good (url like 
httP://com:8080/results.jsp?query=%22basic+service%22&db=dd&maxresults=20).

The page contains:
<a href="results.jsp?query="basic service"&maxresults=20&startat=20">More 
Results>></a>

If click More Results, error occurs since url changes to: 
http://com:8080/results.jsp?query=
No query at all.

Then I tried query:
qptional +basic +service

The result page url is 
http://com:8080/results.jsp?query=optional+%2Bbasic+%2Bservice&db=dd&maxresults=20
It contains 
<a href="results.jsp?query=optional +basic 
+service&maxresults=20&startat=20">More Results>></a>

Clicking on More Results, the url changed to:
http://com:8080/results.jsp?query=optional+basic+service&maxresults=20&startat=20
and the result is different(for example, the total hits) since the query has 
changed.

I am not sure anybody has the similar problem? Looks like need queryPreparser?

Regards, 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 24 17:27:27 2003
Return-Path: 
 <lucene-user-return-4288-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74597 invoked from network); 24 Apr 2003 17:27:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:27:27 -0000
Received: (qmail 21886 invoked by uid 97); 24 Apr 2003 17:29:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21878 invoked from network); 24 Apr 2003 17:29:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Apr 2003 17:29:26 -0000
Received: (qmail 74165 invoked by uid 500); 24 Apr 2003 17:27:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74106 invoked from network); 24 Apr 2003 17:27:21 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:27:21 -0000
Message-ID: <20030424172725.70364.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP;
 Thu, 24 Apr 2003 10:27:25 PDT
Date: Thu, 24 Apr 2003 10:27:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: code bug?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3EC9025D@webmail.drexel.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is an issue with encoding of queries in HTML/URL-context.
If this is happening in your web application, it's something you need
to fix by, for instance, doign soemthing like java.net.URL.encode(query
string here) before stuffing it in ht HREF.
Or something similar...
This is not a Lucene problem.

Otis


--- xx28 <xx28@drexel.edu> wrote:
> Hi,
> 
> I am using Lucene 1.2 web application. Most of queries work fine.
> However,when 
> I tried to use phrase query like the following:
> 
> "basic service"
> 
> The fist result page is good (url like 
>
httP://com:8080/results.jsp?query=%22basic+service%22&db=dd&maxresults=20).
> 
> The page contains:
> <a href="results.jsp?query="basic
> service"&maxresults=20&startat=20">More 
> Results>></a>
> 
> If click More Results, error occurs since url changes to: 
> http://com:8080/results.jsp?query=
> No query at all.
> 
> Then I tried query:
> qptional +basic +service
> 
> The result page url is 
>
http://com:8080/results.jsp?query=optional+%2Bbasic+%2Bservice&db=dd&maxresults=20
> It contains 
> <a href="results.jsp?query=optional +basic 
> +service&maxresults=20&startat=20">More Results>></a>
> 
> Clicking on More Results, the url changed to:
>
http://com:8080/results.jsp?query=optional+basic+service&maxresults=20&startat=20
> and the result is different(for example, the total hits) since the
> query has 
> changed.
> 
> I am not sure anybody has the similar problem? Looks like need
> queryPreparser?
> 
> Regards, 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 24 17:38:09 2003
Return-Path: 
 <lucene-user-return-4289-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97154 invoked from network); 24 Apr 2003 17:38:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:38:09 -0000
Received: (qmail 22199 invoked by uid 97); 24 Apr 2003 17:40:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22192 invoked from network); 24 Apr 2003 17:40:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Apr 2003 17:40:08 -0000
Received: (qmail 95298 invoked by uid 500); 24 Apr 2003 17:37:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95285 invoked from network); 24 Apr 2003 17:37:45 -0000
Received: from h002.c000.snv.cp.net (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 24 Apr 2003 17:37:45 -0000
Received: (cpmta 4744 invoked from network); 24 Apr 2003 10:37:47 -0700
Received: from 128.143.104.64 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 24 Apr 2003 10:37:47 -0700
X-Sent: 24 Apr 2003 17:37:47 GMT
Date: Thu, 24 Apr 2003 13:37:46 -0400
Subject: Re: Type information on Tokens?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4C1A@excsrv44.mayo.edu>
Message-Id: <765BE1DD-767B-11D7-86DE-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Here's another vote for keeping the type information in the index.  I 
suspect where this would break down is if a field has two tokens that 
are textually the same, but are considered different types - so maybe 
its not a good idea technically.  I'd love to hear more about the 
pros/cons to keeping this information, as it seems like something quite 
useful during searching.

	Erik


On Thursday, April 24, 2003, at 01:09  PM, Armbrust, Daniel C. wrote:
> If I wanted to build an index where all of the words were tagged with 
> part of speech information, its seems that the type field of the Token 
> would be the place to put this.
>
> But, as I understand it, lucene does not keep track of the type fields 
> that are assigned during tokenizing, and therefore doesn't use them 
> while searching.
>
> How could I go about keeping track of part of speech information in my 
> index?
>
> So far, I can only think of two ways to accomplish this, 1, is to 
> build it into my tokens, i.e. my tokens would look something like 
> "<noun>patient".  I'm afraid there may be some pit-falls with this 
> approach that I haven't identified yet, however, since I haven't tried 
> it out.
>
> Or, I could make lucene use the type field in its index.  But, would I 
> be correct in assuming this would not be a trivial change?  I have 
> looked over the source a bit, but I don't yet have a full grasp of how 
> hits are found and scored.
>
> Thanks,
>
> Dan
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Apr 24 18:29:35 2003
Return-Path: 
 <lucene-user-return-4290-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6710 invoked from network); 24 Apr 2003 18:29:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Apr 2003 18:29:35 -0000
Received: (qmail 24039 invoked by uid 97); 24 Apr 2003 18:31:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24032 invoked from network); 24 Apr 2003 18:31:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 Apr 2003 18:31:35 -0000
Received: (qmail 6399 invoked by uid 500); 24 Apr 2003 18:29:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6388 invoked from network); 24 Apr 2003 18:29:31 -0000
Received: from h006.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.219)
  by daedalus.apache.org with SMTP; 24 Apr 2003 18:29:31 -0000
Received: (cpmta 18940 invoked from network); 24 Apr 2003 11:29:36 -0700
Received: from 66.7.5.150 (HELO medined01)
  by smtp.mtolive.com (209.228.34.219) with SMTP; 24 Apr 2003 11:29:36 -0700
X-Sent: 24 Apr 2003 18:29:36 GMT
Message-ID: <07ee01c30a8f$734ccd00$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: <lucene-user@jakarta.apache.org>
Subject: The PrecedenceQuery Class
Date: Thu, 24 Apr 2003 14:29:31 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_07EB_01C30A6D.EBC0F3F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_07EB_01C30A6D.EBC0F3F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

The code for this class can be found at =
http://affy.blogspot.com/2003_04_20_affy_archive.html#200194642.

As I was working with Lucene the other day, I envisioned looking for a =
document about a terrorist (call me XXX) and how the resulting list of =
results should be ranked. So I created the PrecedenceQuery class so that =
I could ask for all document containing XXX and a series of tokens such =
as /iraq/syria/israel/usa/united states. The document should be ranked =
higher (more relevant) as the list moves from left to right. This type =
of search is applicable to many different situations. In the realm of =
computer applications, this technique could be used in configuration =
management so that global values are overridden by environment which in =
turn can be overridden by machine-specific information.

Adding support for prefixes, wildcards, regular expressions, and ranges =
inside the delimiters should be trivial if anyone needs it.

Let me know if this classes is helpful.

David Medinets
Quality =3D Resource Multiplication
http://www.codebits.com


------=_NextPart_000_07EB_01C30A6D.EBC0F3F0--


From MAILER-DAEMON Fri Apr 25 09:02:26 2003
Return-Path: 
 <lucene-user-return-4291-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39828 invoked from network); 25 Apr 2003 09:02:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 25 Apr 2003 09:02:26 -0000
Received: (qmail 11246 invoked by uid 97); 25 Apr 2003 09:04:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11239 invoked from network); 25 Apr 2003 09:04:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 25 Apr 2003 09:04:34 -0000
Received: (qmail 39528 invoked by uid 500); 25 Apr 2003 09:02:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39515 invoked from network); 25 Apr 2003 09:02:21 -0000
Received: from mailgw1.fraunhofer.de (153.96.1.62)
  by daedalus.apache.org with SMTP; 25 Apr 2003 09:02:21 -0000
Received: from mailgw1.fraunhofer.de (localhost [127.0.0.1])
	by mailgw1.fraunhofer.de (8.12.9/8.12.9) with ESMTP id h3P92VXx003006
	for <lucene-user@jakarta.apache.org>; Fri, 25 Apr 2003 11:02:32 +0200 (MEST)
Received: from heinrichschiff.igd.fhg.de (heinrichschiff.igd.fhg.de
 [146.140.28.12])
	by mailgw1.fraunhofer.de (8.12.9/8.12.9) with ESMTP id h3P92USt002993
	for <lucene-user@jakarta.apache.org>; Fri, 25 Apr 2003 11:02:31 +0200 (MEST)
Received: from pcara (PCARA-ds.igd.fhg.de [146.140.9.73])
	by heinrichschiff.igd.fhg.de (8.9.3+Sun/8.9.3) with SMTP id KAA04407
	for <lucene-user@jakarta.apache.org>; Fri, 25 Apr 2003 10:55:37 +0200 (MEST)
From: "Gregor Heinrich" <heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: The PrecedenceQuery Class
Date: Fri, 25 Apr 2003 11:02:21 +0200
Message-ID: <001d01c30b09$62135070$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <07ee01c30a8f$734ccd00$6422a8c0@medined01>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Great idea. Moreover, wouldn't that be a quite general approach to search
engine usability? As a matter of style in written texts, itemisation order
does often imply "first things first" (with respect to importance). I wonder
if Google et al. havn't been using this rule implicitly...

Best regards,

Gregor

Dipl.-Ing. Gregor Heinrich
Fraunhofer Institut f�r Graphische Datenverarbeitung
Fraunhoferstrasse 5
64283 Darmstadt
Germany
Tel: ++49.6151.155x209
Fax: ++49.6151.155x559
PGP: public key on request.


-----Original Message-----
From: David Medinets [mailto:medined@mtolive.com]
Sent: Thursday, April 24, 2003 8:30 PM
To: lucene-user@jakarta.apache.org
Subject: The PrecedenceQuery Class


The code for this class can be found at
http://affy.blogspot.com/2003_04_20_affy_archive.html#200194642.

As I was working with Lucene the other day, I envisioned looking for a
document about a terrorist (call me XXX) and how the resulting list of
results should be ranked. So I created the PrecedenceQuery class so that I
could ask for all document containing XXX and a series of tokens such as
/iraq/syria/israel/usa/united states. The document should be ranked higher
(more relevant) as the list moves from left to right. This type of search is
applicable to many different situations. In the realm of computer
applications, this technique could be used in configuration management so
that global values are overridden by environment which in turn can be
overridden by machine-specific information.

Adding support for prefixes, wildcards, regular expressions, and ranges
inside the delimiters should be trivial if anyone needs it.

Let me know if this classes is helpful.

David Medinets
Quality = Resource Multiplication
http://www.codebits.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 27 07:02:12 2003
Return-Path: 
 <lucene-user-return-4292-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88681 invoked from network); 27 Apr 2003 07:02:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Apr 2003 07:02:12 -0000
Received: (qmail 12229 invoked by uid 97); 27 Apr 2003 07:04:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12222 invoked from network); 27 Apr 2003 07:04:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Apr 2003 07:04:22 -0000
Received: (qmail 88355 invoked by uid 500); 27 Apr 2003 07:02:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88335 invoked from network); 27 Apr 2003 07:02:07 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 27 Apr 2003 07:02:07 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3R72Gj7000226
 for <lucene-user@jakarta.apache.org>; Sun, 27 Apr 2003 12:32:16 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4K9Q958>; Sun, 27 Apr 2003 12:32:15 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9ACC@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "Lucene-User (E-mail)" <lucene-user@jakarta.apache.org>
Subject: prefixquery not working on migrating to Lucene 1.3
Date: Sun, 27 Apr 2003 12:32:14 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have been using queries like: filename:(txt) AND
path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct results. I
moved to Lucene 1.3 a while ago and find that these queries no longer work.
The Lucene Query is: +txt +path:/u/biswasg/install*. I observe that the path
has been lowercased (which did not happen when I was using 1.2).

I made the following changes in my code when I moved over to 1.3.
	
        QueryParser qp = new QueryParser(defaultSearchField, new
MyAnalyzer());
        qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

How can I prevent Lucene from lower casing query terms that ends with a *. I
must mention that my objective here is to restrict my search results to
those files that begin with a spceified prefix.

Any help on this is appreciated.

Thanks,
-Goutam


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 27 13:36:05 2003
Return-Path: 
 <lucene-user-return-4293-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29421 invoked from network); 27 Apr 2003 13:36:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Apr 2003 13:36:05 -0000
Received: (qmail 16346 invoked by uid 97); 27 Apr 2003 13:38:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16339 invoked from network); 27 Apr 2003 13:38:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Apr 2003 13:38:04 -0000
Received: (qmail 29140 invoked by uid 500); 27 Apr 2003 13:36:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29124 invoked from network); 27 Apr 2003 13:36:01 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 27 Apr 2003 13:36:01 -0000
Message-ID: <20030427133603.89520.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Sun, 27 Apr 2003 06:36:03 PDT
Date: Sun, 27 Apr 2003 06:36:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: prefixquery not working on migrating to Lucene 1.3
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9ACC@mshyd1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think that may be due to one of the new QueryParser methods.
setWildcardLowercase(boolean), I think.  Check the source for the exact
method name.

Otis


--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Hi,
> 
> I have been using queries like: filename:(txt) AND
> path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> results. I
> moved to Lucene 1.3 a while ago and find that these queries no longer
> work.
> The Lucene Query is: +txt +path:/u/biswasg/install*. I observe that
> the path
> has been lowercased (which did not happen when I was using 1.2).
> 
> I made the following changes in my code when I moved over to 1.3.
> 	
>         QueryParser qp = new QueryParser(defaultSearchField, new
> MyAnalyzer());
>         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> 
> How can I prevent Lucene from lower casing query terms that ends with
> a *. I
> must mention that my objective here is to restrict my search results
> to
> those files that begin with a spceified prefix.
> 
> Any help on this is appreciated.
> 
> Thanks,
> -Goutam
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 27 18:27:26 2003
Return-Path: 
 <lucene-user-return-4294-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64037 invoked from network); 27 Apr 2003 18:27:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Apr 2003 18:27:26 -0000
Received: (qmail 24356 invoked by uid 97); 27 Apr 2003 18:29:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24349 invoked from network); 27 Apr 2003 18:29:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Apr 2003 18:29:28 -0000
Received: (qmail 63391 invoked by uid 500); 27 Apr 2003 18:27:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63358 invoked from network); 27 Apr 2003 18:27:16 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 27 Apr 2003 18:27:16 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3RIRGj7027099
 for <lucene-user@jakarta.apache.org>; Sun, 27 Apr 2003 23:57:17 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4K9Q02Z>; Sun, 27 Apr 2003 23:57:16 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AD1@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: prefixquery not working on migrating to Lucene 1.3
Date: Sun, 27 Apr 2003 23:57:10 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,

Your suggestion worked. Thanks. However there is one more problem. If the
path contains a '-' I do not get the results, even if I escape the '-'. For
example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
path:/u/biswasg/Install/jakarta*, however, I get the correct results. So I
figure out that the '-' causing the problem here. How do I deal with these
cases ?

Thanks always,
Goutam


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Sunday, April 27, 2003 7:06 PM
To: Lucene Users List
Subject: Re: prefixquery not working on migrating to Lucene 1.3


I think that may be due to one of the new QueryParser methods.
setWildcardLowercase(boolean), I think.  Check the source for the exact
method name.

Otis


--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Hi,
> 
> I have been using queries like: filename:(txt) AND
> path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> results. I
> moved to Lucene 1.3 a while ago and find that these queries no longer
> work.
> The Lucene Query is: +txt +path:/u/biswasg/install*. I observe that
> the path
> has been lowercased (which did not happen when I was using 1.2).
> 
> I made the following changes in my code when I moved over to 1.3.
> 	
>         QueryParser qp = new QueryParser(defaultSearchField, new
> MyAnalyzer());
>         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> 
> How can I prevent Lucene from lower casing query terms that ends with
> a *. I
> must mention that my objective here is to restrict my search results
> to
> those files that begin with a spceified prefix.
> 
> Any help on this is appreciated.
> 
> Thanks,
> -Goutam
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 27 19:16:10 2003
Return-Path: 
 <lucene-user-return-4295-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9446 invoked from network); 27 Apr 2003 19:16:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Apr 2003 19:16:10 -0000
Received: (qmail 25613 invoked by uid 97); 27 Apr 2003 19:18:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25606 invoked from network); 27 Apr 2003 19:18:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Apr 2003 19:18:13 -0000
Received: (qmail 9158 invoked by uid 500); 27 Apr 2003 19:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9146 invoked from network); 27 Apr 2003 19:16:07 -0000
Received: from 205-158-62-158.outblaze.com (HELO spf1.us.outblaze.com)
 (205.158.62.158)
  by daedalus.apache.org with SMTP; 27 Apr 2003 19:16:07 -0000
Received: (qmail 5488 invoked from network); 27 Apr 2003 19:15:30 -0000
Received: from unknown (205.158.62.68)
  by spf1.us.outblaze.com with QMQP; 27 Apr 2003 19:15:30 -0000
Received: (qmail 59113 invoked from network); 27 Apr 2003 19:16:12 -0000
Received: from unknown (HELO ws1-10.us4.outblaze.com) (205.158.62.111)
  by 205-158-62-153.outblaze.com with SMTP; 27 Apr 2003 19:16:12 -0000
Received: (qmail 49788 invoked by uid 1001); 27 Apr 2003 19:16:12 -0000
Message-ID: <20030427191612.49787.qmail@mail.com>
Content-Type: text/plain; charset="iso-8859-1"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Received: from [151.25.89.177] by ws1-10.us4.outblaze.com with http for
    kenshir@mail.com; Sun, 27 Apr 2003 14:16:12 -0500
From: "Gimmy Pegoraro" <kenshir@mail.com>
To: lucene-user@jakarta.apache.org
Date: Sun, 27 Apr 2003 14:16:12 -0500
Subject: my lucene implementation
X-Originating-Ip: 151.25.89.177
X-Originating-Server: ws1-10.us4.outblaze.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Good morning.

First of all, congratulations to all Lucene developers for their great work.
And thank you very much for the precious support offered by these mailing lists.

I used Lucene as the nucleus of the application I developed for my graduation thesis.
Now I'm submitting my work to this list, and I hope it will be usefull for some Lucene users.

You can download the whole application from this URL:
http://www.nsw2001.com/kenshir/lucy/lucy1.1.exe
self-extracting rar archive, about 18 MB

or from this URL:
http://www.nsw2001.com/kenshir/lucy/lucy1.1_NO_JVM.exe
the same, but without an own java virtual machine. About 3 MB.

If you download the last one, you have to insert the path of the local java virtual machine in the file jvm.bat, after the installation.

The name I gave to my application is "Lucy", as it's actually an implementation of Lucene, or better an integration of Lucene with some other good open source programs.

The last version I developed is the 1.1.
This is its structure, in detail:

Lucy 1.1	-> Lucene 1.2
		-> HTMLParser 1.2
		-> PdfBox 0.5.6
		-> wvWare 0.7.2-3
		-> xlhtml 0.4.9
		-> antiword 0.33
		-> Xpdf 2.01 
		-> Snowball 0.1
		-> NGramJ 01.12.11

		-> it.corila.lucy	-> IndexAll.java
					-> SearchIndex.java
					-> HTMLDocument.java
					-> PDFDocument.java
					-> ExternalParser.java
					-> ItalianStemFilter.java
					-> EnglishStemFilter.java
					-> ApostropheFilter.java
					-> IndexAnalyzer.java
					-> SearchAnalyzer.java
					-> LanguageCategorizer
					-> NgramjCategorizer.java

		-> lucyweb.war		-> configuration.jsp
					-> header.jsp
					-> footer.jsp
					-> index.jsp
					-> results.jsp
					-> view.jsp
					-> pagina1.jsp
					-> pagina2.jsp
					-> help.jsp
					

Procedures of indexing, upgrading and searching are implemented by the following batch files:
- indicizza.bat
- aggiorna.bat
- cerca.bat
The jsp module lucyweb.war implements searches with a web browser interface.

Main characteristics of Lucy are:
1) it's able to index the following file types, performing plain text extraction:
  - Microsoft doc, ppt, xls
  - Adobe pdf
  - obviously html and txt, such as Lucene demo does.
2) it indexes and searches documents written in English and in Italian, with a specific stemming procedure
3) it has a configuration file that the user can modify to specify how the application has to work 
4) it produces a set of log files, so the user can control the results of the last indexing process

The parsing of the different file types is done both by Java applications (such as PDFBox) and by not-Java applications (such as wvWare). In this second case, the external program is driven with the Runtime class, and its output is written in a temporary file, stored in a directory made by the program for this specific purpose. The user can choose (in the configuration file properties.txt) that this temporary directory is not automatically removed by the application at the end of the indexing process. I think that this opportunity can be useful in case of errors produced by parsing processes.

In some case (doc and pdf) the user can also choose, in the configuration file of Lucy, which application must to be used for the parsing process.
Modifying the configuration file, the user can use both the available applications in two subsequent processes of indexing and updating. In this way he can probably reach better results than with a unique parser. I implemented this possibility because the parsing process is really difficult for doc and pdf files and often causes indexing errors, even if the open source applications I used are really well made.

The stemming automatic procedure is done thanks to a language categorizer (NgramJ) and specific stemming algorithms (Snowball). The application recognizes French and German text too, but a specific stemming procedure is not yet implemented, so French text is stemmed as Italian text, German text like English text. This is due to the limited time I had for developing, sorry! :)

About log files: they are stored in a user-defined directoy (specified in properties.txt file), and they are called:
- Indexlog.txt:  general log file, contains the output of the indexing process
- DOClog.txt, XLSlog.txt, PPTlog.txt, PDFlog.txt:  they contain the output of the specific external parser

That's all, I think.
You can find more specific instructions in "lucy readme.txt" file, which is stored into the main directory of the installation.
My thesis is downloadable from this URL:
http://www.nsw2001.com/kenshir/lucy/Progettazione e realizzazione di un motore di ricerca per do.pdf

I'm sorry that all these files and all comments in the source code are written in Italian, and also some messages of the indexing process (anyway, I hope they are comprensible in that context) and the help jsp page. My English is poor, as you can see, so I wrote all in Italian to save time! This is also the reason why this e-mail is so long.
If anyone would be as willing to translate all that stuff in English, I would be very grateful to him.

I'm sure the code I wrote may be deeply improved, because this was my first Java-programming experience... but well...it seems to work! ;-P Any modification or suggestion will be appreciated.

In a close future, Lucy will become the search engine of Co.Ri.La consortium (http://www.corila.it), and obviously the "powered by Lucene" logo will appear on the main search page.
Thank you, bye bye

Gimmy Pegoraro



-- 
__________________________________________________________
Sign-up for your own FREE Personalized E-mail at Mail.com
http://www.mail.com/?sr=signup


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Apr 27 19:52:35 2003
Return-Path: 
 <lucene-user-return-4296-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36292 invoked from network); 27 Apr 2003 19:52:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Apr 2003 19:52:35 -0000
Received: (qmail 25931 invoked by uid 97); 27 Apr 2003 19:54:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25924 invoked from network); 27 Apr 2003 19:54:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 Apr 2003 19:54:38 -0000
Received: (qmail 36008 invoked by uid 500); 27 Apr 2003 19:52:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35994 invoked from network); 27 Apr 2003 19:52:32 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 27 Apr 2003 19:52:32 -0000
Message-ID: <20030427195238.33054.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP;
 Sun, 27 Apr 2003 12:52:38 PDT
Date: Sun, 27 Apr 2003 12:52:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: prefixquery not working on migrating to Lucene 1.3
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AD1@mshyd1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This ought to get entered in the FAQ at jGuru...
You need to use an Analyzer that does not throw away characters like
'\'.

Otis


--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Otis,
> 
> Your suggestion worked. Thanks. However there is one more problem. If
> the
> path contains a '-' I do not get the results, even if I escape the
> '-'. For
> example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
> path:/u/biswasg/Install/jakarta*, however, I get the correct results.
> So I
> figure out that the '-' causing the problem here. How do I deal with
> these
> cases ?
> 
> Thanks always,
> Goutam
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Sunday, April 27, 2003 7:06 PM
> To: Lucene Users List
> Subject: Re: prefixquery not working on migrating to Lucene 1.3
> 
> 
> I think that may be due to one of the new QueryParser methods.
> setWildcardLowercase(boolean), I think.  Check the source for the
> exact
> method name.
> 
> Otis
> 
> 
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > Hi,
> > 
> > I have been using queries like: filename:(txt) AND
> > path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> > results. I
> > moved to Lucene 1.3 a while ago and find that these queries no
> longer
> > work.
> > The Lucene Query is: +txt +path:/u/biswasg/install*. I observe that
> > the path
> > has been lowercased (which did not happen when I was using 1.2).
> > 
> > I made the following changes in my code when I moved over to 1.3.
> > 	
> >         QueryParser qp = new QueryParser(defaultSearchField, new
> > MyAnalyzer());
> >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > 
> > How can I prevent Lucene from lower casing query terms that ends
> with
> > a *. I
> > must mention that my objective here is to restrict my search
> results
> > to
> > those files that begin with a spceified prefix.
> > 
> > Any help on this is appreciated.
> > 
> > Thanks,
> > -Goutam
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 05:35:47 2003
Return-Path: 
 <lucene-user-return-4297-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28858 invoked from network); 28 Apr 2003 05:35:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 05:35:47 -0000
Received: (qmail 1685 invoked by uid 97); 28 Apr 2003 05:37:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1678 invoked from network); 28 Apr 2003 05:37:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 05:37:55 -0000
Received: (qmail 26151 invoked by uid 500); 28 Apr 2003 05:35:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25956 invoked from network); 28 Apr 2003 05:35:11 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 28 Apr 2003 05:35:11 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3S5Z8j7010688
 for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 11:05:10 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4K9Q0ZH>; Mon, 28 Apr 2003 11:05:08 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AD2@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: prefixquery not working on migrating to Lucene 1.3
Date: Mon, 28 Apr 2003 11:05:04 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,
I am using the following Analyzer. Can you please point me as to where I
need to change so that '\' characters are not thrown off. Also I thought
that wild card query terms that end with a * (like path:/u/biswasg/demo\
Docs*) do not pass through the analyzer. Am I correct ?

<---------------------------------snip--------------------------------->
import org.apache.lucene.analysis.standard.StandardTokenizer;

/**
 * Personalized Analyser to be used by Lucene to analyze the text in both 
 * indexing and searching.
 *
 * @author Velayudham Radhakrishnan
 * @version $Id: MyAnalyzer.java,v 1.4 2003/01/30 12:09:25 dantam Exp $
 */
public class MyAnalyzer  extends Analyzer
{   
    /**
     * Default no-arg Constructor
     */
    public MyAnalyzer()
    {
	this.stopWords = STOP_WORDS;
	this.stopTable = StopFilter.makeStopTable(stopWords); 
    }
    
    /*
     * Constuctor with 1 arg.
     * 
     * @param stopWords an array to stop words.
     */
    public MyAnalyzer(String[] stopWords)
    {
	this.stopWords = stopWords;
	this.stopTable = StopFilter.makeStopTable(stopWords); 
    }
    
    /*
     * Create a token stream for this analyzer.
     *
     * @param reader Reader from which data is read.
     */
    public final TokenStream tokenStream(final Reader reader)
    {
	TokenStream result = new StandardTokenizer(reader);
	
	result = new StandardFilter(result);
	result = new LowerCaseFilter(result);
	result = new StopFilter(result, stopTable);
	result = new PorterStemFilter(result);
	
	return result;
    }
    
    // An array containing some common words that are not usually useful for

    //searching.
    private static String[] stopWords;
    
    // Stop table.
    private static Hashtable stopTable;

    // Stop Words.
    private static final String[] STOP_WORDS = {
	"a"       , "and"     , "are"     , "as"      ,
	"at"      , "be"      , "but"     , "by"      ,
	"for"     , "if"      , "in"      , "into"    ,
	"is"      , "it"      , "no"      , "not"     ,
	"of"      , "on"      , "or"      , "s"       ,
	"such"    , "t"       , "that"    , "the"     ,
	"their"   , "then"    , "there"   , "these"   ,
	"they"    , "this"    , "to"      , "was"     ,
	"will"    ,
	"with"
    };    
}

<-----------------------------/snip-----------------------------------------
------->

Thanks,
  Goutam

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, April 28, 2003 1:23 AM
To: Lucene Users List
Subject: RE: prefixquery not working on migrating to Lucene 1.3


This ought to get entered in the FAQ at jGuru...
You need to use an Analyzer that does not throw away characters like
'\'.

Otis


--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Otis,
> 
> Your suggestion worked. Thanks. However there is one more problem. If
> the
> path contains a '-' I do not get the results, even if I escape the
> '-'. For
> example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
> path:/u/biswasg/Install/jakarta*, however, I get the correct results.
> So I
> figure out that the '-' causing the problem here. How do I deal with
> these
> cases ?
> 
> Thanks always,
> Goutam
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Sunday, April 27, 2003 7:06 PM
> To: Lucene Users List
> Subject: Re: prefixquery not working on migrating to Lucene 1.3
> 
> 
> I think that may be due to one of the new QueryParser methods.
> setWildcardLowercase(boolean), I think.  Check the source for the
> exact
> method name.
> 
> Otis
> 
> 
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > Hi,
> > 
> > I have been using queries like: filename:(txt) AND
> > path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> > results. I
> > moved to Lucene 1.3 a while ago and find that these queries no
> longer
> > work.
> > The Lucene Query is: +txt +path:/u/biswasg/install*. I observe that
> > the path
> > has been lowercased (which did not happen when I was using 1.2).
> > 
> > I made the following changes in my code when I moved over to 1.3.
> > 	
> >         QueryParser qp = new QueryParser(defaultSearchField, new
> > MyAnalyzer());
> >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > 
> > How can I prevent Lucene from lower casing query terms that ends
> with
> > a *. I
> > must mention that my objective here is to restrict my search
> results
> > to
> > those files that begin with a spceified prefix.
> > 
> > Any help on this is appreciated.
> > 
> > Thanks,
> > -Goutam
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 12:33:02 2003
Return-Path: 
 <lucene-user-return-4298-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89656 invoked from network); 28 Apr 2003 12:33:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:33:02 -0000
Received: (qmail 10819 invoked by uid 97); 28 Apr 2003 12:35:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10812 invoked from network); 28 Apr 2003 12:35:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 12:35:01 -0000
Received: (qmail 85627 invoked by uid 500); 28 Apr 2003 12:32:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85523 invoked from network); 28 Apr 2003 12:32:06 -0000
Received: from h-213.61.137.253.host.de.colt.net (HELO houston.novomind.com)
 (213.61.137.253)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:32:06 -0000
Received: from dublin (dublin.novomind.com [213.61.137.189])
	by houston.novomind.com (8.11.0/8.8.7) with SMTP id h3SCW4K23256
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 14:32:04 +0200
Reply-To: <kguelzau@novomind.com>
From: =?iso-8859-1?Q?Kai_G=FClzau?= <kguelzau@novomind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Soundex, Metaphone library
Date: Mon, 28 Apr 2003 14:32:04 +0200
Message-ID: <HMEJKFBPJALLJGMHIBCIEEEACEAA.kguelzau@novomind.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AD2@mshyd1.hyd.deshaw.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

i don't know if anybody knows this library...sounds good to me.

http://www.companywebstore.de/tangentum/mirror/en/products/phonetix/index.html

"Phonetix is a small, but useful class-library of phonetic algorithms written entirely in Java. It includes
implementations of Soundex, Metaphone, and DoubleMetaphone.

[...]

Phonetix also contains adapters for the Lucene search-engine. With Phonetix, applications of Lucene can easily use
phonetic indices and searches."

Regards,

 Kai G�lzau


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 12:39:17 2003
Return-Path: 
 <lucene-user-return-4299-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3374 invoked from network); 28 Apr 2003 12:39:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:39:17 -0000
Received: (qmail 10930 invoked by uid 97); 28 Apr 2003 12:41:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10923 invoked from network); 28 Apr 2003 12:41:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 12:41:16 -0000
Received: (qmail 3081 invoked by uid 500); 28 Apr 2003 12:39:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3070 invoked from network); 28 Apr 2003 12:39:14 -0000
Received: from h002.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.215)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:39:14 -0000
Received: (cpmta 4921 invoked from network); 28 Apr 2003 05:39:15 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.215) with SMTP; 28 Apr 2003 05:39:15 -0700
X-Sent: 28 Apr 2003 12:39:15 GMT
Message-ID: <0b0401c30d83$2a6a6b00$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: <lucene-user@jakarta.apache.org>
Subject: Bug when using IndexSearcher on empty RAMDirectory?
Date: Mon, 28 Apr 2003 08:39:08 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0B01_01C30D61.A2B3D870"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0B01_01C30D61.A2B3D870
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

First I created a RAMDirectory and then searched it when it was empty. =
And I got a NullPointerException. I looked in the API for a way to =
determine if the directory is empty so that I could add code to prevent =
searching an empty directory, but I could not find such a method (like =
isEmpty?).

Does anyone have any suggestions or should I simply trap the =
NullPointerException?

Here is the example that causes the problem:

import java.io.IOException;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.store.RAMDirectory;

public class BugTest {
    public static void main(String[] args) throws IOException {
        RAMDirectory indexStore =3D new RAMDirectory();
        IndexSearcher searcher =3D new IndexSearcher(indexStore);
    }
}

Here is the exception:

java.lang.NullPointerException
at org.apache.lucene.store.RAMInputStream.<init>(RAMDirectory.java:217)
at org.apache.lucene.store.RAMDirectory.openFile(RAMDirectory.java:182)
at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:106)
at org.apache.lucene.store.Lock$With.run(Lock.java:116)
at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:80)
at BugTest.main(BugTest.java:10)
Exception in thread "main"=20

Thanks,
David Medinets
Quality =3D Resource Multiplication
http://www.codebits.com

------=_NextPart_000_0B01_01C30D61.A2B3D870--


From MAILER-DAEMON Mon Apr 28 12:55:47 2003
Return-Path: 
 <lucene-user-return-4300-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44552 invoked from network); 28 Apr 2003 12:55:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:55:47 -0000
Received: (qmail 11407 invoked by uid 97); 28 Apr 2003 12:57:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11400 invoked from network); 28 Apr 2003 12:57:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 12:57:46 -0000
Received: (qmail 44277 invoked by uid 500); 28 Apr 2003 12:55:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44265 invoked from network); 28 Apr 2003 12:55:44 -0000
Received: from a17-250-248-86.apple.com (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 28 Apr 2003 12:55:44 -0000
Received: from asmtp02.mac.com (asmtp02-qfe3 [10.13.10.66])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h3SCtj0x020608
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 05:55:45 -0700 (PDT)
Received: from mac.com ([62.167.210.141]) by asmtp02.mac.com
          (Netscape Messaging Server 4.15) with ESMTP id HE218W00.728 for
          <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 05:55:44 -0700
Date: Mon, 28 Apr 2003 14:55:53 +0200
Subject: Re: Bug when using IndexSearcher on empty RAMDirectory?
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <0b0401c30d83$2a6a6b00$6422a8c0@medined01>
Message-Id: <BE9A4AEA-7978-11D7-BD02-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Monday, Apr 28, 2003, at 14:39 Europe/Zurich, David Medinets wrote:

> Does anyone have any suggestions or should I simply trap the  
> NullPointerException?

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
IndexReader.html#indexExists(org.apache.lucene.store.Directory)?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 14:44:57 2003
Return-Path: 
 <lucene-user-return-4301-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59277 invoked from network); 28 Apr 2003 14:44:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 14:44:57 -0000
Received: (qmail 14150 invoked by uid 97); 28 Apr 2003 14:46:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14143 invoked from network); 28 Apr 2003 14:46:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 14:46:57 -0000
Received: (qmail 57911 invoked by uid 500); 28 Apr 2003 14:44:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57856 invoked from network); 28 Apr 2003 14:44:39 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 28 Apr 2003 14:44:39 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id J3QYSVCG; Mon, 28 Apr 2003 10:48:41 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query
Date: Mon, 28 Apr 2003 10:44:53 -0400
Message-ID: <00b601c30d94$c0585080$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00B7_01C30D73.3946B080"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00B7_01C30D73.3946B080
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi All,
I have submitted a bug report on this issue to bugzilla, but since I
haven't got any response to it I ask you guys
 
When the RangeQuery.toString() outputs. The result is something like
this: "PostDate:[0ddiz2jml-null]"

But the QueryParser does not handles the (-) sign (Throws and
exception), it expects the "TO" keyword. So in order for it to parse the
string. 

The String has to be converted to "PostDate:[0ddiz2jml TO null]" instead
of "PostDate:[0ddiz2jml-null]"

Is this a BUG?

BTW: I use Lucene 1.3-RC1

 

Thanks,

Aviran Mordo


------=_NextPart_000_00B7_01C30D73.3946B080--



From MAILER-DAEMON Mon Apr 28 14:53:14 2003
Return-Path: 
 <lucene-user-return-4302-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82965 invoked from network); 28 Apr 2003 14:53:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 14:53:14 -0000
Received: (qmail 14454 invoked by uid 97); 28 Apr 2003 14:55:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14447 invoked from network); 28 Apr 2003 14:55:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 14:55:14 -0000
Received: (qmail 82692 invoked by uid 500); 28 Apr 2003 14:53:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82678 invoked from network); 28 Apr 2003 14:53:09 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 28 Apr 2003 14:53:09 -0000
Message-ID: <20030428145309.97445.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Mon, 28 Apr 2003 07:53:09 PDT
Date: Mon, 28 Apr 2003 07:53:09 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: prefixquery not working on migrating to Lucene 1.3
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AD2@mshyd1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Take a look at StandardFilter, I believe that's it.

Otis

--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Otis,
> I am using the following Analyzer. Can you please point me as to
> where I
> need to change so that '\' characters are not thrown off. Also I
> thought
> that wild card query terms that end with a * (like
> path:/u/biswasg/demo\
> Docs*) do not pass through the analyzer. Am I correct ?
> 
>
<---------------------------------snip--------------------------------->
> import org.apache.lucene.analysis.standard.StandardTokenizer;
> 
> /**
>  * Personalized Analyser to be used by Lucene to analyze the text in
> both 
>  * indexing and searching.
>  *
>  * @author Velayudham Radhakrishnan
>  * @version $Id: MyAnalyzer.java,v 1.4 2003/01/30 12:09:25 dantam Exp
> $
>  */
> public class MyAnalyzer  extends Analyzer
> {   
>     /**
>      * Default no-arg Constructor
>      */
>     public MyAnalyzer()
>     {
> 	this.stopWords = STOP_WORDS;
> 	this.stopTable = StopFilter.makeStopTable(stopWords); 
>     }
>     
>     /*
>      * Constuctor with 1 arg.
>      * 
>      * @param stopWords an array to stop words.
>      */
>     public MyAnalyzer(String[] stopWords)
>     {
> 	this.stopWords = stopWords;
> 	this.stopTable = StopFilter.makeStopTable(stopWords); 
>     }
>     
>     /*
>      * Create a token stream for this analyzer.
>      *
>      * @param reader Reader from which data is read.
>      */
>     public final TokenStream tokenStream(final Reader reader)
>     {
> 	TokenStream result = new StandardTokenizer(reader);
> 	
> 	result = new StandardFilter(result);
> 	result = new LowerCaseFilter(result);
> 	result = new StopFilter(result, stopTable);
> 	result = new PorterStemFilter(result);
> 	
> 	return result;
>     }
>     
>     // An array containing some common words that are not usually
> useful for
> 
>     //searching.
>     private static String[] stopWords;
>     
>     // Stop table.
>     private static Hashtable stopTable;
> 
>     // Stop Words.
>     private static final String[] STOP_WORDS = {
> 	"a"       , "and"     , "are"     , "as"      ,
> 	"at"      , "be"      , "but"     , "by"      ,
> 	"for"     , "if"      , "in"      , "into"    ,
> 	"is"      , "it"      , "no"      , "not"     ,
> 	"of"      , "on"      , "or"      , "s"       ,
> 	"such"    , "t"       , "that"    , "the"     ,
> 	"their"   , "then"    , "there"   , "these"   ,
> 	"they"    , "this"    , "to"      , "was"     ,
> 	"will"    ,
> 	"with"
>     };    
> }
> 
>
<-----------------------------/snip-----------------------------------------
> ------->
> 
> Thanks,
>   Goutam
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, April 28, 2003 1:23 AM
> To: Lucene Users List
> Subject: RE: prefixquery not working on migrating to Lucene 1.3
> 
> 
> This ought to get entered in the FAQ at jGuru...
> You need to use an Analyzer that does not throw away characters like
> '\'.
> 
> Otis
> 
> 
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > Otis,
> > 
> > Your suggestion worked. Thanks. However there is one more problem.
> If
> > the
> > path contains a '-' I do not get the results, even if I escape the
> > '-'. For
> > example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
> > path:/u/biswasg/Install/jakarta*, however, I get the correct
> results.
> > So I
> > figure out that the '-' causing the problem here. How do I deal
> with
> > these
> > cases ?
> > 
> > Thanks always,
> > Goutam
> > 
> > 
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Sunday, April 27, 2003 7:06 PM
> > To: Lucene Users List
> > Subject: Re: prefixquery not working on migrating to Lucene 1.3
> > 
> > 
> > I think that may be due to one of the new QueryParser methods.
> > setWildcardLowercase(boolean), I think.  Check the source for the
> > exact
> > method name.
> > 
> > Otis
> > 
> > 
> > --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > > Hi,
> > > 
> > > I have been using queries like: filename:(txt) AND
> > > path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> > > results. I
> > > moved to Lucene 1.3 a while ago and find that these queries no
> > longer
> > > work.
> > > The Lucene Query is: +txt +path:/u/biswasg/install*. I observe
> that
> > > the path
> > > has been lowercased (which did not happen when I was using 1.2).
> > > 
> > > I made the following changes in my code when I moved over to 1.3.
> > > 	
> > >         QueryParser qp = new QueryParser(defaultSearchField, new
> > > MyAnalyzer());
> > >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > > 
> > > How can I prevent Lucene from lower casing query terms that ends
> > with
> > > a *. I
> > > must mention that my objective here is to restrict my search
> > results
> > > to
> > > those files that begin with a spceified prefix.
> > > 
> > > Any help on this is appreciated.
> > > 
> > > Thanks,
> > > -Goutam
> > > 
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 15:02:02 2003
Return-Path: 
 <lucene-user-return-4303-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2723 invoked from network); 28 Apr 2003 15:02:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:02:02 -0000
Received: (qmail 15108 invoked by uid 97); 28 Apr 2003 15:04:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15101 invoked from network); 28 Apr 2003 15:04:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 15:04:02 -0000
Received: (qmail 2253 invoked by uid 500); 28 Apr 2003 15:01:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2172 invoked from network); 28 Apr 2003 15:01:55 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:01:55 -0000
Message-ID: <20030428150157.26181.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Mon, 28 Apr 2003 08:01:57 PDT
Date: Mon, 28 Apr 2003 08:01:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Range Query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00b601c30d94$c0585080$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Aviran,

Yes, it looks like there is a discrepency between QueryParser's Range
Query syntax and RangeQuery.toString() method.
I can change the latter, but who uses toString() for anything other
than human-friendly print-outs?

What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?

Otis

--- Aviran Mordo <amordo@infosciences.com> wrote:
> Hi All,
> I have submitted a bug report on this issue to bugzilla, but since I
> haven't got any response to it I ask you guys
>  
> When the RangeQuery.toString() outputs. The result is something like
> this: "PostDate:[0ddiz2jml-null]"
> 
> But the QueryParser does not handles the (-) sign (Throws and
> exception), it expects the "TO" keyword. So in order for it to parse
> the
> string. 
> 
> The String has to be converted to "PostDate:[0ddiz2jml TO null]"
> instead
> of "PostDate:[0ddiz2jml-null]"
> 
> Is this a BUG?
> 
> BTW: I use Lucene 1.3-RC1
> 
>  
> 
> Thanks,
> 
> Aviran Mordo
> 
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 15:18:58 2003
Return-Path: 
 <lucene-user-return-4304-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42616 invoked from network); 28 Apr 2003 15:18:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:18:58 -0000
Received: (qmail 15719 invoked by uid 97); 28 Apr 2003 15:20:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15712 invoked from network); 28 Apr 2003 15:20:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 15:20:58 -0000
Received: (qmail 42107 invoked by uid 500); 28 Apr 2003 15:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42052 invoked from network); 28 Apr 2003 15:18:49 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:18:49 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by
 isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service
 Version 5.5.2653.13)
	id J3QYSVDD; Mon, 28 Apr 2003 11:22:53 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Range Query
Date: Mon, 28 Apr 2003 11:19:03 -0400
Message-ID: <00be01c30d99$868c39c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20030428150157.26181.qmail@web12702.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well I use the toString() method to store the query in the result page
in order to run the same query to get the next page.
The reason that I use the toString method this way is because the query
can be very complicated and consists of several Query objects
(TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery) combined
together in one BooleanQuery. So this way I build the query object once
according to the parameters that the user specified, and by using the
toString() method I store the query string in the result page so when
the user hit next page I can requery and get the next page, because at
this point I don't have the original query parameters which can be a
very long list of fields and values. Unless there is a better way of
doing it?

As for your question what is lo0ddiz2jml. This is a DateField

Aviran.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Monday, April 28, 2003 11:02 AM
To: Lucene Users List
Subject: Re: Range Query


Aviran,

Yes, it looks like there is a discrepency between QueryParser's Range
Query syntax and RangeQuery.toString() method. I can change the latter,
but who uses toString() for anything other than human-friendly
print-outs?

What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?

Otis

--- Aviran Mordo <amordo@infosciences.com> wrote:
> Hi All,
> I have submitted a bug report on this issue to bugzilla, but since I 
> haven't got any response to it I ask you guys
>  
> When the RangeQuery.toString() outputs. The result is something like
> this: "PostDate:[0ddiz2jml-null]"
> 
> But the QueryParser does not handles the (-) sign (Throws and 
> exception), it expects the "TO" keyword. So in order for it to parse 
> the string.
> 
> The String has to be converted to "PostDate:[0ddiz2jml TO null]" 
> instead of "PostDate:[0ddiz2jml-null]"
> 
> Is this a BUG?
> 
> BTW: I use Lucene 1.3-RC1
> 
>  
> 
> Thanks,
> 
> Aviran Mordo
> 
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 15:21:47 2003
Return-Path: 
 <lucene-user-return-4305-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53307 invoked from network); 28 Apr 2003 15:21:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:21:47 -0000
Received: (qmail 15836 invoked by uid 97); 28 Apr 2003 15:23:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15829 invoked from network); 28 Apr 2003 15:23:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 15:23:47 -0000
Received: (qmail 52222 invoked by uid 500); 28 Apr 2003 15:21:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52189 invoked from network); 28 Apr 2003 15:21:32 -0000
Received: from h006.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.219)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:21:32 -0000
Received: (cpmta 2102 invoked from network); 28 Apr 2003 08:21:33 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.219) with SMTP; 28 Apr 2003 08:21:33 -0700
X-Sent: 28 Apr 2003 15:21:33 GMT
Message-ID: <0b1a01c30d99$d7213160$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BE9A4AEA-7978-11D7-BD02-000393760B7E@mac.com>
Subject: Re: Bug when using IndexSearcher on empty RAMDirectory?
Date: Mon, 28 Apr 2003 11:21:27 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Most excellent. Thanks.

----- Original Message ----- 
From: "petite_abeille" <petite_abeille@mac.com>
> > Does anyone have any suggestions or should I simply trap the  
> > NullPointerException?
> 
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
> IndexReader.html#indexExists(org.apache.lucene.store.Directory)?




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 15:50:31 2003
Return-Path: 
 <lucene-user-return-4306-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23431 invoked from network); 28 Apr 2003 15:50:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:50:31 -0000
Received: (qmail 17158 invoked by uid 97); 28 Apr 2003 15:52:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17151 invoked from network); 28 Apr 2003 15:52:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 15:52:31 -0000
Received: (qmail 23142 invoked by uid 500); 28 Apr 2003 15:50:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23111 invoked from network); 28 Apr 2003 15:50:26 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 28 Apr 2003 15:50:26 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h3SFoMj7018761
 for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 21:20:23 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4K9RA0X>; Mon, 28 Apr 2003 21:20:22 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AD8@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: prefixquery not working on migrating to Lucene 1.3
Date: Mon, 28 Apr 2003 21:20:16 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis

I forgot to mention that 'path' is a Keyword field, which does not/should
not pass through an Analyzer. I'm still not able to hunt down the culprit
here :-)

Thanks,
Goutam


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, April 28, 2003 8:23 PM
To: Lucene Users List
Subject: RE: prefixquery not working on migrating to Lucene 1.3


Take a look at StandardFilter, I believe that's it.

Otis

--- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> Otis,
> I am using the following Analyzer. Can you please point me as to
> where I
> need to change so that '\' characters are not thrown off. Also I
> thought
> that wild card query terms that end with a * (like
> path:/u/biswasg/demo\
> Docs*) do not pass through the analyzer. Am I correct ?
> 
>
<---------------------------------snip--------------------------------->
> import org.apache.lucene.analysis.standard.StandardTokenizer;
> 
> /**
>  * Personalized Analyser to be used by Lucene to analyze the text in
> both 
>  * indexing and searching.
>  *
>  * @author Velayudham Radhakrishnan
>  * @version $Id: MyAnalyzer.java,v 1.4 2003/01/30 12:09:25 dantam Exp
> $
>  */
> public class MyAnalyzer  extends Analyzer
> {   
>     /**
>      * Default no-arg Constructor
>      */
>     public MyAnalyzer()
>     {
> 	this.stopWords = STOP_WORDS;
> 	this.stopTable = StopFilter.makeStopTable(stopWords); 
>     }
>     
>     /*
>      * Constuctor with 1 arg.
>      * 
>      * @param stopWords an array to stop words.
>      */
>     public MyAnalyzer(String[] stopWords)
>     {
> 	this.stopWords = stopWords;
> 	this.stopTable = StopFilter.makeStopTable(stopWords); 
>     }
>     
>     /*
>      * Create a token stream for this analyzer.
>      *
>      * @param reader Reader from which data is read.
>      */
>     public final TokenStream tokenStream(final Reader reader)
>     {
> 	TokenStream result = new StandardTokenizer(reader);
> 	
> 	result = new StandardFilter(result);
> 	result = new LowerCaseFilter(result);
> 	result = new StopFilter(result, stopTable);
> 	result = new PorterStemFilter(result);
> 	
> 	return result;
>     }
>     
>     // An array containing some common words that are not usually
> useful for
> 
>     //searching.
>     private static String[] stopWords;
>     
>     // Stop table.
>     private static Hashtable stopTable;
> 
>     // Stop Words.
>     private static final String[] STOP_WORDS = {
> 	"a"       , "and"     , "are"     , "as"      ,
> 	"at"      , "be"      , "but"     , "by"      ,
> 	"for"     , "if"      , "in"      , "into"    ,
> 	"is"      , "it"      , "no"      , "not"     ,
> 	"of"      , "on"      , "or"      , "s"       ,
> 	"such"    , "t"       , "that"    , "the"     ,
> 	"their"   , "then"    , "there"   , "these"   ,
> 	"they"    , "this"    , "to"      , "was"     ,
> 	"will"    ,
> 	"with"
>     };    
> }
> 
>
<-----------------------------/snip-----------------------------------------
> ------->
> 
> Thanks,
>   Goutam
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, April 28, 2003 1:23 AM
> To: Lucene Users List
> Subject: RE: prefixquery not working on migrating to Lucene 1.3
> 
> 
> This ought to get entered in the FAQ at jGuru...
> You need to use an Analyzer that does not throw away characters like
> '\'.
> 
> Otis
> 
> 
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > Otis,
> > 
> > Your suggestion worked. Thanks. However there is one more problem.
> If
> > the
> > path contains a '-' I do not get the results, even if I escape the
> > '-'. For
> > example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
> > path:/u/biswasg/Install/jakarta*, however, I get the correct
> results.
> > So I
> > figure out that the '-' causing the problem here. How do I deal
> with
> > these
> > cases ?
> > 
> > Thanks always,
> > Goutam
> > 
> > 
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Sunday, April 27, 2003 7:06 PM
> > To: Lucene Users List
> > Subject: Re: prefixquery not working on migrating to Lucene 1.3
> > 
> > 
> > I think that may be due to one of the new QueryParser methods.
> > setWildcardLowercase(boolean), I think.  Check the source for the
> > exact
> > method name.
> > 
> > Otis
> > 
> > 
> > --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
> > > Hi,
> > > 
> > > I have been using queries like: filename:(txt) AND
> > > path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
> > > results. I
> > > moved to Lucene 1.3 a while ago and find that these queries no
> > longer
> > > work.
> > > The Lucene Query is: +txt +path:/u/biswasg/install*. I observe
> that
> > > the path
> > > has been lowercased (which did not happen when I was using 1.2).
> > > 
> > > I made the following changes in my code when I moved over to 1.3.
> > > 	
> > >         QueryParser qp = new QueryParser(defaultSearchField, new
> > > MyAnalyzer());
> > >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > > 
> > > How can I prevent Lucene from lower casing query terms that ends
> > with
> > > a *. I
> > > must mention that my objective here is to restrict my search
> > results
> > > to
> > > those files that begin with a spceified prefix.
> > > 
> > > Any help on this is appreciated.
> > > 
> > > Thanks,
> > > -Goutam
> > > 
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 16:00:45 2003
Return-Path: 
 <lucene-user-return-4307-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57276 invoked from network); 28 Apr 2003 16:00:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 16:00:45 -0000
Received: (qmail 17683 invoked by uid 97); 28 Apr 2003 16:02:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17676 invoked from network); 28 Apr 2003 16:02:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 16:02:46 -0000
Received: (qmail 56963 invoked by uid 500); 28 Apr 2003 16:00:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56938 invoked from network); 28 Apr 2003 16:00:41 -0000
Received: from innocence.interface-business.de (193.101.57.202)
  by daedalus.apache.org with SMTP; 28 Apr 2003 16:00:41 -0000
Received: from rathole (rathole-srv.interface-business.de [193.101.57.204])
	by innocence.interface-business.de (8.12.9/8.12.6/ifb evision: 1.24 $) with
 SMTP id h3SG0g1Q054751
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 18:00:42 +0200 (CEST)
	(envelope-from kristian.hermsdorf@ifbus.de)
Received: from chuck.interface-business.de ([193.101.57.34]) by rathole;
 Mon, 28 Apr 2003 18:01:22 +0200 (MEST)
Received: from buddelflink (buddelflink.interface-business.de [193.101.57.21])
 	by chuck.interface-business.de (8.12.9/8.12.5) with ESMTP id h3SG0Z2K049623
 	for <lucene-user@jakarta.apache.org>;
 Mon,
 28 Apr 2003 18:00:35 +0200 (CEST) 	(envelope-from kristian.hermsdorf@ifbus.de)
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: prefixquery not working on migrating to Lucene 1.3
References: <7B4F465444F8D51184B500065B3817508A9AD8@mshyd1.hyd.deshaw.com>
Message-ID: <oprocj28dwhawgj6@mail>
From: Kristian Hermsdorf <kristian.hermsdorf@ifbus.de>
Organization: Interface Business
Content-Type: multipart/mixed; boundary="----------Igemi6NWN7knEsxyUo95pa"
MIME-Version: 1.0
Date: Mon, 28 Apr 2003 18:00:34 +0200
In-Reply-To: <7B4F465444F8D51184B500065B3817508A9AD8@mshyd1.hyd.deshaw.com>
User-Agent: Opera7.10/Win32 M2 build 2840
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------------Igemi6NWN7knEsxyUo95pa
Content-Type: text/plain; charset=iso-8859-15; format=flowed
Content-Transfer-Encoding: quoted-printable
X-MIME-Autoconverted: from 8bit to quoted-printable by
 chuck.interface-business.de id h3SG0Z2K049623

Hi

I experienced this problem some time ago. The queryParser does not unesca=
pe=20
escaping characters like \.

So the search for file:foo\ bar is no query "foo bar" but "foo\ bar".
I added a unquote-method to the queryparser.jj for I needed the escaping=20
for filesearches in keyword-fields, too.

Bye.

The diff was made to version 1.3-dev1 20030129.

Kristian


On Mon, 28 Apr 2003 21:20:16 +0530, Biswas, Goutam_Kumar <Goutam-Kumar-=20
Biswas@deshaw.com> wrote:

> Otis
>
> I forgot to mention that 'path' is a Keyword field, which does not/shou=
ld
> not pass through an Analyzer. I'm still not able to hunt down the culpr=
it
> here :-)
>
> Thanks,
> Goutam
>
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, April 28, 2003 8:23 PM
> To: Lucene Users List
> Subject: RE: prefixquery not working on migrating to Lucene 1.3
>
>
> Take a look at StandardFilter, I believe that's it.
>
> Otis
>
> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
>> Otis,
>> I am using the following Analyzer. Can you please point me as to
>> where I
>> need to change so that '\' characters are not thrown off. Also I
>> thought
>> that wild card query terms that end with a * (like
>> path:/u/biswasg/demo\
>> Docs*) do not pass through the analyzer. Am I correct ?
>>
>>
> <---------------------------------snip---------------------------------=
>
>> import org.apache.lucene.analysis.standard.StandardTokenizer;
>>
>> /**
>> * Personalized Analyser to be used by Lucene to analyze the text in
>> both * indexing and searching.
>> *
>> * @author Velayudham Radhakrishnan
>> * @version $Id: MyAnalyzer.java,v 1.4 2003/01/30 12:09:25 dantam Exp
>> $
>> */
>> public class MyAnalyzer  extends Analyzer
>> {   /**
>> * Default no-arg Constructor
>> */
>> public MyAnalyzer()
>> {
>> 	this.stopWords =3D STOP_WORDS;
>> 	this.stopTable =3D StopFilter.makeStopTable(stopWords); }
>> /*
>> * Constuctor with 1 arg.
>> * * @param stopWords an array to stop words.
>> */
>> public MyAnalyzer(String[] stopWords)
>> {
>> 	this.stopWords =3D stopWords;
>> 	this.stopTable =3D StopFilter.makeStopTable(stopWords); }
>> /*
>> * Create a token stream for this analyzer.
>> *
>> * @param reader Reader from which data is read.
>> */
>> public final TokenStream tokenStream(final Reader reader)
>> {
>> 	TokenStream result =3D new StandardTokenizer(reader);
>> =09
>> 	result =3D new StandardFilter(result);
>> 	result =3D new LowerCaseFilter(result);
>> 	result =3D new StopFilter(result, stopTable);
>> 	result =3D new PorterStemFilter(result);
>> =09
>> 	return result;
>> }
>> // An array containing some common words that are not usually
>> useful for
>>
>> //searching.
>> private static String[] stopWords;
>> // Stop table.
>> private static Hashtable stopTable;
>>
>> // Stop Words.
>> private static final String[] STOP_WORDS =3D {
>> 	"a"       , "and"     , "are"     , "as"      ,
>> 	"at"      , "be"      , "but"     , "by"      ,
>> 	"for"     , "if"      , "in"      , "into"    ,
>> 	"is"      , "it"      , "no"      , "not"     ,
>> 	"of"      , "on"      , "or"      , "s"       ,
>> 	"such"    , "t"       , "that"    , "the"     ,
>> 	"their"   , "then"    , "there"   , "these"   ,
>> 	"they"    , "this"    , "to"      , "was"     ,
>> 	"will"    ,
>> 	"with"
>> };    }
>>
>>
> <-----------------------------/snip------------------------------------=
---=20
>
>
> --
>> ------->
>>
>> Thanks,
>> Goutam
>>
>> -----Original Message-----
>> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>> Sent: Monday, April 28, 2003 1:23 AM
>> To: Lucene Users List
>> Subject: RE: prefixquery not working on migrating to Lucene 1.3
>>
>>
>> This ought to get entered in the FAQ at jGuru...
>> You need to use an Analyzer that does not throw away characters like
>> '\'.
>>
>> Otis
>>
>>
>> --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrote:
>> > Otis,
>> > > Your suggestion worked. Thanks. However there is one more problem.
>> If
>> > the
>> > path contains a '-' I do not get the results, even if I escape the
>> > '-'. For
>> > example: path:/u/biswasg/Install/jakarta\-tomcat*. If I search for
>> > path:/u/biswasg/Install/jakarta*, however, I get the correct
>> results.
>> > So I
>> > figure out that the '-' causing the problem here. How do I deal
>> with
>> > these
>> > cases ?
>> > > Thanks always,
>> > Goutam
>> > > > -----Original Message-----
>> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>> > Sent: Sunday, April 27, 2003 7:06 PM
>> > To: Lucene Users List
>> > Subject: Re: prefixquery not working on migrating to Lucene 1.3
>> > > > I think that may be due to one of the new QueryParser methods.
>> > setWildcardLowercase(boolean), I think.  Check the source for the
>> > exact
>> > method name.
>> > > Otis
>> > > > --- "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com> wrot=
e:
>> > > Hi,
>> > > > > I have been using queries like: filename:(txt) AND
>> > > path:(/u/biswasg/Install*) with Lucene 1.2 which gave me correct
>> > > results. I
>> > > moved to Lucene 1.3 a while ago and find that these queries no
>> > longer
>> > > work.
>> > > The Lucene Query is: +txt +path:/u/biswasg/install*. I observe
>> that
>> > > the path
>> > > has been lowercased (which did not happen when I was using 1.2).
>> > > > > I made the following changes in my code when I moved over to=20
>> 1.3.
>> > > =09
>> > >         QueryParser qp =3D new QueryParser(defaultSearchField, new
>> > > MyAnalyzer());
>> > >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>> > > > > How can I prevent Lucene from lower casing query terms that en=
ds
>> > with
>> > > a *. I
>> > > must mention that my objective here is to restrict my search
>> > results
>> > > to
>> > > those files that begin with a spceified prefix.
>> > > > > Any help on this is appreciated.
>> > > > > Thanks,
>> > > -Goutam
>> > > > > > >
>> >
>> ---------------------------------------------------------------------
>> > > To unsubscribe, e-mail:
>> lucene-user-unsubscribe@jakarta.apache.org
>> > > For additional commands, e-mail:
>> > lucene-user-help@jakarta.apache.org
>> > > > > > __________________________________
>> > Do you Yahoo!?
>> > The New Yahoo! Search - Faster. Easier. Bingo.
>> > http://search.yahoo.com
>> > >
>> ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> > For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>> > >
>> ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> > For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>> >
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> The New Yahoo! Search - Faster. Easier. Bingo.
>> http://search.yahoo.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



--=20
ACRONYM: Acronym Causing Recursion, Obviously Numbing Your Mind =A0

Kristian Hermsdorf

interface:projects gmbh	=09
Tollkewitzer Stra=DFe  49	=09
01277 Dresden		=09


tel.: ++49-351-3 18 09 39

mail: Kristian.Hermsdorf@interface-business.de
priv: kristian@entropus.de

------------Igemi6NWN7knEsxyUo95pa
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------------Igemi6NWN7knEsxyUo95pa--


From MAILER-DAEMON Mon Apr 28 17:29:01 2003
Return-Path: 
 <lucene-user-return-4308-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46691 invoked from network); 28 Apr 2003 17:29:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 17:29:01 -0000
Received: (qmail 20448 invoked by uid 97); 28 Apr 2003 17:31:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20441 invoked from network); 28 Apr 2003 17:31:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 17:31:02 -0000
Received: (qmail 46365 invoked by uid 500); 28 Apr 2003 17:28:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46353 invoked from network); 28 Apr 2003 17:28:57 -0000
Received: from relay3.hrnoc.net (216.120.225.15)
  by daedalus.apache.org with SMTP; 28 Apr 2003 17:28:57 -0000
Received: from mailbox.hrnoc.net ([216.120.225.22])
	by relay3.hrnoc.net with smtp (Exim 4.14)
	id 19ACQt-000746-3b
	for lucene-user@jakarta.apache.org; Mon, 28 Apr 2003 13:28:51 -0400
Received: (qmail 26569 invoked by uid 89); 28 Apr 2003 17:28:57 -0000
Received: from p70-83.acedsl.com (HELO guliver)
 (dimitar@websyn.com@66.114.70.83)
  by mailbox.hrnoc.net with SMTP; 28 Apr 2003 17:28:57 -0000
Message-ID: <002201c30daf$8ea1eb80$0a00a8c0@sonce>
From: "Dimitar Georgievski" <dimitar@websyn.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <7B4F465444F8D51184B500065B3817508A9AD8@mshyd1.hyd.deshaw.com>
 <oprocj28dwhawgj6@mail>
Subject: File formats supported by Lucene
Date: Mon, 28 Apr 2003 13:56:55 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi,

this is a newbie question. i'm interested to know is Lucene capable of
converting different file formats to text or html?
one of the task should read new files in a given folder, convert them to
text or HTML files and create a summary of the content before the files are
submitted for indexing. can lucene do this?

if the answer is yes could someone please direct me to the location in the
documentation where I can find more about it?  i just had a chance to
briefly browse the documentation and still haven't tried to index files with
it.

thanks,
dimitar


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 18:09:46 2003
Return-Path: 
 <lucene-user-return-4309-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12402 invoked from network); 28 Apr 2003 18:09:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:09:46 -0000
Received: (qmail 21862 invoked by uid 97); 28 Apr 2003 18:11:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21855 invoked from network); 28 Apr 2003 18:11:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 18:11:48 -0000
Received: (qmail 12181 invoked by uid 500); 28 Apr 2003 18:09:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12169 invoked from network); 28 Apr 2003 18:09:43 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:09:43 -0000
Message-ID: <20030428180946.64328.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP;
 Mon, 28 Apr 2003 11:09:46 PDT
Date: Mon, 28 Apr 2003 11:09:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: File formats supported by Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <002201c30daf$8ea1eb80$0a00a8c0@sonce>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Check the top entries in Lucene FAQ at jGuru.com.
That should answer your question.

Otis

--- Dimitar Georgievski <dimitar@websyn.com> wrote:
> hi,
> 
> this is a newbie question. i'm interested to know is Lucene capable
> of
> converting different file formats to text or html?
> one of the task should read new files in a given folder, convert them
> to
> text or HTML files and create a summary of the content before the
> files are
> submitted for indexing. can lucene do this?
> 
> if the answer is yes could someone please direct me to the location
> in the
> documentation where I can find more about it?  i just had a chance to
> briefly browse the documentation and still haven't tried to index
> files with
> it.
> 
> thanks,
> dimitar
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 18:23:49 2003
Return-Path: 
 <lucene-user-return-4310-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38955 invoked from network); 28 Apr 2003 18:23:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:23:49 -0000
Received: (qmail 22094 invoked by uid 97); 28 Apr 2003 18:25:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22087 invoked from network); 28 Apr 2003 18:25:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 18:25:52 -0000
Received: (qmail 32968 invoked by uid 500); 28 Apr 2003 18:22:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32908 invoked from network); 28 Apr 2003 18:22:31 -0000
Received: from precieuse.cirano.qc.ca (207.162.57.25)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:22:31 -0000
Received: from marthe.cirano.qc.ca (marthe.cirano.qc.ca [207.162.57.59])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id h3SIMZY02640
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 14:22:35 -0400
Received: from localhost (vauchers@localhost)
	by marthe.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id h3SIMY204372
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 14:22:34 -0400
Date: Mon, 28 Apr 2003 14:22:34 -0400 (EDT)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: lucene-user@jakarta.apache.org
Subject: How to store document meta information
Message-ID: <Pine.LNX.4.44.0304281422190.4340-100000@marthe.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello everyone,

I've got a document that I run through an information extraction engine 
that returns a list of concepts associated to a document with an 
appropriate relevancy factor  (for example, with a news article, it might 
return sport=100%, litterature=84% and politics=10%). 

I would like to index these concepts with an indication of their relevancy 
levels. Is there a recommended way of doing this? Searching the FAQs, I 
found none, but from my knowledge of lucene, I gather I could do it the 
following ways:

1) If all concepts were to be stored in a single field (as I would 
prefer), I don't think I can use field boosting, so I would have to 
probably hold multiple instances of my concept (e.g. I could have 100 
"sport", 84 "litterature" and 10 "politics") in my field.

2) I could use multiple fields with varying boost factors. But I would be 
forced to determine ahead of time how many concepts I'll have to perform 
searches on all of the appropriate fields. This could probably affect the 
performance of the app (I say this with no numbers, simple intuition, so 
correct me if I'm wrong).

Any ideas, pointers or links are appreciated,
sv



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 18:37:27 2003
Return-Path: 
 <lucene-user-return-4311-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65708 invoked from network); 28 Apr 2003 18:37:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:37:27 -0000
Received: (qmail 22392 invoked by uid 97); 28 Apr 2003 18:39:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22385 invoked from network); 28 Apr 2003 18:39:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 18:39:29 -0000
Received: (qmail 65385 invoked by uid 500); 28 Apr 2003 18:37:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65370 invoked from network); 28 Apr 2003 18:37:22 -0000
Received: from gremlin.ics.uci.edu (128.195.1.70)
  by daedalus.apache.org with SMTP; 28 Apr 2003 18:37:22 -0000
Received: from pv182039.reshsg.uci.edu (pv182039.reshsg.uci.edu
 [128.195.182.39])
	by gremlin.ics.uci.edu (8.12.9/8.12.9) with ESMTP id h3SIahlg012142
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 11:36:43 -0700 (PDT)
Date: Mon, 28 Apr 2003 11:38:34 -0700 (Pacific Daylight Time)
From: "Joshua O'Madadhain" <jmadden@ics.uci.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to store document meta information
In-Reply-To: <Pine.LNX.4.44.0304281422190.4340-100000@marthe.cirano.qc.ca>
Message-ID: <Pine.WNT.4.51.0304281130360.-105711@syzygy.reshsg.uci.edu>
References: <Pine.LNX.4.44.0304281422190.4340-100000@marthe.cirano.qc.ca>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-ICS-MailScanner: Found to be clean
X-ICS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-129.6, required 5, EMAIL_ATTRIBUTION, IN_REP_TO,
	MIME_EXCESSIVE_QP, QUOTED_EMAIL_TEXT, REFERENCES, REPLY_WITH_QUOTES,
	USER_AGENT_PINE, USER_IN_WHITELIST)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Mon, 28 Apr 2003, Stephane Vaucher wrote:

> I've got a document that I run through an information extraction engine
> that returns a list of concepts associated to a document with an
> appropriate relevancy factor (for example, with a news article, it might
> return sport=100%, litterature=84% and politics=10%).

It's unclear what the semantics of your relevancy measure are.  Is it
something like a fuzzy set measure ('this article is 100% in the set of
documents about sports, 84% in ... literature, and 10% in politics')?

> I would like to index these concepts with an indication of their relevancy
> levels. Is there a recommended way of doing this? Searching the FAQs, I
> found none, but from my knowledge of lucene, I gather I could do it the
> following ways:
>
> 1) If all concepts were to be stored in a single field (as I would
> prefer), I don't think I can use field boosting, so I would have to
> probably hold multiple instances of my concept (e.g. I could have 100
> "sport", 84 "litterature" and 10 "politics") in my field.
>
> 2) I could use multiple fields with varying boost factors. But I would be
> forced to determine ahead of time how many concepts I'll have to perform
> searches on all of the appropriate fields. This could probably affect the
> performance of the app (I say this with no numbers, simple intuition, so
> correct me if I'm wrong).

How do you intend to use these concepts in the search process?  That is,
how will these concepts be used by (a) the user in specifying a query, (b)
the indexer in storing the associated documents, (c) the searcher in
retrieving documents, and (d) the presentation of the results to the user?
Without knowing these things, it's hard to answer your question (at least
for me).

Regards,

Joshua O'Madadhain

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
  Joshua O'Madadhain: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 21:09:04 2003
Return-Path: 
 <lucene-user-return-4312-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87655 invoked from network); 28 Apr 2003 21:09:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 21:09:04 -0000
Received: (qmail 26936 invoked by uid 97); 28 Apr 2003 21:11:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26929 invoked from network); 28 Apr 2003 21:11:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 21:11:08 -0000
Received: (qmail 87355 invoked by uid 500); 28 Apr 2003 21:09:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87342 invoked from network); 28 Apr 2003 21:09:00 -0000
Received: from precieuse.cirano.qc.ca (207.162.57.25)
  by daedalus.apache.org with SMTP; 28 Apr 2003 21:09:00 -0000
Received: from marthe.cirano.qc.ca (marthe.cirano.qc.ca [207.162.57.59])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id h3SL96Y13786
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 17:09:06 -0400
Received: from localhost (vauchers@localhost)
	by marthe.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id h3SL94t04985
	for <lucene-user@jakarta.apache.org>; Mon, 28 Apr 2003 17:09:04 -0400
Date: Mon, 28 Apr 2003 17:09:04 -0400 (EDT)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to store document meta information
In-Reply-To: <Pine.WNT.4.51.0304281130360.-105711@syzygy.reshsg.uci.edu>
Message-ID: <Pine.LNX.4.44.0304281528470.4340-100000@marthe.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Mon, 28 Apr 2003, Joshua O'Madadhain wrote:

> On Mon, 28 Apr 2003, Stephane Vaucher wrote:
> 
> > I've got a document that I run through an information extraction engine
> > that returns a list of concepts associated to a document with an
> > appropriate relevancy factor (for example, with a news article, it might
> > return sport=100%, litterature=84% and politics=10%).
> 
> It's unclear what the semantics of your relevancy measure are.  Is it
> something like a fuzzy set measure ('this article is 100% in the set of
> documents about sports, 84% in ... literature, and 10% in politics')?

My IR server extracts entities such as geographic locations and 
people names and give a weight using some sort of combination between a 
statistic and linguistic model to attribute a weight that should 
determine the importance of the term. It's been a while since my AI 
course, so I hope I'm not saying nonsence, but it probably is fuzzy.

example:
If an input is a news article, it can return for example:
"United States" type=geo location weight=98 frequency=4
"Bush"          type=person name  weight=78 fequency=2


> 
> > I would like to index these concepts with an indication of their relevancy
> > levels. Is there a recommended way of doing this? Searching the FAQs, I
> > found none, but from my knowledge of lucene, I gather I could do it the
> > following ways:
> >
> > 1) If all concepts were to be stored in a single field (as I would
> > prefer), I don't think I can use field boosting, so I would have to
> > probably hold multiple instances of my concept (e.g. I could have 100
> > "sport", 84 "litterature" and 10 "politics") in my field.
> >
> > 2) I could use multiple fields with varying boost factors. But I would be
> > forced to determine ahead of time how many concepts I'll have to perform
> > searches on all of the appropriate fields. This could probably affect the
> > performance of the app (I say this with no numbers, simple intuition, so
> > correct me if I'm wrong).
> 
> How do you intend to use these concepts in the search process?  That is,
> how will these concepts be used by (a) the user in specifying a query, (b)
> the indexer in storing the associated documents, (c) the searcher in
> retrieving documents, and (d) the presentation of the results to the user?
> Without knowing these things, it's hard to answer your question (at least
> for me).

I hope I answer your questions correctly:

a) a query could include geographical locations extracted, so a user might 
want to search for american news, so he might specify "United States" and 
articles with a high weight for U.S. should show up first.
b) I'll have to store these concepts in a (or multiple fields) so I can 
search on it. I need to find a way to represent the weight though...
c) I'll have fields with concepts. How I use it will depend on the way I 
index the docs.
d) I would like to show the concept found in the result set, so I can help 
a user refine his search. e.g. a search "manchester uniter" returns docs 
with concepts 'sports'. I would allow a user to add the concept 'sports' 
to his query.

My two points described the ways I thought I could index concept fields.

cheers,
sv

> Regards,
> 
> Joshua O'Madadhain
> 
>  jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
>   Joshua O'Madadhain: Information Scientist, Musician, Philosopher-At-Tall
>  It's that moment of dawning comprehension that I live for--Bill Watterson
> My opinions are too rational and insightful to be those of any organization.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Apr 28 23:00:00 2003
Return-Path: 
 <lucene-user-return-4313-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73043 invoked from network); 28 Apr 2003 23:00:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 23:00:00 -0000
Received: (qmail 29846 invoked by uid 97); 28 Apr 2003 23:02:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29839 invoked from network); 28 Apr 2003 23:02:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 23:02:05 -0000
Received: (qmail 72743 invoked by uid 500); 28 Apr 2003 22:59:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72726 invoked from network); 28 Apr 2003 22:59:56 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 28 Apr 2003 22:59:56 -0000
Received: (cpmta 23602 invoked from network); 28 Apr 2003 15:59:57 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 28 Apr 2003 15:59:57 -0700
X-Sent: 28 Apr 2003 22:59:57 GMT
Message-ID: <0c2c01c30dd9$e0561cb0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: <lucene-user@jakarta.apache.org>
Cc: <novajug@yahoogroups.com>
Subject: Role-based Access Control Using Lucene
Date: Mon, 28 Apr 2003 18:59:49 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0C29_01C30DB8.57AFABE0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0C29_01C30DB8.57AFABE0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I was bored this week so I've been exploring how Lucene can be used for =
Role-Based Access Control. If you're interested, I have a blob entry at =
http://affy.blogspot.com/2003_04_27_affy_archive.html#200212974. This is =
my first somewhat significant effort at using Lucene, so if y'all have =
any comments, I'd love to get constructive advice.

thanks,
David Medinets
Quality =3D Resource Multiplication
http://www.codebits.com


------=_NextPart_000_0C29_01C30DB8.57AFABE0--


From MAILER-DAEMON Mon Apr 28 23:07:29 2003
Return-Path: 
 <lucene-user-return-4314-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90402 invoked from network); 28 Apr 2003 23:07:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Apr 2003 23:07:29 -0000
Received: (qmail 18 invoked by uid 97); 28 Apr 2003 23:09:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11 invoked from network); 28 Apr 2003 23:09:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 Apr 2003 23:09:34 -0000
Received: (qmail 90103 invoked by uid 500); 28 Apr 2003 23:07:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90091 invoked from network); 28 Apr 2003 23:07:26 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au)
 (210.50.55.251)
  by daedalus.apache.org with SMTP; 28 Apr 2003 23:07:26 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au
 [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 9CE9810683A
	for <lucene-user@jakarta.apache.org>; Tue, 29 Apr 2003 09:10:23 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Range Query
Date: Tue, 29 Apr 2003 09:03:18 +1000
User-Agent: KMail/1.4.3
References: <20030428150157.26181.qmail@web12702.mail.yahoo.com>
In-Reply-To: <20030428150157.26181.qmail@web12702.mail.yahoo.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200304290903.18029@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I can change the latter, but who uses toString() for anything other
> than human-friendly print-outs?

Ispecifically use the toString() method to create the string representation of 
the query and store them in the database. In the future, user can browse 
through the list of queries that she/he has run and re-execute them. 

I found exactly the same problem with Aviran and I had to create a RangeQuery 
wrapper object that translate the toString() method correctly to be parsed by 
QueryParser again.


victor



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 01:07:29 2003
Return-Path: 
 <lucene-user-return-4315-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49789 invoked from network); 29 Apr 2003 01:07:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 01:07:29 -0000
Received: (qmail 2271 invoked by uid 97); 29 Apr 2003 01:09:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2264 invoked from network); 29 Apr 2003 01:09:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 01:09:35 -0000
Received: (qmail 49475 invoked by uid 500); 29 Apr 2003 01:07:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49456 invoked from network); 29 Apr 2003 01:07:25 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 29 Apr 2003 01:07:25 -0000
Message-ID: <20030429010734.11015.qmail@web12705.mail.yahoo.com>
Received: from [24.90.65.225] by web12705.mail.yahoo.com via HTTP;
 Mon, 28 Apr 2003 18:07:34 PDT
Date: Mon, 28 Apr 2003 18:07:34 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Range Query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00be01c30d99$868c39c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This sounds like a web application.  I'll assume this runs in a servlet
container.
You could store the (Range)Query instance in the HttpSession as well. 
This is more reliable than relying on toString(), in my opinion.

Otis


--- Aviran Mordo <amordo@infosciences.com> wrote:
> Well I use the toString() method to store the query in the result
> page
> in order to run the same query to get the next page.
> The reason that I use the toString method this way is because the
> query
> can be very complicated and consists of several Query objects
> (TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery) combined
> together in one BooleanQuery. So this way I build the query object
> once
> according to the parameters that the user specified, and by using the
> toString() method I store the query string in the result page so when
> the user hit next page I can requery and get the next page, because
> at
> this point I don't have the original query parameters which can be a
> very long list of fields and values. Unless there is a better way of
> doing it?
> 
> As for your question what is lo0ddiz2jml. This is a DateField
> 
> Aviran.
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Monday, April 28, 2003 11:02 AM
> To: Lucene Users List
> Subject: Re: Range Query
> 
> 
> Aviran,
> 
> Yes, it looks like there is a discrepency between QueryParser's Range
> Query syntax and RangeQuery.toString() method. I can change the
> latter,
> but who uses toString() for anything other than human-friendly
> print-outs?
> 
> What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?
> 
> Otis
> 
> --- Aviran Mordo <amordo@infosciences.com> wrote:
> > Hi All,
> > I have submitted a bug report on this issue to bugzilla, but since
> I 
> > haven't got any response to it I ask you guys
> >  
> > When the RangeQuery.toString() outputs. The result is something
> like
> > this: "PostDate:[0ddiz2jml-null]"
> > 
> > But the QueryParser does not handles the (-) sign (Throws and 
> > exception), it expects the "TO" keyword. So in order for it to
> parse 
> > the string.
> > 
> > The String has to be converted to "PostDate:[0ddiz2jml TO null]" 
> > instead of "PostDate:[0ddiz2jml-null]"
> > 
> > Is this a BUG?
> > 
> > BTW: I use Lucene 1.3-RC1
> > 
> >  
> > 
> > Thanks,
> > 
> > Aviran Mordo
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 12:26:14 2003
Return-Path: 
 <lucene-user-return-4316-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67096 invoked from network); 29 Apr 2003 12:26:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 12:26:14 -0000
Received: (qmail 19530 invoked by uid 97); 29 Apr 2003 12:28:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19523 invoked from network); 29 Apr 2003 12:28:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 12:28:13 -0000
Received: (qmail 66830 invoked by uid 500); 29 Apr 2003 12:26:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66819 invoked from network); 29 Apr 2003 12:26:10 -0000
Received: from unknown (HELO dsl.ephotocorp.com) (61.11.16.19)
  by daedalus.apache.org with SMTP; 29 Apr 2003 12:26:10 -0000
Received: from jade ([192.168.100.37])
          by dsl.ephotocorp.com (Lotus Domino Release 5.0.8)
          with SMTP id 2003042917561179:2668 ;
          Tue, 29 Apr 2003 17:56:11 +0530
Message-ID: <000b01c30e4a$e86a8690$2564a8c0@jade>
From: "Harpreet S Walia" <harpreet@sansuisoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Index space requirements
Date: Tue, 29 Apr 2003 17:58:52 +0530
MIME-Version: 1.0
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-MIMETrack: Itemize by SMTP Server on SansuiLAN1/sspl(Release 5.0.8 |June 18,
 2001) at
 04/29/2003 05:56:11 PM,
	Serialize by Router on SansuiLAN1/sspl(Release 5.0.8 |June 18,
 2001) at 04/29/2003
 05:56:14 PM,
	Serialize complete at 04/29/2003 05:56:14 PM
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0008_01C30E78.FEA7F3B0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0008_01C30E78.FEA7F3B0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset="iso-8859-1"

Hi,

I have a index which is about 4g.b in size . now if i opmimize this =
index it seems to take extra space of abt. 2-3g.b during the =
optimization step. Once this is done the size again comes down.=20

What i would like to know is weather there is a basis on which i can =
calculate the amount of space which would be required for optimizing a =
given index .=20

Thanks and Regards
Harpreet

------=_NextPart_000_0008_01C30E78.FEA7F3B0--


From MAILER-DAEMON Tue Apr 29 14:53:32 2003
Return-Path: 
 <lucene-user-return-4317-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97950 invoked from network); 29 Apr 2003 14:53:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 14:53:32 -0000
Received: (qmail 24077 invoked by uid 97); 29 Apr 2003 14:55:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24070 invoked from network); 29 Apr 2003 14:55:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 14:55:32 -0000
Received: (qmail 24220 invoked by uid 500); 29 Apr 2003 13:47:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24112 invoked from network); 29 Apr 2003 13:47:24 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com)
 (216.74.150.80)
  by daedalus.apache.org with SMTP; 29 Apr 2003 13:47:24 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
Subject: RE: Role-based Access Control Using Lucene
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Date: Tue, 29 Apr 2003 09:52:02 -0400
Message-ID: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B7E2@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Role-based Access Control Using Lucene
Thread-Index: AcMN2pKfEJGlb++ETZGa3PuQd1+WkwAe4Iwv
From: "Hui Ouyang" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>
Cc: <novajug@yahoogroups.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

VmVyeSBpbnRlcmVzdGluZyENCkRvIG5vdCBrbm93IGFib3V0IFJCQUMuIENvdWxkIFJCQUMgc3Vw
cG9ydC9pbnRlZ3JhdGUgd2l0aCBMREFQIG9yIE5UIE9TIHVzZXIgYWNjZXNzIGNvbnRyb2w/DQpS
ZWdhcmRzLA0KSHVpIE91eWFuZw0KDQoJLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0gDQoJRnJv
bTogRGF2aWQgTWVkaW5ldHMgW21haWx0bzptZWRpbmVkQG10b2xpdmUuY29tXSANCglTZW50OiBN
b24gNC8yOC8yMDAzIDY6NTkgUE0gDQoJVG86IGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9y
ZyANCglDYzogbm92YWp1Z0B5YWhvb2dyb3Vwcy5jb20gDQoJU3ViamVjdDogUm9sZS1iYXNlZCBB
Y2Nlc3MgQ29udHJvbCBVc2luZyBMdWNlbmUNCgkNCgkNCg0KCUkgd2FzIGJvcmVkIHRoaXMgd2Vl
ayBzbyBJJ3ZlIGJlZW4gZXhwbG9yaW5nIGhvdyBMdWNlbmUgY2FuIGJlIHVzZWQgZm9yIFJvbGUt
QmFzZWQgQWNjZXNzIENvbnRyb2wuIElmIHlvdSdyZSBpbnRlcmVzdGVkLCBJIGhhdmUgYSBibG9i
IGVudHJ5IGF0IGh0dHA6Ly9hZmZ5LmJsb2dzcG90LmNvbS8yMDAzXzA0XzI3X2FmZnlfYXJjaGl2
ZS5odG1sIzIwMDIxMjk3NC4gVGhpcyBpcyBteSBmaXJzdCBzb21ld2hhdCBzaWduaWZpY2FudCBl
ZmZvcnQgYXQgdXNpbmcgTHVjZW5lLCBzbyBpZiB5J2FsbCBoYXZlIGFueSBjb21tZW50cywgSSdk
IGxvdmUgdG8gZ2V0IGNvbnN0cnVjdGl2ZSBhZHZpY2UuDQoJDQoJdGhhbmtzLA0KCURhdmlkIE1l
ZGluZXRzDQoJUXVhbGl0eSA9IFJlc291cmNlIE11bHRpcGxpY2F0aW9uDQoJaHR0cDovL3d3dy5j
b2RlYml0cy5jb20NCgkNCgkNCg0K


From MAILER-DAEMON Tue Apr 29 15:43:49 2003
Return-Path: 
 <lucene-user-return-4318-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58936 invoked from network); 29 Apr 2003 15:43:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 15:43:49 -0000
Received: (qmail 25836 invoked by uid 97); 29 Apr 2003 15:45:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25829 invoked from network); 29 Apr 2003 15:45:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 15:45:50 -0000
Received: (qmail 51277 invoked by uid 500); 29 Apr 2003 14:11:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51245 invoked from network); 29 Apr 2003 14:11:44 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 29 Apr 2003 14:11:44 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 29 Apr 2003 09:11:35 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ45G6H4>; Tue, 29 Apr 2003 09:11:34 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4C4B@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index space requirements
Date: Tue, 29 Apr 2003 09:11:27 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I believe optimization will take 2X your index size, as it has to rewrite out the entire index into a new set of files.

It may not be quite 2X, but its pretty close in my observations.

Dan

-----Original Message-----
From: Harpreet S Walia [mailto:harpreet@sansuisoftware.com] 
Sent: Tuesday, April 29, 2003 7:29 AM
To: Lucene Users List
Subject: Index space requirements


Hi,

I have a index which is about 4g.b in size . now if i opmimize this index it seems to take extra space of abt. 2-3g.b during the optimization step. Once this is done the size again comes down. 

What i would like to know is weather there is a basis on which i can calculate the amount of space which would be required for optimizing a given index . 

Thanks and Regards
Harpreet

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 16:54:08 2003
Return-Path: 
 <lucene-user-return-4319-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95482 invoked from network); 29 Apr 2003 16:54:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 16:54:08 -0000
Received: (qmail 28084 invoked by uid 97); 29 Apr 2003 16:56:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28077 invoked from network); 29 Apr 2003 16:56:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 16:56:09 -0000
Received: (qmail 42112 invoked by uid 500); 29 Apr 2003 15:27:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42041 invoked from network); 29 Apr 2003 15:27:35 -0000
Received: from web12708.mail.yahoo.com (216.136.173.245)
  by daedalus.apache.org with SMTP; 29 Apr 2003 15:27:35 -0000
Message-ID: <20030429152737.87682.qmail@web12708.mail.yahoo.com>
Received: from [24.90.65.225] by web12708.mail.yahoo.com via HTTP;
 Tue, 29 Apr 2003 08:27:37 PDT
Date: Tue, 29 Apr 2003 08:27:37 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Index space requirements
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <000b01c30e4a$e86a8690$2564a8c0@jade>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The space used doubles during optimization, I believe.

Otis

--- Harpreet S Walia <harpreet@sansuisoftware.com> wrote:
> Hi,
> 
> I have a index which is about 4g.b in size . now if i opmimize this
> index it seems to take extra space of abt. 2-3g.b during the
> optimization step. Once this is done the size again comes down. 
> 
> What i would like to know is weather there is a basis on which i can
> calculate the amount of space which would be required for optimizing
> a given index . 
> 
> Thanks and Regards
> Harpreet
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 17:04:36 2003
Return-Path: 
 <lucene-user-return-4320-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23346 invoked from network); 29 Apr 2003 17:04:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 17:04:36 -0000
Received: (qmail 28495 invoked by uid 97); 29 Apr 2003 17:06:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28488 invoked from network); 29 Apr 2003 17:06:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 17:06:38 -0000
Received: (qmail 56752 invoked by uid 500); 29 Apr 2003 15:42:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56720 invoked from network); 29 Apr 2003 15:42:01 -0000
Received: from h006.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.219)
  by daedalus.apache.org with SMTP; 29 Apr 2003 15:42:01 -0000
Received: (cpmta 15504 invoked from network); 29 Apr 2003 08:42:00 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.219) with SMTP; 29 Apr 2003 08:42:00 -0700
X-Sent: 29 Apr 2003 15:42:00 GMT
Message-ID: <0cee01c30e65$dc8bc8a0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <A0CFB0236E6D2C4B8AD04B52938BB39E24B7E2@germany.prod.thop-ny.triplehop.com>
Subject: Re: Role-based Access Control Using Lucene
Date: Tue, 29 Apr 2003 11:41:54 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: "Hui Ouyang" <hui@triplehop.com>
> Do not know about RBAC. Could RBAC support/integrate with LDAP or NT OS
user access control?

Absolutely. Instead of using a Lucene Directory to hold the list of users
(for validation/data integrity purposes) you could refactor the RBAC class
to use a User abstract class and then create an implementation that gets the
information from LDAP, NT, or anywhere else. I tossed everything into the
same RBAC class simply to demonstrate the concepts. If anyone wants to
integrate RBAC into their applications, I'm available for consulting. And,
btw, I'm not nessarily endorsing the use of Lucene for RBAC, this code is
just proof of concept. The requirements of each application needs to be
evaluated in the context of available resources and other factors.

david

ps - much information about rbac can be found at http://csrc.nist.gov/rbac/.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 21:36:47 2003
Return-Path: 
 <lucene-user-return-4321-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37090 invoked from network); 29 Apr 2003 21:36:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 21:36:47 -0000
Received: (qmail 7206 invoked by uid 97); 29 Apr 2003 21:38:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7199 invoked from network); 29 Apr 2003 21:38:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 21:38:51 -0000
Received: (qmail 29577 invoked by uid 500); 29 Apr 2003 21:33:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29521 invoked from network); 29 Apr 2003 21:33:01 -0000
Received: from sccrmhc03.attbi.com (204.127.202.63)
  by daedalus.apache.org with SMTP; 29 Apr 2003 21:33:01 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by sccrmhc03.attbi.com (sccrmhc03) with SMTP
          id <2003042921330600300flqn3e>; Tue, 29 Apr 2003 21:33:07 +0000
Message-ID: <3EAEEFBC.2010807@lucene.com>
Date: Tue, 29 Apr 2003 14:33:48 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Type information on Tokens?
References: <818623B5FD23D51193200002B32C076106FE4C1A@excsrv44.mayo.edu>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4C1A@excsrv44.mayo.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Armbrust, Daniel C. wrote:
> So far, I can only think of two ways to accomplish this, 1, is to build it into my tokens, i.e. my tokens would look something like "<noun>patient".  I'm afraid there may be some pit-falls with this approach that I haven't identified yet, however, since I haven't tried it out.

This should actually work fine, so long as you use the same analyzer on 
your queries.  Another option would be to put each part of speech in a 
different Lucene field.  I think the token-prefix option would be 
preferable, since you probably don't need separate boost and 
normalization factors for each part of speech.

Doug







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Apr 29 21:49:49 2003
Return-Path: 
 <lucene-user-return-4322-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63007 invoked from network); 29 Apr 2003 21:49:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Apr 2003 21:49:49 -0000
Received: (qmail 7827 invoked by uid 97); 29 Apr 2003 21:51:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7820 invoked from network); 29 Apr 2003 21:51:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 Apr 2003 21:51:53 -0000
Received: (qmail 61745 invoked by uid 500); 29 Apr 2003 21:49:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61659 invoked from network); 29 Apr 2003 21:49:21 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 29 Apr 2003 21:49:21 -0000
Received: from excsrv01.mayo.edu by mhro1.mayo.edu with ESMTP for
 lucene-user@jakarta.apache.org; Tue, 29 Apr 2003 16:49:12 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <GJ45K6Z1>; Tue, 29 Apr 2003 16:49:11 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4C58@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Analyzer use at search time?
Date: Tue, 29 Apr 2003 16:49:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've written an analyzer which uses a filter which I wrote which invokes LVG's (http://umlslex.nlm.nih.gov/lvg/2003/index.html) norm function on each token, and then, if there is more than one result for the token, it puts all of the results into the same position as the original term (via setPositionIncrement(0)).  This works great while indexing documents.

When my filter is run, LVG's norm turns the word "leaves" into "leaf" and "leave".  My filter returns 3 tokens - leaves (position increment 1) leaf (0) and leave(0).

Now, when I search, if I provide the same LVG enabled analyzer, when I search for the word "leaves" I get 0 hits.  I can see that it calls the norm function, and this returns the same three words again as I would expect it to.  But I get 0 hits, even though all 3 words are in the index.

If I search with an analyzer that does not have LVG in its flow, I get the correct hits each of these searches - 

leaves
leaf
leave

So, is there a bug in the way that analyzers are used during a search - in that it does not expect the analyzer to return more than one word in a single spot - or am I misusing lucene?


Thanks, 

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 07:09:16 2003
Return-Path: 
 <lucene-user-return-4323-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32742 invoked from network); 30 Apr 2003 07:09:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 07:09:16 -0000
Received: (qmail 17290 invoked by uid 97); 30 Apr 2003 07:11:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17283 invoked from network); 30 Apr 2003 07:11:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 07:11:26 -0000
Received: (qmail 32498 invoked by uid 500); 30 Apr 2003 07:09:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32484 invoked from network); 30 Apr 2003 07:09:11 -0000
Received: from pine.linde-va.de (145.225.75.243)
  by daedalus.apache.org with SMTP; 30 Apr 2003 07:09:11 -0000
Received: from elm.le.grp (unverified [145.225.75.181]) by pine.Linde-VA.de
 (Rockliffe SMTPRA 5.2.5) with SMTP id <B0002649395@pine.linde-va.de> for
 <lucene-user@jakarta.apache.org>;
 Wed, 30 Apr 2003 09:10:21 +0200
Subject: Values containing numbers, letters and space
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF5513A747.9E9DED15-ONC1256D18.002BD8C8@linde-le.com>
From: Test2.Schwab@Linde-LE.com
Date: Wed, 30 Apr 2003 08:09:21 +0100
X-MIMETrack: Serialize by Router on D1S13/Servers/MUC/VA/Linde-VA(Release
 5.0.8 |June 18, 2001) at
 04/30/2003 09:09:22 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

HI,

I have indexed a database table with Lucene.
It works fine.
I have a column "description" in the table. This filed cann contain values
like "SI 6303 G" ect...
I make a query like this:
queryStr = "proj:3232119 AND ges:01 AND descr: SI 6303 G AND
(recordtype:Equipment OR recordtype:Code)";
I do get nothing for the query. I have tried descr: 'SI 6303 G'. But I
still get nothing
I'm using a Standardanalyzer.
How can I solve this?

Thx for Help,
Arsineh


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 09:21:45 2003
Return-Path: 
 <lucene-user-return-4324-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20599 invoked from network); 30 Apr 2003 09:21:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 09:21:45 -0000
Received: (qmail 20091 invoked by uid 97); 30 Apr 2003 09:23:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20084 invoked from network); 30 Apr 2003 09:23:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 09:23:56 -0000
Received: (qmail 19043 invoked by uid 500); 30 Apr 2003 09:21:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18964 invoked from network); 30 Apr 2003 09:21:07 -0000
Received: from mousepad.xtramind.dfki.de (134.96.191.5)
  by daedalus.apache.org with SMTP; 30 Apr 2003 09:21:07 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 12F9A7DD3
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 11:21:20 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de
 [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id C3B747DC7
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 11:21:17 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Analyzer use at search time?
Date: Wed, 30 Apr 2003 11:21:17 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC01599A@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analyzer use at search time?
Thread-Index: AcMOmU/NulNmzO5rTSiKj1GatBroIwAXw8Xw
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

I had (and have) exactly the same problem: My postfix reducer returns an =
unstemmend
and a stemmed version of the word; but using this analyzer during search =
will give=20
me either less than expected or no hits.

However, using analyzers during indexing that produce more than one =
token has=20
other disadvantages anyway: the index gets much larger and searches =
therefore slower.=20
I would like to use this kind of analyzer therefore only during search, =
but the=20
behavior described above prevents this too.

So, again, is this a bug or did we overlook something?

Regards,

Karsten

-----Urspr=FCngliche Nachricht-----
Von: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu]
Gesendet: Dienstag, 29. April 2003 23:49
An: 'Lucene Users List'
Betreff: Analyzer use at search time?


I've written an analyzer which uses a filter which I wrote which invokes =
LVG's (http://umlslex.nlm.nih.gov/lvg/2003/index.html) norm function on =
each token, and then, if there is more than one result for the token, it =
puts all of the results into the same position as the original term (via =
setPositionIncrement(0)).  This works great while indexing documents.

When my filter is run, LVG's norm turns the word "leaves" into "leaf" =
and "leave".  My filter returns 3 tokens - leaves (position increment 1) =
leaf (0) and leave(0).

Now, when I search, if I provide the same LVG enabled analyzer, when I =
search for the word "leaves" I get 0 hits.  I can see that it calls the =
norm function, and this returns the same three words again as I would =
expect it to.  But I get 0 hits, even though all 3 words are in the =
index.

If I search with an analyzer that does not have LVG in its flow, I get =
the correct hits each of these searches -=20

leaves
leaf
leave

So, is there a bug in the way that analyzers are used during a search - =
in that it does not expect the analyzer to return more than one word in =
a single spot - or am I misusing lucene?


Thanks,=20

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 10:40:42 2003
Return-Path: 
 <lucene-user-return-4325-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17209 invoked from network); 30 Apr 2003 10:40:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 10:40:42 -0000
Received: (qmail 21314 invoked by uid 97); 30 Apr 2003 10:42:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21306 invoked from network); 30 Apr 2003 10:42:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 10:42:40 -0000
Received: (qmail 16918 invoked by uid 500); 30 Apr 2003 10:40:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16906 invoked from network); 30 Apr 2003 10:40:37 -0000
Received: from h002.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.215)
  by daedalus.apache.org with SMTP; 30 Apr 2003 10:40:37 -0000
Received: (cpmta 1693 invoked from network); 30 Apr 2003 03:40:36 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.215) with SMTP; 30 Apr 2003 03:40:36 -0700
X-Sent: 30 Apr 2003 10:40:36 GMT
Message-ID: <0db701c30f04$ebd61eb0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF5513A747.9E9DED15-ONC1256D18.002BD8C8@linde-le.com>
Subject: Re: Values containing numbers, letters and space
Date: Wed, 30 Apr 2003 06:40:29 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Have you tried using Field.keyword() to index the description column without
tokenizing it?

----- Original Message -----
From: <Test2.Schwab@Linde-LE.com>
> I have a column "description" in the table. This filed cann contain values
> like "SI 6303 G" ect...



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 13:35:26 2003
Return-Path: 
 <lucene-user-return-4326-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77467 invoked from network); 30 Apr 2003 13:35:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 13:35:26 -0000
Received: (qmail 26325 invoked by uid 97); 30 Apr 2003 13:37:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26317 invoked from network); 30 Apr 2003 13:37:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 13:37:26 -0000
Received: (qmail 76820 invoked by uid 500); 30 Apr 2003 13:35:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76695 invoked from network); 30 Apr 2003 13:35:16 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 30 Apr 2003 13:35:16 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan
 Messaging Security Suite; Wed, 30 Apr 2003 09:35:16 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analyzer use at search time?
Date: Wed, 30 Apr 2003 09:35:16 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BC4@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analyzer use at search time?
Thread-Index: AcMOmU/NulNmzO5rTSiKj1GatBroIwAXw8XwAAjMaGA=
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When looking into something similar to this in the past, I noticed that =
when an anlalyzer returns multiple tokens the query parser treated them =
like a phrase, so when your document was indexed with the word:

foo

Then your search analyzer turns foo into the tokens:

foo
bar

Your query object will be looking for the phrase "foo bar" and your =
document only has the token foo so you get no hits.

I noticed this when I was running the unit tests against a modified =
version of the query parser.

I suspect this is what is causing your trouble, though I don't know how =
to "fix" it, you might consider taking the query parser code as a =
baseline and roll your own that behaves a little differently.

Here is the snip of code from QueryParser that does this:

protected Query =
org.apache.lucene.queryParser.QueryParser.getFieldQuery(String field,
                                Analyzer analyzer,
                                String queryText) {
    // Use the analyzer to get all the tokens, and then build a =
TermQuery,
    // PhraseQuery, or nothing based on the term count

    TokenStream source =3D analyzer.tokenStream(field,
                                              new =
StringReader(queryText));
    Vector v =3D new Vector();
    org.apache.lucene.analysis.Token t;

    while (true) {
      try {
        t =3D source.next();
      }
      catch (IOException e) {
        t =3D null;
      }
      if (t =3D=3D null)
        break;
      v.addElement(t.termText());
    }
    if (v.size() =3D=3D 0)
      return null;
    else if (v.size() =3D=3D 1)
      return new TermQuery(new Term(field, (String) v.elementAt(0)));
    else {
      PhraseQuery q =3D new PhraseQuery();
      q.setSlop(phraseSlop);
      for (int i=3D0; i<v.size(); i++) {
        q.add(new Term(field, (String) v.elementAt(i)));
      }
      return q;
    }
  }


Eric
--
Eric D. Isakson        SAS Institute Inc.
Application Developer  SAS Campus Drive
XML Technologies       Cary, NC 27513
(919) 531-3639         http://www.sas.com



-----Original Message-----
From: Karsten Konrad [mailto:Karsten.Konrad@xtramind.com]=20
Sent: Wednesday, April 30, 2003 5:21 AM
To: Lucene Users List
Subject: AW: Analyzer use at search time?



Hi,

I had (and have) exactly the same problem: My postfix reducer returns an =
unstemmend and a stemmed version of the word; but using this analyzer =
during search will give=20
me either less than expected or no hits.

However, using analyzers during indexing that produce more than one =
token has=20
other disadvantages anyway: the index gets much larger and searches =
therefore slower.=20
I would like to use this kind of analyzer therefore only during search, =
but the=20
behavior described above prevents this too.

So, again, is this a bug or did we overlook something?

Regards,

Karsten

-----Urspr=FCngliche Nachricht-----
Von: Armbrust, Daniel C. [mailto:Armbrust.Daniel@mayo.edu]
Gesendet: Dienstag, 29. April 2003 23:49
An: 'Lucene Users List'
Betreff: Analyzer use at search time?


I've written an analyzer which uses a filter which I wrote which invokes =
LVG's (http://umlslex.nlm.nih.gov/lvg/2003/index.html) norm function on =
each token, and then, if there is more than one result for the token, it =
puts all of the results into the same position as the original term (via =
setPositionIncrement(0)).  This works great while indexing documents.

When my filter is run, LVG's norm turns the word "leaves" into "leaf" =
and "leave".  My filter returns 3 tokens - leaves (position increment 1) =
leaf (0) and leave(0).

Now, when I search, if I provide the same LVG enabled analyzer, when I =
search for the word "leaves" I get 0 hits.  I can see that it calls the =
norm function, and this returns the same three words again as I would =
expect it to.  But I get 0 hits, even though all 3 words are in the =
index.

If I search with an analyzer that does not have LVG in its flow, I get =
the correct hits each of these searches -=20

leaves
leaf
leave

So, is there a bug in the way that analyzers are used during a search - =
in that it does not expect the analyzer to return more than one word in =
a single spot - or am I misusing lucene?


Thanks,=20

Dan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 14:34:34 2003
Return-Path: 
 <lucene-user-return-4327-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38405 invoked from network); 30 Apr 2003 14:34:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:34:34 -0000
Received: (qmail 28431 invoked by uid 97); 30 Apr 2003 14:36:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28424 invoked from network); 30 Apr 2003 14:36:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 14:36:34 -0000
Received: (qmail 36994 invoked by uid 500); 30 Apr 2003 14:34:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36941 invoked from network); 30 Apr 2003 14:34:14 -0000
Received: from unknown (HELO renr.es) (194.224.250.82)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:34:14 -0000
Received: (qmail 9939 invoked by uid 64014); 30 Apr 2003 14:34:36 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean.
 Processed in 0.186509 secs); 30 Apr 2003 14:34:36 -0000
Received: from unknown (HELO JGaliana) (jgaliana@epi.es@[10.162.133.128])
 (envelope-sender <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 30 Apr 2003 14:34:36 -0000
From: "Jose Galiana" <jgaliana@renr.es>
To: <lucene-user@jakarta.apache.org>
Subject: Document with differents field
Date: Wed, 30 Apr 2003 16:40:11 +0200
Message-ID: <OAEAKBIGACBPNEKDMAPPOEMLFAAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_012D_01C30F37.2B23A4C0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_012D_01C30F37.2B23A4C0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_012E_01C30F37.2B23A4C0"


------=_NextPart_001_012E_01C30F37.2B23A4C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

It�s possible to index several documents with different structure?For
example, some document have a title field, and anothers documents don�t.
Some documents have keywords field and others don�t.

Are there any problem with that? performance, search...

Must I to create a unique document structure with empty field to ""?

Greetings.

Jose Galiana

------=_NextPart_001_012E_01C30F37.2B23A4C0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D065263014-30042003>It=B4s =
possible to=20
index several documents with different structure?For example, some =
document have=20
a title field, and anothers documents don=B4t. Some documents have =
keywords field=20
and others don=B4t. </SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D065263014-30042003></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D065263014-30042003>Are =
there any=20
problem with that? performance, search...</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D065263014-30042003></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D065263014-30042003>Must I =
to create a=20
unique document structure with empty field to ""?</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D065263014-30042003></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D065263014-30042003>Greetings.</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D065263014-30042003>Jose=20
Galiana</SPAN></FONT></DIV></BODY></HTML>

------=_NextPart_001_012E_01C30F37.2B23A4C0--

------=_NextPart_000_012D_01C30F37.2B23A4C0--


From MAILER-DAEMON Wed Apr 30 14:45:47 2003
Return-Path: 
 <lucene-user-return-4328-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71184 invoked from network); 30 Apr 2003 14:45:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:45:47 -0000
Received: (qmail 28857 invoked by uid 97); 30 Apr 2003 14:47:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28850 invoked from network); 30 Apr 2003 14:47:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 14:47:47 -0000
Received: (qmail 70914 invoked by uid 500); 30 Apr 2003 14:45:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70896 invoked from network); 30 Apr 2003 14:45:42 -0000
Received: from h004.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.217)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:45:42 -0000
Received: (cpmta 21776 invoked from network); 30 Apr 2003 07:45:43 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.217) with SMTP; 30 Apr 2003 07:45:43 -0700
X-Sent: 30 Apr 2003 14:45:43 GMT
Message-ID: <0efd01c30f27$29f948d0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OAEAKBIGACBPNEKDMAPPOEMLFAAA.jgaliana@renr.es>
Subject: Re: Document with differents field
Date: Wed, 30 Apr 2003 10:45:36 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0EFA_01C30F05.A2412FA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0EFA_01C30F05.A2412FA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm sure others will answer but nothing that I've seen indicates that =
all documents need to have the same fields associated with them. This =
feature of Lucene is very convenient and makes it possible to index many =
different document types in one index.

david
  ----- Original Message -----=20
  From: Jose Galiana=20
  It=B4s possible to index several documents with different structure?

------=_NextPart_000_0EFA_01C30F05.A2412FA0--


From MAILER-DAEMON Wed Apr 30 14:52:46 2003
Return-Path: 
 <lucene-user-return-4329-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80323 invoked from network); 30 Apr 2003 14:52:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:52:46 -0000
Received: (qmail 29025 invoked by uid 97); 30 Apr 2003 14:54:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29018 invoked from network); 30 Apr 2003 14:54:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 14:54:45 -0000
Received: (qmail 80073 invoked by uid 500); 30 Apr 2003 14:52:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80061 invoked from network); 30 Apr 2003 14:52:41 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 30 Apr 2003 14:52:41 -0000
Message-ID: <20030430145243.19295.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP;
 Wed, 30 Apr 2003 07:52:43 PDT
Date: Wed, 30 Apr 2003 07:52:43 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document with differents field
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OAEAKBIGACBPNEKDMAPPOEMLFAAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, different fields in different documents will work.
There is no need for all documents to have the same fields.

Otis

--- Jose Galiana <jgaliana@renr.es> wrote:
> It�s possible to index several documents with different structure?For
> example, some document have a title field, and anothers documents
> don�t.
> Some documents have keywords field and others don�t.
> 
> Are there any problem with that? performance, search...
> 
> Must I to create a unique document structure with empty field to ""?
> 
> Greetings.
> 
> Jose Galiana
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:09:01 2003
Return-Path: 
 <lucene-user-return-4330-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24931 invoked from network); 30 Apr 2003 15:09:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:09:01 -0000
Received: (qmail 29959 invoked by uid 97); 30 Apr 2003 15:11:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29952 invoked from network); 30 Apr 2003 15:11:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:11:01 -0000
Received: (qmail 24330 invoked by uid 500); 30 Apr 2003 15:08:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24262 invoked from network); 30 Apr 2003 15:08:50 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:08:50 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3379686 for lucene-user@jakarta.apache.org;
 Wed, 30 Apr 2003 10:08:52 -0500
Message-ID: <009601c30f2a$6993c1c0$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: running out of file handles when reindexing
Date: Wed, 30 Apr 2003 11:08:52 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is an exception that we've got:

03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
/usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
files) java.io.FileNotFoundException:
/usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
files)
at java.io.RandomAccessFile.open(Native Method)
at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)

Is there a way to predict how many file handles Velocity would require? Is
there a setting I can use to limit this number?

Thank you!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:12:21 2003
Return-Path: 
 <lucene-user-return-4331-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34917 invoked from network); 30 Apr 2003 15:12:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:12:21 -0000
Received: (qmail 79 invoked by uid 97); 30 Apr 2003 15:14:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 71 invoked from network); 30 Apr 2003 15:14:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:14:21 -0000
Received: (qmail 31556 invoked by uid 500); 30 Apr 2003 15:11:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31498 invoked from network); 30 Apr 2003 15:11:33 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:11:33 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3379699 for lucene-user@jakarta.apache.org;
 Wed, 30 Apr 2003 10:11:29 -0500
Message-ID: <009e01c30f2a$c7684b90$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <009601c30f2a$6993c1c0$c1ecc141@sohonet.com>
Subject: Re: running out of file handles when reindexing
Date: Wed, 30 Apr 2003 11:11:22 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I meant to ask Is there a way to predict how many file handles LUCENE
would require?
:)

----- Original Message -----
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 30, 2003 11:08 AM
Subject: running out of file handles when reindexing


> This is an exception that we've got:
>
> 03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> files) java.io.FileNotFoundException:
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> files)
> at java.io.RandomAccessFile.open(Native Method)
> at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>
> Is there a way to predict how many file handles Velocity would require? Is
> there a setting I can use to limit this number?
>
> Thank you!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:14:58 2003
Return-Path: 
 <lucene-user-return-4332-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41379 invoked from network); 30 Apr 2003 15:14:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:14:58 -0000
Received: (qmail 211 invoked by uid 97); 30 Apr 2003 15:16:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 204 invoked from network); 30 Apr 2003 15:16:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:16:58 -0000
Received: (qmail 39090 invoked by uid 500); 30 Apr 2003 15:14:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39006 invoked from network); 30 Apr 2003 15:14:26 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:14:26 -0000
Message-ID: <20030430151428.58720.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP;
 Wed, 30 Apr 2003 08:14:28 PDT
Date: Wed, 30 Apr 2003 08:14:28 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: running out of file handles when reindexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <009601c30f2a$6993c1c0$c1ecc141@sohonet.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think that was covered in the Lucene article at http://onjava.com/
If not, I know it has been covered on this list, so you should be able
to find it in the archives.
The number depends, among other things, on the number of fields used,
whether index is optimized or not, etc.

Otis

--- Andrey Akselrod <aakselrod@runtime.com> wrote:
> This is an exception that we've got:
> 
> 03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many
> open
> files) java.io.FileNotFoundException:
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many
> open
> files)
> at java.io.RandomAccessFile.open(Native Method)
> at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> 
> Is there a way to predict how many file handles Velocity would
> require? Is
> there a setting I can use to limit this number?
> 
> Thank you!
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:21:04 2003
Return-Path: 
 <lucene-user-return-4333-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60563 invoked from network); 30 Apr 2003 15:21:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:21:04 -0000
Received: (qmail 482 invoked by uid 97); 30 Apr 2003 15:23:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 475 invoked from network); 30 Apr 2003 15:23:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:23:04 -0000
Received: (qmail 58546 invoked by uid 500); 30 Apr 2003 15:20:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58510 invoked from network); 30 Apr 2003 15:20:34 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:20:34 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id C5B073687C; Wed, 30 Apr 2003 15:18:16 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id A32D836807
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 15:18:15 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: running out of file handles when reindexing
Date: Wed, 30 Apr 2003 11:20:34 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDCEAMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <009e01c30f2a$c7684b90$c1ecc141@sohonet.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I had a similar problem because I was not explicitly calling close on
IndexSearcher when I created a new one (if the index had changed) I was
doing Seacher = new IndexSeacher() and on Linux I was running out of file
handles I then change it to:

Searcher.close();
Seacher = new IndexSeacher()

and the problem went away.

Hope that helps.

Thanks,

Rob Outar
OneSAF A&I -- SAIC
Software\Data Engineer
321-235-7660
outarr@saic.com <mailto:outarr@saic.com>


-----Original Message-----
From: Andrey Akselrod [mailto:aakselrod@runtime.com]
Sent: Wednesday, April 30, 2003 11:11 AM
To: Lucene Users List
Subject: Re: running out of file handles when reindexing


Sorry, I meant to ask Is there a way to predict how many file handles LUCENE
would require?
:)

----- Original Message -----
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 30, 2003 11:08 AM
Subject: running out of file handles when reindexing


> This is an exception that we've got:
>
> 03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> files) java.io.FileNotFoundException:
> /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> files)
> at java.io.RandomAccessFile.open(Native Method)
> at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>
> Is there a way to predict how many file handles Velocity would require? Is
> there a setting I can use to limit this number?
>
> Thank you!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:30:21 2003
Return-Path: 
 <lucene-user-return-4334-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96450 invoked from network); 30 Apr 2003 15:30:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:30:21 -0000
Received: (qmail 906 invoked by uid 97); 30 Apr 2003 15:32:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 899 invoked from network); 30 Apr 2003 15:32:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:32:22 -0000
Received: (qmail 95700 invoked by uid 500); 30 Apr 2003 15:30:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95642 invoked from network); 30 Apr 2003 15:30:08 -0000
Received: from web12808.mail.yahoo.com (216.136.174.43)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:30:08 -0000
Message-ID: <20030430153011.37546.qmail@web12808.mail.yahoo.com>
Received: from [62.101.66.162] by web12808.mail.yahoo.com via HTTP;
 Wed, 30 Apr 2003 17:30:11 CEST
Date: Wed, 30 Apr 2003 17:30:11 +0200 (CEST)
From: =?iso-8859-1?q?marco=20scibetta?= <marcoscbt@yahoo.it>
Subject: Html parser problem
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1078085991-1051716611=:37128"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1078085991-1051716611=:37128
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I'm using HtmlParser shipped in the lucene-demos-1.2-jar.I modified the htmlparser.jj in order to index .asp file and it works fine.Now I have this error message while parsing html docs (it is not related to the change concerning the .asp files parsing): "Parse Aborted: Encountered "=.
Was expecting one of:
    <ArgName> ...
    <TagEnd> ..." I guess the reason of this error is something inside the <script> tag that the parser doesn't like. Specifically I think thst when the parser encounter something like this "i < 0" inside a <tag> script considers the "<" character as the beginning of a tag and throws an error message. Did anyone have the same problem? Any suggestions? thanks Marco Scibetta


---------------------------------
Yahoo! Cellulari: loghi, suonerie, picture message per il tuo telefonino
--0-1078085991-1051716611=:37128--

From MAILER-DAEMON Wed Apr 30 15:30:40 2003
Return-Path: 
 <lucene-user-return-4335-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97920 invoked from network); 30 Apr 2003 15:30:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:30:40 -0000
Received: (qmail 935 invoked by uid 97); 30 Apr 2003 15:32:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 928 invoked from network); 30 Apr 2003 15:32:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:32:41 -0000
Received: (qmail 97022 invoked by uid 500); 30 Apr 2003 15:30:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96969 invoked from network); 30 Apr 2003 15:30:28 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:30:28 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id C837B3687F; Wed, 30 Apr 2003 15:28:11 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 1828236807
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 15:28:10 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: When is a good time to call optimize()
Date: Wed, 30 Apr 2003 11:30:28 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDOEAMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <MNEPJJAGGPICDNOCBIKDCEAMCJAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The product we are working on allows folks to add files to the index, remove
files from the index, add/remove fields from/to documents in the index, etc.
so the index changes quite a bit.  I was calling optimize after someone
added a file or removed a file but performance was poor.  After how many
changes should I call optimize?  I have noticed since I stopped calling
optimize I have TONS of files in my index folder... So I need to perodically
call optimize to cut down on the number of files... So I am curious what
other folks are doing.  So if anyone has an opinion/solution I would like to
hear it.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 15:43:47 2003
Return-Path: 
 <lucene-user-return-4336-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42362 invoked from network); 30 Apr 2003 15:43:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:43:47 -0000
Received: (qmail 1572 invoked by uid 97); 30 Apr 2003 15:45:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1565 invoked from network); 30 Apr 2003 15:45:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 15:45:48 -0000
Received: (qmail 41328 invoked by uid 500); 30 Apr 2003 15:43:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41295 invoked from network); 30 Apr 2003 15:43:33 -0000
Received: from h002.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.215)
  by daedalus.apache.org with SMTP; 30 Apr 2003 15:43:33 -0000
Received: (cpmta 11341 invoked from network); 30 Apr 2003 08:43:35 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.215) with SMTP; 30 Apr 2003 08:43:35 -0700
X-Sent: 30 Apr 2003 15:43:35 GMT
Message-ID: <0f7801c30f2f$3f236670$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MNEPJJAGGPICDNOCBIKDOEAMCJAA.routar@ideorlando.org>
Subject: Re: When is a good time to call optimize()
Date: Wed, 30 Apr 2003 11:43:28 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does the application have a period of least activity? Perhaps at 5:30am or
on a weekend? If so, that might be a good time.

----- Original Message -----
From: "Rob Outar" <routar@ideorlando.org>
> So if anyone has an opinion/solution I would like to
> hear it.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 16:08:18 2003
Return-Path: 
 <lucene-user-return-4337-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5607 invoked from network); 30 Apr 2003 16:08:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:08:18 -0000
Received: (qmail 2825 invoked by uid 97); 30 Apr 2003 16:10:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2818 invoked from network); 30 Apr 2003 16:10:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 16:10:19 -0000
Received: (qmail 5327 invoked by uid 500); 30 Apr 2003 16:08:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5296 invoked from network); 30 Apr 2003 16:08:15 -0000
Received: from smtp-out1.iol.cz (194.228.2.86)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:08:15 -0000
Received: from fw.shark (unknown [160.218.196.211])
	by smtp-out1.iol.cz (Internet on Line ESMTP server) with ESMTP id A75AC1695C8
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 18:08:27 +0200 (CEST)
Received: from seznam.cz (0-4.shark [192.168.0.4])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h3UG7xMK004928
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 18:08:01 +0200
Message-ID: <3EAFF52E.9030007@seznam.cz>
Date: Wed, 30 Apr 2003 18:09:18 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (Windows; U; Win98; en-US;
 rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: When is a good time to call optimize()
References: <MNEPJJAGGPICDNOCBIKDOEAMCJAA.routar@ideorlando.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It is evergreen of this list, I guess :-).

Nobody can tell you IMHO. You would execute it, when your app is in 
"idle" state and you have changed the index significantly.

I've already implemented an algorithm that does not need any optimize(), 
because the index is optimized automatically (moreover it uses less file 
handles - it is important when your app is under DoS time to time). 
Unfortunately, this solution was implemented in another OSS JAVA search 
engine, and it does not run with Lucene architecture AFAIK. I'm sorry.

-g-

Rob Outar wrote:

>The product we are working on allows folks to add files to the index, remove
>files from the index, add/remove fields from/to documents in the index, etc.
>so the index changes quite a bit.  I was calling optimize after someone
>added a file or removed a file but performance was poor.  After how many
>changes should I call optimize?  I have noticed since I stopped calling
>optimize I have TONS of files in my index folder... So I need to perodically
>call optimize to cut down on the number of files... So I am curious what
>other folks are doing.  So if anyone has an opinion/solution I would like to
>hear it.
>
>Thanks,
>
>Rob
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 16:10:27 2003
Return-Path: 
 <lucene-user-return-4338-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8553 invoked from network); 30 Apr 2003 16:10:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:10:27 -0000
Received: (qmail 2903 invoked by uid 97); 30 Apr 2003 16:12:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2896 invoked from network); 30 Apr 2003 16:12:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 16:12:28 -0000
Received: (qmail 8251 invoked by uid 500); 30 Apr 2003 16:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8238 invoked from network); 30 Apr 2003 16:10:24 -0000
Received: from web40109.mail.yahoo.com (66.218.78.43)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:10:24 -0000
Message-ID: <20030430161027.48508.qmail@web40109.mail.yahoo.com>
Received: from [163.188.121.119] by web40109.mail.yahoo.com via HTTP;
 Wed, 30 Apr 2003 09:10:27 PDT
Date: Wed, 30 Apr 2003 09:10:27 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Using lucene with HSSF from Apache
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Has anyone tried to index xls and doc files?
I'm trying to do with HSSF from apache and using
lucene1.2

This code returns me binary and printing it out gives
junk chracters. File indexed like this returns nothing
upon search. 

public static byte[] parse(File file) throws Exception
  {
    POIFSFileSystem fs = new POIFSFileSystem(new
FileInputStream(file));
HSSFWorkbook wb = new HSSFWorkbook(fs);
byte[] xlsInfo = wb.getBytes();
    System.out.println("xls content :  "+
xlsInfo.toString());
return xlsInfo;
  }

Thanks in advance for your help
Shoba


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu May  1 07:05:59 2003
Return-Path: 
 <lucene-user-return-4351-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77925 invoked from network); 1 May 2003 07:05:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 07:05:59 -0000
Received: (qmail 21412 invoked by uid 97); 1 May 2003 07:08:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21405 invoked from network); 1 May 2003 07:08:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 07:08:09 -0000
Received: (qmail 77703 invoked by uid 500); 1 May 2003 07:05:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77683 invoked from network); 1 May 2003 07:05:55 -0000
Received: from pmdfext.fao.org (168.202.2.15)
  by daedalus.apache.org with SMTP; 1 May 2003 07:05:55 -0000
Received: from PMDFINT ([168.202.2.12])
 by PMDFEXT.fao.org (PMDF V5.2-32 #41665) with ESMTP id
 <0HE7003HN53WXF@PMDFEXT.fao.org> for lucene-user@jakarta.apache.org; Thu,
 1 May 2003 09:07:09 +0200 (MET DST)
Received: from CONVERSION-DAEMON by PMDFINT.fao.org (PMDF V5.2-32 #41664)
 id <0HE700A01543UG@PMDFINT.fao.org>;
 Thu, 01 May 2003 09:07:16 +0200 (MET DST)
Received: from faoexch2.fao.org (faoexch2.fao.org [168.202.2.195])
 by PMDFINT.fao.org (PMDF V5.2-32 #41664)
 with ESMTP id <0HE7005PC542K0@PMDFINT.fao.org>; Thu,
 01 May 2003 09:07:14 +0200 (MET DST)
Received: by faoexch2.fao.org with Internet Mail Service (5.5.2650.21)
 id <KB94S7Z3>; Thu, 01 May 2003 09:05:55 +0200
Content-return: allowed
Date: Wed, 30 Apr 2003 18:28:46 +0200
From: "Hoad, Richard (AFIS)" <Richard.Hoad@fao.org>
Subject: RE: Range Query
To: "'amordo@infosciences.com'" <amordo@infosciences.com>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Cc: "Lepri, Ennio (AFIS)" <Ennio.Lepri@fao.org>
Message-id: <11898960E237D411B53B0060B06BB44504A41006@afexch1.fao.org>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-type: text/plain; CHARSET=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We toString() and reparse queries like the following with no apparent
problems in version 1.2 but something undesirable could have crept into 1.3
RC-1.

+kot:"projects" +added:[19990101-null] +changed:[20030330-null]

The reason the date looks like jibberish (lo0ddiz2jml): We use a
org.apache.lucene.document.Field with the sortable string values you can see
in the above query string.

Richard and Ennio 

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: 29 April 2003 03:08
To: Lucene Users List
Subject: RE: Range Query


This sounds like a web application.  I'll assume this runs in a servlet
container. You could store the (Range)Query instance in the HttpSession as
well. 
This is more reliable than relying on toString(), in my opinion.

Otis


--- Aviran Mordo <amordo@infosciences.com> wrote:
> Well I use the toString() method to store the query in the result page
> in order to run the same query to get the next page.
> The reason that I use the toString method this way is because the
> query
> can be very complicated and consists of several Query objects
> (TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery) combined
> together in one BooleanQuery. So this way I build the query object
> once
> according to the parameters that the user specified, and by using the
> toString() method I store the query string in the result page so when
> the user hit next page I can requery and get the next page, because
> at
> this point I don't have the original query parameters which can be a
> very long list of fields and values. Unless there is a better way of
> doing it?
> 
> As for your question what is lo0ddiz2jml. This is a DateField
> 
> Aviran.
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, April 28, 2003 11:02 AM
> To: Lucene Users List
> Subject: Re: Range Query
> 
> 
> Aviran,
> 
> Yes, it looks like there is a discrepency between QueryParser's Range 
> Query syntax and RangeQuery.toString() method. I can change the 
> latter, but who uses toString() for anything other than human-friendly
> print-outs?
> 
> What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?
> 
> Otis
> 
> --- Aviran Mordo <amordo@infosciences.com> wrote:
> > Hi All,
> > I have submitted a bug report on this issue to bugzilla, but since
> I
> > haven't got any response to it I ask you guys
> >  
> > When the RangeQuery.toString() outputs. The result is something
> like
> > this: "PostDate:[0ddiz2jml-null]"
> > 
> > But the QueryParser does not handles the (-) sign (Throws and
> > exception), it expects the "TO" keyword. So in order for it to
> parse
> > the string.
> > 
> > The String has to be converted to "PostDate:[0ddiz2jml TO null]"
> > instead of "PostDate:[0ddiz2jml-null]"
> > 
> > Is this a BUG?
> > 
> > BTW: I use Lucene 1.3-RC1
> > 
> >  
> > 
> > Thanks,
> > 
> > Aviran Mordo
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 16:31:35 2003
Return-Path: 
 <lucene-user-return-4339-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59907 invoked from network); 30 Apr 2003 16:31:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:31:35 -0000
Received: (qmail 3570 invoked by uid 97); 30 Apr 2003 16:33:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3563 invoked from network); 30 Apr 2003 16:33:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 16:33:36 -0000
Received: (qmail 59611 invoked by uid 500); 30 Apr 2003 16:31:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59598 invoked from network); 30 Apr 2003 16:31:32 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:31:32 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3380003 for lucene-user@jakarta.apache.org;
 Wed, 30 Apr 2003 11:31:35 -0500
Message-ID: <00f001c30f35$f7b7d850$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030430151428.58720.qmail@web12704.mail.yahoo.com>
Subject: Re: running out of file handles when reindexing
Date: Wed, 30 Apr 2003 12:31:35 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, Otis, you are right. It is covered in the list and in the article. I
searched the list prior to posting, but couldn't find anything. I just
noticed that I accidentally searched dev list, rather then user list. Dah!
Thanks for you reply!

-a

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 30, 2003 11:14 AM
Subject: Re: running out of file handles when reindexing


> I think that was covered in the Lucene article at http://onjava.com/
> If not, I know it has been covered on this list, so you should be able
> to find it in the archives.
> The number depends, among other things, on the number of fields used,
> whether index is optimized or not, etc.
>
> Otis
>
> --- Andrey Akselrod <aakselrod@runtime.com> wrote:
> > This is an exception that we've got:
> >
> > 03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
> > /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many
> > open
> > files) java.io.FileNotFoundException:
> > /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many
> > open
> > files)
> > at java.io.RandomAccessFile.open(Native Method)
> > at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> >
> > Is there a way to predict how many file handles Velocity would
> > require? Is
> > there a setting I can use to limit this number?
> >
> > Thank you!
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 16:38:01 2003
Return-Path: 
 <lucene-user-return-4340-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73951 invoked from network); 30 Apr 2003 16:38:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:38:01 -0000
Received: (qmail 3775 invoked by uid 97); 30 Apr 2003 16:40:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3768 invoked from network); 30 Apr 2003 16:40:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 16:40:02 -0000
Received: (qmail 73658 invoked by uid 500); 30 Apr 2003 16:37:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73646 invoked from network); 30 Apr 2003 16:37:57 -0000
Received: from ns.sohonet.com (HELO null.runtime.com) (63.87.238.3)
  by daedalus.apache.org with SMTP; 30 Apr 2003 16:37:57 -0000
Received: from [65.193.236.193] (HELO whitestar)
  by null.runtime.com (CommuniGate Pro SMTP 3.5.2)
  with SMTP id 3380017 for lucene-user@jakarta.apache.org;
 Wed, 30 Apr 2003 11:38:00 -0500
Message-ID: <00fa01c30f36$dd9647d0$c1ecc141@sohonet.com>
From: "Andrey Akselrod" <aakselrod@runtime.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MNEPJJAGGPICDNOCBIKDCEAMCJAA.routar@ideorlando.org>
Subject: Re: running out of file handles when reindexing
Date: Wed, 30 Apr 2003 12:38:01 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No, the problem happens during reindexing in writer.addDocument(doc)
But good catch anyway - I wasn't closing my searches.
thanks!
-a

----- Original Message -----
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 30, 2003 11:20 AM
Subject: RE: running out of file handles when reindexing


> I had a similar problem because I was not explicitly calling close on
> IndexSearcher when I created a new one (if the index had changed) I was
> doing Seacher = new IndexSeacher() and on Linux I was running out of file
> handles I then change it to:
>
> Searcher.close();
> Seacher = new IndexSeacher()
>
> and the problem went away.
>
> Hope that helps.
>
> Thanks,
>
> Rob Outar
> OneSAF A&I -- SAIC
> Software\Data Engineer
> 321-235-7660
> outarr@saic.com <mailto:outarr@saic.com>
>
>
> -----Original Message-----
> From: Andrey Akselrod [mailto:aakselrod@runtime.com]
> Sent: Wednesday, April 30, 2003 11:11 AM
> To: Lucene Users List
> Subject: Re: running out of file handles when reindexing
>
>
> Sorry, I meant to ask Is there a way to predict how many file handles
LUCENE
> would require?
> :)
>
> ----- Original Message -----
> From: "Andrey Akselrod" <aakselrod@runtime.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, April 30, 2003 11:08 AM
> Subject: running out of file handles when reindexing
>
>
> > This is an exception that we've got:
> >
> > 03-04-30 03:00:12,806 ERROR [ThreadPoolThread 1]
> > /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> > files) java.io.FileNotFoundException:
> > /usr/local/tomcat_4.1.24/myapps/cl/WEB-INF/search/_1t.f5 (Too many open
> > files)
> > at java.io.RandomAccessFile.open(Native Method)
> > at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> >
> > Is there a way to predict how many file handles Velocity would require?
Is
> > there a setting I can use to limit this number?
> >
> > Thank you!
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 17:54:57 2003
Return-Path: 
 <lucene-user-return-4341-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25794 invoked from network); 30 Apr 2003 17:54:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 17:54:57 -0000
Received: (qmail 5855 invoked by uid 97); 30 Apr 2003 17:57:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5848 invoked from network); 30 Apr 2003 17:57:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 17:57:00 -0000
Received: (qmail 25552 invoked by uid 500); 30 Apr 2003 17:54:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25541 invoked from network); 30 Apr 2003 17:54:54 -0000
Received: from main.gmane.org (80.91.224.249)
  by daedalus.apache.org with SMTP; 30 Apr 2003 17:54:54 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19Avii-0003d4-00
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 19:50:16 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from news by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19AvW8-0002Ze-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 30 Apr 2003 19:37:16 +0200
From: "Chris Miller" <chris@swebtec.com>
Subject: Performance with a highly dynamic index
Date: Wed, 30 Apr 2003 18:38:27 +0100
Lines: 20
Message-ID: <b8p1kb$9l8$1@main.gmane.org>
X-Complaints-To: usenet@main.gmane.org
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@main.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would like to be able to search against roughly 100,000 documents, with
each document containing roughly 10 fields, only 1 or 2 of which will be
blocks of plain english text (the rest will be set up for range queries,
keywords and the like). Each document will contain around 5KB - 10KB of
text.

So far so good right? I'm confident Lucene can handle far greater volumes
than that as far as searching goes.

But... these documents will be changing quite rapidly, on the order of
50,000 changes/day (a combination of updates/deletes/inserts). I'd like to
be able to constantly update these documents in real-time while still being
able to search against them fairly heavily.

Does this sound feasible or should I not even be attempting this? Are there
any gotchas I should be aware of? If anyone has some real-world experience
with this scenario I'd _really_ appreciate a few comments as to how well
your implementation performs.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 19:05:36 2003
Return-Path: 
 <lucene-user-return-4342-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63123 invoked from network); 30 Apr 2003 19:05:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:05:36 -0000
Received: (qmail 7823 invoked by uid 97); 30 Apr 2003 19:07:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7815 invoked from network); 30 Apr 2003 19:07:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 19:07:39 -0000
Received: (qmail 61230 invoked by uid 500); 30 Apr 2003 19:05:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61132 invoked from network); 30 Apr 2003 19:05:08 -0000
Received: from th00.opsion.fr (62.39.122.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:05:08 -0000
Received: from 10.1.1.15 [10.1.1.15] by th00.opsion.fr id 200304301905.0588;
 Wed, 30 Apr 2003 19:05:05 GMT
Send-By: 81.240.1.91 with Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)
To: <lucene-user@jakarta.apache.org>
Subject: PdfBox 0.6.1
From: <cfrancoys@ibelgique.com>
X-Priority: 3 (normal)
MIME-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 30 Apr 2003 19:05:05 GMT
Message-id: <200304301905.0588@th00.opsion.fr>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi everybody,

I'm new to pdfbox that I recently downloaded (latest
version: 0.6.1). It seems easy to use but I'm
experiencing troubles using it :=20

The following sample code I wrote compiles but raises
an exception when reaching the
LucenePDFDocument.getDocument method ...


 File f =3D new File("test.pdf");
 if ( f !=3D null && f.exists() && f.isFile()=20
      && ( f.getName().endsWith(".pdf")=20
           || f.getName().endsWith(".PDF") ) ){
   try {
    // try to get a pdf document
    Document pdfDoc =3D org.pdfbox.searchengine.
lucene.LucenePDFDocument.getDocument(f);
    Field lucField =3D pdfDoc.getField("contents");
    if ( lucField !=3D null )
 System.out.println( "document : " +
lucField.readerValue() );
 BufferedReader contentsReader =3D =20
new BufferedReader( lucField.readerValue() );

 String line =3D null;
        while( (line =3D contentsReader.readLine() ) !=3D
null ){
         System.out.println( line );
        }
    } catch ( Throwable t ){
      System.out.println("Error parsing the pdf file
: "+"Exception : " + t.getMessage());
   }


Any idea of what I'm doing wrong ?


Cedric Francoys


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 19:11:11 2003
Return-Path: 
 <lucene-user-return-4343-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72351 invoked from network); 30 Apr 2003 19:11:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:11:11 -0000
Received: (qmail 7907 invoked by uid 97); 30 Apr 2003 19:13:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7900 invoked from network); 30 Apr 2003 19:13:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 19:13:14 -0000
Received: (qmail 72063 invoked by uid 500); 30 Apr 2003 19:11:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72036 invoked from network); 30 Apr 2003 19:11:06 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:11:06 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id E4E973F7
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 15:11:10 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 8B7A7124C; Wed, 30 Apr 2003 15:11:10 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 5F4C211C2
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 15:11:10 -0400 (EDT)
Date: Wed, 30 Apr 2003 15:11:10 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PdfBox 0.6.1
In-Reply-To: <200304301905.0588@th00.opsion.fr>
Message-ID: <Pine.GSO.4.53.0304301508410.12184@fury.csh.rit.edu>
References: <200304301905.0588@th00.opsion.fr>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Version 0.6.2 is available here
http://sourceforge.net/project/showfiles.php?group_id=78314

Can you please tell us what the exception is and if it is pdfbox specific
to post it to the pdfbox mailing list( also available on the sourceforge
site ).

Ben Litchfield
http://www.pdfbox.org
http://www.sourceforge.net/projects/pdfbox


On Wed, 30 Apr 2003 cfrancoys@ibelgique.com wrote:

> Hi everybody,
>
> I'm new to pdfbox that I recently downloaded (latest
> version: 0.6.1). It seems easy to use but I'm
> experiencing troubles using it :
>
> The following sample code I wrote compiles but raises
> an exception when reaching the
> LucenePDFDocument.getDocument method ...
>
>
>  File f = new File("test.pdf");
>  if ( f != null && f.exists() && f.isFile()
>       && ( f.getName().endsWith(".pdf")
>            || f.getName().endsWith(".PDF") ) ){
>    try {
>     // try to get a pdf document
>     Document pdfDoc = org.pdfbox.searchengine.
> lucene.LucenePDFDocument.getDocument(f);
>     Field lucField = pdfDoc.getField("contents");
>     if ( lucField != null )
>  System.out.println( "document : " +
> lucField.readerValue() );
>  BufferedReader contentsReader =
> new BufferedReader( lucField.readerValue() );
>
>  String line = null;
>         while( (line = contentsReader.readLine() ) !=
> null ){
>          System.out.println( line );
>         }
>     } catch ( Throwable t ){
>       System.out.println("Error parsing the pdf file
> : "+"Exception : " + t.getMessage());
>    }
>
>
> Any idea of what I'm doing wrong ?
>
>
> Cedric Francoys
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 19:36:32 2003
Return-Path: 
 <lucene-user-return-4344-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52995 invoked from network); 30 Apr 2003 19:36:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:36:32 -0000
Received: (qmail 8664 invoked by uid 97); 30 Apr 2003 19:38:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8657 invoked from network); 30 Apr 2003 19:38:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 19:38:34 -0000
Received: (qmail 50472 invoked by uid 500); 30 Apr 2003 19:35:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50414 invoked from network); 30 Apr 2003 19:35:47 -0000
Received: from h006.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.219)
  by daedalus.apache.org with SMTP; 30 Apr 2003 19:35:47 -0000
Received: (cpmta 27158 invoked from network); 30 Apr 2003 12:35:52 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.219) with SMTP; 30 Apr 2003 12:35:52 -0700
X-Sent: 30 Apr 2003 19:35:52 GMT
Message-ID: <0fcb01c30f4f$b1ebf5d0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <b8p1kb$9l8$1@main.gmane.org>
Subject: Re: Performance with a highly dynamic index
Date: Wed, 30 Apr 2003 15:35:44 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Have you considered using a RAMDirectory and then backing up to disk on a
scheduled basis?

----- Original Message -----
From: "Chris Miller" <chris@swebtec.com>
> But... these documents will be changing quite rapidly, on the order of
> 50,000 changes/day (a combination of updates/deletes/inserts). I'd like to
> be able to constantly update these documents in real-time while still
being
> able to search against them fairly heavily.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 20:24:35 2003
Return-Path: 
 <lucene-user-return-4345-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48543 invoked from network); 30 Apr 2003 20:24:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 20:24:35 -0000
Received: (qmail 9835 invoked by uid 97); 30 Apr 2003 20:26:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9828 invoked from network); 30 Apr 2003 20:26:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 20:26:38 -0000
Received: (qmail 48269 invoked by uid 500); 30 Apr 2003 20:24:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48256 invoked from network); 30 Apr 2003 20:24:31 -0000
Received: from main.gmane.org (80.91.224.249)
  by daedalus.apache.org with SMTP; 30 Apr 2003 20:24:31 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19Ay64-0006w6-00
	for <lucene-user@jakarta.apache.org>; Wed, 30 Apr 2003 22:22:32 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from news by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19Ay54-0006re-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 30 Apr 2003 22:21:30 +0200
From: "Chris Miller" <chris@swebtec.com>
Subject: Re: Performance with a highly dynamic index
Date: Wed, 30 Apr 2003 21:22:47 +0100
Lines: 31
Message-ID: <b8pb8a$pok$1@main.gmane.org>
References: <b8p1kb$9l8$1@main.gmane.org>
 <0fcb01c30f4f$b1ebf5d0$6422a8c0@medined01>
X-Complaints-To: usenet@main.gmane.org
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: news <news@main.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No I hadn't, but I will now, thanks for the pointer!  Are you're saying that
a disk-based index will be far too slow in my situation? I'll have to check
how big my index is going to grow, but we can always throw a gig or three of
RAM at it until it's happy if it comes down to that.

I'm not sure how useful backing up the index will be in our situation, I'll
have to play with that scenario a bit to see if it's worthwhile. I have a
feeling it might be easier just to rebuild the index completely if things go
tits up, since it'll be very difficult to get the slightly stale index back
in sync with our data anyway - depending on how long that takes of course!

If anyone out there has any more tips/advice it's most welcome ;-)

Thanks again David


"David Medinets" <medined@mtolive.com> wrote in message
news:0fcb01c30f4f$b1ebf5d0$6422a8c0@medined01...
> Have you considered using a RAMDirectory and then backing up to disk on a
> scheduled basis?
>
> ----- Original Message -----
> From: "Chris Miller" <chris@swebtec.com>
> > But... these documents will be changing quite rapidly, on the order of
> > 50,000 changes/day (a combination of updates/deletes/inserts). I'd like
to
> > be able to constantly update these documents in real-time while still
> being
> > able to search against them fairly heavily.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Apr 30 20:53:59 2003
Return-Path: 
 <lucene-user-return-4346-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22903 invoked from network); 30 Apr 2003 20:53:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Apr 2003 20:53:59 -0000
Received: (qmail 10749 invoked by uid 97); 30 Apr 2003 20:56:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10742 invoked from network); 30 Apr 2003 20:56:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 Apr 2003 20:56:03 -0000
Received: (qmail 22599 invoked by uid 500); 30 Apr 2003 20:53:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22585 invoked from network); 30 Apr 2003 20:53:55 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 30 Apr 2003 20:53:55 -0000
Received: (cpmta 2591 invoked from network); 30 Apr 2003 13:54:00 -0700
Received: from 66.171.39.196 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 30 Apr 2003 13:54:00 -0700
X-Sent: 30 Apr 2003 20:54:00 GMT
Message-ID: <100801c30f5a$9c60f8e0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <b8p1kb$9l8$1@main.gmane.org>
 <0fcb01c30f4f$b1ebf5d0$6422a8c0@medined01> <b8pb8a$pok$1@main.gmane.org>
Subject: Re: Performance with a highly dynamic index
Date: Wed, 30 Apr 2003 16:53:52 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: "Chris Miller" <chris@swebtec.com>
> Are you're saying that a disk-based index will be far too slow in my
situation?
Only because of the ratio of updating compared to the querying. By the way,
I think one consequence of having a RAMDirectory is that you'll need a
static Singleton class to control access to the directory so that the
directory stays active in RAM. Will you be using Servlets or EJBs?

>we can always throw a gig or three of RAM at it until it's happy if it
comes down to that.
Isn't it wonderful to be able to make that statement?




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


