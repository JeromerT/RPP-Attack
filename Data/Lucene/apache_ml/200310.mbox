From MAILER-DAEMON Thu Oct  2 10:10:59 2003
Return-Path: 
 <lucene-user-return-5603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76018 invoked from network); 2 Oct 2003 10:10:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 10:10:59 -0000
Received: (qmail 7829 invoked by uid 500); 2 Oct 2003 10:10:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7631 invoked by uid 500); 2 Oct 2003 10:10:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7617 invoked from network); 2 Oct 2003 10:10:26 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.97)
  by daedalus.apache.org with SMTP; 2 Oct 2003 10:10:26 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h92AAeGc003693
	for <lucene-user@jakarta.apache.org>; Thu, 2 Oct 2003 03:10:40 -0700 (PDT)
Received: from mac.com (adsl-62-167-32-212.adslplus.ch [62.167.32.212])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h92AAcQ4000802
	for <lucene-user@jakarta.apache.org>; Thu, 2 Oct 2003 03:10:39 -0700 (PDT)
Date: Thu, 2 Oct 2003 12:10:41 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Subject: which lock belong to which index?
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <ADB444D0-F4C0-11D7-B5A1-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

10/01 11:25:41 (Warning) IndexWriter.<init>: java.io.IOException: Index  
locked for write:  
Lock@C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\lucene- 
08d0626209019ccc9327ba6fb063c456-write.lock

Is there a straightforward way to figure out which lock belong to which  
index? The lock name seems to be a MD5 digest of the index's directory  
canonical path (or at least this is what getLockPrefix() looks like).

Previously, the locks where located alongside the indices... so it was  
pretty trivial to know which lock belong to which index... but now that  
they are all dumped into java.io.tmpdir this is getting cumbersome...  
why the move to tmpdir in the first place? This seems to be a very  
gratuitous change, which only complicate things without providing any  
obvious value...

Or perhaps I'm missing something?

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 11:56:20 2003
Return-Path: 
 <lucene-user-return-5604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18211 invoked from network); 2 Oct 2003 11:56:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 11:56:20 -0000
Received: (qmail 15397 invoked by uid 500); 2 Oct 2003 11:56:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15367 invoked by uid 500); 2 Oct 2003 11:56:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15354 invoked from network); 2 Oct 2003 11:56:12 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 2 Oct 2003 11:56:12 -0000
Message-ID: <20031002115613.6048.qmail@web12701.mail.yahoo.com>
Received: from [194.152.216.58] by web12701.mail.yahoo.com via HTTP;
 Thu, 02 Oct 2003 04:56:13 PDT
Date: Thu, 2 Oct 2003 04:56:13 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: which lock belong to which index?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <ADB444D0-F4C0-11D7-B5A1-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I cannot remember the answer I got, but I asked the same question after
the code was changed to put locks in java.io.tmpdir.
Because I have an application that deals with a lot of indices
simultaneously, I felt like this will make things more difficult in
cases where you have stale locks, etc.
Try the archive, though, as I seem to recall that somebody, Doug or
Scott gave me the answer.

Otis


--- petite_abeille <petite_abeille@mac.com> wrote:
> Hello,
> 
> 10/01 11:25:41 (Warning) IndexWriter.<init>: java.io.IOException:
> Index  
> locked for write:  
> Lock@C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\lucene- 
> 08d0626209019ccc9327ba6fb063c456-write.lock
> 
> Is there a straightforward way to figure out which lock belong to
> which  
> index? The lock name seems to be a MD5 digest of the index's
> directory  
> canonical path (or at least this is what getLockPrefix() looks like).
> 
> Previously, the locks where located alongside the indices... so it
> was  
> pretty trivial to know which lock belong to which index... but now
> that  
> they are all dumped into java.io.tmpdir this is getting cumbersome...
>  
> why the move to tmpdir in the first place? This seems to be a very  
> gratuitous change, which only complicate things without providing any
>  
> obvious value...
> 
> Or perhaps I'm missing something?
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 13:42:19 2003
Return-Path: 
 <lucene-user-return-5606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76624 invoked from network); 2 Oct 2003 13:42:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 13:42:19 -0000
Received: (qmail 64367 invoked by uid 500); 2 Oct 2003 13:42:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64335 invoked by uid 500); 2 Oct 2003 13:42:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64322 invoked from network); 2 Oct 2003 13:42:09 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.84)
  by daedalus.apache.org with SMTP; 2 Oct 2003 13:42:09 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id h92DjS09010570
	for <lucene-user@jakarta.apache.org>; Thu, 2 Oct 2003 06:45:28 -0700 (PDT)
Received: from mac.com (adsl-62-167-199-241.adslplus.ch [62.167.199.241])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h92Dg8Q4021470
	for <lucene-user@jakarta.apache.org>; Thu, 2 Oct 2003 06:42:09 -0700 (PDT)
Date: Thu, 2 Oct 2003 15:42:12 +0200
Subject: Re: which lock belong to which index?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031002115613.6048.qmail@web12701.mail.yahoo.com>
Message-Id: <3A3F659A-F4DE-11D7-AE3E-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis,

On Thursday, Oct 2, 2003, at 13:56 Europe/Amsterdam, Otis Gospodnetic 
wrote:

> I cannot remember the answer I got, but I asked the same question after
> the code was changed to put locks in java.io.tmpdir.
> Because I have an application that deals with a lot of indices
> simultaneously, I felt like this will make things more difficult in
> cases where you have stale locks, etc.
> Try the archive, though, as I seem to recall that somebody, Doug or
> Scott gave me the answer.

I see... I'm sure I could get to the lock name and scan the tmp 
directory for a match... but why such complication in the first place? 
The only thing I can think of is for application running on read-only 
media... but in such a case there is no need to a lock in the first 
place...

Cheers,

PA. Very confused.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 15:15:06 2003
Return-Path: 
 <lucene-user-return-5607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26473 invoked from network); 2 Oct 2003 15:15:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 15:15:06 -0000
Received: (qmail 68673 invoked by uid 500); 2 Oct 2003 15:14:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68622 invoked by uid 500); 2 Oct 2003 15:14:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68509 invoked from network); 2 Oct 2003 15:14:49 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 2 Oct 2003 15:14:49 -0000
Received: (qmail 18809 invoked from network); 2 Oct 2003 15:04:14 -0000
Received: from unknown (HELO ?172.16.1.54?) (200.187.133.34)
  by messiah.infoage.com.br with SMTP; 2 Oct 2003 15:04:14 -0000
Subject: Re: Lucene 1.3-rc1 ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1064953852.20457.9.camel@localhost>
References: <1064953852.20457.9.camel@localhost>
Content-Type: multipart/alternative; boundary="=-L41Pcd2dEULvFi5aZe9w"
Message-Id: <1065107702.1976.20.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 02 Oct 2003 12:15:03 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-L41Pcd2dEULvFi5aZe9w
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Can someone tell me where to download lucene 1.3 please ?

On Tue, 2003-09-30 at 17:30, Guilherme Barile wrote:

> I just reinstalled my system, and can't seem to find lucene 1.3 for
> download ? 
> What's that new cgi for downloading jakarta files ?
> 
> Can anyone tell me where to get it ? 
> 
> Thanks a lot !
> 
> 
> gui

--=-L41Pcd2dEULvFi5aZe9w--


From MAILER-DAEMON Thu Oct  2 15:37:07 2003
Return-Path: 
 <lucene-user-return-5608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39743 invoked from network); 2 Oct 2003 15:37:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 15:37:07 -0000
Received: (qmail 17766 invoked by uid 500); 2 Oct 2003 15:36:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17737 invoked by uid 500); 2 Oct 2003 15:36:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17724 invoked from network); 2 Oct 2003 15:36:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 2 Oct 2003 15:36:55 -0000
Received: (cpmta 22712 invoked from network); 2 Oct 2003 08:36:57 -0700
Received: from 128.143.184.56 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Oct 2003 08:36:57 -0700
X-Sent: 2 Oct 2003 15:36:57 GMT
Date: Thu, 2 Oct 2003 11:37:06 -0400
Subject: Re: Lucene 1.3-rc1 ?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1065107702.1976.20.camel@localhost>
Message-Id: <470ED096-F4EE-11D7-9153-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nightly builds are here:

	http://gump.covalent.net/jars/latest/jakarta-lucene/


On Thursday, October 2, 2003, at 11:15  AM, Guilherme Barile wrote:

> Can someone tell me where to download lucene 1.3 please ?
>
> On Tue, 2003-09-30 at 17:30, Guilherme Barile wrote:
>
>> I just reinstalled my system, and can't seem to find lucene 1.3 for
>> download ?
>> What's that new cgi for downloading jakarta files ?
>>
>> Can anyone tell me where to get it ?
>>
>> Thanks a lot !
>>
>>
>> gui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 13:40:26 2003
Return-Path: 
 <lucene-user-return-5605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75930 invoked from network); 2 Oct 2003 13:40:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 13:40:26 -0000
Received: (qmail 58136 invoked by uid 500); 2 Oct 2003 13:40:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58108 invoked by uid 500); 2 Oct 2003 13:40:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58095 invoked from network); 2 Oct 2003 13:40:17 -0000
Received: from unknown (HELO twix.hotpop.com) (204.57.55.70)
  by daedalus.apache.org with SMTP; 2 Oct 2003 13:40:17 -0000
Received: from phreaker.net (kubrick.hotpop.com [204.57.55.16])
	by twix.hotpop.com (Postfix) with SMTP id A696C81551C
	for <lucene-user@jakarta.apache.org>; Thu,  2 Oct 2003 13:40:16 +0000 (UTC)
Received: from dyn-213-36-5-97.ppp.tiscali.fr (dyn-213-36-5-97.ppp.tiscali.fr
 [213.36.5.97])
	by smtp-1.hotpop.com (Postfix) with ESMTP id 3405C1A0293
	for <lucene-user@jakarta.apache.org>; Thu,  2 Oct 2003 13:40:12 +0000 (UTC)
From: antonin bonte <abonte@phreaker.net>
To: Lucene <lucene-user@jakarta.apache.org>
Subject: Indexing with Lucene & Crash Recovery
Date: Thu, 2 Oct 2003 17:39:16 +0200
User-Agent: KMail/1.5.4
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200310021739.16872.abonte@phreaker.net>
X-HotPOP: -----------------------------------------------
                   Sent By HotPOP.com FREE Email
             Get your FREE POP email at www.HotPOP.com
          -----------------------------------------------
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm working on a framework using 
Lucene for information retrieval. 

The Framework will be  deployed on 
multiple hosts in a production 
environment. I plan to implement a
crash recovery feature. 

I'd like to know if an index can be 
corrupted during the different index
writing operations ( adding a document, 
delete a document , merging segments, 
merging index ). 

I think index could be corrupted by a 
system crash ( in some case corrupted, 
in some case ok ) but i want to be sure. 

If anyone has worked on 
rollback/commit/recovery with lucene, i'd 
like to know which strategy he choosed. 

thanks for your help, 

- Antonin Bonte -






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 15:44:40 2003
Return-Path: 
 <lucene-user-return-5609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44307 invoked from network); 2 Oct 2003 15:44:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 15:44:40 -0000
Received: (qmail 39751 invoked by uid 500); 2 Oct 2003 15:44:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39721 invoked by uid 500); 2 Oct 2003 15:44:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39708 invoked from network); 2 Oct 2003 15:44:27 -0000
Received: from unknown (HELO agermose.dnsalias.com) (213.150.56.212)
  by daedalus.apache.org with SMTP; 2 Oct 2003 15:44:27 -0000
Received: (qmail 3588 invoked from network); 2 Oct 2003 15:44:19 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 2 Oct 2003 15:44:19 -0000
Message-ID: <01bd01c388fc$10eb2d50$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1064953852.20457.9.camel@localhost>
 <1065107702.1976.20.camel@localhost>
Subject: Re: Lucene 1.3-rc1 ?
Date: Thu, 2 Oct 2003 17:44:24 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I can only offer you a copy of mine until the binaries are online again...
But a someone should look into getting the binaries online again or making
it a bit more clear where they are if indeed they are online? I also can not
locate them (1.3rc that is)

Let me know if you want a copy of mine (if no one can make an official
binary available)


Jan


----- Original Message ----- 
From: "Guilherme Barile" <gui@prosoma.com.br>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 02, 2003 5:15 PM
Subject: Re: Lucene 1.3-rc1 ?


> Can someone tell me where to download lucene 1.3 please ?
>
> On Tue, 2003-09-30 at 17:30, Guilherme Barile wrote:
>
> > I just reinstalled my system, and can't seem to find lucene 1.3 for
> > download ?
> > What's that new cgi for downloading jakarta files ?
> >
> > Can anyone tell me where to get it ?
> >
> > Thanks a lot !
> >
> >
> > gui
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 15:46:40 2003
Return-Path: 
 <lucene-user-return-5610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45256 invoked from network); 2 Oct 2003 15:46:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 15:46:40 -0000
Received: (qmail 46188 invoked by uid 500); 2 Oct 2003 15:46:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46156 invoked by uid 500); 2 Oct 2003 15:46:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46130 invoked from network); 2 Oct 2003 15:46:28 -0000
Received: from unknown (HELO agermose.dnsalias.com) (213.150.56.212)
  by daedalus.apache.org with SMTP; 2 Oct 2003 15:46:28 -0000
Received: (qmail 3611 invoked from network); 2 Oct 2003 15:46:19 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO
 jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 2 Oct 2003 15:46:19 -0000
Message-ID: <01c101c388fc$58de0fb0$1901a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <470ED096-F4EE-11D7-9153-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene 1.3-rc1 ?
Date: Thu, 2 Oct 2003 17:46:24 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

but nightly builds might not be as "stable" as a RC? Or!?

Does anyone know of a release plan - how long before a final relase is made
of 1.3?

Jan

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 02, 2003 5:37 PM
Subject: Re: Lucene 1.3-rc1 ?


> Nightly builds are here:
>
> http://gump.covalent.net/jars/latest/jakarta-lucene/
>
>
> On Thursday, October 2, 2003, at 11:15  AM, Guilherme Barile wrote:
>
> > Can someone tell me where to download lucene 1.3 please ?
> >
> > On Tue, 2003-09-30 at 17:30, Guilherme Barile wrote:
> >
> >> I just reinstalled my system, and can't seem to find lucene 1.3 for
> >> download ?
> >> What's that new cgi for downloading jakarta files ?
> >>
> >> Can anyone tell me where to get it ?
> >>
> >> Thanks a lot !
> >>
> >>
> >> gui
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 15:55:55 2003
Return-Path: 
 <lucene-user-return-5611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49683 invoked from network); 2 Oct 2003 15:55:55 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 15:55:55 -0000
Received: (qmail 64904 invoked by uid 500); 2 Oct 2003 15:55:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64875 invoked by uid 500); 2 Oct 2003 15:55:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64862 invoked from network); 2 Oct 2003 15:55:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 2 Oct 2003 15:55:43 -0000
Received: (cpmta 28151 invoked from network); 2 Oct 2003 08:55:45 -0700
Received: from 128.143.184.56 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 2 Oct 2003 08:55:45 -0700
X-Sent: 2 Oct 2003 15:55:45 GMT
Date: Thu, 2 Oct 2003 11:55:54 -0400
Subject: Re: Lucene 1.3-rc1 ?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <01c101c388fc$58de0fb0$1901a8c0@csiteoffice.csite.com>
Message-Id: <E79752EE-F4F0-11D7-9153-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday, October 2, 2003, at 11:46  AM, Jan Agermose wrote:
> but nightly builds might not be as "stable" as a RC? Or!?

Have you ever had an unstable version of Lucene?!  :)

I would not at all be concerned with grabbing a nightly build of 
Lucene, but certainly I'd test my system (you do have tests, right?) 
with whatever version you use.

> Does anyone know of a release plan - how long before a final relase is 
> made
> of 1.3?

This is usually a pretty silly question for open-source projects as it 
relies on someone to volunteer their time and agreement with the 
community.  I'm perfectly fine with releasing what is there now as 1.3 
(as an RC first, then quickly followed by a final).  Check the -dev 
list for any remainder to-do items and lobby there for a release - that 
is where such discussions occur.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 18:56:05 2003
Return-Path: 
 <lucene-user-return-5612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34959 invoked from network); 2 Oct 2003 18:56:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 18:56:05 -0000
Received: (qmail 76690 invoked by uid 500); 2 Oct 2003 18:55:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76565 invoked by uid 500); 2 Oct 2003 18:55:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76496 invoked from network); 2 Oct 2003 18:55:39 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 2 Oct 2003 18:55:39 -0000
Received: (qmail 25153 invoked from network); 2 Oct 2003 18:45:04 -0000
Received: from unknown (HELO ?172.16.1.54?) (200.187.133.34)
  by messiah.infoage.com.br with SMTP; 2 Oct 2003 18:45:04 -0000
Subject: Re: Lucene 1.3-rc1 ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E79752EE-F4F0-11D7-9153-000393A564E6@ehatchersolutions.com>
References: <E79752EE-F4F0-11D7-9153-000393A564E6@ehatchersolutions.com>
Content-Type: multipart/related; type="multipart/alternative";
 boundary="=-Lftg5gkzbW8PZgIV7gzO"
Message-Id: <1065120955.20457.36.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 02 Oct 2003 15:55:56 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-Lftg5gkzbW8PZgIV7gzO
Content-Type: multipart/alternative; boundary="=-cOxeji5li8Seo1fsMTtH"


--=-cOxeji5li8Seo1fsMTtH
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Thanks for everything, I just grabbed a nightly build, and everything
seems to be working... it's just a beta system, so I'll keep using it
and hope 1.3 final gets released until I finish it :)

On Thu, 2003-10-02 at 12:55, Erik Hatcher wrote:

> On Thursday, October 2, 2003, at 11:46  AM, Jan Agermose wrote:
> > but nightly builds might not be as "stable" as a RC? Or!?
> 
> Have you ever had an unstable version of Lucene?!  :)
> 
> I would not at all be concerned with grabbing a nightly build of 
> Lucene, but certainly I'd test my system (you do have tests, right?) 
> with whatever version you use.
> 
> > Does anyone know of a release plan - how long before a final relase is 
> > made
> > of 1.3?
> 
> This is usually a pretty silly question for open-source projects as it 
> relies on someone to volunteer their time and agreement with the 
> community.  I'm perfectly fine with releasing what is there now as 1.3 
> (as an RC first, then quickly followed by a final).  Check the -dev 
> list for any remainder to-do items and lobby there for a release - that 
> is where such discussions occur.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

--=-cOxeji5li8Seo1fsMTtH
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 TRANSITIONAL//EN">
<HTML>
<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=UTF-8">
  <META NAME="GENERATOR" CONTENT="GtkHTML/3.0.5">
</HEAD>
<BODY>
Thanks for everything, I just grabbed a nightly build, and everything seems to be working... it's just a beta system, so I'll keep using it and hope 1.3 final gets released until I finish it <IMG SRC="cid:1065120955.20449.35.camel@localhost" ALIGN="middle" ALT=":)" BORDER="0"><BR>
<BR>
On Thu, 2003-10-02 at 12:55, Erik Hatcher wrote:
<BLOCKQUOTE TYPE=CITE>
<PRE><FONT COLOR="#737373"><I>On Thursday, October 2, 2003, at 11:46  AM, Jan Agermose wrote:
&gt; but nightly builds might not be as &quot;stable&quot; as a RC? Or!?

Have you ever had an unstable version of Lucene?!  :)

I would not at all be concerned with grabbing a nightly build of 
Lucene, but certainly I'd test my system (you do have tests, right?) 
with whatever version you use.

&gt; Does anyone know of a release plan - how long before a final relase is 
&gt; made
&gt; of 1.3?

This is usually a pretty silly question for open-source projects as it 
relies on someone to volunteer their time and agreement with the 
community.  I'm perfectly fine with releasing what is there now as 1.3 
(as an RC first, then quickly followed by a final).  Check the -dev 
list for any remainder to-do items and lobby there for a release - that 
is where such discussions occur.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
</I></FONT></PRE>
</BLOCKQUOTE>
</BODY>
</HTML>

--=-cOxeji5li8Seo1fsMTtH--

--=-Lftg5gkzbW8PZgIV7gzO--


From MAILER-DAEMON Fri Oct  3 04:35:00 2003
Return-Path: 
 <lucene-user-return-5614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10600 invoked from network); 3 Oct 2003 04:35:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 04:35:00 -0000
Received: (qmail 61398 invoked by uid 500); 3 Oct 2003 04:34:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61367 invoked by uid 500); 3 Oct 2003 04:34:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61354 invoked from network); 3 Oct 2003 04:34:33 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 3 Oct 2003 04:34:33 -0000
Received: (cpmta 6558 invoked from network); 2 Oct 2003 21:34:43 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 2 Oct 2003 21:34:43 -0700
X-Sent: 3 Oct 2003 04:34:43 GMT
Date: Fri, 3 Oct 2003 00:34:41 -0400
Subject: Re: which lock belong to which index?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3A3F659A-F4DE-11D7-AE3E-000393760B7E@mac.com>
Message-Id: <E804171A-F55A-11D7-BCFC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The CHANGES.txt file says this about the issue:

  2. Changed file locking to place lock files in
     System.getProperty("java.io.tmpdir"), where all users are
     permitted to write files.  This way folks can open and correctly
     lock indexes which are read-only to them.

I haven't thought through the implications of all this yet, just 
thought this might shed slightly more light on it.

	Erik

On Thursday, October 2, 2003, at 09:42  AM, petite_abeille wrote:

> Hi Otis,
>
> On Thursday, Oct 2, 2003, at 13:56 Europe/Amsterdam, Otis Gospodnetic 
> wrote:
>
>> I cannot remember the answer I got, but I asked the same question 
>> after
>> the code was changed to put locks in java.io.tmpdir.
>> Because I have an application that deals with a lot of indices
>> simultaneously, I felt like this will make things more difficult in
>> cases where you have stale locks, etc.
>> Try the archive, though, as I seem to recall that somebody, Doug or
>> Scott gave me the answer.
>
> I see... I'm sure I could get to the lock name and scan the tmp 
> directory for a match... but why such complication in the first place? 
> The only thing I can think of is for application running on read-only 
> media... but in such a case there is no need to a lock in the first 
> place...
>
> Cheers,
>
> PA. Very confused.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  2 19:35:30 2003
Return-Path: 
 <lucene-user-return-5613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58078 invoked from network); 2 Oct 2003 19:35:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 2 Oct 2003 19:35:30 -0000
Received: (qmail 52774 invoked by uid 500); 2 Oct 2003 19:35:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52740 invoked by uid 500); 2 Oct 2003 19:35:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52727 invoked from network); 2 Oct 2003 19:35:14 -0000
Received: from unknown (HELO smtpzilla1.xs4all.nl) (194.109.127.137)
  by daedalus.apache.org with SMTP; 2 Oct 2003 19:35:14 -0000
Received: from k7l ([80.127.239.83])
	by smtpzilla1.xs4all.nl (8.12.9/8.12.9) with ESMTP id h92JZIaS069952
	for <lucene-user@jakarta.apache.org>; Thu, 2 Oct 2003 21:35:18 +0200 (CEST)
Content-Type: text/plain;
  charset="us-ascii"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: rsync on index files
Date: Thu, 2 Oct 2003 21:34:48 -0700
User-Agent: KMail/1.4.3
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200310022134.48262.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Good day,

Network backups are rapidly getting slower here, so, well,
it's just a thought:

Did anyone try to rsync (optimized) Lucene indexes
after renaming the larger target segment files to the
name of the  source segment?

Regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 13:50:17 2003
Return-Path: 
 <lucene-user-return-5615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32111 invoked from network); 3 Oct 2003 13:50:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 13:50:17 -0000
Received: (qmail 51977 invoked by uid 500); 3 Oct 2003 13:50:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51917 invoked by uid 500); 3 Oct 2003 13:50:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51902 invoked from network); 3 Oct 2003 13:50:07 -0000
Received: from unknown (HELO sec.co.ro) (217.10.198.22)
  by daedalus.apache.org with SMTP; 3 Oct 2003 13:50:07 -0000
Received: from sec.co.ro (sey.sec.co.ro [192.168.3.7])
	by sec.co.ro (Postfix on SuSE Linux) with ESMTP id 7B08512D8C
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 16:43:54 +0300 (EEST)
Message-ID: <3F7D7E8F.60304@sec.co.ro>
Date: Fri, 03 Oct 2003 16:50:07 +0300
From: Marius Seiceanu <marius.seiceanu@sec.co.ro>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: German stamming algorithm problem
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello!

    I have an application which make searches in Lucene indexed 
documents. The documents content is in German language.
    I use Lucene 1.3rc1.

    If I search for "Universit�t" i get some results, but if I search 
for "universit�t" i get no results.

    In the CHANGES.TXT of 1.3rc1 
(http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.45) 
point 11 says that stamming is not case sensitive anymore.
----------
11. Changed the German stemming algorithm to ignore case while 
stripping. The new algorithm is faster and produces more equal stems 
from nouns and verbs derived from the same word. (gschwarz)
----------
    For  "Gesetz" and "gesetz" i get the same number of results!

Thank you,
       Marius Seiceanu.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 14:23:17 2003
Return-Path: 
 <lucene-user-return-5616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48656 invoked from network); 3 Oct 2003 14:23:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 14:23:17 -0000
Received: (qmail 11774 invoked by uid 500); 3 Oct 2003 14:22:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11740 invoked by uid 500); 3 Oct 2003 14:22:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11685 invoked from network); 3 Oct 2003 14:22:48 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 3 Oct 2003 14:22:48 -0000
Received: (qmail 20228 invoked from network); 3 Oct 2003 14:22:45 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.231.132])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 3 Oct 2003 14:22:45 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id B229D1A84A
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 16:22:06 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: storing index in database
Date: Fri, 3 Oct 2003 16:22:05 +0200
User-Agent: KMail/1.5.4
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200310031622.05518.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Somebody wrote a SQLDirectory for lucene 1.2 (only) but discontinued it for a 
matter of performance issues.

Well, I really would like to store that index at the same place as the data 
ifself - in the database and not somewhere in the filesystem. I don't quite 
understand the performance problem at all but in any event if a index sizes 
only some MBytes why not selecting all the index once out of the DB and 
keeping it in memory?

So, I'd like to ask people here whether there is a way to and which one is the 
best to store the index reasonably in db.

Timo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 15:22:38 2003
Return-Path: 
 <lucene-user-return-5617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81912 invoked from network); 3 Oct 2003 15:22:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 15:22:38 -0000
Received: (qmail 64402 invoked by uid 500); 3 Oct 2003 15:22:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64335 invoked by uid 500); 3 Oct 2003 15:22:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64061 invoked from network); 3 Oct 2003 15:22:09 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 3 Oct 2003 15:22:09 -0000
Received: (qmail 5433 invoked from network); 3 Oct 2003 14:18:49 -0000
Received: from unknown (HELO ?172.16.1.54?) (200.187.133.34)
  by messiah.infoage.com.br with SMTP; 3 Oct 2003 14:18:49 -0000
Subject: Re: storing index in database
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200310031622.05518.lucene@nitwit.de>
References: <200310031622.05518.lucene@nitwit.de>
Content-Type: multipart/alternative; boundary="=-toRlfXDukTr1SkzlrcUj"
Message-Id: <1065191395.1976.69.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 03 Oct 2003 11:29:55 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-toRlfXDukTr1SkzlrcUj
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Why not just use a RAMDirectory ?

On Fri, 2003-10-03 at 11:22, lucene@nitwit.de wrote:

> Hi!
> 
> Somebody wrote a SQLDirectory for lucene 1.2 (only) but discontinued it for a 
> matter of performance issues.
> 
> Well, I really would like to store that index at the same place as the data 
> ifself - in the database and not somewhere in the filesystem. I don't quite 
> understand the performance problem at all but in any event if a index sizes 
> only some MBytes why not selecting all the index once out of the DB and 
> keeping it in memory?
> 
> So, I'd like to ask people here whether there is a way to and which one is the 
> best to store the index reasonably in db.
> 
> Timo
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

--=-toRlfXDukTr1SkzlrcUj--


From MAILER-DAEMON Fri Oct  3 16:03:32 2003
Return-Path: 
 <lucene-user-return-5618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1934 invoked from network); 3 Oct 2003 16:03:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 16:03:32 -0000
Received: (qmail 56878 invoked by uid 500); 3 Oct 2003 16:03:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56835 invoked by uid 500); 3 Oct 2003 16:03:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56787 invoked from network); 3 Oct 2003 16:03:18 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 3 Oct 2003 16:03:18 -0000
Received: (qmail 8045 invoked from network); 3 Oct 2003 16:03:17 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.231.132])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 3 Oct 2003 16:03:17 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 5BF2414BBFD
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 18:02:29 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: storing index in database
Date: Fri, 3 Oct 2003 18:02:25 +0200
User-Agent: KMail/1.5.4
References: <200310031622.05518.lucene@nitwit.de>
 <1065191395.1976.69.camel@localhost>
In-Reply-To: <1065191395.1976.69.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200310031802.25182.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 03 October 2003 16:29, Guilherme Barile wrote:
> Why not just use a RAMDirectory ?

Yes, that was my idea to store the index database and load it into memory. I'm 
just asking people hese whether this is a good idea or if there are better 
(more standard) ways (where I have to do less on my own).

...since I'm a lucene newbie :-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 21:25:19 2003
Return-Path: 
 <lucene-user-return-5619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43503 invoked from network); 3 Oct 2003 21:25:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 21:25:19 -0000
Received: (qmail 69863 invoked by uid 500); 3 Oct 2003 21:25:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69835 invoked by uid 500); 3 Oct 2003 21:25:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69817 invoked from network); 3 Oct 2003 21:24:59 -0000
Received: from unknown (HELO calvin.linfield.edu) (192.147.171.248)
  by daedalus.apache.org with SMTP; 3 Oct 2003 21:24:59 -0000
Received: by calvin.linfield.edu (Postfix, from userid 0)
	id 254983751D; Fri,  3 Oct 2003 14:25:06 -0700 (PDT)
Received: from webct2.linfield.edu (localhost [127.0.0.1])
	by calvin.linfield.edu (Postfix) with ESMTP id CF92236FF1
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 14:25:05 -0700 (PDT)
Received: from webct2.linfield.edu (localhost.localdomain [127.0.0.1])
	by linfield.edu (Postfix) with ESMTP id D247C7001DF
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 14:55:09 -0700 (PDT)
Received: from [10.219.255.249] (oberon.linfield.edu [10.219.255.249])
	by webct2.linfield.edu (Postfix) with ESMTP id AECFD7001DE
	for <lucene-user@jakarta.apache.org>; Fri,  3 Oct 2003 14:55:09 -0700 (PDT)
Date: Fri, 03 Oct 2003 14:26:48 -0700
From: Rob Tanner <rtanner+lucene@linfield.edu>
Reply-To: Rob Tanner <rtanner+lucene@linfield.edu>
To: lucene-user@jakarta.apache.org
Subject: lucene complains about invalid class file format in rt.jar
Message-ID: <5470000.1065216408@oberon.linfield.edu>
X-Mailer: Mulberry/3.0.1 (Linux/x86)
X-Loop: rtanner@linfield.edu
X_Sender: rtanner@linfield.edu
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Bogosity: No, tests=bogofilter, spamicity=0.000000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm having quite a bit of success with Lucene designing a new search
tool for our website -- the only problem is that I've had to drop down
to java 1.3.6 (all our production system are java 1.4.x)

The typical error I get on the jsp is:

error: Invalid class file format in 
/usr/java/j2sdk1.4.0/jre/lib/rt.jar(java/io/ObjectInputStream.class). 
The major.minor version '48.0' is too recent for this tool to 
understand.
/usr/local/tomcat/work/localhost_8080%2Fluceneweb/_0002fresults_0002ejs
presults_jsp_73.java:8: Class java.io.ObjectInputStream not found in 
import.
import java.io.ObjectInputStream;

I used javacc to process the .jj files and then rebuilt all the source
using java 1.4.0, and I can build the index just fine, but the copy of
the demo results.jsp, which I've been modifying for our needs, 
generates
a number of the above example errors.

What's going on here?

Thanks,
Rob

       _ _ _ _           _    _ _ _ _ _
      /\_\_\_\_\        /\_\ /\_\_\_\_\_\
     /\/_/_/_/_/       /\/_/ \/_/_/_/_/_/  QUIDQUID LATINE DICTUM SIT,
    /\/_/__\/_/ __    /\/_/    /\/_/          PROFUNDUM VIDITUR
   /\/_/_/_/_/ /\_\  /\/_/    /\/_/
  /\/_/ \/_/  /\/_/_/\/_/    /\/_/         (Whatever is said in Latin
  \/_/  \/_/  \/_/_/_/_/     \/_/              appears profound)

  Rob Tanner
  UNIX Services Manager
  Linfield College, McMinnville OR
  (503) 883-2558 <rtanner@linfield.edu>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 21:33:52 2003
Return-Path: 
 <lucene-user-return-5620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46530 invoked from network); 3 Oct 2003 21:33:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 21:33:52 -0000
Received: (qmail 82032 invoked by uid 500); 3 Oct 2003 21:33:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82005 invoked by uid 500); 3 Oct 2003 21:33:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81992 invoked from network); 3 Oct 2003 21:33:34 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 3 Oct 2003 21:33:34 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <SWM1FHWJ>; Fri, 3 Oct 2003 17:33:40 -0400
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67E67@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: of^1 illegal?
Date: Fri, 3 Oct 2003 17:33:39 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm running lucene 1.2, and when I do the following query I get the
following exception:

name:of^1

java.lang.NullPointerException
        at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at
SearchProduce_ModelTrainData.performQuery(SearchProduce_ModelTrainDat
a.java:610)
        at
SearchProduce_ModelTrainData.main(SearchProduce_ModelTrainData.java:3

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 21:46:25 2003
Return-Path: 
 <lucene-user-return-5621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50456 invoked from network); 3 Oct 2003 21:46:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 21:46:25 -0000
Received: (qmail 97184 invoked by uid 500); 3 Oct 2003 21:46:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97155 invoked by uid 500); 3 Oct 2003 21:46:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97142 invoked from network); 3 Oct 2003 21:46:07 -0000
Received: from unknown (HELO mailer.syr.edu) (128.230.18.29)
  by daedalus.apache.org with SMTP; 3 Oct 2003 21:46:07 -0000
Received: from gwmail.syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP
 for Windows NT v1.1b) with SMTP id <0.09566226@mailer.syr.edu>;
 Fri, 3 Oct 2003 17:46:14 -0400
Message-ID: <3F7DEE2F.8040005@gwmail.syr.edu>
Date: Fri, 03 Oct 2003 17:46:23 -0400
From: Steve Rowe <sarowe@gwmail.syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: of^1 illegal?
References: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67E67@exchange.hq.openratings.com>
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67E67@exchange.hq.openratings.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dan,

Does your Analyzer use a StopFilter?  If you're using the 
StandardAnalyzer, for example, "of" is on its list of words to filter 
(via a StopFilter instance).  If the single term in a query is 
filtered out, you're "doing" an empty query, which could cause trouble 
    not unlike that which you report.

Hope it helps,
Steve

Dan Quaroni wrote:
> I'm running lucene 1.2, and when I do the following query I get the
> following exception:
> 
> name:of^1
> 
> java.lang.NullPointerException
>         at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
>         at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
>         at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
>         at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
>         at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
>         at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
>         at
> SearchProduce_ModelTrainData.performQuery(SearchProduce_ModelTrainDat
> a.java:610)
>         at
> SearchProduce_ModelTrainData.main(SearchProduce_ModelTrainData.java:3
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct  3 23:36:15 2003
Return-Path: 
 <lucene-user-return-5622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79707 invoked from network); 3 Oct 2003 23:36:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 Oct 2003 23:36:15 -0000
Received: (qmail 91301 invoked by uid 500); 3 Oct 2003 23:35:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91269 invoked by uid 500); 3 Oct 2003 23:35:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91255 invoked from network); 3 Oct 2003 23:35:54 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Oct 2003 23:35:54 -0000
Received: (cpmta 13733 invoked from network); 3 Oct 2003 16:36:01 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 3 Oct 2003 16:36:01 -0700
X-Sent: 3 Oct 2003 23:36:01 GMT
Date: Fri, 3 Oct 2003 19:35:59 -0400
Subject: Re: of^1 illegal?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67E67@exchange.hq.openratings.com>
Message-Id: <581C0BB4-F5FA-11D7-9ECB-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, October 3, 2003, at 05:33  PM, Dan Quaroni wrote:
> I'm running lucene 1.2, and when I do the following query I get the
> following exception:
>
> name:of^1

Works fine with the latest CVS version, though.

What are you searching for?  Are you trying to indicate a boost factor 
of 1 (which is the default anyway)?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct  4 18:55:13 2003
Return-Path: 
 <lucene-user-return-5623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52167 invoked from network); 4 Oct 2003 18:55:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 Oct 2003 18:55:13 -0000
Received: (qmail 22010 invoked by uid 500); 4 Oct 2003 18:54:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21982 invoked by uid 500); 4 Oct 2003 18:54:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21969 invoked from network); 4 Oct 2003 18:54:57 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 4 Oct 2003 18:54:57 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h94It10Q020708
	for <lucene-user@jakarta.apache.org>; Sat, 4 Oct 2003 11:55:01 -0700 (PDT)
Received: from mac.com (adsl-62-167-87-78.adslplus.ch [62.167.87.78])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h94IsxQ4022056
	for <lucene-user@jakarta.apache.org>; Sat, 4 Oct 2003 11:55:00 -0700 (PDT)
Date: Sat, 4 Oct 2003 20:55:03 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Index locked for write
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <437FCA58-F69C-11D7-9BDA-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

[Posted to Dev by mistake]
[Reposted to User]
[Sorry for the mess]

Hello,

I recently updated from 1.3 RC1 to the latest cvs version. RC1 has 
proven very reliable for me, but I needed Dmitry compound index 
functionality. Therefore the move to the cvs version.

I have been using 1.3 RC1 without any problem. But... since updating to 
the cvs version, I'm getting a lot of apparently random IOException 
related to locking:

java.io.IOException: Index locked for write: 
Lock@/tmp/lucene-5b228139f8fe55f7c74441a7d59f8f89-write.lock
         at 
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
         at 
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:150)

This is most likely due to some problem on my side, but for the life of 
me I cannot track it down nor reproduce it :(

Also, the only change related to Lucene on my side was the update from 
1.3 RC1 to the cvs version. Perhaps this has triggered a "dormant" bug 
in my app. Or perhaps something has changed in the cvs version which 
impact me negatively. Other way, I'm at loss.

My guess would be that this is most likely a threading issue. On my 
side, I use a very conservative threading which supposedly synchronized 
any access to Lucene. And this hasn't changed for a good while.

Any idea where I should look in such a situation? Any "significant" 
changes related to locking on Lucene side?

For the record, this problem seems to mostly manifest itself under Mac 
OS X, running Java 1.4.1_01.

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sun Oct  5 15:53:51 2003
Return-Path: 
 <lucene-user-return-5624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60832 invoked from network); 5 Oct 2003 15:53:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 Oct 2003 15:53:51 -0000
Received: (qmail 6476 invoked by uid 500); 5 Oct 2003 15:53:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6377 invoked by uid 500); 5 Oct 2003 15:53:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6358 invoked from network); 5 Oct 2003 15:53:39 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 5 Oct 2003 15:53:39 -0000
Message-ID: <20031005155342.36375.qmail@web12704.mail.yahoo.com>
Received: from [195.29.51.170] by web12704.mail.yahoo.com via HTTP;
 Sun, 05 Oct 2003 08:53:42 PDT
Date: Sun, 5 Oct 2003 08:53:42 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: German stamming algorithm problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F7D7E8F.60304@sec.co.ro>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do not know enough about the German stemmer included with Lucene, but
I can suggest that you look at the Snowball stemmers.  Take a look at
the Lucene Sandbox (link on Lucene's home page) to see how they can be
used with Lucene.

Otis

--- Marius Seiceanu <marius.seiceanu@sec.co.ro> wrote:
> Hello!
> 
>     I have an application which make searches in Lucene indexed 
> documents. The documents content is in German language.
>     I use Lucene 1.3rc1.
> 
>     If I search for "Universit�t" i get some results, but if I search
> 
> for "universit�t" i get no results.
> 
>     In the CHANGES.TXT of 1.3rc1 
>
(http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.45)
> 
> point 11 says that stamming is not case sensitive anymore.
> ----------
> 11. Changed the German stemming algorithm to ignore case while 
> stripping. The new algorithm is faster and produces more equal stems 
> from nouns and verbs derived from the same word. (gschwarz)
> ----------
>     For  "Gesetz" and "gesetz" i get the same number of results!
> 
> Thank you,
>        Marius Seiceanu.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct  6 14:34:04 2003
Return-Path: 
 <lucene-user-return-5625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44342 invoked from network); 6 Oct 2003 14:34:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Oct 2003 14:34:04 -0000
Received: (qmail 13368 invoked by uid 500); 6 Oct 2003 14:33:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13317 invoked by uid 500); 6 Oct 2003 14:33:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13304 invoked from network); 6 Oct 2003 14:33:52 -0000
Received: from unknown (HELO mailserver1.webhot2.dk) (130.228.0.21)
  by daedalus.apache.org with SMTP; 6 Oct 2003 14:33:52 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id AD456530212; Mon, 06 Oct 2003 16:33:41 +0200
Message-ID: <029301c38c17$28df5fd0$5550bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: Struts <logic iterate>
Date: Mon, 6 Oct 2003 16:35:59 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0290_01C38C27.EC2EF760"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0290_01C38C27.EC2EF760
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I'm playing around with Struts to see if i should build my search web =
app using the Struts framework. I began by making an Action which =
performs the search, and places the Hits object on the session. In my =
JSP page i figured I could use the Struts <logic:iterate> tag to iterate =
through the search results and display them accordingly.
The problem is that I get an exception saying "Cannot create iterator =
for this collection" when trying to iterate the Hits. I thought that =
Hits was an array of pointers to docs, hence Hits could be iterated over =
-but that seems to not be the case.

Has anyone any experience in using the <logic:iterate> tag or is it =
necessary to write a custom JSP tag which does the iteration??

Any help is greatly appreciated!

/Lars Hammer
------=_NextPart_000_0290_01C38C27.EC2EF760--



From MAILER-DAEMON Mon Oct  6 14:42:18 2003
Return-Path: 
 <lucene-user-return-5626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48809 invoked from network); 6 Oct 2003 14:42:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Oct 2003 14:42:18 -0000
Received: (qmail 28552 invoked by uid 500); 6 Oct 2003 14:42:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28517 invoked by uid 500); 6 Oct 2003 14:42:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28471 invoked from network); 6 Oct 2003 14:42:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 6 Oct 2003 14:42:06 -0000
Received: (cpmta 21753 invoked from network); 6 Oct 2003 07:42:08 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 6 Oct 2003 07:42:08 -0700
X-Sent: 6 Oct 2003 14:42:08 GMT
Date: Mon, 6 Oct 2003 10:42:05 -0400
Subject: Re: Struts <logic iterate>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <029301c38c17$28df5fd0$5550bec0@fisk>
Message-Id: <41592923-F80B-11D7-B140-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hits is not a java.util.Collection, so you cannot directly iterate 
through it using <logic:iterate>.  There are some Lucene-specific tag 
libraries that may do what you're after within the 
jakarta-lucene-sandbox CVS repository (you'll have to check out that 
module and build them yourself, currently).

	Erik


On Monday, October 6, 2003, at 10:35  AM, Lars Hammer wrote:

> Hello
>
> I'm playing around with Struts to see if i should build my search web 
> app using the Struts framework. I began by making an Action which 
> performs the search, and places the Hits object on the session. In my 
> JSP page i figured I could use the Struts <logic:iterate> tag to 
> iterate through the search results and display them accordingly.
> The problem is that I get an exception saying "Cannot create iterator 
> for this collection" when trying to iterate the Hits. I thought that 
> Hits was an array of pointers to docs, hence Hits could be iterated 
> over -but that seems to not be the case.
>
> Has anyone any experience in using the <logic:iterate> tag or is it 
> necessary to write a custom JSP tag which does the iteration??
>
> Any help is greatly appreciated!
>
> /Lars Hammer


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct  6 18:07:12 2003
Return-Path: 
 <lucene-user-return-5627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65008 invoked from network); 6 Oct 2003 18:07:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 Oct 2003 18:07:12 -0000
Received: (qmail 87943 invoked by uid 500); 6 Oct 2003 18:06:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87909 invoked by uid 500); 6 Oct 2003 18:06:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87882 invoked from network); 6 Oct 2003 18:06:57 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 6 Oct 2003 18:06:57 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h96GI4o1022333
	for <lucene-user@jakarta.apache.org>; Mon, 6 Oct 2003 11:05:48 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com
 (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com
 with ESMTP; Mon, 6 Oct 2003 11:07:12 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 6 Oct 2003 11:06:56 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: lucene complains about invalid class file format in rt.jar
Date: Mon, 6 Oct 2003 11:06:55 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7CE9@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene complains about invalid class file format in rt.jar
Thread-Index: AcOJ9R7jqrZepobbRjaWCG0l8OtUawCP2x6g
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Rob Tanner" <rtanner+lucene@linfield.edu>
X-OriginalArrivalTime: 06 Oct 2003 18:06:56.0261 (UTC)
 FILETIME=[A0ED7350:01C38C34]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Classes compiled with JDK 1.4 or above may generate classes that are
incompatible with versions below 1.4.  Compile the code with 1.3 and you
should be ok.

-----Original Message-----
From: Rob Tanner [mailto:rtanner+lucene@linfield.edu]=20
Sent: Friday, October 03, 2003 2:27 PM
To: lucene-user@jakarta.apache.org
Subject: lucene complains about invalid class file format in rt.jar


Hi,

I'm having quite a bit of success with Lucene designing a new search
tool for our website -- the only problem is that I've had to drop down
to java 1.3.6 (all our production system are java 1.4.x)

The typical error I get on the jsp is:

error: Invalid class file format in=20
/usr/java/j2sdk1.4.0/jre/lib/rt.jar(java/io/ObjectInputStream.class).=20
The major.minor version '48.0' is too recent for this tool to=20
understand.
/usr/local/tomcat/work/localhost_8080%2Fluceneweb/_0002fresults_0002ejs
presults_jsp_73.java:8: Class java.io.ObjectInputStream not found in=20
import.
import java.io.ObjectInputStream;

I used javacc to process the .jj files and then rebuilt all the source
using java 1.4.0, and I can build the index just fine, but the copy of
the demo results.jsp, which I've been modifying for our needs,=20
generates
a number of the above example errors.

What's going on here?

Thanks,
Rob

       _ _ _ _           _    _ _ _ _ _
      /\_\_\_\_\        /\_\ /\_\_\_\_\_\
     /\/_/_/_/_/       /\/_/ \/_/_/_/_/_/  QUIDQUID LATINE DICTUM SIT,
    /\/_/__\/_/ __    /\/_/    /\/_/          PROFUNDUM VIDITUR
   /\/_/_/_/_/ /\_\  /\/_/    /\/_/
  /\/_/ \/_/  /\/_/_/\/_/    /\/_/         (Whatever is said in Latin
  \/_/  \/_/  \/_/_/_/_/     \/_/              appears profound)

  Rob Tanner
  UNIX Services Manager
  Linfield College, McMinnville OR
  (503) 883-2558 <rtanner@linfield.edu>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct  7 02:04:25 2003
Return-Path: 
 <lucene-user-return-5628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41829 invoked from network); 7 Oct 2003 02:04:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Oct 2003 02:04:25 -0000
Received: (qmail 44891 invoked by uid 500); 7 Oct 2003 02:04:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44668 invoked by uid 500); 7 Oct 2003 02:04:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44655 invoked from network); 7 Oct 2003 02:04:02 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 7 Oct 2003 02:04:02 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1A6hCs-0002Wn-To
	for lucene-user@jakarta.apache.org; Mon, 06 Oct 2003 20:04:11 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Struts <logic iterate>
Date: Mon, 6 Oct 2003 20:05:29 -0600
User-Agent: KMail/1.4.3
References: <029301c38c17$28df5fd0$5550bec0@fisk>
In-Reply-To: <029301c38c17$28df5fd0$5550bec0@fisk>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200310062005.29996.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 06 October 2003 08:35, Lars Hammer wrote:
...
> to iterate the Hits. I thought that Hits was an array of pointers to docs,

                                                                   ^^^
Actually, Hits contains a Vector (could be an array as well), but is not a 
Collection itself (one can not extend array classes in Java, so no Object 
besides basic arrays can be arrays or treates as one).
Hits be made a Collection, though.
In fact, I think it would be a reasonable thing to do, to make Hits be
a simple Collection (or perhaps List since it is an ordered collection).
You could file an RFE for this, or better yet, implement it. :-)
I'd think including such patch for Lucene would make sense as well.

> Has anyone any experience in using the <logic:iterate> tag or is it
> necessary to write a custom JSP tag which does the iteration??

No, it should be enough to write a simple wrapper that implements
Collection, and accesses Hits instance via next() method.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct  7 16:47:42 2003
Return-Path: 
 <lucene-user-return-5629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46274 invoked from network); 7 Oct 2003 16:47:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Oct 2003 16:47:42 -0000
Received: (qmail 77709 invoked by uid 500); 7 Oct 2003 16:47:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77674 invoked by uid 500); 7 Oct 2003 16:47:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77660 invoked from network); 7 Oct 2003 16:47:27 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 7 Oct 2003 16:47:27 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h97GV1UL027751
	for <lucene-user@jakarta.apache.org>; Tue, 7 Oct 2003 09:46:20 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com
 (sm-cala-xc03.swna.wdpr.disney.com [153.7.195.22]) by hermes.corp.disney.com
 with ESMTP; Tue, 7 Oct 2003 09:47:45 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 7 Oct 2003 09:47:28 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: Too Many Open Files
Date: Tue, 7 Oct 2003 09:47:27 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Too Many Open Files
Thread-Index: AcOJ9hlCgsneMuUXQ3STzuDmo1UoyAC+5WiQ
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 07 Oct 2003 16:47:28.0656 (UTC)
 FILETIME=[B1A06900:01C38CF2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

The index directory that Lucene created has 2,322 files in it.  When I
try to open it I get the dreaded "Too Many Open Files" problem:
    java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
files)

The index has about 50,000 docs in it.  It was created with a merge
factor of 5,000.  Is there a way that I can reduce the number of files
or increase the number of files that windows can open?

Any help is appreciated!
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct  7 18:25:52 2003
Return-Path: 
 <lucene-user-return-5630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96387 invoked from network); 7 Oct 2003 18:25:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Oct 2003 18:25:52 -0000
Received: (qmail 94557 invoked by uid 500); 7 Oct 2003 18:25:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94529 invoked by uid 500); 7 Oct 2003 18:25:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94516 invoked from network); 7 Oct 2003 18:25:38 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 7 Oct 2003 18:25:38 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HME06T01GITQD@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Tue, 07 Oct 2003 19:25:41 +0100 (IST)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HME06Q0LGITZT@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Tue, 07 Oct 2003 19:25:41 +0100 (IST)
Date: Tue, 07 Oct 2003 19:25:44 +0100
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: Document-Document similarity
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <006001c38d00$6bcded40$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,

does anyone know of a way to get the similarity between two documents as
opposed to between a document and a query?  at the moment, i'm forced to
make a term-frequency vector for each document and get the cosine of the
angle between them, but i was hoping there was a more elegant way of doing
this using either the lucene api (although from my study of it it doesnt
look like this is the case) or some other class library that another lucene
user has created.

any help much appreciated.

maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct  7 19:00:19 2003
Return-Path: 
 <lucene-user-return-5631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11434 invoked from network); 7 Oct 2003 19:00:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Oct 2003 19:00:19 -0000
Received: (qmail 37676 invoked by uid 500); 7 Oct 2003 19:00:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37648 invoked by uid 500); 7 Oct 2003 19:00:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37635 invoked from network); 7 Oct 2003 19:00:04 -0000
Received: from unknown (HELO mailer.syr.edu) (128.230.18.29)
  by daedalus.apache.org with SMTP; 7 Oct 2003 19:00:04 -0000
Received: from gwmail.syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP
 for Windows NT v1.1b) with SMTP id <0.098CB95D@mailer.syr.edu>;
 Tue, 7 Oct 2003 15:00:09 -0400
Message-ID: <3F830D39.2090507@gwmail.syr.edu>
Date: Tue, 07 Oct 2003 15:00:09 -0400
From: Steve Rowe <sarowe@gwmail.syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document-Document similarity
References: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
 <006001c38d00$6bcded40$bf8401c1@mojo>
In-Reply-To: <006001c38d00$6bcded40$bf8401c1@mojo>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maurice,

Why not perform document-as-query?  That is, parse a document to 
produce a query, submit the query, and get a list of documents ranked 
by similarity.

Are you trying to do clustering?  Write a custom analyzer which saves 
the analysis of each document as it's parsed for the indexing process, 
then iterate through all of the documents, submit each as a query, and 
collect the results.

Or pseudo-relevance feedback?  Re-parse the top N documents resulting 
from a given query, bundle up the results as another query, then 
recombine the scores after you weight the components (Rocchio's 
formula; the full thing also involves a negatively reinforcing 
component -- re-parse the bottom M documents resulting from the 
initial query, package as another query, then use a negative weight 
when combining with other components' scores -- but this step doesn't 
seem to contribute positively in a reliable fashion to the overall 
outcome).

Steve Rowe

Maurice Coyle wrote:
> does anyone know of a way to get the similarity between two documents as
> opposed to between a document and a query?  at the moment, i'm forced to
> make a term-frequency vector for each document and get the cosine of the
> angle between them, but i was hoping there was a more elegant way of doing
> this using either the lucene api (although from my study of it it doesnt
> look like this is the case) or some other class library that another lucene
> user has created.
> 
> any help much appreciated.
> 
> maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct  7 22:01:26 2003
Return-Path: 
 <lucene-user-return-5632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87704 invoked from network); 7 Oct 2003 22:01:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 Oct 2003 22:01:26 -0000
Received: (qmail 59025 invoked by uid 500); 7 Oct 2003 22:01:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58997 invoked by uid 500); 7 Oct 2003 22:01:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58978 invoked from network); 7 Oct 2003 22:01:06 -0000
Received: from unknown (HELO SuperNova2.cwihosting.com) (66.216.127.37)
  by daedalus.apache.org with SMTP; 7 Oct 2003 22:01:06 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by SuperNova2.cwihosting.com with asmtp (Exim 4.24)
	id 1A6ztI-0002yy-HZ
	for lucene-user@jakarta.apache.org; Tue, 07 Oct 2003 17:01:12 -0500
Message-Id: <6.0.0.22.0.20031007175528.021afa00@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 07 Oct 2003 18:01:11 -0400
To: lucene-user@jakarta.apache.org
From: Michael Giles <mgiles@visionstudio.com>
Subject: Default AND for multi-field queries...
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - SuperNova2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As with many people, I want the default query behavior to be AND (instead 
of OR).  However, I'm also (always) creating multi-field queries.  I don't 
see a way to accomplish this cleanly in the API.  It would be great if 
MultiFieldQueryParser had a constructor that took an array of fields (i.e. 
String[]).  That would solve the problem (and seems like a mistaken 
omission).  It would also be nice if QueryParser allowed you to parse a 
query once, and then alter the field setting and generate different 
queries.  As it stands (from my read of the API), I have to loop through my 
list of fields (6 of them) and create a new QueryParser each time.  Parsing 
the same query 6 times is pretty ugly.  Perhaps there is a better way that 
I'm missing.

-Mike



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct  8 02:37:23 2003
Return-Path: 
 <lucene-user-return-5635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74979 invoked from network); 8 Oct 2003 02:37:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 02:37:23 -0000
Received: (qmail 93843 invoked by uid 500); 8 Oct 2003 02:37:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93813 invoked by uid 500); 8 Oct 2003 02:37:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93799 invoked from network); 8 Oct 2003 02:36:59 -0000
Received: from unknown (HELO web41905.mail.yahoo.com) (66.218.93.156)
  by daedalus.apache.org with SMTP; 8 Oct 2003 02:36:59 -0000
Message-ID: <20031008015208.99863.qmail@web41905.mail.yahoo.com>
Received: from [64.15.239.34] by web41905.mail.yahoo.com via HTTP;
 Tue, 07 Oct 2003 18:52:08 PDT
Date: Tue, 7 Oct 2003 18:52:08 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Re: Too Many Open Files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-166558667-1065577928=:98995"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-166558667-1065577928=:98995
Content-Type: text/plain; charset=us-ascii

try to check your codes if you are openning a file, close it after using.
 
--buics

"Wilton, Reece" <Reece.Wilton@dig.com> wrote:
Hi,

The index directory that Lucene created has 2,322 files in it. When I
try to open it I get the dreaded "Too Many Open Files" problem:
java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
files)

The index has about 50,000 docs in it. It was created with a merge
factor of 5,000. Is there a way that I can reduce the number of files
or increase the number of files that windows can open?

Any help is appreciated!
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
--0-166558667-1065577928=:98995--

From MAILER-DAEMON Wed Oct  8 01:57:31 2003
Return-Path: 
 <lucene-user-return-5633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64161 invoked from network); 8 Oct 2003 01:57:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 01:57:31 -0000
Received: (qmail 75760 invoked by uid 500); 8 Oct 2003 01:57:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75732 invoked by uid 500); 8 Oct 2003 01:57:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75713 invoked from network); 8 Oct 2003 01:57:07 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 8 Oct 2003 01:57:07 -0000
Received: (cpmta 95 invoked from network); 7 Oct 2003 18:57:15 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 7 Oct 2003 18:57:15 -0700
X-Sent: 8 Oct 2003 01:57:15 GMT
Date: Tue, 7 Oct 2003 21:57:15 -0400
Subject: Re: Default AND for multi-field queries...
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <6.0.0.22.0.20031007175528.021afa00@mail.visionstudio.com>
Message-Id: <BD787710-F932-11D7-B5AE-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mike,

I agree that MultiQueryParser could use some enhancements to bring it 
closer to QueryParser's capabilities.  I'd recommend that setters be 
added rather than adding another constructor - it just makes it easier 
to add more tweakable parameters later instead of adding new 
constructors, and is in line with how QueryParser works too.

Why are you looping through your fields 6 times if you are using 
MultiFieldQueryParser?  Or is it because MFQP is not suitable to your 
needs and you're doing what it should be doing manually.

I'm curious, though, why you need to query on multiple fields with the 
same query.  Why not group, during indexing, all fields to be queried 
into a single catch-all field that you query against?

Altering a field setting on a Query seems easier said than done, 
although I need to think about this more.  Several Query subclasses 
rewrite queries based on the actual terms in the index, but that 
happens at a later stage and shouldn't actually affect the Query 
instance itself.  But queries don't (currently) have ways to change the 
term(s) dynamically after construction.

	Erik


On Tuesday, October 7, 2003, at 06:01  PM, Michael Giles wrote:

> As with many people, I want the default query behavior to be AND 
> (instead of OR).  However, I'm also (always) creating multi-field 
> queries.  I don't see a way to accomplish this cleanly in the API.  It 
> would be great if MultiFieldQueryParser had a constructor that took an 
> array of fields (i.e. String[]).  That would solve the problem (and 
> seems like a mistaken omission).  It would also be nice if QueryParser 
> allowed you to parse a query once, and then alter the field setting 
> and generate different queries.  As it stands (from my read of the 
> API), I have to loop through my list of fields (6 of them) and create 
> a new QueryParser each time.  Parsing the same query 6 times is pretty 
> ugly.  Perhaps there is a better way that I'm missing.
>
> -Mike
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct  8 02:30:56 2003
Return-Path: 
 <lucene-user-return-5634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73665 invoked from network); 8 Oct 2003 02:30:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 02:30:56 -0000
Received: (qmail 91191 invoked by uid 500); 8 Oct 2003 02:30:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91161 invoked by uid 500); 8 Oct 2003 02:30:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91148 invoked from network); 8 Oct 2003 02:30:33 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com)
 (216.74.150.80)
  by daedalus.apache.org with SMTP; 8 Oct 2003 02:30:33 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com
 with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 7 Oct 2003 22:35:52 -0400
Message-ID: <015b01c38d44$3d7312b0$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BD787710-F932-11D7-B5AE-000393A564E6@ehatchersolutions.com>
Subject: score for MultipleSearcher
Date: Tue, 7 Oct 2003 22:31:12 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 08 Oct 2003 02:35:52.0796 (UTC)
 FILETIME=[E488A9C0:01C38D44]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
When I use the Mutliple index seach on one large index and one small index,
look like sometimes the documents from the small index get higher score
compared the documents from the big index. But when I look at the score
formular, this actaully should not happen. Both indices were created by
Lucene API 1.3rc.
Any idea aobut this?

Regards,
Hui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct  8 03:20:38 2003
Return-Path: 
 <lucene-user-return-5636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93041 invoked from network); 8 Oct 2003 03:20:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 03:20:38 -0000
Received: (qmail 50597 invoked by uid 500); 8 Oct 2003 03:20:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50566 invoked by uid 500); 8 Oct 2003 03:20:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50553 invoked from network); 8 Oct 2003 03:20:14 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.245)
  by daedalus.apache.org with SMTP; 8 Oct 2003 03:20:14 -0000
Received: (qmail 1489 invoked from network); 8 Oct 2003 03:20:23 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 8 Oct 2003 03:20:23 -0000
Message-ID: <3F838270.1000906@lucene.com>
Date: Tue, 07 Oct 2003 20:20:16 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Too Many Open Files
References: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wilton, Reece wrote:
> The index directory that Lucene created has 2,322 files in it.  When I
> try to open it I get the dreaded "Too Many Open Files" problem:
>     java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
> files)
> 
> The index has about 50,000 docs in it.  It was created with a merge
> factor of 5,000.  Is there a way that I can reduce the number of files
> or increase the number of files that windows can open?

5000 is way too large for the merge factor.  Please read the FAQ and 
other messages on this list for guidelines.  I've personally never found 
use for a merge factor larger than 50.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct  8 03:43:37 2003
Return-Path: 
 <lucene-user-return-5637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 448 invoked from network); 8 Oct 2003 03:43:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 03:43:37 -0000
Received: (qmail 63286 invoked by uid 500); 8 Oct 2003 03:43:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63257 invoked by uid 500); 8 Oct 2003 03:43:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63240 invoked from network); 8 Oct 2003 03:43:12 -0000
Received: from unknown (HELO mail2.tpgi.com.au) (203.12.160.58)
  by daedalus.apache.org with SMTP; 8 Oct 2003 03:43:12 -0000
Received: from bianca (203-219-182-30-nsw.tpgi.com.au [203.219.182.30])
	by mail2.tpgi.com.au (8.12.10/8.12.10) with ESMTP id h983hIV0015469
	for <lucene-user@jakarta.apache.org>; Wed, 8 Oct 2003 13:43:18 +1000
From: "Ian White" <ian@biancashouse.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Announcing a new integration of Lucene
Date: Wed, 8 Oct 2003 13:44:21 +1000
Message-ID: <000e01c38d4e$75e73cc0$0200a8c0@bianca>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_000F_01C38DA2.479596B0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Kaspersky-Antivirus: Passed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C38DA2.479596B0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0010_01C38DA2.479807B0"


------=_NextPart_001_0010_01C38DA2.479807B0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit


 
BroadVision tell me this is far better than their 2 attempts at using
Lucene.
Now there is absolutely no reason for any BroadVision site not to have a
pretty damn good search facility.
 
I know you guys are probably not interested in BroadVision, but it shows
how you can really make a difference with Open Source.
 
Ian
www.biancashouse.com <http://www.biancashouse.com/>  

------=_NextPart_001_0010_01C38DA2.479807B0
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">


<meta name=3DProgId content=3DWord.Document>
<meta name=3DGenerator content=3D"Microsoft Word 10">
<meta name=3DOriginator content=3D"Microsoft Word 10">
<link rel=3DFile-List href=3D"cid:filelist.xml@01C38DA2.471C20F0">
<link rel=3DEdit-Time-Data href=3D"cid:editdata.mso@01C38DA2.471C20F0">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:OfficeDocumentSettings>
  <o:DoNotRelyOnCSS/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DocumentKind>DocumentEmail</w:DocumentKind>
  <w:EnvelopeVis/>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	mso-style-noshow:yes;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:windowtext;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */=20
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=3DEN-AU link=3Dblue vlink=3Dpurple =
style=3D'tab-interval:36.0pt'>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><img width=3D300 height=3D200 id=3D"_x0000_i1025"
src=3D"cid:image001.gif@01C38DA2.471C20F0"><o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>BroadVision tell me this is far better than their 2 =
attempts
at using Lucene.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Now there is absolutely no reason for any BroadVision =
site
not to have a pretty damn good search =
facility.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>I know you guys are probably not interested in =
BroadVision,
but it shows how you can really make a difference with Open =
Source.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Ian<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><a =
href=3D"http://www.biancashouse.com/">www.biancashouse.com</a>
<o:p></o:p></span></font></p>

</div>

</body>

</html>

------=_NextPart_001_0010_01C38DA2.479807B0--

------=_NextPart_000_000F_01C38DA2.479596B0--


From MAILER-DAEMON Wed Oct  8 22:21:22 2003
Return-Path: 
 <lucene-user-return-5639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23086 invoked from network); 8 Oct 2003 22:21:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 22:21:22 -0000
Received: (qmail 56235 invoked by uid 500); 8 Oct 2003 22:21:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56205 invoked by uid 500); 8 Oct 2003 22:21:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56192 invoked from network); 8 Oct 2003 22:21:03 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 8 Oct 2003 22:21:03 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h98MEABH025096
	for <lucene-user@jakarta.apache.org>; Wed, 8 Oct 2003 15:20:00 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Wed, 8 Oct 2003 15:21:25 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 8 Oct 2003 15:21:09 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Too Many Open Files
Date: Wed, 8 Oct 2003 15:21:09 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D0C@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Too Many Open Files
Thread-Index: AcONS03EUrjObgHORUqyRW6qw5Vl0AAnwYXQ
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Oct 2003 22:21:09.0628 (UTC)
 FILETIME=[79780BC0:01C38DEA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok, I lowered my MergeFactor down to 10 and am re-indexing (takes
several hours).  Will lowering the MergeFactor reduce the total number
of files in the index directory?
-Reece=20

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Tuesday, October 07, 2003 8:20 PM
To: Lucene Users List
Subject: Re: Too Many Open Files

Wilton, Reece wrote:
> The index directory that Lucene created has 2,322 files in it.  When I
> try to open it I get the dreaded "Too Many Open Files" problem:
>     java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
> files)
>=20
> The index has about 50,000 docs in it.  It was created with a merge
> factor of 5,000.  Is there a way that I can reduce the number of files
> or increase the number of files that windows can open?

5000 is way too large for the merge factor.  Please read the FAQ and=20
other messages on this list for guidelines.  I've personally never found

use for a merge factor larger than 50.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct  8 17:29:13 2003
Return-Path: 
 <lucene-user-return-5638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85415 invoked from network); 8 Oct 2003 17:29:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 Oct 2003 17:29:13 -0000
Received: (qmail 63574 invoked by uid 500); 8 Oct 2003 17:28:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63520 invoked by uid 500); 8 Oct 2003 17:28:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63379 invoked from network); 8 Oct 2003 17:28:37 -0000
Received: from unknown (HELO smtpzilla1.xs4all.nl) (194.109.127.137)
  by daedalus.apache.org with SMTP; 8 Oct 2003 17:28:37 -0000
Received: from k7l (a80-127-232-129.dial.xs4all.nl [80.127.232.129])
	by smtpzilla1.xs4all.nl (8.12.9/8.12.9) with ESMTP id h98HSdJY045611
	for <lucene-user@jakarta.apache.org>; Wed, 8 Oct 2003 19:28:40 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: score for MultipleSearcher
Date: Wed, 8 Oct 2003 19:28:48 -0700
User-Agent: KMail/1.4.3
References: <BD787710-F932-11D7-B5AE-000393A564E6@ehatchersolutions.com>
 <015b01c38d44$3d7312b0$9e0010ac@thopny.triplehop.com>
In-Reply-To: <015b01c38d44$3d7312b0$9e0010ac@thopny.triplehop.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200310081928.48399.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hui,

On Tuesday 07 October 2003 19:31, hui wrote:
> Hi,
> When I use the Mutliple index seach on one large index and one small in=
dex,
> look like sometimes the documents from the small index get higher score
> compared the documents from the big index. But when I look at the score
> formular, this actaully should not happen. Both indices were created by
> Lucene API 1.3rc.
> Any idea aobut this?

This could happen in case the term weights are determined per index:
the fewer documents that contain a term, the higher the term weight,
(idf: inverse document frequency).
The default scores are not normalized for the idf term weights,
only for the query term weights.

As I'm still using 1.2, I have never tried the new 1.3 features for
searching multiple indexes. I would expect 1.3 to use the total
nr. of docs containing a term in searched all indexes together,
though.

Kind regards,
Ype.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  9 08:47:24 2003
Return-Path: 
 <lucene-user-return-5640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31518 invoked from network); 9 Oct 2003 08:47:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Oct 2003 08:47:24 -0000
Received: (qmail 55584 invoked by uid 500); 9 Oct 2003 08:46:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55534 invoked by uid 500); 9 Oct 2003 08:46:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55417 invoked from network); 9 Oct 2003 08:46:46 -0000
Received: from unknown (HELO smtp3.clb.oleane.net) (213.56.31.19)
  by daedalus.apache.org with SMTP; 9 Oct 2003 08:46:46 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp3.clb.oleane.net with ESMTP id h998kuTa031829
	for <lucene-user@jakarta.apache.org>; Thu, 9 Oct 2003 10:46:56 +0200
Message-ID: <006d01c38e42$8fee9830$680010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <496A2C679221504D8B8AE4B10267E876019D7D0C@gb-sm-cala-xm11.corp.disney.com>
Subject: Re: Too Many Open Files
Date: Thu, 9 Oct 2003 10:51:41 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Wilton,

MergeFactor indicates when Segments must be merged. With a value of 10, the
segments of your index will be merged into a single one when they reach this
number. That's why MergeFactor has a direct impact on the number of files in
your index.

However this has consequences on the performance if you are using
FSDirectory. When you're adding a new Document, it is stored in RAM and then
merged according to the MergeFactor specified. If this MergeFactor is low,
this will produce Segments in FSDirectory more often and your indexing takes
more time.

If you need a faster indexation there are 3 possibilities  :
- indexing in several RAMDirectories and then merging the indexes in
FSDirectory (see the excellent article by Otis "Advanced Text Indexing" )
- see the FileHandle solution proposed by Dmitry Serebrennikov in September
(which gives the possibility to use a bigger MergeFactor but aggregates the
Segments into a single file)
- and at last use the patch I submitted 9/20/2003 that modifies IndexWriter
by adding a new parameter minMergeDocs which specifies the number of
Documents merged in RAM independently of the number of Segments in
FSDirectory. You still have a fast indexation by using memory and control
the number of files on the disk.

Hope it helps

Julien  Nioche
http://www.lingway.com


----- Original Message -----
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 09, 2003 12:21 AM
Subject: RE: Too Many Open Files


Ok, I lowered my MergeFactor down to 10 and am re-indexing (takes
several hours).  Will lowering the MergeFactor reduce the total number
of files in the index directory?
-Reece

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Tuesday, October 07, 2003 8:20 PM
To: Lucene Users List
Subject: Re: Too Many Open Files

Wilton, Reece wrote:
> The index directory that Lucene created has 2,322 files in it.  When I
> try to open it I get the dreaded "Too Many Open Files" problem:
>     java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
> files)
>
> The index has about 50,000 docs in it.  It was created with a merge
> factor of 5,000.  Is there a way that I can reduce the number of files
> or increase the number of files that windows can open?

5000 is way too large for the merge factor.  Please read the FAQ and
other messages on this list for guidelines.  I've personally never found

use for a merge factor larger than 50.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  9 14:18:07 2003
Return-Path: 
 <lucene-user-return-5641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12491 invoked from network); 9 Oct 2003 14:18:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Oct 2003 14:18:07 -0000
Received: (qmail 3338 invoked by uid 500); 9 Oct 2003 14:17:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3286 invoked by uid 500); 9 Oct 2003 14:17:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3271 invoked from network); 9 Oct 2003 14:17:56 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 9 Oct 2003 14:17:56 -0000
Message-ID: <20031009141757.64174.qmail@web12705.mail.yahoo.com>
Received: from [194.152.226.140] by web12705.mail.yahoo.com via HTTP;
 Thu, 09 Oct 2003 07:17:57 PDT
Date: Thu, 9 Oct 2003 07:17:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: GermanAnalyzer.java GermanStemmer.java
To: lucene-user@jakarta.apache.org
In-Reply-To: <375786F6-FA36-11D7-8C3A-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

If not the author, maybe some users of this code can tell us how this
uppercase/lowercase business should work.

And the issue even includes patches.  I don't use the German* stuff, so
I'm afraid of applying it and breaking things for people who do use
German* classes as they are currently.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> It seems to be the issue mentioned here as well:
> 
> 	http://nagoya.apache.org/bugzilla/show_bug.cgi?id=18410
> 
> 
> On Wednesday, October 8, 2003, at 09:41  PM, Otis Gospodnetic wrote:
> > Answer to question comment: possibly because nouns start with a
> capital
> > letter in German, so lowercasing may not be the right thing to do.
> > This is a bit of a guess.  Maybe the author will enlighten us. :)
> >
> > Otis
> >
> > --- ehatcher@apache.org wrote:
> >> ehatcher    2003/10/08 17:08:52
> >>   Revision  Changes    Path
> >>   1.7       +3 -2
> >>
> > jakarta-lucene/src/java/org/apache/lucene/analysis/de/ 
> > GermanAnalyzer.java
> >>
> >>   Index: GermanAnalyzer.java
> >>  
> ===================================================================
> >>   RCS file:
> >>
> > /home/cvs/jakarta-lucene/src/java/org/apache/lucene/analysis/de/ 
> > GermanAnalyzer.java,v
> >>   retrieving revision 1.6
> >>   retrieving revision 1.7
> >>   diff -u -r1.6 -r1.7
> >>   --- GermanAnalyzer.java	29 Jan 2003 17:18:53 -0000	1.6
> >>   +++ GermanAnalyzer.java	9 Oct 2003 00:08:52 -0000	1.7
> >>   @@ -169,7 +169,8 @@
> >>        {
> >>    	TokenStream result = new StandardTokenizer( reader );
> >>    	result = new StandardFilter( result );
> >>   -	result = new StopFilter( result, stoptable );
> >>   +  // shouldn't there be a lowercaser before stop word
> filtering?
> >>   +  result = new StopFilter( result, stoptable );
> >>    	result = new GermanStemFilter( result, excltable );
> >>    	return result;
> >>        }
> >>
> >>
> >>



__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct  9 14:51:14 2003
Return-Path: 
 <lucene-user-return-5642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33995 invoked from network); 9 Oct 2003 14:51:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 Oct 2003 14:51:14 -0000
Received: (qmail 374 invoked by uid 500); 9 Oct 2003 14:51:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 348 invoked by uid 500); 9 Oct 2003 14:51:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 335 invoked from network); 9 Oct 2003 14:51:03 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 9 Oct 2003 14:51:03 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h99Ei7Bt021117
	for <lucene-user@jakarta.apache.org>; Thu, 9 Oct 2003 07:49:55 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Thu, 9 Oct 2003 07:51:20 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 9 Oct 2003 07:51:03 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Too Many Open Files
Date: Thu, 9 Oct 2003 07:51:02 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D0F@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Too Many Open Files
Thread-Index: AcONS03EUrjObgHORUqyRW6qw5Vl0ABKVxug
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 09 Oct 2003 14:51:03.0929 (UTC)
 FILETIME=[C33B2690:01C38E74]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug!  Reducing the MergeFactor to 10 reduced the number of files
in the index dramatically.
-Reece=20

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Tuesday, October 07, 2003 8:20 PM
To: Lucene Users List
Subject: Re: Too Many Open Files

Wilton, Reece wrote:
> The index directory that Lucene created has 2,322 files in it.  When I
> try to open it I get the dreaded "Too Many Open Files" problem:
>     java.io.FileNotFoundException: C:\Index\_1lvq.f107 (Too many open
> files)
>=20
> The index has about 50,000 docs in it.  It was created with a merge
> factor of 5,000.  Is there a way that I can reduce the number of files
> or increase the number of files that windows can open?

5000 is way too large for the merge factor.  Please read the FAQ and=20
other messages on this list for guidelines.  I've personally never found

use for a merge factor larger than 50.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 10 11:31:39 2003
Return-Path: 
 <lucene-user-return-5643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33667 invoked from network); 10 Oct 2003 11:31:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Oct 2003 11:31:39 -0000
Received: (qmail 57737 invoked by uid 500); 10 Oct 2003 11:31:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57711 invoked by uid 500); 10 Oct 2003 11:31:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57697 invoked from network); 10 Oct 2003 11:31:31 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 10 Oct 2003 11:31:31 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A7vUY-00047E-00
	for <lucene-user@jakarta.apache.org>; Fri, 10 Oct 2003 13:31:30 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1A7vUY-000476-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 10 Oct 2003 13:31:30 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A7vUY-0003nY-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Fri, 10 Oct 2003 13:31:30 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Dash Confusion in QueryParser - Bug? Feature?
Date: Fri, 10 Oct 2003 13:30:34 +0200
Lines: 13
Message-ID: <bm65ah$e8b$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

when I search for "MS-Word" I get all the documents that contain exactly 
that word, which is good. If, however, I search for MS-Word (without the 
quotes), then the MultiFieldQueryParser restructures the query to "MS 
-Word" and I consequently get all documents that contain "MS" and not 
"Word".

Why does the MultiFieldQueryParser insert the extra blank here? Are 
there use cases, where this would make sense? Or is it a bug?

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 10 14:47:44 2003
Return-Path: 
 <lucene-user-return-5644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37456 invoked from network); 10 Oct 2003 14:47:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 Oct 2003 14:47:44 -0000
Received: (qmail 93917 invoked by uid 500); 10 Oct 2003 14:47:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93881 invoked by uid 500); 10 Oct 2003 14:47:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93867 invoked from network); 10 Oct 2003 14:47:30 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 10 Oct 2003 14:47:30 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA04937
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Oct 2003 16:50:17 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id QAA04933
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Oct 2003 16:50:17 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id QAA28811
        for <lucene-user@jakarta.apache.org>;
 Fri, 10 Oct 2003 16:49:24 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2655.55)
	id <4249YHBQ>; Fri, 10 Oct 2003 16:48:08 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA51@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: StandardTokenizer Problem
Date: Fri, 10 Oct 2003 16:48:08 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C38F3D.84DEEF39"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C38F3D.84DEEF39
Content-Type: text/plain;
	charset="iso-8859-1"

Hi all.

I need to define my own tokenizer so as to detect accentuated characters.
So as not to modify the Lucene classes, I made a copy of the
StandardTokenizer.jj in another package.
Then, I modified the names (StandardTokenizer becomes MICTokenizer, MIC is
the name of my appli).
After a JavaCC generation, I obtain the following error while compiling
MICTokenizer.java :

Exception ParseException is not compatible with throws clause in
org.apache.lucene.analysis.TokenStream.next()

The definition of the next() method in TokenStream is as follow :
  abstract public Token next() throws IOException;

whereas JavaCC, from the MICTokenizer.jj generates the following next()
method in MICTokenizer.java
  final public org.apache.lucene.analysis.Token next() throws
ParseException, IOException

The compiler seems right : the method next() in MICTokenizer.java does not
have the same structure.

But why does this error raises with my class MICTokenizer.java generated
from MICTokenizer.jj, while the StandardTokenizer.java generated from
StandardTokenizer.jj works well, with the same next() method signature :
  final public org.apache.lucene.analysis.Token next() throws
ParseException, IOException

If I remove the "ParseException" in the method signature, the compiler
complains about the jj_consume_token methods called within the function who
throw "ParseException"s.


Any help welcome.

Thanks

Gilles Moyse

Here is a copy of my MICTokenizer.jj (for those interested, you can find a
unicode decomposition with accents at the end of the code) :

/* ====================================================================
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

options {
  STATIC = false;
//IGNORE_CASE = true;
//BUILD_PARSER = false;
//UNICODE_INPUT = true;
  USER_CHAR_STREAM = true;
  OPTIMIZE_TOKEN_MANAGER = true;
//DEBUG_TOKEN_MANAGER = true;
}
PARSER_BEGIN(MICTokenizer)

package com.cetelem.outildecisionnel.mic.analysis.tokenizers;

import java.io.*;
import org.apache.lucene.analysis.standard.FastCharStream;

/** A grammar-based tokenizer constructed with JavaCC.
 *
 * <p> This should be a good tokenizer for most European-language documents.
 *
 * <p>Many applications have specific tokenizer needs.  If this tokenizer
does
 * not suit your application, please consider copying this source code
 * directory to your project and maintaining your own grammar-based
tokenizer.
 * Now supports accents (return a HAS_ACCENT token type) and integers
(NUMBER token)
 */
public class MICTokenizer extends org.apache.lucene.analysis.Tokenizer {

  /** Constructs a tokenizer for this Reader. */
  public MICTokenizer(Reader reader) {
    this(new FastCharStream(reader));
    this.input = reader;
  }
}

PARSER_END(MICTokenizer)

TOKEN : {					  // token patterns

  // number
  <NUMBER: (<DIGIT>)+>

| <HAS_ACCENT:					  // at least one digit
	(<LETTER>)*
	<ACCENTUATED_LETTER>
	(<LETTER>)*
  >

  // basic word: a sequence of digits & letters
| <ALPHANUM: (<LETTER>|<DIGIT>)+ >

  // internal apostrophes: O'Reilly, you're, O'Reilly's
  // use a post-filter to remove possesives
| <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >

  // acronyms: U.S.A., I.B.M., etc.
  // use a post-filter to remove dots
| <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >

  // company names like AT&T and Excite@Home.
| <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >

  // email addresses
| <EMAIL: <ALPHANUM> "@" <ALPHANUM> ("." <ALPHANUM>)+ >

  // hostname
| <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >

  // floating point, serial, model numbers, ip addresses, etc.
  // every other segment must have at least one digit
| <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
       | <HAS_DIGIT> <P> <ALPHANUM>
       | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
       | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
       | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
       | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
        )
  >

| <#P: ("_"|"-"|"/"|"."|",") >

| <#HAS_DIGIT:					  // at least one digit
    (<LETTER>|<DIGIT>)*
    <DIGIT>
    (<LETTER>|<DIGIT>)*
  >

| < #ALPHA: (<LETTER>)+>

| < #LETTER: (<NON_ACCENTUATED_LETTER>|<ACCENTUATED_LETTER>) >

| < #NON_ACCENTUATED_LETTER:					  // unicode
letters
      [
       "\u0041"-"\u005a",	//upper case (A-Z)
       "\u0061"-"\u007a",	//lower case (a-z)
       "\u0100"-"\u1fff",	// the following letters may be conidered as
accentuated, but they dont exist in Latin languages
       "\u3040"-"\u318f",
       "\u3300"-"\u337f",
       "\u3400"-"\u3d2d",
       "\u4e00"-"\u9fff",
       "\uf900"-"\ufaff"
      ]
  >
| < #ACCENTUATED_LETTER:					  // unicode
letters
      [
       "\u00c0"-"\u00c5",	//accentuated A
       "\u00c6",			//AE
       "\u00c6",			//C cedille
       "\u00c8"-"\u00cb",	//accentuated E
       "\u00cc"-"\u00cf",	//accentuated I
       "\u00d1",			//N tilde
       "\u00d2"-"\u00d6",	//accentuated O
       "\u00d9"-"\u00dc",	//accentuated U
       "\u00dd",			//accentuated Y
		"\u00e0"-"\u00e5",	//accentuated a
       "\u00e8"-"\u00eb",	//accentuated e
       "\u00cc"-"\u00cf",	//accentuated I
       "\u00d1",			//N tilde
       "\u00d2"-"\u00d6",	//accentuated O
       "\u00d9"-"\u00dc",	//accentuated U
       "\u00dd",			//accentuated Y       
       "\u00e0"-"\u00e5",	//accentuated a
       "\u00e6",			//ae
       "\u00e6",			//c cedille
       "\u00e8"-"\u00eb",	//accentuated e
       "\u00ec"-"\u00ef",	//accentuated i
       "\u00f1",			//N tilde
       "\u00f2"-"\u00f6",	//accentuated o
       "\u00f9"-"\u00fc",	//accentuated U
       "\u00fd"-"\u00ff"	//accentuated y
      ]
  >
| < #DIGIT:					  // unicode digits
      [
       "\u0030"-"\u0039",
       "\u0660"-"\u0669",
       "\u06f0"-"\u06f9",
       "\u0966"-"\u096f",
       "\u09e6"-"\u09ef",
       "\u0a66"-"\u0a6f",
       "\u0ae6"-"\u0aef",
       "\u0b66"-"\u0b6f",
       "\u0be7"-"\u0bef",
       "\u0c66"-"\u0c6f",
       "\u0ce6"-"\u0cef",
       "\u0d66"-"\u0d6f",
       "\u0e50"-"\u0e59",
       "\u0ed0"-"\u0ed9",
       "\u1040"-"\u1049"
      ]
  >
}

SKIP : {					  // skip unrecognized chars
 <NOISE: ~[] >
}

/** Returns the next token in the stream, or null at EOS.
 * <p>The returned token's type is set to an element of {@link
 * MICTokenizerConstants#tokenImage}.
 */
org.apache.lucene.analysis.Token next() throws IOException :
{
  Token token = null;
}
{
  ( token = <ALPHANUM> |
    token = <APOSTROPHE> |
    token = <ACRONYM> |
    token = <COMPANY> |
    token = <EMAIL> |
    token = <HOST> |
    token = <NUM> |
    token = <NUMBER> |
    token = <HAS_ACCENT> |
    token = <EOF>
   )
    {
      if (token.kind == EOF) {
	return null;
      } else {
	return
	  new org.apache.lucene.analysis.Token(token.image,
					token.beginColumn,token.endColumn,
					tokenImage[token.kind]);
      }
    }
}

------_=_NextPart_001_01C38F3D.84DEEF39--

From MAILER-DAEMON Sat Oct 11 04:04:27 2003
Return-Path: 
 <lucene-user-return-5645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19862 invoked from network); 11 Oct 2003 04:04:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Oct 2003 04:04:27 -0000
Received: (qmail 42567 invoked by uid 500); 11 Oct 2003 04:04:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42530 invoked by uid 500); 11 Oct 2003 04:04:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42515 invoked from network); 11 Oct 2003 04:04:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 11 Oct 2003 04:04:00 -0000
Received: (cpmta 8868 invoked from network); 10 Oct 2003 21:04:05 -0700
Received: from 209.204.147.1 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 10 Oct 2003 21:04:05 -0700
X-Sent: 11 Oct 2003 04:04:05 GMT
Date: Fri, 10 Oct 2003 20:59:27 -0700
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <bm65ah$e8b$1@sea.gmane.org>
Message-Id: <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, October 10, 2003, at 04:30  AM, Ulrich Mayring wrote:
> when I search for "MS-Word" I get all the documents that contain 
> exactly that word, which is good. If, however, I search for MS-Word 
> (without the quotes), then the MultiFieldQueryParser restructures the 
> query to "MS -Word" and I consequently get all documents that contain 
> "MS" and not "Word".

What Analyzer are you using?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct 11 04:04:33 2003
Return-Path: 
 <lucene-user-return-5646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19925 invoked from network); 11 Oct 2003 04:04:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Oct 2003 04:04:33 -0000
Received: (qmail 42842 invoked by uid 500); 11 Oct 2003 04:04:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42809 invoked by uid 500); 11 Oct 2003 04:04:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42569 invoked from network); 11 Oct 2003 04:04:01 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 11 Oct 2003 04:04:01 -0000
Received: (cpmta 8833 invoked from network); 10 Oct 2003 21:04:03 -0700
Received: from 209.204.147.1 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 10 Oct 2003 21:04:03 -0700
X-Sent: 11 Oct 2003 04:04:03 GMT
Date: Fri, 10 Oct 2003 21:04:03 -0700
Subject: Re: StandardTokenizer Problem
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA51@NGMAIL3>
Message-Id: <F362EED0-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Look at Lucene's build file (the one in CVS) and how it deals with this  
situation.  It does this:

   <target name="javacc-StandardAnalyzer" depends="init,javacc-check"  
if="javacc.present">
     <!-- generate this in a build directory so we can exclude  
ParseException -->
     <mkdir dir="${build.dir}/gen/org/apache/lucene/analysis/standard"/>
     <antcall target="invoke-javacc">
       <param name="target"  
location="src/java/org/apache/lucene/analysis/standard/ 
StandardTokenizer.jj"/>
       <param name="output.dir"  
location="${build.dir}/gen/org/apache/lucene/analysis/standard"/>
     </antcall>
     <copy todir="src/java/org/apache/lucene/analysis/standard">
       <fileset  
dir="${build.dir}/gen/org/apache/lucene/analysis/standard">
         <include name="*.java"/>
         <exclude name="ParseException.java"/>
       </fileset>
     </copy>
   </target>

which ignores the ParseException that was generated.


On Friday, October 10, 2003, at 07:48  AM, MOYSE Gilles (Cetelem) wrote:

> Hi all.
>
> I need to define my own tokenizer so as to detect accentuated  
> characters.
> So as not to modify the Lucene classes, I made a copy of the
> StandardTokenizer.jj in another package.
> Then, I modified the names (StandardTokenizer becomes MICTokenizer,  
> MIC is
> the name of my appli).
> After a JavaCC generation, I obtain the following error while compiling
> MICTokenizer.java :
>
> Exception ParseException is not compatible with throws clause in
> org.apache.lucene.analysis.TokenStream.next()
>
> The definition of the next() method in TokenStream is as follow :
>   abstract public Token next() throws IOException;
>
> whereas JavaCC, from the MICTokenizer.jj generates the following next()
> method in MICTokenizer.java
>   final public org.apache.lucene.analysis.Token next() throws
> ParseException, IOException
>
> The compiler seems right : the method next() in MICTokenizer.java does  
> not
> have the same structure.
>
> But why does this error raises with my class MICTokenizer.java  
> generated
> from MICTokenizer.jj, while the StandardTokenizer.java generated from
> StandardTokenizer.jj works well, with the same next() method signature  
> :
>   final public org.apache.lucene.analysis.Token next() throws
> ParseException, IOException
>
> If I remove the "ParseException" in the method signature, the compiler
> complains about the jj_consume_token methods called within the  
> function who
> throw "ParseException"s.
>
>
> Any help welcome.
>
> Thanks
>
> Gilles Moyse
>
> Here is a copy of my MICTokenizer.jj (for those interested, you can  
> find a
> unicode decomposition with accents at the end of the code) :
>
> /* ====================================================================
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software  
> itself,
>  *    if and wherever such third-party acknowledgments normally appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * ====================================================================
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
>
> options {
>   STATIC = false;
> //IGNORE_CASE = true;
> //BUILD_PARSER = false;
> //UNICODE_INPUT = true;
>   USER_CHAR_STREAM = true;
>   OPTIMIZE_TOKEN_MANAGER = true;
> //DEBUG_TOKEN_MANAGER = true;
> }
> PARSER_BEGIN(MICTokenizer)
>
> package com.cetelem.outildecisionnel.mic.analysis.tokenizers;
>
> import java.io.*;
> import org.apache.lucene.analysis.standard.FastCharStream;
>
> /** A grammar-based tokenizer constructed with JavaCC.
>  *
>  * <p> This should be a good tokenizer for most European-language  
> documents.
>  *
>  * <p>Many applications have specific tokenizer needs.  If this  
> tokenizer
> does
>  * not suit your application, please consider copying this source code
>  * directory to your project and maintaining your own grammar-based
> tokenizer.
>  * Now supports accents (return a HAS_ACCENT token type) and integers
> (NUMBER token)
>  */
> public class MICTokenizer extends org.apache.lucene.analysis.Tokenizer  
> {
>
>   /** Constructs a tokenizer for this Reader. */
>   public MICTokenizer(Reader reader) {
>     this(new FastCharStream(reader));
>     this.input = reader;
>   }
> }
>
> PARSER_END(MICTokenizer)
>
> TOKEN : {					  // token patterns
>
>   // number
>   <NUMBER: (<DIGIT>)+>
>
> | <HAS_ACCENT:					  // at least one digit
> 	(<LETTER>)*
> 	<ACCENTUATED_LETTER>
> 	(<LETTER>)*
>>
>
>   // basic word: a sequence of digits & letters
> | <ALPHANUM: (<LETTER>|<DIGIT>)+ >
>
>   // internal apostrophes: O'Reilly, you're, O'Reilly's
>   // use a post-filter to remove possesives
> | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>
>   // acronyms: U.S.A., I.B.M., etc.
>   // use a post-filter to remove dots
> | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>
>   // company names like AT&T and Excite@Home.
> | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>
>   // email addresses
> | <EMAIL: <ALPHANUM> "@" <ALPHANUM> ("." <ALPHANUM>)+ >
>
>   // hostname
> | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>
>   // floating point, serial, model numbers, ip addresses, etc.
>   // every other segment must have at least one digit
> | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>        | <HAS_DIGIT> <P> <ALPHANUM>
>        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>         )
>>
>
> | <#P: ("_"|"-"|"/"|"."|",") >
>
> | <#HAS_DIGIT:					  // at least one digit
>     (<LETTER>|<DIGIT>)*
>     <DIGIT>
>     (<LETTER>|<DIGIT>)*
>>
>
> | < #ALPHA: (<LETTER>)+>
>
> | < #LETTER: (<NON_ACCENTUATED_LETTER>|<ACCENTUATED_LETTER>) >
>
> | < #NON_ACCENTUATED_LETTER:					  // unicode
> letters
>       [
>        "\u0041"-"\u005a",	//upper case (A-Z)
>        "\u0061"-"\u007a",	//lower case (a-z)
>        "\u0100"-"\u1fff",	// the following letters may be conidered as
> accentuated, but they dont exist in Latin languages
>        "\u3040"-"\u318f",
>        "\u3300"-"\u337f",
>        "\u3400"-"\u3d2d",
>        "\u4e00"-"\u9fff",
>        "\uf900"-"\ufaff"
>       ]
>>
> | < #ACCENTUATED_LETTER:					  // unicode
> letters
>       [
>        "\u00c0"-"\u00c5",	//accentuated A
>        "\u00c6",			//AE
>        "\u00c6",			//C cedille
>        "\u00c8"-"\u00cb",	//accentuated E
>        "\u00cc"-"\u00cf",	//accentuated I
>        "\u00d1",			//N tilde
>        "\u00d2"-"\u00d6",	//accentuated O
>        "\u00d9"-"\u00dc",	//accentuated U
>        "\u00dd",			//accentuated Y
> 		"\u00e0"-"\u00e5",	//accentuated a
>        "\u00e8"-"\u00eb",	//accentuated e
>        "\u00cc"-"\u00cf",	//accentuated I
>        "\u00d1",			//N tilde
>        "\u00d2"-"\u00d6",	//accentuated O
>        "\u00d9"-"\u00dc",	//accentuated U
>        "\u00dd",			//accentuated Y
>        "\u00e0"-"\u00e5",	//accentuated a
>        "\u00e6",			//ae
>        "\u00e6",			//c cedille
>        "\u00e8"-"\u00eb",	//accentuated e
>        "\u00ec"-"\u00ef",	//accentuated i
>        "\u00f1",			//N tilde
>        "\u00f2"-"\u00f6",	//accentuated o
>        "\u00f9"-"\u00fc",	//accentuated U
>        "\u00fd"-"\u00ff"	//accentuated y
>       ]
>>
> | < #DIGIT:					  // unicode digits
>       [
>        "\u0030"-"\u0039",
>        "\u0660"-"\u0669",
>        "\u06f0"-"\u06f9",
>        "\u0966"-"\u096f",
>        "\u09e6"-"\u09ef",
>        "\u0a66"-"\u0a6f",
>        "\u0ae6"-"\u0aef",
>        "\u0b66"-"\u0b6f",
>        "\u0be7"-"\u0bef",
>        "\u0c66"-"\u0c6f",
>        "\u0ce6"-"\u0cef",
>        "\u0d66"-"\u0d6f",
>        "\u0e50"-"\u0e59",
>        "\u0ed0"-"\u0ed9",
>        "\u1040"-"\u1049"
>       ]
>>
> }
>
> SKIP : {					  // skip unrecognized chars
>  <NOISE: ~[] >
> }
>
> /** Returns the next token in the stream, or null at EOS.
>  * <p>The returned token's type is set to an element of {@link
>  * MICTokenizerConstants#tokenImage}.
>  */
> org.apache.lucene.analysis.Token next() throws IOException :
> {
>   Token token = null;
> }
> {
>   ( token = <ALPHANUM> |
>     token = <APOSTROPHE> |
>     token = <ACRONYM> |
>     token = <COMPANY> |
>     token = <EMAIL> |
>     token = <HOST> |
>     token = <NUM> |
>     token = <NUMBER> |
>     token = <HAS_ACCENT> |
>     token = <EOF>
>    )
>     {
>       if (token.kind == EOF) {
> 	return null;
>       } else {
> 	return
> 	  new org.apache.lucene.analysis.Token(token.image,
> 					token.beginColumn,token.endColumn,
> 					tokenImage[token.kind]);
>       }
>     }
> }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct 11 13:45:07 2003
Return-Path: 
 <lucene-user-return-5647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55689 invoked from network); 11 Oct 2003 13:45:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 11 Oct 2003 13:45:07 -0000
Received: (qmail 47082 invoked by uid 500); 11 Oct 2003 13:44:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47060 invoked by uid 500); 11 Oct 2003 13:44:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47046 invoked from network); 11 Oct 2003 13:44:56 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 11 Oct 2003 13:44:56 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1A8K3F-0000zM-MB
	for lucene-user@jakarta.apache.org; Sat, 11 Oct 2003 08:44:57 -0500
Message-Id: <6.0.0.22.0.20031011094249.022523f8@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Sat, 11 Oct 2003 09:44:56 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
In-Reply-To: <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com
 >
References: <bm65ah$e8b$1@sea.gmane.org>
 <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

He is probably using the StandardAnalyzer.  I was about to write the exact 
same email (but using Wal-Mart as an example on this page - 
http://www.benchmark.com/cgi-bin/suid/~bcmlp/newsletter.cgi?mode=show&year=2003&date=2003-10-07). 
I index and search with the same analyzer (Standard), but when I search for 
Wal-Mart, I don't find a match.  I DO find a match if I search for 
"Wal-Mart" or Wal Mart (no hyphen).  This seems like a bug.

-Mike

At 11:59 PM 10/10/2003, you wrote:
>On Friday, October 10, 2003, at 04:30  AM, Ulrich Mayring wrote:
>>when I search for "MS-Word" I get all the documents that contain exactly 
>>that word, which is good. If, however, I search for MS-Word (without the 
>>quotes), then the MultiFieldQueryParser restructures the query to "MS 
>>-Word" and I consequently get all documents that contain "MS" and not "Word".
>
>What Analyzer are you using?
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 13 07:51:02 2003
Return-Path: 
 <lucene-user-return-5648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83359 invoked from network); 13 Oct 2003 07:51:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 07:51:02 -0000
Received: (qmail 43918 invoked by uid 500); 13 Oct 2003 07:50:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43692 invoked by uid 500); 13 Oct 2003 07:50:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43679 invoked from network); 13 Oct 2003 07:50:32 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 13 Oct 2003 07:50:32 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A8xTY-0007cu-00
	for <lucene-user@jakarta.apache.org>; Mon, 13 Oct 2003 09:50:44 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1A8xTW-0007cj-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 13 Oct 2003 09:50:42 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A8xTW-00053s-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 13 Oct 2003 09:50:42 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Mon, 13 Oct 2003 09:49:40 +0200
Lines: 13
Message-ID: <bmdlgi$j03$1@sea.gmane.org>
References: <bm65ah$e8b$1@sea.gmane.org>
 <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com>
 <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com >
 <6.0.0.22.0.20031011094249.022523f8@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <6.0.0.22.0.20031011094249.022523f8@mail.visionstudio.com>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Giles wrote:
> He is probably using the StandardAnalyzer.  I was about to write the 
> exact same email (but using Wal-Mart as an example on this page - 
> http://www.benchmark.com/cgi-bin/suid/~bcmlp/newsletter.cgi?mode=show&year=2003&date=2003-10-07). 
> I index and search with the same analyzer (Standard), but when I search 
> for Wal-Mart, I don't find a match.  I DO find a match if I search for 
> "Wal-Mart" or Wal Mart (no hyphen).  This seems like a bug.

I'm not sure whether it has to do with the Analyzer, the thing happens 
with the Snowball Analyzers as well.

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 13 08:11:49 2003
Return-Path: 
 <lucene-user-return-5649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 723 invoked from network); 13 Oct 2003 08:11:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 08:11:49 -0000
Received: (qmail 85435 invoked by uid 500); 13 Oct 2003 08:11:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85409 invoked by uid 500); 13 Oct 2003 08:11:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85284 invoked from network); 13 Oct 2003 08:11:02 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 13 Oct 2003 08:11:02 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id KAA08812
        for <lucene-user@jakarta.apache.org>;
 Mon, 13 Oct 2003 10:13:49 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id KAA08798
        for <lucene-user@jakarta.apache.org>;
 Mon, 13 Oct 2003 10:13:49 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id KAA01786
        for <lucene-user@jakarta.apache.org>;
 Mon, 13 Oct 2003 10:13:01 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2655.55)
	id <45B2KPXR>; Mon, 13 Oct 2003 10:11:43 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA55@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: StandardTokenizer Problem
Date: Mon, 13 Oct 2003 10:11:36 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C39161.85DD5369"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C39161.85DD5369
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I just deleted the "ParseException.java" file, and everything works =
fine
now.

Thank you.

Gilles Moyse

-----Message d'origine-----
De : Erik Hatcher [mailto:erik@ehatchersolutions.com]
Envoy=E9 : samedi 11 octobre 2003 06:04
=C0 : Lucene Users List
Objet : Re: StandardTokenizer Problem


Look at Lucene's build file (the one in CVS) and how it deals with this =
=20
situation.  It does this:

   <target name=3D"javacc-StandardAnalyzer" =
depends=3D"init,javacc-check" =20
if=3D"javacc.present">
     <!-- generate this in a build directory so we can exclude =20
ParseException -->
     <mkdir =
dir=3D"${build.dir}/gen/org/apache/lucene/analysis/standard"/>
     <antcall target=3D"invoke-javacc">
       <param name=3D"target" =20
location=3D"src/java/org/apache/lucene/analysis/standard/=20
StandardTokenizer.jj"/>
       <param name=3D"output.dir" =20
location=3D"${build.dir}/gen/org/apache/lucene/analysis/standard"/>
     </antcall>
     <copy todir=3D"src/java/org/apache/lucene/analysis/standard">
       <fileset =20
dir=3D"${build.dir}/gen/org/apache/lucene/analysis/standard">
         <include name=3D"*.java"/>
         <exclude name=3D"ParseException.java"/>
       </fileset>
     </copy>
   </target>

which ignores the ParseException that was generated.


On Friday, October 10, 2003, at 07:48  AM, MOYSE Gilles (Cetelem) =
wrote:

> Hi all.
>
> I need to define my own tokenizer so as to detect accentuated =20
> characters.
> So as not to modify the Lucene classes, I made a copy of the
> StandardTokenizer.jj in another package.
> Then, I modified the names (StandardTokenizer becomes MICTokenizer, =20
> MIC is
> the name of my appli).
> After a JavaCC generation, I obtain the following error while =
compiling
> MICTokenizer.java :
>
> Exception ParseException is not compatible with throws clause in
> org.apache.lucene.analysis.TokenStream.next()
>
> The definition of the next() method in TokenStream is as follow :
>   abstract public Token next() throws IOException;
>
> whereas JavaCC, from the MICTokenizer.jj generates the following =
next()
> method in MICTokenizer.java
>   final public org.apache.lucene.analysis.Token next() throws
> ParseException, IOException
>
> The compiler seems right : the method next() in MICTokenizer.java =
does =20
> not
> have the same structure.
>
> But why does this error raises with my class MICTokenizer.java =20
> generated
> from MICTokenizer.jj, while the StandardTokenizer.java generated from
> StandardTokenizer.jj works well, with the same next() method =
signature =20
> :
>   final public org.apache.lucene.analysis.Token next() throws
> ParseException, IOException
>
> If I remove the "ParseException" in the method signature, the =
compiler
> complains about the jj_consume_token methods called within the =20
> function who
> throw "ParseException"s.
>
>
> Any help welcome.
>
> Thanks
>
> Gilles Moyse
>
> Here is a copy of my MICTokenizer.jj (for those interested, you can =20
> find a
> unicode decomposition with accents at the end of the code) :
>
> /* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>  * The Apache Software License, Version 1.1
>  *
>  * Copyright (c) 2001 The Apache Software Foundation.  All rights
>  * reserved.
>  *
>  * Redistribution and use in source and binary forms, with or without
>  * modification, are permitted provided that the following conditions
>  * are met:
>  *
>  * 1. Redistributions of source code must retain the above copyright
>  *    notice, this list of conditions and the following disclaimer.
>  *
>  * 2. Redistributions in binary form must reproduce the above =
copyright
>  *    notice, this list of conditions and the following disclaimer in
>  *    the documentation and/or other materials provided with the
>  *    distribution.
>  *
>  * 3. The end-user documentation included with the redistribution,
>  *    if any, must include the following acknowledgment:
>  *       "This product includes software developed by the
>  *        Apache Software Foundation (http://www.apache.org/)."
>  *    Alternately, this acknowledgment may appear in the software =20
> itself,
>  *    if and wherever such third-party acknowledgments normally =
appear.
>  *
>  * 4. The names "Apache" and "Apache Software Foundation" and
>  *    "Apache Lucene" must not be used to endorse or promote products
>  *    derived from this software without prior written permission. =
For
>  *    written permission, please contact apache@apache.org.
>  *
>  * 5. Products derived from this software may not be called "Apache",
>  *    "Apache Lucene", nor may "Apache" appear in their name, without
>  *    prior written permission of the Apache Software Foundation.
>  *
>  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
>  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
>  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
>  * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
>  * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
>  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
>  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
>  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED =
AND
>  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
>  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
>  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
>  * SUCH DAMAGE.
>  * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>  *
>  * This software consists of voluntary contributions made by many
>  * individuals on behalf of the Apache Software Foundation.  For more
>  * information on the Apache Software Foundation, please see
>  * <http://www.apache.org/>.
>  */
>
> options {
>   STATIC =3D false;
> //IGNORE_CASE =3D true;
> //BUILD_PARSER =3D false;
> //UNICODE_INPUT =3D true;
>   USER_CHAR_STREAM =3D true;
>   OPTIMIZE_TOKEN_MANAGER =3D true;
> //DEBUG_TOKEN_MANAGER =3D true;
> }
> PARSER_BEGIN(MICTokenizer)
>
> package com.cetelem.outildecisionnel.mic.analysis.tokenizers;
>
> import java.io.*;
> import org.apache.lucene.analysis.standard.FastCharStream;
>
> /** A grammar-based tokenizer constructed with JavaCC.
>  *
>  * <p> This should be a good tokenizer for most European-language =20
> documents.
>  *
>  * <p>Many applications have specific tokenizer needs.  If this =20
> tokenizer
> does
>  * not suit your application, please consider copying this source =
code
>  * directory to your project and maintaining your own grammar-based
> tokenizer.
>  * Now supports accents (return a HAS_ACCENT token type) and integers
> (NUMBER token)
>  */
> public class MICTokenizer extends =
org.apache.lucene.analysis.Tokenizer =20
> {
>
>   /** Constructs a tokenizer for this Reader. */
>   public MICTokenizer(Reader reader) {
>     this(new FastCharStream(reader));
>     this.input =3D reader;
>   }
> }
>
> PARSER_END(MICTokenizer)
>
> TOKEN : {					  // token patterns
>
>   // number
>   <NUMBER: (<DIGIT>)+>
>
> | <HAS_ACCENT:					  // at least one
digit
> 	(<LETTER>)*
> 	<ACCENTUATED_LETTER>
> 	(<LETTER>)*
>>
>
>   // basic word: a sequence of digits & letters
> | <ALPHANUM: (<LETTER>|<DIGIT>)+ >
>
>   // internal apostrophes: O'Reilly, you're, O'Reilly's
>   // use a post-filter to remove possesives
> | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>
>   // acronyms: U.S.A., I.B.M., etc.
>   // use a post-filter to remove dots
> | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>
>   // company names like AT&T and Excite@Home.
> | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>
>   // email addresses
> | <EMAIL: <ALPHANUM> "@" <ALPHANUM> ("." <ALPHANUM>)+ >
>
>   // hostname
> | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>
>   // floating point, serial, model numbers, ip addresses, etc.
>   // every other segment must have at least one digit
> | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>        | <HAS_DIGIT> <P> <ALPHANUM>
>        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>         )
>>
>
> | <#P: ("_"|"-"|"/"|"."|",") >
>
> | <#HAS_DIGIT:					  // at least one
digit
>     (<LETTER>|<DIGIT>)*
>     <DIGIT>
>     (<LETTER>|<DIGIT>)*
>>
>
> | < #ALPHA: (<LETTER>)+>
>
> | < #LETTER: (<NON_ACCENTUATED_LETTER>|<ACCENTUATED_LETTER>) >
>
> | < #NON_ACCENTUATED_LETTER:					  // unicode
> letters
>       [
>        "\u0041"-"\u005a",	//upper case (A-Z)
>        "\u0061"-"\u007a",	//lower case (a-z)
>        "\u0100"-"\u1fff",	// the following letters may be conidered =
as
> accentuated, but they dont exist in Latin languages
>        "\u3040"-"\u318f",
>        "\u3300"-"\u337f",
>        "\u3400"-"\u3d2d",
>        "\u4e00"-"\u9fff",
>        "\uf900"-"\ufaff"
>       ]
>>
> | < #ACCENTUATED_LETTER:					  // unicode
> letters
>       [
>        "\u00c0"-"\u00c5",	//accentuated A
>        "\u00c6",			//AE
>        "\u00c6",			//C cedille
>        "\u00c8"-"\u00cb",	//accentuated E
>        "\u00cc"-"\u00cf",	//accentuated I
>        "\u00d1",			//N tilde
>        "\u00d2"-"\u00d6",	//accentuated O
>        "\u00d9"-"\u00dc",	//accentuated U
>        "\u00dd",			//accentuated Y
> 		"\u00e0"-"\u00e5",	//accentuated a
>        "\u00e8"-"\u00eb",	//accentuated e
>        "\u00cc"-"\u00cf",	//accentuated I
>        "\u00d1",			//N tilde
>        "\u00d2"-"\u00d6",	//accentuated O
>        "\u00d9"-"\u00dc",	//accentuated U
>        "\u00dd",			//accentuated Y
>        "\u00e0"-"\u00e5",	//accentuated a
>        "\u00e6",			//ae
>        "\u00e6",			//c cedille
>        "\u00e8"-"\u00eb",	//accentuated e
>        "\u00ec"-"\u00ef",	//accentuated i
>        "\u00f1",			//N tilde
>        "\u00f2"-"\u00f6",	//accentuated o
>        "\u00f9"-"\u00fc",	//accentuated U
>        "\u00fd"-"\u00ff"	//accentuated y
>       ]
>>
> | < #DIGIT:					  // unicode digits
>       [
>        "\u0030"-"\u0039",
>        "\u0660"-"\u0669",
>        "\u06f0"-"\u06f9",
>        "\u0966"-"\u096f",
>        "\u09e6"-"\u09ef",
>        "\u0a66"-"\u0a6f",
>        "\u0ae6"-"\u0aef",
>        "\u0b66"-"\u0b6f",
>        "\u0be7"-"\u0bef",
>        "\u0c66"-"\u0c6f",
>        "\u0ce6"-"\u0cef",
>        "\u0d66"-"\u0d6f",
>        "\u0e50"-"\u0e59",
>        "\u0ed0"-"\u0ed9",
>        "\u1040"-"\u1049"
>       ]
>>
> }
>
> SKIP : {					  // skip unrecognized chars
>  <NOISE: ~[] >
> }
>
> /** Returns the next token in the stream, or null at EOS.
>  * <p>The returned token's type is set to an element of {@link
>  * MICTokenizerConstants#tokenImage}.
>  */
> org.apache.lucene.analysis.Token next() throws IOException :
> {
>   Token token =3D null;
> }
> {
>   ( token =3D <ALPHANUM> |
>     token =3D <APOSTROPHE> |
>     token =3D <ACRONYM> |
>     token =3D <COMPANY> |
>     token =3D <EMAIL> |
>     token =3D <HOST> |
>     token =3D <NUM> |
>     token =3D <NUMBER> |
>     token =3D <HAS_ACCENT> |
>     token =3D <EOF>
>    )
>     {
>       if (token.kind =3D=3D EOF) {
> 	return null;
>       } else {
> 	return
> 	  new org.apache.lucene.analysis.Token(token.image,
> 					token.beginColumn,token.endColumn,
> 					tokenImage[token.kind]);
>       }
>     }
> }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C39161.85DD5369--

From MAILER-DAEMON Mon Oct 13 09:04:53 2003
Return-Path: 
 <lucene-user-return-5650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38912 invoked from network); 13 Oct 2003 09:04:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 09:04:53 -0000
Received: (qmail 95791 invoked by uid 500); 13 Oct 2003 09:04:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95762 invoked by uid 500); 13 Oct 2003 09:04:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95748 invoked from network); 13 Oct 2003 09:04:21 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 13 Oct 2003 09:04:21 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de
 [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id h9D92xsV019558
	for <lucene-user@jakarta.apache.org>; Mon, 13 Oct 2003 11:02:59 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id LAA24986
	for <lucene-user@jakarta.apache.org>;
 Mon, 13 Oct 2003 11:03:07 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <4S6YVQKL>; Mon, 13 Oct 2003 11:02:06 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881AD9@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: field search sometimes throws exception
Date: Mon, 13 Oct 2003 11:02:01 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a field "VOLUME" of type "keyword". When I search for "VOLUME:1" =
the
expected hits are returned, but when I search for "VOLUME:2" I get an=20
ArrayIndexOutOfBoundsException with message: 101 - but there should be =
hits.
So on some numbers I do get hits - also "hits" with 0 matches, but the
program doesn't crash - while on others the exception is thrown.

Changing the field type to text/unstored and reindexing didn't help.

The exception occurs when calling=20

Hits hits =3D searcher.search(query);

and I traced it down to IndexSearcher --> search(query,filter,nDocs)-->
scorer.score(...). There I get rather lost, but I don't believe it's =
such an
internal issue.=20

Any idea on what's going wrong?

Best regards,

Ren=E9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 13 13:22:02 2003
Return-Path: 
 <lucene-user-return-5651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71364 invoked from network); 13 Oct 2003 13:22:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 13:22:02 -0000
Received: (qmail 63021 invoked by uid 500); 13 Oct 2003 13:21:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62991 invoked by uid 500); 13 Oct 2003 13:21:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62978 invoked from network); 13 Oct 2003 13:21:53 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 13 Oct 2003 13:21:53 -0000
Message-ID: <20031013132154.44130.qmail@web12703.mail.yahoo.com>
Received: from [194.152.209.29] by web12703.mail.yahoo.com via HTTP;
 Mon, 13 Oct 2003 06:21:54 PDT
Date: Mon, 13 Oct 2003 06:21:54 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Builder.com article on Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: jeff@greenninja.com
In-Reply-To: <039201c34d74$1b82fc20$6801a8c0@charliebrown>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Uh, this message was flagged nicely in my Lucene folder, but I just got
to it now.  The link should show up in the 'Articles, etc.' section on
Lucene's pages next time they are refreshed.

Otis


--- Jeff Linwood <jeff@greenninja.com> wrote:
> Hi,
> 
> I wrote a short introductory article about Lucene on Builder.com
> (CNET), at
> http://builder.com.com/article.jhtml?id=u00320030718jlin01.htm
> 
> It's pretty basic, and it's meant for readers who aren't aware of
> Lucene or
> what it can do.
> 
> Thanks,
> Jeff
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 13 13:32:30 2003
Return-Path: 
 <lucene-user-return-5652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77156 invoked from network); 13 Oct 2003 13:32:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 13:32:30 -0000
Received: (qmail 93562 invoked by uid 500); 13 Oct 2003 13:32:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93518 invoked by uid 500); 13 Oct 2003 13:32:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93426 invoked from network); 13 Oct 2003 13:32:12 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 13 Oct 2003 13:32:12 -0000
Message-ID: <20031013133212.53375.qmail@web12708.mail.yahoo.com>
Received: from [194.152.209.29] by web12708.mail.yahoo.com via HTTP;
 Mon, 13 Oct 2003 06:32:12 PDT
Date: Mon, 13 Oct 2003 06:32:12 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: DBDirectory available for download
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: me@anthonyeden.com
In-Reply-To: <3EDBB219.6090503@anthonyeden.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you, I added this to out 'patch queue'.
If you have a more recent version, feel free to attach it to the
enhancement report that you received in email.

Otis

--- Anthony Eden <me@anthonyeden.com> wrote:
> Version 1.0 of the DBDirectory library, which implements a Directory
> which can store indeces in a database is now available for download.
> There are two versions:
> 
>    Tar GZIP:
> http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.tar.gz
>    ZIP:
> http://www.anthonyeden.com/download/lucene-dbdirectory-1.0.zip
> 
> The source code is included.  Please read the README file for
> instructions on using DBDirectory.  I have only tested it with MySQL
> but
> would be happy to add other database scripts if anyone would like to
> submit them.  Please post any questions here on the mailing list.
> 
> Otis, is there anything left to do to get this into the sandbox?
> Additionally, how will I maintain the code if it is in the sandbox?
> Will I get write access to the part of the CVS repository which would
> house DBDirectory?  I currently have all of the code in my private
> CVS.
> 
> Sincerely,
> Anthony Eden
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 13 15:56:28 2003
Return-Path: 
 <lucene-user-return-5653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63825 invoked from network); 13 Oct 2003 15:56:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 13 Oct 2003 15:56:28 -0000
Received: (qmail 32491 invoked by uid 500); 13 Oct 2003 15:56:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32467 invoked by uid 500); 13 Oct 2003 15:56:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32453 invoked from network); 13 Oct 2003 15:56:16 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 13 Oct 2003 15:56:16 -0000
Message-ID: <20031013155619.28325.qmail@web12701.mail.yahoo.com>
Received: from [194.152.209.29] by web12701.mail.yahoo.com via HTTP;
 Mon, 13 Oct 2003 08:56:19 PDT
Date: Mon, 13 Oct 2003 08:56:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: pierrick.brihaye@wanadoo.fr
In-Reply-To: <003d01c38595$031f2560$d4d1fea9@becane>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello and thank you.
I added this to out 'patch queue' at:
http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23784

Otis

--- Pierrick Brihaye <pierrick.brihaye@wanadoo.fr> wrote:
> Hi all,
> 
> I have written a Lucene Analyzer for arabic. You will find it here :
> http://perso.wanadoo.fr/pierrick.brihaye/ArabicAnalyzer.jar
> (provisional
> adress, anybody interested in hosting it ?)
> 
> This work is still in beta stage but it gives quite good results :-)
> 
> In order to make it work, you need :
> 
> 1) a 1.4+ JVM (because of the native support for regular expressions
> which
> are heavily used in the program ; I've been too lazy to use an
> external
> package)
> 
> 2) Apache Jakarta Commons-Collections :
> http://jakarta.apache.org/commons/collections.html
> 
> 3) a recent Lucene distribution ;-)
> 
> All this work is based on the amazing Tim Buckwalter's Arabic
> Morphological
> Analyzer Version 1.0
>
(http://www.ldc.upenn.edu/Catalog/CatalogEntry.jsp?catalogId=LDC2002L49)
> originaly written in Perl and released under the GPL.
> 
> The jar contains :
> 
> a) the compiled classes
> b) the required data files (dictionaries and compatibility tables)
> c) 2 command-line test programs
> d) 3 test documents with different encodings
> e) the source code
> f) a README file that will give you a little bit more of information
> :-)
> 
> To Lucene developers : I plan to offer this work to Lucene (see the
> jar
> hierarchy... and the source file headers ;-). Any objections ?
> 
> Feedback is very welcome : there are quite a lot of unresolved
> issues, with
> the analyzer itselfs as well as with Lucene.
> 
> mE AlslAmap, cheers,
> 
> p.b.
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 10:07:05 2003
Return-Path: 
 <lucene-user-return-5654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90808 invoked from network); 14 Oct 2003 10:07:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 10:07:05 -0000
Received: (qmail 97622 invoked by uid 500); 14 Oct 2003 10:06:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97600 invoked by uid 500); 14 Oct 2003 10:06:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97586 invoked from network); 14 Oct 2003 10:06:31 -0000
Received: from unknown (HELO vscan.aperto.de) (213.61.132.3)
  by daedalus.apache.org with SMTP; 14 Oct 2003 10:06:31 -0000
From: matthias.krueger@aperto.de (Matthias Krueger)
To: <lucene-user@jakarta.apache.org>
Subject: Indexing UTF-8 and lexical errors
Date: Tue, 14 Oct 2003 12:06:42 +0200
Message-ID: <IJEBIACKMCLMGBECALKIEENECCAA.matthias.krueger@aperto.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I am trying to index UTF-8 encoded HTML files with content in various
languages with Lucene. So far I always receive a message

"Parse Aborted: Lexical error at line 146, column 79.
Encountered: "\u2013" (8211), after : "" "

when trying to index files with Arabic words. I am aware of the fact
that tokenizing/analyzing/stemming non-latin characters has some issues
but for me tokenizing would be enough. And that should work with Arabic,
Russian etc. shouldn't it ?

So, what steps do I have to take to make Lucene index non-latin
languages/characters encoded in UTF-8 ?

Thank you very much,
Matthias


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 13:14:28 2003
Return-Path: 
 <lucene-user-return-5655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91301 invoked from network); 14 Oct 2003 13:14:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 13:14:28 -0000
Received: (qmail 9605 invoked by uid 500); 14 Oct 2003 13:13:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9577 invoked by uid 500); 14 Oct 2003 13:13:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9512 invoked from network); 14 Oct 2003 13:13:48 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 14 Oct 2003 13:13:48 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA13445
        for <lucene-user@jakarta.apache.org>;
 Tue, 14 Oct 2003 15:16:31 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA13437
        for <lucene-user@jakarta.apache.org>;
 Tue, 14 Oct 2003 15:16:31 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id PAA11614
        for <lucene-user@jakarta.apache.org>;
 Tue, 14 Oct 2003 15:15:44 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2655.55)
	id <45B2L25B>; Tue, 14 Oct 2003 15:14:25 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA5A@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing UTF-8 and lexical errors
Date: Tue, 14 Oct 2003 15:14:25 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C39255.16E25816"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C39255.16E25816
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

You should edit the StandardTokenizer.jj file. It contains all the
definitions to generate the StandardTokenizer.java class, that you =
certainly
use.
At the end of the StandardTokenizer.jj file, you'll find the definition =
of
the LETTER token. You'll see all the accepted letters, in Unicode. If =
you
want a table of the different Unicodes, go there :
http://www.alanwood.net/unicode/
In the LETTER token definition in the .jj file, unicode are coded as =
ranges
(like "\u0030"-"\u0039") or as elements (like "\u00f1").
Adding the Arabic unicode ranges in this part may solve your problem =
(add a
line like "\u0600"-"\u06FF", since 0600-06FF is the range for arabic
characters)

Once modified, go to the root of your Lucene installation, and =
recompile the
StandardTokenizer.jj file with :
	ant compile
It should generate the java files (and even compile if I remember well)

Good Luck

Gilles Moyse

-----Message d'origine-----
De : matthias.krueger@aperto.de [mailto:matthias.krueger@aperto.de]
Envoy=E9 : mardi 14 octobre 2003 12:07
=C0 : lucene-user@jakarta.apache.org
Objet : Indexing UTF-8 and lexical errors



I am trying to index UTF-8 encoded HTML files with content in various
languages with Lucene. So far I always receive a message

"Parse Aborted: Lexical error at line 146, column 79.
Encountered: "\u2013" (8211), after : "" "

when trying to index files with Arabic words. I am aware of the fact
that tokenizing/analyzing/stemming non-latin characters has some issues
but for me tokenizing would be enough. And that should work with =
Arabic,
Russian etc. shouldn't it ?

So, what steps do I have to take to make Lucene index non-latin
languages/characters encoded in UTF-8 ?

Thank you very much,
Matthias


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C39255.16E25816--

From MAILER-DAEMON Tue Oct 14 14:27:43 2003
Return-Path: 
 <lucene-user-return-5656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47508 invoked from network); 14 Oct 2003 14:27:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 14:27:43 -0000
Received: (qmail 80291 invoked by uid 500); 14 Oct 2003 14:27:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80266 invoked by uid 500); 14 Oct 2003 14:27:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80252 invoked from network); 14 Oct 2003 14:27:32 -0000
Received: from unknown (HELO vscan.aperto.de) (213.61.132.3)
  by daedalus.apache.org with SMTP; 14 Oct 2003 14:27:32 -0000
From: matthias.krueger@aperto.de (Matthias Krueger)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Indexing UTF-8 and lexical errors
Date: Tue, 14 Oct 2003 16:27:31 +0200
Message-ID: <IJEBIACKMCLMGBECALKIMENHCCAA.matthias.krueger@aperto.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
In-Reply-To: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA5A@NGMAIL3>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Thank you very much, I think this will help with the issue of identifying
non-latin letters.

Nevertheless I wonder how words containing non-latin characters are stored
in the Lucene index. I got a word containing the German umlaut '�' (00 FC)
and the letter is stored as two strange letters (00 C3 00 BC) in the index
file I looked at (_1.fdt). Why is that ?

Regards,
Matthias


-----Urspr�ngliche Nachricht-----
Von: MOYSE Gilles (Cetelem) [mailto:gilles.moyse@cetelem.fr]
Gesendet: Dienstag, 14. Oktober 2003 15:14
An: 'Lucene Users List'
Betreff: RE: Indexing UTF-8 and lexical errors


Hi.

You should edit the StandardTokenizer.jj file. It contains all the
definitions to generate the StandardTokenizer.java class, that you certainly
use.
At the end of the StandardTokenizer.jj file, you'll find the definition of
the LETTER token. You'll see all the accepted letters, in Unicode. If you
want a table of the different Unicodes, go there :
http://www.alanwood.net/unicode/
In the LETTER token definition in the .jj file, unicode are coded as ranges
(like "\u0030"-"\u0039") or as elements (like "\u00f1").
Adding the Arabic unicode ranges in this part may solve your problem (add a
line like "\u0600"-"\u06FF", since 0600-06FF is the range for arabic
characters)

Once modified, go to the root of your Lucene installation, and recompile the
StandardTokenizer.jj file with :
	ant compile
It should generate the java files (and even compile if I remember well)

Good Luck

Gilles Moyse

-----Message d'origine-----
De : matthias.krueger@aperto.de [mailto:matthias.krueger@aperto.de]
Envoy� : mardi 14 octobre 2003 12:07
� : lucene-user@jakarta.apache.org
Objet : Indexing UTF-8 and lexical errors



I am trying to index UTF-8 encoded HTML files with content in various
languages with Lucene. So far I always receive a message

"Parse Aborted: Lexical error at line 146, column 79.
Encountered: "\u2013" (8211), after : "" "

when trying to index files with Arabic words. I am aware of the fact
that tokenizing/analyzing/stemming non-latin characters has some issues
but for me tokenizing would be enough. And that should work with Arabic,
Russian etc. shouldn't it ?

So, what steps do I have to take to make Lucene index non-latin
languages/characters encoded in UTF-8 ?

Thank you very much,
Matthias


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 16:27:47 2003
Return-Path: 
 <lucene-user-return-5657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16718 invoked from network); 14 Oct 2003 16:27:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 16:27:47 -0000
Received: (qmail 45758 invoked by uid 500); 14 Oct 2003 16:27:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45613 invoked by uid 500); 14 Oct 2003 16:27:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45595 invoked from network); 14 Oct 2003 16:27:34 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 14 Oct 2003 16:27:34 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id E5E785FDC
	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 16:27:35 +0000 (GMT)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id h9EGRZTY030879
	for lucene-user@jakarta.apache.org; Tue, 14 Oct 2003 09:27:35 -0700 (PDT)
	(envelope-from dror)
Date: Tue, 14 Oct 2003 09:27:35 -0700
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Indexing and searching in parallel
Message-ID: <20031014162735.GC2979@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks,

Is there a recommended strategy to deal with allowing to search an index
that is updated continuously? 

One idea that I thought of is to have two indexes one for searching and
one for indexing. Periodically I would copy new files from the indexed
index to the search index and then I would stop writing to the original
index and then call optimize on both of them. The main advantage to this
is that I would only be copying the new data over. Since our index files
are over 1 gig, this is important because I wouldn't want to suspend
searches for too long. 

The only problem is that I suspect that while I run the optimize() the
index is unavailable for searches.

Any better strategies for this?

This is all on a Unix system.

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 16:40:50 2003
Return-Path: 
 <lucene-user-return-5658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26830 invoked from network); 14 Oct 2003 16:40:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 16:40:50 -0000
Received: (qmail 67007 invoked by uid 500); 14 Oct 2003 16:40:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66952 invoked by uid 500); 14 Oct 2003 16:40:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66920 invoked from network); 14 Oct 2003 16:40:31 -0000
Received: from unknown (HELO mail.ibn-italy.com) (213.92.106.156)
  by daedalus.apache.org with SMTP; 14 Oct 2003 16:40:31 -0000
Received: from ibn-italy.com (luke.srv.ibn [192.168.2.50])
	by mail.ibn-italy.com (Postfix on SuSE Linux 7.3 (i386)) with SMTP id
 2A7763A5C0
	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 18:40:16 +0200 (CEST)
Received: (qmail 10554 invoked from network); 14 Oct 2003 16:40:15 -0000
Received: from snowball.bc.ibn (HELO ibn-italy.com) ([192.168.1.2])
 (envelope-sender <slrgcsa@ibn-italy.com>)
          by 0 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 14 Oct 2003 16:40:15 -0000
Date: Tue, 14 Oct 2003 18:40:14 +0200
Subject: Re: Indexing and searching in parallel
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Giulio Cesare Solaroli <slrgcsa@ibn-italy.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031014162735.GC2979@rlx11.zapatec.com>
Message-Id: <15BFBA48-FE65-11D7-9390-000393CD6D4C@ibn-italy.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi.

We have no problem at all searching while indexing or optimizing.

The only problem we had was on the IndexReader; the reader has 
visibility only on the documents available on the index when it is 
first loaded. Thus you have to define a policy to drop and recreate the 
reader periodically.
This because I think (if I have understood it well) Lucene handles the 
duplication of the index on its own, if there are active readers while 
it update and index.

Hope this helps.

Giulio Cesare Solaroli

On Tuesday, Oct 14, 2003, at 18:27 Europe/Rome, Dror Matalon wrote:

> Hi Folks,
>
> Is there a recommended strategy to deal with allowing to search an 
> index
> that is updated continuously?
>
> One idea that I thought of is to have two indexes one for searching and
> one for indexing. Periodically I would copy new files from the indexed
> index to the search index and then I would stop writing to the original
> index and then call optimize on both of them. The main advantage to 
> this
> is that I would only be copying the new data over. Since our index 
> files
> are over 1 gig, this is important because I wouldn't want to suspend
> searches for too long.
>
> The only problem is that I suspect that while I run the optimize() the
> index is unavailable for searches.
>
> Any better strategies for this?
>
> This is all on a Unix system.
>
> -- 
> Dror Matalon
> Zapatec Inc
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.zapatec.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 17:43:28 2003
Return-Path: 
 <lucene-user-return-5659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57783 invoked from network); 14 Oct 2003 17:43:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 17:43:28 -0000
Received: (qmail 63497 invoked by uid 500); 14 Oct 2003 17:43:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63462 invoked by uid 500); 14 Oct 2003 17:43:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63449 invoked from network); 14 Oct 2003 17:43:14 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 14 Oct 2003 17:43:14 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 97AE9AC96
	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 17:43:18 +0000 (GMT)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id h9EHhHFa031006
	for lucene-user@jakarta.apache.org; Tue, 14 Oct 2003 10:43:17 -0700 (PDT)
	(envelope-from dror)
Date: Tue, 14 Oct 2003 10:43:17 -0700
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing and searching in parallel
Message-ID: <20031014174317.GD2979@rlx11.zapatec.com>
References: <20031014162735.GC2979@rlx11.zapatec.com>
 <15BFBA48-FE65-11D7-9390-000393CD6D4C@ibn-italy.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <15BFBA48-FE65-11D7-9390-000393CD6D4C@ibn-italy.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

On Tue, Oct 14, 2003 at 06:40:14PM +0200, Giulio Cesare Solaroli wrote:
> Hi.
> 
> We have no problem at all searching while indexing or optimizing.
> 
> The only problem we had was on the IndexReader; the reader has 
> visibility only on the documents available on the index when it is 
> first loaded. Thus you have to define a policy to drop and recreate the 
> reader periodically.
> This because I think (if I have understood it well) Lucene handles the 
> duplication of the index on its own, if there are active readers while 
> it update and index.

Looks like I misunderstood. I looked through the FAQs and didn't find
much information on race condition with searching and indexing and how
lucene locks things. The race condition that I'm talking about is the
fact that if you do a search while you update the index files, you need
to be careful during the transition from the old data to the new one.
I imagine that the process involves renaming files since that's atomic
on most systems, but It'd be nice to have a clearer picture.


Regards,

Dror

> 
> Hope this helps.
> 
> Giulio Cesare Solaroli
> 
> On Tuesday, Oct 14, 2003, at 18:27 Europe/Rome, Dror Matalon wrote:
> 
> >Hi Folks,
> >
> >Is there a recommended strategy to deal with allowing to search an 
> >index
> >that is updated continuously?
> >
> >One idea that I thought of is to have two indexes one for searching and
> >one for indexing. Periodically I would copy new files from the indexed
> >index to the search index and then I would stop writing to the original
> >index and then call optimize on both of them. The main advantage to 
> >this
> >is that I would only be copying the new data over. Since our index 
> >files
> >are over 1 gig, this is important because I wouldn't want to suspend
> >searches for too long.
> >
> >The only problem is that I suspect that while I run the optimize() the
> >index is unavailable for searches.
> >
> >Any better strategies for this?
> >
> >This is all on a Unix system.
> >
> >-- 
> >Dror Matalon
> >Zapatec Inc
> >1700 MLK Way
> >Berkeley, CA 94709
> >http://www.zapatec.com
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 14 20:51:53 2003
Return-Path: 
 <lucene-user-return-5660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74766 invoked from network); 14 Oct 2003 20:51:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 14 Oct 2003 20:51:53 -0000
Received: (qmail 26318 invoked by uid 500); 14 Oct 2003 20:51:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26188 invoked by uid 500); 14 Oct 2003 20:51:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26175 invoked from network); 14 Oct 2003 20:51:35 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 14 Oct 2003 20:51:35 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1A9W8p-0004CL-VG
	for lucene-user@jakarta.apache.org; Tue, 14 Oct 2003 15:51:40 -0500
Message-Id: <6.0.0.22.0.20031014165051.022111e0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Tue, 14 Oct 2003 16:51:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
In-Reply-To: <bmdlgi$j03$1@sea.gmane.org>
References: <bm65ah$e8b$1@sea.gmane.org>
 <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com>
 <4EDF8219-FB9F-11D7-9907-000393A564E6@ehatchersolutions.com >
 <6.0.0.22.0.20031011094249.022523f8@mail.visionstudio.com>
 <bmdlgi$j03$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So what do we need to do to resolve this?  Has the discussion stopped 
because this is the "user" list and not "dev" or did it move over to the 
dev list?

-Mike

At 03:49 AM 10/13/2003, you wrote:
>Michael Giles wrote:
>>He is probably using the StandardAnalyzer.  I was about to write the 
>>exact same email (but using Wal-Mart as an example on this page - 
>>http://www.benchmark.com/cgi-bin/suid/~bcmlp/newsletter.cgi?mode=show&year=2003&date=2003-10-07). 
>>I index and search with the same analyzer (Standard), but when I search 
>>for Wal-Mart, I don't find a match.  I DO find a match if I search for 
>>"Wal-Mart" or Wal Mart (no hyphen).  This seems like a bug.
>
>I'm not sure whether it has to do with the Analyzer, the thing happens 
>with the Snowball Analyzers as well.
>
>Ulrich
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 00:01:26 2003
Return-Path: 
 <lucene-user-return-5661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46945 invoked from network); 15 Oct 2003 00:01:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 00:01:26 -0000
Received: (qmail 9422 invoked by uid 500); 15 Oct 2003 00:01:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9385 invoked by uid 500); 15 Oct 2003 00:01:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9347 invoked from network); 15 Oct 2003 00:01:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 15 Oct 2003 00:01:00 -0000
Received: (cpmta 17891 invoked from network); 14 Oct 2003 17:01:07 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 14 Oct 2003 17:01:07 -0700
X-Sent: 15 Oct 2003 00:01:07 GMT
Date: Tue, 14 Oct 2003 20:01:13 -0400
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <6.0.0.22.0.20031011094249.022523f8@mail.visionstudio.com>
Message-Id: <B0A1EDFF-FEA2-11D7-91CF-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday, October 11, 2003, at 09:44  AM, Michael Giles wrote:
> He is probably using the StandardAnalyzer.  I was about to write the  
> exact same email (but using Wal-Mart as an example on this page -  
> http://www.benchmark.com/cgi-bin/suid/~bcmlp/ 
> newsletter.cgi?mode=show&year=2003&date=2003-10-07). I index and  
> search with the same analyzer (Standard), but when I search for  
> Wal-Mart, I don't find a match.  I DO find a match if I search for  
> "Wal-Mart" or Wal Mart (no hyphen).  This seems like a bug.

Sorry for the delay.  I've been meaning to reply to this.

When you index using StandardAnalyzer, you are indexing it to two terms  
"wal" and "mart" (without the quotes).  QueryParser does its own  
(weird?) stuff to
strings passed to it.  Here's how it breaks down:

     String[] queries = {"Wal-Mart", "\"Wal-Mart\"", "Wal Mart"};
     for (int i = 0; i < queries.length; i++) {
       String query = queries[i];
       Query q = QueryParser.parse(query, "contents", new  
StandardAnalyzer());
       System.out.println(query + " = " + q);
     }

Wal-Mart = contents:wal -contents:mart
"Wal-Mart" = contents:"wal mart"
Wal Mart = contents:wal contents:mart

Notice all three are completely different queries.  The Wal-Mart one is  
excluding "mart" making it miss documents you expect.  The second one  
is a phrase query, which is basically what you're after.  The third one  
is matching any documents with "wal" or "mart" in them regardless of  
whether they are side-by-side.

Is this a bug?  Nah... just the nature of the QueryParser beast.  It  
would be a non-backwards-compatible change to change how QueryParser  
deals with a dash. That is the main issue here with it interpreting it  
as a NOT operator.  But it seems logical to me that it shouldn't do so  
when its mashed against a word like this and leave it to the analyzer  
to deal with.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 00:40:12 2003
Return-Path: 
 <lucene-user-return-5662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58573 invoked from network); 15 Oct 2003 00:40:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 00:40:12 -0000
Received: (qmail 39445 invoked by uid 500); 15 Oct 2003 00:39:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39275 invoked by uid 500); 15 Oct 2003 00:39:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39261 invoked from network); 15 Oct 2003 00:39:50 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 15 Oct 2003 00:39:50 -0000
Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au [203.51.7.52])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0dwU07805
	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:39:58 -0500
Message-ID: <000801c392b4$dcafe770$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <B0A1EDFF-FEA2-11D7-91CF-000393A564E6@ehatchersolutions.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Wed, 15 Oct 2003 10:38:01 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 15, 2003 10:01 AM
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?


> On Saturday, October 11, 2003, at 09:44  AM, Michael Giles wrote:
> > He is probably using the StandardAnalyzer.  I was about to write the
> > exact same email (but using Wal-Mart as an example on this page -
> > http://www.benchmark.com/cgi-bin/suid/~bcmlp/
> > newsletter.cgi?mode=show&year=2003&date=2003-10-07). I index and
> > search with the same analyzer (Standard), but when I search for
> > Wal-Mart, I don't find a match.  I DO find a match if I search for
> > "Wal-Mart" or Wal Mart (no hyphen).  This seems like a bug.
>
> Sorry for the delay.  I've been meaning to reply to this.
>
> When you index using StandardAnalyzer, you are indexing it to two terms
> "wal" and "mart" (without the quotes).  QueryParser does its own
> (weird?) stuff to
> strings passed to it.  Here's how it breaks down:
>
>      String[] queries = {"Wal-Mart", "\"Wal-Mart\"", "Wal Mart"};
>      for (int i = 0; i < queries.length; i++) {
>        String query = queries[i];
>        Query q = QueryParser.parse(query, "contents", new
> StandardAnalyzer());
>        System.out.println(query + " = " + q);
>      }
>
> Wal-Mart = contents:wal -contents:mart
> "Wal-Mart" = contents:"wal mart"
> Wal Mart = contents:wal contents:mart
>
> Notice all three are completely different queries.  The Wal-Mart one is
> excluding "mart" making it miss documents you expect.  The second one
> is a phrase query, which is basically what you're after.  The third one
> is matching any documents with "wal" or "mart" in them regardless of
> whether they are side-by-side.
>
> Is this a bug?  Nah... just the nature of the QueryParser beast.  It
> would be a non-backwards-compatible change to change how QueryParser
> deals with a dash. That is the main issue here with it interpreting it
> as a NOT operator.  But it seems logical to me that it shouldn't do so
> when its mashed against a word like this and leave it to the analyzer
> to deal with.

I believe this is the same problem that I had the other day. If you search
the mailing list for "t-shirt" you should get some threads discussing this
problem.

In fact why don't give it here:

http://nagoya.apache.org/eyebrowse/BrowseList?listName=lucene-user@jakarta.apache.org&by=thread&from=317960


Cheers,

victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 00:49:41 2003
Return-Path: 
 <lucene-user-return-5663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62252 invoked from network); 15 Oct 2003 00:49:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 00:49:41 -0000
Received: (qmail 44084 invoked by uid 500); 15 Oct 2003 00:49:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44041 invoked by uid 500); 15 Oct 2003 00:49:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44027 invoked from network); 15 Oct 2003 00:49:14 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 15 Oct 2003 00:49:14 -0000
Received: (cpmta 10748 invoked from network); 14 Oct 2003 17:49:22 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 14 Oct 2003 17:49:22 -0700
X-Sent: 15 Oct 2003 00:49:22 GMT
Date: Tue, 14 Oct 2003 20:49:28 -0400
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000801c392b4$dcafe770$ce00a8c0@victor>
Message-Id: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
> I believe this is the same problem that I had the other day. If you 
> search
> the mailing list for "t-shirt" you should get some threads discussing 
> this
> problem.

Haha!  Better search for "shirt", not "t-shirt" :))



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 00:51:45 2003
Return-Path: 
 <lucene-user-return-5664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63150 invoked from network); 15 Oct 2003 00:51:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 00:51:45 -0000
Received: (qmail 46906 invoked by uid 500); 15 Oct 2003 00:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46864 invoked by uid 500); 15 Oct 2003 00:51:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46822 invoked from network); 15 Oct 2003 00:51:23 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 15 Oct 2003 00:51:23 -0000
Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au [203.51.7.52])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9F0pUU10058
	for <lucene-user@jakarta.apache.org>; Tue, 14 Oct 2003 19:51:30 -0500
Message-ID: <001c01c392b6$797093b0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Wed, 15 Oct 2003 10:51:28 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> On Tuesday, October 14, 2003, at 08:38  PM, Victor Hadianto wrote:
> > I believe this is the same problem that I had the other day. If you
> > search
> > the mailing list for "t-shirt" you should get some threads discussing
> > this
> > problem.
>
> Haha!  Better search for "shirt", not "t-shirt" :))

If the QueryParser implemented the solution that I suggested then "t-shirt"
will get you the correct hits :)


/vh


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 06:20:36 2003
Return-Path: 
 <lucene-user-return-5665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76147 invoked from network); 15 Oct 2003 06:20:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 06:20:36 -0000
Received: (qmail 63024 invoked by uid 500); 15 Oct 2003 06:20:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62940 invoked by uid 500); 15 Oct 2003 06:20:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62927 invoked from network); 15 Oct 2003 06:20:07 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 15 Oct 2003 06:20:07 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A9f18-00030w-00
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 08:20:18 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1A9f16-00030o-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 15 Oct 2003 08:20:16 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A9f16-00063V-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 15 Oct 2003 08:20:16 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Wed, 15 Oct 2003 08:19:10 +0200
Lines: 10
Message-ID: <bmiov0$mng$1@sea.gmane.org>
References: <6E810050-FEA9-11D7-91CF-000393A564E6@ehatchersolutions.com>
 <001c01c392b6$797093b0$ce00a8c0@victor>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <001c01c392b6$797093b0$ce00a8c0@victor>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Victor Hadianto wrote:
> 
> If the QueryParser implemented the solution that I suggested then "t-shirt"
> will get you the correct hits :)

Well, what's the problem? I saw a couple of +1s, so why is your patch 
not added?

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 07:14:05 2003
Return-Path: 
 <lucene-user-return-5666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98651 invoked from network); 15 Oct 2003 07:14:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 07:14:05 -0000
Received: (qmail 97528 invoked by uid 500); 15 Oct 2003 07:13:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97499 invoked by uid 500); 15 Oct 2003 07:13:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97486 invoked from network); 15 Oct 2003 07:13:36 -0000
Received: from unknown (HELO hotmail.com) (207.68.162.117)
  by daedalus.apache.org with SMTP; 15 Oct 2003 07:13:36 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 15 Oct 2003 00:13:48 -0700
Received: from 219.238.185.157 by sea1-dav13.sea1.hotmail.com with DAV;
	Wed, 15 Oct 2003 07:13:48 +0000
X-Originating-IP: [219.238.185.157]
X-Originating-Email: [lvkrnewer@hotmail.com]
From: "lhelper" <lvkrnewer@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: A strange Error--IllegalAccessError: tried to access field
 org.apache.lucene.search.IndexSearcher.reader
Date: Wed, 15 Oct 2003 15:10:34 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Sea1-DAV138ab4uFM5N000036b5@hotmail.com>
X-OriginalArrivalTime: 15 Oct 2003 07:13:48.0562 (UTC)
 FILETIME=[E0F4DF20:01C392EB]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGkuDQoNCkkgZ2V0IGEgc3RyYW5nZSBwcm9ibGVtIHdpdGggbXkgd2ViIGFwcGxpY2F0aW9uIHJl
Y2VudGxseS4gVGhlIHdlYmFwcCBydW5zIHVuZGVyOg0KICByZXNpbi0yLjEuMTANCiAgajJzZGsx
LjQuMl8wMQ0KICByZWRoYXQgbGludXggMi40LjIwDQoNCkkgdXNlIGEgc3ViY2xhc3Mgb2YgSW5k
ZXhTZWFyY2hlciwgSW5kZXhPcmRlclNlYXJjaGVyLCBzZWFyY2ggdGhlIGluZGV4LCBhbmQgb3V0
cHV0IHRoZSByZXN1bHQgdXNlIGEgc2VydmxldC4gVGhlIHdlYmFwcCB3b3JrcyBmaW5lIHRoZSBt
b3N0IHRpbWUsIGJ1dCwgYWJvdXQgaGFsZiBhIG1vbnRoIGFnbywgSSBnb3QgdGhlIGZvbGxvd2lu
ZyBlcnJvciB3aGVuIEkgcmVzdGFydCByZXNpbjoNCg0KNTAwIFNlcnZsZXQgRXhjZXB0aW9uDQpq
YXZhLmxhbmcuSWxsZWdhbEFjY2Vzc0Vycm9yOiB0cmllZCB0byBhY2Nlc3MgZmllbGQgb3JnLmFw
YWNoZS5sdWNlbmUuc2VhcmNoLkluZGV4U2VhcmNoZXIucmVhZGVyDQpmcm9tIGNsYXNzIG9yZy5h
cGFjaGUubHVjZW5lLnNlYXJjaC5JbmRleE9yZGVyU2VhcmNoZXINCiBhdCBvcmcuYXBhY2hlLmx1
Y2VuZS5zZWFyY2guSW5kZXhPcmRlclNlYXJjaGVyLnNlYXJjaChVbmtub3duIFNvdXJjZSkNCiBh
dCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSGl0cy5nZXRNb3JlRG9jcyhIaXRzLmphdmE6OTAp
DQogYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkhpdHMuPGluaXQ+KEhpdHMuamF2YTo4MCkN
CiBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guU2VhcmNoZXIuc2VhcmNoKFNlYXJjaGVyLmph
dmE6NzEpDQogYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLlNlYXJjaGVyLnNlYXJjaChTZWFy
Y2hlci5qYXZhOjY1KQ0KIGF0IGNvbS5jaGVkb25nLndlYmx1Y2VuZS5zZWFyY2guRE9NU2VhcmNo
ZXIuc2VhcmNoV2ViTHVjZW5lUmVzdWx0U2V0KFVua25vd24gU291cmNlKQ0KIGF0IGNvbS5jaGVk
b25nLndlYmx1Y2VuZS5zZWFyY2guRE9NU2VhcmNoZXIuc2VhcmNoKFVua25vd24gU291cmNlKQ0K
IGF0IGNvbS5jaGVkb25nLndlYmx1Y2VuZS5XZWJMdWNlbmVTZXJ2bGV0LmRvR2V0KFVua25vd24g
U291cmNlKQ0KIGF0IGphdmF4LnNlcnZsZXQuaHR0cC5IdHRwU2VydmxldC5zZXJ2aWNlKEh0dHBT
ZXJ2bGV0LmphdmE6MTI2KQ0KIGF0IGphdmF4LnNlcnZsZXQuaHR0cC5IdHRwU2VydmxldC5zZXJ2
aWNlKEh0dHBTZXJ2bGV0LmphdmE6MTAzKQ0KIGF0IGNvbS5jYXVjaG8uc2VydmVyLmh0dHAuRmls
dGVyQ2hhaW5TZXJ2bGV0LmRvRmlsdGVyKEZpbHRlckNoYWluU2VydmxldC5qYXZhOjk2KQ0KIGF0
IGNvbS5jYXVjaG8uaHR0cC5maWx0ZXIuR3ppcEZpbHRlci5kb0ZpbHRlcihHemlwRmlsdGVyLmph
dmE6MTI3KQ0KIGF0IGNvbS5jYXVjaG8uc2VydmVyLmh0dHAuRmlsdGVyQ2hhaW5GaWx0ZXIuZG9G
aWx0ZXIoRmlsdGVyQ2hhaW5GaWx0ZXIuamF2YTo4OCkNCiBhdCBjb20uY2F1Y2hvLnNlcnZlci5o
dHRwLkludm9jYXRpb24uc2VydmljZShJbnZvY2F0aW9uLmphdmE6MzE1KQ0KIGF0IGNvbS5jYXVj
aG8uc2VydmVyLmh0dHAuQ2FjaGVJbnZvY2F0aW9uLnNlcnZpY2UoQ2FjaGVJbnZvY2F0aW9uLmph
dmE6MTM1KQ0KIGF0IGNvbS5jYXVjaG8uc2VydmVyLmh0dHAuUnVubmVyUmVxdWVzdC5oYW5kbGVS
ZXF1ZXN0KFJ1bm5lclJlcXVlc3QuamF2YTozNDQpDQogYXQgY29tLmNhdWNoby5zZXJ2ZXIuaHR0
cC5SdW5uZXJSZXF1ZXN0LmhhbmRsZUNvbm5lY3Rpb24oUnVubmVyUmVxdWVzdC5qYXZhOjI3NCkN
CiBhdCBjb20uY2F1Y2hvLnNlcnZlci5UY3BDb25uZWN0aW9uLnJ1bihUY3BDb25uZWN0aW9uLmph
dmE6MTM5KQ0KIGF0IGphdmEubGFuZy5UaHJlYWQucnVuKFRocmVhZC5qYXZhOjUzNCkNCg0KQnV0
IEFmdGVyIHRoZSBzZXJ2ZXIgcmVib290ZWQsIGV2ZXJ5dGhpbmcgZ2V0cyByaWdodCBhZ2Fpbi4N
CkkgaGF2ZSBzdXNwZWN0ZWQgdGhhdCBhbGwgYXBwbGljYXRpb25zIHJ1bmluZyBpbiBqdXN0IG9u
ZSBKVk0gY2F1c2VzIHRoZSBFcnJvciwgc28gSSBzZXBhcmF0ZWQgdGhlIGFwcGxpY2F0aW9ucyB3
aXRoIG11bHRpcGxlIEpWTXMsIGJ1dCB0aGUgcHJvYmxlbSByZW1haW5zLiBDYW4gYW55Ym9keSBn
aXZlIG1lIHNvbWUgY2x1ZSBhYm91dCB0aGlzIEVycm9yPw0KDQpUaGFua3MhDQpsaGVscGVy


From MAILER-DAEMON Wed Oct 15 07:25:47 2003
Return-Path: 
 <lucene-user-return-5667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15620 invoked from network); 15 Oct 2003 07:25:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 07:25:47 -0000
Received: (qmail 5332 invoked by uid 500); 15 Oct 2003 07:25:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4933 invoked by uid 500); 15 Oct 2003 07:25:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4917 invoked from network); 15 Oct 2003 07:25:18 -0000
Received: from unknown (HELO hyperion.site5.com) (64.21.152.2)
  by daedalus.apache.org with SMTP; 15 Oct 2003 07:25:18 -0000
Received: from [203.129.220.82] (helo=raman)
	by hyperion.site5.com with smtp (Exim 4.24)
	id 1A9g29-00000u-5O
	for lucene-user@jakarta.apache.org; Wed, 15 Oct 2003 03:25:26 -0400
Message-ID: <00f901c392ed$a7590780$3dc7a8c0@raman>
From: "Garg Raman \(SDinc\)" <ramang@smartdatainc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <Sea1-DAV138ab4uFM5N000036b5@hotmail.com>
Subject: Lucene wiht Database??
Date: Wed, 15 Oct 2003 12:55:52 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00F6_01C3931B.AA31B410"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - hyperion.site5.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - smartdatainc.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F6_01C3931B.AA31B410
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

Hello,
I am new to Lucene and want to use it in my web application. Our client =
will have very large DB on PostGre and what we need is to use Lucene for =
search purpose. It should give us the rank of search also.
My problem is I can't found the method on How to Integrate Lucene with a =
Database table. Please give any advice. Thanks in Advance

Thanks

Raman Garg
(Software Engg)
SmartData Enterprises
www.smartdatainc.com



----- Original Message -----=20
From: "lhelper" <lvkrnewer@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 15, 2003 12:40 PM
Subject: A strange Error--IllegalAccessError: tried to access field =
org.apache.lucene.search.IndexSearcher.reader


> Hi.
>=20
> I get a strange problem with my web application recentlly. The webapp =
runs under:
>   resin-2.1.10
>   j2sdk1.4.2_01
>   redhat linux 2.4.20
>=20
> I use a subclass of IndexSearcher, IndexOrderSearcher, search the =
index, and output the result use a servlet. The webapp works fine the =
most time, but, about half a month ago, I got the following error when I =
restart resin:
>=20
> 500 Servlet Exception
> java.lang.IllegalAccessError: tried to access field =
org.apache.lucene.search.IndexSearcher.reader
> from class org.apache.lucene.search.IndexOrderSearcher
>  at org.apache.lucene.search.IndexOrderSearcher.search(Unknown Source)
>  at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
>  at org.apache.lucene.search.Hits.<init>(Hits.java:80)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:71)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:65)
>  at =
com.chedong.weblucene.search.DOMSearcher.searchWebLuceneResultSet(Unknown=
 Source)
>  at com.chedong.weblucene.search.DOMSearcher.search(Unknown Source)
>  at com.chedong.weblucene.WebLuceneServlet.doGet(Unknown Source)
>  at javax.servlet.http.HttpServlet.service(HttpServlet.java:126)
>  at javax.servlet.http.HttpServlet.service(HttpServlet.java:103)
>  at =
com.caucho.server.http.FilterChainServlet.doFilter(FilterChainServlet.jav=
a:96)
>  at com.caucho.http.filter.GzipFilter.doFilter(GzipFilter.java:127)
>  at =
com.caucho.server.http.FilterChainFilter.doFilter(FilterChainFilter.java:=
88)
>  at com.caucho.server.http.Invocation.service(Invocation.java:315)
>  at =
com.caucho.server.http.CacheInvocation.service(CacheInvocation.java:135)
>  at =
com.caucho.server.http.RunnerRequest.handleRequest(RunnerRequest.java:344=
)
>  at =
com.caucho.server.http.RunnerRequest.handleConnection(RunnerRequest.java:=
274)
>  at com.caucho.server.TcpConnection.run(TcpConnection.java:139)
>  at java.lang.Thread.run(Thread.java:534)
>=20
> But After the server rebooted, everything gets right again.
> I have suspected that all applications runing in just one JVM causes =
the Error, so I separated the applications with multiple JVMs, but the =
problem remains. Can anybody give me some clue about this Error?
>=20
> Thanks!
> lhelper
------=_NextPart_000_00F6_01C3931B.AA31B410--


From MAILER-DAEMON Wed Oct 15 09:37:14 2003
Return-Path: 
 <lucene-user-return-5668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80916 invoked from network); 15 Oct 2003 09:37:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 09:37:14 -0000
Received: (qmail 54949 invoked by uid 500); 15 Oct 2003 09:36:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54915 invoked by uid 500); 15 Oct 2003 09:36:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54902 invoked from network); 15 Oct 2003 09:36:42 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 15 Oct 2003 09:36:42 -0000
Message-ID: <20031015093656.90254.qmail@web12702.mail.yahoo.com>
Received: from [194.152.224.134] by web12702.mail.yahoo.com via HTTP;
 Wed, 15 Oct 2003 02:36:56 PDT
Date: Wed, 15 Oct 2003 02:36:56 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: A strange Error--IllegalAccessError: tried to access field
 org.apache.lucene.search.IndexSearcher.reader
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Sea1-DAV138ab4uFM5N000036b5@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please note that the class that caused the error,
org.apache.lucene.search.IndexOrderSearcher, is not really a Lucene
class.  You got that class from http://sf.net/projects/weblucene, most
likely.

Otis

--- lhelper <lvkrnewer@hotmail.com> wrote:
> Hi.
> 
> I get a strange problem with my web application recentlly. The webapp
> runs under:
>   resin-2.1.10
>   j2sdk1.4.2_01
>   redhat linux 2.4.20
> 
> I use a subclass of IndexSearcher, IndexOrderSearcher, search the
> index, and output the result use a servlet. The webapp works fine the
> most time, but, about half a month ago, I got the following error
> when I restart resin:
> 
> 500 Servlet Exception
> java.lang.IllegalAccessError: tried to access field
> org.apache.lucene.search.IndexSearcher.reader
> from class org.apache.lucene.search.IndexOrderSearcher
>  at org.apache.lucene.search.IndexOrderSearcher.search(Unknown
> Source)
>  at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
>  at org.apache.lucene.search.Hits.<init>(Hits.java:80)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:71)
>  at org.apache.lucene.search.Searcher.search(Searcher.java:65)
>  at
>
com.chedong.weblucene.search.DOMSearcher.searchWebLuceneResultSet(Unknown
> Source)
>  at com.chedong.weblucene.search.DOMSearcher.search(Unknown Source)
>  at com.chedong.weblucene.WebLuceneServlet.doGet(Unknown Source)
>  at javax.servlet.http.HttpServlet.service(HttpServlet.java:126)
>  at javax.servlet.http.HttpServlet.service(HttpServlet.java:103)
>  at
>
com.caucho.server.http.FilterChainServlet.doFilter(FilterChainServlet.java:96)
>  at com.caucho.http.filter.GzipFilter.doFilter(GzipFilter.java:127)
>  at
>
com.caucho.server.http.FilterChainFilter.doFilter(FilterChainFilter.java:88)
>  at com.caucho.server.http.Invocation.service(Invocation.java:315)
>  at
>
com.caucho.server.http.CacheInvocation.service(CacheInvocation.java:135)
>  at
>
com.caucho.server.http.RunnerRequest.handleRequest(RunnerRequest.java:344)
>  at
>
com.caucho.server.http.RunnerRequest.handleConnection(RunnerRequest.java:274)
>  at com.caucho.server.TcpConnection.run(TcpConnection.java:139)
>  at java.lang.Thread.run(Thread.java:534)
> 
> But After the server rebooted, everything gets right again.
> I have suspected that all applications runing in just one JVM causes
> the Error, so I separated the applications with multiple JVMs, but
> the problem remains. Can anybody give me some clue about this Error?
> 
> Thanks!
> lhelper


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 10:45:25 2003
Return-Path: 
 <lucene-user-return-5669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9596 invoked from network); 15 Oct 2003 10:45:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 10:45:25 -0000
Received: (qmail 14572 invoked by uid 500); 15 Oct 2003 10:45:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14540 invoked by uid 500); 15 Oct 2003 10:45:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14527 invoked from network); 15 Oct 2003 10:45:19 -0000
Received: from unknown (HELO hotmail.com) (207.68.162.18)
  by daedalus.apache.org with SMTP; 15 Oct 2003 10:45:19 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 15 Oct 2003 03:45:19 -0700
Received: from 219.238.185.157 by sea1-dav46.sea1.hotmail.com with DAV;
	Wed, 15 Oct 2003 10:45:18 +0000
X-Originating-IP: [219.238.185.157]
X-Originating-Email: [lvkrnewer@hotmail.com]
From: "lhelper" <lvkrnewer@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031015093656.90254.qmail@web12702.mail.yahoo.com>
Subject: Re: A strange Error--IllegalAccessError: tried to access field
 org.apache.lucene.search.IndexSearcher.reader
Date: Wed, 15 Oct 2003 18:42:09 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Sea1-DAV46ZONkfptrK000039b7@hotmail.com>
X-OriginalArrivalTime: 15 Oct 2003 10:45:19.0020 (UTC)
 FILETIME=[6D0F16C0:01C39309]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

T3RpczoNClllcywgaXQncyBub3QgYSBwcm9ibGVtIG9mIGx1Y2VuZSwgSW5kZXhPcmRlclNlYXJj
aGVyIGlzIGEgY2xhc3Mgb2Ygd2VibHVjZW5lLCBpdCBleHRlbmRzIEluZGV4U2VhcmNoZXIuIEFj
Y29yZGluZyB0byB0aGUgbHVjZW5lJ3MgamF2YWRvYywgdGhlIHN1YmNsYXNzIG9mIEluZGV4U2Vh
cmNoZXIgc2hvdWxkIGhhdmUgYWNjZXNzIHRvIEluZGV4U2VhcmNoZXIucmVhZGVyIGZpZWxkLCBi
ZWNhdXNlIHRoZXJlIGlzIG5vIHNwZWNpZmllciBiZWZvcmUgdGhlIGZpZWxkICdyZWFkZXInLiBO
b3cgbXkgcHJvYmxlbSBpcyB0aGUgd2VibHVjZW5lIHdvcmtzIGZpbmUgdGhlIG1vc3QgdGltZSwg
YnV0IGFib3V0IGhhbGYgYSBtb250aCBhZ28gdGhlIHByb2JsZW0gaGFwcGVuZWQsIGV2ZW4gaWYg
bXkgd2VicHAgcnVucyB1bmRlciBhIHNlcGFyYXRlZCBKVk0uDQpNYXkgdGhlIG1vZGlmaWNhdGlv
biBvZiB0aGUgc2VydmVyJ3Mgc2V0dGluZyBjYXVzZXMgdGhlIHByb2JsZW0sIGJ1dCBJJ20gbm90
IHN1cmUsIG9yIG1heSBiZSBJIHNob3VsZG4ndCBwb3N0IHRoZSBtZXNzYWdlIGhlcmUgLS0gcGxl
YXNlIHBhcmRvbiBtZSwgSSByZWFsbHkgd2FudCB0byBnZXQgc29tZSBjbHVlcyBhYm91dCB0aGUg
ZXJyb3IuIFRoYW5rcyENCg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJP
dGlzIEdvc3BvZG5ldGljIiA8b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb20+DQpUbzogIkx1Y2Vu
ZSBVc2VycyBMaXN0IiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KU2VudDogV2Vk
bmVzZGF5LCBPY3RvYmVyIDE1LCAyMDAzIDU6MzYgUE0NClN1YmplY3Q6IFJlOiBBIHN0cmFuZ2Ug
RXJyb3ItLUlsbGVnYWxBY2Nlc3NFcnJvcjogdHJpZWQgdG8gYWNjZXNzIGZpZWxkIG9yZy5hcGFj
aGUubHVjZW5lLnNlYXJjaC5JbmRleFNlYXJjaGVyLnJlYWRlcg0KDQoNCj4gUGxlYXNlIG5vdGUg
dGhhdCB0aGUgY2xhc3MgdGhhdCBjYXVzZWQgdGhlIGVycm9yLA0KPiBvcmcuYXBhY2hlLmx1Y2Vu
ZS5zZWFyY2guSW5kZXhPcmRlclNlYXJjaGVyLCBpcyBub3QgcmVhbGx5IGEgTHVjZW5lDQo+IGNs
YXNzLiAgWW91IGdvdCB0aGF0IGNsYXNzIGZyb20gaHR0cDovL3NmLm5ldC9wcm9qZWN0cy93ZWJs
dWNlbmUsIG1vc3QNCj4gbGlrZWx5Lg0KPiANCj4gT3Rpcw0KPiANCj4gLS0tIGxoZWxwZXIgPGx2
a3JuZXdlckBob3RtYWlsLmNvbT4gd3JvdGU6DQo+ID4gSGkuDQo+ID4gDQo+ID4gSSBnZXQgYSBz
dHJhbmdlIHByb2JsZW0gd2l0aCBteSB3ZWIgYXBwbGljYXRpb24gcmVjZW50bGx5LiBUaGUgd2Vi
YXBwDQo+ID4gcnVucyB1bmRlcjoNCj4gPiAgIHJlc2luLTIuMS4xMA0KPiA+ICAgajJzZGsxLjQu
Ml8wMQ0KPiA+ICAgcmVkaGF0IGxpbnV4IDIuNC4yMA0KPiA+IA0KPiA+IEkgdXNlIGEgc3ViY2xh
c3Mgb2YgSW5kZXhTZWFyY2hlciwgSW5kZXhPcmRlclNlYXJjaGVyLCBzZWFyY2ggdGhlDQo+ID4g
aW5kZXgsIGFuZCBvdXRwdXQgdGhlIHJlc3VsdCB1c2UgYSBzZXJ2bGV0LiBUaGUgd2ViYXBwIHdv
cmtzIGZpbmUgdGhlDQo+ID4gbW9zdCB0aW1lLCBidXQsIGFib3V0IGhhbGYgYSBtb250aCBhZ28s
IEkgZ290IHRoZSBmb2xsb3dpbmcgZXJyb3INCj4gPiB3aGVuIEkgcmVzdGFydCByZXNpbjoNCj4g
PiANCj4gPiA1MDAgU2VydmxldCBFeGNlcHRpb24NCj4gPiBqYXZhLmxhbmcuSWxsZWdhbEFjY2Vz
c0Vycm9yOiB0cmllZCB0byBhY2Nlc3MgZmllbGQNCj4gPiBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFy
Y2guSW5kZXhTZWFyY2hlci5yZWFkZXINCj4gPiBmcm9tIGNsYXNzIG9yZy5hcGFjaGUubHVjZW5l
LnNlYXJjaC5JbmRleE9yZGVyU2VhcmNoZXINCj4gPiAgYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2Vh
cmNoLkluZGV4T3JkZXJTZWFyY2hlci5zZWFyY2goVW5rbm93bg0KPiA+IFNvdXJjZSkNCj4gPiAg
YXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkhpdHMuZ2V0TW9yZURvY3MoSGl0cy5qYXZhOjkw
KQ0KPiA+ICBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSGl0cy48aW5pdD4oSGl0cy5qYXZh
OjgwKQ0KPiA+ICBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guU2VhcmNoZXIuc2VhcmNoKFNl
YXJjaGVyLmphdmE6NzEpDQo+ID4gIGF0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5TZWFyY2hl
ci5zZWFyY2goU2VhcmNoZXIuamF2YTo2NSkNCj4gPiAgYXQNCj4gPg0KPiBjb20uY2hlZG9uZy53
ZWJsdWNlbmUuc2VhcmNoLkRPTVNlYXJjaGVyLnNlYXJjaFdlYkx1Y2VuZVJlc3VsdFNldChVbmtu
b3duDQo+ID4gU291cmNlKQ0KPiA+ICBhdCBjb20uY2hlZG9uZy53ZWJsdWNlbmUuc2VhcmNoLkRP
TVNlYXJjaGVyLnNlYXJjaChVbmtub3duIFNvdXJjZSkNCj4gPiAgYXQgY29tLmNoZWRvbmcud2Vi
bHVjZW5lLldlYkx1Y2VuZVNlcnZsZXQuZG9HZXQoVW5rbm93biBTb3VyY2UpDQo+ID4gIGF0IGph
dmF4LnNlcnZsZXQuaHR0cC5IdHRwU2VydmxldC5zZXJ2aWNlKEh0dHBTZXJ2bGV0LmphdmE6MTI2
KQ0KPiA+ICBhdCBqYXZheC5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXQuc2VydmljZShIdHRwU2Vy
dmxldC5qYXZhOjEwMykNCj4gPiAgYXQNCj4gPg0KPiBjb20uY2F1Y2hvLnNlcnZlci5odHRwLkZp
bHRlckNoYWluU2VydmxldC5kb0ZpbHRlcihGaWx0ZXJDaGFpblNlcnZsZXQuamF2YTo5NikNCj4g
PiAgYXQgY29tLmNhdWNoby5odHRwLmZpbHRlci5HemlwRmlsdGVyLmRvRmlsdGVyKEd6aXBGaWx0
ZXIuamF2YToxMjcpDQo+ID4gIGF0DQo+ID4NCj4gY29tLmNhdWNoby5zZXJ2ZXIuaHR0cC5GaWx0
ZXJDaGFpbkZpbHRlci5kb0ZpbHRlcihGaWx0ZXJDaGFpbkZpbHRlci5qYXZhOjg4KQ0KPiA+ICBh
dCBjb20uY2F1Y2hvLnNlcnZlci5odHRwLkludm9jYXRpb24uc2VydmljZShJbnZvY2F0aW9uLmph
dmE6MzE1KQ0KPiA+ICBhdA0KPiA+DQo+IGNvbS5jYXVjaG8uc2VydmVyLmh0dHAuQ2FjaGVJbnZv
Y2F0aW9uLnNlcnZpY2UoQ2FjaGVJbnZvY2F0aW9uLmphdmE6MTM1KQ0KPiA+ICBhdA0KPiA+DQo+
IGNvbS5jYXVjaG8uc2VydmVyLmh0dHAuUnVubmVyUmVxdWVzdC5oYW5kbGVSZXF1ZXN0KFJ1bm5l
clJlcXVlc3QuamF2YTozNDQpDQo+ID4gIGF0DQo+ID4NCj4gY29tLmNhdWNoby5zZXJ2ZXIuaHR0
cC5SdW5uZXJSZXF1ZXN0LmhhbmRsZUNvbm5lY3Rpb24oUnVubmVyUmVxdWVzdC5qYXZhOjI3NCkN
Cj4gPiAgYXQgY29tLmNhdWNoby5zZXJ2ZXIuVGNwQ29ubmVjdGlvbi5ydW4oVGNwQ29ubmVjdGlv
bi5qYXZhOjEzOSkNCj4gPiAgYXQgamF2YS5sYW5nLlRocmVhZC5ydW4oVGhyZWFkLmphdmE6NTM0
KQ0KPiA+IA0KPiA+IEJ1dCBBZnRlciB0aGUgc2VydmVyIHJlYm9vdGVkLCBldmVyeXRoaW5nIGdl
dHMgcmlnaHQgYWdhaW4uDQo+ID4gSSBoYXZlIHN1c3BlY3RlZCB0aGF0IGFsbCBhcHBsaWNhdGlv
bnMgcnVuaW5nIGluIGp1c3Qgb25lIEpWTSBjYXVzZXMNCj4gPiB0aGUgRXJyb3IsIHNvIEkgc2Vw
YXJhdGVkIHRoZSBhcHBsaWNhdGlvbnMgd2l0aCBtdWx0aXBsZSBKVk1zLCBidXQNCj4gPiB0aGUg
cHJvYmxlbSByZW1haW5zLiBDYW4gYW55Ym9keSBnaXZlIG1lIHNvbWUgY2x1ZSBhYm91dCB0aGlz
IEVycm9yPw0KPiA+IA0KPiA+IFRoYW5rcyENCj4gPiBsaGVscGVyDQo+IA0KPiANCj4gX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBEbyB5b3UgWWFob28hPw0KPiBUaGUgTmV3
IFlhaG9vISBTaG9wcGluZyAtIHdpdGggaW1wcm92ZWQgcHJvZHVjdCBzZWFyY2gNCj4gaHR0cDov
L3Nob3BwaW5nLnlhaG9vLmNvbQ0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJl
LCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KPiBG
b3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEu
YXBhY2hlLm9yZw0KPiANCj4g


From MAILER-DAEMON Wed Oct 15 13:00:48 2003
Return-Path: 
 <lucene-user-return-5670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76185 invoked from network); 15 Oct 2003 13:00:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 13:00:48 -0000
Received: (qmail 75433 invoked by uid 500); 15 Oct 2003 13:00:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75405 invoked by uid 500); 15 Oct 2003 13:00:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75376 invoked from network); 15 Oct 2003 13:00:37 -0000
Received: from unknown (HELO mail-hub.india.adventnet.com) (203.199.211.80)
  by daedalus.apache.org with SMTP; 15 Oct 2003 13:00:37 -0000
Received: from mail-server1.india.adventnet.com (mail-server1 [192.168.4.222])
	by mail-hub.india.adventnet.com (8.12.8/8.12.8) with ESMTP id h9FD0iZO025304
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 18:30:44 +0530
Received: from india.adventnet.com (akilandeswari [192.168.9.110])
	by mail-server1.india.adventnet.com (8.12.8/8.12.5) with ESMTP id
 h9FD0Zpl024681
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 18:30:35 +0530
Message-ID: <3F8D4836.9010303@india.adventnet.com>
Date: Wed, 15 Oct 2003 18:44:30 +0530
From: =?ISO-8859-1?Q?=C2kila?= <akilandeswari@india.adventnet.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20020830
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: OutOfMemoryError when using wildcard queries
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-RAVMilter-Version: 8.4.3(snapshot 20030212) (mail-hub)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Am using Lucene 1.2 and getting  OutOfMemoryError when searching using 
some wildcard queries.
Is there some provision that restricts the number of terms for wildcard 
queries?

Thanks,
Akila


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 13:29:39 2003
Return-Path: 
 <lucene-user-return-5671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 585 invoked from network); 15 Oct 2003 13:29:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 13:29:39 -0000
Received: (qmail 40835 invoked by uid 500); 15 Oct 2003 13:29:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40806 invoked by uid 500); 15 Oct 2003 13:29:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40792 invoked from network); 15 Oct 2003 13:29:29 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 15 Oct 2003 13:29:29 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <SWM1GW6J>; Wed, 15 Oct 2003 09:29:26 -0400
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67EE4@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: OutOfMemoryError when using wildcard queries
Date: Wed, 15 Oct 2003 09:29:25 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, but the JVM does have a memory limit.  By default it's 64 megs, I
believe.  To increase it, use the -Xmx option when you run java.

For example, to give the JVM 100 megs of ram, you would write:

java -Xmx100m YourClassHere

-----Original Message-----
From: =C2kila [mailto:akilandeswari@india.adventnet.com]
Sent: Wednesday, October 15, 2003 9:15 AM
To: Lucene Users List
Subject: OutOfMemoryError when using wildcard queries


Hi,

Am using Lucene 1.2 and getting  OutOfMemoryError when searching using=20
some wildcard queries.
Is there some provision that restricts the number of terms for wildcard =

queries?

Thanks,
Akila


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 14:10:56 2003
Return-Path: 
 <lucene-user-return-5672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24709 invoked from network); 15 Oct 2003 14:10:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 14:10:56 -0000
Received: (qmail 33336 invoked by uid 500); 15 Oct 2003 14:08:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33308 invoked by uid 500); 15 Oct 2003 14:08:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33279 invoked from network); 15 Oct 2003 14:08:29 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 15 Oct 2003 14:08:29 -0000
Message-ID: <20031015140831.37548.qmail@web12702.mail.yahoo.com>
Received: from [194.152.224.134] by web12702.mail.yahoo.com via HTTP;
 Wed, 15 Oct 2003 07:08:31 PDT
Date: Wed, 15 Oct 2003 07:08:31 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <bmiov0$mng$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Ulrich Mayring <ulim@denic.de> wrote:
> Victor Hadianto wrote:
> > 
> > If the QueryParser implemented the solution that I suggested then
> "t-shirt"
> > will get you the correct hits :)
> 
> Well, what's the problem? I saw a couple of +1s, so why is your patch
> 
> not added?

1. +1s were from non-developers
2. The change looked like it would not be backwards compatible. (see
the original email from Victor)

It is also better if patches are added to Bugzilla.

Otis


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 14:25:49 2003
Return-Path: 
 <lucene-user-return-5673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35695 invoked from network); 15 Oct 2003 14:25:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 14:25:49 -0000
Received: (qmail 81753 invoked by uid 500); 15 Oct 2003 14:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81726 invoked by uid 500); 15 Oct 2003 14:24:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81701 invoked from network); 15 Oct 2003 14:24:38 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 15 Oct 2003 14:24:38 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1A9mZs-0007HR-0s
	for lucene-user@jakarta.apache.org; Wed, 15 Oct 2003 09:24:40 -0500
Message-Id: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Wed, 15 Oct 2003 10:24:44 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
In-Reply-To: <20031015140831.37548.qmail@web12702.mail.yahoo.com>
References: <bmiov0$mng$1@sea.gmane.org>
 <20031015140831.37548.qmail@web12702.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So how do we move this issue forward.  I can't think of a single case where 
a "-" with no whitespace on either side (i.e. t-shirt, Wal-Mart) should be 
interpreted as a NOT command.  Is there a feeling that changing the 
interpretation of such cases is a break in compatibility?  I agree that it 
will change behavior, but I think that it will change it for the better 
(i.e. fix it).  The current behavior is really broken (and very frustrating 
for a user trying to search).

-Mike

At 10:08 AM 10/15/2003, you wrote:

>--- Ulrich Mayring <ulim@denic.de> wrote:
> > Victor Hadianto wrote:
> > >
> > > If the QueryParser implemented the solution that I suggested then
> > "t-shirt"
> > > will get you the correct hits :)
> >
> > Well, what's the problem? I saw a couple of +1s, so why is your patch
> >
> > not added?
>
>1. +1s were from non-developers
>2. The change looked like it would not be backwards compatible. (see
>the original email from Victor)
>
>It is also better if patches are added to Bugzilla.
>
>Otis
>
>
>__________________________________
>Do you Yahoo!?
>The New Yahoo! Shopping - with improved product search
>http://shopping.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 14:37:23 2003
Return-Path: 
 <lucene-user-return-5674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42241 invoked from network); 15 Oct 2003 14:37:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 14:37:23 -0000
Received: (qmail 9416 invoked by uid 500); 15 Oct 2003 14:37:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9392 invoked by uid 500); 15 Oct 2003 14:37:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9372 invoked from network); 15 Oct 2003 14:37:12 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 15 Oct 2003 14:37:12 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A9mm2-0000dw-00
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 16:37:14 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1A9mm1-0000do-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 15 Oct 2003 16:37:13 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1A9mm1-00041d-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Wed, 15 Oct 2003 16:37:13 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Date: Wed, 15 Oct 2003 16:36:06 +0200
Lines: 16
Message-ID: <bmjm2o$ele$1@sea.gmane.org>
References: <bmiov0$mng$1@sea.gmane.org>
 <20031015140831.37548.qmail@web12702.mail.yahoo.com>
 <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Giles wrote:
> So how do we move this issue forward.  I can't think of a single case 
> where a "-" with no whitespace on either side (i.e. t-shirt, Wal-Mart) 
> should be interpreted as a NOT command.  Is there a feeling that 
> changing the interpretation of such cases is a break in compatibility?  
> I agree that it will change behavior, but I think that it will change it 
> for the better (i.e. fix it).  The current behavior is really broken 
> (and very frustrating for a user trying to search).

I agree. Bugfixes are rarely backwards-compatible by their very nature. 
So if there is some actual use-case for the current behavior, we would 
like to hear about it. Perhaps we can then find a solution that will 
satisfy all parties.

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 15:00:42 2003
Return-Path: 
 <lucene-user-return-5676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55902 invoked from network); 15 Oct 2003 15:00:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 15:00:42 -0000
Received: (qmail 59894 invoked by uid 500); 15 Oct 2003 15:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59820 invoked by uid 500); 15 Oct 2003 15:00:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59778 invoked from network); 15 Oct 2003 15:00:27 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 15 Oct 2003 15:00:27 -0000
Received: (cpmta 1224 invoked from network); 15 Oct 2003 08:00:29 -0700
Received: from 128.143.135.152 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 15 Oct 2003 08:00:29 -0700
X-Sent: 15 Oct 2003 15:00:29 GMT
Date: Wed, 15 Oct 2003 11:00:37 -0400
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
Cc: Lucene List <lucene-dev@jakarta.apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
In-Reply-To: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
Message-Id: <55C6613E-FF20-11D7-AEE2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree that the current behavior is broken and will gladly patch it 
myself.  I'm CC'ing lucene-dev to see if there are any objections.  If 
there are no objections, I'll apply this patch in a couple of days.

	Erik

On Wednesday, October 15, 2003, at 10:24  AM, Michael Giles wrote:

> So how do we move this issue forward.  I can't think of a single case 
> where a "-" with no whitespace on either side (i.e. t-shirt, Wal-Mart) 
> should be interpreted as a NOT command.  Is there a feeling that 
> changing the interpretation of such cases is a break in compatibility? 
>  I agree that it will change behavior, but I think that it will change 
> it for the better (i.e. fix it).  The current behavior is really 
> broken (and very frustrating for a user trying to search).
>
> -Mike
>
> At 10:08 AM 10/15/2003, you wrote:
>
>> --- Ulrich Mayring <ulim@denic.de> wrote:
>> > Victor Hadianto wrote:
>> > >
>> > > If the QueryParser implemented the solution that I suggested then
>> > "t-shirt"
>> > > will get you the correct hits :)
>> >
>> > Well, what's the problem? I saw a couple of +1s, so why is your 
>> patch
>> >
>> > not added?
>>
>> 1. +1s were from non-developers
>> 2. The change looked like it would not be backwards compatible. (see
>> the original email from Victor)
>>
>> It is also better if patches are added to Bugzilla.
>>
>> Otis
>>
>>
>> __________________________________
>> Do you Yahoo!?
>> The New Yahoo! Shopping - with improved product search
>> http://shopping.yahoo.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 14:45:07 2003
Return-Path: 
 <lucene-user-return-5675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47287 invoked from network); 15 Oct 2003 14:45:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 14:45:07 -0000
Received: (qmail 23788 invoked by uid 500); 15 Oct 2003 14:44:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23761 invoked by uid 500); 15 Oct 2003 14:44:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23748 invoked from network); 15 Oct 2003 14:44:55 -0000
Received: from unknown (HELO mx.teamw.com) (62.61.82.14)
  by daedalus.apache.org with SMTP; 15 Oct 2003 14:44:55 -0000
Received: from clyde.uk-s.teamw.com.teamware.co.uk (clyde.uk-s.teamw.com
 [10.142.125.20])
	by mx.teamw.com (8.12.8/8.12.8) with SMTP id h9FEhx2l023161
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 17:43:59 +0300
Received: from viking.uk-s.teamw.com by clyde.uk-s.teamw.com.teamware.co.uk
 (8.6.10/SMI-4.1)
	id NAA20565; Wed, 15 Oct 2003 13:48:28 GMT
From: cheryl.card@teamware.co.uk
X-Map-MIXER-Originators: false
To: "Lucene Users List"
 <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Date: 15 Oct 2003 15:29:00 -0000
Subject: Re(2): Dash Confusion in QueryParser - Bug? Feat
 ure?
Envelope-ID: JA8AAAAAAVJ74AABYQABJyEKAb5U@teamware.co.uk
Message-Id: <JA8AAAAAAVJ74AABYQABJyEKAb5U@teamware.co.uk>
In-Reply-To: <bmjm2o$ele$1@sea.gmane.org>
References: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
 <bmjm2o$ele$1@sea.gmane.org>
Disposition-Notification-To: cheryl.card@teamware.co.uk
X-Mailer: TeamWARE Connector for MIME
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
X-yoursite-MailScanner-Information: Please contact the ISP for more
 information
X-yoursite-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ulrich Mayring  (15/10/03  14:36):
>Michael Giles wrote:
>> So how do we move this issue forward.  I can't think of a single case
>> where a "-" with no whitespace on either side (i.e. t-shirt, Wal-Mart)
>> should be interpreted as a NOT command.  Is there a feeling that
>> changing the interpretation of such cases is a break in compatibility=3F
>> I agree that it will change behavior, but I think that it will change it
>> for the better (i.e. fix it).  The current behavior is really broken
>> (and very frustrating for a user trying to search).
>
>I agree. Bugfixes are rarely backwards-compatible by their very nature.
>So if there is some actual use-case for the current behavior, we would
>like to hear about it. Perhaps we can then find a solution=20that will
>satisfy all parties.
>
>Ulrich

I have had bug reports from users because searching for words containing
hyphens
produced strange results. I applied Victor's patch and have had no problems
since
then.

Cheryl Card
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 15:48:17 2003
Return-Path: 
 <lucene-user-return-5677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86114 invoked from network); 15 Oct 2003 15:48:17 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 15:48:17 -0000
Received: (qmail 61081 invoked by uid 500); 15 Oct 2003 15:47:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61045 invoked by uid 500); 15 Oct 2003 15:47:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61018 invoked from network); 15 Oct 2003 15:47:59 -0000
Received: from unknown (HELO hotmail.com) (65.54.247.139)
  by daedalus.apache.org with SMTP; 15 Oct 2003 15:47:59 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 15 Oct 2003 08:48:02 -0700
Received: from 200.36.100.4 by by2fd.bay2.hotmail.msn.com with HTTP;
	Wed, 15 Oct 2003 15:48:01 GMT
X-Originating-IP: [200.36.100.4]
X-Originating-Email: [eohg_76@hotmail.com]
From: "Elsa Hernandez" <eohg_76@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Jmeter
Date: Wed, 15 Oct 2003 15:48:01 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY2-F139rmTIVvLVKi000031a9@hotmail.com>
X-OriginalArrivalTime: 15 Oct 2003 15:48:02.0213 (UTC)
 FILETIME=[B72A6550:01C39333]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, I would like to know if someone has used Jmeter to prove/test the 
performance of your web applications, or if someone could suggest a 
tool/application that they have used. Thank you.

_________________________________________________________________
Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
http://join.msn.com/?page=features/featuredemail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 15:53:26 2003
Return-Path: 
 <lucene-user-return-5678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89041 invoked from network); 15 Oct 2003 15:53:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 15:53:26 -0000
Received: (qmail 69216 invoked by uid 500); 15 Oct 2003 15:53:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69184 invoked by uid 500); 15 Oct 2003 15:53:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69163 invoked from network); 15 Oct 2003 15:53:13 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 15 Oct 2003 15:53:13 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id h9FFgJj22324
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 17:42:19 +0200
Message-ID: <3F8D7BD9.6060503@media-style.com>
Date: Wed, 15 Oct 2003 17:54:49 +0100
From: Stefan Groschupf <sg@media-style.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Jmeter
References: <BAY2-F139rmTIVvLVKi000031a9@hotmail.com>
In-Reply-To: <BAY2-F139rmTIVvLVKi000031a9@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Elsa Hernandez wrote:

> Hi, I would like to know if someone has used Jmeter to prove/test the 
> performance of your web applications, or if someone could suggest a 
> tool/application that they have used. Thank you. 


http://eclipsecolorer.sourceforge.net/index_profiler.html

Is the best i ever found.

HTH
Stefan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 15 20:14:39 2003
Return-Path: 
 <lucene-user-return-5679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42617 invoked from network); 15 Oct 2003 20:14:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 15 Oct 2003 20:14:39 -0000
Received: (qmail 82055 invoked by uid 500); 15 Oct 2003 20:14:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82028 invoked by uid 500); 15 Oct 2003 20:14:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82015 invoked from network); 15 Oct 2003 20:14:22 -0000
Received: from unknown (HELO frontend3.aha.ru) (213.189.198.216)
  by daedalus.apache.org with SMTP; 15 Oct 2003 20:14:22 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.1.5)
  with ESMTP id 42189843 for lucene-user@jakarta.apache.org;
 Thu, 16 Oct 2003 00:14:21 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene wiht Database??
Date: Thu, 16 Oct 2003 00:15:22 +0400
Message-ID: <001301c39359$10dd5920$5b13a8c0@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
In-Reply-To: <00f901c392ed$a7590780$3dc7a8c0@raman>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

> From: Garg Raman (SDinc) [mailto:ramang@smartdatainc.com] 

> My problem is I can't found the method on How to Integrate 
> Lucene with a Database table. Please give any advice. Thanks 
> in Advance

You can store the unique id in the index. Also you can store in the
index all info for results.
For example(sorry for C# syntax):

 Field.UnIndexed("id", id );
 Field.UnIndexed("title",title_str);
 Field.UnIndexed("description",description_str);
 Field.Text("value",completeValue);

We search by "value field" and show "title" and "description" fields in
results without database connection.
Also we have "see detail" link with "id" field as  parameter of link. 
Example:
Title: Lucene
Descriptoon: The full text search engine
Detail: http://lucene.net/detail?value=12345

12345 - document id from database.

We do not store real value int the index, only index it.

Pasha
http://www.sourceforge.net/projects/lucenedotnet



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 16 00:07:11 2003
Return-Path: 
 <lucene-user-return-5680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28951 invoked from network); 16 Oct 2003 00:07:11 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Oct 2003 00:07:11 -0000
Received: (qmail 35685 invoked by uid 500); 16 Oct 2003 00:06:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35658 invoked by uid 500); 16 Oct 2003 00:06:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35645 invoked from network); 16 Oct 2003 00:06:50 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 16 Oct 2003 00:06:50 -0000
Received: from victor (CPE-203-51-7-52.nsw.bigpond.net.au [203.51.7.52])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9G06uN12199
	for <lucene-user@jakarta.apache.org>; Wed, 15 Oct 2003 19:06:57 -0500
Message-ID: <02ab01c39379$6a5e80d0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67EE4@exchange.hq.openratings.com>
Subject: Re: OutOfMemoryError when using wildcard queries
Date: Thu, 16 Oct 2003 10:06:55 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> No, but the JVM does have a memory limit.  By default it's 64 megs, I
> believe.  To increase it, use the -Xmx option when you run java.

Dan & Akila,

I may be wrong. But I remembered a while back there is a dicussion about
limiting the number of terms expanded using the wildcard query. I'm not sure
whether it has been implemented or not. Searching the mailing list should
give you some pointers. Then you can implemented the patch back to 1.2 for
your ow need.

/vh

>
> For example, to give the JVM 100 megs of ram, you would write:
>
> java -Xmx100m YourClassHere
>
> -----Original Message-----
> From: �kila [mailto:akilandeswari@india.adventnet.com]
> Sent: Wednesday, October 15, 2003 9:15 AM
> To: Lucene Users List
> Subject: OutOfMemoryError when using wildcard queries
>
>
> Hi,
>
> Am using Lucene 1.2 and getting  OutOfMemoryError when searching using
> some wildcard queries.
> Is there some provision that restricts the number of terms for wildcard
> queries?
>
> Thanks,
> Akila
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 16 00:48:00 2003
Return-Path: 
 <lucene-user-return-5681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38843 invoked from network); 16 Oct 2003 00:48:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Oct 2003 00:48:00 -0000
Received: (qmail 67143 invoked by uid 500); 16 Oct 2003 00:47:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67117 invoked by uid 500); 16 Oct 2003 00:47:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67104 invoked from network); 16 Oct 2003 00:47:37 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 16 Oct 2003 00:47:37 -0000
Received: (cpmta 8655 invoked from network); 15 Oct 2003 17:47:45 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 15 Oct 2003 17:47:45 -0700
X-Sent: 16 Oct 2003 00:47:45 GMT
Date: Wed, 15 Oct 2003 20:47:43 -0400
Subject: Re: OutOfMemoryError when using wildcard queries
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <02ab01c39379$6a5e80d0$ce00a8c0@victor>
Message-Id: <5A4C83A8-FF72-11D7-B744-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, it was implemented to limit the number of clauses in a=20
BooleanQuery, which is what a WildcardQuery is rewritten to after=20
enumerating all the terms matching the wildcard expression:

BooleanQuery:
	  private static int maxClauseCount =3D 1024;

WildcardQuerys, as you've experienced, have a potential for a major=20
performance hit or worse.  Exposing QueryParser to users opens the door=20=

to this potential easily - although you can subclass QueryParser and=20
disable WildcardQuerys if you like.

	Erik


On Wednesday, October 15, 2003, at 08:06  PM, Victor Hadianto wrote:

>> No, but the JVM does have a memory limit.  By default it's 64 megs, I
>> believe.  To increase it, use the -Xmx option when you run java.
>
> Dan & Akila,
>
> I may be wrong. But I remembered a while back there is a dicussion=20
> about
> limiting the number of terms expanded using the wildcard query. I'm=20
> not sure
> whether it has been implemented or not. Searching the mailing list=20
> should
> give you some pointers. Then you can implemented the patch back to 1.2=20=

> for
> your ow need.
>
> /vh
>
>>
>> For example, to give the JVM 100 megs of ram, you would write:
>>
>> java -Xmx100m YourClassHere
>>
>> -----Original Message-----
>> From: =C2kila [mailto:akilandeswari@india.adventnet.com]
>> Sent: Wednesday, October 15, 2003 9:15 AM
>> To: Lucene Users List
>> Subject: OutOfMemoryError when using wildcard queries
>>
>>
>> Hi,
>>
>> Am using Lucene 1.2 and getting  OutOfMemoryError when searching =
using
>> some wildcard queries.
>> Is there some provision that restricts the number of terms for=20
>> wildcard
>> queries?
>>
>> Thanks,
>> Akila
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 16 12:30:06 2003
Return-Path: 
 <lucene-user-return-5682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22631 invoked from network); 16 Oct 2003 12:30:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Oct 2003 12:30:06 -0000
Received: (qmail 10785 invoked by uid 500); 16 Oct 2003 12:29:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10694 invoked by uid 500); 16 Oct 2003 12:29:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10618 invoked from network); 16 Oct 2003 12:29:35 -0000
Received: from unknown (HELO web09.manitu.net) (217.11.48.109)
  by daedalus.apache.org with SMTP; 16 Oct 2003 12:29:35 -0000
Received: from fpg.de (pD9EBBC2B.dip.t-dialin.net [217.235.188.43])
	(authenticated)
	by [217.11.49.31] (8.10.2-SOL3/8.10.2) with ESMTP id h9GCTUo02771
	for <lucene-user@jakarta.apache.org>; Thu, 16 Oct 2003 14:29:30 +0200
Message-ID: <3F8E8F3E.3000602@fpg.de>
Date: Thu, 16 Oct 2003 14:29:50 +0200
From: Gerhard Schwarz <gerhard.schwarz@fpg.de>
Organization: Frost & Partner
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; de-DE;
 rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: de,en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: GermanAnalyzer.java GermanStemmer.java
References: <20031009141757.64174.qmail@web12705.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Otis Gospodnetic schrieb:
> If not the author, maybe some users of this code can tell us how this
> uppercase/lowercase business should work.

Lowercasefilter before Stopfilter would be fine. The only reason not to 
do so was a semantic issue. But that issue is not important for the use 
with Lucene. The stemmer was written for an application I use, for the 
use with lucene (for normal fulltext inquiry at all) I can be simpler.

> And the issue even includes patches.  I don't use the German* stuff, so
> I'm afraid of applying it and breaking things for people who do use
> German* classes as they are currently.

After months of work I now have spare time.
The patch I promised months ago comes by next week. (No promise this 
time, or tomorrow something bad will happen in my office...)

I hope that the updated stemmer will fully work with existing indices.


Gerhard (back on Java development)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 16 13:34:48 2003
Return-Path: 
 <lucene-user-return-5683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67264 invoked from network); 16 Oct 2003 13:34:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 16 Oct 2003 13:34:48 -0000
Received: (qmail 31679 invoked by uid 500); 16 Oct 2003 13:34:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31645 invoked by uid 500); 16 Oct 2003 13:34:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31622 invoked from network); 16 Oct 2003 13:34:36 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 16 Oct 2003 13:34:36 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HMU00C01R1LAV@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 16 Oct 2003 14:34:33 +0100 (IST)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HMU00DDNR1H1O@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 16 Oct 2003 14:34:29 +0100 (IST)
Date: Thu, 16 Oct 2003 14:34:33 +0100
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: document score for a page
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <017b01c393ea$3c2bf550$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: 
 <496A2C679221504D8B8AE4B10267E876019D7CF7@gb-sm-cala-xm11.corp.disney.com>
 <006001c38d00$6bcded40$bf8401c1@mojo> <3F830D39.2090507@gwmail.syr.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,

if i have an index containing a page and i want to know the score that page
has for a given query, is there a way of finding out the score without
performing a search?  it seems like a strange question but the reason is
that if i perform a search using the given query on my index, sometimes the
page i want is not returned in the Hits object and so i can't find out the
score of the page.

i'm performing some analysis of search results so for each query i need to
know the score for every page in the index for that query, even if it's not
returned when a search is performed on the query.  will i need to implement
a method to do this, or does one already exist?

i guess as an addendum to this question it would be useful for me to know
when lucene decides to stop returning results.  is it just when all pages
containing the query term have been returned?

maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 17 22:03:08 2003
Return-Path: 
 <lucene-user-return-5684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48514 invoked from network); 17 Oct 2003 22:03:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Oct 2003 22:03:08 -0000
Received: (qmail 26278 invoked by uid 500); 17 Oct 2003 22:02:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26043 invoked by uid 500); 17 Oct 2003 22:02:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26030 invoked from network); 17 Oct 2003 22:02:48 -0000
Received: from unknown (HELO elawp301.elawsbs.local) (68.106.76.45)
  by daedalus.apache.org with SMTP; 17 Oct 2003 22:02:48 -0000
Subject: Does the Lucene search engine work with PDF's?
Date: Fri, 17 Oct 2003 15:04:49 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C394FA.AEC0C030"
Message-ID: <318A36FE3306B64C99C827B81B67BC9A3302@elawp301.elawsbs.local>
Disposition-Notification-To: "Andre Hughes" <ahughes@emanagelaw.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
Content-Class: urn:content-classes:message
X-MS-TNEF-Correlator: 
Thread-Topic: Does the Lucene search engine work with PDF's?
Thread-Index: AcOU+q69RfnDmeWeRY+RF7A/Hzqruw==
From: "Andre Hughes" <ahughes@emanagelaw.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C394FA.AEC0C030
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,
Can the Lucene search engine index and search though PDF documents?
What are the file format limits for Lucene search engine.
=20
Thanks in Advance,
=20
Andre'

------_=_NextPart_001_01C394FA.AEC0C030--

From MAILER-DAEMON Fri Oct 17 22:19:32 2003
Return-Path: 
 <lucene-user-return-5685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53868 invoked from network); 17 Oct 2003 22:19:32 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Oct 2003 22:19:32 -0000
Received: (qmail 52174 invoked by uid 500); 17 Oct 2003 22:19:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51959 invoked by uid 500); 17 Oct 2003 22:19:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51946 invoked from network); 17 Oct 2003 22:19:13 -0000
Received: from unknown (HELO mail.amazingmedia.com) (65.126.5.3)
  by daedalus.apache.org with SMTP; 17 Oct 2003 22:19:13 -0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.amazingmedia.com (Postfix) with ESMTP id 239A98334
	for <lucene-user@jakarta.apache.org>; Fri, 17 Oct 2003 18:16:03 -0400 (EDT)
Received: from mail.amazingmedia.com ([127.0.0.1])
 by localhost (mail.amazingmedia.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 29893-07 for <lucene-user@jakarta.apache.org>;
 Fri, 17 Oct 2003 18:16:03 -0400 (EDT)
Received: from amazingmedia.com (ip68-100-6-24.dc.dc.cox.net [68.100.6.24])
	by mail.amazingmedia.com (Postfix) with ESMTP id E7E3C82E5
	for <lucene-user@jakarta.apache.org>; Fri, 17 Oct 2003 18:16:02 -0400 (EDT)
Message-ID: <3F906AD9.7090200@amazingmedia.com>
Date: Fri, 17 Oct 2003 18:19:05 -0400
From: Mark Helmstetter <markh@amazingmedia.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Does the Lucene search engine work with PDF's?
References: <318A36FE3306B64C99C827B81B67BC9A3302@elawp301.elawsbs.local>
In-Reply-To: <318A36FE3306B64C99C827B81B67BC9A3302@elawp301.elawsbs.local>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at amazingmedia.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene FAQ Sect. 2 #12:
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=chapter.indexing&toc=faq#q12
How do I index other document types such as PDF and Word ?

jGuru FAQ - 4th bullet
http://www.jguru.com/faq/view.jsp?EID=107423
How can I index PDF documents?

Andre Hughes wrote:

>Hello,
>Can the Lucene search engine index and search though PDF documents?
>What are the file format limits for Lucene search engine.
> 
>Thanks in Advance,
> 
>Andre'
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 17 23:50:12 2003
Return-Path: 
 <lucene-user-return-5686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85032 invoked from network); 17 Oct 2003 23:50:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 17 Oct 2003 23:50:12 -0000
Received: (qmail 50918 invoked by uid 500); 17 Oct 2003 23:49:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50775 invoked by uid 500); 17 Oct 2003 23:49:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50762 invoked from network); 17 Oct 2003 23:49:51 -0000
Received: from unknown (HELO elawp301.elawsbs.local) (68.106.76.45)
  by daedalus.apache.org with SMTP; 17 Oct 2003 23:49:51 -0000
Subject: RE: Does the Lucene search engine work with PDF's?
Date: Fri, 17 Oct 2003 16:51:53 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <318A36FE3306B64C99C827B81B67BC9A3303@elawp301.elawsbs.local>
Disposition-Notification-To: "Andre Hughes" <ahughes@emanagelaw.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
Content-Class: urn:content-classes:message
X-MS-TNEF-Correlator: 
Thread-Topic: Does the Lucene search engine work with PDF's?
Thread-Index: AcOU/kuPxhlEUvI0S1m+UShrm5IbUAAC0Duw
From: "Andre Hughes" <ahughes@emanagelaw.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the info.

It seems though that the jGuru is a dead link.

Thanks Again.

Andre'

-----Original Message-----
From: Mark Helmstetter [mailto:markh@amazingmedia.com]
Sent: Friday, October 17, 2003 3:19 PM
To: Lucene Users List
Subject: Re: Does the Lucene search engine work with PDF's?


Lucene FAQ Sect. 2 #12:
http://lucene.sourceforge.net/cgi-bin/faq/faqmanager.cgi?file=3Dchapter.i=
ndexing&toc=3Dfaq#q12
How do I index other document types such as PDF and Word ?

jGuru FAQ - 4th bullet
http://www.jguru.com/faq/view.jsp?EID=3D107423
How can I index PDF documents?

Andre Hughes wrote:

>Hello,
>Can the Lucene search engine index and search though PDF documents?
>What are the file format limits for Lucene search engine.
>=20
>Thanks in Advance,
>=20
>Andre'
>
> =20
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct 18 00:28:07 2003
Return-Path: 
 <lucene-user-return-5687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96281 invoked from network); 18 Oct 2003 00:28:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 18 Oct 2003 00:28:07 -0000
Received: (qmail 88325 invoked by uid 500); 18 Oct 2003 00:27:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88289 invoked by uid 500); 18 Oct 2003 00:27:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88275 invoked from network); 18 Oct 2003 00:27:46 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 18 Oct 2003 00:27:46 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 0A3F5256
	for <lucene-user@jakarta.apache.org>; Fri, 17 Oct 2003 20:27:54 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id C12371300; Fri, 17 Oct 2003 20:27:53 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 9D12F12FF
	for <lucene-user@jakarta.apache.org>; Fri, 17 Oct 2003 20:27:53 -0400 (EDT)
Date: Fri, 17 Oct 2003 20:27:53 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Does the Lucene search engine work with PDF's?
In-Reply-To: <318A36FE3306B64C99C827B81B67BC9A3302@elawp301.elawsbs.local>
Message-ID: <Pine.GSO.4.53.0310172026510.738@fury.csh.rit.edu>
References: <318A36FE3306B64C99C827B81B67BC9A3302@elawp301.elawsbs.local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



You need to be able to extract the text from them and feed that to lucene.
http://ww.pdfbox.org can extract text from pdf documents.

Ben


On Fri, 17 Oct 2003, Andre Hughes wrote:

> Hello,
> Can the Lucene search engine index and search though PDF documents?
> What are the file format limits for Lucene search engine.
>
> Thanks in Advance,
>
> Andre'
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 07:34:05 2003
Return-Path: 
 <lucene-user-return-5688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25226 invoked from network); 20 Oct 2003 07:34:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 07:34:05 -0000
Received: (qmail 79151 invoked by uid 500); 20 Oct 2003 07:33:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79120 invoked by uid 500); 20 Oct 2003 07:33:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79107 invoked from network); 20 Oct 2003 07:33:44 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 20 Oct 2003 07:33:44 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id JAA09440
        for <lucene-user@jakarta.apache.org>;
 Mon, 20 Oct 2003 09:36:38 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id JAA09436
        for <lucene-user@jakarta.apache.org>;
 Mon, 20 Oct 2003 09:36:37 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id JAA13690
        for <lucene-user@jakarta.apache.org>;
 Mon, 20 Oct 2003 09:35:57 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <VFQDZ67J>; Mon, 20 Oct 2003 09:34:34 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA5F@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Does the Lucene search engine work with PDF's?
Date: Mon, 20 Oct 2003 09:34:34 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C396DC.249D0E70"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C396DC.249D0E70
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

You can also use the TextMining.org toolbox, which provides classes to
extract text from PDF and DOC files, using the Jakarta POI project. =
They are
all free, under Apache Licence.=20

The URL
:http://www.textmining.org/modules.php?op=3Dmodload&name=3DNews&file=3Da=
rticle&sid
=3D6&mode=3Dthread&order=3D0&thold=3D0).
(URL tested today)=20

You can try the JGuru page : =
http://www.jguru.com/faq/view.jsp?EID=3D1074237

Gilles Moyse


-----Message d'origine-----
De : Andre Hughes [mailto:ahughes@emanagelaw.com]
Envoy=E9 : samedi 18 octobre 2003 00:05
=C0 : lucene-user@jakarta.apache.org
Objet : Does the Lucene search engine work with PDF's?


Hello,
Can the Lucene search engine index and search though PDF documents?
What are the file format limits for Lucene search engine.
=20
Thanks in Advance,
=20
Andre'

------_=_NextPart_001_01C396DC.249D0E70--

From MAILER-DAEMON Mon Oct 20 09:03:29 2003
Return-Path: 
 <lucene-user-return-5689-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72528 invoked from network); 20 Oct 2003 09:03:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 09:03:29 -0000
Received: (qmail 68677 invoked by uid 500); 20 Oct 2003 09:03:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68483 invoked by uid 500); 20 Oct 2003 09:03:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68470 invoked from network); 20 Oct 2003 09:03:06 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.47)
  by daedalus.apache.org with SMTP; 20 Oct 2003 09:03:06 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id h9K93Jgs004123
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 02:03:19 -0700 (PDT)
Received: from mac.com (adsl-62-167-127-194.adslplus.ch [62.167.127.194])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9K93Hbn009259
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 02:03:18 -0700 (PDT)
Date: Mon, 20 Oct 2003 11:01:36 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: [OT] Open Source Goes to COMDEX
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <0242BCA1-02DC-11D8-B8F5-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

This is pretty much off topic, but...

ZOE has been nominated as one of the candidate project to go the Open 
Source Innovation Area on the COMDEX Exhibit Floor.

http://www.oreillynet.com/contest/comdex/

ZOE is one of the few Java project short listed and it uses Lucene 
quiet extensively.

Show your support by voting for ZOE :)

Cheers,

PA.

-- 
http://zoe.nu/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 14:37:06 2003
Return-Path: 
 <lucene-user-return-5690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62310 invoked from network); 20 Oct 2003 14:37:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 14:37:06 -0000
Received: (qmail 3716 invoked by uid 500); 20 Oct 2003 14:36:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3688 invoked by uid 500); 20 Oct 2003 14:36:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3675 invoked from network); 20 Oct 2003 14:36:56 -0000
Received: from unknown (HELO relay00.uchicago.edu) (128.135.12.75)
  by daedalus.apache.org with SMTP; 20 Oct 2003 14:36:56 -0000
Received: from stiltfire (stiltfire.src.uchicago.edu [128.135.252.46])
	by relay00.uchicago.edu (8.12.10/8.12.9) with ESMTP id h9KEavqT018130
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 09:36:58 -0500 (CDT)
From: "Tom Howe" <trhowe@uchicago.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Hierarchical document
Date: Mon, 20 Oct 2003 09:36:55 -0500
Message-ID: <00d501c39717$9bff55f0$2efc8780@stiltfire>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 
I have a very hierarchical document structure where each level of the
hierarchy contains indexable information.  It looks like this:  

		Study -> 
			Section -> 
				DataFile -> 
					Variable.  

The goal is to create a situation where a user can execute a search at
any level and the search would include all of the information below it
in the hierarchy and retrieve the proper aggregated document.  In other
words, someone could search for a Study using word that appears in
several DataFiles in the study and a single study document could be
returned.  At the same time, someone could search for a DataFile and
each of the matching DataFile documents would be returned.  Is there a
good way to do this other than using multiple indexes? 

Thanks,
Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 14:51:35 2003
Return-Path: 
 <lucene-user-return-5691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69941 invoked from network); 20 Oct 2003 14:51:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 14:51:35 -0000
Received: (qmail 31265 invoked by uid 500); 20 Oct 2003 14:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31236 invoked by uid 500); 20 Oct 2003 14:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31219 invoked from network); 20 Oct 2003 14:51:23 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 20 Oct 2003 14:51:23 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ABbNV-0000Df-00
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 16:51:25 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1ABbNU-0000DX-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 20 Oct 2003 16:51:24 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ABbNU-00053i-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 20 Oct 2003 16:51:24 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Hierarchical document
Date: Mon, 20 Oct 2003 16:50:06 +0200
Lines: 20
Message-ID: <bn0spc$ivo$1@sea.gmane.org>
References: <00d501c39717$9bff55f0$2efc8780@stiltfire>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <00d501c39717$9bff55f0$2efc8780@stiltfire>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tom Howe wrote:
> Hi, 
> I have a very hierarchical document structure where each level of the
> hierarchy contains indexable information.  It looks like this:  
> 
> 		Study -> 
> 			Section -> 
> 				DataFile -> 
> 					Variable.  
> 
> The goal is to create a situation where a user can execute a search at
> any level and the search would include all of the information below it
> in the hierarchy and retrieve the proper aggregated document.

Say, you're on the level of Study/Section, then in indexing add the 
fields "study" and "section" and set them to, say, "true". When 
searching, just search where those two fields are "true".

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 15:06:40 2003
Return-Path: 
 <lucene-user-return-5692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78616 invoked from network); 20 Oct 2003 15:06:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 15:06:40 -0000
Received: (qmail 49423 invoked by uid 500); 20 Oct 2003 15:06:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49193 invoked by uid 500); 20 Oct 2003 15:06:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49178 invoked from network); 20 Oct 2003 15:06:29 -0000
Received: from unknown (HELO relay00.uchicago.edu) (128.135.12.75)
  by daedalus.apache.org with SMTP; 20 Oct 2003 15:06:29 -0000
Received: from stiltfire (stiltfire.src.uchicago.edu [128.135.252.46])
	by relay00.uchicago.edu (8.12.10/8.12.9) with ESMTP id h9KF6VqT020659
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 10:06:31 -0500 (CDT)
From: "Tom Howe" <trhowe@uchicago.edu>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Hierarchical document
Date: Mon, 20 Oct 2003 10:06:28 -0500
Message-ID: <00e001c3971b$bd269780$2efc8780@stiltfire>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <bn0spc$ivo$1@sea.gmane.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>> Hi,
>> I have a very hierarchical document structure where each level of the
>> hierarchy contains indexable information.  It looks like this:  
>> 
>> 		Study -> 
>> 			Section -> 
>> 				DataFile -> 
>> 					Variable.
>> 
>> The goal is to create a situation where a user can execute a search
at 
>> any level and the search would include all of the information below
it 
>> in the hierarchy and retrieve the proper aggregated document.

>Say, you're on the level of Study/Section, then in indexing add the 
>fields "study" and "section" and set them to, say, "true". When 
>searching, just search where those two fields are "true".

>Ulrich

Right, but my concern is that each of these levels are really different
documents.  So, I guess the question should have been, Do I need to
create documents for the lowest common denominator and then aggregate
them into higher level documents by hand or make a several document
types with redundant information and search by document type or create
multiple indices (one for each level) with redundant information?   In
other words, should I just add a bunch of DataFile documents that
contain Section and Study information and then, if a user wants a set of
Study documents, just aggregate them after the search by hand or is
there a more "lucene" way of doing this?  I'm trying to avoid storing
too much redundant information to implement this kind of hierarchical
structure, but that may not be possible.  I hope I'm being somewhat
clear with my question.

Thanks again,
Tom



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 15:19:39 2003
Return-Path: 
 <lucene-user-return-5693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87322 invoked from network); 20 Oct 2003 15:19:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 15:19:39 -0000
Received: (qmail 72553 invoked by uid 500); 20 Oct 2003 15:19:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72524 invoked by uid 500); 20 Oct 2003 15:19:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72510 invoked from network); 20 Oct 2003 15:19:28 -0000
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by daedalus.apache.org with SMTP; 20 Oct 2003 15:19:28 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ABbog-0000Za-00
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 17:19:30 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from sea.gmane.org ([80.91.224.252])
	by main.gmane.org with esmtp (Exim 3.35 #1 (Debian))
	id 1ABbof-0000ZS-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 20 Oct 2003 17:19:29 +0200
Received: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1ABbof-0006C2-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>;
 Mon, 20 Oct 2003 17:19:29 +0200
From: Ulrich Mayring <ulim@denic.de>
Subject: Re: Hierarchical document
Date: Mon, 20 Oct 2003 17:18:11 +0200
Lines: 32
Message-ID: <bn0ue1$n7u$1@sea.gmane.org>
References: <bn0spc$ivo$1@sea.gmane.org>
 <00e001c3971b$bd269780$2efc8780@stiltfire>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: de-de, en-us, en
In-Reply-To: <00e001c3971b$bd269780$2efc8780@stiltfire>
Sender: news <news@sea.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tom Howe wrote:
>
> Right, but my concern is that each of these levels are really different
> documents.

That's how I understood it. Just add a keyword for each level.

If you want to use just one field, then you can also think of your 
structure as a tree like this:

      doc1     ---- Level 1
      /  \
    doc2  doc3 ---- Level 2
      |
    doc4       ---- Level 4
      |
    doc5       ---- Level 8

This way, if your user says he wants to search in Level 6, you know that 
he really wants to search in levels 2 and 4, because that is the only 
way that you can get 6 (2+4). This enables you to work with just one 
field, because every document only needs to add its level to the index.

If you don't need this flexibility and always want to search from the 
current level on down, then it is even easier. You then modify your 
query to search, where docLevel >= currentLevel.

In any event, all your indexer has to do is add each document's level to 
the index.

Ulrich



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 15:59:52 2003
Return-Path: 
 <lucene-user-return-5694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13494 invoked from network); 20 Oct 2003 15:59:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 15:59:52 -0000
Received: (qmail 68579 invoked by uid 500); 20 Oct 2003 15:59:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68443 invoked by uid 500); 20 Oct 2003 15:59:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68429 invoked from network); 20 Oct 2003 15:59:40 -0000
Received: from unknown (HELO hotmail.com) (207.68.162.201)
  by daedalus.apache.org with SMTP; 20 Oct 2003 15:59:40 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 20 Oct 2003 08:59:43 -0700
Received: from 62.128.213.171 by sea1-dav66.sea1.hotmail.com with DAV;
	Mon, 20 Oct 2003 15:59:43 +0000
X-Originating-IP: [62.128.213.171]
X-Originating-Email: [stevejenkins444@hotmail.com]
From: "Steve Jenkins" <stevejenkins444@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Cc: "Steve Jenkins" <stevejenkins444@hotmail.com>
Subject: Lucene on Windows
Date: Mon, 20 Oct 2003 17:00:57 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0021_01C3972B.BB0D8840"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Sea1-DAV66hNAa0icaI000068a2@hotmail.com>
X-OriginalArrivalTime: 20 Oct 2003 15:59:43.0566 (UTC)
 FILETIME=[2D451EE0:01C39723]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0021_01C3972B.BB0D8840
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Wonder if anyone can help. Has anyone used Lucene on a Windows =
environment?
Anyone know of any documentation specifically focused on doing that?=20
Or anyone know of any gotchas to avoid?

Thanks for any help,
Cheers Steve.


------=_NextPart_000_0021_01C3972B.BB0D8840--

From MAILER-DAEMON Mon Oct 20 16:11:36 2003
Return-Path: 
 <lucene-user-return-5695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23460 invoked from network); 20 Oct 2003 16:11:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:11:36 -0000
Received: (qmail 93642 invoked by uid 500); 20 Oct 2003 16:11:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93607 invoked by uid 500); 20 Oct 2003 16:11:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93556 invoked from network); 20 Oct 2003 16:11:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:11:19 -0000
Received: (cpmta 17471 invoked from network); 20 Oct 2003 09:11:21 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 20 Oct 2003 09:11:21 -0700
X-Sent: 20 Oct 2003 16:11:21 GMT
Date: Mon, 20 Oct 2003 12:11:19 -0400
Subject: Re: Lucene on Windows
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <Sea1-DAV66hNAa0icaI000068a2@hotmail.com>
Message-Id: <0A2CAAE3-0318-11D8-A7B0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Monday, October 20, 2003, at 12:00  PM, Steve Jenkins wrote:
> Hi,
>
> Wonder if anyone can help. Has anyone used Lucene on a Windows 
> environment?
> Anyone know of any documentation specifically focused on doing that?
> Or anyone know of any gotchas to avoid?

Yup, used Lucene on Windows lots.  Is there a specific issue you feel 
is Windows related?  Its pure Java and works the same on all supported 
platforms.  So no real gotchas with respect to Windows.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:14:33 2003
Return-Path: 
 <lucene-user-return-5696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24644 invoked from network); 20 Oct 2003 16:14:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:14:33 -0000
Received: (qmail 98702 invoked by uid 500); 20 Oct 2003 16:14:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98676 invoked by uid 500); 20 Oct 2003 16:14:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98663 invoked from network); 20 Oct 2003 16:14:21 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:14:21 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene on Windows
Date: Mon, 20 Oct 2003 12:12:07 -0400
Message-ID: <5C7A32E240A279479DFF44FDF01BBE62875E52@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene on Windows
Thread-Index: AcOXJH6bfSMNTUB7TcCjph7BAqKrmAAAA8NQ
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


You might have trouble with "too many open files" if you set your =
mergeFactor too high.  For example, on my Win2k, I can go up to =
mergeFactor=3D300 (or so).  At 400 I get a too many open files error.  =
Note: the default mergeFactor of 10 should give no trouble.

FYI - On my linux box, I got the 'too many open' error on =
mergeFactor=3D300 (and 200).  So, I am using 100.


Tate


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: October 20, 2003 12:11 PM
To: Lucene Users List
Subject: Re: Lucene on Windows



On Monday, October 20, 2003, at 12:00  PM, Steve Jenkins wrote:
> Hi,
>
> Wonder if anyone can help. Has anyone used Lucene on a Windows=20
> environment?
> Anyone know of any documentation specifically focused on doing that?
> Or anyone know of any gotchas to avoid?

Yup, used Lucene on Windows lots.  Is there a specific issue you feel=20
is Windows related?  Its pure Java and works the same on all supported=20
platforms.  So no real gotchas with respect to Windows.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:15:42 2003
Return-Path: 
 <lucene-user-return-5697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25278 invoked from network); 20 Oct 2003 16:15:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:15:42 -0000
Received: (qmail 1553 invoked by uid 500); 20 Oct 2003 16:15:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1501 invoked by uid 500); 20 Oct 2003 16:15:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1419 invoked from network); 20 Oct 2003 16:15:22 -0000
Received: from unknown (HELO e5.ny.us.ibm.com) (32.97.182.105)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:15:22 -0000
Received: from northrelay02.pok.ibm.com (northrelay02.pok.ibm.com
 [9.56.224.150])
	by e5.ny.us.ibm.com (8.12.10/8.12.2) with ESMTP id h9KGFOUj209030
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 12:15:24 -0400
Received: from d25ml01.torolab.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by northrelay02.pok.ibm.com (8.12.9/NCO/VER6.6) with ESMTP id h9KGFMgx217556
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 12:15:23 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Does the Lucene search engine work with PDF's?
Message-ID: 
 <OF85256DC5.00594D5C-ON85256DC5.00594D5C-85256DC5.00594D72@ca.ibm.com>
From: Konrad Kolosowski <konradk@ca.ibm.com>
Date: Mon, 20 Oct 2003 12:15:22 -0400
X-MIMETrack: Serialize by Router on D25ML01/25/M/IBM(Release 6.0.2CF1|June 9,
 2003) at
 10/20/2003 12:15:23
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Return Receipt
                                                                           
    Your      Does the Lucene search engine work with PDF's?               
    document                                                               
    :                                                                      
                                                                           
    was       Konrad Kolosowski/Toronto/IBM                                
    received                                                               
    by:                                                                    
                                                                           
    at:       10/20/2003 12:15:25                                          
                                                                           





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:15:54 2003
Return-Path: 
 <lucene-user-return-5698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25370 invoked from network); 20 Oct 2003 16:15:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:15:54 -0000
Received: (qmail 2915 invoked by uid 500); 20 Oct 2003 16:15:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2886 invoked by uid 500); 20 Oct 2003 16:15:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2873 invoked from network); 20 Oct 2003 16:15:42 -0000
Received: from unknown (HELO e1.ny.us.ibm.com) (32.97.182.101)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:15:42 -0000
Received: from northrelay04.pok.ibm.com (northrelay04.pok.ibm.com
 [9.56.224.206])
	by e1.ny.us.ibm.com (8.12.10/NS PXFA) with ESMTP id h9KGFipU482908
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 12:15:44 -0400
Received: from d25ml01.torolab.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by northrelay04.pok.ibm.com (8.12.9/NCO/VER6.6) with ESMTP id h9KGFg55061936
	for <lucene-user@jakarta.apache.org>; Mon, 20 Oct 2003 12:15:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Does the Lucene search engine work with PDF's?
Message-ID: 
 <OF85256DC5.005954D0-ON85256DC5.005954D0-85256DC5.005954D0@ca.ibm.com>
From: Konrad Kolosowski <konradk@ca.ibm.com>
Date: Mon, 20 Oct 2003 12:15:41 -0400
X-MIMETrack: Serialize by Router on D25ML01/25/M/IBM(Release 6.0.2CF1|June 9,
 2003) at
 10/20/2003 12:15:43
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Return Receipt
                                                                           
    Your      RE: Does the Lucene search engine work with PDF's?           
    document                                                               
    :                                                                      
                                                                           
    was       Konrad Kolosowski/Toronto/IBM                                
    received                                                               
    by:                                                                    
                                                                           
    at:       10/20/2003 12:15:44                                          
                                                                           





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:16:37 2003
Return-Path: 
 <lucene-user-return-5699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25999 invoked from network); 20 Oct 2003 16:16:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:16:37 -0000
Received: (qmail 5557 invoked by uid 500); 20 Oct 2003 16:16:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5518 invoked by uid 500); 20 Oct 2003 16:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5454 invoked from network); 20 Oct 2003 16:16:07 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:16:07 -0000
Message-ID: <20031020161610.1162.qmail@web12707.mail.yahoo.com>
Received: from [194.152.216.174] by web12707.mail.yahoo.com via HTTP;
 Mon, 20 Oct 2003 09:16:10 PDT
Date: Mon, 20 Oct 2003 09:16:10 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Lucene on Windows
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE62875E52@sgges01.nstein.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The CVS version of Lucene has a patch that allows one to use a
'Compound Index' instead of the traditional one.  This reduces the
number of open files.  For more info, see/make the Javadocs for
IndexWriter.

Otis

--- Tate Avery <tate.avery@nstein.com> wrote:
> 
> You might have trouble with "too many open files" if you set your
> mergeFactor too high.  For example, on my Win2k, I can go up to
> mergeFactor=300 (or so).  At 400 I get a too many open files error. 
> Note: the default mergeFactor of 10 should give no trouble.
> 
> FYI - On my linux box, I got the 'too many open' error on
> mergeFactor=300 (and 200).  So, I am using 100.
> 
> 
> Tate
> 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: October 20, 2003 12:11 PM
> To: Lucene Users List
> Subject: Re: Lucene on Windows
> 
> 
> 
> On Monday, October 20, 2003, at 12:00  PM, Steve Jenkins wrote:
> > Hi,
> >
> > Wonder if anyone can help. Has anyone used Lucene on a Windows 
> > environment?
> > Anyone know of any documentation specifically focused on doing
> that?
> > Or anyone know of any gotchas to avoid?
> 
> Yup, used Lucene on Windows lots.  Is there a specific issue you feel
> 
> is Windows related?  Its pure Java and works the same on all
> supported 
> platforms.  So no real gotchas with respect to Windows.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:31:46 2003
Return-Path: 
 <lucene-user-return-5700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34961 invoked from network); 20 Oct 2003 16:31:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:31:46 -0000
Received: (qmail 47473 invoked by uid 500); 20 Oct 2003 16:31:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47447 invoked by uid 500); 20 Oct 2003 16:31:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47433 invoked from network); 20 Oct 2003 16:31:33 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:31:33 -0000
Received: (cpmta 17343 invoked from network); 20 Oct 2003 09:31:36 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 20 Oct 2003 09:31:36 -0700
X-Sent: 20 Oct 2003 16:31:36 GMT
Date: Mon, 20 Oct 2003 12:31:34 -0400
Subject: Re: Hierarchical document
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00e001c3971b$bd269780$2efc8780@stiltfire>
Message-Id: <DE9DE1DE-031A-11D8-A7B0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday, October 20, 2003, at 11:06  AM, Tom Howe wrote:
> contain Section and Study information and then, if a user wants a set 
> of
> Study documents, just aggregate them after the search by hand or is
> there a more "lucene" way of doing this?  I'm trying to avoid storing
> too much redundant information to implement this kind of hierarchical
> structure, but that may not be possible.  I hope I'm being somewhat
> clear with my question.

There is not a more "lucene" way to do this - its really up to you to 
be creative with this.  I'm sure there are folks that have implemented 
something along these lines on top of Lucene.  In fact, I have a 
particular interest in doing so at some point myself.  This is very 
similar to the object-relational issues surrounding relational 
databases - turning a pretty flat structure into an object graph.  
There are several ideas that could be explored by playing tricks with 
fields, such as giving them a hierarchical naming structure and 
querying at the level you like (think Field.Keyword and PrefixQuery, 
for example), and using a field to indicate type and narrowing queries 
to documents of the desired type.

I'm interested to see what others have done in this area, or what ideas 
emerge about how to accomplish this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 16:58:12 2003
Return-Path: 
 <lucene-user-return-5701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52457 invoked from network); 20 Oct 2003 16:58:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 16:58:12 -0000
Received: (qmail 97268 invoked by uid 500); 20 Oct 2003 16:58:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97102 invoked by uid 500); 20 Oct 2003 16:57:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97085 invoked from network); 20 Oct 2003 16:57:59 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 20 Oct 2003 16:57:59 -0000
Received: (cpmta 1774 invoked from network); 20 Oct 2003 09:58:02 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 20 Oct 2003 09:58:02 -0700
X-Sent: 20 Oct 2003 16:58:02 GMT
Date: Mon, 20 Oct 2003 12:57:59 -0400
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
Message-Id: <8F786701-031E-11D8-A7B0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday, October 15, 2003, at 10:24  AM, Michael Giles wrote:
> So how do we move this issue forward.  I can't think of a single case 
> where a "-" with no whitespace on either side (i.e. t-shirt, Wal-Mart) 
> should be interpreted as a NOT command.  Is there a feeling that 
> changing the interpretation of such cases is a break in compatibility? 
>  I agree that it will change behavior, but I think that it will change 
> it for the better (i.e. fix it).  The current behavior is really 
> broken (and very frustrating for a user trying to search).

I looked at the patch here:

	http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23838

I'm not entirely satisfied with it.  I'm of the opinion that we should 
only change QueryParser to fix the behavior of operators nestled within 
text with no surrounding whitespace.  The provided patch only works 
with the "-" character, but what about "Wal+Mart"?  Shouldn't we keep 
that together also and hand it to the analyzer?

I'm not convinced at all that we should change the StandardTokenizer to 
not split on dash.  If only QueryParser was fixed and handed "Wal-Mart" 
to the StandardAnalyzer, it would be split the same way as during 
indexing and searches would return the expected hits.

Thoughts?  I'd like to see this fixed, but in a way that makes the most 
general sense.

Thanks,
	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 17:26:45 2003
Return-Path: 
 <lucene-user-return-5702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64890 invoked from network); 20 Oct 2003 17:26:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 17:26:45 -0000
Received: (qmail 41118 invoked by uid 500); 20 Oct 2003 17:26:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41095 invoked by uid 500); 20 Oct 2003 17:26:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41082 invoked from network); 20 Oct 2003 17:26:32 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 20 Oct 2003 17:26:32 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1ABdnf-0004J3-SN
	for lucene-user@jakarta.apache.org; Mon, 20 Oct 2003 12:26:35 -0500
Message-Id: <6.0.0.22.0.20031020132339.022db540@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Mon, 20 Oct 2003 13:26:40 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Dash Confusion in QueryParser - Bug? Feature?
In-Reply-To: <8F786701-031E-11D8-A7B0-000393A564E6@ehatchersolutions.com
 >
References: <6.0.0.22.0.20031015102033.022c2618@mail.visionstudio.com>
 <8F786701-031E-11D8-A7B0-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I agree with that assessment.  I hadn't taken the time to look at the 
patch, but I am in agreement that the fix should be "stop QueryParser from 
interpreting characters as operators when there is no whitespace 
surrounding them".  As long as the QP doesn't do anything in this case, the 
Analyzer will be able to handle it the same way it did when indexing (which 
is what we want).

-Mike

At 12:57 PM 10/20/2003, you wrote:
>On Wednesday, October 15, 2003, at 10:24  AM, Michael Giles wrote:
>
>I looked at the patch here:
>
>         http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23838
>
>I'm not entirely satisfied with it.  I'm of the opinion that we should 
>only change QueryParser to fix the behavior of operators nestled within 
>text with no surrounding whitespace.  The provided patch only works with 
>the "-" character, but what about "Wal+Mart"?  Shouldn't we keep that 
>together also and hand it to the analyzer?
>
>I'm not convinced at all that we should change the StandardTokenizer to 
>not split on dash.  If only QueryParser was fixed and handed "Wal-Mart" to 
>the StandardAnalyzer, it would be split the same way as during indexing 
>and searches would return the expected hits.
>
>Thoughts?  I'd like to see this fixed, but in a way that makes the most 
>general sense.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 19:04:05 2003
Return-Path: 
 <lucene-user-return-5703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8344 invoked from network); 20 Oct 2003 19:04:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 19:04:05 -0000
Received: (qmail 45682 invoked by uid 500); 20 Oct 2003 19:03:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45654 invoked by uid 500); 20 Oct 2003 19:03:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45641 invoked from network); 20 Oct 2003 19:03:49 -0000
Received: from unknown (HELO jemos.org) (62.3.127.84)
  by daedalus.apache.org with SMTP; 20 Oct 2003 19:03:49 -0000
Received: from 192.168.2.4 ([192.168.2.4])
          by jemos.org (JAMES SMTP Server 2.2.0a13) with SMTP ID 165
          for <lucene-user@jakarta.apache.org>;
          Mon, 20 Oct 2003 20:03:48 +0100 (BST)
Message-ID: <00c901c3973c$e46c7190$0402a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <Sea1-DAV66hNAa0icaI000068a2@hotmail.com>
Subject: Re: Lucene on Windows
Date: Mon, 20 Oct 2003 20:03:48 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm using Lucene on Windows without problems. 
----- Original Message ----- 
From: "Steve Jenkins" <stevejenkins444@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Cc: "Steve Jenkins" <stevejenkins444@hotmail.com>
Sent: Monday, October 20, 2003 5:00 PM
Subject: Lucene on Windows


Hi,

Wonder if anyone can help. Has anyone used Lucene on a Windows environment?
Anyone know of any documentation specifically focused on doing that? 
Or anyone know of any gotchas to avoid?

Thanks for any help,
Cheers Steve.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Mon Oct 20 22:41:38 2003
Return-Path: 
 <lucene-user-return-5704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10303 invoked from network); 20 Oct 2003 22:41:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 20 Oct 2003 22:41:38 -0000
Received: (qmail 75351 invoked by uid 500); 20 Oct 2003 22:41:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75320 invoked by uid 500); 20 Oct 2003 22:41:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75307 invoked from network); 20 Oct 2003 22:41:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 20 Oct 2003 22:41:19 -0000
Received: (cpmta 13640 invoked from network); 20 Oct 2003 15:41:26 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 20 Oct 2003 15:41:26 -0700
X-Sent: 20 Oct 2003 22:41:26 GMT
Date: Mon, 20 Oct 2003 18:41:24 -0400
Subject: Re: Hierarchical document
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <DE9DE1DE-031A-11D8-A7B0-000393A564E6@ehatchersolutions.com>
Message-Id: <89068D02-034E-11D8-AF07-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

One more thought related to this subject - once a nice scheme for 
representing hierarchies within a Lucene index emerges, having XPath as 
a query language would rock!  Has anyone implemented O/R or XPath-like 
query expressions on top of Lucene?


On Monday, October 20, 2003, at 12:31  PM, Erik Hatcher wrote:

> On Monday, October 20, 2003, at 11:06  AM, Tom Howe wrote:
>> contain Section and Study information and then, if a user wants a set 
>> of
>> Study documents, just aggregate them after the search by hand or is
>> there a more "lucene" way of doing this?  I'm trying to avoid storing
>> too much redundant information to implement this kind of hierarchical
>> structure, but that may not be possible.  I hope I'm being somewhat
>> clear with my question.
>
> There is not a more "lucene" way to do this - its really up to you to 
> be creative with this.  I'm sure there are folks that have implemented 
> something along these lines on top of Lucene.  In fact, I have a 
> particular interest in doing so at some point myself.  This is very 
> similar to the object-relational issues surrounding relational 
> databases - turning a pretty flat structure into an object graph.  
> There are several ideas that could be explored by playing tricks with 
> fields, such as giving them a hierarchical naming structure and 
> querying at the level you like (think Field.Keyword and PrefixQuery, 
> for example), and using a field to indicate type and narrowing queries 
> to documents of the desired type.
>
> I'm interested to see what others have done in this area, or what 
> ideas emerge about how to accomplish this.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 00:21:53 2003
Return-Path: 
 <lucene-user-return-5705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38946 invoked from network); 21 Oct 2003 00:21:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 00:21:53 -0000
Received: (qmail 69603 invoked by uid 500); 21 Oct 2003 00:21:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69268 invoked by uid 500); 21 Oct 2003 00:21:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69253 invoked from network); 21 Oct 2003 00:21:31 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 21 Oct 2003 00:21:31 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 1ABkHL-00075m-Sj
	for lucene-user@jakarta.apache.org; Mon, 20 Oct 2003 18:21:40 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Hierarchical document
Date: Mon, 20 Oct 2003 18:24:29 -0600
User-Agent: KMail/1.4.3
References: <DE9DE1DE-031A-11D8-A7B0-000393A564E6@ehatchersolutions.com>
In-Reply-To: <DE9DE1DE-031A-11D8-A7B0-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200310201824.29368.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 20 October 2003 10:31, Erik Hatcher wrote:
> On Monday, October 20, 2003, at 11:06  AM, Tom Howe wrote:
> There is not a more "lucene" way to do this - its really up to you to
> be creative with this.  I'm sure there are folks that have implemented
> something along these lines on top of Lucene.  In fact, I have a
> particular interest in doing so at some point myself.  This is very
> similar to the object-relational issues surrounding relational
> databases - turning a pretty flat structure into an object graph.
> There are several ideas that could be explored by playing tricks with
> fields, such as giving them a hierarchical naming structure and
> querying at the level you like (think Field.Keyword and PrefixQuery,
> for example), and using a field to indicate type and narrowing queries
> to documents of the desired type.
>
> I'm interested to see what others have done in this area, or what ideas
> emerge about how to accomplish this.

I'm planning to do something similar. In my case problem is bit simpler; 
documents have associated products, and products form a hierarchy.
Searches should be able to match not only direct matches (searching
product, article associated with product), but also indirect ones via
membership (product member of a product group, matching group).
Product hierarchy also has variable depth.

To do searches using non-leaf hierarchy items (groups), all actual product
items/groups associated with docs are expanded to full ids when
indexing (ie. they contain path from root, up to and including node,
each node component having its own unique id).
Thus, when searching for an intermediate node (product grouping), 
match occurs since that node id is part of path to products that are in
the group (either directly or as members of sub-groups).

Since no such path is stored (directly) in database, this also allows me to do 
queries that would be impossible to do in database (I could add similar 
path/full id fields for search purposes of course). Thus, Lucene index is 
optimized for searching purposes, and database structure for editing
and retrieval of data.

Another thing to keep in mind is that at least for metadata it may make sense 
to use specialized analyzer, one that allows tokenizing using specific ids
to store ids as separate tokens; instead of using some standard plain text
analyzer. This way it is possible to separate ids from textual words (by
using prefixes, for example, "@1253" or "#13945"); this allows for accurate
matching based on identity of associated metadata selections.
 
-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 01:16:24 2003
Return-Path: 
 <lucene-user-return-5706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62295 invoked from network); 21 Oct 2003 01:16:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 01:16:24 -0000
Received: (qmail 6034 invoked by uid 500); 21 Oct 2003 01:16:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5814 invoked by uid 500); 21 Oct 2003 01:16:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5801 invoked from network); 21 Oct 2003 01:16:02 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 21 Oct 2003 01:16:02 -0000
Received: (cpmta 21565 invoked from network); 20 Oct 2003 18:16:10 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 20 Oct 2003 18:16:10 -0700
X-Sent: 21 Oct 2003 01:16:10 GMT
Date: Mon, 20 Oct 2003 21:15:56 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: positional token info
From: Erik Hatcher <erik@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <1F79921E-0364-11D8-AF07-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is anyone doing anything interesting with the 
Token.setPositionIncrement during analysis?

Just for fun, I've written a simple stop filter that bumps the position 
increments to account for the stop words removed:

   public final Token next() throws IOException {
     int increment = 0;
     for (Token token = input.next(); token != null; token = 
input.next()) {

       if (table.get(token.termText()) == null) {
         token.setPositionIncrement(token.getPositionIncrement() + 
increment);
         return token;
       }

       increment++;
     }

     return null;
   }


But its practically impossible to formulate a Query that can take 
advantage of this.  A PhraseQuery, because Terms don't have positional 
info (only the transient tokens), only works using a slop factor which 
doesn't guarantee an exact match like I'm after.  A PhrasePrefixQuery 
won't work any better as there is no way to add in a "blank" term to 
indicate a missing position.

I certainly see the benefit of putting tokens into zero-increment 
positions, but are increments of 2 or more at all useful?  If so, how 
are folks using it?

Thanks,
	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 02:47:29 2003
Return-Path: 
 <lucene-user-return-5707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91658 invoked from network); 21 Oct 2003 02:47:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 02:47:29 -0000
Received: (qmail 48952 invoked by uid 500); 21 Oct 2003 02:47:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48920 invoked by uid 500); 21 Oct 2003 02:47:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48907 invoked from network); 21 Oct 2003 02:47:05 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 21 Oct 2003 02:47:05 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 1ABmYE-0004wk-Lw
	for lucene-user@jakarta.apache.org; Mon, 20 Oct 2003 20:47:14 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Hierarchical document
Date: Mon, 20 Oct 2003 20:50:04 -0600
User-Agent: KMail/1.4.3
References: <89068D02-034E-11D8-AF07-000393A564E6@ehatchersolutions.com>
In-Reply-To: <89068D02-034E-11D8-AF07-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200310202050.04509.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 20 October 2003 16:41, Erik Hatcher wrote:
> One more thought related to this subject - once a nice scheme for
> representing hierarchies within a Lucene index emerges, having XPath as
> a query language would rock!  Has anyone implemented O/R or XPath-like
> query expressions on top of Lucene?

Not me... but at some point I think I briefly mentioned that someone with 
extra time might want to do a very simple JDBC driver to be used with
Lucene. Obviously it would be very minimal for queries (and might need
to invent new SQL operators for some searches), but it could also expose
metadata about index. Should be an interesting exercise at least. :-)
Plus, if done properly, tools like DBVis could be used for simple Lucene
testing as well.

If so, who knows; perhaps that would make it even easier to do prototype
implementations of Lucene replacing home-grown SQL-bound search
functionalities of apps.

Most of all above would just be a nice little hack, though. :-)

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 07:23:52 2003
Return-Path: 
 <lucene-user-return-5708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91708 invoked from network); 21 Oct 2003 07:23:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 07:23:52 -0000
Received: (qmail 60804 invoked by uid 500); 21 Oct 2003 07:23:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60558 invoked by uid 500); 21 Oct 2003 07:23:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60544 invoked from network); 21 Oct 2003 07:23:23 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 21 Oct 2003 07:23:23 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id h9L7NU1D004487
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 09:23:30 +0200
Message-ID: <003c01c397a4$3c0a6210$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5C7A32E240A279479DFF44FDF01BBE62875E52@sgges01.nstein.com>
 <20031020161610.1162.qmail@web12707.mail.yahoo.com>
Subject: Re: Lucene on Windows
Date: Tue, 21 Oct 2003 09:23:32 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> The CVS version of Lucene has a patch that allows one to use a
> 'Compound Index' instead of the traditional one.  This reduces the
> number of open files.  For more info, see/make the Javadocs for
> IndexWriter.

Interesting option. Do you have a rough idea of what the performance
impact of using this setting is?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 07:27:30 2003
Return-Path: 
 <lucene-user-return-5709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93335 invoked from network); 21 Oct 2003 07:27:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 07:27:30 -0000
Received: (qmail 64207 invoked by uid 500); 21 Oct 2003 07:27:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64001 invoked by uid 500); 21 Oct 2003 07:27:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63988 invoked from network); 21 Oct 2003 07:27:01 -0000
Received: from unknown (HELO hermes.culture.fr) (143.126.201.210)
  by daedalus.apache.org with SMTP; 21 Oct 2003 07:27:01 -0000
Received: by mta.culture.fr with id h9L7RDo9010780
 for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 09:27:13 +0200
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.10) with ESMTP id
 <T656a60e1ef8f7ec9dc3fc@pasteur.culture.fr> for
 <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 09:27:11 +0200
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id
 h9L7RCDS008284
  for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 09:27:13 +0200
Message-ID: <3F94E1EE.10307@culture.gouv.fr>
Date: Tue, 21 Oct 2003 09:36:14 +0200
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR;
 rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: fr-fr, fr
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: positional token info
References: <1F79921E-0364-11D8-AF07-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Erik Hatcher a �crit:

> Is anyone doing anything interesting with the Token.setPositionIncrement 
> during analysis?

I think so :-) Well... my arabic analyzer is based on this functionnality.

The basic idea is to have several tokens at the same position (i.e. 
setPositionIncrement(0)) which are different possible stems for the same 
word.

> But its practically impossible to formulate a Query that can take 
> advantage of this.  A PhraseQuery, because Terms don't have positional 
> info (only the transient tokens)

Correct !

I've made a dirty patch for the QueryParser which is able to handle 
tokens with positionIncrement equal to 0 or 1 (see bug #23307). It still 
needs some work, but it fits my needs :-)

> I certainly see the benefit of putting tokens into zero-increment 
> positions, but are increments of 2 or more at all useful?

Who knows ? I may be interesting  to keep track of the *presence* of 
"empty words", e.g. "[the] sky [is] blue", "[the] sky [is] [really] 
blue", "[the] sky [is] [that] [really] blue". The traditionnal reduction 
to "sky blue" is maybe over-simplistic for some cases...

Well, just an idea.

Cheers,

-- 
Pierrick Brihaye, informaticien
Service r�gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 08:00:39 2003
Return-Path: 
 <lucene-user-return-5710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10494 invoked from network); 21 Oct 2003 08:00:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 08:00:39 -0000
Received: (qmail 17154 invoked by uid 500); 21 Oct 2003 07:59:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17124 invoked by uid 500); 21 Oct 2003 07:59:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17030 invoked from network); 21 Oct 2003 07:59:55 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 21 Oct 2003 07:59:55 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id KAA17908
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 10:02:49 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id KAA17890
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 10:02:48 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id KAA10732
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 10:02:07 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <VFQD53VK>; Tue, 21 Oct 2003 10:00:44 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA60@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Compound expression extraction
Date: Tue, 21 Oct 2003 10:00:41 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C397A8.974A0249"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C397A8.974A0249
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

I'm trying to extract expressions from the terms position information, =
i.e.,
if two words appears frequently side-by-side, then we can consider that =
the
two words are only one. For instance, 'Object' and 'Oriented' appears
side-by-side 9 times out of 10. It allows us to define a new =
expression,
'Object_Oriented'.
Does anyone knows the statistical method to detect such expressions ?

Thanks.

Gilles Moyse

-----Message d'origine-----
De : Eric Jain [mailto:Eric.Jain@isb-sib.ch]
Envoy=E9 : mardi 21 octobre 2003 09:24
=C0 : Lucene Users List
Objet : Re: Lucene on Windows


> The CVS version of Lucene has a patch that allows one to use a
> 'Compound Index' instead of the traditional one.  This reduces the
> number of open files.  For more info, see/make the Javadocs for
> IndexWriter.

Interesting option. Do you have a rough idea of what the performance
impact of using this setting is?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C397A8.974A0249--

From MAILER-DAEMON Tue Oct 21 08:30:56 2003
Return-Path: 
 <lucene-user-return-5711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24248 invoked from network); 21 Oct 2003 08:30:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 08:30:56 -0000
Received: (qmail 60761 invoked by uid 500); 21 Oct 2003 08:30:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60729 invoked by uid 500); 21 Oct 2003 08:30:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60716 invoked from network); 21 Oct 2003 08:30:26 -0000
Received: from unknown (HELO web12002.mail.yahoo.com) (216.136.172.210)
  by daedalus.apache.org with SMTP; 21 Oct 2003 08:30:26 -0000
Message-ID: <20031021083029.6357.qmail@web12002.mail.yahoo.com>
Received: from [149.169.44.97] by web12002.mail.yahoo.com via HTTP;
 Tue, 21 Oct 2003 01:30:29 PDT
Date: Tue, 21 Oct 2003 01:30:29 -0700 (PDT)
From: le Na <tltest2003@yahoo.com>
Subject: how to count stop words
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1294744843-1066725029=:317"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1294744843-1066725029=:317
Content-Type: text/plain; charset=us-ascii

Hi all,
For my job, in indexing stage, I would like to keep stop words such as the, with, of, by, etc as normal words. I did this by instantiating a standardAnalyzer object (in INdexHTML program) with an empty stopword array. But it seems to me that the IndexHTML still sweeps off the stop words. Any help, please.
 
Thanks
 
T Le



---------------------------------
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
--0-1294744843-1066725029=:317--

From MAILER-DAEMON Tue Oct 21 09:44:33 2003
Return-Path: 
 <lucene-user-return-5712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61134 invoked from network); 21 Oct 2003 09:44:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 09:44:33 -0000
Received: (qmail 44242 invoked by uid 500); 21 Oct 2003 09:44:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44211 invoked by uid 500); 21 Oct 2003 09:44:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44198 invoked from network); 21 Oct 2003 09:44:01 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 21 Oct 2003 09:44:01 -0000
Message-ID: <20031021094415.8947.qmail@web12703.mail.yahoo.com>
Received: from [194.152.209.243] by web12703.mail.yahoo.com via HTTP;
 Tue, 21 Oct 2003 02:44:15 PDT
Date: Tue, 21 Oct 2003 02:44:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene on Windows
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <003c01c397a4$3c0a6210$c300000a@caliente>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A very rough and simple 'add a single document to the index' test shows
that the Compound Index is marginally slower than the traditional one.
I did not test searching.

Otis

--- Eric Jain <Eric.Jain@isb-sib.ch> wrote:
> > The CVS version of Lucene has a patch that allows one to use a
> > 'Compound Index' instead of the traditional one.  This reduces the
> > number of open files.  For more info, see/make the Javadocs for
> > IndexWriter.
> 
> Interesting option. Do you have a rough idea of what the performance
> impact of using this setting is?
> 
> --
> Eric Jain
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 12:40:43 2003
Return-Path: 
 <lucene-user-return-5713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49077 invoked from network); 21 Oct 2003 12:40:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 12:40:43 -0000
Received: (qmail 53254 invoked by uid 500); 21 Oct 2003 12:40:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53039 invoked by uid 500); 21 Oct 2003 12:40:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53026 invoked from network); 21 Oct 2003 12:40:35 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 21 Oct 2003 12:40:35 -0000
Received: (cpmta 17732 invoked from network); 21 Oct 2003 05:40:33 -0700
Received: from 128.143.104.51 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 21 Oct 2003 05:40:33 -0700
X-Sent: 21 Oct 2003 12:40:33 GMT
Date: Tue, 21 Oct 2003 08:40:31 -0400
Subject: Re: positional token info
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F94E1EE.10307@culture.gouv.fr>
Message-Id: <C1C7A158-03C3-11D8-AB2D-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 21, 2003, at 03:36  AM, Pierrick Brihaye wrote:
> The basic idea is to have several tokens at the same position (i.e. 
> setPositionIncrement(0)) which are different possible stems for the 
> same word.

Right.  Like I said, I recognize the benefits of using a position 
increment of 0.

>> I certainly see the benefit of putting tokens into zero-increment 
>> positions, but are increments of 2 or more at all useful?
>
> Who knows ? I may be interesting  to keep track of the *presence* of 
> "empty words", e.g. "[the] sky [is] blue", "[the] sky [is] [really] 
> blue", "[the] sky [is] [that] [really] blue". The traditionnal 
> reduction to "sky blue" is maybe over-simplistic for some cases...

But, how would you actually *use* an index that was indexed with the 
holes noted by > 1 position increments?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 14:47:01 2003
Return-Path: 
 <lucene-user-return-5714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40422 invoked from network); 21 Oct 2003 14:47:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 14:47:01 -0000
Received: (qmail 23941 invoked by uid 500); 21 Oct 2003 14:46:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23898 invoked by uid 500); 21 Oct 2003 14:46:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23837 invoked from network); 21 Oct 2003 14:46:43 -0000
Received: from unknown (HELO mailer.syr.edu) (128.230.18.29)
  by daedalus.apache.org with SMTP; 21 Oct 2003 14:46:43 -0000
Received: from gwmail.syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP
 for Windows NT v1.1b) with SMTP id <0.09D5ACD3@mailer.syr.edu>;
 Tue, 21 Oct 2003 10:46:32 -0400
Message-ID: <3F9546C7.90701@gwmail.syr.edu>
Date: Tue, 21 Oct 2003 10:46:31 -0400
From: Steve Rowe <sarowe@gwmail.syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: positional token info
References: <C1C7A158-03C3-11D8-AB2D-000393A564E6@ehatchersolutions.com>
In-Reply-To: <C1C7A158-03C3-11D8-AB2D-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I've submitted a patch (BUG# 23730) very similar to yours, in response 
to a request to fix phrases matching where they should not:

<URL:http://mail-archive.com/lucene-user@jakarta.apache.org/msg04349.html>

Bug #23730:
<URL:http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23730>

 > But, how would you actually *use* an index that was indexed with the
 > holes noted by > 1 position increments?

As the lucene-user email linked above notes, setting the position 
increment interdicts false phrase matching.

Steve Rowe

Erik Hatcher wrote:
> On Tuesday, October 21, 2003, at 03:36  AM, Pierrick Brihaye wrote:
> 
>> The basic idea is to have several tokens at the same position (i.e. 
>> setPositionIncrement(0)) which are different possible stems for the 
>> same word.
> 
> 
> Right.  Like I said, I recognize the benefits of using a position 
> increment of 0.
> 
>>> I certainly see the benefit of putting tokens into zero-increment 
>>> positions, but are increments of 2 or more at all useful?
>>
>>
>> Who knows ? I may be interesting  to keep track of the *presence* of 
>> "empty words", e.g. "[the] sky [is] blue", "[the] sky [is] [really] 
>> blue", "[the] sky [is] [that] [really] blue". The traditionnal 
>> reduction to "sky blue" is maybe over-simplistic for some cases...
> 
> 
> But, how would you actually *use* an index that was indexed with the 
> holes noted by > 1 position increments?
> 
>     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 15:34:56 2003
Return-Path: 
 <lucene-user-return-5715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88213 invoked from network); 21 Oct 2003 15:34:56 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 15:34:56 -0000
Received: (qmail 46789 invoked by uid 500); 21 Oct 2003 15:34:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46759 invoked by uid 500); 21 Oct 2003 15:34:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46746 invoked from network); 21 Oct 2003 15:34:45 -0000
Received: from unknown (HELO mxsf17.cluster1.charter.net) (209.225.28.217)
  by daedalus.apache.org with SMTP; 21 Oct 2003 15:34:45 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf17.cluster1.charter.net (8.12.9/8.12.8) with SMTP id h9LFYYxF011453
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 11:34:34 -0400 (EDT)
	(envelope-from peter.keegan@charter.net)
Message-ID: <008e01c397e8$cf49e840$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <DE9DE1DE-031A-11D8-A7B0-000393A564E6@ehatchersolutions.com>
 <200310201824.29368.tatu@hypermall.net>
Subject: Re: Hierarchical document
Date: Tue, 21 Oct 2003 11:34:20 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

One way to implement hierarchical documents is through the use of
predefined phrases. Consider the 2 hierarchies:

1. Kids_and_Teens/Computers/Software/Games
2. Computers/Software/Freeware

When indexing a document belonging to (1), add these terms in consecutive
order (autoincrement=1): "dir:Top dir:Kids_and_Teens dir:Computers
dir:Software dir:Games dir:Bottom"

For documents belonging to (2), add: "dir:Top dir:Computers dir:Software
dir:Bottom"

The terms "dir:Top" and "dir:Bottom" can be used to anchor a query
to a specific portion of the hierachy.

Thus, a query containing the phrase: "dir:Computers dir:Software" would
match documents in both (1) and (2) (and perhaps others), but a query for:
"dir:Top dir:Kids_and_Teens dir:Computers dir:Software" would target only
'Computer/Software' documents from the 'Kids_and_Teens' top level directory.
(The QueryPhrase 'slop factor' would be set to 0).

Peter

----- Original Message ----- 
From: "Tatu Saloranta" <tatu@hypermall.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, October 20, 2003 8:24 PM
Subject: Re: Hierarchical document


> On Monday 20 October 2003 10:31, Erik Hatcher wrote:
> > On Monday, October 20, 2003, at 11:06  AM, Tom Howe wrote:
> > There is not a more "lucene" way to do this - its really up to you to
> > be creative with this.  I'm sure there are folks that have implemented
> > something along these lines on top of Lucene.  In fact, I have a
> > particular interest in doing so at some point myself.  This is very
> > similar to the object-relational issues surrounding relational
> > databases - turning a pretty flat structure into an object graph.
> > There are several ideas that could be explored by playing tricks with
> > fields, such as giving them a hierarchical naming structure and
> > querying at the level you like (think Field.Keyword and PrefixQuery,
> > for example), and using a field to indicate type and narrowing queries
> > to documents of the desired type.
> >
> > I'm interested to see what others have done in this area, or what ideas
> > emerge about how to accomplish this.
>
> I'm planning to do something similar. In my case problem is bit simpler;
> documents have associated products, and products form a hierarchy.
> Searches should be able to match not only direct matches (searching
> product, article associated with product), but also indirect ones via
> membership (product member of a product group, matching group).
> Product hierarchy also has variable depth.
>
> To do searches using non-leaf hierarchy items (groups), all actual product
> items/groups associated with docs are expanded to full ids when
> indexing (ie. they contain path from root, up to and including node,
> each node component having its own unique id).
> Thus, when searching for an intermediate node (product grouping),
> match occurs since that node id is part of path to products that are in
> the group (either directly or as members of sub-groups).
>
> Since no such path is stored (directly) in database, this also allows me
to do
> queries that would be impossible to do in database (I could add similar
> path/full id fields for search purposes of course). Thus, Lucene index is
> optimized for searching purposes, and database structure for editing
> and retrieval of data.
>
> Another thing to keep in mind is that at least for metadata it may make
sense
> to use specialized analyzer, one that allows tokenizing using specific ids
> to store ids as separate tokens; instead of using some standard plain text
> analyzer. This way it is possible to separate ids from textual words (by
> using prefixes, for example, "@1253" or "#13945"); this allows for
accurate
> matching based on identity of associated metadata selections.
>
> -+ Tatu +-
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 15:58:13 2003
Return-Path: 
 <lucene-user-return-5716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7644 invoked from network); 21 Oct 2003 15:58:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 15:58:13 -0000
Received: (qmail 24126 invoked by uid 500); 21 Oct 2003 15:58:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23871 invoked by uid 500); 21 Oct 2003 15:58:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23857 invoked from network); 21 Oct 2003 15:58:01 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 21 Oct 2003 15:58:01 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id SAA28426
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 18:00:46 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id SAA28417
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 18:00:46 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id SAA09199
        for <lucene-user@jakarta.apache.org>;
 Tue, 21 Oct 2003 18:00:05 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2657.72)
	id <VFQD5Z06>; Tue, 21 Oct 2003 17:58:42 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA61@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Expression Extractions
Date: Tue, 21 Oct 2003 17:58:37 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C397EB.FB3139D3"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C397EB.FB3139D3
Content-Type: text/plain;
	charset="iso-8859-1"

I've found something about expression extractions (the ability , when a word
and another appear frequently side-by-side, to detect that they form an
expression) : http://www.miv.t.u-tokyo.ac.jp/papers/matsuoFLAIRS03.pdf

Gilles Moyse

------_=_NextPart_001_01C397EB.FB3139D3--

From MAILER-DAEMON Tue Oct 21 16:37:41 2003
Return-Path: 
 <lucene-user-return-5717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41022 invoked from network); 21 Oct 2003 16:37:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 16:37:41 -0000
Received: (qmail 17274 invoked by uid 500); 21 Oct 2003 16:37:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17245 invoked by uid 500); 21 Oct 2003 16:37:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17231 invoked from network); 21 Oct 2003 16:37:28 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 21 Oct 2003 16:37:28 -0000
Received: (qmail 1529 invoked from network); 21 Oct 2003 16:37:30 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 21 Oct 2003 16:37:30 -0000
Message-ID: <3F9560C7.1040807@lucene.com>
Date: Tue, 21 Oct 2003 09:37:27 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene on Windows
References: <5C7A32E240A279479DFF44FDF01BBE62875E52@sgges01.nstein.com>
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE62875E52@sgges01.nstein.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tate Avery wrote:
> You might have trouble with "too many open files" if you set your mergeFactor too high.  For example, on my Win2k, I can go up to mergeFactor=300 (or so).  At 400 I get a too many open files error.  Note: the default mergeFactor of 10 should give no trouble.

Please note that it is never recommended that you set mergeFactor 
anywhere near this high.  I don't know why folks do this.  It really 
doesn't make indexing much faster, and it makes searching slower if you 
don't optimize.  It's a bad idea.  The default setting of 10 works 
pretty well.  I've also had good experience setting it as high as 50 on 
big batch indexing runs, but do not recommend setting it much higher 
than that.  Even then, this can cause problems if you need to use 
several indexes at once, or you have lots of fields.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 17:04:09 2003
Return-Path: 
 <lucene-user-return-5719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58093 invoked from network); 21 Oct 2003 17:04:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 17:04:09 -0000
Received: (qmail 62796 invoked by uid 500); 21 Oct 2003 17:03:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62617 invoked by uid 500); 21 Oct 2003 17:03:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62604 invoked from network); 21 Oct 2003 17:03:56 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.232)
  by daedalus.apache.org with SMTP; 21 Oct 2003 17:03:56 -0000
Received: (qmail 8234 invoked from network); 21 Oct 2003 16:53:57 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 21 Oct 2003 16:53:57 -0000
Message-ID: <3F9564A3.7080102@lucene.com>
Date: Tue, 21 Oct 2003 09:53:55 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: positional token info
References: <1F79921E-0364-11D8-AF07-000393A564E6@ehatchersolutions.com>
In-Reply-To: <1F79921E-0364-11D8-AF07-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Just for fun, I've written a simple stop filter that bumps the position 
> increments to account for the stop words removed:
> 
> But its practically impossible to formulate a Query that can take 
> advantage of this.  A PhraseQuery, because Terms don't have positional 
> info (only the transient tokens), only works using a slop factor which 
> doesn't guarantee an exact match like I'm after.  A PhrasePrefixQuery 
> won't work any better as there is no way to add in a "blank" term to 
> indicate a missing position.

The PhraseQuery code predates the setPositionIncrement feature.

You can use your filter to find phrases that don't contain stop words, 
e.g., when your filter is used, a query for the phrase "phone boy" won't 
match "phone the boy", as it would with the normal stop filter, but a 
query for "phone the boy" would also only match "phone boy".

One workaround is to simply not use a stop list.  Then "phone boy" will 
only match "phone boy", and "phone the boy" will only match "phone the 
boy", and not "phone a boy" too.  One can write a query parser which 
removes stop words unless they're in phrases.  This is what Nutch and 
Google do.

If however you want "phone the boy" to match "phone X boy" where X is 
any word, then PhraseQuery would have to be extended.  It's actually a 
pretty simple extension.  Each term in a PhraseQuery corresponds to a 
PhrasePositions object.  The 'offset' field within this is the position 
of the term in the phrase.  If you construct the phrase positions for a 
two-term phrase so that the first has offset=0 and the second offset=2, 
then you'll get this sort of matching.  So all that's needed is a new 
method PhraseQuery.add(Term term, int offset), and for these offsets to 
be stored so that they can be used when building PhrasePositions.  Would 
this be a useful feature?

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 16:56:51 2003
Return-Path: 
 <lucene-user-return-5718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53972 invoked from network); 21 Oct 2003 16:56:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 16:56:51 -0000
Received: (qmail 54014 invoked by uid 500); 21 Oct 2003 16:56:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53982 invoked by uid 500); 21 Oct 2003 16:56:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53968 invoked from network); 21 Oct 2003 16:56:37 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.83)
  by daedalus.apache.org with SMTP; 21 Oct 2003 16:56:37 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id h9LH04bo002551
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 10:00:04 -0700 (PDT)
Received: from mac.com (adsl-62-167-67-137.adslplus.ch [62.167.67.137])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9LGuHbn018678
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 09:56:29 -0700 (PDT)
Date: Tue, 21 Oct 2003 18:56:29 +0200
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Weird NPE in RAMInputStream when merging indices
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <841B770F-03E7-11D8-8979-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

What could cause such weird exception?

RAMInputStream.<init>: java.lang.NullPointerException
java.lang.NullPointerException
at org.apache.lucene.store.RAMInputStream.<init>(RAMDirectory.java:217)
at org.apache.lucene.store.RAMDirectory.openFile(RAMDirectory.java:182)
at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:116)
at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:378)
at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:298)
at org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:313)

I don't know if this is a one off as I cannot reproduce this problem 
nor I have seen this before, but I thought I could as well ask.

This is triggered by merging a RAMDirectory into a FSDirectory. Looking 
at the RAMDirectory source code, this exception seems to indicate that 
the file argument to the RAMInputStream constructor is null... how 
could that ever happen?

Here is the code which triggers this weirdness:

     this.writer().addIndexes( new Directory[] { aRamDirectory } );

The RAM writer is checked before invoking this code to make sure there 
is some content in the RAM directory:

     aRamWriter.docCount() > 0

This has been working very reliably since the dawn of time, so I'm a 
little bit at loss as how to diagnose this weird exception...

Any ideas?

Thanks.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 17:57:13 2003
Return-Path: 
 <lucene-user-return-5720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88502 invoked from network); 21 Oct 2003 17:57:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 17:57:13 -0000
Received: (qmail 74971 invoked by uid 500); 21 Oct 2003 17:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74941 invoked by uid 500); 21 Oct 2003 17:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74890 invoked from network); 21 Oct 2003 17:51:23 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 21 Oct 2003 17:51:23 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene on Windows
Date: Tue, 21 Oct 2003 13:49:02 -0400
Message-ID: <5C7A32E240A279479DFF44FDF01BBE6278B292@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene on Windows
Thread-Index: AcOX8Up0WckkRN5lSkyzpxLmN+/2RwACTaRw
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug,

Re: high merge factor.  I was building test indexes and writing out 300 =
segments of 300 docs and merging them every 90,000 kept the 'merging' =
time down to a minimum (for my slowish HD).

I was assuming that 11 of these large merges during the indexing of =
1,000,000 docs (plus a final optimize) would be faster than 10,000 =
little merges if the mergeFactor was set to 10 (for the same corpus).

Maybe this is not the case.




Tate


-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: October 21, 2003 12:37 PM
To: Lucene Users List
Subject: Re: Lucene on Windows


Tate Avery wrote:
> You might have trouble with "too many open files" if you set your =
mergeFactor too high.  For example, on my Win2k, I can go up to =
mergeFactor=3D300 (or so).  At 400 I get a too many open files error.  =
Note: the default mergeFactor of 10 should give no trouble.

Please note that it is never recommended that you set mergeFactor=20
anywhere near this high.  I don't know why folks do this.  It really=20
doesn't make indexing much faster, and it makes searching slower if you=20
don't optimize.  It's a bad idea.  The default setting of 10 works=20
pretty well.  I've also had good experience setting it as high as 50 on=20
big batch indexing runs, but do not recommend setting it much higher=20
than that.  Even then, this can cause problems if you need to use=20
several indexes at once, or you have lots of fields.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 21:39:07 2003
Return-Path: 
 <lucene-user-return-5721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46796 invoked from network); 21 Oct 2003 21:39:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 21:39:07 -0000
Received: (qmail 60157 invoked by uid 500); 21 Oct 2003 21:38:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60128 invoked by uid 500); 21 Oct 2003 21:38:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60109 invoked from network); 21 Oct 2003 21:38:48 -0000
Received: from unknown (HELO precieuse.cirano.qc.ca) (207.162.57.25)
  by daedalus.apache.org with SMTP; 21 Oct 2003 21:38:48 -0000
Received: from savinien.cirano.qc.ca (savinien.cirano.qc.ca [207.162.57.133])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id h9LLcsW09463
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 17:38:54 -0400
Received: from localhost (vauchers@localhost)
	by savinien.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id h9LLcrs22248
	for <lucene-user@jakarta.apache.org>; Tue, 21 Oct 2003 17:38:53 -0400
Date: Tue, 21 Oct 2003 17:38:53 -0400 (EDT)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Lucene on Windows
In-Reply-To: <5C7A32E240A279479DFF44FDF01BBE6278B292@sgges01.nstein.com>
Message-ID: <Pine.LNX.4.44.0310211730510.22244-100000@savinien.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Tate (didn't know you were lurking on the list),

I've found that it's often not very clear what truly affects performance. 
Doing batch indexes with  a data set of 250,000 docs (with 10 fields each) 
on a machine with 2 Gbytes of 400 DDR RAM, I've tested a few merge factors 
to discover that it seemed optimal at 50 and even then, performance wasn't 
much better than with a MF of 20. Nowadays, there can be so many hidden 
optimisations by HDs and OSs, that it's often worth testing with each 
configuration used.

sv

On Tue, 21 Oct 2003, Tate Avery wrote:

> Doug,
> 
> Re: high merge factor.  I was building test indexes and writing out 300 segments of 300 docs and merging them every 90,000 kept the 'merging' time down to a minimum (for my slowish HD).
> 
> I was assuming that 11 of these large merges during the indexing of 1,000,000 docs (plus a final optimize) would be faster than 10,000 little merges if the mergeFactor was set to 10 (for the same corpus).
> 
> Maybe this is not the case.
> 
> 
> 
> 
> Tate
> 
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: October 21, 2003 12:37 PM
> To: Lucene Users List
> Subject: Re: Lucene on Windows
> 
> 
> Tate Avery wrote:
> > You might have trouble with "too many open files" if you set your mergeFactor too high.  For example, on my Win2k, I can go up to mergeFactor=300 (or so).  At 400 I get a too many open files error.  Note: the default mergeFactor of 10 should give no trouble.
> 
> Please note that it is never recommended that you set mergeFactor 
> anywhere near this high.  I don't know why folks do this.  It really 
> doesn't make indexing much faster, and it makes searching slower if you 
> don't optimize.  It's a bad idea.  The default setting of 10 works 
> pretty well.  I've also had good experience setting it as high as 50 on 
> big batch indexing runs, but do not recommend setting it much higher 
> than that.  Even then, this can cause problems if you need to use 
> several indexes at once, or you have lots of fields.
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 22:45:14 2003
Return-Path: 
 <lucene-user-return-5722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85780 invoked from network); 21 Oct 2003 22:45:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 22:45:14 -0000
Received: (qmail 27932 invoked by uid 500); 21 Oct 2003 22:44:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27851 invoked by uid 500); 21 Oct 2003 22:44:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27780 invoked from network); 21 Oct 2003 22:44:17 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 21 Oct 2003 22:44:17 -0000
Message-ID: <20031021224425.50462.qmail@web12707.mail.yahoo.com>
Received: from [195.29.55.97] by web12707.mail.yahoo.com via HTTP;
 Tue, 21 Oct 2003 15:44:25 PDT
Date: Tue, 21 Oct 2003 15:44:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: positional token info
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F9564A3.7080102@lucene.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think "phone the boy" query should match exactly that, and not "phone
X boy", nor "phone boy".  To me, entering a query as a phrase query
means that the user wants to find documents with _exactly_ that
sequence of terms.

If you know that your users will be entering phrases with stop words,
then stop words should not be thrown out before indexing.

If users are really interested in terms "phone" and "boy", they should
use +phone +boy.

If they are okay with finding documents that contain the term "phone"
followed by the term "boy", even if "boy" is not the very next term
after "phone", they can use the slop factor options.

If I understand http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23730
correctly, the included patch ensures that "phone boy" does not match
"phone the boy", but I am not sure about the other way around.

Otis



--- Doug Cutting <cutting@lucene.com> wrote:
> Erik Hatcher wrote:
> > Just for fun, I've written a simple stop filter that bumps the
> position 
> > increments to account for the stop words removed:
> > 
> > But its practically impossible to formulate a Query that can take 
> > advantage of this.  A PhraseQuery, because Terms don't have
> positional 
> > info (only the transient tokens), only works using a slop factor
> which 
> > doesn't guarantee an exact match like I'm after.  A
> PhrasePrefixQuery 
> > won't work any better as there is no way to add in a "blank" term
> to 
> > indicate a missing position.
> 
> The PhraseQuery code predates the setPositionIncrement feature.
> 
> You can use your filter to find phrases that don't contain stop
> words, 
> e.g., when your filter is used, a query for the phrase "phone boy"
> won't 
> match "phone the boy", as it would with the normal stop filter, but a
> 
> query for "phone the boy" would also only match "phone boy".
> 
> One workaround is to simply not use a stop list.  Then "phone boy"
> will 
> only match "phone boy", and "phone the boy" will only match "phone
> the 
> boy", and not "phone a boy" too.  One can write a query parser which 
> removes stop words unless they're in phrases.  This is what Nutch and
> 
> Google do.
> 
> If however you want "phone the boy" to match "phone X boy" where X is
> 
> any word, then PhraseQuery would have to be extended.  It's actually
> a 
> pretty simple extension.  Each term in a PhraseQuery corresponds to a
> 
> PhrasePositions object.  The 'offset' field within this is the
> position 
> of the term in the phrase.  If you construct the phrase positions for
> a 
> two-term phrase so that the first has offset=0 and the second
> offset=2, 
> then you'll get this sort of matching.  So all that's needed is a new
> 
> method PhraseQuery.add(Term term, int offset), and for these offsets
> to 
> be stored so that they can be used when building PhrasePositions. 
> Would 
> this be a useful feature?
> 
> Doug
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 23:19:54 2003
Return-Path: 
 <lucene-user-return-5723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7185 invoked from network); 21 Oct 2003 23:19:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 23:19:54 -0000
Received: (qmail 59710 invoked by uid 500); 21 Oct 2003 23:19:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59378 invoked by uid 500); 21 Oct 2003 23:19:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59365 invoked from network); 21 Oct 2003 23:19:34 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 21 Oct 2003 23:19:34 -0000
Received: (cpmta 29570 invoked from network); 21 Oct 2003 16:19:41 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 21 Oct 2003 16:19:41 -0700
X-Sent: 21 Oct 2003 23:19:41 GMT
Date: Tue, 21 Oct 2003 19:19:40 -0400
Subject: Re: positional token info
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F9564A3.7080102@lucene.com>
Message-Id: <0B8B04C2-041D-11D8-9D05-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 21, 2003, at 12:53  PM, Doug Cutting wrote:
> If however you want "phone the boy" to match "phone X boy" where X is 
> any word, then PhraseQuery would have to be extended.  It's actually a 
> pretty simple extension.  Each term in a PhraseQuery corresponds to a 
> PhrasePositions object.  The 'offset' field within this is the 
> position of the term in the phrase.  If you construct the phrase 
> positions for a two-term phrase so that the first has offset=0 and the 
> second offset=2, then you'll get this sort of matching.  So all that's 
> needed is a new method PhraseQuery.add(Term term, int offset), and for 
> these offsets to be stored so that they can be used when building 
> PhrasePositions.  Would this be a useful feature?

My questions were really from an academic understanding nature about 
position increments and how it related to searching.  I definitely 
agree (and who could argue?) with Nutch and Google!  Removing stop 
words is not a good thing, but smart handling of pervasive terms is 
important as you have implemented in Nutch when not doing phrase 
queries and how the bi-gram stuff works.

It does seem handy to avoid exact phrase matches on "phone boy" when a 
stop word is removed though, so patching StopFilter to put in the 
missing positions seems reasonable to me currently.  Any objections to 
that?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 21 23:31:13 2003
Return-Path: 
 <lucene-user-return-5724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14558 invoked from network); 21 Oct 2003 23:31:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 21 Oct 2003 23:31:13 -0000
Received: (qmail 71834 invoked by uid 500); 21 Oct 2003 23:30:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71629 invoked by uid 500); 21 Oct 2003 23:30:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71616 invoked from network); 21 Oct 2003 23:30:53 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 21 Oct 2003 23:30:53 -0000
Message-ID: <20031021233101.92517.qmail@web12708.mail.yahoo.com>
Received: from [195.29.55.97] by web12708.mail.yahoo.com via HTTP;
 Tue, 21 Oct 2003 16:31:01 PDT
Date: Tue, 21 Oct 2003 16:31:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: positional token info
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <0B8B04C2-041D-11D8-9D05-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> It does seem handy to avoid exact phrase matches on "phone boy" when
> a 
> stop word is removed though, so patching StopFilter to put in the 
> missing positions seems reasonable to me currently.  Any objections
> to that?

So "phone boy" would match documents containing "phone the boy"?  That
doesn't sound right to me, as it assumes what the user is trying to do.
 Wouldn't it be better to allow the user to decide what he wants?
(i.e. "phone boy" returns documents with that _exact_ phrase.  "phone
boy"~2 also returns documents containing "phone the boy").

Sorry if I'm misunderstanding something, long day, plus 1:30 AM.

Otis


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 00:32:22 2003
Return-Path: 
 <lucene-user-return-5725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35224 invoked from network); 22 Oct 2003 00:32:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 00:32:22 -0000
Received: (qmail 29105 invoked by uid 500); 22 Oct 2003 00:32:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28902 invoked by uid 500); 22 Oct 2003 00:32:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28889 invoked from network); 22 Oct 2003 00:32:01 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 22 Oct 2003 00:32:01 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72]
 helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 1AC6v3-0007KZ-BZ
	for lucene-user@jakarta.apache.org; Tue, 21 Oct 2003 18:32:09 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: positional token info
Date: Tue, 21 Oct 2003 18:35:02 -0600
User-Agent: KMail/1.4.3
References: <20031021233101.92517.qmail@web12708.mail.yahoo.com>
In-Reply-To: <20031021233101.92517.qmail@web12708.mail.yahoo.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200310211835.02174.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 21 October 2003 17:31, Otis Gospodnetic wrote:
> > It does seem handy to avoid exact phrase matches on "phone boy" when
> > a
> > stop word is removed though, so patching StopFilter to put in the
> > missing positions seems reasonable to me currently.  Any objections
> > to that?
>
> So "phone boy" would match documents containing "phone the boy"?  That

Hmmh. WWGD (What Would Google Do)? :-)

> doesn't sound right to me, as it assumes what the user is trying to do.
>  Wouldn't it be better to allow the user to decide what he wants?
> (i.e. "phone boy" returns documents with that _exact_ phrase.  "phone
> boy"~2 also returns documents containing "phone the boy").

As long as phrase queries work appropriately with approximity modifiers, one
alternative (from app standpoint) would be to:

(a) Tokenize stopwords out, adding skip value; either one per stop word,
  or one for non-empty sequence of key words ( "top of the world" might
 make sense to tokenize as "top - world", "-" signifying 'hole')
(b) With phrase queries, first do exact match.
(c) If number of matches is "too low" (whatever definition of low is),
  use phrase query match with slop of 2 instead.

Tricky part would be to do the same for combination queries, where it's
not easy to check matches for individual query components.

Perhaps it'd be possible to create Yet Another Query object, that would,
given a threshold, do one or two searches (as described above), to allow
for self-adjusting behaviour?
Or, perhaps there should be container query, that could execute ordered
sequence of sub-queries, until one returns "good enough" set of matches, then
return that set (or last result(s), if no good matches) and above-mentioned 
"sloppy if need be" phrase query would just be  a special case?

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 09:06:16 2003
Return-Path: 
 <lucene-user-return-5726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9767 invoked from network); 22 Oct 2003 09:06:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 09:06:16 -0000
Received: (qmail 4771 invoked by uid 500); 22 Oct 2003 09:05:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4740 invoked by uid 500); 22 Oct 2003 09:05:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4682 invoked from network); 22 Oct 2003 09:05:34 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 22 Oct 2003 09:05:34 -0000
Received: (cpmta 28724 invoked from network); 22 Oct 2003 02:05:47 -0700
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 22 Oct 2003 02:05:47 -0700
X-Sent: 22 Oct 2003 09:05:47 GMT
Date: Wed, 22 Oct 2003 05:05:46 -0400
Subject: Re: positional token info
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031021233101.92517.qmail@web12708.mail.yahoo.com>
Message-Id: <EC97D4D3-046E-11D8-9D05-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 21, 2003, at 07:31  PM, Otis Gospodnetic wrote:
> So "phone boy" would match documents containing "phone the boy"?  That
> doesn't sound right to me, as it assumes what the user is trying to do.

That is correct.... currently a match would be found.  Here's a little 
test case I'm working with:

     Directory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new 
StandardAnalyzer(), true);
     Document doc = new Document();
     doc.add(Field.Text("contents", "The quick brown fox jumped over the 
lazy dogs"));
     writer.addDocument(doc);
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     QueryParser parser = new QueryParser("contents", new 
StandardAnalyzer());
     Query query = parser.parse("\"over lazy\"");

     Hits hits = searcher.search(query);
     assertEquals(1, hits.length());

which currently passes.... although should not I don't think.

>  Wouldn't it be better to allow the user to decide what he wants?
> (i.e. "phone boy" returns documents with that _exact_ phrase.  "phone
> boy"~2 also returns documents containing "phone the boy").

I concur.  StopFilter just removes terms, but does not adjust the 
following acceptable term with the offset to account for the missing 
stop words.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:04:53 2003
Return-Path: 
 <lucene-user-return-5727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5133 invoked from network); 22 Oct 2003 16:04:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:04:53 -0000
Received: (qmail 13134 invoked by uid 500); 22 Oct 2003 16:04:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13088 invoked by uid 500); 22 Oct 2003 16:04:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13074 invoked from network); 22 Oct 2003 16:04:40 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:04:40 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h9MFplZS020361
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:03:26 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Wed, 22 Oct 2003 09:04:58 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 22 Oct 2003 09:04:41 -0700
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Exact Match
Date: Wed, 22 Oct 2003 09:04:40 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D53@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Match
Thread-Index: AcOYfB8rGqv8Qk41RumdrOpOSh+yQgAOZ7sg
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 22 Oct 2003 16:04:41.0222 (UTC)
 FILETIME=[33835260:01C398B6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does Lucene support exact matching on a tokenized field?

So for example... if I add these three phrases to the index:
- "The quick brown fox"
- "The quick brown fox jumped"
- "brown fox"

I want to be able to do an exact field match so when I search for "brown
fox" I only get the last one returned.  I can do this in my own code by
storing the data and then comparing it to the search phrase.  Is that
the best way of doing this?

Thanks,
Reece



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:07:06 2003
Return-Path: 
 <lucene-user-return-5728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6531 invoked from network); 22 Oct 2003 16:07:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:07:06 -0000
Received: (qmail 16923 invoked by uid 500); 22 Oct 2003 16:06:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16707 invoked by uid 500); 22 Oct 2003 16:06:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16693 invoked from network); 22 Oct 2003 16:06:55 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:06:55 -0000
Message-ID: <20031022160656.85205.qmail@web12703.mail.yahoo.com>
Received: from [194.152.224.89] by web12703.mail.yahoo.com via HTTP;
 Wed, 22 Oct 2003 09:06:56 PDT
Date: Wed, 22 Oct 2003 09:06:56 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Weird NPE in RAMInputStream when merging indices
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <841B770F-03E7-11D8-8979-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hm, beat me.
The code in question seems to be:

  public RAMInputStream(RAMFile f) {
    file = f;
    length = file.length;
  }

...which is called from:

  /** Returns a stream reading an existing file. */
  public final InputStream openFile(String name) {
    RAMFile file = (RAMFile)files.get(name);
    return new RAMInputStream(file);
  }

Since 'files' is a Hashtable, neither the key nor the value (file) can
be null, even though the NPE in RAMInputStream constructor implies that
file was null.

Otis


--- petite_abeille <petite_abeille@mac.com> wrote:
> Hello,
> 
> What could cause such weird exception?
> 
> RAMInputStream.<init>: java.lang.NullPointerException
> java.lang.NullPointerException
> at
> org.apache.lucene.store.RAMInputStream.<init>(RAMDirectory.java:217)
> at
> org.apache.lucene.store.RAMDirectory.openFile(RAMDirectory.java:182)
> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
> at
> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:116)
> at 
>
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:378)
> at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:298)
> at
> org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:313)
> 
> I don't know if this is a one off as I cannot reproduce this problem 
> nor I have seen this before, but I thought I could as well ask.
> 
> This is triggered by merging a RAMDirectory into a FSDirectory.
> Looking 
> at the RAMDirectory source code, this exception seems to indicate
> that 
> the file argument to the RAMInputStream constructor is null... how 
> could that ever happen?
> 
> Here is the code which triggers this weirdness:
> 
>      this.writer().addIndexes( new Directory[] { aRamDirectory } );
> 
> The RAM writer is checked before invoking this code to make sure
> there 
> is some content in the RAM directory:
> 
>      aRamWriter.docCount() > 0
> 
> This has been working very reliably since the dawn of time, so I'm a 
> little bit at loss as how to diagnose this weird exception...
> 
> Any ideas?
> 
> Thanks.
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:12:09 2003
Return-Path: 
 <lucene-user-return-5729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9462 invoked from network); 22 Oct 2003 16:12:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:12:09 -0000
Received: (qmail 27641 invoked by uid 500); 22 Oct 2003 16:11:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27618 invoked by uid 500); 22 Oct 2003 16:11:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27600 invoked from network); 22 Oct 2003 16:11:57 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:11:57 -0000
Message-ID: <20031022161200.88002.qmail@web12703.mail.yahoo.com>
Received: from [194.152.224.89] by web12703.mail.yahoo.com via HTTP;
 Wed, 22 Oct 2003 09:12:00 PDT
Date: Wed, 22 Oct 2003 09:12:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Exact Match
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7D53@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no direct support for that.  However, if one of your documents
contains _only_: "brown fox", won't a search for "brown fox" give that
document the highest score, as it is the closest match, allowing you to
just pop the first hit?  It's no guarantee that the first hit is the
exact match (what if there are no exact matches in the index), but
that's a simple check to perform in your application.

Otis


--- "Wilton, Reece" <Reece.Wilton@dig.com> wrote:
> Hi,
> 
> Does Lucene support exact matching on a tokenized field?
> 
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
> 
> I want to be able to do an exact field match so when I search for
> "brown
> fox" I only get the last one returned.  I can do this in my own code
> by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?
> 
> Thanks,
> Reece
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:14:08 2003
Return-Path: 
 <lucene-user-return-5730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10677 invoked from network); 22 Oct 2003 16:14:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:14:08 -0000
Received: (qmail 35366 invoked by uid 500); 22 Oct 2003 16:13:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35297 invoked by uid 500); 22 Oct 2003 16:13:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35263 invoked from network); 22 Oct 2003 16:13:44 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:13:44 -0000
Received: (qmail 2545 invoked from network); 22 Oct 2003 16:13:47 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 22 Oct 2003 16:13:47 -0000
Message-ID: <3F96ACB1.3090302@lucene.com>
Date: Wed, 22 Oct 2003 09:13:37 -0700
From: Doug Cutting <cutting@lucene.com>
Reply-To: Lucene Developers List <lucene-dev@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Developers List <lucene-dev@jakarta.apache.org>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Subject: new release: 1.3 RC2
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A new Lucene release is available.

It can be downloaded from:

   http://cvs.apache.org/dist/jakarta/lucene/v1.3-rc2/

Release notes are at:

 
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.56

Enjoy!

Doug



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:15:35 2003
Return-Path: 
 <lucene-user-return-5731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11484 invoked from network); 22 Oct 2003 16:15:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:15:35 -0000
Received: (qmail 38165 invoked by uid 500); 22 Oct 2003 16:15:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38134 invoked by uid 500); 22 Oct 2003 16:15:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38119 invoked from network); 22 Oct 2003 16:15:22 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:15:22 -0000
Message-ID: <20031022161421.63942.qmail@web12705.mail.yahoo.com>
Received: from [194.152.224.89] by web12705.mail.yahoo.com via HTTP;
 Wed, 22 Oct 2003 09:14:21 PDT
Date: Wed, 22 Oct 2003 09:14:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: positional token info
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <EC97D4D3-046E-11D8-9D05-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Then we agree, and it is StopFilter that needs to be patched to take
into account the number of removed terms, and add appropriate
positional info to each term.

Otis

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Tuesday, October 21, 2003, at 07:31  PM, Otis Gospodnetic wrote:
> > So "phone boy" would match documents containing "phone the boy"? 
> That
> > doesn't sound right to me, as it assumes what the user is trying to
> do.
> 
> That is correct.... currently a match would be found.  Here's a
> little 
> test case I'm working with:
> 
>      Directory directory = new RAMDirectory();
>      IndexWriter writer = new IndexWriter(directory, new 
> StandardAnalyzer(), true);
>      Document doc = new Document();
>      doc.add(Field.Text("contents", "The quick brown fox jumped over
> the 
> lazy dogs"));
>      writer.addDocument(doc);
>      writer.close();
> 
>      IndexSearcher searcher = new IndexSearcher(directory);
>      QueryParser parser = new QueryParser("contents", new 
> StandardAnalyzer());
>      Query query = parser.parse("\"over lazy\"");
> 
>      Hits hits = searcher.search(query);
>      assertEquals(1, hits.length());
> 
> which currently passes.... although should not I don't think.
> 
> >  Wouldn't it be better to allow the user to decide what he wants?
> > (i.e. "phone boy" returns documents with that _exact_ phrase. 
> "phone
> > boy"~2 also returns documents containing "phone the boy").
> 
> I concur.  StopFilter just removes terms, but does not adjust the 
> following acceptable term with the offset to account for the missing 
> stop words.


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:17:07 2003
Return-Path: 
 <lucene-user-return-5732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12534 invoked from network); 22 Oct 2003 16:17:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:17:07 -0000
Received: (qmail 41067 invoked by uid 500); 22 Oct 2003 16:16:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41039 invoked by uid 500); 22 Oct 2003 16:16:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41026 invoked from network); 22 Oct 2003 16:16:55 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:16:55 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9MGGwT7026268
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:16:58 -0700 (PDT)
Received: from mac.com (adsl-62-167-32-15.adslplus.ch [62.167.32.15])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9MGGtbn018180
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:16:56 -0700 (PDT)
Date: Wed, 22 Oct 2003 18:17:09 +0200
Subject: Re: Weird NPE in RAMInputStream when merging indices
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031022160656.85205.qmail@web12703.mail.yahoo.com>
Message-Id: <2F93FA84-04AB-11D8-9B60-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis,

On Wednesday, Oct 22, 2003, at 18:06 Europe/Amsterdam, Otis Gospodnetic 
wrote:

> Since 'files' is a Hashtable, neither the key nor the value (file) can
> be null, even though the NPE in RAMInputStream constructor implies that
> file was null.

Yep... pretty weird... but looking at openFile(String name)... could it 
somehow be possible that the name is invalid for some reasons and 
therefore doesn't exists in the Hashtable? So files.get(name) would 
return null and new RAMInputStream(file) would then raise a NPE?

This would not explain why the name is invalid in the first place... 
but that could be a start for an investigation... what do you think?

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:22:06 2003
Return-Path: 
 <lucene-user-return-5733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15907 invoked from network); 22 Oct 2003 16:22:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:22:06 -0000
Received: (qmail 51376 invoked by uid 500); 22 Oct 2003 16:21:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51136 invoked by uid 500); 22 Oct 2003 16:21:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51123 invoked from network); 22 Oct 2003 16:21:53 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:21:53 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9MGLvT7028981
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:21:57 -0700 (PDT)
Received: from mac.com (adsl-62-167-32-15.adslplus.ch [62.167.32.15])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9MGLsbn020159
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:21:55 -0700 (PDT)
Date: Wed, 22 Oct 2003 18:22:10 +0200
Subject: Re: new release: 1.3 RC2
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F96ACB1.3090302@lucene.com>
Message-Id: <E3052C59-04AB-11D8-9B60-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

On Wednesday, Oct 22, 2003, at 18:13 Europe/Amsterdam, Doug Cutting 
wrote:

> A new Lucene release is available.

Very nice. Thanks :)

Quick question regarding release note number 11:

What's the difference between IndexWriter.addIndexes(IndexReader[]) and 
IndexWriter.addIndexes(Directory[]) beside the fact that one takes an 
array of IndexReader and the other an array of Directory? Any 
functional differences? Is one way recommended over the other?

Cheers,

PA.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:28:37 2003
Return-Path: 
 <lucene-user-return-5734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20636 invoked from network); 22 Oct 2003 16:28:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:28:37 -0000
Received: (qmail 65001 invoked by uid 500); 22 Oct 2003 16:28:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64771 invoked by uid 500); 22 Oct 2003 16:28:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64758 invoked from network); 22 Oct 2003 16:28:24 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.246)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:28:24 -0000
Received: (qmail 31726 invoked from network); 22 Oct 2003 16:28:28 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 22 Oct 2003 16:28:28 -0000
Message-ID: <3F96B025.3050108@lucene.com>
Date: Wed, 22 Oct 2003 09:28:21 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: new release: 1.3 RC2
References: <E3052C59-04AB-11D8-9B60-000393760B7E@mac.com>
In-Reply-To: <E3052C59-04AB-11D8-9B60-000393760B7E@mac.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

petite_abeille wrote:
> Quick question regarding release note number 11:
> 
> What's the difference between IndexWriter.addIndexes(IndexReader[]) and 
> IndexWriter.addIndexes(Directory[]) beside the fact that one takes an 
> array of IndexReader and the other an array of Directory? Any functional 
> differences? Is one way recommended over the other?

When merging lots of indexes (more than the mergeFactor), the 
Directory-based method will use fewer file handles and less memory, as 
it will only ever open mergeFactor indexes at once, while the 
IndexReader-based method requires that all indexes be open when passed. 
  The primary advantage of the IndexReader-based method is that one can 
pass it IndexReaders that don't reside in a Directory (which is now 
possible, as one may completely re-implement the IndexReader API).

For most folks I think sticking with the old method is best.  It's also 
been tested much more!

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:44:29 2003
Return-Path: 
 <lucene-user-return-5735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31390 invoked from network); 22 Oct 2003 16:44:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:44:29 -0000
Received: (qmail 88759 invoked by uid 500); 22 Oct 2003 16:44:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88732 invoked by uid 500); 22 Oct 2003 16:44:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88718 invoked from network); 22 Oct 2003 16:44:17 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.248)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:44:17 -0000
Received: (qmail 32430 invoked from network); 22 Oct 2003 16:44:20 -0000
Received: from unknown (HELO lucene.com)
 (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 22 Oct 2003 16:44:20 -0000
Message-ID: <3F96B3DF.6050407@lucene.com>
Date: Wed, 22 Oct 2003 09:44:15 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Exact Match
References: 
 <496A2C679221504D8B8AE4B10267E876019D7D53@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7D53@gb-sm-cala-xm11.corp.disney.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wilton, Reece wrote:
> Does Lucene support exact matching on a tokenized field?
> 
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
> 
> I want to be able to do an exact field match so when I search for "brown
> fox" I only get the last one returned.  I can do this in my own code by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?

Why not just use an untokenized field?  Then just use a TermQuery, 
searching for the term "brown fox".

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:45:37 2003
Return-Path: 
 <lucene-user-return-5736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31856 invoked from network); 22 Oct 2003 16:45:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:45:37 -0000
Received: (qmail 91719 invoked by uid 500); 22 Oct 2003 16:45:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91693 invoked by uid 500); 22 Oct 2003 16:45:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91661 invoked from network); 22 Oct 2003 16:45:15 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:45:15 -0000
Message-ID: <20031022164518.77108.qmail@web12708.mail.yahoo.com>
Received: from [194.152.224.89] by web12708.mail.yahoo.com via HTTP;
 Wed, 22 Oct 2003 09:45:18 PDT
Date: Wed, 22 Oct 2003 09:45:18 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Weird NPE in RAMInputStream when merging indices
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2F93FA84-04AB-11D8-9B60-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That's why I emphasized that Hashtable doesn't allow nulls.
If this is happening often, then yes, that is the thing to be
suspicious about, and is easily to test by modifying your local copy of
RAMDirectory.

Otis

--- petite_abeille <petite_abeille@mac.com> wrote:
> Hi Otis,
> 
> On Wednesday, Oct 22, 2003, at 18:06 Europe/Amsterdam, Otis
> Gospodnetic 
> wrote:
> 
> > Since 'files' is a Hashtable, neither the key nor the value (file)
> can
> > be null, even though the NPE in RAMInputStream constructor implies
> that
> > file was null.
> 
> Yep... pretty weird... but looking at openFile(String name)... could
> it 
> somehow be possible that the name is invalid for some reasons and 
> therefore doesn't exists in the Hashtable? So files.get(name) would 
> return null and new RAMInputStream(file) would then raise a NPE?
> 
> This would not explain why the name is invalid in the first place... 
> but that could be a start for an investigation... what do you think?
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:48:51 2003
Return-Path: 
 <lucene-user-return-5737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33375 invoked from network); 22 Oct 2003 16:48:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:48:51 -0000
Received: (qmail 96200 invoked by uid 500); 22 Oct 2003 16:48:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95907 invoked by uid 500); 22 Oct 2003 16:48:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95894 invoked from network); 22 Oct 2003 16:48:38 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:48:38 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h9MGNRcw005229
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 09:47:25 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com
 (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com
 with ESMTP; Wed, 22 Oct 2003 09:48:54 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 22 Oct 2003 09:48:37 -0700
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Exact Match
Date: Wed, 22 Oct 2003 09:48:36 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D56@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Match
Thread-Index: AcOYvCGahWG++fyBQnS6BbIutqa7kwAAAwig
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 22 Oct 2003 16:48:37.0425 (UTC)
 FILETIME=[56CFFA10:01C398BC]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I use an untokenized field, would "fox" match this as well?  I need
to support both exact match searches and searches where one word exists
in the field.

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Wednesday, October 22, 2003 9:44 AM
To: Lucene Users List
Subject: Re: Exact Match

Wilton, Reece wrote:
> Does Lucene support exact matching on a tokenized field?
>=20
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
>=20
> I want to be able to do an exact field match so when I search for
"brown
> fox" I only get the last one returned.  I can do this in my own code
by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?

Why not just use an untokenized field?  Then just use a TermQuery,=20
searching for the term "brown fox".

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 16:57:15 2003
Return-Path: 
 <lucene-user-return-5738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37791 invoked from network); 22 Oct 2003 16:57:15 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 16:57:15 -0000
Received: (qmail 4150 invoked by uid 500); 22 Oct 2003 16:56:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4105 invoked by uid 500); 22 Oct 2003 16:56:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4069 invoked from network); 22 Oct 2003 16:56:53 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 22 Oct 2003 16:56:53 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Exact Match
Date: Wed, 22 Oct 2003 12:54:23 -0400
Message-ID: <5C7A32E240A279479DFF44FDF01BBE6278B295@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Match
Thread-Index: AcOYvCGahWG++fyBQnS6BbIutqa7kwAAAwigAAAQV6A=
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


To ensure I understand...

If you have:

1)  A B C
2)  B C
3)  B C D
4)  C

You want "B C" to match #2 only
But, "C" to match #1, #2, #3, and #4

If so, you can have a tokenized field and an untokenized one...

Use the untokenized for matching 'exact' strings
Use the tokenized for finding a single word in the string

I.e.  check "B C" against untokenized
      check "C" against tokenized

That is, if you don't mind indexing the same data into 2 different =
fields.


-----Original Message-----
From: Wilton, Reece [mailto:Reece.Wilton@dig.com]
Sent: October 22, 2003 12:49 PM
To: Lucene Users List
Subject: RE: Exact Match


If I use an untokenized field, would "fox" match this as well?  I need
to support both exact match searches and searches where one word exists
in the field.

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Wednesday, October 22, 2003 9:44 AM
To: Lucene Users List
Subject: Re: Exact Match

Wilton, Reece wrote:
> Does Lucene support exact matching on a tokenized field?
>=20
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
>=20
> I want to be able to do an exact field match so when I search for
"brown
> fox" I only get the last one returned.  I can do this in my own code
by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?

Why not just use an untokenized field?  Then just use a TermQuery,=20
searching for the term "brown fox".

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 17:31:02 2003
Return-Path: 
 <lucene-user-return-5739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56889 invoked from network); 22 Oct 2003 17:31:02 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 17:31:02 -0000
Received: (qmail 51318 invoked by uid 500); 22 Oct 2003 17:30:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51291 invoked by uid 500); 22 Oct 2003 17:30:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51267 invoked from network); 22 Oct 2003 17:30:49 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 22 Oct 2003 17:30:49 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com
 [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h9MGsDCg018018
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 10:29:35 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com
 (sm-cala-xc03.swna.wdpr.disney.com [153.7.195.22]) by hermes.corp.disney.com
 with ESMTP; Wed, 22 Oct 2003 10:31:03 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 22 Oct 2003 10:30:45 -0700
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Exact Match
Date: Wed, 22 Oct 2003 10:30:44 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D57@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Match
Thread-Index: AcOYwHha+/HOCx3aSauHpdE1jR1FQQAAbPDw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 22 Oct 2003 17:30:45.0945 (UTC)
 FILETIME=[39ED8290:01C398C2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, that's what I'm doing.  Just wanted to see what other ideas where
out there.=20

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Wednesday, October 22, 2003 9:12 AM
To: Lucene Users List
Subject: Re: Exact Match

There is no direct support for that.  However, if one of your documents
contains _only_: "brown fox", won't a search for "brown fox" give that
document the highest score, as it is the closest match, allowing you to
just pop the first hit?  It's no guarantee that the first hit is the
exact match (what if there are no exact matches in the index), but
that's a simple check to perform in your application.

Otis


--- "Wilton, Reece" <Reece.Wilton@dig.com> wrote:
> Hi,
>=20
> Does Lucene support exact matching on a tokenized field?
>=20
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
>=20
> I want to be able to do an exact field match so when I search for
> "brown
> fox" I only get the last one returned.  I can do this in my own code
> by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?
>=20
> Thanks,
> Reece
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 22 17:33:22 2003
Return-Path: 
 <lucene-user-return-5740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58388 invoked from network); 22 Oct 2003 17:33:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 22 Oct 2003 17:33:22 -0000
Received: (qmail 55453 invoked by uid 500); 22 Oct 2003 17:33:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55417 invoked by uid 500); 22 Oct 2003 17:33:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55404 invoked from network); 22 Oct 2003 17:33:08 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 22 Oct 2003 17:33:08 -0000
Received: from panic10.noceast.dws.disney.com (panic10.corp.disney.com
 [153.6.129.169])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h9MHVsN2006402
	for <lucene-user@jakarta.apache.org>; Wed, 22 Oct 2003 10:31:55 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com
 (sm-cala-xc03.swna.wdpr.disney.com [153.7.195.22]) by
 panic.noceast.dws.disney.com with ESMTP; Wed, 22 Oct 2003 13:27:30 -0400
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by
 sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 22 Oct 2003 10:31:08 -0700
x-mimeole: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Exact Match
Date: Wed, 22 Oct 2003 10:31:08 -0700
Message-Id: 
 <496A2C679221504D8B8AE4B10267E876019D7D58@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Match
Thread-Index: AcOYvCGahWG++fyBQnS6BbIutqa7kwAAAwigAAAQV6AAAXUr0A==
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 22 Oct 2003 17:31:08.0539 (UTC)
 FILETIME=[476514B0:01C398C2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Good idea!  Thanks!=20

-----Original Message-----
From: Tate Avery [mailto:tate.avery@nstein.com]=20
Sent: Wednesday, October 22, 2003 9:54 AM
To: Lucene Users List
Subject: RE: Exact Match


To ensure I understand...

If you have:

1)  A B C
2)  B C
3)  B C D
4)  C

You want "B C" to match #2 only
But, "C" to match #1, #2, #3, and #4

If so, you can have a tokenized field and an untokenized one...

Use the untokenized for matching 'exact' strings
Use the tokenized for finding a single word in the string

I.e.  check "B C" against untokenized
      check "C" against tokenized

That is, if you don't mind indexing the same data into 2 different
fields.


-----Original Message-----
From: Wilton, Reece [mailto:Reece.Wilton@dig.com]
Sent: October 22, 2003 12:49 PM
To: Lucene Users List
Subject: RE: Exact Match


If I use an untokenized field, would "fox" match this as well?  I need
to support both exact match searches and searches where one word exists
in the field.

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]=20
Sent: Wednesday, October 22, 2003 9:44 AM
To: Lucene Users List
Subject: Re: Exact Match

Wilton, Reece wrote:
> Does Lucene support exact matching on a tokenized field?
>=20
> So for example... if I add these three phrases to the index:
> - "The quick brown fox"
> - "The quick brown fox jumped"
> - "brown fox"
>=20
> I want to be able to do an exact field match so when I search for
"brown
> fox" I only get the last one returned.  I can do this in my own code
by
> storing the data and then comparing it to the search phrase.  Is that
> the best way of doing this?

Why not just use an untokenized field?  Then just use a TermQuery,=20
searching for the term "brown fox".

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 23 06:43:40 2003
Return-Path: 
 <lucene-user-return-5741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88231 invoked from network); 23 Oct 2003 06:43:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Oct 2003 06:43:40 -0000
Received: (qmail 53962 invoked by uid 500); 23 Oct 2003 06:43:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53909 invoked by uid 500); 23 Oct 2003 06:43:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53896 invoked from network); 23 Oct 2003 06:43:11 -0000
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 23 Oct 2003 06:43:11 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id
 BCD6319B721
	for <lucene-user@jakarta.apache.org>; Thu, 23 Oct 2003 08:43:22 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id
 h9N6hY48018868
	for <lucene-user@jakarta.apache.org>; Thu, 23 Oct 2003 08:43:35 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id h9N6hYu0018864;
	Thu, 23 Oct 2003 08:43:34 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16279.30870.498710.245498@tanto-xipolis.de>
Date: Thu, 23 Oct 2003 08:43:34 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Exact Match
In-Reply-To: 
 <496A2C679221504D8B8AE4B10267E876019D7D56@gb-sm-cala-xm11.corp.disney.com>
References: 
 <496A2C679221504D8B8AE4B10267E876019D7D56@gb-sm-cala-xm11.corp.disney.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wilton, Reece writes:
> If I use an untokenized field, would "fox" match this as well?  I need
> to support both exact match searches and searches where one word exists
> in the field.
> 
couldn't you use some start/end word (that never occurs in your texts) 
as anchors?
That is index 'XXX brown fox YYY' instead of 'brown fox' and search for
'XXX brown fox YYY' instead of 'brown fox' for exact match?
Of course the XXX and YYY would only occur in the index, not in the
stored text.
I don't know what the performance impact would be though.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 23 13:23:04 2003
Return-Path: 
 <lucene-user-return-5742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97665 invoked from network); 23 Oct 2003 13:23:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Oct 2003 13:23:04 -0000
Received: (qmail 66979 invoked by uid 500); 23 Oct 2003 13:22:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66949 invoked by uid 500); 23 Oct 2003 13:22:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66936 invoked from network); 23 Oct 2003 13:22:54 -0000
Received: from unknown (HELO tera.umi.com) (192.195.245.144)
  by daedalus.apache.org with SMTP; 23 Oct 2003 13:22:54 -0000
Received: from aamail02.umi.bhowell.com (aamail02.umi.bhowell.com
 [165.215.60.27])
	by tera.umi.com (8.11.6/8.11.6) with ESMTP id h9NDMmr28311
	for <lucene-user@jakarta.apache.org>; Thu, 23 Oct 2003 09:22:48 -0400
Received: by aamail02.umi.bhowell.com with Internet Mail Service (5.5.2653.19)
	id <RLMF04F9>; Thu, 23 Oct 2003 09:21:07 -0400
Message-ID: 
 <F35A27ADB3E5D411926D00508BF93D3E132A2633@aamail01.umi.bhowell.com>
From: "Goulish, Michael" <michael.goulish@ed.proquest.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Is there a BNF query grammar?
Date: Thu, 23 Oct 2003 09:22:27 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C39968.6A3A8758"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C39968.6A3A8758
Content-Type: text/plain


Is there a formal grammar available that describes
the latest query syntax?  And where can I get it?

Thanks!
--------------------------------------------------- Mick Goulish .


------_=_NextPart_001_01C39968.6A3A8758--

From MAILER-DAEMON Thu Oct 23 14:12:48 2003
Return-Path: 
 <lucene-user-return-5743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30505 invoked from network); 23 Oct 2003 14:12:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Oct 2003 14:12:48 -0000
Received: (qmail 16654 invoked by uid 500); 23 Oct 2003 14:12:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16623 invoked by uid 500); 23 Oct 2003 14:12:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16539 invoked from network); 23 Oct 2003 14:12:11 -0000
Received: from unknown (HELO mail.fibertel.com.ar) (24.232.0.159)
  by daedalus.apache.org with SMTP; 23 Oct 2003 14:12:11 -0000
Received: from ernesto (24.232.27.21) by mail.fibertel.com.ar (7.0.019)
 (authenticated as edesantis)
        id 3F94C1CB000B4A56; Thu, 23 Oct 2003 11:12:12 -0300
Message-ID: <009e01c39970$4a35e9e0$151be818@ernesto>
From: "Ernesto De Santis" <edesantis@fibertel.com.ar>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <opencms-dev@opencms.org>
References: <E1ACAOx-0001av-00@relay01.kbs.net.au>
 <008801c39868$ca952aa0$0e00000a@chewbacca>
Subject: Index pdf files with your content in lucene.
Date: Thu, 23 Oct 2003 11:16:45 -0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_009B_01C39957.248B76B0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4927.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_009B_01C39957.248B76B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I am new in opencms and lucene tecnology.=20

I won index pdf files, and index de content of this files.

I work in this way:

Make a PDFDocument class like JspDocument class.=20
use org.textmining.text.extraction.PDFExtractor class, this class work =
fine out of vfs.

and write my registry.xml for pdf document, in plainDocFactory tag.

                    <fileType name=3D"pdftext">
                        <extension>.pdf</extension>
                        <!-- This will strip tags before processing -->
                        =
<class>net.grcomputing.opencms.search.lucene.PDFDocument</class>
                    </fileType>

my PDFDocument content this code:
I think that the probrem is how take the content from CmsFile?, what =
InputStream use?
PDFExtractor work with extractText(InputStream) method.

public class PDFDocument implements I_DocumentConstants, =
I_DocumentFactory {

public PDFDocument(){

}


public Document Document(CmsObject cmsobject, CmsFile cmsfile)

throws CmsException=20

{

return Document(cmsobject, cmsfile, null);

}

public Document Document(CmsObject cmsobject, CmsFile cmsfile, HashMap =
hashmap)

throws CmsException

{

Document document=3D(new BodylessDocument()).Document(cmsobject, =
cmsfile);


//put de content in the pdf file.

String contenido =3D new String(cmsfile.getContents());

StringBufferInputStream in =3D new StringBufferInputStream(contenido);

// ByteArrayInputStream in =3D new =
ByteArrayInputStream(contenido.getBytes());


/* try{

FileInputStream in =3D new FileInputStream (cmsfile.getPath() + =
cmsfile.getName());

*/

PDFExtractor extractor =3D new PDFExtractor();

String body =3D extractor.extractText(in);


document.add(Field.Text("body", body));

/* }catch(FileNotFoundException e){

e.toString();

throw new CmsException();

}


*/=20

return (document);

}


thanks
Ernesto
PD: Sorry for my poor english.




----- Original Message -----=20
From: "Hartmann, Waehrisch & Feykes GmbH" <hartmann@waehrisch-feykes.de>
To: <opencms-dev@opencms.org>
Sent: Wednesday, October 22, 2003 3:50 AM
Subject: Re: [opencms-dev] (no subject)


> Hi Ben,
>=20
> i think this won't work since the plainDocFactory will only be used =
for
> files of type "plain" but not for files of type "binary".
> Recently we have done some additions to the module - by order of =
Lenord,
> Bauer & Co. GmbH - that could meet your needs. It introduces a more =
flexible
> way of defining docFactories that you can add new factories without =
having
> to recompile the whole module. So other modules (like the news) can =
bring
> their own docFactory and all you have to do is to edit the =
registry.xml.
> Here is an example:
>=20
>             <docFactories>
>                 <docFactory enabled=3D"true" type=3D"plain">
>                     <fileType name=3D"plaintext">
>                         <extension>.txt</extension>
>=20
> <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
>                     </fileType>
>                 </docFactory>
>                 <docFactory enabled=3D"true" type=3D"news">
>=20
> <class>net.grcomputing.opencms.search.lucene.NewsDocument</class>
>                 </docFactory>
>             </docFactories>
>=20
> To index binary files all you need to add is this:
>=20
>            <docFactory enabled=3D"true" type=3D"binary">
>=20
> <class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
>            </docFactory>
>=20
> There should be no need for an extension mapping.
>=20
> For the interested people:
> For ContentDefinitions (like news) i introduced the following:
>             <contentDefinitions>
>                 <contentDefinition type=3D"news"> <!-- must match =
docFactory
> type -->
>=20
> <class>com.opencms.modules.homepage.news.NewsContentDefinition</class>
>=20
> =
<initClass>net.grcomputing.opencms.search.lucene.NewsInitialization</init=
Cla
> ss>
>                     <listMethod name=3D"getNewsList">
>                         <param type=3D"java.lang.Integer">1</param>
>                         <param type=3D"java.lang.String">-1</param>
>                     </listMethod>
>                     <page uri=3D"/news.html?__element=3Dentry">
>                         <param method=3D"getIntId" name=3D"newsid"/>
>                     </page>
>                 </contentDefinition>
>=20
> In short:
> initClass is optional: For the news the news classes have to be loaded =
to
> initialize the db pool.
> listMethod: a method of the content definition class that returns a =
List of
> elements
> page: the page that can display an entry. Here a jsp that has a =
template
> element "entry". It also needs the id of the news item.
> getIntId is a method of the content definition class and newsid is the =
url
> parameter the page needs. A link like
> news.html?__element=3Dentry&newsid=3Dxy
> will be generated.
>=20
> Best regards,
> Stephan
>=20
>=20
> ----- Original Message -----=20
> From: "Ben Rometsch" <ben@solidstategroup.com>
> To: <opencms-dev@opencms.org>
> Sent: Wednesday, October 22, 2003 6:15 AM
> Subject: [opencms-dev] (no subject)
>=20
>=20
> > Hi Matt,
> >
> > I am not having any joy! I've updated my registry.xml file, with the
> > appropriate section reading:
> >
> > <luceneSearch>
> > <mergeFactor>100000</mergeFactor>
> > <permCheck>true</permCheck>
> > <indexDir>c:\search</indexDir>
> >
> > =
<analyzer>org.apache.lucene.analysis.standard.StandardAnalyzer</analyzer>=

> > <subsearch>true</subsearch>
> > <project>online</project>
> > <docFactories>
> > <pageDocFactory enabled=3D"true">
> >
> > <class>net.grcomputing.opencms.search.lucene.PageDocument</class>
> > </pageDocFactory>
> > <plainDocFactory enabled=3D"true">
> > <fileType name=3D"plaintext">
> > <extension>.txt</extension>
> >
> > <class>net.grcomputing.opencms.search.lucene.PlainDocument</class>
> > </fileType>
> > <fileType name=3D"taggedtext">
> > <extension>.html</extension>
> > <extension>.htm</extension>
> > <extension>.xml</extension>
> > <!-- This will strip tags before processing
> > -->
> >
> > =
<class>net.grcomputing.opencms.search.lucene.TaggedPlainDocument</class>
> > </fileType>
> >
> > <!-- Index binary documents -->
> > <fileType name=3D"plaindocument">
> > <extension>.doc</extension>
> > <extension>.xls</extension>
> > <extension>.pdf</extension>
> >
> > =
<class>net.grcomputing.opencms.search.lucene.BodylessDocument</class>
> > </fileType>
> >
> > </plainDocFactory>
> > <jspDocFactory enabled=3D"true">
> >
> > <class>net.grcomputing.opencms.search.lucene.JspDocument</class>
> > </jspDocFactory>
> > <xmlTemplateDocFactory enabled=3D"false"/>
> > </docFactories>
> > <directories>
> > <directory location=3D"/release/">
> > <section>Test</section>
> > <subsearch>true</subsearch>
> > </directory>
> > <directory location=3D"/RGLIntranet/">
> > <section>Test2</section>
> > <subsearch>true</subsearch>
> > </directory>
> > </directories>
> > </luceneSearch>
> >
> > Notice the section beginning after the remark "Index binary =
documents".
> >
> > But I cannot get any hits when searching for document names that are =
in
> the
> > VFS. The other (HTML) searches are working ok. Is the "name" =
property of
> the
> > fileType tag important? I wasn't sure what to add here...I'm not =
quite
> sure
> > how to move forward. Maybe it would be an idea to add some debugging =
trace
> > to the BodylessDocument class to see what is going on inside it? I =
want to
> > make sure my XML is correct first tho!
> >
> > Thanks for the help,
> > Ben
> >
> >
> > On Thu, 2003-10-16 at 22:46, Ben Rometsch wrote:
> > > Hi Matt,
> > >
> > > Thanks for the reply. If I just want to get the document title to =
be
> > > included in the Lucene index, looking at the code in the
> > > net.grcomputing.opencms.search.BodylessDocument class it appears =
to
> ignore
> > > what the CMSObject is, and attempt to index it regardless. Is this
> > correct?
> > >
> >
> > Correct. It will already index the title, but it will not attempt to
> > index the body.
> >
> > > If this is the case, is it simply a matter of instructing Lucene =
to
> index
> > > obects other than HTML files in the VFS  (i.e. Documents) ? Or =
would I
> > have
> > > to create another class, something like
> > > net.grcomputing.opencms.search.FileDocument and add a new hook =
into that
> > > class via the registry.xml fragment?  Or does the BodyLess =
document
> > provide
> > > this functionality, and it's just a matter of adding a new XML =
fragment
> to
> > > the registry.xml are?
> >
> > Again, you are right -- simply adding the appropriate configuration =
to
> > the registry.xml file will suffice. I believe that you will just =
need to
> > extend the plainDocument tag set to include extensions and =
processors...
> > I _think_ that binary files get handled by the plain handler.
> >
> > Matt
> >
> > _______________________________________________
> > This mail is send to you from the opencms-dev mailing list
> > To change your list options, or to unsubscribe from the list, please =
visit
> > http://mail.opencms.org/mailman/listinfo/opencms-dev
>=20
> Stephan Hartmann
> Unternehmensberatung W=E4hrisch & Feykes GmbH
> Gustav-Adolf-Str. 5
> 47057 Duisburg
>=20
> Tel.: 0203-373070
> Fax: 0203-376766
> E-Mail: hartmann@wfnetz.de
> Internet: www.wfnetz.de
>=20
> =DCber das Internet versandte E-Mails k=F6nnen unter fremden Namen =
erstellt oder
> manipuliert werden. Aus diesem Grund enthalten unsere mit E-Mail
> verschickten Nachrichten grunds=E4tzlich keine rechtsverbindlichen
> Willenserkl=E4rungen.
>=20

------=_NextPart_000_009B_01C39957.248B76B0--


From MAILER-DAEMON Thu Oct 23 14:51:46 2003
Return-Path: 
 <lucene-user-return-5744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53550 invoked from network); 23 Oct 2003 14:51:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Oct 2003 14:51:46 -0000
Received: (qmail 99495 invoked by uid 500); 23 Oct 2003 14:50:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99465 invoked by uid 500); 23 Oct 2003 14:50:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99446 invoked from network); 23 Oct 2003 14:50:12 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 23 Oct 2003 14:50:12 -0000
Received: (cpmta 13829 invoked from network); 23 Oct 2003 07:50:13 -0700
Received: from 128.143.103.183 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 23 Oct 2003 07:50:13 -0700
X-Sent: 23 Oct 2003 14:50:13 GMT
Date: Thu, 23 Oct 2003 10:50:13 -0400
Subject: Re: Is there a BNF query grammar?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: 
 <F35A27ADB3E5D411926D00508BF93D3E132A2633@aamail01.umi.bhowell.com>
Message-Id: <351E86D8-0568-11D8-8959-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is a JavaCC grammar.  Look in the source code at QueryParser.jj


On Thursday, October 23, 2003, at 09:22  AM, Goulish, Michael wrote:

>
> Is there a formal grammar available that describes
> the latest query syntax?  And where can I get it?
>
> Thanks!
> --------------------------------------------------- Mick Goulish .
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 23 15:24:51 2003
Return-Path: 
 <lucene-user-return-5745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70777 invoked from network); 23 Oct 2003 15:24:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 23 Oct 2003 15:24:51 -0000
Received: (qmail 68152 invoked by uid 500); 23 Oct 2003 15:24:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68124 invoked by uid 500); 23 Oct 2003 15:24:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68111 invoked from network); 23 Oct 2003 15:24:40 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 23 Oct 2003 15:24:40 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HN701H01UQJ3E@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 23 Oct 2003 16:23:28 +0100 (IST)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HN701G0IUIW2W@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 23 Oct 2003 16:18:32 +0100 (IST)
Date: Thu, 23 Oct 2003 16:17:02 +0100
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: Re: new release: 1.3 RC2
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <004d01c39978$b62b92a0$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <3F96ACB1.3090302@lucene.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i recently upgraded from 1.2 to 1.3 rc1 and on the advice from folk on this
list, re-indexed my pages using the new libraries.  if i upgrade to 1.3 rc2
do i have to re-index them again?  hopefully not

maurice

----- Original Message -----
From: "Doug Cutting" <cutting@lucene.com>
To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>; "Lucene Users
List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 22, 2003 5:13 PM
Subject: new release: 1.3 RC2


> A new Lucene release is available.
>
> It can be downloaded from:
>
>    http://cvs.apache.org/dist/jakarta/lucene/v1.3-rc2/
>
> Release notes are at:
>
>
>
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=
1.56
>
> Enjoy!
>
> Doug
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 24 09:05:14 2003
Return-Path: 
 <lucene-user-return-5746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60638 invoked from network); 24 Oct 2003 09:05:14 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Oct 2003 09:05:14 -0000
Received: (qmail 30576 invoked by uid 500); 24 Oct 2003 09:04:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30532 invoked by uid 500); 24 Oct 2003 09:04:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30519 invoked from network); 24 Oct 2003 09:04:43 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 24 Oct 2003 09:04:43 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net
 [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id 9AC4F1093DA
	for <lucene-user@jakarta.apache.org>; Fri, 24 Oct 2003 11:02:26 +0200 (CEST)
Message-ID: <3F98EAD3.2020508@imente.com>
Date: Fri, 24 Oct 2003 11:03:15 +0200
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20030925
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene delete feature
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

    I`ve got a question about the delete feature. I have a very large 
collection of XML documents, each document contains a classification, 
and one document can be in different classfications, there is no tree 
structure in the classfications (all the classifications are in the same 
level),  for example:
       Doc 1 -> classification1
       Doc 2 -> classification1 classification2 classification 3
       Doc 3 -> classification 3
       Doc 4 -> no classification
       ...

    Then, with that structure I can perform queries like 'testing && 
classification:1' or 'testing && (classification:1 || 
classification:2)', etc.

    Now,  I need the feature to remove one classification from one 
document. I know I can delete de document and add it again, but I cannot 
do that because I'm adding the documents sorted by date, so, if i do 
that i will lose the sorting.

    Anybody has implemented a similar feature. I don't want do delete a 
document, only want to upgrade a document field (just delete the 
classification x from the document's classification field). Is viable to 
do that?, Is it possible?

    Any help will be appreciated.

    Another question about the sorting by date technique is what happen 
when I merge different indexs?, for example i`ve got a large index 
sorted by date (or by docID), then every day I add the new documents in 
another index (by performance), and every week I merge the weekly index 
with the large one. After the mergin process, I want to mantain the 
documents sorted. Is lucene doing that by default?
      

Thanks

Albert



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 24 17:30:47 2003
Return-Path: 
 <lucene-user-return-5747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36018 invoked from network); 24 Oct 2003 17:30:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Oct 2003 17:30:47 -0000
Received: (qmail 60971 invoked by uid 500); 24 Oct 2003 17:30:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60892 invoked by uid 500); 24 Oct 2003 17:30:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60879 invoked from network); 24 Oct 2003 17:30:31 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 24 Oct 2003 17:30:31 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HN908I01VATH3@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Fri, 24 Oct 2003 18:30:29 +0100 (IST)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HN908H4VVAT8M@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Fri, 24 Oct 2003 18:30:29 +0100 (IST)
Date: Fri, 24 Oct 2003 18:29:01 +0100
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: large index query time
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <002301c39a54$50907280$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <3F98EAD3.2020508@imente.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,
i recently merged a whole lot of indexes into one big index for testing
purposes.  however, now the programs i use to search the index are taking
much longer.  this may be a stupid question (or very simple) and please tell
me if it is, but should this be the case?  i mean, i realise it'll take
longer to search over a larger collection, but it's taking an order of
magnitude longer.  this is the reaosn i'm asking, since if lucene is capable
of handling large-scale search apps presumably it's set up to search large
collections rapidly.

maybe there's some steps i can take to speed things up (i optimised the big
index when it was finished being created) or something i'm missing?  if i
can give any information which will help the diagnosis of this problem
please specify it.

thanks,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 24 17:32:42 2003
Return-Path: 
 <lucene-user-return-5748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37138 invoked from network); 24 Oct 2003 17:32:42 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Oct 2003 17:32:42 -0000
Received: (qmail 67745 invoked by uid 500); 24 Oct 2003 17:32:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67714 invoked by uid 500); 24 Oct 2003 17:32:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67701 invoked from network); 24 Oct 2003 17:32:27 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 24 Oct 2003 17:32:27 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service
 (5.5.2655.55)
	id <VRCSJK1C>; Fri, 24 Oct 2003 13:32:30 -0400
Message-ID: 
 <4A46E75D51A2D5119F2A00B0D03D7F0901C67F58@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: large index query time
Date: Fri, 24 Oct 2003 13:32:30 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My experience is that the query time (and memory usage) can be affected
greatly by booleans that retrieve lots of results.

Are you finding it slow when doing a simple query that should return only a
handful of results, or is it on more complex queries?

-----Original Message-----
From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
Sent: Friday, October 24, 2003 1:29 PM
To: Lucene Users List
Subject: large index query time


hi,
i recently merged a whole lot of indexes into one big index for testing
purposes.  however, now the programs i use to search the index are taking
much longer.  this may be a stupid question (or very simple) and please tell
me if it is, but should this be the case?  i mean, i realise it'll take
longer to search over a larger collection, but it's taking an order of
magnitude longer.  this is the reaosn i'm asking, since if lucene is capable
of handling large-scale search apps presumably it's set up to search large
collections rapidly.

maybe there's some steps i can take to speed things up (i optimised the big
index when it was finished being created) or something i'm missing?  if i
can give any information which will help the diagnosis of this problem
please specify it.

thanks,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 24 17:36:18 2003
Return-Path: 
 <lucene-user-return-5749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38587 invoked from network); 24 Oct 2003 17:36:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 24 Oct 2003 17:36:18 -0000
Received: (qmail 69681 invoked by uid 500); 24 Oct 2003 17:36:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69648 invoked by uid 500); 24 Oct 2003 17:36:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69635 invoked from network); 24 Oct 2003 17:36:05 -0000
Received: from unknown (HELO mail.nstein.com) (209.47.34.146)
  by daedalus.apache.org with SMTP; 24 Oct 2003 17:36:05 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: large index query time
Date: Fri, 24 Oct 2003 13:33:17 -0400
Message-ID: <5C7A32E240A279479DFF44FDF01BBE62875E9B@sgges01.nstein.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: large index query time
Thread-Index: AcOaVGhkEoJMEQijRK6Rj8uUmD+JygAADbAg
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Below are some posts from Doug (circa 2001) that I found very helpful =
with regard to understanding Lucene scalability.  I am assuming that =
they are still generally applicable.  You might also find them useful.

Tate


-----------------------------------------------------------


Performance for large indices is frequently governed by i/o performance. =
 If
an index is larger than RAM then searches will need to read data from =
disk.
This can quickly become a bottleneck.  A search for a term that occurs =
in a
million documents can require over 1MB of data, which can take some time =
to
read.  With multiple searching threads, the disk can easily become a
bottleneck.  Disk arrays can alleviate this, more RAM helps even more!

For some folks, queries that take over a second are unacceptable, for
others, ten seconds is okay.

Performance should be more-or-less linear: a two-million document index =
will
be almost twice as slow to search as a one-million document index.  =
There
are lots of factors, including document size, CPU-speed, RAM-size, i/o
subsystem, but a rough rule-of-thumb for Lucene performance might be =
that,
in a "typical" configuration, it can search a million documents per =
second.

So if you need to search 20 million 100kB documents on a 100Mhz 386 with =
8MB
of RAM with sub-second response time, Lucene will probably fail.  But if =
you
need to search two million 2kB documents on a 500Mhz Pentium with 128MB =
of
RAM in a couple of seconds per query, you're probably okay.

- Doug Cutting (10/08/2001)


Some more precise statements: The cost to search for a term is =
proportional
to the number of documents that contain that term.  The cost to search =
for a
phrase is proportional to the sum of the number of occurrences of its
constituent terms.  The cost to execute a boolean query is the sum of =
the
costs of its sub-queries.  Longer documents contain more terms: usually =
both
more unique terms and more occurrences.

Total vocabulary size is not a big factor in search performance.  When =
you
open an index Lucene does read one out of every 128 unique terms into a
table, so an index with a large number of unique terms will be slower to
open.  Searching that table for query terms is also slower for bigger
indexes, but the time to search that table is not significant in overall
performance.  Lucene also reads at index open one byte per document per
indexed field (the normalization factor).  So an index with lots of
documents and fields will also be slower to open.  But, once opened, the
cost of searching is largely dependent on the frequency characteristics =
of
query terms.  And, since IndexReaders and Searchers are thread safe, you
don't need to open indexes very often.

- Doug Cutting (10/08/2001)





-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: October 24, 2003 1:33 PM
To: 'Lucene Users List'
Subject: RE: large index query time


My experience is that the query time (and memory usage) can be affected
greatly by booleans that retrieve lots of results.

Are you finding it slow when doing a simple query that should return =
only a
handful of results, or is it on more complex queries?

-----Original Message-----
From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
Sent: Friday, October 24, 2003 1:29 PM
To: Lucene Users List
Subject: large index query time


hi,
i recently merged a whole lot of indexes into one big index for testing
purposes.  however, now the programs i use to search the index are =
taking
much longer.  this may be a stupid question (or very simple) and please =
tell
me if it is, but should this be the case?  i mean, i realise it'll take
longer to search over a larger collection, but it's taking an order of
magnitude longer.  this is the reaosn i'm asking, since if lucene is =
capable
of handling large-scale search apps presumably it's set up to search =
large
collections rapidly.

maybe there's some steps i can take to speed things up (i optimised the =
big
index when it was finished being created) or something i'm missing?  if =
i
can give any information which will help the diagnosis of this problem
please specify it.

thanks,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct 25 01:00:03 2003
Return-Path: 
 <lucene-user-return-5750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34911 invoked from network); 25 Oct 2003 01:00:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Oct 2003 01:00:03 -0000
Received: (qmail 92201 invoked by uid 500); 25 Oct 2003 00:59:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92170 invoked by uid 500); 25 Oct 2003 00:59:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92153 invoked from network); 25 Oct 2003 00:59:41 -0000
Received: from unknown (HELO web20805.mail.yahoo.com) (216.136.226.194)
  by daedalus.apache.org with SMTP; 25 Oct 2003 00:59:41 -0000
Message-ID: <20031025005949.5537.qmail@web20805.mail.yahoo.com>
Received: from [216.141.188.154] by web20805.mail.yahoo.com via HTTP;
 Fri, 24 Oct 2003 17:59:49 PDT
Date: Fri, 24 Oct 2003 17:59:49 -0700 (PDT)
From: Brent Schneeman <bschneeman@yahoo.com>
Subject: Case Sensitive and InSensitive Queries
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All:

I've only been looking at Lucene for about a week now. I'm using 1.3
RC2. 

I am searching a moderately sized repository of documents containing
assembly language source code and I'm trying to implement both case
sensitive and case insensitive queries (that's what the users want). 

I'm using the WhitespaceAnalyzer to index the files, thereby preserving
the case of the tokens in the index. I'm now trying to query that
index.

The Analyzer used for my QueryParser is either a standard
WhitespaceAnalyzer (for case sensitive) or a
"LowerCaseWhitespaceAnalyzer" whose underlying tokenizer simply extends
the WhitespaceTokenizer and overrides normalize to lowercase the
characters (for case insensitive).

I'm also setting the QueryParser's lowercaseWildcardTerms attribute
appropriately.

For case sensitive searches, I use a standard IndexSearcher, whose
IndexReader provides tokens directly from the index (which have their
case's  preserved). 

For case insensitive searches, I believe that I want to lowercase the
tokens from the index. Is this what the FilterIndexReader is for?
Should I extend that Reader and override its terms(...) methods to
provide lowercased terms?

Or am I just on the wrong path altogether?

Help?

Thanks
-Brent Schneeman

__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Sat Oct 25 13:17:21 2003
Return-Path: 
 <lucene-user-return-5751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58258 invoked from network); 25 Oct 2003 13:17:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 25 Oct 2003 13:17:21 -0000
Received: (qmail 30495 invoked by uid 500); 25 Oct 2003 13:17:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30286 invoked by uid 500); 25 Oct 2003 13:17:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30265 invoked from network); 25 Oct 2003 13:17:12 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 25 Oct 2003 13:17:12 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id h9PDHAm3019823
	for <lucene-user@jakarta.apache.org>; Sat, 25 Oct 2003 15:17:10 +0200
Message-ID: <006201c39afa$5677a910$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5C7A32E240A279479DFF44FDF01BBE62875E9B@sgges01.nstein.com>
Subject: Re: large index query time
Date: Sat, 25 Oct 2003 15:17:27 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Below are some posts from Doug (circa 2001) that I found very helpful
> with regard to understanding Lucene scalability.  I am assuming that
> they are still generally applicable.  You might also find them
> useful.

Indeed! Assuming the information is still valid, could it perhaps be
added to the FAQ?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 10:52:19 2003
Return-Path: 
 <lucene-user-return-5752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97883 invoked from network); 28 Oct 2003 10:52:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 10:52:19 -0000
Received: (qmail 63086 invoked by uid 500); 28 Oct 2003 10:51:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62962 invoked by uid 500); 28 Oct 2003 10:51:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62949 invoked from network); 28 Oct 2003 10:51:47 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 28 Oct 2003 10:51:47 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HNG06Z01RI55H@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Tue, 28 Oct 2003 10:51:45 +0000 (GMT)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HNG070HARFL84@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Tue, 28 Oct 2003 10:50:09 +0000 (GMT)
Date: Tue, 28 Oct 2003 10:50:10 +0000
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: Re: large index query time
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <003e01c39d41$4269c950$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <5C7A32E240A279479DFF44FDF01BBE62875E9B@sgges01.nstein.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

that's very helpful, thanks to all who replied.

my index is definitely larger than my RAM so i guess the increase in query
time is due to an increase in time to open the index/perform a search.

thanks again,
maurice


----- Original Message -----
From: "Tate Avery" <tate.avery@nstein.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, October 24, 2003 5:33 PM
Subject: RE: large index query time



Below are some posts from Doug (circa 2001) that I found very helpful with
regard to understanding Lucene scalability.  I am assuming that they are
still generally applicable.  You might also find them useful.

Tate


-----------------------------------------------------------


Performance for large indices is frequently governed by i/o performance.  If
an index is larger than RAM then searches will need to read data from disk.
This can quickly become a bottleneck.  A search for a term that occurs in a
million documents can require over 1MB of data, which can take some time to
read.  With multiple searching threads, the disk can easily become a
bottleneck.  Disk arrays can alleviate this, more RAM helps even more!

For some folks, queries that take over a second are unacceptable, for
others, ten seconds is okay.

Performance should be more-or-less linear: a two-million document index will
be almost twice as slow to search as a one-million document index.  There
are lots of factors, including document size, CPU-speed, RAM-size, i/o
subsystem, but a rough rule-of-thumb for Lucene performance might be that,
in a "typical" configuration, it can search a million documents per second.

So if you need to search 20 million 100kB documents on a 100Mhz 386 with 8MB
of RAM with sub-second response time, Lucene will probably fail.  But if you
need to search two million 2kB documents on a 500Mhz Pentium with 128MB of
RAM in a couple of seconds per query, you're probably okay.

- Doug Cutting (10/08/2001)


Some more precise statements: The cost to search for a term is proportional
to the number of documents that contain that term.  The cost to search for a
phrase is proportional to the sum of the number of occurrences of its
constituent terms.  The cost to execute a boolean query is the sum of the
costs of its sub-queries.  Longer documents contain more terms: usually both
more unique terms and more occurrences.

Total vocabulary size is not a big factor in search performance.  When you
open an index Lucene does read one out of every 128 unique terms into a
table, so an index with a large number of unique terms will be slower to
open.  Searching that table for query terms is also slower for bigger
indexes, but the time to search that table is not significant in overall
performance.  Lucene also reads at index open one byte per document per
indexed field (the normalization factor).  So an index with lots of
documents and fields will also be slower to open.  But, once opened, the
cost of searching is largely dependent on the frequency characteristics of
query terms.  And, since IndexReaders and Searchers are thread safe, you
don't need to open indexes very often.

- Doug Cutting (10/08/2001)





-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
Sent: October 24, 2003 1:33 PM
To: 'Lucene Users List'
Subject: RE: large index query time


My experience is that the query time (and memory usage) can be affected
greatly by booleans that retrieve lots of results.

Are you finding it slow when doing a simple query that should return only a
handful of results, or is it on more complex queries?

-----Original Message-----
From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
Sent: Friday, October 24, 2003 1:29 PM
To: Lucene Users List
Subject: large index query time


hi,
i recently merged a whole lot of indexes into one big index for testing
purposes.  however, now the programs i use to search the index are taking
much longer.  this may be a stupid question (or very simple) and please tell
me if it is, but should this be the case?  i mean, i realise it'll take
longer to search over a larger collection, but it's taking an order of
magnitude longer.  this is the reaosn i'm asking, since if lucene is capable
of handling large-scale search apps presumably it's set up to search large
collections rapidly.

maybe there's some steps i can take to speed things up (i optimised the big
index when it was finished being created) or something i'm missing?  if i
can give any information which will help the diagnosis of this problem
please specify it.

thanks,
maurice


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 13:54:39 2003
Return-Path: 
 <lucene-user-return-5753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80128 invoked from network); 28 Oct 2003 13:54:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 13:54:39 -0000
Received: (qmail 41825 invoked by uid 500); 28 Oct 2003 13:54:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41763 invoked by uid 500); 28 Oct 2003 13:54:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41750 invoked from network); 28 Oct 2003 13:54:31 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.106)
  by daedalus.apache.org with SMTP; 28 Oct 2003 13:54:31 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 28 Oct 2003 05:54:33 -0800
Received: from 200.214.14.1 by by8fd.bay8.hotmail.msn.com with HTTP;
	Tue, 28 Oct 2003 13:54:32 GMT
X-Originating-IP: [200.214.14.1]
X-Originating-Email: [william_wws@hotmail.com]
From: "William W" <william_wws@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Best practice
Date: Tue, 28 Oct 2003 13:54:32 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F106EPwBohrrp900004ac9@hotmail.com>
X-OriginalArrivalTime: 28 Oct 2003 13:54:33.0108 (UTC)
 FILETIME=[03FE2D40:01C39D5B]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Folks,
Is there any Lucene best practice ?
Thanks,
William.

_________________________________________________________________
Send instant messages to anyone on your contact list with  MSN Messenger 
6.0.  Try it now FREE!  http://msnmessenger-download.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 14:20:54 2003
Return-Path: 
 <lucene-user-return-5755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2891 invoked from network); 28 Oct 2003 14:20:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 14:20:54 -0000
Received: (qmail 86764 invoked by uid 500); 28 Oct 2003 14:20:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86554 invoked by uid 500); 28 Oct 2003 14:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86541 invoked from network); 28 Oct 2003 14:20:46 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 28 Oct 2003 14:20:46 -0000
Received: (cpmta 1805 invoked from network); 28 Oct 2003 06:20:46 -0800
Received: from 216.12.13.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 28 Oct 2003 06:20:46 -0800
X-Sent: 28 Oct 2003 14:20:46 GMT
Date: Tue, 28 Oct 2003 09:20:50 -0500
Subject: Re: Best practice
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY8-F106EPwBohrrp900004ac9@hotmail.com>
Message-Id: <EE6C1F4F-0951-11D8-983F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 28, 2003, at 08:54  AM, William W wrote:
> Is there any Lucene best practice ?

Is there anything in particular you're interested in knowing about?  
This list and its archives contain in conjunction with the jGuru FAQ 
are the best sources for such info currently.... as well as the 
articles that can be found on the Lucene website.  In fact, I'll 
pre-hype another java.net article that I'm writing as we speak- it is 
on QueryParser, detailing what it does and the caveats to its use.

I have a pretty good feeling that we'll be treated to more writings on 
Lucene in the near future ;)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 13:55:35 2003
Return-Path: 
 <lucene-user-return-5754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80486 invoked from network); 28 Oct 2003 13:55:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 13:55:35 -0000
Received: (qmail 43697 invoked by uid 500); 28 Oct 2003 13:55:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43532 invoked by uid 500); 28 Oct 2003 13:55:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43515 invoked from network); 28 Oct 2003 13:55:26 -0000
Received: from unknown (HELO mslinux.media-style.com) (193.158.254.27)
  by daedalus.apache.org with SMTP; 28 Oct 2003 13:55:26 -0000
Received: from media-style.com (morpheus.local [192.168.200.8])
	by mslinux.media-style.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP
 id h9SDgOj31642
	for <lucene-user@jakarta.apache.org>; Tue, 28 Oct 2003 14:42:24 +0100
Message-ID: <3F9E83D2.6020109@media-style.com>
Date: Tue, 28 Oct 2003 15:57:22 +0100
From: Stefan Groschupf <sg@media-style.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;
 rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best practice
References: <BAY8-F106EPwBohrrp900004ac9@hotmail.com>
In-Reply-To: <BAY8-F106EPwBohrrp900004ac9@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

William W wrote:

>
> Hi Folks,
> Is there any Lucene best practice ?

www.nutch.org ;)






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 16:03:40 2003
Return-Path: 
 <lucene-user-return-5756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62101 invoked from network); 28 Oct 2003 16:03:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 16:03:40 -0000
Received: (qmail 37398 invoked by uid 500); 28 Oct 2003 16:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37367 invoked by uid 500); 28 Oct 2003 16:03:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37342 invoked from network); 28 Oct 2003 16:03:10 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.89)
  by daedalus.apache.org with SMTP; 28 Oct 2003 16:03:10 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 28 Oct 2003 08:03:12 -0800
Received: from 200.214.14.1 by by8fd.bay8.hotmail.msn.com with HTTP;
	Tue, 28 Oct 2003 16:03:12 GMT
X-Originating-IP: [200.214.14.1]
X-Originating-Email: [william_wws@hotmail.com]
From: "William W" <william_wws@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Best practice
Date: Tue, 28 Oct 2003 16:03:12 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F89mOZXNU79I6O0002057f@hotmail.com>
X-OriginalArrivalTime: 28 Oct 2003 16:03:12.0892 (UTC)
 FILETIME=[FD57BBC0:01C39D6C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Erik,
I'm using Lucene more than one year in our project. Lucene gave us the 
flexibility that we need ( - the like %something  syntax :).
But... I would like to know if we are doing everything in the best way 
(nothing in particular).
Why don't you write a book about Lucene ? : )
Thanks Erik,
William.


>From: Erik Hatcher <erik@ehatchersolutions.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Subject: Re: Best practice
>Date: Tue, 28 Oct 2003 09:20:50 -0500
>
>On Tuesday, October 28, 2003, at 08:54  AM, William W wrote:
>>Is there any Lucene best practice ?
>
>Is there anything in particular you're interested in knowing about?  This 
>list and its archives contain in conjunction with the jGuru FAQ are the 
>best sources for such info currently.... as well as the articles that can 
>be found on the Lucene website.  In fact, I'll pre-hype another java.net 
>article that I'm writing as we speak- it is on QueryParser, detailing what 
>it does and the caveats to its use.
>
>I have a pretty good feeling that we'll be treated to more writings on 
>Lucene in the near future ;)
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Enjoy MSN 8 patented spam control and more with MSN 8 Dial-up Internet 
Service.  Try it FREE for one month!   http://join.msn.com/?page=dept/dialup


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 16:21:46 2003
Return-Path: 
 <lucene-user-return-5757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69667 invoked from network); 28 Oct 2003 16:21:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 16:21:46 -0000
Received: (qmail 66255 invoked by uid 500); 28 Oct 2003 16:21:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66183 invoked by uid 500); 28 Oct 2003 16:21:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66169 invoked from network); 28 Oct 2003 16:21:35 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 28 Oct 2003 16:21:35 -0000
Message-ID: <20031028162130.74100.qmail@web12703.mail.yahoo.com>
Received: from [194.152.209.108] by web12703.mail.yahoo.com via HTTP;
 Tue, 28 Oct 2003 08:21:30 PST
Date: Tue, 28 Oct 2003 08:21:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Best practice
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY8-F89mOZXNU79I6O0002057f@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- William W <william_wws@hotmail.com> wrote:
> 
> Hi Erik,
> Why don't you write a book about Lucene ? : )

Maybe he already is writing it. :)

Regarding your original question, I don't think anyone will be able to
answer it, as it is quite general.  I suggest you describe pieces of
your code that concern you, and then others may be able to help you
with their advice.

Otis


> >From: Erik Hatcher <erik@ehatchersolutions.com>
> >Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >Subject: Re: Best practice
> >Date: Tue, 28 Oct 2003 09:20:50 -0500
> >
> >On Tuesday, October 28, 2003, at 08:54  AM, William W wrote:
> >>Is there any Lucene best practice ?
> >
> >Is there anything in particular you're interested in knowing about? 
> This 
> >list and its archives contain in conjunction with the jGuru FAQ are
> the 
> >best sources for such info currently.... as well as the articles
> that can 
> >be found on the Lucene website.  In fact, I'll pre-hype another
> java.net 
> >article that I'm writing as we speak- it is on QueryParser,
> detailing what 
> >it does and the caveats to its use.
> >
> >I have a pretty good feeling that we'll be treated to more writings
> on 
> >Lucene in the near future ;)
> >
> >	Erik
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> _________________________________________________________________
> Enjoy MSN 8 patented spam control and more with MSN 8 Dial-up
> Internet 
> Service.  Try it FREE for one month!  
> http://join.msn.com/?page=dept/dialup
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 16:26:06 2003
Return-Path: 
 <lucene-user-return-5758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71849 invoked from network); 28 Oct 2003 16:26:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 16:26:06 -0000
Received: (qmail 72060 invoked by uid 500); 28 Oct 2003 16:25:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71742 invoked by uid 500); 28 Oct 2003 16:25:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71728 invoked from network); 28 Oct 2003 16:25:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 28 Oct 2003 16:25:55 -0000
Received: (cpmta 25450 invoked from network); 28 Oct 2003 08:25:57 -0800
Received: from 216.12.13.89 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 28 Oct 2003 08:25:57 -0800
X-Sent: 28 Oct 2003 16:25:57 GMT
Date: Tue, 28 Oct 2003 11:26:01 -0500
Subject: Re: Best practice
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY8-F89mOZXNU79I6O0002057f@hotmail.com>
Message-Id: <6B9423F6-0963-11D8-983F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday, October 28, 2003, at 11:03  AM, William W wrote:
> I'm using Lucene more than one year in our project. Lucene gave us the 
> flexibility that we need ( - the like %something  syntax :).
> But... I would like to know if we are doing everything in the best way 
> (nothing in particular).

Could you describe your architecture to us and let the lucene-user 
community critique it based on the collective best practices?

Lucene is such a generically useful little gem that I think its quite 
difficult to pin down a set of best practices that are generally 
applicable.  It really all depends on what are you doing with it.

A collection of case studies really seems to be the most useful to 
study, and pull out what is useful as it relates to your environment.  
I am *keenly* interested in collecting such case studies.  If you've 
built something useful around Lucene and care to share, let's hear it.  
If you want to have your case studies published in a more formal manner 
than within lucene-user archives, contact me off the list and let me 
know what you're up to with Lucene and you may just .....

> Why don't you write a book about Lucene ? : )

.... no comment. ;)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 16:55:40 2003
Return-Path: 
 <lucene-user-return-5759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86981 invoked from network); 28 Oct 2003 16:55:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 16:55:40 -0000
Received: (qmail 34238 invoked by uid 500); 28 Oct 2003 16:55:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34204 invoked by uid 500); 28 Oct 2003 16:55:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34191 invoked from network); 28 Oct 2003 16:55:29 -0000
Received: from unknown (HELO bastion.meta-level.de) (80.242.161.211)
  by daedalus.apache.org with SMTP; 28 Oct 2003 16:55:29 -0000
Received: from meta5.intern.meta-level.de (meta5.intern.meta-level.de
 [10.0.0.5])
	by bastion.meta-level.de (Postfix) with ESMTP id 102CF3231F
	for <lucene-user@jakarta.apache.org>; Tue, 28 Oct 2003 17:59:28 +0100 (CET)
Received: from meta-level.de (meta128.intern.meta-level.de [10.0.0.128])
	by meta5.intern.meta-level.de (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with
 ESMTP id h9SGtQL11353
	for <lucene-user@jakarta.apache.org>; Tue, 28 Oct 2003 17:55:26 +0100
Message-ID: <3F9E9F80.9090501@meta-level.de>
Date: Tue, 28 Oct 2003 17:55:28 +0100
From: Stephan Melchior <stephan.melchior@meta-level.de>
Organization: META-LEVEL AG
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; de-DE;
 rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: de-de, de
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Performing subqueries on a result
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm new with Lucene and need help,
My Problem:
I successfully performed a query via
 hits = searcher.search(query);

Now i want to limit my search exactly on the results in hits.
Is this possible with Lucene?

Greetings
 Stephan

-- 
Stephan Melchior
Dipl.-Inf. 
META-LEVEL Software AG
- Softwareentwicklung und Schulung -
Saarbr�cker Str. 51
66130 Saarbr�cken
Tel.: 0681 / 99687 - 0
Fax.: 0681 / 99687 - 99

Es wird immer weitergehen, 
	Musik als Tr�ger von Ideen!



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 17:05:21 2003
Return-Path: 
 <lucene-user-return-5760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93031 invoked from network); 28 Oct 2003 17:05:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 17:05:21 -0000
Received: (qmail 57917 invoked by uid 500); 28 Oct 2003 17:05:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57734 invoked by uid 500); 28 Oct 2003 17:05:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57721 invoked from network); 28 Oct 2003 17:05:09 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 28 Oct 2003 17:05:09 -0000
Message-ID: <20031028170512.18409.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.108] by web12702.mail.yahoo.com via HTTP;
 Tue, 28 Oct 2003 09:05:12 PST
Date: Tue, 28 Oct 2003 09:05:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Performing subqueries on a result
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F9E9F80.9090501@meta-level.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've seen people just an additional BooleanClause and join it with the
original query using an AND.

Otis

--- Stephan Melchior <stephan.melchior@meta-level.de> wrote:
> Hi,
> 
> I'm new with Lucene and need help,
> My Problem:
> I successfully performed a query via
>  hits = searcher.search(query);
> 
> Now i want to limit my search exactly on the results in hits.
> Is this possible with Lucene?
> 
> Greetings
>  Stephan
> 
> -- 
> Stephan Melchior
> Dipl.-Inf. 
> META-LEVEL Software AG
> - Softwareentwicklung und Schulung -
> Saarbr�cker Str. 51
> 66130 Saarbr�cken
> Tel.: 0681 / 99687 - 0
> Fax.: 0681 / 99687 - 99
> 
> Es wird immer weitergehen, 
> 	Musik als Tr�ger von Ideen!
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 17:25:48 2003
Return-Path: 
 <lucene-user-return-5761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6204 invoked from network); 28 Oct 2003 17:25:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 17:25:48 -0000
Received: (qmail 16558 invoked by uid 500); 28 Oct 2003 17:25:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16529 invoked by uid 500); 28 Oct 2003 17:25:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16515 invoked from network); 28 Oct 2003 17:25:33 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 28 Oct 2003 17:25:33 -0000
Received: (cpmta 24779 invoked from network); 28 Oct 2003 09:25:36 -0800
Received: from 128.143.171.69 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 28 Oct 2003 09:25:36 -0800
X-Sent: 28 Oct 2003 17:25:36 GMT
Date: Tue, 28 Oct 2003 12:25:40 -0500
Subject: Re: Performing subqueries on a result
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3F9E9F80.9090501@meta-level.de>
Message-Id: <C0E54F01-096B-11D8-983F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As well as what Otis said, look at using a QueryFilter too.

Both will do effectively the same thing, with some differences in=20
scoring though.

	Erik


On Tuesday, October 28, 2003, at 11:55  AM, Stephan Melchior wrote:

> Hi,
>
> I'm new with Lucene and need help,
> My Problem:
> I successfully performed a query via
> hits =3D searcher.search(query);
>
> Now i want to limit my search exactly on the results in hits.
> Is this possible with Lucene?
>
> Greetings
> Stephan
>
> --=20
> Stephan Melchior
> Dipl.-Inf. META-LEVEL Software AG
> - Softwareentwicklung und Schulung -
> Saarbr=FCcker Str. 51
> 66130 Saarbr=FCcken
> Tel.: 0681 / 99687 - 0
> Fax.: 0681 / 99687 - 99
>
> Es wird immer weitergehen, 	Musik als Tr=E4ger von Ideen!
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Tue Oct 28 17:39:03 2003
Return-Path: 
 <lucene-user-return-5762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12583 invoked from network); 28 Oct 2003 17:39:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 28 Oct 2003 17:39:03 -0000
Received: (qmail 50938 invoked by uid 500); 28 Oct 2003 17:38:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50911 invoked by uid 500); 28 Oct 2003 17:38:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50896 invoked from network); 28 Oct 2003 17:38:50 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 28 Oct 2003 17:38:50 -0000
Message-ID: <20031028173840.89157.qmail@web12704.mail.yahoo.com>
Received: from [194.152.209.108] by web12704.mail.yahoo.com via HTTP;
 Tue, 28 Oct 2003 09:38:40 PST
Date: Tue, 28 Oct 2003 09:38:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: A book about Lucene coming soon to a book store near you
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Erik Hatcher and I are in the process of writing a book about Lucene.

Among other things, we would like to include 'Lucene Patterns' /
'Lucene Best Practices' type of material in the book.

If you feel that you have observed and/or implemented Lucene usage
patterns that look like they represent good Lucene usage, please feel
free to write to either Erik or me, or to lucene-user list.

Similarly, as Erik already mentioned in an earlier email, we will be
including some case studies in this book.  If you have developed an
application that uses Lucene, and uses it in a clever, innovative, or
interesting way, and would like to contribute a short case-study,
please let Erik or me know, so we can learn about what you have done
with Lucene.

We welcome any other suggestions for the book.  If you have any, please
email us directly, so we don't polute the mailing list.

Thanks,
Otis


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 06:59:06 2003
Return-Path: 
 <lucene-user-return-5763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9587 invoked from network); 29 Oct 2003 06:59:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 06:59:06 -0000
Received: (qmail 61468 invoked by uid 500); 29 Oct 2003 06:58:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60994 invoked by uid 500); 29 Oct 2003 06:58:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60980 invoked from network); 29 Oct 2003 06:58:38 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 29 Oct 2003 06:58:38 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id 401CBA941
	for <lucene-user@jakarta.apache.org>; Tue, 28 Oct 2003 22:58:49 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id h9T6wnPe073207
	for lucene-user@jakarta.apache.org; Tue, 28 Oct 2003 22:58:49 -0800 (PST)
	(envelope-from dror)
Date: Tue, 28 Oct 2003 22:58:49 -0800
From: Dror Matalon <dror@zapatec.com>
To: lucene-user@jakarta.apache.org
Subject: Multiple writers
Message-ID: <20031029065849.GB2979@rlx11.zapatec.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi folks,

We're in the process of adding search to our online RSS aggregator. You
can see it in action at www.fastbuzz.com.

Currently we have more than five million items in the systems and it's
growing at the rate of more than 100,00 a day.  So we need to take into
account is that the index is constantly growing.

One of the things we want to build into the system is the ability to
rebuild the index on the fly while still inserting the items that are
coming in. 

We've looked at having things go into different directories and then
merge them, but it seems complicated and we'd need to worry about race
conditions and locking issues.

Anyone's done this before? Any suggestions?


Regards,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 12:57:01 2003
Return-Path: 
 <lucene-user-return-5764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1463 invoked from network); 29 Oct 2003 12:57:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 12:57:01 -0000
Received: (qmail 98521 invoked by uid 500); 29 Oct 2003 12:56:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98491 invoked by uid 500); 29 Oct 2003 12:56:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98478 invoked from network); 29 Oct 2003 12:56:54 -0000
Received: from unknown (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 29 Oct 2003 12:56:54 -0000
Received: from etapestry.com (168-215-193-254.dslindiana.com
 [168.215.193.254]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange
 Internet Mail Service Version 5.5.2650.21)
	id VRMF2HZ8; Wed, 29 Oct 2003 07:57:58 -0500
Message-ID: <3F9FB915.7040504@etapestry.com>
Date: Wed, 29 Oct 2003 07:56:53 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Multiple writers
References: <20031029065849.GB2979@rlx11.zapatec.com>
In-Reply-To: <20031029065849.GB2979@rlx11.zapatec.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Offhand, I would say that using 2 directories and merging them is 
exactly what you waht.  It really shouldn't be all that complicated and 
Lucene should handle the synchronization for you...

Scott

Dror Matalon wrote:

>Hi folks,
>
>We're in the process of adding search to our online RSS aggregator. You
>can see it in action at www.fastbuzz.com.
>
>Currently we have more than five million items in the systems and it's
>growing at the rate of more than 100,00 a day.  So we need to take into
>account is that the index is constantly growing.
>
>One of the things we want to build into the system is the ability to
>rebuild the index on the fly while still inserting the items that are
>coming in. 
>
>We've looked at having things go into different directories and then
>merge them, but it seems complicated and we'd need to worry about race
>conditions and locking issues.
>
>Anyone's done this before? Any suggestions?
>
>
>Regards,
>
>Dror
>
>  
>

-- 
...there is nothing more difficult to execute, nor more dubious of success, nor more dangerous to administer than to introduce a new order to things; for he who introduces it has all those who profit from the old order as his enemies; and he has only lukewarm allies in all those who might profit from the new. - Niccolo Machiavelli



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 17:03:35 2003
Return-Path: 
 <lucene-user-return-5765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77412 invoked from network); 29 Oct 2003 17:03:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 17:03:35 -0000
Received: (qmail 72707 invoked by uid 500); 29 Oct 2003 17:03:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72500 invoked by uid 500); 29 Oct 2003 17:03:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72480 invoked from network); 29 Oct 2003 17:03:23 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 29 Oct 2003 17:03:23 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9TH3QHx011909
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 09:03:26 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-74-42.adslplus.ch [62.167.74.42])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 3.0) with ESMTP id h9TH3Opa013100
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 09:03:25 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
Content-Transfer-Encoding: 7bit
Message-Id: <CCFF2D8E-0A31-11D8-BE34-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: petite_abeille <petite_abeille@mac.com>
Subject: java.nio.channels.FileLock
Date: Wed, 29 Oct 2003 18:03:21 +0100
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Just stumbled upon that:

http://java.sun.com/j2se/1.4.1/docs/api/java/nio/channels/FileLock.html

Which might be of interest to Lucene if the library ever migrates to 
1.4 :)

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 18:09:29 2003
Return-Path: 
 <lucene-user-return-5766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18802 invoked from network); 29 Oct 2003 18:09:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 18:09:29 -0000
Received: (qmail 66249 invoked by uid 500); 29 Oct 2003 18:09:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66088 invoked by uid 500); 29 Oct 2003 18:09:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66075 invoked from network); 29 Oct 2003 18:09:16 -0000
Received: from unknown (HELO stonefish.tiscali.nl) (195.241.76.181)
  by daedalus.apache.org with SMTP; 29 Oct 2003 18:09:16 -0000
Received: from xiam2000 (xs195-240-211-150.dial.tiscali.nl [195.240.211.150])
	by stonefish.tiscali.nl (Postfix) with SMTP id 40A156D5E5
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 19:09:14 +0100 (MET)
Message-ID: <007f01c39e47$b49731a0$60fdfea9@xiam2000>
From: "Ronald Muller" <rk.muller@12move.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <CCFF2D8E-0A31-11D8-BE34-000393760B7E@mac.com>
Subject: Re: java.nio.channels.FileLock
Date: Wed, 29 Oct 2003 19:08:49 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is the advantage of using a FileLock object instead of the way Lucene
does it? (I do not see it)

Also note an mportant limitation:
"File locks are held on behalf of the entire Java virtual machine. They are
not suitable for controlling access to a file by multiple threads within the
same virtual machine."

Ronald Muller

----- Original Message -----
From: "petite_abeille" <petite_abeille@mac.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 29, 2003 6:03 PM
Subject: java.nio.channels.FileLock


> Hello,
>
> Just stumbled upon that:
>
> http://java.sun.com/j2se/1.4.1/docs/api/java/nio/channels/FileLock.html
>
> Which might be of interest to Lucene if the library ever migrates to
> 1.4 :)
>
> Cheers,
>
> PA.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 18:13:05 2003
Return-Path: 
 <lucene-user-return-5767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21066 invoked from network); 29 Oct 2003 18:13:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 18:13:05 -0000
Received: (qmail 73765 invoked by uid 500); 29 Oct 2003 18:12:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73709 invoked by uid 500); 29 Oct 2003 18:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73695 invoked from network); 29 Oct 2003 18:12:50 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 29 Oct 2003 18:12:50 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9TICr9D022139
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 10:12:53 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-74-42.adslplus.ch [62.167.74.42])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9TICqZq008011
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 10:12:53 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <007f01c39e47$b49731a0$60fdfea9@xiam2000>
References: <CCFF2D8E-0A31-11D8-BE34-000393760B7E@mac.com>
 <007f01c39e47$b49731a0$60fdfea9@xiam2000>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <80E41DDA-0A3B-11D8-9C41-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: java.nio.channels.FileLock
Date: Wed, 29 Oct 2003 19:12:48 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Oct 29, 2003, at 19:08, Ronald Muller wrote:

> What is the advantage of using a FileLock object instead of the way 
> Lucene
> does it? (I do not see it)

Less code. Less worries.

> Also note an mportant limitation:
> "File locks are held on behalf of the entire Java virtual machine. 
> They are
> not suitable for controlling access to a file by multiple threads 
> within the
> same virtual machine."

Perhaps. Have you used it? Any practical experience with it? For or 
against?

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 19:39:29 2003
Return-Path: 
 <lucene-user-return-5768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63574 invoked from network); 29 Oct 2003 19:39:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 19:39:29 -0000
Received: (qmail 12810 invoked by uid 500); 29 Oct 2003 19:39:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12780 invoked by uid 500); 29 Oct 2003 19:39:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12767 invoked from network); 29 Oct 2003 19:39:14 -0000
Received: from unknown (HELO rlx13.zapatec.com) (66.117.144.213)
  by daedalus.apache.org with SMTP; 29 Oct 2003 19:39:14 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by rlx13.zapatec.com (Postfix) with ESMTP id F0867A941
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 11:39:19 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id h9TJdJii074906
	for lucene-user@jakarta.apache.org; Wed, 29 Oct 2003 11:39:19 -0800 (PST)
	(envelope-from dror)
Date: Wed, 29 Oct 2003 11:39:19 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Multiple writers
Message-ID: <20031029193919.GD2979@rlx11.zapatec.com>
References: <20031029065849.GB2979@rlx11.zapatec.com>
 <3F9FB915.7040504@etapestry.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3F9FB915.7040504@etapestry.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, Oct 29, 2003 at 07:56:53AM -0500, Scott Ganyo wrote:
> Offhand, I would say that using 2 directories and merging them is 
> exactly what you waht.  It really shouldn't be all that complicated and 
> Lucene should handle the synchronization for you...

Will it do that if we build the indexes in two different JVMs, and let
one of them handle the merge. I realize that Lucene is thread safe, and
handles the locking, but I thought that that's only true if you do all
the work in a single JVM.

Regards,

Dror

> 
> Scott
> 
> Dror Matalon wrote:
> 
> >Hi folks,
> >
> >We're in the process of adding search to our online RSS aggregator. You
> >can see it in action at www.fastbuzz.com.
> >
> >Currently we have more than five million items in the systems and it's
> >growing at the rate of more than 100,00 a day.  So we need to take into
> >account is that the index is constantly growing.
> >
> >One of the things we want to build into the system is the ability to
> >rebuild the index on the fly while still inserting the items that are
> >coming in. 
> >
> >We've looked at having things go into different directories and then
> >merge them, but it seems complicated and we'd need to worry about race
> >conditions and locking issues.
> >
> >Anyone's done this before? Any suggestions?
> >
> >
> >Regards,
> >
> >Dror
> >
> > 
> >
> 
> -- 
> ...there is nothing more difficult to execute, nor more dubious of success, 
> nor more dangerous to administer than to introduce a new order to things; 
> for he who introduces it has all those who profit from the old order as his 
> enemies; and he has only lukewarm allies in all those who might profit from 
> the new. - Niccolo Machiavelli
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 20:18:23 2003
Return-Path: 
 <lucene-user-return-5769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82555 invoked from network); 29 Oct 2003 20:18:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 20:18:23 -0000
Received: (qmail 69046 invoked by uid 500); 29 Oct 2003 20:17:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69016 invoked by uid 500); 29 Oct 2003 20:17:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68975 invoked from network); 29 Oct 2003 20:17:55 -0000
Received: from unknown (HELO mail-1.tiscali.it) (195.130.225.147)
  by daedalus.apache.org with SMTP; 29 Oct 2003 20:17:55 -0000
Received: from ARIEL (217.133.146.63) by mail-1.tiscali.it (6.7.019)
        id 3F9FA0D0000968DB for lucene-user@jakarta.apache.org;
 Wed, 29 Oct 2003 21:18:00 +0100
Message-ID: <002501c39e59$bf852d80$4900a8c0@ARIEL>
From: "Francesco Bellomi" <fbellomi@libero.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <CCFF2D8E-0A31-11D8-BE34-000393760B7E@mac.com>
 <007f01c39e47$b49731a0$60fdfea9@xiam2000>
Subject: Re: java.nio.channels.FileLock
Date: Wed, 29 Oct 2003 21:17:58 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Ronald Muller <rk.muller@12move.nl> wrote:
> What is the advantage of using a FileLock object instead of the way
> Lucene does it? (I do not see it)

FileLock makes use of the underlying locking mechanism of the OS that is
more robust, whereas I think current Lucene implementation has some problems
if the JVM dies unexpectedly, because some locks may be left behind, and
subsequent Lucene processes may find the index locked even if the process
that originally created the lock no more exists.

Also, I believe (but I'm not sure) that FileLock could be more efficient,
because it does not require the creation of a file in the file system.

>
> Also note an mportant limitation:
> "File locks are held on behalf of the entire Java virtual machine.
> They are not suitable for controlling access to a file by multiple
> threads within the same virtual machine."

I think a reliable locking mechanism should combine local synchronization
mechanisms for thread-safety in the same VM, with file locking for
concurrency safety between multiple VM.

Also, I noticed that 1.3 RC2 puts locks in "java.io.tmpdir", which
initialized as the default system directory for temporary files. I think
this default can cause some troubles, if two processes running in different
machines are using the same index in a shared file system, because the two
machines have different (local) default temp dir.

Francesco


-
Francesco Bellomi
"Use truth to show illusion,
and illusion to show truth."



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 22:01:10 2003
Return-Path: 
 <lucene-user-return-5770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33764 invoked from network); 29 Oct 2003 22:01:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 22:01:10 -0000
Received: (qmail 47334 invoked by uid 500); 29 Oct 2003 22:00:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47304 invoked by uid 500); 29 Oct 2003 22:00:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47291 invoked from network); 29 Oct 2003 22:00:48 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 29 Oct 2003 22:00:48 -0000
Message-ID: <20031029220054.69003.qmail@web12704.mail.yahoo.com>
Received: from [195.29.138.198] by web12704.mail.yahoo.com via HTTP;
 Wed, 29 Oct 2003 14:00:54 PST
Date: Wed, 29 Oct 2003 14:00:54 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple writers
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031029193919.GD2979@rlx11.zapatec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


--- Dror Matalon <dror@zapatec.com> wrote:
> On Wed, Oct 29, 2003 at 07:56:53AM -0500, Scott Ganyo wrote:
> > Offhand, I would say that using 2 directories and merging them is 
> > exactly what you waht.  It really shouldn't be all that complicated
> and 
> > Lucene should handle the synchronization for you...
> 
> Will it do that if we build the indexes in two different JVMs, and
> let
> one of them handle the merge. I realize that Lucene is thread safe,
> and
> handles the locking, but I thought that that's only true if you do
> all the work in a single JVM.

Lucene uses file-based locks, so running application(s) that use the
same index in multiple JVMs, should be the same as running it in a
single JVM.

Otis


> > Scott
> > 
> > Dror Matalon wrote:
> > 
> > >Hi folks,
> > >
> > >We're in the process of adding search to our online RSS
> aggregator. You
> > >can see it in action at www.fastbuzz.com.
> > >
> > >Currently we have more than five million items in the systems and
> it's
> > >growing at the rate of more than 100,00 a day.  So we need to take
> into
> > >account is that the index is constantly growing.
> > >
> > >One of the things we want to build into the system is the ability
> to
> > >rebuild the index on the fly while still inserting the items that
> are
> > >coming in. 
> > >
> > >We've looked at having things go into different directories and
> then
> > >merge them, but it seems complicated and we'd need to worry about
> race
> > >conditions and locking issues.
> > >
> > >Anyone's done this before? Any suggestions?
> > >
> > >
> > >Regards,
> > >
> > >Dror
> > >
> > > 
> > >
> > 
> > -- 
> > ...there is nothing more difficult to execute, nor more dubious of
> success, 
> > nor more dangerous to administer than to introduce a new order to
> things; 
> > for he who introduces it has all those who profit from the old
> order as his 
> > enemies; and he has only lukewarm allies in all those who might
> profit from 
> > the new. - Niccolo Machiavelli
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> -- 
> Dror Matalon
> Zapatec Inc 
> 1700 MLK Way
> Berkeley, CA 94709
> http://www.zapatec.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Wed Oct 29 23:59:45 2003
Return-Path: 
 <lucene-user-return-5771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78432 invoked from network); 29 Oct 2003 23:59:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 29 Oct 2003 23:59:45 -0000
Received: (qmail 7966 invoked by uid 500); 29 Oct 2003 23:59:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7931 invoked by uid 500); 29 Oct 2003 23:59:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7917 invoked from network); 29 Oct 2003 23:59:23 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 29 Oct 2003 23:59:23 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9TNxTu26991
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 17:59:29 -0600
Message-ID: <004201c39e78$b18603c0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: <lucene-user@jakarta.apache.org>
Subject: Term out of order.
Date: Thu, 30 Oct 2003 10:59:27 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I'm using Lucene.Net but seems appropriate to post here as well. I have been
getting this exception "Term out of order" every now and then while doing a
bulk indexing.

I have been searching on the mailing list for this specific issue, but none
to avail. Does this occur on the Java version of Lucene?

thanks

/victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 00:09:31 2003
Return-Path: 
 <lucene-user-return-5772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82279 invoked from network); 30 Oct 2003 00:09:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 00:09:31 -0000
Received: (qmail 14501 invoked by uid 500); 30 Oct 2003 00:09:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14221 invoked by uid 500); 30 Oct 2003 00:09:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14208 invoked from network); 30 Oct 2003 00:09:11 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 30 Oct 2003 00:09:11 -0000
Message-ID: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
Received: from [195.29.138.198] by web12703.mail.yahoo.com via HTTP;
 Wed, 29 Oct 2003 16:09:18 PST
Date: Wed, 29 Oct 2003 16:09:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Term out of order.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004201c39e78$b18603c0$ce00a8c0@victor>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Apparently so :(
http://www.google.com/search?q=lucene+%22term+out+of+order%22

Otis

--- Victor Hadianto <vichad@hadianto.net> wrote:
> Hi all,
> 
> I'm using Lucene.Net but seems appropriate to post here as well. I
> have been
> getting this exception "Term out of order" every now and then while
> doing a
> bulk indexing.
> 
> I have been searching on the mailing list for this specific issue,
> but none
> to avail. Does this occur on the Java version of Lucene?
> 
> thanks
> 
> /victor
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 00:16:33 2003
Return-Path: 
 <lucene-user-return-5773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84278 invoked from network); 30 Oct 2003 00:16:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 00:16:33 -0000
Received: (qmail 20654 invoked by uid 500); 30 Oct 2003 00:16:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20624 invoked by uid 500); 30 Oct 2003 00:16:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20611 invoked from network); 30 Oct 2003 00:16:13 -0000
Received: from unknown (HELO avalon.siteprotect.com) (64.26.0.99)
  by daedalus.apache.org with SMTP; 30 Oct 2003 00:16:13 -0000
Received: from victor (m018-230.nv.iinet.net.au [203.217.18.230])
	by avalon.siteprotect.com (8.11.6/8.11.6) with ESMTP id h9U0GJX31023
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 18:16:20 -0600
Message-ID: <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
From: "Victor Hadianto" <vichad@hadianto.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
Subject: Re: Term out of order.
Date: Thu, 30 Oct 2003 11:16:18 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Apparently so :(
> http://www.google.com/search?q=lucene+%22term+out+of+order%22

Eeek .. so does anyone know what happen here?

/victor

> 
> Otis
> 
> --- Victor Hadianto <vichad@hadianto.net> wrote:
> > Hi all,
> > 
> > I'm using Lucene.Net but seems appropriate to post here as well. I
> > have been
> > getting this exception "Term out of order" every now and then while
> > doing a
> > bulk indexing.
> > 
> > I have been searching on the mailing list for this specific issue,
> > but none
> > to avail. Does this occur on the Java version of Lucene?
> > 
> > thanks
> > 
> > /victor
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Exclusive Video Premiere - Britney Spears
> http://launch.yahoo.com/promos/britneyspears/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 00:30:19 2003
Return-Path: 
 <lucene-user-return-5774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89225 invoked from network); 30 Oct 2003 00:30:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 00:30:19 -0000
Received: (qmail 37807 invoked by uid 500); 30 Oct 2003 00:29:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37782 invoked by uid 500); 30 Oct 2003 00:29:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37749 invoked from network); 30 Oct 2003 00:29:54 -0000
Received: from unknown (HELO mxsf05.cluster1.charter.net) (209.225.28.205)
  by daedalus.apache.org with SMTP; 30 Oct 2003 00:29:54 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf05.cluster1.charter.net (8.12.10/8.12.8) with SMTP id h9U0T1Lo069030
	for <lucene-user@jakarta.apache.org>; Wed, 29 Oct 2003 19:29:01 -0500 (EST)
	(envelope-from peter.keegan@charter.net)
Message-ID: <02ed01c39e7c$c53b5880$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
Subject: term counts during indexing
Date: Wed, 29 Oct 2003 19:28:41 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a simple and efficient way of determining the number of tokens
added
to a document after adding each field ('Document.add), as a result of the
actions
of the Analyzer, without having to re-parse the field?

Alternatively, is there a way to determine the number of tokens added after
adding the document to the index ('IndexWriter.addDocument')?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 00:54:57 2003
Return-Path: 
 <lucene-user-return-5775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99657 invoked from network); 30 Oct 2003 00:54:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 00:54:57 -0000
Received: (qmail 77295 invoked by uid 500); 30 Oct 2003 00:54:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77206 invoked by uid 500); 30 Oct 2003 00:54:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77193 invoked from network); 30 Oct 2003 00:54:34 -0000
Received: from unknown (HELO tisch.mail.mindspring.net) (207.69.200.157)
  by daedalus.apache.org with SMTP; 30 Oct 2003 00:54:34 -0000
Received: from h-66-167-146-189.mclnva23.dynamic.covad.net ([66.167.146.189]
 helo=POWERPACK)
	by tisch.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1AF15G-0007CW-00
	for lucene-user@jakarta.apache.org; Wed, 29 Oct 2003 19:54:42 -0500
Message-ID: <01da01c39e80$68125420$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
Subject: Re: Term out of order.
Date: Wed, 29 Oct 2003 19:54:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What kind of response is this? (e.g. "apparently so.")   Is this a problem
or not?

Regards,

Terry Steichen

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 29, 2003 7:09 PM
Subject: Re: Term out of order.


> Apparently so :(
> http://www.google.com/search?q=lucene+%22term+out+of+order%22
>
> Otis
>
> --- Victor Hadianto <vichad@hadianto.net> wrote:
> > Hi all,
> >
> > I'm using Lucene.Net but seems appropriate to post here as well. I
> > have been
> > getting this exception "Term out of order" every now and then while
> > doing a
> > bulk indexing.
> >
> > I have been searching on the mailing list for this specific issue,
> > but none
> > to avail. Does this occur on the Java version of Lucene?
> >
> > thanks
> >
> > /victor
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> Exclusive Video Premiere - Britney Spears
> http://launch.yahoo.com/promos/britneyspears/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 01:17:19 2003
Return-Path: 
 <lucene-user-return-5776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9171 invoked from network); 30 Oct 2003 01:17:19 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 01:17:19 -0000
Received: (qmail 11325 invoked by uid 500); 30 Oct 2003 01:16:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11129 invoked by uid 500); 30 Oct 2003 01:16:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11116 invoked from network); 30 Oct 2003 01:16:54 -0000
Received: from unknown (HELO MOBY.hahn.org) (63.203.90.131)
  by daedalus.apache.org with SMTP; 30 Oct 2003 01:16:54 -0000
Content-class: urn:content-classes:message
Subject: RE: Term out of order.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 29 Oct 2003 17:20:08 -0800
Message-ID: <86BA8E7DC433FD498CC92D431E1BB5A30F193F@moby.hahn.local>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6803.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Term out of order.
Thread-Index: AcOee3v6fkKhFvK0SDuxmG03ny330wAB6WSQ
From: "Eric Hahn" <eric@ingroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In a past life, Lucene (1.2, I believe) could be tricked into this
behavior if an ill-behaved app added fields with embedded \0's in their
value property.  If I recall, the \0 could end up being written in the
term data and corrupting the index for future readers.  It was awhile
ago - apologies if this turns out to be a red herring.


-----Original Message-----
From: Victor Hadianto [mailto:vichad@hadianto.net]=20
Sent: Wednesday, October 29, 2003 4:16 PM
To: Lucene Users List
Subject: Re: Term out of order.


> Apparently so :(=20
> http://www.google.com/search?q=3Dlucene+%22term+out+of+order%22

Eeek .. so does anyone know what happen here?

/victor

>=20
> Otis
>=20
> --- Victor Hadianto <vichad@hadianto.net> wrote:
> > Hi all,
> >=20
> > I'm using Lucene.Net but seems appropriate to post here as well. I=20
> > have been getting this exception "Term out of order" every now and=20
> > then while doing a
> > bulk indexing.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 02:44:34 2003
Return-Path: 
 <lucene-user-return-5777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46871 invoked from network); 30 Oct 2003 02:44:34 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 02:44:34 -0000
Received: (qmail 86239 invoked by uid 500); 30 Oct 2003 02:44:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86209 invoked by uid 500); 30 Oct 2003 02:44:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86190 invoked from network); 30 Oct 2003 02:44:11 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 30 Oct 2003 02:44:11 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AF2nK-0000FV-Cm
	for lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 15:44:18 +1300
Message-ID: <3FA07B01.8020300@cs.waikato.ac.nz>
Date: Thu, 30 Oct 2003 15:44:17 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term counts during indexing
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
 <02ed01c39e7c$c53b5880$02a8a8c0@peter>
In-Reply-To: <02ed01c39e7c$c53b5880$02a8a8c0@peter>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:

>Is there a simple and efficient way of determining the number of tokens
>added
>to a document after adding each field ('Document.add), as a result of the
>actions
>of the Analyzer, without having to re-parse the field

Peter --

you can ask the Document instance.

Document doc = getDocumentInstanceFromSomewhere();
int termCount = 0;
Enumertion fields = doc.fields();
while (fields.hasMoreElements()) {
    Field field = (Field)fields.nextElement();
    String fieldName = field.name();
    String[] fieldTerms = doc.getValues(fieldName);
    termCount += fieldTerms.length;
}
System.out.println("The fields of the document together contain 
"+termCount+" terms.");

Note that
1) I haven't tried to compile this code, so I'm not sure if it works
2) this will only work for those fields where field.isStored() == true. 
If the field isnt stored in the index, then you don't have a choice but 
to go back to the document.

[not sure on the following, so please correct me if in error:] Remember 
that unStored fields are indexed, so you can query on them, but the 
field terms themselves are not stored in the index. Therefore you cannot 
count them by asking Lucene. A Lucene field instance also has no way to 
reference the source of the terms that are added to it. The field 
doesn't care where its terms came from. So if field.isStored() == false, 
then for that particular field Lucene cannot tell you how many terms are 
in it. You'll have to write your own code that analyzes the original 
data source in this case.

>Alternatively, is there a way to determine the number of tokens added after
>adding the document to the index ('IndexWriter.addDocument')?
>  
>
Whether you want the termCount for a document before or after you add 
the document to the index doesn't matter, so the answer is "see above".

cheers,
Gerret


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 02:47:30 2003
Return-Path: 
 <lucene-user-return-5778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47810 invoked from network); 30 Oct 2003 02:47:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 02:47:30 -0000
Received: (qmail 88426 invoked by uid 500); 30 Oct 2003 02:47:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88396 invoked by uid 500); 30 Oct 2003 02:47:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88383 invoked from network); 30 Oct 2003 02:47:08 -0000
Received: from unknown (HELO ghoul.scms.waikato.ac.nz) (130.217.241.35)
  by daedalus.apache.org with SMTP; 30 Oct 2003 02:47:08 -0000
Received: from theta.cs.waikato.ac.nz ([130.217.244.196]
 helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with esmtp (Exim 4.23)
	id 1AF2qC-0000MN-KX
	for lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 15:47:16 +1300
Message-ID: <3FA07BB4.3040701@cs.waikato.ac.nz>
Date: Thu, 30 Oct 2003 15:47:16 +1300
From: Gerret Apelt <ga11@cs.waikato.ac.nz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031023
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: term counts during indexing
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
 <02ed01c39e7c$c53b5880$02a8a8c0@peter> <3FA07B01.8020300@cs.waikato.ac.nz>
In-Reply-To: <3FA07B01.8020300@cs.waikato.ac.nz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Clarification: in the text quoted below I meant to say "..... choice but 
to go back to the _original data source_".

cheers,
Gerret

Gerret Apelt wrote:

> Note that
> 1) I haven't tried to compile this code, so I'm not sure if it works
> 2) this will only work for those fields where field.isStored() == 
> true. If the field isnt stored in the index, then you don't have a 
> choice but to go back to the document.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 03:00:51 2003
Return-Path: 
 <lucene-user-return-5779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51845 invoked from network); 30 Oct 2003 03:00:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 03:00:51 -0000
Received: (qmail 98213 invoked by uid 500); 30 Oct 2003 03:00:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98186 invoked by uid 500); 30 Oct 2003 03:00:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98135 invoked from network); 30 Oct 2003 03:00:26 -0000
Received: from unknown (HELO bigdns.bigonthenet.com) (203.120.211.133)
  by daedalus.apache.org with SMTP; 30 Oct 2003 03:00:26 -0000
Received: from smile ([203.120.211.130])
	by bigdns.bigonthenet.com (8.9.3/8.9.3) with SMTP id JAA15752
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 09:52:42 +0800
Message-ID: <121701c39e93$36368670$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5C7A32E240A279479DFF44FDF01BBE62875E9B@sgges01.nstein.com>
 <003e01c39d41$4269c950$bf8401c1@mojo>
Subject: Re: large index query time
Date: Thu, 30 Oct 2003 11:08:49 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_1214_01C39ED6.321DA760"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_1214_01C39ED6.321DA760
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Doug Cutting !

That's really very helpful, thanks to Doug.
I'm doing the performance research of the lucene speed of indexing and =
searching engine.
So, isn't able to give me more details of=20
1. searching=20
>But if you=20
> need to search two million 2kB documents on a 500Mhz Pentium with =
128MB of
> RAM in a couple of seconds per query, you're probably okay.
What is the other hardware spec, like
- SCSI harddisk or IDE harddisk? If it's SCSI harddisk, what is the =
model of the harddisk and SCSI card model, XXXXPRM?
- Which OS was use for this performance testing?
- Which Application Server was use for this performance testing?

2. indexing (assume the hardware and software spec is same as searching =
server)
Index space should be generally less than the original document size, =
right?
Assume, for 500MB Disk Space for the application,=20
Max index size              : should been more than 250,000 document in =
2 KB size, right?
Max Speed of indexing : ??? documents in 2KB size per hours


Can share the performance test was done to among of us?

Thank You.

Regards,
AlexAw





----- Original Message -----=20
From: "Maurice Coyle" <maurice.coyle@ucd.ie>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, October 28, 2003 6:50 PM
Subject: Re: large index query time


> that's very helpful, thanks to all who replied.
>=20
> my index is definitely larger than my RAM so i guess the increase in =
query
> time is due to an increase in time to open the index/perform a search.
>=20
> thanks again,
> maurice
>=20
>=20
> ----- Original Message -----
> From: "Tate Avery" <tate.avery@nstein.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, October 24, 2003 5:33 PM
> Subject: RE: large index query time
>=20
>=20
>=20
> Below are some posts from Doug (circa 2001) that I found very helpful =
with
> regard to understanding Lucene scalability.  I am assuming that they =
are
> still generally applicable.  You might also find them useful.
>=20
> Tate
>=20
>=20
> -----------------------------------------------------------
>=20
>=20
> Performance for large indices is frequently governed by i/o =
performance.  If
> an index is larger than RAM then searches will need to read data from =
disk.
> This can quickly become a bottleneck.  A search for a term that occurs =
in a
> million documents can require over 1MB of data, which can take some =
time to
> read.  With multiple searching threads, the disk can easily become a
> bottleneck.  Disk arrays can alleviate this, more RAM helps even more!
>=20
> For some folks, queries that take over a second are unacceptable, for
> others, ten seconds is okay.
>=20
> Performance should be more-or-less linear: a two-million document =
index will
> be almost twice as slow to search as a one-million document index.  =
There
> are lots of factors, including document size, CPU-speed, RAM-size, i/o
> subsystem, but a rough rule-of-thumb for Lucene performance might be =
that,
> in a "typical" configuration, it can search a million documents per =
second.
>=20
> So if you need to search 20 million 100kB documents on a 100Mhz 386 =
with 8MB
> of RAM with sub-second response time, Lucene will probably fail.  But =
if you
> need to search two million 2kB documents on a 500Mhz Pentium with =
128MB of
> RAM in a couple of seconds per query, you're probably okay.
>=20
> - Doug Cutting (10/08/2001)
>=20
>=20
> Some more precise statements: The cost to search for a term is =
proportional
> to the number of documents that contain that term.  The cost to search =
for a
> phrase is proportional to the sum of the number of occurrences of its
> constituent terms.  The cost to execute a boolean query is the sum of =
the
> costs of its sub-queries.  Longer documents contain more terms: =
usually both
> more unique terms and more occurrences.
>=20
> Total vocabulary size is not a big factor in search performance.  When =
you
> open an index Lucene does read one out of every 128 unique terms into =
a
> table, so an index with a large number of unique terms will be slower =
to
> open.  Searching that table for query terms is also slower for bigger
> indexes, but the time to search that table is not significant in =
overall
> performance.  Lucene also reads at index open one byte per document =
per
> indexed field (the normalization factor).  So an index with lots of
> documents and fields will also be slower to open.  But, once opened, =
the
> cost of searching is largely dependent on the frequency =
characteristics of
> query terms.  And, since IndexReaders and Searchers are thread safe, =
you
> don't need to open indexes very often.
>=20
> - Doug Cutting (10/08/2001)
>=20
>=20
>=20
>=20
>=20
> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: October 24, 2003 1:33 PM
> To: 'Lucene Users List'
> Subject: RE: large index query time
>=20
>=20
> My experience is that the query time (and memory usage) can be =
affected
> greatly by booleans that retrieve lots of results.
>=20
> Are you finding it slow when doing a simple query that should return =
only a
> handful of results, or is it on more complex queries?
>=20
> -----Original Message-----
> From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
> Sent: Friday, October 24, 2003 1:29 PM
> To: Lucene Users List
> Subject: large index query time
>=20
>=20
> hi,
> i recently merged a whole lot of indexes into one big index for =
testing
> purposes.  however, now the programs i use to search the index are =
taking
> much longer.  this may be a stupid question (or very simple) and =
please tell
> me if it is, but should this be the case?  i mean, i realise it'll =
take
> longer to search over a larger collection, but it's taking an order of
> magnitude longer.  this is the reaosn i'm asking, since if lucene is =
capable
> of handling large-scale search apps presumably it's set up to search =
large
> collections rapidly.
>=20
> maybe there's some steps i can take to speed things up (i optimised =
the big
> index when it was finished being created) or something i'm missing?  =
if i
> can give any information which will help the diagnosis of this problem
> please specify it.
>=20
> thanks,
> maurice
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
------=_NextPart_000_1214_01C39ED6.321DA760--


From MAILER-DAEMON Thu Oct 30 07:41:07 2003
Return-Path: 
 <lucene-user-return-5780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43356 invoked from network); 30 Oct 2003 07:41:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 07:41:07 -0000
Received: (qmail 17089 invoked by uid 500); 30 Oct 2003 07:40:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17058 invoked by uid 500); 30 Oct 2003 07:40:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17043 invoked from network); 30 Oct 2003 07:40:39 -0000
Received: from unknown (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 30 Oct 2003 07:40:39 -0000
Received: (qmail 20754 invoked from network); 30 Oct 2003 07:40:47 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 30 Oct 2003 07:40:47 -0000
Message-ID: <003a01c39eb9$21f4de20$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing txt-files
Date: Thu, 30 Oct 2003 08:40:46 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C39EC1.836CD3D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 modified by kdi
 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C39EC1.836CD3D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

 Hello,

I  want to add a Text field to a LUCENE Document. I checked the index =
with LUKE, but I don't get any results for search in the contents Field. =
The test.txt is a simple ASCII-File. SimpleAnalyzer is used on both =
sides search and index.

Here are the relevant code snippets:


File file =3D new File("/documents/test.txt");

addContent(document, new FileInputStream( file ));


 private static void addContent(Document document, InputStream is) =
throws IOException {
        try {
            InputStreamReader input =3D new InputStreamReader(is);
            document.add(Field.Text("contents", input ));
         }
        catch(Exception ex) {
            ex.printStackTrace();
        }
        finally {
            if( is !=3D null ) {
                is.close();
            }
        }
    }


Thanks for your help

G=FCnter
------=_NextPart_000_0037_01C39EC1.836CD3D0--


From MAILER-DAEMON Thu Oct 30 07:53:57 2003
Return-Path: 
 <lucene-user-return-5781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47341 invoked from network); 30 Oct 2003 07:53:57 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 07:53:57 -0000
Received: (qmail 27051 invoked by uid 500); 30 Oct 2003 07:53:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26912 invoked by uid 500); 30 Oct 2003 07:53:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26898 invoked from network); 30 Oct 2003 07:53:28 -0000
Received: from unknown (HELO bigdns.bigonthenet.com) (203.120.211.133)
  by daedalus.apache.org with SMTP; 30 Oct 2003 07:53:28 -0000
Received: from smile ([203.120.211.130])
	by bigdns.bigonthenet.com (8.9.3/8.9.3) with SMTP id OAA15930
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 14:45:47 +0800
Message-ID: <127601c39ebc$283afaa0$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5C7A32E240A279479DFF44FDF01BBE62875E9B@sgges01.nstein.com>
 <003e01c39d41$4269c950$bf8401c1@mojo> <121701c39e93$36368670$0f02a8c0@smile>
Subject: lucene indexing and searching engine performance
Date: Thu, 30 Oct 2003 16:01:56 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Doug Cutting !

That's really very helpful, thanks to Doug.
I'm doing the performance research of the lucene speed of indexing and
searching engine.
So, isn't able to give me more details of
1. searching
>But if you
> need to search two million 2kB documents on a 500Mhz Pentium with 128MB of
> RAM in a couple of seconds per query, you're probably okay.
What is the other hardware spec, like
- SCSI harddisk or IDE harddisk? If it's SCSI harddisk, what is the model of
the harddisk and SCSI card model, XXXX PRM?
- Which OS was use for this performance testing?
- Which Application Server was use for this performance testing?

2. indexing (assume the hardware and software spec is same as searching
server)
Index space should be generally less than the original document size, right?
Assume, for 500MB Disk Space for the application,
Max index size              : should been more than 250,000 document in 2 KB
size, right?
Max Speed of indexing : ??? documents in 2KB size per hours


Can share the performance test was done to among of us?

Thank You.

Regards,
AlexAw





----- Original Message ----- 
From: "Maurice Coyle" <maurice.coyle@ucd.ie>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, October 28, 2003 6:50 PM
Subject: Re: large index query time


> that's very helpful, thanks to all who replied.
>
> my index is definitely larger than my RAM so i guess the increase in query
> time is due to an increase in time to open the index/perform a search.
>
> thanks again,
> maurice
>
>
> ----- Original Message -----
> From: "Tate Avery" <tate.avery@nstein.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, October 24, 2003 5:33 PM
> Subject: RE: large index query time
>
>
>
> Below are some posts from Doug (circa 2001) that I found very helpful with
> regard to understanding Lucene scalability.  I am assuming that they are
> still generally applicable.  You might also find them useful.
>
> Tate
>
>
> -----------------------------------------------------------
>
>
> Performance for large indices is frequently governed by i/o performance.
If
> an index is larger than RAM then searches will need to read data from
disk.
> This can quickly become a bottleneck.  A search for a term that occurs in
a
> million documents can require over 1MB of data, which can take some time
to
> read.  With multiple searching threads, the disk can easily become a
> bottleneck.  Disk arrays can alleviate this, more RAM helps even more!
>
> For some folks, queries that take over a second are unacceptable, for
> others, ten seconds is okay.
>
> Performance should be more-or-less linear: a two-million document index
will
> be almost twice as slow to search as a one-million document index.  There
> are lots of factors, including document size, CPU-speed, RAM-size, i/o
> subsystem, but a rough rule-of-thumb for Lucene performance might be that,
> in a "typical" configuration, it can search a million documents per
second.
>
> So if you need to search 20 million 100kB documents on a 100Mhz 386 with
8MB
> of RAM with sub-second response time, Lucene will probably fail.  But if
you
> need to search two million 2kB documents on a 500Mhz Pentium with 128MB of
> RAM in a couple of seconds per query, you're probably okay.
>
> - Doug Cutting (10/08/2001)
>
>
> Some more precise statements: The cost to search for a term is
proportional
> to the number of documents that contain that term.  The cost to search for
a
> phrase is proportional to the sum of the number of occurrences of its
> constituent terms.  The cost to execute a boolean query is the sum of the
> costs of its sub-queries.  Longer documents contain more terms: usually
both
> more unique terms and more occurrences.
>
> Total vocabulary size is not a big factor in search performance.  When you
> open an index Lucene does read one out of every 128 unique terms into a
> table, so an index with a large number of unique terms will be slower to
> open.  Searching that table for query terms is also slower for bigger
> indexes, but the time to search that table is not significant in overall
> performance.  Lucene also reads at index open one byte per document per
> indexed field (the normalization factor).  So an index with lots of
> documents and fields will also be slower to open.  But, once opened, the
> cost of searching is largely dependent on the frequency characteristics of
> query terms.  And, since IndexReaders and Searchers are thread safe, you
> don't need to open indexes very often.
>
> - Doug Cutting (10/08/2001)
>
>
>
>
>
> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> Sent: October 24, 2003 1:33 PM
> To: 'Lucene Users List'
> Subject: RE: large index query time
>
>
> My experience is that the query time (and memory usage) can be affected
> greatly by booleans that retrieve lots of results.
>
> Are you finding it slow when doing a simple query that should return only
a
> handful of results, or is it on more complex queries?
>
> -----Original Message-----
> From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
> Sent: Friday, October 24, 2003 1:29 PM
> To: Lucene Users List
> Subject: large index query time
>
>
> hi,
> i recently merged a whole lot of indexes into one big index for testing
> purposes.  however, now the programs i use to search the index are taking
> much longer.  this may be a stupid question (or very simple) and please
tell
> me if it is, but should this be the case?  i mean, i realise it'll take
> longer to search over a larger collection, but it's taking an order of
> magnitude longer.  this is the reaosn i'm asking, since if lucene is
capable
> of handling large-scale search apps presumably it's set up to search large
> collections rapidly.
>
> maybe there's some steps i can take to speed things up (i optimised the
big
> index when it was finished being created) or something i'm missing?  if i
> can give any information which will help the diagnosis of this problem
> please specify it.
>
> thanks,
> maurice
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 08:17:24 2003
Return-Path: 
 <lucene-user-return-5782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61328 invoked from network); 30 Oct 2003 08:17:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 08:17:24 -0000
Received: (qmail 62829 invoked by uid 500); 30 Oct 2003 08:16:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62568 invoked by uid 500); 30 Oct 2003 08:16:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62554 invoked from network); 30 Oct 2003 08:16:55 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 30 Oct 2003 08:16:55 -0000
Received: (cpmta 1416 invoked from network); 30 Oct 2003 00:16:56 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 30 Oct 2003 00:16:56 -0800
X-Sent: 30 Oct 2003 08:16:56 GMT
Date: Thu, 30 Oct 2003 03:17:02 -0500
Subject: Re: Indexing txt-files
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <003a01c39eb9$21f4de20$1a0011ac@TFEW02>
Message-Id: <70E881C9-0AB1-11D8-85B8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Field.Text(String, Reader) is an unstored field.  It is indexed, but=20
the contents are not stored in the index.

If you want the contents stored, use Field.Text(String,String)

	Erik

On Thursday, October 30, 2003, at 02:40  AM, G=FCnter Kukies wrote:

>  Hello,
>
> I  want to add a Text field to a LUCENE Document. I checked the index=20=

> with LUKE, but I don't get any results for search in the contents=20
> Field. The test.txt is a simple ASCII-File. SimpleAnalyzer is used on=20=

> both sides search and index.
>
> Here are the relevant code snippets:
>
>
> File file =3D new File("/documents/test.txt");
>
> addContent(document, new FileInputStream( file ));
>
>
>  private static void addContent(Document document, InputStream is)=20
> throws IOException {
>         try {
>             InputStreamReader input =3D new InputStreamReader(is);
>             document.add(Field.Text("contents", input ));
>          }
>         catch(Exception ex) {
>             ex.printStackTrace();
>         }
>         finally {
>             if( is !=3D null ) {
>                 is.close();
>             }
>         }
>     }
>
>
> Thanks for your help
>
> G=FCnter=


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 08:27:43 2003
Return-Path: 
 <lucene-user-return-5783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72248 invoked from network); 30 Oct 2003 08:27:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 08:27:43 -0000
Received: (qmail 76533 invoked by uid 500); 30 Oct 2003 08:27:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76507 invoked by uid 500); 30 Oct 2003 08:27:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76494 invoked from network); 30 Oct 2003 08:27:14 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 30 Oct 2003 08:27:14 -0000
Received: (cpmta 28442 invoked from network); 30 Oct 2003 00:27:26 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 30 Oct 2003 00:27:26 -0800
X-Sent: 30 Oct 2003 08:27:26 GMT
Date: Thu, 30 Oct 2003 03:27:32 -0500
Subject: Re: Indexing txt-files
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <003a01c39eb9$21f4de20$1a0011ac@TFEW02>
Message-Id: <E83030D7-0AB2-11D8-85B8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, referring to my article may help - the code is designed to index=20=

text files:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html


On Thursday, October 30, 2003, at 02:40  AM, G=FCnter Kukies wrote:

>  Hello,
>
> I  want to add a Text field to a LUCENE Document. I checked the index=20=

> with LUKE, but I don't get any results for search in the contents=20
> Field. The test.txt is a simple ASCII-File. SimpleAnalyzer is used on=20=

> both sides search and index.
>
> Here are the relevant code snippets:
>
>
> File file =3D new File("/documents/test.txt");
>
> addContent(document, new FileInputStream( file ));
>
>
>  private static void addContent(Document document, InputStream is)=20
> throws IOException {
>         try {
>             InputStreamReader input =3D new InputStreamReader(is);
>             document.add(Field.Text("contents", input ));
>          }
>         catch(Exception ex) {
>             ex.printStackTrace();
>         }
>         finally {
>             if( is !=3D null ) {
>                 is.close();
>             }
>         }
>     }
>
>
> Thanks for your help
>
> G=FCnter=


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 08:42:21 2003
Return-Path: 
 <lucene-user-return-5784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78829 invoked from network); 30 Oct 2003 08:42:21 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 08:42:21 -0000
Received: (qmail 97231 invoked by uid 500); 30 Oct 2003 08:41:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97208 invoked by uid 500); 30 Oct 2003 08:41:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97195 invoked from network); 30 Oct 2003 08:41:51 -0000
Received: from unknown (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 30 Oct 2003 08:41:51 -0000
Received: (qmail 9108 invoked from network); 30 Oct 2003 08:42:00 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 30 Oct 2003 08:42:00 -0000
Message-ID: <004e01c39ec1$af3dde50$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <70E881C9-0AB1-11D8-85B8-000393A564E6@ehatchersolutions.com>
Subject: Re: Indexing txt-files
Date: Thu, 30 Oct 2003 09:41:59 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 modified by kdi
 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, i know that it is indexed and the contents is not stored. That is what
i want. But that means that I can search the index and i get back the
lucene-document as a hit result with all the other fields(date,
file-location,...)
So my problem is that I don't get back the LUCENE-Document. Maby I need a
buffered reader or it is not allowed to close the reader.

G�nter

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 30, 2003 9:17 AM
Subject: Re: Indexing txt-files


Field.Text(String, Reader) is an unstored field.  It is indexed, but
the contents are not stored in the index.

If you want the contents stored, use Field.Text(String,String)

Erik

On Thursday, October 30, 2003, at 02:40  AM, G�nter Kukies wrote:

>  Hello,
>
> I  want to add a Text field to a LUCENE Document. I checked the index
> with LUKE, but I don't get any results for search in the contents
> Field. The test.txt is a simple ASCII-File. SimpleAnalyzer is used on
> both sides search and index.
>
> Here are the relevant code snippets:
>
>
> File file = new File("/documents/test.txt");
>
> addContent(document, new FileInputStream( file ));
>
>
>  private static void addContent(Document document, InputStream is)
> throws IOException {
>         try {
>             InputStreamReader input = new InputStreamReader(is);
>             document.add(Field.Text("contents", input ));
>          }
>         catch(Exception ex) {
>             ex.printStackTrace();
>         }
>         finally {
>             if( is != null ) {
>                 is.close();
>             }
>         }
>     }
>
>
> Thanks for your help
>
> G�nter

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 09:09:59 2003
Return-Path: 
 <lucene-user-return-5785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90177 invoked from network); 30 Oct 2003 09:09:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 09:09:59 -0000
Received: (qmail 29710 invoked by uid 500); 30 Oct 2003 09:09:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29674 invoked by uid 500); 30 Oct 2003 09:09:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29636 invoked from network); 30 Oct 2003 09:09:17 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 30 Oct 2003 09:09:17 -0000
Received: (cpmta 1667 invoked from network); 30 Oct 2003 01:09:29 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 30 Oct 2003 01:09:29 -0800
X-Sent: 30 Oct 2003 09:09:29 GMT
Date: Thu, 30 Oct 2003 04:09:34 -0500
Subject: Re: Indexing txt-files
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <004e01c39ec1$af3dde50$1a0011ac@TFEW02>
Message-Id: <C7AE3E2E-0AB8-11D8-85B8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not an expert on Readers/InputStreams, but it sounds like you're=20
dealing with a bug related to your usages of them and not Lucene.  Have=20=

a look at my Lucene Intro article where I use a FileReader.  Try a=20
simple test using something like that eliminating as many variables as=20=

you can.

	Erik



On Thursday, October 30, 2003, at 03:41  AM, G=FCnter Kukies wrote:

> Yes, i know that it is indexed and the contents is not stored. That is=20=

> what
> i want. But that means that I can search the index and i get back the
> lucene-document as a hit result with all the other fields(date,
> file-location,...)
> So my problem is that I don't get back the LUCENE-Document. Maby I=20
> need a
> buffered reader or it is not allowed to close the reader.
>
> G=FCnter
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, October 30, 2003 9:17 AM
> Subject: Re: Indexing txt-files
>
>
> Field.Text(String, Reader) is an unstored field.  It is indexed, but
> the contents are not stored in the index.
>
> If you want the contents stored, use Field.Text(String,String)
>
> Erik
>
> On Thursday, October 30, 2003, at 02:40  AM, G=FCnter Kukies wrote:
>
>>  Hello,
>>
>> I  want to add a Text field to a LUCENE Document. I checked the index
>> with LUKE, but I don't get any results for search in the contents
>> Field. The test.txt is a simple ASCII-File. SimpleAnalyzer is used on
>> both sides search and index.
>>
>> Here are the relevant code snippets:
>>
>>
>> File file =3D new File("/documents/test.txt");
>>
>> addContent(document, new FileInputStream( file ));
>>
>>
>>  private static void addContent(Document document, InputStream is)
>> throws IOException {
>>         try {
>>             InputStreamReader input =3D new InputStreamReader(is);
>>             document.add(Field.Text("contents", input ));
>>          }
>>         catch(Exception ex) {
>>             ex.printStackTrace();
>>         }
>>         finally {
>>             if( is !=3D null ) {
>>                 is.close();
>>             }
>>         }
>>     }
>>
>>
>> Thanks for your help
>>
>> G=FCnter
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 11:28:41 2003
Return-Path: 
 <lucene-user-return-5786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50718 invoked from network); 30 Oct 2003 11:28:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 11:28:41 -0000
Received: (qmail 71857 invoked by uid 500); 30 Oct 2003 11:28:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71658 invoked by uid 500); 30 Oct 2003 11:28:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71645 invoked from network); 30 Oct 2003 11:28:08 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 30 Oct 2003 11:28:08 -0000
Message-ID: <20031030112823.84602.qmail@web12705.mail.yahoo.com>
Received: from [194.152.209.219] by web12705.mail.yahoo.com via HTTP;
 Thu, 30 Oct 2003 03:28:23 PST
Date: Thu, 30 Oct 2003 03:28:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene indexing and searching engine performance
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <127601c39ebc$283afaa0$0f02a8c0@smile>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Look at the Benchmarks page on Lucene's site.
It is not complete (heh, it can never be complete), but it will give
you some ideas about Lucene's performance.
Feel free to submit your benchmarks, using this template:

  http://jakarta.apache.org/lucene/docs/benchmarktemplate.xml

Thank you,
Otis


--- Alex Aw Seat Kiong <alex.aw@bigonthenet.com> wrote:
> 
> Hi Doug Cutting !
> 
> That's really very helpful, thanks to Doug.
> I'm doing the performance research of the lucene speed of indexing
> and
> searching engine.
> So, isn't able to give me more details of
> 1. searching
> >But if you
> > need to search two million 2kB documents on a 500Mhz Pentium with
> 128MB of
> > RAM in a couple of seconds per query, you're probably okay.
> What is the other hardware spec, like
> - SCSI harddisk or IDE harddisk? If it's SCSI harddisk, what is the
> model of
> the harddisk and SCSI card model, XXXX PRM?
> - Which OS was use for this performance testing?
> - Which Application Server was use for this performance testing?
> 
> 2. indexing (assume the hardware and software spec is same as
> searching
> server)
> Index space should be generally less than the original document size,
> right?
> Assume, for 500MB Disk Space for the application,
> Max index size              : should been more than 250,000 document
> in 2 KB
> size, right?
> Max Speed of indexing : ??? documents in 2KB size per hours
> 
> 
> Can share the performance test was done to among of us?
> 
> Thank You.
> 
> Regards,
> AlexAw
> 
> 
> 
> 
> 
> ----- Original Message ----- 
> From: "Maurice Coyle" <maurice.coyle@ucd.ie>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, October 28, 2003 6:50 PM
> Subject: Re: large index query time
> 
> 
> > that's very helpful, thanks to all who replied.
> >
> > my index is definitely larger than my RAM so i guess the increase
> in query
> > time is due to an increase in time to open the index/perform a
> search.
> >
> > thanks again,
> > maurice
> >
> >
> > ----- Original Message -----
> > From: "Tate Avery" <tate.avery@nstein.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Friday, October 24, 2003 5:33 PM
> > Subject: RE: large index query time
> >
> >
> >
> > Below are some posts from Doug (circa 2001) that I found very
> helpful with
> > regard to understanding Lucene scalability.  I am assuming that
> they are
> > still generally applicable.  You might also find them useful.
> >
> > Tate
> >
> >
> > -----------------------------------------------------------
> >
> >
> > Performance for large indices is frequently governed by i/o
> performance.
> If
> > an index is larger than RAM then searches will need to read data
> from
> disk.
> > This can quickly become a bottleneck.  A search for a term that
> occurs in
> a
> > million documents can require over 1MB of data, which can take some
> time
> to
> > read.  With multiple searching threads, the disk can easily become
> a
> > bottleneck.  Disk arrays can alleviate this, more RAM helps even
> more!
> >
> > For some folks, queries that take over a second are unacceptable,
> for
> > others, ten seconds is okay.
> >
> > Performance should be more-or-less linear: a two-million document
> index
> will
> > be almost twice as slow to search as a one-million document index. 
> There
> > are lots of factors, including document size, CPU-speed, RAM-size,
> i/o
> > subsystem, but a rough rule-of-thumb for Lucene performance might
> be that,
> > in a "typical" configuration, it can search a million documents per
> second.
> >
> > So if you need to search 20 million 100kB documents on a 100Mhz 386
> with
> 8MB
> > of RAM with sub-second response time, Lucene will probably fail. 
> But if
> you
> > need to search two million 2kB documents on a 500Mhz Pentium with
> 128MB of
> > RAM in a couple of seconds per query, you're probably okay.
> >
> > - Doug Cutting (10/08/2001)
> >
> >
> > Some more precise statements: The cost to search for a term is
> proportional
> > to the number of documents that contain that term.  The cost to
> search for
> a
> > phrase is proportional to the sum of the number of occurrences of
> its
> > constituent terms.  The cost to execute a boolean query is the sum
> of the
> > costs of its sub-queries.  Longer documents contain more terms:
> usually
> both
> > more unique terms and more occurrences.
> >
> > Total vocabulary size is not a big factor in search performance. 
> When you
> > open an index Lucene does read one out of every 128 unique terms
> into a
> > table, so an index with a large number of unique terms will be
> slower to
> > open.  Searching that table for query terms is also slower for
> bigger
> > indexes, but the time to search that table is not significant in
> overall
> > performance.  Lucene also reads at index open one byte per document
> per
> > indexed field (the normalization factor).  So an index with lots of
> > documents and fields will also be slower to open.  But, once
> opened, the
> > cost of searching is largely dependent on the frequency
> characteristics of
> > query terms.  And, since IndexReaders and Searchers are thread
> safe, you
> > don't need to open indexes very often.
> >
> > - Doug Cutting (10/08/2001)
> >
> >
> >
> >
> >
> > -----Original Message-----
> > From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]
> > Sent: October 24, 2003 1:33 PM
> > To: 'Lucene Users List'
> > Subject: RE: large index query time
> >
> >
> > My experience is that the query time (and memory usage) can be
> affected
> > greatly by booleans that retrieve lots of results.
> >
> > Are you finding it slow when doing a simple query that should
> return only
> a
> > handful of results, or is it on more complex queries?
> >
> > -----Original Message-----
> > From: Maurice Coyle [mailto:maurice.coyle@ucd.ie]
> > Sent: Friday, October 24, 2003 1:29 PM
> > To: Lucene Users List
> > Subject: large index query time
> >
> >
> > hi,
> > i recently merged a whole lot of indexes into one big index for
> testing
> > purposes.  however, now the programs i use to search the index are
> taking
> > much longer.  this may be a stupid question (or very simple) and
> please
> tell
> > me if it is, but should this be the case?  i mean, i realise it'll
> take
> > longer to search over a larger collection, but it's taking an order
> of
> > magnitude longer.  this is the reaosn i'm asking, since if lucene
> is
> capable
> > of handling large-scale search apps presumably it's set up to
> search large
> > collections rapidly.
> >
> > maybe there's some steps i can take to speed things up (i optimised
> the
> big
> > index when it was finished being created) or something i'm missing?
>  if i
> > can give any information which will help the diagnosis of this
> problem
> > please specify it.
> >
> > thanks,
> > maurice
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 11:35:30 2003
Return-Path: 
 <lucene-user-return-5787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54238 invoked from network); 30 Oct 2003 11:35:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 11:35:30 -0000
Received: (qmail 86781 invoked by uid 500); 30 Oct 2003 11:35:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86617 invoked by uid 500); 30 Oct 2003 11:35:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86592 invoked from network); 30 Oct 2003 11:35:24 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 30 Oct 2003 11:35:24 -0000
Message-ID: <20031030113524.13337.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.219] by web12702.mail.yahoo.com via HTTP;
 Thu, 30 Oct 2003 03:35:24 PST
Date: Thu, 30 Oct 2003 03:35:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing txt-files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <003a01c39eb9$21f4de20$1a0011ac@TFEW02>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is from Lucene demo, included in Lucene distribution.
Look at FileDocument class:

    // Add the contents of the file a field named "contents".  Use a
Text
    // field, specifying a Reader, so that the text of the file is
tokenized.
    // ?? why doesn't FileReader work here ??
    FileInputStream is = new FileInputStream(f);
    Reader reader = new BufferedReader(new InputStreamReader(is));
    doc.add(Field.Text("contents", reader));

Otis


--- G�nter_Kukies <guenter.kukies@heuft.com> wrote:
>  Hello,
> 
> I  want to add a Text field to a LUCENE Document. I checked the index
> with LUKE, but I don't get any results for search in the contents
> Field. The test.txt is a simple ASCII-File. SimpleAnalyzer is used on
> both sides search and index.
> 
> Here are the relevant code snippets:
> 
> 
> File file = new File("/documents/test.txt");
> 
> addContent(document, new FileInputStream( file ));
> 
> 
>  private static void addContent(Document document, InputStream is)
> throws IOException {
>         try {
>             InputStreamReader input = new InputStreamReader(is);
>             document.add(Field.Text("contents", input ));
>          }
>         catch(Exception ex) {
>             ex.printStackTrace();
>         }
>         finally {
>             if( is != null ) {
>                 is.close();
>             }
>         }
>     }
> 
> 
> Thanks for your help
> 
> G�nter


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 11:38:23 2003
Return-Path: 
 <lucene-user-return-5788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55277 invoked from network); 30 Oct 2003 11:38:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 11:38:23 -0000
Received: (qmail 91505 invoked by uid 500); 30 Oct 2003 11:38:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91425 invoked by uid 500); 30 Oct 2003 11:38:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91412 invoked from network); 30 Oct 2003 11:38:17 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 30 Oct 2003 11:38:17 -0000
Message-ID: <20031030113817.13720.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.219] by web12702.mail.yahoo.com via HTTP;
 Thu, 30 Oct 2003 03:38:17 PST
Date: Thu, 30 Oct 2003 03:38:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Term out of order.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <01da01c39e80$68125420$0201a8c0@POWERPACK>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was answering the "is this the problem in the Java version of Lucene
or just .Net implementation" part of the question.

Otis (sometimes answers emails very very late at night) Gospodnetic


--- Terry Steichen <terry@net-frame.com> wrote:
> What kind of response is this? (e.g. "apparently so.")   Is this a
> problem
> or not?
> 
> Regards,
> 
> Terry Steichen
> 
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, October 29, 2003 7:09 PM
> Subject: Re: Term out of order.
> 
> 
> > Apparently so :(
> > http://www.google.com/search?q=lucene+%22term+out+of+order%22
> >
> > Otis
> >
> > --- Victor Hadianto <vichad@hadianto.net> wrote:
> > > Hi all,
> > >
> > > I'm using Lucene.Net but seems appropriate to post here as well.
> I
> > > have been
> > > getting this exception "Term out of order" every now and then
> while
> > > doing a
> > > bulk indexing.
> > >
> > > I have been searching on the mailing list for this specific
> issue,
> > > but none
> > > to avail. Does this occur on the Java version of Lucene?
> > >
> > > thanks
> > >
> > > /victor



__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 12:19:27 2003
Return-Path: 
 <lucene-user-return-5789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72592 invoked from network); 30 Oct 2003 12:19:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 12:19:27 -0000
Received: (qmail 43849 invoked by uid 500); 30 Oct 2003 12:19:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43822 invoked by uid 500); 30 Oct 2003 12:19:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43809 invoked from network); 30 Oct 2003 12:19:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 30 Oct 2003 12:19:21 -0000
Received: (cpmta 11907 invoked from network); 30 Oct 2003 04:19:20 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 30 Oct 2003 04:19:20 -0800
X-Sent: 30 Oct 2003 12:19:20 GMT
Date: Thu, 30 Oct 2003 07:19:16 -0500
Subject: Re: Indexing txt-files
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031030113524.13337.qmail@web12702.mail.yahoo.com>
Message-Id: <47E33708-0AD3-11D8-AB9C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Strange.  FileReader works fine in my java.net article code.


On Thursday, October 30, 2003, at 06:35  AM, Otis Gospodnetic wrote:

> This is from Lucene demo, included in Lucene distribution.
> Look at FileDocument class:
>
>     // Add the contents of the file a field named "contents".  Use a
> Text
>     // field, specifying a Reader, so that the text of the file is
> tokenized.
>     // ?? why doesn't FileReader work here ??
>     FileInputStream is = new FileInputStream(f);
>     Reader reader = new BufferedReader(new InputStreamReader(is));
>     doc.add(Field.Text("contents", reader));
>
> Otis
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 12:35:38 2003
Return-Path: 
 <lucene-user-return-5790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79359 invoked from network); 30 Oct 2003 12:35:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 12:35:38 -0000
Received: (qmail 67981 invoked by uid 500); 30 Oct 2003 12:35:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67954 invoked by uid 500); 30 Oct 2003 12:35:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67941 invoked from network); 30 Oct 2003 12:35:31 -0000
Received: from unknown (HELO frontend2.aha.ru) (213.189.198.215)
  by daedalus.apache.org with SMTP; 30 Oct 2003 12:35:31 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend2.aha.ru (CommuniGate Pro SMTP 4.1.5)
  with ESMTP id 227331552 for lucene-user@jakarta.apache.org;
 Thu, 30 Oct 2003 15:35:30 +0300
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Term out of order.
Date: Thu, 30 Oct 2003 15:36:35 +0300
Message-ID: <002101c39ee2$75758760$5b13a8c0@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
In-Reply-To: <004201c39e78$b18603c0$ce00a8c0@victor>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

> From: Victor Hadianto [mailto:vichad@hadianto.net] 
> 
> I have been searching on the mailing list for this specific 
> issue, but none
> to avail. Does this occur on the Java version of Lucene?

I think that it's problem of java version of Lucene.
Because all core algorithms of Lucene and Lucene.Net are identical.

Pasha
http://www.sourceforge.net/projects/lucenedotnet


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 12:41:03 2003
Return-Path: 
 <lucene-user-return-5791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81418 invoked from network); 30 Oct 2003 12:41:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 12:41:03 -0000
Received: (qmail 72314 invoked by uid 500); 30 Oct 2003 12:40:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72110 invoked by uid 500); 30 Oct 2003 12:40:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72096 invoked from network); 30 Oct 2003 12:40:56 -0000
Received: from unknown (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 30 Oct 2003 12:40:56 -0000
Received: (qmail 31427 invoked from network); 30 Oct 2003 12:40:52 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 30 Oct 2003 12:40:52 -0000
Message-ID: <00a601c39ee3$0e1cf750$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <47E33708-0AD3-11D8-AB9C-000393A564E6@ehatchersolutions.com>
Subject: Re: Indexing txt-files
Date: Thu, 30 Oct 2003 13:40:49 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 modified by kdi
 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is it possible to upgrade the API-doc, that a Buffered Reader is a must.

Who is responsible for closing the InputStream? Does doc.add() the close?

G�nter


----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 30, 2003 1:19 PM
Subject: Re: Indexing txt-files


> Strange.  FileReader works fine in my java.net article code.
>
>
> On Thursday, October 30, 2003, at 06:35  AM, Otis Gospodnetic wrote:
>
> > This is from Lucene demo, included in Lucene distribution.
> > Look at FileDocument class:
> >
> >     // Add the contents of the file a field named "contents".  Use a
> > Text
> >     // field, specifying a Reader, so that the text of the file is
> > tokenized.
> >     // ?? why doesn't FileReader work here ??
> >     FileInputStream is = new FileInputStream(f);
> >     Reader reader = new BufferedReader(new InputStreamReader(is));
> >     doc.add(Field.Text("contents", reader));
> >
> > Otis
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 14:14:23 2003
Return-Path: 
 <lucene-user-return-5792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33146 invoked from network); 30 Oct 2003 14:14:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 14:14:23 -0000
Received: (qmail 28860 invoked by uid 500); 30 Oct 2003 14:14:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28731 invoked by uid 500); 30 Oct 2003 14:14:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28718 invoked from network); 30 Oct 2003 14:14:15 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 30 Oct 2003 14:14:15 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HNK00U01Q6XUG@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 14:13:46 +0000 (GMT)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HNK01094Q6PB2@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 14:13:37 +0000 (GMT)
Date: Thu, 30 Oct 2003 14:13:43 +0000
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: MultiFieldQueryParser default operator
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <031a01c39ef0$0668b190$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <000001c35b6c$61e5c6b0$49098c92@pcara>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

are there any plans to implement some sort of
MultiFieldQueryParser.setOperator(int) method so folk can search using AND
by default?

or has anyone worked around the lack of such a method and managed to search
over multiple fields using a default-AND query?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 14:31:29 2003
Return-Path: 
 <lucene-user-return-5793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52423 invoked from network); 30 Oct 2003 14:31:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 14:31:29 -0000
Received: (qmail 62035 invoked by uid 500); 30 Oct 2003 14:31:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62007 invoked by uid 500); 30 Oct 2003 14:31:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61994 invoked from network); 30 Oct 2003 14:31:20 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 30 Oct 2003 14:31:20 -0000
Message-ID: <20031030143121.63637.qmail@web12703.mail.yahoo.com>
Received: from [194.152.209.219] by web12703.mail.yahoo.com via HTTP;
 Thu, 30 Oct 2003 06:31:21 PST
Date: Thu, 30 Oct 2003 06:31:21 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: MultiFieldQueryParser default operator
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <031a01c39ef0$0668b190$bf8401c1@mojo>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe a person just sent an email with a solution yesterday or the
day before.  Look for a message with MultiFieldQueryParser in its
Subject.

Otis

--- Maurice Coyle <maurice.coyle@ucd.ie> wrote:
> are there any plans to implement some sort of
> MultiFieldQueryParser.setOperator(int) method so folk can search
> using AND
> by default?
> 
> or has anyone worked around the lack of such a method and managed to
> search
> over multiple fields using a default-AND query?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 15:06:58 2003
Return-Path: 
 <lucene-user-return-5794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73603 invoked from network); 30 Oct 2003 15:06:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 15:06:58 -0000
Received: (qmail 28131 invoked by uid 500); 30 Oct 2003 15:06:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28096 invoked by uid 500); 30 Oct 2003 15:06:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28080 invoked from network); 30 Oct 2003 15:06:49 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 30 Oct 2003 15:06:49 -0000
Received: (cpmta 19348 invoked from network); 30 Oct 2003 07:06:50 -0800
Received: from 128.143.104.90 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 30 Oct 2003 07:06:50 -0800
X-Sent: 30 Oct 2003 15:06:50 GMT
Date: Thu, 30 Oct 2003 10:03:33 -0500
Subject: Re: MultiFieldQueryParser default operator
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20031030143121.63637.qmail@web12703.mail.yahoo.com>
Message-Id: <3AD85700-0AEA-11D8-8FA2-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It was posted on lucene-dev, not lucene-user.  I've pasted it below.

I will be fixing this at some point in the near future based on this 
fix and other related ones needed.

	Erik


On Thursday, October 30, 2003, at 09:31  AM, Otis Gospodnetic wrote:
> I believe a person just sent an email with a solution yesterday or the
> day before.  Look for a message with MultiFieldQueryParser in its
> Subject.
>
> Otis
>
> --- Maurice Coyle <maurice.coyle@ucd.ie> wrote:
>> are there any plans to implement some sort of
>> MultiFieldQueryParser.setOperator(int) method so folk can search
>> using AND
>> by default?
>>
>> or has anyone worked around the lack of such a method and managed to
>> search
>> over multiple fields using a default-AND query?

-----

From: Bernhard Messer <bernhard.messer@intrafind.de>
Date: Wed Oct 29, 2003  11:27:02  AM US/Eastern
To: Lucene Developers List <lucene-dev@jakarta.apache.org>
Subject: MultiFieldQueryParser, can't change default search operator
Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>

hi all,

just played around with the MultiFieldQueryParser and didn't find a 
working way to change the "operator" value.

The problem is that MultiFieldQueryParser is implementing two public 
static methods "parse" only. Calling one of those, in the extended 
superclass, the static method implementation for "parse" is called. Due 
to the fact that the QueryParser class creates a new Instance for each 
call thru the static method, the "operator" flag is simply ignored.

There would be a simple fix within MultiFieldQueryParser class without 
touching the rest of the system. One have to add a new non static 
method "parse" which could look like this:

/***********************************************************/
public Query parse(String query, String[] fields) throws ParseException 
{
        BooleanQuery bQuery = new BooleanQuery();

        for (int i = 0; i < fields.length; i++)
        {
            QueryParser parser = new QueryParser(fields[i], analyzer);
            parser.setOperator(getOperator());
            Query q = parser.parse(query);
            bQuery.add(q, false, false);
        }
        return bQuery;
      }
/***********************************************************/


To test the new implementation, following code fragment can be used:

/***********************************************************/
            Directory directory = 
FSDirectory.getDirectory("/tmp/idx-test", false);
            Analyzer analyzer = new SimpleAnalyzer();
            Searcher searcher = new IndexSearcher(directory);
            Hits hits = null;
                      String[] fields = { "contents", "title" };
            MultiFieldQueryParser parser = new 
MultiFieldQueryParser("britney spears", analyzer);
                      
parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
                              Query query = parser.parse("britney 
spears", fields);
                      System.out.println("Query: " + query.toString());
                      hits = searcher.search(query);

            System.out.println ("Results: " + hits.length());
                      searcher.close();
/***********************************************************/


best regards

Bernhard



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 15:10:06 2003
Return-Path: 
 <lucene-user-return-5795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75291 invoked from network); 30 Oct 2003 15:10:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 15:10:06 -0000
Received: (qmail 35776 invoked by uid 500); 30 Oct 2003 15:09:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35688 invoked by uid 500); 30 Oct 2003 15:09:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35675 invoked from network); 30 Oct 2003 15:09:56 -0000
Received: from unknown (HELO Clarion.ucd.ie) (193.1.172.140)
  by daedalus.apache.org with SMTP; 30 Oct 2003 15:09:56 -0000
Received: from CONVERSION-DAEMON.Clarion.ucd.ie by Clarion.ucd.ie
 (PMDF V6.2-X17 #30834) id <0HNK01R01SSIC8@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 15:09:57 +0000 (GMT)
Received: from mojo (mojo.ucd.ie [193.1.132.191])
 by Clarion.ucd.ie (PMDF V6.2-X17 #30834)
 with SMTP id <0HNK01ELZSSCR8@Clarion.ucd.ie> for
 lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 15:09:48 +0000 (GMT)
Date: Thu, 30 Oct 2003 15:09:54 +0000
From: Maurice Coyle <maurice.coyle@ucd.ie>
Subject: Re: MultiFieldQueryParser default operator
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <034f01c39ef7$dfdbcaa0$bf8401c1@mojo>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <20031030143121.63637.qmail@web12703.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thanks otis, it was on the lucene-dev list (to which i'm not subscribed).  

the link to the message containing bernhard's solution is below

http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg03863.html

happy days.


----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, October 30, 2003 2:31 PM
Subject: Re: MultiFieldQueryParser default operator


> I believe a person just sent an email with a solution yesterday or the
> day before.  Look for a message with MultiFieldQueryParser in its
> Subject.
> 
> Otis
> 
> --- Maurice Coyle <maurice.coyle@ucd.ie> wrote:
> > are there any plans to implement some sort of
> > MultiFieldQueryParser.setOperator(int) method so folk can search
> > using AND
> > by default?
> > 
> > or has anyone worked around the lack of such a method and managed to
> > search
> > over multiple fields using a default-AND query?
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Exclusive Video Premiere - Britney Spears
> http://launch.yahoo.com/promos/britneyspears/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 15:31:51 2003
Return-Path: 
 <lucene-user-return-5796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89026 invoked from network); 30 Oct 2003 15:31:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 15:31:51 -0000
Received: (qmail 73855 invoked by uid 500); 30 Oct 2003 15:31:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73817 invoked by uid 500); 30 Oct 2003 15:31:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73804 invoked from network); 30 Oct 2003 15:31:41 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.83)
  by daedalus.apache.org with SMTP; 30 Oct 2003 15:31:41 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id h9UFZUbo011571
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 07:35:30 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-61-247.adslplus.ch [62.167.61.247])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9UFVfZq007894
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 07:31:42 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <002101c39ee2$75758760$5b13a8c0@pb>
References: <002101c39ee2$75758760$5b13a8c0@pb>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <262A5C0C-0AEE-11D8-9317-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Term out of order.
Date: Thu, 30 Oct 2003 16:31:36 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Oct 30, 2003, at 13:36, Pasha Bizhan wrote:

> I think that it's problem of java version of Lucene.
> Because all core algorithms of Lucene and Lucene.Net are identical.

Talking of which... it appears... that... something... is... wrong...  
somewhere...

This definitely needs some additional investigation on my side as I'm  
quiet at loss about this sudden exception and I cannot reproduce it  
myself... sigh...

Trace: java.io.IOException: term out of order
	at  
org.apache.lucene.index.TermInfosWriter.add(TermInfosWriter.java:103)
	at  
org.apache.lucene.index.SegmentMerger.mergeTermInfo(SegmentMerger.java: 
249)
	at  
org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java: 
225)
	at  
org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java: 
188)
	at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:98)
	at  
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:425)
	at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:301)
	at org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:316)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 16:55:25 2003
Return-Path: 
 <lucene-user-return-5797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38369 invoked from network); 30 Oct 2003 16:55:25 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 16:55:25 -0000
Received: (qmail 4223 invoked by uid 500); 30 Oct 2003 16:55:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4186 invoked by uid 500); 30 Oct 2003 16:55:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4173 invoked from network); 30 Oct 2003 16:55:13 -0000
Received: from unknown (HELO mxsf13.cluster1.charter.net) (209.225.28.213)
  by daedalus.apache.org with SMTP; 30 Oct 2003 16:55:13 -0000
Received: from peter (cpe-66-189-44-169.ma.charter.com [66.189.44.169])
	by mxsf13.cluster1.charter.net (8.12.10/8.12.8) with SMTP id h9UGr1EO037847
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 11:53:02 -0500 (EST)
	(envelope-from peter.keegan@charter.net)
Message-ID: <039801c39f06$390fc1e0$02a8a8c0@peter>
From: "Peter Keegan" <peter.keegan@charter.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20031030000918.4592.qmail@web12703.mail.yahoo.com>
 <004a01c39e7b$0bd8cef0$ce00a8c0@victor>
 <02ed01c39e7c$c53b5880$02a8a8c0@peter> <3FA07B01.8020300@cs.waikato.ac.nz>
Subject: Re: term counts during indexing
Date: Thu, 30 Oct 2003 11:52:36 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As I understand it, the field text is being tokenized by the analyzer when
IndexWriter.addDocument is called. At this point, the tokens are indexed
and/or stored. Would it be possible for 'addDocument' to save and make the
_actual_ counts of 'tokens stored' and 'tokens indexed' available in either
the Document or IndexWriter object? I guess I may be turning this into a
feature request :)

Also, I can't find this method from the code snippit provided by Gerret (I'm
using v1.2):
> String[] fieldTerms = doc.getValues(fieldName);


Thanks,
Peter

----- Original Message ----- 
From: "Gerret Apelt" <ga11@cs.waikato.ac.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, October 29, 2003 9:44 PM
Subject: Re: term counts during indexing


> Peter Keegan wrote:
>
> >Is there a simple and efficient way of determining the number of tokens
> >added
> >to a document after adding each field ('Document.add), as a result of the
> >actions
> >of the Analyzer, without having to re-parse the field
>
> Peter --
>
> you can ask the Document instance.
>
> Document doc = getDocumentInstanceFromSomewhere();
> int termCount = 0;
> Enumertion fields = doc.fields();
> while (fields.hasMoreElements()) {
>     Field field = (Field)fields.nextElement();
>     String fieldName = field.name();
>     String[] fieldTerms = doc.getValues(fieldName);
>     termCount += fieldTerms.length;
> }
> System.out.println("The fields of the document together contain
> "+termCount+" terms.");
>
> Note that
> 1) I haven't tried to compile this code, so I'm not sure if it works
> 2) this will only work for those fields where field.isStored() == true.
> If the field isnt stored in the index, then you don't have a choice but
> to go back to the document.
>
> [not sure on the following, so please correct me if in error:] Remember
> that unStored fields are indexed, so you can query on them, but the
> field terms themselves are not stored in the index. Therefore you cannot
> count them by asking Lucene. A Lucene field instance also has no way to
> reference the source of the terms that are added to it. The field
> doesn't care where its terms came from. So if field.isStored() == false,
> then for that particular field Lucene cannot tell you how many terms are
> in it. You'll have to write your own code that analyzes the original
> data source in this case.
>
> >Alternatively, is there a way to determine the number of tokens added
after
> >adding the document to the index ('IndexWriter.addDocument')?
> >
> >
> Whether you want the termCount for a document before or after you add
> the document to the index doesn't matter, so the answer is "see above".
>
> cheers,
> Gerret
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 18:20:59 2003
Return-Path: 
 <lucene-user-return-5798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81917 invoked from network); 30 Oct 2003 18:20:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 18:20:59 -0000
Received: (qmail 52654 invoked by uid 500); 30 Oct 2003 18:20:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52622 invoked by uid 500); 30 Oct 2003 18:20:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52609 invoked from network); 30 Oct 2003 18:20:43 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 30 Oct 2003 18:20:43 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9UIKl9H016353
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 10:20:47 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-61-247.adslplus.ch [62.167.61.247])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9UIKjZq015336
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 10:20:46 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
Content-Transfer-Encoding: 7bit
Message-Id: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: petite_abeille <petite_abeille@mac.com>
Subject: Exotic format indexing?
Date: Thu, 30 Oct 2003 19:20:43 +0100
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Indexing a multitude of esoteric formats (MS Office, PDF, etc) is a 
popular question on this list...

The traditional approach seems to be to try to find some kind of format 
specific reader to properly extract the textual part of such documents 
for indexing. The drawback of such an approach is that its complicated 
and cumborsome: many different formats, not that many Java libraries to 
understand them all.

An alternative to such a mess could be perhaps to convert those 
multitude of formats into something more or less standard and then 
extract the text from that. But again, this doesn't seem to be such a 
straightforward proposition. For example, one could image "printing" 
every document to PDF and then convert the resulting PDF to text. Not a 
piece of cake in Java.

Finally, a while back, somebody on this list mentioned quiet a 
different approach: simply read the raw binary document and go fishing 
for what looks like text. I would like to try that :)

Does anyone remember this proposal? Has anyone tried such an approach?

Thanks for any pointers.

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 19:48:54 2003
Return-Path: 
 <lucene-user-return-5799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25359 invoked from network); 30 Oct 2003 19:48:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 19:48:54 -0000
Received: (qmail 92539 invoked by uid 500); 30 Oct 2003 19:48:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92371 invoked by uid 500); 30 Oct 2003 19:48:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92358 invoked from network); 30 Oct 2003 19:48:37 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 30 Oct 2003 19:48:37 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu
 [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id CD4B8FB
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 14:48:41 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 93B491300; Thu, 30 Oct 2003 14:48:41 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 6785E128B
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 14:48:41 -0500 (EST)
Date: Thu, 30 Oct 2003 14:48:41 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Exotic format indexing?
In-Reply-To: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
Message-ID: <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
References: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Unfortunately, it is not quite so easy.  I am not sure about Word
documents but PDFs usually have there contents compressed so a raw
"fishing" around for text would be pointless.  Your best bet is to use a
package like the one from textmining.org that handles various formats for
you.

Ben


On Thu, 30 Oct 2003, petite_abeille wrote:

> Hello,
>
> Indexing a multitude of esoteric formats (MS Office, PDF, etc) is a
> popular question on this list...
>
> The traditional approach seems to be to try to find some kind of format
> specific reader to properly extract the textual part of such documents
> for indexing. The drawback of such an approach is that its complicated
> and cumborsome: many different formats, not that many Java libraries to
> understand them all.
>
> An alternative to such a mess could be perhaps to convert those
> multitude of formats into something more or less standard and then
> extract the text from that. But again, this doesn't seem to be such a
> straightforward proposition. For example, one could image "printing"
> every document to PDF and then convert the resulting PDF to text. Not a
> piece of cake in Java.
>
> Finally, a while back, somebody on this list mentioned quiet a
> different approach: simply read the raw binary document and go fishing
> for what looks like text. I would like to try that :)
>
> Does anyone remember this proposal? Has anyone tried such an approach?
>
> Thanks for any pointers.
>
> Cheers,
>
> PA.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 20:02:52 2003
Return-Path: 
 <lucene-user-return-5800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34630 invoked from network); 30 Oct 2003 20:02:52 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 20:02:52 -0000
Received: (qmail 10375 invoked by uid 500); 30 Oct 2003 20:02:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10219 invoked by uid 500); 30 Oct 2003 20:02:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10202 invoked from network); 30 Oct 2003 20:02:37 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 30 Oct 2003 20:02:37 -0000
Received: from dsl-082-082-082-007.arcor-ip.net ([82.82.82.7]
 helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1AFIjp-0006Dw-00
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 20:45:45 +0100
Message-ID: <3FA16E62.6000105@media-style.com>
Date: Thu, 30 Oct 2003 21:02:42 +0100
From: Stefan Groschupf <sg@media-style.com>
Reply-To: sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: 182 file formats for lucene!!! was: Re: Exotic format indexing? 
References: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
 <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
In-Reply-To: <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

just to let you know, i had implement for the nutch project a plugin 
that can parse 182 file formats including m$ office.
I simply use open office and use the available java api.

It is really straight forward to use.

Found some info's and a link to the open source code here:
http://sourceforge.net/tracker/index.php?func=detail&aid=828517&group_id=59548&atid=491356

Feel free to recycle the code and give me any feedback.
Hope it will help to free some information from some strange commercial 
formats, since information should be free. ;)

Cheers
Stefan







Ben Litchfield wrote:

>Unfortunately, it is not quite so easy.  I am not sure about Word
>documents but PDFs usually have there contents compressed so a raw
>"fishing" around for text would be pointless.  Your best bet is to use a
>package like the one from textmining.org that handles various formats for
>you.
>
>Ben
>
>
>On Thu, 30 Oct 2003, petite_abeille wrote:
>
>  
>
>>Hello,
>>
>>Indexing a multitude of esoteric formats (MS Office, PDF, etc) is a
>>popular question on this list...
>>
>>The traditional approach seems to be to try to find some kind of format
>>specific reader to properly extract the textual part of such documents
>>for indexing. The drawback of such an approach is that its complicated
>>and cumborsome: many different formats, not that many Java libraries to
>>understand them all.
>>
>>An alternative to such a mess could be perhaps to convert those
>>multitude of formats into something more or less standard and then
>>extract the text from that. But again, this doesn't seem to be such a
>>straightforward proposition. For example, one could image "printing"
>>every document to PDF and then convert the resulting PDF to text. Not a
>>piece of cake in Java.
>>
>>Finally, a while back, somebody on this list mentioned quiet a
>>different approach: simply read the raw binary document and go fishing
>>for what looks like text. I would like to try that :)
>>
>>Does anyone remember this proposal? Has anyone tried such an approach?
>>
>>Thanks for any pointers.
>>
>>Cheers,
>>
>>PA.
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 20:05:06 2003
Return-Path: 
 <lucene-user-return-5801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35761 invoked from network); 30 Oct 2003 20:05:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 20:05:06 -0000
Received: (qmail 13010 invoked by uid 500); 30 Oct 2003 20:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12980 invoked by uid 500); 30 Oct 2003 20:04:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12967 invoked from network); 30 Oct 2003 20:04:51 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 30 Oct 2003 20:04:51 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9UK4t9H006827
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 12:04:55 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-214-152.adslplus.ch [62.167.214.152])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9UK4sZq023312
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 12:04:55 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <3FA16E62.6000105@media-style.com>
References: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
 <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
 <3FA16E62.6000105@media-style.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <529C6D1B-0B14-11D8-BC9A-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: 182 file formats for lucene!!! was: Re: Exotic format indexing?
Date: Thu, 30 Oct 2003 21:04:52 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Stefan,

On Oct 30, 2003, at 21:02, Stefan Groschupf wrote:

> just to let you know, i had implement for the nutch project a plugin 
> that can parse 182 file formats including m$ office.
> I simply use open office and use the available java api.

Yes, I saw that. Great work :)

Unfortunately, using OpenOffice is not an option in my case :(

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 20:05:46 2003
Return-Path: 
 <lucene-user-return-5802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36073 invoked from network); 30 Oct 2003 20:05:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 20:05:46 -0000
Received: (qmail 14033 invoked by uid 500); 30 Oct 2003 20:05:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14001 invoked by uid 500); 30 Oct 2003 20:05:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13988 invoked from network); 30 Oct 2003 20:05:31 -0000
Received: from unknown (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by daedalus.apache.org with SMTP; 30 Oct 2003 20:05:31 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Thu, 30 Oct 2003 15:05:35 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id h9UK5Yj06297
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 15:05:34 -0500 (EST)
content-class: urn:content-classes:message
Subject: RE: Exotic format indexing?
Date: Thu, 30 Oct 2003 15:05:33 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410BD@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exotic format indexing?
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Thread-Index: AcOfHtkGX3HraNPnRXqzzca15NTGiwAAiLkg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Word documents with FastSave enabled contain the original document and =
then deltas to the document until the deltas exceed a certain size and =
then they are merged back into the document. that means that unless you =
run the deltas, you won't know what the actual final contents are.

Herb....

-----Original Message-----
From: Ben Litchfield [mailto:ben@csh.rit.edu]
Sent: Thursday, October 30, 2003 2:49 PM
To: Lucene Users List
Subject: Re: Exotic format indexing?


Unfortunately, it is not quite so easy.  I am not sure about Word
documents but PDFs usually have there contents compressed so a raw
"fishing" around for text would be pointless.  Your best bet is to use a
package like the one from textmining.org that handles various formats =
for
you.

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 20:12:16 2003
Return-Path: 
 <lucene-user-return-5803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39184 invoked from network); 30 Oct 2003 20:12:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 20:12:16 -0000
Received: (qmail 20771 invoked by uid 500); 30 Oct 2003 20:12:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20741 invoked by uid 500); 30 Oct 2003 20:12:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20728 invoked from network); 30 Oct 2003 20:12:01 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 30 Oct 2003 20:12:01 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h9UKC69D004548
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 12:12:06 -0800 (PST)
Received: from [10.0.1.26] (adsl-62-167-214-152.adslplus.ch [62.167.214.152])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 3.0) with ESMTP id h9UKC5Zq025817
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 12:12:06 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v606)
In-Reply-To: <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
References: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
 <Pine.GSO.4.53.0310301446060.3020@fury.csh.rit.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <52C5D1A1-0B15-11D8-BC9A-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Exotic format indexing?
Date: Thu, 30 Oct 2003 21:12:01 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.606)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Oct 30, 2003, at 20:48, Ben Litchfield wrote:

> Unfortunately, it is not quite so easy.  I am not sure about Word
> documents

The raw text is visible.

> but PDFs usually have there contents compressed

Yep. PDF is really an image format ;)

> so a raw
> "fishing" around for text would be pointless.

That's alright. I can handle PDF separately if the need arise.

>  Your best bet is to use a
> package like the one from textmining.org that handles various formats 
> for
> you.

Perhaps. But I'm only looking for a "good enough" solution, not a 
perfect one :)

Cheers,

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 21:19:33 2003
Return-Path: 
 <lucene-user-return-5804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80103 invoked from network); 30 Oct 2003 21:19:33 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 21:19:33 -0000
Received: (qmail 55195 invoked by uid 500); 30 Oct 2003 21:19:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55168 invoked by uid 500); 30 Oct 2003 21:19:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55148 invoked from network); 30 Oct 2003 21:19:15 -0000
Received: from unknown (HELO tdsupport.ksc.nasa.gov) (163.205.16.2)
  by daedalus.apache.org with SMTP; 30 Oct 2003 21:19:15 -0000
Received: from tdryan (tdryan.ksc.nasa.gov [163.205.143.13])
	by tdsupport.ksc.nasa.gov (8.11.6/8.11.6) with SMTP id h9ULAfW31563
	for <lucene-user@jakarta.apache.org>; Thu, 30 Oct 2003 16:10:42 -0500
Message-ID: <003c01c39f2b$8627ef00$0d8fcda3@tdryan>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <C5E73108-0B05-11D8-B14D-000393760B7E@mac.com>
Subject: Re: Exotic format indexing?
Date: Thu, 30 Oct 2003 16:19:37 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Finally, a while back, somebody on this list mentioned quiet a
> different approach: simply read the raw binary document and go fishing
> for what looks like text. I would like to try that :)

I have tried that approach and it works ok. You end up with a bunch of junk
in with the useful stuff. It can clutter up your index and make searching
slower. There are a lot of file formats that don't store all of the text as
sequential text so it won't work. PDF is one, I know that PowerPoint is
another.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Thu Oct 30 21:34:22 2003
Return-Path: 
 <lucene-user-return-5805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89152 invoked from network); 30 Oct 2003 21:34:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 30 Oct 2003 21:34:22 -0000
Received: (qmail 88851 invoked by uid 500); 30 Oct 2003 21:33:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88713 invoked by uid 500); 30 Oct 2003 21:33:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88677 invoked from network); 30 Oct 2003 21:33:58 -0000
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by daedalus.apache.org with SMTP; 30 Oct 2003 21:33:58 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13]
 helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with asmtp (Exim 4.24)
	id 1AFKQd-0000zr-T0
	for lucene-user@jakarta.apache.org; Thu, 30 Oct 2003 15:34:03 -0600
Message-Id: <6.0.0.22.0.20031030162654.023dc6d0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 6.0.0.22
Date: Thu, 30 Oct 2003 16:34:02 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: MultiFieldQueryParser default operator
In-Reply-To: <3AD85700-0AEA-11D8-8FA2-000393A564E6@ehatchersolutions.com
 >
References: <20031030143121.63637.qmail@web12703.mail.yahoo.com>
 <3AD85700-0AEA-11D8-8FA2-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse,
 please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This would be great to get fixed (I think I emailed a similar question a 
month or so ago).  If MultiFieldQueryParser is being mucked with, the 
constructor should be updated to take an array of fields instead of the 
single field it takes currently.  The code snippet below is actually 
passing the query ("britney spears") into the constructor instead of a 
default field.  If you made that single change to the constructor, no other 
changes would be necessary, as you could simply call the parse(String) 
method from QueryParser to do your work.

-Mike

At 10:03 AM 10/30/2003, you wrote:
>It was posted on lucene-dev, not lucene-user.  I've pasted it below.
>
>I will be fixing this at some point in the near future based on this fix 
>and other related ones needed.
>
>         Erik
>
>-----
>
>From: Bernhard Messer <bernhard.messer@intrafind.de>
>Date: Wed Oct 29, 2003  11:27:02  AM US/Eastern
>To: Lucene Developers List <lucene-dev@jakarta.apache.org>
>Subject: MultiFieldQueryParser, can't change default search operator
>Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
>
>hi all,
>
>just played around with the MultiFieldQueryParser and didn't find a 
>working way to change the "operator" value.
>
>The problem is that MultiFieldQueryParser is implementing two public 
>static methods "parse" only. Calling one of those, in the extended 
>superclass, the static method implementation for "parse" is called. Due to 
>the fact that the QueryParser class creates a new Instance for each call 
>thru the static method, the "operator" flag is simply ignored.
>
>There would be a simple fix within MultiFieldQueryParser class without 
>touching the rest of the system. One have to add a new non static method 
>"parse" which could look like this:
>
>/***********************************************************/
>public Query parse(String query, String[] fields) throws ParseException {
>        BooleanQuery bQuery = new BooleanQuery();
>
>        for (int i = 0; i < fields.length; i++)
>        {
>            QueryParser parser = new QueryParser(fields[i], analyzer);
>            parser.setOperator(getOperator());
>            Query q = parser.parse(query);
>            bQuery.add(q, false, false);
>        }
>        return bQuery;
>      }
>/***********************************************************/
>
>
>To test the new implementation, following code fragment can be used:
>
>/***********************************************************/
>            Directory directory = 
> FSDirectory.getDirectory("/tmp/idx-test", false);
>            Analyzer analyzer = new SimpleAnalyzer();
>            Searcher searcher = new IndexSearcher(directory);
>            Hits hits = null;
>                      String[] fields = { "contents", "title" };
>            MultiFieldQueryParser parser = new 
> MultiFieldQueryParser("britney spears", analyzer);
>
>parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>                              Query query = parser.parse("britney spears", 
> fields);
>                      System.out.println("Query: " + query.toString());
>                      hits = searcher.search(query);
>
>            System.out.println ("Results: " + hits.length());
>                      searcher.close();
>/***********************************************************/
>
>
>best regards
>
>Bernhard



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 08:54:51 2003
Return-Path: 
 <lucene-user-return-5806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31006 invoked from network); 31 Oct 2003 08:54:51 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 08:54:51 -0000
Received: (qmail 40051 invoked by uid 500); 31 Oct 2003 08:54:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39739 invoked by uid 500); 31 Oct 2003 08:54:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39725 invoked from network); 31 Oct 2003 08:54:21 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 31 Oct 2003 08:54:21 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net
 [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id 27B88109462
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 09:51:36 +0100 (CET)
Message-ID: <3FA222ED.8020707@imente.com>
Date: Fri, 31 Oct 2003 09:53:01 +0100
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20030925
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Remove a token from a field
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

    Is there a way to remove a token from a document field entry?. For 
example, I've got a UnStored field in my index and I want to remove a 
token from this field without doing the delete and add document (because 
I'm inserting the documents by date and I don't want to loose that sort).

    Is there an easy way to do that? Has anybody already started 
implementing it? Any suggestions about if I can do it in an efficient 
way? Maybe with another deletable file by fields?

   Any help will be appreciated.

Thanks

Albert


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 10:18:43 2003
Return-Path: 
 <lucene-user-return-5807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68608 invoked from network); 31 Oct 2003 10:18:43 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 10:18:43 -0000
Received: (qmail 48426 invoked by uid 500); 31 Oct 2003 10:18:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48395 invoked by uid 500); 31 Oct 2003 10:18:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48382 invoked from network); 31 Oct 2003 10:18:11 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 31 Oct 2003 10:18:11 -0000
Received: (cpmta 16229 invoked from network); 31 Oct 2003 02:18:24 -0800
Received: from 24.51.109.181 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 31 Oct 2003 02:18:24 -0800
X-Sent: 31 Oct 2003 10:18:24 GMT
Date: Fri, 31 Oct 2003 05:18:31 -0500
Subject: Re: Remove a token from a field
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FA222ED.8020707@imente.com>
Message-Id: <93BEB0DC-0B8B-11D8-BCDC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday, October 31, 2003, at 03:53  AM, Albert Vila Puig wrote:
> Hi,
>
>    Is there a way to remove a token from a document field entry?. For  
> example, I've got a UnStored field in my index and I want to remove a  
> token from this field without doing the delete and add document  
> (because I'm inserting the documents by date and I don't want to loose  
> that sort).
>
>    Is there an easy way to do that? Has anybody already started  
> implementing it? Any suggestions about if I can do it in an efficient  
> way? Maybe with another deletable file by fields?

Presently there is no way to "update" a document without doing a  
delete/add.

The sorting issue is an interesting one.  By design, of course, Lucene  
is meant to sort by score - period.  There has been an interesting  
implementation of a custom searcher posted about this topic in the  
recent past:

	http://cvs.sourceforge.net/viewcvs.py/weblucene/weblucene/webapp/WEB- 
INF/src/org/apache/lucene/search/ 
IndexOrderSearcher.java?rev=1.2&view=auto

It would be a performance hit to access the contents of a document  
during searching to pull the contents of a field though, but that  
search method shown could be adapted to do so and sort by a particular  
field during searching.

I tend to suggest that date sorting is something that should be done on  
a data set culled from hits after searching is complete rather than  
during the searching operation itself.  There are games that could be  
played with boosts and perhaps a custom Similarity implementation that  
might be able to pull off date sorting somehow too - I'll add this to  
my list of interesting things to try out for fun.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 11:51:58 2003
Return-Path: 
 <lucene-user-return-5808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8299 invoked from network); 31 Oct 2003 11:51:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 11:51:58 -0000
Received: (qmail 55041 invoked by uid 500); 31 Oct 2003 11:51:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54996 invoked by uid 500); 31 Oct 2003 11:51:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54975 invoked from network); 31 Oct 2003 11:51:52 -0000
Received: from unknown (HELO web25206.mail.ukl.yahoo.com) (217.12.10.66)
  by daedalus.apache.org with SMTP; 31 Oct 2003 11:51:52 -0000
Message-ID: <20031031115151.39375.qmail@web25206.mail.ukl.yahoo.com>
Received: from [212.126.153.148] by web25206.mail.ukl.yahoo.com via HTTP;
 Fri, 31 Oct 2003 11:51:50 GMT
Date: Fri, 31 Oct 2003 11:51:50 +0000 (GMT)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: The best way forward
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I am currently indexing around 6 million text
documents using lucene.

We have a new server arriving in the next few weeks
which the queries will be run on. With the following
stats: Dell 6650 - 4 x Xeon HT CPU's, 16 GB RAM, 36GB
SCSI Ultra160 Hdd. (connected to 1.5TB IDE RAID with
actual source documents)

What is the best strategy for fast searches?
Do I need to write a server which holds the indexes in
a RAMDirectory?

When should RAMDirectories generally be used? I have
read several articles saying that RAMDrives under
linux
are rarely a good idea, but am not sure on how to
interpret this in the context of lucene and
RAMDirectories.

I have looked over the documentation I have found on
the lucene web site - hope i haven't missed something.

Is there a general guide to building large search
engines with lucene? I am very new to the whole field.

Thanks for the great software!
jt

________________________________________________________________________
Want to chat instantly with your online friends?  Get the FREE Yahoo!
Messenger http://mail.messenger.yahoo.co.uk

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 16:21:59 2003
Return-Path: 
 <lucene-user-return-5816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61578 invoked from network); 31 Oct 2003 16:21:59 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 16:21:59 -0000
Received: (qmail 44654 invoked by uid 500); 31 Oct 2003 16:20:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44616 invoked by uid 500); 31 Oct 2003 16:20:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44212 invoked from network); 31 Oct 2003 16:20:54 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 31 Oct 2003 16:20:54 -0000
Received: (qmail 11793 invoked from network); 31 Oct 2003 12:50:25 -0000
Received: from unknown (HELO ?172.16.1.54?) (200.187.133.34)
  by messiah.infoage.com.br with SMTP; 31 Oct 2003 12:50:25 -0000
Subject: One access at a time ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene <lucene-user@jakarta.apache.org>
Content-Type: multipart/related; type="multipart/alternative";
 boundary="=-wmeEZdbNBylljXMKHukY"
Message-Id: <1067605722.23965.106.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 31 Oct 2003 11:08:42 -0200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-wmeEZdbNBylljXMKHukY
Content-Type: multipart/alternative; boundary="=-OZf+ZWLAoHq92NBgeI8n"


--=-OZf+ZWLAoHq92NBgeI8n
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello
    I'm building a web application that uses lucene, the problem I'm
facing is that only one user may write to the index each time, and I
simply can't imagine a way to deal with this. Anyone ever did something
like this ? Should I write a non-web app to add documents to the index ?

Thanks in advance for any ideas :)

gui

--=-OZf+ZWLAoHq92NBgeI8n
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 TRANSITIONAL//EN">
<HTML>
<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=UTF-8">
  <META NAME="GENERATOR" CONTENT="GtkHTML/3.0.5">
</HEAD>
<BODY>
Hello<BR>
&nbsp;&nbsp;&nbsp; I'm building a web application that uses lucene, the problem I'm facing is that only one user may write to the index each time, and I simply can't imagine a way to deal with this. Anyone ever did something like this ? Should I write a non-web app to add documents to the index ?<BR>
<BR>
Thanks in advance for any ideas <IMG SRC="cid:1067605722.23958.105.camel@localhost" ALIGN="middle" ALT=":)" BORDER="0"><BR>
<BR>
gui
</BODY>
</HTML>

--=-OZf+ZWLAoHq92NBgeI8n--

--=-wmeEZdbNBylljXMKHukY--


From MAILER-DAEMON Fri Oct 31 13:23:26 2003
Return-Path: 
 <lucene-user-return-5809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55196 invoked from network); 31 Oct 2003 13:23:26 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 13:23:26 -0000
Received: (qmail 72166 invoked by uid 500); 31 Oct 2003 13:23:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72145 invoked by uid 500); 31 Oct 2003 13:23:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72128 invoked from network); 31 Oct 2003 13:23:18 -0000
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by daedalus.apache.org with SMTP; 31 Oct 2003 13:23:18 -0000
Message-ID: <20031031132318.78401.qmail@web12708.mail.yahoo.com>
Received: from [194.152.224.39] by web12708.mail.yahoo.com via HTTP;
 Fri, 31 Oct 2003 05:23:18 PST
Date: Fri, 31 Oct 2003 05:23:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: The best way forward
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031031115151.39375.qmail@web25206.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wow, with 16GB RAM, I would definitely load the index into RAM.  You
can use RAMDirectory(Directory) constructor for that.

As for RAMDrives..... I have no experience with those, but I have heard
of some people using ramfs under Linux.  Ramfs is a memory based
filesystem. Mount it and you have  it.  Unmount it and it is gone.

Otis


--- jt oob <jt2oob@yahoo.co.uk> wrote:
> Hi,
> I am currently indexing around 6 million text
> documents using lucene.
> 
> We have a new server arriving in the next few weeks
> which the queries will be run on. With the following
> stats: Dell 6650 - 4 x Xeon HT CPU's, 16 GB RAM, 36GB
> SCSI Ultra160 Hdd. (connected to 1.5TB IDE RAID with
> actual source documents)
> 
> What is the best strategy for fast searches?
> Do I need to write a server which holds the indexes in
> a RAMDirectory?
> 
> When should RAMDirectories generally be used? I have
> read several articles saying that RAMDrives under
> linux
> are rarely a good idea, but am not sure on how to
> interpret this in the context of lucene and
> RAMDirectories.
> 
> I have looked over the documentation I have found on
> the lucene web site - hope i haven't missed something.
> 
> Is there a general guide to building large search
> engines with lucene? I am very new to the whole field.
> 
> Thanks for the great software!
> jt


__________________________________
Do you Yahoo!?
Exclusive Video Premiere - Britney Spears
http://launch.yahoo.com/promos/britneyspears/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 13:42:39 2003
Return-Path: 
 <lucene-user-return-5810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65399 invoked from network); 31 Oct 2003 13:42:39 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 13:42:39 -0000
Received: (qmail 12132 invoked by uid 500); 31 Oct 2003 13:42:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12101 invoked by uid 500); 31 Oct 2003 13:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12083 invoked from network); 31 Oct 2003 13:42:30 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 31 Oct 2003 13:42:30 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Fri, 31 Oct 2003 07:42:51 -0500
Message-ID: <002601c39fb5$a7428f80$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: <lucene-user@jakarta.apache.org>
Subject: Seting boost fsactor for keywords in one field
Date: Fri, 31 Oct 2003 14:48:22 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0023_01C39FBE.07D55550"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0023_01C39FBE.07D55550
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have an index with data about images (those data are obtained from =
database). In Document among other fields I have one field that I use =
for sorting. That field could take 10 different values (1 to 10). I set =
boost for that field like following:=20

viewPriority:1^10
viewPriority:2^9
....
viewPriority:10^1

Unfortunately, search engine is not always retrieving results properly =
sorted. For some queries it is OK, but for some it isn't.=20

Is this some kind of bug? Does anybody have similiar expirience? If =
somebody knows how to overcome this problem I would appriciate help.


------=_NextPart_000_0023_01C39FBE.07D55550--



From MAILER-DAEMON Fri Oct 31 14:18:06 2003
Return-Path: 
 <lucene-user-return-5812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88115 invoked from network); 31 Oct 2003 14:18:06 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 14:18:06 -0000
Received: (qmail 82420 invoked by uid 500); 31 Oct 2003 14:17:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82384 invoked by uid 500); 31 Oct 2003 14:17:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82316 invoked from network); 31 Oct 2003 14:17:55 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 31 Oct 2003 14:17:55 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net
 [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id C3E23109462
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 15:14:58 +0100 (CET)
Message-ID: <3FA26EB5.9080604@imente.com>
Date: Fri, 31 Oct 2003 15:16:21 +0100
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US;
 rv:1.5) Gecko/20030925
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Remove a token from a field
References: <93BEB0DC-0B8B-11D8-BCDC-000393A564E6@ehatchersolutions.com>
In-Reply-To: <93BEB0DC-0B8B-11D8-BCDC-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I know there is no way to update a document without doing a delete/add. 
But I'm asking if this feature is viable to be implemented in an 
efficient way.

Thanks

Erik Hatcher wrote:

> On Friday, October 31, 2003, at 03:53  AM, Albert Vila Puig wrote:
>
>> Hi,
>>
>>    Is there a way to remove a token from a document field entry?. 
>> For  example, I've got a UnStored field in my index and I want to 
>> remove a  token from this field without doing the delete and add 
>> document  (because I'm inserting the documents by date and I don't 
>> want to loose  that sort).
>>
>>    Is there an easy way to do that? Has anybody already started  
>> implementing it? Any suggestions about if I can do it in an 
>> efficient  way? Maybe with another deletable file by fields?
>
>
> Presently there is no way to "update" a document without doing a  
> delete/add.
>
> The sorting issue is an interesting one.  By design, of course, 
> Lucene  is meant to sort by score - period.  There has been an 
> interesting  implementation of a custom searcher posted about this 
> topic in the  recent past:
>
>     http://cvs.sourceforge.net/viewcvs.py/weblucene/weblucene/webapp/WEB- 
> INF/src/org/apache/lucene/search/ 
> IndexOrderSearcher.java?rev=1.2&view=auto
>
> It would be a performance hit to access the contents of a document  
> during searching to pull the contents of a field though, but that  
> search method shown could be adapted to do so and sort by a 
> particular  field during searching.
>
> I tend to suggest that date sorting is something that should be done 
> on  a data set culled from hits after searching is complete rather 
> than  during the searching operation itself.  There are games that 
> could be  played with boosts and perhaps a custom Similarity 
> implementation that  might be able to pull off date sorting somehow 
> too - I'll add this to  my list of interesting things to try out for fun.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 14:16:40 2003
Return-Path: 
 <lucene-user-return-5811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87411 invoked from network); 31 Oct 2003 14:16:40 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 14:16:40 -0000
Received: (qmail 73775 invoked by uid 500); 31 Oct 2003 14:16:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73754 invoked by uid 500); 31 Oct 2003 14:16:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73702 invoked from network); 31 Oct 2003 14:16:29 -0000
Received: from unknown (HELO utd-mail01.UTD.COM) (12.148.255.202)
  by daedalus.apache.org with SMTP; 31 Oct 2003 14:16:29 -0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Seting boost fsactor for keywords in one field
Date: Fri, 31 Oct 2003 09:16:30 -0500
Message-ID: <38B600C320F5FC4AA62D128E79532B8906A5F0@utd-mail01.utd.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Seting boost fsactor for keywords in one field
Thread-Index: AcOftNhDrmWh7r4gQYig6JdT+BptaAABLVPg
From: "Jason Haruska" <jharuska@UpToDate.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The boost factor is just one part of the relevance equation. It adjusts
the weight of the term for the query. It can still be trumped by other
more relevant parts of the query. Try adjusting the boost to larger
values.

I do have one question. If you know the order of documents to be
retrieved, why use Lucene? Why not just display the results to the user
in your hand picked order?

-----Original Message-----
From: Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]=20
Sent: Friday, October 31, 2003 8:48 AM
To: lucene-user@jakarta.apache.org
Subject: Seting boost fsactor for keywords in one field

I have an index with data about images (those data are obtained from
database). In Document among other fields I have one field that I use
for sorting. That field could take 10 different values (1 to 10). I set
boost for that field like following:=20

viewPriority:1^10
viewPriority:2^9
....
viewPriority:10^1

Unfortunately, search engine is not always retrieving results properly
sorted. For some queries it is OK, but for some it isn't.=20

Is this some kind of bug? Does anybody have similiar expirience? If
somebody knows how to overcome this problem I would appriciate help.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 15:43:09 2003
Return-Path: 
 <lucene-user-return-5814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39709 invoked from network); 31 Oct 2003 15:43:09 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 15:43:09 -0000
Received: (qmail 54250 invoked by uid 500); 31 Oct 2003 15:43:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54173 invoked by uid 500); 31 Oct 2003 15:42:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54159 invoked from network); 31 Oct 2003 15:42:59 -0000
Received: from unknown (HELO tomts13-srv.bellnexxia.net) (209.226.175.34)
  by daedalus.apache.org with SMTP; 31 Oct 2003 15:42:59 -0000
Received: from everest.konova.com ([67.69.200.122])
          by tomts13-srv.bellnexxia.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id
 <20031031154301.HMW1032.tomts13-srv.bellnexxia.net@everest.konova.com>
          for <lucene-user@jakarta.apache.org>;
          Fri, 31 Oct 2003 10:43:01 -0500
Received: from 6-allhosts (IDENT:root@everest.konova.com [10.10.10.2])
	by everest.konova.com (8.11.6/8.11.6) with ESMTP id h9VFgu325837
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 10:42:56 -0500
Subject: Re: The best way forward
From: Philippe Laflamme <plaflamme@konova.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20031031132318.78401.qmail@web12708.mail.yahoo.com>
References: <20031031132318.78401.qmail@web12708.mail.yahoo.com>
Content-Type: text/plain
Message-Id: <1067614987.31059.17.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 
Date: Fri, 31 Oct 2003 10:43:08 -0500
Content-Transfer-Encoding: 7bit
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Having more RAM does not necessarily mean you can use it in your
process. Keep in mind that a Xeon is a 32 bit x86 architecture, hence
can only physically address 4GB of RAM.

This means that theoretically a process cannot access more than 4GB (all
of them accounted for can add up to 16GB and more due to swap).

I say theoretically because there are other limitations. Last I heard,
Linux can only access 2GB of RAM per process. This is even worse for a
Java VM since it needs to allocate its memory in one chunk. 

This Java VM limitation makes the available memory even lower: look at
/proc/<pid>/maps of a Java process, you'll see that dynamic libraries
create holes in the memory map that a VM cannot access. A Java VM on
Linux is limited to approximatly 1.5GB. Try it: java -Xmx2000m will fail
on a 32 bit Linux machine. There might be some kernel pathes that I am
not aware of though.

If your 6M docs take up more than what you can access in one process,
you'll have to split up your processing into multiple VMs. Each VM could
load a RAMDirectory index that fits into the limitations. Then you'd
have another process that could access these "distributed" indexes.

Yes 16GB of RAM is defenitly fun... on a 64 bit architecture.

Phil

On Fri, 2003-10-31 at 08:23, Otis Gospodnetic wrote:
> Wow, with 16GB RAM, I would definitely load the index into RAM.  You
> can use RAMDirectory(Directory) constructor for that.
> 
> As for RAMDrives..... I have no experience with those, but I have heard
> of some people using ramfs under Linux.  Ramfs is a memory based
> filesystem. Mount it and you have  it.  Unmount it and it is gone.
> 
> Otis
> 
> 
> --- jt oob <jt2oob@yahoo.co.uk> wrote:
> > Hi,
> > I am currently indexing around 6 million text
> > documents using lucene.
> > 
> > We have a new server arriving in the next few weeks
> > which the queries will be run on. With the following
> > stats: Dell 6650 - 4 x Xeon HT CPU's, 16 GB RAM, 36GB
> > SCSI Ultra160 Hdd. (connected to 1.5TB IDE RAID with
> > actual source documents)
> > 
> > What is the best strategy for fast searches?
> > Do I need to write a server which holds the indexes in
> > a RAMDirectory?
> > 
> > When should RAMDirectories generally be used? I have
> > read several articles saying that RAMDrives under
> > linux
> > are rarely a good idea, but am not sure on how to
> > interpret this in the context of lucene and
> > RAMDirectories.
> > 
> > I have looked over the documentation I have found on
> > the lucene web site - hope i haven't missed something.
> > 
> > Is there a general guide to building large search
> > engines with lucene? I am very new to the whole field.
> > 
> > Thanks for the great software!
> > jt
> 
> 
> __________________________________
> Do you Yahoo!?
> Exclusive Video Premiere - Britney Spears
> http://launch.yahoo.com/promos/britneyspears/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 15:38:08 2003
Return-Path: 
 <lucene-user-return-5813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36991 invoked from network); 31 Oct 2003 15:38:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 15:38:08 -0000
Received: (qmail 47715 invoked by uid 500); 31 Oct 2003 15:38:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47368 invoked by uid 500); 31 Oct 2003 15:37:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47351 invoked from network); 31 Oct 2003 15:37:57 -0000
Received: from unknown (HELO DIOSPHERE.COM) (64.239.26.10)
  by daedalus.apache.org with SMTP; 31 Oct 2003 15:37:57 -0000
Received: from deki ([195.250.117.20]) by DIOSPHERE.COM with MailEnable ESMTP;
 Fri, 31 Oct 2003 09:38:19 -0500
Message-ID: <003c01c39fc5$c8dc99a0$1601a8c0@deki>
From: "Dragan Jotanovic" <Dragan.Jotanovic@diosphere.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <38B600C320F5FC4AA62D128E79532B8906A5F0@utd-mail01.utd.com>
Subject: Re: Seting boost fsactor for keywords in one field
Date: Fri, 31 Oct 2003 16:43:50 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>I do have one question. If you know the order of >documents to be
>retrieved, why use Lucene? Why not just display the >results to the user
>in your hand picked order?

I need a very fast search engine because I am working with thousends of
images. Lucine is providing me with that.

Does somebody know how to set boost for document during indexing time? It
seams that it is not working with document.setBoost().  I suppose that I
should switch off Lucenes scorer to get results sorted by my boost criteria.
Does somebody know how to do this.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 15:49:48 2003
Return-Path: 
 <lucene-user-return-5815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43675 invoked from network); 31 Oct 2003 15:49:48 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 15:49:48 -0000
Received: (qmail 68315 invoked by uid 500); 31 Oct 2003 15:49:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68276 invoked by uid 500); 31 Oct 2003 15:49:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68218 invoked from network); 31 Oct 2003 15:49:36 -0000
Received: from unknown (HELO utd-mail01.UTD.COM) (12.148.255.202)
  by daedalus.apache.org with SMTP; 31 Oct 2003 15:49:36 -0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Seting boost fsactor for keywords in one field
Date: Fri, 31 Oct 2003 10:49:38 -0500
Message-ID: <38B600C320F5FC4AA62D128E79532B8906A5F2@utd-mail01.utd.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Seting boost fsactor for keywords in one field
Thread-Index: AcOfxPmrmTOQhr1TQkGzK6UciVLgEwAAV4kg
From: "Jason Haruska" <jharuska@UpToDate.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another way to get the results you want it to store "ViewPriority" in
the index. Before you return the results to the user, sort the list by
this field outside of lucene.

-----Original Message-----
From: Dragan Jotanovic [mailto:Dragan.Jotanovic@diosphere.com]=20
Sent: Friday, October 31, 2003 10:44 AM
To: Lucene Users List
Subject: Re: Seting boost fsactor for keywords in one field

>I do have one question. If you know the order of >documents to be
>retrieved, why use Lucene? Why not just display the >results to the
user
>in your hand picked order?

I need a very fast search engine because I am working with thousends of
images. Lucine is providing me with that.

Does somebody know how to set boost for document during indexing time?
It
seams that it is not working with document.setBoost().  I suppose that I
should switch off Lucenes scorer to get results sorted by my boost
criteria.
Does somebody know how to do this.





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 17:14:49 2003
Return-Path: 
 <lucene-user-return-5817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88672 invoked from network); 31 Oct 2003 17:14:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 17:14:49 -0000
Received: (qmail 71261 invoked by uid 500); 31 Oct 2003 17:14:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71234 invoked by uid 500); 31 Oct 2003 17:14:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71183 invoked from network); 31 Oct 2003 17:14:17 -0000
Received: from unknown (HELO precieuse.cirano.qc.ca) (207.162.57.25)
  by daedalus.apache.org with SMTP; 31 Oct 2003 17:14:17 -0000
Received: from savinien.cirano.qc.ca (savinien.cirano.qc.ca [207.162.57.133])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id h9VHEKN18718
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 12:14:20 -0500
Received: from localhost (vauchers@localhost)
	by savinien.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id h9VHEKV05242
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 12:14:20 -0500
Date: Fri, 31 Oct 2003 12:14:20 -0500 (EST)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: One access at a time ?
In-Reply-To: <1067605722.23965.106.camel@localhost>
Message-ID: <Pine.LNX.4.44.0310311212100.4981-100000@savinien.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can have a central component (a singleton for example) that can be 
responsible for writes to the index.

sv

On 31 Oct 2003, Guilherme Barile wrote:

> Hello
>     I'm building a web application that uses lucene, the problem I'm
> facing is that only one user may write to the index each time, and I
> simply can't imagine a way to deal with this. Anyone ever did something
> like this ? Should I write a non-web app to add documents to the index ?
> 
> Thanks in advance for any ideas :)
> 
> gui
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 17:55:30 2003
Return-Path: 
 <lucene-user-return-5818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7591 invoked from network); 31 Oct 2003 17:55:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 17:55:30 -0000
Received: (qmail 46117 invoked by uid 500); 31 Oct 2003 17:55:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45916 invoked by uid 500); 31 Oct 2003 17:55:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45903 invoked from network); 31 Oct 2003 17:55:18 -0000
Received: from unknown (HELO five.zapatec.com) (66.117.150.100)
  by daedalus.apache.org with SMTP; 31 Oct 2003 17:55:18 -0000
Received: from rlx11.zapatec.com (rlx11.pr.zapatec.com [192.168.1.132])
	by five.zapatec.com (Postfix) with ESMTP id 0ABE65D23
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 09:55:22 -0800 (PST)
Received: (from dror@localhost)
	by rlx11.zapatec.com (8.12.3/8.12.3/Submit) id h9VHtLcO080571
	for lucene-user@jakarta.apache.org; Fri, 31 Oct 2003 09:55:21 -0800 (PST)
	(envelope-from dror)
Date: Fri, 31 Oct 2003 09:55:21 -0800
From: Dror Matalon <dror@zapatec.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: The best way forward
Message-ID: <20031031175521.GD79444@rlx11.zapatec.com>
References: <20031031132318.78401.qmail@web12708.mail.yahoo.com>
 <1067614987.31059.17.camel@localhost>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1067614987.31059.17.camel@localhost>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There was a recent discussion on the postgres PERFORMENCE mailing list
(check out their archive) about using over 4GM of ram on linux. AFAIR
the gist of it was that while a single process can't use more than 4G,
the kernel can and *will* use the additional memory for caching. 

So I'd recommend that you just use the 1.5GB for Lucene, run some kind
of automated tests, run vmstat/iostat and see if your disks are getting
hit.

That should be much less complicated that RAMDirectories, spliting JVMs,
etc.

Regards,

Dror

On Fri, Oct 31, 2003 at 10:43:08AM -0500, Philippe Laflamme wrote:
> Having more RAM does not necessarily mean you can use it in your
> process. Keep in mind that a Xeon is a 32 bit x86 architecture, hence
> can only physically address 4GB of RAM.
> 
> This means that theoretically a process cannot access more than 4GB (all
> of them accounted for can add up to 16GB and more due to swap).
> 
> I say theoretically because there are other limitations. Last I heard,
> Linux can only access 2GB of RAM per process. This is even worse for a
> Java VM since it needs to allocate its memory in one chunk. 
> 
> This Java VM limitation makes the available memory even lower: look at
> /proc/<pid>/maps of a Java process, you'll see that dynamic libraries
> create holes in the memory map that a VM cannot access. A Java VM on
> Linux is limited to approximatly 1.5GB. Try it: java -Xmx2000m will fail
> on a 32 bit Linux machine. There might be some kernel pathes that I am
> not aware of though.
> 
> If your 6M docs take up more than what you can access in one process,
> you'll have to split up your processing into multiple VMs. Each VM could
> load a RAMDirectory index that fits into the limitations. Then you'd
> have another process that could access these "distributed" indexes.
> 
> Yes 16GB of RAM is defenitly fun... on a 64 bit architecture.
> 
> Phil
> 
> On Fri, 2003-10-31 at 08:23, Otis Gospodnetic wrote:
> > Wow, with 16GB RAM, I would definitely load the index into RAM.  You
> > can use RAMDirectory(Directory) constructor for that.
> > 
> > As for RAMDrives..... I have no experience with those, but I have heard
> > of some people using ramfs under Linux.  Ramfs is a memory based
> > filesystem. Mount it and you have  it.  Unmount it and it is gone.
> > 
> > Otis
> > 
> > 
> > --- jt oob <jt2oob@yahoo.co.uk> wrote:
> > > Hi,
> > > I am currently indexing around 6 million text
> > > documents using lucene.
> > > 
> > > We have a new server arriving in the next few weeks
> > > which the queries will be run on. With the following
> > > stats: Dell 6650 - 4 x Xeon HT CPU's, 16 GB RAM, 36GB
> > > SCSI Ultra160 Hdd. (connected to 1.5TB IDE RAID with
> > > actual source documents)
> > > 
> > > What is the best strategy for fast searches?
> > > Do I need to write a server which holds the indexes in
> > > a RAMDirectory?
> > > 
> > > When should RAMDirectories generally be used? I have
> > > read several articles saying that RAMDrives under
> > > linux
> > > are rarely a good idea, but am not sure on how to
> > > interpret this in the context of lucene and
> > > RAMDirectories.
> > > 
> > > I have looked over the documentation I have found on
> > > the lucene web site - hope i haven't missed something.
> > > 
> > > Is there a general guide to building large search
> > > engines with lucene? I am very new to the whole field.
> > > 
> > > Thanks for the great software!
> > > jt
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > Exclusive Video Premiere - Britney Spears
> > http://launch.yahoo.com/promos/britneyspears/
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From MAILER-DAEMON Fri Oct 31 21:33:03 2003
Return-Path: 
 <lucene-user-return-5819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8276 invoked from network); 31 Oct 2003 21:33:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 31 Oct 2003 21:33:03 -0000
Received: (qmail 56870 invoked by uid 500); 31 Oct 2003 21:32:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56842 invoked by uid 500); 31 Oct 2003 21:32:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56829 invoked from network); 31 Oct 2003 21:32:46 -0000
Received: from unknown (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by daedalus.apache.org with SMTP; 31 Oct 2003 21:32:46 -0000
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by
 mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org;
 Fri, 31 Oct 2003 16:32:51 -0500
Received: from ny2528.corp.bloomberg.com (ny2528.bloomberg.com [172.20.73.29])
	by ns9.bloomberg.com (8.11.7+Sun/8.10.2) with ESMTP id h9VLWoj02228
	for <lucene-user@jakarta.apache.org>; Fri, 31 Oct 2003 16:32:51 -0500 (EST)
Subject: crash in Lucene
Date: Fri, 31 Oct 2003 16:32:50 -0500
Message-Id: 
 <33D5BBBB077CAD47AA4F225359F4A5E4012410CD@ny2528.corp.bloomberg.com>
MIME-Version: 1.0
X-MS-Has-Attach: 
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
X-MS-TNEF-Correlator: 
Thread-Topic: The best way forward
content-class: urn:content-classes:message
Thread-Index: AcOf2FAzTj3Es5UFRtaCMTm0dDiQnQAHdJjA
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i get this error when indexing a collection of 120,000 small text =
documents.

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.close(Unknown Source)
 	at org.apache.lucene.demo.IndexFiles.main(IndexFiles.java:73)=20

the index appears to be usable when i run queries on it. i have tried =
running the code in Borland JBuilder 9 in the debugger and i don't get =
anything useful from the exception. any suggestions? the 120,000 =
documents are all in one directory and i am running under Windows 2000 =
using the Sun 1.4.2 JVM.

Herb....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


